{"items":[{"tags":["java","dll"],"owner":{"account_id":3805163,"reputation":910,"user_id":3157807,"display_name":"simpsons3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689600569,"creation_date":1689600355,"question_id":76704943,"body_markdown":"I&#39;m trying to import a `.DLL` into Java project by using jni4net.\r\n\r\nCommand I run: `proxygen [path_to_my_dll_file] -wd [directory_output_files]`\r\n\r\nCommand return error\r\n\r\n```\r\nSystem.BadImageFormatException: Could not load file or assembly &#39;file:///D:\\Projects\\UARTCommunicator\\UARTCommunicator\\Release\\UARTCommunicator.dll&#39; or one of its dependencies. The module was expected to contain an assembly manifest.\r\nFile name: &#39;file:///D:\\Projects\\UARTCommunicator\\UARTCommunicator\\Release\\UARTCommunicator.dll&#39;\r\n   at System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\r\n   at System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, RuntimeAssembly reqAssembly, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\r\n   at System.Reflection.RuntimeAssembly.InternalLoadFrom(String assemblyFile, Evidence securityEvidence, Byte[] hashValue, AssemblyHashAlgorithm hashAlgorithm, Boolean forIntrospection, Boolean suppressSecurityChecks, StackCrawlMark&amp; stackMark)\r\n   at System.Reflection.Assembly.LoadFrom(String assemblyFile)\r\n   at net.sf.jni4net.proxygen.model.Repository.LoadFile(String file)\r\n   at net.sf.jni4net.proxygen.model.Repository.LoadAssemblies()\r\n   at net.sf.jni4net.proxygen.model.Repository.Register()\r\n   at net.sf.jni4net.proxygen.Program.Work(String[] args)\r\n   at net.sf.jni4net.proxygen.Program.Main(String[] args)\r\n\r\nWRN: Assembly binding logging is turned OFF.\r\nTo enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.\r\nNote: There is some performance penalty associated with assembly bind failure logging.\r\nTo turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].\r\n```\r\n\r\nI&#39;ve done some researches and all of its said because different of platform x64 and x86 but I have checked again that my `.dll` file was built in x64.\r\n\r\n- I also tested with JNA (Java Native Access), and it works. But now, I need to test my dll with jni4net (or normal JNI)\r\n\r\n- I also try to use absolute path when run `proxygen` or use double backslash `\\\\` but none of them work\r\n\r\nI&#39;m new to Java and C++ with .dll. Can someone help please","title":"jni4net return error System.BadImageFormatException: Could not load file or assembly or one of its dependencies","body":"<p>I'm trying to import a <code>.DLL</code> into Java project by using jni4net.</p>\n<p>Command I run: <code>proxygen [path_to_my_dll_file] -wd [directory_output_files]</code></p>\n<p>Command return error</p>\n<pre><code>System.BadImageFormatException: Could not load file or assembly 'file:///D:\\Projects\\UARTCommunicator\\UARTCommunicator\\Release\\UARTCommunicator.dll' or one of its dependencies. The module was expected to contain an assembly manifest.\nFile name: 'file:///D:\\Projects\\UARTCommunicator\\UARTCommunicator\\Release\\UARTCommunicator.dll'\n   at System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\n   at System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, RuntimeAssembly reqAssembly, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)\n   at System.Reflection.RuntimeAssembly.InternalLoadFrom(String assemblyFile, Evidence securityEvidence, Byte[] hashValue, AssemblyHashAlgorithm hashAlgorithm, Boolean forIntrospection, Boolean suppressSecurityChecks, StackCrawlMark&amp; stackMark)\n   at System.Reflection.Assembly.LoadFrom(String assemblyFile)\n   at net.sf.jni4net.proxygen.model.Repository.LoadFile(String file)\n   at net.sf.jni4net.proxygen.model.Repository.LoadAssemblies()\n   at net.sf.jni4net.proxygen.model.Repository.Register()\n   at net.sf.jni4net.proxygen.Program.Work(String[] args)\n   at net.sf.jni4net.proxygen.Program.Main(String[] args)\n\nWRN: Assembly binding logging is turned OFF.\nTo enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.\nNote: There is some performance penalty associated with assembly bind failure logging.\nTo turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].\n</code></pre>\n<p>I've done some researches and all of its said because different of platform x64 and x86 but I have checked again that my <code>.dll</code> file was built in x64.</p>\n<ul>\n<li><p>I also tested with JNA (Java Native Access), and it works. But now, I need to test my dll with jni4net (or normal JNI)</p>\n</li>\n<li><p>I also try to use absolute path when run <code>proxygen</code> or use double backslash <code>\\\\</code> but none of them work</p>\n</li>\n</ul>\n<p>I'm new to Java and C++ with .dll. Can someone help please</p>\n"},{"tags":["java","keycloak","keycloak-services"],"answers":[{"comments":[{"owner":{"account_id":3107091,"reputation":96,"user_id":2629655,"display_name":"sandy.sk"},"score":0,"creation_date":1626878153,"post_id":49554628,"comment_id":121010127,"body_markdown":"If anyone is looking for the latest link it can be found here : [https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource](https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource)","body":"If anyone is looking for the latest link it can be found here : <a href=\"https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_&zwnj;&#8203;clients_resource</a>"},{"owner":{"account_id":322000,"reputation":4993,"user_id":641159,"display_name":"C&#233;dric Couralet"},"score":0,"creation_date":1626879547,"post_id":49554628,"comment_id":121010763,"body_markdown":"@sandy.sk thank you, I will update the answer","body":"@sandy.sk thank you, I will update the answer"}],"tags":[],"owner":{"account_id":322000,"reputation":4993,"user_id":641159,"display_name":"C&#233;dric Couralet"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1626879579,"creation_date":1522321978,"answer_id":49554628,"question_id":49552011,"body_markdown":"One way to do it is via the api :\r\n\r\n- Get token for an account with the rights to add client to the realm\r\n\r\n\r\n        POST https://&lt;keycloak-url&gt;/auth/realms/master/protocol/openid-connect/token\r\n        Host: &lt;keycloak-url&gt;\r\n        Content-Type: application/x-www-form-urlencoded\r\n        Cache-Control: no-cache\r\n         \r\n        client_id=admin-cli&amp;grant_type=password&amp;username=&lt;user&gt;&amp;password=&lt;password&gt;\r\n\r\n\r\n\r\n- Add a new client (the request body comes from an export of an existing client)\r\n\r\n        POST https://keycloak-url/auth/admin/realms/&lt;realm-name&gt;/clients\r\n        Host: &lt;keycloak-url&gt;\r\n        Content-Type: application/json\r\n        Cache-Control: no-cache\r\n        Authorization: Bearer &lt;token&gt;\r\n    \r\n        {\r\n             &quot;clientId&quot;: &quot;test-add&quot;,\r\n             &quot;[...]&quot;\r\n         }\r\n\r\nThe response status should be a `201` with an header location to the new client.\r\n\r\nDocumentation can be found here : https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource","title":"Create Client programmatically in Keycloak","body":"<p>One way to do it is via the api :</p>\n<ul>\n<li><p>Get token for an account with the rights to add client to the realm</p>\n<pre><code>  POST https://&lt;keycloak-url&gt;/auth/realms/master/protocol/openid-connect/token\n  Host: &lt;keycloak-url&gt;\n  Content-Type: application/x-www-form-urlencoded\n  Cache-Control: no-cache\n\n  client_id=admin-cli&amp;grant_type=password&amp;username=&lt;user&gt;&amp;password=&lt;password&gt;\n</code></pre>\n</li>\n<li><p>Add a new client (the request body comes from an export of an existing client)</p>\n<pre><code>  POST https://keycloak-url/auth/admin/realms/&lt;realm-name&gt;/clients\n  Host: &lt;keycloak-url&gt;\n  Content-Type: application/json\n  Cache-Control: no-cache\n  Authorization: Bearer &lt;token&gt;\n\n  {\n       &quot;clientId&quot;: &quot;test-add&quot;,\n       &quot;[...]&quot;\n   }\n</code></pre>\n</li>\n</ul>\n<p>The response status should be a <code>201</code> with an header location to the new client.</p>\n<p>Documentation can be found here : <a href=\"https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/14.0/rest-api/index.html#_clients_resource</a></p>\n"},{"tags":[],"owner":{"account_id":4831051,"reputation":1234,"user_id":3899245,"display_name":"G&#246;khan Ayhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523518716,"creation_date":1523518716,"answer_id":49790632,"question_id":49552011,"body_markdown":"I did it like this,\r\n\r\n    public boolean createClient(String clientId, String realmName) throws IOException {\r\n        try {\r\n            Keycloak keycloakInstanceDefault = KeycloakInstance.getInstance();\r\n            RealmResource createdRealmResource = keycloakInstanceDefault.realms().realm(realmName);\r\n            ClientRepresentation clientRepresentation = new ClientRepresentation();\r\n            clientRepresentation.setClientId(clientId);\r\n            clientRepresentation.setProtocol(&quot;openid-connect&quot;);\r\n            clientRepresentation.setSecret(clientId);\r\n            createdRealmResource.clients().create(clientRepresentation);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n\r\nKeycloakInstance.getInstance(); returns Keycloak Object.","title":"Create Client programmatically in Keycloak","body":"<p>I did it like this,</p>\n\n<pre><code>public boolean createClient(String clientId, String realmName) throws IOException {\n    try {\n        Keycloak keycloakInstanceDefault = KeycloakInstance.getInstance();\n        RealmResource createdRealmResource = keycloakInstanceDefault.realms().realm(realmName);\n        ClientRepresentation clientRepresentation = new ClientRepresentation();\n        clientRepresentation.setClientId(clientId);\n        clientRepresentation.setProtocol(\"openid-connect\");\n        clientRepresentation.setSecret(clientId);\n        createdRealmResource.clients().create(clientRepresentation);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>KeycloakInstance.getInstance(); returns Keycloak Object.</p>\n"},{"comments":[{"owner":{"account_id":1642990,"reputation":189,"user_id":1515090,"display_name":"Nail Khunafin"},"score":0,"creation_date":1700065494,"post_id":58968350,"comment_id":136609659,"body_markdown":"TOKEN=$(curl -s -d &#39;username=admin&amp;password=admin&amp;grant_type=password&amp;client_id=admin-cli&#39; &#39;http://localhost:8090/realms/master/protocol/openid-connect/token&#39; | jq &#39;.token_type + &quot; &quot; + .access_token&#39;)","body":"TOKEN=$(curl -s -d &#39;username=admin&amp;password=admin&amp;grant_type=password&amp;client_id&zwnj;&#8203;=admin-cli&#39; &#39;<a href=\"http://localhost:8090/realms/master/protocol/openid-connect/token\" rel=\"nofollow noreferrer\">localhost:8090/realms/master/protocol/openid-connect/token</a>&#39; | jq &#39;.token_type + &quot; &quot; + .access_token&#39;)"}],"tags":[],"owner":{"account_id":10455298,"reputation":71,"user_id":7707636,"display_name":"Elieser Jose Pereira Reyes"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652925220,"creation_date":1574316677,"answer_id":58968350,"question_id":49552011,"body_markdown":"### Using curl\r\n\r\n```\r\n#get token\r\nRESULT=`curl --data &quot;username=&lt;your_admin_user&gt;&amp;password=&lt;your_passwod&gt;&amp;grant_type=password&amp;client_id=admin-cli&quot; http://localhost:8090/auth/realms/master/protocol/openid-connect/token`\r\nTOKEN=`echo $RESULT | sed &#39;s/.*access_token&quot;:&quot;//g&#39; | sed &#39;s/&quot;.*//g&#39;`\r\n#create user\r\ncurl -X POST -d &#39;{ &quot;clientId&quot;: &quot;myclient&quot; }&#39; -H &quot;Content-Type:application/json&quot; -H &quot;Authorization: bearer ${TOKEN}&quot; http://localhost:8090/auth/realms/master/clients-registrations/default\r\n```","title":"Create Client programmatically in Keycloak","body":"<h3>Using curl</h3>\n<pre><code>#get token\nRESULT=`curl --data &quot;username=&lt;your_admin_user&gt;&amp;password=&lt;your_passwod&gt;&amp;grant_type=password&amp;client_id=admin-cli&quot; http://localhost:8090/auth/realms/master/protocol/openid-connect/token`\nTOKEN=`echo $RESULT | sed 's/.*access_token&quot;:&quot;//g' | sed 's/&quot;.*//g'`\n#create user\ncurl -X POST -d '{ &quot;clientId&quot;: &quot;myclient&quot; }' -H &quot;Content-Type:application/json&quot; -H &quot;Authorization: bearer ${TOKEN}&quot; http://localhost:8090/auth/realms/master/clients-registrations/default\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8798584,"reputation":1,"user_id":6575652,"display_name":"Nishen Peiris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689600174,"creation_date":1689600174,"answer_id":76704912,"question_id":49552011,"body_markdown":"You can accomplish this via the **client-credentials** grant type. For this, your client needs to be configured as follows:\r\n\r\n- Turn **ON** the **Service Accounts Enabled** option under the **Settings** tab of your client.\r\n\r\n- Assign necessary **realm-management** client roles to your client. For this, switch to **Service Admin Roles** tab, select **realm-management** from the dropdown, and assign **manage-clients** role under **Client Roles**.\r\n\r\nThen, you should be able to use this client to create another client in the same realm. Please refer to the below sample curls.\r\n\r\nRetrieve a token:\r\n\r\n    curl --location &#39;&lt;Keycloak URL&gt;/auth/realms/&lt;realm&gt;/protocol/openid-connect/token&#39; \\\r\n            --header &#39;Accept: application/json&#39; \\\r\n            --header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n            --header &#39;Authorization: Basic &lt;Base64 encode(client ID:client secret)&gt;&#39; \\\r\n            --data &#39;grant_type=client_credentials&amp;scope=openid&#39;\r\n\r\nCreate the client:\r\n\r\n        curl --location &#39;&lt;Keycloak URL&gt;/auth/admin/realms/&lt;realm&gt;/clients&#39; \\\r\n    --header &#39;Authorization: Bearer &lt;token retrieved above&gt;&#39; \\\r\n    --header &#39;Accept: application/json&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data &#39;{&lt;export of your existing client&gt;}&#39;","title":"Create Client programmatically in Keycloak","body":"<p>You can accomplish this via the <strong>client-credentials</strong> grant type. For this, your client needs to be configured as follows:</p>\n<ul>\n<li><p>Turn <strong>ON</strong> the <strong>Service Accounts Enabled</strong> option under the <strong>Settings</strong> tab of your client.</p>\n</li>\n<li><p>Assign necessary <strong>realm-management</strong> client roles to your client. For this, switch to <strong>Service Admin Roles</strong> tab, select <strong>realm-management</strong> from the dropdown, and assign <strong>manage-clients</strong> role under <strong>Client Roles</strong>.</p>\n</li>\n</ul>\n<p>Then, you should be able to use this client to create another client in the same realm. Please refer to the below sample curls.</p>\n<p>Retrieve a token:</p>\n<pre><code>curl --location '&lt;Keycloak URL&gt;/auth/realms/&lt;realm&gt;/protocol/openid-connect/token' \\\n        --header 'Accept: application/json' \\\n        --header 'Content-Type: application/x-www-form-urlencoded' \\\n        --header 'Authorization: Basic &lt;Base64 encode(client ID:client secret)&gt;' \\\n        --data 'grant_type=client_credentials&amp;scope=openid'\n</code></pre>\n<p>Create the client:</p>\n<pre><code>    curl --location '&lt;Keycloak URL&gt;/auth/admin/realms/&lt;realm&gt;/clients' \\\n--header 'Authorization: Bearer &lt;token retrieved above&gt;' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{&lt;export of your existing client&gt;}'\n</code></pre>\n"}],"owner":{"account_id":10212782,"reputation":667,"user_id":7539387,"accept_rate":40,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12204,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1689600174,"creation_date":1522314394,"question_id":49552011,"body_markdown":"How do I create clients programmatically in keycloak using java application?\r\n","title":"Create Client programmatically in Keycloak","body":"<p>How do I create clients programmatically in keycloak using java application?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689598874,"post_id":76704516,"comment_id":135231874,"body_markdown":"Show us the Gradle (or Maven) build script and Eclipse run task configuration","body":"Show us the Gradle (or Maven) build script and Eclipse run task configuration"},{"owner":{"account_id":7327271,"reputation":529,"user_id":5581317,"display_name":"takeoffjava"},"score":0,"creation_date":1689600415,"post_id":76704516,"comment_id":135232270,"body_markdown":"I have updated my question with the screenshot you asked pls verify","body":"I have updated my question with the screenshot you asked pls verify"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689605787,"post_id":76704516,"comment_id":135233574,"body_markdown":"Does the Eclipse run target have some way to specify the runtime project or classpath? I&#39;m not sure if an incorrect config would generate an error, it would in IntelliJ.","body":"Does the Eclipse run target have some way to specify the runtime project or classpath? I&#39;m not sure if an incorrect config would generate an error, it would in IntelliJ."},{"owner":{"account_id":7256091,"reputation":51,"user_id":5534685,"display_name":"Brian Schalme"},"score":0,"creation_date":1689618820,"post_id":76704516,"comment_id":135236284,"body_markdown":"Can you share the source code repo? Or at least a small subset of it that duplicates the problem you are running into?","body":"Can you share the source code repo? Or at least a small subset of it that duplicates the problem you are running into?"}],"owner":{"account_id":7327271,"reputation":529,"user_id":5581317,"display_name":"takeoffjava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689600082,"creation_date":1689597371,"question_id":76704516,"body_markdown":"When I run a spring boot java project in Eclipse, I am getting the below error. Error: `Could not find or load the main class` but the same jar is running when I run throw the command prompt with the command *&quot;java -jar springbootproject.jar*&quot;.\r\n\r\nFind the below run configuration.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nfind the error screenshot when I run in Eclipse and sts \r\n\r\n[![enter image description here][2]][2]\r\n\r\nthe same jar is working in the command prompt as shown below\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PHIvP.png\r\n  [2]: https://i.stack.imgur.com/G4Xca.png\r\n  [3]: https://i.stack.imgur.com/er7nG.png","title":"Springboot Gradle project Could not find or load main class","body":"<p>When I run a spring boot java project in Eclipse, I am getting the below error. Error: <code>Could not find or load the main class</code> but the same jar is running when I run throw the command prompt with the command <em>&quot;java -jar springbootproject.jar</em>&quot;.</p>\n<p>Find the below run configuration.</p>\n<p><a href=\"https://i.stack.imgur.com/PHIvP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PHIvP.png\" alt=\"enter image description here\" /></a></p>\n<p>find the error screenshot when I run in Eclipse and sts</p>\n<p><a href=\"https://i.stack.imgur.com/G4Xca.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4Xca.png\" alt=\"enter image description here\" /></a></p>\n<p>the same jar is working in the command prompt as shown below</p>\n<p><a href=\"https://i.stack.imgur.com/er7nG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/er7nG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1399997005,"post_id":23636083,"comment_id":36295348,"body_markdown":"Hibernate doesn&#39;t execute update statements because a transaction exists. It executes them because you modified an entity. If you don&#39;t want an update statement to be executed, don&#39;t modify any entity. Transactions are necessary, even for read-only use-cases.","body":"Hibernate doesn&#39;t execute update statements because a transaction exists. It executes them because you modified an entity. If you don&#39;t want an update statement to be executed, don&#39;t modify any entity. Transactions are necessary, even for read-only use-cases."},{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":1,"creation_date":1400000800,"post_id":23636083,"comment_id":36297736,"body_markdown":"I haven&#39;t modified any entity. I am clicking on a link which just fetches the list from db. Besides that, it also updates the user table. I don&#39;t know why","body":"I haven&#39;t modified any entity. I am clicking on a link which just fetches the list from db. Besides that, it also updates the user table. I don&#39;t know why"}],"answers":[{"comments":[{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":0,"creation_date":1400063869,"post_id":23636488,"comment_id":36326453,"body_markdown":"Here are the mappings for TransactionManager:\n\n`&lt;bean id=&quot;transactionManager&quot;\n\t\tclass=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n &lt;bean id=&quot;transactionInterceptor&quot;\n        class=&quot;org.springframework.transaction.interceptor.TransactionInterceptor&quot;&gt;\n        &lt;property name=&quot;transactionAttributeSource&quot; ref=&quot;transactionAttributeSource&quot;&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot;&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;`","body":"Here are the mappings for TransactionManager:  <code>&lt;bean id=&quot;transactionManager&quot; \t\tclass=&quot;org.springframework.orm.hibernate3.HibernateTransac&zwnj;&#8203;tionManager&quot;&gt;         &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;         &lt;&#47;property&gt;     &lt;&#47;bean&gt;   &lt;bean id=&quot;transactionInterceptor&quot;         class=&quot;org.springframework.transaction.interceptor.Transacti&zwnj;&#8203;onInterceptor&quot;&gt;         &lt;property name=&quot;transactionAttributeSource&quot; ref=&quot;transactionAttributeSource&quot;&gt;         &lt;&#47;property&gt;         &lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot;&gt;         &lt;&#47;property&gt;     &lt;&#47;bean&gt;</code>"}],"tags":[],"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399997666,"creation_date":1399997666,"answer_id":23636488,"question_id":23636083,"body_markdown":"Can you post your application-context.xml transaction management declarations part. Where the bean : `org.springframework.jdbc.datasource.DataSourceTransactionManager` is defined.\r\n\r\nIf the annotaion is not enabled you should activate it like this :\r\n\r\n    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n       &lt;property name=&quot;dataSource&quot; ref=&quot;yourDataSource&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; proxy-target-class=&quot;true&quot; /&gt;","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>Can you post your application-context.xml transaction management declarations part. Where the bean : <code>org.springframework.jdbc.datasource.DataSourceTransactionManager</code> is defined.</p>\n\n<p>If the annotaion is not enabled you should activate it like this :</p>\n\n<pre><code>&lt;bean id=\"txManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n   &lt;property name=\"dataSource\" ref=\"yourDataSource\" /&gt;\n&lt;/bean&gt;\n&lt;tx:annotation-driven transaction-manager=\"txManager\" proxy-target-class=\"true\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":0,"creation_date":1400000733,"post_id":23637428,"comment_id":36297691,"body_markdown":"I don&#39;t want to remove the transaction. I just want to disable/remove the interceptors around it.","body":"I don&#39;t want to remove the transaction. I just want to disable/remove the interceptors around it."},{"owner":{"account_id":4265958,"reputation":3874,"user_id":3489074,"display_name":"Ordous"},"score":0,"creation_date":1400000941,"post_id":23637428,"comment_id":36297822,"body_markdown":"@DarshanMehta A transaction interceptor is the spring component that creates and manages the transactions. How do you think you will remove the creator of transactions without removing transactions?","body":"@DarshanMehta A transaction interceptor is the spring component that creates and manages the transactions. How do you think you will remove the creator of transactions without removing transactions?"},{"owner":{"account_id":4265958,"reputation":3874,"user_id":3489074,"display_name":"Ordous"},"score":0,"creation_date":1400001095,"post_id":23637428,"comment_id":36297902,"body_markdown":"Unless, of course, you have added your own custom transaction interceptors. In which case you should be able to decide when they can act anyway.","body":"Unless, of course, you have added your own custom transaction interceptors. In which case you should be able to decide when they can act anyway."},{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":0,"creation_date":1400156789,"post_id":23637428,"comment_id":36377009,"body_markdown":"If I particularly want to disable this interceptor, that too, in a specific condition then, is it possible programmatically?","body":"If I particularly want to disable this interceptor, that too, in a specific condition then, is it possible programmatically?"}],"tags":[],"owner":{"account_id":4265958,"reputation":3874,"user_id":3489074,"display_name":"Ordous"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400000530,"creation_date":1400000530,"answer_id":23637428,"question_id":23636083,"body_markdown":"`@Transactional(propagation = Propagation.NOT_SUPPORTED)`\r\non your method will disable any Spring transactions on this proxy method call. Note that by disabling the transaction you also lose other benefits, like isolation. \r\n\r\nHowever, the fact that you have an update query fired is NOT because of a transaction. You are likely to encounter a different error if you simply remove the transaction (likely stale object exception when hibernate tries to update outside of a transaction, or a malfunction of some module). Hibernate does not fire spurious updates, you should look for updates to the object in question during your transaction.","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p><code>@Transactional(propagation = Propagation.NOT_SUPPORTED)</code>\non your method will disable any Spring transactions on this proxy method call. Note that by disabling the transaction you also lose other benefits, like isolation. </p>\n\n<p>However, the fact that you have an update query fired is NOT because of a transaction. You are likely to encounter a different error if you simply remove the transaction (likely stale object exception when hibernate tries to update outside of a transaction, or a malfunction of some module). Hibernate does not fire spurious updates, you should look for updates to the object in question during your transaction.</p>\n"},{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1400066764,"creation_date":1400064199,"answer_id":23652382,"question_id":23636083,"body_markdown":"I managed to suppress the update query by writing the following line in my DAO class (which was extending HibernateDAOSupport)\r\n\r\n`super.getSessionFactory().getCurrentSession().clear();`\r\n\r\nI just cleared the session as there was no update required while fetching the data and interceptor was updating the table.\r\n\r\nAlso, the original issue which I was facing is, the application was encountering `org.hibernate.StaleStateException: Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1` from this update statement when it got executed twice (God knows why!).\r\n\r\nHence, we figured out that the update was never required and wanted to suppress it.\r\n\r\nCan this fix have any consequences on the application? Is this the right way to do it? Will appreciate the inputs.","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>I managed to suppress the update query by writing the following line in my DAO class (which was extending HibernateDAOSupport)</p>\n\n<p><code>super.getSessionFactory().getCurrentSession().clear();</code></p>\n\n<p>I just cleared the session as there was no update required while fetching the data and interceptor was updating the table.</p>\n\n<p>Also, the original issue which I was facing is, the application was encountering <code>org.hibernate.StaleStateException: Batch update returned unexpected row count from update: 0 actual row count: 0 expected: 1</code> from this update statement when it got executed twice (God knows why!).</p>\n\n<p>Hence, we figured out that the update was never required and wanted to suppress it.</p>\n\n<p>Can this fix have any consequences on the application? Is this the right way to do it? Will appreciate the inputs.</p>\n"},{"comments":[{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":0,"creation_date":1400156857,"post_id":23656032,"comment_id":36377059,"body_markdown":"Is is possible to disable interceptor programmatically? Or, is it possible to get the list of interceptors which are associated with the current transaction?","body":"Is is possible to disable interceptor programmatically? Or, is it possible to get the list of interceptors which are associated with the current transaction?"},{"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"score":0,"creation_date":1400159393,"post_id":23656032,"comment_id":36378945,"body_markdown":"Yo can do what ever you want as it an AOP Proxy you can define your self your politic of transaction handling but you should know what your application is using Annotation-based or Attributes-based.","body":"Yo can do what ever you want as it an AOP Proxy you can define your self your politic of transaction handling but you should know what your application is using Annotation-based or Attributes-based."},{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":0,"creation_date":1400167721,"post_id":23656032,"comment_id":36385735,"body_markdown":"My application is not using any annotation. Also, can you please provide an example or two of how to disable interceptor programmatically? I do not want to alter any configuration. I just want to disable the interceptor in a particular condition at runtime.","body":"My application is not using any annotation. Also, can you please provide an example or two of how to disable interceptor programmatically? I do not want to alter any configuration. I just want to disable the interceptor in a particular condition at runtime."},{"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"score":0,"creation_date":1401193333,"post_id":23656032,"comment_id":36778303,"body_markdown":"@ red1kissi I managed to solve it by clearing the session. Please see my answer below. Does this solution seem appropriate to you?","body":"@ red1kissi I managed to solve it by clearing the session. Please see my answer below. Does this solution seem appropriate to you?"}],"tags":[],"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400074945,"creation_date":1400073948,"answer_id":23656032,"question_id":23636083,"body_markdown":"So your `PlatformTransactionManager` instance is `HibernateTransactionManager`. `TransactionInterceptor` will delegate the transaction handling to `HibernateTransactionManager`. All that means : all calls that you make to your data access methods annotated with `@Transactional` will be path throw spring AOP Proxy (which is a Proxy Design pattern).\r\nIf you don&#39;t use annotation-based and you have declared an AOP Proxy (search for aop:config tag in your ApplicationContext.xml).\r\nSo in the AOP Proxy configuration you will find the politic that your application use for intercepting data access methods and handling transactions.\r\nFor finding if you are using annotation-based you should know what is &#39;transactionAttributeSource&#39; : AnnotationTransactionAttributeSource or AttributesTransactionAttributeSource ?\r\n","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>So your <code>PlatformTransactionManager</code> instance is <code>HibernateTransactionManager</code>. <code>TransactionInterceptor</code> will delegate the transaction handling to <code>HibernateTransactionManager</code>. All that means : all calls that you make to your data access methods annotated with <code>@Transactional</code> will be path throw spring AOP Proxy (which is a Proxy Design pattern).\nIf you don't use annotation-based and you have declared an AOP Proxy (search for aop:config tag in your ApplicationContext.xml).\nSo in the AOP Proxy configuration you will find the politic that your application use for intercepting data access methods and handling transactions.\nFor finding if you are using annotation-based you should know what is 'transactionAttributeSource' : AnnotationTransactionAttributeSource or AttributesTransactionAttributeSource ?</p>\n"},{"tags":[],"owner":{"account_id":4351829,"reputation":178,"user_id":3551890,"display_name":"red1kissi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401320315,"creation_date":1401320315,"answer_id":23923554,"question_id":23636083,"body_markdown":"Here you have the JavaDoc of the interface `org.hibernate.Session` method `clear()` : \r\n\r\n*Completely clear the session. Evict all loaded instances and cancel all pending saves, updates and deletions. Do not close open iterators or instances of* `ScrollableResults`\r\n\r\nSo when you use clear you will clear whole the Session. That ok, you will ask me : have I only one session per transaction ? I will answer you it&#39;s depends on your application `HibernateTemplate` configuration, if the `HibernateTemplate.alwaysUseNewSession==true` but the default value is `false`. The solution is to not intercepte your dao method with the Transaction Manager because it will be executed by default in a non Transactional Session.\r\n\r\nDid you get a look to the [Spring Framework AOP Proxy configuration][1]. section `10.5 Declarative transaction management`\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/transaction.html","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>Here you have the JavaDoc of the interface <code>org.hibernate.Session</code> method <code>clear()</code> : </p>\n\n<p><em>Completely clear the session. Evict all loaded instances and cancel all pending saves, updates and deletions. Do not close open iterators or instances of</em> <code>ScrollableResults</code></p>\n\n<p>So when you use clear you will clear whole the Session. That ok, you will ask me : have I only one session per transaction ? I will answer you it's depends on your application <code>HibernateTemplate</code> configuration, if the <code>HibernateTemplate.alwaysUseNewSession==true</code> but the default value is <code>false</code>. The solution is to not intercepte your dao method with the Transaction Manager because it will be executed by default in a non Transactional Session.</p>\n\n<p>Did you get a look to the <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/transaction.html\" rel=\"nofollow\">Spring Framework AOP Proxy configuration</a>. section <code>10.5 Declarative transaction management</code></p>\n"},{"tags":[],"owner":{"account_id":28904959,"reputation":16,"user_id":22139139,"display_name":"Aidar Khusainov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689599820,"creation_date":1689599820,"answer_id":76704873,"question_id":23636083,"body_markdown":"If you have only select queries in a method you can use readOnly attribute in @Transactional annotation (@Transactional(readOnly = true)). It will be used by Spring to optimize the underlying data access layer operations (such as hibernate&#39;s &quot;dirty&quot; checking) and improve a perfomance. If your entity is never changes @org.hibernate.annotations.Immutable is another solution. But update statement doesn&#39;t appear without changes in entity state, so you should check your code for persistent entity changes. \r\nI am agreed that disable transaction interceptor is not a good solution.","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>If you have only select queries in a method you can use readOnly attribute in @Transactional annotation (@Transactional(readOnly = true)). It will be used by Spring to optimize the underlying data access layer operations (such as hibernate's &quot;dirty&quot; checking) and improve a perfomance. If your entity is never changes @org.hibernate.annotations.Immutable is another solution. But update statement doesn't appear without changes in entity state, so you should check your code for persistent entity changes.\nI am agreed that disable transaction interceptor is not a good solution.</p>\n"}],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2485,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23652382,"answer_count":6,"score":2,"last_activity_date":1689599820,"creation_date":1399996671,"question_id":23636083,"body_markdown":"I am working on an application consisting of Spring and Hibernate frameworks. In one particular module, the application fetches the data from database (select queries). Along with the select queries, application also issues an update statement. After further debugging, I found that the update query is fired from some TransactionInterceptor.\r\nI think, transaction interceptor is not required here as all are select queries. Can anyone please suggest me a way to disable/suppress this interceptor at runtime?\r\n\r\nThis problem might sound too abstract at first. However, I am new to this application and don&#39;t have much knowledge about it&#39;s architecture. If you need any configuration details, please let me know.\r\n\r\nThanks in advance.","title":"Disable/Ignore Transaction Interceptor at runtime","body":"<p>I am working on an application consisting of Spring and Hibernate frameworks. In one particular module, the application fetches the data from database (select queries). Along with the select queries, application also issues an update statement. After further debugging, I found that the update query is fired from some TransactionInterceptor.\nI think, transaction interceptor is not required here as all are select queries. Can anyone please suggest me a way to disable/suppress this interceptor at runtime?</p>\n\n<p>This problem might sound too abstract at first. However, I am new to this application and don't have much knowledge about it's architecture. If you need any configuration details, please let me know.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":20230659,"reputation":1,"user_id":14837289,"display_name":"sulaymon yahyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689599738,"creation_date":1689599738,"answer_id":76704858,"question_id":72840749,"body_markdown":"Let`s try that one,\r\nI found that code from [github][1]\r\n\r\n    import io.swagger.v3.oas.models.OpenAPI;\r\n    import io.swagger.v3.oas.models.servers.Server;\r\n    import io.swagger.v3.oas.models.servers.ServerVariable;\r\n    import io.swagger.v3.oas.models.servers.ServerVariables;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class OpenApiGeneratorConfig {\r\n    \r\n        @Bean\r\n        public OpenAPI defineOpenApi() {\r\n            return new OpenAPI()\r\n                    .info(defineInfo())\r\n                    .components(defineComponents())\r\n                    .addServersItem(defineServers());\r\n        }\r\n    \r\n    ...\r\n    \r\n        private Server defineServers() {\r\n            return new Server().url(&quot;http://{IP_Address}:8080/my-app&quot;)\r\n                               .description(&quot;My APP REST API Server&quot;)\r\n                               .variables(\r\n                                       new ServerVariables().addServerVariable(&quot;IP_Address&quot;, new ServerVariable()\r\n                                               //._default(&quot;www.example.com&quot;)\r\n                                               ._default(&quot;localhost&quot;)\r\n                                               .description(&quot;IP address of My APP REST API Server&quot;)\r\n                                       )\r\n                               );\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/springdoc/springdoc-openapi/issues/124#issuecomment-546034557","title":"Configuring swagger-ui with server variable using configuration bean","body":"<p>Let`s try that one,\nI found that code from <a href=\"https://github.com/springdoc/springdoc-openapi/issues/124#issuecomment-546034557\" rel=\"nofollow noreferrer\">github</a></p>\n<pre><code>import io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.servers.Server;\nimport io.swagger.v3.oas.models.servers.ServerVariable;\nimport io.swagger.v3.oas.models.servers.ServerVariables;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class OpenApiGeneratorConfig {\n\n    @Bean\n    public OpenAPI defineOpenApi() {\n        return new OpenAPI()\n                .info(defineInfo())\n                .components(defineComponents())\n                .addServersItem(defineServers());\n    }\n\n...\n\n    private Server defineServers() {\n        return new Server().url(&quot;http://{IP_Address}:8080/my-app&quot;)\n                           .description(&quot;My APP REST API Server&quot;)\n                           .variables(\n                                   new ServerVariables().addServerVariable(&quot;IP_Address&quot;, new ServerVariable()\n                                           //._default(&quot;www.example.com&quot;)\n                                           ._default(&quot;localhost&quot;)\n                                           .description(&quot;IP address of My APP REST API Server&quot;)\n                                   )\n                           );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14301688,"reputation":71,"user_id":10330859,"display_name":"Matjag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689599738,"creation_date":1656779833,"question_id":72840749,"body_markdown":"In my spring boot project, I have an openapi3 yaml definition of API used by swagger UI. **I need to be able to dynamically change a part of server URL** while using the UI and I was able to configure it in yaml\r\n\r\n```\r\nopenapi: 3.0.1\r\ninfo:\r\n  title: Foo Service\r\n  version: v1.0\r\nservers:\r\n  - url: https://{foo}.com\r\n    variables:\r\n      foo:\r\n        default: bar\r\n```\r\nwhich makes the UI look like that\r\n[![swagger UI with server variable][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RZOIX.png\r\n\r\nNow, I&#39;d like to stop using yamls to define my API and use annotations and configuration beans instead. I feel like the way to go would be to set `servers` field in `io.swagger.v3.oas.models.OpenAPI` bean, however I have no idea what to do considering I want the URL to be dynamically changed by the swagger UI.\r\n\r\nAny guidance will be much appreciated","title":"Configuring swagger-ui with server variable using configuration bean","body":"<p>In my spring boot project, I have an openapi3 yaml definition of API used by swagger UI. <strong>I need to be able to dynamically change a part of server URL</strong> while using the UI and I was able to configure it in yaml</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: Foo Service\n  version: v1.0\nservers:\n  - url: https://{foo}.com\n    variables:\n      foo:\n        default: bar\n</code></pre>\n<p>which makes the UI look like that\n<a href=\"https://i.stack.imgur.com/RZOIX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZOIX.png\" alt=\"swagger UI with server variable\" /></a></p>\n<p>Now, I'd like to stop using yamls to define my API and use annotations and configuration beans instead. I feel like the way to go would be to set <code>servers</code> field in <code>io.swagger.v3.oas.models.OpenAPI</code> bean, however I have no idea what to do considering I want the URL to be dynamically changed by the swagger UI.</p>\n<p>Any guidance will be much appreciated</p>\n"},{"tags":["java","android"],"owner":{"account_id":29032458,"reputation":1,"user_id":22239040,"display_name":"kejij"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689599579,"creation_date":1689583132,"question_id":76702744,"body_markdown":"Don&#39;t judge too harshly, I&#39;m working on a project that needs a gray border to stretch down in width and height to the bottom of the screen with 13dp padding,but nothing changed when I started the program. I thought about using **LayoutParams** and &quot;fitXY&quot;, but something went wrong, \r\n\r\n\r\n\r\nI thought about using **LayoutParams** and &quot;fitXY&quot;, but something went wrong.\r\ncml code of imageView:\r\n\r\n```\r\n&lt;ImageView\r\n        android:id=&quot;@+id/ScrollCorners&quot;\r\n        android:layout_width=&quot;341dp&quot;\r\n        android:layout_height=&quot;250dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;18dp&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView&quot;\r\n        app:srcCompat=&quot;@drawable/scroll_view_rectangle&quot; /&gt;\r\n```\r\nand java code\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    public int scaleheight(){\r\n        DisplayMetrics displayMetrics = new DisplayMetrics();\r\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n        int height = displayMetrics.heightPixels;\r\n        return height;\r\n    }\r\n    public int scalewidth() {\r\n        DisplayMetrics displayMetrics = new DisplayMetrics();\r\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n        int width = displayMetrics.widthPixels;\r\n        return width;\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        int height = scaleheight();\r\n        int width = scalewidth();\r\n        //Переменная рамки\r\n        ImageView ramka = (ImageView) (findViewById(R.id.ScrollCorners));\r\n        //Изменение высоты и ширины\r\n        int final_width, final_height;\r\n        final_height= height - 268;\r\n        final_width= width - 26;\r\n        android.view.ViewGroup.LayoutParams layoutParams = ramka.getLayoutParams();\r\n        layoutParams.width = final_width;\r\n        layoutParams.height = final_height;\r\n        ramka.setLayoutParams(layoutParams);\r\n```\r\nI apologize in advance for not knowing the basics of the engine, it&#39;s just that the project will have to be completed in a very limited time, there is no time for training.\r\n","title":"I don&#39;t know how to resize an image after starting the program","body":"<p>Don't judge too harshly, I'm working on a project that needs a gray border to stretch down in width and height to the bottom of the screen with 13dp padding,but nothing changed when I started the program. I thought about using <strong>LayoutParams</strong> and &quot;fitXY&quot;, but something went wrong,</p>\n<p>I thought about using <strong>LayoutParams</strong> and &quot;fitXY&quot;, but something went wrong.\ncml code of imageView:</p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/ScrollCorners&quot;\n        android:layout_width=&quot;341dp&quot;\n        android:layout_height=&quot;250dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;18dp&quot;\n        android:scaleType=&quot;fitXY&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/imageView&quot;\n        app:srcCompat=&quot;@drawable/scroll_view_rectangle&quot; /&gt;\n</code></pre>\n<p>and java code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    public int scaleheight(){\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n        int height = displayMetrics.heightPixels;\n        return height;\n    }\n    public int scalewidth() {\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n        int width = displayMetrics.widthPixels;\n        return width;\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        int height = scaleheight();\n        int width = scalewidth();\n        //Переменная рамки\n        ImageView ramka = (ImageView) (findViewById(R.id.ScrollCorners));\n        //Изменение высоты и ширины\n        int final_width, final_height;\n        final_height= height - 268;\n        final_width= width - 26;\n        android.view.ViewGroup.LayoutParams layoutParams = ramka.getLayoutParams();\n        layoutParams.width = final_width;\n        layoutParams.height = final_height;\n        ramka.setLayoutParams(layoutParams);\n</code></pre>\n<p>I apologize in advance for not knowing the basics of the engine, it's just that the project will have to be completed in a very limited time, there is no time for training.</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","drop-down-menu","webdriverwait"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1689453664,"post_id":76695277,"comment_id":135216683,"body_markdown":"Update the question with the text based HTML of the element.","body":"Update the question with the text based HTML of the element."},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1689595077,"post_id":76695277,"comment_id":135230984,"body_markdown":"Thanks, added HTML","body":"Thanks, added HTML"}],"answers":[{"comments":[{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1689595959,"post_id":76697784,"comment_id":135231178,"body_markdown":"The main point is to select an option from dropdown menu. Whether it is by a value or other method is less important. \n\nBut before that, I am trying to use @FindBy WebElement in combination with WebDriverWait method that involves using WebElement instead of locator. That was the reason I tried &quot;elementToBeClickable&quot; and &quot;visibilityOfElements&quot; methods. Not sure if there was any other option. I hope it makes sense.","body":"The main point is to select an option from dropdown menu. Whether it is by a value or other method is less important.   But before that, I am trying to use @FindBy WebElement in combination with WebDriverWait method that involves using WebElement instead of locator. That was the reason I tried &quot;elementToBeClickable&quot; and &quot;visibilityOfElements&quot; methods. Not sure if there was any other option. I hope it makes sense."},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689596265,"post_id":76697784,"comment_id":135231262,"body_markdown":"You can init element by @FindBy, that doesn&#39;t matter. I&#39;m sure that selectByValue would work in both cases with this dropdown.","body":"You can init element by @FindBy, that doesn&#39;t matter. I&#39;m sure that selectByValue would work in both cases with this dropdown."},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":0,"creation_date":1689596705,"post_id":76697784,"comment_id":135231368,"body_markdown":"But I need to create both new variable (in your example &quot;locator&quot;) and new WebElement with FindBy right? I was hoping to kill 2 birds with one stone by only creating new WebElement with FindBy and using it for both wdwait and Select. I am still a beginner, so hopefully my comment is not too confusing. Appreciate your help.","body":"But I need to create both new variable (in your example &quot;locator&quot;) and new WebElement with FindBy right? I was hoping to kill 2 birds with one stone by only creating new WebElement with FindBy and using it for both wdwait and Select. I am still a beginner, so hopefully my comment is not too confusing. Appreciate your help."},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689597481,"post_id":76697784,"comment_id":135231550,"body_markdown":"Not sure you need to wait in this case. Try second code snippet I provided just now.","body":"Not sure you need to wait in this case. Try second code snippet I provided just now."},{"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"score":1,"creation_date":1689598197,"post_id":76697784,"comment_id":135231718,"body_markdown":"Yes, it&#39;s working without wait, thanks. If I still want to include wait, I just found this method is working in this case: wdwait.until(ExpectedConditions.textToBePresentInElement(searchBoxDropdown, &quot;All&quot;));","body":"Yes, it&#39;s working without wait, thanks. If I still want to include wait, I just found this method is working in this case: wdwait.until(ExpectedConditions.textToBePresentInElement(sea&zwnj;&#8203;rchBoxDropdown, &quot;All&quot;));"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689624992,"post_id":76697784,"comment_id":135237451,"body_markdown":"@nerull7, so, can you please mark this answer as resolved? :)","body":"@nerull7, so, can you please mark this answer as resolved? :)"}],"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689597428,"creation_date":1689503370,"answer_id":76697784,"question_id":76695277,"body_markdown":"I&#39;m not sure you should check for selection or visibility in this case.\r\nElement in DOM is placed backward when search bar is brought to front, so method can return false negative result.\r\n\r\nBut your point is to select value, right? \r\nThis code works for me (I select Automotive value)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    driver.get(&quot;https://amazon.com&quot;);\r\n    WebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n    By locator = new By.ById(&quot;searchDropdownBox&quot;);\r\n    WebElement dropdown = wdwait.until(ExpectedConditions.presenceOfElementLocated(locator));\r\n    Select elementDropdown = new Select(dropdown);\r\n    elementDropdown.selectByValue(&quot;search-alias=automotive-intl-ship&quot;); //option value attribute\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nor in your kind of implementation\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @FindBy(id=&quot;searchDropdownBox&quot;)\r\n        WebElement searchBoxDropdown;\r\n        \r\n     \r\n    public void selectDropdownElement(String value) {\r\n      Select elementDropdown = new Select(searchBoxDropdown);\r\n      elementDropdown.selectByValue(value);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Selenium Java: Expected condition failed: waiting for element to be clickable (Chrome browser)","body":"<p>I'm not sure you should check for selection or visibility in this case.\nElement in DOM is placed backward when search bar is brought to front, so method can return false negative result.</p>\n<p>But your point is to select value, right?\nThis code works for me (I select Automotive value)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>driver.get(\"https://amazon.com\");\nWebDriverWait wdwait = new WebDriverWait(driver, 10);\nBy locator = new By.ById(\"searchDropdownBox\");\nWebElement dropdown = wdwait.until(ExpectedConditions.presenceOfElementLocated(locator));\nSelect elementDropdown = new Select(dropdown);\nelementDropdown.selectByValue(\"search-alias=automotive-intl-ship\"); //option value attribute</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>or in your kind of implementation</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@FindBy(id=\"searchDropdownBox\")\n    WebElement searchBoxDropdown;\n    \n \npublic void selectDropdownElement(String value) {\n  Select elementDropdown = new Select(searchBoxDropdown);\n  elementDropdown.selectByValue(value);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":16050626,"reputation":7,"user_id":11584621,"display_name":"nerull7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76697784,"answer_count":1,"score":0,"last_activity_date":1689599496,"creation_date":1689446648,"question_id":76695277,"body_markdown":"I am trying to write a test in Selenium, but for some reason my wdwait line of code in below method is failing with error message in title. When I comment the wdwait line, test passes normally. What am I missing? \r\n\r\nOne thing worth mentioning... in the same test, I have almost identical method for quantity dropbox and here wdwait works just fine. Both of the dropboxes are of the same &quot;Select&quot; type.\r\n\r\nsearchBoxDropdown is dropdown on amazon.com homepage next to the search bar\r\n\r\n```\r\n@FindBy(id=&quot;searchDropdownBox&quot;)\r\n    WebElement searchBoxDropdown;\r\n```\r\n\r\n\r\n```\r\npublic void selectDropdownElement(String elementx) {\r\n        wdwait.until(ExpectedConditions.elementToBeClickable(searchBoxDropdown));\r\n        Select elementDropdown = new Select(searchBoxDropdown);\r\n        elementDropdown.selectByVisibleText(elementx);\r\n    }\r\n```\r\n\r\n\r\n```\r\n@Test\r\n    public void amazonTest() {\r\n        amazonAddToCart.selectDropdownElement(&quot;Books&quot;);\r\n        amazonAddToCart.inputSearchBox(&quot;Six of Crows Boxed Set&quot;);\r\n        amazonAddToCart.clickBookLink();\r\n        amazonAddToCart.selectHardcover();\r\n        amazonAddToCart.selectQuantity(20);\r\n        amazonAddToCart.clickGiftCheckbox();\r\n        amazonAddToCart.clickAddToCart();\r\n    }\r\n```\r\n```\r\n&lt;select aria-describedby=&quot;searchDropdownDescription&quot; class=&quot;nav-search-dropdown searchSelect nav-progressive-attrubute nav-progressive-search-dropdown&quot; data-nav-digest=&quot;k+fyIAyB82R9jVEmroQ0OWwSW3A=&quot; data-nav-selected=&quot;0&quot; id=&quot;searchDropdownBox&quot; name=&quot;url&quot; style=&quot;display: block; top: 2.5px;&quot; tabindex=&quot;0&quot; title=&quot;Search in&quot;&gt;\r\n```\r\n\r\nI tried changing the method &quot;elementToBeClickable&quot; to &quot;visibilityOfElements&quot; but result was the same. Is there any similar method that allows WebElement to be selected that I could use maybe?\r\n\r\nThis solution is working the way I imagined:\r\n```\r\npublic void selectDropdownElement(String elementx) {\r\n        wdwait.until(ExpectedConditions.textToBePresentInElement(searchBoxDropdown, &quot;All&quot;));\r\n        Select elementDropdown = new Select(searchBoxDropdown);\r\n        elementDropdown.selectByVisibleText(elementx);\r\n    }\r\n```","title":"Selenium Java: Expected condition failed: waiting for element to be clickable (Chrome browser)","body":"<p>I am trying to write a test in Selenium, but for some reason my wdwait line of code in below method is failing with error message in title. When I comment the wdwait line, test passes normally. What am I missing?</p>\n<p>One thing worth mentioning... in the same test, I have almost identical method for quantity dropbox and here wdwait works just fine. Both of the dropboxes are of the same &quot;Select&quot; type.</p>\n<p>searchBoxDropdown is dropdown on amazon.com homepage next to the search bar</p>\n<pre><code>@FindBy(id=&quot;searchDropdownBox&quot;)\n    WebElement searchBoxDropdown;\n</code></pre>\n<pre><code>public void selectDropdownElement(String elementx) {\n        wdwait.until(ExpectedConditions.elementToBeClickable(searchBoxDropdown));\n        Select elementDropdown = new Select(searchBoxDropdown);\n        elementDropdown.selectByVisibleText(elementx);\n    }\n</code></pre>\n<pre><code>@Test\n    public void amazonTest() {\n        amazonAddToCart.selectDropdownElement(&quot;Books&quot;);\n        amazonAddToCart.inputSearchBox(&quot;Six of Crows Boxed Set&quot;);\n        amazonAddToCart.clickBookLink();\n        amazonAddToCart.selectHardcover();\n        amazonAddToCart.selectQuantity(20);\n        amazonAddToCart.clickGiftCheckbox();\n        amazonAddToCart.clickAddToCart();\n    }\n</code></pre>\n<pre><code>&lt;select aria-describedby=&quot;searchDropdownDescription&quot; class=&quot;nav-search-dropdown searchSelect nav-progressive-attrubute nav-progressive-search-dropdown&quot; data-nav-digest=&quot;k+fyIAyB82R9jVEmroQ0OWwSW3A=&quot; data-nav-selected=&quot;0&quot; id=&quot;searchDropdownBox&quot; name=&quot;url&quot; style=&quot;display: block; top: 2.5px;&quot; tabindex=&quot;0&quot; title=&quot;Search in&quot;&gt;\n</code></pre>\n<p>I tried changing the method &quot;elementToBeClickable&quot; to &quot;visibilityOfElements&quot; but result was the same. Is there any similar method that allows WebElement to be selected that I could use maybe?</p>\n<p>This solution is working the way I imagined:</p>\n<pre><code>public void selectDropdownElement(String elementx) {\n        wdwait.until(ExpectedConditions.textToBePresentInElement(searchBoxDropdown, &quot;All&quot;));\n        Select elementDropdown = new Select(searchBoxDropdown);\n        elementDropdown.selectByVisibleText(elementx);\n    }\n</code></pre>\n"},{"tags":["java","networking","packet"],"comments":[{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689670846,"post_id":76704792,"comment_id":135243109,"body_markdown":"Can you provide a simple code example how you do it currently?  \nIn Java you can call the function of the parent class with `super`, i.e.  \n\nvoid process(Data data) {  \n  super.process(data);  \n  //do your own stuff  \n}","body":"Can you provide a simple code example how you do it currently?   In Java you can call the function of the parent class with <code>super</code>, i.e.    void process(Data data) {     super.process(data);     //do your own stuff   }"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689599186,"creation_date":1689599186,"question_id":76704792,"body_markdown":"I&#39;m working on a Java 2d multiplayer game project. I have an abstract Entity class. The LivingEntity and Bullet classes extend Entity. Player extends LivingEntity and so on. I have a class hierarchy.\r\n\r\nFor communication with clients, I use packets as simple entity data objects. The EntityAddPacket object contains basic information generally for each entity: uuid, position x, y. LivingEntityAddPacket extends EntityAddPacket with new information such as health and maximum health. These are just examples of selected.\r\nSome packets are sent to clients frequently (20 times per second for an entity, such as a location update) and multiple times. I decided to store objects of such packets in the fields of the Entity class and modify their data in case of changes in the data of the entity itself. Then the data is sent to clients. This improves performance compared to creating a new packet each time.\r\n\r\nHowever, there was a problem. I don&#39;t know how to manage these packets in a good way inside the entity hierarchy. The Entity class contains general packets, but the extension classes require more specific data to be sent, as in the case of entities requiring health specified above. Entity should still update its data managed in this class, while extending classes should add their data to the information from Entity.\r\n\r\nSuppose Entity has a field of type EntityAddPacket. I can easily modify this data from Entity, but the problem comes when another class should update their information. I am thinking about possible solutions. Entity should update data common to everyone and other classes data specific to them only. I was thinking about using generics, but I don&#39;t have idea for this. Is this a good approach? If not, how else can it be done?","title":"Hierarchical management of data packets in Java","body":"<p>I'm working on a Java 2d multiplayer game project. I have an abstract Entity class. The LivingEntity and Bullet classes extend Entity. Player extends LivingEntity and so on. I have a class hierarchy.</p>\n<p>For communication with clients, I use packets as simple entity data objects. The EntityAddPacket object contains basic information generally for each entity: uuid, position x, y. LivingEntityAddPacket extends EntityAddPacket with new information such as health and maximum health. These are just examples of selected.\nSome packets are sent to clients frequently (20 times per second for an entity, such as a location update) and multiple times. I decided to store objects of such packets in the fields of the Entity class and modify their data in case of changes in the data of the entity itself. Then the data is sent to clients. This improves performance compared to creating a new packet each time.</p>\n<p>However, there was a problem. I don't know how to manage these packets in a good way inside the entity hierarchy. The Entity class contains general packets, but the extension classes require more specific data to be sent, as in the case of entities requiring health specified above. Entity should still update its data managed in this class, while extending classes should add their data to the information from Entity.</p>\n<p>Suppose Entity has a field of type EntityAddPacket. I can easily modify this data from Entity, but the problem comes when another class should update their information. I am thinking about possible solutions. Entity should update data common to everyone and other classes data specific to them only. I was thinking about using generics, but I don't have idea for this. Is this a good approach? If not, how else can it be done?</p>\n"},{"tags":["java","rest","http","spring-mvc","post"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1488427457,"post_id":42546141,"comment_id":72228710,"body_markdown":"You can use `ControllerLinkBuilder` from Spring Data REST, but it has its shortcomings.","body":"You can use <code>ControllerLinkBuilder</code> from Spring Data REST, but it has its shortcomings."}],"answers":[{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696663959,"post_id":52024684,"comment_id":136184898,"body_markdown":"Should&#39;nt the URI be built on the service layer?","body":"Should&#39;nt the URI be built on the service layer?"},{"owner":{"account_id":1600681,"reputation":2246,"user_id":1481758,"display_name":"Trevor Gowing"},"score":1,"creation_date":1696772886,"post_id":52024684,"comment_id":136193449,"body_markdown":"@AlGrant I would say no because the URI is related the the HTTP endpoint and therefore I would encapsulate all work relating to it in the controller.\n\nYour service could be called from multiple places e.g. perhaps a terminal interface in which case the URI may not be relevant.\n\nIt would depend on the architecture and use cases of your particular system though.","body":"@AlGrant I would say no because the URI is related the the HTTP endpoint and therefore I would encapsulate all work relating to it in the controller.  Your service could be called from multiple places e.g. perhaps a terminal interface in which case the URI may not be relevant.  It would depend on the architecture and use cases of your particular system though."}],"tags":[],"owner":{"account_id":1600681,"reputation":2246,"user_id":1481758,"display_name":"Trevor Gowing"},"comment_count":2,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1605095971,"creation_date":1535273515,"answer_id":52024684,"question_id":42546141,"body_markdown":"This exact scenario is demonstrated in the [Building REST Services with Spring Guide][1].\r\n\r\nOnce you have persisted your new entity, in your controller you can use the below:\r\n\r\n    URI location = ServletUriComponentsBuilder\r\n\t\t\t\t\t\t.fromCurrentRequest()\r\n\t\t\t\t\t\t.path(&quot;/{id}&quot;)\r\n\t\t\t\t\t\t.buildAndExpand(newEntity.getId())\r\n\t\t\t\t\t\t.toUri();\r\n\r\nYou can then add this to your response using [ResponseEntity][2] as below:\r\n\r\n    ResponseEntity.created(location).build()\r\nor\r\n\r\n    ResponseEntity.status(CREATED).header(HttpHeaders.LOCATION, location).build()\r\n\r\nThe latter expects a string so you can use `toUriString()` on the uri builder instead of `toUri()`. \r\n\r\n  [1]: https://spring.io/guides/tutorials/rest/\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html","title":"add location header to Spring MVC&#39;s POST response?","body":"<p>This exact scenario is demonstrated in the <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"noreferrer\">Building REST Services with Spring Guide</a>.</p>\n<p>Once you have persisted your new entity, in your controller you can use the below:</p>\n<pre><code>URI location = ServletUriComponentsBuilder\n                    .fromCurrentRequest()\n                    .path(&quot;/{id}&quot;)\n                    .buildAndExpand(newEntity.getId())\n                    .toUri();\n</code></pre>\n<p>You can then add this to your response using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"noreferrer\">ResponseEntity</a> as below:</p>\n<pre><code>ResponseEntity.created(location).build()\n</code></pre>\n<p>or</p>\n<pre><code>ResponseEntity.status(CREATED).header(HttpHeaders.LOCATION, location).build()\n</code></pre>\n<p>The latter expects a string so you can use <code>toUriString()</code> on the uri builder instead of <code>toUri()</code>.</p>\n"},{"tags":[],"owner":{"account_id":400260,"reputation":2570,"user_id":766150,"accept_rate":50,"display_name":"Valdemar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568374149,"creation_date":1568374149,"answer_id":57922827,"question_id":42546141,"body_markdown":"Another way is to use `UriComponentsBuilder`. You can inject it right into a controller method:\r\n\r\n    @PostMapping(consumes = { MediaType.APPLICATION_JSON_UTF8_VALUE })\r\n    public ResponseEntity&lt;Void&gt; addCustomer(\r\n              UriComponentsBuilder uriComponentsBuilder, \r\n              @RequestBody CustomerRequest customerRequest ){\r\n    \r\n            final long customerId = customerService.addCustomer(customerRequest)\r\n    \r\n            UriComponents uriComponents =\r\n                    uriComponentsBuilder.path(&quot;/{id}&quot;).buildAndExpand(customerId);\r\n    \r\n            return ResponseEntity.created(uriComponents.toUri()).build();\r\n    }\r\n\r\nTake note that the following will not compute the current request path. You will need to add it manually (or I might be missing something).\r\n\r\nex:\r\n\r\n    UriComponents uriComponents =\r\n           uriComponentsBuilder.path(&quot;CURRENT_REQUEST_PATH/{id}&quot;)\r\n           .buildAndExpand(customerId);\r\n\r\n \r\n\r\n","title":"add location header to Spring MVC&#39;s POST response?","body":"<p>Another way is to use <code>UriComponentsBuilder</code>. You can inject it right into a controller method:</p>\n\n<pre><code>@PostMapping(consumes = { MediaType.APPLICATION_JSON_UTF8_VALUE })\npublic ResponseEntity&lt;Void&gt; addCustomer(\n          UriComponentsBuilder uriComponentsBuilder, \n          @RequestBody CustomerRequest customerRequest ){\n\n        final long customerId = customerService.addCustomer(customerRequest)\n\n        UriComponents uriComponents =\n                uriComponentsBuilder.path(\"/{id}\").buildAndExpand(customerId);\n\n        return ResponseEntity.created(uriComponents.toUri()).build();\n}\n</code></pre>\n\n<p>Take note that the following will not compute the current request path. You will need to add it manually (or I might be missing something).</p>\n\n<p>ex:</p>\n\n<pre><code>UriComponents uriComponents =\n       uriComponentsBuilder.path(\"CURRENT_REQUEST_PATH/{id}\")\n       .buildAndExpand(customerId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9365949,"reputation":2414,"user_id":6950859,"accept_rate":92,"display_name":"cela"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650546636,"creation_date":1650472566,"answer_id":71943259,"question_id":42546141,"body_markdown":"This [answer][1] pointed me in the right direction, but my create entity endpoint path was slightly different from the path where the saved entity was stored.\r\n\r\nI was able to use `fromCurrentRequest()` and `replacePath(&quot;new path here&quot;)` like so:\r\n\r\n    URI uri = ServletUriComponentsBuilder.fromCurrentRequest()\r\n            .replacePath(&quot;/customer/{id}/fat&quot;)\r\n            .buildAndExpand(savedCustomer.getCustomerId())\r\n            .toUri();\r\n\r\n    return ResponseEntity.created(uri).build();\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52024684/6950859","title":"add location header to Spring MVC&#39;s POST response?","body":"<p>This <a href=\"https://stackoverflow.com/a/52024684/6950859\">answer</a> pointed me in the right direction, but my create entity endpoint path was slightly different from the path where the saved entity was stored.</p>\n<p>I was able to use <code>fromCurrentRequest()</code> and <code>replacePath(&quot;new path here&quot;)</code> like so:</p>\n<pre><code>URI uri = ServletUriComponentsBuilder.fromCurrentRequest()\n        .replacePath(&quot;/customer/{id}/fat&quot;)\n        .buildAndExpand(savedCustomer.getCustomerId())\n        .toUri();\n\nreturn ResponseEntity.created(uri).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652356540,"creation_date":1652356540,"answer_id":72215119,"question_id":42546141,"body_markdown":"     @Autowired \r\n     private UserService service;\r\n\r\n     @PostMapping(&quot;/users&quot;)\r\n     public ResponseEntity&lt;Object&gt; createUser(@RequestBody User user)\r\n      {\r\n        User myUser = service.save(user);\r\n        URI location = ServletUriComponentsBuilder\r\n                    .fromCurrentRequest()\r\n                    .path(&quot;/{id}&quot;)\r\n                    .buildAndExpand(myUser.getId())\r\n                    .toUri();\r\n\r\n        ResponseEntity.created(location).build()\r\n      }","title":"add location header to Spring MVC&#39;s POST response?","body":"<pre><code> @Autowired \n private UserService service;\n\n @PostMapping(&quot;/users&quot;)\n public ResponseEntity&lt;Object&gt; createUser(@RequestBody User user)\n  {\n    User myUser = service.save(user);\n    URI location = ServletUriComponentsBuilder\n                .fromCurrentRequest()\n                .path(&quot;/{id}&quot;)\n                .buildAndExpand(myUser.getId())\n                .toUri();\n\n    ResponseEntity.created(location).build()\n  }\n</code></pre>\n"}],"owner":{"account_id":1215944,"reputation":2026,"user_id":1183542,"accept_rate":4,"display_name":"gigi2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23104,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1689598901,"creation_date":1488424316,"question_id":42546141,"body_markdown":"My `Spring Boot` 1.4 application has this `POST` HTTP Method to create a resource. As a requirement, it should spit a location header specifying the URL of the newly created resource: [RFC 9110 HTTP Semantics - Method Definitions](https://www.rfc-editor.org/rfc/rfc9110.html#name-method-definitions). I am just wondering if there is any good way to do it than manually constructing the URL and adding it to the response.\r\n\r\nAny helps/clues are deeply appreciated","title":"add location header to Spring MVC&#39;s POST response?","body":"<p>My <code>Spring Boot</code> 1.4 application has this <code>POST</code> HTTP Method to create a resource. As a requirement, it should spit a location header specifying the URL of the newly created resource: <a href=\"https://www.rfc-editor.org/rfc/rfc9110.html#name-method-definitions\" rel=\"nofollow noreferrer\">RFC 9110 HTTP Semantics - Method Definitions</a>. I am just wondering if there is any good way to do it than manually constructing the URL and adding it to the response.</p>\n<p>Any helps/clues are deeply appreciated</p>\n"},{"tags":["java","connection-timeout","r2dbc"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689597186,"post_id":76704438,"comment_id":135231473,"body_markdown":"Have you considered consulting the documentation?","body":"Have you considered consulting the documentation?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1689597512,"post_id":76704438,"comment_id":135231558,"body_markdown":"@user207421 -  actually reading the doc seems a bit radical.","body":"@user207421 -  actually reading the doc seems a bit radical."},{"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"score":0,"creation_date":1689597917,"post_id":76704438,"comment_id":135231656,"body_markdown":"@user207421 thanks for the advice, but i didn&#39;t find it in the documentation","body":"@user207421 thanks for the advice, but i didn&#39;t find it in the documentation"},{"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"score":0,"creation_date":1689598790,"post_id":76704438,"comment_id":135231855,"body_markdown":"If my answer does not solve your question, please improve your question by stating clearly what you want to know.","body":"If my answer does not solve your question, please improve your question by stating clearly what you want to know."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689599783,"post_id":76704438,"comment_id":135232097,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1689599996,"post_id":76704438,"comment_id":135232160,"body_markdown":"Is this what you&#39;re looking for? https://github.com/pgjdbc/r2dbc-postgresql - search &quot;timeout&quot; in that page.","body":"Is this what you&#39;re looking for? <a href=\"https://github.com/pgjdbc/r2dbc-postgresql\" rel=\"nofollow noreferrer\">github.com/pgjdbc/r2dbc-postgresql</a> - search &quot;timeout&quot; in that page."}],"answers":[{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1689599416,"post_id":76704736,"comment_id":135231998,"body_markdown":"I suspect the OP will require more details. Your link is about using PostgreSQL connections in .NET and the OP is specifically using R2DBC and Java.","body":"I suspect the OP will require more details. Your link is about using PostgreSQL connections in .NET and the OP is specifically using R2DBC and Java."},{"owner":{"account_id":484011,"reputation":363,"user_id":7924944,"display_name":"Adam Shone"},"score":0,"creation_date":1701279404,"post_id":76704736,"comment_id":136757112,"body_markdown":"OP is trying to set the statement timeout (https://www.postgresql.org/docs/current/runtime-config-client.html#GUC-STATEMENT-TIMEOUT), not the connection timeout.","body":"OP is trying to set the statement timeout (<a href=\"https://www.postgresql.org/docs/current/runtime-config-client.html#GUC-STATEMENT-TIMEOUT\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/&hellip;</a>), not the connection timeout."}],"tags":[],"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689598765,"creation_date":1689598765,"answer_id":76704736,"question_id":76704438,"body_markdown":"To be honest, I agree to the commenters that tell you to read documentation.\r\n\r\nAfter googling &quot;postgresql timeout connection string&quot; you can click [first hit][1]. Then you find the description: &quot;The time to wait (in seconds) while trying to establish a connection before terminating the attempt and generating an error.&quot; The default is 15.\r\n\r\nThis means that it waits for 15 seconds to try and establish a connection. If your device cannot do it, it gives up. \r\nHowever, if a connection is established, it will live for as long as you don&#39;t kill it. At least I think that is what you were expecting?\r\n\r\n  [1]: https://www.npgsql.org/doc/connection-string-parameters.html","title":"Adding statement timeout in connection string doesn&#39;t work","body":"<p>To be honest, I agree to the commenters that tell you to read documentation.</p>\n<p>After googling &quot;postgresql timeout connection string&quot; you can click <a href=\"https://www.npgsql.org/doc/connection-string-parameters.html\" rel=\"nofollow noreferrer\">first hit</a>. Then you find the description: &quot;The time to wait (in seconds) while trying to establish a connection before terminating the attempt and generating an error.&quot; The default is 15.</p>\n<p>This means that it waits for 15 seconds to try and establish a connection. If your device cannot do it, it gives up.\nHowever, if a connection is established, it will live for as long as you don't kill it. At least I think that is what you were expecting?</p>\n"}],"owner":{"account_id":15981208,"reputation":11,"user_id":11532849,"display_name":"Evgenii Golgovskikh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689598765,"creation_date":1689596737,"question_id":76704438,"body_markdown":"I want add statement timeout in connection string.\r\n\r\nI had tried different options by adding statement_timeout parameter:\r\n\r\n`r2dbc:postgresql://localhost:5432/schema?options=statement_timeout=1`\r\n`r2dbc:postgresql://localhost:5432/schema?options=-c%20statement_timeout=1`\r\n`r2dbc:postgresql://localhost:5432/schema?options=statement_timeout=1s`\r\n`r2dbc:postgresql://localhost:5432/schema?options=-c%20statement_timeout=1s`\r\n\r\nand tried test this by adding in sql file:\r\n`pg_sleep(9999)`\r\n\r\nbut timeout doesn&#39;t work","title":"Adding statement timeout in connection string doesn&#39;t work","body":"<p>I want add statement timeout in connection string.</p>\n<p>I had tried different options by adding statement_timeout parameter:</p>\n<p><code>r2dbc:postgresql://localhost:5432/schema?options=statement_timeout=1</code>\n<code>r2dbc:postgresql://localhost:5432/schema?options=-c%20statement_timeout=1</code>\n<code>r2dbc:postgresql://localhost:5432/schema?options=statement_timeout=1s</code>\n<code>r2dbc:postgresql://localhost:5432/schema?options=-c%20statement_timeout=1s</code></p>\n<p>and tried test this by adding in sql file:\n<code>pg_sleep(9999)</code></p>\n<p>but timeout doesn't work</p>\n"},{"tags":["java","spring-boot","apache-camel","jms"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689595543,"post_id":76703913,"comment_id":135231075,"body_markdown":"You are using Spring Boot 3, which is for JakartaEE, whilst you are still use IBM MQ libraries that are JavaEE. So either find a JakartaEE version of the IBM MQ libraries or downgrade to Spring Boot 2.7.","body":"You are using Spring Boot 3, which is for JakartaEE, whilst you are still use IBM MQ libraries that are JavaEE. So either find a JakartaEE version of the IBM MQ libraries or downgrade to Spring Boot 2.7."},{"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"score":0,"creation_date":1689596141,"post_id":76703913,"comment_id":135231228,"body_markdown":"@M.Deinum Thanks for your answer. Your explanation is clear! Only wondering how did you notice that? So that I can also see it in future cases. I&#39;ve also added my pom dependencies in the question above","body":"@M.Deinum Thanks for your answer. Your explanation is clear! Only wondering how did you notice that? So that I can also see it in future cases. I&#39;ve also added my pom dependencies in the question above"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689596243,"post_id":76703913,"comment_id":135231252,"body_markdown":"`javax.jms` is from JavaEE, your stacktrace shows Spring version 6.0.10 which is used by Spring Boot 3+ and is JakartaEE. Also if tha tis your pom you are doing it wrong, never mix jars from different versions of a framework (here `spring-jms`) as that will inevitably lead to weird to debug situations!","body":"<code>javax.jms</code> is from JavaEE, your stacktrace shows Spring version 6.0.10 which is used by Spring Boot 3+ and is JakartaEE. Also if tha tis your pom you are doing it wrong, never mix jars from different versions of a framework (here <code>spring-jms</code>) as that will inevitably lead to weird to debug situations!"},{"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"score":0,"creation_date":1689598468,"post_id":76703913,"comment_id":135231776,"body_markdown":"@M.Deinum thanks for clearing that up. What confuses me is that the documentation says that the libraries that I am using are for JakartaEE. To make it more clear I&#39;ve added the libraries that I&#39;m currently using - \nhttps://www.ibm.com/docs/en/ibm-mq/9.3?topic=messaging-mq-classes-jakarta-overview","body":"@M.Deinum thanks for clearing that up. What confuses me is that the documentation says that the libraries that I am using are for JakartaEE. To make it more clear I&#39;ve added the libraries that I&#39;m currently using -  <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=messaging-mq-classes-jakarta-overview\" rel=\"nofollow noreferrer\">ibm.com/docs/en/ibm-mq/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689600631,"post_id":76703913,"comment_id":135232319,"body_markdown":"Upon second look the problem is your old camel version which isn&#39;t JakartaEE. It is also some old milestone which I hope you didn&#39;t really use on your live system. You should upgrade that to a newer JakartaEE version as well (and remove the spring-jms dependency as that is incompatible as well, never mix modules from different versions of a framework!)&gt;","body":"Upon second look the problem is your old camel version which isn&#39;t JakartaEE. It is also some old milestone which I hope you didn&#39;t really use on your live system. You should upgrade that to a newer JakartaEE version as well (and remove the spring-jms dependency as that is incompatible as well, never mix modules from different versions of a framework!)&gt;"},{"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"score":1,"creation_date":1689753906,"post_id":76703913,"comment_id":135256267,"body_markdown":"@M.Deinum thanks for your help. It was resolved by removing the spring-jms dependency. So I guess this was a hard lesson on why to never mix them. Thanks!","body":"@M.Deinum thanks for your help. It was resolved by removing the spring-jms dependency. So I guess this was a hard lesson on why to never mix them. Thanks!"}],"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689598396,"creation_date":1689592604,"question_id":76703913,"body_markdown":"I have a Java application built with Springboot and Apache camel. When trying to run the application it gives an exception that confuses me. In the examples that I&#39;m using I don&#39;t see anything related to this exceptionListener, but maybe someone here could help and explain what is going wrong?\r\n\r\nThis is my code:\r\n\r\n    import com.ibm.mq.MQEnvironment;\r\n    import org.apache.camel.component.jms.JmsComponent;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import com.ibm.mq.jakarta.jms.MQQueueConnectionFactory;\r\n    import org.springframework.jms.annotation.EnableJms;\r\n    import com.ibm.msg.client.jakarta.wmq.*;\r\n    import com.ibm.msg.client.jakarta.wmq.common.CommonConstants;\r\n    \r\n    import javax.net.ssl.*;\r\n    import java.security.KeyStore;\r\n            @Bean\r\n            public JmsComponent mq() {\r\n                JmsComponent jmsComponent = new JmsComponent();\r\n                jmsComponent.setConnectionFactory(mqQueueConnectionFactory());\r\n                return jmsComponent;\r\n            }\r\n        \r\n            @Bean\r\n            public MQQueueConnectionFactory mqQueueConnectionFactory() {\r\n                MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\r\n                mqQueueConnectionFactory.setHostName(host);\r\n                try {\r\n                    \r\n                    String keystoreKey = &quot;${keyStorePassword}&quot;;\r\n                    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n                    keyStore.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;${keyStore}&quot;),\r\n                            keystoreKey.toCharArray());\r\n        \r\n                    // Create key manager\r\n                    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                    keyManagerFactory.init(keyStore, keystoreKey.toCharArray());\r\n                    KeyManager[] km = keyManagerFactory.getKeyManagers();\r\n        \r\n                    // Create trust manager\r\n                    TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                    trustManagerFactory.init(keyStore);\r\n                    TrustManager[] tm = trustManagerFactory.getTrustManagers();\r\n        \r\n                    // Initialize SSLContext\r\n                    SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1&quot;);\r\n                    sslContext.init(km, tm, null);\r\n                    SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n        \r\n                    mqQueueConnectionFactory.setPort(port);\r\n                    mqQueueConnectionFactory.setChannel(channel);\r\n                    mqQueueConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\r\n                    mqQueueConnectionFactory.setObjectProperty(WMQConstants.WMQ_SSL_SOCKET_FACTORY, sslSocketFactory);\r\n                    mqQueueConnectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n                    mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\r\n                    mqQueueConnectionFactory.setTransportType(CommonConstants.WMQ_CM_BINDINGS);\r\n                    mqQueueConnectionFactory.setQueueManager(queueManager);\r\n        \r\n                    MQEnvironment.sslSocketFactory = sslSocketFactory;\r\n        \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return  mqQueueConnectionFactory;\r\n            }\r\n        }\r\n\r\nThis is the stacktrace:\r\n\r\n    &gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mq&#39; defined in class path resource [nl/rabobank/mqputter/JmsConfiguration.class]: Failed to instantiate [org.apache.camel.component.jms.JmsComponent]: Factory method &#39;mq&#39; threw exception with message: javax/jms/ExceptionListener\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.8.jar!/:3.0.8]\r\n    \tat nl.rabobank.mqputter.MqPutterApplication.main(MqPutterApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.camel.component.jms.JmsComponent]: Factory method &#39;mq&#39; threw exception with message: javax/jms/ExceptionListener\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \t... 26 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: javax/jms/ExceptionListener\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat org.apache.camel.component.jms.JmsComponent.createConfiguration(JmsComponent.java:1260) ~[camel-jms-4.0.0-M3.jar!/:4.0.0-M3]\r\n    \tat org.apache.camel.component.jms.JmsComponent.&lt;init&gt;(JmsComponent.java:76) ~[camel-jms-4.0.0-M3.jar!/:4.0.0-M3]\r\n    \tat nl.rabobank.mqputter.JmsConfiguration.mq(JmsConfiguration.java:47) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$0.CGLIB$mq$0(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.10.jar!/:6.0.10]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.10.jar!/:6.0.10]\r\n    \tat nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$0.mq(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.10.jar!/:6.0.10]\r\n    \t... 27 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.jms.ExceptionListener\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \t... 62 common frames omitted\r\n\r\n\r\nEdit:\r\n\r\nHere are the dependencies:\r\n\r\n    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-jms-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-M3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;com.ibm.mq.jakarta.client&lt;/artifactId&gt;\r\n            &lt;version&gt;9.3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n","title":"Exception while trying to connect to IBM MQ using Spring Boot","body":"<p>I have a Java application built with Springboot and Apache camel. When trying to run the application it gives an exception that confuses me. In the examples that I'm using I don't see anything related to this exceptionListener, but maybe someone here could help and explain what is going wrong?</p>\n<p>This is my code:</p>\n<pre><code>import com.ibm.mq.MQEnvironment;\nimport org.apache.camel.component.jms.JmsComponent;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport com.ibm.mq.jakarta.jms.MQQueueConnectionFactory;\nimport org.springframework.jms.annotation.EnableJms;\nimport com.ibm.msg.client.jakarta.wmq.*;\nimport com.ibm.msg.client.jakarta.wmq.common.CommonConstants;\n\nimport javax.net.ssl.*;\nimport java.security.KeyStore;\n        @Bean\n        public JmsComponent mq() {\n            JmsComponent jmsComponent = new JmsComponent();\n            jmsComponent.setConnectionFactory(mqQueueConnectionFactory());\n            return jmsComponent;\n        }\n    \n        @Bean\n        public MQQueueConnectionFactory mqQueueConnectionFactory() {\n            MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\n            mqQueueConnectionFactory.setHostName(host);\n            try {\n                \n                String keystoreKey = &quot;${keyStorePassword}&quot;;\n                KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n                keyStore.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;${keyStore}&quot;),\n                        keystoreKey.toCharArray());\n    \n                // Create key manager\n                KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n                keyManagerFactory.init(keyStore, keystoreKey.toCharArray());\n                KeyManager[] km = keyManagerFactory.getKeyManagers();\n    \n                // Create trust manager\n                TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n                trustManagerFactory.init(keyStore);\n                TrustManager[] tm = trustManagerFactory.getTrustManagers();\n    \n                // Initialize SSLContext\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1&quot;);\n                sslContext.init(km, tm, null);\n                SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n    \n                mqQueueConnectionFactory.setPort(port);\n                mqQueueConnectionFactory.setChannel(channel);\n                mqQueueConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\n                mqQueueConnectionFactory.setObjectProperty(WMQConstants.WMQ_SSL_SOCKET_FACTORY, sslSocketFactory);\n                mqQueueConnectionFactory.setSSLCipherSuite(sslCipherSuite);\n                mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\n                mqQueueConnectionFactory.setTransportType(CommonConstants.WMQ_CM_BINDINGS);\n                mqQueueConnectionFactory.setQueueManager(queueManager);\n    \n                MQEnvironment.sslSocketFactory = sslSocketFactory;\n    \n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return  mqQueueConnectionFactory;\n        }\n    }\n</code></pre>\n<p>This is the stacktrace:</p>\n<pre><code>&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mq' defined in class path resource [nl/rabobank/mqputter/JmsConfiguration.class]: Failed to instantiate [org.apache.camel.component.jms.JmsComponent]: Factory method 'mq' threw exception with message: javax/jms/ExceptionListener\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:493) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.10.jar!/:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar!/:6.0.10]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.8.jar!/:3.0.8]\n    at nl.rabobank.mqputter.MqPutterApplication.main(MqPutterApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[app.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.camel.component.jms.JmsComponent]: Factory method 'mq' threw exception with message: javax/jms/ExceptionListener\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    ... 26 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/jms/ExceptionListener\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:524) ~[na:na]\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:427) ~[na:na]\n    at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:421) ~[na:na]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:420) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at org.apache.camel.component.jms.JmsComponent.createConfiguration(JmsComponent.java:1260) ~[camel-jms-4.0.0-M3.jar!/:4.0.0-M3]\n    at org.apache.camel.component.jms.JmsComponent.&lt;init&gt;(JmsComponent.java:76) ~[camel-jms-4.0.0-M3.jar!/:4.0.0-M3]\n    at nl.rabobank.mqputter.JmsConfiguration.mq(JmsConfiguration.java:47) ~[classes!/:0.0.1-SNAPSHOT]\n    at nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$0.CGLIB$mq$0(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\n    at nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.10.jar!/:6.0.10]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.10.jar!/:6.0.10]\n    at nl.rabobank.mqputter.JmsConfiguration$$SpringCGLIB$$0.mq(&lt;generated&gt;) ~[classes!/:0.0.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.10.jar!/:6.0.10]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.jms.ExceptionListener\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587) ~[na:na]\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[app.jar:0.0.1-SNAPSHOT]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 62 common frames omitted\n</code></pre>\n<p>Edit:</p>\n<p>Here are the dependencies:</p>\n<pre><code>&lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jms-starter&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0-M3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n        &lt;artifactId&gt;com.ibm.mq.jakarta.client&lt;/artifactId&gt;\n        &lt;version&gt;9.3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","string","selenium-webdriver"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1689308776,"post_id":76684656,"comment_id":135197951,"body_markdown":"Store it somewhere, usually in memory, but why not in a file?","body":"Store it somewhere, usually in memory, but why not in a file?"},{"owner":{"account_id":6838616,"reputation":1203,"user_id":5808332,"accept_rate":100,"display_name":"Manuli"},"score":0,"creation_date":1689308935,"post_id":76684656,"comment_id":135197969,"body_markdown":"how do you mean?","body":"how do you mean?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1689311393,"post_id":76684656,"comment_id":135198200,"body_markdown":"what do you mean &quot;how do you mean?&quot;  If you were to write the value in a file or properties file or DB, then you could read it later right?  That is assuming that each of your scripts will not be able to read a common static variable or something.","body":"what do you mean &quot;how do you mean?&quot;  If you were to write the value in a file or properties file or DB, then you could read it later right?  That is assuming that each of your scripts will not be able to read a common static variable or something."}],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689598260,"creation_date":1689598260,"answer_id":76704655,"question_id":76684656,"body_markdown":"To avoid repeating the registration process and store the secretKeyReg for multiple login scenarios, you can modify your code to separate the registration step and the OTP generation step. You can create separate class **TwoFactorAuthentication** and pass the wedriver instance.\r\n\r\n**Test Class example:**\r\n\r\n\r\n\r\n    public class Test_Login {\r\n        @Test\r\n        public void loginUsing2FASuccessfulEmpPortal() {\r\n            WebDriver driver = new ChromeDriver();\r\n            TwoFactorAuthentication tfa = new TwoFactorAuthentication(driver);\r\n    \r\n            // Load employee portal URL\r\n            driver.get(empPortalURL);\r\n    \r\n            // Login to employee portal\r\n            driver.findElement(By.xpath(&quot;username&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;username&quot;)).sendKeys(&quot;test&quot;);\r\n            driver.findElement(By.xpath(&quot;password&quot;)).sendKeys(&quot;test&quot;);\r\n            driver.findElement(By.xpath(&quot;signin&quot;)).click();\r\n    \r\n            // Register for 2FA (if not already registered) and get the secret key\r\n            String secretKey = tfa.registerFor2FA();\r\n    \r\n            // Enter OTP and sign in\r\n            tfa.enterGeneratedOTP();\r\n            driver.findElement(By.xpath(&quot;login&quot;)).click();\r\n    \r\n            // Assertion to check whether the user logged in successfully\r\n        }\r\n    }\r\n\r\nyou can create an instance of TwoFactorAuthentication by passing the WebDriver instance through the constructor, as shown below:\r\n\r\n\r\n**TwoFactorAuthentication class:**\r\n\r\n\r\n    package com.tests;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.WebDriver;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    \r\n    public class TwoFactorAuthentication {\r\n        private String secretKeyReg;\r\n        private WebDriver driver;\r\n    \r\n        public TwoFactorAuthentication(WebDriver driver) {\r\n            this.driver = driver;\r\n        }\r\n    \r\n        public String registerFor2FA() {\r\n            // Register user to use 2FA\r\n            // Login to website\r\n            // Read secret key\r\n            WebElement secretKey = driver.findElement(By.xpath(&quot;xpath&quot;));\r\n            secretKeyReg = secretKey.getText();\r\n    \r\n            // Enter 2FA code to register\r\n            String code = generateOTP();\r\n            driver.findElement(By.xpath(&quot;2-step-setup-code&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;2-step-setup-code&quot;)).sendKeys(code);\r\n            driver.findElement(By.xpath(&quot;done-button&quot;)).click();\r\n    \r\n            return secretKeyReg;\r\n        }\r\n    \r\n        public void enterGeneratedOTP() {\r\n            String code = generateOTP();\r\n            driver.findElement(By.xpath(&quot;authentication-code&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;authentication-code&quot;)).sendKeys(code);\r\n        }\r\n    \r\n    \r\n        public String generateOTP() {\r\n            try {\r\n                // Generate OTP using the stored secret key (secretKeyReg)\r\n                secretKeyReg = registerFor2FA();\r\n                String secretKey = secretKeyReg;\r\n                byte[] secret = secretKey.getBytes(&quot;UTF-8&quot;);\r\n                TOTP.Builder builder = new TOTP.Builder(secret);\r\n                builder.withPasswordLength(6)\r\n                        .withAlgorithm(HMACAlgorithm.SHA1) // SHA256 and SHA512 are also supported\r\n                        .withPeriod(Duration.ofSeconds(30));\r\n    \r\n                TOTP totp = builder.build();\r\n                String code = totp.now(); // generate code\r\n                return code;\r\n            } catch (UnsupportedEncodingException e) {\r\n                System.err.println(&quot;The character encoding is not supported.&quot;);\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\nNow, the TwoFactorAuthentication class will utilize the provided WebDriver instance throughout its methods.\r\n","title":"Re-use a generated String in Selenium scripts","body":"<p>To avoid repeating the registration process and store the secretKeyReg for multiple login scenarios, you can modify your code to separate the registration step and the OTP generation step. You can create separate class <strong>TwoFactorAuthentication</strong> and pass the wedriver instance.</p>\n<p><strong>Test Class example:</strong></p>\n<pre><code>public class Test_Login {\n    @Test\n    public void loginUsing2FASuccessfulEmpPortal() {\n        WebDriver driver = new ChromeDriver();\n        TwoFactorAuthentication tfa = new TwoFactorAuthentication(driver);\n\n        // Load employee portal URL\n        driver.get(empPortalURL);\n\n        // Login to employee portal\n        driver.findElement(By.xpath(&quot;username&quot;)).click();\n        driver.findElement(By.xpath(&quot;username&quot;)).sendKeys(&quot;test&quot;);\n        driver.findElement(By.xpath(&quot;password&quot;)).sendKeys(&quot;test&quot;);\n        driver.findElement(By.xpath(&quot;signin&quot;)).click();\n\n        // Register for 2FA (if not already registered) and get the secret key\n        String secretKey = tfa.registerFor2FA();\n\n        // Enter OTP and sign in\n        tfa.enterGeneratedOTP();\n        driver.findElement(By.xpath(&quot;login&quot;)).click();\n\n        // Assertion to check whether the user logged in successfully\n    }\n}\n</code></pre>\n<p>you can create an instance of TwoFactorAuthentication by passing the WebDriver instance through the constructor, as shown below:</p>\n<p><strong>TwoFactorAuthentication class:</strong></p>\n<pre><code>package com.tests;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.WebDriver;\n\nimport java.io.UnsupportedEncodingException;\n\npublic class TwoFactorAuthentication {\n    private String secretKeyReg;\n    private WebDriver driver;\n\n    public TwoFactorAuthentication(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    public String registerFor2FA() {\n        // Register user to use 2FA\n        // Login to website\n        // Read secret key\n        WebElement secretKey = driver.findElement(By.xpath(&quot;xpath&quot;));\n        secretKeyReg = secretKey.getText();\n\n        // Enter 2FA code to register\n        String code = generateOTP();\n        driver.findElement(By.xpath(&quot;2-step-setup-code&quot;)).click();\n        driver.findElement(By.xpath(&quot;2-step-setup-code&quot;)).sendKeys(code);\n        driver.findElement(By.xpath(&quot;done-button&quot;)).click();\n\n        return secretKeyReg;\n    }\n\n    public void enterGeneratedOTP() {\n        String code = generateOTP();\n        driver.findElement(By.xpath(&quot;authentication-code&quot;)).click();\n        driver.findElement(By.xpath(&quot;authentication-code&quot;)).sendKeys(code);\n    }\n\n\n    public String generateOTP() {\n        try {\n            // Generate OTP using the stored secret key (secretKeyReg)\n            secretKeyReg = registerFor2FA();\n            String secretKey = secretKeyReg;\n            byte[] secret = secretKey.getBytes(&quot;UTF-8&quot;);\n            TOTP.Builder builder = new TOTP.Builder(secret);\n            builder.withPasswordLength(6)\n                    .withAlgorithm(HMACAlgorithm.SHA1) // SHA256 and SHA512 are also supported\n                    .withPeriod(Duration.ofSeconds(30));\n\n            TOTP totp = builder.build();\n            String code = totp.now(); // generate code\n            return code;\n        } catch (UnsupportedEncodingException e) {\n            System.err.println(&quot;The character encoding is not supported.&quot;);\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Now, the TwoFactorAuthentication class will utilize the provided WebDriver instance throughout its methods.</p>\n"}],"owner":{"account_id":6838616,"reputation":1203,"user_id":5808332,"accept_rate":100,"display_name":"Manuli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689598260,"creation_date":1689307533,"question_id":76684656,"body_markdown":"I have a scenario where I register a user to use 2FA in a website and then use the generated code to generate OTPs in mutiple set of tests.\r\n\r\nIn my first method, I register to 2fa and use the manual entry to read the code,\r\n My registration page is similar to tis,\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lSD9g.png\r\n\r\nCode,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    \tpublic String registerFor2FA() {\r\n    \t\t// Register user to use 2FA\r\n    \t\t\r\n    \t\t// Login to website\r\n    \t\r\n    \t\t// Read secret key\r\n    \t\tWebElement secretKey = view.getElement(By.xpath(&quot;xpath&quot;));\r\n    \t\tString secretKeyReg = secretKey.getText();\r\n    \t\t// Enter 2fa code to register\r\n    \t\t\tString code = totp.now(); // generate code\r\n          view.getElement(By.xpath(&quot;2-step-setup-code&quot;)).click();\r\n          view.getElement(By.xpath(&quot;2-step-setup-code&quot;)).sendKeys(code);\r\n          view.getElement(By.xpath(&quot;done-button&quot;)).click();\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen I create OTPs using following method,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    \tpublic void enterGeneratedOTP() {\r\n    \t\ttry {\r\n    \t\t\tsecretKeyReg = registerFor2FA();\r\n    \t\t\tString secretKey = secretKeyReg;\r\n    \t\t\tbyte[] secret = secretKey.getBytes(&quot;UTF-8&quot;);\r\n    \t\t\tTOTP.Builder builder = new TOTP.Builder(secret);\r\n\r\n    \t\t\tbuilder\r\n    \t\t\t\t\t.withPasswordLength(6)\r\n    \t\t\t\t\t.withAlgorithm(HMACAlgorithm.SHA1) // SHA256 and SHA512 are also supported\r\n    \t\t\t\t\t.withPeriod(Duration.ofSeconds(30));\r\n\r\n    \t\t\tTOTP totp = builder.build();\r\n    \t\t\tString code = totp.now(); // generate code\r\n          view.getElement(By.xpath(&quot;authentication-code&quot;)).click;\r\n          view.getElement(By.xpath(&quot;authentication-code&quot;)).sendKeys(Code);\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\tSystem.err.println(&quot;The character encoding is not supported.&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd then I use the following testcases to test the login scenarios,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    \tpublic void loginUsing2FASuccessfulEmpPortal() {\r\n    \t\t// Load employee portal URL\r\n    \t\tchangeURL(webDriver, empPortalURL);\r\n    \t\t// Login to employee portal\r\n        view.getElement(By.xpath(&quot;username&quot;)).click;\r\n        view.getElement(By.xpath(&quot;username&quot;)).sendKeys(&quot;test&quot;);\r\n        view.SendKeys(Keys.TAB);\r\n        view.getElement(By.xpath(&quot;password&quot;)).sendKeys(&quot;test&quot;);\r\n        view.getElement(By.xpath(&quot;signin&quot;)).click;\r\n    \t\t// Enter OTP and sign in\r\n    \t\tenterGeneratedOTP();\r\n    \t\tview.getElement(By.xpath(&quot;login&quot;)).click;\r\n    \t\tsleep(5);\r\n    \t\t// Assertion to check whether the user logged in successfully\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI don&#39;t have a problem 2fa runing like this if I only have one script to run. Bu, I have multiple login scenarios which I have to use the same secretKeyReg multiple times. And if I call`enterGeneratedOTP();` in every method, the registration process has to go through 10 times for my 10 scenarios. How do I run the registration process only once and store the `secretKeyReg` to use it to test every login scenario.\r\n\r\nThanks in advance.","title":"Re-use a generated String in Selenium scripts","body":"<p>I have a scenario where I register a user to use 2FA in a website and then use the generated code to generate OTPs in mutiple set of tests.</p>\n<p>In my first method, I register to 2fa and use the manual entry to read the code,\nMy registration page is similar to tis,\n<a href=\"https://i.stack.imgur.com/lSD9g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lSD9g.png\" alt=\"enter image description here\" /></a></p>\n<p>Code,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public String registerFor2FA() {\n        // Register user to use 2FA\n        \n        // Login to website\n    \n        // Read secret key\n        WebElement secretKey = view.getElement(By.xpath(\"xpath\"));\n        String secretKeyReg = secretKey.getText();\n        // Enter 2fa code to register\n            String code = totp.now(); // generate code\n      view.getElement(By.xpath(\"2-step-setup-code\")).click();\n      view.getElement(By.xpath(\"2-step-setup-code\")).sendKeys(code);\n      view.getElement(By.xpath(\"done-button\")).click();\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then I create OTPs using following method,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public void enterGeneratedOTP() {\n        try {\n            secretKeyReg = registerFor2FA();\n            String secretKey = secretKeyReg;\n            byte[] secret = secretKey.getBytes(\"UTF-8\");\n            TOTP.Builder builder = new TOTP.Builder(secret);\n\n            builder\n                    .withPasswordLength(6)\n                    .withAlgorithm(HMACAlgorithm.SHA1) // SHA256 and SHA512 are also supported\n                    .withPeriod(Duration.ofSeconds(30));\n\n            TOTP totp = builder.build();\n            String code = totp.now(); // generate code\n      view.getElement(By.xpath(\"authentication-code\")).click;\n      view.getElement(By.xpath(\"authentication-code\")).sendKeys(Code);\n        } catch (UnsupportedEncodingException e) {\n            System.err.println(\"The character encoding is not supported.\");\n        }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And then I use the following testcases to test the login scenarios,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public void loginUsing2FASuccessfulEmpPortal() {\n        // Load employee portal URL\n        changeURL(webDriver, empPortalURL);\n        // Login to employee portal\n    view.getElement(By.xpath(\"username\")).click;\n    view.getElement(By.xpath(\"username\")).sendKeys(\"test\");\n    view.SendKeys(Keys.TAB);\n    view.getElement(By.xpath(\"password\")).sendKeys(\"test\");\n    view.getElement(By.xpath(\"signin\")).click;\n        // Enter OTP and sign in\n        enterGeneratedOTP();\n        view.getElement(By.xpath(\"login\")).click;\n        sleep(5);\n        // Assertion to check whether the user logged in successfully\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I don't have a problem 2fa runing like this if I only have one script to run. Bu, I have multiple login scenarios which I have to use the same secretKeyReg multiple times. And if I call<code>enterGeneratedOTP();</code> in every method, the registration process has to go through 10 times for my 10 scenarios. How do I run the registration process only once and store the <code>secretKeyReg</code> to use it to test every login scenario.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","kubernetes","hazelcast"],"comments":[{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1689600118,"post_id":76704638,"comment_id":135232195,"body_markdown":"Do you have a stateful set ? `podManagementPolicy` unset or `OrderedReady` ?","body":"Do you have a stateful set ? <code>podManagementPolicy</code> unset or <code>OrderedReady</code> ?"},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1689600135,"post_id":76704638,"comment_id":135232199,"body_markdown":"Also, worth trying a newer version of Hazelcast","body":"Also, worth trying a newer version of Hazelcast"},{"owner":{"account_id":4592578,"reputation":725,"user_id":3725508,"display_name":"Tony Yip"},"score":0,"creation_date":1689610262,"post_id":76704638,"comment_id":135234552,"body_markdown":"What config are you using?","body":"What config are you using?"},{"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"score":0,"creation_date":1689673901,"post_id":76704638,"comment_id":135243760,"body_markdown":"Hi thank you for the suggestions! After leaving it overnight I saw that it just needed some time. both pods discovered themselves but then merged to 1 cluster","body":"Hi thank you for the suggestions! After leaving it overnight I saw that it just needed some time. both pods discovered themselves but then merged to 1 cluster"}],"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689598179,"creation_date":1689598179,"question_id":76704638,"body_markdown":"I&#39;m trying to configure Hazelcast caching cluster with Spring boot using Kubernetes API discovery strategy and having an issue when application starts:\r\nThe pods are booting up just fine but only discovering themselves. The logs show:\r\n```\r\n[XXX.XXX.XXX.61]:5701 [dev] [4.2.8] \r\n\r\nMembers {size:1, ver:1} [\r\n\tMember [XXX.XXX.XXX.61]:5701 - 91542a2e-9e46-4c91-ae21-4ddec9bf7956 this\r\n]\r\n```\r\nand\r\n```\r\n[XXX.XXX.XXX.2]:5701 [dev] [4.2.8] \r\n\r\nMembers {size:1, ver:1} [\r\n\tMember [XXX.XXX.XXX.2]:5701 - a9239765-a249-4c9a-92e6-4a9b34995b1d this\r\n]\r\n```\r\n\r\nWhen killing one pod it works just fine and see:\r\n```\r\n[XXX.XXX.XXX.185]:5701 [dev] [4.2.8] \r\n\r\nMembers {size:2, ver:2} [\r\n\tMember [XXX.XXX.XXX.185]:5701 - 49b5660c-5484-4567-8d5b-8ff2adba5853 this\r\n\tMember [XXX.XXX.XXX.61]:5701 - 5701 - 91542a2e-9e46-4c91-ae21-4ddec9bf7956\r\n]\r\n```\r\n\r\nIt seems like there&#39;s some kind of race condition.\r\n\r\nIs there anyway to solve it this?","title":"Hazelcast Kubernetes discovery - pods not discovering each other when application starts","body":"<p>I'm trying to configure Hazelcast caching cluster with Spring boot using Kubernetes API discovery strategy and having an issue when application starts:\nThe pods are booting up just fine but only discovering themselves. The logs show:</p>\n<pre><code>[XXX.XXX.XXX.61]:5701 [dev] [4.2.8] \n\nMembers {size:1, ver:1} [\n    Member [XXX.XXX.XXX.61]:5701 - 91542a2e-9e46-4c91-ae21-4ddec9bf7956 this\n]\n</code></pre>\n<p>and</p>\n<pre><code>[XXX.XXX.XXX.2]:5701 [dev] [4.2.8] \n\nMembers {size:1, ver:1} [\n    Member [XXX.XXX.XXX.2]:5701 - a9239765-a249-4c9a-92e6-4a9b34995b1d this\n]\n</code></pre>\n<p>When killing one pod it works just fine and see:</p>\n<pre><code>[XXX.XXX.XXX.185]:5701 [dev] [4.2.8] \n\nMembers {size:2, ver:2} [\n    Member [XXX.XXX.XXX.185]:5701 - 49b5660c-5484-4567-8d5b-8ff2adba5853 this\n    Member [XXX.XXX.XXX.61]:5701 - 5701 - 91542a2e-9e46-4c91-ae21-4ddec9bf7956\n]\n</code></pre>\n<p>It seems like there's some kind of race condition.</p>\n<p>Is there anyway to solve it this?</p>\n"},{"tags":["java","android","exoplayer"],"answers":[{"comments":[{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1662616812,"post_id":73628244,"comment_id":130047813,"body_markdown":"this doesn&#39;t work for me. Playing some minutes will work, then exoplayer crashes with same error","body":"this doesn&#39;t work for me. Playing some minutes will work, then exoplayer crashes with same error"},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":1,"creation_date":1662619904,"post_id":73628244,"comment_id":130048616,"body_markdown":"then check, if You create a exoplayer instance in multiple places in your code","body":"then check, if You create a exoplayer instance in multiple places in your code"},{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1662965701,"post_id":73628244,"comment_id":130119183,"body_markdown":"found the problem, You were right and Your answer is correct..thanks","body":"found the problem, You were right and Your answer is correct..thanks"}],"tags":[],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662502274,"creation_date":1662502274,"answer_id":73628244,"question_id":73627564,"body_markdown":"I solved this by calling the status via a handler in the player&#39;s event listener. Starting a `runnable` from the listener which runs only when `player.isPlaying() == true`.\r\n\r\n         player.addListener(new Player.Listener() {\r\n            @Override\r\n            public void onEvents(Player player, Player.Events events) {\r\n                Player.Listener.super.onEvents(player, events);\r\n\r\n                if (events.contains(Player.EVENT_IS_PLAYING_CHANGED)) {\r\n                    if (player.isPlaying()) {\r\n                        positionHandler.postDelayed(getCurrentPositionTask,CURRENT_POSITION_SLEEP);\r\n\r\n                    } else {\r\n                        positionHandler.removeCallbacks(getCurrentPositionTask);\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        public Runnable getCurrentPositionTask = new Runnable() {\r\n\r\n        @Override\r\n        public void run() {\r\n            if (exoPlayer != null) {\r\n                currentPostion = exoPlayer.getCurrentPosition();\r\n                positionHandler.postDelayed(getCurrentPositionTask,CURRENT_POSITION_SLEEP);\r\n            }            \r\n        }\r\n    };\r\n\r\nThe UI calls the current position the same way in a runnable.\r\n\r\nI can&#39;t say whether this is the best way. but it&#39;s going well. \r\n\r\nGGK\r\n\r\n","title":"Exoplayer throws player is accessed on the wrong thread Exception","body":"<p>I solved this by calling the status via a handler in the player's event listener. Starting a <code>runnable</code> from the listener which runs only when <code>player.isPlaying() == true</code>.</p>\n<pre><code>     player.addListener(new Player.Listener() {\n        @Override\n        public void onEvents(Player player, Player.Events events) {\n            Player.Listener.super.onEvents(player, events);\n\n            if (events.contains(Player.EVENT_IS_PLAYING_CHANGED)) {\n                if (player.isPlaying()) {\n                    positionHandler.postDelayed(getCurrentPositionTask,CURRENT_POSITION_SLEEP);\n\n                } else {\n                    positionHandler.removeCallbacks(getCurrentPositionTask);\n\n                }\n            }\n        }\n    });\n\n    public Runnable getCurrentPositionTask = new Runnable() {\n\n    @Override\n    public void run() {\n        if (exoPlayer != null) {\n            currentPostion = exoPlayer.getCurrentPosition();\n            positionHandler.postDelayed(getCurrentPositionTask,CURRENT_POSITION_SLEEP);\n        }            \n    }\n};\n</code></pre>\n<p>The UI calls the current position the same way in a runnable.</p>\n<p>I can't say whether this is the best way. but it's going well.</p>\n<p>GGK</p>\n"},{"comments":[{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1699347240,"post_id":76704591,"comment_id":136516917,"body_markdown":"thanks, but with 2.18.7 the behaviour still occurred for me, so the workaround from @GGK is still necessary","body":"thanks, but with 2.18.7 the behaviour still occurred for me, so the workaround from @GGK is still necessary"}],"tags":[],"owner":{"account_id":8423539,"reputation":3750,"user_id":6770343,"accept_rate":77,"display_name":"Suraj Bahadur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689597931,"creation_date":1689597931,"answer_id":76704591,"question_id":73627564,"body_markdown":"This issue is from the Exoplayer Library if you are using version `com.google.android.exoplayer:exoplayer:2.18.6` and has been fixed. Furthermore, You can check below threads\r\nhttps://github.com/google/ExoPlayer/commit/aa4e0080147fe76a6c0cca40b7eccdf45eb58028\r\nhttps://github.com/google/ExoPlayer/issues/11149","title":"Exoplayer throws player is accessed on the wrong thread Exception","body":"<p>This issue is from the Exoplayer Library if you are using version <code>com.google.android.exoplayer:exoplayer:2.18.6</code> and has been fixed. Furthermore, You can check below threads\n<a href=\"https://github.com/google/ExoPlayer/commit/aa4e0080147fe76a6c0cca40b7eccdf45eb58028\" rel=\"nofollow noreferrer\">https://github.com/google/ExoPlayer/commit/aa4e0080147fe76a6c0cca40b7eccdf45eb58028</a>\n<a href=\"https://github.com/google/ExoPlayer/issues/11149\" rel=\"nofollow noreferrer\">https://github.com/google/ExoPlayer/issues/11149</a></p>\n"}],"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73628244,"answer_count":2,"score":0,"last_activity_date":1689597931,"creation_date":1662496903,"question_id":73627564,"body_markdown":"when I use `exoplayer` I get a `player is accessed on the wrong thread error`. How can I solve this?\r\n\r\n    Non-fatal Exception: java.lang.IllegalStateException: Player is accessed on the wrong \r\n    thread.\r\n    Current thread: &#39;main&#39;\r\n    Expected thread: &#39;ConnectivityThread&#39;\r\n    See https://exoplayer.dev/issues/player-accessed-on-wrong-thread\r\n\r\nThe player is started as a service via my BackgroundAudioService.class.\r\n\r\n    exoPlayer = new ExoPlayer.Builder(getApplicationContext()\r\n                .build();\r\n\r\nIn the main thread my looper is running, the \r\nwhich updates the UI via `exoplayer.getCurrentPosition()`.\r\n\r\n    public final Runnable updatePosition = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n\t\t\tposition  = BackgroundAudioService.getCurrentPostion();\r\n\t\t}\r\n    }\r\n\r\n    myHandler.postDelayed(updatePosition, myHandlerSleep);\r\n\r\nI don&#39;t know how to solve this problem (which occurs just sometimes), please help.\r\n\r\nThanks\r\nAlejandro\r\n\r\n","title":"Exoplayer throws player is accessed on the wrong thread Exception","body":"<p>when I use <code>exoplayer</code> I get a <code>player is accessed on the wrong thread error</code>. How can I solve this?</p>\n<pre><code>Non-fatal Exception: java.lang.IllegalStateException: Player is accessed on the wrong \nthread.\nCurrent thread: 'main'\nExpected thread: 'ConnectivityThread'\nSee https://exoplayer.dev/issues/player-accessed-on-wrong-thread\n</code></pre>\n<p>The player is started as a service via my BackgroundAudioService.class.</p>\n<pre><code>exoPlayer = new ExoPlayer.Builder(getApplicationContext()\n            .build();\n</code></pre>\n<p>In the main thread my looper is running, the\nwhich updates the UI via <code>exoplayer.getCurrentPosition()</code>.</p>\n<pre><code>public final Runnable updatePosition = new Runnable() {\n    @Override\n    public void run() {\n        position  = BackgroundAudioService.getCurrentPostion();\n    }\n}\n\nmyHandler.postDelayed(updatePosition, myHandlerSleep);\n</code></pre>\n<p>I don't know how to solve this problem (which occurs just sometimes), please help.</p>\n<p>Thanks\nAlejandro</p>\n"},{"tags":["java","spring","yaml","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689597517,"creation_date":1689597517,"answer_id":76704534,"question_id":76671337,"body_markdown":"open API wont generate any header in controller but there are ways to get header using 2 methods\r\n\r\n1.Using autowired HttpServletRequest variable ,this is managed by spring boot and is threadsafe, so any class which needs header information inject HttpServletRequest httpServletRequest.\r\n\r\n2.The other way is https://stackoverflow.com/questions/61345599/how-to-retrieve-unspecd-headers-with-openapi-generator-spring\r\n\r\nHope it helps any one who need it\r\n","title":"Pass HttpHeaders in Open API Generator","body":"<p>open API wont generate any header in controller but there are ways to get header using 2 methods</p>\n<p>1.Using autowired HttpServletRequest variable ,this is managed by spring boot and is threadsafe, so any class which needs header information inject HttpServletRequest httpServletRequest.</p>\n<p>2.The other way is <a href=\"https://stackoverflow.com/questions/61345599/how-to-retrieve-unspecd-headers-with-openapi-generator-spring\">How to retrieve unspec&#39;d headers with openapi-generator (spring)</a></p>\n<p>Hope it helps any one who need it</p>\n"}],"owner":{"account_id":2687469,"reputation":31,"user_id":2321572,"display_name":"Vaibhav Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689597517,"creation_date":1689169922,"question_id":76671337,"body_markdown":"I have a requirement in which I need to pass entire HTTP header as argument in spring boot controller can this be done via open-api generator\r\nMy Controller is like\r\n```\r\n @PostMapping(value = &quot;/dummyUrl&quot;,\r\n      produces = {APPLICATION_JSON_VALUE},\r\n      consumes = {APPLICATION_JSON_VALUE})\r\n  public ResponseEntity&lt;DummyResponse&gt;  processRequest(@RequestHeader HttpHeaders headers,@RequestBody UserDefineObject userDefineObject)\r\n```\r\nI Know how to process individual parameters in HttpHeaders by using \r\n\r\n```parameters: -in:header``` \r\n\r\n inside my yaml file but how to obtain entire httpheader","title":"Pass HttpHeaders in Open API Generator","body":"<p>I have a requirement in which I need to pass entire HTTP header as argument in spring boot controller can this be done via open-api generator\nMy Controller is like</p>\n<pre><code> @PostMapping(value = &quot;/dummyUrl&quot;,\n      produces = {APPLICATION_JSON_VALUE},\n      consumes = {APPLICATION_JSON_VALUE})\n  public ResponseEntity&lt;DummyResponse&gt;  processRequest(@RequestHeader HttpHeaders headers,@RequestBody UserDefineObject userDefineObject)\n</code></pre>\n<p>I Know how to process individual parameters in HttpHeaders by using</p>\n<p><code>parameters: -in:header</code></p>\n<p>inside my yaml file but how to obtain entire httpheader</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","godaddy-api"],"comments":[{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689338672,"post_id":76687155,"comment_id":135203099,"body_markdown":"Which browser version do you have? I have no problem with connecting to https://outlook.office365.com, using latest chromedriver.\nAlso, maybe it worth to try to get email via email connector and don&#39;t reach UI?","body":"Which browser version do you have? I have no problem with connecting to <a href=\"https://outlook.office365.com\" rel=\"nofollow noreferrer\">outlook.office365.com</a>, using latest chromedriver. Also, maybe it worth to try to get email via email connector and don&#39;t reach UI?"},{"owner":{"account_id":29014627,"reputation":1,"user_id":22225323,"display_name":"Sanchitha Jayasuriya"},"score":0,"creation_date":1689572179,"post_id":76687155,"comment_id":135226741,"body_markdown":"The Chrome Browser version is Version 114.0.5735.199. Is this what you meant by email connector?\nhttps://stackoverflow.com/questions/64584393/connecting-to-outlook365-from-selenium-java","body":"The Chrome Browser version is Version 114.0.5735.199. Is this what you meant by email connector? <a href=\"https://stackoverflow.com/questions/64584393/connecting-to-outlook365-from-selenium-java\" title=\"connecting to outlook365 from selenium java\">stackoverflow.com/questions/64584393/&hellip;</a>"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689584036,"post_id":76687155,"comment_id":135228727,"body_markdown":"I mean, not to connect to email via frontend, but via background email connector that connects to your mailbox, not using UI.","body":"I mean, not to connect to email via frontend, but via background email connector that connects to your mailbox, not using UI."}],"answers":[{"comments":[{"owner":{"account_id":29014627,"reputation":1,"user_id":22225323,"display_name":"Sanchitha Jayasuriya"},"score":0,"creation_date":1689653348,"post_id":76704513,"comment_id":135240331,"body_markdown":"It still shows the notification. Also I am not aware about Java mailer APIs. Do you have any sources to get that knowledge?","body":"It still shows the notification. Also I am not aware about Java mailer APIs. Do you have any sources to get that knowledge?"},{"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"score":0,"creation_date":1689661603,"post_id":76704513,"comment_id":135241190,"body_markdown":"@SanchithaJayasuriya https://gist.github.com/brunocribeiro/12a529f7f752f2853b9f","body":"@SanchithaJayasuriya <a href=\"https://gist.github.com/brunocribeiro/12a529f7f752f2853b9f\" rel=\"nofollow noreferrer\">gist.github.com/brunocribeiro/12a529f7f752f2853b9f</a>"}],"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689597359,"creation_date":1689597359,"answer_id":76704513,"question_id":76687155,"body_markdown":"**Using UI to automate email service is not recommended, instead you can use Java mailer API&#39;s.**\r\n\r\n**To solve the above issue you can use the below hacks:**\r\n\r\n 1. Add custom user-agent to bypass detection.\r\n\r\n**Code:**\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        // Disable the automation message\r\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));\r\n        // Hide the automation status bar\r\n        options.addArguments(&quot;--disable-infobars&quot;);\r\n        // Set the user agent\r\n        options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;);\r\n        WebDriver driver = new ChromeDriver(options);","title":"Finding a way to bypass the notification shown by GoDaddy in a chromedriver window in an automation script","body":"<p><strong>Using UI to automate email service is not recommended, instead you can use Java mailer API's.</strong></p>\n<p><strong>To solve the above issue you can use the below hacks:</strong></p>\n<ol>\n<li>Add custom user-agent to bypass detection.</li>\n</ol>\n<p><strong>Code:</strong></p>\n<pre><code>    ChromeOptions options = new ChromeOptions();\n    // Disable the automation message\n    options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));\n    // Hide the automation status bar\n    options.addArguments(&quot;--disable-infobars&quot;);\n    // Set the user agent\n    options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;);\n    WebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":29014627,"reputation":1,"user_id":22225323,"display_name":"Sanchitha Jayasuriya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689597359,"creation_date":1689333340,"question_id":76687155,"body_markdown":"I am currently writing an automation script using selenium with java. There, I am trying to get an OTP from the email which the OTP is being sent and I am planning to open a tab in the chromedriver and open the email in that tab. The email account is an office 365 account hosted by GoDaddy and during the attempt of sign in, this [notification](https://i.stack.imgur.com/EsNuq.png) pops up and I am not allowed to continue thereafter.\r\n\r\nI want to know a possible way to bypass this notification in the chromedriver.\r\n\r\nI tried searching all over the internet and nothing came up.\r\n\r\nThe following code segment is what I tried to do.\r\n\r\n```\r\npublic class EmailLoginSteps{\r\n   public static void main(String[] args)\r\n{\r\n      WebDriver driver = new ChromeDriver();\r\n      ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\r\n      tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n      driver.switchTo().window(tabs.get(1));\r\n      driver.get(&quot;https://outlook.office365.com&quot;);\r\n\r\n      driver.findElement(By.id(&quot;i0116&quot;)).sendKeys(email+&quot;\\n&quot;);//replace email with an godaddy hosted office 365 mail address\r\n      Thread.sleep(4000);\r\n      driver.findElement(By.id(&quot;password&quot;)).sendKeys(password+&quot;\\n&quot;);//replace password with the relevant password\r\n}\r\n```","title":"Finding a way to bypass the notification shown by GoDaddy in a chromedriver window in an automation script","body":"<p>I am currently writing an automation script using selenium with java. There, I am trying to get an OTP from the email which the OTP is being sent and I am planning to open a tab in the chromedriver and open the email in that tab. The email account is an office 365 account hosted by GoDaddy and during the attempt of sign in, this <a href=\"https://i.stack.imgur.com/EsNuq.png\" rel=\"nofollow noreferrer\">notification</a> pops up and I am not allowed to continue thereafter.</p>\n<p>I want to know a possible way to bypass this notification in the chromedriver.</p>\n<p>I tried searching all over the internet and nothing came up.</p>\n<p>The following code segment is what I tried to do.</p>\n<pre><code>public class EmailLoginSteps{\n   public static void main(String[] args)\n{\n      WebDriver driver = new ChromeDriver();\n      ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\n      tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n      driver.switchTo().window(tabs.get(1));\n      driver.get(&quot;https://outlook.office365.com&quot;);\n\n      driver.findElement(By.id(&quot;i0116&quot;)).sendKeys(email+&quot;\\n&quot;);//replace email with an godaddy hosted office 365 mail address\n      Thread.sleep(4000);\n      driver.findElement(By.id(&quot;password&quot;)).sendKeys(password+&quot;\\n&quot;);//replace password with the relevant password\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","swagger","openapi"],"answers":[{"comments":[{"owner":{"account_id":22762575,"reputation":25,"user_id":16921153,"display_name":"Jossany Moura"},"score":0,"creation_date":1689597794,"post_id":76704498,"comment_id":135231624,"body_markdown":"Thank you! It really makes sense. Now I have a &quot;north&quot;.","body":"Thank you! It really makes sense. Now I have a &quot;north&quot;."},{"owner":{"account_id":22762575,"reputation":25,"user_id":16921153,"display_name":"Jossany Moura"},"score":0,"creation_date":1689604102,"post_id":76704498,"comment_id":135233171,"body_markdown":"Do you recommend anything to document AWS API Gateway?","body":"Do you recommend anything to document AWS API Gateway?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1689607085,"post_id":76704498,"comment_id":135233880,"body_markdown":"Yes, I recommend using the OpenAPI export that I linked in my answer, to document API Gateway. That&#39;s basically the entire content of the answer I gave, so I&#39;m unclear why you are asking that now.","body":"Yes, I recommend using the OpenAPI export that I linked in my answer, to document API Gateway. That&#39;s basically the entire content of the answer I gave, so I&#39;m unclear why you are asking that now."}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689597244,"creation_date":1689597244,"answer_id":76704498,"question_id":76704414,"body_markdown":"You don&#39;t document Lambda functions with Swagger, you document an API. That API  may be backed by AWS Lambda functions, but that technical detail is really irrelevant to the API documentation. You should be looking at how to document your AWS API Gateway, not your Lambda functions. \r\n\r\nAlso, Swagger is the old name for what is now called OpenAPI. \r\n\r\nAWS API Gateway supports exporting OpenAPI documentation for both [REST][1] and [HTTP][2] APIs.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-import-api.html\r\n  [2]: https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-open-api.html","title":"How to document AWS Lambda with Swagger?","body":"<p>You don't document Lambda functions with Swagger, you document an API. That API  may be backed by AWS Lambda functions, but that technical detail is really irrelevant to the API documentation. You should be looking at how to document your AWS API Gateway, not your Lambda functions.</p>\n<p>Also, Swagger is the old name for what is now called OpenAPI.</p>\n<p>AWS API Gateway supports exporting OpenAPI documentation for both <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-import-api.html\" rel=\"nofollow noreferrer\">REST</a> and <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-open-api.html\" rel=\"nofollow noreferrer\">HTTP</a> APIs.</p>\n"}],"owner":{"account_id":22762575,"reputation":25,"user_id":16921153,"display_name":"Jossany Moura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689597244,"creation_date":1689596533,"question_id":76704414,"body_markdown":"I am a Junior Java Developer and was asked to implement OpenAPI (Swagger) documentation on the AWS Lambdas we have here. I&#39;ve been searching online for some material about this but didn&#39;t find anything really substantial.\r\n\r\nAny kind of guidance would be helpful.","title":"How to document AWS Lambda with Swagger?","body":"<p>I am a Junior Java Developer and was asked to implement OpenAPI (Swagger) documentation on the AWS Lambdas we have here. I've been searching online for some material about this but didn't find anything really substantial.</p>\n<p>Any kind of guidance would be helpful.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","atomikos"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689596658,"post_id":76704411,"comment_id":135231353,"body_markdown":"It doesn&#39;t get committed it gets flushed because you are issuing a query and it needs to have the full state for the transaction. Flushing != commiting.","body":"It doesn&#39;t get committed it gets flushed because you are issuing a query and it needs to have the full state for the transaction. Flushing != commiting."},{"owner":{"account_id":9031204,"reputation":23,"user_id":6728731,"display_name":"SUBHASHC37"},"score":0,"creation_date":1689599115,"post_id":76704411,"comment_id":135231931,"body_markdown":"@M.Deinum it gets persisted in the database, is that expected?","body":"@M.Deinum it gets persisted in the database, is that expected?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689600693,"post_id":76704411,"comment_id":135232331,"body_markdown":"How do you know it gets persisted? It should only flush and execute the query, the fact tha tyou see a query doesn&#39; t mean it is committed. If it is there is something wrong in your setup, but there is too little information to make an informed guess. Looking at the code what you are doing wouldn&#39;t even work/compile here, so please show some actual code instead of some non working dummy code.","body":"How do you know it gets persisted? It should only flush and execute the query, the fact tha tyou see a query doesn&#39; t mean it is committed. If it is there is something wrong in your setup, but there is too little information to make an informed guess. Looking at the code what you are doing wouldn&#39;t even work/compile here, so please show some actual code instead of some non working dummy code."}],"owner":{"account_id":9031204,"reputation":23,"user_id":6728731,"display_name":"SUBHASHC37"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689596509,"creation_date":1689596509,"question_id":76704411,"body_markdown":"I have below code,\r\n\r\n```\r\n@Service\r\npublic class MyHandlerService {\r\n\r\n    @Inject\r\n    private MyRepoService myRepoService;\r\n\r\n    @Transactional(value = &quot;manager1&quot;, propagation = Propagation.REQUIRES_NEW)\r\n    public void handle(final String message) {\r\n        myRepoService.save(message);\r\n    }\r\n\r\n}\r\n\r\n\r\n@Service\r\n@Transactional(&quot;manager1&quot;)\r\npublic class MyRepoService {\r\n    Inject\r\n    private final VehicleService vehicleService;\r\n\r\n    private void save(String message) {\r\n        MYVEHICLELIST.getEntries(message).forEach(vehicle -&gt; {\r\n            Vehicle vehicle = vehicleService.findById(vehicle.getId());\r\n            if (table1ObjectEntity == null)\r\n               vehicleService.save(vehicle);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n@Service\r\npublic class VehicleService {\r\n    @Inject\r\n    private final VehicleRepository repo;\r\n\r\n    @Transactional(value = &quot;manager1&quot;, readOnly = true)\r\n    public Vehicle findById(final String id) {\r\n        return repo.findById(id);\r\n    }\r\n\r\n    public void save(Vehicle obj) {\r\n        repo.save(obj);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have two entries in MYVEHICLELIST,\r\n\r\n 1. The first one gets looped and it is saved in the proxy (not committed)\r\n 2. when the second one is looped, then upon hitting `vehicleService.findById(vehicle.getId())` the first vehicle data in proxy gets committed and flushed to the database\r\n\r\nI expect both vehicles to get persisted only when MyHandlerService.handle() method is returned.\r\n\r\nTransactionManager used is com.atomikos.icatch.jta.UserTransactionManager","title":"transaction getting commited before existing the method","body":"<p>I have below code,</p>\n<pre><code>@Service\npublic class MyHandlerService {\n\n    @Inject\n    private MyRepoService myRepoService;\n\n    @Transactional(value = &quot;manager1&quot;, propagation = Propagation.REQUIRES_NEW)\n    public void handle(final String message) {\n        myRepoService.save(message);\n    }\n\n}\n\n\n@Service\n@Transactional(&quot;manager1&quot;)\npublic class MyRepoService {\n    Inject\n    private final VehicleService vehicleService;\n\n    private void save(String message) {\n        MYVEHICLELIST.getEntries(message).forEach(vehicle -&gt; {\n            Vehicle vehicle = vehicleService.findById(vehicle.getId());\n            if (table1ObjectEntity == null)\n               vehicleService.save(vehicle);\n            }\n        });\n    }\n\n}\n\n@Service\npublic class VehicleService {\n    @Inject\n    private final VehicleRepository repo;\n\n    @Transactional(value = &quot;manager1&quot;, readOnly = true)\n    public Vehicle findById(final String id) {\n        return repo.findById(id);\n    }\n\n    public void save(Vehicle obj) {\n        repo.save(obj);\n    }\n}\n\n</code></pre>\n<p>I have two entries in MYVEHICLELIST,</p>\n<ol>\n<li>The first one gets looped and it is saved in the proxy (not committed)</li>\n<li>when the second one is looped, then upon hitting <code>vehicleService.findById(vehicle.getId())</code> the first vehicle data in proxy gets committed and flushed to the database</li>\n</ol>\n<p>I expect both vehicles to get persisted only when MyHandlerService.handle() method is returned.</p>\n<p>TransactionManager used is com.atomikos.icatch.jta.UserTransactionManager</p>\n"},{"tags":["java","spring-boot","rate-limiting","whitelist","resilience4j"],"owner":{"account_id":20578793,"reputation":11,"user_id":15105395,"display_name":"Pranav Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689596344,"creation_date":1689595845,"question_id":76704332,"body_markdown":"Till now I have setup these, but it result in ratelimiting without any conditions \r\n\r\n```yaml\r\nresilience4j.ratelimiter:\r\n  instances:\r\n    basic:\r\n      limitForPeriod: ${RATE_LIMIT_PERMISIBLE_HITS:1000}\r\n      limitRefreshPeriod: ${RATE_LIMIT_REFRESH_RATE:1h}\r\n      timeoutDuration: ${RATE_LIMIT_TIMEOUT:20s}\r\n      registerHealthIndicator: ${RATE_LIMIT_HEALTH_INDICATOR:true}\r\n      eventConsumerBufferSize: ${RATE_LIMIT_EVENT_BUFFER:100}\r\n```\r\n```java\r\n@PostMapping\r\n@RateLimiter(name = &quot;basic&quot;, fallbackMethod = &quot;rateLimiterFallback&quot;)\r\nsuspend fun getTradeEngineResponse(@Valid @RequestBody tradeEngineRequest: TradeEngineRequest): ResponseMessage {\r\n    return Response&lt;ResponseMessage&gt;().ok(\r\n            ResponseMessage(id = tradeEngineService.getTradeEngineResponse(tradeEngineRequest), message = SaasConstants.SUCCESS_MESSAGE)\r\n    )\r\n}\r\n```\r\n\r\nExpecting to have a flag before `@RateLimiter` annotation based on that apply ratelimiter","title":"I need to setup ratelimiting in controller level for an API&#39;s but with certain condition check wheather have to apply ratelimiting or not","body":"<p>Till now I have setup these, but it result in ratelimiting without any conditions</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>resilience4j.ratelimiter:\n  instances:\n    basic:\n      limitForPeriod: ${RATE_LIMIT_PERMISIBLE_HITS:1000}\n      limitRefreshPeriod: ${RATE_LIMIT_REFRESH_RATE:1h}\n      timeoutDuration: ${RATE_LIMIT_TIMEOUT:20s}\n      registerHealthIndicator: ${RATE_LIMIT_HEALTH_INDICATOR:true}\n      eventConsumerBufferSize: ${RATE_LIMIT_EVENT_BUFFER:100}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\n@RateLimiter(name = &quot;basic&quot;, fallbackMethod = &quot;rateLimiterFallback&quot;)\nsuspend fun getTradeEngineResponse(@Valid @RequestBody tradeEngineRequest: TradeEngineRequest): ResponseMessage {\n    return Response&lt;ResponseMessage&gt;().ok(\n            ResponseMessage(id = tradeEngineService.getTradeEngineResponse(tradeEngineRequest), message = SaasConstants.SUCCESS_MESSAGE)\n    )\n}\n</code></pre>\n<p>Expecting to have a flag before <code>@RateLimiter</code> annotation based on that apply ratelimiter</p>\n"},{"tags":["java","spring","spring-boot","crud-repository"],"answers":[{"comments":[{"owner":{"account_id":27372570,"reputation":21,"user_id":20878397,"display_name":"udacity training"},"score":0,"creation_date":1672228042,"post_id":74939863,"comment_id":132245818,"body_markdown":"ok so i just need to extend both?","body":"ok so i just need to extend both?"},{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672228186,"post_id":74939863,"comment_id":132245856,"body_markdown":"Why not use JpaRepository and have best of both worlds!","body":"Why not use JpaRepository and have best of both worlds!"},{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":0,"creation_date":1672228305,"post_id":74939863,"comment_id":132245888,"body_markdown":"Yes you could as the java doc of the PagingAndSortigRepository Interface suggests. https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#:~:text=Repository%20fragment%20to,Author%3A","body":"Yes you could as the java doc of the PagingAndSortigRepository Interface suggests. <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html#:~:text=Repository%20fragment%20to,Author%3A\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/commons/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":27372570,"reputation":21,"user_id":20878397,"display_name":"udacity training"},"score":0,"creation_date":1672266420,"post_id":74939863,"comment_id":132256318,"body_markdown":"@hiren good question, i am following a pluralsight course, i often wonder why","body":"@hiren good question, i am following a pluralsight course, i often wonder why"}],"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672227997,"creation_date":1672227997,"answer_id":74939863,"question_id":74939699,"body_markdown":"According to [Interface PagingAndSortingRepository][1], there is no save method in this interface. Hence your code is failing. \r\n\r\nBut [Interface CrudRepository][2] has a save method.\r\n\r\nAlso, this hierarchy might help to clear the picture even more:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\r\n  [2]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\r\n  [3]: https://i.stack.imgur.com/os3nS.png","title":"When i change from crudrepository to pagingand sortingrepository there is no save method","body":"<p>According to <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\" rel=\"nofollow noreferrer\">Interface PagingAndSortingRepository</a>, there is no save method in this interface. Hence your code is failing.</p>\n<p>But <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">Interface CrudRepository</a> has a save method.</p>\n<p>Also, this hierarchy might help to clear the picture even more:</p>\n<p><a href=\"https://i.stack.imgur.com/os3nS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/os3nS.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689827854,"post_id":76704389,"comment_id":135269138,"body_markdown":"All your links go to the javadoc for `CrudRepository`","body":"All your links go to the javadoc for <code>CrudRepository</code>"},{"owner":{"account_id":17604570,"reputation":383,"user_id":12773830,"display_name":"amine"},"score":1,"creation_date":1692193452,"post_id":76704389,"comment_id":135590646,"body_markdown":"You can extend both of them : public interface YourRepository extends PagingAndSortingRepository&lt;T, ID&gt;, CrudRepository&lt;T, ID&gt;","body":"You can extend both of them : public interface YourRepository extends PagingAndSortingRepository&lt;T, ID&gt;, CrudRepository&lt;T, ID&gt;"}],"tags":[],"owner":{"account_id":15864751,"reputation":21,"user_id":11447053,"display_name":"Ajit1789"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689596281,"creation_date":1689596281,"answer_id":76704389,"question_id":74939699,"body_markdown":"[PagingAndSortingRepository][1] repository has mainly been created for fetching records and not modify it. \r\n\r\nIn this case your repository interface can extend both [PagingAndSortingRepository][1] &amp; [CrudRepository][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html","title":"When i change from crudrepository to pagingand sortingrepository there is no save method","body":"<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">PagingAndSortingRepository</a> repository has mainly been created for fetching records and not modify it.</p>\n<p>In this case your repository interface can extend both <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">PagingAndSortingRepository</a> &amp; <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html\" rel=\"nofollow noreferrer\">CrudRepository</a></p>\n"}],"owner":{"account_id":27372570,"reputation":21,"user_id":20878397,"display_name":"udacity training"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689596281,"creation_date":1672227015,"question_id":74939699,"body_markdown":"When i change from crudrepository to pagingandsortingrepository there is no save method and the application begins to fail\r\n\r\n\r\n\r\n```\r\n      error: cannot find symbol\r\n                courses.save(course);\r\n                       ^\r\n      symbol:   method save(Course)\r\n      location: variable courses of type CourseRepository\r\n```\r\n\r\n\r\n\r\nI have tried extending both","title":"When i change from crudrepository to pagingand sortingrepository there is no save method","body":"<p>When i change from crudrepository to pagingandsortingrepository there is no save method and the application begins to fail</p>\n<pre><code>      error: cannot find symbol\n                courses.save(course);\n                       ^\n      symbol:   method save(Course)\n      location: variable courses of type CourseRepository\n</code></pre>\n<p>I have tried extending both</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":19832213,"reputation":476,"user_id":14526514,"display_name":"Reyot"},"score":0,"creation_date":1689579123,"post_id":76702138,"comment_id":135227746,"body_markdown":"can you print *names* before sorting and see if it&#39;s fine there?","body":"can you print <i>names</i> before sorting and see if it&#39;s fine there?"}],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689595684,"creation_date":1689595684,"answer_id":76704298,"question_id":76702138,"body_markdown":"It seems that the issue is with the way you&#39;re trying to sort the list. In your code, I can see you are using Collections.reverse(names) to sort the list in reverse order. However, this method only reverses the existing order of the elements in the list, without actually sorting them in reverse alphabetical order.\r\n\r\nTo sort the list of names in reverse alphabetical order, you can use the `Collections.sort(names, Collections.reverseOrder());` method with a ***custom Comparator*** that sorts the elements in reverse order. \r\n\r\n**Updated Code:**\r\n\r\n     Collections.sort(names, Collections.reverseOrder());\r\n\r\n**Output:**\r\n**[![Output:][2]][2]**\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/1SCVi.png","title":"What is the method to retrieve the contents of a column in reverse order using Selenium","body":"<p>It seems that the issue is with the way you're trying to sort the list. In your code, I can see you are using Collections.reverse(names) to sort the list in reverse order. However, this method only reverses the existing order of the elements in the list, without actually sorting them in reverse alphabetical order.</p>\n<p>To sort the list of names in reverse alphabetical order, you can use the <code>Collections.sort(names, Collections.reverseOrder());</code> method with a <em><strong>custom Comparator</strong></em> that sorts the elements in reverse order.</p>\n<p><strong>Updated Code:</strong></p>\n<pre><code> Collections.sort(names, Collections.reverseOrder());\n</code></pre>\n<p><strong>Output:</strong>\n<strong><a href=\"https://i.stack.imgur.com/1SCVi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1SCVi.png\" alt=\"Output:\" /></a></strong></p>\n"}],"owner":{"account_id":29031899,"reputation":1,"user_id":22238595,"display_name":"Theodore Bagwell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689595684,"creation_date":1689577410,"question_id":76702138,"body_markdown":"As a beginner in Selenium and Java, I have encountered difficulties sorting a dataTable. Specifically, I am attempting to click on the Name column in order to sort it in reverse order, as the default sorting is in alphabetical order. However, even after storing the data in a List and printing its contents, I still see them in alphabetical order [Prestige Park Grove](https://www.prestigesparkgrove.in/). I have been working on this issue for the past week.\r\n\r\n```\r\npublic void sortPrincipalNameColumn() {\r\n    loginPage.getSampleURL();\r\n    loginPage.loginAction(&quot;hello&quot;, &quot;password&quot;);\r\n\r\n    // Click on the Name column to sort it in reverse alphabetical order\r\n    WebElement nameColumn = driver.findElement(By.xpath(&quot;/html/body/div[1]/div[1]/div/div/div[1]/ul/li[4]/a&quot;));\r\n    nameColumn.click();\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\r\n    WebElement nameHeader = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;principals-table\\&quot;]/thead/tr/th[2]&quot;)));\r\n    nameHeader.click();\r\n\r\n    List&lt;WebElement&gt; nameElements = driver.findElements(By.xpath(&quot;//tr/td[2]&quot;));\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n\r\n    for (WebElement element : nameElements) {\r\n        names.add(element.getText());\r\n    }\r\n\r\n    // Sort the list in reverse order\r\n    Collections.reverse(names);\r\n\r\n    System.out.println(names);\r\n}\r\n```\r\n\r\nThe provided code did not produce the expected output of reverse alphabetical order. Despite the attempt to sort the list in reverse order, the printed output remains in alphabetical order","title":"What is the method to retrieve the contents of a column in reverse order using Selenium","body":"<p>As a beginner in Selenium and Java, I have encountered difficulties sorting a dataTable. Specifically, I am attempting to click on the Name column in order to sort it in reverse order, as the default sorting is in alphabetical order. However, even after storing the data in a List and printing its contents, I still see them in alphabetical order <a href=\"https://www.prestigesparkgrove.in/\" rel=\"nofollow noreferrer\">Prestige Park Grove</a>. I have been working on this issue for the past week.</p>\n<pre><code>public void sortPrincipalNameColumn() {\n    loginPage.getSampleURL();\n    loginPage.loginAction(&quot;hello&quot;, &quot;password&quot;);\n\n    // Click on the Name column to sort it in reverse alphabetical order\n    WebElement nameColumn = driver.findElement(By.xpath(&quot;/html/body/div[1]/div[1]/div/div/div[1]/ul/li[4]/a&quot;));\n    nameColumn.click();\n\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\n    WebElement nameHeader = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=\\&quot;principals-table\\&quot;]/thead/tr/th[2]&quot;)));\n    nameHeader.click();\n\n    List&lt;WebElement&gt; nameElements = driver.findElements(By.xpath(&quot;//tr/td[2]&quot;));\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n\n    for (WebElement element : nameElements) {\n        names.add(element.getText());\n    }\n\n    // Sort the list in reverse order\n    Collections.reverse(names);\n\n    System.out.println(names);\n}\n</code></pre>\n<p>The provided code did not produce the expected output of reverse alphabetical order. Despite the attempt to sort the list in reverse order, the printed output remains in alphabetical order</p>\n"},{"tags":["java","c#","web-services","serialization","sap-erp"],"comments":[{"owner":{"account_id":308462,"reputation":5916,"user_id":620355,"accept_rate":60,"display_name":"Jethro"},"score":1,"creation_date":1310973349,"post_id":6729580,"comment_id":7972511,"body_markdown":"can you show us what the bb object looks like when you serialize it locally to xml.","body":"can you show us what the bb object looks like when you serialize it locally to xml."},{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1689595356,"post_id":6729580,"comment_id":135231041,"body_markdown":"Difficult to say, if you don&#39;t provide the XML date format you send and the expected XML date format. Usually, SAP ERP (ECC, S/4HANA) standard webservices expect dates in format `YYYY-MM-DD` format (interpreted according to the time zone defined in the SAP system, unfortunately...), but I&#39;m not sure which SAP software and which Webservice you are talking about.","body":"Difficult to say, if you don&#39;t provide the XML date format you send and the expected XML date format. Usually, SAP ERP (ECC, S/4HANA) standard webservices expect dates in format <code>YYYY-MM-DD</code> format (interpreted according to the time zone defined in the SAP system, unfortunately...), but I&#39;m not sure which SAP software and which Webservice you are talking about."}],"answers":[{"comments":[{"owner":{"account_id":299123,"reputation":1551,"user_id":605537,"accept_rate":50,"display_name":"Adrian Hedley"},"score":0,"creation_date":1311064820,"post_id":6732985,"comment_id":7992964,"body_markdown":"so you mean you convert dates to Long?","body":"so you mean you convert dates to Long?"},{"owner":{"account_id":299123,"reputation":1551,"user_id":605537,"accept_rate":50,"display_name":"Adrian Hedley"},"score":0,"creation_date":1311149189,"post_id":6732985,"comment_id":8013342,"body_markdown":"We opted to change the webservice so it accepts date and time in agreed string formats. I think its the simplest. To avoid such a problem in the future I will make sure that only datetimes are exposed in a webservice.","body":"We opted to change the webservice so it accepts date and time in agreed string formats. I think its the simplest. To avoid such a problem in the future I will make sure that only datetimes are exposed in a webservice."},{"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"score":0,"creation_date":1311269153,"post_id":6732985,"comment_id":8043935,"body_markdown":"Yes, converting it to long. Both approaches (using Long or String) fits your needs anyways :)\n\nCould you mark the answer as accepted?","body":"Yes, converting it to long. Both approaches (using Long or String) fits your needs anyways :)  Could you mark the answer as accepted?"},{"owner":{"account_id":60800,"reputation":1229,"user_id":181506,"accept_rate":60,"display_name":"pharsicle"},"score":0,"creation_date":1358294180,"post_id":6732985,"comment_id":19948287,"body_markdown":"Serialization of dates or timestamps in XML should **always** be in [ISO-8601](http://en.wikipedia.org/wiki/ISO_8601) format, no exceptions. That is the best way to avoid ambiguities.","body":"Serialization of dates or timestamps in XML should <b>always</b> be in <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO-8601</a> format, no exceptions. That is the best way to avoid ambiguities."}],"tags":[],"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1310992749,"creation_date":1310992749,"answer_id":6732985,"question_id":6729580,"body_markdown":"I had some troubles doing that some time ago, and I decided to work with long properties, because it&#39;s the closest generic interop way to achieve it, since c#&#39;s DateTime and java&#39;s Date objects are different things from different languages.","title":"Serialize c# DateTime to Java Time and Java Date for SAP webservice","body":"<p>I had some troubles doing that some time ago, and I decided to work with long properties, because it's the closest generic interop way to achieve it, since c#'s DateTime and java's Date objects are different things from different languages.</p>\n"}],"owner":{"account_id":299123,"reputation":1551,"user_id":605537,"accept_rate":50,"display_name":"Adrian Hedley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6732985,"answer_count":1,"score":1,"last_activity_date":1689595483,"creation_date":1310972630,"question_id":6729580,"body_markdown":"I need to upload data to SAP via a webservice, using WCF in c# 4.0 (VS2010). I have been able to connect and post data to the using the webservice successfully, however I ran into a problem with date and time.\r\n\r\nI have an class called `MtrRdngDocERPRsltCrteReqRslt` having 2 fields called `ActualMeterReadingDate` and `ActualMeterReadingTime`. When Visual Studio generated the proxy class, it converted these objects as datetime objects, however I know they are Date and Time on the other end of the webservice (which is implemented in JAVA).\r\n\r\nThe problem is that when I pass datetime values to these fields, they are not getting serialized and are not being received on the other end.\r\n\r\nAlso note that when I serialize dates that are defined as `DateTime` by the webservice, these work perfectly.\r\n\r\nI have also used the following code to serialize the whole object and save it locally as xml on and I have the same problem.\r\n\r\n----------\r\n\r\n    public void SerializeToXML(MeterReadingUploadWS2.MtrRdngDocERPRsltBulkCrteReqMsg bb, string path)\r\n    {\r\n     System.Xml.Serialization.XmlSerializer x = new System.Xml.Serialization.XmlSerializer(bb.GetType());\r\n                \r\n                var serializer = new System.Xml.Serialization.XmlSerializer(bb.GetType());\r\n                \r\n                using (var writer = System.Xml.XmlWriter.Create(path))\r\n                {                        \r\n                    serializer.Serialize(writer, bb);\r\n                }\r\n            }\r\n","title":"Serialize c# DateTime to Java Time and Java Date for SAP webservice","body":"<p>I need to upload data to SAP via a webservice, using WCF in c# 4.0 (VS2010). I have been able to connect and post data to the using the webservice successfully, however I ran into a problem with date and time.</p>\n<p>I have an class called <code>MtrRdngDocERPRsltCrteReqRslt</code> having 2 fields called <code>ActualMeterReadingDate</code> and <code>ActualMeterReadingTime</code>. When Visual Studio generated the proxy class, it converted these objects as datetime objects, however I know they are Date and Time on the other end of the webservice (which is implemented in JAVA).</p>\n<p>The problem is that when I pass datetime values to these fields, they are not getting serialized and are not being received on the other end.</p>\n<p>Also note that when I serialize dates that are defined as <code>DateTime</code> by the webservice, these work perfectly.</p>\n<p>I have also used the following code to serialize the whole object and save it locally as xml on and I have the same problem.</p>\n<hr />\n<pre><code>public void SerializeToXML(MeterReadingUploadWS2.MtrRdngDocERPRsltBulkCrteReqMsg bb, string path)\n{\n System.Xml.Serialization.XmlSerializer x = new System.Xml.Serialization.XmlSerializer(bb.GetType());\n            \n            var serializer = new System.Xml.Serialization.XmlSerializer(bb.GetType());\n            \n            using (var writer = System.Xml.XmlWriter.Create(path))\n            {                        \n                serializer.Serialize(writer, bb);\n            }\n        }\n</code></pre>\n"},{"tags":["java","collections"],"answers":[{"comments":[{"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"score":0,"creation_date":1651998718,"post_id":72152967,"comment_id":127495503,"body_markdown":"Thank you for the pointers.  Great to hear that I&#39;m not the only one missing this feature and that it might get implemented at some point...  Amazing it&#39;s &quot;only&quot; taken some 15 years for this gap to be recognized.","body":"Thank you for the pointers.  Great to hear that I&#39;m not the only one missing this feature and that it might get implemented at some point...  Amazing it&#39;s &quot;only&quot; taken some 15 years for this gap to be recognized."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652111441,"post_id":72152967,"comment_id":127521399,"body_markdown":"@sxc731 your “15 years” looks very arbitrary. Either, you assume 24 years (since the introduction of the Collection API) or you assume 8 years (since the introduction of `default` methods which allow provide this feature later now without breaking compatibility).","body":"@sxc731 your “15 years” looks very arbitrary. Either, you assume 24 years (since the introduction of the Collection API) or you assume 8 years (since the introduction of <code>default</code> methods which allow provide this feature later now without breaking compatibility)."},{"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"score":0,"creation_date":1652114223,"post_id":72152967,"comment_id":127522404,"body_markdown":"@Holdger; I was referring to the introduction of the `Deque` in JDK 1.6; I suppose a `Sequence` super-interface to `Deque`and `List` could have been introduced at the same time without too much hassle?  Admittedly this would just address my simplistic use-case, not all the goodies from the JEP.","body":"@Holdger; I was referring to the introduction of the <code>Deque</code> in JDK 1.6; I suppose a <code>Sequence</code> super-interface to <code>Deque</code>and <code>List</code> could have been introduced at the same time without too much hassle?  Admittedly this would just address my simplistic use-case, not all the goodies from the JEP."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1651941527,"creation_date":1651929922,"answer_id":72152967,"question_id":72152905,"body_markdown":"There just happened to be a discussion about this in the OpenJDK mailing list. You can find an archive here: https://mail.openjdk.java.net/pipermail/core-libs-dev/2022-February/085683.html. That discussion mentions the new [*JEP draft: Sequenced Collections*](https://openjdk.java.net/jeps/8280836) launched this year, 2022-01. \r\n\r\nUntil that is resolved, I&#39;m afraid you&#39;ll have to resort to documenting that the collections need to be ordered, and trusting that callers adhere to your precondition.","title":"Java Collections API: missing a Sequence (ordered Collection) super-interface of List and Deque?","body":"<p>There just happened to be a discussion about this in the OpenJDK mailing list. You can find an archive here: <a href=\"https://mail.openjdk.java.net/pipermail/core-libs-dev/2022-February/085683.html\" rel=\"noreferrer\">https://mail.openjdk.java.net/pipermail/core-libs-dev/2022-February/085683.html</a>. That discussion mentions the new <a href=\"https://openjdk.java.net/jeps/8280836\" rel=\"noreferrer\"><em>JEP draft: Sequenced Collections</em></a> launched this year, 2022-01.</p>\n<p>Until that is resolved, I'm afraid you'll have to resort to documenting that the collections need to be ordered, and trusting that callers adhere to your precondition.</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689594986,"creation_date":1689594986,"answer_id":76704218,"question_id":72152905,"body_markdown":"[Sequenced Collections][1] API has already been integrated into JDK codebase and will be released along with JDK 21 on [September 19][2], 2023.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/431\r\n  [2]: https://openjdk.org/projects/jdk/21/","title":"Java Collections API: missing a Sequence (ordered Collection) super-interface of List and Deque?","body":"<p><a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">Sequenced Collections</a> API has already been integrated into JDK codebase and will be released along with JDK 21 on <a href=\"https://openjdk.org/projects/jdk/21/\" rel=\"nofollow noreferrer\">September 19</a>, 2023.</p>\n"}],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72152967,"answer_count":2,"score":5,"last_activity_date":1689594986,"creation_date":1651929475,"question_id":72152905,"body_markdown":"I need to expose an API - `consume(sequence)` below - which mandates that its argument `sequence` collection be ordered as in the below excerpt:\r\n```java\r\ninterface Consumer&lt;T&gt; {\r\n\t/**\r\n\t * @param sequence: an *ordered* collection of Ts to be processed in order\r\n\t */\r\n\tpublic void consume(Collection&lt;T&gt; sequence);\r\n}\r\n\r\ninterface Producer&lt;T&gt; {\r\n\tCollection&lt;T&gt; getSequence();\r\n}\r\n\r\nclass Producer1&lt;T&gt; implements Producer&lt;T&gt; {\r\n\tpublic List&lt;T&gt; getSequence() {\r\n\t\treturn new ArrayList&lt;&gt;();\r\n\t}\r\n}\r\nclass Producer2&lt;T&gt; implements Producer&lt;T&gt; {\r\n\tpublic Deque&lt;T&gt; getSequence() {\r\n\t\treturn new LinkedList&lt;&gt;();\r\n\t}\r\n}\r\n\r\nclass Test {\r\n\tvoid testMethod(Consumer&lt;Long&gt; consumer) {\r\n\t\tconsumer.consume(new Producer1&lt;Long&gt;().getSequence());\r\n\t\tconsumer.consume(new Producer2&lt;Long&gt;().getSequence());\r\n\t}\r\n}\r\n```\r\n\r\nTypically one would specify `consume()` as accepting a `List`; however, some producers also expose a `Deque`, so as to facilitate things like efficient reverse-iteration using `descendingIterator()`.  However `Deque` doesn&#39;t extend `List` and there are [likely good reasons][1] for this (O(n) cost of accessing an indexed element in a `LinkedList`).\r\n\r\nSo it seems the only way to &quot;keep the compiler happy&quot; is to specify `sequence` as a `Collection`; however, according to the [Javadoc][2] (and as we all know), a &quot;some are ordered and others unordered&quot;, so the `consume()` API looses in semantics.\r\n\r\nAnother workaround would be to have `Producer2` expose a `LinkedList` rather than a `Deque` (and revert `consume()` to accept a `List`) but we know it&#39;s not ideal to expose implementations rather than interfaces.\r\n\r\nIt seems the ideal solution would be for Java to provide a `Sequence` super-interface to `List` and `Deque` (extending `Iterable`).  I can imagine one reason this wasn&#39;t done is complexity but I think this example demonstrates the need.\r\n\r\nAm I missing a better strategy here or do I just need to wait for a revision of the API?  For the record, this is Java 17.\r\n\r\n  [1]: https://stackoverflow.com/q/44059003/645016\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html","title":"Java Collections API: missing a Sequence (ordered Collection) super-interface of List and Deque?","body":"<p>I need to expose an API - <code>consume(sequence)</code> below - which mandates that its argument <code>sequence</code> collection be ordered as in the below excerpt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Consumer&lt;T&gt; {\n    /**\n     * @param sequence: an *ordered* collection of Ts to be processed in order\n     */\n    public void consume(Collection&lt;T&gt; sequence);\n}\n\ninterface Producer&lt;T&gt; {\n    Collection&lt;T&gt; getSequence();\n}\n\nclass Producer1&lt;T&gt; implements Producer&lt;T&gt; {\n    public List&lt;T&gt; getSequence() {\n        return new ArrayList&lt;&gt;();\n    }\n}\nclass Producer2&lt;T&gt; implements Producer&lt;T&gt; {\n    public Deque&lt;T&gt; getSequence() {\n        return new LinkedList&lt;&gt;();\n    }\n}\n\nclass Test {\n    void testMethod(Consumer&lt;Long&gt; consumer) {\n        consumer.consume(new Producer1&lt;Long&gt;().getSequence());\n        consumer.consume(new Producer2&lt;Long&gt;().getSequence());\n    }\n}\n</code></pre>\n<p>Typically one would specify <code>consume()</code> as accepting a <code>List</code>; however, some producers also expose a <code>Deque</code>, so as to facilitate things like efficient reverse-iteration using <code>descendingIterator()</code>.  However <code>Deque</code> doesn't extend <code>List</code> and there are <a href=\"https://stackoverflow.com/q/44059003/645016\">likely good reasons</a> for this (O(n) cost of accessing an indexed element in a <code>LinkedList</code>).</p>\n<p>So it seems the only way to &quot;keep the compiler happy&quot; is to specify <code>sequence</code> as a <code>Collection</code>; however, according to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\">Javadoc</a> (and as we all know), a &quot;some are ordered and others unordered&quot;, so the <code>consume()</code> API looses in semantics.</p>\n<p>Another workaround would be to have <code>Producer2</code> expose a <code>LinkedList</code> rather than a <code>Deque</code> (and revert <code>consume()</code> to accept a <code>List</code>) but we know it's not ideal to expose implementations rather than interfaces.</p>\n<p>It seems the ideal solution would be for Java to provide a <code>Sequence</code> super-interface to <code>List</code> and <code>Deque</code> (extending <code>Iterable</code>).  I can imagine one reason this wasn't done is complexity but I think this example demonstrates the need.</p>\n<p>Am I missing a better strategy here or do I just need to wait for a revision of the API?  For the record, this is Java 17.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","performance","aws-lambda"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1685027709,"post_id":76333670,"comment_id":134606833,"body_markdown":"You only get millisecond response times if your lambda is warm AND you write good code. Apparently your lambda was not warm (360ms restore time) and your code was slow as well (200ms).","body":"You only get millisecond response times if your lambda is warm AND you write good code. Apparently your lambda was not warm (360ms restore time) and your code was slow as well (200ms)."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1685034042,"post_id":76333670,"comment_id":134608300,"body_markdown":"Are you wrapping a controller in an AWS Lambda function?","body":"Are you wrapping a controller in an AWS Lambda function?"},{"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"score":0,"creation_date":1685041876,"post_id":76333670,"comment_id":134609768,"body_markdown":"I use SpringBootLambdaContainerHandler. Code is in github link above.","body":"I use SpringBootLambdaContainerHandler. Code is in github link above."}],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689594982,"creation_date":1685026666,"question_id":76333670,"body_markdown":"I have created a helloworld proyect to run springboot in a lambda with java 11. Project don&#180;t have integrations, no bbdd or anything else. When I invoke the endpoint, the first time take about 5 seconds. \r\n\r\nLater I began to use SnapStart, so the first invoke takes 1,7 seconds now. Still a lot of time.\r\n\r\nLatency to my region is only 70ms.\r\n\r\nThe proyect is in github: https://github.com/nebur43/javaTest/tree/master/_AWS/holamundo-sam-aws-springboot\r\n\r\nCloudwatch is:\r\n\r\n    RESTORE_START Runtime Version: java:11.v19\tRuntime Version ARN: arn:aws:lambda:eu-central-1::runtime:XXXXXXXX\r\n    RESTORE_REPORT Restore Duration: 361.18 ms\r\n    START RequestId: XXXXXXXXX Version: 1\r\n    2023-05-25 14:34:19.456  INFO 8 --- [           main] c.n.h.controller.HolaController          : recuperando saludo...\r\n    2023-05-25 14:34:19.486  INFO 8 --- [           main] c.a.s.p.internal.LambdaContainerHandler  : x.xxx.xxx.xxx null- null [25/05/2023:14:34:18Z] &quot;GET /saludo HTTP/1.1&quot; 200 73 &quot;-&quot; &quot;PostmanRuntime/7.32.2&quot; combined\r\n    END RequestId: XXXXXXX\r\n    REPORT RequestId: XXXXXXX\tDuration: 205.50 ms\tBilled Duration: 430 ms\tMemory Size: 2048 MB\tMax Memory Used: 127 MB\tRestore Duration: 361.18 ms\tBilled Restore Duration: 224 ms\t\r\n\r\nIs it possible to reduce time less than 1 second? I see in some youtube videos lower times.\r\n\r\ntemplate.yaml\r\n\r\n    AWSTemplateFormatVersion: &#39;2010-09-09&#39;\r\n    Transform: &#39;AWS::Serverless-2016-10-31&#39;\r\n    \r\n    Resources:\r\n      HelloWorldFunction:\r\n        Type: &#39;AWS::Serverless::Function&#39;\r\n        Properties:\r\n          CodeUri: .\r\n          Handler: com.nebur.holamundosamawsspringboot.StreamLambdaHandler::handleRequest\r\n          Runtime: java11\r\n          AutoPublishAlias: production\r\n          SnapStart:\r\n            ApplyOn: PublishedVersions\r\n          Architectures:\r\n            - x86_64\r\n          MemorySize: 512      \r\n          Environment: # More info about Env Vars: https://github.com/awslabs/serverless-application-model/blob/master/versions/2016-10-31.md#environment-object\r\n            Variables:\r\n              JAVA_TOOL_OPTIONS: -XX:+TieredCompilation -XX:TieredStopAtLevel=1 # More info about tiered compilation https://aws.amazon.com/blogs/compute/optimizing-aws-lambda-function-performance-for-java/      \r\n          Events:\r\n            HelloWorld:\r\n              Type: Api\r\n              Properties:\r\n                Path: /{proxy+}\r\n                Method: ANY","title":"Java aws lambda with SnapStart and springboot still take 1744ms","body":"<p>I have created a helloworld proyect to run springboot in a lambda with java 11. Project don´t have integrations, no bbdd or anything else. When I invoke the endpoint, the first time take about 5 seconds.</p>\n<p>Later I began to use SnapStart, so the first invoke takes 1,7 seconds now. Still a lot of time.</p>\n<p>Latency to my region is only 70ms.</p>\n<p>The proyect is in github: <a href=\"https://github.com/nebur43/javaTest/tree/master/_AWS/holamundo-sam-aws-springboot\" rel=\"nofollow noreferrer\">https://github.com/nebur43/javaTest/tree/master/_AWS/holamundo-sam-aws-springboot</a></p>\n<p>Cloudwatch is:</p>\n<pre><code>RESTORE_START Runtime Version: java:11.v19  Runtime Version ARN: arn:aws:lambda:eu-central-1::runtime:XXXXXXXX\nRESTORE_REPORT Restore Duration: 361.18 ms\nSTART RequestId: XXXXXXXXX Version: 1\n2023-05-25 14:34:19.456  INFO 8 --- [           main] c.n.h.controller.HolaController          : recuperando saludo...\n2023-05-25 14:34:19.486  INFO 8 --- [           main] c.a.s.p.internal.LambdaContainerHandler  : x.xxx.xxx.xxx null- null [25/05/2023:14:34:18Z] &quot;GET /saludo HTTP/1.1&quot; 200 73 &quot;-&quot; &quot;PostmanRuntime/7.32.2&quot; combined\nEND RequestId: XXXXXXX\nREPORT RequestId: XXXXXXX   Duration: 205.50 ms Billed Duration: 430 ms Memory Size: 2048 MB    Max Memory Used: 127 MB Restore Duration: 361.18 ms Billed Restore Duration: 224 ms \n</code></pre>\n<p>Is it possible to reduce time less than 1 second? I see in some youtube videos lower times.</p>\n<p>template.yaml</p>\n<pre><code>AWSTemplateFormatVersion: '2010-09-09'\nTransform: 'AWS::Serverless-2016-10-31'\n\nResources:\n  HelloWorldFunction:\n    Type: 'AWS::Serverless::Function'\n    Properties:\n      CodeUri: .\n      Handler: com.nebur.holamundosamawsspringboot.StreamLambdaHandler::handleRequest\n      Runtime: java11\n      AutoPublishAlias: production\n      SnapStart:\n        ApplyOn: PublishedVersions\n      Architectures:\n        - x86_64\n      MemorySize: 512      \n      Environment: # More info about Env Vars: https://github.com/awslabs/serverless-application-model/blob/master/versions/2016-10-31.md#environment-object\n        Variables:\n          JAVA_TOOL_OPTIONS: -XX:+TieredCompilation -XX:TieredStopAtLevel=1 # More info about tiered compilation https://aws.amazon.com/blogs/compute/optimizing-aws-lambda-function-performance-for-java/      \n      Events:\n        HelloWorld:\n          Type: Api\n          Properties:\n            Path: /{proxy+}\n            Method: ANY\n</code></pre>\n"},{"tags":["java","authentication","jwt","quarkus"],"comments":[{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":0,"creation_date":1689521917,"post_id":76698369,"comment_id":135222224,"body_markdown":"I&#39;d doublecheck your jwt looks alright with https://jwt.io/ just to make sure.\n\nAlso, there should be some log output explaining what exactly went wrong with the request. Mind finding and posting it?","body":"I&#39;d doublecheck your jwt looks alright with <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> just to make sure.  Also, there should be some log output explaining what exactly went wrong with the request. Mind finding and posting it?"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689526588,"post_id":76698369,"comment_id":135222719,"body_markdown":"{\n  &quot;iss&quot;: &quot;module-y-jwt&quot;,\n  &quot;sub&quot;: &quot;module-y-jwt&quot;,\n  &quot;groups&quot;: [\n    &quot;admin, writer&quot;\n  ],\n  &quot;exp&quot;: 1689526448392,\n  &quot;iat&quot;: 1689526444,\n  &quot;jti&quot;: &quot;d7d4bac8-fda3-450b-a196-d7b353b27cca&quot;\n}","body":"{   &quot;iss&quot;: &quot;module-y-jwt&quot;,   &quot;sub&quot;: &quot;module-y-jwt&quot;,   &quot;groups&quot;: [     &quot;admin, writer&quot;   ],   &quot;exp&quot;: 1689526448392,   &quot;iat&quot;: 1689526444,   &quot;jti&quot;: &quot;d7d4bac8-fda3-450b-a196-d7b353b27cca&quot; }"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689526820,"post_id":76698369,"comment_id":135222759,"body_markdown":"@Snappawapa you can find the payload (from jwt.io) of the jwt above. Nothing special if you ask me... Also I do not see any loggings the terminal. Should I add some properties to see those?","body":"@Snappawapa you can find the payload (from jwt.io) of the jwt above. Nothing special if you ask me... Also I do not see any loggings the terminal. Should I add some properties to see those?"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689527570,"post_id":76698369,"comment_id":135222844,"body_markdown":"This is the code if you want to have a look at it: https://github.com/Tom-De-Backer/immo-accent/tree/authentication_youtube1","body":"This is the code if you want to have a look at it: <a href=\"https://github.com/Tom-De-Backer/immo-accent/tree/authentication_youtube1\" rel=\"nofollow noreferrer\">github.com/Tom-De-Backer/immo-accent/tree/&hellip;</a>"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1689531827,"post_id":76698369,"comment_id":135223328,"body_markdown":"It all looks correct. Can you confirm JWT token is actually passed as a bearer access token with GET ? I can have a look if you can create a simple reproducer and share a link","body":"It all looks correct. Can you confirm JWT token is actually passed as a bearer access token with GET ? I can have a look if you can create a simple reproducer and share a link"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689533359,"post_id":76698369,"comment_id":135223509,"body_markdown":"@SergeyBeryozkin Yes, this is the curl request:\ncurl -X &#39;GET&#39; \\\n  &#39;http://localhost:8081/price-request/all&#39; \\\n  -H &#39;accept: */*&#39; \\\n  -H &#39;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJS...5QoKjBwVjpIYcw&#39;","body":"@SergeyBeryozkin Yes, this is the curl request: curl -X &#39;GET&#39; \\   &#39;<a href=\"http://localhost:8081/price-request/all\" rel=\"nofollow noreferrer\">localhost:8081/price-request/all</a>&#39; \\   -H &#39;accept: <i>/</i>&#39; \\   -H &#39;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJS...5QoKjBwVjpIYcw&#39;"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1689583624,"post_id":76698369,"comment_id":135228634,"body_markdown":"@JanD.M., Thanks, I see what the problem is now, you have `.groups(roles)` - it creates a `groups` claim but on the receiving end you are customizing with `smallrye.jwt.path.groups=roles` thus `smallrye-jwt` expects to find a `roles` claim. `groups` is checked by default in the MP-JWT space, so dropping `smallrye.jwt.path.groups=roles` should fix the problem, please check","body":"@JanD.M., Thanks, I see what the problem is now, you have <code>.groups(roles)</code> - it creates a <code>groups</code> claim but on the receiving end you are customizing with <code>smallrye.jwt.path.groups=roles</code> thus <code>smallrye-jwt</code> expects to find a <code>roles</code> claim. <code>groups</code> is checked by default in the MP-JWT space, so dropping <code>smallrye.jwt.path.groups=roles</code> should fix the problem, please check"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689586014,"post_id":76698369,"comment_id":135229118,"body_markdown":"Just tried it, but removing the `smallrye.jwt.path.groups=roles` does not resolve the problem...","body":"Just tried it, but removing the <code>smallrye.jwt.path.groups=roles</code> does not resolve the problem..."},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1689586831,"post_id":76698369,"comment_id":135229290,"body_markdown":"@JanD.M. OK, thanks, can you create a test token and paste somewhere please for me to check against this config ?","body":"@JanD.M. OK, thanks, can you create a test token and paste somewhere please for me to check against this config ?"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":1,"creation_date":1689586871,"post_id":76698369,"comment_id":135229301,"body_markdown":"Never mind, I can do it myself, will do soon today","body":"Never mind, I can do it myself, will do soon today"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":1,"creation_date":1689591685,"post_id":76698369,"comment_id":135230273,"body_markdown":"@JanD.M. I&#39;ve opened a draft PR: https://github.com/quarkusio/quarkus/pull/34786, these tests pass. I&#39;ve created the keys as described above (though `-ii` parameter in `genRsa` was not used). I feel like some details are missing. After checking your comments above I may have spotted the problem, `&quot;groups&quot;: [ &quot;admin, writer&quot; ]` - this is not an array of 2 strings but a single string array. Use either `&quot;groups&quot;: [ &quot;admin&quot;, &quot;writer&quot;]` (preferred) or `&quot;groups&quot;: &quot;admin,writer&quot;` - but in the latter case you&#39;d need to set `smallrye.jwt.groups-separator=,` as ` ` is default in the latter case","body":"@JanD.M. I&#39;ve opened a draft PR: <a href=\"https://github.com/quarkusio/quarkus/pull/34786\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/pull/34786</a>, these tests pass. I&#39;ve created the keys as described above (though <code>-ii</code> parameter in <code>genRsa</code> was not used). I feel like some details are missing. After checking your comments above I may have spotted the problem, <code>&quot;groups&quot;: [ &quot;admin, writer&quot; ]</code> - this is not an array of 2 strings but a single string array. Use either <code>&quot;groups&quot;: [ &quot;admin&quot;, &quot;writer&quot;]</code> (preferred) or <code>&quot;groups&quot;: &quot;admin,writer&quot;</code> - but in the latter case you&#39;d need to set <code>smallrye.jwt.groups-separator=,</code> as ` ` is default in the latter case"},{"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"score":0,"creation_date":1689593695,"post_id":76698369,"comment_id":135230679,"body_markdown":"Oh that was indeed the problem. I added the code snippet to the question so you could add the answer :) Thanks!","body":"Oh that was indeed the problem. I added the code snippet to the question so you could add the answer :) Thanks!"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1689594172,"post_id":76698369,"comment_id":135230785,"body_markdown":"Great, sounds good","body":"Great, sounds good"}],"answers":[{"tags":[],"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689594687,"creation_date":1689594687,"answer_id":76704173,"question_id":76698369,"body_markdown":"Please set roles like this:\r\n```\r\nSet&lt;String&gt; roles = new HashSet&lt;&gt;(\r\n            List.of(&quot;admin&quot;, &quot;writer&quot;)\r\n    );\r\n```\r\notherwise a single string array is created with this string having 2 comma separated roles. In this case, when `smallrye-jwt` detects that a `groups` (or other claim configured with `smallrye.jwt.groups.path`) claim is an array of strings, it treats each array string as an individual value.\r\n\r\nSometimes a claim representing roles is indeed a single non-array string - in such cases `smallrye-jwt` will split this string by space, but the separator can be configured with `smallrye.jwt.groups-separator`.\r\nHTH","title":"RolesAllowed in Quarkus with JWT Authentication always returns 403 Forbidden","body":"<p>Please set roles like this:</p>\n<pre><code>Set&lt;String&gt; roles = new HashSet&lt;&gt;(\n            List.of(&quot;admin&quot;, &quot;writer&quot;)\n    );\n</code></pre>\n<p>otherwise a single string array is created with this string having 2 comma separated roles. In this case, when <code>smallrye-jwt</code> detects that a <code>groups</code> (or other claim configured with <code>smallrye.jwt.groups.path</code>) claim is an array of strings, it treats each array string as an individual value.</p>\n<p>Sometimes a claim representing roles is indeed a single non-array string - in such cases <code>smallrye-jwt</code> will split this string by space, but the separator can be configured with <code>smallrye.jwt.groups-separator</code>.\nHTH</p>\n"}],"owner":{"account_id":10383987,"reputation":2344,"user_id":7657749,"display_name":"Jan D.M."},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76704173,"answer_count":1,"score":1,"last_activity_date":1689594687,"creation_date":1689512089,"question_id":76698369,"body_markdown":"I have a method in my controller of `Module X` which should be secured by a `@RolesAllowed` annotation:\r\n\r\n    @GET\r\n    @RolesAllowed(&quot;admin&quot;)\r\n    public Response findAllPriceRequests() {\r\n        return Response.ok(serviceX.findAllPrices()).build();\r\n    }\r\n\r\nI have another `Module Y-jwt` which contains an api call to retrieve a Jwt like this:\r\n\r\n    public String generateJwt() {\r\n        Set&lt;String&gt; roles = new HashSet&lt;&gt;(\r\n                List.of(&quot;admin&quot;)\r\n        );\r\n        long duration = System.currentTimeMillis() + 3600;\r\n        return Jwt.issuer(&quot;y-jwt&quot;)\r\n                .subject(&quot;y-jwt&quot;)\r\n                .groups(roles)\r\n                .expiresAt(duration)\r\n                .sign();\r\n    }\r\n\r\nThe application.properties file of `Module Y-jwt` contains the following:\r\n\r\n    quarkus.http.port=8082\r\n    \r\n    smallrye.jwt.sign.key.location=../jwt/privateKey.pem\r\n    smallrye.jwt.path.groups=roles\r\n\r\nThe one from `Module x` contains:\r\n\r\n    quarkus.swagger-ui.always-include=true\r\n    mp.jwt.verify.issuer=immo-jwt\r\n    mp.jwt.verify.publickey.location=../jwt/publicKey.pem\r\n    smallrye.jwt.path.groups=roles\r\n\r\nThe keys are created in the following way:\r\n\r\n    mkdir jwt\r\n    openssl genrsa -out jwt/rsaPrivateKey.pem 2048 -ii\r\n    openssl rsa -pubout -in jwt/rsaPrivateKey.pem -out jwt/publicKey.pem\r\n    openssl pkcs8 -topk8 -nocrypt -inform pem -in jwt/rsaPrivateKey.pem -outform pem -out jwt/privateKey.pem\r\n\r\n\r\nIn `Module X` this dependency is added:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn `Module Y-jwt` this one is added: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-smallrye-jwt-build&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow, when I try to execute the GET call of Module X with the JWT of Module Y-jwt, then I get back a 403 Forbidden code. So there must be something wrong, because I think it can authenticate me, but not authorise me to execute the actual method that I want.\r\n\r\nWhat did I do wrong?\r\n\r\nUPDATE:\r\nThe code to generate my JWT:\r\n\r\n    public String generateJwt() {\r\n        Set&lt;String&gt; roles = new HashSet&lt;&gt;(\r\n                List.of(&quot;admin, writer&quot;)\r\n        );\r\n        long duration = System.currentTimeMillis() + 3600;\r\n        return Jwt.issuer(&quot;y-jwt&quot;)\r\n                .subject(&quot;y-jwt&quot;)\r\n                .groups(roles)\r\n                .expiresAt(duration)\r\n                .sign();\r\n    }\r\n","title":"RolesAllowed in Quarkus with JWT Authentication always returns 403 Forbidden","body":"<p>I have a method in my controller of <code>Module X</code> which should be secured by a <code>@RolesAllowed</code> annotation:</p>\n<pre><code>@GET\n@RolesAllowed(&quot;admin&quot;)\npublic Response findAllPriceRequests() {\n    return Response.ok(serviceX.findAllPrices()).build();\n}\n</code></pre>\n<p>I have another <code>Module Y-jwt</code> which contains an api call to retrieve a Jwt like this:</p>\n<pre><code>public String generateJwt() {\n    Set&lt;String&gt; roles = new HashSet&lt;&gt;(\n            List.of(&quot;admin&quot;)\n    );\n    long duration = System.currentTimeMillis() + 3600;\n    return Jwt.issuer(&quot;y-jwt&quot;)\n            .subject(&quot;y-jwt&quot;)\n            .groups(roles)\n            .expiresAt(duration)\n            .sign();\n}\n</code></pre>\n<p>The application.properties file of <code>Module Y-jwt</code> contains the following:</p>\n<pre><code>quarkus.http.port=8082\n\nsmallrye.jwt.sign.key.location=../jwt/privateKey.pem\nsmallrye.jwt.path.groups=roles\n</code></pre>\n<p>The one from <code>Module x</code> contains:</p>\n<pre><code>quarkus.swagger-ui.always-include=true\nmp.jwt.verify.issuer=immo-jwt\nmp.jwt.verify.publickey.location=../jwt/publicKey.pem\nsmallrye.jwt.path.groups=roles\n</code></pre>\n<p>The keys are created in the following way:</p>\n<pre><code>mkdir jwt\nopenssl genrsa -out jwt/rsaPrivateKey.pem 2048 -ii\nopenssl rsa -pubout -in jwt/rsaPrivateKey.pem -out jwt/publicKey.pem\nopenssl pkcs8 -topk8 -nocrypt -inform pem -in jwt/rsaPrivateKey.pem -outform pem -out jwt/privateKey.pem\n</code></pre>\n<p>In <code>Module X</code> this dependency is added:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-smallrye-jwt&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In <code>Module Y-jwt</code> this one is added:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-smallrye-jwt-build&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now, when I try to execute the GET call of Module X with the JWT of Module Y-jwt, then I get back a 403 Forbidden code. So there must be something wrong, because I think it can authenticate me, but not authorise me to execute the actual method that I want.</p>\n<p>What did I do wrong?</p>\n<p>UPDATE:\nThe code to generate my JWT:</p>\n<pre><code>public String generateJwt() {\n    Set&lt;String&gt; roles = new HashSet&lt;&gt;(\n            List.of(&quot;admin, writer&quot;)\n    );\n    long duration = System.currentTimeMillis() + 3600;\n    return Jwt.issuer(&quot;y-jwt&quot;)\n            .subject(&quot;y-jwt&quot;)\n            .groups(roles)\n            .expiresAt(duration)\n            .sign();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1636333593,"post_id":69876619,"comment_id":123521162,"body_markdown":"Small side note: You don&#39;t have to use `th:method=&quot;POST&quot;`, since this is a literal value (`POST`) and not a Thymeleaf expression. You can just use `method=&quot;POST&quot;`. Having said that, I assume using `th:method=&quot;POST&quot;` will still work as expected, in this specific case, because `POST` is a Thymeleaf [literal token](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#literal-tokens), here.","body":"Small side note: You don&#39;t have to use <code>th:method=&quot;POST&quot;</code>, since this is a literal value (<code>POST</code>) and not a Thymeleaf expression. You can just use <code>method=&quot;POST&quot;</code>. Having said that, I assume using <code>th:method=&quot;POST&quot;</code> will still work as expected, in this specific case, because <code>POST</code> is a Thymeleaf <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#literal-tokens\" rel=\"nofollow noreferrer\">literal token</a>, here."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636360719,"post_id":69876619,"comment_id":123526033,"body_markdown":"Use `th:field` ditch `th:value`, `name` and `id` those actually break proper binding when used with `th:field`.","body":"Use <code>th:field</code> ditch <code>th:value</code>, <code>name</code> and <code>id</code> those actually break proper binding when used with <code>th:field</code>."}],"answers":[{"comments":[{"owner":{"account_id":23266660,"reputation":1,"user_id":17352097,"display_name":"rimbuda"},"score":0,"creation_date":1636354203,"post_id":69877652,"comment_id":123524226,"body_markdown":"I tried this one too and put my data into `name=&quot;&quot;`, but it still won&#39;t work. I assume the program retrieves ClientID and ProcedureID with zero values. I can&#39;t figure out how to render my values. Could you advise? And thanks a lot!","body":"I tried this one too and put my data into <code>name=&quot;&quot;</code>, but it still won&#39;t work. I assume the program retrieves ClientID and ProcedureID with zero values. I can&#39;t figure out how to render my values. Could you advise? And thanks a lot!"},{"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"score":0,"creation_date":1636381707,"post_id":69877652,"comment_id":123534422,"body_markdown":"Don&#39;t use `name=&quot;...&quot;`.  This can break the binding. The `th:field` will add both id and name attributes. Also, you are initializing treatment with `new Treatment()`. Both ClientID and ProcedureID will have the values defined in this constructor. If you don&#39;t explicitly initialize them they will have value 0. If you need to have them initialized to something else do so in `addProcedure()`.","body":"Don&#39;t use <code>name=&quot;...&quot;</code>.  This can break the binding. The <code>th:field</code> will add both id and name attributes. Also, you are initializing treatment with <code>new Treatment()</code>. Both ClientID and ProcedureID will have the values defined in this constructor. If you don&#39;t explicitly initialize them they will have value 0. If you need to have them initialized to something else do so in <code>addProcedure()</code>."}],"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636332254,"creation_date":1636332254,"answer_id":69877652,"question_id":69876619,"body_markdown":"Try using the following:\r\n```\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{ClientID}&quot;&gt;\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{ProcedureID}&quot;&gt;\r\n```\r\nNotice the use of * instead of $. Also, values in the `th:field` attributes are properties of the object specified by the `th:object` attribute. `th:field` will render the id and name attributes for you.","title":"Thymeleaf: retrieve value of hidden input to controller","body":"<p>Try using the following:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; th:field=&quot;*{ClientID}&quot;&gt;\n&lt;input type=&quot;hidden&quot; th:field=&quot;*{ProcedureID}&quot;&gt;\n</code></pre>\n<p>Notice the use of * instead of $. Also, values in the <code>th:field</code> attributes are properties of the object specified by the <code>th:object</code> attribute. <code>th:field</code> will render the id and name attributes for you.</p>\n"},{"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1689857292,"post_id":76704129,"comment_id":135274584,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76704129/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25472021,"reputation":1,"user_id":19270043,"display_name":"Dawid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689594354,"creation_date":1689594354,"answer_id":76704129,"question_id":69876619,"body_markdown":"    &lt;input type=&quot;text&quot; hidden th:field=&quot;*{ClientID}&quot; th:value=&quot;${treatment.ClientID}&quot;&gt;\r\n\r\nSomething like this should work.","title":"Thymeleaf: retrieve value of hidden input to controller","body":"<pre><code>&lt;input type=&quot;text&quot; hidden th:field=&quot;*{ClientID}&quot; th:value=&quot;${treatment.ClientID}&quot;&gt;\n</code></pre>\n<p>Something like this should work.</p>\n"}],"owner":{"account_id":23266660,"reputation":1,"user_id":17352097,"display_name":"rimbuda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689594354,"creation_date":1636320109,"question_id":69876619,"body_markdown":"I am trying to get values stored in the hidden inputs by creating submit button. But the program won&#39;t bind values to the object.\r\n\r\n**HTML file**\r\n```\r\n&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/client/1/allprocedures}&quot; th:object=&quot;${treatment}&quot;&gt;\r\n         &lt;input type=&quot;hidden&quot; th:value=&quot;${treatment.ClientID}&quot; name=&quot;1&quot; id=&quot;1&quot;&gt;\r\n         &lt;input type=&quot;hidden&quot; th:value=&quot;${treatment.ProcedureID}&quot; name=&quot;128&quot; id=&quot;128&quot;&gt;\r\n         &lt;input class=&quot;btn btn-outline-primary btn-sm mt-2 w-100&quot; type=&quot;submit&quot; value=&quot;Buy&quot;/&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n**Controllers**\r\n```\r\n@GetMapping(&quot;/{id}/allprocedures/add&quot;)\r\n    public String addProcedure(Model model){\r\n        model.addAttribute(&quot;treatment&quot;, new Treatment());\r\n        return &quot;addProcedure&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/{id}/allprocedures&quot;)\r\n    public String saveProcedure(@ModelAttribute(&quot;treatment&quot;) Treatment treatment,\r\n                               @PathVariable(&quot;id&quot;) int id,\r\n                               BindingResult bindingResult){\r\n        if(bindingResult.hasErrors())\r\n            return &quot;procedurelist&quot;;\r\n        return &quot;redirect:/client/&quot;+ id +&quot;/allprocedures&quot;;\r\n    }\r\n```\r\n\r\n**Treatment model**\r\n```\r\npublic class Treatment {\r\n    private int ClientID, ProcedureID;\r\n}\r\n// constructor, getters and setters\r\n```\r\n\r\nController works fine. When i input data manually by using text input, the program works as should:\r\n```\r\n&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/client/1/allprocedures}&quot; th:object=&quot;${treatment}&quot;&gt;\r\n         &lt;input type=&quot;text&quot; th:field=&quot;${treatment.ClientID}&quot;&gt;\r\n         &lt;input type=&quot;text&quot; th:field=&quot;${treatment.ProcedureID}&quot;&gt;\r\n         &lt;input class=&quot;btn btn-outline-primary btn-sm mt-2 w-100&quot; type=&quot;submit&quot; value=&quot;Buy&quot;/&gt;\r\n&lt;/form&gt;\r\n```\r\nAt the same time, when i use `th:field` and `name=&quot;&quot; id=&quot;&quot;`, it won&#39;t work too.\r\nI also tried using `th:value=&quot;name=&quot;&quot;`, but it doesn&#39;t work:\r\n```\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;${treatment.ClientID}&quot; th:attr=&quot;name=1&quot;&gt;\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;${treatment.ProcedureID}&quot; th:attr=&quot;name=128&quot;&gt;\r\n```\r\n\r\nCan somebody help or advise? Thanks in advance!","title":"Thymeleaf: retrieve value of hidden input to controller","body":"<p>I am trying to get values stored in the hidden inputs by creating submit button. But the program won't bind values to the object.</p>\n<p><strong>HTML file</strong></p>\n<pre><code>&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/client/1/allprocedures}&quot; th:object=&quot;${treatment}&quot;&gt;\n         &lt;input type=&quot;hidden&quot; th:value=&quot;${treatment.ClientID}&quot; name=&quot;1&quot; id=&quot;1&quot;&gt;\n         &lt;input type=&quot;hidden&quot; th:value=&quot;${treatment.ProcedureID}&quot; name=&quot;128&quot; id=&quot;128&quot;&gt;\n         &lt;input class=&quot;btn btn-outline-primary btn-sm mt-2 w-100&quot; type=&quot;submit&quot; value=&quot;Buy&quot;/&gt;\n&lt;/form&gt;\n</code></pre>\n<p><strong>Controllers</strong></p>\n<pre><code>@GetMapping(&quot;/{id}/allprocedures/add&quot;)\n    public String addProcedure(Model model){\n        model.addAttribute(&quot;treatment&quot;, new Treatment());\n        return &quot;addProcedure&quot;;\n    }\n\n    @PostMapping(&quot;/{id}/allprocedures&quot;)\n    public String saveProcedure(@ModelAttribute(&quot;treatment&quot;) Treatment treatment,\n                               @PathVariable(&quot;id&quot;) int id,\n                               BindingResult bindingResult){\n        if(bindingResult.hasErrors())\n            return &quot;procedurelist&quot;;\n        return &quot;redirect:/client/&quot;+ id +&quot;/allprocedures&quot;;\n    }\n</code></pre>\n<p><strong>Treatment model</strong></p>\n<pre><code>public class Treatment {\n    private int ClientID, ProcedureID;\n}\n// constructor, getters and setters\n</code></pre>\n<p>Controller works fine. When i input data manually by using text input, the program works as should:</p>\n<pre><code>&lt;form th:method=&quot;POST&quot; th:action=&quot;@{/client/1/allprocedures}&quot; th:object=&quot;${treatment}&quot;&gt;\n         &lt;input type=&quot;text&quot; th:field=&quot;${treatment.ClientID}&quot;&gt;\n         &lt;input type=&quot;text&quot; th:field=&quot;${treatment.ProcedureID}&quot;&gt;\n         &lt;input class=&quot;btn btn-outline-primary btn-sm mt-2 w-100&quot; type=&quot;submit&quot; value=&quot;Buy&quot;/&gt;\n&lt;/form&gt;\n</code></pre>\n<p>At the same time, when i use <code>th:field</code> and <code>name=&quot;&quot; id=&quot;&quot;</code>, it won't work too.\nI also tried using <code>th:value=&quot;name=&quot;&quot;</code>, but it doesn't work:</p>\n<pre><code>&lt;input type=&quot;hidden&quot; th:field=&quot;${treatment.ClientID}&quot; th:attr=&quot;name=1&quot;&gt;\n&lt;input type=&quot;hidden&quot; th:field=&quot;${treatment.ProcedureID}&quot; th:attr=&quot;name=128&quot;&gt;\n</code></pre>\n<p>Can somebody help or advise? Thanks in advance!</p>\n"},{"tags":["python","java","discord","bots","drop"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689599917,"post_id":76704091,"comment_id":135232134,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29033666,"reputation":1,"user_id":22240045,"display_name":"kth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689594035,"creation_date":1689594035,"question_id":76704091,"body_markdown":"I want to make a new bot to collect cards in discord (e.g. ningning bot) but I can&#39;t find what the code is to drop a letter, could someone help me? Thank you in advance! I&#39;m new to this, sorry.\r\n\r\nI confess that I haven&#39;t tried any code because I can&#39;t think of which one I could use \r\n\r\nBut I&#39;ll try all the codes/methods","title":"Drop images from a database","body":"<p>I want to make a new bot to collect cards in discord (e.g. ningning bot) but I can't find what the code is to drop a letter, could someone help me? Thank you in advance! I'm new to this, sorry.</p>\n<p>I confess that I haven't tried any code because I can't think of which one I could use</p>\n<p>But I'll try all the codes/methods</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1688801818,"post_id":76637938,"comment_id":135125160,"body_markdown":"Can you please share a couple of sample data?","body":"Can you please share a couple of sample data?"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1688807748,"post_id":76637938,"comment_id":135125731,"body_markdown":"I can do, once I get to my computer. It is really weird that the code works perfectly. Then I created a unit test to cover edge cases and it behaves differently. I have no idea why it doesn&#39;t initialize these object array properties in the test score.","body":"I can do, once I get to my computer. It is really weird that the code works perfectly. Then I created a unit test to cover edge cases and it behaves differently. I have no idea why it doesn&#39;t initialize these object array properties in the test score."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":1,"creation_date":1688976470,"post_id":76637938,"comment_id":135142046,"body_markdown":"My fault. I need to generate the aggregation dynamically because I use a different collection name in the test. I will keep the question because the code may be helpful to other people in future. It took me some time to construct such aggregation.","body":"My fault. I need to generate the aggregation dynamically because I use a different collection name in the test. I will keep the question because the code may be helpful to other people in future. It took me some time to construct such aggregation."},{"owner":{"account_id":6392314,"reputation":1429,"user_id":4957976,"display_name":"Mihail Feraru"},"score":2,"creation_date":1689420698,"post_id":76637938,"comment_id":135212955,"body_markdown":"@LeosLiterak if you found the solution yourself, I think you can answer your own question and close it. It may help others in the future.","body":"@LeosLiterak if you found the solution yourself, I think you can answer your own question and close it. It may help others in the future."}],"answers":[{"tags":[],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689594019,"creation_date":1689594019,"answer_id":76704088,"question_id":76637938,"body_markdown":"Ok, the problem is that the colletions must be dynamically computed too:\r\n\r\n    final var resolvedStage = Aggregation.lookup(mongoProperties.getSomethingCollectionName()(),\r\n                &quot;something.id&quot;, &quot;id&quot;, &quot;items&quot;);\r\n","title":"Null after mongo array projection in aggregation in spring","body":"<p>Ok, the problem is that the colletions must be dynamically computed too:</p>\n<pre><code>final var resolvedStage = Aggregation.lookup(mongoProperties.getSomethingCollectionName()(),\n            &quot;something.id&quot;, &quot;id&quot;, &quot;items&quot;);\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689594019,"creation_date":1688740902,"question_id":76637938,"body_markdown":"This is my last stage in Mongo:\r\n\r\n    {\r\n      name: 1,\r\n      items: &quot;$activeItems&quot;,\r\n      tables: {\r\n        &quot;$map&quot;: {\r\n          &quot;input&quot;: &quot;$activeTables&quot;,\r\n          &quot;as&quot;: &quot;table&quot;,\r\n          &quot;in&quot;: {\r\n            &quot;tableName&quot;: &quot;$$table.tableName&quot;,\r\n            &quot;tableId&quot;: &quot;$$table.tableId&quot;\r\n\r\nI have written it this way in Spring data:\r\n\r\n    final var projectStage = Aggregation.project()\r\n            .andInclude(&quot;name&quot;)\r\n            .andExpression(&quot;$activeItems&quot;).as(&quot;items&quot;)\r\n            .and(VariableOperators.Map.itemsOf(&quot;$activeTables&quot;).as(&quot;table&quot;)\r\n                    .andApply(doc -&gt; {\r\n                        Document document = new Document();\r\n                        document.append(&quot;tableName&quot;, &quot;$$table.tableName&quot;);\r\n                        document.append(&quot;tableId&quot;, &quot;$$table.tableId&quot;);\r\n                        return document;\r\n                    }))\r\n            .as(&quot;tables&quot;);\r\n\r\n        final var result = mongoTemplate.aggregate(aggregation, Something.class, SomethingDto.class);\r\n\r\nSomething entity is defined as \r\n\r\n    @Document(collection = &quot;#{@mongoProperties.getSomethingCollectionName()}&quot;)\r\n    @TypeAlias(&quot;something&quot;)\r\n    public class Something{ \r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        private List&lt;SomethingElseIdDto&gt; somethingElse;\r\n        private List&lt;Long&gt; tables;\r\n    }\r\n\r\nDTOs are plain POJO:\r\n\r\n    public class SomethingDto {\r\n        String name;\r\n        List&lt;ItemDto&gt; items;\r\n        List&lt;TableDto&gt; tables;\r\n    }\r\n\r\n    @Data\r\n    @Builder(toBuilder = true)\r\n    @AllArgsConstructor\r\n    public class ItemDto {\r\n        Long itemId;\r\n        String itemName;\r\n\r\nWhen running a spring boot app, I get complete data from the REST endpoint including `items` and `tables` arrays. But an integration test sees both arrays `tables` and `items` as empty. I verified in Compass that they are computed in Mongo even in the test collection. \r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles({&quot;test&quot;, &quot;integration-test&quot;})\r\n    class DbServiceTest {\r\n\r\nSample data:\r\n\r\n    {\r\n    \t&quot;name&quot;: &quot;XYZ&quot;,\r\n    \t&quot;items&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;itemId&quot;: 123,\r\n    \t\t\t&quot;itemName&quot;: &quot;A&quot;,\r\n    \t\t},\r\n    \t&quot;tables&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;tableId&quot;: 456,\r\n    \t\t\t&quot;tableName&quot;: &quot;Q&quot;,\r\n    \t\t},\r\n\r\nThis is weird. Same code has different results depending on spring profile.\r\n","title":"Null after mongo array projection in aggregation in spring","body":"<p>This is my last stage in Mongo:</p>\n<pre><code>{\n  name: 1,\n  items: &quot;$activeItems&quot;,\n  tables: {\n    &quot;$map&quot;: {\n      &quot;input&quot;: &quot;$activeTables&quot;,\n      &quot;as&quot;: &quot;table&quot;,\n      &quot;in&quot;: {\n        &quot;tableName&quot;: &quot;$$table.tableName&quot;,\n        &quot;tableId&quot;: &quot;$$table.tableId&quot;\n</code></pre>\n<p>I have written it this way in Spring data:</p>\n<pre><code>final var projectStage = Aggregation.project()\n        .andInclude(&quot;name&quot;)\n        .andExpression(&quot;$activeItems&quot;).as(&quot;items&quot;)\n        .and(VariableOperators.Map.itemsOf(&quot;$activeTables&quot;).as(&quot;table&quot;)\n                .andApply(doc -&gt; {\n                    Document document = new Document();\n                    document.append(&quot;tableName&quot;, &quot;$$table.tableName&quot;);\n                    document.append(&quot;tableId&quot;, &quot;$$table.tableId&quot;);\n                    return document;\n                }))\n        .as(&quot;tables&quot;);\n\n    final var result = mongoTemplate.aggregate(aggregation, Something.class, SomethingDto.class);\n</code></pre>\n<p>Something entity is defined as</p>\n<pre><code>@Document(collection = &quot;#{@mongoProperties.getSomethingCollectionName()}&quot;)\n@TypeAlias(&quot;something&quot;)\npublic class Something{ \n    @Id\n    private String id;\n    private String name;\n    private List&lt;SomethingElseIdDto&gt; somethingElse;\n    private List&lt;Long&gt; tables;\n}\n</code></pre>\n<p>DTOs are plain POJO:</p>\n<pre><code>public class SomethingDto {\n    String name;\n    List&lt;ItemDto&gt; items;\n    List&lt;TableDto&gt; tables;\n}\n\n@Data\n@Builder(toBuilder = true)\n@AllArgsConstructor\npublic class ItemDto {\n    Long itemId;\n    String itemName;\n</code></pre>\n<p>When running a spring boot app, I get complete data from the REST endpoint including <code>items</code> and <code>tables</code> arrays. But an integration test sees both arrays <code>tables</code> and <code>items</code> as empty. I verified in Compass that they are computed in Mongo even in the test collection.</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles({&quot;test&quot;, &quot;integration-test&quot;})\nclass DbServiceTest {\n</code></pre>\n<p>Sample data:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;XYZ&quot;,\n    &quot;items&quot;: [\n        {\n            &quot;itemId&quot;: 123,\n            &quot;itemName&quot;: &quot;A&quot;,\n        },\n    &quot;tables&quot;: [\n        {\n            &quot;tableId&quot;: 456,\n            &quot;tableName&quot;: &quot;Q&quot;,\n        },\n</code></pre>\n<p>This is weird. Same code has different results depending on spring profile.</p>\n"},{"tags":["java","selenium-webdriver","keypress"],"answers":[{"comments":[{"owner":{"account_id":6249442,"reputation":483,"user_id":4860073,"accept_rate":80,"display_name":"Marc"},"score":0,"creation_date":1575992921,"post_id":22381131,"comment_id":104749016,"body_markdown":"With scape Button the following error appears java.lang.IllegalArgumentException: Key Down / Up events only make sense for modifier keys.","body":"With scape Button the following error appears java.lang.IllegalArgumentException: Key Down / Up events only make sense for modifier keys."}],"tags":[],"owner":{"account_id":2830774,"reputation":1406,"user_id":2432405,"accept_rate":33,"display_name":"user2432405"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394719601,"creation_date":1394719601,"answer_id":22381131,"question_id":22379967,"body_markdown":"From selenium javadoc:&lt;br /&gt;\r\n&lt;code&gt;public Actions sendKeys(java.lang.CharSequence... keysToSend)\r\nSends keys to the active element. &lt;/code&gt;&lt;br /&gt;\r\nMaybe you should use &lt;code&gt;keyDown(Keys theKey)&lt;/code&gt; and &lt;code&gt;keyUp(Keys theKey)&lt;/code&gt;","title":"Pressing Escape does not function in Selenium WebDriver using Java","body":"<p>From selenium javadoc:<br />\n<code>public Actions sendKeys(java.lang.CharSequence... keysToSend)\nSends keys to the active element. </code><br />\nMaybe you should use <code>keyDown(Keys theKey)</code> and <code>keyUp(Keys theKey)</code></p>\n"},{"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1395121826,"post_id":22410898,"comment_id":34181880,"body_markdown":"Your concept is right. Element in which the book image is shown should be identified and operate Escape on that works well","body":"Your concept is right. Element in which the book image is shown should be identified and operate Escape on that works well"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1395128909,"post_id":22410898,"comment_id":34184853,"body_markdown":"Most probably, coding mechanism is different. In my case, image is displayed on a div. what about your case?","body":"Most probably, coding mechanism is different. In my case, image is displayed on a div. what about your case?"},{"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"score":0,"creation_date":1395129771,"post_id":22410898,"comment_id":34185259,"body_markdown":"In the code above I mentioned, tag name `body` is of entire page, not for the image.","body":"In the code above I mentioned, tag name <code>body</code> is of entire page, not for the image."},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1395132968,"post_id":22410898,"comment_id":34186853,"body_markdown":"Yes, I have understood it was tag name body, not for the image. But, unfortunately in my case it did not work.","body":"Yes, I have understood it was tag name body, not for the image. But, unfortunately in my case it did not work."}],"tags":[],"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488891584,"creation_date":1394815129,"answer_id":22410898,"question_id":22379967,"body_markdown":"Rather hit Escape on body of the page using the following code:\r\n\r\n    WebElement body = driver.findElement(By.tagName(&quot;body&quot;));\r\n    body.sendKeys(Keys.ESCAPE);\r\n\r\nOR, You can use the following code to do the same thing:\r\n\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.ESCAPE);\r\n\r\nNow, you will see image disappeared.","title":"Pressing Escape does not function in Selenium WebDriver using Java","body":"<p>Rather hit Escape on body of the page using the following code:</p>\n\n<pre><code>WebElement body = driver.findElement(By.tagName(\"body\"));\nbody.sendKeys(Keys.ESCAPE);\n</code></pre>\n\n<p>OR, You can use the following code to do the same thing:</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.ESCAPE);\n</code></pre>\n\n<p>Now, you will see image disappeared.</p>\n"},{"comments":[{"owner":{"account_id":4091246,"reputation":418,"user_id":3359161,"accept_rate":50,"display_name":"agleno"},"score":0,"creation_date":1689259534,"post_id":22471404,"comment_id":135190948,"body_markdown":"Method 1 worked for me, thanks!","body":"Method 1 worked for me, thanks!"}],"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689593437,"creation_date":1395122005,"answer_id":22471404,"question_id":22379967,"body_markdown":"The following 2 ways could work:\r\n\r\n1. Getting the element locator of enlarged book image -&gt; Send Escape to the element.\r\n\r\n    WebElement bookImg = driver.findElement(By.id(&quot;hoverNav&quot;));\r\n    bookImg.sendKeys(Keys.ESCAPE);\r\n\r\n\r\n2. You can press Escape key by Java Robot class as below:\r\n\r\n    import java.awt.Robot;&lt;br&gt;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    Robot r = new Robot();&lt;br&gt;\r\n    r.keyPress(KeyEvent.VK_ESCAPE);&lt;br&gt;\r\n    r.keyRelease(KeyEvent.VK_ESCAPE);\r\n","title":"Pressing Escape does not function in Selenium WebDriver using Java","body":"<p>The following 2 ways could work:</p>\n<ol>\n<li><p>Getting the element locator of enlarged book image -&gt; Send Escape to the element.</p>\n<p>WebElement bookImg = driver.findElement(By.id(&quot;hoverNav&quot;));\nbookImg.sendKeys(Keys.ESCAPE);</p>\n</li>\n<li><p>You can press Escape key by Java Robot class as below:</p>\n<p>import java.awt.Robot;<br>\nimport java.awt.event.KeyEvent;</p>\n<p>Robot r = new Robot();<br>\nr.keyPress(KeyEvent.VK_ESCAPE);<br>\nr.keyRelease(KeyEvent.VK_ESCAPE);</p>\n</li>\n</ol>\n"}],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689593437,"creation_date":1394716863,"question_id":22379967,"body_markdown":"My target is to escape/remove the enlarged book screen from the page by pressing &quot;Escape&quot; key. The following are my code:\r\n\r\n    driver.get(&quot;http://www.packtpub.com/selenium-webdriver-practical-guide/book&quot;);\r\n    WebElement cookieClose = driver.findElement(By.id(&quot;cookie-close&quot;));\r\n    if(cookieClose.isDisplayed()){\r\n    cookieClose.click();\r\n    }\r\n    driver.findElement(By.cssSelector(&quot;img.bookimage&quot;)).click();\r\n    Actions action = new Actions(driver);\r\n    action.sendKeys(Keys.ESCAPE).build().perform();\r\n\r\nBut the book image is not disappeared after pressing &quot;Escape&quot; key with WebDriver. (It is disappeared by pressing Escape key manually)\r\n","title":"Pressing Escape does not function in Selenium WebDriver using Java","body":"<p>My target is to escape/remove the enlarged book screen from the page by pressing \"Escape\" key. The following are my code:</p>\n\n<pre><code>driver.get(\"http://www.packtpub.com/selenium-webdriver-practical-guide/book\");\nWebElement cookieClose = driver.findElement(By.id(\"cookie-close\"));\nif(cookieClose.isDisplayed()){\ncookieClose.click();\n}\ndriver.findElement(By.cssSelector(\"img.bookimage\")).click();\nActions action = new Actions(driver);\naction.sendKeys(Keys.ESCAPE).build().perform();\n</code></pre>\n\n<p>But the book image is not disappeared after pressing \"Escape\" key with WebDriver. (It is disappeared by pressing Escape key manually)</p>\n"},{"tags":["javascript","java","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689593359,"creation_date":1689593359,"answer_id":76704014,"question_id":76700447,"body_markdown":"element handle&#39;s evaluate should work for you.\r\n\r\n```\r\nprivate void insertStyleBeforeElement(ElementHandle element, String cssContent) {\r\n    String js = &quot;(element, cssContent) =&gt; {&quot; +\r\n                &quot;    if (!element) {&quot; +\r\n                &quot;        console.log(&#39;Element is null or undefined&#39;);&quot; +\r\n                &quot;        return;&quot; +\r\n                &quot;    }&quot; +\r\n                &quot;    console.log(&#39;Element:&#39;, element);&quot; +\r\n                &quot;    let styleElem = document.createElement(&#39;style&#39;);&quot; +\r\n                &quot;    styleElem.type = &#39;text/css&#39;;&quot; +\r\n                &quot;    styleElem.innerHTML = cssContent;&quot; +\r\n                &quot;    element.parentNode.insertBefore(styleElem, element);&quot; +\r\n                &quot;}&quot;;\r\n    element.evaluate(js, cssContent);\r\n}\r\n```","title":"Insert an element (tag) on a Page with Playwright","body":"<p>element handle's evaluate should work for you.</p>\n<pre><code>private void insertStyleBeforeElement(ElementHandle element, String cssContent) {\n    String js = &quot;(element, cssContent) =&gt; {&quot; +\n                &quot;    if (!element) {&quot; +\n                &quot;        console.log('Element is null or undefined');&quot; +\n                &quot;        return;&quot; +\n                &quot;    }&quot; +\n                &quot;    console.log('Element:', element);&quot; +\n                &quot;    let styleElem = document.createElement('style');&quot; +\n                &quot;    styleElem.type = 'text/css';&quot; +\n                &quot;    styleElem.innerHTML = cssContent;&quot; +\n                &quot;    element.parentNode.insertBefore(styleElem, element);&quot; +\n                &quot;}&quot;;\n    element.evaluate(js, cssContent);\n}\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76704014,"answer_count":1,"score":1,"last_activity_date":1689593359,"creation_date":1689542201,"question_id":76700447,"body_markdown":"What is the correct way to insert a `&lt;style&gt;` tag into a `Page` using Playwright:\r\n\r\n```\r\nprivate void insertStyleBeforeElement(Page page, ElementHandle element, String cssContent) {\r\n        String js = &quot;(element, cssContent) =&gt; {&quot; +\r\n                &quot;    if (!element) {&quot; +\r\n                &quot;        console.log(&#39;Element is null or undefined&#39;);&quot; +\r\n                &quot;        return;&quot; +\r\n                &quot;    }&quot; +\r\n                &quot;    console.log(&#39;Element:&#39;, element);&quot; +\r\n                &quot;    let styleElem = document.createElement(&#39;style&#39;);&quot; +\r\n                &quot;    styleElem.type = &#39;text/css&#39;;&quot; +\r\n                &quot;    styleElem.innerHTML = cssContent;&quot; +\r\n                &quot;    element.parentNode.insertBefore(styleElem, element);&quot; +\r\n                &quot;}&quot;;\r\n        page.evaluate(js, Arrays.asList(element, cssContent));\r\n    }\r\n```\r\n\r\nThis method throws:\r\n\r\n```\r\ncom.microsoft.playwright.PlaywrightException: Error {\r\n  message=&#39;element.parentNode is undefined\r\n@debugger eval code line 191 &gt; eval:1:280\r\nevaluate@debugger eval code:198:19\r\n@debugger eval code:1:44\r\n\r\n  name=&#39;Error\r\n  stack=&#39;Error: element.parentNode is undefined\r\n@debugger eval code line 191 &gt; eval:1:280\r\n```\r\n\r\nThough, when I check the debugger there is a *parent* node.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IeR8d.png","title":"Insert an element (tag) on a Page with Playwright","body":"<p>What is the correct way to insert a <code>&lt;style&gt;</code> tag into a <code>Page</code> using Playwright:</p>\n<pre><code>private void insertStyleBeforeElement(Page page, ElementHandle element, String cssContent) {\n        String js = &quot;(element, cssContent) =&gt; {&quot; +\n                &quot;    if (!element) {&quot; +\n                &quot;        console.log('Element is null or undefined');&quot; +\n                &quot;        return;&quot; +\n                &quot;    }&quot; +\n                &quot;    console.log('Element:', element);&quot; +\n                &quot;    let styleElem = document.createElement('style');&quot; +\n                &quot;    styleElem.type = 'text/css';&quot; +\n                &quot;    styleElem.innerHTML = cssContent;&quot; +\n                &quot;    element.parentNode.insertBefore(styleElem, element);&quot; +\n                &quot;}&quot;;\n        page.evaluate(js, Arrays.asList(element, cssContent));\n    }\n</code></pre>\n<p>This method throws:</p>\n<pre><code>com.microsoft.playwright.PlaywrightException: Error {\n  message='element.parentNode is undefined\n@debugger eval code line 191 &gt; eval:1:280\nevaluate@debugger eval code:198:19\n@debugger eval code:1:44\n\n  name='Error\n  stack='Error: element.parentNode is undefined\n@debugger eval code line 191 &gt; eval:1:280\n</code></pre>\n<p>Though, when I check the debugger there is a <em>parent</em> node.</p>\n<p><a href=\"https://i.stack.imgur.com/IeR8d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IeR8d.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":0,"creation_date":1689582689,"post_id":76702593,"comment_id":135228428,"body_markdown":"This means that the `EmployeeRepository` could not be created. Is there anything else on the stacktrace or on logs that could help troubleshoot why the `repository` could not be instantiated?","body":"This means that the <code>EmployeeRepository</code> could not be created. Is there anything else on the stacktrace or on logs that could help troubleshoot why the <code>repository</code> could not be instantiated?"},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689582911,"post_id":76702593,"comment_id":135228472,"body_markdown":"@spyrospal Following link provides the full output log: https://pastebin.com/QaKccLr0","body":"@spyrospal Following link provides the full output log: <a href=\"https://pastebin.com/QaKccLr0\" rel=\"nofollow noreferrer\">pastebin.com/QaKccLr0</a>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689583288,"post_id":76702593,"comment_id":135228558,"body_markdown":"@Alexander &quot;This page is no longer available&quot;. Please include the relevant part of the log in the question.","body":"@Alexander &quot;This page is no longer available&quot;. Please include the relevant part of the log in the question."},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689583397,"post_id":76702593,"comment_id":135228578,"body_markdown":"@Jorn apoligies, I included it in my question to make sure it&#39;s there.","body":"@Jorn apoligies, I included it in my question to make sure it&#39;s there."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689583624,"post_id":76702593,"comment_id":135228633,"body_markdown":"`javax.persistence-2.2.1.jar` is your problem. You included JavaEE dependencies while using Spring Boot 3.1 which is JakartaEE. If you are using EclipseLink (instead of hibernate) upgrade to a version of EclipseLink that is JakartaEE compatible and make sure your entities are using `jakarta.persistence` instead of `javax.persistence` imports (which they probably are now).","body":"<code>javax.persistence-2.2.1.jar</code> is your problem. You included JavaEE dependencies while using Spring Boot 3.1 which is JakartaEE. If you are using EclipseLink (instead of hibernate) upgrade to a version of EclipseLink that is JakartaEE compatible and make sure your entities are using <code>jakarta.persistence</code> instead of <code>javax.persistence</code> imports (which they probably are now)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1689583644,"post_id":76702593,"comment_id":135228640,"body_markdown":"Your `EmployeeRepository` is an interface. Is this supposed to work? Don&#39;t you need a class that can be instantiated? Or shouldn&#39;t EmployeeRepository be annotated as a Bean?","body":"Your <code>EmployeeRepository</code> is an interface. Is this supposed to work? Don&#39;t you need a class that can be instantiated? Or shouldn&#39;t EmployeeRepository be annotated as a Bean?"},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689583856,"post_id":76702593,"comment_id":135228689,"body_markdown":"@f1sh the problem is the parameter `repository` right? It says do it like this in the tutorial but it&#39;s literally non-existent as far as I can see. But I don&#39;t know how the `initDatabase` gets called or where it gets called so I&#39;m a bit clueless","body":"@f1sh the problem is the parameter <code>repository</code> right? It says do it like this in the tutorial but it&#39;s literally non-existent as far as I can see. But I don&#39;t know how the <code>initDatabase</code> gets called or where it gets called so I&#39;m a bit clueless"},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":0,"creation_date":1689584835,"post_id":76702593,"comment_id":135228877,"body_markdown":"Where is your main class (which includes the line `public static void main(String[] args)` in the file)?","body":"Where is your main class (which includes the line <code>public static void main(String[] args)</code> in the file)?"},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689585006,"post_id":76702593,"comment_id":135228905,"body_markdown":"@Jesse I added `DemoApplication.java` to the question, thanks for helping","body":"@Jesse I added <code>DemoApplication.java</code> to the question, thanks for helping"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1689586303,"post_id":76702593,"comment_id":135229170,"body_markdown":"Repeating the problem is `javax.persistence-2.2.1.jar` as you are following a tutorial but decided to use newer versions of the framework. The guide is for Spring Boot 2.7 not 3.x. SO either downgrade your Spring Boot version and follow the tutorial or upgrade and remove the `javax.persistence-2.2.1.jar` dependency and fix the imports to `jakarta.persistence`.","body":"Repeating the problem is <code>javax.persistence-2.2.1.jar</code> as you are following a tutorial but decided to use newer versions of the framework. The guide is for Spring Boot 2.7 not 3.x. SO either downgrade your Spring Boot version and follow the tutorial or upgrade and remove the <code>javax.persistence-2.2.1.jar</code> dependency and fix the imports to <code>jakarta.persistence</code>."},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689587979,"post_id":76702593,"comment_id":135229546,"body_markdown":"@M.Deinum I&#39;m getting the same error still and am also getting something in the class where I had to update the import `Class &#39;Employee&#39; should have [public, protected] no-arg constructor`","body":"@M.Deinum I&#39;m getting the same error still and am also getting something in the class where I had to update the import <code>Class &#39;Employee&#39; should have [public, protected] no-arg constructor</code>"},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689588136,"post_id":76702593,"comment_id":135229578,"body_markdown":"@M.Deinum I managed to update that package successfully, but I&#39;m still getting the error from the question above.","body":"@M.Deinum I managed to update that package successfully, but I&#39;m still getting the error from the question above."},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":0,"creation_date":1689588385,"post_id":76702593,"comment_id":135229617,"body_markdown":"I tested it in Spring Boot 2.6.1 and it works. @M.Deinum may be right - you can downgrade your Spring Boot version to 2.7 or below. I haven&#39;t tested it with 3.1.1, so I can&#39;t reproduce your problem myself.","body":"I tested it in Spring Boot 2.6.1 and it works. @M.Deinum may be right - you can downgrade your Spring Boot version to 2.7 or below. I haven&#39;t tested it with 3.1.1, so I can&#39;t reproduce your problem myself."},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689588515,"post_id":76702593,"comment_id":135229649,"body_markdown":"I&#39;ll downgrade and keep you posted, thanks for helpign out","body":"I&#39;ll downgrade and keep you posted, thanks for helpign out"},{"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"score":1,"creation_date":1689588743,"post_id":76702593,"comment_id":135229691,"body_markdown":"If you are still not successful, you can post your`pom.xml` and `Employee.java` files to display more details.","body":"If you are still not successful, you can post your<code>pom.xml</code> and <code>Employee.java</code> files to display more details."},{"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"score":0,"creation_date":1689589840,"post_id":76702593,"comment_id":135229911,"body_markdown":"Now I&#39;m getting: `/Users/alexanderclaes/Downloads/demo/src/main/java/com/example/demo/EmployeeRepository.java:5`\njava: cannot access org.springframework.data.repository.ListCrudRepository\n  class file for org.springframework.data.repository.ListCrudRepository not found","body":"Now I&#39;m getting: <code>&#47;Users&#47;alexanderclaes&#47;Downloads&#47;demo&#47;src&#47;main&#47;java&#47;com&#47;examp&zwnj;&#8203;le&#47;demo&#47;EmployeeRepo&zwnj;&#8203;sitory.java:5</code> java: cannot access org.springframework.data.repository.ListCrudRepository   class file for org.springframework.data.repository.ListCrudRepository not found"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689591417,"post_id":76702593,"comment_id":135230218,"body_markdown":"Remove `javax.persistence`, remove `spring-dat-jpa`. Add `spring-boot-starter-data-jpa` instead. You are using an incompatible Spring Data version (which is for Spring Boot 3 and ideally you should be using the starter so you get the appropriate compatible versions). You are trying to outsmart the dependency management that is already being handled for you.","body":"Remove <code>javax.persistence</code>, remove <code>spring-dat-jpa</code>. Add <code>spring-boot-starter-data-jpa</code> instead. You are using an incompatible Spring Data version (which is for Spring Boot 3 and ideally you should be using the starter so you get the appropriate compatible versions). You are trying to outsmart the dependency management that is already being handled for you."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689591525,"post_id":76702593,"comment_id":135230244,"body_markdown":"If you want to upgrade the Spring Boot 3 the only thing you need to change is the imports in your entity from `javax.persistence` to `jakarta.persistence` (after changing the Spring Boot version).","body":"If you want to upgrade the Spring Boot 3 the only thing you need to change is the imports in your entity from <code>javax.persistence</code> to <code>jakarta.persistence</code> (after changing the Spring Boot version)."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689586219,"post_id":76703096,"comment_id":135229152,"body_markdown":"Spring Data interfaces don&#39;t need `@Repository`, they are detected otherwise.","body":"Spring Data interfaces don&#39;t need <code>@Repository</code>, they are detected otherwise."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689827177,"post_id":76703096,"comment_id":135269080,"body_markdown":"You need to provide fuller, formatted code and explain your answer -- as well as checking that it is correct.","body":"You need to provide fuller, formatted code and explain your answer -- as well as checking that it is correct."}],"tags":[],"owner":{"account_id":29032727,"reputation":1,"user_id":22239264,"display_name":"husong1128"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1689586094,"creation_date":1689586094,"answer_id":76703096,"question_id":76702593,"body_markdown":"\r\n    @Repository\r\npublic interface EmployeeRepository {\r\n}\r\n？ok","title":"Method required a bean of type &quot;...&quot; that could not be found","body":"<pre><code>@Repository\n</code></pre>\n<p>public interface EmployeeRepository {\n}\n？ok</p>\n"},{"tags":[],"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689593242,"creation_date":1689592886,"answer_id":76703944,"question_id":76702593,"body_markdown":"Below is the `pom.xml` file that I tested successfully before:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t    &lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nIf you want to test it on Spring Boot version 2.7.1 you can copy&amp;paste it after backup your original `pom.xml`.","title":"Method required a bean of type &quot;...&quot; that could not be found","body":"<p>Below is the <code>pom.xml</code> file that I tested successfully before:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>If you want to test it on Spring Boot version 2.7.1 you can copy&amp;paste it after backup your original <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":2201872,"reputation":428,"user_id":1946074,"accept_rate":81,"display_name":"Alexander"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689593242,"creation_date":1689581632,"question_id":76702593,"body_markdown":"I&#39;m following the REST tutorial [here][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/tutorials/rest/\r\n\r\nWith the following code I get this error `Parameter 0 of method initDatabase in com.example.demo.LoadDatabase required a bean of type &#39;com.example.demo.EmployeeRepository&#39; that could not be found.`\r\n\r\n\r\nLoadDatabase.java:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class LoadDatabase {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\r\n\r\n    @Bean\r\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\r\n\r\n        return args -&gt; {\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\r\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nEmployeeRepository.java:\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nDemoApplication.java:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.13&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nEmployee.java:\r\n```\r\npackage com.example.demo;\r\n\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\nclass Employee {\r\n\r\n    private @Id @GeneratedValue Long id;\r\n    private String name;\r\n    private String role;\r\n\r\n    Employee() {}\r\n\r\n    Employee(String name, String role) {\r\n\r\n        this.name = name;\r\n        this.role = role;\r\n    }\r\n\r\n    public Long getId() {\r\n        return this.id;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public String getRole() {\r\n        return this.role;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n\r\n        if (this == o)\r\n            return true;\r\n        if (!(o instanceof Employee))\r\n            return false;\r\n        Employee employee = (Employee) o;\r\n        return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\r\n                &amp;&amp; Objects.equals(this.role, employee.role);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.id, this.name, this.role);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name=&#39;&quot; + this.name + &#39;\\&#39;&#39; + &quot;, role=&#39;&quot; + this.role + &#39;\\&#39;&#39; + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nDoes this mean it doesn&#39;t find `repository`? What am I doing wrong? I&#39;m clueless because I&#39;m following the tutorial and it doesn&#39;t mention it.\r\n\r\nFull OUTPUT LOG:\r\n```\r\n/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dmanagement.endpoints.jmx.exposure.include=* -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=55473:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/alexanderclaes/Downloads/demo/target/classes:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-starter/3.1.1/spring-boot-starter-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot/3.1.1/spring-boot-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.1.1/spring-boot-autoconfigure-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.1.1/spring-boot-starter-logging-3.1.1.jar:/Users/alexanderclaes/.m2/repository/ch/qos/logback/logback-classic/1.4.8/logback-classic-1.4.8.jar:/Users/alexanderclaes/.m2/repository/ch/qos/logback/logback-core/1.4.8/logback-core-1.4.8.jar:/Users/alexanderclaes/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.20.0/log4j-to-slf4j-2.20.0.jar:/Users/alexanderclaes/.m2/repository/org/apache/logging/log4j/log4j-api/2.20.0/log4j-api-2.20.0.jar:/Users/alexanderclaes/.m2/repository/org/slf4j/jul-to-slf4j/2.0.7/jul-to-slf4j-2.0.7.jar:/Users/alexanderclaes/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-core/6.0.10/spring-core-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-jcl/6.0.10/spring-jcl-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/Users/alexanderclaes/.m2/repository/org/springframework/data/spring-data-jpa/3.1.2/spring-data-jpa-3.1.2.jar:/Users/alexanderclaes/.m2/repository/org/springframework/data/spring-data-commons/3.1.1/spring-data-commons-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-orm/6.0.10/spring-orm-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-jdbc/6.0.10/spring-jdbc-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-context/6.0.10/spring-context-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-expression/6.0.10/spring-expression-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-aop/6.0.10/spring-aop-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-tx/6.0.10/spring-tx-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-beans/6.0.10/spring-beans-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/antlr/antlr4-runtime/4.10.1/antlr4-runtime-4.10.1.jar:/Users/alexanderclaes/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/Users/alexanderclaes/.m2/repository/org/eclipse/persistence/javax.persistence/2.2.1/javax.persistence-2.2.1.jar com.example.demo.DemoApplication\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.1)\r\n\r\n2023-07-17T10:06:05.878+02:00  INFO 91212 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.7 with PID 91212 (/Users/alexanderclaes/Downloads/demo/target/classes started by alexanderclaes in /Users/alexanderclaes/Downloads/demo)\r\n2023-07-17T10:06:05.880+02:00  INFO 91212 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-07-17T10:06:06.057+02:00  WARN 91212 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;initDatabase&#39; defined in class path resource [com/example/demo/LoadDatabase.class]: Unsatisfied dependency expressed through method &#39;initDatabase&#39; parameter 0: No qualifying bean of type &#39;com.example.demo.EmployeeRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n2023-07-17T10:06:06.060+02:00  INFO 91212 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-07-17T10:06:06.072+02:00 ERROR 91212 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method initDatabase in com.example.demo.LoadDatabase required a bean of type &#39;com.example.demo.EmployeeRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.demo.EmployeeRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```","title":"Method required a bean of type &quot;...&quot; that could not be found","body":"<p>I'm following the REST tutorial <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>With the following code I get this error <code>Parameter 0 of method initDatabase in com.example.demo.LoadDatabase required a bean of type 'com.example.demo.EmployeeRepository' that could not be found.</code></p>\n<p>LoadDatabase.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class LoadDatabase {\n\n    private static final Logger log = LoggerFactory.getLogger(LoadDatabase.class);\n\n    @Bean\n    CommandLineRunner initDatabase(EmployeeRepository repository) {\n\n        return args -&gt; {\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\n            log.info(&quot;Preloading &quot; + repository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\n        };\n    }\n}\n</code></pre>\n<p>EmployeeRepository.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\ninterface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>DemoApplication.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.13&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Employee.java:</p>\n<pre><code>package com.example.demo;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\n    private @Id @GeneratedValue Long id;\n    private String name;\n    private String role;\n\n    Employee() {}\n\n    Employee(String name, String role) {\n\n        this.name = name;\n        this.role = role;\n    }\n\n    public Long getId() {\n        return this.id;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public String getRole() {\n        return this.role;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n\n        if (this == o)\n            return true;\n        if (!(o instanceof Employee))\n            return false;\n        Employee employee = (Employee) o;\n        return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\n                &amp;&amp; Objects.equals(this.role, employee.role);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.id, this.name, this.role);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name='&quot; + this.name + '\\'' + &quot;, role='&quot; + this.role + '\\'' + '}';\n    }\n}\n</code></pre>\n<p>Does this mean it doesn't find <code>repository</code>? What am I doing wrong? I'm clueless because I'm following the tutorial and it doesn't mention it.</p>\n<p>Full OUTPUT LOG:</p>\n<pre><code>/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -Dmanagement.endpoints.jmx.exposure.include=* -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=55473:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/alexanderclaes/Downloads/demo/target/classes:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-starter/3.1.1/spring-boot-starter-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot/3.1.1/spring-boot-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.1.1/spring-boot-autoconfigure-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.1.1/spring-boot-starter-logging-3.1.1.jar:/Users/alexanderclaes/.m2/repository/ch/qos/logback/logback-classic/1.4.8/logback-classic-1.4.8.jar:/Users/alexanderclaes/.m2/repository/ch/qos/logback/logback-core/1.4.8/logback-core-1.4.8.jar:/Users/alexanderclaes/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.20.0/log4j-to-slf4j-2.20.0.jar:/Users/alexanderclaes/.m2/repository/org/apache/logging/log4j/log4j-api/2.20.0/log4j-api-2.20.0.jar:/Users/alexanderclaes/.m2/repository/org/slf4j/jul-to-slf4j/2.0.7/jul-to-slf4j-2.0.7.jar:/Users/alexanderclaes/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-core/6.0.10/spring-core-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-jcl/6.0.10/spring-jcl-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/Users/alexanderclaes/.m2/repository/org/springframework/data/spring-data-jpa/3.1.2/spring-data-jpa-3.1.2.jar:/Users/alexanderclaes/.m2/repository/org/springframework/data/spring-data-commons/3.1.1/spring-data-commons-3.1.1.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-orm/6.0.10/spring-orm-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-jdbc/6.0.10/spring-jdbc-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-context/6.0.10/spring-context-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-expression/6.0.10/spring-expression-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-aop/6.0.10/spring-aop-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-tx/6.0.10/spring-tx-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/springframework/spring-beans/6.0.10/spring-beans-6.0.10.jar:/Users/alexanderclaes/.m2/repository/org/antlr/antlr4-runtime/4.10.1/antlr4-runtime-4.10.1.jar:/Users/alexanderclaes/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/Users/alexanderclaes/.m2/repository/org/eclipse/persistence/javax.persistence/2.2.1/javax.persistence-2.2.1.jar com.example.demo.DemoApplication\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.1)\n\n2023-07-17T10:06:05.878+02:00  INFO 91212 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.7 with PID 91212 (/Users/alexanderclaes/Downloads/demo/target/classes started by alexanderclaes in /Users/alexanderclaes/Downloads/demo)\n2023-07-17T10:06:05.880+02:00  INFO 91212 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-07-17T10:06:06.057+02:00  WARN 91212 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'initDatabase' defined in class path resource [com/example/demo/LoadDatabase.class]: Unsatisfied dependency expressed through method 'initDatabase' parameter 0: No qualifying bean of type 'com.example.demo.EmployeeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2023-07-17T10:06:06.060+02:00  INFO 91212 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-07-17T10:06:06.072+02:00 ERROR 91212 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method initDatabase in com.example.demo.LoadDatabase required a bean of type 'com.example.demo.EmployeeRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.demo.EmployeeRepository' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","visualvm","jvisualvm"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689596897,"post_id":76703967,"comment_id":135231416,"body_markdown":"Unlikely, because there is nothing in the JDBC API that allows you to capture what the driver implementation sends to the server.","body":"Unlikely, because there is nothing in the JDBC API that allows you to capture what the driver implementation sends to the server."}],"owner":{"account_id":109585,"reputation":8067,"user_id":290284,"accept_rate":95,"display_name":"Cui Pengfei 崔鹏飞"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689593060,"creation_date":1689593060,"question_id":76703967,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nI am using JVisualVm&#39;s jdbc profiler to monitor my local java program.\r\n\r\nIt would capture something like this: \r\n\r\n```select * from reservation v where v.name like &#39;%&#39;%&#39;```\r\n\r\nIf you try to run this in pgadmin, it would throw error:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ucTeA.png\r\n  [2]: https://i.stack.imgur.com/Oybyv.png\r\n\r\nFor PgAdmin to run it, we have to escape the single quote in the string:\r\n\r\n```select * from reservation where name like &#39;%&#39;&#39;%&#39;```\r\n\r\nBasically we need to change &#39; to &#39;&#39; so that the string the sql does not get cut off into 2 pieces.\r\n\r\nMy question is: is visual vm&#39;s jdbc profiler able to capture the final sql statement that gets executed by the DB?","title":"java visualvm jdbc profiler: does it capture the final sql statements that are actually executed by the DB?","body":"<p><a href=\"https://i.stack.imgur.com/ucTeA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucTeA.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using JVisualVm's jdbc profiler to monitor my local java program.</p>\n<p>It would capture something like this:</p>\n<p><code>select * from reservation v where v.name like '%'%'</code></p>\n<p>If you try to run this in pgadmin, it would throw error:</p>\n<p><a href=\"https://i.stack.imgur.com/Oybyv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oybyv.png\" alt=\"enter image description here\" /></a></p>\n<p>For PgAdmin to run it, we have to escape the single quote in the string:</p>\n<p><code>select * from reservation where name like '%''%'</code></p>\n<p>Basically we need to change ' to '' so that the string the sql does not get cut off into 2 pieces.</p>\n<p>My question is: is visual vm's jdbc profiler able to capture the final sql statement that gets executed by the DB?</p>\n"},{"tags":["java","authentication","azure-active-directory","microsoft-graph-api","azure-identity"],"comments":[{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1689343301,"post_id":76688266,"comment_id":135204202,"body_markdown":"Could you check and confirm whether [this option](https://i.imgur.com/xJX04JX.png) is enabled in your tenant?","body":"Could you check and confirm whether <a href=\"https://i.imgur.com/xJX04JX.png\" rel=\"nofollow noreferrer\">this option</a> is enabled in your tenant?"},{"owner":{"account_id":19296169,"reputation":5,"user_id":14215160,"display_name":"Sujata Hegde"},"score":0,"creation_date":1689344211,"post_id":76688266,"comment_id":135204451,"body_markdown":"Hi Sridevi, Thanks for replying, Yes, It is enabled;","body":"Hi Sridevi, Thanks for replying, Yes, It is enabled;"},{"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"score":0,"creation_date":1689344254,"post_id":76688266,"comment_id":135204464,"body_markdown":"Could you include that screenshot by editing your question?","body":"Could you include that screenshot by editing your question?"},{"owner":{"account_id":19296169,"reputation":5,"user_id":14215160,"display_name":"Sujata Hegde"},"score":0,"creation_date":1689345639,"post_id":76688266,"comment_id":135204812,"body_markdown":"Hi Sridevi , question edited and added the screenshot.","body":"Hi Sridevi , question edited and added the screenshot."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689425170,"post_id":76688266,"comment_id":135213472,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":19296169,"reputation":5,"user_id":14215160,"display_name":"Sujata Hegde"},"score":1,"creation_date":1690554046,"post_id":76703956,"comment_id":135374333,"body_markdown":"Hi Sridevi,  Thank you for your reply, Admin consent issue resolved when admin approved the request via azure panel, under permission tab","body":"Hi Sridevi,  Thank you for your reply, Admin consent issue resolved when admin approved the request via azure panel, under permission tab"}],"tags":[],"owner":{"account_id":24067318,"reputation":13435,"user_id":18043665,"display_name":"Sridevi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689592993,"creation_date":1689592993,"answer_id":76703956,"question_id":76688266,"body_markdown":"\r\nI registered one multi-tenant Azure AD application and granted same **`API permissions`** as below:\r\n\r\n![enter image description here](https://i.imgur.com/gW2249y.png)\r\n\r\nWhen I tried to sign in with user of another directory, I got below **`Approval required`** screen for justification like this:\r\n\r\n![enter image description here](https://i.imgur.com/0r6g5nI.png)\r\n\r\nAfter sending the justification, I got **same screen** as you saying `Request pending` like below:\r\n\r\n![enter image description here](https://i.imgur.com/xAFMv1Y.png)\r\n\r\nTo accept the above request, sign in with **Global administrator** account in above user&#39;s directory and check Admin consent requests tab  of Enterprise applications like below:\r\n\r\n![enter image description here](https://i.imgur.com/iKr3own.png)\r\n\r\nAfter clicking `Review permissions and consent` button, new window will be opened where Global Administrator can consent like below:\r\n\r\n![enter image description here](https://i.imgur.com/JXgC8WE.png)\r\n\r\nWhen I tried to sign in with user of another directory again now, new application registered with **same permissions** in that tenant like below:\r\n\r\n![enter image description here](https://i.imgur.com/nqULzOR.png)\r\n\r\nIn your case, you need to either **approve** Admin consent request or **disable** below option in other user&#39;s directory like this:\r\n\r\n![enter image description here](https://i.imgur.com/WGFMmIy.png)","title":"MS Login API asking for Admin consent for registering with MS azure App","body":"<p>I registered one multi-tenant Azure AD application and granted same <strong><code>API permissions</code></strong> as below:</p>\n<p><img src=\"https://i.imgur.com/gW2249y.png\" alt=\"enter image description here\" /></p>\n<p>When I tried to sign in with user of another directory, I got below <strong><code>Approval required</code></strong> screen for justification like this:</p>\n<p><img src=\"https://i.imgur.com/0r6g5nI.png\" alt=\"enter image description here\" /></p>\n<p>After sending the justification, I got <strong>same screen</strong> as you saying <code>Request pending</code> like below:</p>\n<p><img src=\"https://i.imgur.com/xAFMv1Y.png\" alt=\"enter image description here\" /></p>\n<p>To accept the above request, sign in with <strong>Global administrator</strong> account in above user's directory and check Admin consent requests tab  of Enterprise applications like below:</p>\n<p><img src=\"https://i.imgur.com/iKr3own.png\" alt=\"enter image description here\" /></p>\n<p>After clicking <code>Review permissions and consent</code> button, new window will be opened where Global Administrator can consent like below:</p>\n<p><img src=\"https://i.imgur.com/JXgC8WE.png\" alt=\"enter image description here\" /></p>\n<p>When I tried to sign in with user of another directory again now, new application registered with <strong>same permissions</strong> in that tenant like below:</p>\n<p><img src=\"https://i.imgur.com/nqULzOR.png\" alt=\"enter image description here\" /></p>\n<p>In your case, you need to either <strong>approve</strong> Admin consent request or <strong>disable</strong> below option in other user's directory like this:</p>\n<p><img src=\"https://i.imgur.com/WGFMmIy.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":19296169,"reputation":5,"user_id":14215160,"display_name":"Sujata Hegde"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76703956,"answer_count":1,"score":0,"last_activity_date":1689592993,"creation_date":1689342251,"question_id":76688266,"body_markdown":"I have made one app for MS team integration for work accounts. In Azure AD I have consented to all permissions required for chats and channels. But still the app is asking for admin consent when people from other work account trying to login as below; \r\n\r\n\r\n[![\\[Admin consent\\](https://i.stack.imgur.com/LijwI.png)][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nBelow screenshot is of API permissions;\r\n[![API permissions][2]][2]\r\n\r\nAnd I have below user setting for enterprise app as well;\r\n\r\n[![\\[User consent settings\\](https://i.stack.imgur.com/Nbprv.png)][3]][3]\r\n\r\n[Admin consent settings][4]\r\n\r\nkindly help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GOaRi.png\r\n  [2]: https://i.stack.imgur.com/6wdgX.png\r\n  [3]: https://i.stack.imgur.com/zKDLu.png\r\n  [4]: https://i.stack.imgur.com/o24tS.png","title":"MS Login API asking for Admin consent for registering with MS azure App","body":"<p>I have made one app for MS team integration for work accounts. In Azure AD I have consented to all permissions required for chats and channels. But still the app is asking for admin consent when people from other work account trying to login as below;</p>\n<p><a href=\"https://i.stack.imgur.com/GOaRi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GOaRi.png\" alt=\"[Admin consent](https://i.stack.imgur.com/LijwI.png)\" /></a></p>\n<p>Below screenshot is of API permissions;\n<a href=\"https://i.stack.imgur.com/6wdgX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6wdgX.png\" alt=\"API permissions\" /></a></p>\n<p>And I have below user setting for enterprise app as well;</p>\n<p><a href=\"https://i.stack.imgur.com/zKDLu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zKDLu.png\" alt=\"[User consent settings](https://i.stack.imgur.com/Nbprv.png)\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/o24tS.png\" rel=\"nofollow noreferrer\">Admin consent settings</a></p>\n<p>kindly help.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689592977,"creation_date":1689591456,"question_id":76703775,"body_markdown":"There is problem with deletion entity with related objects.\r\n\r\nError looks like it: \r\n\r\n    org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot; Detail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.\r\n\r\nThere are table defitions: first table contains common information about notification itself, second is just marking &quot;who read the notification&quot;.\r\n\r\nFirst table:\r\n\r\n    @Data\r\n    @Entity\r\n    @FieldNameConstants\r\n    @Table(name = &quot;notification&quot;)\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class Notification {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n    ...\r\n    @OneToMany(mappedBy = &quot;notification&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;NotificationReadBy&gt; readNotifications = new HashSet&lt;&gt;();\r\n    ...\r\n    }\r\n\r\nSecond table:\r\n\r\n    @Data\r\n    @Entity\r\n    @FieldNameConstants\r\n    @Table(name = &quot;notification_read_by&quot;)\r\n    public class NotificationReadBy {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;notification_id&quot;, nullable = false)\r\n    private Notification notification;\r\n\r\n    ...\r\n    }\r\n\r\nMethod looks:\r\n\r\n    @Transactional\r\n    @Override\r\n    public void delete(String notificationId) {\r\n        notificationRepository.deleteById(notificationId);\r\n    }\r\n\r\nIf I use `List&lt;NotificationReadBy&gt;` instead of `Set&lt;NotificationReadBy&gt;` it works fine.\r\n\r\nThe same behavior with enabling batching in hibernate settings. But with additional log:\r\n\r\n    HHH000315: Exception executing batch [java.sql.BatchUpdateException: Batch entry 0 delete from notification_schema.notification where id=&#39;ce6e112c-bc73-4076-8491-93c453094253&#39; was aborted: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot;\r\n    Detail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.  Call getNextException to see other errors in the batch.], SQL: delete from notification_schema.notification where id=?\r\n    Batch entry 0 delete from notification_schema.notification where id=&#39;ce6e112c-bc73-4076-8491-93c453094253&#39; was aborted: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot;\r\n    Detail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.  Call getNextException to see other errors in the batch.","title":"JPA cascade problem: unable to delete items which are present in Set","body":"<p>There is problem with deletion entity with related objects.</p>\n<p>Error looks like it:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot; Detail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.\n</code></pre>\n<p>There are table defitions: first table contains common information about notification itself, second is just marking &quot;who read the notification&quot;.</p>\n<p>First table:</p>\n<pre><code>@Data\n@Entity\n@FieldNameConstants\n@Table(name = &quot;notification&quot;)\n@EqualsAndHashCode(callSuper = true)\npublic class Notification {\n\n@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n...\n@OneToMany(mappedBy = &quot;notification&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;NotificationReadBy&gt; readNotifications = new HashSet&lt;&gt;();\n...\n}\n</code></pre>\n<p>Second table:</p>\n<pre><code>@Data\n@Entity\n@FieldNameConstants\n@Table(name = &quot;notification_read_by&quot;)\npublic class NotificationReadBy {\n\n@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;notification_id&quot;, nullable = false)\nprivate Notification notification;\n\n...\n}\n</code></pre>\n<p>Method looks:</p>\n<pre><code>@Transactional\n@Override\npublic void delete(String notificationId) {\n    notificationRepository.deleteById(notificationId);\n}\n</code></pre>\n<p>If I use <code>List&lt;NotificationReadBy&gt;</code> instead of <code>Set&lt;NotificationReadBy&gt;</code> it works fine.</p>\n<p>The same behavior with enabling batching in hibernate settings. But with additional log:</p>\n<pre><code>HHH000315: Exception executing batch [java.sql.BatchUpdateException: Batch entry 0 delete from notification_schema.notification where id='ce6e112c-bc73-4076-8491-93c453094253' was aborted: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot;\nDetail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.  Call getNextException to see other errors in the batch.], SQL: delete from notification_schema.notification where id=?\nBatch entry 0 delete from notification_schema.notification where id='ce6e112c-bc73-4076-8491-93c453094253' was aborted: ERROR: update or delete on table &quot;notification&quot; violates foreign key constraint &quot;fk_notification_read_by_notification&quot; on table &quot;notification_read_by&quot;\nDetail: Key (id)=(ce6e112c-bc73-4076-8491-93c453094253) is still referenced from table &quot;notification_read_by&quot;.  Call getNextException to see other errors in the batch.\n</code></pre>\n"},{"tags":["java","lambda","switch-expression"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":2,"creation_date":1689571720,"post_id":76701657,"comment_id":135226690,"body_markdown":"Because return always ends the whole method at any point. It would be confusing if it didn&#39;t for this special case.","body":"Because return always ends the whole method at any point. It would be confusing if it didn&#39;t for this special case."}],"answers":[{"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1689572674,"post_id":76701691,"comment_id":135226809,"body_markdown":"I updated my question and I added an example of lambda expression. What is the difference between these two examples? Why I need yield in first example and I don&#39;t need it in the second one?","body":"I updated my question and I added an example of lambda expression. What is the difference between these two examples? Why I need yield in first example and I don&#39;t need it in the second one?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1689573145,"post_id":76701691,"comment_id":135226852,"body_markdown":"@MehdiRahimi In the second example you have a lambda expression, &quot;a lambda expression is a short block of code which takes in parameters and returns a value. Lambda expressions are similar to methods, but they do not need a name and they can be implemented right in the body of a method.&quot;","body":"@MehdiRahimi In the second example you have a lambda expression, &quot;a lambda expression is a short block of code which takes in parameters and returns a value. Lambda expressions are similar to methods, but they do not need a name and they can be implemented right in the body of a method.&quot;"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689573824,"post_id":76701691,"comment_id":135226920,"body_markdown":"@MehdiRahimi In other words, a lambda expression &quot;is&quot; a method, and so using `return` in that context is consistent. But ultimately, this was simply a design choice, and so you&#39;d have to ask the language designers why they made the choices they did. Sweeper&#39;s answer links to the corresponding JEPs which provide some justification. But note other languages do it differently (see e.g., Kotlin, where `return` in a lambda can be somewhat confusing, and in many contexts simply the last line of code is resolved as the return value of an expression without any `return` keyword).","body":"@MehdiRahimi In other words, a lambda expression &quot;is&quot; a method, and so using <code>return</code> in that context is consistent. But ultimately, this was simply a design choice, and so you&#39;d have to ask the language designers why they made the choices they did. Sweeper&#39;s answer links to the corresponding JEPs which provide some justification. But note other languages do it differently (see e.g., Kotlin, where <code>return</code> in a lambda can be somewhat confusing, and in many contexts simply the last line of code is resolved as the return value of an expression without any <code>return</code> keyword)."}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689572141,"creation_date":1689571744,"answer_id":76701691,"question_id":76701657,"body_markdown":"Personally, I find it intuitive to use the yield keyword in switch expressions. It helps to distinguish between returning a value from a **method** and returning a value from a **switch expression**.\r\n\r\nSo, it seems to be a matter of readability and the architect&#39;s choice, rather than any functional difference.","title":"Why does yield keyword introduced for switch expressions? (not just use return keyword)","body":"<p>Personally, I find it intuitive to use the yield keyword in switch expressions. It helps to distinguish between returning a value from a <strong>method</strong> and returning a value from a <strong>switch expression</strong>.</p>\n<p>So, it seems to be a matter of readability and the architect's choice, rather than any functional difference.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689573320,"creation_date":1689573320,"answer_id":76701802,"question_id":76701657,"body_markdown":"Originally, when switch expressions were introduced in [JEP 325][1], it was proposed that `break` should be used to yield a value.\r\n\r\n&gt;     int j = switch (day) {\r\n&gt;         case MONDAY  -&gt; 0;\r\n&gt;         case TUESDAY -&gt; 1;\r\n&gt;         default      -&gt; {\r\n&gt;             int k = day.toString().length();\r\n&gt;             int result = f(k);\r\n&gt;             break result;\r\n&gt;         }\r\n&gt;     };\r\n\r\nIt was changed to `yield` in [JEP 354][2]. It was mentioned that:\r\n\r\n&gt; The two statements, `break` (with or without a label) and `yield`, facilitate easy disambiguation between switch statements and switch expressions: a switch statement but not a switch expression can be the target of a `break` statement; and a switch expression but not a switch statement can be the target of a `yield` statement.\r\n\r\nWhich could be seen as a reason for the change. Using `return` for this certainly would not &quot;facilitate easy disambiguation between switch statements and switch expressions&quot;, since you can also `return` in switch statements.\r\n\r\nThen, in [JEP 361][3], it was further explained that overloading `break` was &quot;confusing&quot;.\r\n\r\n&gt; One aspect of JEP 325 was the overloading of the `break` statement to return a result value from a switch expression. Feedback on JDK 12 suggested that this use of `break` was confusing. In response to the feedback, JEP 354 was created as an evolution of JEP 325.\r\n\r\nI would imagine overloading `return` would also be &quot;confusing&quot;. \r\n\r\nBeing able to return from a lambda expression isn&#39;t exactly &quot;overloading&quot; `return` in the same sense. The bodies of lambda expressions represent function bodies. It would make sense for `return` to return from functions. The body of a switch expression, isn&#39;t a function.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/325\r\n  [2]: https://openjdk.org/jeps/354\r\n  [3]: https://openjdk.org/jeps/361","title":"Why does yield keyword introduced for switch expressions? (not just use return keyword)","body":"<p>Originally, when switch expressions were introduced in <a href=\"https://openjdk.org/jeps/325\" rel=\"nofollow noreferrer\">JEP 325</a>, it was proposed that <code>break</code> should be used to yield a value.</p>\n<blockquote>\n<pre><code>int j = switch (day) {\n    case MONDAY  -&gt; 0;\n    case TUESDAY -&gt; 1;\n    default      -&gt; {\n        int k = day.toString().length();\n        int result = f(k);\n        break result;\n    }\n};\n</code></pre>\n</blockquote>\n<p>It was changed to <code>yield</code> in <a href=\"https://openjdk.org/jeps/354\" rel=\"nofollow noreferrer\">JEP 354</a>. It was mentioned that:</p>\n<blockquote>\n<p>The two statements, <code>break</code> (with or without a label) and <code>yield</code>, facilitate easy disambiguation between switch statements and switch expressions: a switch statement but not a switch expression can be the target of a <code>break</code> statement; and a switch expression but not a switch statement can be the target of a <code>yield</code> statement.</p>\n</blockquote>\n<p>Which could be seen as a reason for the change. Using <code>return</code> for this certainly would not &quot;facilitate easy disambiguation between switch statements and switch expressions&quot;, since you can also <code>return</code> in switch statements.</p>\n<p>Then, in <a href=\"https://openjdk.org/jeps/361\" rel=\"nofollow noreferrer\">JEP 361</a>, it was further explained that overloading <code>break</code> was &quot;confusing&quot;.</p>\n<blockquote>\n<p>One aspect of JEP 325 was the overloading of the <code>break</code> statement to return a result value from a switch expression. Feedback on JDK 12 suggested that this use of <code>break</code> was confusing. In response to the feedback, JEP 354 was created as an evolution of JEP 325.</p>\n</blockquote>\n<p>I would imagine overloading <code>return</code> would also be &quot;confusing&quot;.</p>\n<p>Being able to return from a lambda expression isn't exactly &quot;overloading&quot; <code>return</code> in the same sense. The bodies of lambda expressions represent function bodies. It would make sense for <code>return</code> to return from functions. The body of a switch expression, isn't a function.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689592924,"creation_date":1689592924,"answer_id":76703947,"question_id":76701657,"body_markdown":"&gt; _&quot;When a return statement occurs within a **lambda expression**, it simply causes a return from the lambda. **It does not cause an enclosing method to return.** ...&quot;_\r\n\r\nA _lambda expression_ is a _[closure](https://en.wikipedia.org/wiki/Closure_(computer_programming))_, so it&#39;s actually returning from a method, within that scope.\r\n\r\n&gt; _&quot;... So, for **switch expressions** why the keyword `yield` had introduced while `return` keyword could have been used instead? ...&quot;_\r\n\r\nUsing the _return_ keyword here would have overlapped its meaning.\r\n\r\nIt&#39;s important to disseminate when you want to simply return from the _switch_ and when you want to return from the enclosing method.\r\n\r\nA lot of things in _Java_ are written out more than logically required, purposely.  \r\nAn underlying quality of _Java_ is that you can read the code as if it were a sentence&amp;mdash;similar to _[Objective-C](https://en.wikipedia.org/wiki/Objective-C)_.","title":"Why does yield keyword introduced for switch expressions? (not just use return keyword)","body":"<blockquote>\n<p><em>&quot;When a return statement occurs within a <strong>lambda expression</strong>, it simply causes a return from the lambda. <strong>It does not cause an enclosing method to return.</strong> ...&quot;</em></p>\n</blockquote>\n<p>A <em>lambda expression</em> is a <em><a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\">closure</a></em>, so it's actually returning from a method, within that scope.</p>\n<blockquote>\n<p><em>&quot;... So, for <strong>switch expressions</strong> why the keyword <code>yield</code> had introduced while <code>return</code> keyword could have been used instead? ...&quot;</em></p>\n</blockquote>\n<p>Using the <em>return</em> keyword here would have overlapped its meaning.</p>\n<p>It's important to disseminate when you want to simply return from the <em>switch</em> and when you want to return from the enclosing method.</p>\n<p>A lot of things in <em>Java</em> are written out more than logically required, purposely.<br />\nAn underlying quality of <em>Java</em> is that you can read the code as if it were a sentence—similar to <em><a href=\"https://en.wikipedia.org/wiki/Objective-C\" rel=\"nofollow noreferrer\">Objective-C</a></em>.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76701802,"answer_count":3,"score":2,"last_activity_date":1689592924,"creation_date":1689571173,"question_id":76701657,"body_markdown":"&gt; When a return statement occurs within a **lambda expression**, it simply\r\n&gt; causes a return from the lambda. **It does not cause an enclosing method**\r\n&gt; **to return.**\r\n\r\nSo, for **switch expressions** why the keyword `yield` had introduced while `return` keyword could have been used instead? The first return for returning from method and the inside one for return from switch statement.\r\n\r\n    class TestClass {\r\n        public int testMethod() {\r\n            // ...\r\n            int a = switch (allOptions) {\r\n                case &quot;case1&quot; -&gt; {\r\n                    System.out.println(&quot;case 1&quot;);\r\n                    return 1;\r\n                }\r\n                default -&gt; {\r\n                    System.out.println(&quot;default&quot;);\r\n                    return -1;\r\n                }\r\n            };\r\n    \r\n            return a;\r\n        }\r\n    }\r\n\r\nConsider this example for lambda expressions:\r\n\r\n    class TestClass {\r\n        interface FunctionalInterface {\r\n            int test(int n);\r\n        }\r\n        \r\n        public int testMethod() {\r\n    \r\n            FunctionalInterface f = (n) -&gt; {\r\n                return n * 2;\r\n            };\r\n    \r\n            return f.test(10);\r\n        }\r\n    }\r\n\r\n**Is there any special reason for that?**\r\n-----------------------------------------\r\n\r\nWhy return keyword is confusing in first example and not confusing in the second one?","title":"Why does yield keyword introduced for switch expressions? (not just use return keyword)","body":"<blockquote>\n<p>When a return statement occurs within a <strong>lambda expression</strong>, it simply\ncauses a return from the lambda. <strong>It does not cause an enclosing method</strong>\n<strong>to return.</strong></p>\n</blockquote>\n<p>So, for <strong>switch expressions</strong> why the keyword <code>yield</code> had introduced while <code>return</code> keyword could have been used instead? The first return for returning from method and the inside one for return from switch statement.</p>\n<pre><code>class TestClass {\n    public int testMethod() {\n        // ...\n        int a = switch (allOptions) {\n            case &quot;case1&quot; -&gt; {\n                System.out.println(&quot;case 1&quot;);\n                return 1;\n            }\n            default -&gt; {\n                System.out.println(&quot;default&quot;);\n                return -1;\n            }\n        };\n\n        return a;\n    }\n}\n</code></pre>\n<p>Consider this example for lambda expressions:</p>\n<pre><code>class TestClass {\n    interface FunctionalInterface {\n        int test(int n);\n    }\n    \n    public int testMethod() {\n\n        FunctionalInterface f = (n) -&gt; {\n            return n * 2;\n        };\n\n        return f.test(10);\n    }\n}\n</code></pre>\n<h2><strong>Is there any special reason for that?</strong></h2>\n<p>Why return keyword is confusing in first example and not confusing in the second one?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-entitymanager"],"comments":[{"owner":{"account_id":6798581,"reputation":25,"user_id":5232831,"accept_rate":40,"display_name":"ashley"},"score":0,"creation_date":1457659781,"post_id":4148231,"comment_id":71437605,"body_markdown":"See also `((EntityManagerImpl)em).getSession();`","body":"See also <code>((EntityManagerImpl)em).getSession();</code>"}],"answers":[{"comments":[{"owner":{"account_id":86417,"reputation":38255,"user_id":240337,"accept_rate":78,"display_name":"Thang Pham"},"score":0,"creation_date":1294910507,"post_id":4148294,"comment_id":5157578,"body_markdown":"`entityManager.unwrap(Session.class);` what is `Session` in `Session.class`? is it an import?","body":"<code>entityManager.unwrap(Session.class);</code> what is <code>Session</code> in <code>Session.class</code>? is it an import?"},{"owner":{"account_id":348076,"reputation":5557,"user_id":682559,"accept_rate":100,"display_name":"Nicktar"},"score":2,"creation_date":1440666873,"post_id":4148294,"comment_id":52371267,"body_markdown":"The Hibernate Manual changed. Point 15.8 no longer gives any information about obtaining a session.","body":"The Hibernate Manual changed. Point 15.8 no longer gives any information about obtaining a session."},{"owner":{"account_id":128453,"reputation":787,"user_id":326294,"display_name":"Alain BECKER"},"score":3,"creation_date":1549495898,"post_id":4148294,"comment_id":95927167,"body_markdown":"As of Jan. 2019, Hibernate current (5.3.7) manual , &#167;5.1, still states this as the way to obtain a reference to a Session object.","body":"As of Jan. 2019, Hibernate current (5.3.7) manual , &#167;5.1, still states this as the way to obtain a reference to a Session object."}],"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":3,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1689592340,"creation_date":1289417440,"answer_id":4148294,"question_id":4148231,"body_markdown":"See the section &quot;***5.1. Accessing Hibernate APIs from JPA***&quot; in the [Hibernate ORM User Guide][1]:\r\n\r\n    import org.hibernate.Session;\r\n    ...\r\n\r\n    Session session = entityManager.unwrap(Session.class);\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-unwrap","title":"How can I get the session object if I have the entity-manager?","body":"<p>See the section &quot;<em><strong>5.1. Accessing Hibernate APIs from JPA</strong></em>&quot; in the <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-unwrap\" rel=\"nofollow noreferrer\">Hibernate ORM User Guide</a>:</p>\n<pre><code>import org.hibernate.Session;\n...\n\nSession session = entityManager.unwrap(Session.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":86417,"reputation":38255,"user_id":240337,"accept_rate":78,"display_name":"Thang Pham"},"score":2,"creation_date":1294910370,"post_id":4151834,"comment_id":5157557,"body_markdown":"`entityManager.unwrap(Session.class);` what is `Session` in `Session.class`? is it an import?","body":"<code>entityManager.unwrap(Session.class);</code> what is <code>Session</code> in <code>Session.class</code>? is it an import?"},{"owner":{"account_id":1260099,"reputation":18217,"user_id":1218618,"accept_rate":100,"display_name":"albciff"},"score":1,"creation_date":1575069237,"post_id":4151834,"comment_id":104454785,"body_markdown":"Depends on JPA implementation, if you&#39;re using eclipselink it&#39;s `org.eclipse.persistence.sessions.Session`","body":"Depends on JPA implementation, if you&#39;re using eclipselink it&#39;s <code>org.eclipse.persistence.sessions.Session</code>"},{"owner":{"account_id":254663,"reputation":1477,"user_id":534217,"accept_rate":100,"display_name":"Dima Korobskiy"},"score":0,"creation_date":1608760129,"post_id":4151834,"comment_id":115679909,"body_markdown":"I had to put `@Transactional` on a repository class using `entityManager.unwrap(Session.class)`. Otherwise, I&#39;m getting `java.lang.IllegalStateException: No transactional EntityManager available`.","body":"I had to put <code>@Transactional</code> on a repository class using <code>entityManager.unwrap(Session.class)</code>. Otherwise, I&#39;m getting <code>java.lang.IllegalStateException: No transactional EntityManager available</code>."}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":3,"down_vote_count":0,"up_vote_count":205,"is_accepted":true,"score":205,"last_activity_date":1689592388,"creation_date":1289456090,"answer_id":4151834,"question_id":4148231,"body_markdown":"To be totally exhaustive, things are different if you&#39;re using a JPA 1.0 or a JPA 2.0 implementation.\r\n\r\n### JPA 1.0\r\n\r\nWith JPA 1.0, you&#39;d have to use [`EntityManager#getDelegate()`][1]. But keep in mind that  ***the result of this method is implementation specific*** i.e. non portable from application server using Hibernate to the other. For example [with JBoss][2] you would do:\r\n\r\n    org.hibernate.Session session = (Session) manager.getDelegate();\r\n\r\nBut [with GlassFish][3], you&#39;d have to do:\r\n\r\n    org.hibernate.Session session = ((org.hibernate.ejb.EntityManagerImpl) em.getDelegate()).getSession(); \r\n\r\nI agree, that&#39;s horrible, and the spec is to blame here (not clear enough).\r\n\r\n### JPA 2.0\r\n\r\nWith JPA 2.0, there is a new (and much better) [`EntityManager#unwrap(Class&lt;T&gt;)`][4] method that is to be preferred over [`EntityManager#getDelegate()`][5] for new applications.\r\n\r\nSo with Hibernate as JPA 2.0 implementation (see [3.15. Native Hibernate API][6]), you would do:\r\n\r\n    import org.hibernate.Session;\r\n    ...\r\n\r\n    Session session = entityManager.unwrap(Session.class);\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\r\n  [2]: http://bill.burkecentral.com/2007/07/06/co-existence-with-hibernate-jpa-and-ejb3/\r\n  [3]: http://weblogs.java.net/blog/2009/05/25/be-careful-while-using-entitymanagergetdelegate\r\n  [4]: http://download.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#unwrap%28java.lang.Class%29\r\n  [5]: http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\r\n  [6]: http://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/objectstate.html#d0e1799","title":"How can I get the session object if I have the entity-manager?","body":"<p>To be totally exhaustive, things are different if you're using a JPA 1.0 or a JPA 2.0 implementation.</p>\n<h3>JPA 1.0</h3>\n<p>With JPA 1.0, you'd have to use <a href=\"http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\" rel=\"nofollow noreferrer\"><code>EntityManager#getDelegate()</code></a>. But keep in mind that  <em><strong>the result of this method is implementation specific</strong></em> i.e. non portable from application server using Hibernate to the other. For example <a href=\"http://bill.burkecentral.com/2007/07/06/co-existence-with-hibernate-jpa-and-ejb3/\" rel=\"nofollow noreferrer\">with JBoss</a> you would do:</p>\n<pre><code>org.hibernate.Session session = (Session) manager.getDelegate();\n</code></pre>\n<p>But <a href=\"http://weblogs.java.net/blog/2009/05/25/be-careful-while-using-entitymanagergetdelegate\" rel=\"nofollow noreferrer\">with GlassFish</a>, you'd have to do:</p>\n<pre><code>org.hibernate.Session session = ((org.hibernate.ejb.EntityManagerImpl) em.getDelegate()).getSession(); \n</code></pre>\n<p>I agree, that's horrible, and the spec is to blame here (not clear enough).</p>\n<h3>JPA 2.0</h3>\n<p>With JPA 2.0, there is a new (and much better) <a href=\"http://download.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#unwrap%28java.lang.Class%29\" rel=\"nofollow noreferrer\"><code>EntityManager#unwrap(Class&lt;T&gt;)</code></a> method that is to be preferred over <a href=\"http://download.oracle.com/javaee/5/api/javax/persistence/EntityManager.html#getDelegate%28%29\" rel=\"nofollow noreferrer\"><code>EntityManager#getDelegate()</code></a> for new applications.</p>\n<p>So with Hibernate as JPA 2.0 implementation (see <a href=\"http://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/objectstate.html#d0e1799\" rel=\"nofollow noreferrer\">3.15. Native Hibernate API</a>), you would do:</p>\n<pre><code>import org.hibernate.Session;\n...\n\nSession session = entityManager.unwrap(Session.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1660913271,"post_id":36190794,"comment_id":129652228,"body_markdown":"Session class imported from where? Your mom&#39;s house? Please be specific. Don&#39;t just copy and paste","body":"Session class imported from where? Your mom&#39;s house? Please be specific. Don&#39;t just copy and paste"}],"tags":[],"owner":{"account_id":8011679,"reputation":71,"user_id":6043169,"display_name":"Enio Dantas"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1458777562,"creation_date":1458776505,"answer_id":36190794,"question_id":4148231,"body_markdown":"This will explain better.\r\n    \r\n    EntityManager em = new JPAUtil().getEntityManager();\r\n    Session session = em.unwrap(Session.class);\r\n    Criteria c = session.createCriteria(Name.class);","title":"How can I get the session object if I have the entity-manager?","body":"<p>This will explain better.</p>\n\n<pre><code>EntityManager em = new JPAUtil().getEntityManager();\nSession session = em.unwrap(Session.class);\nCriteria c = session.createCriteria(Name.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16395978,"reputation":1,"user_id":11843500,"display_name":"carlos veintemilla"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564182947,"creation_date":1564178267,"answer_id":57227420,"question_id":4148231,"body_markdown":"I was working in Wildfly but I was using \r\n\r\n    org.hibernate.Session session = ((org.hibernate.ejb.EntityManagerImpl) em.getDelegate()).getSession();\r\n\r\nand the correct was \r\n\r\n    org.hibernate.Session session = (Session) manager.getDelegate();","title":"How can I get the session object if I have the entity-manager?","body":"<p>I was working in Wildfly but I was using </p>\n\n<pre><code>org.hibernate.Session session = ((org.hibernate.ejb.EntityManagerImpl) em.getDelegate()).getSession();\n</code></pre>\n\n<p>and the correct was </p>\n\n<pre><code>org.hibernate.Session session = (Session) manager.getDelegate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584291469,"creation_date":1584291469,"answer_id":60695400,"question_id":4148231,"body_markdown":"&#39;entityManager.unwrap(Session.class)&#39; is used to get session from EntityManager.\r\n\r\n    @Repository\r\n    @Transactional\r\n    public class EmployeeRepository {\r\n    \r\n      @PersistenceContext\r\n      private EntityManager entityManager;\r\n    \r\n      public Session getSession() {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        return session;\r\n      }\r\n    \r\n      ......\r\n      ......\r\n    \r\n    }\r\n\r\nDemo Application [link][1].\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2020/03/spring-jpa-get-hibernate-session-object.html","title":"How can I get the session object if I have the entity-manager?","body":"<p>'entityManager.unwrap(Session.class)' is used to get session from EntityManager.</p>\n\n<pre><code>@Repository\n@Transactional\npublic class EmployeeRepository {\n\n  @PersistenceContext\n  private EntityManager entityManager;\n\n  public Session getSession() {\n    Session session = entityManager.unwrap(Session.class);\n    return session;\n  }\n\n  ......\n  ......\n\n}\n</code></pre>\n\n<p>Demo Application <a href=\"https://self-learning-java-tutorial.blogspot.com/2020/03/spring-jpa-get-hibernate-session-object.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670193256,"creation_date":1670193256,"answer_id":74681554,"question_id":4148231,"body_markdown":"If you&#39;re using Hibernate 5, simply using `EntityManager.unwrap()` may not work, due to a combination of Spring&#39;s proxy behavior and recent changes in Hibernate (see [this Spring issue][1], which is fixed but not really, for details).\r\n\r\nTo make it work I had to do a double unwrap first using `null`:\r\n```java\r\n/**\r\n * Get the Hibernate {@link Session} behind the given {@link EntityManager}.\r\n *  \r\n * @see &lt;a href=&quot;https://github.com/spring-projects/spring-framework/issues/19577&quot;&gt;Spring Issue #19577&lt;/a&gt;\r\n */         \r\npublic static Session getHibernateSession(EntityManager entityManager) {\r\n    Preconditions.checkArgument(entityManager != null, &quot;null entityManager&quot;);\r\n    return ((EntityManager)entityManager.unwrap(null)).unwrap(Session.class);\r\n}\r\n```\r\nI believe this is due to the handling of the proxied `unwrap()` method in Spring&#39;s `ExtendedEntityManagerCreator`:\r\n```java\r\n...\r\nelse if (method.getName().equals(&quot;unwrap&quot;)) {\r\n    // Handle JPA 2.0 unwrap method - could be a proxy match.\r\n    Class&lt;?&gt; targetClass = (Class&lt;?&gt;) args[0];\r\n    if (targetClass == null) {\r\n        return this.target;\r\n    }\r\n    else if (targetClass.isInstance(proxy)) {\r\n        return proxy;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/19577","title":"How can I get the session object if I have the entity-manager?","body":"<p>If you're using Hibernate 5, simply using <code>EntityManager.unwrap()</code> may not work, due to a combination of Spring's proxy behavior and recent changes in Hibernate (see <a href=\"https://github.com/spring-projects/spring-framework/issues/19577\" rel=\"nofollow noreferrer\">this Spring issue</a>, which is fixed but not really, for details).</p>\n<p>To make it work I had to do a double unwrap first using <code>null</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Get the Hibernate {@link Session} behind the given {@link EntityManager}.\n *  \n * @see &lt;a href=&quot;https://github.com/spring-projects/spring-framework/issues/19577&quot;&gt;Spring Issue #19577&lt;/a&gt;\n */         \npublic static Session getHibernateSession(EntityManager entityManager) {\n    Preconditions.checkArgument(entityManager != null, &quot;null entityManager&quot;);\n    return ((EntityManager)entityManager.unwrap(null)).unwrap(Session.class);\n}\n</code></pre>\n<p>I believe this is due to the handling of the proxied <code>unwrap()</code> method in Spring's <code>ExtendedEntityManagerCreator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nelse if (method.getName().equals(&quot;unwrap&quot;)) {\n    // Handle JPA 2.0 unwrap method - could be a proxy match.\n    Class&lt;?&gt; targetClass = (Class&lt;?&gt;) args[0];\n    if (targetClass == null) {\n        return this.target;\n    }\n    else if (targetClass.isInstance(proxy)) {\n        return proxy;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":208183,"reputation":7392,"user_id":458509,"accept_rate":71,"display_name":"storm_buster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157991,"favorite_count":0,"down_vote_count":1,"up_vote_count":125,"accepted_answer_id":4151834,"answer_count":6,"score":124,"last_activity_date":1689592388,"creation_date":1289417042,"question_id":4148231,"body_markdown":"I have \r\n\r\n    private EntityManager em;\r\n\r\n\tpublic List getAll(DetachedCriteria detachedCriteria)\t{\r\n\r\n\t\treturn detachedCriteria.getExecutableCriteria(&quot;....&quot;).list();\r\n\t}\r\n\t\r\nHow can I retrieve the session if am using entitymanager, or how can I get the result from my detached criteria?\r\n","title":"How can I get the session object if I have the entity-manager?","body":"<p>I have</p>\n<pre><code>private EntityManager em;\n\npublic List getAll(DetachedCriteria detachedCriteria)   {\n\n    return detachedCriteria.getExecutableCriteria(&quot;....&quot;).list();\n}\n</code></pre>\n<p>How can I retrieve the session if am using entitymanager, or how can I get the result from my detached criteria?</p>\n"},{"tags":["java","maven","gitlab","gitlab-ci","maven-2"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1689139901,"post_id":76667266,"comment_id":135169031,"body_markdown":"Please don&#39;t post things in comments. Use the [edit] link in the question","body":"Please don&#39;t post things in comments. Use the <a href=\"https://stackoverflow.com/posts/76667266/edit\">edit</a> link in the question"}],"answers":[{"tags":[],"owner":{"account_id":873080,"reputation":323,"user_id":923499,"accept_rate":50,"display_name":"user923499"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689592173,"creation_date":1689592173,"answer_id":76703857,"question_id":76667266,"body_markdown":"Use gitlab Job-token to publish artifacts in CI pipeline while running on laptop or any machine need to use gitlab Private-Token to pull artifacts from gitlab package registry","title":"Unable to push maven artifact to gitlab","body":"<p>Use gitlab Job-token to publish artifacts in CI pipeline while running on laptop or any machine need to use gitlab Private-Token to pull artifacts from gitlab package registry</p>\n"}],"owner":{"account_id":873080,"reputation":323,"user_id":923499,"accept_rate":50,"display_name":"user923499"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689592173,"creation_date":1689138098,"question_id":76667266,"body_markdown":"I am trying to push an artifact from laptop to gitlab artifactory and not able to push  because of the following error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nError details in terminal:\r\n\r\n&gt; --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ tech-root ---\r\n&gt;\r\n&gt; [INFO] Uploading to gitlab-maven: https:// https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven/com/org/tech/root/tech-root/1.3.0/tech-root-1.3.0\r\n\r\nPom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                             http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.7.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.org.tech.root&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tech-root&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.0&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;TECH ROOT&lt;/name&gt;\r\n\r\n    &lt;scm&gt;\r\n        &lt;connection&gt;\r\n            scm:git:git@gitlab.com:&lt;project_path&gt;.git\r\n        &lt;/connection&gt;\r\n        &lt;developerConnection&gt;\r\n            scm:git:git@gitlab.com:&lt;project_path&gt;.git\r\n        &lt;/developerConnection&gt;\r\n        &lt;url&gt;\r\n            https://gitlab.com/\r\n            &lt;project_path&gt;\r\n        &lt;/url&gt;\r\n        &lt;tag&gt;HEAD&lt;/tag&gt;\r\n    &lt;/scm&gt;\r\n    &lt;!--  &lt;issueManagement&gt;--&gt;\r\n    &lt;!--    &lt;system&gt;JIRA&lt;/system&gt;--&gt;\r\n    &lt;!--    &lt;url&gt;https://adlm.&lt;org&gt;.com/jira/projects/&lt;/url&gt;--&gt;\r\n    &lt;!--  &lt;/issueManagement&gt;--&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n        &lt;/snapshotRepository&gt;\r\n        &lt;!--    &lt;site&gt;--&gt;\r\n        &lt;!--      &lt;id&gt;${maven.distribution-management.site.id}&lt;/id&gt;--&gt;\r\n        &lt;!--      &lt;name&gt;${maven.distribution-management.site.name}&lt;/name&gt;--&gt;\r\n        &lt;!--      &lt;url&gt;${maven.distribution-management.site.url}&lt;/url&gt;--&gt;\r\n        &lt;!--    &lt;/site&gt;--&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;snapshots&lt;/id&gt;\r\n            &lt;url&gt;file://${user.home}/.m2/repository/&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;module-bom&lt;/module&gt;\r\n        &lt;module&gt;libs&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.scm.id&gt;gitlab&lt;/project.scm.id&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nSettings.xml\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot;&gt;\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n                &lt;httpHeaders&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;Job-Token&lt;/name&gt;\r\n                        &lt;value&gt;\r\n                            &lt;!--gitlab_token--&gt;\r\n                        &lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/httpHeaders&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n                &lt;httpHeaders&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;Private-Token&lt;/name&gt;\r\n                        &lt;value&gt;\r\n                            &lt;!--gitlab_token--&gt;\r\n                        &lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/httpHeaders&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;maven-https&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n                    &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven\r\n                    &lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n            &lt;/repositories&gt;\r\n            &lt;pluginRepositories&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n                    &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven\r\n                    &lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt;\r\n                &lt;pluginRepository&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt;\r\n\r\n            &lt;/pluginRepositories&gt;\r\n\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nI added gitlab authentication using access token in servers section of settings.xml and get error. \r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project tech-root: Failed to deploy artifacts\r\n: Could not transfer artifact com.org:tech-root:pom:1.3.0 from/to gitlab-maven : authentication failed for https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven/com/org/tech-root/1.3.0/tech-root-1.3.0.pom, status: 401 Unauthorized -&gt; [Help 1]\r\n\r\n        &lt;server&gt; &lt;id&gt;registry.gitlab.com&lt;/id&gt; &lt;username&gt;&lt;gitlab_user_id&gt;&lt;/username&gt; &lt;password&gt;&lt;access_token&gt;&lt;/password&gt; &lt;/server&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kumdf.png\r\n\r\n\r\n\r\n","title":"Unable to push maven artifact to gitlab","body":"<p>I am trying to push an artifact from laptop to gitlab artifactory and not able to push  because of the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/kumdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kumdf.png\" alt=\"enter image description here\" /></a></p>\n<p>Error details in terminal:</p>\n<blockquote>\n<p>--- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ tech-root ---</p>\n<p>[INFO] Uploading to gitlab-maven: https:// <a href=\"https://gitlab.com/api/v4/projects/\" rel=\"nofollow noreferrer\">https://gitlab.com/api/v4/projects/</a>&lt;project_id&gt;/packages/maven/com/org/tech/root/tech-root/1.3.0/tech-root-1.3.0</p>\n</blockquote>\n<p>Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n                             http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.org.tech.root&lt;/groupId&gt;\n    &lt;artifactId&gt;tech-root&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;TECH ROOT&lt;/name&gt;\n\n    &lt;scm&gt;\n        &lt;connection&gt;\n            scm:git:git@gitlab.com:&lt;project_path&gt;.git\n        &lt;/connection&gt;\n        &lt;developerConnection&gt;\n            scm:git:git@gitlab.com:&lt;project_path&gt;.git\n        &lt;/developerConnection&gt;\n        &lt;url&gt;\n            https://gitlab.com/\n            &lt;project_path&gt;\n        &lt;/url&gt;\n        &lt;tag&gt;HEAD&lt;/tag&gt;\n    &lt;/scm&gt;\n    &lt;!--  &lt;issueManagement&gt;--&gt;\n    &lt;!--    &lt;system&gt;JIRA&lt;/system&gt;--&gt;\n    &lt;!--    &lt;url&gt;https://adlm.&lt;org&gt;.com/jira/projects/&lt;/url&gt;--&gt;\n    &lt;!--  &lt;/issueManagement&gt;--&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n            &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n        &lt;/snapshotRepository&gt;\n        &lt;!--    &lt;site&gt;--&gt;\n        &lt;!--      &lt;id&gt;${maven.distribution-management.site.id}&lt;/id&gt;--&gt;\n        &lt;!--      &lt;name&gt;${maven.distribution-management.site.name}&lt;/name&gt;--&gt;\n        &lt;!--      &lt;url&gt;${maven.distribution-management.site.url}&lt;/url&gt;--&gt;\n        &lt;!--    &lt;/site&gt;--&gt;\n    &lt;/distributionManagement&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;url&gt;file://${user.home}/.m2/repository/&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;url&gt;${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/maven&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;module-bom&lt;/module&gt;\n        &lt;module&gt;libs&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;project.scm.id&gt;gitlab&lt;/project.scm.id&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Settings.xml</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd&quot;&gt;\n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;httpHeaders&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;Job-Token&lt;/name&gt;\n                        &lt;value&gt;\n                            &lt;!--gitlab_token--&gt;\n                        &lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/httpHeaders&gt;\n            &lt;/configuration&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n            &lt;id&gt;gitlab-maven&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;httpHeaders&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;Private-Token&lt;/name&gt;\n                        &lt;value&gt;\n                            &lt;!--gitlab_token--&gt;\n                        &lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/httpHeaders&gt;\n            &lt;/configuration&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;maven-https&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;gitlab-maven&lt;/id&gt;\n                    &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven\n                    &lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n\n                &lt;repository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n            &lt;pluginRepositories&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;gitlab-maven&lt;/id&gt;\n                    &lt;url&gt;https://gitlab.com/api/v4/projects/&lt;project_id&gt;/packages/maven\n                    &lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/pluginRepository&gt;\n                &lt;pluginRepository&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;url&gt;https://repo1.maven.org/maven2&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/pluginRepository&gt;\n\n            &lt;/pluginRepositories&gt;\n\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>I added gitlab authentication using access token in servers section of settings.xml and get error.</p>\n<blockquote>\n<p>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project tech-root: Failed to deploy artifacts\n: Could not transfer artifact com.org:tech-root:pom:1.3.0 from/to gitlab-maven : authentication failed for <a href=\"https://gitlab.com/api/v4/projects/\" rel=\"nofollow noreferrer\">https://gitlab.com/api/v4/projects/</a>&lt;project_id&gt;/packages/maven/com/org/tech-root/1.3.0/tech-root-1.3.0.pom, status: 401 Unauthorized -&gt; [Help 1]</p>\n</blockquote>\n<pre><code>    &lt;server&gt; &lt;id&gt;registry.gitlab.com&lt;/id&gt; &lt;username&gt;&lt;gitlab_user_id&gt;&lt;/username&gt; &lt;password&gt;&lt;access_token&gt;&lt;/password&gt; &lt;/server&gt;\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","log4j"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1525094360,"post_id":50100857,"comment_id":87219460,"body_markdown":"why don&#39;t you use **private static final Logger LOGGER = LogManager.getLogger(MyClass.class);** ?","body":"why don&#39;t you use <b>private static final Logger LOGGER = LogManager.getLogger(MyClass.class);</b> ?"},{"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"score":1,"creation_date":1525094688,"post_id":50100857,"comment_id":87219655,"body_markdown":"You can use project Lombok&#39;s annotation @Log to automatically inject logger if it&#39;s needed.\nHere is an example: https://projectlombok.org/features/log","body":"You can use project Lombok&#39;s annotation @Log to automatically inject logger if it&#39;s needed. Here is an example: <a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">projectlombok.org/features/log</a>"},{"owner":{"account_id":3407726,"reputation":4258,"user_id":2858407,"accept_rate":85,"display_name":"stop-cran"},"score":0,"creation_date":1525095005,"post_id":50100857,"comment_id":87219841,"body_markdown":"@DirkDeyne i&#39;d like to inject a logger, e.g. to mock it in unit-tests and verify an error is logged.","body":"@DirkDeyne i&#39;d like to inject a logger, e.g. to mock it in unit-tests and verify an error is logged."},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":1,"creation_date":1525095596,"post_id":50100857,"comment_id":87220205,"body_markdown":"there are better ways to test if logging happens.\n[how-to-do-a-junit-assert-on-a-message-in-a-logger](https://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger)","body":"there are better ways to test if logging happens. <a href=\"https://stackoverflow.com/questions/1827677/how-to-do-a-junit-assert-on-a-message-in-a-logger\">how-to-do-a-junit-assert-on-a-message-in-a-logger</a>"}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689591963,"creation_date":1525097278,"answer_id":50102241,"question_id":50100857,"body_markdown":"Passing the logger as a constructor parameter is somewhat terrible.\r\nAlso, your arguments against using a `private ...blah... Logger` are specious.\r\n\r\n1. &quot;copy-paste is error prone.&quot;\r\nTrue copy-paste techniques are error prone,\r\nbut when you want each logger to have a unique name (so as to identify the source of the log message),\r\nyou need to declare a logger in each class.\r\n2. &quot;I want to mock my loggers during unit tests.&quot;\r\nWhile it is not reasonable to replace a final member variable with a mock,\r\nit is ridiculously easy to to replace a not-final member variable with a mock.\r\nTo this end,\r\nyou should always declare class level loggers a follows: `private static Logger ...blah`.\r\nSpecifically,\r\ndon&#39;t use final loggers.\r\nOnce the loggers are not final,\r\nuse reflection to replace them with mocks.\r\n3. [New in 2023; hurry for learnin&#39;] Use protected loggers.\r\nDeclare your logger as `static Logger ...blah` then assign it to a mockLogger in the `@BeforeEach` or `@BeforeAll` method in your Junit\r\n(jupiter) unit test.\r\n\r\n","title":"Spring - injecting Log4j logger without explicit specification","body":"<p>Passing the logger as a constructor parameter is somewhat terrible.\nAlso, your arguments against using a <code>private ...blah... Logger</code> are specious.</p>\n<ol>\n<li>&quot;copy-paste is error prone.&quot;\nTrue copy-paste techniques are error prone,\nbut when you want each logger to have a unique name (so as to identify the source of the log message),\nyou need to declare a logger in each class.</li>\n<li>&quot;I want to mock my loggers during unit tests.&quot;\nWhile it is not reasonable to replace a final member variable with a mock,\nit is ridiculously easy to to replace a not-final member variable with a mock.\nTo this end,\nyou should always declare class level loggers a follows: <code>private static Logger ...blah</code>.\nSpecifically,\ndon't use final loggers.\nOnce the loggers are not final,\nuse reflection to replace them with mocks.</li>\n<li>[New in 2023; hurry for learnin'] Use protected loggers.\nDeclare your logger as <code>static Logger ...blah</code> then assign it to a mockLogger in the <code>@BeforeEach</code> or <code>@BeforeAll</code> method in your Junit\n(jupiter) unit test.</li>\n</ol>\n"}],"owner":{"account_id":3407726,"reputation":4258,"user_id":2858407,"accept_rate":85,"display_name":"stop-cran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689591963,"creation_date":1525092341,"question_id":50100857,"body_markdown":"I&#39;m using Spring XML-based DI to create my classes.\r\n\r\nAlso I&#39;m using log4j and I&#39;m injecting `org.apache.log4j.Logger` as a constructor argument in each class which needs it.\r\n\r\nSo I have a lot of entries in Spring config like following:\r\n\r\n    &lt;bean id=&quot;myClass&quot; class=&quot;com.myProject.MyClass&quot;&gt;\r\n        ...\r\n        &lt;constructor-arg type=&quot;org.apache.log4j.Logger&quot;&gt;\r\n        \t&lt;bean class=&quot;org.apache.log4j.Logger&quot; factory-method=&quot;getLogger&quot;&gt;\r\n                &lt;constructor-arg value=&quot;com.myProject.MyClass&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/constructor-arg&gt;\r\n    &lt;/bean&gt;\r\n\r\nClass code:\r\n\r\n    package com.myProject;\r\n\r\n    import org.apache.log4j.Logger;\r\n\r\n    public class MyClass {\r\n    \tprivate final Logger logger;\r\n    \t\r\n    \tpublic MyClass (\r\n    \t\t\t...\r\n    \t\t\tLogger logger) {\r\n    \t\t...\r\n    \t\tthis.logger = logger;\r\n    \t}\r\n    \t\r\n    \t...\r\n    }\r\n\r\nAlthough it works perfectly, I wonder if there is any possibility to default `constructor-arg` of the logger to the class name, whose constructor the created logger should be passed to?\r\n\r\nE.g. like this [solution][1] for Unity DI and log4net which are somewhat analogs in .Net.\r\n\r\n---\r\n**Update:**\r\n\r\nI see two reasons of injecting `Logger` rather than initializing it inside the class.\r\n\r\nFirst of all, statements like `private final Logger logger = LogManager.getLogger(MyClass.class);` are usually copy-pasted, so they are prone to mistake in the logger name.\r\n\r\nMoverover, I&#39;d like to cover error logging with unit tests, e.g. pass a mock of `Logger` into the constructor and than verify that after some erroneous action `logger.Error` has been called.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35262698/2858407","title":"Spring - injecting Log4j logger without explicit specification","body":"<p>I'm using Spring XML-based DI to create my classes.</p>\n\n<p>Also I'm using log4j and I'm injecting <code>org.apache.log4j.Logger</code> as a constructor argument in each class which needs it.</p>\n\n<p>So I have a lot of entries in Spring config like following:</p>\n\n<pre><code>&lt;bean id=\"myClass\" class=\"com.myProject.MyClass\"&gt;\n    ...\n    &lt;constructor-arg type=\"org.apache.log4j.Logger\"&gt;\n        &lt;bean class=\"org.apache.log4j.Logger\" factory-method=\"getLogger\"&gt;\n            &lt;constructor-arg value=\"com.myProject.MyClass\"/&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Class code:</p>\n\n<pre><code>package com.myProject;\n\nimport org.apache.log4j.Logger;\n\npublic class MyClass {\n    private final Logger logger;\n\n    public MyClass (\n            ...\n            Logger logger) {\n        ...\n        this.logger = logger;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Although it works perfectly, I wonder if there is any possibility to default <code>constructor-arg</code> of the logger to the class name, whose constructor the created logger should be passed to?</p>\n\n<p>E.g. like this <a href=\"https://stackoverflow.com/a/35262698/2858407\">solution</a> for Unity DI and log4net which are somewhat analogs in .Net.</p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>I see two reasons of injecting <code>Logger</code> rather than initializing it inside the class.</p>\n\n<p>First of all, statements like <code>private final Logger logger = LogManager.getLogger(MyClass.class);</code> are usually copy-pasted, so they are prone to mistake in the logger name.</p>\n\n<p>Moverover, I'd like to cover error logging with unit tests, e.g. pass a mock of <code>Logger</code> into the constructor and than verify that after some erroneous action <code>logger.Error</code> has been called.</p>\n"},{"tags":["java","kotlin","osgi","apache-felix"],"comments":[{"owner":{"account_id":36386,"reputation":512,"user_id":103777,"display_name":"RefuX"},"score":0,"creation_date":1696344749,"post_id":76703714,"comment_id":136139117,"body_markdown":"I&#39;m considering using OSGi in a Kotlin project. Did you end up having any luck?","body":"I&#39;m considering using OSGi in a Kotlin project. Did you end up having any luck?"}],"owner":{"account_id":16944639,"reputation":86,"user_id":12255643,"display_name":"NirYudo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689591117,"creation_date":1689590908,"question_id":76703714,"body_markdown":" am working on a server project in Kotlin where I need to dynamically load and unload modules during runtime. To achieve this, I decided to use the OSGi framework and Apache Felix as the OSGi library.\r\n\r\nI have created a simple project where I export a service using OSGi. However, when I try to run the program, I encounter an error. Here are the relevant code snippets:\r\n\r\nThe activator:\r\n```\r\nimport bundles.service.MathOperationsService\r\nimport bundles.service.MathOperationsAddImpl\r\nimport org.osgi.framework.BundleActivator\r\nimport org.osgi.framework.BundleContext\r\n\r\nclass MathOperationsActivator: BundleActivator {\r\n    override fun start(context: BundleContext?) {\r\n        context?.registerService(MathOperationsService::class.java.name, MathOperationsAddImpl(), null)\r\n\r\n    }\r\n\r\n    override fun stop(context: BundleContext?) {\r\n       // NOTE: The service is automatically unregistered.\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe service interface:\r\n\r\n```\r\ninterface MathOperationsService {\r\n    fun calculate(a: Int, b: Int): Int\r\n}\r\n```\r\n\r\nThe service implementation:\r\n\r\n```\r\nclass MathOperationsAddImpl: MathOperationsService {\r\n    override fun calculate(a: Int, b: Int): Int {\r\n        return a + b\r\n    }\r\n}\r\n```\r\n\r\nThe mathOperationProgram:\r\n\r\n```\r\nclass MathOperationProgram {\r\n\r\n    companion object {\r\n        @JvmStatic\r\n        fun main(args: Array&lt;String&gt;) {\r\n            val frameworkFactory = FrameworkFactory()\r\n            val framework = frameworkFactory.newFramework(null)\r\n            framework.init()\r\n            try {\r\n                framework.start()\r\n                val bundleContext = framework.bundleContext\r\n\r\n                val mathBundle: Bundle =\r\n                    bundleContext.installBundle(&quot;file:/path/to/mathBundle.jar&quot;)\r\n                mathBundle.start()\r\n\r\n                val mathOperationsService = mathBundle.bundleContext.getService(\r\n                    mathBundle.bundleContext.getServiceReference(MathOperationsService::class.java)\r\n                )\r\n\r\n                if (mathOperationsService != null) {\r\n                    val result = mathOperationsService.calculate(3, 4)\r\n                    println(&quot;Result: $result&quot;)\r\n                } else {\r\n                    println(&quot;Failed to retrieve MathOperationsService&quot;)\r\n                }\r\n            } catch (e: Exception) {\r\n                println(&quot;Error: ${e.message}&quot;)\r\n                e.printStackTrace()\r\n            } finally {\r\n                framework.stop()\r\n                framework.waitForStop(0)\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd the gradle task I used to create the bundle:\r\n\r\n```\r\ntasks.register(&quot;mathBundleJar&quot;, Jar::class) {\r\n    archiveFileName.set(&quot;mathBundle.jar&quot;)\r\n    manifest {\r\n        attributes(\r\n            &quot;Bundle-Name&quot; to &quot;Math Operations Bundle&quot;,\r\n            &quot;Bundle-Description&quot; to &quot;Bundle for Math Operations&quot;,\r\n            &quot;Bundle-SymbolicName&quot; to &quot;math-bundle&quot;,\r\n            &quot;Bundle-Vendor&quot; to &quot;Apache Felix&quot;,\r\n            &quot;Bundle-Version&quot; to &quot;1.0.0&quot;,\r\n            &quot;Bundle-Activator&quot; to &quot;bundles.MathOperationsActivator&quot;,\r\n            &quot;Export-Package&quot; to &quot;bundles.service&quot;,\r\n            &quot;Import-Package&quot; to &quot;org.osgi.framework, bundles.service&quot;,\r\n        )\r\n    }\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    from(sourceSets.main.get().output)\r\n    dependsOn(configurations.runtimeClasspath)\r\n    from({\r\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\r\n    })\r\n}\r\n```\r\n\r\nWhen trying to run the MathOperationProgram I&#39;m getting the following error:\r\n\r\n```\r\nError: bundles.service.MathOperationsAddImpl cannot be cast to bundles.service.MathOperationsService\r\njava.lang.ClassCastException: bundles.service.MathOperationsAddImpl cannot be cast to bundles.service.MathOperationsService\r\n\tat MathOperationProgram$Companion.main(MathOperationProgram.kt:23)\r\n\tat MathOperationProgram.main(MathOperationProgram.kt)\r\n```\r\n\r\nI would appreciate any guidance on resolving this error and successfully utilizing Apache Felix and OSGi for dynamic module loading in my Kotlin project.\r\nIn addition, if anyone is familiar with some sample code or a tutorial available that demonstrates a similar setup with Kotlin/java and OSGi integration I would apriciate it.\r\n\r\nThanks\r\n\r\n","title":"Error when using Apache Felix and OSGi for dynamic module loading in Kotlin","body":"<p>am working on a server project in Kotlin where I need to dynamically load and unload modules during runtime. To achieve this, I decided to use the OSGi framework and Apache Felix as the OSGi library.</p>\n<p>I have created a simple project where I export a service using OSGi. However, when I try to run the program, I encounter an error. Here are the relevant code snippets:</p>\n<p>The activator:</p>\n<pre><code>import bundles.service.MathOperationsService\nimport bundles.service.MathOperationsAddImpl\nimport org.osgi.framework.BundleActivator\nimport org.osgi.framework.BundleContext\n\nclass MathOperationsActivator: BundleActivator {\n    override fun start(context: BundleContext?) {\n        context?.registerService(MathOperationsService::class.java.name, MathOperationsAddImpl(), null)\n\n    }\n\n    override fun stop(context: BundleContext?) {\n       // NOTE: The service is automatically unregistered.\n\n    }\n}\n</code></pre>\n<p>The service interface:</p>\n<pre><code>interface MathOperationsService {\n    fun calculate(a: Int, b: Int): Int\n}\n</code></pre>\n<p>The service implementation:</p>\n<pre><code>class MathOperationsAddImpl: MathOperationsService {\n    override fun calculate(a: Int, b: Int): Int {\n        return a + b\n    }\n}\n</code></pre>\n<p>The mathOperationProgram:</p>\n<pre><code>class MathOperationProgram {\n\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val frameworkFactory = FrameworkFactory()\n            val framework = frameworkFactory.newFramework(null)\n            framework.init()\n            try {\n                framework.start()\n                val bundleContext = framework.bundleContext\n\n                val mathBundle: Bundle =\n                    bundleContext.installBundle(&quot;file:/path/to/mathBundle.jar&quot;)\n                mathBundle.start()\n\n                val mathOperationsService = mathBundle.bundleContext.getService(\n                    mathBundle.bundleContext.getServiceReference(MathOperationsService::class.java)\n                )\n\n                if (mathOperationsService != null) {\n                    val result = mathOperationsService.calculate(3, 4)\n                    println(&quot;Result: $result&quot;)\n                } else {\n                    println(&quot;Failed to retrieve MathOperationsService&quot;)\n                }\n            } catch (e: Exception) {\n                println(&quot;Error: ${e.message}&quot;)\n                e.printStackTrace()\n            } finally {\n                framework.stop()\n                framework.waitForStop(0)\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>And the gradle task I used to create the bundle:</p>\n<pre><code>tasks.register(&quot;mathBundleJar&quot;, Jar::class) {\n    archiveFileName.set(&quot;mathBundle.jar&quot;)\n    manifest {\n        attributes(\n            &quot;Bundle-Name&quot; to &quot;Math Operations Bundle&quot;,\n            &quot;Bundle-Description&quot; to &quot;Bundle for Math Operations&quot;,\n            &quot;Bundle-SymbolicName&quot; to &quot;math-bundle&quot;,\n            &quot;Bundle-Vendor&quot; to &quot;Apache Felix&quot;,\n            &quot;Bundle-Version&quot; to &quot;1.0.0&quot;,\n            &quot;Bundle-Activator&quot; to &quot;bundles.MathOperationsActivator&quot;,\n            &quot;Export-Package&quot; to &quot;bundles.service&quot;,\n            &quot;Import-Package&quot; to &quot;org.osgi.framework, bundles.service&quot;,\n        )\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    from(sourceSets.main.get().output)\n    dependsOn(configurations.runtimeClasspath)\n    from({\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\n    })\n}\n</code></pre>\n<p>When trying to run the MathOperationProgram I'm getting the following error:</p>\n<pre><code>Error: bundles.service.MathOperationsAddImpl cannot be cast to bundles.service.MathOperationsService\njava.lang.ClassCastException: bundles.service.MathOperationsAddImpl cannot be cast to bundles.service.MathOperationsService\n    at MathOperationProgram$Companion.main(MathOperationProgram.kt:23)\n    at MathOperationProgram.main(MathOperationProgram.kt)\n</code></pre>\n<p>I would appreciate any guidance on resolving this error and successfully utilizing Apache Felix and OSGi for dynamic module loading in my Kotlin project.\nIn addition, if anyone is familiar with some sample code or a tutorial available that demonstrates a similar setup with Kotlin/java and OSGi integration I would apriciate it.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","web-services","rest","tomcat"],"comments":[{"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"score":0,"creation_date":1415121066,"post_id":26713743,"comment_id":42067854,"body_markdown":"possible duplicate of [No resource classes found on a cxf Servlet](http://stackoverflow.com/questions/5244112/no-resource-classes-found-on-a-cxf-servlet)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5244112/no-resource-classes-found-on-a-cxf-servlet\">No resource classes found on a cxf Servlet</a>"},{"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"score":0,"creation_date":1445498584,"post_id":26713743,"comment_id":54351368,"body_markdown":"In may case I enabled the trace log and I saw the following [error](http://stackoverflow.com/questions/33023730/jax-rs-method-has-no-path-or-http-method-annotations)","body":"In may case I enabled the trace log and I saw the following <a href=\"http://stackoverflow.com/questions/33023730/jax-rs-method-has-no-path-or-http-method-annotations\">error</a>"}],"answers":[{"tags":[],"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462732462,"creation_date":1462732462,"answer_id":37103409,"question_id":26713743,"body_markdown":"I experienced a similar problem that disappeared when I corrected the @WebService annotation, which needs to be on the interface and not the service class.","title":"No resource found for class in CXF rest services","body":"<p>I experienced a similar problem that disappeared when I corrected the @WebService annotation, which needs to be on the interface and not the service class.</p>\n"},{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481728497,"creation_date":1481728497,"answer_id":41145998,"question_id":26713743,"body_markdown":"Another common cause of this problem is having the method annotated with @Path `protected` rather than `public`. ","title":"No resource found for class in CXF rest services","body":"<p>Another common cause of this problem is having the method annotated with @Path <code>protected</code> rather than <code>public</code>. </p>\n"},{"tags":[],"owner":{"account_id":2997797,"reputation":9357,"user_id":2543968,"display_name":"Galigator"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689591088,"creation_date":1689591088,"answer_id":76703736,"question_id":26713743,"body_markdown":"I get the same problem after upgrading dependency. I had to replace every javax with jakarta.","title":"No resource found for class in CXF rest services","body":"<p>I get the same problem after upgrading dependency. I had to replace every javax with jakarta.</p>\n"}],"owner":{"account_id":3977944,"reputation":379,"user_id":3280674,"accept_rate":38,"display_name":"kavuru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16605,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1689591088,"creation_date":1415015569,"question_id":26713743,"body_markdown":"I am trying to implement restfull webservice using apache cxf.\r\n\r\nwhile deploying the war file in tomcat I am getting the error as Error creating bean with name &#39;Analysis&#39;: Invocation of init method failed; nested exception is org.apache.cxf.service.factory.ServiceConstructionException\r\n\r\n    INFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/cxf.xml]\r\n    03-Nov-2014 17:03:40 org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons\r\n    INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12f41a5: defining beans [/Analysis/,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,Analysis,AnalysisResponse,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy\r\n    03-Nov-2014 17:03:40 org.apache.cxf.jaxrs.utils.ResourceUtils checkMethodDispatcher\r\n    WARNING: No resource methods have been found for resource class com.bt.ws.pointsystem.pojo.AnalysisResponse\r\n    03-Nov-2014 17:03:40 org.apache.cxf.jaxrs.AbstractJAXRSFactoryBean checkResources\r\n    SEVERE: No resource classes found\r\n    03-Nov-2014 17:03:40 org.springframework.beans.factory.support.DefaultSingletonBeanRegistry destroySingletons\r\n    INFO: Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12f41a5: defining beans [/Analysis/,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,Analysis,AnalysisResponse,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy\r\n    03-Nov-2014 17:03:40 org.springframework.web.context.ContextLoader initWebApplicationContext\r\n    SEVERE: Context initialization failed\r\n\r\n\r\nBelow is  cxf.xml:\r\n\r\n    &lt;beans default-autowire=&quot;byName&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:jaxrs=&quot;http://cxf.apache.org/jaxrs&quot; \r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot; \r\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    http://www.springframework.org/schema/tx\r\n    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n    http://cxf.apache.org/jaxrs\r\n    http://cxf.apache.org/schemas/jaxrs.xsd&quot;&gt;\r\n     \r\n      &lt;context:component-scan base-package=&quot;com.bt.ws.pointsystem,com.bt.ws.pointsystem.pojo&quot; /&gt;\r\n      \r\n      \r\n      &lt;jaxrs:server address=&quot;/&quot; id=&quot;Analysis&quot;&gt;\r\n       &lt;jaxrs:serviceBeans&gt;\r\n                  &lt;ref bean=&quot;AnalysisResponse&quot; /&gt;\r\n       \t\t\t  \r\n       &lt;/jaxrs:serviceBeans&gt;\r\n       &lt;jaxrs:extensionMappings&gt;\r\n       \t&lt;entry key=&quot;xml&quot; value=&quot;application/xml&quot;&gt;\r\n       \t&lt;/entry&gt;\r\n       &lt;/jaxrs:extensionMappings&gt;\r\n      &lt;/jaxrs:server&gt;\r\n     \t&lt;bean class=&quot;com.bt.ws.pointsystem.pojo.AnalysisResponse&quot; id=&quot;AnalysisResponse&quot;&gt;\r\n     \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nweb.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\r\n     \r\n     &lt;web-app&gt;\r\n      &lt;display-name&gt;PointSystemService&lt;/display-name&gt;\r\n     \r\n      &lt;context-param&gt;\r\n       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n       &lt;param-value&gt;WEB-INF/cxf.xml&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      &lt;listener&gt;\r\n     \r\n       &lt;listener-class&gt;\r\n        org.springframework.web.context.ContextLoaderListener\r\n       &lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;servlet&gt;\r\n       &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n     \r\n       &lt;servlet-class&gt;\r\n        org.apache.cxf.transport.servlet.CXFServlet\r\n       &lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n     \r\n       &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n     &lt;/web-app&gt;\r\n\r\n\r\nClass Definition:\r\n\r\n    package com.bt.ws.pointsystem.pojo;\r\n    \r\n    public class AnalysisResponse {\r\n    \tprivate String UserId;\r\n    \tprivate String AnalysisType;\r\n    \tpublic String getUserId() {\r\n    \t\treturn UserId;\r\n    \t}\r\n    \tpublic void setUserId(String userId) {\r\n    \t\tUserId = userId;\r\n    \t}\r\n    \tpublic String getAnalysisType() {\r\n    \t\treturn AnalysisType;\r\n    \t}\r\n    \tpublic void setAnalysisType(String analysisType) {\r\n    \t\tAnalysisType = analysisType;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n\r\nwhat else I am missing here?\r\n\r\nTIA","title":"No resource found for class in CXF rest services","body":"<p>I am trying to implement restfull webservice using apache cxf.</p>\n\n<p>while deploying the war file in tomcat I am getting the error as Error creating bean with name 'Analysis': Invocation of init method failed; nested exception is org.apache.cxf.service.factory.ServiceConstructionException</p>\n\n<pre><code>INFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/cxf.xml]\n03-Nov-2014 17:03:40 org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons\nINFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12f41a5: defining beans [/Analysis/,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,Analysis,AnalysisResponse,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy\n03-Nov-2014 17:03:40 org.apache.cxf.jaxrs.utils.ResourceUtils checkMethodDispatcher\nWARNING: No resource methods have been found for resource class com.bt.ws.pointsystem.pojo.AnalysisResponse\n03-Nov-2014 17:03:40 org.apache.cxf.jaxrs.AbstractJAXRSFactoryBean checkResources\nSEVERE: No resource classes found\n03-Nov-2014 17:03:40 org.springframework.beans.factory.support.DefaultSingletonBeanRegistry destroySingletons\nINFO: Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12f41a5: defining beans [/Analysis/,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,Analysis,AnalysisResponse,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy\n03-Nov-2014 17:03:40 org.springframework.web.context.ContextLoader initWebApplicationContext\nSEVERE: Context initialization failed\n</code></pre>\n\n<p>Below is  cxf.xml:</p>\n\n<pre><code>&lt;beans default-autowire=\"byName\" xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:jaxrs=\"http://cxf.apache.org/jaxrs\" \nxmlns:context=\"http://www.springframework.org/schema/context\" \nxmlns:tx=\"http://www.springframework.org/schema/tx\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  \nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-3.0.xsd\nhttp://www.springframework.org/schema/tx\nhttp://www.springframework.org/schema/tx/spring-tx-3.0.xsd\nhttp://cxf.apache.org/jaxrs\nhttp://cxf.apache.org/schemas/jaxrs.xsd\"&gt;\n\n  &lt;context:component-scan base-package=\"com.bt.ws.pointsystem,com.bt.ws.pointsystem.pojo\" /&gt;\n\n\n  &lt;jaxrs:server address=\"/\" id=\"Analysis\"&gt;\n   &lt;jaxrs:serviceBeans&gt;\n              &lt;ref bean=\"AnalysisResponse\" /&gt;\n\n   &lt;/jaxrs:serviceBeans&gt;\n   &lt;jaxrs:extensionMappings&gt;\n    &lt;entry key=\"xml\" value=\"application/xml\"&gt;\n    &lt;/entry&gt;\n   &lt;/jaxrs:extensionMappings&gt;\n  &lt;/jaxrs:server&gt;\n    &lt;bean class=\"com.bt.ws.pointsystem.pojo.AnalysisResponse\" id=\"AnalysisResponse\"&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE web-app PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n\"http://java.sun.com/dtd/web-app_2_3.dtd\"&gt;\n\n &lt;web-app&gt;\n  &lt;display-name&gt;PointSystemService&lt;/display-name&gt;\n\n  &lt;context-param&gt;\n   &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n   &lt;param-value&gt;WEB-INF/cxf.xml&lt;/param-value&gt;\n  &lt;/context-param&gt;\n  &lt;listener&gt;\n\n   &lt;listener-class&gt;\n    org.springframework.web.context.ContextLoaderListener\n   &lt;/listener-class&gt;\n  &lt;/listener&gt;\n  &lt;servlet&gt;\n   &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n\n   &lt;servlet-class&gt;\n    org.apache.cxf.transport.servlet.CXFServlet\n   &lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n\n   &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n &lt;/web-app&gt;\n</code></pre>\n\n<p>Class Definition:</p>\n\n<pre><code>package com.bt.ws.pointsystem.pojo;\n\npublic class AnalysisResponse {\n    private String UserId;\n    private String AnalysisType;\n    public String getUserId() {\n        return UserId;\n    }\n    public void setUserId(String userId) {\n        UserId = userId;\n    }\n    public String getAnalysisType() {\n        return AnalysisType;\n    }\n    public void setAnalysisType(String analysisType) {\n        AnalysisType = analysisType;\n    }\n\n\n\n\n\n}\n</code></pre>\n\n<p>what else I am missing here?</p>\n\n<p>TIA</p>\n"},{"tags":["java","java-7"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1316175128,"post_id":7444420,"comment_id":9002461,"body_markdown":"Reading the API you linked to suggests to me that the `get()` method is the the best place for clues. I don&#39;t understand why the `get()` method is given a `Class` object, however.","body":"Reading the API you linked to suggests to me that the <code>get()</code> method is the the best place for clues. I don&#39;t understand why the <code>get()</code> method is given a <code>Class</code> object, however."},{"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"score":0,"creation_date":1367483567,"post_id":7444420,"comment_id":23393486,"body_markdown":"There is currently a discussion on the core-libs mailing list (http://mail.openjdk.java.net/pipermail/mlvm-dev/2013-April/005321.html) regarding usage of ClassValue in groovy and its interactions with class unloading.","body":"There is currently a discussion on the core-libs mailing list (<a href=\"http://mail.openjdk.java.net/pipermail/mlvm-dev/2013-April/005321.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/mlvm-dev/2013-April/005321.&zwnj;&#8203;html</a>) regarding usage of ClassValue in groovy and its interactions with class unloading."}],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1565981260,"post_id":7444558,"comment_id":101525429,"body_markdown":"first link is dead.","body":"first link is dead."}],"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1689590937,"creation_date":1316175622,"answer_id":7444558,"question_id":7444420,"body_markdown":"Its purpose it to allow adding runtime information to arbitrary target classes ([reference][1]).\r\n\r\nI think its targeted more towards dynamic language programmers. I am not sure how it will be useful for general application developers though.\r\n\r\nInitially the class was there in the package `java.dyn`. [This bug][2] shows it moving to java.lang.\r\n\r\n\r\n  [1]: http://www.wiki.jvmlangsummit.com/Why_Interface_Injection\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=7012648","title":"ClassValue in Java 7","body":"<p>Its purpose it to allow adding runtime information to arbitrary target classes (<a href=\"http://www.wiki.jvmlangsummit.com/Why_Interface_Injection\" rel=\"nofollow noreferrer\">reference</a>).</p>\n<p>I think its targeted more towards dynamic language programmers. I am not sure how it will be useful for general application developers though.</p>\n<p>Initially the class was there in the package <code>java.dyn</code>. <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=7012648\" rel=\"nofollow noreferrer\">This bug</a> shows it moving to java.lang.</p>\n"},{"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":2,"creation_date":1316177749,"post_id":7444573,"comment_id":9003140,"body_markdown":"Here&#39;s a [syntax-highlighted](http://code.google.com/p/jsr308-langtools/source/browse/src/share/classes/java/lang/ClassValue.java?repo=basic-jdk) copy.","body":"Here&#39;s a <a href=\"http://code.google.com/p/jsr308-langtools/source/browse/src/share/classes/java/lang/ClassValue.java?repo=basic-jdk\" rel=\"nofollow noreferrer\">syntax-highlighted</a> copy."}],"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1316176012,"creation_date":1316175662,"answer_id":7444573,"question_id":7444420,"body_markdown":"Well, it is an abstract class. I&#39;ve found a [copy][1]. Have a look at it.\r\n\r\n\r\n  [1]: http://basic-jdk.jsr308-langtools.googlecode.com/hg/src/share/classes/java/lang/ClassValue.java","title":"ClassValue in Java 7","body":"<p>Well, it is an abstract class. I've found a <a href=\"http://basic-jdk.jsr308-langtools.googlecode.com/hg/src/share/classes/java/lang/ClassValue.java\" rel=\"nofollow\">copy</a>. Have a look at it.</p>\n"},{"comments":[{"owner":{"account_id":67340,"reputation":3835,"user_id":197101,"accept_rate":74,"display_name":"Visionary Software Solutions"},"score":0,"creation_date":1674527223,"post_id":16863927,"comment_id":132728437,"body_markdown":"Does this imply that most situations that want `Class-&gt;T` should use `ClassValue`? I&#39;ve found myself implementing a *SERVICE REGISTRY* and other use-cases where it&#39;s pretty common to want to group a class with  its implementers or other related types.","body":"Does this imply that most situations that want <code>Class-&gt;T</code> should use <code>ClassValue</code>? I&#39;ve found myself implementing a <i>SERVICE REGISTRY</i> and other use-cases where it&#39;s pretty common to want to group a class with  its implementers or other related types."}],"tags":[],"owner":{"account_id":700283,"reputation":1607,"user_id":589907,"display_name":"Scott Carey"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1423833792,"creation_date":1370026264,"answer_id":16863927,"question_id":7444420,"body_markdown":"The best explanation of the purpose of this class is that it solves [Java Bug 6389107](https://bugs.openjdk.java.net/browse/JDK-6389107) \r\n\r\nThere are many use cases where one wants to essentially have a `Map&lt;Class&lt;?&gt;, T&gt;` for some reason, but this causes all sorts of trouble since `Class` objects will then not be GC-able until the Map is.  `WeakHashMap&lt;Class&lt;?&gt;, T&gt;` doesn&#39;t solve the problem because very frequently, `T` references the class.\r\n\r\nThe bug above goes into a much more detailed explanation and contains example projects/code that face this problem.\r\n\r\nClassValue is the answer to this problem.  A thread-safe, classloader loading/unloading safe way to associate data with a Class.","title":"ClassValue in Java 7","body":"<p>The best explanation of the purpose of this class is that it solves <a href=\"https://bugs.openjdk.java.net/browse/JDK-6389107\" rel=\"noreferrer\">Java Bug 6389107</a> </p>\n\n<p>There are many use cases where one wants to essentially have a <code>Map&lt;Class&lt;?&gt;, T&gt;</code> for some reason, but this causes all sorts of trouble since <code>Class</code> objects will then not be GC-able until the Map is.  <code>WeakHashMap&lt;Class&lt;?&gt;, T&gt;</code> doesn't solve the problem because very frequently, <code>T</code> references the class.</p>\n\n<p>The bug above goes into a much more detailed explanation and contains example projects/code that face this problem.</p>\n\n<p>ClassValue is the answer to this problem.  A thread-safe, classloader loading/unloading safe way to associate data with a Class.</p>\n"},{"tags":[],"owner":{"account_id":7399241,"reputation":21,"user_id":5630205,"display_name":"user5630205"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597176119,"creation_date":1449059238,"answer_id":34042750,"question_id":7444420,"body_markdown":"`ClassValue` cache something about the class.\r\n\r\nHere is a part of code (at Lucene 5.0  `AttributeSource.java`):\r\n\r\n```\r\n/** a cache that stores all interfaces for known implementation classes for performance (slow reflection) */\r\nprivate static final ClassValue&lt;Class&lt;? extends Attribute&gt;[]&gt; implInterfaces = new ClassValue&lt;Class&lt;? extends Attribute&gt;[]&gt;() {\r\n    @Override\r\n    protected Class&lt;? extends Attribute&gt;[] computeValue(Class&lt;?&gt; clazz) {\r\n      final Set&lt;Class&lt;? extends Attribute&gt;&gt; intfSet = new LinkedHashSet&lt;&gt;();\r\n      // find all interfaces that this attribute instance implements\r\n      // and that extend the Attribute interface\r\n      do {\r\n        for (Class&lt;?&gt; curInterface : clazz.getInterfaces()) {\r\n          if (curInterface != Attribute.class &amp;&amp; Attribute.class.isAssignableFrom(curInterface)) {\r\n            intfSet.add(curInterface.asSubclass(Attribute.class));\r\n          }\r\n        }\r\n        clazz = clazz.getSuperclass();\r\n      } while (clazz != null);\r\n      @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;}) final Class&lt;? extends Attribute&gt;[] a =\r\n          intfSet.toArray(new Class[intfSet.size()]);\r\n      return a;\r\n    }\r\n};\r\n```","title":"ClassValue in Java 7","body":"<p><code>ClassValue</code> cache something about the class.</p>\n<p>Here is a part of code (at Lucene 5.0  <code>AttributeSource.java</code>):</p>\n<pre><code>/** a cache that stores all interfaces for known implementation classes for performance (slow reflection) */\nprivate static final ClassValue&lt;Class&lt;? extends Attribute&gt;[]&gt; implInterfaces = new ClassValue&lt;Class&lt;? extends Attribute&gt;[]&gt;() {\n    @Override\n    protected Class&lt;? extends Attribute&gt;[] computeValue(Class&lt;?&gt; clazz) {\n      final Set&lt;Class&lt;? extends Attribute&gt;&gt; intfSet = new LinkedHashSet&lt;&gt;();\n      // find all interfaces that this attribute instance implements\n      // and that extend the Attribute interface\n      do {\n        for (Class&lt;?&gt; curInterface : clazz.getInterfaces()) {\n          if (curInterface != Attribute.class &amp;&amp; Attribute.class.isAssignableFrom(curInterface)) {\n            intfSet.add(curInterface.asSubclass(Attribute.class));\n          }\n        }\n        clazz = clazz.getSuperclass();\n      } while (clazz != null);\n      @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;}) final Class&lt;? extends Attribute&gt;[] a =\n          intfSet.toArray(new Class[intfSet.size()]);\n      return a;\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4896,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":16863927,"answer_count":4,"score":48,"last_activity_date":1689590937,"creation_date":1316174834,"question_id":7444420,"body_markdown":"While browsing the Java 7 API documentation I stumbled upon the new class [java.lang.ClassValue][1] with the following rather minimal documentation:\r\n\r\n&gt;Lazily associate a computed value with (potentially) every type. For example, if a dynamic language needs to construct a message dispatch table for each class encountered at a message send call site, it can use a `ClassValue` to cache information needed to perform the message send quickly, for each class encountered.\r\n\r\nCan anyone give a better explanation of what problem this class solves and perhaps some sample code or open source project that already uses this class?\r\n\r\n**Update:** I&#39;m still interested in some actual source code or examples using this new class.\r\n\r\nI also found [this mail on the mlvm-dev mailing list][2] concerning some implementation improvements. It was apparently changed from using a WeakHashMap to a new private field on java.lang.Class to make it more scalable.\r\n\r\n [1]: http://download.oracle.com/javase/7/docs/api/java/lang/ClassValue.html\r\n [2]: http://mail.openjdk.java.net/pipermail/mlvm-dev/2011-September/003930.html","title":"ClassValue in Java 7","body":"<p>While browsing the Java 7 API documentation I stumbled upon the new class <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/ClassValue.html\">java.lang.ClassValue</a> with the following rather minimal documentation:</p>\n\n<blockquote>\n  <p>Lazily associate a computed value with (potentially) every type. For example, if a dynamic language needs to construct a message dispatch table for each class encountered at a message send call site, it can use a <code>ClassValue</code> to cache information needed to perform the message send quickly, for each class encountered.</p>\n</blockquote>\n\n<p>Can anyone give a better explanation of what problem this class solves and perhaps some sample code or open source project that already uses this class?</p>\n\n<p><strong>Update:</strong> I'm still interested in some actual source code or examples using this new class.</p>\n\n<p>I also found <a href=\"http://mail.openjdk.java.net/pipermail/mlvm-dev/2011-September/003930.html\">this mail on the mlvm-dev mailing list</a> concerning some implementation improvements. It was apparently changed from using a WeakHashMap to a new private field on java.lang.Class to make it more scalable.</p>\n"},{"tags":["java","android","google-cloud-platform","google-api","speech-to-text"],"answers":[{"comments":[{"owner":{"account_id":3083149,"reputation":2082,"user_id":2610933,"accept_rate":91,"display_name":"android enthusiast"},"score":0,"creation_date":1689155579,"post_id":76657713,"comment_id":135172188,"body_markdown":"Hi @jccampanero! Thank you for your response! I have tried your proposed fix but unfortunately  the setCredentialsProvider  does not like the FixedCredentialsProvider type and is expecting a type Credentials.","body":"Hi @jccampanero! Thank you for your response! I have tried your proposed fix but unfortunately  the setCredentialsProvider  does not like the FixedCredentialsProvider type and is expecting a type Credentials."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689189133,"post_id":76657713,"comment_id":135179836,"body_markdown":"Thank you for the feedback @androidenthusiast. It is very strange, I think it should work properly, `setCredentialsProvider` requires a `CredentialsProvider`. I updated my code to make the code snippet more complete (sorry, I implemented it in pure Java): please, could you double check the proposed solution and see if it works? Thank you.","body":"Thank you for the feedback @androidenthusiast. It is very strange, I think it should work properly, <code>setCredentialsProvider</code> requires a <code>CredentialsProvider</code>. I updated my code to make the code snippet more complete (sorry, I implemented it in pure Java): please, could you double check the proposed solution and see if it works? Thank you."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689529730,"post_id":76657713,"comment_id":135223109,"body_markdown":"@androidenthusiast Sorry for disturbing you. Did your program compile in the end? Are you still facing the issue? Can I help you in any way?","body":"@androidenthusiast Sorry for disturbing you. Did your program compile in the end? Are you still facing the issue? Can I help you in any way?"}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689458883,"creation_date":1689028222,"answer_id":76657713,"question_id":76630026,"body_markdown":"Please, consider review [this related SO question](https://stackoverflow.com/a/65106296/13942448), it is defined for `TextToSpeechSettings` but I think that the solution provided could be of application here as well.\r\n\r\nAs suggested, basically you need to create a valid `GoogleCredentials` object from the content of your service account json file:\r\n\r\n```java\r\n// R.raw.credential points to the downloaded credential.json file\r\nInputStream stream = getResources().openRawResource(R.raw.credential); \r\nGoogleCredentials credentials = GoogleCredentials.fromStream(stream);\r\n```\r\n\r\nAnd then, use the obtained credentials to initialize your `SpeechClient`.\r\n\r\nFor instance, adapting the code from my original answer:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\nimport com.google.api.gax.core.CredentialsProvider;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.cloud.speech.v1.RecognitionAudio;\r\nimport com.google.cloud.speech.v1.RecognitionConfig;\r\nimport com.google.cloud.speech.v1.RecognizeRequest;\r\nimport com.google.cloud.speech.v1.RecognizeResponse;\r\nimport com.google.cloud.speech.v1.SpeechClient;\r\nimport com.google.cloud.speech.v1.SpeechRecognitionResult;\r\nimport com.google.cloud.speech.v1.SpeechSettings;\r\nimport com.google.protobuf.ByteString;\r\n\r\npublic class RecognitionActivity extends Activity {\r\n\r\n  // Your activity definition\r\n\r\n  private void performRecognition(ByteString fileByteString) throws IOException {\r\n    // R.raw.credential points to the downloaded credential.json file\r\n    // I tested my code locally in a laptop using\r\n    // GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;/path/to/credentials.json&quot;));\r\n    InputStream stream = getResources().openRawResource(R.raw.credential);\r\n    GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\r\n    // You can use ServiceAccountCredentials as well instead of the line above:\r\n    // ServiceAccountCredentials credentials = ServiceAccountCredentials.fromStream(stream);\r\n    CredentialsProvider credentialsProvider = FixedCredentialsProvider.create(credentials);\r\n    SpeechSettings speechSettings = SpeechSettings.newBuilder()\r\n        .setCredentialsProvider(credentialsProvider)\r\n        .build();\r\n\r\n    SpeechClient speechClient = SpeechClient.create(speechSettings);\r\n\r\n    // The rest of your code\r\n\r\n    RecognizeRequest req = RecognizeRequest.newBuilder()\r\n        .setConfig(RecognitionConfig.newBuilder()\r\n            .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n            .setLanguageCode(&quot;en-US&quot;)\r\n            .setSampleRateHertz(16000)\r\n            .build())\r\n        .setAudio(RecognitionAudio.newBuilder()\r\n            .setContent(fileByteString))\r\n        .build();\r\n\r\n    RecognizeResponse response = speechClient.recognize(req);\r\n\r\n    Log.d(TAG, &quot;we have a count of &quot; + response.getResultsCount() + &quot; hits on the  audio file&quot;)\r\n\r\n    List&lt;SpeechRecognitionResult&gt; results = response.getResultsList();\r\n    \r\n    // Handle results\r\n  }\r\n}\r\n```\r\n\r\nIn kotlin (please, forgive me for any inaccuracy) it would look like this:\r\n\r\n```kotlin\r\nprivate fun performRecognition(fileByteString: ByteString) {\r\n    // R.raw.credential points to the downloaded credential.json file\r\n    val stream: InputStream = getResources().openRawResource(R.raw.credential)\r\n    val credentials = GoogleCredentials.fromStream(stream);\r\n    // val credentials = ServiceAccountCredentials.fromStream(stream)\r\n    val credentialsProvider = FixedCredentialsProvider.create(credentials)\r\n    val speechSettings = SpeechSettings.newBuilder()\r\n            .setCredentialsProvider(credentialsProvider)\r\n            .build()\r\n\r\n    val speechClient = SpeechClient.create(speechSettings)\r\n\r\n    // The rest of your code\r\n    val req = RecognizeRequest.newBuilder()\r\n            .setConfig(RecognitionConfig.newBuilder()\r\n                    .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n                    .setLanguageCode(&quot;en-US&quot;)\r\n                    .setSampleRateHertz(16000)\r\n                    .build())\r\n            .setAudio(RecognitionAudio.newBuilder()\r\n                    .setContent(fileByteString))\r\n            .build()\r\n\r\n    val response = speechClient.recognize(req)\r\n\r\n    Log.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\r\n\r\n    val results = response.resultsList\r\n\r\n    // Handle results\r\n}\r\n```\r\n\r\nPlease, be sure that you followed the [necessary steps](https://cloud.google.com/speech-to-text/docs/before-you-begin) for setting up the Speech API, especially those related to [configuring the service account](https://cloud.google.com/speech-to-text/docs/before-you-begin#create_a_service_account).\r\n\r\nThe service account must be able to interact with the Speech API, assigning a convenient role to it such as `Cloud Speech Client`:\r\n\r\n[![Cloud Speech Client role][1]][1]\r\n  \r\nAs described in the aforementioned documentation you can do it from the GCP Console or using [the command line](https://stackoverflow.com/questions/42564112/adding-roles-to-service-accounts-on-google-cloud-platform-using-rest-api).\r\n\r\n  [1]: https://i.stack.imgur.com/qXXrs.png","title":"Google Cloud Speech to text API call fails due to invalid authentication credentials on Android","body":"<p>Please, consider review <a href=\"https://stackoverflow.com/a/65106296/13942448\">this related SO question</a>, it is defined for <code>TextToSpeechSettings</code> but I think that the solution provided could be of application here as well.</p>\n<p>As suggested, basically you need to create a valid <code>GoogleCredentials</code> object from the content of your service account json file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// R.raw.credential points to the downloaded credential.json file\nInputStream stream = getResources().openRawResource(R.raw.credential); \nGoogleCredentials credentials = GoogleCredentials.fromStream(stream);\n</code></pre>\n<p>And then, use the obtained credentials to initialize your <code>SpeechClient</code>.</p>\n<p>For instance, adapting the code from my original answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport com.google.api.gax.core.CredentialsProvider;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.speech.v1.RecognitionAudio;\nimport com.google.cloud.speech.v1.RecognitionConfig;\nimport com.google.cloud.speech.v1.RecognizeRequest;\nimport com.google.cloud.speech.v1.RecognizeResponse;\nimport com.google.cloud.speech.v1.SpeechClient;\nimport com.google.cloud.speech.v1.SpeechRecognitionResult;\nimport com.google.cloud.speech.v1.SpeechSettings;\nimport com.google.protobuf.ByteString;\n\npublic class RecognitionActivity extends Activity {\n\n  // Your activity definition\n\n  private void performRecognition(ByteString fileByteString) throws IOException {\n    // R.raw.credential points to the downloaded credential.json file\n    // I tested my code locally in a laptop using\n    // GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;/path/to/credentials.json&quot;));\n    InputStream stream = getResources().openRawResource(R.raw.credential);\n    GoogleCredentials credentials = GoogleCredentials.fromStream(stream);\n    // You can use ServiceAccountCredentials as well instead of the line above:\n    // ServiceAccountCredentials credentials = ServiceAccountCredentials.fromStream(stream);\n    CredentialsProvider credentialsProvider = FixedCredentialsProvider.create(credentials);\n    SpeechSettings speechSettings = SpeechSettings.newBuilder()\n        .setCredentialsProvider(credentialsProvider)\n        .build();\n\n    SpeechClient speechClient = SpeechClient.create(speechSettings);\n\n    // The rest of your code\n\n    RecognizeRequest req = RecognizeRequest.newBuilder()\n        .setConfig(RecognitionConfig.newBuilder()\n            .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n            .setLanguageCode(&quot;en-US&quot;)\n            .setSampleRateHertz(16000)\n            .build())\n        .setAudio(RecognitionAudio.newBuilder()\n            .setContent(fileByteString))\n        .build();\n\n    RecognizeResponse response = speechClient.recognize(req);\n\n    Log.d(TAG, &quot;we have a count of &quot; + response.getResultsCount() + &quot; hits on the  audio file&quot;)\n\n    List&lt;SpeechRecognitionResult&gt; results = response.getResultsList();\n    \n    // Handle results\n  }\n}\n</code></pre>\n<p>In kotlin (please, forgive me for any inaccuracy) it would look like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun performRecognition(fileByteString: ByteString) {\n    // R.raw.credential points to the downloaded credential.json file\n    val stream: InputStream = getResources().openRawResource(R.raw.credential)\n    val credentials = GoogleCredentials.fromStream(stream);\n    // val credentials = ServiceAccountCredentials.fromStream(stream)\n    val credentialsProvider = FixedCredentialsProvider.create(credentials)\n    val speechSettings = SpeechSettings.newBuilder()\n            .setCredentialsProvider(credentialsProvider)\n            .build()\n\n    val speechClient = SpeechClient.create(speechSettings)\n\n    // The rest of your code\n    val req = RecognizeRequest.newBuilder()\n            .setConfig(RecognitionConfig.newBuilder()\n                    .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n                    .setLanguageCode(&quot;en-US&quot;)\n                    .setSampleRateHertz(16000)\n                    .build())\n            .setAudio(RecognitionAudio.newBuilder()\n                    .setContent(fileByteString))\n            .build()\n\n    val response = speechClient.recognize(req)\n\n    Log.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\n\n    val results = response.resultsList\n\n    // Handle results\n}\n</code></pre>\n<p>Please, be sure that you followed the <a href=\"https://cloud.google.com/speech-to-text/docs/before-you-begin\" rel=\"nofollow noreferrer\">necessary steps</a> for setting up the Speech API, especially those related to <a href=\"https://cloud.google.com/speech-to-text/docs/before-you-begin#create_a_service_account\" rel=\"nofollow noreferrer\">configuring the service account</a>.</p>\n<p>The service account must be able to interact with the Speech API, assigning a convenient role to it such as <code>Cloud Speech Client</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/qXXrs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qXXrs.png\" alt=\"Cloud Speech Client role\" /></a></p>\n<p>As described in the aforementioned documentation you can do it from the GCP Console or using <a href=\"https://stackoverflow.com/questions/42564112/adding-roles-to-service-accounts-on-google-cloud-platform-using-rest-api\">the command line</a>.</p>\n"}],"owner":{"account_id":3083149,"reputation":2082,"user_id":2610933,"accept_rate":91,"display_name":"android enthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689590739,"creation_date":1688654661,"question_id":76630026,"body_markdown":"I&#39;m trying to use the [google cloud speech to text API](https://cloud.google.com/speech-to-text) in my android client. I have enabled the API in the Google Cloud and in the console I have generate a new key like this: &quot;Create credentials&quot; -\\&gt; &quot;Service account&quot; (added details) -\\&gt; &quot;Create and Continue&quot;. This has generated a JSON file that contains this params:\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;service_account&quot;,\r\n  &quot;project_id&quot;: &quot;&quot;,\r\n  &quot;private_key_id&quot;: &quot;&quot;,\r\n  &quot;private_key&quot;: &quot;&quot;,\r\n  &quot;client_email&quot;: &quot;&quot;,\r\n  &quot;client_id&quot;: &quot;&quot;,\r\n  &quot;auth_uri&quot;: &quot;&quot;,\r\n  &quot;token_uri&quot;: &quot;&quot;,\r\n  &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\r\n  &quot;client_x509_cert_url&quot;: &quot;&quot;,\r\n  &quot;universe_domain&quot;: &quot;&quot;\r\n}\r\n```\r\n\r\nI have added this JSON file in the `raw`  dir in my android project (this is just a POC so not to worried about security at this point)\r\n\r\nNext is the android code:\r\n\r\n```\r\nval req = RecognizeRequest.newBuilder()\r\n               .setConfig(RecognitionConfig.newBuilder()\r\n                        .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\r\n                        .setLanguageCode(&quot;en-US&quot;)\r\n                        .setSampleRateHertz(16000)\r\n                        .build())\r\n                    .setAudio(RecognitionAudio.newBuilder()\r\n                        .setContent(fileByteString))\r\n                        .build()\r\n\r\n\r\n            val speechClient = SpeechClient.create(SpeechSettings.newBuilder()              .setCredentialsProvider{GoogleCredentials.fromStream(this.resources.openRawResource(R.raw.credentials)) }\r\n\r\n\r\n            val response = speechClient.recognize(req)\r\n\r\nLog.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\r\n\r\n            val results = response.resultsList\r\n```\r\n\r\nWhen the `speechClient.recognize(req)`  fun is called, the API sends back this error message:\r\n\r\n```\r\ncom.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\r\n        at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:116)\r\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:98)\r\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66)\r\n        at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n        at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:84)\r\n        at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1127)\r\n        at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\r\n        at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1286)\r\n        at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1055)\r\n        at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:807)\r\n        at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:574)\r\n        at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:544)\r\n        at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n        at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n        at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n        at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:541)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)\r\n        at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)\r\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)\r\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)\r\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)\r\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)\r\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n        at java.lang.Thread.run(Thread.java:764)\r\n     Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n        at com.google.cloud.speech.v1.SpeechClient.recognize(SpeechClient.java:252)\r\n```\r\n\r\nDoes anyone know how to  auth correctly when calling this API please?\r\n\r\nI have also tried to generate  OAuth &amp; Service Key type of credentials in the Google Cloud Console but I was getting a different error saying something like &quot;Credentials don&#39;t contain field \\`type\\`&quot;","title":"Google Cloud Speech to text API call fails due to invalid authentication credentials on Android","body":"<p>I'm trying to use the <a href=\"https://cloud.google.com/speech-to-text\" rel=\"nofollow noreferrer\">google cloud speech to text API</a> in my android client. I have enabled the API in the Google Cloud and in the console I have generate a new key like this: &quot;Create credentials&quot; -&gt; &quot;Service account&quot; (added details) -&gt; &quot;Create and Continue&quot;. This has generated a JSON file that contains this params:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;service_account&quot;,\n  &quot;project_id&quot;: &quot;&quot;,\n  &quot;private_key_id&quot;: &quot;&quot;,\n  &quot;private_key&quot;: &quot;&quot;,\n  &quot;client_email&quot;: &quot;&quot;,\n  &quot;client_id&quot;: &quot;&quot;,\n  &quot;auth_uri&quot;: &quot;&quot;,\n  &quot;token_uri&quot;: &quot;&quot;,\n  &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\n  &quot;client_x509_cert_url&quot;: &quot;&quot;,\n  &quot;universe_domain&quot;: &quot;&quot;\n}\n</code></pre>\n<p>I have added this JSON file in the <code>raw</code>  dir in my android project (this is just a POC so not to worried about security at this point)</p>\n<p>Next is the android code:</p>\n<pre><code>val req = RecognizeRequest.newBuilder()\n               .setConfig(RecognitionConfig.newBuilder()\n                        .setEncoding(RecognitionConfig.AudioEncoding.AMR_WB)\n                        .setLanguageCode(&quot;en-US&quot;)\n                        .setSampleRateHertz(16000)\n                        .build())\n                    .setAudio(RecognitionAudio.newBuilder()\n                        .setContent(fileByteString))\n                        .build()\n\n\n            val speechClient = SpeechClient.create(SpeechSettings.newBuilder()              .setCredentialsProvider{GoogleCredentials.fromStream(this.resources.openRawResource(R.raw.credentials)) }\n\n\n            val response = speechClient.recognize(req)\n\nLog.d(TAG, &quot;we have a count of ${response.resultsCount} hits on the  audio file&quot;)\n\n            val results = response.resultsList\n</code></pre>\n<p>When the <code>speechClient.recognize(req)</code>  fun is called, the API sends back this error message:</p>\n<pre><code>com.google.api.gax.rpc.UnauthenticatedException: io.grpc.StatusRuntimeException: UNAUTHENTICATED: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\n        at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:116)\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:98)\n        at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66)\n        at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n        at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:84)\n        at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1127)\n        at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\n        at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1286)\n        at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1055)\n        at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:807)\n        at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:574)\n        at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:544)\n        at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n        at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n        at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n        at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:541)\n        at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)\n        at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)\n        at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n     Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at com.google.cloud.speech.v1.SpeechClient.recognize(SpeechClient.java:252)\n</code></pre>\n<p>Does anyone know how to  auth correctly when calling this API please?</p>\n<p>I have also tried to generate  OAuth &amp; Service Key type of credentials in the Google Cloud Console but I was getting a different error saying something like &quot;Credentials don't contain field `type`&quot;</p>\n"},{"tags":["java","spring","spring-security","saml-2.0","spring-saml"],"comments":[{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":0,"creation_date":1408369064,"post_id":25363676,"comment_id":39550094,"body_markdown":"Look like that&#39;s because of `unable to find valid certification path to requested target` - do you have all needed certficates in your truststore? More info here http://stackoverflow.com/questions/24698914/ssl-configuration-issue-with-spring-saml","body":"Look like that&#39;s because of <code>unable to find valid certification path to requested target</code> - do you have all needed certficates in your truststore? More info here <a href=\"http://stackoverflow.com/questions/24698914/ssl-configuration-issue-with-spring-saml\" title=\"ssl configuration issue with spring saml\">stackoverflow.com/questions/24698914/&hellip;</a>"},{"owner":{"account_id":2628065,"reputation":13427,"user_id":2274686,"accept_rate":66,"display_name":"vdenotaris"},"score":0,"creation_date":1408369739,"post_id":25363676,"comment_id":39550516,"body_markdown":"I added the certificate into the JDK (jre/lib/security/cacerts) and also into samlKeystore.jks.","body":"I added the certificate into the JDK (jre/lib/security/cacerts) and also into samlKeystore.jks."},{"owner":{"account_id":2670674,"reputation":2743,"user_id":2308157,"display_name":"Erich"},"score":1,"creation_date":1472063940,"post_id":25363676,"comment_id":65606907,"body_markdown":"`emd.setMetadataTrustCheck(false);` worked for me thanks! ... My trust was invalid and out of my control","body":"<code>emd.setMetadataTrustCheck(false);</code> worked for me thanks! ... My trust was invalid and out of my control"}],"answers":[{"comments":[{"owner":{"account_id":150203,"reputation":1497,"user_id":363217,"accept_rate":69,"display_name":"Purefan"},"score":1,"creation_date":1546869085,"post_id":25384924,"comment_id":94984303,"body_markdown":"how did you generate the `signature.cer` ?","body":"how did you generate the <code>signature.cer</code> ?"},{"owner":{"account_id":2907957,"reputation":777,"user_id":2492816,"display_name":"lo&#239;c"},"score":1,"creation_date":1549985013,"post_id":25384924,"comment_id":96098349,"body_markdown":"@Purefan you can get the certificate from the metadata the identity provider shares.  You probably can get it from a certain endpoint like :  https://idp.hostname/saml2/idp/metadata.php  , ask the admin of the IPS you are using.  Just drop it in an empty file between the BEGIN / END CERTIFICATE tags","body":"@Purefan you can get the certificate from the metadata the identity provider shares.  You probably can get it from a certain endpoint like :  <a href=\"https://idp.hostname/saml2/idp/metadata.php\" rel=\"nofollow noreferrer\">idp.hostname/saml2/idp/metadata.php</a>  , ask the admin of the IPS you are using.  Just drop it in an empty file between the BEGIN / END CERTIFICATE tags"},{"owner":{"account_id":84830,"reputation":5737,"user_id":236896,"accept_rate":50,"display_name":"Manoj"},"score":0,"creation_date":1557571315,"post_id":25384924,"comment_id":98815814,"body_markdown":"Even after adding signing.cer into my keystore, I am getting same error.. Any idea?","body":"Even after adding signing.cer into my keystore, I am getting same error.. Any idea?"},{"owner":{"account_id":349712,"reputation":395,"user_id":685154,"display_name":"rd_"},"score":0,"creation_date":1566642900,"post_id":25384924,"comment_id":101726733,"body_markdown":"is there a sample code in spring or java to quickly match the edited .cer and .jks and match with metadata, i am restarting server to retest and all and its taking me ages and then to remove an extra tab or newline and then again restarting server.","body":"is there a sample code in spring or java to quickly match the edited .cer and .jks and match with metadata, i am restarting server to retest and all and its taking me ages and then to remove an extra tab or newline and then again restarting server."}],"tags":[],"owner":{"account_id":4295147,"reputation":15433,"user_id":3510410,"display_name":"Vladim&#237;r Sch&#228;fer"},"comment_count":4,"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1689590497,"creation_date":1408455580,"answer_id":25384924,"question_id":25363676,"body_markdown":"You have most likely imported the HTTPS certificate, but not the certificate which is used to create the signature - they differ. You should:\r\n\r\n1. Create file `signature.cer` with the following content taken from the metadata:\r\n   ```\r\n   -----BEGIN CERTIFICATE-----\r\n   MIIC7jCCAdagAwIBAgIQa+pSaOoDP6ZL3qAi564CxzANBgkqhkiG9w0BAQs\r\n   FADAzMTEwLwYDVQQDEyhBREZTIFNpZ25pbmcgLSBzdHN0ZXN0LXJlcGx5bm\r\n   V0LnJlcGx5Lml0MB4XDTE0MDQyMTAwMzUyNVoXDTE1MDQyMTAwMzUyNVowM\r\n   zExMC8GA1UEAxMoQURGUyBTaWduaW5nIC0gc3RzdGVzdC1yZXBseW5ldC5y\r\n   ZXBseS5pdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJyI7Se\r\n   +UGGHOGRcwHF8LrmivtcPJyNKyicPJ8UJ8pIsEmgYBnJIrpS05RkYtdUdk+\r\n   aumDlc3ACt23FxGDLy9hkJJlRbZwklzh4W3RqGC3W5Y+t7KeIuB8d7ZrrLb\r\n   2AoJpVHICRagsLjjHMwz9sJUt+PZdUFFc0pZckHba3TY2Y+MgPYVsyjlEkf\r\n   QrwL0ggh23g9Pe1VQ9HaInXZvwVMGWZ1oL4Uk0cW11URa8x53ZOWMQSsksi\r\n   MUlquItssiuJjRnI9Df+GaDxbQJi51esY2EF1o2JxqGJSA71Apy9EahDho8\r\n   eFkfOS0fYbVNBU5X/Wn7BKsf2Rmg3r6mQM94+gAA8CAwEAATANBgkqhkiG9\r\n   w0BAQsFAAOCAQEAIX5FEt5JWtINzy4C0LtTtta3DMOsLIBH3raRr53+6MKG\r\n   sPP75VAt7fYUutopuk5Y2o++sVPuEuTzcogz5Dj8eglDESkPwR0PrlClVcG\r\n   FLFEx9qOOidYIEa90g462niIOgkNkIpb1JRrmZEFo+yrYYdFSR2iXzC3O1f\r\n   7JAhNwi+d4a8cOTrqynqL6p1z+hiWEub39FlWDPacELw9HSDIYY151hiiPz\r\n   vIRQDBOjDg3Ws8fRwYNjJH4ElwjP2z+1r+sktD/kkh8jj3iWhT37JnQG72D\r\n   7c63ovYICwEZUqS4L3vepO0pv6xewkUbfX4KBQbUPaVVgmVUcSecj85mvMx\r\n   42g==\r\n   -----END CERTIFICATE-----\r\n   ```\r\n2. Import the certificate to your `samlKeystore.jks` with:\r\n   ```\r\n   keytool -importcert -alias adfssigning -keystore samlKeystore.jks -file signature.cer\r\n   ```\r\n\r\n\r\nThis should be all you need, just restart Tomcat and your metadata loading should now pass.\r\n\r\nYou don&#39;t need to include the HTTPS certificate in your JDK&#39;s cacerts in case you include the following bean which configures the HTTP client (available in Spring SAML 1.0.0.RELEASE):\r\n\r\n```xml\r\n&lt;bean class=&quot;org.springframework.security.saml.trust.httpclient.TLSProtocolConfigurer&quot;/&gt;\r\n```","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>You have most likely imported the HTTPS certificate, but not the certificate which is used to create the signature - they differ. You should:</p>\n<ol>\n<li>Create file <code>signature.cer</code> with the following content taken from the metadata:\n<pre><code>-----BEGIN CERTIFICATE-----\nMIIC7jCCAdagAwIBAgIQa+pSaOoDP6ZL3qAi564CxzANBgkqhkiG9w0BAQs\nFADAzMTEwLwYDVQQDEyhBREZTIFNpZ25pbmcgLSBzdHN0ZXN0LXJlcGx5bm\nV0LnJlcGx5Lml0MB4XDTE0MDQyMTAwMzUyNVoXDTE1MDQyMTAwMzUyNVowM\nzExMC8GA1UEAxMoQURGUyBTaWduaW5nIC0gc3RzdGVzdC1yZXBseW5ldC5y\nZXBseS5pdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJyI7Se\n+UGGHOGRcwHF8LrmivtcPJyNKyicPJ8UJ8pIsEmgYBnJIrpS05RkYtdUdk+\naumDlc3ACt23FxGDLy9hkJJlRbZwklzh4W3RqGC3W5Y+t7KeIuB8d7ZrrLb\n2AoJpVHICRagsLjjHMwz9sJUt+PZdUFFc0pZckHba3TY2Y+MgPYVsyjlEkf\nQrwL0ggh23g9Pe1VQ9HaInXZvwVMGWZ1oL4Uk0cW11URa8x53ZOWMQSsksi\nMUlquItssiuJjRnI9Df+GaDxbQJi51esY2EF1o2JxqGJSA71Apy9EahDho8\neFkfOS0fYbVNBU5X/Wn7BKsf2Rmg3r6mQM94+gAA8CAwEAATANBgkqhkiG9\nw0BAQsFAAOCAQEAIX5FEt5JWtINzy4C0LtTtta3DMOsLIBH3raRr53+6MKG\nsPP75VAt7fYUutopuk5Y2o++sVPuEuTzcogz5Dj8eglDESkPwR0PrlClVcG\nFLFEx9qOOidYIEa90g462niIOgkNkIpb1JRrmZEFo+yrYYdFSR2iXzC3O1f\n7JAhNwi+d4a8cOTrqynqL6p1z+hiWEub39FlWDPacELw9HSDIYY151hiiPz\nvIRQDBOjDg3Ws8fRwYNjJH4ElwjP2z+1r+sktD/kkh8jj3iWhT37JnQG72D\n7c63ovYICwEZUqS4L3vepO0pv6xewkUbfX4KBQbUPaVVgmVUcSecj85mvMx\n42g==\n-----END CERTIFICATE-----\n</code></pre>\n</li>\n<li>Import the certificate to your <code>samlKeystore.jks</code> with:\n<pre><code>keytool -importcert -alias adfssigning -keystore samlKeystore.jks -file signature.cer\n</code></pre>\n</li>\n</ol>\n<p>This should be all you need, just restart Tomcat and your metadata loading should now pass.</p>\n<p>You don't need to include the HTTPS certificate in your JDK's cacerts in case you include the following bean which configures the HTTP client (available in Spring SAML 1.0.0.RELEASE):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean class=&quot;org.springframework.security.saml.trust.httpclient.TLSProtocolConfigurer&quot;/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1593775495,"post_id":56092149,"comment_id":110904007,"body_markdown":"Thank you very much, This saved me a lot of time. I still do not understand how formatting messed up the signature. First I thought it was because of the spaces that were added before and after the signature but it was not because of that. Maybe there are other spaces on other attributes from the XML that messed it up","body":"Thank you very much, This saved me a lot of time. I still do not understand how formatting messed up the signature. First I thought it was because of the spaces that were added before and after the signature but it was not because of that. Maybe there are other spaces on other attributes from the XML that messed it up"},{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":1,"creation_date":1593777261,"post_id":56092149,"comment_id":110904819,"body_markdown":"&quot;Signature is first checked for validity by comparing digital hash included as part of the signature with value calculated from the content.&quot; -&gt; Formatting the file means changing its content and that is why the signature verification fails. Ref https://docs.spring.io/spring-security-saml/docs/current/reference/html/security.html","body":"&quot;Signature is first checked for validity by comparing digital hash included as part of the signature with value calculated from the content.&quot; -&gt; Formatting the file means changing its content and that is why the signature verification fails. Ref <a href=\"https://docs.spring.io/spring-security-saml/docs/current/reference/html/security.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security-saml/docs/current/reference/h&zwnj;&#8203;tml/&hellip;</a>"}],"tags":[],"owner":{"account_id":84830,"reputation":5737,"user_id":236896,"accept_rate":50,"display_name":"Manoj"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1557591512,"creation_date":1557591512,"answer_id":56092149,"question_id":25363676,"body_markdown":"I&#39;m posting this just in case if it may be helpful even after everything you did like accepted answer for this question and still get the same error.\r\n\r\nI too had this problem, I have added IDP&#39;s metadata file and imported their certificate into my app keystore. But still had Signature trust verification problem. I did format the metadata.xml from IDP in Intellij, that did some screw up. Once I imported their metadata file as it without formatting, everything went ok.\r\n","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>I'm posting this just in case if it may be helpful even after everything you did like accepted answer for this question and still get the same error.</p>\n\n<p>I too had this problem, I have added IDP's metadata file and imported their certificate into my app keystore. But still had Signature trust verification problem. I did format the metadata.xml from IDP in Intellij, that did some screw up. Once I imported their metadata file as it without formatting, everything went ok.</p>\n"},{"tags":[],"owner":{"account_id":12756977,"reputation":101,"user_id":13748702,"display_name":"Minakshi Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616587265,"creation_date":1616587265,"answer_id":66780596,"question_id":25363676,"body_markdown":"I was facing the same issue.Steps that I have follwoed to resolve the same \r\n\r\n 1. extract &lt;X509Data&gt; &lt;X509Certificate&gt; &lt;/X509Certificate&gt; &lt;/X509Data&gt; from IDP metdata fille\r\n 2. copy the certificate in text file and save as.crt. e.g idp.crt\r\n 3. import the crt file in key Store\r\n    **keytool -import -alias adfscert -file idp.crt -keystore samlKeystoreold.jks -storepass keystorepassword**\r\n 4. it will ask for is you trust this crt.. say yes\r\n 5. for some cases it will ask to use in pkcs12 format add in warning message do the same \r\n 6. try running your application it should work :)\r\n\r\n\r\n","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>I was facing the same issue.Steps that I have follwoed to resolve the same</p>\n<ol>\n<li>extract     from IDP metdata fille</li>\n<li>copy the certificate in text file and save as.crt. e.g idp.crt</li>\n<li>import the crt file in key Store\n<strong>keytool -import -alias adfscert -file idp.crt -keystore samlKeystoreold.jks -storepass keystorepassword</strong></li>\n<li>it will ask for is you trust this crt.. say yes</li>\n<li>for some cases it will ask to use in pkcs12 format add in warning message do the same</li>\n<li>try running your application it should work :)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27228935,"reputation":1,"user_id":20756972,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670850930,"creation_date":1670850930,"answer_id":74771671,"question_id":25363676,"body_markdown":"In my case I had to add the alias of the import certificate in **metadataTrustedKeys** prop of ExtendedMetadataDelegate emd\r\n\r\nif you import using the example of Vladim&#237;r Sch&#228;fer above\r\n\r\n   \r\n\r\n&gt;  keytool -importcert -alias adfssigning -keystore samlKeystore.jks\r\n&gt; -file signature.cer\r\n\r\nyou have to write\r\n\r\n    emd.setMetadataTrustedKeys(Collections.singleton(&quot;adfssigning&quot;));\r\n\r\n","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>In my case I had to add the alias of the import certificate in <strong>metadataTrustedKeys</strong> prop of ExtendedMetadataDelegate emd</p>\n<p>if you import using the example of Vladimír Schäfer above</p>\n<blockquote>\n<p>keytool -importcert -alias adfssigning -keystore samlKeystore.jks\n-file signature.cer</p>\n</blockquote>\n<p>you have to write</p>\n<pre><code>emd.setMetadataTrustedKeys(Collections.singleton(&quot;adfssigning&quot;));\n</code></pre>\n"}],"owner":{"account_id":2628065,"reputation":13427,"user_id":2274686,"accept_rate":66,"display_name":"vdenotaris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21135,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":25384924,"answer_count":4,"score":18,"last_activity_date":1689590497,"creation_date":1408366055,"question_id":25363676,"body_markdown":"In order to fetch metadata from a remote source, I defined an `ExtendedMetadataDelegate` bean as follows:\r\n\r\n\t@Bean\r\n\t@Qualifier(&quot;replyMeta&quot;)\r\n\tpublic ExtendedMetadataDelegate replyMetadataProvider() throws MetadataProviderException {\r\n\t\tString metadataURL = &quot;https://ststest.mydomain.it/FederationMetadata/2007-06/FederationMetadata.xml&quot;;\r\n\t\tfinal Timer backgroundTaskTimer = new Timer(true);\r\n\t\tHTTPMetadataProvider provider = new HTTPMetadataProvider(\r\n\t\t\t\tbackgroundTaskTimer, httpClient(), metadataURL);\r\n\t\tprovider.setParserPool(parserPool());\r\n\t\tExtendedMetadataDelegate emd = new ExtendedMetadataDelegate(\r\n\t\t\t\tprovider, new ExtendedMetadata());\r\n\t\treturn emd;\r\n\t}\r\n\r\nTo ensure the signature trust establishment, I added the related key both in JDK keystore and application keystore (the second step might not be enough); despite that, an error occurs by running the webapp.\r\n\r\n\t[2014-08-18 14:36:47.200] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Attempting to validate signature using key from supplied credential\r\n\t[2014-08-18 14:36:47.200] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Creating XMLSignature object\r\n\t[2014-08-18 14:36:47.206] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Validating signature with signature algorithm URI: http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\r\n\t[2014-08-18 14:36:47.207] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Validation credential key algorithm &#39;RSA&#39;, key instance class &#39;sun.security.rsa.RSAPublicKeyImpl&#39;\r\n\t[2014-08-18 14:36:47.329] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Signature validated with key from supplied credential\r\n\t[2014-08-18 14:36:47.329] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Signature validation using candidate credential was successful\r\n\t[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Successfully verified signature using KeyInfo-derived credential\r\n\t[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Attempting to establish trust of KeyInfo-derived credential\r\n\t[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BasicX509CredentialNameEvaluator: Supplied trusted names are null or empty, skipping name evaluation\r\n\t[2014-08-18 14:36:47.331] boot - 6000 DEBUG [localhost-startStop-1] --- MetadataCredentialResolver: Attempting PKIX path validation on untrusted credential: [subjectName=&#39;CN=ADFS Signing - ststest-replynet.reply.it&#39;]\r\n\t[2014-08-18 14:36:47.346] boot - 6000 ERROR [localhost-startStop-1] --- MetadataCredentialResolver: PKIX path construction failed for untrusted credential: [subjectName=&#39;CN=ADFS Signing - ststest-replynet.reply.it&#39;]: unable to find valid certification path to requested target\r\n\t[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- PKIXSignatureTrustEngine: Signature trust could not be established via PKIX validation of signing credential\r\n\t[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Failed to establish trust of KeyInfo-derived credential\r\n\t[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Failed to verify signature and/or establish trust using any KeyInfo-derived credentials\r\n\t[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- PKIXSignatureTrustEngine: PKIX validation of signature failed, unable to resolve valid and trusted signing key\r\n\t[2014-08-18 14:36:47.347] boot - 6000 ERROR [localhost-startStop-1] --- SignatureValidationFilter: Signature trust establishment failed for metadata entry http://ststest-replynet.reply.it/adfs/services/trust\r\n\t[2014-08-18 14:36:47.349] boot - 6000 ERROR [localhost-startStop-1] --- AbstractReloadingMetadataProvider: Error filtering metadata from https://ststest-replynet.reply.it/FederationMetadata/2007-06/FederationMetadata.xml\r\n\torg.opensaml.saml2.metadata.provider.FilterException: Signature trust establishment failed for metadata entry\r\n\r\nThe error disappears by setting:\r\n\r\n    emd.setMetadataTrustCheck(false); \r\n\r\n... but I&#39;d like to check used metadata.\r\n\r\nIs there a way to resolve this error?\r\n\r\n\r\n---------\r\n\r\nUpdate:\r\n-------\r\n\r\nI tried to setup the `ExtendedMetadata` as follows but the error persists.\r\n\r\n\tem.setAlias(&quot;defaultAlias&quot;);\r\n\tem.setSigningKey(&quot;*.mydomain.it (Go Daddy Secure Certification Authority)&quot;);","title":"Signature trust establishment failed for SAML metadata entry","body":"<p>In order to fetch metadata from a remote source, I defined an <code>ExtendedMetadataDelegate</code> bean as follows:</p>\n\n<pre><code>@Bean\n@Qualifier(\"replyMeta\")\npublic ExtendedMetadataDelegate replyMetadataProvider() throws MetadataProviderException {\n    String metadataURL = \"https://ststest.mydomain.it/FederationMetadata/2007-06/FederationMetadata.xml\";\n    final Timer backgroundTaskTimer = new Timer(true);\n    HTTPMetadataProvider provider = new HTTPMetadataProvider(\n            backgroundTaskTimer, httpClient(), metadataURL);\n    provider.setParserPool(parserPool());\n    ExtendedMetadataDelegate emd = new ExtendedMetadataDelegate(\n            provider, new ExtendedMetadata());\n    return emd;\n}\n</code></pre>\n\n<p>To ensure the signature trust establishment, I added the related key both in JDK keystore and application keystore (the second step might not be enough); despite that, an error occurs by running the webapp.</p>\n\n<pre><code>[2014-08-18 14:36:47.200] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Attempting to validate signature using key from supplied credential\n[2014-08-18 14:36:47.200] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Creating XMLSignature object\n[2014-08-18 14:36:47.206] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Validating signature with signature algorithm URI: http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\n[2014-08-18 14:36:47.207] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Validation credential key algorithm 'RSA', key instance class 'sun.security.rsa.RSAPublicKeyImpl'\n[2014-08-18 14:36:47.329] boot - 6000 DEBUG [localhost-startStop-1] --- SignatureValidator: Signature validated with key from supplied credential\n[2014-08-18 14:36:47.329] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Signature validation using candidate credential was successful\n[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Successfully verified signature using KeyInfo-derived credential\n[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Attempting to establish trust of KeyInfo-derived credential\n[2014-08-18 14:36:47.330] boot - 6000 DEBUG [localhost-startStop-1] --- BasicX509CredentialNameEvaluator: Supplied trusted names are null or empty, skipping name evaluation\n[2014-08-18 14:36:47.331] boot - 6000 DEBUG [localhost-startStop-1] --- MetadataCredentialResolver: Attempting PKIX path validation on untrusted credential: [subjectName='CN=ADFS Signing - ststest-replynet.reply.it']\n[2014-08-18 14:36:47.346] boot - 6000 ERROR [localhost-startStop-1] --- MetadataCredentialResolver: PKIX path construction failed for untrusted credential: [subjectName='CN=ADFS Signing - ststest-replynet.reply.it']: unable to find valid certification path to requested target\n[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- PKIXSignatureTrustEngine: Signature trust could not be established via PKIX validation of signing credential\n[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Failed to establish trust of KeyInfo-derived credential\n[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- BaseSignatureTrustEngine: Failed to verify signature and/or establish trust using any KeyInfo-derived credentials\n[2014-08-18 14:36:47.347] boot - 6000 DEBUG [localhost-startStop-1] --- PKIXSignatureTrustEngine: PKIX validation of signature failed, unable to resolve valid and trusted signing key\n[2014-08-18 14:36:47.347] boot - 6000 ERROR [localhost-startStop-1] --- SignatureValidationFilter: Signature trust establishment failed for metadata entry http://ststest-replynet.reply.it/adfs/services/trust\n[2014-08-18 14:36:47.349] boot - 6000 ERROR [localhost-startStop-1] --- AbstractReloadingMetadataProvider: Error filtering metadata from https://ststest-replynet.reply.it/FederationMetadata/2007-06/FederationMetadata.xml\norg.opensaml.saml2.metadata.provider.FilterException: Signature trust establishment failed for metadata entry\n</code></pre>\n\n<p>The error disappears by setting:</p>\n\n<pre><code>emd.setMetadataTrustCheck(false); \n</code></pre>\n\n<p>... but I'd like to check used metadata.</p>\n\n<p>Is there a way to resolve this error?</p>\n\n<hr>\n\n<h2>Update:</h2>\n\n<p>I tried to setup the <code>ExtendedMetadata</code> as follows but the error persists.</p>\n\n<pre><code>em.setAlias(\"defaultAlias\");\nem.setSigningKey(\"*.mydomain.it (Go Daddy Secure Certification Authority)\");\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":1118500,"reputation":2210,"user_id":1107298,"accept_rate":46,"display_name":"Modi"},"score":0,"creation_date":1413518840,"post_id":26387003,"comment_id":41482409,"body_markdown":"Does your configuration class extends the WebSecurityConfigurerAdapter?","body":"Does your configuration class extends the WebSecurityConfigurerAdapter?"},{"owner":{"account_id":1110685,"reputation":861,"user_id":1101199,"accept_rate":43,"display_name":"jyshin"},"score":0,"creation_date":1413567952,"post_id":26387003,"comment_id":41505918,"body_markdown":"Yes. I edited my code snippet. I want to sure my api server does not manage any session..","body":"Yes. I edited my code snippet. I want to sure my api server does not manage any session.."},{"owner":{"account_id":1118500,"reputation":2210,"user_id":1107298,"accept_rate":46,"display_name":"Modi"},"score":0,"creation_date":1413571226,"post_id":26387003,"comment_id":41507541,"body_markdown":"OK, first,let&#39;s verify that the authentication is enforced. Can you try replacing your configuration with this:http.csrf()\n\t\t\t\t.disable()\n\t\t\t\t.authorizeRequests()\n\t\t\t\t.anyRequest().authenticated()","body":"OK, first,let&#39;s verify that the authentication is enforced. Can you try replacing your configuration with this:http.csrf() \t\t\t\t.disable() \t\t\t\t.authorizeRequests() \t\t\t\t.anyRequest().authenticated()"}],"answers":[{"comments":[{"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"score":3,"creation_date":1507901951,"post_id":42587808,"comment_id":80408661,"body_markdown":"Kudos for warning about the ambiguity.","body":"Kudos for warning about the ambiguity."},{"owner":{"account_id":2143950,"reputation":610,"user_id":1902011,"accept_rate":69,"display_name":"Dino Prašo"},"score":0,"creation_date":1598269900,"post_id":42587808,"comment_id":112394133,"body_markdown":"what if I want to use the session, but don&#39;t want spring security to create one?","body":"what if I want to use the session, but don&#39;t want spring security to create one?"},{"owner":{"account_id":2807081,"reputation":365,"user_id":2414115,"display_name":"gsakthivel"},"score":1,"creation_date":1607022679,"post_id":42587808,"comment_id":115149191,"body_markdown":"I used STATELESS, but getting the error\nlocalhost redirected you too many times. I tried after clearing the cookies too.\n\nI used all these. But everything else is fine except for the sessionManagement thing.\n\ncsrf().disable()\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n.formLogin().disable()\n.httpBasic().disable()\n.logout().disable()","body":"I used STATELESS, but getting the error localhost redirected you too many times. I tried after clearing the cookies too.  I used all these. But everything else is fine except for the sessionManagement thing.  csrf().disable() .sessionManagement().sessionCreationPolicy(SessionCreationPo&zwnj;&#8203;licy.STATELESS).and(&zwnj;&#8203;) .formLogin().disable() .httpBasic().disable() .logout().disable()"}],"tags":[],"owner":{"account_id":6492377,"reputation":1792,"user_id":5026036,"display_name":"Luke Bajada"},"comment_count":3,"down_vote_count":2,"up_vote_count":87,"is_accepted":true,"score":85,"last_activity_date":1519213139,"creation_date":1488572538,"answer_id":42587808,"question_id":26387003,"body_markdown":"Have you tried using `SessionCreationPolicy.STATELESS`. There is a subtle difference between `STATELESS` and `NEVER` in the [spring docs][1]:\r\n\r\n`STATELESS`: Spring Security will never create an `HttpSession` and it will never use it to obtain the `SecurityContext`.\r\n\r\n`NEVER`: Spring Security will never create an `HttpSession`, **but will use the HttpSession if it already exists**.\r\n\r\nSo I would suggest that you clear all your cookies, switch it to `STATELESS` and try again. It could be that you had already an `HttpSession` when you switched to `NEVER`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/http/SessionCreationPolicy.html","title":"How to make spring boot never issue session cookie?","body":"<p>Have you tried using <code>SessionCreationPolicy.STATELESS</code>. There is a subtle difference between <code>STATELESS</code> and <code>NEVER</code> in the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/http/SessionCreationPolicy.html\" rel=\"noreferrer\">spring docs</a>:</p>\n\n<p><code>STATELESS</code>: Spring Security will never create an <code>HttpSession</code> and it will never use it to obtain the <code>SecurityContext</code>.</p>\n\n<p><code>NEVER</code>: Spring Security will never create an <code>HttpSession</code>, <strong>but will use the HttpSession if it already exists</strong>.</p>\n\n<p>So I would suggest that you clear all your cookies, switch it to <code>STATELESS</code> and try again. It could be that you had already an <code>HttpSession</code> when you switched to <code>NEVER</code>.</p>\n"},{"tags":[],"owner":{"account_id":18305351,"reputation":61,"user_id":13329284,"display_name":"Pankaj Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587106087,"creation_date":1587106087,"answer_id":61265614,"question_id":26387003,"body_markdown":"its work for me \r\n&quot;So I would suggest that you clear all your cookies, switch it to STATELESS and try again. It could be that you had already an HttpSession when you switched to NEVER.&quot;\r\n\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n\t\t\t\t.csrf().disable()\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated().and().httpBasic();\r\n\r\n\t}","title":"How to make spring boot never issue session cookie?","body":"<p>its work for me \n\"So I would suggest that you clear all your cookies, switch it to STATELESS and try again. It could be that you had already an HttpSession when you switched to NEVER.\"</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n            .csrf().disable()\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated().and().httpBasic();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2807081,"reputation":365,"user_id":2414115,"display_name":"gsakthivel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607024441,"creation_date":1607024441,"answer_id":65132979,"question_id":26387003,"body_markdown":"I used the following options\r\n\r\n    .csrf().disable()\r\n    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n    .formLogin().disable()\r\n    .httpBasic().disable()\r\n    .logout().disable()\r\n\r\nGetting the error\r\n**localhost redirected you too many time**\r\n\r\nI tried after clearing the cookies.\r\nBut the moment I remove the following option/line\r\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()...\r\nIt works good. This is for oauth2login(). May be oauth2login() requires this session state. What could be the explanation?\r\n\r\nAnd when I do not have this\r\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()...\r\nThen, it uses the cookie. I use google auth, so, once I logged in, it allows subsequent calls without the need to authenticate.\r\nAll of this behavior sound reasonable and as expected.\r\n\r\nFor security reasons, I was told by an expert, to turn off cookies. I do not know what this means other than turning off the session...\r\n\r\n","title":"How to make spring boot never issue session cookie?","body":"<p>I used the following options</p>\n<pre><code>.csrf().disable()\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n.formLogin().disable()\n.httpBasic().disable()\n.logout().disable()\n</code></pre>\n<p>Getting the error\n<strong>localhost redirected you too many time</strong></p>\n<p>I tried after clearing the cookies.\nBut the moment I remove the following option/line\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()...\nIt works good. This is for oauth2login(). May be oauth2login() requires this session state. What could be the explanation?</p>\n<p>And when I do not have this\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()...\nThen, it uses the cookie. I use google auth, so, once I logged in, it allows subsequent calls without the need to authenticate.\nAll of this behavior sound reasonable and as expected.</p>\n<p>For security reasons, I was told by an expert, to turn off cookies. I do not know what this means other than turning off the session...</p>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689589690,"creation_date":1689589690,"answer_id":76703570,"question_id":26387003,"body_markdown":"Spring 6 deprecates `http.sessionManagement()` and schedules it for removal in Spring 7.\r\n\r\nThe replacement is straightforward:\r\n\r\n```\r\nhttp.sessionManagement(smc -&gt; smc.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n```\r\n\r\n`smc` is an instance of `SessionManagementConfigurer&lt;HttpSecurity&gt;`","title":"How to make spring boot never issue session cookie?","body":"<p>Spring 6 deprecates <code>http.sessionManagement()</code> and schedules it for removal in Spring 7.</p>\n<p>The replacement is straightforward:</p>\n<pre><code>http.sessionManagement(smc -&gt; smc.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n</code></pre>\n<p><code>smc</code> is an instance of <code>SessionManagementConfigurer&lt;HttpSecurity&gt;</code></p>\n"}],"owner":{"account_id":1110685,"reputation":861,"user_id":1101199,"accept_rate":43,"display_name":"jyshin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41588,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":42587808,"answer_count":4,"score":59,"last_activity_date":1689589690,"creation_date":1413388855,"question_id":26387003,"body_markdown":"I&#39;m developing Restful API server by using spring boot. I configured my project to use basic authentication as below.\r\n\r\n    @ComponentScan\r\n    @EnableAutoConfiguration\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        ...\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER).and()\r\n                .csrf().disable()\r\n                .authorizeRequests().anyRequest().hasRole(&quot;USER&quot;).and()\r\n                .httpBasic();\r\n        }\r\n        ...\r\n    }\r\n\r\nBut when I tested the API by Chrome-Postman-Plugin, after first call, server never require user credential. And I noticed that &#39;JSESSIONID&#39; cookie was created.\r\n\r\nThere are no other security configurations in my project. I wonder why this happens...","title":"How to make spring boot never issue session cookie?","body":"<p>I'm developing Restful API server by using spring boot. I configured my project to use basic authentication as below.</p>\n\n<pre><code>@ComponentScan\n@EnableAutoConfiguration\n@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    ...\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.NEVER).and()\n            .csrf().disable()\n            .authorizeRequests().anyRequest().hasRole(\"USER\").and()\n            .httpBasic();\n    }\n    ...\n}\n</code></pre>\n\n<p>But when I tested the API by Chrome-Postman-Plugin, after first call, server never require user credential. And I noticed that 'JSESSIONID' cookie was created.</p>\n\n<p>There are no other security configurations in my project. I wonder why this happens...</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":2,"creation_date":1689351454,"post_id":76689437,"comment_id":135206129,"body_markdown":"The first answer externalizes the decision from the controller method, which is usually the recommended approach. Other than that, this seems like an opinion based question. Please give details about your specific problem and what you&#39;ve tried (that isn&#39;t working).","body":"The first answer externalizes the decision from the controller method, which is usually the recommended approach. Other than that, this seems like an opinion based question. Please give details about your specific problem and what you&#39;ve tried (that isn&#39;t working)."},{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1689354813,"post_id":76689437,"comment_id":135206845,"body_markdown":"For me the first answer seems better too, but you should consider regarding truth of incoming &#39;creator&#39; param","body":"For me the first answer seems better too, but you should consider regarding truth of incoming &#39;creator&#39; param"},{"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1689604977,"post_id":76689437,"comment_id":135233392,"body_markdown":"You are asking &quot;is xyz OK?&quot; without trying it first. Please try the answer you have selected and update with the results of the test if you still have a question.","body":"You are asking &quot;is xyz OK?&quot; without trying it first. Please try the answer you have selected and update with the results of the test if you still have a question."},{"owner":{"account_id":28679067,"reputation":23,"user_id":21960620,"display_name":"solanke57"},"score":0,"creation_date":1689607650,"post_id":76689437,"comment_id":135234009,"body_markdown":"@SteveRiesenberg It works just fine. I was just wondering &quot;if fetching Company twice is ok&quot; or &quot;fetching object before method is even called is ok&quot;, but I found out that in JPA this object will be cached, so it will be fetched only one time.","body":"@SteveRiesenberg It works just fine. I was just wondering &quot;if fetching Company twice is ok&quot; or &quot;fetching object before method is even called is ok&quot;, but I found out that in JPA this object will be cached, so it will be fetched only one time."}],"owner":{"account_id":28679067,"reputation":23,"user_id":21960620,"display_name":"solanke57"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689589577,"creation_date":1689350792,"question_id":76689437,"body_markdown":"I was wondering how to check if a logged-in user is the owner of a resource during UPDATE and DELETE operations, and I came across a few methods, but these two seem good to me:\r\n\r\nhttps://stackoverflow.com/a/56872544/21960620\r\n\r\nhttps://stackoverflow.com/a/53030280/21960620\r\n\r\n\r\nCompanyDto class\r\n```\r\n@Builder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CompanyDto {\r\n\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    private String companyName;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    private String description;\r\n\r\n    private AppUserDto adminProfile;\r\n\r\n}\r\n```\r\n\r\nCompanyController class:\r\n```\r\n    @PutMapping(&quot;/companies/{companyId}&quot;)\r\n    public ResponseEntity&lt;Void&gt; updateCompany(@PathVariable(&quot;companyId&quot;) Long companyId,\r\n                                              @RequestBody @Validated CompanyDto companyDto) {\r\n\r\n        CompanyDto updatedCompany = companyService.updateCompany(companyId, companyDto);\r\n\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    }\r\n```\r\n\r\nAnd in my case, helper would look more or less like this?:\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class ResourceAccessHelper {\r\n\r\n    private final CompanyService companyService;\r\n\r\n    public boolean checkCompanyOwnership(Long companyId, Authentication authentication) {\r\n\r\n        CompanyDto companyDto = companyService.getCompanyById(companyId);\r\n\r\n        return companyDto.getAdminProfile().getUsername().equals(authentication.getName());\r\n    }\r\n}\r\n\r\n```\r\nBut I&#39;m not sure if method ```companyService.getCompanyById(companyId)``` is OK here because it looks for Company and if it&#39;s not found then throws exception. However, ```companyService.updateCompany(companyId, companyDto)```\r\nalso does that, so I&#39;m not sure if it&#39;s ok.\r\n\r\nWhich of these methods is better? Or is there any other, better way?","title":"What is the best way to validate ownership of resource in Spring Boot?","body":"<p>I was wondering how to check if a logged-in user is the owner of a resource during UPDATE and DELETE operations, and I came across a few methods, but these two seem good to me:</p>\n<p><a href=\"https://stackoverflow.com/a/56872544/21960620\">https://stackoverflow.com/a/56872544/21960620</a></p>\n<p><a href=\"https://stackoverflow.com/a/53030280/21960620\">https://stackoverflow.com/a/53030280/21960620</a></p>\n<p>CompanyDto class</p>\n<pre><code>@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CompanyDto {\n\n    private Long id;\n\n    @NotNull\n    @NotBlank\n    private String companyName;\n\n    @NotNull\n    @NotBlank\n    private String description;\n\n    private AppUserDto adminProfile;\n\n}\n</code></pre>\n<p>CompanyController class:</p>\n<pre><code>    @PutMapping(&quot;/companies/{companyId}&quot;)\n    public ResponseEntity&lt;Void&gt; updateCompany(@PathVariable(&quot;companyId&quot;) Long companyId,\n                                              @RequestBody @Validated CompanyDto companyDto) {\n\n        CompanyDto updatedCompany = companyService.updateCompany(companyId, companyDto);\n\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n</code></pre>\n<p>And in my case, helper would look more or less like this?:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class ResourceAccessHelper {\n\n    private final CompanyService companyService;\n\n    public boolean checkCompanyOwnership(Long companyId, Authentication authentication) {\n\n        CompanyDto companyDto = companyService.getCompanyById(companyId);\n\n        return companyDto.getAdminProfile().getUsername().equals(authentication.getName());\n    }\n}\n\n</code></pre>\n<p>But I'm not sure if method <code>companyService.getCompanyById(companyId)</code> is OK here because it looks for Company and if it's not found then throws exception. However, <code>companyService.updateCompany(companyId, companyDto)</code>\nalso does that, so I'm not sure if it's ok.</p>\n<p>Which of these methods is better? Or is there any other, better way?</p>\n"},{"tags":["java","jar","portability","java-20"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1689585991,"post_id":76703022,"comment_id":135229114,"body_markdown":"Doesn&#39;t the JDK include a JRE?","body":"Doesn&#39;t the JDK include a JRE?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1689586293,"post_id":76703022,"comment_id":135229166,"body_markdown":"The proper method would be to use jlink or jpackage to create a suitable custom JRE specifically for your application.","body":"The proper method would be to use jlink or jpackage to create a suitable custom JRE specifically for your application."},{"owner":{"account_id":18194209,"reputation":15,"user_id":13239577,"display_name":"ralle"},"score":0,"creation_date":1689586377,"post_id":76703022,"comment_id":135229188,"body_markdown":"ah ok thanks for the tip, i&#39;ll take a closer look.","body":"ah ok thanks for the tip, i&#39;ll take a closer look."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1689607813,"post_id":76703022,"comment_id":135234046,"body_markdown":"There is no need to get a JDK or JRE from portableapps.com. Their definition of “portable”, i.e. “can be used from an arbitrary filesystem location”, applies to the JDK/JRE by default. Just download a JDK or JRE as zip folder and extract it to wherever you like.","body":"There is no need to get a JDK or JRE from portableapps.com. Their definition of “portable”, i.e. “can be used from an arbitrary filesystem location”, applies to the JDK/JRE by default. Just download a JDK or JRE as zip folder and extract it to wherever you like."}],"answers":[{"tags":[],"owner":{"account_id":28085318,"reputation":1,"user_id":21455785,"display_name":"nikho2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689588589,"creation_date":1689588319,"answer_id":76703379,"question_id":76703022,"body_markdown":"Normaly the JDK already includes the JRE, so you should be fine if you install the latest JDK 20.","title":"How to run a portable Jar-File in Java 20 (OpenJDK 20)","body":"<p>Normaly the JDK already includes the JRE, so you should be fine if you install the latest JDK 20.</p>\n"}],"owner":{"account_id":18194209,"reputation":15,"user_id":13239577,"display_name":"ralle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1689588589,"creation_date":1689585453,"question_id":76703022,"body_markdown":"I would like to run a portable jar-file created with OpenJDK 20  (i.e. without installation).  \r\n\r\nSo far I have managed this with the OpenJDKJRE package for Java 14 from portableapps.com. But for the OpenJDK 20 I don&#39;t know where to get the JRE. Does anyone have an idea where to get it?\r\n","title":"How to run a portable Jar-File in Java 20 (OpenJDK 20)","body":"<p>I would like to run a portable jar-file created with OpenJDK 20  (i.e. without installation).</p>\n<p>So far I have managed this with the OpenJDKJRE package for Java 14 from portableapps.com. But for the OpenJDK 20 I don't know where to get the JRE. Does anyone have an idea where to get it?</p>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":4,"creation_date":1519723973,"post_id":5587482,"comment_id":85015119,"body_markdown":"@mel3kings, the link you provided is no longer active.","body":"@mel3kings, the link you provided is no longer active."},{"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"score":0,"creation_date":1540222335,"post_id":5587482,"comment_id":92775054,"body_markdown":"try using mutable collections when removing elements. For example don&#39;t use `something.manyother.remove(other)` if `manyother` is a `List&lt;T&gt;`. Make manyother Mutable, like `ArrayList&lt;T&gt;` and use `orphanDelete = true`","body":"try using mutable collections when removing elements. For example don&#39;t use <code>something.manyother.remove(other)</code> if <code>manyother</code> is a <code>List&lt;T&gt;</code>. Make manyother Mutable, like <code>ArrayList&lt;T&gt;</code> and use <code>orphanDelete = true</code>"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1606255279,"post_id":5587482,"comment_id":114908101,"body_markdown":"There is this bug which looks suspiciously similar: https://hibernate.atlassian.net/browse/HHH-9940 And the code to reproduce it: https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test","body":"There is this bug which looks suspiciously similar: <a href=\"https://hibernate.atlassian.net/browse/HHH-9940\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-9940</a> And the code to reproduce it: <a href=\"https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test\" rel=\"nofollow noreferrer\">github.com/abenneke/sandbox/tree/master/&hellip;</a>"},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":3,"creation_date":1611843695,"post_id":5587482,"comment_id":116585149,"body_markdown":"link &quot;How to &quot;possible&quot; solve the problem&quot; no longer available","body":"link &quot;How to &quot;possible&quot; solve the problem&quot; no longer available"},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":2,"creation_date":1635234142,"post_id":5587482,"comment_id":123234800,"body_markdown":"[&#39;How to &quot;possibly&quot; solve the problem&#39; link in the Internet Archive...](https://web.archive.org/web/20171010150609/http://www.onkarjoshi.com/blog/188/hibernateexception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance/comment-page-1/#comment-9994)","body":"<a href=\"https://web.archive.org/web/20171010150609/http://www.onkarjoshi.com/blog/188/hibernateexception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance/comment-page-1/#comment-9994\" rel=\"nofollow noreferrer\">&#39;How to &quot;possibly&quot; solve the problem&#39; link in the Internet Archive...</a>"}],"answers":[{"comments":[{"owner":{"account_id":276593,"reputation":14134,"user_id":570120,"accept_rate":90,"display_name":"axcdnt"},"score":10,"creation_date":1302473099,"post_id":5587892,"comment_id":6396513,"body_markdown":"Actually, my problem was about equals and hashcode of my entities. A legacy code can bring a lot of problems, never forget to check it out. All I&#39;ve done was just keep delete-orphan strategy and correct equals and hashcode.","body":"Actually, my problem was about equals and hashcode of my entities. A legacy code can bring a lot of problems, never forget to check it out. All I&#39;ve done was just keep delete-orphan strategy and correct equals and hashcode."},{"owner":{"account_id":52241,"reputation":10736,"user_id":156061,"accept_rate":88,"display_name":"brainimus"},"score":8,"creation_date":1302529632,"post_id":5587892,"comment_id":6405686,"body_markdown":"I&#39;m glad you solved your problem.  equals and hashcode have bitten me a few times with Hibernate.  Instead of updating the title of the question with &quot;[Solved]&quot; you should go ahead and post your answer and then mark it as the accepted answer.","body":"I&#39;m glad you solved your problem.  equals and hashcode have bitten me a few times with Hibernate.  Instead of updating the title of the question with &quot;[Solved]&quot; you should go ahead and post your answer and then mark it as the accepted answer."},{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":0,"creation_date":1423139415,"post_id":5587892,"comment_id":45032324,"body_markdown":"Thanks, I ran into something similar and turned out my setter for that Set was empty..","body":"Thanks, I ran into something similar and turned out my setter for that Set was empty.."},{"owner":{"account_id":166367,"reputation":667,"user_id":390436,"accept_rate":36,"display_name":"tibi"},"score":0,"creation_date":1524510935,"post_id":5587892,"comment_id":86993102,"body_markdown":"yes even on empty lists you get this error. i would not expect that because there are no orphans (the list was empty).","body":"yes even on empty lists you get this error. i would not expect that because there are no orphans (the list was empty)."},{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":6,"creation_date":1531859612,"post_id":5587892,"comment_id":89751592,"body_markdown":"**Usually you want to only &quot;new&quot; the set once in a constructor. Any time you want to add or delete something to the list you have to modify the contents of the list instead of assigning a new list.** Most imp","body":"<b>Usually you want to only &quot;new&quot; the set once in a constructor. Any time you want to add or delete something to the list you have to modify the contents of the list instead of assigning a new list.</b> Most imp"},{"owner":{"account_id":442702,"reputation":199,"user_id":833455,"accept_rate":25,"display_name":"Khachatur Stepanyan"},"score":0,"creation_date":1551088916,"post_id":5587892,"comment_id":96497814,"body_markdown":"thank you, you saved me a lot of time! I was setting new collection in my setter and that was ruining everything, I just followed your advice and changed the logic to filter my list based on passed argument","body":"thank you, you saved me a lot of time! I was setting new collection in my setter and that was ruining everything, I just followed your advice and changed the logic to filter my list based on passed argument"},{"owner":{"account_id":2531803,"reputation":320,"user_id":2199949,"accept_rate":40,"display_name":"Leif Jones"},"score":0,"creation_date":1686157038,"post_id":5587892,"comment_id":134761782,"body_markdown":"For anyone else arriving at this in a slightly different way: It still boiled down to accidentally nulling out a list property. It was just that we had done a rename of a property in a class that was being converted to the class that we were about to save. So we wound up just setting that specific property more manually after the conversion.","body":"For anyone else arriving at this in a slightly different way: It still boiled down to accidentally nulling out a list property. It was just that we had done a rename of a property in a class that was being converted to the class that we were about to save. So we wound up just setting that specific property more manually after the conversion."}],"tags":[],"owner":{"account_id":52241,"reputation":10736,"user_id":156061,"accept_rate":88,"display_name":"brainimus"},"comment_count":7,"down_vote_count":1,"up_vote_count":296,"is_accepted":false,"score":295,"last_activity_date":1302211787,"creation_date":1302211787,"answer_id":5587892,"question_id":5587482,"body_markdown":"Check all of the places where you are assigning something to sonEntities.  The link you referenced distinctly points out creating a new HashSet but you can have this error anytime you reassign the set.  For example:\r\n\r\n    public void setChildren(Set&lt;SonEntity&gt; aSet)\r\n    {\r\n        this.sonEntities = aSet; //This will override the set that Hibernate is tracking.\r\n    }\r\n\r\nUsually you want to only &quot;new&quot; the set once in a constructor.  Any time you want to add or delete something to the list you have to modify the contents of the list instead of assigning a new list.\r\n\r\n**To add children:**\r\n\r\n    public void addChild(SonEntity aSon)\r\n    {\r\n        this.sonEntities.add(aSon);\r\n    }\r\n\r\n**To remove children:**\r\n\r\n    public void removeChild(SonEntity aSon)\r\n    {\r\n        this.sonEntities.remove(aSon);\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Check all of the places where you are assigning something to sonEntities.  The link you referenced distinctly points out creating a new HashSet but you can have this error anytime you reassign the set.  For example:</p>\n\n<pre><code>public void setChildren(Set&lt;SonEntity&gt; aSet)\n{\n    this.sonEntities = aSet; //This will override the set that Hibernate is tracking.\n}\n</code></pre>\n\n<p>Usually you want to only \"new\" the set once in a constructor.  Any time you want to add or delete something to the list you have to modify the contents of the list instead of assigning a new list.</p>\n\n<p><strong>To add children:</strong></p>\n\n<pre><code>public void addChild(SonEntity aSon)\n{\n    this.sonEntities.add(aSon);\n}\n</code></pre>\n\n<p><strong>To remove children:</strong></p>\n\n<pre><code>public void removeChild(SonEntity aSon)\n{\n    this.sonEntities.remove(aSon);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3277434,"reputation":800,"user_id":2759005,"accept_rate":78,"display_name":"WoutVanAertTheBest"},"score":16,"creation_date":1405352218,"post_id":5624496,"comment_id":38380353,"body_markdown":"please, an example of a well made equals and hashCode methods? because i have a lot of problems: or i can&#39;t update my set or i get a StackOverflow error. i opened a question here: http://stackoverflow.com/questions/24737145/equals-and-hashcode-of-these-entities-spring-mvc-hibernate . thanks","body":"please, an example of a well made equals and hashCode methods? because i have a lot of problems: or i can&#39;t update my set or i get a StackOverflow error. i opened a question here: <a href=\"http://stackoverflow.com/questions/24737145/equals-and-hashcode-of-these-entities-spring-mvc-hibernate\" title=\"equals and hashcode of these entities spring mvc hibernate\">stackoverflow.com/questions/24737145/&hellip;</a> . thanks"}],"tags":[],"owner":{"account_id":276593,"reputation":14134,"user_id":570120,"accept_rate":90,"display_name":"axcdnt"},"comment_count":1,"down_vote_count":2,"up_vote_count":31,"is_accepted":true,"score":29,"last_activity_date":1302539589,"creation_date":1302539589,"answer_id":5624496,"question_id":5587482,"body_markdown":"Actually, my problem was about equals and hashcode of my entities. A legacy code can bring a lot of problems, never forget to check it out. All I&#39;ve done was just keep delete-orphan strategy and correct equals and hashcode.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Actually, my problem was about equals and hashcode of my entities. A legacy code can bring a lot of problems, never forget to check it out. All I've done was just keep delete-orphan strategy and correct equals and hashcode.</p>\n"},{"comments":[{"owner":{"account_id":4497597,"reputation":181,"user_id":3657024,"display_name":"rpajaziti"},"score":2,"creation_date":1588947467,"post_id":7698950,"comment_id":109104147,"body_markdown":"Sending new ArrayList instead of null, worked for me. Thanks","body":"Sending new ArrayList instead of null, worked for me. Thanks"}],"tags":[],"owner":{"account_id":51446,"reputation":1294,"user_id":153721,"accept_rate":81,"display_name":"Konsumierer"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1318099084,"creation_date":1318099084,"answer_id":7698950,"question_id":5587482,"body_markdown":"I had the same error. The problem for me was, that after saving the entity the mapped collection was still null and when trying to update the entity the exception was thrown. What helped for me: Saving the entity, then make a refresh (collection is no longer null) and then perform the update. Maybe initializing the collection with new ArrayList() or something might help as well.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I had the same error. The problem for me was, that after saving the entity the mapped collection was still null and when trying to update the entity the exception was thrown. What helped for me: Saving the entity, then make a refresh (collection is no longer null) and then perform the update. Maybe initializing the collection with new ArrayList() or something might help as well.</p>\n"},{"comments":[{"owner":{"account_id":287767,"reputation":793,"user_id":587789,"accept_rate":59,"display_name":"ovdsrn"},"score":2,"creation_date":1355308973,"post_id":8835704,"comment_id":19045950,"body_markdown":"@Skuld I have a similar problem and I applied your solution (in the setter method I clear the children collection - this.children.clear() - and I added the new children - this.children.addAll(children)). This change didn&#39;t fix my problem. I still get the &quot;A collection with cascade=&quot;all-delete-orphan&quot; was no longer referenced by the owning entity instance&quot; exception. Do you have an idea why? Thank you very much!","body":"@Skuld I have a similar problem and I applied your solution (in the setter method I clear the children collection - this.children.clear() - and I added the new children - this.children.addAll(children)). This change didn&#39;t fix my problem. I still get the &quot;A collection with cascade=&quot;all-delete-orphan&quot; was no longer referenced by the owning entity instance&quot; exception. Do you have an idea why? Thank you very much!"},{"owner":{"account_id":446755,"reputation":1737,"user_id":839992,"display_name":"Stephen"},"score":0,"creation_date":1356601683,"post_id":8835704,"comment_id":19418574,"body_markdown":"@ovdsrn Sorry this isn&#39;t my answer, I just sorted out the formatting of the answer, the original author (kmmanu) might be able to help you out (or alt you might want to start a new question if your scenario is different to the original question asked here) Good luck","body":"@ovdsrn Sorry this isn&#39;t my answer, I just sorted out the formatting of the answer, the original author (kmmanu) might be able to help you out (or alt you might want to start a new question if your scenario is different to the original question asked here) Good luck"},{"owner":{"account_id":56223,"reputation":4205,"user_id":168387,"accept_rate":55,"display_name":"edbras"},"score":1,"creation_date":1404917241,"post_id":8835704,"comment_id":38222723,"body_markdown":"This works well, but not so good when the children are contained in a nested hibernate component and the component is made null in it&#39;s Entity. Then you get the same error. This is because the owner of the children is the root Entity and not the component that is made null... A such, a component is never allowed to become null, but rather should result in a forward to a destroy() method in the child... At least, I don&#39;t know a better solution... It&#39;s a kind of collection clear() construction but then on a component through destroy()...","body":"This works well, but not so good when the children are contained in a nested hibernate component and the component is made null in it&#39;s Entity. Then you get the same error. This is because the owner of the children is the root Entity and not the component that is made null... A such, a component is never allowed to become null, but rather should result in a forward to a destroy() method in the child... At least, I don&#39;t know a better solution... It&#39;s a kind of collection clear() construction but then on a component through destroy()..."},{"owner":{"account_id":56223,"reputation":4205,"user_id":168387,"accept_rate":55,"display_name":"edbras"},"score":0,"creation_date":1404917796,"post_id":8835704,"comment_id":38223130,"body_markdown":"See also this post for more details of above: http://stackoverflow.com/questions/4770262/remove-collection-with-delete-orphan-not-work-with-null-assignment","body":"See also this post for more details of above: <a href=\"http://stackoverflow.com/questions/4770262/remove-collection-with-delete-orphan-not-work-with-null-assignment\" title=\"remove collection with delete orphan not work with null assignment\">stackoverflow.com/questions/4770262/&hellip;</a>"},{"owner":{"account_id":102120,"reputation":161,"user_id":274326,"display_name":"Martin"},"score":9,"creation_date":1448308273,"post_id":8835704,"comment_id":55522957,"body_markdown":"use this.sonEntities.retainAll(aSet) over sonEntities.clear() because if aSet == this.sonEntities (i.e. the same object) you will clear the set before you add to it!","body":"use this.sonEntities.retainAll(aSet) over sonEntities.clear() because if aSet == this.sonEntities (i.e. the same object) you will clear the set before you add to it!"},{"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"score":0,"creation_date":1528286396,"post_id":8835704,"comment_id":88448124,"body_markdown":"simply brilliant!","body":"simply brilliant!"},{"owner":{"account_id":10324607,"reputation":1937,"user_id":7616442,"accept_rate":75,"display_name":"Mehdi Bouzidi"},"score":0,"creation_date":1612700807,"post_id":8835704,"comment_id":116843333,"body_markdown":"This is what i needed &quot;this.sonEntities.clear();&quot; thanks @Manu","body":"This is what i needed &quot;this.sonEntities.clear();&quot; thanks @Manu"},{"owner":{"account_id":352393,"reputation":7153,"user_id":6404321,"display_name":"walen"},"score":0,"creation_date":1631034126,"post_id":8835704,"comment_id":122112938,"body_markdown":"@Martin Wouldn&#39;t it be more efficient to just check for equality before clearing? i.e. `if (aSet == this.sonEntities) { return; } else { this.sonEntities.clear() ...`. Traversing a Set twice does not look like something one would like to do in a setter...","body":"@Martin Wouldn&#39;t it be more efficient to just check for equality before clearing? i.e. <code>if (aSet == this.sonEntities) { return; } else { this.sonEntities.clear() ...</code>. Traversing a Set twice does not look like something one would like to do in a setter..."}],"tags":[],"owner":{"account_id":1038483,"reputation":3505,"user_id":1045050,"accept_rate":30,"display_name":"Manu"},"comment_count":8,"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1520437444,"creation_date":1326374331,"answer_id":8835704,"question_id":5587482,"body_markdown":"The method:\r\n\r\n    public void setChildren(Set&lt;SonEntity&gt; aSet) {\r\n        this.sonEntities = aSet;\r\n    }\r\n\r\nworks if the `parentEntity` is detached and again if we update it.  \r\nBut if the entity is not detached from per context, (i.e. find and update operations are in the same transaction) the below method works.\r\n\r\n    public void setChildren(Set&lt;SonEntity&gt; aSet) {\r\n        //this.sonEntities = aSet; //This will override the set that Hibernate is tracking.\r\n        this.sonEntities.clear();\r\n        if (aSet != null) {\r\n            this.sonEntities.addAll(aSet);\r\n        }\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>The method:</p>\n\n<pre><code>public void setChildren(Set&lt;SonEntity&gt; aSet) {\n    this.sonEntities = aSet;\n}\n</code></pre>\n\n<p>works if the <code>parentEntity</code> is detached and again if we update it.<br>\nBut if the entity is not detached from per context, (i.e. find and update operations are in the same transaction) the below method works.</p>\n\n<pre><code>public void setChildren(Set&lt;SonEntity&gt; aSet) {\n    //this.sonEntities = aSet; //This will override the set that Hibernate is tracking.\n    this.sonEntities.clear();\n    if (aSet != null) {\n        this.sonEntities.addAll(aSet);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":56223,"reputation":4205,"user_id":168387,"accept_rate":55,"display_name":"edbras"},"score":2,"creation_date":1404912377,"post_id":24274906,"comment_id":38219124,"body_markdown":"Why are you calling retainAll()? Why not clear() followed by addAll()?","body":"Why are you calling retainAll()? Why not clear() followed by addAll()?"},{"owner":{"account_id":3209105,"reputation":1422,"user_id":2709454,"display_name":"xpusostomos"},"score":1,"creation_date":1432769682,"post_id":24274906,"comment_id":49067285,"body_markdown":"&quot;Why are you calling retainAll()? Why not clear() followed by addAll()?&quot;  Good question, I think I was working under the assumption that hibernate would be less likely to see this as a database update if you didn&#39;t remove the items before adding them again. But I suspect it doesn&#39;t work that way anyway.","body":"&quot;Why are you calling retainAll()? Why not clear() followed by addAll()?&quot;  Good question, I think I was working under the assumption that hibernate would be less likely to see this as a database update if you didn&#39;t remove the items before adding them again. But I suspect it doesn&#39;t work that way anyway."},{"owner":{"account_id":102120,"reputation":161,"user_id":274326,"display_name":"Martin"},"score":2,"creation_date":1448307933,"post_id":24274906,"comment_id":55522710,"body_markdown":"You should use retainAll() over clear() otherwise you may wipe out the roles  if you happen to pass in the identical set object. For example:  user.setRoles(user.getRoles()) == user.roles.clear()","body":"You should use retainAll() over clear() otherwise you may wipe out the roles  if you happen to pass in the identical set object. For example:  user.setRoles(user.getRoles()) == user.roles.clear()"},{"owner":{"account_id":1540226,"reputation":1045,"user_id":1435079,"display_name":"Lawrence"},"score":3,"creation_date":1460974475,"post_id":24274906,"comment_id":60970570,"body_markdown":"When you set orphanRemoval=true and you creare a record where this collections is null, you also get this error.\nSo: a has oneToMany b with orphanremoval = true. When you create A where B = null, this issue is triggerd. Your solution to initialize and make it final seems the best.","body":"When you set orphanRemoval=true and you creare a record where this collections is null, you also get this error. So: a has oneToMany b with orphanremoval = true. When you create A where B = null, this issue is triggerd. Your solution to initialize and make it final seems the best."},{"owner":{"account_id":1138836,"reputation":1013,"user_id":1123303,"accept_rate":30,"display_name":"Radical"},"score":0,"creation_date":1519807500,"post_id":24274906,"comment_id":85055172,"body_markdown":"Thank you! I was initialising my List as `List&lt;String&gt; list = new ArrayList&lt;&gt;();`. Changing it to `List&lt;String&gt; list = null;` fixed the problem :)","body":"Thank you! I was initialising my List as <code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code>. Changing it to <code>List&lt;String&gt; list = null;</code> fixed the problem :)"},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":0,"creation_date":1577390852,"post_id":24274906,"comment_id":105160140,"body_markdown":"Actually, the first code block in your answer works if you just remove the `final` modifier. This way: (1) When you create an entity with `new` in your code, the `roles` will be instance of `HashSet`, that is totally fine for Hibernate when it persists a new entity. (2) When you update a managed entity, the `roles` will be instance of managed hibernate proxy, because it will assign it to the field on entity load (**because it&#39;s not final**). (3) When you merge a transient entity, it&#39;s also fine.","body":"Actually, the first code block in your answer works if you just remove the <code>final</code> modifier. This way: (1) When you create an entity with <code>new</code> in your code, the <code>roles</code> will be instance of <code>HashSet</code>, that is totally fine for Hibernate when it persists a new entity. (2) When you update a managed entity, the <code>roles</code> will be instance of managed hibernate proxy, because it will assign it to the field on entity load (<b>because it&#39;s not final</b>). (3) When you merge a transient entity, it&#39;s also fine."}],"tags":[],"owner":{"account_id":3209105,"reputation":1422,"user_id":2709454,"display_name":"xpusostomos"},"comment_count":6,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1403047888,"creation_date":1403047888,"answer_id":24274906,"question_id":5587482,"body_markdown":"When I read in various places that hibernate didn&#39;t like you to assign to a collection, I assumed that the safest thing to do would obviously be to make it final like this:\r\n\r\n    class User {\r\n      private final Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    public void setRoles(Set&lt;Role&gt; roles) {\r\n      this.roles.retainAll(roles);\r\n      this.roles.addAll(roles);\r\n    }\r\n    }\r\n\r\nHowever, this doesn&#39;t work, and you get the dreaded &quot;no longer referenced&quot; error, which is actually quite misleading in this case.\r\n\r\nIt turns out that hibernate calls your setRoles method AND it wants its special collection class installed here, and won&#39;t accept your collection class. This had me stumped for a LONG time, despite reading all the warnings about not assigning to your collection in your set method.\r\n\r\nSo I changed to this:\r\n\r\n    public class User {\r\n      private Set&lt;Role&gt; roles = null;\r\n    \r\n      public void setRoles(Set&lt;Role&gt; roles) {\r\n      if (this.roles == null) {\r\n        this.roles = roles;\r\n      } else {\r\n        this.roles.retainAll(roles);\r\n       this.roles.addAll(roles);\r\n      }\r\n    }\r\n    }\r\n\r\nSo that on the first call, hibernate installs its special class, and on subsequent calls you can use the method yourself without wrecking everything. If you want to use your class as a bean, you probably need a working setter, and this at least seems to work.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>When I read in various places that hibernate didn't like you to assign to a collection, I assumed that the safest thing to do would obviously be to make it final like this:</p>\n\n<pre><code>class User {\n  private final Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\npublic void setRoles(Set&lt;Role&gt; roles) {\n  this.roles.retainAll(roles);\n  this.roles.addAll(roles);\n}\n}\n</code></pre>\n\n<p>However, this doesn't work, and you get the dreaded \"no longer referenced\" error, which is actually quite misleading in this case.</p>\n\n<p>It turns out that hibernate calls your setRoles method AND it wants its special collection class installed here, and won't accept your collection class. This had me stumped for a LONG time, despite reading all the warnings about not assigning to your collection in your set method.</p>\n\n<p>So I changed to this:</p>\n\n<pre><code>public class User {\n  private Set&lt;Role&gt; roles = null;\n\n  public void setRoles(Set&lt;Role&gt; roles) {\n  if (this.roles == null) {\n    this.roles = roles;\n  } else {\n    this.roles.retainAll(roles);\n   this.roles.addAll(roles);\n  }\n}\n}\n</code></pre>\n\n<p>So that on the first call, hibernate installs its special class, and on subsequent calls you can use the method yourself without wrecking everything. If you want to use your class as a bean, you probably need a working setter, and this at least seems to work.</p>\n"},{"tags":[],"owner":{"account_id":3377694,"reputation":4854,"user_id":2835520,"accept_rate":100,"display_name":"IgniteCoders"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428579315,"creation_date":1428579315,"answer_id":29537435,"question_id":5587482,"body_markdown":"**HAS RELATION TYPE:**\r\n\r\n\r\n----------\r\n\r\n\r\nDon&#39;t try to instantiate the collection when it&#39;s declared in `hasMany`, just add and remove objects. \r\n\r\n    class Parent {\r\n    \tstatic hasMany = [childs:Child]\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n**USE RELATION TYPE:**\r\n\r\n\r\n----------\r\n\r\n\r\nBut the collection could be null only when is declared as a property (use relation) and is not initialized in declaration.\r\n\r\n    class Parent {\r\n    \tList&lt;Child&gt; childs = []\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p><strong>HAS RELATION TYPE:</strong></p>\n\n<hr>\n\n<p>Don't try to instantiate the collection when it's declared in <code>hasMany</code>, just add and remove objects. </p>\n\n<pre><code>class Parent {\n    static hasMany = [childs:Child]\n}\n</code></pre>\n\n<hr>\n\n<p><strong>USE RELATION TYPE:</strong></p>\n\n<hr>\n\n<p>But the collection could be null only when is declared as a property (use relation) and is not initialized in declaration.</p>\n\n<pre><code>class Parent {\n    List&lt;Child&gt; childs = []\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5390705,"reputation":674,"user_id":4293335,"accept_rate":55,"display_name":"ryzhman"},"score":0,"creation_date":1516019089,"post_id":33719492,"comment_id":83508694,"body_markdown":"Perhaps, it&#39;s better to user Collections.emptySet() to use a singleton empty list","body":"Perhaps, it&#39;s better to user Collections.emptySet() to use a singleton empty list"}],"tags":[],"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447589265,"creation_date":1447589265,"answer_id":33719492,"question_id":5587482,"body_markdown":"I had this problem when trying to use `TreeSet`. I did initialize `oneToMany` with `TreeSet` which works\r\n\r\n    @OneToMany(mappedBy = &quot;question&quot;, fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval=true)\r\n\t@OrderBy(&quot;id&quot;)\r\n\tprivate Set&lt;WizardAnswer&gt; answers = new TreeSet&lt;WizardAnswer&gt;();\r\n\r\nBut, this will bring the error described at the `question` above. So it seems that `hibernate` supported `SortedSet` and if one just change the line above to\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;question&quot;, fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval=true)\r\n\t@OrderBy(&quot;id&quot;)\r\n\tprivate SortedSet&lt;WizardAnswer&gt; answers;\r\n\r\nit works like magic :)\r\nmore info on `hibernate SortedSet` can be [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7304729/1211174","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I had this problem when trying to use <code>TreeSet</code>. I did initialize <code>oneToMany</code> with <code>TreeSet</code> which works</p>\n\n<pre><code>@OneToMany(mappedBy = \"question\", fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval=true)\n@OrderBy(\"id\")\nprivate Set&lt;WizardAnswer&gt; answers = new TreeSet&lt;WizardAnswer&gt;();\n</code></pre>\n\n<p>But, this will bring the error described at the <code>question</code> above. So it seems that <code>hibernate</code> supported <code>SortedSet</code> and if one just change the line above to</p>\n\n<pre><code>@OneToMany(mappedBy = \"question\", fetch = FetchType.EAGER, cascade = { CascadeType.ALL }, orphanRemoval=true)\n@OrderBy(\"id\")\nprivate SortedSet&lt;WizardAnswer&gt; answers;\n</code></pre>\n\n<p>it works like magic :)\nmore info on <code>hibernate SortedSet</code> can be <a href=\"https://stackoverflow.com/a/7304729/1211174\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480354829,"creation_date":1480354829,"answer_id":40850340,"question_id":5587482,"body_markdown":"The only time I get this error is when I try to pass NULL into the setter for the collection.  To prevent this, my setters look like this:\r\n\r\n    public void setSubmittedForms(Set&lt;SubmittedFormEntity&gt; submittedForms) {\r\n        if(submittedForms == null) {\r\n            this.submittedForms.clear();\r\n        }\r\n        else {\r\n            this.submittedForms = submittedForms;\r\n        }\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>The only time I get this error is when I try to pass NULL into the setter for the collection.  To prevent this, my setters look like this:</p>\n\n<pre><code>public void setSubmittedForms(Set&lt;SubmittedFormEntity&gt; submittedForms) {\n    if(submittedForms == null) {\n        this.submittedForms.clear();\n    }\n    else {\n        this.submittedForms = submittedForms;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485409508,"creation_date":1485409508,"answer_id":41867572,"question_id":5587482,"body_markdown":"Adding my dumb answer.  We&#39;re using Spring Data Rest. This was our pretty standard relationship.  The pattern was used elsewhere. \r\n\r\n\r\n    //Parent class\r\n    @OneToMany(mappedBy = &#39;parent&#39;, \r\n               cascade= CascadeType.ALL, orphanRemoval = true)\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    List&lt;Child&gt; children = new LinkedList&lt;&gt;()\r\n\r\n\r\n    //Child class\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &#39;ParentID&#39;, updatable = false)\r\n    @JsonBackReference\r\n    Parent parent\r\n\r\n\r\nWith the relationship we created, it was always intended that the children would be added through their own repo.  I had not yet added the repo.  The integration test we had was going through a complete lifecycle of the entity via REST calls so the transactions would close between requests.  No repo for the child meant the json had the children as part of the main structure instead of in `_embedded`.  Updates to the parent would then cause problems.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Adding my dumb answer.  We're using Spring Data Rest. This was our pretty standard relationship.  The pattern was used elsewhere. </p>\n\n<pre><code>//Parent class\n@OneToMany(mappedBy = 'parent', \n           cascade= CascadeType.ALL, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.FALSE)\nList&lt;Child&gt; children = new LinkedList&lt;&gt;()\n\n\n//Child class\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = 'ParentID', updatable = false)\n@JsonBackReference\nParent parent\n</code></pre>\n\n<p>With the relationship we created, it was always intended that the children would be added through their own repo.  I had not yet added the repo.  The integration test we had was going through a complete lifecycle of the entity via REST calls so the transactions would close between requests.  No repo for the child meant the json had the children as part of the main structure instead of in <code>_embedded</code>.  Updates to the parent would then cause problems.</p>\n"},{"tags":[],"owner":{"account_id":4374787,"reputation":475,"user_id":3568094,"accept_rate":60,"display_name":"priyanka_rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505213732,"creation_date":1505213732,"answer_id":46174598,"question_id":5587482,"body_markdown":"Following solution worked for me\r\n    \r\n    //Parent class\r\n    @OneToMany(mappedBy = &#39;parent&#39;, \r\n               cascade= CascadeType.ALL, orphanRemoval = true)\r\n    @OrderBy(value=&quot;ordinal ASC&quot;)\r\n    List&lt;Child&gt; children = new ArrayList&lt;&gt;()\r\n    \r\n    //Updated setter of children \r\n    public void setChildren(List&lt;Children&gt; children) {\r\n\t\tthis.children.addAll(children);\r\n\t\tfor (Children child: children)\r\n\t\t\tchild.setParent(this);\r\n    }\r\n\r\n\r\n    //Child class\r\n    @ManyToOne\r\n\t@JoinColumn(name=&quot;Parent_ID&quot;)\r\n\tprivate Parent parent;\r\n    ","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Following solution worked for me</p>\n\n<pre><code>//Parent class\n@OneToMany(mappedBy = 'parent', \n           cascade= CascadeType.ALL, orphanRemoval = true)\n@OrderBy(value=\"ordinal ASC\")\nList&lt;Child&gt; children = new ArrayList&lt;&gt;()\n\n//Updated setter of children \npublic void setChildren(List&lt;Children&gt; children) {\n    this.children.addAll(children);\n    for (Children child: children)\n        child.setParent(this);\n}\n\n\n//Child class\n@ManyToOne\n@JoinColumn(name=\"Parent_ID\")\nprivate Parent parent;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2156100,"reputation":11279,"user_id":1911306,"accept_rate":83,"display_name":"Marcin Szymczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511221161,"creation_date":1511221161,"answer_id":47402921,"question_id":5587482,"body_markdown":"Instead of assigning new collection\r\n\r\n    public void setChildren(Set&lt;ChildEntity&gt; children) {\r\n        this.children = children;\r\n    }\r\n\r\nReplace all elements with\r\n\r\n    public void setChildren(Set&lt;ChildEntity&gt; children) {\r\n        Collections.replaceAll(this.children,children);\r\n    }","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Instead of assigning new collection</p>\n\n<pre><code>public void setChildren(Set&lt;ChildEntity&gt; children) {\n    this.children = children;\n}\n</code></pre>\n\n<p>Replace all elements with</p>\n\n<pre><code>public void setChildren(Set&lt;ChildEntity&gt; children) {\n    Collections.replaceAll(this.children,children);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520239504,"creation_date":1520239504,"answer_id":49106446,"question_id":5587482,"body_markdown":"One other cause may be using lombok.\r\n\r\n`@Builder` - causes to save `Collections.emptyList()` even if you say `.myCollection(new ArrayList());`\r\n\r\n`@Singular` - ignores the class level defaults and leaves field `null` even if the class field was declared as `myCollection = new ArrayList()`\r\n\r\nMy 2 cents, just spent 2 hours with the same :)","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>One other cause may be using lombok.</p>\n\n<p><code>@Builder</code> - causes to save <code>Collections.emptyList()</code> even if you say <code>.myCollection(new ArrayList());</code></p>\n\n<p><code>@Singular</code> - ignores the class level defaults and leaves field <code>null</code> even if the class field was declared as <code>myCollection = new ArrayList()</code></p>\n\n<p>My 2 cents, just spent 2 hours with the same :)</p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532434215,"creation_date":1532434215,"answer_id":51498290,"question_id":5587482,"body_markdown":"I was getting `A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance` when I was setting `parent.setChildren(new ArrayList&lt;&gt;())`. When I changed to `parent.getChildren().clear()`, it solved the problem.\r\n\r\nCheck for more details: [HibernateException - A collection with cascade=&quot;all-delete-orphan&quot; was no longer referenced by the owning entity instance][1].\r\n\r\n\r\n\r\n\r\n  [1]: http://cristian.sulea.net/blog.php?p=2014-06-28-hibernate-exception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I was getting <code>A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance</code> when I was setting <code>parent.setChildren(new ArrayList&lt;&gt;())</code>. When I changed to <code>parent.getChildren().clear()</code>, it solved the problem.</p>\n\n<p>Check for more details: <a href=\"http://cristian.sulea.net/blog.php?p=2014-06-28-hibernate-exception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance\" rel=\"nofollow noreferrer\">HibernateException - A collection with cascade=\"all-delete-orphan\" was no longer referenced by the owning entity instance</a>.</p>\n"},{"tags":[],"owner":{"account_id":14137305,"reputation":1,"user_id":10213302,"display_name":"Di&#243;genes Ricardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534015709,"creation_date":1534015709,"answer_id":51803042,"question_id":5587482,"body_markdown":"be careful with \r\n\r\n    BeanUtils.copyProperties(newInsum, insumOld,&quot;code&quot;);\r\n\r\nThis method too break the hibernate.\r\n","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>be careful with </p>\n\n<pre><code>BeanUtils.copyProperties(newInsum, insumOld,\"code\");\n</code></pre>\n\n<p>This method too break the hibernate.</p>\n"},{"tags":[],"owner":{"account_id":11025162,"reputation":995,"user_id":8098293,"display_name":"luwojtaszek"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541418962,"creation_date":1540821764,"answer_id":53047205,"question_id":5587482,"body_markdown":"I used @user2709454 approach with small improvement.\r\n\r\n\tpublic class User {\r\n\t\tprivate Set&lt;Role&gt; roles;\r\n\t\r\n\t\tpublic void setRoles(Set&lt;Role&gt; roles) {\r\n\t  \t\tif (this.roles == null) {\r\n\t    \t\tthis.roles = roles;\r\n\t  \t\t} else if(this.roles != roles) { // not the same instance, in other case we can get ConcurrentModificationException from hibernate AbstractPersistentCollection\r\n\t    \t\tthis.roles.clear();\r\n\t    \t\tif(roles != null){\r\n\t    \t\t\tthis.roles.addAll(roles);\r\n\t    \t\t}\r\n\t  \t\t}\r\n\t\t}\r\n\t}","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I used @user2709454 approach with small improvement.</p>\n\n<pre><code>public class User {\n    private Set&lt;Role&gt; roles;\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        if (this.roles == null) {\n            this.roles = roles;\n        } else if(this.roles != roles) { // not the same instance, in other case we can get ConcurrentModificationException from hibernate AbstractPersistentCollection\n            this.roles.clear();\n            if(roles != null){\n                this.roles.addAll(roles);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6007898,"reputation":309,"user_id":4719208,"display_name":"Sofia Paix&#227;o"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545409559,"creation_date":1545409559,"answer_id":53887999,"question_id":5587482,"body_markdown":"I am using Spring Boot and had this issue with a collection, in spite of not directly overwriting it, because I am declaring an extra field for the same collection with a [custom serializer and deserializer][1] in order to provide a more frontend-friendly representation of the data:\r\n\r\n      public List&lt;Attribute&gt; getAttributes() {\r\n        return attributes;\r\n      }\r\n    \r\n      public void setAttributes(List&lt;Attribute&gt; attributes) {\r\n        this.attributes = attributes;\r\n      }\r\n    \r\n      @JsonSerialize(using = AttributeSerializer.class)\r\n      public List&lt;Attribute&gt; getAttributesList() {\r\n        return attributes;\r\n      }\r\n    \r\n      @JsonDeserialize(using = AttributeDeserializer.class)\r\n      public void setAttributesList(List&lt;Attribute&gt; attributes) {\r\n        this.attributes = attributes;\r\n      }\r\n\r\nIt seems that even though I am not overwriting the collection *myself*, the deserialization does it under the hood, triggering this issue all the same. The solution was to change the setter associated with the deserializer so that it would clear the list and add everything, rather than overwrite it:\r\n\r\n      @JsonDeserialize(using = AttributeDeserializer.class)\r\n      public void setAttributesList(List&lt;Attribute&gt; attributes) {\r\n        this.attributes.clear();\r\n        this.attributes.addAll(attributes);\r\n      }\r\n\r\n  [1]: https://stackoverflow.com/questions/40490867/use-jsonserializeusing-myserializer-class-on-a-onetomany-setobject/53443062#53443062","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I am using Spring Boot and had this issue with a collection, in spite of not directly overwriting it, because I am declaring an extra field for the same collection with a <a href=\"https://stackoverflow.com/questions/40490867/use-jsonserializeusing-myserializer-class-on-a-onetomany-setobject/53443062#53443062\">custom serializer and deserializer</a> in order to provide a more frontend-friendly representation of the data:</p>\n\n<pre><code>  public List&lt;Attribute&gt; getAttributes() {\n    return attributes;\n  }\n\n  public void setAttributes(List&lt;Attribute&gt; attributes) {\n    this.attributes = attributes;\n  }\n\n  @JsonSerialize(using = AttributeSerializer.class)\n  public List&lt;Attribute&gt; getAttributesList() {\n    return attributes;\n  }\n\n  @JsonDeserialize(using = AttributeDeserializer.class)\n  public void setAttributesList(List&lt;Attribute&gt; attributes) {\n    this.attributes = attributes;\n  }\n</code></pre>\n\n<p>It seems that even though I am not overwriting the collection <em>myself</em>, the deserialization does it under the hood, triggering this issue all the same. The solution was to change the setter associated with the deserializer so that it would clear the list and add everything, rather than overwrite it:</p>\n\n<pre><code>  @JsonDeserialize(using = AttributeDeserializer.class)\n  public void setAttributesList(List&lt;Attribute&gt; attributes) {\n    this.attributes.clear();\n    this.attributes.addAll(attributes);\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2035968,"reputation":400,"user_id":1818311,"display_name":"Matthias"},"score":1,"creation_date":1631673194,"post_id":54424205,"comment_id":122283292,"body_markdown":"still happens using 5.5.7.Final\nproblem occurs when entity to merge is deserialized from a web session, e.g. when merging changes from an jsf front end to the backing service where the merge should take place\nsetting enableLazyInitialization to false solves this error but with the downside to not be able to use the LazyInitialization feature as well which is kind of annoying","body":"still happens using 5.5.7.Final problem occurs when entity to merge is deserialized from a web session, e.g. when merging changes from an jsf front end to the backing service where the merge should take place setting enableLazyInitialization to false solves this error but with the downside to not be able to use the LazyInitialization feature as well which is kind of annoying"}],"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548775559,"creation_date":1548775089,"answer_id":54424205,"question_id":5587482,"body_markdown":"It might be caused by `hibernate-enhance-maven-plugin`. When I enabled `enableLazyInitialization` property this exception started on happening on my lazy collection. I&#39;m using hibernate 5.2.17.Final.\r\n\r\nNote this two hibernate issues:\r\n\r\n - https://hibernate.atlassian.net/browse/HHH-10708\r\n - https://hibernate.atlassian.net/browse/HHH-11459","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>It might be caused by <code>hibernate-enhance-maven-plugin</code>. When I enabled <code>enableLazyInitialization</code> property this exception started on happening on my lazy collection. I'm using hibernate 5.2.17.Final.</p>\n\n<p>Note this two hibernate issues:</p>\n\n<ul>\n<li><a href=\"https://hibernate.atlassian.net/browse/HHH-10708\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-10708</a></li>\n<li><a href=\"https://hibernate.atlassian.net/browse/HHH-11459\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-11459</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7332956,"reputation":101,"user_id":5585253,"display_name":"Neha Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583171785,"creation_date":1549968514,"answer_id":54648340,"question_id":5587482,"body_markdown":"    @OneToMany(mappedBy = &#39;parent&#39;, cascade= CascadeType.ALL, orphanRemoval = true)\r\n    List&lt;Child&gt; children = new ArrayList&lt;&gt;();\r\n\r\nI experienced the same error when I was adding child object to the existing list of Child Objects.\r\n\r\n    childService.saveOrUpdate(child);\r\n    parent.addToChildren(child);\r\n    parentService.saveOrUpdate(parent);\r\n\r\nWhat resolved my problem is changing to:\r\n\r\n    child = childService.saveOrUpdate(child);\r\n\r\nNow the child is revive with other details as well and it worked fine.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<pre><code>@OneToMany(mappedBy = 'parent', cascade= CascadeType.ALL, orphanRemoval = true)\nList&lt;Child&gt; children = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>I experienced the same error when I was adding child object to the existing list of Child Objects.</p>\n\n<pre><code>childService.saveOrUpdate(child);\nparent.addToChildren(child);\nparentService.saveOrUpdate(parent);\n</code></pre>\n\n<p>What resolved my problem is changing to:</p>\n\n<pre><code>child = childService.saveOrUpdate(child);\n</code></pre>\n\n<p>Now the child is revive with other details as well and it worked fine.</p>\n"},{"comments":[{"owner":{"account_id":2465474,"reputation":1361,"user_id":2148681,"display_name":"razvanone"},"score":0,"creation_date":1613167555,"post_id":55641794,"comment_id":117002541,"body_markdown":"The @Transactional annotation on test methods means that the database context will be rolled back at the end of the test method, regardless of its outcome.","body":"The @Transactional annotation on test methods means that the database context will be rolled back at the end of the test method, regardless of its outcome."}],"tags":[],"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555020139,"creation_date":1555020139,"answer_id":55641794,"question_id":5587482,"body_markdown":"Mine was completely different with Spring Boot! \r\nFor me it was not due to setting collection property.\r\n\r\nIn my tests I was trying to create an entity and was getting this error for another collection that was unused!\r\n\r\nAfter so much trying I just added a `@Transactional` on the test method and it solved it. Don&#39;t no the reason though.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Mine was completely different with Spring Boot! \nFor me it was not due to setting collection property.</p>\n\n<p>In my tests I was trying to create an entity and was getting this error for another collection that was unused!</p>\n\n<p>After so much trying I just added a <code>@Transactional</code> on the test method and it solved it. Don't no the reason though.</p>\n"},{"tags":[],"owner":{"account_id":12248442,"reputation":125,"user_id":8939496,"accept_rate":25,"display_name":"co ting"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1556143056,"creation_date":1556143056,"answer_id":55839145,"question_id":5587482,"body_markdown":"I ran into this when updating an entity with a JSON post request.\r\nThe error occurred when I updated the entity without data about the children, even when there were none. \r\nAdding\r\n\r\n    &quot;children&quot;: [],\r\n\r\nto the request body solved the problem.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I ran into this when updating an entity with a JSON post request.\nThe error occurred when I updated the entity without data about the children, even when there were none. \nAdding</p>\n\n<pre><code>\"children\": [],\n</code></pre>\n\n<p>to the request body solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":15982537,"reputation":51,"user_id":11533889,"display_name":"Dario Gaston"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612356991,"creation_date":1576279111,"answer_id":59330946,"question_id":5587482,"body_markdown":"I had the same issue, but it was when the set was null. Only in the Set collection, in List work fine. You can try to the hibernate annotation `@LazyCollection(LazyCollectionOption.FALSE)` instead of JPA annotation `fetch = FetchType.EAGER.` \r\n\r\n**My solution:\r\nThis is my configuration and work fine**\r\n\r\n    @OneToMany(mappedBy = &quot;format&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    private Set&lt;Barcode&gt; barcodes;\r\n\r\n    @OneToMany(mappedBy = &quot;format&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    private List&lt;FormatAdditional&gt; additionals;","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I had the same issue, but it was when the set was null. Only in the Set collection, in List work fine. You can try to the hibernate annotation <code>@LazyCollection(LazyCollectionOption.FALSE)</code> instead of JPA annotation <code>fetch = FetchType.EAGER.</code></p>\n<p><strong>My solution:\nThis is my configuration and work fine</strong></p>\n<pre><code>@OneToMany(mappedBy = &quot;format&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate Set&lt;Barcode&gt; barcodes;\n\n@OneToMany(mappedBy = &quot;format&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.FALSE)\nprivate List&lt;FormatAdditional&gt; additionals;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392041,"reputation":61,"user_id":2091711,"display_name":"ligett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578154456,"creation_date":1578154456,"answer_id":59592511,"question_id":5587482,"body_markdown":"This is in contrast to the previous answers, I had exactly the same error: &quot;A collection with cascade=”all-delete-orphan” was no longer referenced....&quot; when my setter function looked like this:\r\n\r\n\tpublic void setTaxCalculationRules(Set&lt;TaxCalculationRule&gt; taxCalculationRules_) {\r\n\t\tif( this.taxCalculationRules == null ) {\r\n\t\t\tthis.taxCalculationRules = taxCalculationRules_;\r\n\t\t} else {\r\n\t\t\tthis.taxCalculationRules.retainAll(taxCalculationRules_);\r\n\t\t\tthis.taxCalculationRules.addAll(taxCalculationRules_);\r\n\t\t}\r\n\t}\r\n\r\nAnd then it disappeared when I changed it to the simple version:\r\n\r\n\tpublic void setTaxCalculationRules(Set&lt;TaxCalculationRule&gt; taxCalculationRules_) {\r\n\t\tthis.taxCalculationRules = taxCalculationRules_;\r\n\t}\r\n(hibernate versions - tried both 5.4.10 and 4.3.11. Spent several days trying all sorts of solutions before coming back to the simple assignment in the setter. Confused now as to why this so.)","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>This is in contrast to the previous answers, I had exactly the same error: \"A collection with cascade=”all-delete-orphan” was no longer referenced....\" when my setter function looked like this:</p>\n\n<pre><code>public void setTaxCalculationRules(Set&lt;TaxCalculationRule&gt; taxCalculationRules_) {\n    if( this.taxCalculationRules == null ) {\n        this.taxCalculationRules = taxCalculationRules_;\n    } else {\n        this.taxCalculationRules.retainAll(taxCalculationRules_);\n        this.taxCalculationRules.addAll(taxCalculationRules_);\n    }\n}\n</code></pre>\n\n<p>And then it disappeared when I changed it to the simple version:</p>\n\n<pre><code>public void setTaxCalculationRules(Set&lt;TaxCalculationRule&gt; taxCalculationRules_) {\n    this.taxCalculationRules = taxCalculationRules_;\n}\n</code></pre>\n\n<p>(hibernate versions - tried both 5.4.10 and 4.3.11. Spent several days trying all sorts of solutions before coming back to the simple assignment in the setter. Confused now as to why this so.)</p>\n"},{"tags":[],"owner":{"account_id":8087580,"reputation":79,"user_id":6094649,"display_name":"Andrii Bobrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593507713,"creation_date":1593507407,"answer_id":62653787,"question_id":5587482,"body_markdown":"In my case it was concurrent access to one Hibernate Session from several threads.\r\nI had the Spring Boot Batch and **RepositoryItemReader** implementation where I fetched entities by page request with size 10. \r\n\r\nFor example my entities are: \r\n\r\n    @Entity\r\n    class JobEntity {\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private GroupEntity group;\r\n    }\r\n    \r\n    @Entity\r\n    class GroupEntity {\r\n        @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\r\n        private Set&lt;Config&gt; configs; \r\n    }\r\n\r\nBatch process: `reader -&gt; processor -&gt; writer` in one transaction.\r\n\r\nIn that entities configuration, GroupEntity can escapes to other threads:\r\n\r\nFirst thread that entered to read section fetches the page of JobEntity with size 10 (RepositoryItemReader#doRead), this items contain one shared GroupEntity object (because all of them pointed to the same group id). Then it takes the first entity. Next threads that come to read section take JobEntity from this page one by one, until this page will be exhausted. \r\n\r\nSo now threads have access to the same GroupEntity instance thought the JobEntity instances, that is **unsafe multi thread access to the one Hibernate Session**.\r\n\r\n\r\n","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>In my case it was concurrent access to one Hibernate Session from several threads.\nI had the Spring Boot Batch and <strong>RepositoryItemReader</strong> implementation where I fetched entities by page request with size 10.</p>\n<p>For example my entities are:</p>\n<pre><code>@Entity\nclass JobEntity {\n    @ManyToOne(fetch = FetchType.LAZY)\n    private GroupEntity group;\n}\n\n@Entity\nclass GroupEntity {\n    @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;Config&gt; configs; \n}\n</code></pre>\n<p>Batch process: <code>reader -&gt; processor -&gt; writer</code> in one transaction.</p>\n<p>In that entities configuration, GroupEntity can escapes to other threads:</p>\n<p>First thread that entered to read section fetches the page of JobEntity with size 10 (RepositoryItemReader#doRead), this items contain one shared GroupEntity object (because all of them pointed to the same group id). Then it takes the first entity. Next threads that come to read section take JobEntity from this page one by one, until this page will be exhausted.</p>\n<p>So now threads have access to the same GroupEntity instance thought the JobEntity instances, that is <strong>unsafe multi thread access to the one Hibernate Session</strong>.</p>\n"},{"comments":[{"owner":{"account_id":9115588,"reputation":774,"user_id":6782822,"display_name":"Tejal"},"score":1,"creation_date":1644430342,"post_id":64369070,"comment_id":125607109,"body_markdown":"Hi @IonicMan now I am not getting above error after removing orphanRemoaval but I am getting new error mentioned below . \n object references an unsaved transient instance - save the transient instance before flushing","body":"Hi @IonicMan now I am not getting above error after removing orphanRemoaval but I am getting new error mentioned below .   object references an unsaved transient instance - save the transient instance before flushing"},{"owner":{"account_id":19526213,"reputation":783,"user_id":14287016,"display_name":"IonicMan"},"score":0,"creation_date":1644439129,"post_id":64369070,"comment_id":125610310,"body_markdown":"@Tejal amazing, glad I could help","body":"@Tejal amazing, glad I could help"},{"owner":{"account_id":1192298,"reputation":2149,"user_id":1512168,"accept_rate":96,"display_name":"Mario B"},"score":0,"creation_date":1693479118,"post_id":64369070,"comment_id":135767905,"body_markdown":"Yeah, but now you have a completely different behavior. If you remove the annotation, orphans will no longer be removed. That means that you will have EntityC-entries in the database that now have NULL reference (to EntityB) - This is rarely what you want when C really is dependend on B...","body":"Yeah, but now you have a completely different behavior. If you remove the annotation, orphans will no longer be removed. That means that you will have EntityC-entries in the database that now have NULL reference (to EntityB) - This is rarely what you want when C really is dependend on B..."},{"owner":{"account_id":19526213,"reputation":783,"user_id":14287016,"display_name":"IonicMan"},"score":0,"creation_date":1693481937,"post_id":64369070,"comment_id":135768505,"body_markdown":"@MarioB we will all die anyway, so who cares","body":"@MarioB we will all die anyway, so who cares"},{"owner":{"account_id":1192298,"reputation":2149,"user_id":1512168,"accept_rate":96,"display_name":"Mario B"},"score":0,"creation_date":1693569272,"post_id":64369070,"comment_id":135781878,"body_markdown":"Interesting attitude. I guess if you don&#39;t care about null entries it does not matter.\nStill it would be nice to make people aware of the drawbacks of this solution - this seems like dangerous advice for many use cases","body":"Interesting attitude. I guess if you don&#39;t care about null entries it does not matter. Still it would be nice to make people aware of the drawbacks of this solution - this seems like dangerous advice for many use cases"},{"owner":{"account_id":19526213,"reputation":783,"user_id":14287016,"display_name":"IonicMan"},"score":0,"creation_date":1693749872,"post_id":64369070,"comment_id":135798764,"body_markdown":"@MarioB Challenges make us stronger and we all decide individually how to deal best with life. In my opinion it is best to deal with it playfully and realize that we are actors on a stage. The show will end and new actors will enter the stage. So it helps to loosen up. That will also lead to better solutions with more creativity. That is my advice for the reader of this comment.","body":"@MarioB Challenges make us stronger and we all decide individually how to deal best with life. In my opinion it is best to deal with it playfully and realize that we are actors on a stage. The show will end and new actors will enter the stage. So it helps to loosen up. That will also lead to better solutions with more creativity. That is my advice for the reader of this comment."}],"tags":[],"owner":{"account_id":19526213,"reputation":783,"user_id":14287016,"display_name":"IonicMan"},"comment_count":6,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1602755690,"creation_date":1602755690,"answer_id":64369070,"question_id":5587482,"body_markdown":"All those answers didnt help me, BUT I found another solution.\r\n\r\nI had an Entity A containing a List of Entity B. Entity B contained a List of Entity C.\r\n\r\nI was trying to update Entity A and B. It worked. But when updating Entity C, I got the mentioned error. In entity B I had an annotation like this:\r\n\r\n    @OneToMany(mappedBy = &quot;entity_b&quot;, cascade = [CascadeType.ALL] , orphanRemoval = true)\r\n    var c: List&lt;EntityC&gt;?,\r\n\r\nI simply removed `orphanRemoval` and the update worked.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>All those answers didnt help me, BUT I found another solution.</p>\n<p>I had an Entity A containing a List of Entity B. Entity B contained a List of Entity C.</p>\n<p>I was trying to update Entity A and B. It worked. But when updating Entity C, I got the mentioned error. In entity B I had an annotation like this:</p>\n<pre><code>@OneToMany(mappedBy = &quot;entity_b&quot;, cascade = [CascadeType.ALL] , orphanRemoval = true)\nvar c: List&lt;EntityC&gt;?,\n</code></pre>\n<p>I simply removed <code>orphanRemoval</code> and the update worked.</p>\n"},{"comments":[{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":0,"creation_date":1611844098,"post_id":64995550,"comment_id":116585389,"body_markdown":"collection is initialized with an empty collection works for me","body":"collection is initialized with an empty collection works for me"}],"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607818433,"creation_date":1606255532,"answer_id":64995550,"question_id":5587482,"body_markdown":"There is this bug which looks suspiciously similar: https://hibernate.atlassian.net/browse/HHH-9940.\r\n\r\nAnd the code to reproduce it: https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test\r\n\r\nThere are 2 possible fixes to this:\r\n\r\n* the collection is initialized with an empty collection (instead of null)\r\n\r\n* orphanRemoval is set to false\r\n\r\n\r\nExample - was:\r\n\r\n    @OneToMany(cascade = CascadeType.REMOVE,\r\n            mappedBy = &quot;jobEntity&quot;, orphanRemoval = true)\r\n    private List&lt;JobExecutionEntity&gt; jobExecutionEntities;\r\n\r\nbecame:\r\n\r\n    @OneToMany(cascade = CascadeType.REMOVE,\r\n            mappedBy = &quot;jobEntity&quot;)\r\n    private List&lt;JobExecutionEntity&gt; jobExecutionEntities;","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>There is this bug which looks suspiciously similar: <a href=\"https://hibernate.atlassian.net/browse/HHH-9940\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-9940</a>.</p>\n<p>And the code to reproduce it: <a href=\"https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test\" rel=\"nofollow noreferrer\">https://github.com/abenneke/sandbox/tree/master/hibernate-null-collection/src/test</a></p>\n<p>There are 2 possible fixes to this:</p>\n<ul>\n<li><p>the collection is initialized with an empty collection (instead of null)</p>\n</li>\n<li><p>orphanRemoval is set to false</p>\n</li>\n</ul>\n<p>Example - was:</p>\n<pre><code>@OneToMany(cascade = CascadeType.REMOVE,\n        mappedBy = &quot;jobEntity&quot;, orphanRemoval = true)\nprivate List&lt;JobExecutionEntity&gt; jobExecutionEntities;\n</code></pre>\n<p>became:</p>\n<pre><code>@OneToMany(cascade = CascadeType.REMOVE,\n        mappedBy = &quot;jobEntity&quot;)\nprivate List&lt;JobExecutionEntity&gt; jobExecutionEntities;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2465474,"reputation":1361,"user_id":2148681,"display_name":"razvanone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613169351,"creation_date":1608108932,"answer_id":65320082,"question_id":5587482,"body_markdown":"Had this issue with spring-boot 2.4.1 when running the tests in bulk from [Intellij Idea] version 2020.3. The issue doesn&#39;t appear when running only one test at a time from IntelliJ or when running the tests from command line.\r\n\r\n&lt;strike&gt;Maybe Intellij caching problem?&lt;/strike&gt;\r\n\r\n_Follow up:_\r\n\r\n_The problem appears when running tests using the maven-surefire-plugin reuseForks true. Using reuseForks false would provide a quick fix, but the tests running time will increase dramatically. Because we are reusing forks, the database context might become dirty due to other tests that are run - without cleaning the database context afterwards. The obvious solution would be to clean the database context before running a test, but the best one should be to clean up the database context **after** each test (solving the root cause of the original problem). Using the @Transactional annotation on your test methods will guarantee that your database changes are rolled back at the end of the test methods. See the Spring documentation on transactions: [https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx][1]._\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Had this issue with spring-boot 2.4.1 when running the tests in bulk from [Intellij Idea] version 2020.3. The issue doesn't appear when running only one test at a time from IntelliJ or when running the tests from command line.</p>\n<p><strike>Maybe Intellij caching problem?</strike></p>\n<p><em>Follow up:</em></p>\n<p><em>The problem appears when running tests using the maven-surefire-plugin reuseForks true. Using reuseForks false would provide a quick fix, but the tests running time will increase dramatically. Because we are reusing forks, the database context might become dirty due to other tests that are run - without cleaning the database context afterwards. The obvious solution would be to clean the database context before running a test, but the best one should be to clean up the database context <strong>after</strong> each test (solving the root cause of the original problem). Using the @Transactional annotation on your test methods will guarantee that your database changes are rolled back at the end of the test methods. See the Spring documentation on transactions: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testcontext-tx</a>.</em></p>\n"},{"comments":[{"owner":{"account_id":310932,"reputation":160,"user_id":5098296,"display_name":"KPK"},"score":1,"creation_date":1650401807,"post_id":66546554,"comment_id":127105857,"body_markdown":"Worked for me....thanks.","body":"Worked for me....thanks."},{"owner":{"account_id":4060289,"reputation":891,"user_id":3337028,"accept_rate":67,"display_name":"Nikhil"},"score":0,"creation_date":1669210863,"post_id":66546554,"comment_id":131592603,"body_markdown":"Alongwith the above code, I also had to modify repository from CrudRepository to JpaRepository and user saveAndFlush() calls. One after removing all and one after adding new ones.","body":"Alongwith the above code, I also had to modify repository from CrudRepository to JpaRepository and user saveAndFlush() calls. One after removing all and one after adding new ones."}],"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1615291486,"creation_date":1615291486,"answer_id":66546554,"question_id":5587482,"body_markdown":"I fixed by doing this :\r\n\r\n**1. clear existing children list so that they are removed from database**\r\n\r\n    parent.getChildren().clear();\r\n\r\n**2. add the new children list created above to the existing list**\r\n\r\n    parent.getChildren().addAll(children);\r\n\r\n***Hope this post will help you to resolve the error***","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I fixed by doing this :</p>\n<p><strong>1. clear existing children list so that they are removed from database</strong></p>\n<pre><code>parent.getChildren().clear();\n</code></pre>\n<p><strong>2. add the new children list created above to the existing list</strong></p>\n<pre><code>parent.getChildren().addAll(children);\n</code></pre>\n<p><em><strong>Hope this post will help you to resolve the error</strong></em></p>\n"},{"tags":[],"owner":{"account_id":14326729,"reputation":447,"user_id":10353697,"display_name":"Himanshu Suthar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635526959,"creation_date":1635526959,"answer_id":69772477,"question_id":5587482,"body_markdown":"I face a similar issue where I was using these annotations in my parent entity :\r\n\r\n    @Cascade({ CascadeType.ALL, CascadeType.DELETE_ORPHAN })\r\n\r\nMistakenly, I was trying to save a null parent object in database and properly setting values to my entity object resolved my error. So, do check if you are silly setting wrong values or trying to save a null object in database.","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I face a similar issue where I was using these annotations in my parent entity :</p>\n<pre><code>@Cascade({ CascadeType.ALL, CascadeType.DELETE_ORPHAN })\n</code></pre>\n<p>Mistakenly, I was trying to save a null parent object in database and properly setting values to my entity object resolved my error. So, do check if you are silly setting wrong values or trying to save a null object in database.</p>\n"},{"comments":[{"owner":{"account_id":6292030,"reputation":450,"user_id":4889363,"accept_rate":0,"display_name":"Asdf11"},"score":0,"creation_date":1693482506,"post_id":70337501,"comment_id":135768627,"body_markdown":"Funny, for me it was the opposite. There was an existing initialization, which I removed and then it worked. Using Quarkus 2.13.1","body":"Funny, for me it was the opposite. There was an existing initialization, which I removed and then it worked. Using Quarkus 2.13.1"}],"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639411257,"creation_date":1639411257,"answer_id":70337501,"question_id":5587482,"body_markdown":"As of 2021 and Spring Boot 2.5, it helped me to initialize the field right away when declaring it:\r\n\r\n    @OneToMany(mappedBy=&quot;target&quot;,fetch= FetchType.EAGER,cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;TargetEntity&gt; targets = new ArrayList&lt;&gt;();","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>As of 2021 and Spring Boot 2.5, it helped me to initialize the field right away when declaring it:</p>\n<pre><code>@OneToMany(mappedBy=&quot;target&quot;,fetch= FetchType.EAGER,cascade = CascadeType.ALL, orphanRemoval = true)\nprivate List&lt;TargetEntity&gt; targets = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24362209,"reputation":1,"user_id":18296396,"display_name":"Amalan T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645685008,"creation_date":1645685008,"answer_id":71248085,"question_id":5587482,"body_markdown":"Issue is solved when we make the child as **final**..\r\n\r\nwe should not change the reference of the child in constructor as well as setter.\r\n\r\n","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>Issue is solved when we make the child as <strong>final</strong>..</p>\n<p>we should not change the reference of the child in constructor as well as setter.</p>\n"},{"comments":[{"owner":{"account_id":5164377,"reputation":410,"user_id":4134934,"accept_rate":83,"display_name":"Markus Rohlof"},"score":0,"creation_date":1686327668,"post_id":72273341,"comment_id":134788533,"body_markdown":"But what if I don&#39;t use orphanRemoval just for funsies but because it adds functionality I need? Just deleting randoms parts of your code is not how you solve problems...","body":"But what if I don&#39;t use orphanRemoval just for funsies but because it adds functionality I need? Just deleting randoms parts of your code is not how you solve problems..."}],"tags":[],"owner":{"account_id":19527378,"reputation":11,"user_id":14287937,"display_name":"Yuksel-Can-Ozdemir"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652787317,"creation_date":1652787317,"answer_id":72273341,"question_id":5587482,"body_markdown":"`@OneToMany(mappedBy = &quot;entity_b&quot;, cascade = [CascadeType.ALL] , orphanRemoval = true)`\r\n\r\nI was encountering the same error. It worked when I deleted the ;&quot;orphanRemoval = true&quot; part in the above structure","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p><code>@OneToMany(mappedBy = &quot;entity_b&quot;, cascade = [CascadeType.ALL] , orphanRemoval = true)</code></p>\n<p>I was encountering the same error. It worked when I deleted the ;&quot;orphanRemoval = true&quot; part in the above structure</p>\n"},{"tags":[],"owner":{"account_id":300520,"reputation":17836,"user_id":607701,"accept_rate":78,"display_name":"David Peden"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674585237,"creation_date":1674585237,"answer_id":75225814,"question_id":5587482,"body_markdown":"I recently ran into this issue when refactoring some code. The original (**and correct**) code looked like this:\r\n\r\n```csharp\r\npublic virtual IEnumerable&lt;SubscriptionPurchase&gt; Purchases =&gt; _purchases;\r\npublic virtual SubscriptionPurchase MostRecentPurchase =&gt; _purchases.OrderByDescending(p =&gt; p.PurchaseDateUtc).FirstOrDefault();\r\n```\r\n\r\nI tried changing the code by moving the `.OrderByDescending` to the `.Purchases` property. This change **broke the code** and caused the referenced error in the OP:\r\n\r\n```csharp\r\npublic virtual IEnumerable&lt;SubscriptionPurchase&gt; Purchases =&gt; _purchases.OrderByDescending(p =&gt; p.PurchaseDateUtc);\r\npublic virtual SubscriptionPurchase MostRecentPurchase =&gt; Purchases.FirstOrDefault();\r\n```\r\n\r\nThe error did not manifest until attempting to save the parent object that contained the `.Purchases` property.\r\n\r\nAs noted in other answers to this question, **the problem occurs because the collection is being reset** (in my case on every single access to `.Purchases`).","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I recently ran into this issue when refactoring some code. The original (<strong>and correct</strong>) code looked like this:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public virtual IEnumerable&lt;SubscriptionPurchase&gt; Purchases =&gt; _purchases;\npublic virtual SubscriptionPurchase MostRecentPurchase =&gt; _purchases.OrderByDescending(p =&gt; p.PurchaseDateUtc).FirstOrDefault();\n</code></pre>\n<p>I tried changing the code by moving the <code>.OrderByDescending</code> to the <code>.Purchases</code> property. This change <strong>broke the code</strong> and caused the referenced error in the OP:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public virtual IEnumerable&lt;SubscriptionPurchase&gt; Purchases =&gt; _purchases.OrderByDescending(p =&gt; p.PurchaseDateUtc);\npublic virtual SubscriptionPurchase MostRecentPurchase =&gt; Purchases.FirstOrDefault();\n</code></pre>\n<p>The error did not manifest until attempting to save the parent object that contained the <code>.Purchases</code> property.</p>\n<p>As noted in other answers to this question, <strong>the problem occurs because the collection is being reset</strong> (in my case on every single access to <code>.Purchases</code>).</p>\n"},{"tags":[],"owner":{"account_id":21131266,"reputation":41,"user_id":15535551,"display_name":"khanhbq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689588473,"creation_date":1689588473,"answer_id":76703401,"question_id":5587482,"body_markdown":"For me i had this association in my entity\r\n\r\n    @OneToMany(mappedBy = &quot;course&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Schedule&gt; schedules = new HashSet&lt;&gt;();\r\n\r\nAnd my update function \r\n\r\n    @̶T̶r̶a̶n̶s̶a̶c̶t̶i̶o̶n̶a̶l\r\n    public void updateCourseSchedule(Course course, Set&lt;Schedule&gt; schedules) {\r\n        course.setSchedules(schedules);\r\n        courseRepo.save(course);\r\n    }\r\n\r\nWhen i remove the **@Transactional** annotation, it works","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>For me i had this association in my entity</p>\n<pre><code>@OneToMany(mappedBy = &quot;course&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;Schedule&gt; schedules = new HashSet&lt;&gt;();\n</code></pre>\n<p>And my update function</p>\n<pre><code>@̶T̶r̶a̶n̶s̶a̶c̶t̶i̶o̶n̶a̶l\npublic void updateCourseSchedule(Course course, Set&lt;Schedule&gt; schedules) {\n    course.setSchedules(schedules);\n    courseRepo.save(course);\n}\n</code></pre>\n<p>When i remove the <strong>@Transactional</strong> annotation, it works</p>\n"}],"owner":{"account_id":276593,"reputation":14134,"user_id":570120,"accept_rate":90,"display_name":"axcdnt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368218,"favorite_count":0,"down_vote_count":0,"up_vote_count":365,"accepted_answer_id":5624496,"answer_count":33,"score":365,"last_activity_date":1689588473,"creation_date":1302209414,"question_id":5587482,"body_markdown":"I&#39;m having the following issue when trying to update my entity:\r\n\r\n    &quot;A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance&quot;.\r\n\r\nI have a parent entity and it has a `Set&lt;...&gt;` of some children entities. When I try to update it, I get all the references to be set to this collections and set it.\r\n\r\nThe following code represents my mapping:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @OneToMany(mappedBy = &quot;parentEntity&quot;, fetch = FetchType.EAGER)\r\n    @Cascade({ CascadeType.ALL, CascadeType.DELETE_ORPHAN })\r\n    public Set&lt;ChildEntity&gt; getChildren() {\r\n        return this.children;\r\n    }\r\n\r\nI&#39;ve tried to clean the Set&lt;..&gt; only, according to this: [How to &quot;possible&quot; solve the problem][1] but it didn&#39;t work.\r\n\r\n If you have any ideas, please let me know.\r\n\r\n Thanks!\r\n\r\n\r\n  [1]: http://www.onkarjoshi.com/blog/188/hibernateexception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance/comment-page-1/#comment-9994","title":"Hibernate - A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance","body":"<p>I'm having the following issue when trying to update my entity:</p>\n\n<pre><code>\"A collection with cascade=”all-delete-orphan” was no longer referenced by the owning entity instance\".\n</code></pre>\n\n<p>I have a parent entity and it has a <code>Set&lt;...&gt;</code> of some children entities. When I try to update it, I get all the references to be set to this collections and set it.</p>\n\n<p>The following code represents my mapping:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = \"parentEntity\", fetch = FetchType.EAGER)\n@Cascade({ CascadeType.ALL, CascadeType.DELETE_ORPHAN })\npublic Set&lt;ChildEntity&gt; getChildren() {\n    return this.children;\n}\n</code></pre>\n\n<p>I've tried to clean the Set&lt;..> only, according to this: <a href=\"http://www.onkarjoshi.com/blog/188/hibernateexception-a-collection-with-cascade-all-delete-orphan-was-no-longer-referenced-by-the-owning-entity-instance/comment-page-1/#comment-9994\" rel=\"noreferrer\">How to \"possible\" solve the problem</a> but it didn't work.</p>\n\n<p>If you have any ideas, please let me know.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","jakarta-mail","imap"],"answers":[{"comments":[{"owner":{"account_id":10161194,"reputation":158,"user_id":7653576,"accept_rate":100,"display_name":"Lone Wanderer"},"score":0,"creation_date":1689578072,"post_id":76702156,"comment_id":135227579,"body_markdown":"I tried this, but the result remains the same, I still get &quot;empty&quot; IMAPTaggedResponse that causes exceptions. What is odd is that javamail attempts to authenticate even tough it should have been authenticated using the session","body":"I tried this, but the result remains the same, I still get &quot;empty&quot; IMAPTaggedResponse that causes exceptions. What is odd is that javamail attempts to authenticate even tough it should have been authenticated using the session"}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689577619,"creation_date":1689577619,"answer_id":76702156,"question_id":76702082,"body_markdown":"You need to authenticate when you&#39;re getting the session.\r\n\r\nExample:\r\n\r\n      Session emailSession = Session.getInstance(properties,\r\n         new Authenticator() {\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n               return new PasswordAuthentication(\r\n                  &quot;&lt;username&gt;&quot;, &quot;&lt;password&gt;&quot;);\r\n            }\r\n         });\r\n","title":"Connecting to IMAPS MIcrosoft Exchange server fails with Cannot invoke &quot;String.equals(Object)&quot; because &quot;this.status&quot; is null","body":"<p>You need to authenticate when you're getting the session.</p>\n<p>Example:</p>\n<pre><code>  Session emailSession = Session.getInstance(properties,\n     new Authenticator() {\n        protected PasswordAuthentication getPasswordAuthentication() {\n           return new PasswordAuthentication(\n              &quot;&lt;username&gt;&quot;, &quot;&lt;password&gt;&quot;);\n        }\n     });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10161194,"reputation":158,"user_id":7653576,"accept_rate":100,"display_name":"Lone Wanderer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689588262,"creation_date":1689582502,"answer_id":76702674,"question_id":76702082,"body_markdown":"I figured it out. I used a dependency that itself imported these 2 things: \r\n\r\n       &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n       &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n\r\n       &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\r\n       &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n\r\nThat lead to a situation, where during runtime, incorrect library was used. When running `mvn dependency:tree` it became obvious which dependencies are responsible for this. \r\n\r\naftr that, it was a matter of removing them with \r\n\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n\r\nNote, that I ended up not using base64 for credentials, i still use imaps instead of imap for properties (even tough most examples on stackoverflow and javadoc state imap) and I use full email as username. ","title":"Connecting to IMAPS MIcrosoft Exchange server fails with Cannot invoke &quot;String.equals(Object)&quot; because &quot;this.status&quot; is null","body":"<p>I figured it out. I used a dependency that itself imported these 2 things:</p>\n<pre><code>   &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n   &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n\n   &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\n   &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n</code></pre>\n<p>That lead to a situation, where during runtime, incorrect library was used. When running <code>mvn dependency:tree</code> it became obvious which dependencies are responsible for this.</p>\n<p>aftr that, it was a matter of removing them with</p>\n<pre><code>            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\n                &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n</code></pre>\n<p>Note, that I ended up not using base64 for credentials, i still use imaps instead of imap for properties (even tough most examples on stackoverflow and javadoc state imap) and I use full email as username.</p>\n"}],"owner":{"account_id":10161194,"reputation":158,"user_id":7653576,"accept_rate":100,"display_name":"Lone Wanderer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76702674,"answer_count":2,"score":-2,"last_activity_date":1689588262,"creation_date":1689576755,"question_id":76702082,"body_markdown":"I&#39;ve been trying and failling to connect to IMAPs server using Javamail. This is my example  implementation: \r\n\r\n    public List&lt;Mail&gt; receive() throws MessagingException {\r\n        IMAPStore emailStore = null;\r\n        Folder emailFolder = null;\r\n\r\n        // Initialize properties for the SMPT receiver\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\r\n        properties.setProperty(&quot;mail.imaps.ssl.checkserveridentity&quot;, &quot;false&quot;);\r\n        properties.setProperty(&quot;mail.imaps.ssl.trust&quot;, &quot;*&quot;);\r\n        properties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\r\n    //        properties.put(&quot;mail.&quot; + protocol + &quot;.host&quot;, host);\r\n        properties.put(&quot;mail.imaps.host&quot;, host);\r\n    //        properties.put(&quot;mail.&quot; + protocol + &quot;.port&quot;, port);\r\n        properties.put(&quot;mail.imaps.port&quot;, port);\r\n\r\n\r\n\r\n        //Get the SMTP session\r\n        Session emailSession = Session.getInstance(properties);\r\n\r\n        try {\r\n            emailStore = (IMAPStore) emailSession.getStore();\r\n            emailStore.connect(username, password);\r\n\r\n            emailFolder = emailStore.getFolder(&quot;INBOX&quot;);\r\n            emailFolder.open(Folder.READ_WRITE);\r\n\r\n            return getNewMails(emailFolder);\r\n\r\n        } catch (Exception e) {\r\n            exception handling logic\r\n        }\r\n\r\nThe code fails at connection. \r\n\r\nThis is the response of the server upon initial connection. * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\n\r\nJavacode then recognizes that I&#39;m not authenticated and proceeds to authenticate, after which I **get following response**\r\n\r\n    IMAPTaggedResponse \r\n      status = null\r\n      tag = &quot;+&quot; \r\n      message = &quot;&quot;\r\n      and 2 bytes in response\r\n\r\nI&#39;m completely unable to proceed. I tried removing the &quot;s&quot; in imap**s** from the configuration properties, but that yields even less progress because the server outright refuses to communicate.\r\n\r\nThe problem is that the code fails not within my implementation, but within javacode itself. This is the failing method: \r\n\r\n    **org.apache.geronimo.javamail .store.imap.connection.IMAPTaggedResponse#isBAD**\r\n\r\nand the failing code is the following:\r\n\r\n    public boolean isBAD() {\r\n        return this.status.equals(&quot;BAD&quot;);\r\n    }\r\nand since the returning status from the **IMAPTaggedResponse** is null, it fails the equals method. \r\n\r\nI do encode the credentials as Base64\r\n\r\nany advice would be apretiated. ","title":"Connecting to IMAPS MIcrosoft Exchange server fails with Cannot invoke &quot;String.equals(Object)&quot; because &quot;this.status&quot; is null","body":"<p>I've been trying and failling to connect to IMAPs server using Javamail. This is my example  implementation:</p>\n<pre><code>public List&lt;Mail&gt; receive() throws MessagingException {\n    IMAPStore emailStore = null;\n    Folder emailFolder = null;\n\n    // Initialize properties for the SMPT receiver\n    Properties properties = new Properties();\n    properties.setProperty(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\n    properties.setProperty(&quot;mail.imaps.ssl.checkserveridentity&quot;, &quot;false&quot;);\n    properties.setProperty(&quot;mail.imaps.ssl.trust&quot;, &quot;*&quot;);\n    properties.put(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n//        properties.put(&quot;mail.&quot; + protocol + &quot;.host&quot;, host);\n    properties.put(&quot;mail.imaps.host&quot;, host);\n//        properties.put(&quot;mail.&quot; + protocol + &quot;.port&quot;, port);\n    properties.put(&quot;mail.imaps.port&quot;, port);\n\n\n\n    //Get the SMTP session\n    Session emailSession = Session.getInstance(properties);\n\n    try {\n        emailStore = (IMAPStore) emailSession.getStore();\n        emailStore.connect(username, password);\n\n        emailFolder = emailStore.getFolder(&quot;INBOX&quot;);\n        emailFolder.open(Folder.READ_WRITE);\n\n        return getNewMails(emailFolder);\n\n    } catch (Exception e) {\n        exception handling logic\n    }\n</code></pre>\n<p>The code fails at connection.</p>\n<p>This is the response of the server upon initial connection. * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+</p>\n<p>Javacode then recognizes that I'm not authenticated and proceeds to authenticate, after which I <strong>get following response</strong></p>\n<pre><code>IMAPTaggedResponse \n  status = null\n  tag = &quot;+&quot; \n  message = &quot;&quot;\n  and 2 bytes in response\n</code></pre>\n<p>I'm completely unable to proceed. I tried removing the &quot;s&quot; in imap<strong>s</strong> from the configuration properties, but that yields even less progress because the server outright refuses to communicate.</p>\n<p>The problem is that the code fails not within my implementation, but within javacode itself. This is the failing method:</p>\n<pre><code>**org.apache.geronimo.javamail .store.imap.connection.IMAPTaggedResponse#isBAD**\n</code></pre>\n<p>and the failing code is the following:</p>\n<pre><code>public boolean isBAD() {\n    return this.status.equals(&quot;BAD&quot;);\n}\n</code></pre>\n<p>and since the returning status from the <strong>IMAPTaggedResponse</strong> is null, it fails the equals method.</p>\n<p>I do encode the credentials as Base64</p>\n<p>any advice would be apretiated.</p>\n"},{"tags":["java","apache-kafka","message-queue"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689606223,"post_id":76703319,"comment_id":135233674,"body_markdown":"1) Please show your code as a [mcve], not as images 2) Unclear where clientId 2 even comes from","body":"1) Please show your code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not as images 2) Unclear where clientId 2 even comes from"}],"owner":{"account_id":29032870,"reputation":1,"user_id":22239379,"display_name":"HIKARIZT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689587870,"creation_date":1689587870,"question_id":76703319,"body_markdown":"In Kafka, different producers are configured with different bootstrap servers, and only one producer calls the send() method, but all producers start sending messages.\r\n\r\n[enter image description here](https://i.stack.imgur.com/gQXsp.png)\r\n\r\nmessageQueueList.getQueueList() contain some producers.\r\n[enter image description here](https://i.stack.imgur.com/EqPqK.png)\r\nOnly the producer m called the send() method, but every producer tried to send message\r\n[enter image description here](https://i.stack.imgur.com/ZWv0t.png)\r\n\r\n\r\n\r\nIn my design,  MessageQueue m = messageQueueList.getQueueList().get(index); different index can use different producer to send message, but all the producers send messages no mattter what the index is.","title":"In Kafka, only one producer calls the send() method, but all producers start sending messages, why?","body":"<p>In Kafka, different producers are configured with different bootstrap servers, and only one producer calls the send() method, but all producers start sending messages.</p>\n<p><a href=\"https://i.stack.imgur.com/gQXsp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>messageQueueList.getQueueList() contain some producers.\n<a href=\"https://i.stack.imgur.com/EqPqK.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nOnly the producer m called the send() method, but every producer tried to send message\n<a href=\"https://i.stack.imgur.com/ZWv0t.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In my design,  MessageQueue m = messageQueueList.getQueueList().get(index); different index can use different producer to send message, but all the producers send messages no mattter what the index is.</p>\n"},{"tags":["java","logging","quarkus","elk","gelf"],"owner":{"account_id":27641615,"reputation":3,"user_id":21098469,"display_name":"Degote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689587849,"creation_date":1689587800,"question_id":76703311,"body_markdown":"I would like to log application name and version (from pom.xml file) with quarkus-gelf logging to send logs to logstash. I found a way to use &quot;additional-field&quot;, is there another option to do same, but shorter? Or some way to not duplicate &quot;version&quot; in both application.yml and pom.xml.\r\n\r\nMy application.yml\r\n```\r\n...\r\nquarkus:\r\n  log:\r\n    level: INFO\r\n    handler:\r\n      gelf:\r\n        enabled: true\r\n        host: localhost\r\n        port: 12201\r\n        include-log-message-parameters: false\r\n        additional-field:\r\n          app_name:\r\n            value: &quot;testApp&quot;\r\n            type: string\r\n          app_version:\r\n            value: &quot;1.0.0&quot;\r\n            type: string\r\n...\r\n```\r\nMy pom.xml\r\n```\r\n...\r\n    &lt;groupId&gt;example.org&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testApp&lt;/artifactId&gt;\r\n    &lt;name&gt;Testing application&lt;/name&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n...\r\n```\r\n\r\nAdding\r\n```\r\nquarkus:\r\n  application:\r\n    version: 1.0.0\r\n    name: testApp\r\n```\r\nto application.yml didn&#39;t change a thing","title":"Quarkus gelf logging. How to log application name","body":"<p>I would like to log application name and version (from pom.xml file) with quarkus-gelf logging to send logs to logstash. I found a way to use &quot;additional-field&quot;, is there another option to do same, but shorter? Or some way to not duplicate &quot;version&quot; in both application.yml and pom.xml.</p>\n<p>My application.yml</p>\n<pre><code>...\nquarkus:\n  log:\n    level: INFO\n    handler:\n      gelf:\n        enabled: true\n        host: localhost\n        port: 12201\n        include-log-message-parameters: false\n        additional-field:\n          app_name:\n            value: &quot;testApp&quot;\n            type: string\n          app_version:\n            value: &quot;1.0.0&quot;\n            type: string\n...\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>...\n    &lt;groupId&gt;example.org&lt;/groupId&gt;\n    &lt;artifactId&gt;testApp&lt;/artifactId&gt;\n    &lt;name&gt;Testing application&lt;/name&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n...\n</code></pre>\n<p>Adding</p>\n<pre><code>quarkus:\n  application:\n    version: 1.0.0\n    name: testApp\n</code></pre>\n<p>to application.yml didn't change a thing</p>\n"},{"tags":["java","eclipse","rest","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564756189,"creation_date":1564756189,"answer_id":57328522,"question_id":57185401,"body_markdown":"Annotations aren&#39;t inherited by child classes from parent classes - so the annotations need to be repeated in the child class.","title":"Why can&#39;t I make a webserviceprovider base class?","body":"<p>Annotations aren't inherited by child classes from parent classes - so the annotations need to be repeated in the child class.</p>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57328522,"answer_count":1,"score":0,"last_activity_date":1689587038,"creation_date":1563978782,"question_id":57185401,"body_markdown":"I am trying to make a base class for my various REST APIs to be based on.\r\n\r\nIf I create a class as follows, without a base class, then this works fine (and so is my starting point for the refactoring):\r\n\r\n    @WebServiceProvider\r\n    @ServiceMode(value = javax.xml.ws.Service.Mode.MESSAGE)\r\n    @BindingType(value = HTTPBinding.HTTP_BINDING)\r\n    public class SpecificRestAPI implements Provider&lt;Source&gt;\r\n    {\r\n    \t// arg 0: url including port, e.g. &quot;http://localhost:9902/specificrestapi&quot;\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString url = args[0];\r\n    \t\t// Start\r\n    \t\tEndpoint.publish(url, new SpecificRestAPI());  \t\t\r\n    \t}\r\n    \t\r\n    \t@Resource\r\n    \tprivate WebServiceContext wsContext;\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \t   public Source invoke(Source request)\r\n    \t   {\r\n    \t      if (wsContext == null)\r\n    \t         throw new RuntimeException(&quot;dependency injection failed on wsContext&quot;);\r\n    \t      MessageContext msgContext = wsContext.getMessageContext();\r\n    \t      switch (((String) msgContext.get(MessageContext.HTTP_REQUEST_METHOD)).toUpperCase().trim())\r\n    \t      {\r\n    \t         case &quot;DELETE&quot;: \r\n    \t        \t return processDelete(msgContext);\r\n    //etc...\r\n              }\r\n        }\r\n    }\r\n\r\nHowever, if I make that class extend `BaseRestAPI` and try and move all annotations and annotated-objects and methods into the base class, I get an error:\r\n\r\n    @WebServiceProvider\r\n    @ServiceMode(value = javax.xml.ws.Service.Mode.MESSAGE)\r\n    @BindingType(value = HTTPBinding.HTTP_BINDING)\r\n    public abstract class BaseRestAPI  implements Provider&lt;Source&gt;\r\n    {\r\n        @Resource\r\n    \tprivate WebServiceContext wsContext;\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \t   public Source invoke(Source request)\r\n    \t   {\r\n    //etc...\r\n           }\r\n    }\r\n\r\n    public class SpecificRestAPI extends BaseRestAPI\r\n    {\r\n    \t// arg 0: url including port, e.g. &quot;http://localhost:9902/specificrestapi&quot;\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tString url = args[0];\r\n    \t\t// Start\r\n    \t\tEndpoint.publish(url, new SpecificRestAPI());    \t\t\r\n    \t}\r\n\r\nThis gives me no compilation errors, but at run-time:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: class SpecificRestAPI  has neither @WebService nor @WebServiceProvider annotation\r\n\r\nBased on this error, I then tried moving that annotation into the `SpecificRestAPI` class, leaving the rest of the Base class as above; but then I get an eclipse compiler error that I&#39;m not implementing the `Provider` - but I am, just in the base class...\r\n\r\nIs this something anyone&#39;s done before; and if so how?","title":"Why can&#39;t I make a webserviceprovider base class?","body":"<p>I am trying to make a base class for my various REST APIs to be based on.</p>\n<p>If I create a class as follows, without a base class, then this works fine (and so is my starting point for the refactoring):</p>\n<pre><code>@WebServiceProvider\n@ServiceMode(value = javax.xml.ws.Service.Mode.MESSAGE)\n@BindingType(value = HTTPBinding.HTTP_BINDING)\npublic class SpecificRestAPI implements Provider&lt;Source&gt;\n{\n    // arg 0: url including port, e.g. &quot;http://localhost:9902/specificrestapi&quot;\n    public static void main(String[] args)\n    {\n        String url = args[0];\n        // Start\n        Endpoint.publish(url, new SpecificRestAPI());       \n    }\n    \n    @Resource\n    private WebServiceContext wsContext;\n    \n    \n    @Override\n       public Source invoke(Source request)\n       {\n          if (wsContext == null)\n             throw new RuntimeException(&quot;dependency injection failed on wsContext&quot;);\n          MessageContext msgContext = wsContext.getMessageContext();\n          switch (((String) msgContext.get(MessageContext.HTTP_REQUEST_METHOD)).toUpperCase().trim())\n          {\n             case &quot;DELETE&quot;: \n                 return processDelete(msgContext);\n//etc...\n          }\n    }\n}\n</code></pre>\n<p>However, if I make that class extend <code>BaseRestAPI</code> and try and move all annotations and annotated-objects and methods into the base class, I get an error:</p>\n<pre><code>@WebServiceProvider\n@ServiceMode(value = javax.xml.ws.Service.Mode.MESSAGE)\n@BindingType(value = HTTPBinding.HTTP_BINDING)\npublic abstract class BaseRestAPI  implements Provider&lt;Source&gt;\n{\n    @Resource\n    private WebServiceContext wsContext;\n    \n    \n    @Override\n       public Source invoke(Source request)\n       {\n//etc...\n       }\n}\n\npublic class SpecificRestAPI extends BaseRestAPI\n{\n    // arg 0: url including port, e.g. &quot;http://localhost:9902/specificrestapi&quot;\n    public static void main(String[] args)\n    {\n        String url = args[0];\n        // Start\n        Endpoint.publish(url, new SpecificRestAPI());           \n    }\n</code></pre>\n<p>This gives me no compilation errors, but at run-time:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: class SpecificRestAPI  has neither @WebService nor @WebServiceProvider annotation</p>\n</blockquote>\n<p>Based on this error, I then tried moving that annotation into the <code>SpecificRestAPI</code> class, leaving the rest of the Base class as above; but then I get an eclipse compiler error that I'm not implementing the <code>Provider</code> - but I am, just in the base class...</p>\n<p>Is this something anyone's done before; and if so how?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1689587437,"post_id":76703192,"comment_id":135229409,"body_markdown":"&quot;but the actual image is straight&quot; are you sure about that? I mean, are you sure it&#39;s not the software you&#39;re using to view the image that rotates it for you using EXIF data or something similar?","body":"&quot;but the actual image is straight&quot; are you sure about that? I mean, are you sure it&#39;s not the software you&#39;re using to view the image that rotates it for you using EXIF data or something similar?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1689605649,"post_id":76703192,"comment_id":135233539,"body_markdown":"I&#39;d also assume that the original image _is_ sideways as seen in the PDF while image viewers usually use EXIF data to rotate it to an upright position. [This answer](https://stackoverflow.com/a/48568754/1729265) shows a way to use the EXIF data in the context of iText 7. You may be able to port that for iText 5 or earlier which you appear to use","body":"I&#39;d also assume that the original image <i>is</i> sideways as seen in the PDF while image viewers usually use EXIF data to rotate it to an upright position. <a href=\"https://stackoverflow.com/a/48568754/1729265\">This answer</a> shows a way to use the EXIF data in the context of iText 7. You may be able to port that for iText 5 or earlier which you appear to use"}],"owner":{"account_id":29032898,"reputation":1,"user_id":22239405,"display_name":"Swathi Sudarsanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689586836,"creation_date":1689586836,"question_id":76703192,"body_markdown":"URL url = url of an image;\r\nImage img = Image.getInstance(url);\r\n\r\nUsed this code for Java iText pdf.\r\n\r\nBut the img Im getting is rotated.\r\nWhat might be the reason?\r\n\r\nI tried byte code conversion and http methods for accessing the image by url. In all ways it getting rotated, but the actual image is straight.","title":"What might be the reason for Image image = Image.getInstance( returning rotated image?","body":"<p>URL url = url of an image;\nImage img = Image.getInstance(url);</p>\n<p>Used this code for Java iText pdf.</p>\n<p>But the img Im getting is rotated.\nWhat might be the reason?</p>\n<p>I tried byte code conversion and http methods for accessing the image by url. In all ways it getting rotated, but the actual image is straight.</p>\n"},{"tags":["java","android","networking"],"owner":{"account_id":21695440,"reputation":1234,"user_id":16009435,"display_name":"seriously"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689586533,"creation_date":1689505148,"question_id":76697896,"body_markdown":"I am trying to get the network speed on interface ```tun0```. I am currently getting the network speed but I am not sure which network interface it is accessing. What is the correct way to get the network speed on a specific interface on Android using Java? Thanks in advance.\r\n\r\n**Current method**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public void networkSpeed() throws Exception {\r\n      Activity currentActivity = getCurrentActivity();\r\n      ConnectivityManager cm = (ConnectivityManager) currentActivity.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n      NetworkInfo netInfo = cm.getActiveNetworkInfo();\r\n      //should check null because in airplane mode it will be null\r\n      NetworkCapabilities nc = null;\r\n      if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n        nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\r\n      }\r\n\r\n      int downSpeed = nc.getLinkDownstreamBandwidthKbps();\r\n      int upSpeed = nc.getLinkUpstreamBandwidthKbps();\r\n      System.out.println(&quot;{\\&quot;downSpeed\\&quot;: \\&quot;&quot; + downSpeed + &quot;\\&quot;, \\&quot;upSpeed\\&quot;: \\&quot;&quot; + upSpeed + &quot;\\&quot;}&quot;);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"get network speed on specific interface","body":"<p>I am trying to get the network speed on interface <code>tun0</code>. I am currently getting the network speed but I am not sure which network interface it is accessing. What is the correct way to get the network speed on a specific interface on Android using Java? Thanks in advance.</p>\n<p><strong>Current method</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public void networkSpeed() throws Exception {\n  Activity currentActivity = getCurrentActivity();\n  ConnectivityManager cm = (ConnectivityManager) currentActivity.getSystemService(Context.CONNECTIVITY_SERVICE);\n  NetworkInfo netInfo = cm.getActiveNetworkInfo();\n  //should check null because in airplane mode it will be null\n  NetworkCapabilities nc = null;\n  if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n    nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\n  }\n\n  int downSpeed = nc.getLinkDownstreamBandwidthKbps();\n  int upSpeed = nc.getLinkUpstreamBandwidthKbps();\n  System.out.println(\"{\\\"downSpeed\\\": \\\"\" + downSpeed + \"\\\", \\\"upSpeed\\\": \\\"\" + upSpeed + \"\\\"}\");\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","open-telemetry","open-telemetry-collector","otel"],"answers":[{"comments":[{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1689331923,"post_id":76655805,"comment_id":135201685,"body_markdown":"When I point to port `4317` I got below error\n```curl -i http://0.0.0.0:4317/v1/traces -X POST -H &quot;Content-Type: application/json&quot;  -d @span.json\ncurl: (1) Received HTTP/0.9 when not allowed```","body":"When I point to port <code>4317</code> I got below error <code>curl -i http:&#47;&#47;0.0.0.0:4317&#47;v1&#47;traces -X POST -H &quot;Content-Type: application&#47;json&quot;  -d @span.json curl: (1) Received HTTP&#47;0.9 when not allowed</code>"}],"tags":[],"owner":{"account_id":51366,"reputation":401,"user_id":153455,"display_name":"Aneurysm9"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689007832,"creation_date":1689007832,"answer_id":76655805,"question_id":76626667,"body_markdown":"There are two errors reported by your application that I can see.  The first: `Server responded with UNIMPLEMENTED` happens when you attempt to use the gRPC exporter with a server expecting HTTP.  Change your collector endpoint in the application to use port `4317` to use gRPC.\r\n\r\nThe second error indicates that the message you are attempting to send to the collector is too large.  Either adjust the settings of your batch span processor in the application to send more frequently, adjust your collector&#39;s OTLP receiver configuration to increase `max_recv_msg_size_mib`, or enable compression on the exporter to reduce the size of the exported payload.","title":"OpenTelemetry SDK: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180","body":"<p>There are two errors reported by your application that I can see.  The first: <code>Server responded with UNIMPLEMENTED</code> happens when you attempt to use the gRPC exporter with a server expecting HTTP.  Change your collector endpoint in the application to use port <code>4317</code> to use gRPC.</p>\n<p>The second error indicates that the message you are attempting to send to the collector is too large.  Either adjust the settings of your batch span processor in the application to send more frequently, adjust your collector's OTLP receiver configuration to increase <code>max_recv_msg_size_mib</code>, or enable compression on the exporter to reduce the size of the exported payload.</p>\n"},{"tags":[],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689586388,"creation_date":1689586388,"answer_id":76703136,"question_id":76626667,"body_markdown":"I think I was pointing to wrong port no. i.e. 4317 (which is internal container port but external port was 4343 that I&#39;ve mentioned in `docker-compose.yaml`\r\n\r\n```\r\nOtlpGrpcSpanExporter otlpGrpcSpanExporter = \r\nOtlpGrpcSpanExporter.builder().setEndpoint(&quot;http://localhost:4343&quot;).build();\r\n```\r\n\r\nP.S.: http protocol was working previously as well.","title":"OpenTelemetry SDK: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180","body":"<p>I think I was pointing to wrong port no. i.e. 4317 (which is internal container port but external port was 4343 that I've mentioned in <code>docker-compose.yaml</code></p>\n<pre><code>OtlpGrpcSpanExporter otlpGrpcSpanExporter = \nOtlpGrpcSpanExporter.builder().setEndpoint(&quot;http://localhost:4343&quot;).build();\n</code></pre>\n<p>P.S.: http protocol was working previously as well.</p>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76703136,"answer_count":2,"score":1,"last_activity_date":1689586388,"creation_date":1688630177,"question_id":76626667,"body_markdown":"I&#39;m trying to export the spans to `HoneyComb` through `Otel-Collector`\r\n\r\nUsing below Otel-collector configs I&#39;m able to `POST` test `Trace` to `HoneyComb UI` as below\r\n\r\n```\r\ncurl -i http://localhost:4318/v1/traces -X POST -H &quot;Content-Type: application/json&quot;  -d @span.json\r\n```\r\n\r\nMy `Otel-Collector` versions that I tried are as below\r\n```\r\nreceivers:\r\n  otlp:\r\n    protocols:\r\n      grpc:\r\n      http:\r\n\r\nexporters:\r\n  logging:\r\n   loglevel: debug\r\n  otlphttp:\r\n    endpoint: &quot;https://api.honeycomb.io&quot;\r\n    headers:\r\n      &quot;x-honeycomb-team&quot;: &quot;YOUR_API_KEY&quot;\r\n      &quot;x-honeycomb-dataset&quot;: &quot;YOUR_DATASET&quot;\r\n\r\nprocessors:\r\n  batch:\r\n\r\nservice:\r\n  pipelines:\r\n    traces:\r\n      receivers: [otlp]\r\n      processors: [batch]\r\n      exporters: [logging, otlphttp]\r\n```\r\n\r\nOR\r\n\r\n```\r\nreceivers:\r\n  otlp:\r\n    protocols:\r\n      grpc:\r\n      http:\r\n\r\nexporters:\r\n  logging:\r\n   loglevel: debug\r\n  otlp:\r\n    endpoint: &quot;http://api.honeycomb.io:443&quot; # even simply api.honeycomb.io:443\r\n    headers:\r\n      &quot;x-honeycomb-team&quot;: &quot;YOUR_API_KEY&quot;\r\n      &quot;x-honeycomb-dataset&quot;: &quot;YOUR_DATASET&quot;\r\n\r\nprocessors:\r\n  batch:\r\n\r\nservice:\r\n  pipelines:\r\n    traces:\r\n      receivers: [otlp]\r\n      processors: [batch]\r\n      exporters: [logging, otlp]\r\n```\r\n\r\ndocker-compose.yaml is as below\r\n```\r\nversion: &quot;2&quot;\r\nservices:\r\n\r\n  # Collector\r\n  otel-collector:\r\n    image: otel/opentelemetry-collector-contrib:latest\r\n    restart: always\r\n    command: [&quot;--config=/etc/otel-collector-config.yaml&quot;, &quot;${OTELCOL_ARGS}&quot;]\r\n    volumes:\r\n      - ./otel-collector-config.yaml:/etc/otel-collector-config.yaml\r\n    ports:\r\n      - &quot;1888:1888&quot;   # pprof extension\r\n      - &quot;8888:8888&quot;   # Prometheus metrics exposed by the collector\r\n      - &quot;8889:8889&quot;   # Prometheus exporter metrics\r\n      - &quot;13133:13133&quot; # health_check extension\r\n      - &quot;4343:4317&quot;   # OTLP gRPC receiver\r\n      - &quot;4318:4318&quot;   # OTLP http receiver\r\n```\r\n\r\nOpenTelemetry implementation is \r\n```\r\nResource resource = Resource.getDefault().merge(Resource.builder().put(SERVICE_NAME, MY_SERVICE_NAME).build());\r\n\r\n        OtlpGrpcSpanExporter otlpGrpcSpanExporter = OtlpGrpcSpanExporter.builder().setEndpoint(&quot;http://localhost:4318&quot;).build();\r\n\r\n        SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\r\n                .addSpanProcessor(BatchSpanProcessor.builder(otlpGrpcSpanExporter).build())\r\n                .setResource(resource)\r\n                .build();\r\n\r\n        openTelemetry = OpenTelemetrySdk.builder().\r\n                .setTracerProvider(sdkTracerProvider)\r\n                .buildAndRegisterGlobal();\r\n\r\nTracer tracer = openTelemetry.getTracer(&quot;My Tracer&quot;);\r\n\r\nspan = tracer.spanBuilder(messageType + &quot; handler span&quot;).startSpan();\r\nspan.setAttribute(&quot;messageType&quot;, messageType);\r\n\r\n//some logic\r\n\r\nspan.end();\r\n```\r\n\r\nI&#39;m seeing below error in my application. Not sure what is I&#39;m missing here?\r\n\r\n```\r\nJul 06, 2023 12:52:04 PM io.opentelemetry.exporter.internal.grpc.GrpcExporterUtil logUnimplemented\r\nSEVERE: Failed to export metrics. Server responded with UNIMPLEMENTED. This usually means that your collector is not configured with an otlp receiver in the &quot;pipelines&quot; section of the configuration. If export is not desired and you are using OpenTelemetry autoconfiguration or the javaagent, disable export by setting OTEL_METRICS_EXPORTER=none. Full error message: unknown service opentelemetry.proto.collector.metrics.v1.MetricsService\r\n\r\n\r\n\r\nJul 06, 2023 12:52:08 PM io.opentelemetry.sdk.internal.ThrottlingLogger doLog\r\nSEVERE: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180\r\n```","title":"OpenTelemetry SDK: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180","body":"<p>I'm trying to export the spans to <code>HoneyComb</code> through <code>Otel-Collector</code></p>\n<p>Using below Otel-collector configs I'm able to <code>POST</code> test <code>Trace</code> to <code>HoneyComb UI</code> as below</p>\n<pre><code>curl -i http://localhost:4318/v1/traces -X POST -H &quot;Content-Type: application/json&quot;  -d @span.json\n</code></pre>\n<p>My <code>Otel-Collector</code> versions that I tried are as below</p>\n<pre><code>receivers:\n  otlp:\n    protocols:\n      grpc:\n      http:\n\nexporters:\n  logging:\n   loglevel: debug\n  otlphttp:\n    endpoint: &quot;https://api.honeycomb.io&quot;\n    headers:\n      &quot;x-honeycomb-team&quot;: &quot;YOUR_API_KEY&quot;\n      &quot;x-honeycomb-dataset&quot;: &quot;YOUR_DATASET&quot;\n\nprocessors:\n  batch:\n\nservice:\n  pipelines:\n    traces:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [logging, otlphttp]\n</code></pre>\n<p>OR</p>\n<pre><code>receivers:\n  otlp:\n    protocols:\n      grpc:\n      http:\n\nexporters:\n  logging:\n   loglevel: debug\n  otlp:\n    endpoint: &quot;http://api.honeycomb.io:443&quot; # even simply api.honeycomb.io:443\n    headers:\n      &quot;x-honeycomb-team&quot;: &quot;YOUR_API_KEY&quot;\n      &quot;x-honeycomb-dataset&quot;: &quot;YOUR_DATASET&quot;\n\nprocessors:\n  batch:\n\nservice:\n  pipelines:\n    traces:\n      receivers: [otlp]\n      processors: [batch]\n      exporters: [logging, otlp]\n</code></pre>\n<p>docker-compose.yaml is as below</p>\n<pre><code>version: &quot;2&quot;\nservices:\n\n  # Collector\n  otel-collector:\n    image: otel/opentelemetry-collector-contrib:latest\n    restart: always\n    command: [&quot;--config=/etc/otel-collector-config.yaml&quot;, &quot;${OTELCOL_ARGS}&quot;]\n    volumes:\n      - ./otel-collector-config.yaml:/etc/otel-collector-config.yaml\n    ports:\n      - &quot;1888:1888&quot;   # pprof extension\n      - &quot;8888:8888&quot;   # Prometheus metrics exposed by the collector\n      - &quot;8889:8889&quot;   # Prometheus exporter metrics\n      - &quot;13133:13133&quot; # health_check extension\n      - &quot;4343:4317&quot;   # OTLP gRPC receiver\n      - &quot;4318:4318&quot;   # OTLP http receiver\n</code></pre>\n<p>OpenTelemetry implementation is</p>\n<pre><code>Resource resource = Resource.getDefault().merge(Resource.builder().put(SERVICE_NAME, MY_SERVICE_NAME).build());\n\n        OtlpGrpcSpanExporter otlpGrpcSpanExporter = OtlpGrpcSpanExporter.builder().setEndpoint(&quot;http://localhost:4318&quot;).build();\n\n        SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\n                .addSpanProcessor(BatchSpanProcessor.builder(otlpGrpcSpanExporter).build())\n                .setResource(resource)\n                .build();\n\n        openTelemetry = OpenTelemetrySdk.builder().\n                .setTracerProvider(sdkTracerProvider)\n                .buildAndRegisterGlobal();\n\nTracer tracer = openTelemetry.getTracer(&quot;My Tracer&quot;);\n\nspan = tracer.spanBuilder(messageType + &quot; handler span&quot;).startSpan();\nspan.setAttribute(&quot;messageType&quot;, messageType);\n\n//some logic\n\nspan.end();\n</code></pre>\n<p>I'm seeing below error in my application. Not sure what is I'm missing here?</p>\n<pre><code>Jul 06, 2023 12:52:04 PM io.opentelemetry.exporter.internal.grpc.GrpcExporterUtil logUnimplemented\nSEVERE: Failed to export metrics. Server responded with UNIMPLEMENTED. This usually means that your collector is not configured with an otlp receiver in the &quot;pipelines&quot; section of the configuration. If export is not desired and you are using OpenTelemetry autoconfiguration or the javaagent, disable export by setting OTEL_METRICS_EXPORTER=none. Full error message: unknown service opentelemetry.proto.collector.metrics.v1.MetricsService\n\n\n\nJul 06, 2023 12:52:08 PM io.opentelemetry.sdk.internal.ThrottlingLogger doLog\nSEVERE: Failed to export spans. The request could not be executed. Full error message: FRAME_SIZE_ERROR: 4740180\n</code></pre>\n"},{"tags":["java","spring","resttemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689239129,"post_id":76677238,"comment_id":135186139,"body_markdown":"Why not just a `String` and pass that on? Instead of String -&gt; Map -&gt; String? What the returned object is is solely to the implementation in this case Jackson, so will it always be a `LinkedHashMap` could be or couldn&#39;t be. But as mentioned why map it to a `Map` of you are going to turn it into the same JSON anyway, just pass it along.","body":"Why not just a <code>String</code> and pass that on? Instead of String -&gt; Map -&gt; String? What the returned object is is solely to the implementation in this case Jackson, so will it always be a <code>LinkedHashMap</code> could be or couldn&#39;t be. But as mentioned why map it to a <code>Map</code> of you are going to turn it into the same JSON anyway, just pass it along."},{"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"score":0,"creation_date":1689239587,"post_id":76677238,"comment_id":135186231,"body_markdown":"Are you performing any operations on that Map?","body":"Are you performing any operations on that Map?"},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1689241888,"post_id":76677238,"comment_id":135186757,"body_markdown":"yes, sometimes i do perform some operation on the response so i need to map it","body":"yes, sometimes i do perform some operation on the response so i need to map it"},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1689585159,"post_id":76677238,"comment_id":135228932,"body_markdown":"@M.Deinum actually i tried to convert the response to a String but i get: Error while extracting response for type [class java.lang.String] and content type [application/json] .... here&#39;s my code: return restTemplate.postForObject(uri, new HttpEntity&lt;&gt;(request, getHeaders()), String.class);","body":"@M.Deinum actually i tried to convert the response to a String but i get: Error while extracting response for type [class java.lang.String] and content type [application/json] .... here&#39;s my code: return restTemplate.postForObject(uri, new HttpEntity&lt;&gt;(request, getHeaders()), String.class);"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689585873,"post_id":76677238,"comment_id":135229084,"body_markdown":"Please don&#39;t provide additional code as comments as that is totally unreadable. Please edit your question and add the full error stacktrace you get.","body":"Please don&#39;t provide additional code as comments as that is totally unreadable. Please edit your question and add the full error stacktrace you get."},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1689586301,"post_id":76677238,"comment_id":135229168,"body_markdown":"@M.Deinum oh i&#39;m sorry, im new to this, actually i have edited my post. Your feedback would be really appreciated!","body":"@M.Deinum oh i&#39;m sorry, im new to this, actually i have edited my post. Your feedback would be really appreciated!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689586389,"post_id":76677238,"comment_id":135229191,"body_markdown":"Do you get a larger stacktrace or just this snippet? I would expect a bit more actually.","body":"Do you get a larger stacktrace or just this snippet? I would expect a bit more actually."}],"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689586246,"creation_date":1689235846,"question_id":76677238,"body_markdown":"In my code, I am using RestTemplate to call an external API and receive a complex JSON response. However, for my specific use case, I only need to return the JSON as-is to the front-end. To achieve this, I have chosen to map the response to a Map&lt;String, Object&gt;.\r\n\r\nCurrently, I have observed that the mapping works well, and during debugging, I can see that it returns a LinkedHashMap, which suits my requirements as I need the values to be ordered. However, I would like to confirm if this behavior is consistent and reliable.\r\n\r\nMy question is: How can I determine if the mapping operation will always return a LinkedHashMap or if it could potentially return a different implementation, such as a HashMap?\r\n\r\nI have searched for relevant documentation but haven&#39;t been able to find any specific information regarding the implementation returned by RestTemplate when mapping JSON responses to a Map.\r\n\r\nAny insights or pointers to relevant documentation would be greatly appreciated. Thank you!\r\n\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; responseType = new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\r\nreturn restTemplate.exchange(uri, HttpMethod.POST, new HttpEntity&lt;&gt;(request, getHeaders()), responseType).getBody();\r\n```\r\n\r\nEdit:\r\ni tried to convert the response to a String but i got the error:\r\n\r\nError while extracting response for type [class java.lang.String] and content type [application/json]\r\n\r\nHere&#39;s my new code:\r\n\r\n```\r\nreturn restTemplate.postForObject(uri, new HttpEntity&lt;&gt;(request, getHeaders()), String.class);\r\n```","title":"How can I determine the implementation returned when mapping a JSON response to a Map with RestTemplate?","body":"<p>In my code, I am using RestTemplate to call an external API and receive a complex JSON response. However, for my specific use case, I only need to return the JSON as-is to the front-end. To achieve this, I have chosen to map the response to a Map&lt;String, Object&gt;.</p>\n<p>Currently, I have observed that the mapping works well, and during debugging, I can see that it returns a LinkedHashMap, which suits my requirements as I need the values to be ordered. However, I would like to confirm if this behavior is consistent and reliable.</p>\n<p>My question is: How can I determine if the mapping operation will always return a LinkedHashMap or if it could potentially return a different implementation, such as a HashMap?</p>\n<p>I have searched for relevant documentation but haven't been able to find any specific information regarding the implementation returned by RestTemplate when mapping JSON responses to a Map.</p>\n<p>Any insights or pointers to relevant documentation would be greatly appreciated. Thank you!</p>\n<p>Here's my code:</p>\n<pre><code>ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; responseType = new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {};\nreturn restTemplate.exchange(uri, HttpMethod.POST, new HttpEntity&lt;&gt;(request, getHeaders()), responseType).getBody();\n</code></pre>\n<p>Edit:\ni tried to convert the response to a String but i got the error:</p>\n<p>Error while extracting response for type [class java.lang.String] and content type [application/json]</p>\n<p>Here's my new code:</p>\n<pre><code>return restTemplate.postForObject(uri, new HttpEntity&lt;&gt;(request, getHeaders()), String.class);\n</code></pre>\n"},{"tags":["java","eclipse","find","grep","package"],"answers":[{"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1319037904,"post_id":7823585,"comment_id":9535614,"body_markdown":"@SeanPatrickFloyd Oh, I see. In that case, I don&#39;t think there&#39;s a great option without pulling from byte code.","body":"@SeanPatrickFloyd Oh, I see. In that case, I don&#39;t think there&#39;s a great option without pulling from byte code."}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319037699,"creation_date":1319037321,"answer_id":7823585,"question_id":7823500,"body_markdown":"Right-click -&gt; References -&gt; (whichever you want). For workspace references, Shift-Ctrl-G (by default, anyway).\r\n\r\nI *think* the default results list is a tree, that can be changed to a list. I *don&#39;t* think it shows line numbers, however, at least in the slightly-dated version of Eclipse I&#39;m using. If you&#39;re *specifically* looking for line numbers, I don&#39;t think the default tools have an export that includes them.\r\n\r\nYou might try the IntelliJ Community Edition; its searches *do* show line numbers, and results are exportable to a text file (fragment below).\r\n\r\n    Class\r\n        server.UDPServer\r\n    Found usages  (44 usages)\r\n        StartThread.java  (6 usages)\r\n            (12: 19) private final UDPServer myserv;\r\n            (14: 17) StartThread(UDPServer server){\r\n            (18: 16) myserv.button1.setEnabled(false);\r\n            (19: 16) myserv.button2.setEnabled(true);\r\n            (30: 32) myserv.area.append(&quot;Server is started\\n&quot;);\r\n            (37: 36) myserv.area.append(&quot; Received &quot;\r\n","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>Right-click -> References -> (whichever you want). For workspace references, Shift-Ctrl-G (by default, anyway).</p>\n\n<p>I <em>think</em> the default results list is a tree, that can be changed to a list. I <em>don't</em> think it shows line numbers, however, at least in the slightly-dated version of Eclipse I'm using. If you're <em>specifically</em> looking for line numbers, I don't think the default tools have an export that includes them.</p>\n\n<p>You might try the IntelliJ Community Edition; its searches <em>do</em> show line numbers, and results are exportable to a text file (fragment below).</p>\n\n<pre><code>Class\n    server.UDPServer\nFound usages  (44 usages)\n    StartThread.java  (6 usages)\n        (12: 19) private final UDPServer myserv;\n        (14: 17) StartThread(UDPServer server){\n        (18: 16) myserv.button1.setEnabled(false);\n        (19: 16) myserv.button2.setEnabled(true);\n        (30: 32) myserv.area.append(\"Server is started\\n\");\n        (37: 36) myserv.area.append(\" Received \"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":41000,"reputation":15012,"user_id":119071,"accept_rate":80,"display_name":"Serafeim"},"score":0,"creation_date":1319096503,"post_id":7823687,"comment_id":9548272,"body_markdown":"This seems really nice, I didn&#39;t actually know about the package-info.java file !","body":"This seems really nice, I didn&#39;t actually know about the package-info.java file !"},{"owner":{"account_id":41000,"reputation":15012,"user_id":119071,"accept_rate":80,"display_name":"Serafeim"},"score":0,"creation_date":1319097620,"post_id":7823687,"comment_id":9548560,"body_markdown":"Actually, I see now that you need to put the package-info.java file inside the source code of the package. My problem is that I do not have the sources of the library I am using !!! So what could I do now ?","body":"Actually, I see now that you need to put the package-info.java file inside the source code of the package. My problem is that I do not have the sources of the library I am using !!! So what could I do now ?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1319098601,"post_id":7823687,"comment_id":9548787,"body_markdown":"@Serafeim remove the library from your build path. Now compiler errors will show up everywhere you use the library&#39;s classes.","body":"@Serafeim remove the library from your build path. Now compiler errors will show up everywhere you use the library&#39;s classes."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1319037754,"creation_date":1319037754,"answer_id":7823687,"question_id":7823500,"body_markdown":"Here&#39;s a hack:\r\n\r\nMark the package as deprecated using a package-info.java file:\r\n\r\n\r\n    @Deprecated\r\n    package com.yourcompany.yourpackage;\r\n\r\nNow you should see compiler warnings everywhere you use the package\r\n","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>Here's a hack:</p>\n\n<p>Mark the package as deprecated using a package-info.java file:</p>\n\n<pre><code>@Deprecated\npackage com.yourcompany.yourpackage;\n</code></pre>\n\n<p>Now you should see compiler warnings everywhere you use the package</p>\n"},{"tags":[],"owner":{"account_id":2652663,"reputation":96,"user_id":2293975,"display_name":"mdanaci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372676113,"creation_date":1372676113,"answer_id":17402786,"question_id":7823500,"body_markdown":"You can select class, constructor, method or field and press &quot;ctrl + alt+ h&quot;. This opens the call hierarchy menu.","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>You can select class, constructor, method or field and press \"ctrl + alt+ h\". This opens the call hierarchy menu.</p>\n"},{"tags":[],"owner":{"account_id":15641167,"reputation":113,"user_id":11284467,"display_name":"Hamza Safdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689585135,"creation_date":1689585135,"answer_id":76702986,"question_id":7823500,"body_markdown":"Simply remove the package from your build path and the compiler starts showing error wherever it is used.","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>Simply remove the package from your build path and the compiler starts showing error wherever it is used.</p>\n"}],"owner":{"account_id":41000,"reputation":15012,"user_id":119071,"accept_rate":80,"display_name":"Serafeim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3053,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7823687,"answer_count":4,"score":1,"last_activity_date":1689585135,"creation_date":1319036966,"question_id":7823500,"body_markdown":"I have a number of Eclipse projects that are all using classes from a specific package, let&#39;s call it &quot;gr.serafeim&quot;. Now, I want to find where (which line numbers of each file) in all my source files are the members of gr.serafeim are used. The problem is that I am usually using imports and not the fully qualified names of classes, so searching for &quot;gr.serafeim&quot; will only return me the import statements :(\r\n\r\nI don&#39;t want anything fance, just a quick and dirty solution to find out all the lines containing classes of the gr.serafeim package (an eclipse plugin ?). As an added value, I don&#39;t want only the declarations but also the method calls of these function.\r\n\r\nHere&#39;s an example of what I actually wanted:\r\n\r\n    // File main.java   \r\n    import gr.serafeim.*;\r\n    public static void main(String args[]) {\r\n        // Test is a member of gr.serafeim !\r\n        Test t = new Test(5);\r\n        int i=3;\r\n        t.add(i);\r\n    }\r\n\r\nWhat I&#39;d like to get as a return from the previous file would be something like this\r\n\r\n    main.java: 5: Test t = new Test(5); \r\n    main.java: 7: t.add(i); \r\n\r\nIf the previous can&#39;t be done, then I could also go with a way to massively name qualify all my classes. So the statement\r\n\r\n    Test t = new Test(5);\r\n\r\nwould become\r\n\r\n    gr.serafeim.Test t = new gr.serafeim.Test(5);\r\n\r\nand then I&#39;d just grep for gr.serafiem. This of course won&#39;t help in finding the t.add(i) line but would be a good first step and I could go from there checking the code myself ...\r\n\r\n\r\n[This is not the same with this question!][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3734825/find-out-which-classes-of-a-given-api-are-used\r\n","title":"Find out where classes of a specific package are used in Java/Eclipse project","body":"<p>I have a number of Eclipse projects that are all using classes from a specific package, let's call it \"gr.serafeim\". Now, I want to find where (which line numbers of each file) in all my source files are the members of gr.serafeim are used. The problem is that I am usually using imports and not the fully qualified names of classes, so searching for \"gr.serafeim\" will only return me the import statements :(</p>\n\n<p>I don't want anything fance, just a quick and dirty solution to find out all the lines containing classes of the gr.serafeim package (an eclipse plugin ?). As an added value, I don't want only the declarations but also the method calls of these function.</p>\n\n<p>Here's an example of what I actually wanted:</p>\n\n<pre><code>// File main.java   \nimport gr.serafeim.*;\npublic static void main(String args[]) {\n    // Test is a member of gr.serafeim !\n    Test t = new Test(5);\n    int i=3;\n    t.add(i);\n}\n</code></pre>\n\n<p>What I'd like to get as a return from the previous file would be something like this</p>\n\n<pre><code>main.java: 5: Test t = new Test(5); \nmain.java: 7: t.add(i); \n</code></pre>\n\n<p>If the previous can't be done, then I could also go with a way to massively name qualify all my classes. So the statement</p>\n\n<pre><code>Test t = new Test(5);\n</code></pre>\n\n<p>would become</p>\n\n<pre><code>gr.serafeim.Test t = new gr.serafeim.Test(5);\n</code></pre>\n\n<p>and then I'd just grep for gr.serafiem. This of course won't help in finding the t.add(i) line but would be a good first step and I could go from there checking the code myself ...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3734825/find-out-which-classes-of-a-given-api-are-used\">This is not the same with this question!</a></p>\n"},{"tags":["java","spring","spring-boot","annotations","swagger"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689586115,"post_id":76702968,"comment_id":135229139,"body_markdown":"Are you sure Swagger supports meta-annotations like that? Can you link to the documentation that explains it?","body":"Are you sure Swagger supports meta-annotations like that? Can you link to the documentation that explains it?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1689591406,"post_id":76702968,"comment_id":135230215,"body_markdown":"The Spring Framework supports meta-annotations, but this is not a feature that works in general for annotations in Java.","body":"The Spring Framework supports meta-annotations, but this is not a feature that works in general for annotations in Java."},{"owner":{"account_id":26249821,"reputation":17,"user_id":19922772,"display_name":"parsa faraji"},"score":0,"creation_date":1689591533,"post_id":76702968,"comment_id":135230246,"body_markdown":"@jorn\nI didn&#39;t understand what you meant by &#39;meta annotation.&#39; If you&#39;re asking whether a schema annotation can be placed above other annotations, then yes, it can.","body":"@jorn I didn&#39;t understand what you meant by &#39;meta annotation.&#39; If you&#39;re asking whether a schema annotation can be placed above other annotations, then yes, it can."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689594861,"post_id":76702968,"comment_id":135230929,"body_markdown":"@parsafaraji okay, but does Swagger support that? It needs to have explicit support for such a feature, it&#39;s not automatic. And I don&#39;t see any documentation that indicates Swagger does that.","body":"@parsafaraji okay, but does Swagger support that? It needs to have explicit support for such a feature, it&#39;s not automatic. And I don&#39;t see any documentation that indicates Swagger does that."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1689595440,"post_id":76702968,"comment_id":135231058,"body_markdown":"There are some discussions in the Swagger Core repo ([one](https://github.com/swagger-api/swagger-core/issues/4340#issuecomment-1571847731), [two](https://github.com/swagger-api/swagger-core/issues/3926)) that suggest that meta-annotations should work, but I haven&#39;t tried myself.","body":"There are some discussions in the Swagger Core repo (<a href=\"https://github.com/swagger-api/swagger-core/issues/4340#issuecomment-1571847731\" rel=\"nofollow noreferrer\">one</a>, <a href=\"https://github.com/swagger-api/swagger-core/issues/3926\" rel=\"nofollow noreferrer\">two</a>) that suggest that meta-annotations should work, but I haven&#39;t tried myself."}],"owner":{"account_id":26249821,"reputation":17,"user_id":19922772,"display_name":"parsa faraji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689585016,"creation_date":1689585016,"question_id":76702968,"body_markdown":"I want to combine two annotations for summarization\r\n\r\n    @Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\r\n    @Schema(example = &quot;3021-700-12345567-1&quot;)\r\nSchema annotation is one of the swagger anno\r\n\r\nand this is my new annotation\r\n\r\n    @Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\r\n    @Schema(example = &quot;3021-700-12345567-1&quot;)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface NewAnno {\r\n    }\r\n\r\nIts work:\r\n\r\n    @Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\r\n    @Schema(example = &quot;3021-700-12345567-1&quot;)\r\n    private String depositNumber;\r\n\r\nBut its not:\r\n\r\n    @NewAnno\r\n    private String depositNumber;","title":"How can i combine two annotation into one?","body":"<p>I want to combine two annotations for summarization</p>\n<pre><code>@Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\n@Schema(example = &quot;3021-700-12345567-1&quot;)\n</code></pre>\n<p>Schema annotation is one of the swagger anno</p>\n<p>and this is my new annotation</p>\n<pre><code>@Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\n@Schema(example = &quot;3021-700-12345567-1&quot;)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NewAnno {\n}\n</code></pre>\n<p>Its work:</p>\n<pre><code>@Pattern(regexp = &quot;^[0-9]{4}+-[0-9]{3}+-[0-9]{7}+-[0-9]$&quot;, message = &quot;must match ****-***-*******-*&quot;)\n@Schema(example = &quot;3021-700-12345567-1&quot;)\nprivate String depositNumber;\n</code></pre>\n<p>But its not:</p>\n<pre><code>@NewAnno\nprivate String depositNumber;\n</code></pre>\n"},{"tags":["java","druid"],"owner":{"account_id":6157946,"reputation":123,"user_id":4800384,"display_name":"sidd shadab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689584214,"creation_date":1671540021,"question_id":74863243,"body_markdown":"I have done a basic setup of druid cluster on my local machine with basic auth properties like below \r\n\r\n\r\n\r\n    # Druid basic security\r\n    druid.auth.authenticatorChain=[&quot;MyBasicMetadataAuthenticator&quot;]\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.type=basic\r\n    \r\n    # Default password for &#39;admin&#39; user, should be changed for production.\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.initialAdminPassword=password1\r\n    \r\n    # Default password for internal &#39;druid_system&#39; user, should be changed for production.\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.initialInternalClientPassword=password2\r\n    \r\n    # Uses the metadata store for storing users, you can use authentication API to create new users and grant permissions\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.credentialsValidator.type=metadata\r\n    \r\n    # If true and the request credential doesn&#39;t exists in this credentials store, the request will proceed to next Authenticator in the chain.\r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.skipOnFailure=false\r\n    \r\n    druid.auth.authenticator.MyBasicMetadataAuthenticator.authorizerName=MyBasicMetadataAuthorizer\r\n    \r\n    # Escalator\r\n    druid.escalator.type=basic\r\n    druid.escalator.internalClientUsername=druid_system\r\n    druid.escalator.internalClientPassword=password2\r\n    druid.escalator.authorizerName=MyBasicMetadataAuthorizer\r\n    \r\n    druid.auth.authorizers=[&quot;MyBasicMetadataAuthorizer&quot;]\r\n    \r\n    druid.auth.authorizer.MyBasicMetadataAuthorizer.type=basic\r\n\r\n\r\n\r\n and if see my services, all are running like below \r\n\r\n\r\n    &gt; CONTAINER ID   IMAGE                   COMMAND                  CREATED          STATUS                   PORTS                                                      NAMES\r\n    8c16553331b6   apache/druid:24.0.0     &quot;/druid.sh broker&quot;       43 minutes ago   Up 18 seconds            0.0.0.0:8082-&gt;8082/tcp                                     broker\r\n    c1a1fc119ee1   apache/druid:24.0.0     &quot;/druid.sh router&quot;       43 minutes ago   Up 18 seconds            0.0.0.0:8888-&gt;8888/tcp                                     router\r\n    5a20e7da110c   apache/druid:24.0.0     &quot;/druid.sh middleMan…&quot;   43 minutes ago   Up 18 seconds            0.0.0.0:8091-&gt;8091/tcp, 0.0.0.0:8100-8105-&gt;8100-8105/tcp   middlemanager\r\n    ef6e49b0815b   apache/druid:24.0.0     &quot;/druid.sh historical&quot;   43 minutes ago   Up 18 seconds            0.0.0.0:8083-&gt;8083/tcp                                     historical\r\n    f2b4008edd8e   apache/druid:24.0.0     &quot;/druid.sh coordinat…&quot;   43 minutes ago   Up 20 seconds            0.0.0.0:8081-&gt;8081/tcp                                     coordinator\r\n    8eff9a6add0e   postgres:latest         &quot;docker-entrypoint.s…&quot;   17 hours ago     Up 21 seconds            0.0.0.0:5433-&gt;5432/tcp                                     postgres\r\n    eecb2afe81e7   zookeeper:3.5           &quot;/docker-entrypoint.…&quot;   17 hours ago     Up 21 seconds            2888/tcp, 3888/tcp, 0.0.0.0:2181-&gt;2181/tcp, 8080/tcp       zookeeper\r\n\r\nand if i am hitting any of api of druid \r\n\r\n    \r\n    $ curl -H &quot;Content-type: application/json&quot; -u admin:password1  -d &quot;{\\&quot;password\\&quot;:\\&quot;password123\\&quot;}&quot; -X POST http://66.94.107.105:8081/druid-ext/basic-security/authentication/db/MyBasicMetadataAuthenticator/users/admin/credentials;\r\n      % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                     Dload  Upload   Total   Spent    Left  Speed\r\n    100   114    0    88  100    26    125     37 --:--:-- --:--:-- --:--:--   162{&quot;error&quot;:&quot;Basic authenticator with name [MyBasicMetadataAuthenticator] does not exist.&quot;}\r\n\r\n\r\n\r\n","title":"Druid {&quot;error&quot;:&quot;Basic authenticator with name [MyBasicMetadataAuthenticator] does not exist.&quot;}","body":"<p>I have done a basic setup of druid cluster on my local machine with basic auth properties like below</p>\n<pre><code># Druid basic security\ndruid.auth.authenticatorChain=[&quot;MyBasicMetadataAuthenticator&quot;]\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.type=basic\n\n# Default password for 'admin' user, should be changed for production.\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.initialAdminPassword=password1\n\n# Default password for internal 'druid_system' user, should be changed for production.\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.initialInternalClientPassword=password2\n\n# Uses the metadata store for storing users, you can use authentication API to create new users and grant permissions\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.credentialsValidator.type=metadata\n\n# If true and the request credential doesn't exists in this credentials store, the request will proceed to next Authenticator in the chain.\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.skipOnFailure=false\n\ndruid.auth.authenticator.MyBasicMetadataAuthenticator.authorizerName=MyBasicMetadataAuthorizer\n\n# Escalator\ndruid.escalator.type=basic\ndruid.escalator.internalClientUsername=druid_system\ndruid.escalator.internalClientPassword=password2\ndruid.escalator.authorizerName=MyBasicMetadataAuthorizer\n\ndruid.auth.authorizers=[&quot;MyBasicMetadataAuthorizer&quot;]\n\ndruid.auth.authorizer.MyBasicMetadataAuthorizer.type=basic\n</code></pre>\n<p>and if see my services, all are running like below</p>\n<pre><code>&gt; CONTAINER ID   IMAGE                   COMMAND                  CREATED          STATUS                   PORTS                                                      NAMES\n8c16553331b6   apache/druid:24.0.0     &quot;/druid.sh broker&quot;       43 minutes ago   Up 18 seconds            0.0.0.0:8082-&gt;8082/tcp                                     broker\nc1a1fc119ee1   apache/druid:24.0.0     &quot;/druid.sh router&quot;       43 minutes ago   Up 18 seconds            0.0.0.0:8888-&gt;8888/tcp                                     router\n5a20e7da110c   apache/druid:24.0.0     &quot;/druid.sh middleMan…&quot;   43 minutes ago   Up 18 seconds            0.0.0.0:8091-&gt;8091/tcp, 0.0.0.0:8100-8105-&gt;8100-8105/tcp   middlemanager\nef6e49b0815b   apache/druid:24.0.0     &quot;/druid.sh historical&quot;   43 minutes ago   Up 18 seconds            0.0.0.0:8083-&gt;8083/tcp                                     historical\nf2b4008edd8e   apache/druid:24.0.0     &quot;/druid.sh coordinat…&quot;   43 minutes ago   Up 20 seconds            0.0.0.0:8081-&gt;8081/tcp                                     coordinator\n8eff9a6add0e   postgres:latest         &quot;docker-entrypoint.s…&quot;   17 hours ago     Up 21 seconds            0.0.0.0:5433-&gt;5432/tcp                                     postgres\neecb2afe81e7   zookeeper:3.5           &quot;/docker-entrypoint.…&quot;   17 hours ago     Up 21 seconds            2888/tcp, 3888/tcp, 0.0.0.0:2181-&gt;2181/tcp, 8080/tcp       zookeeper\n</code></pre>\n<p>and if i am hitting any of api of druid</p>\n<pre><code>$ curl -H &quot;Content-type: application/json&quot; -u admin:password1  -d &quot;{\\&quot;password\\&quot;:\\&quot;password123\\&quot;}&quot; -X POST http://66.94.107.105:8081/druid-ext/basic-security/authentication/db/MyBasicMetadataAuthenticator/users/admin/credentials;\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   114    0    88  100    26    125     37 --:--:-- --:--:-- --:--:--   162{&quot;error&quot;:&quot;Basic authenticator with name [MyBasicMetadataAuthenticator] does not exist.&quot;}\n</code></pre>\n"},{"tags":["java","swing","jlink"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689586641,"post_id":76702855,"comment_id":135229249,"body_markdown":"I guess you might need to include some additional JDK or JavaFX module which provides some different rendering pipeline or something.","body":"I guess you might need to include some additional JDK or JavaFX module which provides some different rendering pipeline or something."},{"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1689588246,"post_id":76702855,"comment_id":135229593,"body_markdown":"Do you have idea how can I know which to include? I try to compare`-verbose` from 2 different Java (system Java and custom Java image), I do not get much useful information.","body":"Do you have idea how can I know which to include? I try to compare<code>-verbose</code> from 2 different Java (system Java and custom Java image), I do not get much useful information."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689588580,"post_id":76702855,"comment_id":135229662,"body_markdown":"I&#39;ve tried looking for anything obvious, but I don&#39;t know.","body":"I&#39;ve tried looking for anything obvious, but I don&#39;t know."},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1689711530,"post_id":76702855,"comment_id":135251739,"body_markdown":"I would override the `paintComponent(Graphics g)` method of one of the JLabel and print the rendering hints values and compare both. If it&#39;s the same then the `UIDefaults`, then the system properties.","body":"I would override the <code>paintComponent(Graphics g)</code> method of one of the JLabel and print the rendering hints values and compare both. If it&#39;s the same then the <code>UIDefaults</code>, then the system properties."}],"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689584114,"creation_date":1689584114,"question_id":76702855,"body_markdown":"We are using JDK FX 17 from https://www.azul.com/downloads/#zulu\r\n\r\nWe build a custom Java runtime image using the following command\r\n\r\n    jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path &quot;C:\\Program Files\\Zulu\\zulu-17\\jmods&quot; --add-modules java.base,java.datatransfer,java.desktop,java.logging,java.naming,java.prefs,java.rmi,java.security.sasl,java.sql,java.xml,javafx.base,javafx.controls,javafx.graphics,javafx.media,javafx.swing,javafx.web,jdk.jsobject,jdk.unsupported,jdk.crypto.ec --output jre\r\n\r\nHowever, I notice I am getting different Swing app display quality, by using custom Java runtime image, and system installed Java.\r\n\r\nThis is how I execute my Java Swing app.\r\n\r\nUsing custom Java runtime image from jlink\r\n------------------------------------------\r\n\r\n    C:\\Users\\yccheok\\Desktop\\jstock&gt;jre\\bin\\java -Dsun.java2d.dpiaware=false -Xms64m  -Xmx512m --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED -jar jstock.jar\r\n\r\nHere is the Swing app result. (You need to download the image in original size, to notice the UI display is blurry)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\n\r\nUsing system installed Java\r\n------------------------------------------\r\n\r\n    C:\\Users\\yccheok\\Desktop\\jstock&gt;java -Dsun.java2d.dpiaware=false -Xms64m  -Xmx512m --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED -jar jstock.jar\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you compare both screenshots, you will notice the system installed Java, produce a Swing UI which is sharper and clearer. (You need to download the image in original size, to notice the UI display is sharp and clear)\r\n\r\nDo you know why this is so? How I can fix my jlink output image?\r\n\r\n  [1]: https://i.stack.imgur.com/m0sYk.png\r\n  [2]: https://i.stack.imgur.com/fxVgA.png","title":"Why jlink custom Java runtime image produces blurry Swing app?","body":"<p>We are using JDK FX 17 from <a href=\"https://www.azul.com/downloads/#zulu\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/#zulu</a></p>\n<p>We build a custom Java runtime image using the following command</p>\n<pre><code>jlink --no-header-files --no-man-pages --compress=2 --strip-debug --module-path &quot;C:\\Program Files\\Zulu\\zulu-17\\jmods&quot; --add-modules java.base,java.datatransfer,java.desktop,java.logging,java.naming,java.prefs,java.rmi,java.security.sasl,java.sql,java.xml,javafx.base,javafx.controls,javafx.graphics,javafx.media,javafx.swing,javafx.web,jdk.jsobject,jdk.unsupported,jdk.crypto.ec --output jre\n</code></pre>\n<p>However, I notice I am getting different Swing app display quality, by using custom Java runtime image, and system installed Java.</p>\n<p>This is how I execute my Java Swing app.</p>\n<h2>Using custom Java runtime image from jlink</h2>\n<pre><code>C:\\Users\\yccheok\\Desktop\\jstock&gt;jre\\bin\\java -Dsun.java2d.dpiaware=false -Xms64m  -Xmx512m --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED -jar jstock.jar\n</code></pre>\n<p>Here is the Swing app result. (You need to download the image in original size, to notice the UI display is blurry)</p>\n<p><a href=\"https://i.stack.imgur.com/m0sYk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m0sYk.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>Using system installed Java</h2>\n<pre><code>C:\\Users\\yccheok\\Desktop\\jstock&gt;java -Dsun.java2d.dpiaware=false -Xms64m  -Xmx512m --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED -jar jstock.jar\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fxVgA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fxVgA.png\" alt=\"enter image description here\" /></a></p>\n<p>If you compare both screenshots, you will notice the system installed Java, produce a Swing UI which is sharper and clearer. (You need to download the image in original size, to notice the UI display is sharp and clear)</p>\n<p>Do you know why this is so? How I can fix my jlink output image?</p>\n"},{"tags":["java","mysql","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689586496,"post_id":76702831,"comment_id":135229216,"body_markdown":"It is not clear what are you after - there is no Update button in the HTML template posted.","body":"It is not clear what are you after - there is no Update button in the HTML template posted."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689586836,"post_id":76702831,"comment_id":135229294,"body_markdown":"For uploading files you will need a HTML element like this: `&lt;input type=&quot;file&quot; name=&quot;files&quot; accept=&quot;*/*&quot;&gt;`","body":"For uploading files you will need a HTML element like this: <code>&lt;input type=&quot;file&quot; name=&quot;files&quot; accept=&quot;*&#47;*&quot;&gt;</code>"},{"owner":{"account_id":25164361,"reputation":11,"user_id":19008103,"display_name":"Muhammet Kaya"},"score":0,"creation_date":1689590653,"post_id":76702831,"comment_id":135230056,"body_markdown":"It is in the announcement.html file.\n\n&lt;a th:href=&quot;@{/admin-update-announcement/{id}(id=${announcement.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Edit&lt;/a&gt;","body":"It is in the announcement.html file.  &lt;a th:href=&quot;@{/admin-update-announcement/{id}(id=${announcement&zwnj;&#8203;.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Edit&lt;/a&gt;"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689593878,"post_id":76702831,"comment_id":135230719,"body_markdown":"Well. This is an `Edit` button and not `Update` button. Never mind - what is your issue then? Do you want to choose a file for upload?","body":"Well. This is an <code>Edit</code> button and not <code>Update</code> button. Never mind - what is your issue then? Do you want to choose a file for upload?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689617133,"post_id":76702831,"comment_id":135235917,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25164361,"reputation":11,"user_id":19008103,"display_name":"Muhammet Kaya"},"score":0,"creation_date":1689668721,"post_id":76702831,"comment_id":135242591,"body_markdown":"The problem was caused by href&#39;s in &lt;link&gt;&#39;s. Thanks for your help @Mar-Z","body":"The problem was caused by href&#39;s in &lt;link&gt;&#39;s. Thanks for your help @Mar-Z"}],"owner":{"account_id":25164361,"reputation":11,"user_id":19008103,"display_name":"Muhammet Kaya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689583904,"creation_date":1689583904,"question_id":76702831,"body_markdown":"After clicking the update button, files such as img, css, js are not uploaded on the update page that opens. Can you help me?\r\n\r\n[enter image description here](https://i.stack.imgur.com/DKRG9.png)\r\n\r\n\r\n**AdminController:**\r\n\r\nupdate operations are done in the Admin controller.\r\n\r\n\r\n```\r\n@GetMapping(&quot;/admin-update-announcement/{id}&quot;)\r\n    public ModelAndView updateAnnouncement(@PathVariable(&quot;id&quot;) Long id, HttpServletRequest request) {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;view/html/admin/update-announcement&quot;);\r\n\r\n        HttpSession session = request.getSession();\r\n        String sessionId = (String) session.getAttribute(&quot;sessionId&quot;);\r\n        User loggedInUser = userRepo.findBySessionId(sessionId);\r\n\r\n        modelAndView.addObject(&quot;user&quot;, loggedInUser);\r\n\r\n        Announcement announcement = announcementRepo.findById(id)\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid announcement Id: &quot; + id));\r\n\r\n        modelAndView.addObject(&quot;announcement&quot;, announcement);\r\n\r\n        String errorMessage = (String) request.getSession().getAttribute(&quot;errorMessage&quot;);\r\n        if (errorMessage != null) {\r\n            modelAndView.addObject(&quot;errorMessage&quot;, errorMessage);\r\n            request.getSession().removeAttribute(&quot;errorMessage&quot;);\r\n        }\r\n        String message = (String) request.getSession().getAttribute(&quot;message&quot;);\r\n        if (message != null) {\r\n            modelAndView.addObject(&quot;message&quot;, message);\r\n            request.getSession().removeAttribute(&quot;message&quot;);\r\n        }\r\n\r\n        return modelAndView;\r\n    }\r\n```\r\n\r\n\r\n**update-announcement.html:**\r\n\r\nupdate page.\r\n\r\n```\r\n`&lt;div class=&quot;card card-primary mx-5 mb-5&quot;&gt;\r\n            &lt;div class=&quot;card-header&quot;&gt;\r\n                &lt;h3 class=&quot;card-title&quot;&gt;Announcement&lt;/h3&gt;\r\n            &lt;/div&gt;\r\n\r\n\r\n            &lt;form th:action=&quot;@{/update-announcement/{id}(id=${announcement.id})}&quot; method=&quot;post&quot; enctype=&quot;application/x-www-form-urlencoded&quot; th:object=&quot;${announcement}&quot;&gt;\r\n                &lt;div th:if=&quot;${message}&quot; id=&quot;alertMessage&quot; class=&quot;alert alert-success m-2&quot; role=&quot;alert&quot;&gt;\r\n                    &lt;p th:text=&quot;${message}&quot;&gt;&lt;/p&gt;\r\n                &lt;/div&gt;\r\n                &lt;div th:if=&quot;${errorMessage}&quot; id=&quot;errorMessage&quot; class=&quot;alert alert-danger m-2&quot; role=&quot;alert&quot;&gt;\r\n                    &lt;p th:text=&quot;${errorMessage}&quot;&gt;&lt;/p&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;style&gt;\r\n          /* CSS for transparent alert */\r\n          #alertMessage, #errorMessage {\r\n            opacity: 0.7; /* Adjust transparency as desired */\r\n            transition: opacity 0.5s ease-in-out;\r\n          }\r\n        &lt;/style&gt;\r\n\r\n                &lt;script&gt;\r\n          // JavaScript to hide the alert message after 5 seconds\r\n          setTimeout(function() {\r\n            var alertMessage = document.getElementById(&quot;alertMessage&quot;);\r\n            var errorMessage = document.getElementById(&quot;errorMessage&quot;);\r\n            if (alertMessage) {\r\n              alertMessage.style.opacity = 0;\r\n              setTimeout(function() {\r\n                alertMessage.style.display = &quot;none&quot;;\r\n              }, 500);\r\n            }\r\n            if (errorMessage) {\r\n              errorMessage.style.opacity = 0;\r\n              setTimeout(function() {\r\n                errorMessage.style.display = &quot;none&quot;;\r\n              }, 500);\r\n            }\r\n          }, 5000);\r\n        &lt;/script&gt;\r\n\r\n                &lt;div class=&quot;card-body&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;id&quot;&gt;Id&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;id&quot; placeholder=&quot;Enter the id&quot; name=&quot;id&quot; th:field=&quot;${announcement.id}&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;title&quot;&gt;Title&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;title&quot; placeholder=&quot;Enter the Title&quot; name=&quot;title&quot; th:field=&quot;${announcement.title}&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;content&quot;&gt;Content&lt;/label&gt;\r\n                        &lt;textarea class=&quot;form-control&quot; placeholder=&quot;Enter the Content&quot; name=&quot;content&quot; th:field=&quot;${announcement.content}&quot;&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;createdDate&quot;&gt;Created Date&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;createdDate&quot; placeholder=&quot;Enter the Created Date&quot; name=&quot;createdDate&quot; th:field=&quot;${announcement.createdDate}&quot;&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=&quot;card-footer&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/form&gt;\r\n\r\n        &lt;/div&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n**announcement.html:**\r\n\r\nupdate button in this html file.\r\n\r\n```\r\n&lt;tr th:each=&quot;announcement : ${announcements}&quot;&gt;\r\n                        &lt;td th:text=&quot;${announcement.title}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${announcement.content}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${announcement.createdDate}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td&gt;\r\n                            &lt;a th:href=&quot;@{/admin-update-announcement/{id}(id=${announcement.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Edit&lt;/a&gt;\r\n\r\n                            &lt;form th:action=&quot;@{/admin-announcement-delete/{id}(id=${announcement.id})}&quot; method=&quot;post&quot;&gt;\r\n                                &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;\r\n                                &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger btn-sm&quot;&gt;Delete&lt;/button&gt;\r\n                            &lt;/form&gt;\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n```\r\n\r\n\r\nAfter clicking the Update button, I want files such as css, js, img to appear.","title":"files such as js, css, img do not appear","body":"<p>After clicking the update button, files such as img, css, js are not uploaded on the update page that opens. Can you help me?</p>\n<p><a href=\"https://i.stack.imgur.com/DKRG9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>AdminController:</strong></p>\n<p>update operations are done in the Admin controller.</p>\n<pre><code>@GetMapping(&quot;/admin-update-announcement/{id}&quot;)\n    public ModelAndView updateAnnouncement(@PathVariable(&quot;id&quot;) Long id, HttpServletRequest request) {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;view/html/admin/update-announcement&quot;);\n\n        HttpSession session = request.getSession();\n        String sessionId = (String) session.getAttribute(&quot;sessionId&quot;);\n        User loggedInUser = userRepo.findBySessionId(sessionId);\n\n        modelAndView.addObject(&quot;user&quot;, loggedInUser);\n\n        Announcement announcement = announcementRepo.findById(id)\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid announcement Id: &quot; + id));\n\n        modelAndView.addObject(&quot;announcement&quot;, announcement);\n\n        String errorMessage = (String) request.getSession().getAttribute(&quot;errorMessage&quot;);\n        if (errorMessage != null) {\n            modelAndView.addObject(&quot;errorMessage&quot;, errorMessage);\n            request.getSession().removeAttribute(&quot;errorMessage&quot;);\n        }\n        String message = (String) request.getSession().getAttribute(&quot;message&quot;);\n        if (message != null) {\n            modelAndView.addObject(&quot;message&quot;, message);\n            request.getSession().removeAttribute(&quot;message&quot;);\n        }\n\n        return modelAndView;\n    }\n</code></pre>\n<p><strong>update-announcement.html:</strong></p>\n<p>update page.</p>\n<pre><code>`&lt;div class=&quot;card card-primary mx-5 mb-5&quot;&gt;\n            &lt;div class=&quot;card-header&quot;&gt;\n                &lt;h3 class=&quot;card-title&quot;&gt;Announcement&lt;/h3&gt;\n            &lt;/div&gt;\n\n\n            &lt;form th:action=&quot;@{/update-announcement/{id}(id=${announcement.id})}&quot; method=&quot;post&quot; enctype=&quot;application/x-www-form-urlencoded&quot; th:object=&quot;${announcement}&quot;&gt;\n                &lt;div th:if=&quot;${message}&quot; id=&quot;alertMessage&quot; class=&quot;alert alert-success m-2&quot; role=&quot;alert&quot;&gt;\n                    &lt;p th:text=&quot;${message}&quot;&gt;&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;div th:if=&quot;${errorMessage}&quot; id=&quot;errorMessage&quot; class=&quot;alert alert-danger m-2&quot; role=&quot;alert&quot;&gt;\n                    &lt;p th:text=&quot;${errorMessage}&quot;&gt;&lt;/p&gt;\n                &lt;/div&gt;\n\n                &lt;style&gt;\n          /* CSS for transparent alert */\n          #alertMessage, #errorMessage {\n            opacity: 0.7; /* Adjust transparency as desired */\n            transition: opacity 0.5s ease-in-out;\n          }\n        &lt;/style&gt;\n\n                &lt;script&gt;\n          // JavaScript to hide the alert message after 5 seconds\n          setTimeout(function() {\n            var alertMessage = document.getElementById(&quot;alertMessage&quot;);\n            var errorMessage = document.getElementById(&quot;errorMessage&quot;);\n            if (alertMessage) {\n              alertMessage.style.opacity = 0;\n              setTimeout(function() {\n                alertMessage.style.display = &quot;none&quot;;\n              }, 500);\n            }\n            if (errorMessage) {\n              errorMessage.style.opacity = 0;\n              setTimeout(function() {\n                errorMessage.style.display = &quot;none&quot;;\n              }, 500);\n            }\n          }, 5000);\n        &lt;/script&gt;\n\n                &lt;div class=&quot;card-body&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;id&quot;&gt;Id&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;id&quot; placeholder=&quot;Enter the id&quot; name=&quot;id&quot; th:field=&quot;${announcement.id}&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;title&quot;&gt;Title&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;title&quot; placeholder=&quot;Enter the Title&quot; name=&quot;title&quot; th:field=&quot;${announcement.title}&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;content&quot;&gt;Content&lt;/label&gt;\n                        &lt;textarea class=&quot;form-control&quot; placeholder=&quot;Enter the Content&quot; name=&quot;content&quot; th:field=&quot;${announcement.content}&quot;&gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;createdDate&quot;&gt;Created Date&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;createdDate&quot; placeholder=&quot;Enter the Created Date&quot; name=&quot;createdDate&quot; th:field=&quot;${announcement.createdDate}&quot;&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;card-footer&quot;&gt;\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n\n        &lt;/div&gt;\n</code></pre>\n<p><strong>announcement.html:</strong></p>\n<p>update button in this html file.</p>\n<pre><code>&lt;tr th:each=&quot;announcement : ${announcements}&quot;&gt;\n                        &lt;td th:text=&quot;${announcement.title}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${announcement.content}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${announcement.createdDate}&quot;&gt;&lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;a th:href=&quot;@{/admin-update-announcement/{id}(id=${announcement.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Edit&lt;/a&gt;\n\n                            &lt;form th:action=&quot;@{/admin-announcement-delete/{id}(id=${announcement.id})}&quot; method=&quot;post&quot;&gt;\n                                &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;delete&quot; /&gt;\n                                &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger btn-sm&quot;&gt;Delete&lt;/button&gt;\n                            &lt;/form&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n</code></pre>\n<p>After clicking the Update button, I want files such as css, js, img to appear.</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1689585420,"post_id":76702788,"comment_id":135228986,"body_markdown":"I&#39;d recommend you contact IntelliJ platform developers directly as per https://plugins.jetbrains.com/docs/intellij/getting-help.html","body":"I&#39;d recommend you contact IntelliJ platform developers directly as per <a href=\"https://plugins.jetbrains.com/docs/intellij/getting-help.html\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/docs/intellij/getting-help.html</a>"},{"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"score":0,"creation_date":1689750356,"post_id":76702788,"comment_id":135255618,"body_markdown":"You can use the [IntelliJ Platform Explorer](https://plugins.jetbrains.com/intellij-platform-explorer/extensions?extensions=com.intellij.internalFileTemplate) to find out how other plugins use extension points, which can be very helpful.","body":"You can use the <a href=\"https://plugins.jetbrains.com/intellij-platform-explorer/extensions?extensions=com.intellij.internalFileTemplate\" rel=\"nofollow noreferrer\">IntelliJ Platform Explorer</a> to find out how other plugins use extension points, which can be very helpful."}],"owner":{"account_id":20034051,"reputation":11,"user_id":14686188,"display_name":"Necrosis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689583527,"creation_date":1689583527,"question_id":76702788,"body_markdown":"I&#39;m making an Intellij plugin and I want to create file templates from my own menu, not from the &quot;New&quot; menu. However, java and form files with the .ft extension appear when creating new and when creating a class.\r\n\r\nOnly files with known extensions are displayed, probably the java extension is the problem. However, would it be possible that the fileTemplate is not what I need?\r\n\r\nI want to hide all my template from the user.\r\n\r\n`plugin.xml`\r\n```xml\r\n...\r\n    &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;\r\n        &lt;!-- I tried a lot of options here, but none of them hid it --&gt;\r\n        &lt;internalFileTemplate name=&quot;Prometis Form&quot;/&gt;\r\n        &lt;internalFileTemplate name=&quot;Prometis Panel&quot;/&gt;\r\n        &lt;internalFileTemplate name=&quot;Prometis VP&quot;/&gt;\r\n    &lt;/extensions&gt;\r\n...\r\n```","title":"In Intellij plugin sdk, how to hide file templates from &quot;New&quot; menu?","body":"<p>I'm making an Intellij plugin and I want to create file templates from my own menu, not from the &quot;New&quot; menu. However, java and form files with the .ft extension appear when creating new and when creating a class.</p>\n<p>Only files with known extensions are displayed, probably the java extension is the problem. However, would it be possible that the fileTemplate is not what I need?</p>\n<p>I want to hide all my template from the user.</p>\n<p><code>plugin.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;\n        &lt;!-- I tried a lot of options here, but none of them hid it --&gt;\n        &lt;internalFileTemplate name=&quot;Prometis Form&quot;/&gt;\n        &lt;internalFileTemplate name=&quot;Prometis Panel&quot;/&gt;\n        &lt;internalFileTemplate name=&quot;Prometis VP&quot;/&gt;\n    &lt;/extensions&gt;\n...\n</code></pre>\n"},{"tags":["java","mysql","sqlite","swing"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689095741,"creation_date":1689095741,"answer_id":76664360,"question_id":76664056,"body_markdown":"No need to use db-specific classes. Try the following:\r\n\r\n```\r\nimport com.database.DbConnect;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class mainframe extends javax.swing.JFrame {\r\n\r\n    public mainframe() {\r\n        initComponents();\r\n    }\r\n\r\n    private void addbtnActionPerformed(java.awt.event.ActionEvent evt) {\r\n        String name = namebox.getText();\r\n        String sql = &quot;INSERT INTO student(name) VALUES (?)&quot;;\r\n\r\n        try (Connection conn = DbConnect.connect(); PreparedStatement pst = conn.prepareStatement(sql)) {\r\n            pst.setString(1, name);\r\n            pst.executeUpdate();\r\n            JOptionPane.showMessageDialog(null, &quot;Inserted&quot;);\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }\r\n    }\r\n}\r\n```","title":"java.lang.ClassCastException: class org.sqlite.Conn cannot be cast to class com.mysql.jdbc.Connection (Connection are unnamed module)","body":"<p>No need to use db-specific classes. Try the following:</p>\n<pre><code>import com.database.DbConnect;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport javax.swing.JOptionPane;\n\npublic class mainframe extends javax.swing.JFrame {\n\n    public mainframe() {\n        initComponents();\n    }\n\n    private void addbtnActionPerformed(java.awt.event.ActionEvent evt) {\n        String name = namebox.getText();\n        String sql = &quot;INSERT INTO student(name) VALUES (?)&quot;;\n\n        try (Connection conn = DbConnect.connect(); PreparedStatement pst = conn.prepareStatement(sql)) {\n            pst.setString(1, name);\n            pst.executeUpdate();\n            JOptionPane.showMessageDialog(null, &quot;Inserted&quot;);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16340542,"reputation":9,"user_id":11801534,"display_name":"Kely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1689582481,"creation_date":1689093136,"question_id":76664056,"body_markdown":"I got this error:\r\n\r\n&gt; java.lang.ClassCastException: class org.sqlite.Conn cannot be cast to class com.mysql.jdbc.Connection (Connection are unnamed module)\r\n\r\nI am getting this error when I run:\r\n\r\n    import com.database.DbConnect;\r\n    import java.sql.Connection;\r\n    import com.mysql.jdbc.PreparedStatement;\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class mainframe extends javax.swing.JFrame {\r\n        Connection conn = null;\r\n        PreparedStatement pst = null;\r\n\r\n        public mainframe() {\r\n            initComponents();\r\n            conn = DbConnect.connect();\r\n        }\r\n        private void addbtnActionPerformed(java.awt.event.ActionEvent evt) {\r\n            String name = namebox.getText();\r\n            String sql = &quot;INSERT INTO student(name)VALUES(&#39;&quot; + name + &quot;&#39;)&quot;;\r\n\r\n            try {\r\n                pst = (PreparedStatement) conn.prepareStatement(sql);\r\n                pst.execute();\r\n                JOptionPane.showMessageDialog(null, &quot;Inserted&quot;);\r\n            } catch (Exception e) {\r\n                JOptionPane.showMessageDialog(null, e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bYPSz.jpg","title":"java.lang.ClassCastException: class org.sqlite.Conn cannot be cast to class com.mysql.jdbc.Connection (Connection are unnamed module)","body":"<p>I got this error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class org.sqlite.Conn cannot be cast to class com.mysql.jdbc.Connection (Connection are unnamed module)</p>\n</blockquote>\n<p>I am getting this error when I run:</p>\n<pre><code>import com.database.DbConnect;\nimport java.sql.Connection;\nimport com.mysql.jdbc.PreparedStatement;\nimport javax.swing.JOptionPane;\n\npublic class mainframe extends javax.swing.JFrame {\n    Connection conn = null;\n    PreparedStatement pst = null;\n\n    public mainframe() {\n        initComponents();\n        conn = DbConnect.connect();\n    }\n    private void addbtnActionPerformed(java.awt.event.ActionEvent evt) {\n        String name = namebox.getText();\n        String sql = &quot;INSERT INTO student(name)VALUES('&quot; + name + &quot;')&quot;;\n\n        try {\n            pst = (PreparedStatement) conn.prepareStatement(sql);\n            pst.execute();\n            JOptionPane.showMessageDialog(null, &quot;Inserted&quot;);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1689580606,"post_id":76702455,"comment_id":135228021,"body_markdown":"Code could be running on a CPU with multiple cores or hyperthreading active. So really multiple threads can run at the same time","body":"Code could be running on a CPU with multiple cores or hyperthreading active. So really multiple threads can run at the same time"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689580661,"post_id":76702455,"comment_id":135228034,"body_markdown":"Make a thread dump and you can see what is active.","body":"Make a thread dump and you can see what is active."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689581714,"post_id":76702455,"comment_id":135228230,"body_markdown":"short answer: because two threads are estimated to be active. To get all *live* threads you can use [`Thread.getAllStackTraces()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#getAllStackTraces()) - you will probably get more than 2 (Finalizer, Attach Listener, Reference Handler, Signal Dispatcher, ... probably more or less depending on system and other details)","body":"short answer: because two threads are estimated to be active. To get all <i>live</i> threads you can use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#getAllStackTraces()\" rel=\"nofollow noreferrer\"><code>Thread.getAllStackTraces()</code></a> - you will probably get more than 2 (Finalizer, Attach Listener, Reference Handler, Signal Dispatcher, ... probably more or less depending on system and other details)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689584034,"post_id":76702455,"comment_id":135228726,"body_markdown":"What makes you think there should be only one thread? Java has threads for GC, AWT event despatch, RMI listeners, all kinds of things.","body":"What makes you think there should be only one thread? Java has threads for GC, AWT event despatch, RMI listeners, all kinds of things."},{"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"score":0,"creation_date":1689598226,"post_id":76702455,"comment_id":135231726,"body_markdown":"I thought that there should only be one thread since in the tutorial I am following it only shows 1 thread","body":"I thought that there should only be one thread since in the tutorial I am following it only shows 1 thread"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689581448,"creation_date":1689581448,"answer_id":76702567,"question_id":76702455,"body_markdown":"Instead of guessing what threads these could be you can expand your code to write out the threads names:\r\n\r\n    public class ThreadCount {\r\n        public static void main(String[] args) {\r\n            System.out.println(Thread.activeCount() + &quot; threads:&quot;);\r\n            Thread[] allThreads = new Thread[10];\r\n            Thread.enumerate(allThreads);\r\n            for (Thread t: allThreads) {\r\n                if (t != null) {\r\n                    System.out.format(&quot;%d %s%n&quot;, t.getId(), t.getName());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOn my windows machine this outputs:\r\n\r\n&gt;     2 threads:\r\n&gt;     1 main\r\n&gt;     14 Monitor Ctrl-Break\r\n\r\nSo the second thread is a JVM-created thread that seems to exist to monitor the Ctrl-Break key combination. Whether this thread is started or not may depend on your environment (running from console versus running a GUI application, running on Windows versus running on Linux, on Mac, on ....)","title":"Why does the Thread.activeCount() method returns 2?","body":"<p>Instead of guessing what threads these could be you can expand your code to write out the threads names:</p>\n<pre><code>public class ThreadCount {\n    public static void main(String[] args) {\n        System.out.println(Thread.activeCount() + &quot; threads:&quot;);\n        Thread[] allThreads = new Thread[10];\n        Thread.enumerate(allThreads);\n        for (Thread t: allThreads) {\n            if (t != null) {\n                System.out.format(&quot;%d %s%n&quot;, t.getId(), t.getName());\n            }\n        }\n    }\n}\n</code></pre>\n<p>On my windows machine this outputs:</p>\n<blockquote>\n<pre><code>2 threads:\n1 main\n14 Monitor Ctrl-Break\n</code></pre>\n</blockquote>\n<p>So the second thread is a JVM-created thread that seems to exist to monitor the Ctrl-Break key combination. Whether this thread is started or not may depend on your environment (running from console versus running a GUI application, running on Windows versus running on Linux, on Mac, on ....)</p>\n"}],"owner":{"account_id":25112514,"reputation":47,"user_id":18961975,"display_name":"Alexandru Lolea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76702567,"answer_count":1,"score":-2,"last_activity_date":1689581448,"creation_date":1689580431,"question_id":76702455,"body_markdown":"I am currently learning about Java threads.\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        System.out.println(Thread.activeCount());\r\n      }\r\n    }\r\n\r\nCould anyone please tell me why does this method return the value 2? From what I understand, the only thread that is currently running is the &quot;main&quot; thread. I know that `Thread.activeCount()` &quot;Returns an estimate of the number of active threads in the current thread&#39;s thread group and its subgroups&quot;, so is there a subgroup of this thread that has another active thread? \r\n\r\nThank you in advance for taking the time to help me!\r\n","title":"Why does the Thread.activeCount() method returns 2?","body":"<p>I am currently learning about Java threads.</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    System.out.println(Thread.activeCount());\n  }\n}\n</code></pre>\n<p>Could anyone please tell me why does this method return the value 2? From what I understand, the only thread that is currently running is the &quot;main&quot; thread. I know that <code>Thread.activeCount()</code> &quot;Returns an estimate of the number of active threads in the current thread's thread group and its subgroups&quot;, so is there a subgroup of this thread that has another active thread?</p>\n<p>Thank you in advance for taking the time to help me!</p>\n"},{"tags":["java","static","initialization"],"comments":[{"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"score":4,"creation_date":1334744635,"post_id":10207388,"comment_id":13108250,"body_markdown":"There are older and fouler things than Orcs in the deep places of the world.","body":"There are older and fouler things than Orcs in the deep places of the world."},{"owner":{"account_id":144642,"reputation":29082,"user_id":353852,"display_name":"krock"},"score":0,"creation_date":1334744684,"post_id":10207388,"comment_id":13108264,"body_markdown":"Maybe you should post the problem you are trying to solve.  There will be a better way.","body":"Maybe you should post the problem you are trying to solve.  There will be a better way."},{"owner":{"account_id":749244,"reputation":1115,"user_id":742103,"accept_rate":62,"display_name":"waqas"},"score":0,"creation_date":1334744960,"post_id":10207388,"comment_id":13108395,"body_markdown":"@krock i want to do some mapping in teradata java udfs for which i need to initialize my arrays hardcodeidly","body":"@krock i want to do some mapping in teradata java udfs for which i need to initialize my arrays hardcodeidly"},{"owner":{"account_id":144642,"reputation":29082,"user_id":353852,"display_name":"krock"},"score":0,"creation_date":1334745134,"post_id":10207388,"comment_id":13108463,"body_markdown":"It maybe better solved by writing a method that takes an int argument and returns the string value that would have been at that array index.","body":"It maybe better solved by writing a method that takes an int argument and returns the string value that would have been at that array index."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1353388830,"post_id":10207388,"comment_id":18421356,"body_markdown":"I can just see one of the Java guys going: &quot;65KB ought to be enough for anybody&quot;...  one would think people learn from past mistakes... Yay for work-arounds... How lame...","body":"I can just see one of the Java guys going: &quot;65KB ought to be enough for anybody&quot;...  one would think people learn from past mistakes... Yay for work-arounds... How lame..."}],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1334744502,"creation_date":1334744502,"answer_id":10207421,"question_id":10207388,"body_markdown":"Use `for` loops. For example:\r\n\r\n    for (int i = 0; i &lt;= 9; i++)\r\n        array1[i] = String.valueOf(i);","title":"The code for the static initializer is exceeding the 65535 bytes limit error in java?","body":"<p>Use <code>for</code> loops. For example:</p>\n\n<pre><code>for (int i = 0; i &lt;= 9; i++)\n    array1[i] = String.valueOf(i);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":749244,"reputation":1115,"user_id":742103,"accept_rate":62,"display_name":"waqas"},"score":1,"creation_date":1334746923,"post_id":10207705,"comment_id":13109127,"body_markdown":"thanks J&#246;rn for your help..it seems to be the solution for my problem","body":"thanks J&#246;rn for your help..it seems to be the solution for my problem"}],"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1334745653,"creation_date":1334745653,"answer_id":10207705,"question_id":10207388,"body_markdown":"Constant array in are initialized in java bytecode by loading each value from the constant pool and assigning it to the corresponding array index. This takes several bytes of code per array element. The size of a jvm method is limited to 65535 bytes since its length is stored in the class file using a 16 bit number.\r\n\r\nIn the case where the values can not be easily calculated in a loop, you could break the initialization into separate static functions:\r\n\r\n    static {\r\n        array1 = getValuesForArray1();\r\n        ...\r\n    }\r\n\r\n    private static String[] getValuesForArray1() {\r\n        ...\r\n    }\r\n\r\nIf there is a pattern to the initialization values its of course better to calculate the values on the fly.","title":"The code for the static initializer is exceeding the 65535 bytes limit error in java?","body":"<p>Constant array in are initialized in java bytecode by loading each value from the constant pool and assigning it to the corresponding array index. This takes several bytes of code per array element. The size of a jvm method is limited to 65535 bytes since its length is stored in the class file using a 16 bit number.</p>\n\n<p>In the case where the values can not be easily calculated in a loop, you could break the initialization into separate static functions:</p>\n\n<pre><code>static {\n    array1 = getValuesForArray1();\n    ...\n}\n\nprivate static String[] getValuesForArray1() {\n    ...\n}\n</code></pre>\n\n<p>If there is a pattern to the initialization values its of course better to calculate the values on the fly.</p>\n"},{"tags":[],"owner":{"account_id":144642,"reputation":29082,"user_id":353852,"display_name":"krock"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1334746714,"creation_date":1334746044,"answer_id":10207811,"question_id":10207388,"body_markdown":"It maybe better solved by writing a method that takes an int argument and returns the string value that would have been at that array index.  Here it is using String.format and specifying the left padding length:\r\n\r\n    private static String getValue(int index, int stringLength) {\r\n        return String.format(&quot;%0&quot; + stringLength + &quot;d&quot;, index);\r\n    }","title":"The code for the static initializer is exceeding the 65535 bytes limit error in java?","body":"<p>It maybe better solved by writing a method that takes an int argument and returns the string value that would have been at that array index.  Here it is using String.format and specifying the left padding length:</p>\n\n<pre><code>private static String getValue(int index, int stringLength) {\n    return String.format(\"%0\" + stringLength + \"d\", index);\n}\n</code></pre>\n"}],"owner":{"account_id":749244,"reputation":1115,"user_id":742103,"accept_rate":62,"display_name":"waqas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12082,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":10207705,"answer_count":3,"score":6,"last_activity_date":1689581406,"creation_date":1334744405,"question_id":10207388,"body_markdown":"Hi I am trying to initialize 4 string arrays of length 10,100,1000,10000 and these arrays are like \r\n\r\n    array1={&quot;0&quot;,&quot;1&quot;,...&quot;9&quot;} \r\n    array2={&quot;00&quot;,&quot;01&quot;,...&quot;99&quot;} \r\n    array3={&quot;000&quot;,&quot;001&quot;,...&quot;999&quot;} \r\n    array4={&quot;0000&quot;,&quot;0001&quot;,...&quot;9999&quot;} \r\n\r\nBut I am getting the error of **The code for the static initializer is exceeding the 65535 bytes limit** \r\n\r\nhow can I initialize my arrays?\r\n\r\nAlso note that loading it from file is not an option for me :(","title":"The code for the static initializer is exceeding the 65535 bytes limit error in java?","body":"<p>Hi I am trying to initialize 4 string arrays of length 10,100,1000,10000 and these arrays are like </p>\n\n<pre><code>array1={\"0\",\"1\",...\"9\"} \narray2={\"00\",\"01\",...\"99\"} \narray3={\"000\",\"001\",...\"999\"} \narray4={\"0000\",\"0001\",...\"9999\"} \n</code></pre>\n\n<p>But I am getting the error of <strong>The code for the static initializer is exceeding the 65535 bytes limit</strong> </p>\n\n<p>how can I initialize my arrays?</p>\n\n<p>Also note that loading it from file is not an option for me :(</p>\n"},{"tags":["java","performance","debugging","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":5838196,"reputation":1292,"user_id":4600588,"accept_rate":60,"display_name":"SDJSK"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1571990198,"creation_date":1571990198,"answer_id":58554426,"question_id":55784185,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nScroll to the end, and watch the line number\r\n\r\n  [1]: https://i.stack.imgur.com/roulh.png\r\n  [2]: https://i.stack.imgur.com/wZQRT.png","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p><a href=\"https://i.stack.imgur.com/roulh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/roulh.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/wZQRT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wZQRT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Scroll to the end, and watch the line number</p>\n"},{"tags":[],"owner":{"account_id":11898682,"reputation":1451,"user_id":8733066,"display_name":"bb1950328"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588167607,"creation_date":1588167607,"answer_id":61503165,"question_id":55784185,"body_markdown":"The approach of DaSqy Stc is good, but it doesn&#39;t work when there are other log messages are printed or if you want to track multiple breakpoints individually.\r\n\r\nSolution is to keep the option &quot;log to console&quot; on and click inside the console, press [Ctrl]+[F] and search after &quot;Breakpoint reached at RemoveFromList.remove(RemoveFromList.java:38)&quot; and it says 1/6. The right number is the one you want.","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p>The approach of DaSqy Stc is good, but it doesn't work when there are other log messages are printed or if you want to track multiple breakpoints individually.</p>\n\n<p>Solution is to keep the option \"log to console\" on and click inside the console, press [Ctrl]+[F] and search after \"Breakpoint reached at RemoveFromList.remove(RemoveFromList.java:38)\" and it says 1/6. The right number is the one you want.</p>\n"},{"comments":[{"owner":{"account_id":57065,"reputation":1329,"user_id":170945,"accept_rate":72,"display_name":"Andres A."},"score":0,"creation_date":1637858071,"post_id":69666091,"comment_id":123943060,"body_markdown":"Do you know where I can find this &quot;overhead&quot; pane in Rider?","body":"Do you know where I can find this &quot;overhead&quot; pane in Rider?"},{"owner":{"account_id":3916547,"reputation":607,"user_id":6286694,"accept_rate":100,"display_name":"ABika"},"score":0,"creation_date":1637951997,"post_id":69666091,"comment_id":123967829,"body_markdown":"@AndresA. sorry, i don&#39;t have it. It&#39;s possible that Rider does not have this functionality. The screenshot at https://www.jetbrains.com/rider/features/#debugging does not show it.","body":"@AndresA. sorry, i don&#39;t have it. It&#39;s possible that Rider does not have this functionality. The screenshot at <a href=\"https://www.jetbrains.com/rider/features/#debugging\" rel=\"nofollow noreferrer\">jetbrains.com/rider/features/#debugging</a> does not show it."}],"tags":[],"owner":{"account_id":3916547,"reputation":607,"user_id":6286694,"accept_rate":100,"display_name":"ABika"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1659349405,"creation_date":1634835977,"answer_id":69666091,"question_id":55784185,"body_markdown":"The **Overhead** tab in the Debugger view has a &quot;Hits&quot; column. You don&#39;t even have to have *Suspend* or *Log to Console* being enabled for the breakpoint to be counted. See the help page [Monitor debugger overhead](https://www.jetbrains.com/help/idea/monitor-debugger-overhead.html).\r\n\r\n[![Overhead tab in Intellij IDEA  Debugger][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xLui1.png","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p>The <strong>Overhead</strong> tab in the Debugger view has a &quot;Hits&quot; column. You don't even have to have <em>Suspend</em> or <em>Log to Console</em> being enabled for the breakpoint to be counted. See the help page <a href=\"https://www.jetbrains.com/help/idea/monitor-debugger-overhead.html\" rel=\"noreferrer\">Monitor debugger overhead</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/xLui1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xLui1.png\" alt=\"Overhead tab in Intellij IDEA  Debugger\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5194890,"reputation":4397,"user_id":4156577,"accept_rate":75,"display_name":"DarthGizka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689581194,"creation_date":1689581194,"answer_id":76702545,"question_id":55784185,"body_markdown":"Like ABika said, enabling the debugger pane Overhead view ...\r\n\r\n[![enable debugger Overhead view][1]][1]\r\n\r\n... lets you see the hit counts for your breakpoints. \r\n\r\nHowever, in scenarios like this it can often be useful to set breakpoints to be **non-stopping** if they are merely intended for counting. Simply right-click a breakpoint or select it in the Breakpoints list and remove the tick mark next to Suspend:\r\n\r\n[![Suspend check box in breakpoint options][2]][2]\r\n\r\nThis makes the breakpoint turn yellow:\r\n\r\n[![breakpoint turned yellow][3]][3]\r\n\r\nThen you can run your code in debug mode without having to stop even a single time unless you want to. \r\n\r\nUnlike the Variables or Frames views, the Overhead view remains available even after debugging has ended:\r\n\r\n[![breakpoint hit count in Overhead view][4]][4]\r\n\r\nThis can be a real lifesaver if a breakpoint can get hit hundreds or thousands of times. The configurable breakpoint conditions and filters can also be extremely useful in such scenarios. \r\n\r\n  [1]: https://i.stack.imgur.com/yN49N.png\r\n  [2]: https://i.stack.imgur.com/bXvTU.png\r\n  [3]: https://i.stack.imgur.com/ye3EK.png\r\n  [4]: https://i.stack.imgur.com/lb0i0.png","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p>Like ABika said, enabling the debugger pane Overhead view ...</p>\n<p><a href=\"https://i.stack.imgur.com/yN49N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yN49N.png\" alt=\"enable debugger Overhead view\" /></a></p>\n<p>... lets you see the hit counts for your breakpoints.</p>\n<p>However, in scenarios like this it can often be useful to set breakpoints to be <strong>non-stopping</strong> if they are merely intended for counting. Simply right-click a breakpoint or select it in the Breakpoints list and remove the tick mark next to Suspend:</p>\n<p><a href=\"https://i.stack.imgur.com/bXvTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bXvTU.png\" alt=\"Suspend check box in breakpoint options\" /></a></p>\n<p>This makes the breakpoint turn yellow:</p>\n<p><a href=\"https://i.stack.imgur.com/ye3EK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ye3EK.png\" alt=\"breakpoint turned yellow\" /></a></p>\n<p>Then you can run your code in debug mode without having to stop even a single time unless you want to.</p>\n<p>Unlike the Variables or Frames views, the Overhead view remains available even after debugging has ended:</p>\n<p><a href=\"https://i.stack.imgur.com/lb0i0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lb0i0.png\" alt=\"breakpoint hit count in Overhead view\" /></a></p>\n<p>This can be a real lifesaver if a breakpoint can get hit hundreds or thousands of times. The configurable breakpoint conditions and filters can also be extremely useful in such scenarios.</p>\n"}],"owner":{"account_id":2509719,"reputation":651,"user_id":2182500,"display_name":"Laguh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4053,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":58554426,"answer_count":4,"score":8,"last_activity_date":1689581194,"creation_date":1555861271,"question_id":55784185,"body_markdown":"I need to count the number of times a given line of code is hit during execution. I want to use it via debugging tool on my IDE and not a code or performance tool solution.\r\n\r\nI am already using YourKit to profile the project, and do not want number of line calls via this tool. \r\n\r\nI also do not want to count hits using code (with System.out.print and a variable) because I will be checking the procedure at different branches.\r\n\r\nI already checked IntelliJ IDEA help.\r\n\r\nAlso checked both this posts:\r\nhttps://stackoverflow.com/questions/9252597/debugging-and-counting-breakpoint-hits\r\nhttps://stackoverflow.com/questions/30486472/counting-breakpoint-hits\r\n\r\nBut none of them replies to what I am looking for.\r\n\r\nI am currently using IntelliJ&#39;s breakpoint options: `Log to console` .\r\n\r\n[![this code snippet is just an example and not the actual code I will use it for][1]][1]\r\n\r\nThe way I am using the breakpoint option in IntelliJ I get a log message every time the breakpoint is hit, and then I have to count the number of messages.\r\n\r\n[![enter image description here][2]][2]\r\nI would like to get an actual number of hits so I do not have to count messages.\r\n\r\nIf anyone knows a simple direct solution to achieving this via IntelliJ I really appreciate. Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/65y1P.png\r\n  [2]: https://i.stack.imgur.com/m4bDO.png","title":"How to count breakpoint hits using IntelliJ during debugging","body":"<p>I need to count the number of times a given line of code is hit during execution. I want to use it via debugging tool on my IDE and not a code or performance tool solution.</p>\n\n<p>I am already using YourKit to profile the project, and do not want number of line calls via this tool. </p>\n\n<p>I also do not want to count hits using code (with System.out.print and a variable) because I will be checking the procedure at different branches.</p>\n\n<p>I already checked IntelliJ IDEA help.</p>\n\n<p>Also checked both this posts:\n<a href=\"https://stackoverflow.com/questions/9252597/debugging-and-counting-breakpoint-hits\">Debugging and counting breakpoint hits</a>\n<a href=\"https://stackoverflow.com/questions/30486472/counting-breakpoint-hits\">Counting breakpoint hits</a></p>\n\n<p>But none of them replies to what I am looking for.</p>\n\n<p>I am currently using IntelliJ's breakpoint options: <code>Log to console</code> .</p>\n\n<p><a href=\"https://i.stack.imgur.com/65y1P.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/65y1P.png\" alt=\"this code snippet is just an example and not the actual code I will use it for\"></a></p>\n\n<p>The way I am using the breakpoint option in IntelliJ I get a log message every time the breakpoint is hit, and then I have to count the number of messages.</p>\n\n<p><a href=\"https://i.stack.imgur.com/m4bDO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/m4bDO.png\" alt=\"enter image description here\"></a>\nI would like to get an actual number of hits so I do not have to count messages.</p>\n\n<p>If anyone knows a simple direct solution to achieving this via IntelliJ I really appreciate. Thanks in advance.</p>\n"},{"tags":["java","classloading"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689548312,"post_id":76700724,"comment_id":135225010,"body_markdown":"Does this answer your question? [How do I resolve ClassNotFoundException?](https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception\">How do I resolve ClassNotFoundException?</a>"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1689549238,"post_id":76700724,"comment_id":135225074,"body_markdown":"Did you `export` the necessary packages in the module declarations? https://www.oracle.com/corporate/features/understanding-java-9-modules.html","body":"Did you <code>export</code> the necessary packages in the module declarations? <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">oracle.com/corporate/features/understanding-java-9-modules.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":22659027,"reputation":23,"user_id":16832449,"display_name":"BrokenStudio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689580705,"creation_date":1689580705,"answer_id":76702485,"question_id":76700724,"body_markdown":"Found the solution myself. My custom ClassLoader used new UrlClassLoader() when I loaded a new Class, but you have to make sure to create One UrlClassLoader and use this one for every time when I use the loadClass method. By doing this, module A can now access the Classes from Module B an the other way arround.","title":"Classes not accessible even after loading them with a class loader","body":"<p>Found the solution myself. My custom ClassLoader used new UrlClassLoader() when I loaded a new Class, but you have to make sure to create One UrlClassLoader and use this one for every time when I use the loadClass method. By doing this, module A can now access the Classes from Module B an the other way arround.</p>\n"}],"owner":{"account_id":22659027,"reputation":23,"user_id":16832449,"display_name":"BrokenStudio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689580705,"creation_date":1689548031,"question_id":76700724,"body_markdown":"I am currently workin on an Application which is able to load modules provided in other jar files by using a custom classLoader \r\n```\r\nMyModule myModule = myModuleClassLoader.loadClass(f.getPath(), \r\n                    moduleConfig.classpath, MyModule.class);\r\n```\r\nThis works perfectly fine, the modules can use all provided methods by the core application, and they can subscribe to events. Now the issues is, that if I have two modules for example, A and B, and I load both modules, they will be loaded as intended, but when I try to access a class from module A in module B, I get a `ClassNotFoundException`. I don&#39;t really have an idea why this is happening, because the CoreApplication is loading both modules, and all interaction from the modules to the core application work as intended.  \r\n","title":"Classes not accessible even after loading them with a class loader","body":"<p>I am currently workin on an Application which is able to load modules provided in other jar files by using a custom classLoader</p>\n<pre><code>MyModule myModule = myModuleClassLoader.loadClass(f.getPath(), \n                    moduleConfig.classpath, MyModule.class);\n</code></pre>\n<p>This works perfectly fine, the modules can use all provided methods by the core application, and they can subscribe to events. Now the issues is, that if I have two modules for example, A and B, and I load both modules, they will be loaded as intended, but when I try to access a class from module A in module B, I get a <code>ClassNotFoundException</code>. I don't really have an idea why this is happening, because the CoreApplication is loading both modules, and all interaction from the modules to the core application work as intended.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1689578804,"post_id":76702239,"comment_id":135227686,"body_markdown":"Stop using the outdated class `java.util.Date` move over ti the newer `java.time` API","body":"Stop using the outdated class <code>java.util.Date</code> move over ti the newer <code>java.time</code> API"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689580162,"post_id":76702239,"comment_id":135227937,"body_markdown":"@cokachi I was going to help, but if you&#39;re like that... pass","body":"@cokachi I was going to help, but if you&#39;re like that... pass"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1689582938,"post_id":76702239,"comment_id":135228476,"body_markdown":"@Jens You can change `Date` package or not depending on the size of your project, the agreement of your colleagues, etc. If the question is about `java.util.Date` it&#39;s about this class, and we have to do with it.","body":"@Jens You can change <code>Date</code> package or not depending on the size of your project, the agreement of your colleagues, etc. If the question is about <code>java.util.Date</code> it&#39;s about this class, and we have to do with it."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1689583390,"post_id":76702239,"comment_id":135228577,"body_markdown":"@MarcLeBihan I do not understand what you want to say. The suggestion to not use old outdated classes is always valid in my opinion. Especially if this class is outdated since decades","body":"@MarcLeBihan I do not understand what you want to say. The suggestion to not use old outdated classes is always valid in my opinion. Especially if this class is outdated since decades"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1689587686,"post_id":76702239,"comment_id":135229478,"body_markdown":"@Jens it is out of subject.","body":"@Jens it is out of subject."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689591817,"post_id":76702239,"comment_id":135230301,"body_markdown":"Re, &quot;*give me the code&quot;* -- a somewhat insulting request. -1","body":"Re, &quot;<i>give me the code&quot;</i> -- a somewhat insulting request. -1"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689579618,"creation_date":1689579618,"answer_id":76702375,"question_id":76702239,"body_markdown":"Format of the date does not match the default format for jackson. Use [JsonFormat.pattern()][1] on the property to specify the correct format.\r\n```\r\n@JsonFormat(pattern = &quot;MMM dd, yyyy hh:mm:ss a&quot;)\r\n```\r\nAlso, if possible don&#39;t use the outdated and error prone `Date`, `SimpleDateFormat`, etc. They were supplanted in java **8** by [java.time][2], the modern java date-time API.\r\n\r\n  [1]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.html#pattern--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Exception during date parsing","body":"<p>Format of the date does not match the default format for jackson. Use <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.9.8/com/fasterxml/jackson/annotation/JsonFormat.html#pattern--\" rel=\"nofollow noreferrer\">JsonFormat.pattern()</a> on the property to specify the correct format.</p>\n<pre><code>@JsonFormat(pattern = &quot;MMM dd, yyyy hh:mm:ss a&quot;)\n</code></pre>\n<p>Also, if possible don't use the outdated and error prone <code>Date</code>, <code>SimpleDateFormat</code>, etc. They were supplanted in java <strong>8</strong> by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>, the modern java date-time API.</p>\n"}],"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":76702375,"answer_count":1,"score":-3,"last_activity_date":1689579618,"creation_date":1689578418,"question_id":76702239,"body_markdown":"I have a pojo where during deserilization i was getting the following exception.\r\n\r\n```\r\nCannot deserialize value of type `java.util.Date` from String &quot;Jul 17, 2023 12:01:45 PM&quot;: not a valid representation (error: Failed to parse Date value &#39;Jul 17, 2023 12:01:45 PM&#39;: Cannot parse date &quot;Jul 17, 2023 12:01:45 PM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))\r\n```\r\n\r\n\r\npojo\r\n\r\n```\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class B implements Serializable {\r\n\r\n@JsonProperty(&quot;alarmtime&quot;)\r\nDate alarmtime = new Date();\r\n}\r\n```\r\n\r\n```\r\nObjectMapper  mapper = new ObjectMapper();\r\nB def = mapper.readValue(doc.toString(), B.class);\r\n```\r\ndoc is the document string present in the database or from other 3rd party api.\r\n\r\ncan anyone please help me.","title":"Exception during date parsing","body":"<p>I have a pojo where during deserilization i was getting the following exception.</p>\n<pre><code>Cannot deserialize value of type `java.util.Date` from String &quot;Jul 17, 2023 12:01:45 PM&quot;: not a valid representation (error: Failed to parse Date value 'Jul 17, 2023 12:01:45 PM': Cannot parse date &quot;Jul 17, 2023 12:01:45 PM&quot;: not compatible with any of standard forms (&quot;yyyy-MM-dd'T'HH:mm:ss.SSSX&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;, &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, &quot;yyyy-MM-dd&quot;))\n</code></pre>\n<p>pojo</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class B implements Serializable {\n\n@JsonProperty(&quot;alarmtime&quot;)\nDate alarmtime = new Date();\n}\n</code></pre>\n<pre><code>ObjectMapper  mapper = new ObjectMapper();\nB def = mapper.readValue(doc.toString(), B.class);\n</code></pre>\n<p>doc is the document string present in the database or from other 3rd party api.</p>\n<p>can anyone please help me.</p>\n"},{"tags":["java","android","web-services","ksoap2","sap-basis"],"comments":[{"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"score":0,"creation_date":1335360482,"post_id":10316689,"comment_id":13280168,"body_markdown":"I used this post to achive but didnt solved http://stackoverflow.com/questions/5613675/how-to-set-soap-header-using-ksoap2-android","body":"I used this post to achive but didnt solved <a href=\"http://stackoverflow.com/questions/5613675/how-to-set-soap-header-using-ksoap2-android\" title=\"how to set soap header using ksoap2 android\">stackoverflow.com/questions/5613675/&hellip;</a>"},{"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"score":0,"creation_date":1335362889,"post_id":10316689,"comment_id":13281309,"body_markdown":"and also when i set URL as my WSDL url, i get only anyType{} result","body":"and also when i set URL as my WSDL url, i get only anyType{} result"},{"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"score":0,"creation_date":1335363457,"post_id":10316689,"comment_id":13281566,"body_markdown":"and also when i replace Object response.. line SoapObject response = (SoapObject)soaSeria.. i got ZmblHucremalzemelistesiResponse{THcrmlzlist=anyType{}; } result :S","body":"and also when i replace Object response.. line SoapObject response = (SoapObject)soaSeria.. i got ZmblHucremalzemelistesiResponse{THcrmlzlist=anyType{}; } result :S"},{"owner":{"account_id":4708131,"reputation":374,"user_id":3809570,"display_name":"Vishwa Pratap"},"score":0,"creation_date":1531928902,"post_id":10316689,"comment_id":89783357,"body_markdown":",I had same problem and i find its solution  here https://stackoverflow.com/questions/51255957/soap-request-creation-using-ksoap2-for-multilevel-tags/51340332#51340332\nyou can follow my whole code and get solution..","body":",I had same problem and i find its solution  here <a href=\"https://stackoverflow.com/questions/51255957/soap-request-creation-using-ksoap2-for-multilevel-tags/51340332#51340332\" title=\"soap request creation using ksoap2 for multilevel tags\">stackoverflow.com/questions/51255957/&hellip;</a> you can follow my whole code and get solution.."}],"answers":[{"comments":[{"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"score":0,"creation_date":1335364391,"post_id":10317747,"comment_id":13282032,"body_markdown":"Thanks for reply, i tried both of bodyIn and getResponse() but, i got result : ZmblHucremalzemelistesiResponse{THcrmlzlist=anyType{}; }\nStill not solved :(","body":"Thanks for reply, i tried both of bodyIn and getResponse() but, i got result : ZmblHucremalzemelistesiResponse{THcrmlzlist=anyType{}; } Still not solved :("},{"owner":{"account_id":319775,"reputation":3025,"user_id":637724,"accept_rate":93,"display_name":"Oguz Ozkeroglu"},"score":1,"creation_date":1335364636,"post_id":10317747,"comment_id":13282159,"body_markdown":"if you can see this: ZmblHucremalzemelistesiResponse{THcrmlzlist=anyType{}; } you can now access the webservice. Did you try test this service using a SOAP client program with same parameters?","body":"if you can see this: ZmblHucremalzemelistesiResponse{THcrmlzlist=anyType{}; } you can now access the webservice. Did you try test this service using a SOAP client program with same parameters?"},{"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"score":0,"creation_date":1335366814,"post_id":10317747,"comment_id":13283263,"body_markdown":"here is the last detailed error : SoapFault - faultcode: &#39;soap-env:Server&#39; faultstring: &#39;CX_ST_MATCH_ELEMENT:XSLT Exception aufgetreten.Element &#39;ILgort&#39; erwartet&#39; faultactor: &#39;null&#39; detail: org.kxml2.kdom.Node@40e845f8","body":"here is the last detailed error : SoapFault - faultcode: &#39;soap-env:Server&#39; faultstring: &#39;CX_ST_MATCH_ELEMENT:XSLT Exception aufgetreten.Element &#39;ILgort&#39; erwartet&#39; faultactor: &#39;null&#39; detail: org.kxml2.kdom.Node@40e845f8"}],"tags":[],"owner":{"account_id":319775,"reputation":3025,"user_id":637724,"accept_rate":93,"display_name":"Oguz Ozkeroglu"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1335363925,"creation_date":1335363925,"answer_id":10317747,"question_id":10316689,"body_markdown":"Try this:\r\n\r\n    final static String NAMESPACE = &quot;urn:sap-com:document:sap:soap:functions:mc-style&quot;;\r\n    \tfinal static String METHOD_NAME = &quot;ZmblHucremalzemelistesi&quot;;\r\n    \tfinal static String SOAP_ACTION = &quot;&quot;;\r\n    \tfinal static String URL = &quot;http://xxx.xxx.xxx.xxx:1080/sap/bc/srt/wsdl/bndg_4F969242EA785040E10080008D0B0B03/wsdl11/allinone/ws_policy/document?sap-client=010&quot;;\r\n    \r\n    \tprivate static final String USERNAME = &quot;YOUR_USERNAME&quot;;\r\n    \tprivate static final String PASSWORD = &quot;YOUR_PASSWORD&quot;;\r\n    \r\n    \tprivate void testWS() {\r\n    \t\tSoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\r\n    \t\trequest.addProperty(&quot;ILgort&quot;, &quot;H12&quot;);\r\n    \t\t\r\n    \t\tSoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n    \t\tenvelope.setOutputSoapObject(request);\r\n    \r\n    \t\tAuthTransportSE androidHttpTransport = new AuthTransportSE(URL, USERNAME, PASSWORD);\r\n    \t\tandroidHttpTransport.debug = true;\r\n    \r\n    \t    try {\r\n    \t    \tandroidHttpTransport.call(SOAP_ACTION, envelope);\r\n    \t    \tSoapObject response = (SoapObject) envelope.getResponse();\r\n    \t    \t// if it did not work, try this:\r\n    \t\t\t// SoapObject response = (SoapObject) envelope.bodyIn;\r\n    \r\n    \t        tv.setText(response.toString());\r\n    \r\n    \t    } catch (IOException e) {\r\n    \t        e.printStackTrace();\r\n    \t    }\r\n    \t}\r\n\r\nAnd AuthTransportSE class is:\r\n\r\n    import java.io.IOException;\r\n    \r\n    import org.ksoap2.transport.HttpTransportSE;\r\n    import org.ksoap2.transport.ServiceConnection;\r\n    import org.ksoap2.transport.ServiceConnectionSE;\r\n    \r\n    public class AuthTransportSE extends HttpTransportSE{\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \t\r\n    \tpublic AuthTransportSE(String url, String username, String password) {\r\n    \t\tsuper(url);\r\n    \t\tthis.username = username;\r\n    \t\tthis.password = password;\t\t\r\n    \t}\r\n    \t\r\n    \tprotected ServiceConnection getServiceConnection() throws IOException {\r\n    \t\tServiceConnection midpConnection = new ServiceConnectionSE(url);\r\n    \t\taddBasicAuthentication(midpConnection);\r\n    \t\treturn midpConnection;\r\n    \t}\r\n    \t\r\n    \tprotected void addBasicAuthentication(ServiceConnection midpConnection) throws IOException {\r\n            if (username != null &amp;&amp; password != null) {\r\n                StringBuffer buf = new StringBuffer(username);\r\n                buf.append(&#39;:&#39;).append(password);\r\n                byte[] raw = buf.toString().getBytes();\r\n                buf.setLength(0);\r\n                buf.append(&quot;Basic &quot;);\r\n                org.kobjects.base64.Base64.encode(raw, 0, raw.length, buf);\r\n                midpConnection.setRequestProperty(&quot;Authorization&quot;, buf.toString());\r\n            }\r\n        }\r\n    }","title":"how to authenticate SAP web service with ksoap2","body":"<p>Try this:</p>\n\n<pre><code>final static String NAMESPACE = \"urn:sap-com:document:sap:soap:functions:mc-style\";\n    final static String METHOD_NAME = \"ZmblHucremalzemelistesi\";\n    final static String SOAP_ACTION = \"\";\n    final static String URL = \"http://xxx.xxx.xxx.xxx:1080/sap/bc/srt/wsdl/bndg_4F969242EA785040E10080008D0B0B03/wsdl11/allinone/ws_policy/document?sap-client=010\";\n\n    private static final String USERNAME = \"YOUR_USERNAME\";\n    private static final String PASSWORD = \"YOUR_PASSWORD\";\n\n    private void testWS() {\n        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\n        request.addProperty(\"ILgort\", \"H12\");\n\n        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n        envelope.setOutputSoapObject(request);\n\n        AuthTransportSE androidHttpTransport = new AuthTransportSE(URL, USERNAME, PASSWORD);\n        androidHttpTransport.debug = true;\n\n        try {\n            androidHttpTransport.call(SOAP_ACTION, envelope);\n            SoapObject response = (SoapObject) envelope.getResponse();\n            // if it did not work, try this:\n            // SoapObject response = (SoapObject) envelope.bodyIn;\n\n            tv.setText(response.toString());\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>And AuthTransportSE class is:</p>\n\n<pre><code>import java.io.IOException;\n\nimport org.ksoap2.transport.HttpTransportSE;\nimport org.ksoap2.transport.ServiceConnection;\nimport org.ksoap2.transport.ServiceConnectionSE;\n\npublic class AuthTransportSE extends HttpTransportSE{\n    private String username;\n    private String password;\n\n    public AuthTransportSE(String url, String username, String password) {\n        super(url);\n        this.username = username;\n        this.password = password;       \n    }\n\n    protected ServiceConnection getServiceConnection() throws IOException {\n        ServiceConnection midpConnection = new ServiceConnectionSE(url);\n        addBasicAuthentication(midpConnection);\n        return midpConnection;\n    }\n\n    protected void addBasicAuthentication(ServiceConnection midpConnection) throws IOException {\n        if (username != null &amp;&amp; password != null) {\n            StringBuffer buf = new StringBuffer(username);\n            buf.append(':').append(password);\n            byte[] raw = buf.toString().getBytes();\n            buf.setLength(0);\n            buf.append(\"Basic \");\n            org.kobjects.base64.Base64.encode(raw, 0, raw.length, buf);\n            midpConnection.setRequestProperty(\"Authorization\", buf.toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1414682,"reputation":103,"user_id":1340565,"accept_rate":88,"display_name":"GK Soft"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2835,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":10317747,"answer_count":1,"score":4,"last_activity_date":1689579507,"creation_date":1335360423,"question_id":10316689,"body_markdown":"I have to connect a SAP web service. Here is my code but it warns:\r\n&gt;org.xmlpull.v1.XmlPullParserException: expected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@1:7 in java.io.InputStreamReader@40e3fe98) \r\n\r\nHere is my full code to connect with username and password. \r\n\r\n    final static String NAMESPACE = &quot;urn:sap-com:document:sap:soap:functions:mc-style&quot;;\r\n\tfinal static String METHOD_NAME = &quot;ZmblHucremalzemelistesi&quot;;\r\n\tfinal static String SOAP_ACTION = &quot;&quot;;\r\n\tfinal static String URL = &quot;http://xxx.xxx.xxx.xxx:1080/sap/bc/srt/wsdl/bndg_4F969242EA785040E10080008D0B0B03/wsdl11/allinone/ws_policy/document?sap-client=010&quot;;\r\n\r\n\r\n    private void testWS() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\t \r\n\t\tSoapObject reSoapObject = new SoapObject(NAMESPACE, METHOD_NAME);\r\n\t\tSoapSerializationEnvelope soaSerializationEnvelope = new SoapSerializationEnvelope(\r\n\t\t\t\tSoapEnvelope.VER11);\r\n\t\t\r\n\t\treSoapObject.addProperty(&quot;ILgort&quot;, &quot;H12&quot;);\r\n\t\t\r\n\t\tsoaSerializationEnvelope.setOutputSoapObject(reSoapObject);\r\n\t\tsoaSerializationEnvelope.headerOut = new Element[1]; \r\n\t\tsoaSerializationEnvelope.headerOut[0] = buildAuthHeader(); \r\n\t\t\r\n\t\tHttpTransportSE httpTransportSE = new HttpTransportSE(URL);\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\thttpTransportSE.call(SOAP_ACTION, soaSerializationEnvelope);\r\n\r\n\t\t\tObject response = soaSerializationEnvelope.getResponse();\r\n\t\t\t\r\n\t\t\ttv.setText(response.toString());\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (XmlPullParserException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\r\n    private Element buildAuthHeader() { \r\n\t\t\r\n\t    Element h = new Element().createElement(NAMESPACE, &quot;AuthHeader&quot;); \r\n\t    Element username = new Element().createElement(NAMESPACE, &quot;user&quot;); \r\n\t    username.addChild(Node.TEXT, &quot;testuser&quot;); \r\n\t    h.addChild(Node.ELEMENT, username); \r\n\t    Element pass = new Element().createElement(NAMESPACE, &quot;pass&quot;); \r\n\t    pass.addChild(Node.TEXT, &quot;testpwd&quot;); \r\n\t    h.addChild(Node.ELEMENT, pass); \r\n\t \r\n\t    return h; \r\n\t} ","title":"how to authenticate SAP web service with ksoap2","body":"<p>I have to connect a SAP web service. Here is my code but it warns:</p>\n\n<blockquote>\n  <p>org.xmlpull.v1.XmlPullParserException: expected: START_TAG {<a href=\"http://schemas.xmlsoap.org/soap/envelope/\" rel=\"nofollow noreferrer\">http://schemas.xmlsoap.org/soap/envelope/</a>}Envelope (position:START_TAG @1:7 in java.io.InputStreamReader@40e3fe98) </p>\n</blockquote>\n\n<p>Here is my full code to connect with username and password. </p>\n\n<pre><code>final static String NAMESPACE = \"urn:sap-com:document:sap:soap:functions:mc-style\";\nfinal static String METHOD_NAME = \"ZmblHucremalzemelistesi\";\nfinal static String SOAP_ACTION = \"\";\nfinal static String URL = \"http://xxx.xxx.xxx.xxx:1080/sap/bc/srt/wsdl/bndg_4F969242EA785040E10080008D0B0B03/wsdl11/allinone/ws_policy/document?sap-client=010\";\n\n\nprivate void testWS() {\n    // TODO Auto-generated method stub\n\n\n    SoapObject reSoapObject = new SoapObject(NAMESPACE, METHOD_NAME);\n    SoapSerializationEnvelope soaSerializationEnvelope = new SoapSerializationEnvelope(\n            SoapEnvelope.VER11);\n\n    reSoapObject.addProperty(\"ILgort\", \"H12\");\n\n    soaSerializationEnvelope.setOutputSoapObject(reSoapObject);\n    soaSerializationEnvelope.headerOut = new Element[1]; \n    soaSerializationEnvelope.headerOut[0] = buildAuthHeader(); \n\n    HttpTransportSE httpTransportSE = new HttpTransportSE(URL);\n\n    try {\n\n        httpTransportSE.call(SOAP_ACTION, soaSerializationEnvelope);\n\n        Object response = soaSerializationEnvelope.getResponse();\n\n        tv.setText(response.toString());\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (XmlPullParserException e) {\n        e.printStackTrace();\n    }\n\n\n}\n\nprivate Element buildAuthHeader() { \n\n    Element h = new Element().createElement(NAMESPACE, \"AuthHeader\"); \n    Element username = new Element().createElement(NAMESPACE, \"user\"); \n    username.addChild(Node.TEXT, \"testuser\"); \n    h.addChild(Node.ELEMENT, username); \n    Element pass = new Element().createElement(NAMESPACE, \"pass\"); \n    pass.addChild(Node.TEXT, \"testpwd\"); \n    h.addChild(Node.ELEMENT, pass); \n\n    return h; \n} \n</code></pre>\n"},{"tags":["java","gradle","jboss"],"answers":[{"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689433254,"post_id":76694031,"comment_id":135214392,"body_markdown":"This is not accurate. Wildfly 8 is compatible with Java 8: https://developer.jboss.org/thread/262103","body":"This is not accurate. Wildfly 8 is compatible with Java 8: <a href=\"https://developer.jboss.org/thread/262103\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/262103</a>"},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1689578427,"post_id":76694031,"comment_id":135227628,"body_markdown":"Which version is this ? WildFly 8.2.1 doesn&#39;t have a jdk.unsupported module","body":"Which version is this ? WildFly 8.2.1 doesn&#39;t have a jdk.unsupported module"}],"tags":[],"owner":{"account_id":49908,"reputation":4336,"user_id":148736,"accept_rate":63,"display_name":"Andrew Arrow"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689428452,"creation_date":1689428452,"answer_id":76694031,"question_id":76694014,"body_markdown":"Upgrade Wildfly: Wildfly 8 is quite old and may not be fully compatible with Java 8. You could upgrade to a newer version of Wildfly that supports Java 8.\r\n\r\nOR, you could downgrade your JVM to earlier version of Java 8.\r\n\r\nIf your application has explicit dependencies on the `jdk.unsupported` module, you should remove or update those dependencies.","title":"Getting jdk.unsupported while running EAR on JBoss which was build using Gradle","body":"<p>Upgrade Wildfly: Wildfly 8 is quite old and may not be fully compatible with Java 8. You could upgrade to a newer version of Wildfly that supports Java 8.</p>\n<p>OR, you could downgrade your JVM to earlier version of Java 8.</p>\n<p>If your application has explicit dependencies on the <code>jdk.unsupported</code> module, you should remove or update those dependencies.</p>\n"},{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689578895,"creation_date":1689578895,"answer_id":76702309,"question_id":76694014,"body_markdown":"You have a manifest file in one of your jar which contains **Dependencies: jdk.unsupported** (could be spring-core). This is what is causing the error. Either create a jdk.unsupported fake module or fix your dependencies or upgrade WildFly (which you should do in any case as a 10 years old out of date software is quite hazardous)\r\nTo create the fake module:\r\n\r\n 1. mkdir- p $JBOSS_PATH/modules/system/layers/base/jdk/unsupported/main\r\n 2. Create a new file under the main folder named module.xml with the following content: `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;module xmlns=&quot;urn:jboss:module:1.5&quot; name=&quot;jdk.unsupported&quot;&gt; &lt;/module&gt;`","title":"Getting jdk.unsupported while running EAR on JBoss which was build using Gradle","body":"<p>You have a manifest file in one of your jar which contains <strong>Dependencies: jdk.unsupported</strong> (could be spring-core). This is what is causing the error. Either create a jdk.unsupported fake module or fix your dependencies or upgrade WildFly (which you should do in any case as a 10 years old out of date software is quite hazardous)\nTo create the fake module:</p>\n<ol>\n<li>mkdir- p $JBOSS_PATH/modules/system/layers/base/jdk/unsupported/main</li>\n<li>Create a new file under the main folder named module.xml with the following content: <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;module xmlns=&quot;urn:jboss:module:1.5&quot; name=&quot;jdk.unsupported&quot;&gt; &lt;/module&gt;</code></li>\n</ol>\n"}],"owner":{"account_id":16757257,"reputation":1,"user_id":12112937,"display_name":"Rishabh Mathe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689578895,"creation_date":1689428218,"question_id":76694014,"body_markdown":"We are trying to run EAR appplication which was built using gradle on Jboss server and getting the ffollowing errro.\r\nJDK version is 8.\r\nWildfly version is 8.\r\n\r\n\r\n\r\n    18:58:04,899 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.module.service.&quot;deployment.Dragon6.ear.Dragon6Web.war&quot;.main: org.jboss.msc.service.StartException in service jboss.module.service.&quot;deployment.Dragon6.ear.Dragon6Web.war&quot;.main: JBAS018759: Failed to load module: deployment.Dragon6.ear.Dragon6Web.war:main\r\n    \tat org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:91) [wildfly-server-8.1.0.Final.jar:8.1.0.Final]\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_342]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_342]\r\n    \tat java.lang.Thread.run(Thread.java:750) [rt.jar:1.8.0_342]\r\n    Caused by: org.jboss.modules.ModuleNotFoundException: jdk.unsupported:main\r\n    \tat org.jboss.modules.Module.addPaths(Module.java:1050) [jboss-modules.jar:1.3.3.Final]\r\n    \tat org.jboss.modules.Module.link(Module.java:1406) [jboss-modules.jar:1.3.3.Final]\r\n    \tat org.jboss.modules.Module.relinkIfNecessary(Module.java:1434) [jboss-modules.jar:1.3.3.Final]\r\n    \tat org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:242) [jboss-modules.jar:1.3.3.Final]\r\n    \tat org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:70) [wildfly-server-8.1.0.Final.jar:8.1.0.Final]\r\n    \t... 5 more\r\n    \r\n    18:58:04,904 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;Dragon6.ear&quot;)]) - failure description: {&quot;JBAS014671: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.Dragon6.ear.Dragon6Web.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.Dragon6.ear.Dragon6Web.war\\&quot;.main: JBAS018759: Failed to load module: deployment.Dragon6.ear.Dragon6Web.war:main\r\n        Caused by: org.jboss.modules.ModuleNotFoundException: jdk.unsupported:main&quot;}}\r\n\r\nChecked Compatability so Java version is 8 and wildfly version is also 8 which seems compatible.","title":"Getting jdk.unsupported while running EAR on JBoss which was build using Gradle","body":"<p>We are trying to run EAR appplication which was built using gradle on Jboss server and getting the ffollowing errro.\nJDK version is 8.\nWildfly version is 8.</p>\n<pre><code>18:58:04,899 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.module.service.&quot;deployment.Dragon6.ear.Dragon6Web.war&quot;.main: org.jboss.msc.service.StartException in service jboss.module.service.&quot;deployment.Dragon6.ear.Dragon6Web.war&quot;.main: JBAS018759: Failed to load module: deployment.Dragon6.ear.Dragon6Web.war:main\n    at org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:91) [wildfly-server-8.1.0.Final.jar:8.1.0.Final]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [rt.jar:1.8.0_342]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [rt.jar:1.8.0_342]\n    at java.lang.Thread.run(Thread.java:750) [rt.jar:1.8.0_342]\nCaused by: org.jboss.modules.ModuleNotFoundException: jdk.unsupported:main\n    at org.jboss.modules.Module.addPaths(Module.java:1050) [jboss-modules.jar:1.3.3.Final]\n    at org.jboss.modules.Module.link(Module.java:1406) [jboss-modules.jar:1.3.3.Final]\n    at org.jboss.modules.Module.relinkIfNecessary(Module.java:1434) [jboss-modules.jar:1.3.3.Final]\n    at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:242) [jboss-modules.jar:1.3.3.Final]\n    at org.jboss.as.server.moduleservice.ModuleLoadService.start(ModuleLoadService.java:70) [wildfly-server-8.1.0.Final.jar:8.1.0.Final]\n    ... 5 more\n\n18:58:04,904 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;Dragon6.ear&quot;)]) - failure description: {&quot;JBAS014671: Failed services&quot; =&gt; {&quot;jboss.module.service.\\&quot;deployment.Dragon6.ear.Dragon6Web.war\\&quot;.main&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.module.service.\\&quot;deployment.Dragon6.ear.Dragon6Web.war\\&quot;.main: JBAS018759: Failed to load module: deployment.Dragon6.ear.Dragon6Web.war:main\n    Caused by: org.jboss.modules.ModuleNotFoundException: jdk.unsupported:main&quot;}}\n</code></pre>\n<p>Checked Compatability so Java version is 8 and wildfly version is also 8 which seems compatible.</p>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1689579455,"post_id":76702288,"comment_id":135227804,"body_markdown":"This is answered on the page linked in the question: “the web application class loader will always delegate first for JavaEE API classes for the specifications implemented by Tomcat (Servlet, JSP, EL, WebSocket)”","body":"This is answered on the page linked in the question: “the web application class loader will always delegate first for JavaEE API classes for the specifications implemented by Tomcat (Servlet, JSP, EL, WebSocket)”"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689579751,"post_id":76702288,"comment_id":135227865,"body_markdown":"And since that sentence can be hard to parse: Yes, that means it&#39;ll use the jar from `tomcat/lib` before anything from `WEB-INF`","body":"And since that sentence can be hard to parse: Yes, that means it&#39;ll use the jar from <code>tomcat&#47;lib</code> before anything from <code>WEB-INF</code>"},{"owner":{"account_id":5258901,"reputation":343,"user_id":4200960,"accept_rate":17,"display_name":"vrreddy1234"},"score":0,"creation_date":1689582282,"post_id":76702288,"comment_id":135228341,"body_markdown":"if i want to test if tomcat/lib servlet-api.jar is jar picked at runtime, can you please suggest how to test it. thanks","body":"if i want to test if tomcat/lib servlet-api.jar is jar picked at runtime, can you please suggest how to test it. thanks"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689584541,"post_id":76702288,"comment_id":135228817,"body_markdown":"Two suggestions: set verbose classloading on the container. Examine file handles with tools appropriate for your OS","body":"Two suggestions: set verbose classloading on the container. Examine file handles with tools appropriate for your OS"}],"owner":{"account_id":5258901,"reputation":343,"user_id":4200960,"accept_rate":17,"display_name":"vrreddy1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689592454,"answer_count":0,"score":0,"last_activity_date":1689578749,"creation_date":1689578749,"question_id":76702288,"body_markdown":"I have servlet-api.jar in tomcat/lib folder and WEB-INF/lib/servlet-api 3.1.0 jar (i.e application dependent). I would like to know how to find which version of jar is currently in use when tomcat is running.\r\nhttps://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html from here, i see order of class loading is as follows\r\n\r\n    Bootstrap classes of your JVM\r\n    /WEB-INF/classes of your web application\r\n    /WEB-INF/lib/*.jar of your web application\r\n    System class loader classes (described above)\r\n    Common class loader classes (described above)\r\n\r\n\r\nbut how to know if common class loader overrides the above jar present in WEB-INF/lib folder.\r\ncan someone please answer.","title":"to know the package jar used in tomcat at runtime","body":"<p>I have servlet-api.jar in tomcat/lib folder and WEB-INF/lib/servlet-api 3.1.0 jar (i.e application dependent). I would like to know how to find which version of jar is currently in use when tomcat is running.\n<a href=\"https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html</a> from here, i see order of class loading is as follows</p>\n<pre><code>Bootstrap classes of your JVM\n/WEB-INF/classes of your web application\n/WEB-INF/lib/*.jar of your web application\nSystem class loader classes (described above)\nCommon class loader classes (described above)\n</code></pre>\n<p>but how to know if common class loader overrides the above jar present in WEB-INF/lib folder.\ncan someone please answer.</p>\n"},{"tags":["java","spring","spring-boot","scheduler"],"answers":[{"tags":[],"owner":{"account_id":16135937,"reputation":43,"user_id":11648407,"display_name":"Khaleb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611678429,"creation_date":1611678429,"answer_id":65905206,"question_id":61749805,"body_markdown":"Well, both fixedDelay and initialDelay accepts values in milliseconds.\r\nSo you can either go with:\r\n\r\n    @Scheduled(fixedDelay = 300000, initialDelay = 900000)\r\n\r\nOr:\r\n\r\n    @Scheduled(fixedDelay = 5 * 60 * 1000, initialDelay = 15 * 60 * 1000)","title":"How to give minute in fixedDelay &amp; initialDelay in @scheduled spring boot?","body":"<p>Well, both fixedDelay and initialDelay accepts values in milliseconds.\nSo you can either go with:</p>\n<pre><code>@Scheduled(fixedDelay = 300000, initialDelay = 900000)\n</code></pre>\n<p>Or:</p>\n<pre><code>@Scheduled(fixedDelay = 5 * 60 * 1000, initialDelay = 15 * 60 * 1000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":128202,"reputation":4382,"user_id":325868,"accept_rate":58,"display_name":"LeO"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1614676027,"creation_date":1614676027,"answer_id":66436361,"question_id":61749805,"body_markdown":"Although little bit late to the party, nevertheless another approach from [Spring][1]\r\n\r\n    @Scheduled(fixedDelayString = &quot;PT15M&quot;, initialDelayString = &quot;PT2H&quot;)\r\n\r\nHere you can find the [details][2] about the syntax.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelayString--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html?is-external=true#parse-java.lang.CharSequence-","title":"How to give minute in fixedDelay &amp; initialDelay in @scheduled spring boot?","body":"<p>Although little bit late to the party, nevertheless another approach from <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html#fixedDelayString--\" rel=\"noreferrer\">Spring</a></p>\n<pre><code>@Scheduled(fixedDelayString = &quot;PT15M&quot;, initialDelayString = &quot;PT2H&quot;)\n</code></pre>\n<p>Here you can find the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html?is-external=true#parse-java.lang.CharSequence-\" rel=\"noreferrer\">details</a> about the syntax.</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1689578356,"creation_date":1689577937,"answer_id":76702192,"question_id":61749805,"body_markdown":"As per the JavaDocs:\r\n\r\n&gt; The time unit is milliseconds by default but can be overridden via\r\n&gt; `timeUnit`.\r\n\r\nSo you can use `java.util.concurrent.TimeUnit` like this:\r\n\r\n```java\r\n// ...\r\n@Scheduled(fixedDelay = 5, initialDelay = 15, timeUnit = TimeUnit.MINUTES)\r\npublic void scheduleFixedRateWithInitialDelayTask() {\r\n    // ...\r\n}\r\n```\r\n\r\nThis also works with `fixedDelayString`.","title":"How to give minute in fixedDelay &amp; initialDelay in @scheduled spring boot?","body":"<p>As per the JavaDocs:</p>\n<blockquote>\n<p>The time unit is milliseconds by default but can be overridden via\n<code>timeUnit</code>.</p>\n</blockquote>\n<p>So you can use <code>java.util.concurrent.TimeUnit</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ...\n@Scheduled(fixedDelay = 5, initialDelay = 15, timeUnit = TimeUnit.MINUTES)\npublic void scheduleFixedRateWithInitialDelayTask() {\n    // ...\n}\n</code></pre>\n<p>This also works with <code>fixedDelayString</code>.</p>\n"}],"owner":{"account_id":2073596,"reputation":2693,"user_id":1847560,"accept_rate":40,"display_name":"vijayk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22982,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1689578356,"creation_date":1589280586,"question_id":61749805,"body_markdown":"I am new for scheduler in spring. I read so many articles on @schedule but in every example they gave time in seconds and milliseconds.\r\n\r\nProblem Statement : As per my requirement, after my program start my scheduler will start after 15 minutes  (initial Delay ) and then it executes the task every after 5 minutes (FixedRate) . To achieve this how can I give time in minutes is their any best way to achieve this problem ?\r\n\r\nCode :\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class ScheduledConfiguration {\r\n    \t@Scheduled(fixedDelay = 300000, initialDelay = 900000)\r\n    \tpublic void scheduleFixedRateWithInitialDelayTask() {\r\n    \r\n    \t\tlong now = System.currentTimeMillis() / 1000;\r\n    \t\tSystem.out.println(&quot;Fixed rate task with one second initial delay - &quot; + now);\r\n    \t}\r\n    }\r\n\r\nBy using above program i will achive but I want to avoid 300000 / 900000 milliseconds .\r\nOther way \r\n\r\n    @Scheduled(fixedDelay = 5 * 60 * 1000, initialDelay = 15 * 60 * 1000)\r\n\r\n ","title":"How to give minute in fixedDelay &amp; initialDelay in @scheduled spring boot?","body":"<p>I am new for scheduler in spring. I read so many articles on @schedule but in every example they gave time in seconds and milliseconds.</p>\n\n<p>Problem Statement : As per my requirement, after my program start my scheduler will start after 15 minutes  (initial Delay ) and then it executes the task every after 5 minutes (FixedRate) . To achieve this how can I give time in minutes is their any best way to achieve this problem ?</p>\n\n<p>Code :</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class ScheduledConfiguration {\n    @Scheduled(fixedDelay = 300000, initialDelay = 900000)\n    public void scheduleFixedRateWithInitialDelayTask() {\n\n        long now = System.currentTimeMillis() / 1000;\n        System.out.println(\"Fixed rate task with one second initial delay - \" + now);\n    }\n}\n</code></pre>\n\n<p>By using above program i will achive but I want to avoid 300000 / 900000 milliseconds .\nOther way </p>\n\n<pre><code>@Scheduled(fixedDelay = 5 * 60 * 1000, initialDelay = 15 * 60 * 1000)\n</code></pre>\n"},{"tags":["java","docker","aws-fargate"],"comments":[{"owner":{"account_id":2409930,"reputation":744,"user_id":2105282,"accept_rate":86,"display_name":"user2105282"},"score":0,"creation_date":1518783153,"post_id":48508480,"comment_id":84656564,"body_markdown":"Same problem. Did you find out some solution so far?","body":"Same problem. Did you find out some solution so far?"},{"owner":{"account_id":168045,"reputation":1369,"user_id":393238,"display_name":"djones"},"score":0,"creation_date":1520486886,"post_id":48508480,"comment_id":85337342,"body_markdown":"Same problem here...","body":"Same problem here..."}],"answers":[{"comments":[{"owner":{"account_id":6711041,"reputation":315,"user_id":5174477,"accept_rate":50,"display_name":"Daniel McHenry"},"score":0,"creation_date":1520587293,"post_id":49166461,"comment_id":85385773,"body_markdown":"How did you run that command? As part of the docker file, logging in to the instance after it started, something else entirely?","body":"How did you run that command? As part of the docker file, logging in to the instance after it started, something else entirely?"}],"tags":[],"owner":{"account_id":168045,"reputation":1369,"user_id":393238,"display_name":"djones"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1520698336,"creation_date":1520489099,"answer_id":49166461,"question_id":48508480,"body_markdown":"Pointing the hostname to 127.0.0.1 by going:\r\n\r\n    echo &quot;127.0.0.1 $HOSTNAME&quot; &gt;&gt; /etc/hosts\r\n\r\nFixed the issue for me.\r\n\r\nI&#39;m using Docker Compose. So I have a `docker-compose.yml` file like this:\r\n\r\n    version: &#39;2&#39;\r\n    \r\n    services:\r\n      myservice:\r\n        command: [&quot;/set-hostname.sh&quot;, &quot;--&quot;, &quot;/run-service.sh&quot;]\r\n\r\nand then the `set-hostname.sh` file looks like this:\r\n\r\n    #!/bin/bash\r\n    \r\n    set -e\r\n    \r\n    shift\r\n    cmd=&quot;$@&quot;\r\n    \r\n    echo &quot;127.0.0.1 $HOSTNAME&quot; &gt;&gt; /etc/hosts\r\n    \r\n    exec $cmd","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>Pointing the hostname to 127.0.0.1 by going:</p>\n\n<pre><code>echo \"127.0.0.1 $HOSTNAME\" &gt;&gt; /etc/hosts\n</code></pre>\n\n<p>Fixed the issue for me.</p>\n\n<p>I'm using Docker Compose. So I have a <code>docker-compose.yml</code> file like this:</p>\n\n<pre><code>version: '2'\n\nservices:\n  myservice:\n    command: [\"/set-hostname.sh\", \"--\", \"/run-service.sh\"]\n</code></pre>\n\n<p>and then the <code>set-hostname.sh</code> file looks like this:</p>\n\n<pre><code>#!/bin/bash\n\nset -e\n\nshift\ncmd=\"$@\"\n\necho \"127.0.0.1 $HOSTNAME\" &gt;&gt; /etc/hosts\n\nexec $cmd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3326691,"reputation":151,"user_id":3485142,"display_name":"user3485142"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524743064,"creation_date":1524743064,"answer_id":50042150,"question_id":48508480,"body_markdown":"So, I came across exactly the same issue and the thing is that as you already mentioned the hostname doesn&#39;t make much of a sense.\r\nThe only way to fetch the actual instance IP which can be seen within the VPC is to use the AWS task metadata API which in my case I did.\r\nhttps://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint.html\r\n\r\nI have wired the following code to fetch the localhost IP:\r\n\r\n    try {\r\n                final ResponseEntity&lt;String&gt; taskInfoResponse = this.restTemplate.getForEntity(&quot;http://169.254.170.2/v2/metadata&quot;, String.class);\r\n                log.info(&quot;Got AWS task info: {}&quot;, taskInfoResponse);\r\n                log.info(&quot;Got AWS task info: {}&quot;, taskInfoResponse.getBody());\r\n                if (taskInfoResponse.getStatusCode() == HttpStatus.OK) {\r\n                    try {\r\n                        final ObjectNode jsonNodes = this.objectMapper.readValue(taskInfoResponse.getBody(), ObjectNode.class);\r\n                        final JsonNode jsonNode = jsonNodes.get(&quot;Containers&quot;)\r\n                                .get(0).get(&quot;Networks&quot;)\r\n                                .get(0)\r\n                                .get(&quot;IPv4Addresses&quot;).get(0);\r\n                        log.info(&quot;Got IP to use: {}&quot;, jsonNode);\r\n                        if (jsonNode != null) {\r\n                            awsTaskInfo.setTaskAddress(InetAddress.getByName(jsonNode.asText()));\r\n                        }\r\n                    } catch (IOException e) {\r\n                        throw new IllegalArgumentException(e);\r\n                    }\r\n                } else {\r\n                    awsTaskInfo.setTaskAddress(InetAddress.getLoopbackAddress());\r\n                }\r\n            }catch (ResourceAccessException e){\r\n                log.error(&quot;Failed to fetch AWS info&quot;, e);\r\n                awsTaskInfo.setTaskAddress(InetAddress.getLoopbackAddress());\r\n            }\r\n\r\n\r\n","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>So, I came across exactly the same issue and the thing is that as you already mentioned the hostname doesn't make much of a sense.\nThe only way to fetch the actual instance IP which can be seen within the VPC is to use the AWS task metadata API which in my case I did.\n<a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint.html</a></p>\n\n<p>I have wired the following code to fetch the localhost IP:</p>\n\n<pre><code>try {\n            final ResponseEntity&lt;String&gt; taskInfoResponse = this.restTemplate.getForEntity(\"http://169.254.170.2/v2/metadata\", String.class);\n            log.info(\"Got AWS task info: {}\", taskInfoResponse);\n            log.info(\"Got AWS task info: {}\", taskInfoResponse.getBody());\n            if (taskInfoResponse.getStatusCode() == HttpStatus.OK) {\n                try {\n                    final ObjectNode jsonNodes = this.objectMapper.readValue(taskInfoResponse.getBody(), ObjectNode.class);\n                    final JsonNode jsonNode = jsonNodes.get(\"Containers\")\n                            .get(0).get(\"Networks\")\n                            .get(0)\n                            .get(\"IPv4Addresses\").get(0);\n                    log.info(\"Got IP to use: {}\", jsonNode);\n                    if (jsonNode != null) {\n                        awsTaskInfo.setTaskAddress(InetAddress.getByName(jsonNode.asText()));\n                    }\n                } catch (IOException e) {\n                    throw new IllegalArgumentException(e);\n                }\n            } else {\n                awsTaskInfo.setTaskAddress(InetAddress.getLoopbackAddress());\n            }\n        }catch (ResourceAccessException e){\n            log.error(\"Failed to fetch AWS info\", e);\n            awsTaskInfo.setTaskAddress(InetAddress.getLoopbackAddress());\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10430723,"reputation":59,"user_id":7690620,"display_name":"harshal bhavsar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555074923,"creation_date":1555074701,"answer_id":55652399,"question_id":48508480,"body_markdown":"Exactly the same issue I was struggling with for a long time. This solution worked for me:\r\n\r\n    ENTRYPOINT [&quot;/bin/sh&quot;, &quot;-c&quot; , &quot;echo 127.0.0.1 $HOSTNAME &gt;&gt; /etc/hosts &amp;&amp; exec mvn spring-boot:run&quot;]","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>Exactly the same issue I was struggling with for a long time. This solution worked for me:</p>\n\n<pre><code>ENTRYPOINT [\"/bin/sh\", \"-c\" , \"echo 127.0.0.1 $HOSTNAME &gt;&gt; /etc/hosts &amp;&amp; exec mvn spring-boot:run\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3189025,"reputation":2094,"user_id":2693851,"accept_rate":65,"display_name":"Leonid Bor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596086001,"creation_date":1596086001,"answer_id":63166584,"question_id":48508480,"body_markdown":"I faced the same issue while trying to access S3 and SQS from a Lambda. The solution was not to specify region while creating client instances, so instead of:\r\n\r\n    SqsAsyncClient.builder()\r\n                    .region(Region.of(region))\r\n                    .build();\r\n\r\nDo this:\r\n\r\n    SqsAsyncClient.create();","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>I faced the same issue while trying to access S3 and SQS from a Lambda. The solution was not to specify region while creating client instances, so instead of:</p>\n<pre><code>SqsAsyncClient.builder()\n                .region(Region.of(region))\n                .build();\n</code></pre>\n<p>Do this:</p>\n<pre><code>SqsAsyncClient.create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2419336,"reputation":197,"user_id":2112710,"display_name":"David Ha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689578069,"creation_date":1689578069,"answer_id":76702212,"question_id":48508480,"body_markdown":"Enabling the &quot;DNS Hostnames&quot; option in the VPC the task uses resolves this issue for me. \r\n","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>Enabling the &quot;DNS Hostnames&quot; option in the VPC the task uses resolves this issue for me.</p>\n"}],"owner":{"account_id":6711041,"reputation":315,"user_id":5174477,"accept_rate":50,"display_name":"Daniel McHenry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9594,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1689578069,"creation_date":1517253574,"question_id":48508480,"body_markdown":"I have a large Java application I&#39;m trying to run on a fargate cluster in AWS. The image runs successfully on my local machine&#39;s docker. When I run it in fargate it starts successfully, but eventually encounters the following error after which the application gets stuck:\r\n\r\n    ! java.net.UnknownHostException: 690bd678bcf4: 690bd678bcf4: Name or service not known\r\n    ! at java.net.InetAddress.getLocalHost(InetAddress.java:1505) ~[na:1.8.0_151]\r\n    ! at tracelink.misc.SingletonTokenDBO$.&lt;init&gt;(SingletonTokenDBO.scala:34) ~[habari.jar:8.4-QUARTZ-SNAPSHOT]\r\n    ! at tracelink.misc.SingletonTokenDBO$.&lt;clinit&gt;(SingletonTokenDBO.scala) ~[habari.jar:8.4-QUARTZ-SNAPSHOT]\r\n    !... 10 common frames omitted\r\n    Caused by: ! java.net.UnknownHostException: 690bd678bcf4: Name or service not known\r\n    ! at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method) ~[na:1.8.0_151]\r\n    ! at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928) ~[na:1.8.0_151]\r\n    ! at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1323) ~[na:1.8.0_151]\r\n    ! at java.net.InetAddress.getLocalHost(InetAddress.java:1500) ~[na:1.8.0_151]\r\n    !... 12 common frames omitted\r\n\r\nThe offending line of Scala code is:\r\n\r\n      private val machineName = InetAddress.getLocalHost().getHostName()\r\n\r\nSome initial research suggests the error is related to the contents of the /etc/hosts file in the container. So I created a small test program that exhibits the same behavior as my real application, and also dumps the contents of /etc/hosts to stdout:\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n\r\n    public class NetworkTest {\r\n       public static void main(String[] args) throws InterruptedException, IOException, FileNotFoundException {\r\n          while(true) {\r\n             networkDump();\r\n             Thread.sleep(10000);\r\n          }\r\n       }\r\n\r\n       private static void networkDump() throws IOException, FileNotFoundException {\r\n          System.out.println(&quot;/etc/hosts:&quot;);\r\n          System.out.println(&quot;&quot;);\r\n\r\n          FileReader f = new FileReader(&quot;/etc/hosts&quot;);\r\n          BufferedReader reader = new BufferedReader(f);\r\n          String line = null;\r\n          while((line = reader.readLine()) != null) {\r\n             System.out.println(line);\r\n          }\r\n          System.out.println(&quot;&quot;);\r\n\r\n          dumpHostname();\r\n       }\r\n\r\n       private static void dumpHostname() {\r\n          try {\r\n             String hostname = InetAddress.getLocalHost().getHostName();\r\n             System.out.printf(&quot;Hostname: %s\\n\\n&quot;, hostname);\r\n          } catch(UnknownHostException e) {\r\n             System.out.println(e.getMessage());\r\n          }\r\n       }\r\n    }\r\n\r\nDockerfile:\r\n\r\n    FROM openjdk:8\r\n\r\n    WORKDIR /site\r\n    ADD . /site\r\n\r\n    CMD [&quot;java&quot;, &quot;NetworkTest&quot;]\r\n\r\nThe output I get from this in AWS looks like:\r\n    \r\n    /etc/hosts:\r\n    127.0.0.1 localhost\r\n    ::1 localhost ip6-localhost ip6-loopback\r\n    fe00::0 ip6-localnet\r\n    ff00::0 ip6-mcastprefix\r\n    ff02::1 ip6-allnodes\r\n    ff02::2 ip6-allrouters\r\n\r\n    3a5a4271a6e3: 3a5a4271a6e3: Name or service not known\r\n\r\nCompared with this output running in docker on my local machine:\r\n\r\n    &gt; docker run networktest\r\n    \r\n    /etc/hosts:\r\n    127.0.0.1\tlocalhost\r\n    ::1\tlocalhost ip6-localhost ip6-loopback\r\n    fe00::0\tip6-localnet\r\n    ff00::0\tip6-mcastprefix\r\n    ff02::1\tip6-allnodes\r\n    ff02::2\tip6-allrouters\r\n    172.17.0.4\t82691e2fb948\r\n\r\n    Hostname: 82691e2fb948\r\n\r\nThe local version that does not get the exception has an entry in /etc/hosts for the hostname, while the AWS hosts file has no entry for the hostname. I&#39;ve tried adding an /etc/rc.local file to manually add the hostname to the end of the localhost line, and just adding a RUN command in the Dockerfile to do the same thing. Neither has had any effect.\r\n\r\nDoes anyone know if there&#39;s a way to configure either the image or the ECS task definition to get the hostname properly configured in AWS?","title":"UnknownHostException from java application running in AWS ECS docker container on Fargate cluster","body":"<p>I have a large Java application I'm trying to run on a fargate cluster in AWS. The image runs successfully on my local machine's docker. When I run it in fargate it starts successfully, but eventually encounters the following error after which the application gets stuck:</p>\n\n<pre><code>! java.net.UnknownHostException: 690bd678bcf4: 690bd678bcf4: Name or service not known\n! at java.net.InetAddress.getLocalHost(InetAddress.java:1505) ~[na:1.8.0_151]\n! at tracelink.misc.SingletonTokenDBO$.&lt;init&gt;(SingletonTokenDBO.scala:34) ~[habari.jar:8.4-QUARTZ-SNAPSHOT]\n! at tracelink.misc.SingletonTokenDBO$.&lt;clinit&gt;(SingletonTokenDBO.scala) ~[habari.jar:8.4-QUARTZ-SNAPSHOT]\n!... 10 common frames omitted\nCaused by: ! java.net.UnknownHostException: 690bd678bcf4: Name or service not known\n! at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method) ~[na:1.8.0_151]\n! at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928) ~[na:1.8.0_151]\n! at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1323) ~[na:1.8.0_151]\n! at java.net.InetAddress.getLocalHost(InetAddress.java:1500) ~[na:1.8.0_151]\n!... 12 common frames omitted\n</code></pre>\n\n<p>The offending line of Scala code is:</p>\n\n<pre><code>  private val machineName = InetAddress.getLocalHost().getHostName()\n</code></pre>\n\n<p>Some initial research suggests the error is related to the contents of the /etc/hosts file in the container. So I created a small test program that exhibits the same behavior as my real application, and also dumps the contents of /etc/hosts to stdout:</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class NetworkTest {\n   public static void main(String[] args) throws InterruptedException, IOException, FileNotFoundException {\n      while(true) {\n         networkDump();\n         Thread.sleep(10000);\n      }\n   }\n\n   private static void networkDump() throws IOException, FileNotFoundException {\n      System.out.println(\"/etc/hosts:\");\n      System.out.println(\"\");\n\n      FileReader f = new FileReader(\"/etc/hosts\");\n      BufferedReader reader = new BufferedReader(f);\n      String line = null;\n      while((line = reader.readLine()) != null) {\n         System.out.println(line);\n      }\n      System.out.println(\"\");\n\n      dumpHostname();\n   }\n\n   private static void dumpHostname() {\n      try {\n         String hostname = InetAddress.getLocalHost().getHostName();\n         System.out.printf(\"Hostname: %s\\n\\n\", hostname);\n      } catch(UnknownHostException e) {\n         System.out.println(e.getMessage());\n      }\n   }\n}\n</code></pre>\n\n<p>Dockerfile:</p>\n\n<pre><code>FROM openjdk:8\n\nWORKDIR /site\nADD . /site\n\nCMD [\"java\", \"NetworkTest\"]\n</code></pre>\n\n<p>The output I get from this in AWS looks like:</p>\n\n<pre><code>/etc/hosts:\n127.0.0.1 localhost\n::1 localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n\n3a5a4271a6e3: 3a5a4271a6e3: Name or service not known\n</code></pre>\n\n<p>Compared with this output running in docker on my local machine:</p>\n\n<pre><code>&gt; docker run networktest\n\n/etc/hosts:\n127.0.0.1   localhost\n::1 localhost ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n172.17.0.4  82691e2fb948\n\nHostname: 82691e2fb948\n</code></pre>\n\n<p>The local version that does not get the exception has an entry in /etc/hosts for the hostname, while the AWS hosts file has no entry for the hostname. I've tried adding an /etc/rc.local file to manually add the hostname to the end of the localhost line, and just adding a RUN command in the Dockerfile to do the same thing. Neither has had any effect.</p>\n\n<p>Does anyone know if there's a way to configure either the image or the ECS task definition to get the hostname properly configured in AWS?</p>\n"},{"tags":["java",".net","customization","sap-erp"],"answers":[{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574555842,"creation_date":1263839487,"answer_id":2088281,"question_id":2086200,"body_markdown":"I can only speak for the Human Resource component, but this is a component where there is a lot of difference between customers, based on a common need.\r\n\r\n* First, most of the time you set the value for a group, and then associate the object (person, location...) with a group depending on one or two values. This is akin to an indirection, and allow for great flexibility, as you can change the association for a given location without changing the others. in a few case, there is a 3 level indirection...\r\n* Second, there is a lot of customization that is nearly programming. Payroll or administrative operations are first class example of this. In the later cas, you get a table with the operation (hiring for example), the event (creation, modification...) a code for the action (I for test, F to call a function, O for a standard operation) and a text field describing the parameters of a function (&quot;C P0001, begda, endda&quot; to create a structure P001 with default values).\r\n* Third, you can also use such a table to indicate a function or class (ABAP-OO), that will be dynamically called. You get a developer to create this function or class, and then indicate this in the table. This is a method to replace a functionality by another one, or extend it. This is used extensively in the ESS/MSS.\r\n* Last, there is also extension point or file that you can modify. this is nearly the same as the previous one, except that you don&#39;t need to indicate the change : the file is always used (ZXPADU01/02 for HR modification of infotype)\r\n\r\nhope this help   \r\nGuillaume PATRY\r\n\r\n","title":"How easily customizable are SAP industry-specific solutions?","body":"<p>I can only speak for the Human Resource component, but this is a component where there is a lot of difference between customers, based on a common need.</p>\n\n<ul>\n<li>First, most of the time you set the value for a group, and then associate the object (person, location...) with a group depending on one or two values. This is akin to an indirection, and allow for great flexibility, as you can change the association for a given location without changing the others. in a few case, there is a 3 level indirection...</li>\n<li>Second, there is a lot of customization that is nearly programming. Payroll or administrative operations are first class example of this. In the later cas, you get a table with the operation (hiring for example), the event (creation, modification...) a code for the action (I for test, F to call a function, O for a standard operation) and a text field describing the parameters of a function (\"C P0001, begda, endda\" to create a structure P001 with default values).</li>\n<li>Third, you can also use such a table to indicate a function or class (ABAP-OO), that will be dynamically called. You get a developer to create this function or class, and then indicate this in the table. This is a method to replace a functionality by another one, or extend it. This is used extensively in the ESS/MSS.</li>\n<li>Last, there is also extension point or file that you can modify. this is nearly the same as the previous one, except that you don't need to indicate the change : the file is always used (ZXPADU01/02 for HR modification of infotype)</li>\n</ul>\n\n<p>hope this help<br>\nGuillaume PATRY</p>\n"},{"comments":[{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1263844625,"post_id":2088759,"comment_id":2021003,"body_markdown":"+1 for the ref to other components and the extension frmaework","body":"+1 for the ref to other components and the extension frmaework"}],"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1574555660,"creation_date":1263844228,"answer_id":2088759,"question_id":2086200,"body_markdown":"Disclaimer: I&#39;m talking about the ABAP-based part of SAP software only.\r\n\r\nDisclaimer 2, ref PATRYs response: HR is quite a bit different from the rest of the SAP/ABAP world. I do feel rather competent as a general-purpose ABAP developer, but HR programming is so far off my personal beacon that I&#39;ve never even tried to understand what they&#39;re doing there. %-|\r\n\r\n&gt; According to my understanding, they provide a number of industry specific solutions. \r\n\r\nThey do - but be careful when comparing your own programs to these solutions. For example, IS-H (SAP for Healthcare) started off as an extension of the SD (Sales &amp; Distribution) system, but has become very much more since then. While you could technically use all of the techniques they use for their IS, you really should ask a competent technical consultant before you do - there are an awful lot of pits to avoid.\r\n\r\n&gt; The concept seems very interesting and I work on something similar for banking industry.\r\n\r\nNote that a SAP for Banking IS already exists. See [here](https://www.sap.com/industries/banking.html) for the documentation.\r\n\r\n&gt; The biggest challenge we face is how to adapt our products for different clients.\r\n\r\nI&#39;d rather rephrase this as &quot;The biggest challenge is to know where the product is likely to be adapted and to structurally prepare the product for adaption.&quot; The adaption techniques are well researched and easily employed once you know where the customer is likely to deviate from your idea of the perfect solution.\r\n\r\n&gt; How much effort has to be spent in\r\n&gt; order to adapt the product so it\r\n&gt; satisfies specific customer needs?\r\n\r\nThat obviously depends on the deviation of the customer&#39;s needs from the standard path - but that won&#39;t help you. With a SAP-based system, you always have three choices. You can try to *customize* the system within its limits. Customizing basically means tweaking settings (think configuration tables, tens of thousands of them) and adding stuff (program fragments, forms, ...) in places that are intended to do so. Technology - see below. \r\n\r\nSometimes customizing isn&#39;t enough - you can *develop* things additionally. A very frequent requirement is some additional reporting tool. With the SAP system, you get the entire development environment delivered - the very same tools that all the standard applications were written with. Your programs can peacefully coexist with the standard programs and even use common routines and data. Of course you can really screw things up, but show me a real programming environment where you can&#39;t. \r\n\r\nThe third option is to *modify* the standard implementations. Modifications are like a really sharp two-edged kitchen knife - you might be able to cook really cool things in half of the time required by others, but you might hurt yourself really badly if you don&#39;t know what you&#39;re doing. Even if you don&#39;t really intend to modify the standard programs, it&#39;s very comforting to know that you could and that you have full access to the coding.\r\n\r\n(Note that this is about the application programs only - you have no chance whatsoever to tweak the kernel, but fortunately, that&#39;s rarely necessary.)\r\n\r\n&gt; What are the mechanisms used (configuration, programming etc)? \r\n\r\nConfigurations is mostly about configuration tables with more or less sophisticated dialog applications. For the programming part of customizing, there&#39;s the extension framework - see http://help.sap.com/saphelp_nw70ehp1/helpdata/en/35/f9934257a5c86ae10000000a155106/frameset.htm for details. It&#39;s basically a controlled version of dependency injection. As a solution developer, you have to anticipate the extension points, define the interface that has to be implemented by the customer code and then embed the call in your code. As a project developer, you have to create an implementation that adheres to the interface and activate it. The basic runtime system takes care of glueing the two programs together, you don&#39;t have to worry about that.\r\n\r\n&gt; How would this compare to developing custom solution from scratch? \r\n\r\nIMHO this depends on how much of the solution is the same for all customers and how much of it has to be adapted. It&#39;s really hard to be more specific without knowing more about what you want to do.\r\n","title":"How easily customizable are SAP industry-specific solutions?","body":"<p>Disclaimer: I'm talking about the ABAP-based part of SAP software only.</p>\n\n<p>Disclaimer 2, ref PATRYs response: HR is quite a bit different from the rest of the SAP/ABAP world. I do feel rather competent as a general-purpose ABAP developer, but HR programming is so far off my personal beacon that I've never even tried to understand what they're doing there. %-|</p>\n\n<blockquote>\n  <p>According to my understanding, they provide a number of industry specific solutions. </p>\n</blockquote>\n\n<p>They do - but be careful when comparing your own programs to these solutions. For example, IS-H (SAP for Healthcare) started off as an extension of the SD (Sales &amp; Distribution) system, but has become very much more since then. While you could technically use all of the techniques they use for their IS, you really should ask a competent technical consultant before you do - there are an awful lot of pits to avoid.</p>\n\n<blockquote>\n  <p>The concept seems very interesting and I work on something similar for banking industry.</p>\n</blockquote>\n\n<p>Note that a SAP for Banking IS already exists. See <a href=\"https://www.sap.com/industries/banking.html\" rel=\"nofollow noreferrer\">here</a> for the documentation.</p>\n\n<blockquote>\n  <p>The biggest challenge we face is how to adapt our products for different clients.</p>\n</blockquote>\n\n<p>I'd rather rephrase this as \"The biggest challenge is to know where the product is likely to be adapted and to structurally prepare the product for adaption.\" The adaption techniques are well researched and easily employed once you know where the customer is likely to deviate from your idea of the perfect solution.</p>\n\n<blockquote>\n  <p>How much effort has to be spent in\n  order to adapt the product so it\n  satisfies specific customer needs?</p>\n</blockquote>\n\n<p>That obviously depends on the deviation of the customer's needs from the standard path - but that won't help you. With a SAP-based system, you always have three choices. You can try to <em>customize</em> the system within its limits. Customizing basically means tweaking settings (think configuration tables, tens of thousands of them) and adding stuff (program fragments, forms, ...) in places that are intended to do so. Technology - see below. </p>\n\n<p>Sometimes customizing isn't enough - you can <em>develop</em> things additionally. A very frequent requirement is some additional reporting tool. With the SAP system, you get the entire development environment delivered - the very same tools that all the standard applications were written with. Your programs can peacefully coexist with the standard programs and even use common routines and data. Of course you can really screw things up, but show me a real programming environment where you can't. </p>\n\n<p>The third option is to <em>modify</em> the standard implementations. Modifications are like a really sharp two-edged kitchen knife - you might be able to cook really cool things in half of the time required by others, but you might hurt yourself really badly if you don't know what you're doing. Even if you don't really intend to modify the standard programs, it's very comforting to know that you could and that you have full access to the coding.</p>\n\n<p>(Note that this is about the application programs only - you have no chance whatsoever to tweak the kernel, but fortunately, that's rarely necessary.)</p>\n\n<blockquote>\n  <p>What are the mechanisms used (configuration, programming etc)? </p>\n</blockquote>\n\n<p>Configurations is mostly about configuration tables with more or less sophisticated dialog applications. For the programming part of customizing, there's the extension framework - see <a href=\"http://help.sap.com/saphelp_nw70ehp1/helpdata/en/35/f9934257a5c86ae10000000a155106/frameset.htm\" rel=\"nofollow noreferrer\">http://help.sap.com/saphelp_nw70ehp1/helpdata/en/35/f9934257a5c86ae10000000a155106/frameset.htm</a> for details. It's basically a controlled version of dependency injection. As a solution developer, you have to anticipate the extension points, define the interface that has to be implemented by the customer code and then embed the call in your code. As a project developer, you have to create an implementation that adheres to the interface and activate it. The basic runtime system takes care of glueing the two programs together, you don't have to worry about that.</p>\n\n<blockquote>\n  <p>How would this compare to developing custom solution from scratch? </p>\n</blockquote>\n\n<p>IMHO this depends on how much of the solution is the same for all customers and how much of it has to be adapted. It's really hard to be more specific without knowing more about what you want to do.</p>\n"}],"owner":{"account_id":26347,"reputation":11087,"user_id":68473,"accept_rate":89,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":2088759,"answer_count":2,"score":4,"last_activity_date":1689578040,"creation_date":1263820407,"question_id":2086200,"body_markdown":"First of all, I have a very superficial knowledge of SAP. According to my understanding, they provide a number of [industry specific solutions][1]. The concept seems very interesting and I work on something similar for banking industry. The biggest challenge we face is how to adapt our products for different clients. Many concepts are quite similar across enterprises, but there are always some client-specific requirements that have to be resolved through configuration and customization. Often this requires reimplementing and developing customer specific features.\r\n\r\nI wonder how efficient in this sense SAP products are. How much effort has to be spent in order to adapt the product so it satisfies specific customer needs? What are the mechanisms used (configuration, programming etc)? How would this compare to developing custom solution from scratch? Are they capable of leveraging and promoting best practices?\r\n\r\n\r\n  [1]: https://www.sap.com/industries.html","title":"How easily customizable are SAP industry-specific solutions?","body":"<p>First of all, I have a very superficial knowledge of SAP. According to my understanding, they provide a number of <a href=\"https://www.sap.com/industries.html\" rel=\"nofollow noreferrer\">industry specific solutions</a>. The concept seems very interesting and I work on something similar for banking industry. The biggest challenge we face is how to adapt our products for different clients. Many concepts are quite similar across enterprises, but there are always some client-specific requirements that have to be resolved through configuration and customization. Often this requires reimplementing and developing customer specific features.</p>\n\n<p>I wonder how efficient in this sense SAP products are. How much effort has to be spent in order to adapt the product so it satisfies specific customer needs? What are the mechanisms used (configuration, programming etc)? How would this compare to developing custom solution from scratch? Are they capable of leveraging and promoting best practices?</p>\n"},{"tags":["java","gradle","gradle-plugin"],"comments":[{"owner":{"account_id":3666261,"reputation":614,"user_id":7038554,"accept_rate":75,"display_name":"Rico"},"score":0,"creation_date":1689576673,"post_id":76688381,"comment_id":135227358,"body_markdown":"Add least I found the reason it doesn&#39;t work: documentation is in Groovy, and I am using Kotlin. No clue how I can convert this to Kotlin.","body":"Add least I found the reason it doesn&#39;t work: documentation is in Groovy, and I am using Kotlin. No clue how I can convert this to Kotlin."}],"answers":[{"tags":[],"owner":{"account_id":3666261,"reputation":614,"user_id":7038554,"accept_rate":75,"display_name":"Rico"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689577981,"creation_date":1689577981,"answer_id":76702204,"question_id":76688381,"body_markdown":"The documentation is in Groovy, and you have to convert it to Kotlin. I don&#39;t know what is a &quot;proper&quot; way to do it, but this worked for me:\r\n\r\n```\r\nimport io.freefair.gradle.plugins.maven.war.WarOverlay\r\n\r\ntasks.withType&lt;org.gradle.api.tasks.bundling.War&gt; {\r\n    val extension: NamedDomainObjectContainer&lt;WarOverlay&gt; = extensions[&quot;overlays&quot;] as NamedDomainObjectContainer&lt;WarOverlay&gt;\r\n    extension.create(&quot;foo&quot;) {\r\n        from(&quot;&lt;dependency&gt;@war&quot;)\r\n        enabled = true\r\n        provided(false)\r\n    }\r\n}\r\n```","title":"Extension method is not detected (Unresolved reference: overlays)","body":"<p>The documentation is in Groovy, and you have to convert it to Kotlin. I don't know what is a &quot;proper&quot; way to do it, but this worked for me:</p>\n<pre><code>import io.freefair.gradle.plugins.maven.war.WarOverlay\n\ntasks.withType&lt;org.gradle.api.tasks.bundling.War&gt; {\n    val extension: NamedDomainObjectContainer&lt;WarOverlay&gt; = extensions[&quot;overlays&quot;] as NamedDomainObjectContainer&lt;WarOverlay&gt;\n    extension.create(&quot;foo&quot;) {\n        from(&quot;&lt;dependency&gt;@war&quot;)\n        enabled = true\n        provided(false)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3666261,"reputation":614,"user_id":7038554,"accept_rate":75,"display_name":"Rico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76702204,"answer_count":1,"score":0,"last_activity_date":1689577981,"creation_date":1689343124,"question_id":76688381,"body_markdown":"**Problem**&lt;br&gt;\r\nI am trying to get the plugin &quot;io.freefair.war-overlay&quot; to work. Based on the documentation, it should work, but it doesn&#39;t.\r\n\r\nI created an empty Gradle project (wrapper version 8.0) and used the following `build.gradle.kts`:\r\n```\r\nimport io.freefair.gradle.plugins.maven.war.WarOverlay\r\n\r\nplugins {\r\n    id(&quot;java&quot;)\r\n    id(&quot;io.freefair.war-overlay&quot;) version &quot;8.0.1&quot;\r\n}\r\n\r\ngroup = &quot;org.example&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nwar {\r\n    overlays {}\r\n}\r\n```\r\n\r\nThe documentation (https://docs.freefair.io/gradle-plugins/current/reference/#_io_freefair_war_overlay) states that this should work. But now Gradle gives the error: &quot;Unresolved reference: overlays&quot;.\r\n\r\n**Debugging**&lt;br&gt;\r\nI looked at the plugin source code, which can be found here: https://github.com/freefair/gradle-plugins/blob/master/maven-plugin/src/main/java/io/freefair/gradle/plugins/maven/war/WarOverlayPlugin.java. You can clearly see this:\r\n```\r\n            NamedDomainObjectContainer&lt;WarOverlay&gt; warOverlays = project.container(WarOverlay.class, name -&gt; new WarOverlay(name, warTask));\r\n            warTask.getExtensions().add(&quot;overlays&quot;, warOverlays);\r\n```\r\n\r\nThis leads me to believe that the &quot;overlays&quot; is indeed added as an extension to the war task. If I try to debug this, you can see it sort of works:\r\n\r\n```\r\ntasks.withType&lt;org.gradle.api.tasks.bundling.War&gt; {\r\n    println(extensions[&quot;overlays&quot;])\r\n    // Adding &quot;overlays {}&quot; here also fails.\r\n}\r\n\r\n// Prints: WarOverlay container\r\n```\r\n\r\nStrangely enough, the following doesn&#39;t work:\r\n```\r\nwar {\r\n    println(extensions[&quot;overlays&quot;])\r\n}\r\n\r\n// Prints error: Extension with name &#39;overlays&#39; does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing]\r\n```\r\n\r\nSo apparently there is something different between &quot;war&quot; and grabbing the related task. Also in the related task.\r\n\r\nWhat am I doing wrong? It seems that it should work, and I cannot see my mistake.","title":"Extension method is not detected (Unresolved reference: overlays)","body":"<p><strong>Problem</strong><br>\nI am trying to get the plugin &quot;io.freefair.war-overlay&quot; to work. Based on the documentation, it should work, but it doesn't.</p>\n<p>I created an empty Gradle project (wrapper version 8.0) and used the following <code>build.gradle.kts</code>:</p>\n<pre><code>import io.freefair.gradle.plugins.maven.war.WarOverlay\n\nplugins {\n    id(&quot;java&quot;)\n    id(&quot;io.freefair.war-overlay&quot;) version &quot;8.0.1&quot;\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\nwar {\n    overlays {}\n}\n</code></pre>\n<p>The documentation (<a href=\"https://docs.freefair.io/gradle-plugins/current/reference/#_io_freefair_war_overlay\" rel=\"nofollow noreferrer\">https://docs.freefair.io/gradle-plugins/current/reference/#_io_freefair_war_overlay</a>) states that this should work. But now Gradle gives the error: &quot;Unresolved reference: overlays&quot;.</p>\n<p><strong>Debugging</strong><br>\nI looked at the plugin source code, which can be found here: <a href=\"https://github.com/freefair/gradle-plugins/blob/master/maven-plugin/src/main/java/io/freefair/gradle/plugins/maven/war/WarOverlayPlugin.java\" rel=\"nofollow noreferrer\">https://github.com/freefair/gradle-plugins/blob/master/maven-plugin/src/main/java/io/freefair/gradle/plugins/maven/war/WarOverlayPlugin.java</a>. You can clearly see this:</p>\n<pre><code>            NamedDomainObjectContainer&lt;WarOverlay&gt; warOverlays = project.container(WarOverlay.class, name -&gt; new WarOverlay(name, warTask));\n            warTask.getExtensions().add(&quot;overlays&quot;, warOverlays);\n</code></pre>\n<p>This leads me to believe that the &quot;overlays&quot; is indeed added as an extension to the war task. If I try to debug this, you can see it sort of works:</p>\n<pre><code>tasks.withType&lt;org.gradle.api.tasks.bundling.War&gt; {\n    println(extensions[&quot;overlays&quot;])\n    // Adding &quot;overlays {}&quot; here also fails.\n}\n\n// Prints: WarOverlay container\n</code></pre>\n<p>Strangely enough, the following doesn't work:</p>\n<pre><code>war {\n    println(extensions[&quot;overlays&quot;])\n}\n\n// Prints error: Extension with name 'overlays' does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing]\n</code></pre>\n<p>So apparently there is something different between &quot;war&quot; and grabbing the related task. Also in the related task.</p>\n<p>What am I doing wrong? It seems that it should work, and I cannot see my mistake.</p>\n"},{"tags":["java","security","pkcs#7","sap-basis"],"comments":[{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":0,"creation_date":1370952806,"post_id":17043569,"comment_id":24639563,"body_markdown":"And `sc` is? What you&#39;re verifying?","body":"And <code>sc</code> is? What you&#39;re verifying?"},{"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"score":0,"creation_date":1370953274,"post_id":17043569,"comment_id":24639856,"body_markdown":"String sc is the data with was signed with PKCS#7 in Base64. I want to verify the digital signature","body":"String sc is the data with was signed with PKCS#7 in Base64. I want to verify the digital signature"},{"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"score":0,"creation_date":1370953644,"post_id":17043569,"comment_id":24640082,"body_markdown":"Later i will generate a hash from the real data. This should be then compared against the hash of the sc-data which i get also from the signature?","body":"Later i will generate a hash from the real data. This should be then compared against the hash of the sc-data which i get also from the signature?"},{"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"score":0,"creation_date":1370953681,"post_id":17043569,"comment_id":24640110,"body_markdown":"For better understanding, this was signed by PKCS7: \n\n\nA1005056807CE11EE2B4CE0025305725CFrCN%3DKED,OU%3DI0020266601,OU%3DSAPWebAS,O%3DSAPTrustCommunity,C%3DDE20130611102236\n\n\nThe string sc is the result of signing above String by PKCS7 in SAP.\n\n\nI have now to create a hash value of the above string and compare to the hash value of the sc which i should get via the public key?!\n\n\nThe public key is stored in the certificate which i have stored in a file","body":"For better understanding, this was signed by PKCS7:    A1005056807CE11EE2B4CE0025305725CFrCN%3DKED,OU%3DI0020266601&zwnj;&#8203;,OU%3DSAPWebAS,O%3DS&zwnj;&#8203;APTrustCommunity,C%3&zwnj;&#8203;DDE20130611102236   The string sc is the result of signing above String by PKCS7 in SAP.   I have now to create a hash value of the above string and compare to the hash value of the sc which i should get via the public key?!   The public key is stored in the certificate which i have stored in a file"},{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":0,"creation_date":1370956479,"post_id":17043569,"comment_id":24641829,"body_markdown":"Oh, i see. It required detailed explanation, but i haven&#39;t time right now. In short if you want to use PKCS#7 signature - use library with CMS http://en.wikipedia.org/wiki/Cryptographic_Message_Syntax support, for example, BouncyCastle. http://www.bouncycastle.org/docs/pkixdocs1.4/org/bouncycastle/cms/CMSSignedDataGenerator.html","body":"Oh, i see. It required detailed explanation, but i haven&#39;t time right now. In short if you want to use PKCS#7 signature - use library with CMS <a href=\"http://en.wikipedia.org/wiki/Cryptographic_Message_Syntax\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Cryptographic_Message_Syntax</a> support, for example, BouncyCastle. <a href=\"http://www.bouncycastle.org/docs/pkixdocs1.4/org/bouncycastle/cms/CMSSignedDataGenerator.html\" rel=\"nofollow noreferrer\">bouncycastle.org/docs/pkixdocs1.4/org/bouncycastle/cms/&hellip;</a>"},{"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"score":0,"creation_date":1370956803,"post_id":17043569,"comment_id":24642042,"body_markdown":"I have tried it already with CMS, but it doesn&#180;t work, i got the info &quot;message-digest attribute value does not match calculated value&quot;. But i am not sure if I made the correct steps!\n\nCreated CMSSignedData, Get signer information, get Certificate, Call signer.verify Method\n\n\nDo i have to generate a SignedData (the String which was signed)?","body":"I have tried it already with CMS, but it doesn&#180;t work, i got the info &quot;message-digest attribute value does not match calculated value&quot;. But i am not sure if I made the correct steps!  Created CMSSignedData, Get signer information, get Certificate, Call signer.verify Method   Do i have to generate a SignedData (the String which was signed)?"}],"answers":[{"comments":[{"owner":{"account_id":412645,"reputation":1232,"user_id":785814,"accept_rate":40,"display_name":"DanMatlin"},"score":0,"creation_date":1375886154,"post_id":17059469,"comment_id":26506876,"body_markdown":"I have with me a signed string and the public key of the organisation which signed the string. How do I retrieve the data which was signed and verify the org which signed the string?","body":"I have with me a signed string and the public key of the organisation which signed the string. How do I retrieve the data which was signed and verify the org which signed the string?"},{"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"score":1,"creation_date":1441164882,"post_id":17059469,"comment_id":52562524,"body_markdown":"This code doesn&#39;t verify all signatures, and it does&#39;t verify the certificates, both of which you want to do if you want to truly verify PKCS#7 signed data.","body":"This code doesn&#39;t verify all signatures, and it does&#39;t verify the certificates, both of which you want to do if you want to truly verify PKCS#7 signed data."}],"tags":[],"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1371020479,"creation_date":1371020479,"answer_id":17059469,"question_id":17043569,"body_markdown":"Finally i got it with help of this: https://stackoverflow.com/questions/8243566/verifying-detached-signature-with-bc\r\n\r\n\t\tString toVerify = &quot;A1005056807CE11EE2B4CE0025305725CFrCN%3DKED,OU%3DI0020266601,OU%3DSAPWebAS,O%3DSAPTrustCommunity,C%3DDE20130611102236&quot;;\r\n\t\tString signed = &quot;MIIBUQYJKoZIhvcNAQcCoIIBQjCCAT4CAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3DQEHATGCAR0wggEZAgEBMG8wZDELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1NBUCBUcnVzdCBDb21tdW5pdHkxEzARBgNVBAsTClNBUCBXZWIgQVMxFDASBgNVBAsTC0kwMDIwMjY2NjAxMQwwCgYDVQQDEwNLRUQCByASEgITMlYwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEzMDYxMTA4MjM1MVowIwYJKoZIhvcNAQkEMRYEFGy7jXb/pUqMYdk2dss2Qe6hNroaMAkGByqGSM44BAMELjAsAhRMJ+t5/3RxQAsHKnIoPY4BnO0qCAIUAbKRwWNjOYsewB56zoZqnZwRyWw=&quot;;\r\n\t\tbyte[] signedByte = Base64.decode(signed);\r\n\r\n\t\tSecurity.addProvider(new BouncyCastleProvider());\r\n\r\n\t\tCMSSignedData s = new CMSSignedData(new CMSProcessableByteArray(toVerify.getBytes()), signedByte);\r\n\t\tSignerInformationStore signers = s.getSignerInfos();\r\n\t\tSignerInformation signerInfo = (SignerInformation)signers.getSigners().iterator().next();\r\n\t\t\t\t\r\n\t\tFileInputStream fis = new FileInputStream(&quot;c:\\\\sap.cer&quot;);\r\n\t\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\t\tX509Certificate cert = (X509Certificate)cf.generateCertificates(fis).iterator().next();\r\n\t\t\r\n\t\tboolean result = signerInfo.verify(new JcaSimpleSignerInfoVerifierBuilder().setProvider(&quot;SUN&quot;).build(cert.getPublicKey())); \r\n\t\tSystem.out.println(&quot;Verified: &quot;+result);","title":"PKCS7 Verify digital signature in Java","body":"<p>Finally i got it with help of this: <a href=\"https://stackoverflow.com/questions/8243566/verifying-detached-signature-with-bc\">verifying detached signature with BC</a></p>\n\n<pre><code>    String toVerify = \"A1005056807CE11EE2B4CE0025305725CFrCN%3DKED,OU%3DI0020266601,OU%3DSAPWebAS,O%3DSAPTrustCommunity,C%3DDE20130611102236\";\n    String signed = \"MIIBUQYJKoZIhvcNAQcCoIIBQjCCAT4CAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3DQEHATGCAR0wggEZAgEBMG8wZDELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1NBUCBUcnVzdCBDb21tdW5pdHkxEzARBgNVBAsTClNBUCBXZWIgQVMxFDASBgNVBAsTC0kwMDIwMjY2NjAxMQwwCgYDVQQDEwNLRUQCByASEgITMlYwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEzMDYxMTA4MjM1MVowIwYJKoZIhvcNAQkEMRYEFGy7jXb/pUqMYdk2dss2Qe6hNroaMAkGByqGSM44BAMELjAsAhRMJ+t5/3RxQAsHKnIoPY4BnO0qCAIUAbKRwWNjOYsewB56zoZqnZwRyWw=\";\n    byte[] signedByte = Base64.decode(signed);\n\n    Security.addProvider(new BouncyCastleProvider());\n\n    CMSSignedData s = new CMSSignedData(new CMSProcessableByteArray(toVerify.getBytes()), signedByte);\n    SignerInformationStore signers = s.getSignerInfos();\n    SignerInformation signerInfo = (SignerInformation)signers.getSigners().iterator().next();\n\n    FileInputStream fis = new FileInputStream(\"c:\\\\sap.cer\");\n    CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n    X509Certificate cert = (X509Certificate)cf.generateCertificates(fis).iterator().next();\n\n    boolean result = signerInfo.verify(new JcaSimpleSignerInfoVerifierBuilder().setProvider(\"SUN\").build(cert.getPublicKey())); \n    System.out.println(\"Verified: \"+result);\n</code></pre>\n"}],"owner":{"account_id":2825170,"reputation":179,"user_id":2427960,"display_name":"Manfred"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15080,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":17059469,"answer_count":1,"score":4,"last_activity_date":1689577942,"creation_date":1370951999,"question_id":17043569,"body_markdown":"The situation is that I have to check a digital signature:\r\n\r\nString1 &quot;`A1005056807CE11EE2B4CE0025305725CFrCN=KED,OU=I0020266601,OU=SAPWebAS,O=SAPTrustCommunity,C=DE20130611102236`&quot; \r\nis signed via PKCS#7 and send over HTTP-URL to me.\r\n\r\nI get the signed content in BASE64 (look in code String sc).\r\n\r\nNow I have to check, if the Hash of String1 which I will reproduce later in my code, is the same as from the signed content. Therefore I have to use the public key which I have from a certificate.\r\n\r\nI have a file with a X.509 certificate. This file I load into a X509Certificate instance. I got this file by copy and paste the bytes out from SAP- so I am not sure if the certificate is correct. But I can load it into the instance - I have putted the output of this certificate below.\r\n\r\nNow I get this when I run my code:\r\n&gt; message-digest attribute value does not match calculated value\r\n\r\nI don&#39;t know if these steps are right and is this message is correct, or am I doing something false!?\r\n\r\nHere my code:\r\n\r\n    String sc = &quot;MIIBUQYJKoZIhvcNAQcCoIIBQjCCAT4CAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3DQEHATGCAR0wggEZAgEBMG8wZDELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1NBUCBUcnVzdCBDb21tdW5pdHkxEzARBgNVBAsTClNBUCBXZWIgQVMxFDASBgNVBAsTC0kwMDIwMjY2NjAxMQwwCgYDVQQDEwNLRUQCByASEgITMlYwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEzMDYxMTA4MjM1MVowIwYJKoZIhvcNAQkEMRYEFGy7jXb/pUqMYdk2dss2Qe6hNroaMAkGByqGSM44BAMELjAsAhRMJ+t5/3RxQAsHKnIoPY4BnO0qCAIUAbKRwWNjOYsewB56zoZqnZwRyWw=&quot;;\r\n\tbyte[] secKey = Base64.decode(sc);\r\n\r\n\t\t\t\r\n\tCMSSignedData s = new CMSSignedData(secKey);\r\n\t\t\r\n\tSignerInformationStore signers = s.getSignerInfos();\r\n\tIterator&lt;SignerInformation&gt; it = signers.getSigners().iterator();\r\n\t\t\t\t\t\r\n\tFileInputStream fis = new FileInputStream(&quot;c:\\\\sap.cer&quot;);\r\n\tCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\tCollection&lt;X509Certificate&gt; c = (Collection&lt;X509Certificate&gt;)cf.generateCertificates(fis);\r\n\tIterator&lt;X509Certificate&gt; i = c.iterator();\r\n\r\n\twhile(it.hasNext()){\r\n\t\tSignerInformation signer = it.next();\r\n\t\twhile (i.hasNext()) {\r\n\t\t\tX509Certificate cert = i.next();\r\n\t\t\tcert.checkValidity();\r\n\t\t\tcert.verify(cert.getPublicKey());\t\t\t\r\n\t\t\tsigner.verify(new JcaSimpleSignerInfoVerifierBuilder().setProvider(&quot;SUN&quot;).build(cert));\r\n\t\t}\r\n\t}\r\n\r\n\r\nCertificate Output:\r\n\r\n\t[\r\n\t[\r\n\t  Version: V1\r\n\t  Subject: CN=KED, OU=I0020266601, OU=SAP Web AS, O=SAP Trust Community, C=DE\r\n\t  Signature Algorithm: SHA1withDSA, OID = 1.2.840.10040.4.3\r\n\r\n\t  Key:  Sun DSA Public Key\r\n\t\tParameters:DSA\r\n\t\tp:     ffd22469 8c53aa90 7585c3ee b65ffd9a cde5b230 53041af9 969e69c8 22093f5a\r\n\t\t477740c5 d398084f 3830ea33 8dbd8505 d6cce42b 135794b1 a971e670 f896eee2\r\n\t\t17acf3f8 48c67d35 434768d7 9c30567f abeb0d86 5674ef2b d391d530 26cbd9ba\r\n\t\t647414ba ff6e2f5b 9f468df7 3e266bd5 b330058d e64cfd69 75065322 11c43237\r\n\t\tq:     cd1ac6c7 d55ae243 cd5bbb0c 0f0789b4 233786b1\r\n\t\tg:     0945535b 061de39c 995832d2 03d3c2a0 c352cad9 2a524886 7c681962 ca94e5e3\r\n\t\tf23cc4c0 7891bc0d 0abc85fe 4f575334 b8e02d02 176d7534 ec7080c3 a46ccba3\r\n\t\t776a1b2f fa6f3586 e4e90e40 558e779a 6d90c9c0 c788592f 5d8ffe16 801e2c9e\r\n\t\tb3305ed3 c4035015 a246b7fc 2d2dda7f e6431fe3 d3b291fe 58082643 49d9bac1\r\n\r\n\t  y:\r\n\t\tcab5984a d0254277 fd4aab43 799d8120 35f7725b 313b87a2 ca092c91 96236e44\r\n\t\t8ad7c157 d000395b 1ce37da2 a9c18113 c34067e8 c917752b 9604049d 70b92bb0\r\n\t\t6aa65d45 d5fde439 bbcbaa21 7520542a baac4e64 75fabc57 56a91856 178d8fc4\r\n\t\t6aa34d71 5a06b59f 6c89ae81 3571d4ce 89bbeb49 dedfc68c 4fa8a6d1 9aefcdcf\r\n\r\n\t  Validity: [From: Sun Dec 02 14:32:56 CET 2012,\r\n\t\t\t\t   To: Fri Jan 01 01:00:01 CET 2038]\r\n\t  Issuer: CN=KED, OU=I0020266601, OU=SAP Web AS, O=SAP Trust Community, C=DE\r\n\t  SerialNumber: [    20121202 133256]\r\n\r\n\t]\r\n\t  Algorithm: [SHA1withDSA]\r\n\t  Signature:\r\n\t0000: 30 2D 02 14 15 BE 80 34   1A 6F 02 F4 C8 5A 9A 6A  0-.....4.o...Z.j\r\n\t0010: 3E 5A A8 66 C2 A2 AD 3C   02 15 00 C9 53 A6 D9 85  &gt;Z.f...&lt;....S...\r\n\t0020: 3F 22 FB 12 5C E9 9D B7   77 29 03 62 81 EA 17     ?&quot;..\\...w).b...\r\n\r\n\t]\r\n\t","title":"PKCS7 Verify digital signature in Java","body":"<p>The situation is that I have to check a digital signature:</p>\n<p>String1 &quot;<code>A1005056807CE11EE2B4CE0025305725CFrCN=KED,OU=I0020266601,OU=SAPWebAS,O=SAPTrustCommunity,C=DE20130611102236</code>&quot;\nis signed via PKCS#7 and send over HTTP-URL to me.</p>\n<p>I get the signed content in BASE64 (look in code String sc).</p>\n<p>Now I have to check, if the Hash of String1 which I will reproduce later in my code, is the same as from the signed content. Therefore I have to use the public key which I have from a certificate.</p>\n<p>I have a file with a X.509 certificate. This file I load into a X509Certificate instance. I got this file by copy and paste the bytes out from SAP- so I am not sure if the certificate is correct. But I can load it into the instance - I have putted the output of this certificate below.</p>\n<p>Now I get this when I run my code:</p>\n<blockquote>\n<p>message-digest attribute value does not match calculated value</p>\n</blockquote>\n<p>I don't know if these steps are right and is this message is correct, or am I doing something false!?</p>\n<p>Here my code:</p>\n<pre><code>String sc = &quot;MIIBUQYJKoZIhvcNAQcCoIIBQjCCAT4CAQExCzAJBgUrDgMCGgUAMAsGCSqGSIb3DQEHATGCAR0wggEZAgEBMG8wZDELMAkGA1UEBhMCREUxHDAaBgNVBAoTE1NBUCBUcnVzdCBDb21tdW5pdHkxEzARBgNVBAsTClNBUCBXZWIgQVMxFDASBgNVBAsTC0kwMDIwMjY2NjAxMQwwCgYDVQQDEwNLRUQCByASEgITMlYwCQYFKw4DAhoFAKBdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEzMDYxMTA4MjM1MVowIwYJKoZIhvcNAQkEMRYEFGy7jXb/pUqMYdk2dss2Qe6hNroaMAkGByqGSM44BAMELjAsAhRMJ+t5/3RxQAsHKnIoPY4BnO0qCAIUAbKRwWNjOYsewB56zoZqnZwRyWw=&quot;;\nbyte[] secKey = Base64.decode(sc);\n\n        \nCMSSignedData s = new CMSSignedData(secKey);\n    \nSignerInformationStore signers = s.getSignerInfos();\nIterator&lt;SignerInformation&gt; it = signers.getSigners().iterator();\n                \nFileInputStream fis = new FileInputStream(&quot;c:\\\\sap.cer&quot;);\nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\nCollection&lt;X509Certificate&gt; c = (Collection&lt;X509Certificate&gt;)cf.generateCertificates(fis);\nIterator&lt;X509Certificate&gt; i = c.iterator();\n\nwhile(it.hasNext()){\n    SignerInformation signer = it.next();\n    while (i.hasNext()) {\n        X509Certificate cert = i.next();\n        cert.checkValidity();\n        cert.verify(cert.getPublicKey());           \n        signer.verify(new JcaSimpleSignerInfoVerifierBuilder().setProvider(&quot;SUN&quot;).build(cert));\n    }\n}\n</code></pre>\n<p>Certificate Output:</p>\n<pre><code>[\n[\n  Version: V1\n  Subject: CN=KED, OU=I0020266601, OU=SAP Web AS, O=SAP Trust Community, C=DE\n  Signature Algorithm: SHA1withDSA, OID = 1.2.840.10040.4.3\n\n  Key:  Sun DSA Public Key\n    Parameters:DSA\n    p:     ffd22469 8c53aa90 7585c3ee b65ffd9a cde5b230 53041af9 969e69c8 22093f5a\n    477740c5 d398084f 3830ea33 8dbd8505 d6cce42b 135794b1 a971e670 f896eee2\n    17acf3f8 48c67d35 434768d7 9c30567f abeb0d86 5674ef2b d391d530 26cbd9ba\n    647414ba ff6e2f5b 9f468df7 3e266bd5 b330058d e64cfd69 75065322 11c43237\n    q:     cd1ac6c7 d55ae243 cd5bbb0c 0f0789b4 233786b1\n    g:     0945535b 061de39c 995832d2 03d3c2a0 c352cad9 2a524886 7c681962 ca94e5e3\n    f23cc4c0 7891bc0d 0abc85fe 4f575334 b8e02d02 176d7534 ec7080c3 a46ccba3\n    776a1b2f fa6f3586 e4e90e40 558e779a 6d90c9c0 c788592f 5d8ffe16 801e2c9e\n    b3305ed3 c4035015 a246b7fc 2d2dda7f e6431fe3 d3b291fe 58082643 49d9bac1\n\n  y:\n    cab5984a d0254277 fd4aab43 799d8120 35f7725b 313b87a2 ca092c91 96236e44\n    8ad7c157 d000395b 1ce37da2 a9c18113 c34067e8 c917752b 9604049d 70b92bb0\n    6aa65d45 d5fde439 bbcbaa21 7520542a baac4e64 75fabc57 56a91856 178d8fc4\n    6aa34d71 5a06b59f 6c89ae81 3571d4ce 89bbeb49 dedfc68c 4fa8a6d1 9aefcdcf\n\n  Validity: [From: Sun Dec 02 14:32:56 CET 2012,\n               To: Fri Jan 01 01:00:01 CET 2038]\n  Issuer: CN=KED, OU=I0020266601, OU=SAP Web AS, O=SAP Trust Community, C=DE\n  SerialNumber: [    20121202 133256]\n\n]\n  Algorithm: [SHA1withDSA]\n  Signature:\n0000: 30 2D 02 14 15 BE 80 34   1A 6F 02 F4 C8 5A 9A 6A  0-.....4.o...Z.j\n0010: 3E 5A A8 66 C2 A2 AD 3C   02 15 00 C9 53 A6 D9 85  &gt;Z.f...&lt;....S...\n0020: 3F 22 FB 12 5C E9 9D B7   77 29 03 62 81 EA 17     ?&quot;..\\...w).b...\n\n]\n</code></pre>\n"},{"tags":["java","xml","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":10026302,"reputation":865,"user_id":7414389,"accept_rate":92,"display_name":"DMC19"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1689577760,"creation_date":1502955198,"answer_id":45729112,"question_id":45714224,"body_markdown":"I have solved it using \r\n\r\n`marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);`\r\n\r\nand adding `(name = &quot;element&quot;)` to the `@XmlRootElement` annotation.\r\n\r\nThe right method:\r\n\r\n    public String marshal() {\r\n    \tJAXBContext context;\r\n    \ttry {\r\n    \t\tcontext = JAXBContext.newInstance(FormElement.class);\r\n    \t\tMarshaller marshaller = context.createMarshaller();\r\n    \t\tStringWriter stringWriter = new StringWriter();\r\n    \t\tmarshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);\r\n    \t\tmarshaller.marshal(this, stringWriter);\r\n    \t\treturn stringWriter.toString();\r\n    \t} catch (JAXBException e) {\r\n    \t\tString mess = &quot;Error marshalling FormElement &quot; + e.getMessage()\r\n    \t\t\t\t+ (e.getCause() != null ? &quot;. &quot; + e.getCause() : &quot; &quot;);\r\n    \t\tSystem.out.println(mess);\r\n    \t}\r\n    \treturn null;\r\n    }\r\nAnd the right annotation:\r\n\r\n    @XmlRootElement(name = &quot;element&quot;)","title":"JAXB - How to marshal java object without header","body":"<p>I have solved it using</p>\n<p><code>marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);</code></p>\n<p>and adding <code>(name = &quot;element&quot;)</code> to the <code>@XmlRootElement</code> annotation.</p>\n<p>The right method:</p>\n<pre><code>public String marshal() {\n    JAXBContext context;\n    try {\n        context = JAXBContext.newInstance(FormElement.class);\n        Marshaller marshaller = context.createMarshaller();\n        StringWriter stringWriter = new StringWriter();\n        marshaller.setProperty(Marshaller.JAXB_FRAGMENT, Boolean.TRUE);\n        marshaller.marshal(this, stringWriter);\n        return stringWriter.toString();\n    } catch (JAXBException e) {\n        String mess = &quot;Error marshalling FormElement &quot; + e.getMessage()\n                + (e.getCause() != null ? &quot;. &quot; + e.getCause() : &quot; &quot;);\n        System.out.println(mess);\n    }\n    return null;\n}\n</code></pre>\n<p>And the right annotation:</p>\n<pre><code>@XmlRootElement(name = &quot;element&quot;)\n</code></pre>\n"}],"owner":{"account_id":10026302,"reputation":865,"user_id":7414389,"accept_rate":92,"display_name":"DMC19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12959,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":45729112,"answer_count":1,"score":9,"last_activity_date":1689577760,"creation_date":1502888358,"question_id":45714224,"body_markdown":"I&#39;m trying to marshal a java object but I want to remove the header that Jaxb is introducing.\r\n\r\n**Object:**\r\n\r\n    @XmlRootElement\r\n    public class FormElement implements Serializable {\r\n    \tprivate String id;\r\n    \tprivate String name;\r\n    \tprivate Integer order;\r\n    }\r\n\r\n**Expected output:**\r\n\r\n    &lt;element&gt;\r\n        &lt;id&gt;asd&lt;/id&gt;\r\n        &lt;name&gt;asd&lt;/name&gt;\r\n        &lt;order&gt;1&lt;/order&gt;\r\n    &lt;/element&gt;\r\n\r\n**My output:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;formElement&gt;\r\n      &lt;id&gt;asd&lt;/id&gt;\r\n      &lt;name&gt;asd&lt;/name&gt;\r\n      &lt;order&gt;1&lt;/order&gt;\r\n    &lt;/formElement&gt;\r\n\r\n**My marshal method:**\r\n\r\n    public String marshal() {\r\n    \t\tJAXBContext context;\r\n    \t\ttry {\r\n    \t\t\tcontext = JAXBContext.newInstance(FormElement.class);\r\n    \t\t\tMarshaller marshaller = context.createMarshaller();\r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n    \t\t\tmarshaller.marshal(this, stringWriter);\r\n    \t\t\treturn stringWriter.toString();\r\n    \t\t} catch (JAXBException e) {\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n\r\nHow can I remove it?\r\n\r\nThanks in advance.","title":"JAXB - How to marshal java object without header","body":"<p>I'm trying to marshal a java object but I want to remove the header that Jaxb is introducing.</p>\n\n<p><strong>Object:</strong></p>\n\n<pre><code>@XmlRootElement\npublic class FormElement implements Serializable {\n    private String id;\n    private String name;\n    private Integer order;\n}\n</code></pre>\n\n<p><strong>Expected output:</strong></p>\n\n<pre><code>&lt;element&gt;\n    &lt;id&gt;asd&lt;/id&gt;\n    &lt;name&gt;asd&lt;/name&gt;\n    &lt;order&gt;1&lt;/order&gt;\n&lt;/element&gt;\n</code></pre>\n\n<p><strong>My output:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;formElement&gt;\n  &lt;id&gt;asd&lt;/id&gt;\n  &lt;name&gt;asd&lt;/name&gt;\n  &lt;order&gt;1&lt;/order&gt;\n&lt;/formElement&gt;\n</code></pre>\n\n<p><strong>My marshal method:</strong></p>\n\n<pre><code>public String marshal() {\n        JAXBContext context;\n        try {\n            context = JAXBContext.newInstance(FormElement.class);\n            Marshaller marshaller = context.createMarshaller();\n            StringWriter stringWriter = new StringWriter();\n            marshaller.marshal(this, stringWriter);\n            return stringWriter.toString();\n        } catch (JAXBException e) {\n        }\n        return null;\n    }\n</code></pre>\n\n<p>How can I remove it?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","amazon-sqs"],"answers":[{"comments":[{"owner":{"account_id":12163696,"reputation":509,"user_id":8880593,"display_name":"Reegz"},"score":0,"creation_date":1676894374,"post_id":75317572,"comment_id":133223137,"body_markdown":"Could you perhaps expand on the sample code to work within a Spring Boot 3 context? I have thus far been unable to get the listener to work in a clean Spring Boot 3 project. Would like to know which io.awspring dependencies are need and if any com.amazonaws libs are required too.","body":"Could you perhaps expand on the sample code to work within a Spring Boot 3 context? I have thus far been unable to get the listener to work in a clean Spring Boot 3 project. Would like to know which io.awspring dependencies are need and if any com.amazonaws libs are required too."},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1676909937,"post_id":75317572,"comment_id":133227807,"body_markdown":"Would you mind explaining in a bit more details what you need in a new question or in the Spring Cloud AWS Github repository? Thanks","body":"Would you mind explaining in a bit more details what you need in a new question or in the Spring Cloud AWS Github repository? Thanks"}],"tags":[],"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675297759,"creation_date":1675297759,"answer_id":75317572,"question_id":75181017,"body_markdown":"Spring Cloud AWS 2.x is only compatible with Spring Boot 2.x, for Spring Boot 3.x, Spring Cloud AWS 3.0 is necessary.\r\n\r\nSee compatibility [here](https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions).\r\n\r\nThe 3.0 RC version has just been released, feel free to try it out and provide feedback!","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p>Spring Cloud AWS 2.x is only compatible with Spring Boot 2.x, for Spring Boot 3.x, Spring Cloud AWS 3.0 is necessary.</p>\n<p>See compatibility <a href=\"https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The 3.0 RC version has just been released, feel free to try it out and provide feedback!</p>\n"},{"comments":[{"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":0,"creation_date":1675361858,"post_id":75327349,"comment_id":132917975,"body_markdown":"A mere link to an off-site solution is not an acceptable answer on Stack Overflow. Please at least summarize what&#39;s behind the link.","body":"A mere link to an off-site solution is not an acceptable answer on Stack Overflow. Please at least summarize what&#39;s behind the link."},{"owner":{"account_id":12163696,"reputation":509,"user_id":8880593,"display_name":"Reegz"},"score":0,"creation_date":1676894548,"post_id":75327349,"comment_id":133223186,"body_markdown":"Thanks; this does indeed work but feels bit rudimentary. The @SqsListener annotation driven operation from Spring Boot 2.x would be my preferred approach. Looking for a way to get this to work in Spring Boot 3.","body":"Thanks; this does indeed work but feels bit rudimentary. The @SqsListener annotation driven operation from Spring Boot 2.x would be my preferred approach. Looking for a way to get this to work in Spring Boot 3."}],"tags":[],"owner":{"account_id":27052966,"reputation":77,"user_id":20606083,"display_name":"KVSVK"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675362961,"creation_date":1675361787,"answer_id":75327349,"question_id":75181017,"body_markdown":"Spring Boot 3.0x requires Spring Cloud AWS 3.0x and AWS Java SDK 2.x \r\n\r\nVisit this [link][1] for info &lt;br&gt;\r\n\r\n\r\nIn order to create a Consumer in Spring Boot 3.0, you need to use `@EnableScheduling` Bean in your main application. Then you need to use `@Scheduled(fixedDelay = 5000)` above the *receive* method. **@Scheduled** bean replaces the **@SqsListener** here. You can visit this [link][2] for more info.\r\n\r\n\r\n  [1]: https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\r\n  [2]: https://javatodev.com/how-to-use-amazon-sqs-with-spring-boot/","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p>Spring Boot 3.0x requires Spring Cloud AWS 3.0x and AWS Java SDK 2.x</p>\n<p>Visit this <a href=\"https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\" rel=\"nofollow noreferrer\">link</a> for info <br></p>\n<p>In order to create a Consumer in Spring Boot 3.0, you need to use <code>@EnableScheduling</code> Bean in your main application. Then you need to use <code>@Scheduled(fixedDelay = 5000)</code> above the <em>receive</em> method. <strong>@Scheduled</strong> bean replaces the <strong>@SqsListener</strong> here. You can visit this <a href=\"https://javatodev.com/how-to-use-amazon-sqs-with-spring-boot/\" rel=\"nofollow noreferrer\">link</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":13915924,"reputation":11,"user_id":10047760,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676904281,"creation_date":1676904281,"answer_id":75510719,"question_id":75181017,"body_markdown":"In order for the `@SqsListener` annotation to work, the dependency [spring-cloud-aws-autoconfigure][1] is required - this autowires the containers etc. needed for the annotation to function. [You can see the extra stuff it autowires here][2].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/io.awspring.cloud/spring-cloud-aws-autoconfigure\r\n  [2]: https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-autoconfigure/src/main/java/io/awspring/cloud/autoconfigure/sqs/SqsAutoConfiguration.java","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p>In order for the <code>@SqsListener</code> annotation to work, the dependency <a href=\"https://mvnrepository.com/artifact/io.awspring.cloud/spring-cloud-aws-autoconfigure\" rel=\"nofollow noreferrer\">spring-cloud-aws-autoconfigure</a> is required - this autowires the containers etc. needed for the annotation to function. <a href=\"https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-autoconfigure/src/main/java/io/awspring/cloud/autoconfigure/sqs/SqsAutoConfiguration.java\" rel=\"nofollow noreferrer\">You can see the extra stuff it autowires here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11423432,"reputation":723,"user_id":8374202,"accept_rate":60,"display_name":"Vikash Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685535359,"creation_date":1685535359,"answer_id":76373419,"question_id":75181017,"body_markdown":"**SQS message listener with spring boot 3**\r\n\r\nAdd following in pom.xml\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-aws-starter-sqs&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Use BOM provided by spring for version managament --&gt;\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n* Use io.awspring.cloud.sqs.annotation.SqsListener to listen the messages instead of io.awspring.cloud.messaging.listener.annotation.SqsListener\r\n* If &quot;Visibility timeout&quot; of SQS is less than listener&#39;s processing time then message needs to be deleted explicitly from the queue, otherwise same message could be processed multiple times.\r\n\r\nWorking example: https://github.com/raovikash/sqs-listener-spring-boot3","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p><strong>SQS message listener with spring boot 3</strong></p>\n<p>Add following in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-aws-starter-sqs&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Use BOM provided by spring for version managament --&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<ul>\n<li>Use io.awspring.cloud.sqs.annotation.SqsListener to listen the messages instead of io.awspring.cloud.messaging.listener.annotation.SqsListener</li>\n<li>If &quot;Visibility timeout&quot; of SQS is less than listener's processing time then message needs to be deleted explicitly from the queue, otherwise same message could be processed multiple times.</li>\n</ul>\n<p>Working example: <a href=\"https://github.com/raovikash/sqs-listener-spring-boot3\" rel=\"nofollow noreferrer\">https://github.com/raovikash/sqs-listener-spring-boot3</a></p>\n"},{"comments":[{"owner":{"account_id":9111071,"reputation":175,"user_id":6779807,"display_name":"riteshmaurya"},"score":1,"creation_date":1698729161,"post_id":76676375,"comment_id":136438877,"body_markdown":"I cant find @EnableSqs annotation","body":"I cant find @EnableSqs annotation"}],"tags":[],"owner":{"account_id":29007197,"reputation":9,"user_id":22219432,"display_name":"user22219432"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689577294,"creation_date":1689228453,"answer_id":76676375,"question_id":75181017,"body_markdown":"\r\n    @EnableSqs\r\n\r\nadd this annotation in the class where you are using `@SqsListener` in spring boot 3","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<pre><code>@EnableSqs\n</code></pre>\n<p>add this annotation in the class where you are using <code>@SqsListener</code> in spring boot 3</p>\n"}],"owner":{"account_id":6061762,"reputation":85,"user_id":4733312,"display_name":"Eddie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6623,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1689577294,"creation_date":1674200184,"question_id":75181017,"body_markdown":"Currently, we have an SQS client configured using an IAM Role that is picked up on the cluster. However, migrating over to Springboot 3 the @SqsListener is no longer consuming the messages. \r\n\r\nNOTE: Same code, works on Springboot 2, but not on Springboot 3 is there something else that needs to be configured or am I missing something?\r\n\r\nAnyone else run into this issue?","title":"AWS @SqsListener not working with spring cloud (using springboot 3)","body":"<p>Currently, we have an SQS client configured using an IAM Role that is picked up on the cluster. However, migrating over to Springboot 3 the @SqsListener is no longer consuming the messages.</p>\n<p>NOTE: Same code, works on Springboot 2, but not on Springboot 3 is there something else that needs to be configured or am I missing something?</p>\n<p>Anyone else run into this issue?</p>\n"},{"tags":["java","jersey","jax-rs"],"answers":[{"comments":[{"owner":{"account_id":1134985,"reputation":25165,"user_id":1120221,"accept_rate":91,"display_name":"Salah Eddine Taouririt"},"score":0,"creation_date":1397165771,"post_id":22999332,"comment_id":35127510,"body_markdown":"Should I parse the request accept header and make an if/else branch ?","body":"Should I parse the request accept header and make an if/else branch ?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1397165836,"post_id":22999332,"comment_id":35127537,"body_markdown":"@tarrsalah Yes, that seems appropriate for `String` return type. There should be a `@HeaderParam` for that I believe.","body":"@tarrsalah Yes, that seems appropriate for <code>String</code> return type. There should be a <code>@HeaderParam</code> for that I believe."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397165158,"creation_date":1397165158,"answer_id":22999332,"question_id":22999265,"body_markdown":"As [this Java EE tutorial][1] states\r\n\r\n&gt; The @Produces annotation is used to specify the MIME media types or\r\n&gt; representations a resource can produce and send back to the client.\r\n\r\nso it doesn&#39;t actually tell JAX-RS to produce two content types in the response. It initially acts as an indicator for determining which handler method to use. If you had two `GET`s for the same path, the `@Produces` would help choosing the most appropriate. \r\n\r\nIn your cast, the method can produce both content type. Which one it eventually produces depends on the `Accept` header in the request.\r\n\r\nFrom the same tutorial\r\n\r\n&gt; If a resource class is capable of producing more that one MIME media\r\n&gt; type, the resource method chosen will correspond to the most\r\n&gt; acceptable media type as declared by the client. More specifically,\r\n&gt; the Accept header of the HTTP request declared what is most\r\n&gt; acceptable.\r\n\r\nThe fact that you are returning a `String` kind of shows that it&#39;s up to your implementation to produce the right content. If instead you returned a Pojo of some sort, I do believe Jersey would use the appropriate conversion tool to produce XML (maybe with JAXB) or JSON (maybe with Jackson).\r\n\r\n  [1]: http://docs.oracle.com/cd/E19226-01/820-7627/gipxf/index.html","title":"How can a resource method produce or consume two different MIME types?","body":"<p>As <a href=\"http://docs.oracle.com/cd/E19226-01/820-7627/gipxf/index.html\" rel=\"nofollow\">this Java EE tutorial</a> states</p>\n\n<blockquote>\n  <p>The @Produces annotation is used to specify the MIME media types or\n  representations a resource can produce and send back to the client.</p>\n</blockquote>\n\n<p>so it doesn't actually tell JAX-RS to produce two content types in the response. It initially acts as an indicator for determining which handler method to use. If you had two <code>GET</code>s for the same path, the <code>@Produces</code> would help choosing the most appropriate. </p>\n\n<p>In your cast, the method can produce both content type. Which one it eventually produces depends on the <code>Accept</code> header in the request.</p>\n\n<p>From the same tutorial</p>\n\n<blockquote>\n  <p>If a resource class is capable of producing more that one MIME media\n  type, the resource method chosen will correspond to the most\n  acceptable media type as declared by the client. More specifically,\n  the Accept header of the HTTP request declared what is most\n  acceptable.</p>\n</blockquote>\n\n<p>The fact that you are returning a <code>String</code> kind of shows that it's up to your implementation to produce the right content. If instead you returned a Pojo of some sort, I do believe Jersey would use the appropriate conversion tool to produce XML (maybe with JAXB) or JSON (maybe with Jackson).</p>\n"},{"tags":[],"owner":{"account_id":29001719,"reputation":1,"user_id":22215149,"display_name":"Mohamed Anwar H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689577280,"creation_date":1689158714,"answer_id":76669722,"question_id":22999265,"body_markdown":"    @Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n\r\ntry this\r\n","title":"How can a resource method produce or consume two different MIME types?","body":"<pre><code>@Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n@Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n</code></pre>\n<p>try this</p>\n"}],"owner":{"account_id":1134985,"reputation":25165,"user_id":1120221,"accept_rate":91,"display_name":"Salah Eddine Taouririt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22999332,"answer_count":2,"score":0,"last_activity_date":1689577280,"creation_date":1397164975,"question_id":22999265,"body_markdown":"How can this resource method produce `json` or `xml` results ?\r\n\r\nShould I parse the request accept header and make an `if/else` branch, or [tag:jersey] will do that \r\nfor me  ? \r\n\r\n    @GET\r\n    @Produces({&quot;application/xml&quot;, &quot;application/json&quot;})\r\n    public String doGetAsXmlOrJson() {\r\n        ...\r\n    }\r\n\r\nAn example of how `doGetAsXmlOrJson()` may implemented will nice.","title":"How can a resource method produce or consume two different MIME types?","body":"<p>How can this resource method produce <code>json</code> or <code>xml</code> results ?</p>\n\n<p>Should I parse the request accept header and make an <code>if/else</code> branch, or <a href=\"/questions/tagged/jersey\" class=\"post-tag\" title=\"show questions tagged &#39;jersey&#39;\" rel=\"tag\">jersey</a> will do that \nfor me  ? </p>\n\n<pre><code>@GET\n@Produces({\"application/xml\", \"application/json\"})\npublic String doGetAsXmlOrJson() {\n    ...\n}\n</code></pre>\n\n<p>An example of how <code>doGetAsXmlOrJson()</code> may implemented will nice.</p>\n"},{"tags":["java","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":9305717,"reputation":47,"user_id":6909544,"display_name":"Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689576949,"creation_date":1689576949,"answer_id":76702099,"question_id":76663886,"body_markdown":"Add the following plugin to your pom.xml file to configure the JavaFX runtime:\r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.xxx.hellojavafx.Main&lt;/mainClass&gt;\r\n                        &lt;options&gt;\r\n                            &lt;option&gt;-XX:+UseG1GC&lt;/option&gt;\r\n                            &lt;option&gt;--add-exports&lt;/option&gt;\r\n                            &lt;option&gt;javafx.base/com.sun.javafx.event=org.controlsfx.controls&lt;/option&gt;\r\n                        &lt;/options&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;","title":"IllegalAccessError when using ControlsFX AutoCompletionBinding","body":"<p>Add the following plugin to your pom.xml file to configure the JavaFX runtime:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.xxx.hellojavafx.Main&lt;/mainClass&gt;\n                    &lt;options&gt;\n                        &lt;option&gt;-XX:+UseG1GC&lt;/option&gt;\n                        &lt;option&gt;--add-exports&lt;/option&gt;\n                        &lt;option&gt;javafx.base/com.sun.javafx.event=org.controlsfx.controls&lt;/option&gt;\n                    &lt;/options&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":9305717,"reputation":47,"user_id":6909544,"display_name":"Marko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76702099,"answer_count":1,"score":0,"last_activity_date":1689576949,"creation_date":1689091702,"question_id":76663886,"body_markdown":"I am getting an IllegalAccessError\r\n\r\n    class org.controlsfx.control.textfield.AutoCompletionBinding (in module org.controlsfx.controls) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to module org.controlsfx.controls\r\n\r\nwhen using ControlsFX AutoCompletionBinding with\r\n\r\n    try {\r\n    \r\n                        SearchSession searchSession = Search.session(JpaUtil.getEntityManager());\r\n    \r\n                        SearchResult&lt;Student&gt; result = searchSession.search(Student.class)\r\n                                .where(f -&gt; f.match()\r\n                                        .field(&quot;firstName&quot;)\r\n                                        .matching(search))\r\n                                .fetch(20);\r\n    \r\n                        List&lt;Student&gt; list = result.hits();\r\n                        TextFields.bindAutoCompletion(searchField, list);\r\n    \r\n                    } catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\nI am trying to implement an autosuggestion search field (searching in the DB as you type). I am using JDK17. It is related to the modularity of Java but how can I fix that? Thanks.\r\n","title":"IllegalAccessError when using ControlsFX AutoCompletionBinding","body":"<p>I am getting an IllegalAccessError</p>\n<pre><code>class org.controlsfx.control.textfield.AutoCompletionBinding (in module org.controlsfx.controls) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to module org.controlsfx.controls\n</code></pre>\n<p>when using ControlsFX AutoCompletionBinding with</p>\n<pre><code>try {\n\n                    SearchSession searchSession = Search.session(JpaUtil.getEntityManager());\n\n                    SearchResult&lt;Student&gt; result = searchSession.search(Student.class)\n                            .where(f -&gt; f.match()\n                                    .field(&quot;firstName&quot;)\n                                    .matching(search))\n                            .fetch(20);\n\n                    List&lt;Student&gt; list = result.hits();\n                    TextFields.bindAutoCompletion(searchField, list);\n\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n</code></pre>\n<p>I am trying to implement an autosuggestion search field (searching in the DB as you type). I am using JDK17. It is related to the modularity of Java but how can I fix that? Thanks.</p>\n"},{"tags":["java","spring-boot","logging","spring-webflux","mdc"],"comments":[{"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":"某某某"},"score":0,"creation_date":1667917487,"post_id":74362254,"comment_id":131278733,"body_markdown":"Does this answer your question? [How to correctly use slf4j MDC in spring-webflux WebFilter](https://stackoverflow.com/questions/51738140/how-to-correctly-use-slf4j-mdc-in-spring-webflux-webfilter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51738140/how-to-correctly-use-slf4j-mdc-in-spring-webflux-webfilter\">How to correctly use slf4j MDC in spring-webflux WebFilter</a>"},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1667917500,"post_id":74362254,"comment_id":131278739,"body_markdown":"I&#39;ve seen above. There is no answear to my question.","body":"I&#39;ve seen above. There is no answear to my question."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667918226,"post_id":74362254,"comment_id":131279045,"body_markdown":"There is an answer to your question, you need to store it in the context and when logging copy it to the MDC (which should by in a try-with-resources block). Else it won&#39;t work as the MDC is a ThreadLocal and in a reactive pipeline there might be multiple threads and thus you need to copy it around.","body":"There is an answer to your question, you need to store it in the context and when logging copy it to the MDC (which should by in a try-with-resources block). Else it won&#39;t work as the MDC is a ThreadLocal and in a reactive pipeline there might be multiple threads and thus you need to copy it around."},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1668083929,"post_id":74362254,"comment_id":131323802,"body_markdown":"OK, so it will work but only for logs specified explicitly by me in the code in the chain. I assume there is no option to do that for all logs like Jackson encoder, WebHandlerAdapter etc. In the non-reactive world it is enough to place MDC.put(&quot;&quot;) in the filter and it gets to any logs which is really what I am after.","body":"OK, so it will work but only for logs specified explicitly by me in the code in the chain. I assume there is no option to do that for all logs like Jackson encoder, WebHandlerAdapter etc. In the non-reactive world it is enough to place MDC.put(&quot;&quot;) in the filter and it gets to any logs which is really what I am after."}],"answers":[{"tags":[],"owner":{"account_id":11979025,"reputation":123,"user_id":8765371,"display_name":"Michal"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689576484,"creation_date":1689319876,"answer_id":76685577,"question_id":74362254,"body_markdown":"You can use https://github.com/Numichi/reactive-logger library that solves the problem with MDC in WebFlux applications.\r\n\r\nThe following snippet stores the username to MDC so you can log it. It gets executed right after the user is authenticated, so there are cases when the username is not yet set in logs, or when there is no user interaction, therefore a meaningful default value in your logging pattern might be a good idea, e.g. `[%boldYellow(%X{username:-SYSTEM})]`.\r\n\r\n&lt;!-- begin snippet: kotlin hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    import io.github.numichi.reactive.logger.reactor.MDCContext.modify\r\n    import org.springframework.boot.web.reactive.filter.OrderedWebFilter\r\n    import org.springframework.security.config.web.server.SecurityWebFiltersOrder.AUTHENTICATION\r\n    import org.springframework.security.core.Authentication\r\n    import org.springframework.security.core.context.ReactiveSecurityContextHolder\r\n    import org.springframework.stereotype.Component\r\n    import org.springframework.web.server.ServerWebExchange\r\n    import org.springframework.web.server.WebFilterChain\r\n    import reactor.core.publisher.Mono\r\n    import reactor.util.context.Context\r\n\r\n    @Component\r\n    class UsernameMdcWebFilter : OrderedWebFilter {\r\n\r\n        override fun getOrder() = AUTHENTICATION.order + 1\r\n\r\n        override fun filter(\r\n            exchange: ServerWebExchange,\r\n            chain: WebFilterChain\r\n        ): Mono&lt;Void&gt; = ReactiveSecurityContextHolder.getContext()\r\n            .mapNotNull { it.authentication }\r\n            .flatMap { authentication -&gt;\r\n                chain.filter(exchange)\r\n                    .contextWrite { addUsernameToMdc(it, authentication) }\r\n            }\r\n\r\n        private fun addUsernameToMdc(\r\n            context: Context,\r\n            authentication: Authentication\r\n        ) = modify(context, &quot;username&quot; to authentication.user)\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nOnce you introduce this mechanism, you must make sure that you use an appropriate logger from the library, which serves as an adapter that extends standard logging libraries like LOG4J or KLogger. To do this, create your Logger using `io.github.numichi.reactive.logger.LoggerFactory`, which has a similar usage as `org.slf4j.LoggerFactory`.","title":"Spring WebFlux - WebFilter add name from Authentication to MDC","body":"<p>You can use <a href=\"https://github.com/Numichi/reactive-logger\" rel=\"nofollow noreferrer\">https://github.com/Numichi/reactive-logger</a> library that solves the problem with MDC in WebFlux applications.</p>\n<p>The following snippet stores the username to MDC so you can log it. It gets executed right after the user is authenticated, so there are cases when the username is not yet set in logs, or when there is no user interaction, therefore a meaningful default value in your logging pattern might be a good idea, e.g. <code>[%boldYellow(%X{username:-SYSTEM})]</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import io.github.numichi.reactive.logger.reactor.MDCContext.modify\nimport org.springframework.boot.web.reactive.filter.OrderedWebFilter\nimport org.springframework.security.config.web.server.SecurityWebFiltersOrder.AUTHENTICATION\nimport org.springframework.security.core.Authentication\nimport org.springframework.security.core.context.ReactiveSecurityContextHolder\nimport org.springframework.stereotype.Component\nimport org.springframework.web.server.ServerWebExchange\nimport org.springframework.web.server.WebFilterChain\nimport reactor.core.publisher.Mono\nimport reactor.util.context.Context\n\n@Component\nclass UsernameMdcWebFilter : OrderedWebFilter {\n\n    override fun getOrder() = AUTHENTICATION.order + 1\n\n    override fun filter(\n        exchange: ServerWebExchange,\n        chain: WebFilterChain\n    ): Mono&lt;Void&gt; = ReactiveSecurityContextHolder.getContext()\n        .mapNotNull { it.authentication }\n        .flatMap { authentication -&gt;\n            chain.filter(exchange)\n                .contextWrite { addUsernameToMdc(it, authentication) }\n        }\n\n    private fun addUsernameToMdc(\n        context: Context,\n        authentication: Authentication\n    ) = modify(context, &quot;username&quot; to authentication.user)\n}\n</code></pre>\n<p>Once you introduce this mechanism, you must make sure that you use an appropriate logger from the library, which serves as an adapter that extends standard logging libraries like LOG4J or KLogger. To do this, create your Logger using <code>io.github.numichi.reactive.logger.LoggerFactory</code>, which has a similar usage as <code>org.slf4j.LoggerFactory</code>.</p>\n"}],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689576484,"creation_date":1667916983,"question_id":74362254,"body_markdown":"I have a Spring boot WebFlux application.\r\nI have to add name hidden in Authentication object into MDC so all the logs can be enhanced with it.\r\n\r\nMy code looks like this:\r\n\r\nController:\r\n\r\n``` java\r\n@RestController\r\nclass MobileController {\r\n\r\n  @PostMapping(&quot;/&quot;)\r\n  @ResponseStatus(HttpStatus.CREATED)\r\n  public Mono&lt;Response&gt; initializePayment(BearerTokenAuthentication authentication, Request request) {\r\n    String userId = String.valueOf(authentication.getTokenAttributes().get(&quot;username&quot;));\r\n\r\n    log.info(&quot;[initializePayment] Initializing payment process for user: {}, with request: {}&quot;,\r\n            userId, request);\r\n    // my logic here\r\n```\r\n\r\nWebFilter:\r\n\r\n``` java\r\n@Component\r\nclass LogFilter implements WebFilter {\r\n    \r\n  @Override\r\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    return ReactiveSecurityContextHolder.getContext()\r\n        .doOnNext((sc) -&gt; {\r\n          if (sc.getAuthentication() != null) {\r\n            MDC.put(&quot;user_id&quot;, sc.getAuthentication().getName());\r\n          }\r\n        })\r\n        .then(chain.filter(exchange));\r\n  }\r\n```\r\n\r\nBut with this code I only have `&quot;user_id&quot;` logged in in some &quot;parallel threads&quot; - not in the reactor one, see the logs below::\r\n\r\n```\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[fdedf164-1] HTTP POST &quot;/api/v1/&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] HTTP POST https://server-host/oauth/token/introspect&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] Writing form fields [token] (content masked)&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] [705ad9f1-1, Response 200 OK&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] [705ad9f1-1,  Decoded [{active=true, scope=USER, client_id=0d46cc1c-3062-11e9-8c56-3b7c3075f9de, username=ada5bc12-4518-419 (truncated)...]&quot;}\r\n{&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;Created new WebSession.&quot;}\r\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] Mapped to )&quot;}\r\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] Content-Type:application/json&quot;}\r\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] 0..1 []&quot;}\r\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[fdedf164-1] Decoded &quot;}\r\n```\r\n\r\nI have also tried adding `MDC.put()` in the controller and then I get `&quot;user_id&quot;` in each log but only after the controller has been reached, meaning that I will be unable to match the incoming server call with the user.\r\n\r\n","title":"Spring WebFlux - WebFilter add name from Authentication to MDC","body":"<p>I have a Spring boot WebFlux application.\nI have to add name hidden in Authentication object into MDC so all the logs can be enhanced with it.</p>\n<p>My code looks like this:</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\nclass MobileController {\n\n  @PostMapping(&quot;/&quot;)\n  @ResponseStatus(HttpStatus.CREATED)\n  public Mono&lt;Response&gt; initializePayment(BearerTokenAuthentication authentication, Request request) {\n    String userId = String.valueOf(authentication.getTokenAttributes().get(&quot;username&quot;));\n\n    log.info(&quot;[initializePayment] Initializing payment process for user: {}, with request: {}&quot;,\n            userId, request);\n    // my logic here\n</code></pre>\n<p>WebFilter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass LogFilter implements WebFilter {\n    \n  @Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    return ReactiveSecurityContextHolder.getContext()\n        .doOnNext((sc) -&gt; {\n          if (sc.getAuthentication() != null) {\n            MDC.put(&quot;user_id&quot;, sc.getAuthentication().getName());\n          }\n        })\n        .then(chain.filter(exchange));\n  }\n</code></pre>\n<p>But with this code I only have <code>&quot;user_id&quot;</code> logged in in some &quot;parallel threads&quot; - not in the reactor one, see the logs below::</p>\n<pre><code>{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[fdedf164-1] HTTP POST &quot;/api/v1/&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] HTTP POST https://server-host/oauth/token/introspect&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] Writing form fields [token] (content masked)&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] [705ad9f1-1, Response 200 OK&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[6501f595] [705ad9f1-1,  Decoded [{active=true, scope=USER, client_id=0d46cc1c-3062-11e9-8c56-3b7c3075f9de, username=ada5bc12-4518-419 (truncated)...]&quot;}\n{&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;Created new WebSession.&quot;}\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] Mapped to )&quot;}\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] Content-Type:application/json&quot;}\n{&quot;user_id&quot;:&quot;ada5bc12-4518-4199-80ee-111111222222&quot;,&quot;thread_name&quot;:&quot;parallel-1&quot;,&quot;message&quot;:&quot;[fdedf164-1] 0..1 []&quot;}\n{&quot;thread_name&quot;:&quot;reactor-http-nio-3&quot;,&quot;message&quot;:&quot;[fdedf164-1] Decoded &quot;}\n</code></pre>\n<p>I have also tried adding <code>MDC.put()</code> in the controller and then I get <code>&quot;user_id&quot;</code> in each log but only after the controller has been reached, meaning that I will be unable to match the incoming server call with the user.</p>\n"},{"tags":["java","authentication","tomcat","web-applications","web.xml"],"owner":{"account_id":17324638,"reputation":21,"user_id":12549136,"display_name":"7575 mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689576471,"creation_date":1689576471,"question_id":76702059,"body_markdown":"i have below login configuration in my web-app/WEB-INF/web.xml\r\n\r\n    &lt;login-config&gt;\r\n    \t    &lt;auth-method&gt;CUSTOMFORM856&lt;/auth-method&gt;\r\n        \t&lt;form-login-config&gt;\r\n    \t    \t&lt;form-login-page&gt;/myAuthenticator&lt;/form-login-page&gt;\r\n    \t\t    &lt;form-error-page&gt;/myAuthenticator&lt;/form-error-page&gt;\r\n        \t&lt;/form-login-config&gt;\r\n        &lt;/login-config&gt;\r\n\r\ni have the case that after session expired user tries to click on UI(reloads widget in web-app) then request (/loadWidget?method=&quot;loadLayout&quot;) send to tomcat server since session expired this request forwarded to (/myAuthenticator)as per web.xml login-config\r\n\r\nwhile forwarding (/loadWidget?method=&quot;loadLayout&quot;) to (/myAuthenticator) query string param(method=&quot;loadLayout&quot;) also passed to (/myAuthenticator) request\r\n\r\nis there any way to avoid passing previous request query param to authentication forward call ?","title":"Is there any way to avoid passing previous request query string parameters to authentication forward call in tomcat?","body":"<p>i have below login configuration in my web-app/WEB-INF/web.xml</p>\n<pre><code>&lt;login-config&gt;\n        &lt;auth-method&gt;CUSTOMFORM856&lt;/auth-method&gt;\n        &lt;form-login-config&gt;\n            &lt;form-login-page&gt;/myAuthenticator&lt;/form-login-page&gt;\n            &lt;form-error-page&gt;/myAuthenticator&lt;/form-error-page&gt;\n        &lt;/form-login-config&gt;\n    &lt;/login-config&gt;\n</code></pre>\n<p>i have the case that after session expired user tries to click on UI(reloads widget in web-app) then request (/loadWidget?method=&quot;loadLayout&quot;) send to tomcat server since session expired this request forwarded to (/myAuthenticator)as per web.xml login-config</p>\n<p>while forwarding (/loadWidget?method=&quot;loadLayout&quot;) to (/myAuthenticator) query string param(method=&quot;loadLayout&quot;) also passed to (/myAuthenticator) request</p>\n<p>is there any way to avoid passing previous request query param to authentication forward call ?</p>\n"},{"tags":["java","serialization","platform-independent"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689294127,"post_id":76683503,"comment_id":135196788,"body_markdown":"It seems inconceivable that anyone, let alone Java language designers, would *not* make it platform independent.","body":"It seems inconceivable that anyone, let alone Java language designers, would <i>not</i> make it platform independent."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689296269,"post_id":76683503,"comment_id":135196932,"body_markdown":"@Bohemian I don&#39;t know how you *could* make Java Serialization platform-dependent unless you used NIO or native code, but that&#39;s not the question here.","body":"@Bohemian I don&#39;t know how you <i>could</i> make Java Serialization platform-dependent unless you used NIO or native code, but that&#39;s not the question here."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1689335297,"post_id":76683503,"comment_id":135202360,"body_markdown":"@user207421 object serialisation contains no line endings. It&#39;s just raw bytes. I think you&#39;d have to work hard to *make* it platform-dependent","body":"@user207421 object serialisation contains no line endings. It&#39;s just raw bytes. I think you&#39;d have to work hard to <i>make</i> it platform-dependent"}],"answers":[{"tags":[],"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689285965,"creation_date":1689285965,"answer_id":76683527,"question_id":76683503,"body_markdown":"**Nope.**\r\n\r\nWhat makes Java platform-independent is the existence of Java-compatible runtimes on many different platforms.  More specifically, the existence of Java runtimes for your platform of choice that are capable of executing [Java bytecode](https://en.wikipedia.org/wiki/Java_bytecode), the common intermediate language that the Java compiler outputs.\r\n\r\nWhat Serialization/Deserialization does is give you *a platform-independent way of communicating between different systems.*  All you need is serialization/deserialization software on each system that speaks the same communication protocol.  Using Java on each side is not required.","title":"Does serialization in java make it platform independent?","body":"<p><strong>Nope.</strong></p>\n<p>What makes Java platform-independent is the existence of Java-compatible runtimes on many different platforms.  More specifically, the existence of Java runtimes for your platform of choice that are capable of executing <a href=\"https://en.wikipedia.org/wiki/Java_bytecode\" rel=\"nofollow noreferrer\">Java bytecode</a>, the common intermediate language that the Java compiler outputs.</p>\n<p>What Serialization/Deserialization does is give you <em>a platform-independent way of communicating between different systems.</em>  All you need is serialization/deserialization software on each system that speaks the same communication protocol.  Using Java on each side is not required.</p>\n"},{"tags":[],"owner":{"account_id":1411309,"reputation":158,"user_id":1337827,"accept_rate":100,"display_name":"Pradeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689290631,"creation_date":1689286332,"answer_id":76683562,"question_id":76683503,"body_markdown":"Serialization/deserialization is about data moving in and out of your running program. At this point, because your program is already running, platform dependence/independence has already happened.\r\n\r\nPlatform independence happens because of compilation of a Java program to a bytecode format. This bytecode is same for all platforms which is then executed by a **platform dependent** engine. The platform dependent engine/runtime is installed on your machine when you install the JVM/JRE. So the Java code goes: \r\n\r\nJava code -&gt; Bytecode -&gt; platform dependent runtime","title":"Does serialization in java make it platform independent?","body":"<p>Serialization/deserialization is about data moving in and out of your running program. At this point, because your program is already running, platform dependence/independence has already happened.</p>\n<p>Platform independence happens because of compilation of a Java program to a bytecode format. This bytecode is same for all platforms which is then executed by a <strong>platform dependent</strong> engine. The platform dependent engine/runtime is installed on your machine when you install the JVM/JRE. So the Java code goes:</p>\n<p>Java code -&gt; Bytecode -&gt; platform dependent runtime</p>\n"},{"tags":[],"owner":{"account_id":2463651,"reputation":7815,"user_id":2147218,"display_name":"bazza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689576414,"creation_date":1689576414,"answer_id":76702055,"question_id":76683503,"body_markdown":"I&#39;d say that, at one level, for Java to be platform independent, a built-in serialisation technology (such as it has) is an essential component. There&#39;s no point having portable applications unless their data is also portable, which is what a standardised serialisation achieves. \r\n\r\n**Platform Dependence**\r\n\r\nI&#39;ll now go down a rabit hole of a discussion, where I may be being too pedanctic on what true platform independence really means!\r\n\r\nWhere things go a bit wrong with Java I think is that (like a lot of other languages) the serialisation is code-first; you decorate or otherwise annotate the source code for a class to indicate how (or if) it should be serialisable. That&#39;s fine, but then the Java language is what I call closed; it&#39;s difficult or at least inconvenient for a Java application&#39;s data to be portable to all other languages. They have to develop equivalent classes, even if there is library support (e.g. an XML library) to navitgate the data. If you have a bunch of data serialised this way, and later it has to be accessible in, say, C, some developer has a lot of work to do! \r\n\r\nAlso, if you&#39;re wanting to change a class in some way, the change has also to be folded into the C source code to. This is a recipe for confusion, duplicate work and error, and no one single implementation (your Java, their C code) is &quot;the one source of truth&quot; as to what the data should be. This then generates the need for things like Interface Control Documents, which become a nightmare to maintain, adhere to, etc. \r\n\r\n**True Platform Independence?**\r\n\r\nA more flexible approach is schema-first - where data is described in a language independent way - and language-specific classes&#39; source code generated from it. This is what one does with things like Google Protocol Buffers, ASN.1 (unless one is using the Python libs which have made it code-first again), dBus. \r\n\r\n**Does it Really Matter?**\r\n\r\nPossibly not. Whether or not the &quot;closed&quot; nature of built in code-first serialisation matters or not is a project by project matter. Some can be written in all Java, some not. The attraction of using schema-first serialisation is that, if one is uncertain as to what must be able to read data, the schema makes it easy if language / platorm interop become a requirement later on. And it&#39;s noticable how often interop does emerge as a requirement.\r\n\r\n**Summary**\r\n\r\nSo I&#39;d argue that Java alone is not *completely* platform independent, because it encourages non-portable data definitions, (if by &quot;platform independent&quot; one includes other languages). \r\n","title":"Does serialization in java make it platform independent?","body":"<p>I'd say that, at one level, for Java to be platform independent, a built-in serialisation technology (such as it has) is an essential component. There's no point having portable applications unless their data is also portable, which is what a standardised serialisation achieves.</p>\n<p><strong>Platform Dependence</strong></p>\n<p>I'll now go down a rabit hole of a discussion, where I may be being too pedanctic on what true platform independence really means!</p>\n<p>Where things go a bit wrong with Java I think is that (like a lot of other languages) the serialisation is code-first; you decorate or otherwise annotate the source code for a class to indicate how (or if) it should be serialisable. That's fine, but then the Java language is what I call closed; it's difficult or at least inconvenient for a Java application's data to be portable to all other languages. They have to develop equivalent classes, even if there is library support (e.g. an XML library) to navitgate the data. If you have a bunch of data serialised this way, and later it has to be accessible in, say, C, some developer has a lot of work to do!</p>\n<p>Also, if you're wanting to change a class in some way, the change has also to be folded into the C source code to. This is a recipe for confusion, duplicate work and error, and no one single implementation (your Java, their C code) is &quot;the one source of truth&quot; as to what the data should be. This then generates the need for things like Interface Control Documents, which become a nightmare to maintain, adhere to, etc.</p>\n<p><strong>True Platform Independence?</strong></p>\n<p>A more flexible approach is schema-first - where data is described in a language independent way - and language-specific classes' source code generated from it. This is what one does with things like Google Protocol Buffers, ASN.1 (unless one is using the Python libs which have made it code-first again), dBus.</p>\n<p><strong>Does it Really Matter?</strong></p>\n<p>Possibly not. Whether or not the &quot;closed&quot; nature of built in code-first serialisation matters or not is a project by project matter. Some can be written in all Java, some not. The attraction of using schema-first serialisation is that, if one is uncertain as to what must be able to read data, the schema makes it easy if language / platorm interop become a requirement later on. And it's noticable how often interop does emerge as a requirement.</p>\n<p><strong>Summary</strong></p>\n<p>So I'd argue that Java alone is not <em>completely</em> platform independent, because it encourages non-portable data definitions, (if by &quot;platform independent&quot; one includes other languages).</p>\n"}],"owner":{"account_id":26253687,"reputation":3,"user_id":19926082,"display_name":"Bajrang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76683562,"answer_count":3,"score":0,"last_activity_date":1689576414,"creation_date":1689285699,"question_id":76683503,"body_markdown":"Since &quot;Serialization in Java is a mechanism of writing the state of an object into a byte-stream and Deserialization is vice versa of this&quot;. So it got me thinking that is it Serialization that makes Java platform independent?","title":"Does serialization in java make it platform independent?","body":"<p>Since &quot;Serialization in Java is a mechanism of writing the state of an object into a byte-stream and Deserialization is vice versa of this&quot;. So it got me thinking that is it Serialization that makes Java platform independent?</p>\n"},{"tags":["java","algorithm","time-complexity","big-o","depth-first-search"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1689570230,"post_id":76701605,"comment_id":135226528,"body_markdown":"If rows and columns are fixed at a &quot;small number&quot; (6 is small), then the time complexity is considered constant ie O(1). If rows and columns may vary, then it&#39;s O(n^2)","body":"If rows and columns are fixed at a &quot;small number&quot; (6 is small), then the time complexity is considered constant ie O(1). If rows and columns may vary, then it&#39;s O(n^2)"}],"answers":[{"comments":[{"owner":{"account_id":26672838,"reputation":3,"user_id":20284037,"display_name":"acha"},"score":0,"creation_date":1689572315,"post_id":76701620,"comment_id":135226763,"body_markdown":"Thank you for the comment. May I ask for an example &quot;If your row and column size are varying but same&quot;? I a bit confuse between O(n^2) and O(m*n).","body":"Thank you for the comment. May I ask for an example &quot;If your row and column size are varying but same&quot;? I a bit confuse between O(n^2) and O(m*n)."},{"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"score":0,"creation_date":1689576887,"post_id":76701620,"comment_id":135227395,"body_markdown":"@acha: Basically, the complexity is `O(rowCount * columnCount)`, or `O(m*n)` for short, since that&#39;s how many times the innermost loop will run. Now, if we assume `rowCount` always equals `columnCount`, that means that the complexity is always `O(columnCount * columnCount)`, or `O(n*n)` for short, which is the same thing as `O(n^2)`. Whether you should describe your algorithm as `O(m*n)` or `O(n^2)` depends on whether you consider `m` and `n` to be different. (`O(m*n)` is never _wrong_ though.)","body":"@acha: Basically, the complexity is <code>O(rowCount * columnCount)</code>, or <code>O(m*n)</code> for short, since that&#39;s how many times the innermost loop will run. Now, if we assume <code>rowCount</code> always equals <code>columnCount</code>, that means that the complexity is always <code>O(columnCount * columnCount)</code>, or <code>O(n*n)</code> for short, which is the same thing as <code>O(n^2)</code>. Whether you should describe your algorithm as <code>O(m*n)</code> or <code>O(n^2)</code> depends on whether you consider <code>m</code> and <code>n</code> to be different. (<code>O(m*n)</code> is never <i>wrong</i> though.)"}],"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689570386,"creation_date":1689570386,"answer_id":76701620,"question_id":76701605,"body_markdown":"Considering the loop iterations are constant 6*6, even though the loop is nested.\r\n\r\nBy general rule for nested loop of size i and j, the complexity would be O(i*j). Now due to constant size the iterations are finite, so the complexity would be O(6*6), which if O(1).\r\n\r\nSo resulting for constant iterations, it will be always O(1).\r\n\r\nIf your row and column size are varying but same, then it would be O(n^2), where n is number of rows/columns.\r\n\r\nIf your row and column size are varying, but not same, then it would be O(m*n), when m is number of rows and n is number of columns.","title":"How can I find the time complexity?","body":"<p>Considering the loop iterations are constant 6*6, even though the loop is nested.</p>\n<p>By general rule for nested loop of size i and j, the complexity would be O(i<em>j). Now due to constant size the iterations are finite, so the complexity would be O(6</em>6), which if O(1).</p>\n<p>So resulting for constant iterations, it will be always O(1).</p>\n<p>If your row and column size are varying but same, then it would be O(n^2), where n is number of rows/columns.</p>\n<p>If your row and column size are varying, but not same, then it would be O(m*n), when m is number of rows and n is number of columns.</p>\n"},{"tags":[],"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689575993,"creation_date":1689575668,"answer_id":76702001,"question_id":76701605,"body_markdown":"The time complexity in all cases is based on your line `int currentSize = matrixGrid.dfs(i, j);`. Since there is not metion on it, we assume the time complexity of `matrixGrid.dfs(i, j)` is `O(1)`.\r\n\r\nThen the time complexity of `main` is `O(n)` when we assign `n = size(grid) = rows * cols`, or `O(n^2)` when we assign `n = rows = cols`; both options are correct.\r\n\r\nFinally, considering the constant time complexity, you should define your data constraints. If you define the constraints as `rows = 6, cols = 6`, then there is constant time complexity `O(1)`. Otherwise, if the constraints are more like `rows = n, cols = n, 0 &lt;= n &lt;= 10^4`, then the time complexity is `O(n^2)`, similar to the examples mentioned above.\r\n\r\nSo, the key to calculating time complexity is &quot;the constraints of the data&quot;.","title":"How can I find the time complexity?","body":"<p>The time complexity in all cases is based on your line <code>int currentSize = matrixGrid.dfs(i, j);</code>. Since there is not metion on it, we assume the time complexity of <code>matrixGrid.dfs(i, j)</code> is <code>O(1)</code>.</p>\n<p>Then the time complexity of <code>main</code> is <code>O(n)</code> when we assign <code>n = size(grid) = rows * cols</code>, or <code>O(n^2)</code> when we assign <code>n = rows = cols</code>; both options are correct.</p>\n<p>Finally, considering the constant time complexity, you should define your data constraints. If you define the constraints as <code>rows = 6, cols = 6</code>, then there is constant time complexity <code>O(1)</code>. Otherwise, if the constraints are more like <code>rows = n, cols = n, 0 &lt;= n &lt;= 10^4</code>, then the time complexity is <code>O(n^2)</code>, similar to the examples mentioned above.</p>\n<p>So, the key to calculating time complexity is &quot;the constraints of the data&quot;.</p>\n"},{"tags":[],"owner":{"display_name":"user21508463"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689576181,"creation_date":1689576181,"answer_id":76702033,"question_id":76701605,"body_markdown":"The complexity cannot be a function of `n` for the simple reason that there is no `n` in your code.\r\n\r\nUnderstand that O(n&#178;) is not a informal expression to say that the time &quot;grows faster than the size of the input&quot;. It really is a mathematical expression depending on the argument.","title":"How can I find the time complexity?","body":"<p>The complexity cannot be a function of <code>n</code> for the simple reason that there is no <code>n</code> in your code.</p>\n<p>Understand that O(n²) is not a informal expression to say that the time &quot;grows faster than the size of the input&quot;. It really is a mathematical expression depending on the argument.</p>\n"}],"owner":{"account_id":26672838,"reputation":3,"user_id":20284037,"display_name":"acha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76702001,"answer_count":3,"score":-2,"last_activity_date":1689576181,"creation_date":1689570061,"question_id":76701605,"body_markdown":"The main is to get a 6*6grid from user. The input will be stored in a 2d array. Is the time complexity should be O(n^2)? Since, I have a nested loop. But the code operates in a fixed 6 rows and 6 cols that are static. Or the time complexity should be O(n)? as the number of row and column are constant and set equals to 6.\r\n\r\n```\r\npublic class MatrixGrid {\r\n    private static char[][] grid = new char[6][6];\r\n    private static int rows = 6;\r\n    private static int cols = 6;\r\n\r\n    public static void main(String[] args) {\r\n        MatrixGrid matrixGrid = new MatrixGrid ();\r\n        matrixGrid.getGridFromUser();  //get user input\r\n        int totalHomeAreas = 0;\r\n        int maxHomeAreaSize = 0;\r\n\r\n        for (int i = 0; i &lt; rows; i++) {  //---n\r\n            for (int j = 0; j &lt; cols; j++) {  //--n\r\n                if (grid[i][j] == &#39;H&#39;) {\r\n                    int currentSize = matrixGrid.dfs(i, j);\r\n                    totalAreas++;\r\n                    maxAreaSize= Math.max(maxAreaSize, currentSize );\r\n                }\r\n            }\r\n        }\r\n}\r\n```\r\n\r\n\r\n\r\nWhat&#39;s the correct time complexity? ","title":"How can I find the time complexity?","body":"<p>The main is to get a 6*6grid from user. The input will be stored in a 2d array. Is the time complexity should be O(n^2)? Since, I have a nested loop. But the code operates in a fixed 6 rows and 6 cols that are static. Or the time complexity should be O(n)? as the number of row and column are constant and set equals to 6.</p>\n<pre><code>public class MatrixGrid {\n    private static char[][] grid = new char[6][6];\n    private static int rows = 6;\n    private static int cols = 6;\n\n    public static void main(String[] args) {\n        MatrixGrid matrixGrid = new MatrixGrid ();\n        matrixGrid.getGridFromUser();  //get user input\n        int totalHomeAreas = 0;\n        int maxHomeAreaSize = 0;\n\n        for (int i = 0; i &lt; rows; i++) {  //---n\n            for (int j = 0; j &lt; cols; j++) {  //--n\n                if (grid[i][j] == 'H') {\n                    int currentSize = matrixGrid.dfs(i, j);\n                    totalAreas++;\n                    maxAreaSize= Math.max(maxAreaSize, currentSize );\n                }\n            }\n        }\n}\n</code></pre>\n<p>What's the correct time complexity?</p>\n"},{"tags":["java","geotools"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1689259616,"post_id":76678890,"comment_id":135190972,"body_markdown":"Current GeoTools is 28.4 not 18. I can&#39;t see where you call `CRS.decode(&quot;epsg:4326&quot;)` in the code you&#39;ve posted so it&#39;s hard to tell. Did you include one of the EPSG jars in your project? I&#39;m also not at all sure that the CRS factories are thread safe","body":"Current GeoTools is 28.4 not 18. I can&#39;t see where you call <code>CRS.decode(&quot;epsg:4326&quot;)</code> in the code you&#39;ve posted so it&#39;s hard to tell. Did you include one of the EPSG jars in your project? I&#39;m also not at all sure that the CRS factories are thread safe"},{"owner":{"account_id":26311180,"reputation":3,"user_id":19974668,"display_name":"sh l"},"score":0,"creation_date":1689484716,"post_id":76678890,"comment_id":135218490,"body_markdown":"tnx @IanTurton updated code to clarify the decode, and added the dependencies.\ntried the same version in stand alone project worked fine.","body":"tnx @IanTurton updated code to clarify the decode, and added the dependencies. tried the same version in stand alone project worked fine."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1689503045,"post_id":76678890,"comment_id":135220011,"body_markdown":"You&#39;ll need to do a thread dump to find out what is deadlocking, or move the lookup to a single threaded part of your code.","body":"You&#39;ll need to do a thread dump to find out what is deadlocking, or move the lookup to a single threaded part of your code."},{"owner":{"account_id":26311180,"reputation":3,"user_id":19974668,"display_name":"sh l"},"score":0,"creation_date":1689575321,"post_id":76678890,"comment_id":135227136,"body_markdown":"tnx @IanTurton , tried the single thread , did not work.\nit was solved by adding adding gt-referencing artifact, even tho it is part of gt-epsg-hsql","body":"tnx @IanTurton , tried the single thread , did not work. it was solved by adding adding gt-referencing artifact, even tho it is part of gt-epsg-hsql"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1689579505,"post_id":76678890,"comment_id":135227813,"body_markdown":"I thought you were using Maven to control your dependencies? Maybe this tutorial will help - https://docs.geotools.org/latest/userguide/tutorial/geometry/geometrycrs.html","body":"I thought you were using Maven to control your dependencies? Maybe this tutorial will help - <a href=\"https://docs.geotools.org/latest/userguide/tutorial/geometry/geometrycrs.html\" rel=\"nofollow noreferrer\">docs.geotools.org/latest/userguide/tutorial/geometry/&hellip;</a>"},{"owner":{"account_id":26311180,"reputation":3,"user_id":19974668,"display_name":"sh l"},"score":0,"creation_date":1689589490,"post_id":76678890,"comment_id":135229846,"body_markdown":"i am using maven. tnx for the tutorial.","body":"i am using maven. tnx for the tutorial."}],"owner":{"account_id":26311180,"reputation":3,"user_id":19974668,"display_name":"sh l"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689575378,"creation_date":1689247877,"question_id":76678890,"body_markdown":"using maven version 11\r\n\r\nHi , running\r\n ``` \r\n   CRS.decode(&quot;epsg:4326&quot;)\r\n ```\r\nis getting stuck , probably a deadlock.\r\n\r\ntried upgrading geotools to version 18 , did not help.\r\n\r\ntried running it in a thread with timeout \r\n\r\n```\r\nExecutorService executorService = Executors.newSingleThreadExecutor();\r\nwhile(systemCrs == null) {\r\n\tCallable&lt;CoordinateReferenceSystem&gt; task = new CRSDecoderTask();\r\n\tFuture&lt;CoordinateReferenceSystem&gt; submit = executorService.submit(task);\r\n\ttry {\r\n          CoordinateReferenceSystem coordinateReferenceSystem =\r\n                                                    submit.get(5, TimeUnit.SECONDS);\r\n\t\t  if (coordinateReferenceSystem != null) {\r\n\t\t\t executorService.shutdown();\r\n\t\t\t systemCrs = coordinateReferenceSystem;\r\n\t\t  }\r\n\t} catch (TimeoutException e) {\r\n\t  logger.debug(&quot;crs timeout&quot;, e);\r\n\t  submit.cancel(true);\r\n    }\r\n  }\r\n```\r\n\r\n```\r\n private class CRSDecoderTask implements Callable&lt;CoordinateReferenceSystem&gt; {\r\n\t\t@Override\r\n\t\tpublic CoordinateReferenceSystem call() throws Exception {\r\n\t\t\treturn CRS.decode(&quot;espg-4326&quot;);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nany ideas ?\r\n\r\n\r\n\r\ngeo-tools dependencies\r\n\r\ngeotools.version -&gt;  18.4\r\n\r\n\r\n\r\n    &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\r\n    &lt;artifactId&gt;gt-shapefile&lt;/artifactId&gt;\r\n\t&lt;artifactId&gt;gt-epsg-hsql&lt;/artifactId&gt;\r\n\t&lt;artifactId&gt;gt-geometry&lt;/artifactId&gt;\r\n\t&lt;artifactId&gt;gt-epsg-wkt&lt;/artifactId&gt;\r\n\t&lt;artifactId&gt;gt-referencing&lt;/artifactId&gt; //added and solved the issue\r\n\r\n\r\n\r\n\r\n\r\n","title":"geotools CRS.decode(&quot;EPSG:4326&quot;) stuck","body":"<p>using maven version 11</p>\n<p>Hi , running</p>\n<pre><code>  CRS.decode(&quot;epsg:4326&quot;)\n</code></pre>\n<p>is getting stuck , probably a deadlock.</p>\n<p>tried upgrading geotools to version 18 , did not help.</p>\n<p>tried running it in a thread with timeout</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();\nwhile(systemCrs == null) {\n    Callable&lt;CoordinateReferenceSystem&gt; task = new CRSDecoderTask();\n    Future&lt;CoordinateReferenceSystem&gt; submit = executorService.submit(task);\n    try {\n          CoordinateReferenceSystem coordinateReferenceSystem =\n                                                    submit.get(5, TimeUnit.SECONDS);\n          if (coordinateReferenceSystem != null) {\n             executorService.shutdown();\n             systemCrs = coordinateReferenceSystem;\n          }\n    } catch (TimeoutException e) {\n      logger.debug(&quot;crs timeout&quot;, e);\n      submit.cancel(true);\n    }\n  }\n</code></pre>\n<pre><code> private class CRSDecoderTask implements Callable&lt;CoordinateReferenceSystem&gt; {\n        @Override\n        public CoordinateReferenceSystem call() throws Exception {\n            return CRS.decode(&quot;espg-4326&quot;);\n        }\n    }\n</code></pre>\n<p>any ideas ?</p>\n<p>geo-tools dependencies</p>\n<p>geotools.version -&gt;  18.4</p>\n<pre><code>&lt;artifactId&gt;gt-main&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-shapefile&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-epsg-hsql&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-geometry&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-epsg-wkt&lt;/artifactId&gt;\n&lt;artifactId&gt;gt-referencing&lt;/artifactId&gt; //added and solved the issue\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"score":0,"creation_date":1294326605,"post_id":4616282,"comment_id":5075395,"body_markdown":"What is synchronization?  Knowing that should give a good clue on why it is useful for collections, or any object for that matter.","body":"What is synchronization?  Knowing that should give a good clue on why it is useful for collections, or any object for that matter."},{"owner":{"account_id":266215,"reputation":30407,"user_id":553670,"accept_rate":37,"display_name":"satheesh.droid"},"score":0,"creation_date":1294326922,"post_id":4616282,"comment_id":5075456,"body_markdown":"I have got a clue but I don&#39;t want to assume it.","body":"I have got a clue but I don&#39;t want to assume it."}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294326493,"creation_date":1294326177,"answer_id":4616300,"question_id":4616282,"body_markdown":"Synchronization of a list is necessary if multiple threads may access it concurrently. Synchronization is an unnecessary (but not necessarily significant) cost if only a single thread can access the list.\r\n\r\nI personally tend to use ArrayList by default, and synchronize access to it if required.\r\n\r\nUsing the common List&lt;&gt; interface to refer to instances of Vector or ArrayList allows you to switch implementations more easily.","title":"Why is it useful to have a synchronized collection in Java","body":"<p>Synchronization of a list is necessary if multiple threads may access it concurrently. Synchronization is an unnecessary (but not necessarily significant) cost if only a single thread can access the list.</p>\n\n<p>I personally tend to use ArrayList by default, and synchronize access to it if required.</p>\n\n<p>Using the common List&lt;> interface to refer to instances of Vector or ArrayList allows you to switch implementations more easily.</p>\n"},{"tags":[],"owner":{"account_id":74910,"reputation":24557,"user_id":215030,"accept_rate":85,"display_name":"Aaron McIver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294326525,"creation_date":1294326525,"answer_id":4616349,"question_id":4616282,"body_markdown":"`ArrayList` was meant to replace `Vector` however it is not thread safe by design. I would suggest only using `ArrayList` and not making use of `Vector` since it was not designed ground up to be part of the Collections. If you need thread safety on your `ArrayList` you can do...\r\n\r\n    List list = Collections.synchronizedList(new ArrayList(...));","title":"Why is it useful to have a synchronized collection in Java","body":"<p><code>ArrayList</code> was meant to replace <code>Vector</code> however it is not thread safe by design. I would suggest only using <code>ArrayList</code> and not making use of <code>Vector</code> since it was not designed ground up to be part of the Collections. If you need thread safety on your <code>ArrayList</code> you can do...</p>\n\n<pre><code>List list = Collections.synchronizedList(new ArrayList(...));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"score":0,"creation_date":1294326729,"post_id":4616352,"comment_id":5075416,"body_markdown":"I think you forgot a synchronized somewhere?","body":"I think you forgot a synchronized somewhere?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1294326765,"post_id":4616352,"comment_id":5075423,"body_markdown":"I didn&#39;t. That&#39;s the point - Vector does not require external synchornization.","body":"I didn&#39;t. That&#39;s the point - Vector does not require external synchornization."},{"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"score":0,"creation_date":1294328531,"post_id":4616352,"comment_id":5075808,"body_markdown":"Yeah, OK.  Calling the enclosing class ThreadSafeClass threw me :-)","body":"Yeah, OK.  Calling the enclosing class ThreadSafeClass threw me :-)"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1294328648,"creation_date":1294326529,"answer_id":4616352,"question_id":4616282,"body_markdown":"    public class ThreadSafeExample {\n        private Vector&lt;String&gt; names = new Vector&lt;String&gt;();\n    \n        public void addName(String name) {\n           names.add(name);\n        }\n    }\n\nThis class will work fine even if multiple threads call the `addName(..)` method. With `ArrayList`, it won&#39;t - you will have missing values.\n\nThe performance of `Vector`, `ArrayList` is [benchmarked here][1]. Note that there also exists `Collections.synchornizedList(..)` which makes any list synchronized.\n\n\nNote that this applies when the collection is used as an instance field. If  the vector is declared within a method, then you gain nothing with the synchornization (no other thread can use it anyway). In fact, there is something called &quot;escape analysis&quot;, which in this case removes the synchornization if it is not needed. But I think it is not on by default.\n\n  [1]: http://java-persistence-performance.blogspot.com/2010/12/what-is-faster-jvm-performance.html","title":"Why is it useful to have a synchronized collection in Java","body":"<pre><code>public class ThreadSafeExample {\n    private Vector&lt;String&gt; names = new Vector&lt;String&gt;();\n\n    public void addName(String name) {\n       names.add(name);\n    }\n}\n</code></pre>\n<p>This class will work fine even if multiple threads call the <code>addName(..)</code> method. With <code>ArrayList</code>, it won't - you will have missing values.</p>\n<p>The performance of <code>Vector</code>, <code>ArrayList</code> is <a href=\"http://java-persistence-performance.blogspot.com/2010/12/what-is-faster-jvm-performance.html\" rel=\"nofollow noreferrer\">benchmarked here</a>. Note that there also exists <code>Collections.synchornizedList(..)</code> which makes any list synchronized.</p>\n<p>Note that this applies when the collection is used as an instance field. If  the vector is declared within a method, then you gain nothing with the synchornization (no other thread can use it anyway). In fact, there is something called &quot;escape analysis&quot;, which in this case removes the synchornization if it is not needed. But I think it is not on by default.</p>\n"},{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294326597,"creation_date":1294326597,"answer_id":4616359,"question_id":4616282,"body_markdown":"I did not wanted to redirect you, but I have the same thing to say as here: http://manikandanmv.wordpress.com/2009/03/21/vector-vs-arraylist/\r\n\r\n\r\n&gt;**Vector**\r\n&gt;\r\n    &gt;- Vector is thread safe, because vector objects are synchronized which means you can access vector objects from any number of threads at the same time without affecting its data.\r\n    &gt;- Due to the above reason, In performance wise Vector is slightly slower than ArrayList\r\n    &gt;- Double the size of its internal array when it runs out of space.\r\n&gt;\r\n**ArrayList**\r\n&gt;\r\n    &gt;- ArrayList is just opposite of Vector class. Its not thread safe, suppose if you are using ArrayList instances in multiple threads surely which leads to create some problems while accessing.\r\n    &gt;- ArrayList comes from Collection Framework family. So its easy to developers to convert in to any other datastructure formats.\r\n    &gt;- Increases its array size by 50 percent.\r\n\r\n\r\nArrayList are more preffered and you can externally synchronize them by `Collections.syncronizedList(..)`","title":"Why is it useful to have a synchronized collection in Java","body":"<p>I did not wanted to redirect you, but I have the same thing to say as here: <a href=\"http://manikandanmv.wordpress.com/2009/03/21/vector-vs-arraylist/\" rel=\"nofollow\">http://manikandanmv.wordpress.com/2009/03/21/vector-vs-arraylist/</a></p>\n\n<blockquote>\n  <p><strong>Vector</strong></p>\n  \n  <ul>\n  <li>Vector is thread safe, because vector objects are synchronized which means you can access vector objects from any number of threads at the same time without affecting its data.</li>\n  <li>Due to the above reason, In performance wise Vector is slightly slower than ArrayList</li>\n  <li>Double the size of its internal array when it runs out of space.</li>\n  </ul>\n  \n  <p><strong>ArrayList</strong></p>\n  \n  <ul>\n  <li>ArrayList is just opposite of Vector class. Its not thread safe, suppose if you are using ArrayList instances in multiple threads surely which leads to create some problems while accessing.</li>\n  <li>ArrayList comes from Collection Framework family. So its easy to developers to convert in to any other datastructure formats.</li>\n  <li>Increases its array size by 50 percent.</li>\n  </ul>\n</blockquote>\n\n<p>ArrayList are more preffered and you can externally synchronize them by <code>Collections.syncronizedList(..)</code></p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1294326614,"creation_date":1294326614,"answer_id":4616364,"question_id":4616282,"body_markdown":"Synchronization is used in the context of [Concurrency][1]. [This][2] clearly explains why synchronization is essential:\r\n\r\n&gt; Threads communicate primarily by\r\n&gt; sharing access to fields and the\r\n&gt; objects reference fields refer to.\r\n&gt; This form of communication is\r\n&gt; extremely efficient, but makes two\r\n&gt; kinds of errors possible: *thread\r\n&gt; interference* and *memory consistency\r\n&gt; errors*. The tool needed to prevent\r\n&gt; these errors is *synchronization*.\r\n\r\nSynchronized class/method/instance/statement variables prevents concurrent usage of the synchronized class/method/instance/statement. \r\n\r\n&gt; When one thread is executing a\r\n&gt; synchronized method for an object, all\r\n&gt; other threads that invoke synchronized\r\n&gt; methods for the same object block\r\n&gt; (suspend execution) until the first\r\n&gt; thread is done with the object.&#39;\r\n\r\n[Source][3].\r\n\r\nVectors are thread-safe (meaning synchronized) while ArrayList aren&#39;t. You can allow thread safety by using `Collections.synchronizedList(...)`.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Concurrency_%28computer_science%29\r\n  [2]: http://download.oracle.com/javase/tutorial/essential/concurrency/sync.html\r\n  [3]: http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html","title":"Why is it useful to have a synchronized collection in Java","body":"<p>Synchronization is used in the context of <a href=\"http://en.wikipedia.org/wiki/Concurrency_%28computer_science%29\" rel=\"nofollow\">Concurrency</a>. <a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/sync.html\" rel=\"nofollow\">This</a> clearly explains why synchronization is essential:</p>\n\n<blockquote>\n  <p>Threads communicate primarily by\n  sharing access to fields and the\n  objects reference fields refer to.\n  This form of communication is\n  extremely efficient, but makes two\n  kinds of errors possible: <em>thread\n  interference</em> and <em>memory consistency\n  errors</em>. The tool needed to prevent\n  these errors is <em>synchronization</em>.</p>\n</blockquote>\n\n<p>Synchronized class/method/instance/statement variables prevents concurrent usage of the synchronized class/method/instance/statement. </p>\n\n<blockquote>\n  <p>When one thread is executing a\n  synchronized method for an object, all\n  other threads that invoke synchronized\n  methods for the same object block\n  (suspend execution) until the first\n  thread is done with the object.'</p>\n</blockquote>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow\">Source</a>.</p>\n\n<p>Vectors are thread-safe (meaning synchronized) while ArrayList aren't. You can allow thread safety by using <code>Collections.synchronizedList(...)</code>.</p>\n"},{"tags":[],"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294328429,"creation_date":1294328429,"answer_id":4616664,"question_id":4616282,"body_markdown":"You ask what synchronization is useful for? You might enjoy Doug Lea&#39;s book [Concurrent Programming in Java][^1].  Although it is slightly dated, it gave a good academic treatment of the issues inherent in multiple threads of execution accessing the same data structures.  For actual application and a more up-to-date treatment, you would read [Java Concurrency in Practice][^2].\r\n\r\nAs Doug Lea would put it, you want threads of execution to make progress.  But you also want to preserve the integrity of data structures.  \r\n\r\nIn the case of Vector and ArrayList, suppose two threads went to add an item &#39;at the same time&#39;.  One of the things that needs to be done is that the count of items in the  needs to be incremented.  This is something hidden from you, but is nonetheless important to the collection itself.  It would not do for ThreadA to see that before it added the item, the count was 3, and tried to write 4, but meanwhile ThreadB had already incremented it to 4 and it should now be 5!\r\n\r\nSynchronisation is one approach to solving this problem.  Essentially, when two threads attempt to access the same object and it encounters a &#39;synchronized block&#39; (which sometimes may be an entire method), ThreadB has to wait until ThreadA is finished and &#39;releases the lock&#39;.  That way, there is no chance of the two threads reading the count and then two threads writing the count.  By forcing an order on the operations of the threads (synchronizing them), there is a read/write followed by another read/write.\r\n\r\n\r\n[^1]: http://my.safaribooksonline.com/book/programming/java/0201310090\r\n[^2]: http://my.safaribooksonline.com/book/programming/java/0321349601","title":"Why is it useful to have a synchronized collection in Java","body":"<p>You ask what synchronization is useful for? You might enjoy Doug Lea's book <a href=\"http://my.safaribooksonline.com/book/programming/java/0201310090\" rel=\"nofollow\">Concurrent Programming in Java</a>.  Although it is slightly dated, it gave a good academic treatment of the issues inherent in multiple threads of execution accessing the same data structures.  For actual application and a more up-to-date treatment, you would read <a href=\"http://my.safaribooksonline.com/book/programming/java/0321349601\" rel=\"nofollow\">Java Concurrency in Practice</a>.</p>\n\n<p>As Doug Lea would put it, you want threads of execution to make progress.  But you also want to preserve the integrity of data structures.  </p>\n\n<p>In the case of Vector and ArrayList, suppose two threads went to add an item 'at the same time'.  One of the things that needs to be done is that the count of items in the  needs to be incremented.  This is something hidden from you, but is nonetheless important to the collection itself.  It would not do for ThreadA to see that before it added the item, the count was 3, and tried to write 4, but meanwhile ThreadB had already incremented it to 4 and it should now be 5!</p>\n\n<p>Synchronisation is one approach to solving this problem.  Essentially, when two threads attempt to access the same object and it encounters a 'synchronized block' (which sometimes may be an entire method), ThreadB has to wait until ThreadA is finished and 'releases the lock'.  That way, there is no chance of the two threads reading the count and then two threads writing the count.  By forcing an order on the operations of the threads (synchronizing them), there is a read/write followed by another read/write.</p>\n"}],"owner":{"account_id":266215,"reputation":30407,"user_id":553670,"accept_rate":37,"display_name":"satheesh.droid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4616352,"answer_count":6,"score":1,"last_activity_date":1689575337,"creation_date":1294326044,"question_id":4616282,"body_markdown":"I have came know that the difference between ArrayList and Vector class is that Vector class is synchronised whereas the ArrayList is not. I know what is synchronization, **but can anyone explain how it is useful in this context?** ","title":"Why is it useful to have a synchronized collection in Java","body":"<p>I have came know that the difference between ArrayList and Vector class is that Vector class is synchronised whereas the ArrayList is not. I know what is synchronization, <strong>but can anyone explain how it is useful in this context?</strong> </p>\n"},{"tags":["java","exception","javafx"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1689574496,"post_id":76701865,"comment_id":135227010,"body_markdown":"You already get that exception from calling `YearMonth.of(year,month)`, before you even check the month.","body":"You already get that exception from calling <code>YearMonth.of(year,month)</code>, before you even check the month."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689574563,"post_id":76701865,"comment_id":135227021,"body_markdown":"Because [`YearMonth#of(int,int)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/YearMonth.html#of(int,int)) is defined to throw a `DateTimeException` &quot;_if either field value is invalid_&quot;.","body":"Because <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/YearMonth.html#of(int,int)\" rel=\"nofollow noreferrer\"><code>YearMonth#of(int,int)</code></a> is defined to throw a <code>DateTimeException</code> &quot;<i>if either field value is invalid</i>&quot;."},{"owner":{"account_id":29031585,"reputation":19,"user_id":22238354,"display_name":"Jaisun Rattu"},"score":0,"creation_date":1689574792,"post_id":76701865,"comment_id":135227052,"body_markdown":"how can i change that so my exception message will show instead?","body":"how can i change that so my exception message will show instead?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689574858,"post_id":76701865,"comment_id":135227061,"body_markdown":"Create the `YearMonth` _after_ you&#39;ve checked the `year` and `month` values yourself?","body":"Create the <code>YearMonth</code> <i>after</i> you&#39;ve checked the <code>year</code> and <code>month</code> values yourself?"},{"owner":{"account_id":29031585,"reputation":19,"user_id":22238354,"display_name":"Jaisun Rattu"},"score":0,"creation_date":1689574909,"post_id":76701865,"comment_id":135227069,"body_markdown":"okay thank you so much","body":"okay thank you so much"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1689575326,"post_id":76701865,"comment_id":135227137,"body_markdown":"Personally, I would just try to parse the text into a `LocalDate` using a `DateTimeFormatter` with the pattern `d/M/uuuu`, and if that threw a `DateTimeParseException` then just alert the user they input an invalid date and tell them the format they need to use. That loses some specificity in the error message, but it means you don&#39;t have to implement the parsing yourself. After you have the `LocalDate` you can check the year to make sure it&#39;s in the range you want.","body":"Personally, I would just try to parse the text into a <code>LocalDate</code> using a <code>DateTimeFormatter</code> with the pattern <code>d&#47;M&#47;uuuu</code>, and if that threw a <code>DateTimeParseException</code> then just alert the user they input an invalid date and tell them the format they need to use. That loses some specificity in the error message, but it means you don&#39;t have to implement the parsing yourself. After you have the <code>LocalDate</code> you can check the year to make sure it&#39;s in the range you want."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689575693,"post_id":76701865,"comment_id":135227194,"body_markdown":"As an aside, given you&#39;re using JavaFX, consider if using a [`DatePicker`](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/DatePicker.html) would better fit your needs.","body":"As an aside, given you&#39;re using JavaFX, consider if using a <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/DatePicker.html\" rel=\"nofollow noreferrer\"><code>DatePicker</code></a> would better fit your needs."},{"owner":{"account_id":29031585,"reputation":19,"user_id":22238354,"display_name":"Jaisun Rattu"},"score":0,"creation_date":1689576142,"post_id":76701865,"comment_id":135227270,"body_markdown":"Thank you for the suggestion and idea. I think DatePicker would be a good addition to the program.","body":"Thank you for the suggestion and idea. I think DatePicker would be a good addition to the program."}],"owner":{"account_id":29031585,"reputation":19,"user_id":22238354,"display_name":"Jaisun Rattu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689575039,"creation_date":1689574015,"question_id":76701865,"body_markdown":"I am creating a gui for calculating the time between two dates and handling and exceptions that may occur. When handling days and years exceptions I am getting the desired exception handling message but when handling months it gives me the default message despite passing a string in the constructor.\r\n\r\nMain file code:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\nimport javafx.stage.Modality;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.time.DateTimeException;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.time.Period;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\n\r\npublic class Lab9 extends Application {\r\n    private Pane display;\r\n    private TextField startDate;\r\n    private TextField endDate;\r\n    private Button countButton;\r\n    int years;\r\n    int months;\r\n    int days;\r\n    long numberOfDays;\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage){\r\n        display = new Pane(dates());\r\n\r\n        CountClick countClick = new CountClick();\r\n        countButton.setOnAction(countClick);\r\n\r\n        Scene scene = new Scene(display);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    private HBox startDate(){\r\n        Label label = new Label(&quot;Start Date:&quot;);\r\n        Font font = new Font(&quot;arial&quot;,13);\r\n        label.setFont(font);\r\n        startDate = new TextField(&quot;1/1/2000&quot;);\r\n        HBox sBox = new HBox(5,label,startDate);\r\n        sBox.setPadding(new Insets(5));\r\n        sBox.setAlignment(Pos.CENTER);\r\n        return sBox;\r\n    }\r\n\r\n    private HBox endDate(){\r\n        String day = &quot;&quot;+LocalDateTime.now().getDayOfMonth();\r\n        String month = &quot;&quot;+LocalDateTime.now().getMonthValue();\r\n        String year = &quot;&quot;+LocalDateTime.now().getYear();\r\n        Label label = new Label(&quot;End Date:&quot;);\r\n        Font font = new Font(&quot;arial&quot;,13);\r\n        label.setFont(font);\r\n        endDate = new TextField(day + &quot;/&quot; + month + &quot;/&quot; + year);\r\n        HBox eBox = new HBox(5,label,endDate);\r\n        eBox.setPadding(new Insets(5));\r\n        eBox.setAlignment(Pos.CENTER);\r\n        return eBox;\r\n    }\r\n\r\n    private Button countButton(){\r\n        countButton = new Button(&quot;Count&quot;);\r\n        return countButton;\r\n    }\r\n\r\n    private VBox dates(){\r\n        VBox dates = new VBox(10, startDate(),endDate(),countButton());\r\n        dates.setAlignment(Pos.CENTER);\r\n        dates.setPadding(new Insets(5));\r\n        return dates;\r\n    }\r\n\r\n    private void getInfo(){\r\n        try {\r\n\r\n            DataVerifier dv = new DataVerifier();\r\n            dv.check(&quot;Start Date: &quot;, startDate.getText());\r\n            dv.check(&quot;End Date: &quot;, endDate.getText());\r\n\r\n            String[] startDates = startDate.getText().split(&quot;/&quot;);\r\n            int startDay = Integer.parseInt(startDates[0]);\r\n            int startMonth = Integer.parseInt(startDates[1]);\r\n            int startYear = Integer.parseInt(startDates[2]);\r\n\r\n            String[] endDates = endDate.getText().split(&quot;/&quot;);\r\n            int endDay = Integer.parseInt(endDates[0]);\r\n            int endMonth = Integer.parseInt(endDates[1]);\r\n            int endYear = Integer.parseInt(endDates[2]);\r\n\r\n\r\n            LocalDate start = LocalDate.of(startYear, startMonth, startDay);\r\n            LocalDate end = LocalDate.of(endYear, endMonth, endDay);\r\n\r\n            Period duration = Period.between(start, end);\r\n            years = duration.getYears();\r\n            months = duration.getMonths();\r\n            days = duration.getDays();\r\n\r\n            numberOfDays = ChronoUnit.DAYS.between(start, end);\r\n\r\n            String times = days + &quot; days\\n&quot;;\r\n            times = times + months + &quot; months\\n&quot;;\r\n            times = times + years + &quot; years\\n&quot;;\r\n            times = times + numberOfDays + &quot; total days&quot;;\r\n\r\n            createPopup(times);\r\n        }\r\n        catch (DateTimeException de){\r\n            createPopup(de.getMessage());\r\n        }\r\n        catch (CPSC1181Exception ce){\r\n            createPopup(ce.getMessage());\r\n        }\r\n    }\r\n\r\n    private void createPopup(String message){\r\n        Stage stage = new Stage();\r\n        VBox popup = new VBox();\r\n        popup.getChildren().add(new Text(message));\r\n        Scene scene = new Scene(popup,300,200);\r\n        stage.setScene(scene);\r\n        stage.initModality(Modality.APPLICATION_MODAL);\r\n        stage.show();\r\n    }\r\n\r\n    private class CountClick implements EventHandler&lt;ActionEvent&gt; {\r\n        @Override\r\n        public void handle(ActionEvent e) {\r\n            getInfo();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nException Handler Class Code:\r\n\r\n```\r\nimport java.time.DateTimeException;\r\nimport java.time.YearMonth;\r\n\r\npublic class DataVerifier {\r\n\r\n    public void check (String type, String date) throws DateTimeException,CPSC1181Exception {\r\n\r\n        // Get Dates\r\n        String[] dates = date.split(&quot;/&quot;);\r\n        int day = Integer.parseInt(dates[0]);\r\n        int month = Integer.parseInt(dates[1]);\r\n        int year = Integer.parseInt(dates[2]);\r\n\r\n        YearMonth startYearMonth = YearMonth.of(year,month);\r\n\r\n        // Check if length of input is too short or too long\r\n        if (date.length() &lt; &quot;D/M/YYYY&quot;.length() || date.length() &gt; &quot;DD/MM/YYY&quot;.length()){\r\n            throw new CPSC1181Exception(type + &quot;not the right number of characters\\nuse the following format\\n&quot; + &quot;DD/MM/YYYY&quot;);\r\n        }\r\n\r\n        // Check if year is under 1000 or over 3000\r\n        if (year &lt; 1000 || year &gt; 3000){\r\n            throw new DateTimeException(type + &quot;incorrect \\&quot;year digits\\&quot; of &quot; + year);\r\n        }\r\n\r\n        // Check if month is under 1 or over 12\r\n        if (month &lt; 1 || month &gt; 12){\r\n            throw new DateTimeException(type + &quot;incorrect \\&quot;month digits\\&quot; of &quot; + month);\r\n        }\r\n\r\n        // Check if day is valid day in month\r\n        if (day &lt; 1 || day &gt; startYearMonth.lengthOfMonth()){\r\n            throw new DateTimeException(type + &quot;incorrect \\&quot;day digits\\&quot; of &quot; + day);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhat is being outputted:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nDesired Output:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/11qiB.png\r\n  [2]: https://i.stack.imgur.com/u3gpy.png","title":"Why is the exception message for the wrong month being printed out differently than for my days and years?","body":"<p>I am creating a gui for calculating the time between two dates and handling and exceptions that may occur. When handling days and years exceptions I am getting the desired exception handling message but when handling months it gives me the default message despite passing a string in the constructor.</p>\n<p>Main file code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\n\nimport java.time.DateTimeException;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.Period;\nimport java.time.temporal.ChronoUnit;\n\n\npublic class Lab9 extends Application {\n    private Pane display;\n    private TextField startDate;\n    private TextField endDate;\n    private Button countButton;\n    int years;\n    int months;\n    int days;\n    long numberOfDays;\n\n\n    @Override\n    public void start(Stage stage){\n        display = new Pane(dates());\n\n        CountClick countClick = new CountClick();\n        countButton.setOnAction(countClick);\n\n        Scene scene = new Scene(display);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n    private HBox startDate(){\n        Label label = new Label(&quot;Start Date:&quot;);\n        Font font = new Font(&quot;arial&quot;,13);\n        label.setFont(font);\n        startDate = new TextField(&quot;1/1/2000&quot;);\n        HBox sBox = new HBox(5,label,startDate);\n        sBox.setPadding(new Insets(5));\n        sBox.setAlignment(Pos.CENTER);\n        return sBox;\n    }\n\n    private HBox endDate(){\n        String day = &quot;&quot;+LocalDateTime.now().getDayOfMonth();\n        String month = &quot;&quot;+LocalDateTime.now().getMonthValue();\n        String year = &quot;&quot;+LocalDateTime.now().getYear();\n        Label label = new Label(&quot;End Date:&quot;);\n        Font font = new Font(&quot;arial&quot;,13);\n        label.setFont(font);\n        endDate = new TextField(day + &quot;/&quot; + month + &quot;/&quot; + year);\n        HBox eBox = new HBox(5,label,endDate);\n        eBox.setPadding(new Insets(5));\n        eBox.setAlignment(Pos.CENTER);\n        return eBox;\n    }\n\n    private Button countButton(){\n        countButton = new Button(&quot;Count&quot;);\n        return countButton;\n    }\n\n    private VBox dates(){\n        VBox dates = new VBox(10, startDate(),endDate(),countButton());\n        dates.setAlignment(Pos.CENTER);\n        dates.setPadding(new Insets(5));\n        return dates;\n    }\n\n    private void getInfo(){\n        try {\n\n            DataVerifier dv = new DataVerifier();\n            dv.check(&quot;Start Date: &quot;, startDate.getText());\n            dv.check(&quot;End Date: &quot;, endDate.getText());\n\n            String[] startDates = startDate.getText().split(&quot;/&quot;);\n            int startDay = Integer.parseInt(startDates[0]);\n            int startMonth = Integer.parseInt(startDates[1]);\n            int startYear = Integer.parseInt(startDates[2]);\n\n            String[] endDates = endDate.getText().split(&quot;/&quot;);\n            int endDay = Integer.parseInt(endDates[0]);\n            int endMonth = Integer.parseInt(endDates[1]);\n            int endYear = Integer.parseInt(endDates[2]);\n\n\n            LocalDate start = LocalDate.of(startYear, startMonth, startDay);\n            LocalDate end = LocalDate.of(endYear, endMonth, endDay);\n\n            Period duration = Period.between(start, end);\n            years = duration.getYears();\n            months = duration.getMonths();\n            days = duration.getDays();\n\n            numberOfDays = ChronoUnit.DAYS.between(start, end);\n\n            String times = days + &quot; days\\n&quot;;\n            times = times + months + &quot; months\\n&quot;;\n            times = times + years + &quot; years\\n&quot;;\n            times = times + numberOfDays + &quot; total days&quot;;\n\n            createPopup(times);\n        }\n        catch (DateTimeException de){\n            createPopup(de.getMessage());\n        }\n        catch (CPSC1181Exception ce){\n            createPopup(ce.getMessage());\n        }\n    }\n\n    private void createPopup(String message){\n        Stage stage = new Stage();\n        VBox popup = new VBox();\n        popup.getChildren().add(new Text(message));\n        Scene scene = new Scene(popup,300,200);\n        stage.setScene(scene);\n        stage.initModality(Modality.APPLICATION_MODAL);\n        stage.show();\n    }\n\n    private class CountClick implements EventHandler&lt;ActionEvent&gt; {\n        @Override\n        public void handle(ActionEvent e) {\n            getInfo();\n        }\n    }\n}\n</code></pre>\n<p>Exception Handler Class Code:</p>\n<pre><code>import java.time.DateTimeException;\nimport java.time.YearMonth;\n\npublic class DataVerifier {\n\n    public void check (String type, String date) throws DateTimeException,CPSC1181Exception {\n\n        // Get Dates\n        String[] dates = date.split(&quot;/&quot;);\n        int day = Integer.parseInt(dates[0]);\n        int month = Integer.parseInt(dates[1]);\n        int year = Integer.parseInt(dates[2]);\n\n        YearMonth startYearMonth = YearMonth.of(year,month);\n\n        // Check if length of input is too short or too long\n        if (date.length() &lt; &quot;D/M/YYYY&quot;.length() || date.length() &gt; &quot;DD/MM/YYY&quot;.length()){\n            throw new CPSC1181Exception(type + &quot;not the right number of characters\\nuse the following format\\n&quot; + &quot;DD/MM/YYYY&quot;);\n        }\n\n        // Check if year is under 1000 or over 3000\n        if (year &lt; 1000 || year &gt; 3000){\n            throw new DateTimeException(type + &quot;incorrect \\&quot;year digits\\&quot; of &quot; + year);\n        }\n\n        // Check if month is under 1 or over 12\n        if (month &lt; 1 || month &gt; 12){\n            throw new DateTimeException(type + &quot;incorrect \\&quot;month digits\\&quot; of &quot; + month);\n        }\n\n        // Check if day is valid day in month\n        if (day &lt; 1 || day &gt; startYearMonth.lengthOfMonth()){\n            throw new DateTimeException(type + &quot;incorrect \\&quot;day digits\\&quot; of &quot; + day);\n        }\n    }\n}\n</code></pre>\n<p>What is being outputted:</p>\n<p><a href=\"https://i.stack.imgur.com/11qiB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/11qiB.png\" alt=\"enter image description here\" /></a></p>\n<p>Desired Output:</p>\n<p><a href=\"https://i.stack.imgur.com/u3gpy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3gpy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","flutter"],"owner":{"account_id":25260091,"reputation":71,"user_id":19091106,"display_name":"sarakhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689574595,"creation_date":1689573008,"question_id":76701782,"body_markdown":"I forgot the flutter version of my project in which i developed my project, so i am using  flutter 3.3.5 version to run this project but unfortunately I am getting this error \r\n\r\n\r\n```\r\nError: The non-abstract class &#39;TextOneLineEllipsisWithFade&#39; is missing implementations for these members:\r\ntext_one_line_ellipsis_with_fade.dart:20\r\n - Text.selectionColor\r\nTry to either\r\n - provide an implementation,\r\n - inherit an implementation from a superclass or mixin,\r\n - mark the class as abstract, or\r\n - provide a &#39;noSuchMethod&#39; implementation.\r\n\r\nclass TextOneLineEllipsisWithFade extends StatelessWidget implements Text {\r\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n: Context: &#39;Text.selectionColor&#39; is defined here.\r\ntext.dart:535\r\n  final Color? selectionColor;\r\n               ^^^^^^^^^^^^^^\r\n: Error: The non-abstract class &#39;RenderParagraphX&#39; is missing implementations for these members:\r\ntext_one_line_ellipsis_with_fade.dart:201\r\n - RenderParagraph.registrar\r\n - RenderParagraph.registrar=\r\n - RenderParagraph.selectionColor\r\n - RenderParagraph.selectionColor=\r\n - RenderParagraph.selections\r\nTry to either\r\n - provide an implementation,\r\n - inherit an implementation from a superclass or mixin,\r\n - mark the class as abstract, or\r\n - provide a &#39;noSuchMethod&#39; implementation.\r\n\r\n\r\n             ^^^^^^^^^^^^^^\r\n```\r\n\r\nI have tried to switch flutter version 3.0.0 but issue is still same. I did flutter clean, restart everything but nothing happened.\r\n\r\nPlease help me to fix this issue","title":": Error: The non-abstract class &#39;TextOneLineEllipsisWithFade&#39; is missing implementations for these members:","body":"<p>I forgot the flutter version of my project in which i developed my project, so i am using  flutter 3.3.5 version to run this project but unfortunately I am getting this error</p>\n<pre><code>Error: The non-abstract class 'TextOneLineEllipsisWithFade' is missing implementations for these members:\ntext_one_line_ellipsis_with_fade.dart:20\n - Text.selectionColor\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\nclass TextOneLineEllipsisWithFade extends StatelessWidget implements Text {\n      ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n: Context: 'Text.selectionColor' is defined here.\ntext.dart:535\n  final Color? selectionColor;\n               ^^^^^^^^^^^^^^\n: Error: The non-abstract class 'RenderParagraphX' is missing implementations for these members:\ntext_one_line_ellipsis_with_fade.dart:201\n - RenderParagraph.registrar\n - RenderParagraph.registrar=\n - RenderParagraph.selectionColor\n - RenderParagraph.selectionColor=\n - RenderParagraph.selections\nTry to either\n - provide an implementation,\n - inherit an implementation from a superclass or mixin,\n - mark the class as abstract, or\n - provide a 'noSuchMethod' implementation.\n\n\n             ^^^^^^^^^^^^^^\n</code></pre>\n<p>I have tried to switch flutter version 3.0.0 but issue is still same. I did flutter clean, restart everything but nothing happened.</p>\n<p>Please help me to fix this issue</p>\n"},{"tags":["java","xml","regex"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1409339501,"post_id":25574763,"comment_id":39942491,"body_markdown":"why don&#39;t you use any XML parsing API?","body":"why don&#39;t you use any XML parsing API?"},{"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"score":1,"creation_date":1409339542,"post_id":25574763,"comment_id":39942518,"body_markdown":"`;&amp;lt` in char class doesn&#39;t mean the string `;&amp;lt`. It means match ; or &amp; or l or t","body":"<code>;&amp;lt</code> in char class doesn&#39;t mean the string <code>;&amp;lt</code>. It means match ; or &amp; or l or t"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1409339990,"post_id":25574763,"comment_id":39942717,"body_markdown":"The obligatory comment to all posts asking about using regex to parse XML: http://stackoverflow.com/a/1732454/18157","body":"The obligatory comment to all posts asking about using regex to parse XML: <a href=\"http://stackoverflow.com/a/1732454/18157\">stackoverflow.com/a/1732454/18157</a>"},{"owner":{"account_id":4646779,"reputation":50512,"user_id":3764814,"display_name":"Lucas Trzesniewski"},"score":0,"creation_date":1409357129,"post_id":25574763,"comment_id":39948171,"body_markdown":"@JimGarrison He doesn&#39;t want to parse XML with regex, he wants to store the regex pattern in an XML file... Not the same thing at all ;) EDIT: Well that was my first interpretation, now I&#39;m not so sure anymore... the question isn&#39;t particularly clear.","body":"@JimGarrison He doesn&#39;t want to parse XML with regex, he wants to store the regex pattern in an XML file... Not the same thing at all ;) EDIT: Well that was my first interpretation, now I&#39;m not so sure anymore... the question isn&#39;t particularly clear."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1409392666,"creation_date":1409392666,"answer_id":25581169,"question_id":25574763,"body_markdown":"Your regular expression shouldn&#39;t match anything: for a start, &quot;^&quot; and &quot;$&quot; are not meta-characters in the XSD regex dialect, they match literal &quot;^&quot; and &quot;$&quot; characters. There are also many other constructs here that XSD regexes don&#39;t allow. However, you may be using a schema processor such as the Microsoft one that does it&#39;s own thing rather than following the W3C specification.\r\n\r\nIt would be easier for us if you described your requirement, rather than asking us to work it out by reverse engineering a complex regular expression. Don&#39;t forget that you can specify more than one pattern. If you just want to require one of the specified extensions, just use \r\n\r\n`.*\\.(txt|rtf|doc|docx|htm|html|pdf)`","title":"Java regex to xml","body":"<p>Your regular expression shouldn't match anything: for a start, \"^\" and \"$\" are not meta-characters in the XSD regex dialect, they match literal \"^\" and \"$\" characters. There are also many other constructs here that XSD regexes don't allow. However, you may be using a schema processor such as the Microsoft one that does it's own thing rather than following the W3C specification.</p>\n\n<p>It would be easier for us if you described your requirement, rather than asking us to work it out by reverse engineering a complex regular expression. Don't forget that you can specify more than one pattern. If you just want to require one of the specified extensions, just use </p>\n\n<p><code>.*\\.(txt|rtf|doc|docx|htm|html|pdf)</code></p>\n"},{"tags":[],"owner":{"account_id":9491636,"reputation":160,"user_id":7056207,"display_name":"Amulya Koppula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689573274,"creation_date":1689573274,"answer_id":76701799,"question_id":25574763,"body_markdown":"Only for .xml files extension matching, I have sent regular expression as a string argument as below,\r\n\r\n    String xmlRegex=new String(&quot;.*\\\\.(xml)&quot;);\r\n\r\nand verifies as below,\r\n\r\n    boolean matched = MatcherUtil.match( xmlRegex, filename );\r\n\r\nIt returns true if matched and false if not.\r\n\r\n\r\n","title":"Java regex to xml","body":"<p>Only for .xml files extension matching, I have sent regular expression as a string argument as below,</p>\n<pre><code>String xmlRegex=new String(&quot;.*\\\\.(xml)&quot;);\n</code></pre>\n<p>and verifies as below,</p>\n<pre><code>boolean matched = MatcherUtil.match( xmlRegex, filename );\n</code></pre>\n<p>It returns true if matched and false if not.</p>\n"}],"owner":{"account_id":4864680,"reputation":57,"user_id":3923338,"accept_rate":80,"display_name":"M&#225;rcio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":25581169,"answer_count":2,"score":1,"last_activity_date":1689573274,"creation_date":1409339422,"question_id":25574763,"body_markdown":"I did the following regular expression in java:\r\n\r\n    (^(?!\\\\s+$).*[^\\\\/:*?\\&quot;&lt;&gt;|]+(\\\\.(?i)(txt|rtf|doc|docx|htm|html|pdf))$)\r\n\r\nBut i need to use it in a xml schema, so i&#39;ve changed for:\r\n\r\n    (^(?!\\s+$).*[^\\/:*?\\&amp;quot;&amp;lt;&amp;gt;|]+(\\.(?i)(txt|rtf|doc|docx|htm|html|pdf))$)\r\n\r\nBut it&#39;s version is accepting files with not listed extensions. What&#39;s wrong? ","title":"Java regex to xml","body":"<p>I did the following regular expression in java:</p>\n\n<pre><code>(^(?!\\\\s+$).*[^\\\\/:*?\\\"&lt;&gt;|]+(\\\\.(?i)(txt|rtf|doc|docx|htm|html|pdf))$)\n</code></pre>\n\n<p>But i need to use it in a xml schema, so i've changed for:</p>\n\n<pre><code>(^(?!\\s+$).*[^\\/:*?\\&amp;quot;&amp;lt;&amp;gt;|]+(\\.(?i)(txt|rtf|doc|docx|htm|html|pdf))$)\n</code></pre>\n\n<p>But it's version is accepting files with not listed extensions. What's wrong? </p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":4585253,"reputation":13,"user_id":3720142,"display_name":"user3720142"},"score":0,"creation_date":1689259522,"post_id":76677954,"comment_id":135190943,"body_markdown":"Hi. It worked!!!. The problem is that in that way I can have the data of the product, but I cannot make the validation from the Entity with BindingResult as I was doing before with public ResponseEntity&lt;?&gt; createWithFoto(@Valid @RequestBody Product product, BindingResult result, @RequestParam(&quot;imageFile&quot;) MultipartFile image)    because the error message was Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data;boundary=----WebKitFormBoundaryeRhHAnjcLSlAa8rX;charset=UTF-8&#39; is not supported].","body":"Hi. It worked!!!. The problem is that in that way I can have the data of the product, but I cannot make the validation from the Entity with BindingResult as I was doing before with public ResponseEntity&lt;?&gt; createWithFoto(@Valid @RequestBody Product product, BindingResult result, @RequestParam(&quot;imageFile&quot;) MultipartFile image)    because the error message was Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data;boundary=----WebKitFormBoundaryeRhHAnjc&zwnj;&#8203;LSlAa8rX;charset=UTF&zwnj;&#8203;-8&#39; is not supported]."},{"owner":{"account_id":4585253,"reputation":13,"user_id":3720142,"display_name":"user3720142"},"score":0,"creation_date":1689260006,"post_id":76677954,"comment_id":135191080,"body_markdown":"By the way, How would it be the correct way??? Please :)","body":"By the way, How would it be the correct way??? Please :)"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1689572919,"post_id":76677954,"comment_id":135226834,"body_markdown":"I&#39;ve added to the answer how you can send and receive json object as entity","body":"I&#39;ve added to the answer how you can send and receive json object as entity"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1689573478,"post_id":76677954,"comment_id":135226893,"body_markdown":"I haven&#39;t tried this. If you still need to send json object and image file in same request you can try this https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/#:~:text=To%20pass%20the%20Json%20and,type%20in%20the%20consume%20part.&amp;text=And%20we%20need%20to%20pass,%2B%20file%20not%20POJO%20%2B%20file.&amp;text=Then%20convert%20the%20String%20to%20Json%20using%20ObjectMapper%20in%20Service%20layer.","body":"I haven&#39;t tried this. If you still need to send json object and image file in same request you can try this <a href=\"https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/#:~:text=To%20pass%20the%20Json%20and,type%20in%20the%20consume%20part.&amp;text=And%20we%20need%20to%20pass,%2B%20file%20not%20POJO%20%2B%20file.&amp;text=Then%20convert%20the%20String%20to%20Json%20using%20ObjectMapper%20in%20Service%20layer\" rel=\"nofollow noreferrer\">blogs.perficient.com/2020/07/27/&hellip;</a>."}],"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689572746,"creation_date":1689241025,"answer_id":76677954,"question_id":76655712,"body_markdown":"No sure if it&#39;s possible to receive JSON RequestBody and image/file in same request. But you can try approaches below\r\n\r\n1. Convert image to base64 string and add it to json request. This way you will be able to receive request as RequestBody from which you can read base64 image data and convert it to image.\r\n\r\nEg. \r\n\r\n Request\r\n\r\n  \r\n\r\n     {\r\n        &quot;productName&quot; : &quot;Xbox&quot;,\r\n        &quot;description&quot;  : &quot;Xbox&quot;,\r\n        &quot;price&quot; : &quot;500&quot;,\r\n        &quot;imageData&quot; : &quot;image base64 string data here&quot;\r\n       }\r\n\r\nReceive request\r\n\r\n    @PostMapping(&quot;/json&quot;)\r\n    public void readJsonRequest(@RequestBody(required = true) String jsonRequest) {\r\n    \r\n    \tJSONObject object = new JSONObject(jsonRequest);\r\n        String productName = object.getString(&quot;productName&quot;);\r\n        String imageData = object.getString(&quot;imageData&quot;);\r\n            \r\n        //convert imageData from base64 to image\r\n    }\r\n\r\n2. Send request as ContentType: multipart/form-data. This way you can add keys and receive them using RequestParams &amp; MultipartFile\r\n   \r\n  E.g\r\n   Request\r\n\r\n   \r\n\r\n        Key\t\t\t\t\t    value\r\n        \r\n        productName\t\t\t\tXbox\r\n        description\t\t\t\tXbox\r\n        price\t\t\t\t    500\r\n        imageFile\t\t\t\tselected file (.png, .jpg etc)\r\n\r\n Receive request\r\n\r\n \r\n\r\n     @PostMapping(&quot;/request&quot;)\r\n     public void readRequest(@RequestParam(value = &quot;productName&quot;, required = true) String productName,\r\n                @RequestParam(value = &quot;description&quot;, required = true) String description,\r\n    \t    @RequestParam(value = &quot;price&quot;, required = true) String price,\r\n                @RequestParam(value = &quot;imageFile&quot;, required = true) MultipartFile imageFile) {\r\n    \r\n     }\r\n\r\nTo send Json object as entity, ensure keys/properties in json request matches fields names in your entity class. Eg `productName` key in json request should match `private String productName` in Product entity class.\r\n\r\nTo receive it \r\n\r\n    public ResponseEntity&lt;?&gt; create(@Valid @RequestBody Product product,\r\n                BindingResult result) {\r\n    \r\n    }","title":"how to receive an entity with image from requestParam","body":"<p>No sure if it's possible to receive JSON RequestBody and image/file in same request. But you can try approaches below</p>\n<ol>\n<li>Convert image to base64 string and add it to json request. This way you will be able to receive request as RequestBody from which you can read base64 image data and convert it to image.</li>\n</ol>\n<p>Eg.</p>\n<p>Request</p>\n<pre><code> {\n    &quot;productName&quot; : &quot;Xbox&quot;,\n    &quot;description&quot;  : &quot;Xbox&quot;,\n    &quot;price&quot; : &quot;500&quot;,\n    &quot;imageData&quot; : &quot;image base64 string data here&quot;\n   }\n</code></pre>\n<p>Receive request</p>\n<pre><code>@PostMapping(&quot;/json&quot;)\npublic void readJsonRequest(@RequestBody(required = true) String jsonRequest) {\n\n    JSONObject object = new JSONObject(jsonRequest);\n    String productName = object.getString(&quot;productName&quot;);\n    String imageData = object.getString(&quot;imageData&quot;);\n        \n    //convert imageData from base64 to image\n}\n</code></pre>\n<ol start=\"2\">\n<li>Send request as ContentType: multipart/form-data. This way you can add keys and receive them using RequestParams &amp; MultipartFile</li>\n</ol>\n<p>E.g\nRequest</p>\n<pre><code>    Key                     value\n    \n    productName             Xbox\n    description             Xbox\n    price                   500\n    imageFile               selected file (.png, .jpg etc)\n</code></pre>\n<p>Receive request</p>\n<pre><code> @PostMapping(&quot;/request&quot;)\n public void readRequest(@RequestParam(value = &quot;productName&quot;, required = true) String productName,\n            @RequestParam(value = &quot;description&quot;, required = true) String description,\n        @RequestParam(value = &quot;price&quot;, required = true) String price,\n            @RequestParam(value = &quot;imageFile&quot;, required = true) MultipartFile imageFile) {\n\n }\n</code></pre>\n<p>To send Json object as entity, ensure keys/properties in json request matches fields names in your entity class. Eg <code>productName</code> key in json request should match <code>private String productName</code> in Product entity class.</p>\n<p>To receive it</p>\n<pre><code>public ResponseEntity&lt;?&gt; create(@Valid @RequestBody Product product,\n            BindingResult result) {\n\n}\n</code></pre>\n"}],"owner":{"account_id":4585253,"reputation":13,"user_id":3720142,"display_name":"user3720142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76677954,"answer_count":1,"score":1,"last_activity_date":1689572746,"creation_date":1689006975,"question_id":76655712,"body_markdown":"I&#39;m trying to save an entity (Product) with many attributes, one of them , the picture. And I don&#39;t know how to get both (entity and image) in the controller.\r\n\r\n```\r\n@PostMapping\r\npublic ResponseEntity&lt;?&gt; create(@Valid @RequestBody Product product,\r\nBindingResult result, @RequestParam(&quot;imageData&quot;) MultipartFile imageData);\r\n```\r\n\r\nIf i put it this way I get an &quot;Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data;boundary=--------------------------889210147211052471233495;charset=UTF-8&#39; is not supported]&quot; error.\r\n\r\nIf I only get the @RequestParam, because I suppose, I cannot use two both Request at the same time, I don&#39;t know how to send both, product and image. \r\nAnd much less, I don&#39;t know yet how to send this information from the front-end in react. \r\n```\r\nexport const ProductForm = ({ productSelected }) =&gt; {\r\n\r\nconst initialProductForm = {\r\n    id: 0,\r\n    productName: &#39;&#39;,\r\n    description: &#39;&#39;,\r\n    image: &quot; &quot;,\r\n    price: 0,\r\n}\r\n\r\n    const { initialProductForm, handlerAddProduct, errors } = useProducts();\r\n\r\n    const [productForm, setProductForm] = useState(initialProductForm);\r\n    let { id, productName, description, image, price } = productForm;\r\n\r\n    const onInputChange = ({ target }) =&gt; {\r\n        const { name, value } = target;\r\n        setProductForm({\r\n            ...productForm,\r\n            [name]: value,\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (event) =&gt; {\r\n        event.preventDefault();\r\n \r\n        imageData.append(&#39;product&#39;,productForm);\r\n        imageData.append(&#39;imageName&#39;, imageName);\r\n        imageData.append(&#39;imageData&#39;, imageData);\r\n        handlerAddProduct(productForm);\r\n    }\r\n\r\n    const handleChange = event =&gt; {\r\n        setImageName(event.target.value)\r\n    };\r\n\r\n    const [imageData, setImageData] = useState(null);\r\n    const [imageName, setImageName] = useState(&quot;&quot;);\r\n\r\nreturn (\r\n        &lt;&gt;\r\n\r\n            &lt;form onSubmit={handleSubmit} method=&quot;POST&quot; encType=&quot;application/json&quot;&gt;\r\n                &lt;input\r\n                    className=&quot;form-control my-3 w-75&quot;\r\n                    placeholder=&quot;ProductName&quot;\r\n                    name=&quot;productName&quot;\r\n                    value={productName}\r\n                    onChange={onInputChange}\r\n                /&gt;\r\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.productName}&lt;/p&gt;\r\n\r\n                &lt;input type=&quot;number&quot;\r\n                    className=&quot;form-control my-3 w-75&quot;\r\n                    placeholder=&quot;Price&quot;\r\n                    name=&quot;price&quot;\r\n                    value={price}\r\n                    onChange={onInputChange}\r\n                /&gt;\r\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.price}&lt;/p&gt;\r\n\r\n                &lt;input\r\n                    className=&quot;form-control my-3 w-75&quot;\r\n                    placeholder=&quot;Description&quot;\r\n                    name=&quot;description&quot;\r\n                    value={description}\r\n                    onChange={onInputChange}\r\n                /&gt;\r\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.description}&lt;/p&gt;\r\n\r\n\r\n                &lt;input\r\n                    accept=&quot;image/*&quot;                 \r\n                    id=&quot;upload-profile-image&quot;\r\n                    name=&quot;image&quot;\r\n                    type=&quot;file&quot;                  \r\n\r\n                    onChange={handleUploadClick}\r\n                /&gt;\r\n\r\n                &lt;label htmlFor=&quot;upload-profile-image&quot;&gt;\r\n                    &lt;Button\r\n                        variant=&quot;contained&quot;\r\n                        color=&quot;primary&quot;\r\n                        component=&quot;span&quot;\r\n                    &gt;\r\n                        Change Image\r\n                    &lt;/Button&gt;\r\n                &lt;/label&gt;\r\n\r\n                &lt;TextField\r\n                    fullWidth\r\n                    label=&quot;Image Name&quot;\r\n                    margin=&quot;dense&quot;\r\n                    name=&quot;name&quot;      \r\n                    onChange={handleChange}\r\n                    required\r\n                    value={imageName}\r\n                    variant=&quot;outlined&quot;\r\n                /&gt;\r\n\r\n                &lt;input\r\n                    type=&quot;hidden&quot;\r\n                    name=&quot;id&quot;\r\n                    value={id}\r\n                /&gt;\r\n\r\n                &lt;button\r\n                    className=&quot;btn btn-primary&quot;\r\n                    type=&quot;submit&quot;&gt;\r\n                    {id &gt; 0 ? &#39;Update&#39; : &#39;Create&#39;}\r\n                &lt;/button&gt;\r\n\r\n            &lt;/form&gt;\r\n        &lt;/&gt;\r\n    )\r\n\r\n}\r\n```\r\nProductService:\r\n\r\n```\r\nexport const save = async (product) =&gt; {\r\n\r\n\r\n\r\n    try {\r\n\r\n        return await usersApi.post(`${BASE_URL}/products/addProduct`, product, imageData);\r\n\r\n    } catch (error) {\r\n        console.log(&quot;errrooorrr &quot; + error);\r\n        throw error;\r\n    }\r\n}\r\n```\r\n\r\nI can&#39;t make the controller work even from Postman. [Postman](https://i.stack.imgur.com/XuVIs.png)\r\n\r\nAnd of course I&#39;m complete lost from React Front-end.\r\n\r\nPlease. Help :)\r\n\r\nThanks a lot.\r\n\r\n\r\n\r\n\r\nTo get the product and the image to do this: product.setImage()= image.getBytes();","title":"how to receive an entity with image from requestParam","body":"<p>I'm trying to save an entity (Product) with many attributes, one of them , the picture. And I don't know how to get both (entity and image) in the controller.</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;?&gt; create(@Valid @RequestBody Product product,\nBindingResult result, @RequestParam(&quot;imageData&quot;) MultipartFile imageData);\n</code></pre>\n<p>If i put it this way I get an &quot;Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'multipart/form-data;boundary=--------------------------889210147211052471233495;charset=UTF-8' is not supported]&quot; error.</p>\n<p>If I only get the @RequestParam, because I suppose, I cannot use two both Request at the same time, I don't know how to send both, product and image.\nAnd much less, I don't know yet how to send this information from the front-end in react.</p>\n<pre><code>export const ProductForm = ({ productSelected }) =&gt; {\n\nconst initialProductForm = {\n    id: 0,\n    productName: '',\n    description: '',\n    image: &quot; &quot;,\n    price: 0,\n}\n\n    const { initialProductForm, handlerAddProduct, errors } = useProducts();\n\n    const [productForm, setProductForm] = useState(initialProductForm);\n    let { id, productName, description, image, price } = productForm;\n\n    const onInputChange = ({ target }) =&gt; {\n        const { name, value } = target;\n        setProductForm({\n            ...productForm,\n            [name]: value,\n        })\n    }\n\n    const handleSubmit = (event) =&gt; {\n        event.preventDefault();\n \n        imageData.append('product',productForm);\n        imageData.append('imageName', imageName);\n        imageData.append('imageData', imageData);\n        handlerAddProduct(productForm);\n    }\n\n    const handleChange = event =&gt; {\n        setImageName(event.target.value)\n    };\n\n    const [imageData, setImageData] = useState(null);\n    const [imageName, setImageName] = useState(&quot;&quot;);\n\nreturn (\n        &lt;&gt;\n\n            &lt;form onSubmit={handleSubmit} method=&quot;POST&quot; encType=&quot;application/json&quot;&gt;\n                &lt;input\n                    className=&quot;form-control my-3 w-75&quot;\n                    placeholder=&quot;ProductName&quot;\n                    name=&quot;productName&quot;\n                    value={productName}\n                    onChange={onInputChange}\n                /&gt;\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.productName}&lt;/p&gt;\n\n                &lt;input type=&quot;number&quot;\n                    className=&quot;form-control my-3 w-75&quot;\n                    placeholder=&quot;Price&quot;\n                    name=&quot;price&quot;\n                    value={price}\n                    onChange={onInputChange}\n                /&gt;\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.price}&lt;/p&gt;\n\n                &lt;input\n                    className=&quot;form-control my-3 w-75&quot;\n                    placeholder=&quot;Description&quot;\n                    name=&quot;description&quot;\n                    value={description}\n                    onChange={onInputChange}\n                /&gt;\n                &lt;p className=&quot;text-danger&quot;&gt;{errors?.description}&lt;/p&gt;\n\n\n                &lt;input\n                    accept=&quot;image/*&quot;                 \n                    id=&quot;upload-profile-image&quot;\n                    name=&quot;image&quot;\n                    type=&quot;file&quot;                  \n\n                    onChange={handleUploadClick}\n                /&gt;\n\n                &lt;label htmlFor=&quot;upload-profile-image&quot;&gt;\n                    &lt;Button\n                        variant=&quot;contained&quot;\n                        color=&quot;primary&quot;\n                        component=&quot;span&quot;\n                    &gt;\n                        Change Image\n                    &lt;/Button&gt;\n                &lt;/label&gt;\n\n                &lt;TextField\n                    fullWidth\n                    label=&quot;Image Name&quot;\n                    margin=&quot;dense&quot;\n                    name=&quot;name&quot;      \n                    onChange={handleChange}\n                    required\n                    value={imageName}\n                    variant=&quot;outlined&quot;\n                /&gt;\n\n                &lt;input\n                    type=&quot;hidden&quot;\n                    name=&quot;id&quot;\n                    value={id}\n                /&gt;\n\n                &lt;button\n                    className=&quot;btn btn-primary&quot;\n                    type=&quot;submit&quot;&gt;\n                    {id &gt; 0 ? 'Update' : 'Create'}\n                &lt;/button&gt;\n\n            &lt;/form&gt;\n        &lt;/&gt;\n    )\n\n}\n</code></pre>\n<p>ProductService:</p>\n<pre><code>export const save = async (product) =&gt; {\n\n\n\n    try {\n\n        return await usersApi.post(`${BASE_URL}/products/addProduct`, product, imageData);\n\n    } catch (error) {\n        console.log(&quot;errrooorrr &quot; + error);\n        throw error;\n    }\n}\n</code></pre>\n<p>I can't make the controller work even from Postman. <a href=\"https://i.stack.imgur.com/XuVIs.png\" rel=\"nofollow noreferrer\">Postman</a></p>\n<p>And of course I'm complete lost from React Front-end.</p>\n<p>Please. Help :)</p>\n<p>Thanks a lot.</p>\n<p>To get the product and the image to do this: product.setImage()= image.getBytes();</p>\n"},{"tags":["java","client","ejb","enterprise"],"comments":[{"owner":{"account_id":108457,"reputation":1980,"user_id":287857,"accept_rate":61,"display_name":"AdrianS"},"score":0,"creation_date":1302702747,"post_id":5622385,"comment_id":6443486,"body_markdown":"I redone it but i have another problem now. I now have a single java enterprise application with both the ejb module and the application client. when i deploy the main() method is not being executed. i put a break-point in it, and system.out.printlns and wont get to them. why?","body":"I redone it but i have another problem now. I now have a single java enterprise application with both the ejb module and the application client. when i deploy the main() method is not being executed. i put a break-point in it, and system.out.printlns and wont get to them. why?"}],"answers":[{"comments":[{"owner":{"account_id":108457,"reputation":1980,"user_id":287857,"accept_rate":61,"display_name":"AdrianS"},"score":0,"creation_date":1302698002,"post_id":5623166,"comment_id":6441825,"body_markdown":"But my second EAR has an Application Client. This EAR is also deployed on the server. Shouldn&#39;t it work? I think you answer is for accesing EJB from an stand-alone java client (client that does not run in a container).","body":"But my second EAR has an Application Client. This EAR is also deployed on the server. Shouldn&#39;t it work? I think you answer is for accesing EJB from an stand-alone java client (client that does not run in a container)."},{"owner":{"account_id":281259,"reputation":2071,"user_id":577450,"accept_rate":65,"display_name":"JSS"},"score":0,"creation_date":1302769357,"post_id":5623166,"comment_id":6457761,"body_markdown":"@B1eg - your example above using main(...) method to access the EJB which I believe you are calling through a command prompt. If that&#39;s the case then you must have to call EJB by a JNDI lookup. As I said above only container can inject the EJB at run time, any access outside the container has to be find by JNDI.","body":"@B1eg - your example above using main(...) method to access the EJB which I believe you are calling through a command prompt. If that&#39;s the case then you must have to call EJB by a JNDI lookup. As I said above only container can inject the EJB at run time, any access outside the container has to be find by JNDI."}],"tags":[],"owner":{"account_id":281259,"reputation":2071,"user_id":577450,"accept_rate":65,"display_name":"JSS"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302533600,"creation_date":1302533600,"answer_id":5623166,"question_id":5622385,"body_markdown":"You can only inject EJB with container managed Beans i.e. Servlet, Session beans etc.\r\n\r\nIn your case you will have to locate Remote Interface through a JNDI lookup.\r\n\r\nExample:\r\n\r\n    Properties props = new Properties();\r\n    \t\tprops.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.enterprise.naming.SerialInitContextFactory&quot;);\r\n    \t\tprops.setProperty(&quot;org.omg.CORBA.ORBInitialHost&quot;, remoteHost);\r\n    \t\tprops.setProperty(&quot;org.omg.CORBA.ORBInitialPort&quot;, remotePort);\r\n    \r\n    \t\tInitialContext ic = new InitialContext(props);\r\n    \t\treturn ic.lookup(remoteInterface);\r\n\r\n","title":"Access EJB from Application Client (project configuration)","body":"<p>You can only inject EJB with container managed Beans i.e. Servlet, Session beans etc.</p>\n\n<p>In your case you will have to locate Remote Interface through a JNDI lookup.</p>\n\n<p>Example:</p>\n\n<pre><code>Properties props = new Properties();\n        props.setProperty(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.enterprise.naming.SerialInitContextFactory\");\n        props.setProperty(\"org.omg.CORBA.ORBInitialHost\", remoteHost);\n        props.setProperty(\"org.omg.CORBA.ORBInitialPort\", remotePort);\n\n        InitialContext ic = new InitialContext(props);\n        return ic.lookup(remoteInterface);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4191645,"reputation":167,"user_id":3434131,"display_name":"JustTry"},"score":0,"creation_date":1561646817,"post_id":5662769,"comment_id":100141756,"body_markdown":"I want to ask a question , if I have nothing to do with EJB , just a main application does it make sense to run it as application client. For example a job which will pull some record from DB every 1 hour and process them, just to access the JNDI should someone write Application Client , in my thought it has a whole different purpose somehow related with EJB, Thanks","body":"I want to ask a question , if I have nothing to do with EJB , just a main application does it make sense to run it as application client. For example a job which will pull some record from DB every 1 hour and process them, just to access the JNDI should someone write Application Client , in my thought it has a whole different purpose somehow related with EJB, Thanks"}],"tags":[],"owner":{"account_id":108457,"reputation":1980,"user_id":287857,"accept_rate":61,"display_name":"AdrianS"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1302781911,"creation_date":1302781911,"answer_id":5662769,"question_id":5622385,"body_markdown":"So what i done is:\r\n\r\n1. Use JNDI\r\n\r\n    \tContext ctx = new InitialContext();\r\n        personService = (PersonApiRemote) ctx.lookup(&quot;api.PersonApiRemote&quot;);\r\n\r\n2. Add all Glassfish jars (which are a lot!) to the Application Client&#39;s build path.","title":"Access EJB from Application Client (project configuration)","body":"<p>So what i done is:</p>\n\n<ol>\n<li><p>Use JNDI</p>\n\n<pre><code>Context ctx = new InitialContext();\npersonService = (PersonApiRemote) ctx.lookup(\"api.PersonApiRemote\");\n</code></pre></li>\n<li><p>Add all Glassfish jars (which are a lot!) to the Application Client's build path.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":333967,"reputation":1711,"user_id":660096,"accept_rate":80,"display_name":"agiles"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1354416826,"creation_date":1354416826,"answer_id":13665967,"question_id":5622385,"body_markdown":"Go through these sides\r\n \r\nhttp://javahowto.blogspot.com/2007/06/simple-ejb-3-application-hand-made.html\r\n\r\nhttp://javahowto.blogspot.com/2007/07/simple-ejb-3-servlet-application.html\r\n\r\nhttps://stackoverflow.com/questions/7591056/classes-of-referenced-ejb-project-not-found-in-the-referencing-web-project\r\n\r\n","title":"Access EJB from Application Client (project configuration)","body":"<p>Go through these sides</p>\n\n<p><a href=\"http://javahowto.blogspot.com/2007/06/simple-ejb-3-application-hand-made.html\" rel=\"nofollow noreferrer\">http://javahowto.blogspot.com/2007/06/simple-ejb-3-application-hand-made.html</a></p>\n\n<p><a href=\"http://javahowto.blogspot.com/2007/07/simple-ejb-3-servlet-application.html\" rel=\"nofollow noreferrer\">http://javahowto.blogspot.com/2007/07/simple-ejb-3-servlet-application.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7591056/classes-of-referenced-ejb-project-not-found-in-the-referencing-web-project\">Classes of referenced EJB project not found in (the referencing) Web project</a></p>\n"},{"tags":[],"owner":{"account_id":18493971,"reputation":17,"user_id":13472832,"display_name":"Muhammad Ammar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689572365,"creation_date":1689572365,"answer_id":76701737,"question_id":5622385,"body_markdown":"This occurs usually when you have already deployed a project with the same JNDI name.\r\n\r\nThese are the steps to solve your problem:\r\n\r\n 1. First of all open your Glassfish/Payara server admin console.\r\n 2. Then go to the applications tab on the left sidebar.\r\n 3. Then undeploy the project that is present with the same JNDI Name.\r\n 4. Deploy the project again.\r\n\r\nI hope this process will solve your problem.\r\n\r\nThank you.","title":"Access EJB from Application Client (project configuration)","body":"<p>This occurs usually when you have already deployed a project with the same JNDI name.</p>\n<p>These are the steps to solve your problem:</p>\n<ol>\n<li>First of all open your Glassfish/Payara server admin console.</li>\n<li>Then go to the applications tab on the left sidebar.</li>\n<li>Then undeploy the project that is present with the same JNDI Name.</li>\n<li>Deploy the project again.</li>\n</ol>\n<p>I hope this process will solve your problem.</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":108457,"reputation":1980,"user_id":287857,"accept_rate":61,"display_name":"AdrianS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5662769,"answer_count":4,"score":0,"last_activity_date":1689572365,"creation_date":1302530293,"question_id":5622385,"body_markdown":"I know this has been asked before, but i can&#39;t find a good answer\r\n\r\nSo I want to have an client application that calls remote ejbs.\r\n\r\nFor this i have 2 ear applications.\r\nOne ear with the ejb module, and another ear with the application client module.\r\nIn the client module i am trying to inject in the Main() class the EJB with @EJB annotation.\r\n\r\n**application.xml for the EJB:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;application \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    xmlns:application=&quot;http://java.sun.com    /xml/ns/javaee/application_5.xsd&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns    /javaee/application_5.xsd&quot; id=&quot;Application_ID&quot; version=&quot;5&quot;&gt;\r\n      &lt;display-name&gt; \r\n          MppL4_SERVER&lt;/display-name&gt;\r\n          &lt;module&gt;\r\n             &lt;ejb&gt;MppL4_SERVEREJB.jar&lt;/ejb&gt;\r\n          &lt;/module&gt;\r\n     &lt;/application&gt;\r\n\r\n**application.xml for the app-client:**\r\n\r\n    &lt;application \r\n      &lt;display-name&gt; \r\n          MppL4_CLIENT\r\n      &lt;/display-name&gt;\r\n      &lt;module&gt;\r\n         &lt;java&gt;MppL4_CLIENTClient.jar&lt;/java&gt;\r\n      &lt;/module&gt;\r\n      &lt;module&gt;\r\n         &lt;ejb&gt;MppL4_SERVEREJB.jar&lt;/ejb&gt;\r\n      &lt;/module&gt;\r\n    &lt;/application&gt;\r\n\r\nIf i deploy both ears on the Glassfish server i get:\r\n\r\n    \r\n    EVERE: Exception while invoking class org.glassfish.ejb.startup.EjbDeployer load method\r\n    java.lang.RuntimeException: EJB Container initialization error\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:219)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:197)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:63)\r\n    \tat org.glassfish.internal.data.ModuleInfo.load(ModuleInfo.java:175)\r\n    \tat org.glassfish.internal.data.ApplicationInfo.load(ApplicationInfo.java:216)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:338)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\r\n    \tat com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\r\n    \tat com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\r\n    \tat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\r\n    \tat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\r\n    \tat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\r\n    \tat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\r\n    \tat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\r\n    \tat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\r\n    \tat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\r\n    \tat com.sun.grizzly.ContextTask.run(ContextTask.java:69)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.lang.RuntimeException: Error while binding JNDI name entities.PersonAPIRemote__3_x_Internal_RemoteBusinessHome__ for EJB : PersonAPI\r\n    \tat com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1530)\r\n    \tat com.sun.ejb.containers.StatelessSessionContainer.initializeHome(StatelessSessionContainer.java:197)\r\n    \tat com.sun.ejb.containers.ContainerFactoryImpl.createContainer(ContainerFactoryImpl.java:161)\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:207)\r\n    \t... 32 more\r\n    Caused by: javax.naming.NameAlreadyBoundException [Root exception is org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0]\r\n    \tat com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:75)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:595)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:620)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:658)\r\n    \tat javax.naming.InitialContext.bind(InitialContext.java:400)\r\n    \tat com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.publishCosNamingObject(GlassfishNamingManagerImpl.java:224)\r\n    \tat com.sun.ejb.containers.BaseContainer$JndiInfo.publish(BaseContainer.java:5482)\r\n    \tat com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1515)\r\n    \t... 35 more\r\n    Caused by: org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0\r\n    \tat org.omg.CosNaming.NamingContextPackage.AlreadyBoundHelper.read(AlreadyBoundHelper.java:60)\r\n    \tat org.omg.CosNaming._NamingContextStub.bind(_NamingContextStub.java:67)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:584)\r\n    \t... 41 more\r\n    \r\n    SEVERE: Exception while loading the app\r\n    java.lang.RuntimeException: EJB Container initialization error\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:219)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:197)\r\n    \tat org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:63)\r\n    \tat org.glassfish.internal.data.ModuleInfo.load(ModuleInfo.java:175)\r\n    \tat org.glassfish.internal.data.ApplicationInfo.load(ApplicationInfo.java:216)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:338)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\r\n    \tat com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\r\n    \tat com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\r\n    \tat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\r\n    \tat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\r\n    \tat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\r\n    \tat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\r\n    \tat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\r\n    \tat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\r\n    \tat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\r\n    \tat com.sun.grizzly.ContextTask.run(ContextTask.java:69)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.lang.RuntimeException: Error while binding JNDI name entities.PersonAPIRemote__3_x_Internal_RemoteBusinessHome__ for EJB : PersonAPI\r\n    \tat com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1530)\r\n    \tat com.sun.ejb.containers.StatelessSessionContainer.initializeHome(StatelessSessionContainer.java:197)\r\n    \tat com.sun.ejb.containers.ContainerFactoryImpl.createContainer(ContainerFactoryImpl.java:161)\r\n    \tat org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:207)\r\n    \t... 32 more\r\n    Caused by: javax.naming.NameAlreadyBoundException [Root exception is org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0]\r\n    \tat com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:75)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:595)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:620)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:658)\r\n    \tat javax.naming.InitialContext.bind(InitialContext.java:400)\r\n    \tat com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.publishCosNamingObject(GlassfishNamingManagerImpl.java:224)\r\n    \tat com.sun.ejb.containers.BaseContainer$JndiInfo.publish(BaseContainer.java:5482)\r\n    \tat com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1515)\r\n    \t... 35 more\r\n    Caused by: org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0\r\n    \tat org.omg.CosNaming.NamingContextPackage.AlreadyBoundHelper.read(AlreadyBoundHelper.java:60)\r\n    \tat org.omg.CosNaming._NamingContextStub.bind(_NamingContextStub.java:67)\r\n    \tat com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:584)\r\n    \t... 41 more\r\n    \r\n    WARNING: Exception while cleaning module &#39;org.glassfish.internal.data.EngineRef@1e493eb&#39;java.lang.NullPointerException\r\n    java.lang.NullPointerException\r\n    \tat org.glassfish.appclient.server.core.AppClientDeployer.clean(AppClientDeployer.java:265)\r\n    \tat org.glassfish.internal.data.EngineInfo.clean(EngineInfo.java:114)\r\n    \tat org.glassfish.internal.data.EngineRef.clean(EngineRef.java:171)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle$1.actOn(ApplicationLifecycle.java:224)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:342)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\r\n    \tat com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\r\n    \tat com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\r\n    \tat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\r\n    \tat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\r\n    \tat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\r\n    \tat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\r\n    \tat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\r\n    \tat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\r\n    \tat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\r\n    \tat com.sun.grizzly.ContextTask.run(ContextTask.java:69)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n\r\nMy app-client main class:\r\n\r\n    public class Main {\r\n    \t\r\n    \t@EJB\r\n    \tprivate static PersonAPIRemote personApi;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;client started...&quot;);\r\n    \t\t\r\n    \t\t//Person p = new Person(3, &quot;lololol&quot;, 456);\r\n    \t\tpersonApi.service();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;client ended...&quot;);\r\n    \t}\r\n    \r\n    \t/* (non-Java-doc)\r\n    \t * @see java.lang.Object#Object()\r\n    \t */\r\n    \tpublic Main() {\r\n    \t\tsuper();\r\n    \t}\r\n\r\nI am using GlassFish Tools Bundle For Eclipse as an IDE.\r\n","title":"Access EJB from Application Client (project configuration)","body":"<p>I know this has been asked before, but i can't find a good answer</p>\n\n<p>So I want to have an client application that calls remote ejbs.</p>\n\n<p>For this i have 2 ear applications.\nOne ear with the ejb module, and another ear with the application client module.\nIn the client module i am trying to inject in the Main() class the EJB with @EJB annotation.</p>\n\n<p><strong>application.xml for the EJB:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;application \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns=\"http://java.sun.com/xml/ns/javaee\"\nxmlns:application=\"http://java.sun.com    /xml/ns/javaee/application_5.xsd\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns    /javaee/application_5.xsd\" id=\"Application_ID\" version=\"5\"&gt;\n  &lt;display-name&gt; \n      MppL4_SERVER&lt;/display-name&gt;\n      &lt;module&gt;\n         &lt;ejb&gt;MppL4_SERVEREJB.jar&lt;/ejb&gt;\n      &lt;/module&gt;\n &lt;/application&gt;\n</code></pre>\n\n<p><strong>application.xml for the app-client:</strong></p>\n\n<pre><code>&lt;application \n  &lt;display-name&gt; \n      MppL4_CLIENT\n  &lt;/display-name&gt;\n  &lt;module&gt;\n     &lt;java&gt;MppL4_CLIENTClient.jar&lt;/java&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n     &lt;ejb&gt;MppL4_SERVEREJB.jar&lt;/ejb&gt;\n  &lt;/module&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>If i deploy both ears on the Glassfish server i get:</p>\n\n<pre><code>EVERE: Exception while invoking class org.glassfish.ejb.startup.EjbDeployer load method\njava.lang.RuntimeException: EJB Container initialization error\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:219)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:197)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:63)\n    at org.glassfish.internal.data.ModuleInfo.load(ModuleInfo.java:175)\n    at org.glassfish.internal.data.ApplicationInfo.load(ApplicationInfo.java:216)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:338)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\n    at com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\n    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\n    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\n    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\n    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\n    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\n    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\n    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\n    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\n    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\n    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\n    at com.sun.grizzly.ContextTask.run(ContextTask.java:69)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.RuntimeException: Error while binding JNDI name entities.PersonAPIRemote__3_x_Internal_RemoteBusinessHome__ for EJB : PersonAPI\n    at com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1530)\n    at com.sun.ejb.containers.StatelessSessionContainer.initializeHome(StatelessSessionContainer.java:197)\n    at com.sun.ejb.containers.ContainerFactoryImpl.createContainer(ContainerFactoryImpl.java:161)\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:207)\n    ... 32 more\nCaused by: javax.naming.NameAlreadyBoundException [Root exception is org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0]\n    at com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:75)\n    at com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:595)\n    at com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:620)\n    at com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:658)\n    at javax.naming.InitialContext.bind(InitialContext.java:400)\n    at com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.publishCosNamingObject(GlassfishNamingManagerImpl.java:224)\n    at com.sun.ejb.containers.BaseContainer$JndiInfo.publish(BaseContainer.java:5482)\n    at com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1515)\n    ... 35 more\nCaused by: org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0\n    at org.omg.CosNaming.NamingContextPackage.AlreadyBoundHelper.read(AlreadyBoundHelper.java:60)\n    at org.omg.CosNaming._NamingContextStub.bind(_NamingContextStub.java:67)\n    at com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:584)\n    ... 41 more\n\nSEVERE: Exception while loading the app\njava.lang.RuntimeException: EJB Container initialization error\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:219)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:197)\n    at org.glassfish.ejb.startup.EjbDeployer.load(EjbDeployer.java:63)\n    at org.glassfish.internal.data.ModuleInfo.load(ModuleInfo.java:175)\n    at org.glassfish.internal.data.ApplicationInfo.load(ApplicationInfo.java:216)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:338)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\n    at com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\n    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\n    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\n    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\n    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\n    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\n    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\n    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\n    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\n    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\n    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\n    at com.sun.grizzly.ContextTask.run(ContextTask.java:69)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.RuntimeException: Error while binding JNDI name entities.PersonAPIRemote__3_x_Internal_RemoteBusinessHome__ for EJB : PersonAPI\n    at com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1530)\n    at com.sun.ejb.containers.StatelessSessionContainer.initializeHome(StatelessSessionContainer.java:197)\n    at com.sun.ejb.containers.ContainerFactoryImpl.createContainer(ContainerFactoryImpl.java:161)\n    at org.glassfish.ejb.startup.EjbApplication.loadContainers(EjbApplication.java:207)\n    ... 32 more\nCaused by: javax.naming.NameAlreadyBoundException [Root exception is org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0]\n    at com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:75)\n    at com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:595)\n    at com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:620)\n    at com.sun.jndi.cosnaming.CNCtx.bind(CNCtx.java:658)\n    at javax.naming.InitialContext.bind(InitialContext.java:400)\n    at com.sun.enterprise.naming.impl.GlassfishNamingManagerImpl.publishCosNamingObject(GlassfishNamingManagerImpl.java:224)\n    at com.sun.ejb.containers.BaseContainer$JndiInfo.publish(BaseContainer.java:5482)\n    at com.sun.ejb.containers.BaseContainer.initializeHome(BaseContainer.java:1515)\n    ... 35 more\nCaused by: org.omg.CosNaming.NamingContextPackage.AlreadyBound: IDL:omg.org/CosNaming/NamingContext/AlreadyBound:1.0\n    at org.omg.CosNaming.NamingContextPackage.AlreadyBoundHelper.read(AlreadyBoundHelper.java:60)\n    at org.omg.CosNaming._NamingContextStub.bind(_NamingContextStub.java:67)\n    at com.sun.jndi.cosnaming.CNCtx.callBindOrRebind(CNCtx.java:584)\n    ... 41 more\n\nWARNING: Exception while cleaning module 'org.glassfish.internal.data.EngineRef@1e493eb'java.lang.NullPointerException\njava.lang.NullPointerException\n    at org.glassfish.appclient.server.core.AppClientDeployer.clean(AppClientDeployer.java:265)\n    at org.glassfish.internal.data.EngineInfo.clean(EngineInfo.java:114)\n    at org.glassfish.internal.data.EngineRef.clean(EngineRef.java:171)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle$1.actOn(ApplicationLifecycle.java:224)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:342)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:183)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:272)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:305)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:320)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1176)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$900(CommandRunnerImpl.java:83)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1235)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1224)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:365)\n    at com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:204)\n    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:166)\n    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:100)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:245)\n    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:791)\n    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:693)\n    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:954)\n    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:170)\n    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:135)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:102)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:88)\n    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:76)\n    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:53)\n    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:57)\n    at com.sun.grizzly.ContextTask.run(ContextTask.java:69)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:330)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:309)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>My app-client main class:</p>\n\n<pre><code>public class Main {\n\n    @EJB\n    private static PersonAPIRemote personApi;\n\n    public static void main(String[] args) {\n        System.out.println(\"client started...\");\n\n        //Person p = new Person(3, \"lololol\", 456);\n        personApi.service();\n\n        System.out.println(\"client ended...\");\n    }\n\n    /* (non-Java-doc)\n     * @see java.lang.Object#Object()\n     */\n    public Main() {\n        super();\n    }\n</code></pre>\n\n<p>I am using GlassFish Tools Bundle For Eclipse as an IDE.</p>\n"},{"tags":["java","android","kotlin","android-download-manager"],"answers":[{"tags":[],"owner":{"account_id":23090339,"reputation":1,"user_id":17201300,"display_name":"Puneet Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689572021,"creation_date":1689572021,"answer_id":76701708,"question_id":76651695,"body_markdown":"To solve this issue, we have to first get the redirected url and give the final redirected url to donwnload manager to download.\r\nThis is the way to solve this issue.\r\n\r\n    @Throws(IOException::class)\r\n    suspend fun getFinalURL1(url: String, totalTimeOut: Long): String {\r\n        return withContext(Dispatchers.IO) {\r\n            if (totalTimeOut &lt; System.currentTimeMillis()) {\r\n                return@withContext url\r\n            }\r\n\r\n            delay(10)\r\n\r\n            val obj = URL(url)\r\n            val con: HttpURLConnection = obj.openConnection() as HttpURLConnection\r\n            con.instanceFollowRedirects = false\r\n            con.connect()\r\n            con.inputStream\r\n            if (con.responseCode == HttpURLConnection.HTTP_MOVED_PERM || con.responseCode == HttpURLConnection.HTTP_MOVED_TEMP) {\r\n                var redirectUrl: String? = con.getHeaderField(&quot;Location&quot;)\r\n\r\n                if (redirectUrl == null) {\r\n                    return@withContext url\r\n                } else if (redirectUrl.startsWith(&quot;/&quot;)) {\r\n                    redirectUrl = obj.protocol.toString() + &quot;://&quot; + obj.host + redirectUrl\r\n                }\r\n\r\n                if (!redirectUrl.startsWith(startsWith, true)) {\r\n                    return@withContext url\r\n                }\r\n\r\n                return@withContext getFinalURL1(redirectUrl, totalTimeOut)\r\n            }\r\n            return@withContext url\r\n        }\r\n    }","title":"Android DownloadManager failed downloading with reason ERROR_TOO_MANY_REDIRECTS, how can I fix this issue for targeting API level 31 or higher?","body":"<p>To solve this issue, we have to first get the redirected url and give the final redirected url to donwnload manager to download.\nThis is the way to solve this issue.</p>\n<pre><code>@Throws(IOException::class)\nsuspend fun getFinalURL1(url: String, totalTimeOut: Long): String {\n    return withContext(Dispatchers.IO) {\n        if (totalTimeOut &lt; System.currentTimeMillis()) {\n            return@withContext url\n        }\n\n        delay(10)\n\n        val obj = URL(url)\n        val con: HttpURLConnection = obj.openConnection() as HttpURLConnection\n        con.instanceFollowRedirects = false\n        con.connect()\n        con.inputStream\n        if (con.responseCode == HttpURLConnection.HTTP_MOVED_PERM || con.responseCode == HttpURLConnection.HTTP_MOVED_TEMP) {\n            var redirectUrl: String? = con.getHeaderField(&quot;Location&quot;)\n\n            if (redirectUrl == null) {\n                return@withContext url\n            } else if (redirectUrl.startsWith(&quot;/&quot;)) {\n                redirectUrl = obj.protocol.toString() + &quot;://&quot; + obj.host + redirectUrl\n            }\n\n            if (!redirectUrl.startsWith(startsWith, true)) {\n                return@withContext url\n            }\n\n            return@withContext getFinalURL1(redirectUrl, totalTimeOut)\n        }\n        return@withContext url\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23090339,"reputation":1,"user_id":17201300,"display_name":"Puneet Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76701708,"answer_count":1,"score":0,"last_activity_date":1689572021,"creation_date":1688975272,"question_id":76651695,"body_markdown":"I am using android.app.DownloadManager for downloading file, but few files failed download, with reason ERROR_TOO_MANY_REDIRECTS,\r\n\r\nI got the reason to failed from below code:\r\n\r\n\r\n```\r\nval reasonIndex = cursor.getColumnIndex(DownloadManager.COLUMN_REASON)\r\nval reason = cursor.getInt(reasonIndex)\r\n\r\n//public final static int ERROR_TOO_MANY_REDIRECTS = 1005;\r\n\r\n// I got same reason 1005\r\n```\r\n\r\n\r\nIs there any way to increase maxRedirect and what is default redirect count?\r\n\r\nHow can I fixed this too many redirect issue?\r\n\r\n\r\nCurrently I am using similar to below code:\r\n\r\n```\r\nval downloadManager: DownloadManager = context.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n\r\nfun downloadFile(url: String, path: String, title: String? = null): Long {\r\n        val downloadUri = Uri.parse(url)\r\n        var downloadId: Long\r\n        try {\r\n            val request = DownloadManager.Request(downloadUri).apply {\r\n                setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI or     DownloadManager.Request.NETWORK_MOBILE)\r\n                    .setAllowedOverRoaming(false)\r\n                    .setTitle(title ?: &quot;&quot;)\r\n                    .setNotificationVisibility(DownloadManager.Request.VISIBILITY_HIDDEN)\r\n                    .setDestinationUri(Uri.fromFile(File(path)))\r\n\r\n            }\r\n            downloadId = downloadManager?.enqueue(request) ?: -1\r\n            scanMedia(path)\r\n        } catch (exception: Exception) {\r\n            downloadId = -1\r\n        }\r\n        return downloadId\r\n}\r\n```\r\n\r\n\r\nI want to download file from android.app.DownloadManager even if the url redirect to more then 10, 20 or 30 times","title":"Android DownloadManager failed downloading with reason ERROR_TOO_MANY_REDIRECTS, how can I fix this issue for targeting API level 31 or higher?","body":"<p>I am using android.app.DownloadManager for downloading file, but few files failed download, with reason ERROR_TOO_MANY_REDIRECTS,</p>\n<p>I got the reason to failed from below code:</p>\n<pre><code>val reasonIndex = cursor.getColumnIndex(DownloadManager.COLUMN_REASON)\nval reason = cursor.getInt(reasonIndex)\n\n//public final static int ERROR_TOO_MANY_REDIRECTS = 1005;\n\n// I got same reason 1005\n</code></pre>\n<p>Is there any way to increase maxRedirect and what is default redirect count?</p>\n<p>How can I fixed this too many redirect issue?</p>\n<p>Currently I am using similar to below code:</p>\n<pre><code>val downloadManager: DownloadManager = context.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n\nfun downloadFile(url: String, path: String, title: String? = null): Long {\n        val downloadUri = Uri.parse(url)\n        var downloadId: Long\n        try {\n            val request = DownloadManager.Request(downloadUri).apply {\n                setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI or     DownloadManager.Request.NETWORK_MOBILE)\n                    .setAllowedOverRoaming(false)\n                    .setTitle(title ?: &quot;&quot;)\n                    .setNotificationVisibility(DownloadManager.Request.VISIBILITY_HIDDEN)\n                    .setDestinationUri(Uri.fromFile(File(path)))\n\n            }\n            downloadId = downloadManager?.enqueue(request) ?: -1\n            scanMedia(path)\n        } catch (exception: Exception) {\n            downloadId = -1\n        }\n        return downloadId\n}\n</code></pre>\n<p>I want to download file from android.app.DownloadManager even if the url redirect to more then 10, 20 or 30 times</p>\n"},{"tags":["java","swing","svg","batik","hidpi"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689584161,"post_id":76701591,"comment_id":135228751,"body_markdown":"Maybe something more like [this](https://stackoverflow.com/questions/56618089/java-swing-hidpi-scaling)","body":"Maybe something more like <a href=\"https://stackoverflow.com/questions/56618089/java-swing-hidpi-scaling\">this</a>"},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":1,"creation_date":1689596851,"post_id":76701591,"comment_id":135231406,"body_markdown":"For my applications, I use fonts for icons (like Font Awesome). I have my own library that will create a multi resolution image based on the font name and character.","body":"For my applications, I use fonts for icons (like Font Awesome). I have my own library that will create a multi resolution image based on the font name and character."},{"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"score":0,"creation_date":1689621157,"post_id":76701591,"comment_id":135236795,"body_markdown":"@Anthony Hey, that&#39;s a nice idea! I&#39;ll try that! :) Thank you!","body":"@Anthony Hey, that&#39;s a nice idea! I&#39;ll try that! :) Thank you!"},{"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"score":0,"creation_date":1689710987,"post_id":76701591,"comment_id":135251646,"body_markdown":"@MrSnrub you can start by looking at https://jiconfont.github.io/","body":"@MrSnrub you can start by looking at <a href=\"https://jiconfont.github.io/\" rel=\"nofollow noreferrer\">jiconfont.github.io</a>"},{"owner":{"account_id":16838121,"reputation":952,"user_id":12174160,"display_name":"weisj"},"score":1,"creation_date":1697977575,"post_id":76701591,"comment_id":136344437,"body_markdown":"For non-interactive svg files there are also more lightweight alternatives to Batik e.g. [jsvg](https://github.com/weisJ/jsvg) (Disclaimer: I’m the author of jsvg)","body":"For non-interactive svg files there are also more lightweight alternatives to Batik e.g. <a href=\"https://github.com/weisJ/jsvg\" rel=\"nofollow noreferrer\">jsvg</a> (Disclaimer: I’m the author of jsvg)"}],"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1689571229,"creation_date":1689569890,"question_id":76701591,"body_markdown":"I want to make the graphics (icons, logo etc.) of an existing **Java Swing** application look better on **HiDPI** displays with a scale factor larger than 1.0, e.g. my notebook with 14&quot; display and Windows 10 (scale factor 1.5). At the moment, the application uses PNG images, with one resolution per image, e.g. 16x16 pixels for icons. On JButtons etc. these icons look horrible when they are scaled up by Java. \r\n\r\nMy current idea (**A**) to solve that problem (see [[1]] and [[2]] for credits):\r\n1) Replace PNGs with **SVGs**.\r\n2) Include **Apache Batik** in the Swing desktop application (~ 4 megabytes of new JAR dependencies just for that, ughh).\r\n3) Use Batik to rasterize the SVGs **at runtime** to multiple `BufferedImage`s, one for each scale factor (1.0, 1.25, 1.5, ...) to be supported.\r\n4) Put the `BufferedImage`s (e.g. 16x16, 20x20, 24x24, ...) into a standard `BaseMultiResolutionImage`.\r\n\r\nA slightly different idea (**B**) might be:\r\n\r\n3) and 4.: Instead: Extend `AbstractMultiResolutionImage` and overwrite `getResolutionVariant` to rasterize just the requested `destImageWidth`/`destImageHeight` pixel size using Batik (and cache the result with width/height as cache key). This way, any requested `destImageWidth`/`destImageHeight` could be provided exactly. This might be useful, as there seem to be some rounding effects causing dest width or height to differ by 1 or 2 pixels from what I&#39;d expect. \r\n\r\nBoth approaches above require Batik (and its transitive dependencies) as a runtime dependency / to be included in my client distribution. And I&#39;m like: _Do I really want that just because of some simple icons?!_ (= just eye candy)\r\n\r\nTherefore, idea **C**: On my dev system, I might use `rsvg-convert` or Inkscape to &quot;precompile&quot; different resolution PNGs from a source SVG (e.g. 16x16, 20x20, 24x24, ...). Then I include the PNGs (not the source SVG) in my application and build a `BaseMultiResolutionImage` just from the precompiled PNGs. This approach offers the huge advantage of not needing Batik. But it&#39;s more manual work and not as flexible. \r\n\r\n**Question:** Is there maybe a best practice approach or a pure Java solution (maybe in Java 17..20...?) for this as supporting HiDPI seems to be a very common thing? Or what is your solution for this problem? \r\n\r\n\r\n[1]: https://stackoverflow.com/a/56546454/2052584\r\n[2]: https://stackoverflow.com/a/76175224/2052584","title":"Java Swing HiDPI solution for icons - SVG and runtime scaling with Batik? Precompiled PNGs?","body":"<p>I want to make the graphics (icons, logo etc.) of an existing <strong>Java Swing</strong> application look better on <strong>HiDPI</strong> displays with a scale factor larger than 1.0, e.g. my notebook with 14&quot; display and Windows 10 (scale factor 1.5). At the moment, the application uses PNG images, with one resolution per image, e.g. 16x16 pixels for icons. On JButtons etc. these icons look horrible when they are scaled up by Java.</p>\n<p>My current idea (<strong>A</strong>) to solve that problem (see [<a href=\"https://stackoverflow.com/a/56546454/2052584\">1</a>] and [<a href=\"https://stackoverflow.com/a/76175224/2052584\">2</a>] for credits):</p>\n<ol>\n<li>Replace PNGs with <strong>SVGs</strong>.</li>\n<li>Include <strong>Apache Batik</strong> in the Swing desktop application (~ 4 megabytes of new JAR dependencies just for that, ughh).</li>\n<li>Use Batik to rasterize the SVGs <strong>at runtime</strong> to multiple <code>BufferedImage</code>s, one for each scale factor (1.0, 1.25, 1.5, ...) to be supported.</li>\n<li>Put the <code>BufferedImage</code>s (e.g. 16x16, 20x20, 24x24, ...) into a standard <code>BaseMultiResolutionImage</code>.</li>\n</ol>\n<p>A slightly different idea (<strong>B</strong>) might be:</p>\n<ol start=\"3\">\n<li>and 4.: Instead: Extend <code>AbstractMultiResolutionImage</code> and overwrite <code>getResolutionVariant</code> to rasterize just the requested <code>destImageWidth</code>/<code>destImageHeight</code> pixel size using Batik (and cache the result with width/height as cache key). This way, any requested <code>destImageWidth</code>/<code>destImageHeight</code> could be provided exactly. This might be useful, as there seem to be some rounding effects causing dest width or height to differ by 1 or 2 pixels from what I'd expect.</li>\n</ol>\n<p>Both approaches above require Batik (and its transitive dependencies) as a runtime dependency / to be included in my client distribution. And I'm like: <em>Do I really want that just because of some simple icons?!</em> (= just eye candy)</p>\n<p>Therefore, idea <strong>C</strong>: On my dev system, I might use <code>rsvg-convert</code> or Inkscape to &quot;precompile&quot; different resolution PNGs from a source SVG (e.g. 16x16, 20x20, 24x24, ...). Then I include the PNGs (not the source SVG) in my application and build a <code>BaseMultiResolutionImage</code> just from the precompiled PNGs. This approach offers the huge advantage of not needing Batik. But it's more manual work and not as flexible.</p>\n<p><strong>Question:</strong> Is there maybe a best practice approach or a pure Java solution (maybe in Java 17..20...?) for this as supporting HiDPI seems to be a very common thing? Or what is your solution for this problem?</p>\n"},{"tags":["java","for-loop","boolean-logic","boolean-expression"],"answers":[{"comments":[{"owner":{"account_id":27392371,"reputation":1,"user_id":20895168,"display_name":"AzureBoredom"},"score":0,"creation_date":1689618015,"post_id":76701534,"comment_id":135236088,"body_markdown":"I just don&#39;t understand why the second works while the first doesn&#39;t. Doesn&#39;t the second code just define the same operations using more lines?","body":"I just don&#39;t understand why the second works while the first doesn&#39;t. Doesn&#39;t the second code just define the same operations using more lines?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689618498,"post_id":76701534,"comment_id":135236206,"body_markdown":"@AzureBoredom No, it explicitly returns `false` when the first x is not followed by another x. For the first function, the condition `str.charAt(i)==&#39;x&#39; &amp;&amp; str.charAt(i+1)==&#39;x&#39;` just evaluates to false and the loop keeps going. There is no `return false` until the end of the function, after the loop is done.","body":"@AzureBoredom No, it explicitly returns <code>false</code> when the first x is not followed by another x. For the first function, the condition <code>str.charAt(i)==&#39;x&#39; &amp;&amp; str.charAt(i+1)==&#39;x&#39;</code> just evaluates to false and the loop keeps going. There is no <code>return false</code> until the end of the function, after the loop is done."},{"owner":{"account_id":27392371,"reputation":1,"user_id":20895168,"display_name":"AzureBoredom"},"score":0,"creation_date":1689618594,"post_id":76701534,"comment_id":135236222,"body_markdown":"Oh I see. Thank you very much","body":"Oh I see. Thank you very much"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689568943,"creation_date":1689568943,"answer_id":76701534,"question_id":76701526,"body_markdown":"The first function returns `true` for a String like `&quot;xaxx&quot;`, where the **second** x is followed by another x, but the first x is not.\r\n\r\nIt keeps checking subsequent characters if the first x is not followed by an x, instead of stopping when the first x is reached.","title":"Boolean Logic and For Loops","body":"<p>The first function returns <code>true</code> for a String like <code>&quot;xaxx&quot;</code>, where the <strong>second</strong> x is followed by another x, but the first x is not.</p>\n<p>It keeps checking subsequent characters if the first x is not followed by an x, instead of stopping when the first x is reached.</p>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689569324,"creation_date":1689569324,"answer_id":76701557,"question_id":76701526,"body_markdown":"You can re-write first code as below:\r\n\r\n    boolean doubleX(String str) {\r\n      for(int i =0; i&lt;str.length()-1; i++){\r\n          if(str.charAt(i)==&#39;x&#39;) {\r\n              if(str.charAt(i+1)==&#39;x&#39;) { \r\n                return true;\r\n              }\r\n          }\r\n      }\r\n      return false;\r\n    }\r\n\r\nNow probably you understand the difference. This first code returns &#39;true&#39; for first occurrence of &#39;x&#39; only if second occurrence of &#39;x&#39; is received immediately at i+1. There is no &#39;false&#39; return there.\r\n\r\nWhile the second code always returns after first occurrence of x&#39; as either `true` or `false`, no matter if another &#39;x&#39; is received at i+1 or not.","title":"Boolean Logic and For Loops","body":"<p>You can re-write first code as below:</p>\n<pre><code>boolean doubleX(String str) {\n  for(int i =0; i&lt;str.length()-1; i++){\n      if(str.charAt(i)=='x') {\n          if(str.charAt(i+1)=='x') { \n            return true;\n          }\n      }\n  }\n  return false;\n}\n</code></pre>\n<p>Now probably you understand the difference. This first code returns 'true' for first occurrence of 'x' only if second occurrence of 'x' is received immediately at i+1. There is no 'false' return there.</p>\n<p>While the second code always returns after first occurrence of x' as either <code>true</code> or <code>false</code>, no matter if another 'x' is received at i+1 or not.</p>\n"}],"owner":{"account_id":27392371,"reputation":1,"user_id":20895168,"display_name":"AzureBoredom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1689571196,"creation_date":1689568841,"question_id":76701526,"body_markdown":"I was wondering if those familiar with codingbat&#39;s problems might be able to help me with understanding the differences between these two solutions and why one doesn&#39;t work.\r\nThe problem:\r\nGiven a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;.\r\n\r\nWhy does the first code exit immediately after evaluating the first condition, while the other continues through the for loop? What is the difference between them?\r\n\r\nI thought the following code would do the trick: \r\n```\r\nboolean doubleX(String str) {\r\n  for(int i =0; i&lt;str.length()-1; i++){\r\n\tif(str.charAt(i)==&#39;x&#39; &amp;&amp; str.charAt(i+1)==&#39;x&#39;)\r\n\treturn true;\r\n  }\r\n  return false;\r\n}\r\n```\r\nHowever this code only evaluates true when the first x is followed by an x. However the following code does solve the problem: \r\n```\r\n boolean doubleX(String str) {\r\n\tfor (int i = 0; i &lt; str.length() - 1; i++) {\r\n\t\tif (str.charAt(i) == &#39;x&#39;) {\r\n\t\t\tif (str.charAt(i + 1) == &#39;x&#39;) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n\t}\r\n```","title":"Boolean Logic and For Loops","body":"<p>I was wondering if those familiar with codingbat's problems might be able to help me with understanding the differences between these two solutions and why one doesn't work.\nThe problem:\nGiven a string, return true if the first instance of &quot;x&quot; in the string is immediately followed by another &quot;x&quot;.</p>\n<p>Why does the first code exit immediately after evaluating the first condition, while the other continues through the for loop? What is the difference between them?</p>\n<p>I thought the following code would do the trick:</p>\n<pre><code>boolean doubleX(String str) {\n  for(int i =0; i&lt;str.length()-1; i++){\n    if(str.charAt(i)=='x' &amp;&amp; str.charAt(i+1)=='x')\n    return true;\n  }\n  return false;\n}\n</code></pre>\n<p>However this code only evaluates true when the first x is followed by an x. However the following code does solve the problem:</p>\n<pre><code> boolean doubleX(String str) {\n    for (int i = 0; i &lt; str.length() - 1; i++) {\n        if (str.charAt(i) == 'x') {\n            if (str.charAt(i + 1) == 'x') {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n    return false;\n    }\n</code></pre>\n"},{"tags":["java","cdi","quarkus","interceptor"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1689514505,"post_id":76698098,"comment_id":135221314,"body_markdown":"This is not possible. In CDI, annotations on methods are never inherited, just like in the Java language itself. This includes annotations on methods of superclasses and superinterfaces, and applies to all cases where annotations on methods are considered by CDI, including interceptors.","body":"This is not possible. In CDI, annotations on methods are never inherited, just like in the Java language itself. This includes annotations on methods of superclasses and superinterfaces, and applies to all cases where annotations on methods are considered by CDI, including interceptors."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689517966,"post_id":76698098,"comment_id":135221742,"body_markdown":"@Ladicek that sounds like a proper answer instead of a comment :)","body":"@Ladicek that sounds like a proper answer instead of a comment :)"},{"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"score":0,"creation_date":1689571258,"post_id":76698098,"comment_id":135226620,"body_markdown":"@Ladicek thanks for your reply, but this approach correctly worked for abstract class. I update my question.","body":"@Ladicek thanks for your reply, but this approach correctly worked for abstract class. I update my question."},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1689587033,"post_id":76698098,"comment_id":135229330,"body_markdown":"My bad, I thought you&#39;re annotating the _method_. Still, the essence of my answer holds. The CDI rules for annotation inheritance [mostly] follow the Java language rules for annotation inheritance. That is: annotations are inherited 1. only on a class declaration (nowhere else), 2. only from superclasses (not from superinterfaces). So your approach with an `abstract` class works, because the annotation is present on a superclass. (We actually intentionally have a bug in Quarkus / ArC where we consider an annotation inherited even if it isn&#39;t `@Inherited`, but we&#39;ll fix that one day.)","body":"My bad, I thought you&#39;re annotating the <i>method</i>. Still, the essence of my answer holds. The CDI rules for annotation inheritance [mostly] follow the Java language rules for annotation inheritance. That is: annotations are inherited 1. only on a class declaration (nowhere else), 2. only from superclasses (not from superinterfaces). So your approach with an <code>abstract</code> class works, because the annotation is present on a superclass. (We actually intentionally have a bug in Quarkus / ArC where we consider an annotation inherited even if it isn&#39;t <code>@Inherited</code>, but we&#39;ll fix that one day.)"},{"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"score":0,"creation_date":1699458862,"post_id":76698098,"comment_id":136534766,"body_markdown":"@Ladicek does this somewhow related to the issued reported in https://github.com/quarkusio/quarkus/issues/23956 ?!","body":"@Ladicek does this somewhow related to the issued reported in <a href=\"https://github.com/quarkusio/quarkus/issues/23956\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/23956</a> ?!"},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1699477618,"post_id":76698098,"comment_id":136538278,"body_markdown":"That seems unlikely, JAX-RS implementations do their own discovery and have different annotation inheritance rules than CDI.","body":"That seems unlikely, JAX-RS implementations do their own discovery and have different annotation inheritance rules than CDI."}],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689571165,"creation_date":1689508149,"question_id":76698098,"body_markdown":"In my working on an application using Quarkus and I want to intercept a method of an interface. I tried the following but its not working:\r\n\r\n1. First of all I define an annotation:\r\n\r\n```\r\n@Target({ TYPE, METHOD })\r\n@Retention(RUNTIME)\r\n@Documented\r\n@InterceptorBinding\r\npublic @interface EnableLogging {\r\n}\r\n```\r\n\r\n2. Define the interceptor and annotating it with `EnableLogging`:\r\n \r\n```\r\n@Priority(10)\r\n@Interceptor\r\n@EnableLogging\r\npublic class LogInterceptor {\r\n\r\n    @AroundInvoke\r\n    public Object aroundInvoke(InvocationContext context) throws Exception {\r\n        //do logging\r\n        return context.proceed();\r\n    }\r\n}\r\n```\r\n\r\n3. Create an interface and its implementation which I want to intercept. **My main goal is that I want to annotate the interface not its implementation**. Something like bellow:\r\n\r\n```\r\n@EnableLogging\r\npublic interface DummyService {\r\n\r\n    void successfulCall();\r\n}\r\n```\r\n\r\n    @ApplicationScoped\r\n    public class DummyServiceImpl implement DummyClient  {\r\n    \r\n        void successfulCall(){\r\n             // do something\r\n        }\r\n    }\r\n\r\nhowever, with above implementation, I did not catch `aroundInvoke` method.\r\n\r\n**UPDATE:**\r\n\r\nBased on @Ladicek answer, I take this approach for abstract class and it totally worked!\r\n\r\n    @EnableLogging\r\n    public abstract class DummyService {\r\n    \r\n        public abstract void successfulCall();\r\n    }\r\n\r\nCould someone help me, please?\r\n\r\n","title":"Is it possible to define an interceptor on an interface in Quarkus?","body":"<p>In my working on an application using Quarkus and I want to intercept a method of an interface. I tried the following but its not working:</p>\n<ol>\n<li>First of all I define an annotation:</li>\n</ol>\n<pre><code>@Target({ TYPE, METHOD })\n@Retention(RUNTIME)\n@Documented\n@InterceptorBinding\npublic @interface EnableLogging {\n}\n</code></pre>\n<ol start=\"2\">\n<li>Define the interceptor and annotating it with <code>EnableLogging</code>:</li>\n</ol>\n<pre><code>@Priority(10)\n@Interceptor\n@EnableLogging\npublic class LogInterceptor {\n\n    @AroundInvoke\n    public Object aroundInvoke(InvocationContext context) throws Exception {\n        //do logging\n        return context.proceed();\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Create an interface and its implementation which I want to intercept. <strong>My main goal is that I want to annotate the interface not its implementation</strong>. Something like bellow:</li>\n</ol>\n<pre><code>@EnableLogging\npublic interface DummyService {\n\n    void successfulCall();\n}\n</code></pre>\n<pre><code>@ApplicationScoped\npublic class DummyServiceImpl implement DummyClient  {\n\n    void successfulCall(){\n         // do something\n    }\n}\n</code></pre>\n<p>however, with above implementation, I did not catch <code>aroundInvoke</code> method.</p>\n<p><strong>UPDATE:</strong></p>\n<p>Based on @Ladicek answer, I take this approach for abstract class and it totally worked!</p>\n<pre><code>@EnableLogging\npublic abstract class DummyService {\n\n    public abstract void successfulCall();\n}\n</code></pre>\n<p>Could someone help me, please?</p>\n"},{"tags":["java","xml","xml-serialization","jaxb","xmlunit"],"answers":[{"tags":[],"owner":{"account_id":44204,"reputation":9823,"user_id":129599,"accept_rate":100,"display_name":"Ophidian"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1299686989,"creation_date":1299686989,"answer_id":5248574,"question_id":5248517,"body_markdown":"You can relax some of the constraints used by XMLUnit when comparing to trees by setting properties on the `org.custommonkey.xmlunit.XMLUnit` class.\r\n\r\nIn your case, you probably want:\r\n\r\n    XMLUnit.setIgnoreComments(true);\r\n    XMLUnit.setIgnoreWhitespace(true);\r\n    XMLUnit.setIgnoreDiffBetweenTextAndCDATA(true);\r\n\r\nYou may also find the `setIgnoredAttributeOrder` property helpful as well. ","title":"XMLUnit - Xml file indentation impacts on comparison","body":"<p>You can relax some of the constraints used by XMLUnit when comparing to trees by setting properties on the <code>org.custommonkey.xmlunit.XMLUnit</code> class.</p>\n\n<p>In your case, you probably want:</p>\n\n<pre><code>XMLUnit.setIgnoreComments(true);\nXMLUnit.setIgnoreWhitespace(true);\nXMLUnit.setIgnoreDiffBetweenTextAndCDATA(true);\n</code></pre>\n\n<p>You may also find the <code>setIgnoredAttributeOrder</code> property helpful as well. </p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689769215,"post_id":76701577,"comment_id":135259638,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76701577/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12610494,"reputation":1,"user_id":9169826,"display_name":"Mahavir Chordiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689569607,"creation_date":1689569607,"answer_id":76701577,"question_id":5248517,"body_markdown":"Below is code to compare xml files\r\n\r\n\r\n    import org.w3c.dom.*;\r\n    import javax.xml.parsers.*;\r\n    import java.io.*;\r\n    public class XMLComparator {\r\n    public static void main(String[] args) {\r\n        String xmlFile1 = &quot;file1.xml&quot;;\r\n        String xmlFile2 = &quot;file2.xml&quot;;\r\n        \r\n        try {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\n            // Parse XML files into Document objects\r\n            Document doc1 = builder.parse(new File(xmlFile1));\r\n            Document doc2 = builder.parse(new File(xmlFile2));\r\n\r\n            // Compare the documents\r\n            boolean isEqual = compareXML(doc1.getDocumentElement(), doc2.getDocumentElement());\r\n            \r\n            if (isEqual) {\r\n                System.out.println(&quot;The XML files are equivalent.&quot;);\r\n            } else {\r\n                System.out.println(&quot;The XML files are not equivalent.&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static boolean compareXML(Node node1, Node node2) {\r\n        if (node1.getNodeType() != node2.getNodeType()) {\r\n            return false;\r\n        }\r\n\r\n        if (node1.getNodeType() == Node.ELEMENT_NODE) {\r\n            if (!node1.getNodeName().equals(node2.getNodeName())) {\r\n                return false;\r\n            }\r\n\r\n            NamedNodeMap attrs1 = node1.getAttributes();\r\n            NamedNodeMap attrs2 = node2.getAttributes();\r\n            if (attrs1.getLength() != attrs2.getLength()) {\r\n                return false;\r\n            }\r\n\r\n            for (int i = 0; i &lt; attrs1.getLength(); i++) {\r\n                Node attr1 = attrs1.item(i);\r\n                Node attr2 = attrs2.getNamedItem(attr1.getNodeName());\r\n                if (attr2 == null || !attr2.getNodeValue().equals(attr1.getNodeValue())) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        NodeList children1 = node1.getChildNodes();\r\n        NodeList children2 = node2.getChildNodes();\r\n        if (children1.getLength() != children2.getLength()) {\r\n            return false;\r\n        }\r\n\r\n        for (int i = 0; i &lt; children1.getLength(); i++) {\r\n            Node child1 = children1.item(i);\r\n            boolean matched = false;\r\n            for (int j = 0; j &lt; children2.getLength(); j++) {\r\n                Node child2 = children2.item(j);\r\n                if (compareXML(child1, child2)) {\r\n                    matched = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!matched) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n    }\r\n","title":"XMLUnit - Xml file indentation impacts on comparison","body":"<p>Below is code to compare xml files</p>\n<pre><code>import org.w3c.dom.*;\nimport javax.xml.parsers.*;\nimport java.io.*;\npublic class XMLComparator {\npublic static void main(String[] args) {\n    String xmlFile1 = &quot;file1.xml&quot;;\n    String xmlFile2 = &quot;file2.xml&quot;;\n    \n    try {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder = factory.newDocumentBuilder();\n\n        // Parse XML files into Document objects\n        Document doc1 = builder.parse(new File(xmlFile1));\n        Document doc2 = builder.parse(new File(xmlFile2));\n\n        // Compare the documents\n        boolean isEqual = compareXML(doc1.getDocumentElement(), doc2.getDocumentElement());\n        \n        if (isEqual) {\n            System.out.println(&quot;The XML files are equivalent.&quot;);\n        } else {\n            System.out.println(&quot;The XML files are not equivalent.&quot;);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static boolean compareXML(Node node1, Node node2) {\n    if (node1.getNodeType() != node2.getNodeType()) {\n        return false;\n    }\n\n    if (node1.getNodeType() == Node.ELEMENT_NODE) {\n        if (!node1.getNodeName().equals(node2.getNodeName())) {\n            return false;\n        }\n\n        NamedNodeMap attrs1 = node1.getAttributes();\n        NamedNodeMap attrs2 = node2.getAttributes();\n        if (attrs1.getLength() != attrs2.getLength()) {\n            return false;\n        }\n\n        for (int i = 0; i &lt; attrs1.getLength(); i++) {\n            Node attr1 = attrs1.item(i);\n            Node attr2 = attrs2.getNamedItem(attr1.getNodeName());\n            if (attr2 == null || !attr2.getNodeValue().equals(attr1.getNodeValue())) {\n                return false;\n            }\n        }\n    }\n\n    NodeList children1 = node1.getChildNodes();\n    NodeList children2 = node2.getChildNodes();\n    if (children1.getLength() != children2.getLength()) {\n        return false;\n    }\n\n    for (int i = 0; i &lt; children1.getLength(); i++) {\n        Node child1 = children1.item(i);\n        boolean matched = false;\n        for (int j = 0; j &lt; children2.getLength(); j++) {\n            Node child2 = children2.item(j);\n            if (compareXML(child1, child2)) {\n                matched = true;\n                break;\n            }\n        }\n        if (!matched) {\n            return false;\n        }\n    }\n\n    return true;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":49768,"reputation":1823,"user_id":148332,"accept_rate":83,"display_name":"reef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4365,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":5248574,"answer_count":2,"score":15,"last_activity_date":1689569607,"creation_date":1299686707,"question_id":5248517,"body_markdown":"I am currently trying to use the [XMLUnit][1] library to compare two XML files.\r\nOne of them, the **candidate**, is generated by my code from Java Objects (using JAXB) and the other one is the **reference** (I cannot modify it).\r\nBasically I am trying to prove that given a reference XML file I can unserialize it (using Jaxb and some classes of my own) then serialize it back to another file and still have the same content.\r\n\r\nThe library seems to furnish the services I need but when the generated file is not properly indented (in kind of a &quot;pretty-print&quot; version) the comparison fails and it doesn&#39;t when indentation is OK.\r\nFor example when the **candidate** is generated there is no indentation, the content is a one-liner, if a indent it properly (manually) the comparison is OK.\r\n\r\nHere is the error message generated by XMLUnit:\r\n\r\n&gt; [different] Expected number of child\r\n&gt; nodes &#39;3&#39; but was &#39;1&#39;\r\n\r\nDo you guys have any idea to solve this?\r\nMaybe the solution is to generate a pretty-print version of the **candidate**, in this case do you have an idea to combine it with the JAXB serialiser?\r\n\r\n\r\nBy the way if you now a better solution in Java to compare XML files I&#39;ll be glad to know it ;)\r\n\r\nThanks in advance for your help.\r\n\r\n\r\n\r\n  [1]: http://xmlunit.sourceforge.net/","title":"XMLUnit - Xml file indentation impacts on comparison","body":"<p>I am currently trying to use the <a href=\"http://xmlunit.sourceforge.net/\" rel=\"noreferrer\">XMLUnit</a> library to compare two XML files.\nOne of them, the <strong>candidate</strong>, is generated by my code from Java Objects (using JAXB) and the other one is the <strong>reference</strong> (I cannot modify it).\nBasically I am trying to prove that given a reference XML file I can unserialize it (using Jaxb and some classes of my own) then serialize it back to another file and still have the same content.</p>\n\n<p>The library seems to furnish the services I need but when the generated file is not properly indented (in kind of a \"pretty-print\" version) the comparison fails and it doesn't when indentation is OK.\nFor example when the <strong>candidate</strong> is generated there is no indentation, the content is a one-liner, if a indent it properly (manually) the comparison is OK.</p>\n\n<p>Here is the error message generated by XMLUnit:</p>\n\n<blockquote>\n  <p>[different] Expected number of child\n  nodes '3' but was '1'</p>\n</blockquote>\n\n<p>Do you guys have any idea to solve this?\nMaybe the solution is to generate a pretty-print version of the <strong>candidate</strong>, in this case do you have an idea to combine it with the JAXB serialiser?</p>\n\n<p>By the way if you now a better solution in Java to compare XML files I'll be glad to know it ;)</p>\n\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","spring","spring-boot","circular-dependency"],"answers":[{"comments":[{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1689594224,"post_id":76701542,"comment_id":135230803,"body_markdown":"I&#39;ve tried your third solution, as the other ones as well, but in JSON response I need exactly to return those DTOs. In fact, I could store ```ID```s of Projects inside VolunteerDTO, but response in json will not satisfy my requirements. It will return ```ID``` of either owned projects or projects in which Volunteer participates. And having ```ID```s in response is not an ellegant way to transfer data..","body":"I&#39;ve tried your third solution, as the other ones as well, but in JSON response I need exactly to return those DTOs. In fact, I could store <code>ID</code>s of Projects inside VolunteerDTO, but response in json will not satisfy my requirements. It will return <code>ID</code> of either owned projects or projects in which Volunteer participates. And having <code>ID</code>s in response is not an ellegant way to transfer data.."}],"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689569040,"creation_date":1689569040,"answer_id":76701542,"question_id":76700839,"body_markdown":"**Problem**\r\n```\r\npublic static ProjectDTO mapProjectToDTO(Project projectToMap) {\r\n    List&lt;VolunteerDTO&gt; listOfDTOs = projectToMap.getProjectVolunteers()\r\n                    .stream()\r\n                    ====&gt;&gt; .map(VolunteerMapper::mapVolunteerToDTO) &lt;&lt;===\r\n                    .collect(Collectors.toList());\r\n}\r\n```\r\n```\r\n public static VolunteerDTO mapVolunteerToDTO(Volunteer volunteerToMap) {\r\n     List&lt;ProjectDTO&gt; listOfDTOs = volunteerToMap.getParticipatingProjects()\r\n            .stream()\r\n           ====&gt;&gt; .map(ProjectMapper::mapProjectToDTO) &lt;&lt;====\r\n            .collect(Collectors.toList());\r\n}\r\n```\r\nmapProjectToDto calls mapVolunteerToDTO which calls mapProjectToDto again.\r\n\r\nyou can break that circle in different ways depending on your business case\r\n\r\n1- make VolunteerDto without a list of ProjectDto and whenever you need such list you can fetch it using VolunteerDto Id\r\n\r\n2- make ProjectDto without list of VolunteerDto (same like 1)\r\n\r\n3- make VolunteerDto contains list of Project **Ids** intead of list of ProjectDTOs\r\n\r\n4- make ProjectDTO contain list of VolunteerIds instead of VolunteerDtos\r\n\r\nI would prefer 3rd, but it&#39;s all depending on your business case","title":"Mappers&#39; circular dependency","body":"<p><strong>Problem</strong></p>\n<pre><code>public static ProjectDTO mapProjectToDTO(Project projectToMap) {\n    List&lt;VolunteerDTO&gt; listOfDTOs = projectToMap.getProjectVolunteers()\n                    .stream()\n                    ====&gt;&gt; .map(VolunteerMapper::mapVolunteerToDTO) &lt;&lt;===\n                    .collect(Collectors.toList());\n}\n</code></pre>\n<pre><code> public static VolunteerDTO mapVolunteerToDTO(Volunteer volunteerToMap) {\n     List&lt;ProjectDTO&gt; listOfDTOs = volunteerToMap.getParticipatingProjects()\n            .stream()\n           ====&gt;&gt; .map(ProjectMapper::mapProjectToDTO) &lt;&lt;====\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>mapProjectToDto calls mapVolunteerToDTO which calls mapProjectToDto again.</p>\n<p>you can break that circle in different ways depending on your business case</p>\n<p>1- make VolunteerDto without a list of ProjectDto and whenever you need such list you can fetch it using VolunteerDto Id</p>\n<p>2- make ProjectDto without list of VolunteerDto (same like 1)</p>\n<p>3- make VolunteerDto contains list of Project <strong>Ids</strong> intead of list of ProjectDTOs</p>\n<p>4- make ProjectDTO contain list of VolunteerIds instead of VolunteerDtos</p>\n<p>I would prefer 3rd, but it's all depending on your business case</p>\n"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76701542,"answer_count":1,"score":0,"last_activity_date":1689569040,"creation_date":1689551752,"question_id":76700839,"body_markdown":"I have two classes with two  types of relations - one is ```@ManyToMany``` and the other one is ```@OneToMany``` (one relates to ```Project``` - ```Members of project``` relationship and the other is related with ```Project``` - ```Owner of project``` where owner is the same type as members). I had problem with infinite recursion in controller but soon, I managed to resolve this issue with usage of ```@JsonIdentityInfo```. But then I realized that one of classes shows too much information about client&#39;s data - passwords, usernames, etc., so i created DTO objects and implemented logic for mapping original objects to DTOs. Logic was simple - return DTOs so I control exposed data.\r\n\r\nBut there is a problem - if I create mapper for first class to map its&#39; objects into DTOs, then second class must be mapped to DTOs too. But - regarding to provided example - second class must also expose information about its&#39; owner, so we need to simultaneously map first class and second. It creates circular dependency problem.\r\n\r\nMapper classes:\r\n\r\n```\r\npublic class ProjectMapper {\r\n\r\n    public static ProjectDTO mapProjectToDTO(Project projectToMap) {\r\n\r\n        ProjectDTO newDTO = new ProjectDTO();\r\n\r\n        List&lt;VolunteerDTO&gt; listOfDTOs = projectToMap.getProjectVolunteers()\r\n                        .stream()\r\n                                .map(VolunteerMapper::mapVolunteerToDTO)\r\n                                        .collect(Collectors.toList());\r\n\r\n        newDTO.setProjectName(projectToMap.getProjectName());\r\n        newDTO.setProjectDescription(projectToMap.getProjectDesription());\r\n        newDTO.setProjectLocation(projectToMap.getProjectLocation());\r\n        newDTO.setProjectStatus(projectToMap.isProjectStatus());\r\n        newDTO.setProjectDate(projectToMap.getProjectDate());\r\n        newDTO.setProjectOpinions(projectToMap.getProjectOpinions());\r\n        newDTO.setProjectOwner(VolunteerMapper.mapVolunteerToDTO(projectToMap.getOwnerVolunteer()));\r\n        newDTO.setProjectVolunteers(listOfDTOs);\r\n        newDTO.setTasks(projectToMap.getTasks());\r\n        newDTO.setRequiredSkills(projectToMap.getRequiredSkills());\r\n\r\n        return newDTO;\r\n    }\r\n\r\n    public static void mapPropertiesToProject(Project sourceProject, Project targetProject) {\r\n\r\n        targetProject.setProjectName(sourceProject.getProjectName());\r\n        targetProject.setProjectDate(sourceProject.getProjectDate());\r\n        targetProject.setProjectVolunteers(sourceProject.getProjectVolunteers());\r\n        targetProject.setProjectDesription(sourceProject.getProjectDesription());\r\n        targetProject.setProjectLocation(sourceProject.getProjectLocation());\r\n        targetProject.setProjectOpinions(sourceProject.getProjectOpinions());\r\n        targetProject.setProjectStatus(sourceProject.isProjectStatus());\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class VolunteerMapper {\r\n\r\n    public static VolunteerDTO mapVolunteerToDTO(Volunteer volunteerToMap) {\r\n\r\n        VolunteerDTO newDTO = new VolunteerDTO();\r\n\r\n        List&lt;ProjectDTO&gt; listOfDTOs = volunteerToMap.getParticipatingProjects()\r\n                .stream()\r\n                .map(ProjectMapper::mapProjectToDTO)\r\n                .collect(Collectors.toList());\r\n\r\n        newDTO.setName(volunteerToMap.getName());\r\n        newDTO.setSurname(volunteerToMap.getSurname());\r\n        newDTO.setDateOfBirth(volunteerToMap.getDateOfBirth());\r\n        newDTO.setContact(volunteerToMap.getContact());\r\n        newDTO.setSkills(volunteerToMap.getSkills());\r\n        newDTO.setProjects(listOfDTOs);\r\n        newDTO.setReputation(volunteerToMap.getReputation());\r\n        newDTO.setInterests(volunteerToMap.getInterests());\r\n\r\n        return newDTO;\r\n    }\r\n\r\n    public static void mapPropertiesToVolunteer(Volunteer sourceVolunteer, Volunteer targetVolunteer) {\r\n\r\n        targetVolunteer.setName(sourceVolunteer.getName());\r\n        targetVolunteer.setSurname(sourceVolunteer.getSurname());\r\n        targetVolunteer.setDateOfBirth(sourceVolunteer.getDateOfBirth());\r\n        targetVolunteer.setContact(sourceVolunteer.getContact());\r\n        targetVolunteer.setSkills(sourceVolunteer.getSkills());\r\n        targetVolunteer.setParticipatingProjects(sourceVolunteer.getParticipatingProjects());\r\n        targetVolunteer.setReputation(sourceVolunteer.getReputation());\r\n        targetVolunteer.setInterests(sourceVolunteer.getInterests());\r\n\r\n    }\r\n}\r\n```\r\n\r\nModel classes:\r\n```\r\n@Data\r\npublic class ProjectDTO {\r\n\r\n    private String projectName;\r\n    private String projectDescription;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate projectDate;\r\n\r\n    private List&lt;VolunteerDTO&gt; projectVolunteers;\r\n    private VolunteerDTO projectOwner;\r\n    private String projectLocation;\r\n    private List&lt;String&gt; requiredSkills;\r\n    private boolean projectStatus;\r\n    private List&lt;Opinion&gt; projectOpinions;\r\n    private List&lt;String&gt; tasks;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\npublic class VolunteerDTO {\r\n\r\n    private String name;\r\n    private String surname;\r\n    private LocalDate dateOfBirth;\r\n    private String contact;\r\n    private List&lt;String&gt; skills;\r\n    private List&lt;ProjectDTO&gt; projects;\r\n    private Integer reputation;\r\n    private List&lt;String&gt; interests;\r\n\r\n}\r\n```","title":"Mappers&#39; circular dependency","body":"<p>I have two classes with two  types of relations - one is <code>@ManyToMany</code> and the other one is <code>@OneToMany</code> (one relates to <code>Project</code> - <code>Members of project</code> relationship and the other is related with <code>Project</code> - <code>Owner of project</code> where owner is the same type as members). I had problem with infinite recursion in controller but soon, I managed to resolve this issue with usage of <code>@JsonIdentityInfo</code>. But then I realized that one of classes shows too much information about client's data - passwords, usernames, etc., so i created DTO objects and implemented logic for mapping original objects to DTOs. Logic was simple - return DTOs so I control exposed data.</p>\n<p>But there is a problem - if I create mapper for first class to map its' objects into DTOs, then second class must be mapped to DTOs too. But - regarding to provided example - second class must also expose information about its' owner, so we need to simultaneously map first class and second. It creates circular dependency problem.</p>\n<p>Mapper classes:</p>\n<pre><code>public class ProjectMapper {\n\n    public static ProjectDTO mapProjectToDTO(Project projectToMap) {\n\n        ProjectDTO newDTO = new ProjectDTO();\n\n        List&lt;VolunteerDTO&gt; listOfDTOs = projectToMap.getProjectVolunteers()\n                        .stream()\n                                .map(VolunteerMapper::mapVolunteerToDTO)\n                                        .collect(Collectors.toList());\n\n        newDTO.setProjectName(projectToMap.getProjectName());\n        newDTO.setProjectDescription(projectToMap.getProjectDesription());\n        newDTO.setProjectLocation(projectToMap.getProjectLocation());\n        newDTO.setProjectStatus(projectToMap.isProjectStatus());\n        newDTO.setProjectDate(projectToMap.getProjectDate());\n        newDTO.setProjectOpinions(projectToMap.getProjectOpinions());\n        newDTO.setProjectOwner(VolunteerMapper.mapVolunteerToDTO(projectToMap.getOwnerVolunteer()));\n        newDTO.setProjectVolunteers(listOfDTOs);\n        newDTO.setTasks(projectToMap.getTasks());\n        newDTO.setRequiredSkills(projectToMap.getRequiredSkills());\n\n        return newDTO;\n    }\n\n    public static void mapPropertiesToProject(Project sourceProject, Project targetProject) {\n\n        targetProject.setProjectName(sourceProject.getProjectName());\n        targetProject.setProjectDate(sourceProject.getProjectDate());\n        targetProject.setProjectVolunteers(sourceProject.getProjectVolunteers());\n        targetProject.setProjectDesription(sourceProject.getProjectDesription());\n        targetProject.setProjectLocation(sourceProject.getProjectLocation());\n        targetProject.setProjectOpinions(sourceProject.getProjectOpinions());\n        targetProject.setProjectStatus(sourceProject.isProjectStatus());\n\n    }\n}\n</code></pre>\n<pre><code>public class VolunteerMapper {\n\n    public static VolunteerDTO mapVolunteerToDTO(Volunteer volunteerToMap) {\n\n        VolunteerDTO newDTO = new VolunteerDTO();\n\n        List&lt;ProjectDTO&gt; listOfDTOs = volunteerToMap.getParticipatingProjects()\n                .stream()\n                .map(ProjectMapper::mapProjectToDTO)\n                .collect(Collectors.toList());\n\n        newDTO.setName(volunteerToMap.getName());\n        newDTO.setSurname(volunteerToMap.getSurname());\n        newDTO.setDateOfBirth(volunteerToMap.getDateOfBirth());\n        newDTO.setContact(volunteerToMap.getContact());\n        newDTO.setSkills(volunteerToMap.getSkills());\n        newDTO.setProjects(listOfDTOs);\n        newDTO.setReputation(volunteerToMap.getReputation());\n        newDTO.setInterests(volunteerToMap.getInterests());\n\n        return newDTO;\n    }\n\n    public static void mapPropertiesToVolunteer(Volunteer sourceVolunteer, Volunteer targetVolunteer) {\n\n        targetVolunteer.setName(sourceVolunteer.getName());\n        targetVolunteer.setSurname(sourceVolunteer.getSurname());\n        targetVolunteer.setDateOfBirth(sourceVolunteer.getDateOfBirth());\n        targetVolunteer.setContact(sourceVolunteer.getContact());\n        targetVolunteer.setSkills(sourceVolunteer.getSkills());\n        targetVolunteer.setParticipatingProjects(sourceVolunteer.getParticipatingProjects());\n        targetVolunteer.setReputation(sourceVolunteer.getReputation());\n        targetVolunteer.setInterests(sourceVolunteer.getInterests());\n\n    }\n}\n</code></pre>\n<p>Model classes:</p>\n<pre><code>@Data\npublic class ProjectDTO {\n\n    private String projectName;\n    private String projectDescription;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate projectDate;\n\n    private List&lt;VolunteerDTO&gt; projectVolunteers;\n    private VolunteerDTO projectOwner;\n    private String projectLocation;\n    private List&lt;String&gt; requiredSkills;\n    private boolean projectStatus;\n    private List&lt;Opinion&gt; projectOpinions;\n    private List&lt;String&gt; tasks;\n}\n</code></pre>\n<pre><code>@Data\npublic class VolunteerDTO {\n\n    private String name;\n    private String surname;\n    private LocalDate dateOfBirth;\n    private String contact;\n    private List&lt;String&gt; skills;\n    private List&lt;ProjectDTO&gt; projects;\n    private Integer reputation;\n    private List&lt;String&gt; interests;\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","docker","amazon-ec2"],"comments":[{"owner":{"account_id":16237014,"reputation":424,"user_id":11724269,"display_name":"Vasyl Herman"},"score":0,"creation_date":1689574212,"post_id":76701487,"comment_id":135226973,"body_markdown":"Hi. What instance type?","body":"Hi. What instance type?"},{"owner":{"account_id":28342004,"reputation":43,"user_id":21674853,"display_name":"Nithin_Kamineni"},"score":0,"creation_date":1689609514,"post_id":76701487,"comment_id":135234394,"body_markdown":"T2 micro, I have chosen all free tier options for launching the instance.","body":"T2 micro, I have chosen all free tier options for launching the instance."},{"owner":{"account_id":16237014,"reputation":424,"user_id":11724269,"display_name":"Vasyl Herman"},"score":0,"creation_date":1689610721,"post_id":76701487,"comment_id":135234633,"body_markdown":"I think `t2.micro` is too slow to run Java and build a typical SPA, that is why you are freezing. I&#39;d recommend stopping instance, changing instance `t2.large` and testing for an hour. You won&#39;t be charged for 1 hour. LMK.","body":"I think <code>t2.micro</code> is too slow to run Java and build a typical SPA, that is why you are freezing. I&#39;d recommend stopping instance, changing instance <code>t2.large</code> and testing for an hour. You won&#39;t be charged for 1 hour. LMK."}],"owner":{"account_id":28342004,"reputation":43,"user_id":21674853,"display_name":"Nithin_Kamineni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689567988,"creation_date":1689567988,"question_id":76701487,"body_markdown":"I am trying to run an application with Spring boot(Java-17) as my back end and React as my front end. Both front end and back files are running smoothly when I run them locally with &#39;docker-compose up&#39;. When I run the same docker file by adjusting small configurations(SSL certificates) which are not the problem, the whole EC2 instance is freezing and not responding(even the front end doesn&#39;t work one the EC2 instances freezes). As soon as I tried to request the backend the whole EC2 instance froze and the only way to start it again was to stop the instance completely and start it again.\r\n\r\n\r\nI used maven to clean package my project using &#39;mvn clean package&#39; which creates a jar file. I am using that jar file to run the docker file for my server-side using that jar file. I think I am not supposed to directly package my Java application to the jar and use it but I am not sure.\r\n\r\nThis my projects github code link:\r\n[https://github.com/Nithin-Kamineni/Book-Wise][1]\r\n\r\nThis is my backend docker file:\r\n```\r\n# Use the official OpenJDK base image with Java 17\r\nFROM openjdk:17-oracle\r\n\r\n# Set the working directory in the container\r\nWORKDIR /usr/src/server\r\n\r\n# Copy the packaged JAR file into the container\r\nCOPY target/spring-boot-library-0.0.1-SNAPSHOT.jar  app.jar\r\n\r\n# Expose the port that your Spring Boot application listens on (if necessary)\r\nEXPOSE 8080\r\n\r\n# Set the entry point command to run your Spring Boot application\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```\r\n\r\ndocker-compose.yml:\r\n```\r\nversion: &quot;3.8&quot;\r\n\r\nservices:\r\n  mysql:\r\n    container_name: db12w\r\n    image: mysql:8.0.33\r\n    restart: always\r\n    environment:\r\n        MYSQL_ROOT_PASSWORD: root\r\n        MYSQL_DATABASE: reactlibrarydatabase\r\n        # MYSQL_PORT: 3306\r\n    networks:\r\n      - shared-network\r\n    volumes:\r\n      - mysqlvolume:/var/lib/mysql\r\n      - ./db:/docker-entrypoint-initdb.d\r\n\r\n  # mysql-workbench:\r\n  #   container_name: mysqlwbcontainer\r\n  #   image: linuxserver/mysql-workbench:8.0.33\r\n  #   restart: always\r\n  #   environment:\r\n  #     CUSTOM_USER: abc\r\n  #     PASSWORD: root\r\n  #     CUSTOM_PORT: 5050\r\n  #   ports:\r\n  #     - 5050:5050\r\n  #   networks:\r\n  #     - shared-network\r\n  #   depends_on:\r\n  #     - mysql\r\n    # volumes:\r\n    #   - mysql-workbench-volume:/var/lib/mysql\r\n  \r\n  nginx:\r\n    image: nginx\r\n    # container_name: nginx_container\r\n    restart: always\r\n    volumes:\r\n      - ./default.conf:/etc/nginx/conf.d/default.conf\r\n      - ./certs/localsslexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\r\n      - ./certs/localsslexample.pem:/etc/nginx/certs/devopsbyexample.pem\r\n    ports:\r\n      - 80:80\r\n      - 443:443\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - server\r\n      - client\r\n\r\n  server:\r\n    container_name: bookwise_server\r\n    restart: unless-stopped\r\n    image: bookwise-server-image:1.0.0\r\n    build:\r\n      context: Backend\r\n      dockerfile: Dockerfile\r\n    environment:\r\n      # - spring_datasource_driver-class-name=\r\n      - spring_datasource_url=jdbc:mysql://db12w:3306/reactlibrarydatabase\r\n      - spring_datasource_username=root\r\n      - spring_datasource_password=root\r\n    ports:  #outside:inside(container) #8443\r\n      - 8080:8080\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - mysql\r\n\r\n  client:\r\n    container_name: bookwise_client\r\n    restart: unless-stopped\r\n    image: bookwise-client-image:1.0.0\r\n    build:\r\n      context: Frontend\r\n      dockerfile: Dockerfile\r\n    # ports:  #outside:inside(container)\r\n    #   - 3000:3000\r\n    # environment:\r\n    #   - REACT_APP_API=https://localhost/api/api/fdfd\r\n    networks:\r\n      - shared-network\r\n    depends_on:\r\n      - server\r\nvolumes:\r\n  mysqlvolume:\r\n  # mysql-workbench-volume:\r\nnetworks:\r\n  shared-network:\r\n    driver: bridge\r\n```\r\n\r\nIf you need any additional information on the code I used you can look at my GitHub repository. As for output or error, my EC2 instance is simply freezing at that spot itself as soon as I make a backend request. Until then even the logs of the server service are fine.\r\n\r\n  [1]: https://github.com/Nithin-Kamineni/Book-Wise","title":"Spring boot backend server in Docker Container of AWS EC2","body":"<p>I am trying to run an application with Spring boot(Java-17) as my back end and React as my front end. Both front end and back files are running smoothly when I run them locally with 'docker-compose up'. When I run the same docker file by adjusting small configurations(SSL certificates) which are not the problem, the whole EC2 instance is freezing and not responding(even the front end doesn't work one the EC2 instances freezes). As soon as I tried to request the backend the whole EC2 instance froze and the only way to start it again was to stop the instance completely and start it again.</p>\n<p>I used maven to clean package my project using 'mvn clean package' which creates a jar file. I am using that jar file to run the docker file for my server-side using that jar file. I think I am not supposed to directly package my Java application to the jar and use it but I am not sure.</p>\n<p>This my projects github code link:\n<a href=\"https://github.com/Nithin-Kamineni/Book-Wise\" rel=\"nofollow noreferrer\">https://github.com/Nithin-Kamineni/Book-Wise</a></p>\n<p>This is my backend docker file:</p>\n<pre><code># Use the official OpenJDK base image with Java 17\nFROM openjdk:17-oracle\n\n# Set the working directory in the container\nWORKDIR /usr/src/server\n\n# Copy the packaged JAR file into the container\nCOPY target/spring-boot-library-0.0.1-SNAPSHOT.jar  app.jar\n\n# Expose the port that your Spring Boot application listens on (if necessary)\nEXPOSE 8080\n\n# Set the entry point command to run your Spring Boot application\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>docker-compose.yml:</p>\n<pre><code>version: &quot;3.8&quot;\n\nservices:\n  mysql:\n    container_name: db12w\n    image: mysql:8.0.33\n    restart: always\n    environment:\n        MYSQL_ROOT_PASSWORD: root\n        MYSQL_DATABASE: reactlibrarydatabase\n        # MYSQL_PORT: 3306\n    networks:\n      - shared-network\n    volumes:\n      - mysqlvolume:/var/lib/mysql\n      - ./db:/docker-entrypoint-initdb.d\n\n  # mysql-workbench:\n  #   container_name: mysqlwbcontainer\n  #   image: linuxserver/mysql-workbench:8.0.33\n  #   restart: always\n  #   environment:\n  #     CUSTOM_USER: abc\n  #     PASSWORD: root\n  #     CUSTOM_PORT: 5050\n  #   ports:\n  #     - 5050:5050\n  #   networks:\n  #     - shared-network\n  #   depends_on:\n  #     - mysql\n    # volumes:\n    #   - mysql-workbench-volume:/var/lib/mysql\n  \n  nginx:\n    image: nginx\n    # container_name: nginx_container\n    restart: always\n    volumes:\n      - ./default.conf:/etc/nginx/conf.d/default.conf\n      - ./certs/localsslexample-key.pem:/etc/nginx/certs/devopsbyexample-key.pem\n      - ./certs/localsslexample.pem:/etc/nginx/certs/devopsbyexample.pem\n    ports:\n      - 80:80\n      - 443:443\n    networks:\n      - shared-network\n    depends_on:\n      - server\n      - client\n\n  server:\n    container_name: bookwise_server\n    restart: unless-stopped\n    image: bookwise-server-image:1.0.0\n    build:\n      context: Backend\n      dockerfile: Dockerfile\n    environment:\n      # - spring_datasource_driver-class-name=\n      - spring_datasource_url=jdbc:mysql://db12w:3306/reactlibrarydatabase\n      - spring_datasource_username=root\n      - spring_datasource_password=root\n    ports:  #outside:inside(container) #8443\n      - 8080:8080\n    networks:\n      - shared-network\n    depends_on:\n      - mysql\n\n  client:\n    container_name: bookwise_client\n    restart: unless-stopped\n    image: bookwise-client-image:1.0.0\n    build:\n      context: Frontend\n      dockerfile: Dockerfile\n    # ports:  #outside:inside(container)\n    #   - 3000:3000\n    # environment:\n    #   - REACT_APP_API=https://localhost/api/api/fdfd\n    networks:\n      - shared-network\n    depends_on:\n      - server\nvolumes:\n  mysqlvolume:\n  # mysql-workbench-volume:\nnetworks:\n  shared-network:\n    driver: bridge\n</code></pre>\n<p>If you need any additional information on the code I used you can look at my GitHub repository. As for output or error, my EC2 instance is simply freezing at that spot itself as soon as I make a backend request. Until then even the logs of the server service are fine.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689567947,"creation_date":1689567947,"answer_id":76701485,"question_id":76701011,"body_markdown":"There are two possible problems that I see:\r\n1. When you create the table you do: `COLUMN_STARS+&quot;INTEGER)&quot;;`, it must be `COLUMN_STARS+&quot; INTEGER)&quot;;`, I suppose? The space is missing before `INTEGER`\r\n2. Are you sure that the table was created and you see your `created tables` statement in logs? Just to make sure that the table for really created with the last version of the code.\r\n\r\nI hope it helps.","title":"Can&#39;t access a column?","body":"<p>There are two possible problems that I see:</p>\n<ol>\n<li>When you create the table you do: <code>COLUMN_STARS+&quot;INTEGER)&quot;;</code>, it must be <code>COLUMN_STARS+&quot; INTEGER)&quot;;</code>, I suppose? The space is missing before <code>INTEGER</code></li>\n<li>Are you sure that the table was created and you see your <code>created tables</code> statement in logs? Just to make sure that the table for really created with the last version of the code.</li>\n</ol>\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":29003332,"reputation":13,"user_id":22216464,"display_name":"CheeChunWaiGabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76701485,"answer_count":1,"score":1,"last_activity_date":1689567947,"creation_date":1689556606,"question_id":76701011,"body_markdown":"My code is meant to retrieve a song from a list with 5 columns (id, title, singers, year (of release) and stars). But I for some reason can&#39;t retrieve that last one.\r\n\r\nSo I made a Song Class:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\npublic class song {\r\n    private int id;\r\n    private String title;\r\n    private String singers;\r\n    private int year;\r\n    private int stars;\r\n\r\n    public song (int id,\r\n    String title,\r\n    String singers,\r\n    int year,\r\n    int stars\r\n    ){\r\n        this.id=id;\r\n        this.title=title;\r\n        this.singers=singers;\r\n        this.year=year;\r\n        this.stars=stars;\r\n    }\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    public int getId(){\r\n        return id;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public int getStars() {\r\n        return stars;\r\n    }\r\n\r\n    public String getSingers() {\r\n        return singers;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return id + &quot;\\n&quot; + title+&quot;\\n&quot;+year + &quot;\\n&quot; + stars + &quot;\\n&quot; + singers;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis class is meant to intreact with MainActivity: \r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.ToggleButton;\r\n\r\nimport java.util.ArrayList;\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button btnInsert, btnGetSongs;\r\n    TextView tvResults;\r\n\r\n    EditText YearInput;\r\n    EditText SongInput;\r\n    EditText SingerInput;\r\n    RadioGroup RadioGroupRating;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnInsert = findViewById(R.id.btnInsert);\r\n        btnGetSongs = findViewById(R.id.btnGetTasks);\r\n        //List View-&gt;\r\n        YearInput=findViewById(R.id.insertYear);\r\n        SongInput=findViewById(R.id.insertTitle);\r\n        SingerInput=findViewById(R.id.insertSingers);\r\n        RadioGroupRating=findViewById(R.id.radio_group);\r\n\r\n\r\n        btnInsert.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                DBHelper db = new DBHelper(MainActivity.this);\r\n                String title=SongInput.getText().toString();\r\n                String singers=SingerInput.getText().toString();\r\n                int year=Integer.parseInt(YearInput.getText().toString());\r\n\r\n                int selectedRatingId=RadioGroupRating.getCheckedRadioButtonId();\r\n                RadioButton selectedRatingButton=findViewById(selectedRatingId);\r\n                int rating=Integer.parseInt(selectedRatingButton.getText().toString());\r\n                db.insertSong(title,singers,year,rating);\r\n\r\n                SongInput.setText(&quot;&quot;);\r\n                SingerInput.setText(&quot;&quot;);\r\n                YearInput.setText(&quot;&quot;);\r\n                RadioGroupRating.clearCheck();\r\n            }\r\n        });\r\n\r\n        btnGetSongs.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Create the DBHelper object, passing in the\r\n                // activity&#39;s Context\r\n                DBHelper db = new DBHelper(MainActivity.this);\r\n\r\n                // Insert a task\r\n                ArrayList&lt;song&gt; data = db.getSongs();\r\n                db.close();\r\n                Intent intent = new Intent(MainActivity.this, EditActivity.class);\r\n                //Label the actual editactivity EditActivity2\r\n                startActivity(intent);\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nwhich is supplemented by DBHelper:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class DBHelper extends SQLiteOpenHelper {    // Start version with 1\r\n    // increment by 1 whenever db schema changes.\r\n    private static final int DATABASE_VER = 1;\r\n    private static final String TABLE_SONG = &quot;song&quot;;\r\n    private static final String COLUMN_ID = &quot;id&quot;;\r\n    private static final String COLUMN_TITLE = &quot;title&quot;;\r\n    private static final String COLUMN_SINGERS = &quot;singers&quot;;\r\n    private static final String COLUMN_YEAR=&quot;year&quot;;\r\n    private static final String COLUMN_STARS=&quot;stars&quot;;\r\n    // Filename of the database\r\n    private static final String DATABASE_NAME = &quot;songs.db&quot;;\r\n\r\n    public DBHelper(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VER);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String createTableSql = &quot;CREATE TABLE &quot; + TABLE_SONG +  &quot;(&quot;\r\n                + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot;\r\n                + COLUMN_TITLE + &quot; TEXT,&quot;\r\n                + COLUMN_SINGERS+ &quot; TEXT ,&quot;\r\n                + COLUMN_YEAR + &quot; INTEGER,&quot;\r\n                + COLUMN_STARS+&quot;INTEGER)&quot;;\r\n        db.execSQL(createTableSql);\r\n        Log.i(&quot;info&quot; ,&quot;created tables&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // Drop older table if existed\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG);\r\n        // Create table(s) again\r\n        onCreate(db);\r\n\r\n\r\n    }\r\n    public void insertSong(String title, String singers, int year, int stars){\r\n\r\n        // Get an instance of the database for writing\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        // We use ContentValues object to store the values for\r\n        //  the db operation\r\n        ContentValues values = new ContentValues();\r\n        // Store the column name as key and the description as value\r\n        values.put(COLUMN_TITLE, title);\r\n        values.put(COLUMN_SINGERS, singers);\r\n        values.put(COLUMN_YEAR, year);\r\n        values.put(COLUMN_STARS, stars);\r\n\r\n        // Store the column name as key and the date as value\r\n\r\n        // Insert the row into the TABLE_TASK\r\n        db.insert(TABLE_SONG, null, values);\r\n        // Close the database connection\r\n        db.close();\r\n    }\r\n    public ArrayList&lt;song&gt; getSongs() {\r\n        ArrayList&lt;song&gt; tasks = new ArrayList&lt;song&gt;();\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        String[] columns = {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\r\n        Cursor cursor = db.query(TABLE_SONG, columns, null, null, null, null,  null , null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                int id = cursor.getColumnIndex(COLUMN_ID);\r\n                String title= String.valueOf(cursor.getColumnIndex(COLUMN_TITLE));\r\n                String singers= String.valueOf(cursor.getColumnIndex(COLUMN_SINGERS));\r\n                @SuppressLint(&quot;Range&quot;) int year = cursor.getInt(cursor.getColumnIndex(COLUMN_YEAR));\r\n                @SuppressLint(&quot;Range&quot;) int stars = cursor.getInt(cursor.getColumnIndex(COLUMN_STARS));\r\n                song obj = new song(id, title, singers,year,stars);\r\n                tasks.add(obj);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        cursor.close();\r\n        db.close();\r\n\r\n        return tasks;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nAnd for good measure, here the xml of my app:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input1&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertTitle&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input2&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertSingers&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input3&quot; /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/insertYear&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/Input4&quot; /&gt;\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radio_group&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.1&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.2&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.3&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.4&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radio_5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/Input4.5&quot; /&gt;\r\n\r\n    &lt;/RadioGroup&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnInsert&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/FinalButton&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btnGetTasks&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/ViewListings&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nMy intent was pressing btnRetrieve would cause a list to display in a separate activity.\r\n\r\nThe Activity&#39;s xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.EditActivity&quot;&gt;\r\n    &lt;ListView\r\n        android:id=&quot;@+id/list_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nand its java coding\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class EditActivity extends AppCompatActivity {\r\n    ListView lv;\r\n    ArrayList&lt;song&gt; songsList;\r\n    ArrayAdapter&lt;song&gt; adapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit);\r\n        lv=findViewById(R.id.list_view);\r\n        DBHelper dbHelper = new DBHelper(this);\r\n        songsList = dbHelper.getSongs();\r\n        ArrayList&lt;String&gt; songTitles = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; songsList.size(); i++) {\r\n            song song = songsList.get(i);\r\n            songTitles.add(song.getTitle());\r\n        }\r\n        adapter = new ArrayAdapter&lt;&gt;(EditActivity.this,android.R.layout.simple_list_item_1,songsList);\r\n        lv.setAdapter(adapter);\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately it caused this to appear in my logcat:\r\n```\r\n2023-07-17 09:00:34.942  2045-2045  SQLiteLog               com...tiondev.android.songdbmanager  E  (1) no such column: stars in &quot;SELECT id, title, singers, year, stars FROM song&quot;\r\n2023-07-17 09:00:34.945  2045-2045  AndroidRuntime          com...tiondev.android.songdbmanager  D  Shutting down VM\r\n2023-07-17 09:00:34.988  2045-2045  AndroidRuntime          com...tiondev.android.songdbmanager  E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.myapplicationdev.android.songdbmanager, PID: 2045\r\n                                                                                                    android.database.sqlite.SQLiteException: no such column: stars (code 1 SQLITE_ERROR): , while compiling: SELECT id, title, singers, year, stars FROM song\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1045)\r\n                                                                                                    \tat android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:652)\r\n                                                                                                    \tat android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\r\n                                                                                                    \tat android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:61)\r\n                                                                                                    \tat android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1545)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1392)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1263)\r\n                                                                                                    \tat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1469)\r\n                                                                                                    \tat com.myapplicationdev.android.songdbmanager.DBHelper.getSongs(DBHelper.java:78)\r\n                                                                                                    \tat com.myapplicationdev.android.songdbmanager.MainActivity$2.onClick(MainActivity.java:73)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7448)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7425)\r\n                                                                                                    \tat android.view.View.access$3600(View.java:810)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:28305)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:938)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:223)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7656)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```","title":"Can&#39;t access a column?","body":"<p>My code is meant to retrieve a song from a list with 5 columns (id, title, singers, year (of release) and stars). But I for some reason can't retrieve that last one.</p>\n<p>So I made a Song Class:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.annotation.NonNull;\n\npublic class song {\n    private int id;\n    private String title;\n    private String singers;\n    private int year;\n    private int stars;\n\n    public song (int id,\n    String title,\n    String singers,\n    int year,\n    int stars\n    ){\n        this.id=id;\n        this.title=title;\n        this.singers=singers;\n        this.year=year;\n        this.stars=stars;\n    }\n    public String getTitle() {\n        return title;\n    }\n    public int getId(){\n        return id;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public int getStars() {\n        return stars;\n    }\n\n    public String getSingers() {\n        return singers;\n    }\n\n    @NonNull\n    @Override\n    public String toString() {\n        return id + &quot;\\n&quot; + title+&quot;\\n&quot;+year + &quot;\\n&quot; + stars + &quot;\\n&quot; + singers;\n    }\n\n}\n</code></pre>\n<p>This class is meant to intreact with MainActivity:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport android.widget.ToggleButton;\n\nimport java.util.ArrayList;\npublic class MainActivity extends AppCompatActivity {\n\n    Button btnInsert, btnGetSongs;\n    TextView tvResults;\n\n    EditText YearInput;\n    EditText SongInput;\n    EditText SingerInput;\n    RadioGroup RadioGroupRating;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnInsert = findViewById(R.id.btnInsert);\n        btnGetSongs = findViewById(R.id.btnGetTasks);\n        //List View-&gt;\n        YearInput=findViewById(R.id.insertYear);\n        SongInput=findViewById(R.id.insertTitle);\n        SingerInput=findViewById(R.id.insertSingers);\n        RadioGroupRating=findViewById(R.id.radio_group);\n\n\n        btnInsert.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                DBHelper db = new DBHelper(MainActivity.this);\n                String title=SongInput.getText().toString();\n                String singers=SingerInput.getText().toString();\n                int year=Integer.parseInt(YearInput.getText().toString());\n\n                int selectedRatingId=RadioGroupRating.getCheckedRadioButtonId();\n                RadioButton selectedRatingButton=findViewById(selectedRatingId);\n                int rating=Integer.parseInt(selectedRatingButton.getText().toString());\n                db.insertSong(title,singers,year,rating);\n\n                SongInput.setText(&quot;&quot;);\n                SingerInput.setText(&quot;&quot;);\n                YearInput.setText(&quot;&quot;);\n                RadioGroupRating.clearCheck();\n            }\n        });\n\n        btnGetSongs.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v) {\n                // Create the DBHelper object, passing in the\n                // activity's Context\n                DBHelper db = new DBHelper(MainActivity.this);\n\n                // Insert a task\n                ArrayList&lt;song&gt; data = db.getSongs();\n                db.close();\n                Intent intent = new Intent(MainActivity.this, EditActivity.class);\n                //Label the actual editactivity EditActivity2\n                startActivity(intent);\n\n\n            }\n        });\n    }\n\n\n}\n</code></pre>\n<p>which is supplemented by DBHelper:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport android.annotation.SuppressLint;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\nimport java.util.ArrayList;\n\npublic class DBHelper extends SQLiteOpenHelper {    // Start version with 1\n    // increment by 1 whenever db schema changes.\n    private static final int DATABASE_VER = 1;\n    private static final String TABLE_SONG = &quot;song&quot;;\n    private static final String COLUMN_ID = &quot;id&quot;;\n    private static final String COLUMN_TITLE = &quot;title&quot;;\n    private static final String COLUMN_SINGERS = &quot;singers&quot;;\n    private static final String COLUMN_YEAR=&quot;year&quot;;\n    private static final String COLUMN_STARS=&quot;stars&quot;;\n    // Filename of the database\n    private static final String DATABASE_NAME = &quot;songs.db&quot;;\n\n    public DBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VER);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String createTableSql = &quot;CREATE TABLE &quot; + TABLE_SONG +  &quot;(&quot;\n                + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot;\n                + COLUMN_TITLE + &quot; TEXT,&quot;\n                + COLUMN_SINGERS+ &quot; TEXT ,&quot;\n                + COLUMN_YEAR + &quot; INTEGER,&quot;\n                + COLUMN_STARS+&quot;INTEGER)&quot;;\n        db.execSQL(createTableSql);\n        Log.i(&quot;info&quot; ,&quot;created tables&quot;);\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Drop older table if existed\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG);\n        // Create table(s) again\n        onCreate(db);\n\n\n    }\n    public void insertSong(String title, String singers, int year, int stars){\n\n        // Get an instance of the database for writing\n        SQLiteDatabase db = this.getWritableDatabase();\n        // We use ContentValues object to store the values for\n        //  the db operation\n        ContentValues values = new ContentValues();\n        // Store the column name as key and the description as value\n        values.put(COLUMN_TITLE, title);\n        values.put(COLUMN_SINGERS, singers);\n        values.put(COLUMN_YEAR, year);\n        values.put(COLUMN_STARS, stars);\n\n        // Store the column name as key and the date as value\n\n        // Insert the row into the TABLE_TASK\n        db.insert(TABLE_SONG, null, values);\n        // Close the database connection\n        db.close();\n    }\n    public ArrayList&lt;song&gt; getSongs() {\n        ArrayList&lt;song&gt; tasks = new ArrayList&lt;song&gt;();\n        SQLiteDatabase db = this.getReadableDatabase();\n        String[] columns = {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\n        Cursor cursor = db.query(TABLE_SONG, columns, null, null, null, null,  null , null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                int id = cursor.getColumnIndex(COLUMN_ID);\n                String title= String.valueOf(cursor.getColumnIndex(COLUMN_TITLE));\n                String singers= String.valueOf(cursor.getColumnIndex(COLUMN_SINGERS));\n                @SuppressLint(&quot;Range&quot;) int year = cursor.getInt(cursor.getColumnIndex(COLUMN_YEAR));\n                @SuppressLint(&quot;Range&quot;) int stars = cursor.getInt(cursor.getColumnIndex(COLUMN_STARS));\n                song obj = new song(id, title, singers,year,stars);\n                tasks.add(obj);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n        db.close();\n\n        return tasks;\n    }\n\n}\n\n\n</code></pre>\n<p>And for good measure, here the xml of my app:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input1&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertTitle&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt1&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input2&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertSingers&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/InputPrompt2&quot; /&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input3&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/insertYear&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:text=&quot;@string/InputPrompt3&quot;/&gt;\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/Input4&quot; /&gt;\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.1&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.2&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.3&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.4&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radio_5&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/Input4.5&quot; /&gt;\n\n    &lt;/RadioGroup&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnInsert&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/FinalButton&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnGetTasks&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/ViewListings&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>My intent was pressing btnRetrieve would cause a list to display in a separate activity.</p>\n<p>The Activity's xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.EditActivity&quot;&gt;\n    &lt;ListView\n        android:id=&quot;@+id/list_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>and its java coding</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport java.util.ArrayList;\n\npublic class EditActivity extends AppCompatActivity {\n    ListView lv;\n    ArrayList&lt;song&gt; songsList;\n    ArrayAdapter&lt;song&gt; adapter;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_edit);\n        lv=findViewById(R.id.list_view);\n        DBHelper dbHelper = new DBHelper(this);\n        songsList = dbHelper.getSongs();\n        ArrayList&lt;String&gt; songTitles = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; songsList.size(); i++) {\n            song song = songsList.get(i);\n            songTitles.add(song.getTitle());\n        }\n        adapter = new ArrayAdapter&lt;&gt;(EditActivity.this,android.R.layout.simple_list_item_1,songsList);\n        lv.setAdapter(adapter);\n    }\n}\n</code></pre>\n<p>Unfortunately it caused this to appear in my logcat:</p>\n<pre><code>2023-07-17 09:00:34.942  2045-2045  SQLiteLog               com...tiondev.android.songdbmanager  E  (1) no such column: stars in &quot;SELECT id, title, singers, year, stars FROM song&quot;\n2023-07-17 09:00:34.945  2045-2045  AndroidRuntime          com...tiondev.android.songdbmanager  D  Shutting down VM\n2023-07-17 09:00:34.988  2045-2045  AndroidRuntime          com...tiondev.android.songdbmanager  E  FATAL EXCEPTION: main\n                                                                                                    Process: com.myapplicationdev.android.songdbmanager, PID: 2045\n                                                                                                    android.database.sqlite.SQLiteException: no such column: stars (code 1 SQLITE_ERROR): , while compiling: SELECT id, title, singers, year, stars FROM song\n                                                                                                        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n                                                                                                        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1045)\n                                                                                                        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:652)\n                                                                                                        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:590)\n                                                                                                        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:61)\n                                                                                                        at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\n                                                                                                        at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\n                                                                                                        at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1545)\n                                                                                                        at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1392)\n                                                                                                        at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1263)\n                                                                                                        at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1469)\n                                                                                                        at com.myapplicationdev.android.songdbmanager.DBHelper.getSongs(DBHelper.java:78)\n                                                                                                        at com.myapplicationdev.android.songdbmanager.MainActivity$2.onClick(MainActivity.java:73)\n                                                                                                        at android.view.View.performClick(View.java:7448)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\n                                                                                                        at android.view.View.performClickInternal(View.java:7425)\n                                                                                                        at android.view.View.access$3600(View.java:810)\n                                                                                                        at android.view.View$PerformClick.run(View.java:28305)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:938)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loop(Looper.java:223)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7656)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n"},{"tags":["java","command-line-interface","parameter-passing","picocli"],"answers":[{"tags":[],"owner":{"account_id":21089028,"reputation":33,"user_id":15501383,"display_name":"Zainab Lawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670757472,"creation_date":1670757472,"answer_id":74760336,"question_id":74759804,"body_markdown":"I fixed this by adding the arity attribute to the options. Like:\r\n\r\n```\r\n@Option(names = {&quot;-c&quot;, &quot;--countBytes&quot;},arity=&quot;1&quot; description = &quot;Count the number of Bytes in the file&quot;)\r\nprivate Boolean countBytes= false;\r\n```","title":"How to Pass params without specifying their index with Picocli","body":"<p>I fixed this by adding the arity attribute to the options. Like:</p>\n<pre><code>@Option(names = {&quot;-c&quot;, &quot;--countBytes&quot;},arity=&quot;1&quot; description = &quot;Count the number of Bytes in the file&quot;)\nprivate Boolean countBytes= false;\n</code></pre>\n"}],"owner":{"account_id":21089028,"reputation":33,"user_id":15501383,"display_name":"Zainab Lawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689567703,"creation_date":1670752627,"question_id":74759804,"body_markdown":"I&#39;m trying to create a cli program with Picocli that accepts optional options and params. I want the parameters to be always at the end of the passed arguments, however I do not know how to set that.\r\nWhen I try the following, the options are parsed as filenames too. Is there a way to fix it?\r\n\r\n```\r\npublic class WordCount implements Runnable {\r\n\r\n@Parameters(index=&quot;*&quot;, arity = &quot;1..*&quot;, description= &quot;The file to count&quot;)\r\npublic List&lt;String&gt; filenames;\r\n\r\n@Option(names = {&quot;-c&quot;, &quot;--countBytes&quot;}, description = &quot;Count the number of Bytes in the file&quot;)\r\nprivate Boolean countBytes= false;\r\n\r\n@Option(names= {&quot;-w&quot;, &quot;countWords&quot;}, description = &quot;Count the number of Words in the file&quot;)\r\nprivate Boolean countWords = false;\r\n\r\n@Option(names = {&quot;-l&quot;, &quot;--countLines&quot;}, description = &quot;Count the number of lines in the file&quot;)\r\nprivate Boolean countLines =false;\r\n\r\n@Option(names = {&quot;-m&quot;, &quot;--countCharacters&quot;}, description = &quot;Count the number of characters in the file&quot;)\r\nprivate Boolean countCharacters =false;\r\n```","title":"How to Pass params without specifying their index with Picocli","body":"<p>I'm trying to create a cli program with Picocli that accepts optional options and params. I want the parameters to be always at the end of the passed arguments, however I do not know how to set that.\nWhen I try the following, the options are parsed as filenames too. Is there a way to fix it?</p>\n<pre><code>public class WordCount implements Runnable {\n\n@Parameters(index=&quot;*&quot;, arity = &quot;1..*&quot;, description= &quot;The file to count&quot;)\npublic List&lt;String&gt; filenames;\n\n@Option(names = {&quot;-c&quot;, &quot;--countBytes&quot;}, description = &quot;Count the number of Bytes in the file&quot;)\nprivate Boolean countBytes= false;\n\n@Option(names= {&quot;-w&quot;, &quot;countWords&quot;}, description = &quot;Count the number of Words in the file&quot;)\nprivate Boolean countWords = false;\n\n@Option(names = {&quot;-l&quot;, &quot;--countLines&quot;}, description = &quot;Count the number of lines in the file&quot;)\nprivate Boolean countLines =false;\n\n@Option(names = {&quot;-m&quot;, &quot;--countCharacters&quot;}, description = &quot;Count the number of characters in the file&quot;)\nprivate Boolean countCharacters =false;\n</code></pre>\n"},{"tags":["java","amazon-web-services","iot"],"answers":[{"comments":[{"owner":{"account_id":8647054,"reputation":178,"user_id":6473966,"display_name":"OGI"},"score":0,"creation_date":1699462831,"post_id":76701424,"comment_id":136535643,"body_markdown":"Can you please add some clarification? It&#39;s really hard to follow what was the issue and what exactly did the trick for you.","body":"Can you please add some clarification? It&#39;s really hard to follow what was the issue and what exactly did the trick for you."}],"tags":[],"owner":{"account_id":28959111,"reputation":9,"user_id":22182000,"display_name":"Joshua S"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1689566773,"creation_date":1689566773,"answer_id":76701424,"question_id":76693782,"body_markdown":"If anyone comes across this in the future, this is how I got it working.\r\n\r\nthe command to make the keystore:\r\n\r\n    openssl pkcs12 -export -in certificate.pem -inkey private.key -out keystore.p12 -name exampleName -certpbe PBE-SHA1-3DES -keypbe PBE-SHA1-3DES -macalg sha1\r\n\r\nAnd the code:\r\n\r\n\r\n    HttpExecuteResponse response;\r\n                System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/usr/lib/jvm/&lt;distribution&gt;/lib/security/cacerts&quot;);\r\n                System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;&lt;password&gt;&quot;);\r\n                System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n                KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n                keyStore.load(new FileInputStream(&quot;/path/to/keystore.p12&quot;), &quot;password&quot;.toCharArray());\r\n                SSLContext newContext = SSLContexts.custom().loadKeyMaterial(keyStore, &quot;password&quot;.toCharArray()).build();\r\n                ConnectionSocketFactory socketFactory = new SdkTlsSocketFactory(newContext, NoopHostnameVerifier.INSTANCE);\r\n                try (SdkHttpClient client = ApacheHttpClient.builder().socketFactory(socketFactory).build()) {\r\n                    SdkHttpFullRequest httpRequest = SdkHttpFullRequest.builder()\r\n                            .method(SdkHttpMethod.GET)\r\n                            .uri(new URI(&quot;https://&lt;prefix&gt;.credentials.iot.us-east-2.amazonaws.com/role-aliases/&lt;alias&gt;/credentials&quot;))\r\n                            .putHeader(&quot;x-amzn-iot-thingname&quot;, &lt;thingname&gt;)\r\n                            .build();\r\n                    HttpExecuteRequest request = HttpExecuteRequest.builder()\r\n                            .request(httpRequest)\r\n                            .build();\r\n                    response = client.prepareRequest(request).call();\r\n                }\r\n","title":"Getting bad_certificate error when using AWS Java sdk to attain temporary credentials via AWS Credentials Provider with IoT credentials","body":"<p>If anyone comes across this in the future, this is how I got it working.</p>\n<p>the command to make the keystore:</p>\n<pre><code>openssl pkcs12 -export -in certificate.pem -inkey private.key -out keystore.p12 -name exampleName -certpbe PBE-SHA1-3DES -keypbe PBE-SHA1-3DES -macalg sha1\n</code></pre>\n<p>And the code:</p>\n<pre><code>HttpExecuteResponse response;\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/usr/lib/jvm/&lt;distribution&gt;/lib/security/cacerts&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;&lt;password&gt;&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\n            KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            keyStore.load(new FileInputStream(&quot;/path/to/keystore.p12&quot;), &quot;password&quot;.toCharArray());\n            SSLContext newContext = SSLContexts.custom().loadKeyMaterial(keyStore, &quot;password&quot;.toCharArray()).build();\n            ConnectionSocketFactory socketFactory = new SdkTlsSocketFactory(newContext, NoopHostnameVerifier.INSTANCE);\n            try (SdkHttpClient client = ApacheHttpClient.builder().socketFactory(socketFactory).build()) {\n                SdkHttpFullRequest httpRequest = SdkHttpFullRequest.builder()\n                        .method(SdkHttpMethod.GET)\n                        .uri(new URI(&quot;https://&lt;prefix&gt;.credentials.iot.us-east-2.amazonaws.com/role-aliases/&lt;alias&gt;/credentials&quot;))\n                        .putHeader(&quot;x-amzn-iot-thingname&quot;, &lt;thingname&gt;)\n                        .build();\n                HttpExecuteRequest request = HttpExecuteRequest.builder()\n                        .request(httpRequest)\n                        .build();\n                response = client.prepareRequest(request).call();\n            }\n</code></pre>\n"}],"owner":{"account_id":28959111,"reputation":9,"user_id":22182000,"display_name":"Joshua S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76701424,"answer_count":1,"score":0,"last_activity_date":1689566773,"creation_date":1689424634,"question_id":76693782,"body_markdown":"I&#39;m trying to do the process outlined in this post: https://aws.amazon.com/blogs/security/how-to-eliminate-the-need-for-hardcoded-aws-credentials-in-devices-by-using-the-aws-iot-credentials-provider/.\r\n\r\nI&#39;ve got everything set up,and am able to get the temporary credentials via curl, but want to do it via the Java sdk. I&#39;ve tried the code mentioned in this post: https://stackoverflow.com/questions/64257498/get-security-token-from-aws-credentials-provider in the comments from jccampanero, but am getting a javax.net.sslhandshakeexception: bad_certificate error at runtime. I&#39;ve verified that the certificate and private key are good, as mentioned above they work in curl form for getting the credentials.\r\n\r\nWhen creating to pkcs12 keystore for the client side stuff I use the following commmand: \r\n\r\n```\r\nopenssl pkcs12 -export -in certificate.pem -inkey private.key -out keystore.p12 -name exampleName -CAFile AmazonRootCA1.pem -caname root -certpbe PBE-SHA1-3DES -keypbe PBE-SHA1-3DES -macalg sha1\r\n```\r\n\r\nAnd when creating the trust store I use the following code:\r\n```\r\n\r\nprivate void createTrustStore() {\r\n        Path pemPath = Paths.get(&quot;/directory/AmazonRootCA1.pem&quot;);\r\n        try (final InputStream is = Files.newInputStream(pemPath)) {\r\n            CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            X509Certificate cert = (X509Certificate) certificateFactory.generateCertificate(is);\r\n            String alias = cert.getSubjectX500Principal().getName();\r\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            keystore.load(null);\r\n            keystore.setCertificateEntry(alias, cert);\r\n            FileOutputStream out = new FileOutputStream(&quot;/directory/CAtrustStore.jks&quot;);\r\n            keystore.store(out, &quot;password&quot;.toCharArray());\r\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/directory/CAtrustStore.jks&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\r\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n    }\r\n```\r\nI&#39;ve also used keytool to verify both of the stores are being properly created.\r\n\r\nTo make the request I use the following code:\r\n```\r\n\r\npublic void getCredentials() {\r\n        HttpExecuteResponse response;\r\n        Path clientKeyStore = Path.of(&quot;keystore.p12&quot;);\r\n        TlsKeyManagersProvider provider = FileStoreTlsKeyManagersProvider.create(clientKeyStore, &quot;pkcs12&quot;, &quot;password&quot;);\r\n        KeyManager[] keyManagers = provider.keyManagers();\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(keyManagers, null, null);\r\n        ConnectionSocketFactory socketFactory = new SdkTlsSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n        try (SdkHttpClient client = ApacheHttpClient.builder().socketFactory(socketFactory).build()) {\r\n            SdkHttpRequest httpRequest = SdkHttpRequest.builder()\r\n                    .method(SdkHttpMethod.GET)\r\n                    .uri(new URI(&quot;https://&lt;myPrefix&gt;.credentials.iot.us-east-2.amazonaws.com/role-aliases/&lt;myAlias&gt;/credentials&quot;))\r\n                    .putHeader(&quot;x-amzn-iot-thingname&quot;, &quot;&lt;myThingName&gt;&quot;)\r\n                    .build();\r\n            HttpExecuteRequest request = HttpExecuteRequest.builder()\r\n                    .request(httpRequest)\r\n                    .build();\r\n            response = client.prepareRequest(request).call();\r\n        }\r\n        Log.MainLog().info(response.httpResponse().toString());\r\n        Log.MainLog().info(response.responseBody().toString());\r\n    }\r\n}\r\n```\r\n\r\nEdit: just to clarify, I did try exactly as in that post, using the System.setProperty for the client keystore as well, and got the same error. I also tried feeding the TlsKeyManagersProvider into the builder \r\nwith the .TlsKeyManagerProvider method instead of using the socket factory, but also got the same error. Currently using the socket factory as that is what is outlined in the aws java sdk test linked in jccampanero&#39;s post. Since I&#39;m getting the same error regardless of which method I use, I&#39;m assuming the issue is with the pkcs12 keystore rather than the code.\r\n\r\nEdit2: I&#39;ve now also tried using the cacerts keystore in my usr/lib/jvm/&lt;javadist&gt;/lib/security folder for the trust store as well, since I&#39;ve seen some suggestions of that, but no luck. ","title":"Getting bad_certificate error when using AWS Java sdk to attain temporary credentials via AWS Credentials Provider with IoT credentials","body":"<p>I'm trying to do the process outlined in this post: <a href=\"https://aws.amazon.com/blogs/security/how-to-eliminate-the-need-for-hardcoded-aws-credentials-in-devices-by-using-the-aws-iot-credentials-provider/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/security/how-to-eliminate-the-need-for-hardcoded-aws-credentials-in-devices-by-using-the-aws-iot-credentials-provider/</a>.</p>\n<p>I've got everything set up,and am able to get the temporary credentials via curl, but want to do it via the Java sdk. I've tried the code mentioned in this post: <a href=\"https://stackoverflow.com/questions/64257498/get-security-token-from-aws-credentials-provider\">Get security token from AWS Credentials Provider</a> in the comments from jccampanero, but am getting a javax.net.sslhandshakeexception: bad_certificate error at runtime. I've verified that the certificate and private key are good, as mentioned above they work in curl form for getting the credentials.</p>\n<p>When creating to pkcs12 keystore for the client side stuff I use the following commmand:</p>\n<pre><code>openssl pkcs12 -export -in certificate.pem -inkey private.key -out keystore.p12 -name exampleName -CAFile AmazonRootCA1.pem -caname root -certpbe PBE-SHA1-3DES -keypbe PBE-SHA1-3DES -macalg sha1\n</code></pre>\n<p>And when creating the trust store I use the following code:</p>\n<pre><code>\nprivate void createTrustStore() {\n        Path pemPath = Paths.get(&quot;/directory/AmazonRootCA1.pem&quot;);\n        try (final InputStream is = Files.newInputStream(pemPath)) {\n            CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n            X509Certificate cert = (X509Certificate) certificateFactory.generateCertificate(is);\n            String alias = cert.getSubjectX500Principal().getName();\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n            keystore.load(null);\n            keystore.setCertificateEntry(alias, cert);\n            FileOutputStream out = new FileOutputStream(&quot;/directory/CAtrustStore.jks&quot;);\n            keystore.store(out, &quot;password&quot;.toCharArray());\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/directory/CAtrustStore.jks&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\n    }\n</code></pre>\n<p>I've also used keytool to verify both of the stores are being properly created.</p>\n<p>To make the request I use the following code:</p>\n<pre><code>\npublic void getCredentials() {\n        HttpExecuteResponse response;\n        Path clientKeyStore = Path.of(&quot;keystore.p12&quot;);\n        TlsKeyManagersProvider provider = FileStoreTlsKeyManagersProvider.create(clientKeyStore, &quot;pkcs12&quot;, &quot;password&quot;);\n        KeyManager[] keyManagers = provider.keyManagers();\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(keyManagers, null, null);\n        ConnectionSocketFactory socketFactory = new SdkTlsSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\n        try (SdkHttpClient client = ApacheHttpClient.builder().socketFactory(socketFactory).build()) {\n            SdkHttpRequest httpRequest = SdkHttpRequest.builder()\n                    .method(SdkHttpMethod.GET)\n                    .uri(new URI(&quot;https://&lt;myPrefix&gt;.credentials.iot.us-east-2.amazonaws.com/role-aliases/&lt;myAlias&gt;/credentials&quot;))\n                    .putHeader(&quot;x-amzn-iot-thingname&quot;, &quot;&lt;myThingName&gt;&quot;)\n                    .build();\n            HttpExecuteRequest request = HttpExecuteRequest.builder()\n                    .request(httpRequest)\n                    .build();\n            response = client.prepareRequest(request).call();\n        }\n        Log.MainLog().info(response.httpResponse().toString());\n        Log.MainLog().info(response.responseBody().toString());\n    }\n}\n</code></pre>\n<p>Edit: just to clarify, I did try exactly as in that post, using the System.setProperty for the client keystore as well, and got the same error. I also tried feeding the TlsKeyManagersProvider into the builder\nwith the .TlsKeyManagerProvider method instead of using the socket factory, but also got the same error. Currently using the socket factory as that is what is outlined in the aws java sdk test linked in jccampanero's post. Since I'm getting the same error regardless of which method I use, I'm assuming the issue is with the pkcs12 keystore rather than the code.</p>\n<p>Edit2: I've now also tried using the cacerts keystore in my usr/lib/jvm//lib/security folder for the trust store as well, since I've seen some suggestions of that, but no luck.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7862,"page":306,"page_size":100}
