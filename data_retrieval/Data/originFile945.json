{"items":[{"tags":["java","windows","unix","newline","text-formatting"],"comments":[{"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"score":0,"creation_date":1395907787,"post_id":22681534,"comment_id":34554044,"body_markdown":"`String NEWLINE = &quot;\\n\\r&quot;;` or whatever you want, followed by\n`System.out.print(&quot;yourString&quot;+NEWLINE);`","body":"<code>String NEWLINE = &quot;\\n\\r&quot;;</code> or whatever you want, followed by <code>System.out.print(&quot;yourString&quot;+NEWLINE);</code>"},{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":0,"creation_date":1395907828,"post_id":22681534,"comment_id":34554060,"body_markdown":"That&#39;s a workaround that does work but can&#39;t you explicitly tell java what environment you want to target?","body":"That&#39;s a workaround that does work but can&#39;t you explicitly tell java what environment you want to target?"}],"answers":[{"comments":[{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":0,"creation_date":1395908251,"post_id":22681619,"comment_id":34554271,"body_markdown":"Ok so `out.println()` uses this method to add it&#39;s linebreak. But is there some way to change what the property `line.separator` returns? Tell java that you are targeting another platform maybe?","body":"Ok so <code>out.println()</code> uses this method to add it&#39;s linebreak. But is there some way to change what the property <code>line.separator</code> returns? Tell java that you are targeting another platform maybe?"},{"owner":{"account_id":3300755,"reputation":3796,"user_id":2777005,"display_name":"Levenal"},"score":0,"creation_date":1395908285,"post_id":22681619,"comment_id":34554283,"body_markdown":"I downvoted becuase the question asked how to change the seperator, and you had just put how to get it, however since you updated your answer I decided to remove it as it looks a lot better now :)","body":"I downvoted becuase the question asked how to change the seperator, and you had just put how to get it, however since you updated your answer I decided to remove it as it looks a lot better now :)"},{"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"score":0,"creation_date":1395908446,"post_id":22681619,"comment_id":34554379,"body_markdown":"@Andreas:- You may use the `System.setProperty(&quot;line.separator&quot;, &quot;\\n&quot;);` at the beginning of your code then!","body":"@Andreas:- You may use the <code>System.setProperty(&quot;line.separator&quot;, &quot;\\n&quot;);</code> at the beginning of your code then!"}],"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395907822,"creation_date":1395907822,"answer_id":22681619,"question_id":22681534,"body_markdown":"You may try with:\r\n\r\n    String str = &quot;\\n\\r&quot;;\r\n    System.out.print(&quot;yourString&quot;+str);\r\n\r\nbut you can instead use this:-\r\n\r\n    System.getProperty(&quot;line.separator&quot;);\r\n\r\nto get the [line seperator][1] \r\n\r\n&gt; Returns the system-dependent line separator string. It always returns\r\n&gt; the same value - the initial value of the system property\r\n&gt; line.separator.\r\n&gt; \r\n&gt; On UNIX systems, it returns &quot;\\n&quot;; on Microsoft Windows systems it\r\n&gt; returns &quot;\\r\\n&quot;.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29","title":"Java change system new-line character","body":"<p>You may try with:</p>\n\n<pre><code>String str = \"\\n\\r\";\nSystem.out.print(\"yourString\"+str);\n</code></pre>\n\n<p>but you can instead use this:-</p>\n\n<pre><code>System.getProperty(\"line.separator\");\n</code></pre>\n\n<p>to get the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29\" rel=\"nofollow\">line seperator</a> </p>\n\n<blockquote>\n  <p>Returns the system-dependent line separator string. It always returns\n  the same value - the initial value of the system property\n  line.separator.</p>\n  \n  <p>On UNIX systems, it returns \"\\n\"; on Microsoft Windows systems it\n  returns \"\\r\\n\".</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395907869,"creation_date":1395907869,"answer_id":22681635,"question_id":22681534,"body_markdown":"The method `    System.lineSeparator()` returns the line separator used by the system. From the documentation it specifies that it uses the system property line.separator. ","title":"Java change system new-line character","body":"<p>The method <code>System.lineSeparator()</code> returns the line separator used by the system. From the documentation it specifies that it uses the system property line.separator. </p>\n"},{"comments":[{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":0,"creation_date":1395908738,"post_id":22681789,"comment_id":34554527,"body_markdown":"Confirmed by piping through to `od` in cywgin. Thanx a bunch!","body":"Confirmed by piping through to <code>od</code> in cywgin. Thanx a bunch!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1395908853,"post_id":22681789,"comment_id":34554601,"body_markdown":"+1 If you were a few minutes faster I had skipped writing my own answer… However, it’s worth noting that some JRE parts cache that value, like the Java&#160;7 `java.lang.System.lineSeparator()` does. To get a consistent behavior, that property should be specified at startup time.","body":"+1 If you were a few minutes faster I had skipped writing my own answer… However, it’s worth noting that some JRE parts cache that value, like the Java 7 <code>java.lang.System.lineSeparator()</code> does. To get a consistent behavior, that property should be specified at startup time."},{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":0,"creation_date":1395909353,"post_id":22681789,"comment_id":34554901,"body_markdown":"I never though about this actually. I still think this answer is the best however, this does not change the behaviour of System.out.println() which will still output `\\r\\n`","body":"I never though about this actually. I still think this answer is the best however, this does not change the behaviour of System.out.println() which will still output <code>\\r\\n</code>"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1395910428,"post_id":22681789,"comment_id":34555485,"body_markdown":"While this answer is technically correct, I&#39;d like to point out that changing the system property to something that is wrong can potentially  cause a lot of headaches, if you&#39;re using 3rd party libraries. Also keep in mind that this change is JVM-wide, so it will effect everything running on that JVM, whether you intend to or not.","body":"While this answer is technically correct, I&#39;d like to point out that changing the system property to something that is wrong can potentially  cause a lot of headaches, if you&#39;re using 3rd party libraries. Also keep in mind that this change is JVM-wide, so it will effect everything running on that JVM, whether you intend to or not."},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1395910668,"post_id":22681789,"comment_id":34555626,"body_markdown":"@Holger, sure, you are right. Using `-Dline.separator` is preferable. I however do not know how to pass `\\n` from shell... I was just too lazy to try this.","body":"@Holger, sure, you are right. Using <code>-Dline.separator</code> is preferable. I however do not know how to pass <code>\\n</code> from shell... I was just too lazy to try this."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1395911212,"post_id":22681789,"comment_id":34555969,"body_markdown":"@Andreas: As said, at some places that property is cached. In case of `System.out.println()` it’s the class `BufferedWriter` which does that caching. Specifying the property at the command line works.","body":"@Andreas: As said, at some places that property is cached. In case of <code>System.out.println()</code> it’s the class <code>BufferedWriter</code> which does that caching. Specifying the property at the command line works."},{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":1,"creation_date":1542321678,"post_id":22681789,"comment_id":93538241,"body_markdown":"as pointed out by @Andreas, you can use -Dline.separator=$&#39;\\n&#39;","body":"as pointed out by @Andreas, you can use -Dline.separator=$&#39;\\n&#39;"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1620005310,"post_id":22681789,"comment_id":119066261,"body_markdown":"This is not working on Java 14. I did not check backwards to previous Java versions when it started to break, but unless the property is set on the command line, it definitely has not effect for me, neither with streams nor with writers.","body":"This is not working on Java 14. I did not check backwards to previous Java versions when it started to break, but unless the property is set on the command line, it definitely has not effect for me, neither with streams nor with writers."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1620007201,"post_id":22681789,"comment_id":119066508,"body_markdown":"BTW, does anyone know how to do this on Windows in IntelliJ IDEA run configurations? I found no way to escape a newline character in there.","body":"BTW, does anyone know how to do this on Windows in IntelliJ IDEA run configurations? I found no way to escape a newline character in there."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":9,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1395908347,"creation_date":1395908347,"answer_id":22681789,"question_id":22681534,"body_markdown":"Yes, there is a way and I&#39;ve just tried it. \r\n\r\nThere is a system property `line.separator`. You can set it using `System.setProperty(&quot;line.separator&quot;, whatever)`\r\n\r\nTo be sure that it indeed causes JVM to use other separator I implemented the following exercise:\r\n\r\n\t\tPrintWriter writer = new PrintWriter(new FileWriter(&quot;c:/temp/mytest.txt&quot;));\r\n\t\twriter.println(&quot;hello&quot;);\r\n\t\twriter.println(&quot;world&quot;);\r\n\t\twriter.close();\r\n\r\nI am running on windows now, so the result was 14 bytes long file:\r\n\r\n    03/27/2014  10:13 AM                14 mytest.txt\r\n                   1 File(s)             14 bytes\r\n                   0 Dir(s)  409,157,980,160 bytes free\r\n\r\nHowever when I added the following line to the beginning of my code:\r\n\r\n\t\tSystem.setProperty(&quot;line.separator&quot;, &quot;\\n&quot;);\r\n\r\nI got 14 bytes long file:\r\n\r\n03/27/2014  10:13 AM                14 mytest.txt\r\n               1 File(s)             14 bytes\r\n               0 Dir(s)  409,157,980,160 bytes free\r\n\r\nI opened this file with notepad that does not recognize single `\\n` as a new line and saw one-line text `helloworld` instead of 2 separate lines. So, this works. \r\n","title":"Java change system new-line character","body":"<p>Yes, there is a way and I've just tried it. </p>\n\n<p>There is a system property <code>line.separator</code>. You can set it using <code>System.setProperty(\"line.separator\", whatever)</code></p>\n\n<p>To be sure that it indeed causes JVM to use other separator I implemented the following exercise:</p>\n\n<pre><code>    PrintWriter writer = new PrintWriter(new FileWriter(\"c:/temp/mytest.txt\"));\n    writer.println(\"hello\");\n    writer.println(\"world\");\n    writer.close();\n</code></pre>\n\n<p>I am running on windows now, so the result was 14 bytes long file:</p>\n\n<pre><code>03/27/2014  10:13 AM                14 mytest.txt\n               1 File(s)             14 bytes\n               0 Dir(s)  409,157,980,160 bytes free\n</code></pre>\n\n<p>However when I added the following line to the beginning of my code:</p>\n\n<pre><code>    System.setProperty(\"line.separator\", \"\\n\");\n</code></pre>\n\n<p>I got 14 bytes long file:</p>\n\n<p>03/27/2014  10:13 AM                14 mytest.txt\n               1 File(s)             14 bytes\n               0 Dir(s)  409,157,980,160 bytes free</p>\n\n<p>I opened this file with notepad that does not recognize single <code>\\n</code> as a new line and saw one-line text <code>helloworld</code> instead of 2 separate lines. So, this works. </p>\n"},{"comments":[{"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"score":6,"creation_date":1395917083,"post_id":22681891,"comment_id":34560014,"body_markdown":"you can specify newline as follows `-Dline.separator=$&#39;\\n&#39;`","body":"you can specify newline as follows <code>-Dline.separator=$&#39;\\n&#39;</code>"},{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":3,"creation_date":1542823826,"post_id":22681891,"comment_id":93710560,"body_markdown":"@Andreas +1. bit the $&#39;\\n&#39; usage implies a bash shell, and that requires IFS=&#39; &#39; also to be set, otherwise the newline may be treated as whitespace and discarded.","body":"@Andreas +1. bit the $&#39;\\n&#39; usage implies a bash shell, and that requires IFS=&#39; &#39; also to be set, otherwise the newline may be treated as whitespace and discarded."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1395908610,"creation_date":1395908610,"answer_id":22681891,"question_id":22681534,"body_markdown":"As already stated by others, the system property `line.separator` contains the actual line separator. Strangely, the other answers missed the simple conclusion: you can override that separator by changing that system property at startup time.\r\n\r\nE.g. if you run your program with the option `-Dline.separator=X` at the command line you will get the funny behavior of `System.out.println(…);` ending the line with an `X`.\r\n\r\nThe tricky part is how to specify characters like `\\n` or `\\r` at the command line. But that’s system/environment specific and not a Java question anymore.\r\n","title":"Java change system new-line character","body":"<p>As already stated by others, the system property <code>line.separator</code> contains the actual line separator. Strangely, the other answers missed the simple conclusion: you can override that separator by changing that system property at startup time.</p>\n\n<p>E.g. if you run your program with the option <code>-Dline.separator=X</code> at the command line you will get the funny behavior of <code>System.out.println(…);</code> ending the line with an <code>X</code>.</p>\n\n<p>The tricky part is how to specify characters like <code>\\n</code> or <code>\\r</code> at the command line. But that’s system/environment specific and not a Java question anymore.</p>\n"},{"tags":[],"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395909505,"creation_date":1395909505,"answer_id":22682184,"question_id":22681534,"body_markdown":"As stated in the [Java SE tutorial][1]:\n\n&gt; To modify the existing set of system properties, use\n&gt; System.setProperties. This method takes a Properties object that has\n&gt; been initialized to contain the properties to be set. This method\n&gt; replaces the entire set of system properties with the new set\n&gt; represented by the Properties object. \n&gt;\n&gt; **Warning:** Changing system\n&gt; properties is potentially dangerous and should be done with\n&gt; discretion. Many system properties are not reread after start-up and\n&gt; are there for informational purposes. Changing some properties may\n&gt; have unexpected side-effects.\n\nIn the case of `System.out.println()`, the line separator that existed on system startup will be used. This is probably because [`System.lineSeparator()`][2] is used to terminate the line. From the documentation:\n\n&gt; Returns the system-dependent line separator string. It always returns\n&gt; the same value - the initial value of the system property\n&gt; line.separator.\n&gt; \n&gt; On UNIX systems, it returns &quot;\\n&quot;; on Microsoft Windows systems it\n&gt; returns &quot;\\r\\n&quot;.\n\nAs Holger [pointed out][3], you need to overwrite this property at startup of the JVM.\n\n\n  [1]: http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#lineSeparator--\n  [3]: https://stackoverflow.com/questions/22681534/java-change-system-new-line-character/22681891#22681891","title":"Java change system new-line character","body":"<p>As stated in the <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">Java SE tutorial</a>:</p>\n<blockquote>\n<p>To modify the existing set of system properties, use\nSystem.setProperties. This method takes a Properties object that has\nbeen initialized to contain the properties to be set. This method\nreplaces the entire set of system properties with the new set\nrepresented by the Properties object.</p>\n<p><strong>Warning:</strong> Changing system\nproperties is potentially dangerous and should be done with\ndiscretion. Many system properties are not reread after start-up and\nare there for informational purposes. Changing some properties may\nhave unexpected side-effects.</p>\n</blockquote>\n<p>In the case of <code>System.out.println()</code>, the line separator that existed on system startup will be used. This is probably because <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#lineSeparator--\" rel=\"nofollow noreferrer\"><code>System.lineSeparator()</code></a> is used to terminate the line. From the documentation:</p>\n<blockquote>\n<p>Returns the system-dependent line separator string. It always returns\nthe same value - the initial value of the system property\nline.separator.</p>\n<p>On UNIX systems, it returns &quot;\\n&quot;; on Microsoft Windows systems it\nreturns &quot;\\r\\n&quot;.</p>\n</blockquote>\n<p>As Holger <a href=\"https://stackoverflow.com/questions/22681534/java-change-system-new-line-character/22681891#22681891\">pointed out</a>, you need to overwrite this property at startup of the JVM.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616514692,"creation_date":1616514692,"answer_id":66766654,"question_id":22681534,"body_markdown":"Checked Java 11 implementation:\r\n\r\n    private static void initPhase1() {\r\n        lineSeparator = props.getProperty(&quot;line.separator&quot;);\r\n    }\r\n\r\n    public static String lineSeparator() {\r\n        return lineSeparator;\r\n    }\r\n\r\nSo altering system property at runtime doesn&#39;t change `System.lineSeparator()`.\r\n\r\nFor this reason some projects re-read system property directly, see my answer: https://stackoverflow.com/questions/27969268/how-to-avoid-crlf-carriage-return-and-line-feed-in-logback-cwe-117/66766346#66766346\r\n\r\nThe only viable option is to set system property during app startup.\r\n\r\nFor Bash it is as simple as: `java -Dline.separator=$&#39;\\n&#39; -jar my.jar`.\r\n\r\nFor POSIX shell it is better to save that character in some variable first:\r\n\r\n    LF=&#39;\r\n    &#39;\r\n\r\n    java -Dline.separator=&quot;$LF&quot; -jar my.jar\r\n\r\nIf you are not sure debug it:\r\n\r\n```\r\nprintf %s &quot;$LF&quot; | wc -c\r\n1\r\n\r\nprintf %s &quot;$LF&quot; | od -x\r\n0000000 000a\r\n```\r\n\r\nFor Gradle I use:\r\n\r\n    tasks.withType(Test).configureEach {\r\n        systemProperty &#39;line.separator&#39;, &#39;\\n&#39;\r\n    }\r\n\r\n    bootRun {\r\n        systemProperty &#39;line.separator&#39;, &#39;\\n&#39;\r\n    }","title":"Java change system new-line character","body":"<p>Checked Java 11 implementation:</p>\n<pre><code>private static void initPhase1() {\n    lineSeparator = props.getProperty(&quot;line.separator&quot;);\n}\n\npublic static String lineSeparator() {\n    return lineSeparator;\n}\n</code></pre>\n<p>So altering system property at runtime doesn't change <code>System.lineSeparator()</code>.</p>\n<p>For this reason some projects re-read system property directly, see my answer: <a href=\"https://stackoverflow.com/questions/27969268/how-to-avoid-crlf-carriage-return-and-line-feed-in-logback-cwe-117/66766346#66766346\">How to avoid CRLF (Carriage Return and Line Feed) in Logback - CWE 117</a></p>\n<p>The only viable option is to set system property during app startup.</p>\n<p>For Bash it is as simple as: <code>java -Dline.separator=$'\\n' -jar my.jar</code>.</p>\n<p>For POSIX shell it is better to save that character in some variable first:</p>\n<pre><code>LF='\n'\n\njava -Dline.separator=&quot;$LF&quot; -jar my.jar\n</code></pre>\n<p>If you are not sure debug it:</p>\n<pre><code>printf %s &quot;$LF&quot; | wc -c\n1\n\nprintf %s &quot;$LF&quot; | od -x\n0000000 000a\n</code></pre>\n<p>For Gradle I use:</p>\n<pre><code>tasks.withType(Test).configureEach {\n    systemProperty 'line.separator', '\\n'\n}\n\nbootRun {\n    systemProperty 'line.separator', '\\n'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620121025,"creation_date":1620013053,"answer_id":67363205,"question_id":22681534,"body_markdown":"Because the accepted answer simply does not work, as others pointed out before me, and the JDK only initialises the value once and then never reads the property anymore, only an internal static field, it became clear that the clean way to change the property is to set it on the command line when starting the JVM. So far, so good.\r\n\r\nThe reason I am writing yet another answer is that I want to present a reflective way to change the field, which really works with streams and writers relying on `System.lineSeparator()`. It does not hurt to update the system property, too, but the field is more important.\r\n\r\nI know that reflection is ugly, as of Java 16+ needs an extra JVM command line parameter in order to allow it, and only works as long as the internals of `System` do not change in OpenJDK. But FWIW, here is my solution - don&#39;t do this at home, kids:\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.lang.reflect.Field;\r\nimport java.nio.file.Files;\r\n\r\n/**\r\n * &#39;assert&#39; requires VM parameter &#39;-ea&#39; (enable assert)\r\n * &#39;Field.setAccessible&#39; on System requires &#39;--add-opens java.base/java.lang=ALL-UNNAMED&#39; on Java 16+\r\n */\r\npublic class ChangeLineSeparator {\r\n  public static void main(String[] args) throws IOException, NoSuchFieldException, IllegalAccessException {\r\n    assert System.lineSeparator().equals(&quot;\\r\\n&quot;) : &quot;default Windows line separator should be CRLF&quot;;\r\n    Field lineSeparator = System.class.getDeclaredField(&quot;lineSeparator&quot;);\r\n    lineSeparator.setAccessible(true);\r\n    lineSeparator.set(null, &quot;\\n&quot;);\r\n    assert System.lineSeparator().equals(&quot;\\n&quot;) : &quot;modified separator should be LF&quot;;\r\n\r\n    File tempFile = Files.createTempFile(null, null).toFile();\r\n    tempFile.deleteOnExit();\r\n    try (PrintWriter out = new PrintWriter(new FileWriter(tempFile))) {\r\n      out.println(&quot;foo&quot;);\r\n      out.println(&quot;bar&quot;);\r\n    }\r\n    assert tempFile.length() == &quot;foo\\nbar\\n&quot;.length() : &quot;unexpected file size&quot;;\r\n  }\r\n}\r\n```\r\n","title":"Java change system new-line character","body":"<p>Because the accepted answer simply does not work, as others pointed out before me, and the JDK only initialises the value once and then never reads the property anymore, only an internal static field, it became clear that the clean way to change the property is to set it on the command line when starting the JVM. So far, so good.</p>\n<p>The reason I am writing yet another answer is that I want to present a reflective way to change the field, which really works with streams and writers relying on <code>System.lineSeparator()</code>. It does not hurt to update the system property, too, but the field is more important.</p>\n<p>I know that reflection is ugly, as of Java 16+ needs an extra JVM command line parameter in order to allow it, and only works as long as the internals of <code>System</code> do not change in OpenJDK. But FWIW, here is my solution - don't do this at home, kids:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.lang.reflect.Field;\nimport java.nio.file.Files;\n\n/**\n * 'assert' requires VM parameter '-ea' (enable assert)\n * 'Field.setAccessible' on System requires '--add-opens java.base/java.lang=ALL-UNNAMED' on Java 16+\n */\npublic class ChangeLineSeparator {\n  public static void main(String[] args) throws IOException, NoSuchFieldException, IllegalAccessException {\n    assert System.lineSeparator().equals(&quot;\\r\\n&quot;) : &quot;default Windows line separator should be CRLF&quot;;\n    Field lineSeparator = System.class.getDeclaredField(&quot;lineSeparator&quot;);\n    lineSeparator.setAccessible(true);\n    lineSeparator.set(null, &quot;\\n&quot;);\n    assert System.lineSeparator().equals(&quot;\\n&quot;) : &quot;modified separator should be LF&quot;;\n\n    File tempFile = Files.createTempFile(null, null).toFile();\n    tempFile.deleteOnExit();\n    try (PrintWriter out = new PrintWriter(new FileWriter(tempFile))) {\n      out.println(&quot;foo&quot;);\n      out.println(&quot;bar&quot;);\n    }\n    assert tempFile.length() == &quot;foo\\nbar\\n&quot;.length() : &quot;unexpected file size&quot;;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13460295,"reputation":1223,"user_id":9712582,"display_name":"user9712582"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648314922,"creation_date":1648314922,"answer_id":71630196,"question_id":22681534,"body_markdown":"Windows cmd: Credit jeb at https://superuser.com/a/1519790 for a technique to specify a line-feed character in a parameter using a cmd variable.  This technique can be used to specify the java line.separator.\r\n\r\nHere&#39;s a sample `javalf.cmd` file\r\n\r\n    @echo off\r\n    \r\n    REM define variable %\\n% to be the linefeed character\r\n    (set \\n=^^^\r\n    \r\n    ^\r\n    \r\n    )\r\n    \r\n    REM Start java using the value of %\\n% as the line.separator System property\r\n    java -Dline.separator=%\\n% %1 %2 %3 %4 %5 %6 %7 %8 %9\r\n\r\nHere&#39;s a short test progam.\r\n\r\n    public class ReadLineSeparator {\r\n      public static void main(String... ignore) {\r\n        System.out.println(System.lineSeparator().chars()\r\n                           .mapToObj(c -&gt; &quot;{&quot;+Character.getName(c)+&quot;}&quot;)\r\n                           .collect(java.util.stream.Collectors.joining()));\r\n      }\r\n    }\r\n\r\nOn Windows,\r\n`java ReadLineSeparator` produces \r\n\r\n&lt;pre&gt;{CARRIAGE RETURN (CR)}{LINE FEED (LF)}&lt;/pre&gt;\r\n\r\n`.\\javalf.cmd ReadLineSeparator` produces \r\n\r\n&lt;pre&gt;{LINE FEED (LF)}&lt;/pre&gt;\r\n\r\n","title":"Java change system new-line character","body":"<p>Windows cmd: Credit jeb at <a href=\"https://superuser.com/a/1519790\">https://superuser.com/a/1519790</a> for a technique to specify a line-feed character in a parameter using a cmd variable.  This technique can be used to specify the java line.separator.</p>\n<p>Here's a sample <code>javalf.cmd</code> file</p>\n<pre><code>@echo off\n\nREM define variable %\\n% to be the linefeed character\n(set \\n=^^^\n\n^\n\n)\n\nREM Start java using the value of %\\n% as the line.separator System property\njava -Dline.separator=%\\n% %1 %2 %3 %4 %5 %6 %7 %8 %9\n</code></pre>\n<p>Here's a short test progam.</p>\n<pre><code>public class ReadLineSeparator {\n  public static void main(String... ignore) {\n    System.out.println(System.lineSeparator().chars()\n                       .mapToObj(c -&gt; &quot;{&quot;+Character.getName(c)+&quot;}&quot;)\n                       .collect(java.util.stream.Collectors.joining()));\n  }\n}\n</code></pre>\n<p>On Windows,\n<code>java ReadLineSeparator</code> produces</p>\n<pre>{CARRIAGE RETURN (CR)}{LINE FEED (LF)}</pre>\n<p><code>.\\javalf.cmd ReadLineSeparator</code> produces</p>\n<pre>{LINE FEED (LF)}</pre>\n"}],"owner":{"account_id":319034,"reputation":672,"user_id":636578,"accept_rate":67,"display_name":"Andreas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15062,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":22681891,"answer_count":8,"score":8,"last_activity_date":1666336797,"creation_date":1395907550,"question_id":22681534,"body_markdown":"On Windows, using `System.out.println()` prints out `\\n\\r` while on a Unix system you would get `\\n`.\r\n\r\nIs there any way to tell java what new-line characters you want to use?","title":"Java change system new-line character","body":"<p>On Windows, using <code>System.out.println()</code> prints out <code>\\n\\r</code> while on a Unix system you would get <code>\\n</code>.</p>\n\n<p>Is there any way to tell java what new-line characters you want to use?</p>\n"},{"tags":["java","oracle","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666336664,"creation_date":1666336664,"answer_id":74150028,"question_id":74145676,"body_markdown":"It is not supported yet (as of Vert.x 4.3.4). I have [filed an issue][1], hopefully we can get it in the next release.\r\n\r\n\r\nIn the meantime, as a workaround, you may invoke the Oracle JDBC driver on a worker thread.\r\n\r\n  [1]: https://github.com/eclipse-vertx/vertx-sql-client/issues/1246","title":"How to set OUT parameter in Java Quarkus reactive client?","body":"<p>It is not supported yet (as of Vert.x 4.3.4). I have <a href=\"https://github.com/eclipse-vertx/vertx-sql-client/issues/1246\" rel=\"nofollow noreferrer\">filed an issue</a>, hopefully we can get it in the next release.</p>\n<p>In the meantime, as a workaround, you may invoke the Oracle JDBC driver on a worker thread.</p>\n"}],"owner":{"account_id":26685670,"reputation":11,"user_id":20295030,"display_name":"Anyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666336664,"creation_date":1666295920,"question_id":74145676,"body_markdown":"I need to send a parameter of type OUT in the call to the stored procedure, I can&#39;t find a way to declare (instead of &quot;OUTparameter&quot;) it using quarkus-reactive-oracle-client\r\n\r\nI use:\r\n   \r\n    @Inject\r\n    io.vertx.mutiny.oracleclient.OraclePool client;\r\n\r\nFragment: \r\n\r\n    Uni&lt;RowSet&lt;Row&gt;&gt; rowSet = client.preparedQuery(&quot;{CALL RSMFE02PCK.GET_ALL_XML(?,?)}&quot;).execute(Tuple.of(contract, &quot;OUTparameter&quot;));\r\n    return rowSet.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem().transform(row -&gt; row.getString(0));","title":"How to set OUT parameter in Java Quarkus reactive client?","body":"<p>I need to send a parameter of type OUT in the call to the stored procedure, I can't find a way to declare (instead of &quot;OUTparameter&quot;) it using quarkus-reactive-oracle-client</p>\n<p>I use:</p>\n<pre><code>@Inject\nio.vertx.mutiny.oracleclient.OraclePool client;\n</code></pre>\n<p>Fragment:</p>\n<pre><code>Uni&lt;RowSet&lt;Row&gt;&gt; rowSet = client.preparedQuery(&quot;{CALL RSMFE02PCK.GET_ALL_XML(?,?)}&quot;).execute(Tuple.of(contract, &quot;OUTparameter&quot;));\nreturn rowSet.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem().transform(row -&gt; row.getString(0));\n</code></pre>\n"},{"tags":["java","loops","java.util.scanner","infinite"],"comments":[{"owner":{"account_id":48447,"reputation":44848,"user_id":143938,"display_name":"Jonathan Feinberg"},"score":1,"creation_date":1259116160,"post_id":1794281,"comment_id":1681886,"body_markdown":"Since you haven&#39;t shown anybody what `in` is, or how you constructed it, there&#39;s no telling how it should behave!","body":"Since you haven&#39;t shown anybody what <code>in</code> is, or how you constructed it, there&#39;s no telling how it should behave!"}],"answers":[{"comments":[{"owner":{"account_id":14309,"reputation":4719,"user_id":29326,"accept_rate":91,"display_name":"Tomek"},"score":0,"creation_date":1259119186,"post_id":1794329,"comment_id":1682058,"body_markdown":"is there a reason you make the Scanner final?","body":"is there a reason you make the Scanner final?"},{"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"score":2,"creation_date":1259120910,"post_id":1794329,"comment_id":1682147,"body_markdown":"I make it final since it won&#39;t change. The compiler might do certain optimizations because of this. It&#39;s a good habit to declare everything that can be final. The loop will be broken when the user enters correct input. It&#39;s only infinite if the user choose to make it infinite. If you want, I can edit it so that it only allows for a given number of retries.","body":"I make it final since it won&#39;t change. The compiler might do certain optimizations because of this. It&#39;s a good habit to declare everything that can be final. The loop will be broken when the user enters correct input. It&#39;s only infinite if the user choose to make it infinite. If you want, I can edit it so that it only allows for a given number of retries."},{"owner":{"account_id":14309,"reputation":4719,"user_id":29326,"accept_rate":91,"display_name":"Tomek"},"score":0,"creation_date":1259121244,"post_id":1794329,"comment_id":1682163,"body_markdown":"I mean if i enter a &#39;w&#39; it goes into an infinite loop of displaying\n\n&quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;\n&quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;\n&quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;\n\nand so on. It was not until I added the in.next() to the catch statement to &quot;to clear the &#39;w&#39; or other invalid input from the Scanner&quot; as Brasse said. Unrelated, but you produce some quality code","body":"I mean if i enter a &#39;w&#39; it goes into an infinite loop of displaying  &quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot; &quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot; &quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;  and so on. It was not until I added the in.next() to the catch statement to &quot;to clear the &#39;w&#39; or other invalid input from the Scanner&quot; as Brasse said. Unrelated, but you produce some quality code"},{"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"score":0,"creation_date":1259121930,"post_id":1794329,"comment_id":1682207,"body_markdown":"I fix my example to properly discard non-int inputs.","body":"I fix my example to properly discard non-int inputs."},{"owner":{"account_id":14309,"reputation":4719,"user_id":29326,"accept_rate":91,"display_name":"Tomek"},"score":0,"creation_date":1259122180,"post_id":1794329,"comment_id":1682217,"body_markdown":"thank you but the in.next() statement should go in the catch block","body":"thank you but the in.next() statement should go in the catch block"},{"owner":{"account_id":118410,"reputation":62929,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"score":0,"creation_date":1288888383,"post_id":1794329,"comment_id":4410980,"body_markdown":"congratulations for doing cargo cult programming","body":"congratulations for doing cargo cult programming"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1527843246,"post_id":1794329,"comment_id":88289206,"body_markdown":"As @RichFletcher pointed out, it&#39;s not true that &quot;`hasNextInt()` does not block.&quot; The documentation is explicit on that point. I think what you meant was that `hasNextInt()` doesn&#39;t advance past any input.","body":"As @RichFletcher pointed out, it&#39;s not true that &quot;<code>hasNextInt()</code> does not block.&quot; The documentation is explicit on that point. I think what you meant was that <code>hasNextInt()</code> doesn&#39;t advance past any input."}],"tags":[],"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"comment_count":7,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1259122830,"creation_date":1259117104,"answer_id":1794329,"question_id":1794281,"body_markdown":"Flag variables are too error prone to use. Use explicit loop control with comments instead. Also, [`hasNextInt()`][1] does not block. It&#39;s the non-blocking check to see if a future [`next`][2] call could get input without blocking. If you want to block, use the [`nextInt()`][3] method.\r\n\r\n    // Scanner that will read the integer\r\n    final Scanner in = new Scanner(System.in);\r\n    int inputInt;\r\n    do {  // Loop until we have correct input\r\n        System.out.print(&quot;Specify an integer between 0 and 5: &quot;);\r\n        try {\r\n            inputInt = in.nextInt(); // Blocks for user input\r\n            if (inputInt &gt;= 0 &amp;&amp; inputInt &lt;= 5)  { \r\n                break;    // Got valid input, stop looping\r\n            } else {\r\n                System.out.println(&quot;You have not entered a number between 0 and 5. Try again.&quot;);\r\n                continue; // restart loop, wrong number\r\n             }\r\n        } catch (final InputMismatchException e) {\r\n            System.out.println(&quot;You have entered an invalid input. Try again.&quot;);\r\n            in.next();    // discard non-int input\r\n            continue;     // restart loop, didn&#39;t get an integer input\r\n        }\r\n    } while (true);\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#hasNextInt()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#next()\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#nextInt()","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>Flag variables are too error prone to use. Use explicit loop control with comments instead. Also, <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#hasNextInt()\" rel=\"nofollow noreferrer\"><code>hasNextInt()</code></a> does not block. It's the non-blocking check to see if a future <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\"><code>next</code></a> call could get input without blocking. If you want to block, use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\"><code>nextInt()</code></a> method.</p>\n\n<pre><code>// Scanner that will read the integer\nfinal Scanner in = new Scanner(System.in);\nint inputInt;\ndo {  // Loop until we have correct input\n    System.out.print(\"Specify an integer between 0 and 5: \");\n    try {\n        inputInt = in.nextInt(); // Blocks for user input\n        if (inputInt &gt;= 0 &amp;&amp; inputInt &lt;= 5)  { \n            break;    // Got valid input, stop looping\n        } else {\n            System.out.println(\"You have not entered a number between 0 and 5. Try again.\");\n            continue; // restart loop, wrong number\n         }\n    } catch (final InputMismatchException e) {\n        System.out.println(\"You have entered an invalid input. Try again.\");\n        in.next();    // discard non-int input\n        continue;     // restart loop, didn't get an integer input\n    }\n} while (true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1259117247,"creation_date":1259117247,"answer_id":1794333,"question_id":1794281,"body_markdown":"In your last `else` block, you need to clear the &#39;w&#39; or other invalid input from the Scanner.  You can do this by calling `next()` on the Scanner and ignoring its return value to throw away that invalid input, as follows:\r\n\r\n    else\r\n    {\r\n          System.out.println(&quot;You have entered an invalid input. Try again.&quot;);\r\n          in.next();\r\n    }\r\n","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>In your last <code>else</code> block, you need to clear the 'w' or other invalid input from the Scanner.  You can do this by calling <code>next()</code> on the Scanner and ignoring its return value to throw away that invalid input, as follows:</p>\n\n<pre><code>else\n{\n      System.out.println(\"You have entered an invalid input. Try again.\");\n      in.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1272950400,"creation_date":1272950400,"answer_id":2762976,"question_id":1794281,"body_markdown":"The problem was that you did not advance the `Scanner` past the problematic input. From [`hasNextInt()`](http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#hasNextInt%28%29) documentation:\r\n\r\n&gt; Returns `true` if the next token in this scanner&#39;s input can be interpreted as an `int` value in the default radix using the `nextInt()` method. **The scanner does not advance past any input.**\r\n\r\nThis is true of all `hasNextXXX()` methods: they return `true` or `false`, without advancing the `Scanner`.\r\n\r\nHere&#39;s a snippet to illustrate the problem:\r\n\r\n\t\tString input = &quot;1 2 3 oops 4 5 6&quot;;\r\n\t\tScanner sc = new Scanner(input);\r\n\t\twhile (sc.hasNext()) {\r\n\t\t\tif (sc.hasNextInt()) {\r\n\t\t\t\tint num = sc.nextInt();\r\n\t\t\t\tSystem.out.println(&quot;Got &quot; + num);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;int, please!&quot;);\r\n\t\t\t\t//sc.next(); // uncomment to fix!\r\n\t\t\t}\r\n\t\t}\r\n\r\nYou will find that this program will go into an infinite loop, asking `int, please!` repeatedly.\r\n\r\nIf you uncomment the `sc.next()` statement, then it will make the `Scanner` go past the token that fails `hasNextInt()`. The program would then print:\r\n\r\n    Got 1\r\n    Got 2\r\n    Got 3\r\n    int, please!\r\n    Got 4\r\n    Got 5\r\n    Got 6\r\n\r\nThe fact that a failed `hasNextXXX()` check doesn&#39;t skip the input is intentional: it allows you to perform additional checks on that token if necessary. Here&#39;s an example to illustrate:\r\n\r\n\t\tString input = &quot; 1 true foo 2 false bar 3 &quot;;\r\n\t\tScanner sc = new Scanner(input);\r\n\t\twhile (sc.hasNext()) {\r\n\t\t\tif (sc.hasNextInt()) {\r\n\t\t\t\tSystem.out.println(&quot;(int) &quot; + sc.nextInt());\r\n\t\t\t} else if (sc.hasNextBoolean()) {\r\n\t\t\t\tSystem.out.println(&quot;(boolean) &quot; + sc.nextBoolean());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(sc.next());\r\n\t\t\t}\r\n\t\t}\r\n\r\nIf you run this program, it will output the following:\r\n\r\n    (int) 1\r\n    (boolean) true\r\n    foo\r\n    (int) 2\r\n    (boolean) false\r\n    bar\r\n    (int) 3\r\n\r\n","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>The problem was that you did not advance the <code>Scanner</code> past the problematic input. From <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#hasNextInt%28%29\" rel=\"noreferrer\"><code>hasNextInt()</code></a> documentation:</p>\n\n<blockquote>\n  <p>Returns <code>true</code> if the next token in this scanner's input can be interpreted as an <code>int</code> value in the default radix using the <code>nextInt()</code> method. <strong>The scanner does not advance past any input.</strong></p>\n</blockquote>\n\n<p>This is true of all <code>hasNextXXX()</code> methods: they return <code>true</code> or <code>false</code>, without advancing the <code>Scanner</code>.</p>\n\n<p>Here's a snippet to illustrate the problem:</p>\n\n<pre><code>    String input = \"1 2 3 oops 4 5 6\";\n    Scanner sc = new Scanner(input);\n    while (sc.hasNext()) {\n        if (sc.hasNextInt()) {\n            int num = sc.nextInt();\n            System.out.println(\"Got \" + num);\n        } else {\n            System.out.println(\"int, please!\");\n            //sc.next(); // uncomment to fix!\n        }\n    }\n</code></pre>\n\n<p>You will find that this program will go into an infinite loop, asking <code>int, please!</code> repeatedly.</p>\n\n<p>If you uncomment the <code>sc.next()</code> statement, then it will make the <code>Scanner</code> go past the token that fails <code>hasNextInt()</code>. The program would then print:</p>\n\n<pre><code>Got 1\nGot 2\nGot 3\nint, please!\nGot 4\nGot 5\nGot 6\n</code></pre>\n\n<p>The fact that a failed <code>hasNextXXX()</code> check doesn't skip the input is intentional: it allows you to perform additional checks on that token if necessary. Here's an example to illustrate:</p>\n\n<pre><code>    String input = \" 1 true foo 2 false bar 3 \";\n    Scanner sc = new Scanner(input);\n    while (sc.hasNext()) {\n        if (sc.hasNextInt()) {\n            System.out.println(\"(int) \" + sc.nextInt());\n        } else if (sc.hasNextBoolean()) {\n            System.out.println(\"(boolean) \" + sc.nextBoolean());\n        } else {\n            System.out.println(sc.next());\n        }\n    }\n</code></pre>\n\n<p>If you run this program, it will output the following:</p>\n\n<pre><code>(int) 1\n(boolean) true\nfoo\n(int) 2\n(boolean) false\nbar\n(int) 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341271,"reputation":53,"user_id":671771,"display_name":"Rich Fletcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1300819706,"creation_date":1300819706,"answer_id":5396298,"question_id":1794281,"body_markdown":"This statement by Ben S. about the non-blocking call is false:\r\n\r\n&gt; Also, hasNextInt() does not block. It&#39;s the non-blocking check to see if a future next call could get input without blocking. \r\n\r\n...although I do recognize that the [documentation][1] can easily be misread to give this opinion, and the name itself implies it is to be used for this purpose.  The relevant quote, with emphasis added:\r\n\r\n&gt; The next() and hasNext() methods **and their primitive-type companion methods (such as nextInt() and hasNextInt())** first skip any input that matches the delimiter pattern, and then attempt to return the next token. **Both hasNext and next methods may block waiting for further input.** Whether a hasNext method blocks has no connection to whether or not its associated next method will block. \r\n\r\nIt is a subtle point, to be sure.  Either saying &quot;Both **the** hasNext and next methods&quot;, or &quot;Both hasnext() and next()&quot; would have implied that the companion methods would act differently.  But seeing as they conform to the same naming convention (and the documentation, of course), it&#39;s reasonable to expect they act the same, and [hasNext()][2]\r\nclearly says that it can block.\r\n\r\nMeta note: this should probably be a comment to the incorrect post, but it seems that as a new user I can only post this answer (or edit the wiki which seems to be preferred for sytlistic changes, not those of substance).\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html#hasNext%28%29","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>This statement by Ben S. about the non-blocking call is false:</p>\n\n<blockquote>\n  <p>Also, hasNextInt() does not block. It's the non-blocking check to see if a future next call could get input without blocking. </p>\n</blockquote>\n\n<p>...although I do recognize that the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"nofollow\">documentation</a> can easily be misread to give this opinion, and the name itself implies it is to be used for this purpose.  The relevant quote, with emphasis added:</p>\n\n<blockquote>\n  <p>The next() and hasNext() methods <strong>and their primitive-type companion methods (such as nextInt() and hasNextInt())</strong> first skip any input that matches the delimiter pattern, and then attempt to return the next token. <strong>Both hasNext and next methods may block waiting for further input.</strong> Whether a hasNext method blocks has no connection to whether or not its associated next method will block. </p>\n</blockquote>\n\n<p>It is a subtle point, to be sure.  Either saying \"Both <strong>the</strong> hasNext and next methods\", or \"Both hasnext() and next()\" would have implied that the companion methods would act differently.  But seeing as they conform to the same naming convention (and the documentation, of course), it's reasonable to expect they act the same, and <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Scanner.html#hasNext%28%29\" rel=\"nofollow\">hasNext()</a>\nclearly says that it can block.</p>\n\n<p>Meta note: this should probably be a comment to the incorrect post, but it seems that as a new user I can only post this answer (or edit the wiki which seems to be preferred for sytlistic changes, not those of substance).</p>\n"}],"owner":{"account_id":14309,"reputation":4719,"user_id":29326,"accept_rate":91,"display_name":"Tomek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54944,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":1794333,"answer_count":4,"score":22,"last_activity_date":1666336523,"creation_date":1259115952,"question_id":1794281,"body_markdown":"I am using the following code:\r\n\r\n    while (invalidInput)\r\n    {\r\n        // ask the user to specify a number to update the times by\r\n        System.out.print(&quot;Specify an integer between 0 and 5: &quot;);\r\n\r\n        if (in.hasNextInt())\r\n        {\r\n            // get the update value\r\n            updateValue = in.nextInt();\r\n\t\t\t\t\r\n            // check to see if it was within range\r\n            if (updateValue &gt;= 0 &amp;&amp; updateValue &lt;= 5) \r\n            { \r\n                invalidInput = false; \r\n            } \r\n            else \r\n            {\r\n                System.out.println(&quot;You have not entered a number between 0 and 5. Try again.&quot;);\r\n            }\r\n        } else\r\n        {\r\n            System.out.println(&quot;You have entered an invalid input. Try again.&quot;);\r\n        }\r\n    }\r\n\r\nHowever, if I enter a &#39;w&#39; it will tell me &quot;You have entered invalid input. Try Again.&quot; and then it will go into an infinite loop showing the text &quot;Specify an integer between 0 and 5: You have entered an invalid input. Try again.&quot;\r\n\r\nWhy is this happening? Isn&#39;t the program supposed to wait for the user to input and press enter each time it reaches the statement:\r\n\r\n    if (in.hasNextInt())\r\n","title":"Java: Infinite loop using Scanner in.hasNextInt()","body":"<p>I am using the following code:</p>\n\n<pre><code>while (invalidInput)\n{\n    // ask the user to specify a number to update the times by\n    System.out.print(\"Specify an integer between 0 and 5: \");\n\n    if (in.hasNextInt())\n    {\n        // get the update value\n        updateValue = in.nextInt();\n\n        // check to see if it was within range\n        if (updateValue &gt;= 0 &amp;&amp; updateValue &lt;= 5) \n        { \n            invalidInput = false; \n        } \n        else \n        {\n            System.out.println(\"You have not entered a number between 0 and 5. Try again.\");\n        }\n    } else\n    {\n        System.out.println(\"You have entered an invalid input. Try again.\");\n    }\n}\n</code></pre>\n\n<p>However, if I enter a 'w' it will tell me \"You have entered invalid input. Try Again.\" and then it will go into an infinite loop showing the text \"Specify an integer between 0 and 5: You have entered an invalid input. Try again.\"</p>\n\n<p>Why is this happening? Isn't the program supposed to wait for the user to input and press enter each time it reaches the statement:</p>\n\n<pre><code>if (in.hasNextInt())\n</code></pre>\n"},{"tags":["java","spring-boot","cookies"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1666480240,"post_id":74149765,"comment_id":130947907,"body_markdown":"did you check my answer?","body":"did you check my answer?"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666336464,"creation_date":1666336464,"answer_id":74149993,"question_id":74149765,"body_markdown":"Try with \r\n \r\n\r\n    public void deleteCookiesFromDomain(HttpServletRequest request, HttpServletResponse response, String domain) {\r\n\t    Arrays.stream(request.getCookies()).filter(cookie -&gt; cookie.getDomain().equals(domain)).forEach(cookie -&gt; {\r\n\t        cookie.setMaxAge(0);\r\n\t        cookie.setPath(&quot;/&quot;);\r\n            response.addCookie(cookie);\r\n        });\r\n\r\n`HttpServletRequest` and `HttpServletResponse` could be injected in your controller from Spring if requested.","title":"Springboot : delete all cookies for a specific domain","body":"<p>Try with</p>\n<pre><code>public void deleteCookiesFromDomain(HttpServletRequest request, HttpServletResponse response, String domain) {\n    Arrays.stream(request.getCookies()).filter(cookie -&gt; cookie.getDomain().equals(domain)).forEach(cookie -&gt; {\n        cookie.setMaxAge(0);\n        cookie.setPath(&quot;/&quot;);\n        response.addCookie(cookie);\n    });\n</code></pre>\n<p><code>HttpServletRequest</code> and <code>HttpServletResponse</code> could be injected in your controller from Spring if requested.</p>\n"}],"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74149993,"answer_count":1,"score":1,"last_activity_date":1666336464,"creation_date":1666335158,"question_id":74149765,"body_markdown":"I am deleting cookies one by one by manually providing cookie field names for specific domain by using below code in spring boot.\r\n\r\n    ResponseCookie rs = ResponseCookie.from(&quot;&lt;cookie field key&gt;&quot;,null).domain(&quot;abc.com&quot;).maxAge(0).path(&quot;/&quot;).build();\r\n    headers.add(HttpHeaders.SET_COOKIE,rs.toString());\r\n\r\nBut I want to delete all the cookies for a specific domain without providing cookie field names.","title":"Springboot : delete all cookies for a specific domain","body":"<p>I am deleting cookies one by one by manually providing cookie field names for specific domain by using below code in spring boot.</p>\n<pre><code>ResponseCookie rs = ResponseCookie.from(&quot;&lt;cookie field key&gt;&quot;,null).domain(&quot;abc.com&quot;).maxAge(0).path(&quot;/&quot;).build();\nheaders.add(HttpHeaders.SET_COOKIE,rs.toString());\n</code></pre>\n<p>But I want to delete all the cookies for a specific domain without providing cookie field names.</p>\n"},{"tags":["java","date","datetime","pdf","datetime-format"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666291146,"post_id":74110869,"comment_id":130908205,"body_markdown":"I put my suggestion here: https://rextester.com/OQF29673. It’s longer but also more explicit and doesn’t use the `p` format pattern letter because it’s really for space padding, not zero padding, so I considered it an unpleasant hack.","body":"I put my suggestion here: <a href=\"https://rextester.com/OQF29673\" rel=\"nofollow noreferrer\">rextester.com/OQF29673</a>. It’s longer but also more explicit and doesn’t use the <code>p</code> format pattern letter because it’s really for space padding, not zero padding, so I considered it an unpleasant hack."}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1666115275,"post_id":74112301,"comment_id":130857562,"body_markdown":"Good find! However, you still need to make two changes for this to work for the full format: (1) `dateTimeString = dateTimeString.replaceAll(&quot;&#39;(\\\\d{2})&#39;$&quot;, &quot;:$1&quot;);`. There can be other alternatives but this is an easy option. (2) Use  `XXX` in the pattern i.e. use the pattern `&quot;[&#39;D:&#39;]ppppy[ppM[ppd[ppH[ppm[pps[XXX]]]]]]&quot;`.","body":"Good find! However, you still need to make two changes for this to work for the full format: (1) <code>dateTimeString = dateTimeString.replaceAll(&quot;&#39;(\\\\d{2})&#39;$&quot;, &quot;:$1&quot;);</code>. There can be other alternatives but this is an easy option. (2) Use  <code>XXX</code> in the pattern i.e. use the pattern <code>&quot;[&#39;D:&#39;]ppppy[ppM[ppd[ppH[ppm[pps[XXX]]]]]]&quot;</code>."},{"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"score":0,"creation_date":1666163047,"post_id":74112301,"comment_id":130867388,"body_markdown":"Yes, single quotes have to be removed. I&#39;ll update the answer. However, I&#39;d rather use `replaceAll(&quot;&#39;&quot;, &quot;&quot;)` in order to allow for missing offset minutes. Parsing the whole string works for me using `X`. And I think for formatting, accoding to https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html you would have to use `XX` to get the same format (minus the single quotes).","body":"Yes, single quotes have to be removed. I&#39;ll update the answer. However, I&#39;d rather use <code>replaceAll(&quot;&#39;&quot;, &quot;&quot;)</code> in order to allow for missing offset minutes. Parsing the whole string works for me using <code>X</code>. And I think for formatting, accoding to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a> you would have to use <code>XX</code> to get the same format (minus the single quotes)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1666209555,"post_id":74112301,"comment_id":130884497,"body_markdown":"Prefer `YearMonth` over `Month` when we know a year must be present. Also prefer `OffsetDateTime` over `ZonedDateTime` when you may have an offset but certainly no time zone . A single quote, `&#39;`, can be parsed when you place two of them in the pattern, `&#39;&#39;`. I find this nicer than the manual removal.","body":"Prefer <code>YearMonth</code> over <code>Month</code> when we know a year must be present. Also prefer <code>OffsetDateTime</code> over <code>ZonedDateTime</code> when you may have an offset but certainly no time zone . A single quote, <code>&#39;</code>, can be parsed when you place two of them in the pattern, <code>&#39;&#39;</code>. I find this nicer than the manual removal."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666210482,"post_id":74112301,"comment_id":130884808,"body_markdown":"Please forget what I said about the apostrophe.  It doesn&#39;t work within a UTC offset.","body":"Please forget what I said about the apostrophe.  It doesn&#39;t work within a UTC offset."}],"tags":[],"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666336265,"creation_date":1666101587,"answer_id":74112301,"question_id":74110869,"body_markdown":"I&#39;ve found a solution:\r\n\r\n```java\r\nString dateString = &quot;D:20020101120000+01&#39;00&#39;&quot;;\r\nString normalized = dateString.replace(&quot;&#39;&quot;, &quot;&quot;);\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;[&#39;D:&#39;]ppppy[ppM[ppd[ppH[ppm[pps[X]]]]]]&quot;);\r\nTemporalAccessor temporalAccessor = formatter.parseBest(normalized,\r\n    OffsetDateTime::from,\r\n    LocalDateTime::from,\r\n    LocalDate::from,\r\n    YearMonth::from,\r\n    Year::from\r\n);\r\n```\r\n\r\nAs it seems, the length of the components is ambiguous and parsing of the date without any separators thus failed.\r\nWhen specifying a padding, the length of each component is clearly stated and the date can therefore be parsed.\r\n\r\nAt least that&#39;s my theory.","title":"Parsing PDF date using Java DateTimeFormatter","body":"<p>I've found a solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String dateString = &quot;D:20020101120000+01'00'&quot;;\nString normalized = dateString.replace(&quot;'&quot;, &quot;&quot;);\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;['D:']ppppy[ppM[ppd[ppH[ppm[pps[X]]]]]]&quot;);\nTemporalAccessor temporalAccessor = formatter.parseBest(normalized,\n    OffsetDateTime::from,\n    LocalDateTime::from,\n    LocalDate::from,\n    YearMonth::from,\n    Year::from\n);\n</code></pre>\n<p>As it seems, the length of the components is ambiguous and parsing of the date without any separators thus failed.\nWhen specifying a padding, the length of each component is clearly stated and the date can therefore be parsed.</p>\n<p>At least that's my theory.</p>\n"}],"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74112301,"answer_count":1,"score":2,"last_activity_date":1666336265,"creation_date":1666095627,"question_id":74110869,"body_markdown":"I&#39;m trying to parse the date format used in PDFs. According to [this page][1], the format looks as follows:\r\n\r\n    D:YYYYMMDDHHmmSSOHH&#39;mm&#39;\r\n\r\nWhere all components except the year are optional. I assume this means the string can be cut off at any point as i.e. specifying a year and an hour without specifying a month and a day seems kind of pointless to me. Also, it would make parsing pretty much impossible.\r\n\r\nAs far as I can tell, Java does not support zone offsets containing single quotes. Therefore, the first step would be to get rid of those:\r\n\r\n    D:YYYYMMDDHHmmSSOHHmm\r\n\r\nThe resulting Java date pattern should then look like this:\r\n\r\n    [&#39;D:&#39;]uuuu[MM[dd[HH[mm[ss[X]]]]]]\r\n\r\nAnd my overall code looks like this:\r\n```java\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;[&#39;D:&#39;]uuuu[MM[dd[HH[mm[ss[X]]]]]]&quot;);\r\nTemporalAccessor temporalAccessor = formatter.parseBest(&quot;D:20020101&quot;,\r\n    ZonedDateTime::from,\r\n    LocalDateTime::from,\r\n    LocalDate::from,\r\n    Month::from,\r\n    Year::from\r\n);\r\n```\r\nI would expect that to result in a LocalDate object but what I get is `java.time.format.DateTimeParseException: Text &#39;D:20020101&#39; could not be parsed at index 2`.\r\n\r\nI&#39;ve played around a bit with that and found out that everything works fine with the optional literal at the beginning but as soon as I add optional date components, I get an exception.\r\n\r\nCan anybody tell me what I&#39;m doing wrong?\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://www.verypdf.com/pdfinfoeditor/pdf-date-format.htm","title":"Parsing PDF date using Java DateTimeFormatter","body":"<p>I'm trying to parse the date format used in PDFs. According to <a href=\"https://www.verypdf.com/pdfinfoeditor/pdf-date-format.htm\" rel=\"nofollow noreferrer\">this page</a>, the format looks as follows:</p>\n<pre><code>D:YYYYMMDDHHmmSSOHH'mm'\n</code></pre>\n<p>Where all components except the year are optional. I assume this means the string can be cut off at any point as i.e. specifying a year and an hour without specifying a month and a day seems kind of pointless to me. Also, it would make parsing pretty much impossible.</p>\n<p>As far as I can tell, Java does not support zone offsets containing single quotes. Therefore, the first step would be to get rid of those:</p>\n<pre><code>D:YYYYMMDDHHmmSSOHHmm\n</code></pre>\n<p>The resulting Java date pattern should then look like this:</p>\n<pre><code>['D:']uuuu[MM[dd[HH[mm[ss[X]]]]]]\n</code></pre>\n<p>And my overall code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;['D:']uuuu[MM[dd[HH[mm[ss[X]]]]]]&quot;);\nTemporalAccessor temporalAccessor = formatter.parseBest(&quot;D:20020101&quot;,\n    ZonedDateTime::from,\n    LocalDateTime::from,\n    LocalDate::from,\n    Month::from,\n    Year::from\n);\n</code></pre>\n<p>I would expect that to result in a LocalDate object but what I get is <code>java.time.format.DateTimeParseException: Text 'D:20020101' could not be parsed at index 2</code>.</p>\n<p>I've played around a bit with that and found out that everything works fine with the optional literal at the beginning but as soon as I add optional date components, I get an exception.</p>\n<p>Can anybody tell me what I'm doing wrong?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"score":0,"creation_date":1666384672,"post_id":74138652,"comment_id":130932964,"body_markdown":"Thank you for your answer! It helped me to understand the logic behind it, but I&#39;m facing some issues when trying to put it in practice.\nI would be grateful if you could take a look in what I&#39;ve done: https://pastebin.com/fQaiqNCT","body":"Thank you for your answer! It helped me to understand the logic behind it, but I&#39;m facing some issues when trying to put it in practice. I would be grateful if you could take a look in what I&#39;ve done: <a href=\"https://pastebin.com/fQaiqNCT\" rel=\"nofollow noreferrer\">pastebin.com/fQaiqNCT</a>"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666436586,"post_id":74138652,"comment_id":130939515,"body_markdown":"&quot;some issues&quot; is really hard to help with. If you set breakpoints on each line of the code you shared, run in the debugger, and then check the value of every variable on every line, which is the *first* one that doesn&#39;t do what you expect it to do?","body":"&quot;some issues&quot; is really hard to help with. If you set breakpoints on each line of the code you shared, run in the debugger, and then check the value of every variable on every line, which is the <i>first</i> one that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"score":0,"creation_date":1666527081,"post_id":74138652,"comment_id":130953619,"body_markdown":"Sorry, I expressed myself wrongly. The problem is, even though I tried to do as you told me in the answer earlier, about using the UID and such. I still keep getting blocked from saving the data, because it points out that the username is already in use...","body":"Sorry, I expressed myself wrongly. The problem is, even though I tried to do as you told me in the answer earlier, about using the UID and such. I still keep getting blocked from saving the data, because it points out that the username is already in use..."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1666589024,"post_id":74138652,"comment_id":130964339,"body_markdown":"That&#39;s the final result that is not what you want. Instead: try to find he first line that isn&#39;t working. --- If you set breakpoints on each line of the code you shared, run in the debugger, and then check the value of every variable on every line, which is the first one that doesn&#39;t do what you expect it to do?","body":"That&#39;s the final result that is not what you want. Instead: try to find he first line that isn&#39;t working. --- If you set breakpoints on each line of the code you shared, run in the debugger, and then check the value of every variable on every line, which is the first one that doesn&#39;t do what you expect it to do?"}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666263122,"creation_date":1666263122,"answer_id":74138652,"question_id":74134480,"body_markdown":"You&#39;ll need to have some indication in each `Users` document to indicate **which** user has claimed that specific name. Given that you store the username *inside* the document, ownership would typically be established by using the UID of the user as the ID of the document.\r\n\r\nOnce you have run your query to find the document for the username, you can then check the UID of the owner of that username against the currently signed in user. If the two UIDs are the same, the current user owns the username and is allowed to update the document.","title":"How to update user data without changes into Firestore when it&#39;s checking for already existence in database?","body":"<p>You'll need to have some indication in each <code>Users</code> document to indicate <strong>which</strong> user has claimed that specific name. Given that you store the username <em>inside</em> the document, ownership would typically be established by using the UID of the user as the ID of the document.</p>\n<p>Once you have run your query to find the document for the username, you can then check the UID of the owner of that username against the currently signed in user. If the two UIDs are the same, the current user owns the username and is allowed to update the document.</p>\n"},{"tags":[],"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666336184,"creation_date":1666335598,"answer_id":74149843,"question_id":74134480,"body_markdown":"Compare new username with previous username(store it in a variable while displaying user profile data), if both are same don&#39;t update it all else check for its uniqueness.\r\nor if you don&#39;t have existing  username data create relationship with that document and fetch previous username first.","title":"How to update user data without changes into Firestore when it&#39;s checking for already existence in database?","body":"<p>Compare new username with previous username(store it in a variable while displaying user profile data), if both are same don't update it all else check for its uniqueness.\nor if you don't have existing  username data create relationship with that document and fetch previous username first.</p>\n"}],"owner":{"account_id":15604510,"reputation":35,"user_id":11257675,"display_name":"W. Braz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666336184,"creation_date":1666240451,"question_id":74134480,"body_markdown":"I recently implemented unique username into my app when registering, all good far here, by the way I also need to set it to when the user is editting it&#39;s profile.\r\n\r\nI tried to do the same thing, but I&#39;m facing an issue here. The app don&#39;t let save the profile, because it&#39;s checking if the username&#39;s taken and, as we&#39;re already using one, it won&#39;t let us do it.\r\n\r\n***Ex.:*** My username is **&quot;bob&quot;**, I changed my profile pic or my display name, so when I click to save, the app will do a username checking in the background and will not let me save it because the username is already taken, but the problem is that it&#39;s already my user. \r\n\r\nI&#39;ve tried to set this, but failed:\r\n\r\n    if (document.equals(setup_username.getText().toString()) || document.isEmpty()){\r\n        updateProfile();\r\n\r\nHere&#39;s my code:\r\n\r\n    setup_progressbar.setVisibility(View.VISIBLE);\r\n    FirebaseFirestore.getInstance().collection(&quot;Users&quot;).whereEqualTo(&quot;username&quot;,setup_username.getText().toString()).get().addOnCompleteListener((task) -&gt; {\r\n        if (task.isSuccessful()){\r\n            List&lt;DocumentSnapshot&gt; document = task.getResult().getDocuments();\r\n            if (document.equals(setup_username.getText().toString()) || document.isEmpty()){\r\n                updateProfile();\r\n            } else {\r\n                setup_progressbar.setVisibility(View.INVISIBLE);\r\n                setup_username.setError(getString(R.string.username_taken));\r\n                return;\r\n            }\r\n        } else {\r\n            setup_progressbar.setVisibility(View.INVISIBLE);\r\n            String error = task.getException().getMessage();\r\n            FancyToast.makeText(getApplicationContext(), error, FancyToast.LENGTH_SHORT, FancyToast.ERROR, false).show();\r\n        }\r\n    });\r\n\r\n*So how to get around this and only forbid it when I try to change my username to another that is taken? Like: **&quot;bob&quot;** to **&quot;bill&quot;**, but **&quot;bill&quot;** is already taken, so it won&#39;t allow.*","title":"How to update user data without changes into Firestore when it&#39;s checking for already existence in database?","body":"<p>I recently implemented unique username into my app when registering, all good far here, by the way I also need to set it to when the user is editting it's profile.</p>\n<p>I tried to do the same thing, but I'm facing an issue here. The app don't let save the profile, because it's checking if the username's taken and, as we're already using one, it won't let us do it.</p>\n<p><em><strong>Ex.:</strong></em> My username is <strong>&quot;bob&quot;</strong>, I changed my profile pic or my display name, so when I click to save, the app will do a username checking in the background and will not let me save it because the username is already taken, but the problem is that it's already my user.</p>\n<p>I've tried to set this, but failed:</p>\n<pre><code>if (document.equals(setup_username.getText().toString()) || document.isEmpty()){\n    updateProfile();\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>setup_progressbar.setVisibility(View.VISIBLE);\nFirebaseFirestore.getInstance().collection(&quot;Users&quot;).whereEqualTo(&quot;username&quot;,setup_username.getText().toString()).get().addOnCompleteListener((task) -&gt; {\n    if (task.isSuccessful()){\n        List&lt;DocumentSnapshot&gt; document = task.getResult().getDocuments();\n        if (document.equals(setup_username.getText().toString()) || document.isEmpty()){\n            updateProfile();\n        } else {\n            setup_progressbar.setVisibility(View.INVISIBLE);\n            setup_username.setError(getString(R.string.username_taken));\n            return;\n        }\n    } else {\n        setup_progressbar.setVisibility(View.INVISIBLE);\n        String error = task.getException().getMessage();\n        FancyToast.makeText(getApplicationContext(), error, FancyToast.LENGTH_SHORT, FancyToast.ERROR, false).show();\n    }\n});\n</code></pre>\n<p><em>So how to get around this and only forbid it when I try to change my username to another that is taken? Like: <strong>&quot;bob&quot;</strong> to <strong>&quot;bill&quot;</strong>, but <strong>&quot;bill&quot;</strong> is already taken, so it won't allow.</em></p>\n"},{"tags":["java","spring-boot","camunda","camunda-modeler"],"comments":[{"owner":{"account_id":1421688,"reputation":146,"user_id":1346176,"display_name":"Jayarajan"},"score":0,"creation_date":1666471311,"post_id":74149893,"comment_id":130946587,"body_markdown":"If you are using Camunda 7 - this link might help https://docs.camunda.org/manual/latest/user-guide/task-forms/#camunda-forms","body":"If you are using Camunda 7 - this link might help <a href=\"https://docs.camunda.org/manual/latest/user-guide/task-forms/#camunda-forms\" rel=\"nofollow noreferrer\">docs.camunda.org/manual/latest/user-guide/task-forms/&hellip;</a>"},{"owner":{"account_id":3266581,"reputation":14306,"user_id":2750966,"accept_rate":75,"display_name":"pme"},"score":0,"creation_date":1667499223,"post_id":74149893,"comment_id":131187020,"body_markdown":"Have you checked if the form is deployed - More/Deployments?","body":"Have you checked if the form is deployed - More/Deployments?"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666335893,"creation_date":1666335893,"question_id":74149893,"body_markdown":"I have created a form and saved in resources directory of spring boot project.\r\n\r\nI created a User Task and used the above mentioned form to load as part of the user task (as shown below).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote that the form reference is the name of external form that was created in previous step.\r\n\r\nbut, when the I open the user task from task list, the form is not displayed.\r\n\r\nHere is the form configuration (just a drop down and submit button) :\r\n[![enter image description here][2]][2]\r\n\r\nvariable routes created properly (Map&lt;String,String&gt; type) in the service task before the user task.\r\n\r\n```\r\n    @Override\r\n    public void execute(DelegateExecution execution) throws Exception {\r\n\r\n        Map&lt;String, String&gt; routes = new HashMap&lt;&gt;();\r\n\r\n        routes.put(&quot;001&quot;, &quot;Route 1&quot;);\r\n        routes.put(&quot;002&quot;, &quot;Route 2&quot;);\r\n        routes.put(&quot;003&quot;, &quot;route 3&quot;);\r\n         \r\n         \r\n        // delegateExecution.setVariable(&quot;routes&quot;, routes);\r\n\r\n        ObjectValue batchesDataValue = Variables.objectValue(routes)\r\n                .serializationDataFormat(Variables.SerializationDataFormats.JSON)\r\n                .create();\r\n        execution.setVariable(&quot;routes&quot;,batchesDataValue);\r\n\r\n    }\r\n\r\n```\r\n\r\nCan someone tell me why the form is not getting displayed in the user task when opened from task list?\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2FdsV.png\r\n  [2]: https://i.stack.imgur.com/ip6zh.png\r\n  [3]: https://i.stack.imgur.com/peaEo.png","title":"Camunda form not appearing in User task","body":"<p>I have created a form and saved in resources directory of spring boot project.</p>\n<p>I created a User Task and used the above mentioned form to load as part of the user task (as shown below).</p>\n<p><a href=\"https://i.stack.imgur.com/2FdsV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2FdsV.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that the form reference is the name of external form that was created in previous step.</p>\n<p>but, when the I open the user task from task list, the form is not displayed.</p>\n<p>Here is the form configuration (just a drop down and submit button) :\n<a href=\"https://i.stack.imgur.com/ip6zh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ip6zh.png\" alt=\"enter image description here\" /></a></p>\n<p>variable routes created properly (Map&lt;String,String&gt; type) in the service task before the user task.</p>\n<pre><code>    @Override\n    public void execute(DelegateExecution execution) throws Exception {\n\n        Map&lt;String, String&gt; routes = new HashMap&lt;&gt;();\n\n        routes.put(&quot;001&quot;, &quot;Route 1&quot;);\n        routes.put(&quot;002&quot;, &quot;Route 2&quot;);\n        routes.put(&quot;003&quot;, &quot;route 3&quot;);\n         \n         \n        // delegateExecution.setVariable(&quot;routes&quot;, routes);\n\n        ObjectValue batchesDataValue = Variables.objectValue(routes)\n                .serializationDataFormat(Variables.SerializationDataFormats.JSON)\n                .create();\n        execution.setVariable(&quot;routes&quot;,batchesDataValue);\n\n    }\n\n</code></pre>\n<p>Can someone tell me why the form is not getting displayed in the user task when opened from task list?\n<a href=\"https://i.stack.imgur.com/peaEo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peaEo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","github-api","resttemplate"],"comments":[{"owner":{"account_id":3977767,"reputation":22190,"user_id":3280538,"accept_rate":74,"display_name":"flakes"},"score":1,"creation_date":1543003218,"post_id":53452321,"comment_id":93777204,"body_markdown":"Take a look at the graphql api. The client is able to choose exactly what data is returned https://developer.github.com/v4/","body":"Take a look at the graphql api. The client is able to choose exactly what data is returned <a href=\"https://developer.github.com/v4/\" rel=\"nofollow noreferrer\">developer.github.com/v4</a>"},{"owner":{"account_id":8435229,"reputation":41,"user_id":6329591,"display_name":"Andy"},"score":0,"creation_date":1543058076,"post_id":53452321,"comment_id":93787008,"body_markdown":"Thank you for the answer. I have been looking into this, but I am not even sure how I could start with it to limit the results in my REST app... Should I create everytime body of the request?","body":"Thank you for the answer. I have been looking into this, but I am not even sure how I could start with it to limit the results in my REST app... Should I create everytime body of the request?"}],"answers":[{"tags":[],"owner":{"account_id":14506303,"reputation":316,"user_id":10478001,"display_name":"J.Gerbershagen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543837945,"creation_date":1543837945,"answer_id":53593308,"question_id":53452321,"body_markdown":"You can&#39;t use the REST api in combination with the graphql library. How must move completely to the graphql library. Calls with the graphql library are totaly different.\r\n\r\nHere is german article graphql for beginners: https://www.heise.de/developer/artikel/Java-Anwendungen-mit-GraphQL-Teil-1-4205852.html.\r\n\r\nHere is a example query: https://developer.github.com/v4/guides/forming-calls/#example-query\r\nSo your query should look like this (in http post body):\r\n{&quot;query&quot;:&quot;{repository(owner:&quot;octokit&quot;, name:&quot;octokit.rb&quot;){ id  isPrivate name }}&quot;}\r\n","title":"Returning only chosen fields from GitHub API","body":"<p>You can't use the REST api in combination with the graphql library. How must move completely to the graphql library. Calls with the graphql library are totaly different.</p>\n\n<p>Here is german article graphql for beginners: <a href=\"https://www.heise.de/developer/artikel/Java-Anwendungen-mit-GraphQL-Teil-1-4205852.html\" rel=\"nofollow noreferrer\">https://www.heise.de/developer/artikel/Java-Anwendungen-mit-GraphQL-Teil-1-4205852.html</a>.</p>\n\n<p>Here is a example query: <a href=\"https://developer.github.com/v4/guides/forming-calls/#example-query\" rel=\"nofollow noreferrer\">https://developer.github.com/v4/guides/forming-calls/#example-query</a>\nSo your query should look like this (in http post body):\n{\"query\":\"{repository(owner:\"octokit\", name:\"octokit.rb\"){ id  isPrivate name }}\"}</p>\n"},{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666335566,"creation_date":1666335566,"answer_id":74149838,"question_id":53452321,"body_markdown":"use the below GraphQL as you wish\r\n\r\nfirst Import the below CURL to POSTMAN\r\n\r\n    curl -L -X POST &#39;https://api.github.com/graphql&#39; \\\r\n    -H &#39;Authorization: Basic &lt;TOKEN&gt;&#39; \\\r\n    -H &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;{}&#39;\r\n\r\nchange the Body type to GraphQL\r\n\r\n    query{\r\n      viewer {\r\n        name\r\n         repositories(last: 10) {\r\n           nodes {\r\n             name\r\n             url\r\n           }\r\n         }\r\n       }\r\n    }\r\n\r\n","title":"Returning only chosen fields from GitHub API","body":"<p>use the below GraphQL as you wish</p>\n<p>first Import the below CURL to POSTMAN</p>\n<pre><code>curl -L -X POST 'https://api.github.com/graphql' \\\n-H 'Authorization: Basic &lt;TOKEN&gt;' \\\n-H 'Content-Type: application/json' \\\n--data-raw '{}'\n</code></pre>\n<p>change the Body type to GraphQL</p>\n<pre><code>query{\n  viewer {\n    name\n     repositories(last: 10) {\n       nodes {\n         name\n         url\n       }\n     }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":8435229,"reputation":41,"user_id":6329591,"display_name":"Andy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1602,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666335566,"creation_date":1543003042,"question_id":53452321,"body_markdown":"I am playing around with GitHub API and I am wondering whether there is a way to limit the response size, because I want to return only a few fields instead of calling for the whole JSON.\r\n\r\nI know that certain APIs have the possibility of limiting by the query, like adding ?fields=field1, field2, etc, but I am not able to do this for GitHub API.\r\n\r\nFor instance I would like to get only id, name, and private from https://api.github.com/repos/octokit/octokit.rb.\r\n\r\nI am using Jackson and consume via RestTemplate.\r\n\r\n--Edit--  \r\nMy main aim is to limit the time of the response. Using plain GH api it works ~185ms, and I want to achieve at least 50ms. Is that even doable at all? ","title":"Returning only chosen fields from GitHub API","body":"<p>I am playing around with GitHub API and I am wondering whether there is a way to limit the response size, because I want to return only a few fields instead of calling for the whole JSON.</p>\n\n<p>I know that certain APIs have the possibility of limiting by the query, like adding ?fields=field1, field2, etc, but I am not able to do this for GitHub API.</p>\n\n<p>For instance I would like to get only id, name, and private from <a href=\"https://api.github.com/repos/octokit/octokit.rb\" rel=\"nofollow noreferrer\">https://api.github.com/repos/octokit/octokit.rb</a>.</p>\n\n<p>I am using Jackson and consume via RestTemplate.</p>\n\n<p>--Edit--<br>\nMy main aim is to limit the time of the response. Using plain GH api it works ~185ms, and I want to achieve at least 50ms. Is that even doable at all? </p>\n"},{"tags":["java","class","javafx","arraylist"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1666241894,"post_id":74134568,"comment_id":130890349,"body_markdown":"I don&#39;t understand the logic behind having `Swordsman` extends `Enemy` and using `int damage` in `Enemy` and `double damage` in `Swordsman`. That pretty much goes for all your variables.","body":"I don&#39;t understand the logic behind having <code>Swordsman</code> extends <code>Enemy</code> and using <code>int damage</code> in <code>Enemy</code> and <code>double damage</code> in <code>Swordsman</code>. That pretty much goes for all your variables."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1666242076,"post_id":74134568,"comment_id":130890379,"body_markdown":"Make sure you understand how and when to use `static`. That might be one reason you are having this issue. You also need to study `Inheritance`. That might also be the reason for your issue.","body":"Make sure you understand how and when to use <code>static</code>. That might be one reason you are having this issue. You also need to study <code>Inheritance</code>. That might also be the reason for your issue."},{"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"score":0,"creation_date":1666242360,"post_id":74134568,"comment_id":130890430,"body_markdown":"@SedJ601 I had another idea for the main Enemy class with it eventually being the actual enemy with genuine whole number stats, rather than the doubles  in the subclasses which I&#39;m using as general percentage stat-point distributions to be multiplied by level and stat-point gain per level, but yes currently its useless as I changed it to using an instance for subclasses.","body":"@SedJ601 I had another idea for the main Enemy class with it eventually being the actual enemy with genuine whole number stats, rather than the doubles  in the subclasses which I&#39;m using as general percentage stat-point distributions to be multiplied by level and stat-point gain per level, but yes currently its useless as I changed it to using an instance for subclasses."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1666243551,"post_id":74134568,"comment_id":130890642,"body_markdown":"Do not attempt anything else until you understand how and when to use `static` and how to use `inheritance`. What you are doing currently shows that you don&#39;t have a good understanding of either idea.","body":"Do not attempt anything else until you understand how and when to use <code>static</code> and how to use <code>inheritance</code>. What you are doing currently shows that you don&#39;t have a good understanding of either idea."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1666243753,"post_id":74134568,"comment_id":130890671,"body_markdown":"I second what SedJ601 stated. Right now, you have an instantiable class with nothing but static fields. That means no `Swordman` instance will be distinct. For example, when one `Swordman` takes a hit, all instances of `Swordman` will lose the same amount of health because static fields are shared among ALL instances of a class.","body":"I second what SedJ601 stated. Right now, you have an instantiable class with nothing but static fields. That means no <code>Swordman</code> instance will be distinct. For example, when one <code>Swordman</code> takes a hit, all instances of <code>Swordman</code> will lose the same amount of health because static fields are shared among ALL instances of a class."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1666274799,"post_id":74134568,"comment_id":130901919,"body_markdown":"If you could, put a comment under my answer to see how helpful it was. If it solved the problem, click the checkmark next to it. If it didn&#39;t, put in the comments what is missing so I could refine it.","body":"If you could, put a comment under my answer to see how helpful it was. If it solved the problem, click the checkmark next to it. If it didn&#39;t, put in the comments what is missing so I could refine it."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666250795,"creation_date":1666246020,"answer_id":74135132,"question_id":74134568,"body_markdown":"This is not a solution. Instead, suggestions to improve your code that may or may not fix your problems.\r\n\r\nLet start with &quot;Enemy&quot;. It is OK to have a base &quot;enemy&quot; class that will set default values for the different types of &quot;enemy&quot; characters to use. This is common in games. Characters typically have default parameters and then the specific races or subtypes will add or subtract points based on the attributes of that type. So, let&#39;s do that for &quot;Archer&quot; and &quot;Swordsman&quot;\r\n\r\n```\r\npublic class Enemy {\r\n\t\r\n\tprotected final String id;\r\n\r\n\tprotected int damage = 10;\r\n\tprotected int hp = 10;\r\n\tprotected int defense = 10;\r\n\tprotected int mana = 10;\r\n\tprotected int speed = 10;\r\n\tprotected int luck = 10;\r\n\t\r\n\tprotected Enemy () {\r\n\t\tRandom rnd = new Random();\r\n\t    int number = rnd.nextInt(99999999);\r\n\t    id = String.format(&quot;%08d&quot;, number);\r\n\t}\r\n\r\n    // omitted getters and setters\r\n}\r\n```\r\n----------\r\nI added the final (constant) string field `id` to capture a unique identifier for each instance. I will use this in the subclasses `toString()` method to display the name with the unique identifiers. This way, when displaying the characters, each one will display differently to let you know they are not mere copies of each other.\r\n\r\nYou could redefine all the variables in the subclass like you were attempting to do. For example, you can have `damage` define in both classes, then in the getter method, you can add them together and return the value like this:\r\n```\r\npublic int getDamage () {\r\n    return this.damage + super.damage;\r\n}\r\n```\r\nBut, why do this? By making the fields in the superclass protected, your subclasses will have direct access to them. If you need to add bonus points to those fields, just add the bonus/penalty points in the constructor.\r\n\r\n```\r\npublic final class Swordsman extends Enemy {\r\n\r\n    public static final String NAME = &quot;Swordsman&quot;;\r\n\r\n    public Swordsman() {\r\n        damage += 20; // added 20 points to the default &quot;damage&quot; field value of 10\r\n        // other fields here\r\n    }\r\n    // getters and setters defined in Enemy class\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Swordsman [&quot;+ id + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getStats() {\r\n\t\treturn NAME + super.getStats();\r\n\t}\r\n}\r\n```\r\nThis is a much cleaner approach because subclasses of `Enemy` need not to redefine what `Enemy` already has. The only thing they need to define is attributes that are unique to their type. For example, maybe you need to define a melee bonus to swordsmen when in close combat, whereas archers may not have melee bonuses. Likewise, archers may have a bonus for ranged attacks whereas swordsmen do not. Those attributes (fields) and methods will need to be added to those classes respectfully.\r\n\r\nWhen running this code using the snippet below\r\n```\r\npublic class Game {\r\n\tpublic static void main(String[] args) {\r\n\t\tSwordsman s1 = new Swordsman();\r\n\t\tSwordsman s2 = new Swordsman();\r\n\t\tSwordsman s3 = new Swordsman();\r\n\t\tSwordsman s4 = new Swordsman();\r\n\t\t\r\n\t\tSystem.out.println(s1);\r\n\t\tSystem.out.println(s2);\r\n\t\tSystem.out.println(s3);\r\n\t\tSystem.out.println(s4);\r\n\t}\r\n}\r\n```\r\nIt will display something like this:\r\n```\r\nSwordsman [04923128]\r\nSwordsman [59484796]\r\nSwordsman [11003419]\r\nSwordsman [12543814]\r\n```\r\n\r\nOther things to note on my implementation:\r\n\r\n 1. No `static` fields: If you need some attribute to be shared across all instances of a class, then you will need to use static for that. For example, `name` attribute is static in the subclasses. All instances of `Swordsman` class will be labeled &quot;swordsman&quot;. I also made this `final` so that the value of the attribute cannot be changed. Basically, that field is a shared constant.\r\n 2. Fields in the `Enemy` class are protected so that they are accessible by its subclasses.\r\n 3. Swordsman class is `final` so that it cannot be extended. If you need to make a subclass of Swordsman, you will need to remove this qualifier.\r\n 4. Subclass do not need getters and setters. Those should be in the `Enemy` class\r\n\r\nOther things you need to consider, every class should override `equals()`, `hashCode()`, and `toString()`. Your IDE should be able to generate these for you. If a class don&#39;t add new fields, the subclass will not need to re-override these methods, with the exception of `toString()` because most likely you will want to display the object&#39;s name field value (along with some other stuff like its hash code).\r\n\r\nOne last thing I want to point out in case you didn&#39;t know, which is my guess based on the code you posted. When you use `static` to qualify a field or a method, you are not overriding the field or method. You are essentially creating a new method or field in the subclass with the same name and signature. Remember, static members belong to the class and not the instance. This is another reason you shouldn&#39;t use static in your implementation. For what you are trying to do, it simply does not make any sense to do so.\r\n\r\nOne last, last, thing LOL\r\n\r\nWhy not use Java records for this? Simply because records are immutable and these characters need to be updated constantly (damage during combat, other attributes when leveling up, etc.) For this reason, it is better to use a conventional POJO rather than a Java record. I thought it was important to point this out for anyone who is wondering.","title":"Accessing subclasses from Arraylist","body":"<p>This is not a solution. Instead, suggestions to improve your code that may or may not fix your problems.</p>\n<p>Let start with &quot;Enemy&quot;. It is OK to have a base &quot;enemy&quot; class that will set default values for the different types of &quot;enemy&quot; characters to use. This is common in games. Characters typically have default parameters and then the specific races or subtypes will add or subtract points based on the attributes of that type. So, let's do that for &quot;Archer&quot; and &quot;Swordsman&quot;</p>\n<pre><code>public class Enemy {\n    \n    protected final String id;\n\n    protected int damage = 10;\n    protected int hp = 10;\n    protected int defense = 10;\n    protected int mana = 10;\n    protected int speed = 10;\n    protected int luck = 10;\n    \n    protected Enemy () {\n        Random rnd = new Random();\n        int number = rnd.nextInt(99999999);\n        id = String.format(&quot;%08d&quot;, number);\n    }\n\n    // omitted getters and setters\n}\n</code></pre>\n<hr />\n<p>I added the final (constant) string field <code>id</code> to capture a unique identifier for each instance. I will use this in the subclasses <code>toString()</code> method to display the name with the unique identifiers. This way, when displaying the characters, each one will display differently to let you know they are not mere copies of each other.</p>\n<p>You could redefine all the variables in the subclass like you were attempting to do. For example, you can have <code>damage</code> define in both classes, then in the getter method, you can add them together and return the value like this:</p>\n<pre><code>public int getDamage () {\n    return this.damage + super.damage;\n}\n</code></pre>\n<p>But, why do this? By making the fields in the superclass protected, your subclasses will have direct access to them. If you need to add bonus points to those fields, just add the bonus/penalty points in the constructor.</p>\n<pre><code>public final class Swordsman extends Enemy {\n\n    public static final String NAME = &quot;Swordsman&quot;;\n\n    public Swordsman() {\n        damage += 20; // added 20 points to the default &quot;damage&quot; field value of 10\n        // other fields here\n    }\n    // getters and setters defined in Enemy class\n\n    @Override\n    public String toString() {\n        return &quot;Swordsman [&quot;+ id + &quot;]&quot;;\n    }\n    \n    @Override\n    public String getStats() {\n        return NAME + super.getStats();\n    }\n}\n</code></pre>\n<p>This is a much cleaner approach because subclasses of <code>Enemy</code> need not to redefine what <code>Enemy</code> already has. The only thing they need to define is attributes that are unique to their type. For example, maybe you need to define a melee bonus to swordsmen when in close combat, whereas archers may not have melee bonuses. Likewise, archers may have a bonus for ranged attacks whereas swordsmen do not. Those attributes (fields) and methods will need to be added to those classes respectfully.</p>\n<p>When running this code using the snippet below</p>\n<pre><code>public class Game {\n    public static void main(String[] args) {\n        Swordsman s1 = new Swordsman();\n        Swordsman s2 = new Swordsman();\n        Swordsman s3 = new Swordsman();\n        Swordsman s4 = new Swordsman();\n        \n        System.out.println(s1);\n        System.out.println(s2);\n        System.out.println(s3);\n        System.out.println(s4);\n    }\n}\n</code></pre>\n<p>It will display something like this:</p>\n<pre><code>Swordsman [04923128]\nSwordsman [59484796]\nSwordsman [11003419]\nSwordsman [12543814]\n</code></pre>\n<p>Other things to note on my implementation:</p>\n<ol>\n<li>No <code>static</code> fields: If you need some attribute to be shared across all instances of a class, then you will need to use static for that. For example, <code>name</code> attribute is static in the subclasses. All instances of <code>Swordsman</code> class will be labeled &quot;swordsman&quot;. I also made this <code>final</code> so that the value of the attribute cannot be changed. Basically, that field is a shared constant.</li>\n<li>Fields in the <code>Enemy</code> class are protected so that they are accessible by its subclasses.</li>\n<li>Swordsman class is <code>final</code> so that it cannot be extended. If you need to make a subclass of Swordsman, you will need to remove this qualifier.</li>\n<li>Subclass do not need getters and setters. Those should be in the <code>Enemy</code> class</li>\n</ol>\n<p>Other things you need to consider, every class should override <code>equals()</code>, <code>hashCode()</code>, and <code>toString()</code>. Your IDE should be able to generate these for you. If a class don't add new fields, the subclass will not need to re-override these methods, with the exception of <code>toString()</code> because most likely you will want to display the object's name field value (along with some other stuff like its hash code).</p>\n<p>One last thing I want to point out in case you didn't know, which is my guess based on the code you posted. When you use <code>static</code> to qualify a field or a method, you are not overriding the field or method. You are essentially creating a new method or field in the subclass with the same name and signature. Remember, static members belong to the class and not the instance. This is another reason you shouldn't use static in your implementation. For what you are trying to do, it simply does not make any sense to do so.</p>\n<p>One last, last, thing LOL</p>\n<p>Why not use Java records for this? Simply because records are immutable and these characters need to be updated constantly (damage during combat, other attributes when leveling up, etc.) For this reason, it is better to use a conventional POJO rather than a Java record. I thought it was important to point this out for anyone who is wondering.</p>\n"}],"owner":{"account_id":26487889,"reputation":1,"user_id":20126179,"display_name":"Real Darkflare"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74135132,"answer_count":1,"score":-1,"last_activity_date":1666335372,"creation_date":1666241238,"question_id":74134568,"body_markdown":"I&#39;m trying to create a simple rpg game of sorts in Java. Right now, I&#39;m trying to display a random selection of 3 opponents for the player to choose from using a JavaFX listview (`battleOptions` in the code). In my main class I have this onclick of a button to initiate listview to populate opponents.\r\n\r\n``` lang-java\r\npublic void battle() {\r\n    if (!prep) {\r\n        ArrayList&lt;Enemy&gt; classes = new ArrayList&lt;&gt;();\r\n        Swordsman p1 = new Swordsman();\r\n        classes.add(p1);\r\n\r\n        Archer p2 = new Archer();\r\n        classes.add(p2);\r\n\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            battleOptions.getItems().add((classes.get(randomnumber(0, 1))));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the `Enemy` class referenced in the above `ArrayList`:\r\n\r\n``` lang-java\r\npublic class Enemy {\r\n    public static String name = &quot;Enemy&quot;;\r\n    \r\n    int damage = 1;\r\n    int hp = 1;\r\n    int defense = 1;\r\n    int mana = 1;\r\n    int speed = 1;\r\n    int luck = 1;\r\n}\r\n```\r\n\r\n``` lang-java\r\nclass Swordsman extends Enemy {\r\n    public static String name = &quot;Swordsman&quot;;\r\n    public static double damage = 0.3;\r\n    public static double hp = 0.15;\r\n    public static double defense = 0.2;\r\n    public static double mana = 0.1;\r\n    public static double speed = 0.1;\r\n    public static double luck = 0.15;\r\n}\r\n```\r\n\r\n(`Archer` is the same as `Swordsman` excluding the name and percentages differing)\r\n\r\nIn its current state this code does add the subclasses to the list  view as: `com.example.test.Swordsman/Archer@x`.\r\n\r\n`x` differs and I&#39;m assuming this is some location in memory or something.\r\nThis is obviously not what I want to show the player, rather I want to use Swordsman/Archer.name and show that, but it only shows the enemy class&#39; values for name and everything else, despite the fact that it shows the subclass before.\r\n\r\nI have tried changing the `ArrayList` to `Object` but then it wouldn&#39;t let me use any values (I mean the `.name` and stuff I don&#39;t know what they&#39;re called). As well as some other stuff which I don&#39;t remember. I would like to avoid having to hardcode to `if (randomnumber==1) {...}` especially for once I fully flesh out and add more classes.\r\n\r\nSorry for the long post, would appreciate any help/advice!","title":"Accessing subclasses from Arraylist","body":"<p>I'm trying to create a simple rpg game of sorts in Java. Right now, I'm trying to display a random selection of 3 opponents for the player to choose from using a JavaFX listview (<code>battleOptions</code> in the code). In my main class I have this onclick of a button to initiate listview to populate opponents.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void battle() {\n    if (!prep) {\n        ArrayList&lt;Enemy&gt; classes = new ArrayList&lt;&gt;();\n        Swordsman p1 = new Swordsman();\n        classes.add(p1);\n\n        Archer p2 = new Archer();\n        classes.add(p2);\n\n        for (int i = 0; i &lt; 3; i++) {\n            battleOptions.getItems().add((classes.get(randomnumber(0, 1))));\n        }\n    }\n}\n</code></pre>\n<p>And this is the <code>Enemy</code> class referenced in the above <code>ArrayList</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Enemy {\n    public static String name = &quot;Enemy&quot;;\n    \n    int damage = 1;\n    int hp = 1;\n    int defense = 1;\n    int mana = 1;\n    int speed = 1;\n    int luck = 1;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Swordsman extends Enemy {\n    public static String name = &quot;Swordsman&quot;;\n    public static double damage = 0.3;\n    public static double hp = 0.15;\n    public static double defense = 0.2;\n    public static double mana = 0.1;\n    public static double speed = 0.1;\n    public static double luck = 0.15;\n}\n</code></pre>\n<p>(<code>Archer</code> is the same as <code>Swordsman</code> excluding the name and percentages differing)</p>\n<p>In its current state this code does add the subclasses to the list  view as: <code>com.example.test.Swordsman/Archer@x</code>.</p>\n<p><code>x</code> differs and I'm assuming this is some location in memory or something.\nThis is obviously not what I want to show the player, rather I want to use Swordsman/Archer.name and show that, but it only shows the enemy class' values for name and everything else, despite the fact that it shows the subclass before.</p>\n<p>I have tried changing the <code>ArrayList</code> to <code>Object</code> but then it wouldn't let me use any values (I mean the <code>.name</code> and stuff I don't know what they're called). As well as some other stuff which I don't remember. I would like to avoid having to hardcode to <code>if (randomnumber==1) {...}</code> especially for once I fully flesh out and add more classes.</p>\n<p>Sorry for the long post, would appreciate any help/advice!</p>\n"},{"tags":["java","android","mobile","mobile-application"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1666333762,"post_id":74149518,"comment_id":130916407,"body_markdown":"Can not see any thing in your code about `cursor` - are you sure that this variable is not `cursor_other_card`?","body":"Can not see any thing in your code about <code>cursor</code> - are you sure that this variable is not <code>cursor_other_card</code>?"},{"owner":{"account_id":18182876,"reputation":31,"user_id":13881939,"display_name":"McLarvel"},"score":0,"creation_date":1666333954,"post_id":74149518,"comment_id":130916453,"body_markdown":"@Scary Wombat Thanks I forgot to update","body":"@Scary Wombat Thanks I forgot to update"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666335082,"post_id":74149518,"comment_id":130916739,"body_markdown":"Maybe better to delete this question then?","body":"Maybe better to delete this question then?"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666335343,"creation_date":1666335343,"answer_id":74149794,"question_id":74149518,"body_markdown":"You have an off by 1 error.\r\n\r\n    Integer i =0;\r\n    while (cursor_other_card.moveToNext()) {\r\n        i++;\r\n        //5 other_card_validations\r\n        myEdit.putString(&quot;card_holder_name&quot;+i+&quot;_u&quot;,cursor_other_card.getString(1));\r\n\r\nFor an array of N, this code would make I go 1 to N, instead of 0 to N-1.  To fix this, increment i at the end of the loop, not the beginning.\r\n\r\nAlso, you should make it int i=0, not Integer.  No reason to use the class when a primitive is available.","title":"Android : CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1","body":"<p>You have an off by 1 error.</p>\n<pre><code>Integer i =0;\nwhile (cursor_other_card.moveToNext()) {\n    i++;\n    //5 other_card_validations\n    myEdit.putString(&quot;card_holder_name&quot;+i+&quot;_u&quot;,cursor_other_card.getString(1));\n</code></pre>\n<p>For an array of N, this code would make I go 1 to N, instead of 0 to N-1.  To fix this, increment i at the end of the loop, not the beginning.</p>\n<p>Also, you should make it int i=0, not Integer.  No reason to use the class when a primitive is available.</p>\n"}],"owner":{"account_id":18182876,"reputation":31,"user_id":13881939,"display_name":"McLarvel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666335343,"creation_date":1666333494,"question_id":74149518,"body_markdown":"I have an error it says \r\n\r\n    Caused by: android.database.CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1\r\n\r\nI don&#39;t know what causes the error, the error is on the line `cursor.getString(17));` need help\r\n\r\n\r\n    Cursor cursor_other_card = MainActivity.sqLiteHelper.getData(&quot;SELECT ocv.id,ocv.card_holder_name,ocv.card_number_system_generated,ocv.card_number_inputted,ocv.card_number_series,ocv.distribution_status,ocv.release_date,ocv.release_by,ocv.release_place,ocv.card_physically_presented,ocv.card_pin_is_attached,ocv.reason_not_presented,ocv.reason_unclaimed,ocv.card_replacement_requests,ocv.card_replacement_request_submitted_details,ocv.pawning_remarks,ocv.other_image, ocv.others_reason_not_presented,ocv.others_reason_unclaimed FROM other_card_validations AS ocv LEFT JOIN emv_validation_details AS evd ON evd.id = ocv.emv_validation_detail_id WHERE evd.id=&quot;+id);\r\n        Integer i =0;\r\n        while (cursor_other_card.moveToNext()) {\r\n            i++;\r\n            //5 other_card_validations\r\n            myEdit.putString(&quot;card_holder_name&quot;+i+&quot;_u&quot;,cursor_other_card.getString(1));\r\n            myEdit.putString(&quot;card_number_system_generated&quot;+i+&quot;_u&quot;,cursor_other_card.getString(2));\r\n            myEdit.putString(&quot;card_number_inputted&quot;+i+&quot;_u&quot;,cursor_other_card.getString(3));\r\n            myEdit.putString(&quot;card_number_series&quot;+i+&quot;_u&quot;,cursor_other_card.getString(4));\r\n            myEdit.putString(&quot;distribution_status&quot;+i+&quot;_u&quot;,cursor_other_card.getString(5));\r\n            myEdit.putString(&quot;release_date&quot;+i+&quot;_u&quot;,cursor_other_card.getString(6));\r\n            myEdit.putString(&quot;release_by&quot;+i+&quot;_u&quot;,cursor_other_card.getString(7));\r\n            myEdit.putString(&quot;release_place&quot;+i+&quot;_u&quot;,cursor_other_card.getString(8));\r\n            myEdit.putString(&quot;card_physically_presented&quot;+i+&quot;_u&quot;,cursor_other_card.getString(9));\r\n            myEdit.putString(&quot;card_pin_is_attached&quot;+i+&quot;_u&quot;,cursor_other_card.getString(10));\r\n            myEdit.putString(&quot;reason_not_presented&quot;+i+&quot;_u&quot;,cursor_other_card.getString(11));\r\n            myEdit.putString(&quot;reason_unclaimed&quot;+i+&quot;_u&quot;,cursor_other_card.getString(12));\r\n            myEdit.putString(&quot;card_replacement_request&quot;+i+&quot;_u&quot;,cursor_other_card.getString(13));\r\n            myEdit.putString(&quot;card_replacement_request_submitted_details&quot;+i+&quot;_u&quot;,cursor_other_card.getString(14));\r\n            myEdit.putString(&quot;pawning_remarks&quot;+i+&quot;_u&quot;,cursor_other_card.getString(15));\r\n            if (cursor_other_card.getBlob(16) != null) {\r\n                if (i == 1) {\r\n                    ocv_other_image_1_u = cursor_other_card.getBlob(16);\r\n                } else if (i == 2) {\r\n                    ocv_other_image_2_u = cursor_other_card.getBlob(16);\r\n                } else if (i == 3) {\r\n                    ocv_other_image_3_u = cursor_other_card.getBlob(16);\r\n                } else if (i == 4) {\r\n                    ocv_other_image_4_u = cursor_other_card.getBlob(16);\r\n                } else if (i == 5) {\r\n                    ocv_other_image_5_u = cursor_other_card.getBlob(16);\r\n                }\r\n            }\r\n            myEdit.putString(&quot;others_reason_not_presented&quot;+i+&quot;_u&quot;, cursor.getString(17)); //the error goes here\r\n            myEdit.putString(&quot;others_reason_unclaimed&quot;+i+&quot;_u&quot;, cursor.getString(18));\r\n        }\r\n        cursor_other_card.close();\r\n\r\n\r\n","title":"Android : CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1","body":"<p>I have an error it says</p>\n<pre><code>Caused by: android.database.CursorIndexOutOfBoundsException: Index 1 requested, with a size of 1\n</code></pre>\n<p>I don't know what causes the error, the error is on the line <code>cursor.getString(17));</code> need help</p>\n<pre><code>Cursor cursor_other_card = MainActivity.sqLiteHelper.getData(&quot;SELECT ocv.id,ocv.card_holder_name,ocv.card_number_system_generated,ocv.card_number_inputted,ocv.card_number_series,ocv.distribution_status,ocv.release_date,ocv.release_by,ocv.release_place,ocv.card_physically_presented,ocv.card_pin_is_attached,ocv.reason_not_presented,ocv.reason_unclaimed,ocv.card_replacement_requests,ocv.card_replacement_request_submitted_details,ocv.pawning_remarks,ocv.other_image, ocv.others_reason_not_presented,ocv.others_reason_unclaimed FROM other_card_validations AS ocv LEFT JOIN emv_validation_details AS evd ON evd.id = ocv.emv_validation_detail_id WHERE evd.id=&quot;+id);\n    Integer i =0;\n    while (cursor_other_card.moveToNext()) {\n        i++;\n        //5 other_card_validations\n        myEdit.putString(&quot;card_holder_name&quot;+i+&quot;_u&quot;,cursor_other_card.getString(1));\n        myEdit.putString(&quot;card_number_system_generated&quot;+i+&quot;_u&quot;,cursor_other_card.getString(2));\n        myEdit.putString(&quot;card_number_inputted&quot;+i+&quot;_u&quot;,cursor_other_card.getString(3));\n        myEdit.putString(&quot;card_number_series&quot;+i+&quot;_u&quot;,cursor_other_card.getString(4));\n        myEdit.putString(&quot;distribution_status&quot;+i+&quot;_u&quot;,cursor_other_card.getString(5));\n        myEdit.putString(&quot;release_date&quot;+i+&quot;_u&quot;,cursor_other_card.getString(6));\n        myEdit.putString(&quot;release_by&quot;+i+&quot;_u&quot;,cursor_other_card.getString(7));\n        myEdit.putString(&quot;release_place&quot;+i+&quot;_u&quot;,cursor_other_card.getString(8));\n        myEdit.putString(&quot;card_physically_presented&quot;+i+&quot;_u&quot;,cursor_other_card.getString(9));\n        myEdit.putString(&quot;card_pin_is_attached&quot;+i+&quot;_u&quot;,cursor_other_card.getString(10));\n        myEdit.putString(&quot;reason_not_presented&quot;+i+&quot;_u&quot;,cursor_other_card.getString(11));\n        myEdit.putString(&quot;reason_unclaimed&quot;+i+&quot;_u&quot;,cursor_other_card.getString(12));\n        myEdit.putString(&quot;card_replacement_request&quot;+i+&quot;_u&quot;,cursor_other_card.getString(13));\n        myEdit.putString(&quot;card_replacement_request_submitted_details&quot;+i+&quot;_u&quot;,cursor_other_card.getString(14));\n        myEdit.putString(&quot;pawning_remarks&quot;+i+&quot;_u&quot;,cursor_other_card.getString(15));\n        if (cursor_other_card.getBlob(16) != null) {\n            if (i == 1) {\n                ocv_other_image_1_u = cursor_other_card.getBlob(16);\n            } else if (i == 2) {\n                ocv_other_image_2_u = cursor_other_card.getBlob(16);\n            } else if (i == 3) {\n                ocv_other_image_3_u = cursor_other_card.getBlob(16);\n            } else if (i == 4) {\n                ocv_other_image_4_u = cursor_other_card.getBlob(16);\n            } else if (i == 5) {\n                ocv_other_image_5_u = cursor_other_card.getBlob(16);\n            }\n        }\n        myEdit.putString(&quot;others_reason_not_presented&quot;+i+&quot;_u&quot;, cursor.getString(17)); //the error goes here\n        myEdit.putString(&quot;others_reason_unclaimed&quot;+i+&quot;_u&quot;, cursor.getString(18));\n    }\n    cursor_other_card.close();\n</code></pre>\n"},{"tags":["java","algorithm","math","simplex-algorithm"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":2,"creation_date":1400439689,"post_id":23725742,"comment_id":36467717,"body_markdown":"where is your code ? and you just want to multiple them with `-1` ?","body":"where is your code ? and you just want to multiple them with <code>-1</code> ?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1400439784,"post_id":23725742,"comment_id":36467757,"body_markdown":"Welcome to StackOverflow.  You have to be aware that we cannot read your mind.  You need to include enough information so we can reproduce the problem you are having and you should provide the answer you expect.  When you say `dont calculate` you have to say what it does do.  Also I suggest you try debugging your programs as this is often faster than having to explain what your problem is in enough detail.","body":"Welcome to StackOverflow.  You have to be aware that we cannot read your mind.  You need to include enough information so we can reproduce the problem you are having and you should provide the answer you expect.  When you say <code>dont calculate</code> you have to say what it does do.  Also I suggest you try debugging your programs as this is often faster than having to explain what your problem is in enough detail."},{"owner":{"account_id":4488649,"reputation":139,"user_id":3650408,"accept_rate":46,"display_name":"user3650408"},"score":0,"creation_date":1400442552,"post_id":23725742,"comment_id":36468614,"body_markdown":"after debugging I find that change form (13, 23) to ( - 13, -23) not help. This problem is linked with  method findLowestNonBasicCol(), when exist check for positive number                                 if (tableaux[numOfConstraints][i] &gt; 0)","body":"after debugging I find that change form (13, 23) to ( - 13, -23) not help. This problem is linked with  method findLowestNonBasicCol(), when exist check for positive number                                 if (tableaux[numOfConstraints][i] &gt; 0)"}],"answers":[{"comments":[{"owner":{"account_id":4488649,"reputation":139,"user_id":3650408,"accept_rate":46,"display_name":"user3650408"},"score":0,"creation_date":1400440984,"post_id":23725893,"comment_id":36468115,"body_markdown":"i try another variant, which has optimal result... but program show only first step","body":"i try another variant, which has optimal result... but program show only first step"}],"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1400440752,"creation_date":1400440752,"answer_id":23725893,"question_id":23725742,"body_markdown":"I guess the program did nothing because the initial solution is the optimal solution.\r\n","title":"Minimize Simplex method","body":"<p>I guess the program did nothing because the initial solution is the optimal solution.</p>\n"},{"tags":[],"owner":{"account_id":2465852,"reputation":198,"user_id":2154742,"accept_rate":80,"display_name":"JasonArg123"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454448485,"creation_date":1454448485,"answer_id":35164108,"question_id":23725742,"body_markdown":"You might want to look into the [Dual Simplex Method][1] (or [Duality Theory][2]). If the standard form of the primal problem is:\r\n    \r\n    Maximize = 13*X1 + 23*X2;\r\n\r\nwith constraints:\r\n\r\n    5*X1\t+\t15*X2\t&lt;= 480;\r\n    4*X1 \t+ \t4*X2 \t&lt;= 160;\r\n    35*X1   + \t20*X2   &lt;= 1190;\r\n    X1 &gt;= 0;\r\n    X2 &gt;= 0;\r\n\r\nThen the **dual problem** is:\r\n\r\n    Minimize = 480*Y1 + 160*Y2 + 1190*Y3;\r\n\r\nwith constraints:\r\n\r\n    5*Y1\t+\t4*Y2\t+\t35*Y3\t&gt;= 13;\r\n    15*Y1 + \t4*Y2\t+\t20*Y3\t&gt;= 23;\r\n    Y1 &gt;= 0;\r\n    Y2 &gt;= 0;\r\n    Y3 &gt;= 0;\r\n\r\nI tested both of these problems in [LINGO][3] and get the same answer for both (Z = 800, X1 = 12, X2 = 28 -- Y1 = 1, Y2 = 2, Y3 = 0).\r\n\r\n\r\n  [1]: http://homepages.rpi.edu/~mitchj/handouts/dualsimplex/\r\n  [2]: https://en.wikipedia.org/wiki/Linear_programming#Duality\r\n  [3]: http://www.lindo.com/index.php?option=com_content&amp;view=article&amp;id=2&amp;Itemid=10","title":"Minimize Simplex method","body":"<p>You might want to look into the <a href=\"http://homepages.rpi.edu/~mitchj/handouts/dualsimplex/\" rel=\"nofollow\">Dual Simplex Method</a> (or <a href=\"https://en.wikipedia.org/wiki/Linear_programming#Duality\" rel=\"nofollow\">Duality Theory</a>). If the standard form of the primal problem is:</p>\n\n<pre><code>Maximize = 13*X1 + 23*X2;\n</code></pre>\n\n<p>with constraints:</p>\n\n<pre><code>5*X1    +   15*X2   &lt;= 480;\n4*X1    +   4*X2    &lt;= 160;\n35*X1   +   20*X2   &lt;= 1190;\nX1 &gt;= 0;\nX2 &gt;= 0;\n</code></pre>\n\n<p>Then the <strong>dual problem</strong> is:</p>\n\n<pre><code>Minimize = 480*Y1 + 160*Y2 + 1190*Y3;\n</code></pre>\n\n<p>with constraints:</p>\n\n<pre><code>5*Y1    +   4*Y2    +   35*Y3   &gt;= 13;\n15*Y1 +     4*Y2    +   20*Y3   &gt;= 23;\nY1 &gt;= 0;\nY2 &gt;= 0;\nY3 &gt;= 0;\n</code></pre>\n\n<p>I tested both of these problems in <a href=\"http://www.lindo.com/index.php?option=com_content&amp;view=article&amp;id=2&amp;Itemid=10\" rel=\"nofollow\">LINGO</a> and get the same answer for both (Z = 800, X1 = 12, X2 = 28 -- Y1 = 1, Y2 = 2, Y3 = 0).</p>\n"}],"owner":{"account_id":4488649,"reputation":139,"user_id":3650408,"accept_rate":46,"display_name":"user3650408"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6950,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35164108,"answer_count":2,"score":0,"last_activity_date":1666335025,"creation_date":1400439593,"question_id":23725742,"body_markdown":"I find topic about Simplex method here https://stackoverflow.com/questions/21096363/alter-simplex-algorithm-to-minimize-on-objective-function-not-maximize\r\nBut answer didn`t help. When I change from \r\n\r\n    double[] variables = {  13.0,  23.0 };\r\n\r\nto\r\n\r\n    double[] variables = { -13.0, -23.0 };\r\n\r\nThe program dont calculate(no Exception), it print first step and that`s all.\r\nCould somebody help me with alter simplex method from maximize to minimize? \r\n\r\ncode:\r\n\r\n\r\n import java.util.*;\r\n\r\n\r\n    public class Simplex\r\n    {\r\n    private static final double EPSILON = 1.0E-10;\r\n    private double[][] tableaux;\r\n    private int numOfConstraints;\r\n    private int numOfVariables;\r\n    \r\n    private int[] basis;\r\n    /**\r\n     * Constructor for objects of class Simplex\r\n     */\r\n    public Simplex()\r\n    {\r\n        \r\n        \r\n        double[][] thisTableaux = {\r\n            {  5.0, 15.0 },\r\n            {  4.0,  4.0 },\r\n            { 35.0, 20.0 },\r\n        };\r\n        \r\n        double[] constraints = { 480.0, 160.0, 1190.0 };\r\n        \r\n        double[] variables = {  -13.0,  -23.0 };\r\n        \r\n        numOfConstraints = constraints.length;\r\n        numOfVariables = variables.length;\r\n        \r\n        tableaux = new double[numOfConstraints+1][numOfVariables+numOfConstraints+1];\r\n        \r\n        //adds all elements from thisTableaux to tableaux\r\n        for(int i=0; i &lt; numOfConstraints; i++)\r\n        {\r\n            for(int j=0; j &lt; numOfVariables; j++)\r\n            {\r\n                tableaux[i][j] = thisTableaux[i][j];\r\n            }\r\n        } \r\n        \r\n        \r\n        //adds a slack variable for each variable there is and sets it to 1.0\r\n        for(int i=0; i &lt; numOfConstraints; i++)\r\n        {\r\n            tableaux[i][numOfVariables+i] = 1.0;\r\n        }\r\n        \r\n        \r\n        //adds variables into the second [] of tableux\r\n        for(int j=0; j &lt; numOfVariables; j++)\r\n        {\r\n            tableaux[numOfConstraints][j] = variables[j];\r\n        }\r\n        \r\n        \r\n        \r\n        //adds constraints to first [] of tableaux\r\n        for(int k=0; k &lt; numOfConstraints; k++)\r\n        {\r\n            tableaux[k][numOfConstraints+numOfVariables] = constraints[k];\r\n        }\r\n        \r\n        \r\n        \r\n        basis = new int[numOfConstraints];\r\n        \r\n        for(int i=0; i &lt; numOfConstraints; i++)\r\n        {\r\n            basis[i] = numOfVariables + i;\r\n        }\r\n        \r\n        show();\r\n        \r\n        optimise();\r\n        \r\n        assert check(thisTableaux, constraints, variables);\r\n        \r\n        \r\n    }\r\n    \r\n    public void optimise() {\r\n        while(true) {\r\n            \r\n            int q = findLowestNonBasicCol();\r\n            \r\n            if(q == -1) {\r\n                break;\r\n            }\r\n            \r\n            int p = getPivotRow(q);\r\n            if(p == -1) throw new ArithmeticException(&quot;Linear Program Unbounded&quot;);\r\n            \r\n            pivot(p, q);\r\n            \r\n            basis[p] = q;\r\n        }\r\n        \r\n    }\r\n    \r\n    public int findLowestNonBasicCol() {\r\n        \r\n        for(int i=0; i &lt; numOfConstraints + numOfVariables; i++)\r\n        {\r\n            if(tableaux[numOfConstraints][i] &gt; 0) {\r\n                \r\n                \r\n                return i;\r\n            }\r\n        }\r\n        \r\n        return -1;\r\n        \r\n        \r\n    }\r\n    \r\n    public int findIndexOfLowestNonBasicCol() {\r\n        \r\n        int q = 0;\r\n        for(int i=1; i &lt; numOfConstraints + numOfVariables; i++)\r\n        {\r\n            if(tableaux[numOfConstraints][i] &gt; tableaux[numOfConstraints][q]) {\r\n                q = i;\r\n            }\r\n        }\r\n        \r\n        if(tableaux[numOfConstraints][q] &lt;= 0) {\r\n            return -1;\r\n        }\r\n        \r\n        else {\r\n            return q;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Finds row p which will be the pivot row using the minimum ratio rule.\r\n     * -1 if there is no pivot row\r\n     */\r\n    public int getPivotRow(int q) {\r\n        \r\n        int p = -1;\r\n        \r\n        for(int i=0; i &lt; numOfConstraints; i++) {\r\n            \r\n            if (tableaux[i][q] &lt;=0) {\r\n                continue;\r\n            }\r\n            \r\n            else if (p == -1) {\r\n                p = i;\r\n            }\r\n            \r\n            else if((tableaux[i][numOfConstraints+numOfVariables] / tableaux[i][q] &lt; tableaux[p][numOfConstraints+numOfVariables] / tableaux[p][q])) {\r\n                p = i;\r\n            }\r\n        }","title":"Minimize Simplex method","body":"<p>I find topic about Simplex method here <a href=\"https://stackoverflow.com/questions/21096363/alter-simplex-algorithm-to-minimize-on-objective-function-not-maximize\">Alter Simplex Algorithm to Minimize on objective function NOT maximize</a>\nBut answer didn`t help. When I change from </p>\n\n<pre><code>double[] variables = {  13.0,  23.0 };\n</code></pre>\n\n<p>to</p>\n\n<pre><code>double[] variables = { -13.0, -23.0 };\n</code></pre>\n\n<p>The program dont calculate(no Exception), it print first step and that`s all.\nCould somebody help me with alter simplex method from maximize to minimize? </p>\n\n<p>code:</p>\n\n<p>import java.util.*;</p>\n\n<pre><code>public class Simplex\n{\nprivate static final double EPSILON = 1.0E-10;\nprivate double[][] tableaux;\nprivate int numOfConstraints;\nprivate int numOfVariables;\n\nprivate int[] basis;\n/**\n * Constructor for objects of class Simplex\n */\npublic Simplex()\n{\n\n\n    double[][] thisTableaux = {\n        {  5.0, 15.0 },\n        {  4.0,  4.0 },\n        { 35.0, 20.0 },\n    };\n\n    double[] constraints = { 480.0, 160.0, 1190.0 };\n\n    double[] variables = {  -13.0,  -23.0 };\n\n    numOfConstraints = constraints.length;\n    numOfVariables = variables.length;\n\n    tableaux = new double[numOfConstraints+1][numOfVariables+numOfConstraints+1];\n\n    //adds all elements from thisTableaux to tableaux\n    for(int i=0; i &lt; numOfConstraints; i++)\n    {\n        for(int j=0; j &lt; numOfVariables; j++)\n        {\n            tableaux[i][j] = thisTableaux[i][j];\n        }\n    } \n\n\n    //adds a slack variable for each variable there is and sets it to 1.0\n    for(int i=0; i &lt; numOfConstraints; i++)\n    {\n        tableaux[i][numOfVariables+i] = 1.0;\n    }\n\n\n    //adds variables into the second [] of tableux\n    for(int j=0; j &lt; numOfVariables; j++)\n    {\n        tableaux[numOfConstraints][j] = variables[j];\n    }\n\n\n\n    //adds constraints to first [] of tableaux\n    for(int k=0; k &lt; numOfConstraints; k++)\n    {\n        tableaux[k][numOfConstraints+numOfVariables] = constraints[k];\n    }\n\n\n\n    basis = new int[numOfConstraints];\n\n    for(int i=0; i &lt; numOfConstraints; i++)\n    {\n        basis[i] = numOfVariables + i;\n    }\n\n    show();\n\n    optimise();\n\n    assert check(thisTableaux, constraints, variables);\n\n\n}\n\npublic void optimise() {\n    while(true) {\n\n        int q = findLowestNonBasicCol();\n\n        if(q == -1) {\n            break;\n        }\n\n        int p = getPivotRow(q);\n        if(p == -1) throw new ArithmeticException(\"Linear Program Unbounded\");\n\n        pivot(p, q);\n\n        basis[p] = q;\n    }\n\n}\n\npublic int findLowestNonBasicCol() {\n\n    for(int i=0; i &lt; numOfConstraints + numOfVariables; i++)\n    {\n        if(tableaux[numOfConstraints][i] &gt; 0) {\n\n\n            return i;\n        }\n    }\n\n    return -1;\n\n\n}\n\npublic int findIndexOfLowestNonBasicCol() {\n\n    int q = 0;\n    for(int i=1; i &lt; numOfConstraints + numOfVariables; i++)\n    {\n        if(tableaux[numOfConstraints][i] &gt; tableaux[numOfConstraints][q]) {\n            q = i;\n        }\n    }\n\n    if(tableaux[numOfConstraints][q] &lt;= 0) {\n        return -1;\n    }\n\n    else {\n        return q;\n    }\n}\n\n/**\n * Finds row p which will be the pivot row using the minimum ratio rule.\n * -1 if there is no pivot row\n */\npublic int getPivotRow(int q) {\n\n    int p = -1;\n\n    for(int i=0; i &lt; numOfConstraints; i++) {\n\n        if (tableaux[i][q] &lt;=0) {\n            continue;\n        }\n\n        else if (p == -1) {\n            p = i;\n        }\n\n        else if((tableaux[i][numOfConstraints+numOfVariables] / tableaux[i][q] &lt; tableaux[p][numOfConstraints+numOfVariables] / tableaux[p][q])) {\n            p = i;\n        }\n    }\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1666335521,"post_id":74149748,"comment_id":130916867,"body_markdown":"Since you only use two parameters to create a new Object could you not use a vanilla java consturctor or a builder? To me that would seem like the simplest solution.","body":"Since you only use two parameters to create a new Object could you not use a vanilla java consturctor or a builder? To me that would seem like the simplest solution."},{"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"score":0,"creation_date":1666335688,"post_id":74149748,"comment_id":130916914,"body_markdown":"@GJohannes i agree with you, but i wonder why i don&#39;t have the possibility of doing this by means of mapstruct","body":"@GJohannes i agree with you, but i wonder why i don&#39;t have the possibility of doing this by means of mapstruct"},{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":0,"creation_date":1666335919,"post_id":74149748,"comment_id":130916981,"body_markdown":"you should define @Mapping(source,target) annotation in your mapstruct","body":"you should define @Mapping(source,target) annotation in your mapstruct"},{"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"score":0,"creation_date":1666340056,"post_id":74149748,"comment_id":130918334,"body_markdown":"@debugmode no, u should&#39;nt define Mapping if u have not to make specific handling for mapping properties. And it does not make any difference","body":"@debugmode no, u should&#39;nt define Mapping if u have not to make specific handling for mapping properties. And it does not make any difference"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1666456989,"post_id":74149748,"comment_id":130943714,"body_markdown":"why don&#39;t you pass CompanyEntity as parameter?","body":"why don&#39;t you pass CompanyEntity as parameter?"},{"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"score":0,"creation_date":1666631421,"post_id":74149748,"comment_id":130978057,"body_markdown":"@PaulMarcelinBejan because it does&#39;not make any sense so i don&#39;t have entity","body":"@PaulMarcelinBejan because it does&#39;not make any sense so i don&#39;t have entity"}],"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666335012,"creation_date":1666335012,"question_id":74149748,"body_markdown":"I have the follow object:\r\n```\r\n@Value\r\npublic class CompanyDto {\r\n    int id;\r\n    int accountId;\r\n}\r\n```\r\nAnd i try to use `MapStruct` *(version `1.5.2.Final`)* for mapping two primitive properties to new `CompanyDto` object:\r\n```\r\n@Mapper\r\npublic interface CompanyMapper {\r\n\r\n    CompanyDto mapToDto(int id, int accountId);\r\n}\r\n```\r\nAnd i get compiling error:\r\n\r\n&gt; error: illegal start of expression\r\n&gt; \r\n&gt;         if (  ) {\r\n&gt;               ^\r\nSo i see that `MapStruct` tries to check something for `null` value but there are not any objects which can be checked for `null` and it generates empty `if` condition which is cause of the compiling error.\r\n\r\nIs this bug or i do something wrong?","title":"How to use MapStruct with only primitive properties as sources?","body":"<p>I have the follow object:</p>\n<pre><code>@Value\npublic class CompanyDto {\n    int id;\n    int accountId;\n}\n</code></pre>\n<p>And i try to use <code>MapStruct</code> <em>(version <code>1.5.2.Final</code>)</em> for mapping two primitive properties to new <code>CompanyDto</code> object:</p>\n<pre><code>@Mapper\npublic interface CompanyMapper {\n\n    CompanyDto mapToDto(int id, int accountId);\n}\n</code></pre>\n<p>And i get compiling error:</p>\n<blockquote>\n<p>error: illegal start of expression</p>\n<pre><code>    if (  ) {\n          ^\n</code></pre>\n</blockquote>\n<p>So i see that <code>MapStruct</code> tries to check something for <code>null</code> value but there are not any objects which can be checked for <code>null</code> and it generates empty <code>if</code> condition which is cause of the compiling error.</p>\n<p>Is this bug or i do something wrong?</p>\n"},{"tags":["java","eclipse","pom.xml","rest-assured"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1666267136,"post_id":74137695,"comment_id":130898601,"body_markdown":"If you have a [`module-info.java`](https://en.wikipedia.org/wiki/Java_Platform_Module_System) file in the default package, delete it (or add the required `requires ...;` statement). Otherwise, please show whether the required class is shown below the _Maven Dependencies_ node.","body":"If you have a <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><code>module-info.java</code></a> file in the default package, delete it (or add the required <code>requires ...;</code> statement). Otherwise, please show whether the required class is shown below the <i>Maven Dependencies</i> node."},{"owner":{"account_id":26680203,"reputation":1,"user_id":20290270,"display_name":"Rajat Sharan"},"score":0,"creation_date":1666272557,"post_id":74137695,"comment_id":130900826,"body_markdown":"Thanks , I have deleted module-info.java file from src folder . Unable to add screenshot in comment","body":"Thanks , I have deleted module-info.java file from src folder . Unable to add screenshot in comment"},{"owner":{"account_id":26680203,"reputation":1,"user_id":20290270,"display_name":"Rajat Sharan"},"score":0,"creation_date":1666273254,"post_id":74137695,"comment_id":130901167,"body_markdown":"Facing same issue even after deleted module-info.java","body":"Facing same issue even after deleted module-info.java"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1666277211,"post_id":74137695,"comment_id":130903008,"body_markdown":"Please update your question with a screenshot with the _Maven Dependencies_ node expanded to the class you want to import and the Java editor with the import statement with error message.","body":"Please update your question with a screenshot with the <i>Maven Dependencies</i> node expanded to the class you want to import and the Java editor with the import statement with error message."},{"owner":{"account_id":26680203,"reputation":1,"user_id":20290270,"display_name":"Rajat Sharan"},"score":0,"creation_date":1666280009,"post_id":74137695,"comment_id":130904231,"body_markdown":"I have updated the question with screenshot with Maven dependencies expanded to the import statement with error message.Please have a look","body":"I have updated the question with screenshot with Maven dependencies expanded to the import statement with error message.Please have a look"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1666332857,"post_id":74137695,"comment_id":130916192,"body_markdown":"The import statement is missing. Did you used code completion (Ctrl+Space) to choose from? Otherwise, please show _Maven Dependencies_ expand to the class you want to use, not only to the first level and also show what code completion (Ctrl+Space) overs.","body":"The import statement is missing. Did you used code completion (Ctrl+Space) to choose from? Otherwise, please show <i>Maven Dependencies</i> expand to the class you want to use, not only to the first level and also show what code completion (Ctrl+Space) overs."}],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666334822,"creation_date":1666334822,"answer_id":74149706,"question_id":74137695,"body_markdown":"Try importing it directly by using:\r\n```\r\nimport static io.restassured.RestAssured\r\n```\r\nYou can also run in terminal: \r\n```\r\nmvn clean install\r\n```","title":"io.restassured.RestAssured cannot be resolved","body":"<p>Try importing it directly by using:</p>\n<pre><code>import static io.restassured.RestAssured\n</code></pre>\n<p>You can also run in terminal:</p>\n<pre><code>mvn clean install\n</code></pre>\n"}],"owner":{"account_id":26680203,"reputation":1,"user_id":20290270,"display_name":"Rajat Sharan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666334822,"creation_date":1666258883,"question_id":74137695,"body_markdown":"Hi I am not able to resolve the error while using rest assured 5.2.0 library in my Eclipse IDE. I have added the rest assured library in my pom.xml file still the error is not resolved also removed Scope from the dependency.\r\n\r\nI tried importing the rest assured library from https://mvnrepository.com/artifact/io.rest-assured/rest-assured/5.2.0 But still doesn&#39;t work.It is &quot;RestAssured cannot be resolved&quot;.\r\n\r\nPlease find the attached screenshot[enter image description here][1]\r\n\r\nScreenshot of Maven Dependencies node expanded to the class and import statement with error message.\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pmKQl.png\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/vYR3I.png","title":"io.restassured.RestAssured cannot be resolved","body":"<p>Hi I am not able to resolve the error while using rest assured 5.2.0 library in my Eclipse IDE. I have added the rest assured library in my pom.xml file still the error is not resolved also removed Scope from the dependency.</p>\n<p>I tried importing the rest assured library from <a href=\"https://mvnrepository.com/artifact/io.rest-assured/rest-assured/5.2.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.rest-assured/rest-assured/5.2.0</a> But still doesn't work.It is &quot;RestAssured cannot be resolved&quot;.</p>\n<p>Please find the attached screenshot<a href=\"https://i.stack.imgur.com/pmKQl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Screenshot of Maven Dependencies node expanded to the class and import statement with error message.</p>\n<p><a href=\"https://i.stack.imgur.com/vYR3I.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","groovy","unetstack"],"comments":[{"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"score":0,"creation_date":1666477870,"post_id":74129904,"comment_id":130947625,"body_markdown":"Can you put a breakpoint in IllegalArgumentException and see what line of source triggers the exception?","body":"Can you put a breakpoint in IllegalArgumentException and see what line of source triggers the exception?"},{"owner":{"account_id":26669719,"reputation":11,"user_id":20281312,"display_name":"Raju"},"score":0,"creation_date":1666674473,"post_id":74129904,"comment_id":130986931,"body_markdown":"I changed the java version and it is working fine now.","body":"I changed the java version and it is working fine now."}],"answers":[{"comments":[{"owner":{"account_id":26669719,"reputation":11,"user_id":20281312,"display_name":"Raju"},"score":1,"creation_date":1666248979,"post_id":74133437,"comment_id":130891916,"body_markdown":"java -version returns 11.0.16. I will install java 8 and check.","body":"java -version returns 11.0.16. I will install java 8 and check."},{"owner":{"account_id":26669719,"reputation":11,"user_id":20281312,"display_name":"Raju"},"score":1,"creation_date":1666674504,"post_id":74133437,"comment_id":130986934,"body_markdown":"After installing Java 8, it is working fine.","body":"After installing Java 8, it is working fine."}],"tags":[],"owner":{"account_id":281328,"reputation":1127,"user_id":577563,"display_name":"notthetup"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666228189,"creation_date":1666228189,"answer_id":74133437,"question_id":74129904,"body_markdown":"Sounds like a Java version problem.\r\n\r\nCan you check which version of Java you&#39;re running by typing the following command in your terminal\r\n\r\n```\r\njava -version\r\n```\r\n\r\nUnetStack v3.x.x only support Java8. You can install it for your https://adoptium.net/temurin/releases?version=8","title":"Illegal reflective access while running simulation in UnetStack","body":"<p>Sounds like a Java version problem.</p>\n<p>Can you check which version of Java you're running by typing the following command in your terminal</p>\n<pre><code>java -version\n</code></pre>\n<p>UnetStack v3.x.x only support Java8. You can install it for your <a href=\"https://adoptium.net/temurin/releases?version=8\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases?version=8</a></p>\n"}],"owner":{"account_id":26669719,"reputation":11,"user_id":20281312,"display_name":"Raju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666334718,"creation_date":1666202202,"question_id":74129904,"body_markdown":"`bin/unet samples/2-node-network.groovy` running this line throws the following error.\r\n\r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/home/mohanraju/Documents/Research/unet-community-3.4.0/unet-3.4.0/lib/groovy-2.5.9.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\r\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\njava.lang.IllegalArgumentException: object is not an instance of declaring class\r\n```","title":"Illegal reflective access while running simulation in UnetStack","body":"<p><code>bin/unet samples/2-node-network.groovy</code> running this line throws the following error.</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/home/mohanraju/Documents/Research/unet-community-3.4.0/unet-3.4.0/lib/groovy-2.5.9.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\njava.lang.IllegalArgumentException: object is not an instance of declaring class\n</code></pre>\n"},{"tags":["java","junit","code-coverage","cobertura","maven-cobertura-plugin"],"comments":[{"owner":{"account_id":1249654,"reputation":159470,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1605228006,"post_id":64813624,"comment_id":114594347,"body_markdown":"possible duplicate of [Code coverage does not reach class declaration](https://stackoverflow.com/questions/46477696/code-coverage-does-not-reach-class-declaration)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/46477696/code-coverage-does-not-reach-class-declaration\">Code coverage does not reach class declaration</a>"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1605241639,"post_id":64813624,"comment_id":114596816,"body_markdown":"Please give explanations for down votes, I&#39;d like to learn more.","body":"Please give explanations for down votes, I&#39;d like to learn more."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1605447379,"post_id":64813624,"comment_id":114646878,"body_markdown":"Does this answer your question? [Code coverage does not reach class declaration](https://stackoverflow.com/questions/46477696/code-coverage-does-not-reach-class-declaration)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/46477696/code-coverage-does-not-reach-class-declaration\">Code coverage does not reach class declaration</a>"}],"answers":[{"tags":[],"owner":{"account_id":10672127,"reputation":1,"user_id":7856887,"display_name":"darker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666334493,"creation_date":1666334493,"answer_id":74149654,"question_id":64813624,"body_markdown":"it means default constructor is not tested.maybe, you can add a test method to `new TimeHelper()` for resolve it.","title":"What is the meaning of red check mark at class declaration level in Cobertura Maven Plugin report?","body":"<p>it means default constructor is not tested.maybe, you can add a test method to <code>new TimeHelper()</code> for resolve it.</p>\n"}],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1666334493,"creation_date":1605225758,"question_id":64813624,"body_markdown":"I have a project with several tests and [Cobertura Maven Plugin](https://www.mojohaus.org/cobertura-maven-plugin/). All works fine but one Class with its test are driving me crazy.\r\n\r\nThis is the cobertura report with 83% of line coverage:\r\n\r\n[![r1][1]][1]\r\n\r\nAnd this is the basic test:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    import org.junit.Test;\r\n    \r\n    public class TimeHelperTest {\r\n    \r\n      @Test\r\n      public void elapsedMillisToHumanExpression() throws Exception {\r\n        assertEquals(&quot;0 min 3 seg 600 millis&quot;,\r\n            TimeHelper.elapsedMillisToHumanExpression(1000000000l, 1000003600l));\r\n      }\r\n    \r\n    }\r\n\r\n\r\n\r\n# Question\r\n\r\n- What means 0 at the left of class name in cobertura report? \r\n\r\nOther classes show numbers &gt; 0 and are green.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n# Environment\r\n\r\n- java 8\r\n- ubuntu\r\n- eclipse\r\n- pom.xml\r\n```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;check&gt;\r\n          &lt;haltOnFailure&gt;true&lt;/haltOnFailure&gt;\r\n          &lt;branchRate&gt;90&lt;/branchRate&gt;\r\n          &lt;lineRate&gt;90&lt;/lineRate&gt;\r\n          &lt;totalBranchRate&gt;90&lt;/totalBranchRate&gt;\r\n          &lt;totalLineRate&gt;90&lt;/totalLineRate&gt;\r\n          &lt;packageLineRate&gt;90&lt;/packageLineRate&gt;\r\n          &lt;packageBranchRate&gt;90&lt;/packageBranchRate&gt;\r\n        &lt;/check&gt;\r\n        &lt;formats&gt;\r\n          &lt;format&gt;html&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;cobertura-clean-and-check&lt;/id&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;clean&lt;/goal&gt;\r\n            &lt;goal&gt;cobertura&lt;/goal&gt;\r\n            &lt;goal&gt;check&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n# Attempts\r\n\r\nI tried with several changes in my @Test but report does not change !!\r\n\r\n- use `extends TestCase`\r\n- use `@RunWith`\r\n- use **maven-surefire-plugin** including **/*Test.java\r\n- remove thresholds in pom.xml\r\n\r\n# Research\r\n\r\n- https://stackoverflow.com/questions/8007759/cobertura-code-coverage-is-0-when-using-maven-3\r\n- https://github.com/cobertura/cobertura/issues/136\r\n- http://cobertura.996293.n3.nabble.com/Cobertura-shows-zero-code-coverage-despite-all-tests-running-td2829.html\r\n  - This talk about base path of test for ant projects but I can&#39;t use it in my maven project\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sIO2H.png\r\n  [2]: https://i.stack.imgur.com/EEK44.png","title":"What is the meaning of red check mark at class declaration level in Cobertura Maven Plugin report?","body":"<p>I have a project with several tests and <a href=\"https://www.mojohaus.org/cobertura-maven-plugin/\" rel=\"nofollow noreferrer\">Cobertura Maven Plugin</a>. All works fine but one Class with its test are driving me crazy.</p>\n<p>This is the cobertura report with 83% of line coverage:</p>\n<p><a href=\"https://i.stack.imgur.com/sIO2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sIO2H.png\" alt=\"r1\" /></a></p>\n<p>And this is the basic test:</p>\n<pre><code>import static org.junit.Assert.assertEquals;\nimport org.junit.Test;\n\npublic class TimeHelperTest {\n\n  @Test\n  public void elapsedMillisToHumanExpression() throws Exception {\n    assertEquals(&quot;0 min 3 seg 600 millis&quot;,\n        TimeHelper.elapsedMillisToHumanExpression(1000000000l, 1000003600l));\n  }\n\n}\n</code></pre>\n<h1>Question</h1>\n<ul>\n<li>What means 0 at the left of class name in cobertura report?</li>\n</ul>\n<p>Other classes show numbers &gt; 0 and are green.</p>\n<p><a href=\"https://i.stack.imgur.com/EEK44.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EEK44.png\" alt=\"enter image description here\" /></a></p>\n<h1>Environment</h1>\n<ul>\n<li>java 8</li>\n<li>ubuntu</li>\n<li>eclipse</li>\n<li>pom.xml</li>\n</ul>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n      &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.7&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;check&gt;\n          &lt;haltOnFailure&gt;true&lt;/haltOnFailure&gt;\n          &lt;branchRate&gt;90&lt;/branchRate&gt;\n          &lt;lineRate&gt;90&lt;/lineRate&gt;\n          &lt;totalBranchRate&gt;90&lt;/totalBranchRate&gt;\n          &lt;totalLineRate&gt;90&lt;/totalLineRate&gt;\n          &lt;packageLineRate&gt;90&lt;/packageLineRate&gt;\n          &lt;packageBranchRate&gt;90&lt;/packageBranchRate&gt;\n        &lt;/check&gt;\n        &lt;formats&gt;\n          &lt;format&gt;html&lt;/format&gt;\n        &lt;/formats&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;cobertura-clean-and-check&lt;/id&gt;\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;clean&lt;/goal&gt;\n            &lt;goal&gt;cobertura&lt;/goal&gt;\n            &lt;goal&gt;check&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<h1>Attempts</h1>\n<p>I tried with several changes in my @Test but report does not change !!</p>\n<ul>\n<li>use <code>extends TestCase</code></li>\n<li>use <code>@RunWith</code></li>\n<li>use <strong>maven-surefire-plugin</strong> including **/*Test.java</li>\n<li>remove thresholds in pom.xml</li>\n</ul>\n<h1>Research</h1>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8007759/cobertura-code-coverage-is-0-when-using-maven-3\">Cobertura code coverage is 0% when using Maven 3</a></li>\n<li><a href=\"https://github.com/cobertura/cobertura/issues/136\" rel=\"nofollow noreferrer\">https://github.com/cobertura/cobertura/issues/136</a></li>\n<li><a href=\"http://cobertura.996293.n3.nabble.com/Cobertura-shows-zero-code-coverage-despite-all-tests-running-td2829.html\" rel=\"nofollow noreferrer\">http://cobertura.996293.n3.nabble.com/Cobertura-shows-zero-code-coverage-despite-all-tests-running-td2829.html</a>\n<ul>\n<li>This talk about base path of test for ant projects but I can't use it in my maven project</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","spring-boot","unit-testing","junit","spring-test"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666071072,"creation_date":1666071072,"answer_id":74106106,"question_id":74105184,"body_markdown":"You need to create a real AmountService class because you want to test it but you need to mock other classes used in AmountService class. Also, you can find mockito [documentation](https://site.mockito.org/) says that doesn&#39;t mock everything.\r\n\r\n```\r\n@Slf4j\r\n@ExtendWith(value = SpringExtension.class)\r\n@EnableConfigurationProperties(value = AmountProperties.class)\r\n@TestPropertySource(&quot;classpath:amount-test.properties&quot;)\r\npublic class CashOutServiceTest {\r\n\r\n    @Mock\r\n    private OtherService otherService;\r\n\r\n    @Autowired\r\n    private AmountProperties amountProperties;\r\n\r\n    private AmountService amountService;\r\n\r\n    @BeforeEach // If you using junit 4 use @Before annotation\r\n    public void init() {\r\n        MockitoAnnotations.openMocks(this);\r\n        amountService = new AmountService(otherService, amountProperties);\r\n    }\r\n\r\n    @Test\r\n    void a() {\r\n        assertNotNull(amountProperties);\r\n        log.debug(&quot;{}&quot;, amountProperties);\r\n    }\r\n\r\n    @Test\r\n    void b() {\r\n        assertNotNull(amountService.getAmountProperties());\r\n        log.debug(&quot;{}&quot;, amountService.getAmountProperties());\r\n    }\r\n\r\n}\r\n```","title":"How to inject configuration properties to a service in Spring testing?","body":"<p>You need to create a real AmountService class because you want to test it but you need to mock other classes used in AmountService class. Also, you can find mockito <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">documentation</a> says that doesn't mock everything.</p>\n<pre><code>@Slf4j\n@ExtendWith(value = SpringExtension.class)\n@EnableConfigurationProperties(value = AmountProperties.class)\n@TestPropertySource(&quot;classpath:amount-test.properties&quot;)\npublic class CashOutServiceTest {\n\n    @Mock\n    private OtherService otherService;\n\n    @Autowired\n    private AmountProperties amountProperties;\n\n    private AmountService amountService;\n\n    @BeforeEach // If you using junit 4 use @Before annotation\n    public void init() {\n        MockitoAnnotations.openMocks(this);\n        amountService = new AmountService(otherService, amountProperties);\n    }\n\n    @Test\n    void a() {\n        assertNotNull(amountProperties);\n        log.debug(&quot;{}&quot;, amountProperties);\n    }\n\n    @Test\n    void b() {\n        assertNotNull(amountService.getAmountProperties());\n        log.debug(&quot;{}&quot;, amountService.getAmountProperties());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666334286,"creation_date":1666334286,"answer_id":74149626,"question_id":74105184,"body_markdown":"You mix two approaches (`SpringExtension` and `InjectMocks`). If you used `SpringExtension` - that means spring context will be created (use `@MockBean`). If you used `InjectMocks` - that means mocks will be created independently of spring(use `@ExtendWith(MockitoExtensions.class)`), in this case `EnableConfigurationProperties` and `TestPropertySource` will not work for your tested service annotated by `@InjectMocks` .  \r\nMy understanding you want delegate creating of &#39;AmountProperties&#39; by spring in this case please see my example:\r\n\r\n    @Slf4j\r\n    @ExtendWith(value = SpringExtension.class)\r\n    @EnableConfigurationProperties(value = AmountProperties.class)\r\n    @TestPropertySource(&quot;classpath:amount-test.properties&quot;)\r\n    @MockBean(OtherService.class)\r\n    public class CashOutServiceTest {\r\n            \r\n        @Autowired\r\n        AmountProperties amountProperties;\r\n\r\n        @Autowired\r\n        AmountService amountService;\r\n    \r\n        @Test\r\n        void a() {\r\n            assertNotNull(amountProperties);\r\n            log.debug(&quot;{}&quot;, amountProperties);\r\n        }\r\n    \r\n        @Test\r\n        void b() {\r\n            assertNotNull(amountService.getAmountProperties());\r\n            log.debug(&quot;{}&quot;, amountService.getAmountProperties());\r\n        }\r\n    }\r\n\r\n**PS**. `@MockBean` can also be used at the field level if you want to use in a test.\r\n\r\n    public class CashOutServiceTest {\r\n       @MockBean\r\n       OtherService otherService;","title":"How to inject configuration properties to a service in Spring testing?","body":"<p>You mix two approaches (<code>SpringExtension</code> and <code>InjectMocks</code>). If you used <code>SpringExtension</code> - that means spring context will be created (use <code>@MockBean</code>). If you used <code>InjectMocks</code> - that means mocks will be created independently of spring(use <code>@ExtendWith(MockitoExtensions.class)</code>), in this case <code>EnableConfigurationProperties</code> and <code>TestPropertySource</code> will not work for your tested service annotated by <code>@InjectMocks</code> .<br />\nMy understanding you want delegate creating of 'AmountProperties' by spring in this case please see my example:</p>\n<pre><code>@Slf4j\n@ExtendWith(value = SpringExtension.class)\n@EnableConfigurationProperties(value = AmountProperties.class)\n@TestPropertySource(&quot;classpath:amount-test.properties&quot;)\n@MockBean(OtherService.class)\npublic class CashOutServiceTest {\n        \n    @Autowired\n    AmountProperties amountProperties;\n\n    @Autowired\n    AmountService amountService;\n\n    @Test\n    void a() {\n        assertNotNull(amountProperties);\n        log.debug(&quot;{}&quot;, amountProperties);\n    }\n\n    @Test\n    void b() {\n        assertNotNull(amountService.getAmountProperties());\n        log.debug(&quot;{}&quot;, amountService.getAmountProperties());\n    }\n}\n</code></pre>\n<p><strong>PS</strong>. <code>@MockBean</code> can also be used at the field level if you want to use in a test.</p>\n<pre><code>public class CashOutServiceTest {\n   @MockBean\n   OtherService otherService;\n</code></pre>\n"}],"owner":{"account_id":21774978,"reputation":45,"user_id":16077546,"display_name":"BlueRey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666334286,"creation_date":1666061628,"question_id":74105184,"body_markdown":"So I have a configuration properties bean\r\n\r\n    @Data\r\n    @ConfigurationProperties(prefix = &quot;amount&quot;)\r\n    public class AmountProperties {\r\n        private BigInteger minimum;\r\n        private BigInteger maximum;\r\n    }\r\n\r\nThis configuration properties bean is used in a service\r\n\r\n    @Slf4j\r\n    @Data\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AmountService {\r\n        private final OtherService otherService;\r\n\r\n        private final AmountProperties amountProperties;\r\n    }\r\n\r\nNow in testing I have a test class like this\r\n\r\n    @Slf4j\r\n    @ExtendWith(value = SpringExtension.class)\r\n    @EnableConfigurationProperties(value = AmountProperties.class)\r\n    @TestPropertySource(&quot;classpath:amount-test.properties&quot;)\r\n    public class CashOutServiceTest {\r\n        @Mock\r\n        private OtherService otherService;\r\n    \r\n        @Autowired\r\n        private CashOutProperties cashOutProperties;\r\n    \r\n        @InjectMocks\r\n        private AmountService amountService;\r\n    \r\n        @Test\r\n        void a() {\r\n            assertNotNull(amountProperties);\r\n            log.debug(&quot;{}&quot;, amountProperties);\r\n        }\r\n    \r\n        @Test\r\n        void b() {\r\n            assertNotNull(amountService.getAmountProperties());\r\n            log.debug(&quot;{}&quot;, amountService.getAmountProperties());\r\n        }\r\n    }\r\n\r\na test function succeed, but b test function fails. How do I inject amountProperties to amountService?\r\n","title":"How to inject configuration properties to a service in Spring testing?","body":"<p>So I have a configuration properties bean</p>\n<pre><code>@Data\n@ConfigurationProperties(prefix = &quot;amount&quot;)\npublic class AmountProperties {\n    private BigInteger minimum;\n    private BigInteger maximum;\n}\n</code></pre>\n<p>This configuration properties bean is used in a service</p>\n<pre><code>@Slf4j\n@Data\n@Service\n@RequiredArgsConstructor\npublic class AmountService {\n    private final OtherService otherService;\n\n    private final AmountProperties amountProperties;\n}\n</code></pre>\n<p>Now in testing I have a test class like this</p>\n<pre><code>@Slf4j\n@ExtendWith(value = SpringExtension.class)\n@EnableConfigurationProperties(value = AmountProperties.class)\n@TestPropertySource(&quot;classpath:amount-test.properties&quot;)\npublic class CashOutServiceTest {\n    @Mock\n    private OtherService otherService;\n\n    @Autowired\n    private CashOutProperties cashOutProperties;\n\n    @InjectMocks\n    private AmountService amountService;\n\n    @Test\n    void a() {\n        assertNotNull(amountProperties);\n        log.debug(&quot;{}&quot;, amountProperties);\n    }\n\n    @Test\n    void b() {\n        assertNotNull(amountService.getAmountProperties());\n        log.debug(&quot;{}&quot;, amountService.getAmountProperties());\n    }\n}\n</code></pre>\n<p>a test function succeed, but b test function fails. How do I inject amountProperties to amountService?</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666278636,"post_id":74141846,"comment_id":130903682,"body_markdown":"Google can&#39;t find a `notifyOnException()` method.  Got a link to the documentation?","body":"Google can&#39;t find a <code>notifyOnException()</code> method.  Got a link to the documentation?"},{"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"score":0,"creation_date":1666292143,"post_id":74141846,"comment_id":130908520,"body_markdown":"@markspace `notifyOnException()` is my method. You can see it down there in the OP.","body":"@markspace <code>notifyOnException()</code> is my method. You can see it down there in the OP."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666298022,"post_id":74141846,"comment_id":130910321,"body_markdown":"I think you need to produce a [mcve], this code is way too complex for people to guess at what the problem might be.  Your comment in the code says `waitToFinish()` &quot;will stop here&quot; but waitToFinish is a rather large and complex method, could you break down exactly where the problem is?  What output do you see, and what do you expect to see instead?  Please don&#39;t rely on external resources for the [mcve], please use something like a StringReader to generate a self-contained input stream.","body":"I think you need to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, this code is way too complex for people to guess at what the problem might be.  Your comment in the code says <code>waitToFinish()</code> &quot;will stop here&quot; but waitToFinish is a rather large and complex method, could you break down exactly where the problem is?  What output do you see, and what do you expect to see instead?  Please don&#39;t rely on external resources for the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please use something like a StringReader to generate a self-contained input stream."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666309946,"post_id":74141846,"comment_id":130912779,"body_markdown":"This could also conceivably be due to thread-safety issues, where a write to `thrownError` is not visible to another thread.","body":"This could also conceivably be due to thread-safety issues, where a write to <code>thrownError</code> is not visible to another thread."},{"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"score":0,"creation_date":1666330525,"post_id":74141846,"comment_id":130915742,"body_markdown":"@LouisWasserman this is not the case, as I put all writes in a synchronized block, as you can see.","body":"@LouisWasserman this is not the case, as I put all writes in a synchronized block, as you can see."},{"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"score":0,"creation_date":1666331031,"post_id":74141846,"comment_id":130915819,"body_markdown":"@markspace Please have a look now.","body":"@markspace Please have a look now."}],"answers":[{"tags":[],"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666334101,"creation_date":1666331452,"answer_id":74149262,"question_id":74141846,"body_markdown":"It seems to me that my assumption in regard to `UncaughtExceptionHanlder`&#39;s method call is wrong.\r\nJava docs says [this][1]:\r\n\r\n&gt; public static interface Thread.UncaughtExceptionHandler\r\n\r\n&gt; Interface for handlers invoked when a Thread abruptly terminates due to an uncaught exception.\r\nWhen a thread is about to terminate due to an uncaught exception the Java Virtual Machine will query the thread for its UncaughtExceptionHandler using Thread.getUncaughtExceptionHandler() and will invoke the handler&#39;s uncaughtException method, passing the thread and the exception as arguments. \r\n\r\nWith other words, it is not the thread itself which calls the `UncaughtExceptionHandler`&#39;s method, but JVM. This means that there is no constraint in regard to the order of operations when `awaitTermination` is called.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.UncaughtExceptionHandler.html","title":"ExecutorService.awaitTermination() returns true, even if tasks aren&#39;t finished","body":"<p>It seems to me that my assumption in regard to <code>UncaughtExceptionHanlder</code>'s method call is wrong.\nJava docs says <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.UncaughtExceptionHandler.html\" rel=\"nofollow noreferrer\">this</a>:</p>\n<blockquote>\n<p>public static interface Thread.UncaughtExceptionHandler</p>\n</blockquote>\n<blockquote>\n<p>Interface for handlers invoked when a Thread abruptly terminates due to an uncaught exception.\nWhen a thread is about to terminate due to an uncaught exception the Java Virtual Machine will query the thread for its UncaughtExceptionHandler using Thread.getUncaughtExceptionHandler() and will invoke the handler's uncaughtException method, passing the thread and the exception as arguments.</p>\n</blockquote>\n<p>With other words, it is not the thread itself which calls the <code>UncaughtExceptionHandler</code>'s method, but JVM. This means that there is no constraint in regard to the order of operations when <code>awaitTermination</code> is called.</p>\n"}],"owner":{"account_id":82865,"reputation":6321,"user_id":232695,"accept_rate":85,"display_name":"artaxerxe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666334101,"creation_date":1666277149,"question_id":74141846,"body_markdown":"Here is my parser class:\r\n\r\n    public class InputFilesParser {\r\n\r\n    private ExecutorService executorService;\r\n    private volatile Throwable thrownError;\r\n\r\n    public InputFilesParser(int poolSize) {\r\n\r\n            this.executorService = Executors.newFixedThreadPool(poolSize, (r) -&gt; {\r\n\r\n                Thread t = new Thread(r);\r\n                t.setUncaughtExceptionHandler((thread, e) -&gt; {\r\n                    //this should be called before the thread has finished.\r\n                    this.notifyOnException(thread, e);\r\n                });\r\n\r\n                return t;\r\n\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public void parseFile(Path inputFilePath) throws Throwable {\r\n\r\n            //if exception is set, then no more files will be processed.\r\n            if (this.thrownError != null) {\r\n\r\n                //execution will stop here because an error will be thrown from waitToFinish()\r\n                this.waitToFinish();\r\n\r\n            }\r\n\r\n            this.executorService.execute(() -&gt; {\r\n\r\n                //this will always throw an exception which have to be handled by the above mentioned uncaughtExceptionHandler.\r\n                this.processFile(inputFilePath);\r\n\r\n            });\r\n\r\n    }\r\n\r\n    private void processFile(Path inputFilePath) {\r\n\r\n\t\tthrow new RuntimeExecption();\r\n\r\n    }\r\n\r\n    public void waitToFinish() throws Throwable {\r\n\r\n            this.executorService.shutdown();\r\n\r\n            while (true) {\r\n\r\n                try {\r\n\r\n                    //if statement will be entered only when awaitTermination returns true, meaning all the tasks are finished.\r\n                    if (this.executorService.awaitTermination(STOP_CHECK_TIMEOUT, TimeUnit.SECONDS)) {\r\n\r\n                        synchronized (this) {\r\n\r\n                            //in this scenario, after all tasks are finished, the thrownError should be set\r\n                            if (this.thrownError != null) {\r\n\r\n                                //I expect to get this output\r\n                                System.out.println(&quot;Exception: &quot; + this.thrownError);\r\n                                throw this.thrownError;\r\n\r\n                            }\r\n\r\n                            //but I get this output\r\n                            System.out.println(&quot;No exception: &quot; + this.thrownError);\r\n\r\n                        }\r\n\r\n                        break;\r\n\r\n                    }\r\n\r\n                } catch (InterruptedException e) {\r\n\r\n                    LOG.info(&quot;An interruption occurred&quot;, e);\r\n\r\n                }\r\n\r\n            }\r\n\r\n    }\r\n\r\n    private synchronized void notifyOnException(Thread thread, Throwable t) {\r\n\r\n        //if the thrownError isn&#39;t set, then set it here so that waitToFinish() will know that an error occurred.\r\n        if (this.thrownError == null) {\r\n\r\n            this.thrownError = t;\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\non the calling thread, I have the following:\r\n\r\n    InputFilesParser ifp = new InputFilesParser(poolSize);\r\n    try {\r\n        for (Path f : files) {\r\n\r\n            //each parsing will throw an exception in this scenario\r\n            ifp.parseFile(f);\r\n\r\n        }\r\n        //an exception should be detected and the error thrown, but actually this is not happening, but printing No exception... message.\r\n        ifp.waitToFinish();\r\n    catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nAlthough there is an exception thrown, the calling thread gets in waitToFinish() method, printing null for the thrown exception:\r\n\r\n&gt; Thread: Thread-5. No exception: null\r\n\r\nThis means that awaitTermination returns true, before the exception is set in `notifyOnException` method. But `notifyOnException` method is called from a thread run by this executor service. In my opinion there is a problem with my understanding, or there is a problem with `java`.\r\n\r\nAny idea which one of this :) ? In my opinion, this shouldn&#39;t be possible. Am I missing something about setUncaughtExceptionHandler method and the way how it handles the exceptions? Although from documentation it seems that this method is called by the thread throwing the exception.\r\n\r\n&gt; public void setUncaughtExceptionHandler(Thread.UncaughtExceptionHandler eh)\r\n\r\n&gt; Set the handler invoked when this thread abruptly terminates due to an uncaught exception.\r\n\r\n&gt; A thread can take full control of how it responds to uncaught exceptions by having its uncaught exception handler explicitly set. If no such handler is set then the thread&#39;s ThreadGroup object acts as its handler.\r\n\r\nParameters:\r\neh - the object to use as this thread&#39;s uncaught exception handler. If null then this thread has no explicit handler.\r\n\r\n\r\nThanks in advance.","title":"ExecutorService.awaitTermination() returns true, even if tasks aren&#39;t finished","body":"<p>Here is my parser class:</p>\n<pre><code>public class InputFilesParser {\n\nprivate ExecutorService executorService;\nprivate volatile Throwable thrownError;\n\npublic InputFilesParser(int poolSize) {\n\n        this.executorService = Executors.newFixedThreadPool(poolSize, (r) -&gt; {\n\n            Thread t = new Thread(r);\n            t.setUncaughtExceptionHandler((thread, e) -&gt; {\n                //this should be called before the thread has finished.\n                this.notifyOnException(thread, e);\n            });\n\n            return t;\n\n        });\n\n    }\n\n}\n\npublic void parseFile(Path inputFilePath) throws Throwable {\n\n        //if exception is set, then no more files will be processed.\n        if (this.thrownError != null) {\n\n            //execution will stop here because an error will be thrown from waitToFinish()\n            this.waitToFinish();\n\n        }\n\n        this.executorService.execute(() -&gt; {\n\n            //this will always throw an exception which have to be handled by the above mentioned uncaughtExceptionHandler.\n            this.processFile(inputFilePath);\n\n        });\n\n}\n\nprivate void processFile(Path inputFilePath) {\n\n    throw new RuntimeExecption();\n\n}\n\npublic void waitToFinish() throws Throwable {\n\n        this.executorService.shutdown();\n\n        while (true) {\n\n            try {\n\n                //if statement will be entered only when awaitTermination returns true, meaning all the tasks are finished.\n                if (this.executorService.awaitTermination(STOP_CHECK_TIMEOUT, TimeUnit.SECONDS)) {\n\n                    synchronized (this) {\n\n                        //in this scenario, after all tasks are finished, the thrownError should be set\n                        if (this.thrownError != null) {\n\n                            //I expect to get this output\n                            System.out.println(&quot;Exception: &quot; + this.thrownError);\n                            throw this.thrownError;\n\n                        }\n\n                        //but I get this output\n                        System.out.println(&quot;No exception: &quot; + this.thrownError);\n\n                    }\n\n                    break;\n\n                }\n\n            } catch (InterruptedException e) {\n\n                LOG.info(&quot;An interruption occurred&quot;, e);\n\n            }\n\n        }\n\n}\n\nprivate synchronized void notifyOnException(Thread thread, Throwable t) {\n\n    //if the thrownError isn't set, then set it here so that waitToFinish() will know that an error occurred.\n    if (this.thrownError == null) {\n\n        this.thrownError = t;\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>on the calling thread, I have the following:</p>\n<pre><code>InputFilesParser ifp = new InputFilesParser(poolSize);\ntry {\n    for (Path f : files) {\n\n        //each parsing will throw an exception in this scenario\n        ifp.parseFile(f);\n\n    }\n    //an exception should be detected and the error thrown, but actually this is not happening, but printing No exception... message.\n    ifp.waitToFinish();\ncatch(Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Although there is an exception thrown, the calling thread gets in waitToFinish() method, printing null for the thrown exception:</p>\n<blockquote>\n<p>Thread: Thread-5. No exception: null</p>\n</blockquote>\n<p>This means that awaitTermination returns true, before the exception is set in <code>notifyOnException</code> method. But <code>notifyOnException</code> method is called from a thread run by this executor service. In my opinion there is a problem with my understanding, or there is a problem with <code>java</code>.</p>\n<p>Any idea which one of this :) ? In my opinion, this shouldn't be possible. Am I missing something about setUncaughtExceptionHandler method and the way how it handles the exceptions? Although from documentation it seems that this method is called by the thread throwing the exception.</p>\n<blockquote>\n<p>public void setUncaughtExceptionHandler(Thread.UncaughtExceptionHandler eh)</p>\n</blockquote>\n<blockquote>\n<p>Set the handler invoked when this thread abruptly terminates due to an uncaught exception.</p>\n</blockquote>\n<blockquote>\n<p>A thread can take full control of how it responds to uncaught exceptions by having its uncaught exception handler explicitly set. If no such handler is set then the thread's ThreadGroup object acts as its handler.</p>\n</blockquote>\n<p>Parameters:\neh - the object to use as this thread's uncaught exception handler. If null then this thread has no explicit handler.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","solr","lucene","full-text-search"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1666272694,"post_id":74140376,"comment_id":130900893,"body_markdown":"Could you add the entire exception stack trace?","body":"Could you add the entire exception stack trace?"},{"owner":{"account_id":26555478,"reputation":3,"user_id":20184171,"display_name":"Kushagra Srivastva"},"score":0,"creation_date":1666333893,"post_id":74140376,"comment_id":130916442,"body_markdown":"@VitalyChura added the entire error","body":"@VitalyChura added the entire error"}],"owner":{"account_id":26555478,"reputation":3,"user_id":20184171,"display_name":"Kushagra Srivastva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666333843,"creation_date":1666271095,"question_id":74140376,"body_markdown":"Getting an error while running , a solr spring boot application, it says \r\n\r\n&quot;Parameter 0 of constructor in Controller required a bean of type Repository that could not be found.&quot; \r\n\r\n&quot;Consider defining a bean of type Repository in your configuration.&quot;\r\n\r\nHere is my enitiy\r\n\r\n```@Data\r\n@SolrDocument(collection = &quot;content_core&quot;)\r\npublic class ContentDoc {\r\n@Id\r\n@Indexed\r\nprivate String id;\r\n\r\n@Indexed(name = &quot;display_title&quot;, type = &quot;string&quot;)\r\nprivate String displayTitle;\r\n}\r\n```\r\n\r\n\r\nHere is my solr config file\r\n\r\n```@Configuration\r\n@EnableSolrRepositories(basePackages = &quot;com.baeldung.repository.ContentDocRepository.spring.data.solr.repository&quot;, namedQueriesLocation = &quot;classpath:solr-named-queries.properties&quot;)\r\n@ComponentScan\r\npublic class SolrConfig {\r\n@Bean\r\npublic SolrClient solrClient() {\r\nreturn new HttpSolrClient.Builder(&quot;http://localhost:8983/solr&quot;).build();\r\n}\r\n\r\n@Bean\r\npublic SolrTemplate solrTemplate(SolrClient client) throws Exception {\r\nreturn new SolrTemplate(client);\r\n}\r\n}\r\n\r\n```\r\n\r\nHere is my controller\r\n\r\n```@RestController\r\n@RequestMapping(&quot;/api/v1/content&quot;)\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class ContentDocController {\r\n\r\nprivate final ContentDocRepository contentDocRepository;\r\n\r\n@GetMapping(&quot;/searchfaq&quot;)\r\npublic Map&lt;String, Object&gt; searchFaq(@RequestParam(&quot;sectionId&quot;) Long sectionId,\r\n@RequestParam(&quot;seachTerm&quot;) String searchTerm) {\r\n\r\n// ContentDoc contentDoc = new ContentDoc();\r\n// contentDoc.setContentId((long)1);\r\n// contentDoc.setDisplayTitle(&quot;virat&quot;);\r\n// contentDocRepository.save(contentDoc);\r\nreturn null;\r\n}\r\n}\r\n```\r\n\r\nHere is my repository \r\n\r\n```@Repository\r\n@Qualifier(&quot;contentDocRepository&quot;)\r\npublic interface ContentDocRepository extends SolrCrudRepository&lt;ContentDoc, String&gt; {\r\npublic List&lt;ContentDoc&gt; findByName(String displayTitle);\r\n}\r\n\r\n```\r\n\r\n\r\nthis is the error that I am getting -&gt;\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-10-20 18:22:47.836 ERROR 2760 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n*********\r\nAPPLICATION FAILED TO START\r\n*********\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.aa.aa.controller.ContentController required a bean of type &#39;com.aa.aa.repository.ContentDocRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.aa.aa.repository.ContentDocRepository&#39; in your configuration.\r\n```\r\n\r\nI am trying to create an an api which searches data from DB , and using solr to index the db data.\r\n\r\nI am following this page -&gt; https://www.baeldung.com/spring-data-solr\r\n\r\n\r\n\r\n","title":"Solr Spring boot application failed to run, giving bean error","body":"<p>Getting an error while running , a solr spring boot application, it says</p>\n<p>&quot;Parameter 0 of constructor in Controller required a bean of type Repository that could not be found.&quot;</p>\n<p>&quot;Consider defining a bean of type Repository in your configuration.&quot;</p>\n<p>Here is my enitiy</p>\n<pre><code>@SolrDocument(collection = &quot;content_core&quot;)\npublic class ContentDoc {\n@Id\n@Indexed\nprivate String id;\n\n@Indexed(name = &quot;display_title&quot;, type = &quot;string&quot;)\nprivate String displayTitle;\n}\n</code></pre>\n<p>Here is my solr config file</p>\n<pre><code>@EnableSolrRepositories(basePackages = &quot;com.baeldung.repository.ContentDocRepository.spring.data.solr.repository&quot;, namedQueriesLocation = &quot;classpath:solr-named-queries.properties&quot;)\n@ComponentScan\npublic class SolrConfig {\n@Bean\npublic SolrClient solrClient() {\nreturn new HttpSolrClient.Builder(&quot;http://localhost:8983/solr&quot;).build();\n}\n\n@Bean\npublic SolrTemplate solrTemplate(SolrClient client) throws Exception {\nreturn new SolrTemplate(client);\n}\n}\n\n</code></pre>\n<p>Here is my controller</p>\n<pre><code>@RequestMapping(&quot;/api/v1/content&quot;)\n@AllArgsConstructor\n@Slf4j\npublic class ContentDocController {\n\nprivate final ContentDocRepository contentDocRepository;\n\n@GetMapping(&quot;/searchfaq&quot;)\npublic Map&lt;String, Object&gt; searchFaq(@RequestParam(&quot;sectionId&quot;) Long sectionId,\n@RequestParam(&quot;seachTerm&quot;) String searchTerm) {\n\n// ContentDoc contentDoc = new ContentDoc();\n// contentDoc.setContentId((long)1);\n// contentDoc.setDisplayTitle(&quot;virat&quot;);\n// contentDocRepository.save(contentDoc);\nreturn null;\n}\n}\n</code></pre>\n<p>Here is my repository</p>\n<pre><code>@Qualifier(&quot;contentDocRepository&quot;)\npublic interface ContentDocRepository extends SolrCrudRepository&lt;ContentDoc, String&gt; {\npublic List&lt;ContentDoc&gt; findByName(String displayTitle);\n}\n\n</code></pre>\n<p>this is the error that I am getting -&gt;</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-10-20 18:22:47.836 ERROR 2760 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n*********\nAPPLICATION FAILED TO START\n*********\n\nDescription:\n\nParameter 0 of constructor in com.aa.aa.controller.ContentController required a bean of type 'com.aa.aa.repository.ContentDocRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.aa.aa.repository.ContentDocRepository' in your configuration.\n</code></pre>\n<p>I am trying to create an an api which searches data from DB , and using solr to index the db data.</p>\n<p>I am following this page -&gt; <a href=\"https://www.baeldung.com/spring-data-solr\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-solr</a></p>\n"},{"tags":["java","html","pdf","flying-saucer","openhtmltopdf"],"owner":{"account_id":462157,"reputation":226,"user_id":864309,"accept_rate":50,"display_name":"user864309"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666333644,"creation_date":1666333644,"question_id":74149537,"body_markdown":"I am working on an assignment wherein I need to create an HTML file and convert the&#160;HTML file to PDF. I am using Thymeleaf and flying-saucer-pdf to get this done. The Thymeleaf part works fine and creates the HTML file. However, the PDF creation part fails with out-of-memory error. The HTML file that gets created is around 275 MB and has around 8000000 lines.&#160;\r\n\r\n    OutputStream outputStream = new FileOutputStream(&quot;outFile.pdf&quot;)\r\n    String html = new String(Files.readAllBytes(Paths.get(&quot;data.html&quot;)));\r\n    \r\n    ITextRenderer renderer = new ITextRenderer();\r\n    renderer.setDocumentFromString(html);\r\n    // renderer.setDocument(new File(&quot;data.html&quot;));\r\n    \r\n    renderer.layout();\r\n    renderer.createPDF(outputStream);\r\n    renderer.finishPDF();\r\n    outputStream.close();\r\n\r\nthe execution gets stuck in the **renderer.layout()** for a long time and then fails.\r\nI tried both **renderer.setDocumentFromString** and renderer.setDocument and the results are the same.\r\nAlso, i tried&#160;**com.openhtmltopdf** for PDF generation from HTML and it also resulted in Out Of Memory error.\r\n\r\n&#160; \r\n\r\n    String html = new String(Files.readAllBytes(Paths.get(&quot;data.html&quot;)));\r\n    &#160; Document document = Jsoup.parse(html, &quot;UTF-8&quot;);\r\n    &#160; document.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\r\n    \r\n    &#160; try (OutputStream os = new FileOutputStream(&quot;outFile.pdf&quot;)) {\r\n    &#160; &#160; &#160; PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    &#160; &#160; &#160; builder.withUri(&quot;outFile.pdf&quot;);\r\n    &#160; &#160; &#160; builder.toStream(os);\r\n    &#160; &#160; &#160; builder.withW3cDocument(new W3CDom().fromJsoup(document), &quot;/&quot;);\r\n    &#160; &#160; &#160; builder.run();\r\n    &#160; }\r\n\r\nWondering whether there are any alternate libraries or buffered logic that take care of the memory issue.&#160;Any help and pointers are much appriciated. ","title":"Out Of Memory error while converting large HTML file to PDF","body":"<p>I am working on an assignment wherein I need to create an HTML file and convert the HTML file to PDF. I am using Thymeleaf and flying-saucer-pdf to get this done. The Thymeleaf part works fine and creates the HTML file. However, the PDF creation part fails with out-of-memory error. The HTML file that gets created is around 275 MB and has around 8000000 lines. </p>\n<pre><code>OutputStream outputStream = new FileOutputStream(&quot;outFile.pdf&quot;)\nString html = new String(Files.readAllBytes(Paths.get(&quot;data.html&quot;)));\n\nITextRenderer renderer = new ITextRenderer();\nrenderer.setDocumentFromString(html);\n// renderer.setDocument(new File(&quot;data.html&quot;));\n\nrenderer.layout();\nrenderer.createPDF(outputStream);\nrenderer.finishPDF();\noutputStream.close();\n</code></pre>\n<p>the execution gets stuck in the <strong>renderer.layout()</strong> for a long time and then fails.\nI tried both <strong>renderer.setDocumentFromString</strong> and renderer.setDocument and the results are the same.\nAlso, i tried <strong>com.openhtmltopdf</strong> for PDF generation from HTML and it also resulted in Out Of Memory error.</p>\n<p> </p>\n<pre><code>String html = new String(Files.readAllBytes(Paths.get(&quot;data.html&quot;)));\n  Document document = Jsoup.parse(html, &quot;UTF-8&quot;);\n  document.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\n\n  try (OutputStream os = new FileOutputStream(&quot;outFile.pdf&quot;)) {\n      PdfRendererBuilder builder = new PdfRendererBuilder();\n      builder.withUri(&quot;outFile.pdf&quot;);\n      builder.toStream(os);\n      builder.withW3cDocument(new W3CDom().fromJsoup(document), &quot;/&quot;);\n      builder.run();\n  }\n</code></pre>\n<p>Wondering whether there are any alternate libraries or buffered logic that take care of the memory issue. Any help and pointers are much appriciated.</p>\n"},{"tags":["java","json","arraylist","gson"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1666333344,"post_id":74149424,"comment_id":130916318,"body_markdown":"See my posted answer","body":"See my posted answer"}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666333331,"creation_date":1666333331,"answer_id":74149503,"question_id":74149424,"body_markdown":"Test code\r\n\r\n        String str = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;data\\&quot;:[\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;    \\&quot;language\\&quot;:\\&quot;Java\\&quot;,\\&quot;value\\&quot;:\\&quot;8\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;    \\&quot;language\\&quot;:\\&quot;Ruby\\&quot;,\\&quot;value\\&quot;:\\&quot;7\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    {\\n&quot; +\r\n                &quot;    \\&quot;language\\&quot;:\\&quot;Python\\&quot;,\\&quot;value\\&quot;:\\&quot;6\\&quot;\\n&quot; +\r\n                &quot;    }]\\n&quot; +\r\n                &quot;}&quot;;\r\n        Map map = new Gson().fromJson(str, Map.class);\r\n        List data = (List) map.get(&quot;data&quot;);\r\n        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n        for (Object o : data) {\r\n            Map m = (Map) o;\r\n            result.put(m.get(&quot;language&quot;).toString(), m.get(&quot;value&quot;).toString());\r\n        }\r\n        System.out.println(result);\r\n\r\nTest result\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CFSyP.png","title":"Convert JSON to MAP using GSON library","body":"<p>Test code</p>\n<pre><code>    String str = &quot;{\\n&quot; +\n            &quot;    \\&quot;data\\&quot;:[\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;    \\&quot;language\\&quot;:\\&quot;Java\\&quot;,\\&quot;value\\&quot;:\\&quot;8\\&quot;\\n&quot; +\n            &quot;    },\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;    \\&quot;language\\&quot;:\\&quot;Ruby\\&quot;,\\&quot;value\\&quot;:\\&quot;7\\&quot;\\n&quot; +\n            &quot;    },\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;    \\&quot;language\\&quot;:\\&quot;Python\\&quot;,\\&quot;value\\&quot;:\\&quot;6\\&quot;\\n&quot; +\n            &quot;    }]\\n&quot; +\n            &quot;}&quot;;\n    Map map = new Gson().fromJson(str, Map.class);\n    List data = (List) map.get(&quot;data&quot;);\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n    for (Object o : data) {\n        Map m = (Map) o;\n        result.put(m.get(&quot;language&quot;).toString(), m.get(&quot;value&quot;).toString());\n    }\n    System.out.println(result);\n</code></pre>\n<p>Test result</p>\n<p><a href=\"https://i.stack.imgur.com/CFSyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CFSyP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26689240,"reputation":3,"user_id":20298059,"display_name":"gangstaParadise"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74149503,"answer_count":1,"score":0,"last_activity_date":1666333579,"creation_date":1666332747,"question_id":74149424,"body_markdown":"I want to convert JSON response to Map what is the best approach to get the desired output using GSON library.\r\n\r\nI try this and I&#39;m getting only the `ArrayList` value.\r\n```java\r\nMap&lt;String, Object&gt; map = gson.fromJson(response, HashMap.class);\r\nArrayList responseOptions = (ArrayList) map.get(&quot;data&quot;);\r\n```\r\noutput:\r\n```none\r\n[{language=Java, value=8}, {language=Ruby, value=7}, {language=Python, value=7}]\r\n```\r\nSample JSON Response\r\n\r\n    {\r\n\t\t&quot;data&quot;:[\r\n\t\t{\r\n\t\t&quot;language&quot;:&quot;Java&quot;,&quot;value&quot;:&quot;8&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t&quot;language&quot;:&quot;Ruby&quot;,&quot;value&quot;:&quot;7&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t&quot;language&quot;:&quot;Python&quot;,&quot;value&quot;:&quot;6&quot;\r\n\t\t}]\r\n    }\r\n\r\nDesired Output in Map\r\n{Java=8, Ruby=7, Python=6}\r\n\r\n\r\n","title":"Convert JSON to MAP using GSON library","body":"<p>I want to convert JSON response to Map what is the best approach to get the desired output using GSON library.</p>\n<p>I try this and I'm getting only the <code>ArrayList</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; map = gson.fromJson(response, HashMap.class);\nArrayList responseOptions = (ArrayList) map.get(&quot;data&quot;);\n</code></pre>\n<p>output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{language=Java, value=8}, {language=Ruby, value=7}, {language=Python, value=7}]\n</code></pre>\n<p>Sample JSON Response</p>\n<pre><code>{\n    &quot;data&quot;:[\n    {\n    &quot;language&quot;:&quot;Java&quot;,&quot;value&quot;:&quot;8&quot;\n    },\n    {\n    &quot;language&quot;:&quot;Ruby&quot;,&quot;value&quot;:&quot;7&quot;\n    },\n    {\n    &quot;language&quot;:&quot;Python&quot;,&quot;value&quot;:&quot;6&quot;\n    }]\n}\n</code></pre>\n<p>Desired Output in Map\n{Java=8, Ruby=7, Python=6}</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":6,"creation_date":1498602610,"post_id":44790907,"comment_id":76562705,"body_markdown":"By using the existing lambda capabilities in Java? I don&#39;t think I understand your question. Can you post what code you have so far and what happens when you run it and what you expected to happen instead?","body":"By using the existing lambda capabilities in Java? I don&#39;t think I understand your question. Can you post what code you have so far and what happens when you run it and what you expected to happen instead?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1498602681,"post_id":44790907,"comment_id":76562718,"body_markdown":"Are you suggesting that code is not pure Java? Why not?","body":"Are you suggesting that code is not pure Java? Why not?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1498602893,"post_id":44790907,"comment_id":76562777,"body_markdown":"`Lambda expressions` where introduced in `Java 8`, you can use them if you can use a version `&gt;7`.","body":"<code>Lambda expressions</code> where introduced in <code>Java 8</code>, you can use them if you can use a version <code>&gt;7</code>."},{"owner":{"account_id":2713466,"reputation":2435,"user_id":2341336,"accept_rate":81,"display_name":"Chris"},"score":1,"creation_date":1498602920,"post_id":44790907,"comment_id":76562786,"body_markdown":"Possible duplicate of [How do I define a method which takes a lambda as a parameter in Java 8?](https://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/13604703/how-do-i-define-a-method-which-takes-a-lambda-as-a-parameter-in-java-8\">How do I define a method which takes a lambda as a parameter in Java 8?</a>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1498603190,"post_id":44790907,"comment_id":76562857,"body_markdown":"As reaction to your edit. You can implement such stuff just by using classes and interfaces. Just create a class that implements the ActionListener interface and the corresponding method. You can make this shorter by using `anonymous classes`. You then create an instance of this object and pass it to the `addActionListener` method. More or less Javas Lambdas do exactly the same (however they have an improved performance).","body":"As reaction to your edit. You can implement such stuff just by using classes and interfaces. Just create a class that implements the ActionListener interface and the corresponding method. You can make this shorter by using <code>anonymous classes</code>. You then create an instance of this object and pass it to the <code>addActionListener</code> method. More or less Javas Lambdas do exactly the same (however they have an improved performance)."},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498603311,"post_id":44790907,"comment_id":76562905,"body_markdown":"could you pls provide a short example of your implementation just to follow up Zabuza","body":"could you pls provide a short example of your implementation just to follow up Zabuza"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1498603402,"post_id":44790907,"comment_id":76562932,"body_markdown":"Of course, I will convert it to an answer.","body":"Of course, I will convert it to an answer."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1498603590,"post_id":44790907,"comment_id":76562985,"body_markdown":"@SmartCodeNoBugs Why don&#39;t you just look at the documentation and source code of ActionListener, ActionEvent and JButton? And read documentation about lambdas? https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","body":"@SmartCodeNoBugs Why don&#39;t you just look at the documentation and source code of ActionListener, ActionEvent and JButton? And read documentation about lambdas? <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498603804,"post_id":44790907,"comment_id":76563040,"body_markdown":"@JBNizet I don&#39;t want to use lambda as I want to learn it the hard way oldschool. In my opinion that&#39;s the way to really learn stuff in depth. Don&#39;t take it as it is ... ask and break it down into its components to really learn what things are about.","body":"@JBNizet I don&#39;t want to use lambda as I want to learn it the hard way oldschool. In my opinion that&#39;s the way to really learn stuff in depth. Don&#39;t take it as it is ... ask and break it down into its components to really learn what things are about."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1498604015,"post_id":44790907,"comment_id":76563107,"body_markdown":"JButton, ActionListener and ActionEvent exist, as they are in Java 8, since Java 2. Nothing has changed. Lambdas are just a new way to create an instance of an interface.","body":"JButton, ActionListener and ActionEvent exist, as they are in Java 8, since Java 2. Nothing has changed. Lambdas are just a new way to create an instance of an interface."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498611360,"post_id":44790907,"comment_id":76564891,"body_markdown":"@SmartCodeNoBugs If you are asking &quot;How do I create the lambda language feature using java&quot; Then the answer is you can&#39;t. \n\nIn order to create a language feature for Java, you need to work on the compiler, and maybe the JVM, and then what you have isn&#39;t Java anymore, and likely requires an indepth knowledge of C, JVM internals, and compiler basics.\n\nIf your question is &quot;how was this accomplished prior to Java 8&quot; It&#39;s by the use of anonymous inner classes, but they are not the same as lambda&#39;s!","body":"@SmartCodeNoBugs If you are asking &quot;How do I create the lambda language feature using java&quot; Then the answer is you can&#39;t.   In order to create a language feature for Java, you need to work on the compiler, and maybe the JVM, and then what you have isn&#39;t Java anymore, and likely requires an indepth knowledge of C, JVM internals, and compiler basics.  If your question is &quot;how was this accomplished prior to Java 8&quot; It&#39;s by the use of anonymous inner classes, but they are not the same as lambda&#39;s!"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498611538,"post_id":44790907,"comment_id":76564932,"body_markdown":"@RyanTheLeach but how would I implement an anonymous inner class into my code I&#39;ve shown in my post and build an approach like it was made before lambda was introduced I still don&#39;t get it how to actually implement this stuff ...","body":"@RyanTheLeach but how would I implement an anonymous inner class into my code I&#39;ve shown in my post and build an approach like it was made before lambda was introduced I still don&#39;t get it how to actually implement this stuff ..."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498611921,"post_id":44790907,"comment_id":76564998,"body_markdown":"@SmartCodeNoBugs The other answers show pretty good examples. if you have specific questions that confuse you, I&#39;d suggest commenting on each of them.","body":"@SmartCodeNoBugs The other answers show pretty good examples. if you have specific questions that confuse you, I&#39;d suggest commenting on each of them."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498611992,"post_id":44790907,"comment_id":76565015,"body_markdown":"Are you trying to create a Lambda like class to fit that interface? Or are you trying to create a class that can accept a Lambda like class as a parameter?","body":"Are you trying to create a Lambda like class to fit that interface? Or are you trying to create a class that can accept a Lambda like class as a parameter?"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498612245,"post_id":44790907,"comment_id":76565075,"body_markdown":"@RyanTheLeach I am trying to set a placeholder into the actionPerformed method of my CustomButton ActionListener and call a method like followed CustomButton.CustomButtonListener(placeholder method (); ) and the user needs just to create a method and write it inside the bricks ... For example the method named def() : CustomButton.CustomButtonListener(def();) and def will be passed automatically to the actionPerformed method of my CustomButtonListener and will be fired on button click that&#39;s all I want","body":"@RyanTheLeach I am trying to set a placeholder into the actionPerformed method of my CustomButton ActionListener and call a method like followed CustomButton.CustomButtonListener(placeholder method (); ) and the user needs just to create a method and write it inside the bricks ... For example the method named def() : CustomButton.CustomButtonListener(def();) and def will be passed automatically to the actionPerformed method of my CustomButtonListener and will be fired on button click that&#39;s all I want"},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498613362,"post_id":44790907,"comment_id":76565344,"body_markdown":"I&#39;ve sent an edit request to reword your question for you, to be more clear, and avoid the &quot;pure&quot; keyword that was throwing everyone off. Can you make sure that it still accurately reflects your question if/when it gets accepted?","body":"I&#39;ve sent an edit request to reword your question for you, to be more clear, and avoid the &quot;pure&quot; keyword that was throwing everyone off. Can you make sure that it still accurately reflects your question if/when it gets accepted?"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498613774,"post_id":44790907,"comment_id":76565428,"body_markdown":"@RyanTheLeach I&#39;ve edit my question, is it now better ? removed the &quot;pure&quot; keyword as well","body":"@RyanTheLeach I&#39;ve edit my question, is it now better ? removed the &quot;pure&quot; keyword as well"},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1498614471,"post_id":44790907,"comment_id":76565600,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/147767/discussion-between-ryan-the-leach-and-smartcodenobugs).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/147767/discussion-between-ryan-the-leach-and-smartcodenobugs\">continue this discussion in chat</a>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1501156842,"post_id":44790907,"comment_id":77661222,"body_markdown":"@SmartCodeNoBugs If an user answered your question please also **accept** his answer ([Accepting Answers: How does it work?](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work)). If not than please specify what remains unanswered, this is a really crucial part of StackOverflow, thank you very much.","body":"@SmartCodeNoBugs If an user answered your question please also <b>accept</b> his answer (<a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">Accepting Answers: How does it work?</a>). If not than please specify what remains unanswered, this is a really crucial part of StackOverflow, thank you very much."}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1498603643,"post_id":44791085,"comment_id":76563000,"body_markdown":"[`addActionListener()`](https://docs.oracle.com/javase/8/docs/api/javax/swing/AbstractButton.html#addActionListener-java.awt.event.ActionListener-) takes a parameter of type [`ActionListener`](https://docs.oracle.com/javase/8/docs/api/java/awt/event/ActionListener.html), not `Runnable`.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/AbstractButton.html#addActionListener-java.awt.event.ActionListener-\" rel=\"nofollow noreferrer\"><code>addActionListener()</code></a> takes a parameter of type <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/event/ActionListener.html\" rel=\"nofollow noreferrer\"><code>ActionListener</code></a>, not <code>Runnable</code>."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":1,"creation_date":1498607966,"post_id":44791085,"comment_id":76564134,"body_markdown":"You don&#39;t have to declare an anonymous class to do that, you can use a named subclass of `ActionListener` if you choose. And the technique works for methods that take an extendable class, not just interface arguments.","body":"You don&#39;t have to declare an anonymous class to do that, you can use a named subclass of <code>ActionListener</code> if you choose. And the technique works for methods that take an extendable class, not just interface arguments."}],"tags":[],"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498603699,"creation_date":1498603530,"answer_id":44791085,"question_id":44790907,"body_markdown":"You have to identify which `Interface` your listener uses and declare an anonymous Class.\r\n\r\nLets say that `jButton.addActionListener(...)` waits for a `ActionListener` :\r\n\r\n    jButton.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            callAnyMethod();\r\n        }\r\n    });\r\n\r\nLambdas, which were implemented in Java 8 natively, are another way to access methods and `Functional Interfaces` in an easy and readable way. The compiler detects automatically what it should use and calls it.\r\n\r\n----------\r\n\r\nI do not know your project, but if you can afford it, learning how to use Lambdas  (and Streams) will greatly increase your productivity, make your code simpler, more readable, and less bug-prone.","title":"How to create a lambda-like pattern in ActionListener","body":"<p>You have to identify which <code>Interface</code> your listener uses and declare an anonymous Class.</p>\n\n<p>Lets say that <code>jButton.addActionListener(...)</code> waits for a <code>ActionListener</code> :</p>\n\n<pre><code>jButton.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        callAnyMethod();\n    }\n});\n</code></pre>\n\n<p>Lambdas, which were implemented in Java 8 natively, are another way to access methods and <code>Functional Interfaces</code> in an easy and readable way. The compiler detects automatically what it should use and calls it.</p>\n\n<hr>\n\n<p>I do not know your project, but if you can afford it, learning how to use Lambdas  (and Streams) will greatly increase your productivity, make your code simpler, more readable, and less bug-prone.</p>\n"},{"comments":[{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498604125,"post_id":44791127,"comment_id":76563145,"body_markdown":"thank you for the quick explanation ... but unfortunately I still don&#39;t get it. How do I come up with the lambda like pattern like this: jButton.addActionListener(ae -&gt; callAnyMethod());   from your provided code ?","body":"thank you for the quick explanation ... but unfortunately I still don&#39;t get it. How do I come up with the lambda like pattern like this: jButton.addActionListener(ae -&gt; callAnyMethod());   from your provided code ?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1498604230,"post_id":44791127,"comment_id":76563170,"body_markdown":"Below `Java 8` you can not use Lambda expressions at all because Java does not have this language feature. You can not create such a short expression and need to use implementing classes (as it was originaly intended by the language designer). However Lambda expressions are equivalent to the classes-style, however much shorter to write.","body":"Below <code>Java 8</code> you can not use Lambda expressions at all because Java does not have this language feature. You can not create such a short expression and need to use implementing classes (as it was originaly intended by the language designer). However Lambda expressions are equivalent to the classes-style, however much shorter to write."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1498604336,"post_id":44791127,"comment_id":76563208,"body_markdown":"The shortest thing I can imagine without lambda is using anonymous `classes` as shown above, or one line shorter without saving it in a variable: `jButton.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {System.out.println(&quot;Triggered!&quot;);}});`","body":"The shortest thing I can imagine without lambda is using anonymous <code>classes</code> as shown above, or one line shorter without saving it in a variable: <code>jButton.addActionListener(new ActionListener() {public void actionPerformed(ActionEvent e) {System.out.println(&quot;Triggered!&quot;);}});</code>"},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498604595,"post_id":44791127,"comment_id":76563284,"body_markdown":"hm thank you but what I really want is: jButton.addCustomListener(callAnyMethod()); that my CustomListener class is a library and the user simply needs to set the CustomListener as above and the callAnyMethod could be a method the user creates itself and only pass it just like lambda does for example: public void passParameter(){ // do something } and now we call this method simply with one line: jButton.addCustomListener(passParameter());","body":"hm thank you but what I really want is: jButton.addCustomListener(callAnyMethod()); that my CustomListener class is a library and the user simply needs to set the CustomListener as above and the callAnyMethod could be a method the user creates itself and only pass it just like lambda does for example: public void passParameter(){ // do something } and now we call this method simply with one line: jButton.addCustomListener(passParameter());"},{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1498604847,"post_id":44791127,"comment_id":76563355,"body_markdown":"@SmartCodeNoBugs - This is precisely why lambdas were invented, so the code looks like this (almost). It&#39;s called `functional programming`. You can&#39;t use directly`passParameter()`, it will execute the method.","body":"@SmartCodeNoBugs - This is precisely why lambdas were invented, so the code looks like this (almost). It&#39;s called <code>functional programming</code>. You can&#39;t use directly<code>passParameter()</code>, it will execute the method."},{"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"score":0,"creation_date":1498604925,"post_id":44791127,"comment_id":76563376,"body_markdown":"@GuillaumeF.  Yes and I want to rebuild the function lambda provides in pure written Java code implemented on my own, maybe that&#39;s a bit to much for me for now :/","body":"@GuillaumeF.  Yes and I want to rebuild the function lambda provides in pure written Java code implemented on my own, maybe that&#39;s a bit to much for me for now :/"},{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1498605042,"post_id":44791127,"comment_id":76563395,"body_markdown":"@SmartCodeNoBugs The &#39;pure way&#39; is in the two answers you got. There is another way called &quot;Reflection&quot;, but it&#39;s even more advanced, and not really a good practice for a library unless you are a very talented architect.","body":"@SmartCodeNoBugs The &#39;pure way&#39; is in the two answers you got. There is another way called &quot;Reflection&quot;, but it&#39;s even more advanced, and not really a good practice for a library unless you are a very talented architect."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":1,"creation_date":1498607784,"post_id":44791127,"comment_id":76564099,"body_markdown":"You got the answer then complained that it wasn&#39;t like lambdas, after saying explicitly that you wanted to avoid the lambda idiom. You should choose one or the other because it won&#39;t go both ways at once. And you got a suggestion to read up on lambdas in the Tutorials. Did you do that? The way to substitute any given method as you asked is to provide that method in an implementation of the interface required by the method argument. That&#39;s old-school Java. (New-school Java is still &quot;pure&quot; so that was a bad choice of terminology.)","body":"You got the answer then complained that it wasn&#39;t like lambdas, after saying explicitly that you wanted to avoid the lambda idiom. You should choose one or the other because it won&#39;t go both ways at once. And you got a suggestion to read up on lambdas in the Tutorials. Did you do that? The way to substitute any given method as you asked is to provide that method in an implementation of the interface required by the method argument. That&#39;s old-school Java. (New-school Java is still &quot;pure&quot; so that was a bad choice of terminology.)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1498609843,"post_id":44791127,"comment_id":76564534,"body_markdown":"If you want the user to implement the method than just accept an `interface` that contains the method. That is exactly what interfaces are for. The method `jButton.addActionListener` wants an object of the interface `ActionListener` and the only method it contains is `actionPerformed`. Just accept an `ActionListener` object from the user and pass it to `jButton.addActionListener`.","body":"If you want the user to implement the method than just accept an <code>interface</code> that contains the method. That is exactly what interfaces are for. The method <code>jButton.addActionListener</code> wants an object of the interface <code>ActionListener</code> and the only method it contains is <code>actionPerformed</code>. Just accept an <code>ActionListener</code> object from the user and pass it to <code>jButton.addActionListener</code>."}],"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498606489,"creation_date":1498603764,"answer_id":44791127,"question_id":44790907,"body_markdown":"*Lambda expressions* were introduced in Java 8. If you&#39;re using an earlier Java version, you can implement the same pattern using classes and interfaces. Just create a class that implements the `ActionListener` interface and the corresponding method. You can make this shorter by using *anonymous classes*. You then create an instance of this class and pass it to the `addActionListener` method. More or less, lambdas do exactly the same (however, they may have an improved performance).\r\n\r\nHere is an example:\r\n\r\n    public static void main() {\r\n        ...\r\n        MyListener myListener = new MyListener();\r\n        jButton.addActionListener(myListener);\r\n        ...\r\n    }\r\n\r\n    public class MyListener implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            System.out.println(&quot;Triggered!&quot;);\r\n        }\r\n    }\r\n\r\nAnd with *anonymous classes*:\r\n\r\n    public static void main() {\r\n        ...\r\n        jButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                System.out.println(&quot;Triggered!&quot;);\r\n            }\r\n        });\r\n        ...\r\n    }","title":"How to create a lambda-like pattern in ActionListener","body":"<p><em>Lambda expressions</em> were introduced in Java 8. If you're using an earlier Java version, you can implement the same pattern using classes and interfaces. Just create a class that implements the <code>ActionListener</code> interface and the corresponding method. You can make this shorter by using <em>anonymous classes</em>. You then create an instance of this class and pass it to the <code>addActionListener</code> method. More or less, lambdas do exactly the same (however, they may have an improved performance).</p>\n\n<p>Here is an example:</p>\n\n<pre><code>public static void main() {\n    ...\n    MyListener myListener = new MyListener();\n    jButton.addActionListener(myListener);\n    ...\n}\n\npublic class MyListener implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(\"Triggered!\");\n    }\n}\n</code></pre>\n\n<p>And with <em>anonymous classes</em>:</p>\n\n<pre><code>public static void main() {\n    ...\n    jButton.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(\"Triggered!\");\n        }\n    });\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15322420,"reputation":115,"user_id":11054476,"display_name":"keith ang"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550159913,"creation_date":1550035631,"answer_id":54663131,"question_id":44790907,"body_markdown":"If I did not misunderstood your question, your syntax is already correct. \r\n\r\n```\r\npublic static void main() {\r\n    ...\r\n    jButton.addActionListener(e -&gt; myListener());\r\n    ...\r\n}\r\n...\r\npublic void myListener(){\r\n    dosomething();\r\n}\r\n```\r\nwhich is the shorthand for this: \r\n```\r\npublic static void main() {\r\n    ...\r\n    MyListener myListener = new MyListener();\r\n    jButton.addActionListener(myListener);\r\n    ...\r\n}\r\n\r\npublic class MyListener implements ActionListener {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        dosomething();\r\n    }\r\n}\r\n```\r\n\r\nFor more information, you can refer to [this][1].\r\n\r\nFor more detailed explantion you can also refer to [this][2], under the **Lambda Type Inference** section.\r\n\r\n\r\n  [1]: https://www.dummies.com/programming/java/how-to-use-lambda-expressions-to-handle-events-in-java/\r\n  [2]: http://tutorials.jenkov.com/java/lambda-expressions.html","title":"How to create a lambda-like pattern in ActionListener","body":"<p>If I did not misunderstood your question, your syntax is already correct. </p>\n\n<pre><code>public static void main() {\n    ...\n    jButton.addActionListener(e -&gt; myListener());\n    ...\n}\n...\npublic void myListener(){\n    dosomething();\n}\n</code></pre>\n\n<p>which is the shorthand for this: </p>\n\n<pre><code>public static void main() {\n    ...\n    MyListener myListener = new MyListener();\n    jButton.addActionListener(myListener);\n    ...\n}\n\npublic class MyListener implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        dosomething();\n    }\n}\n</code></pre>\n\n<p>For more information, you can refer to <a href=\"https://www.dummies.com/programming/java/how-to-use-lambda-expressions-to-handle-events-in-java/\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>For more detailed explantion you can also refer to <a href=\"http://tutorials.jenkov.com/java/lambda-expressions.html\" rel=\"nofollow noreferrer\">this</a>, under the <strong>Lambda Type Inference</strong> section.</p>\n"}],"owner":{"account_id":11152706,"reputation":51,"user_id":8185397,"display_name":"SmartCodeNoBugs"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8427,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1666333049,"creation_date":1498602394,"question_id":44790907,"body_markdown":"How do I code a function like this one from lambda:\r\n\r\n\r\n    jButton.addActionListener(ae -&gt; callAnyMethod());\r\n\r\n\r\n\r\nbecause I am creating a library and would like to implement such a pattern on my own.\r\nBefore Java 8 and lambda was released how would someone made such a pattern ? like what I am trying to approach is following:\n\nI am trying to set a placeholder into the actionPerformed method of my CustomButton ActionListener and call a method like followed :\n\n    CustomButton.CustomButtonListener(placeholder method (); ) \n\nand the user needs just to create a method and write it inside the bricks ... For example the method named def() : \n\n    CustomButton.CustomButtonListener(def());\n\nand def will be passed automatically to the actionPerformed method of my CustomButtonListener and will be fired on button click \n\n \r\n\r\nEdit:\r\n\r\nwell that is the code I&#39;ve came up with so far:\r\n\r\n\r\nthe ActionListener which is stored in my CustomButton class as a method:\r\n\r\n    public void CustomButtonListener(Object object){\r\n    \t\t\r\n    \t\taddActionListener(new ActionListener(){\r\n    \t\t\t\r\n    @Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\r\n    \t     \r\n    \t     \r\n    \t      // how to call the method stored in the Object &quot;object&quot; here? and actually run it?\r\n    \t       \r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t});\r\n\r\n\r\n\r\nand the code snippet from the button:\r\n\r\n\r\n    CustomButton button = new CustomButton();\r\n    \r\n    button.CustomButtonListener(def());\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic void def(){\r\n\t\t\r\n\t\tString a = &quot;lambda!&quot;;\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(&quot;a&quot;);\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to create a lambda-like pattern in ActionListener","body":"<p>How do I code a function like this one from lambda:</p>\n\n<pre><code>jButton.addActionListener(ae -&gt; callAnyMethod());\n</code></pre>\n\n<p>because I am creating a library and would like to implement such a pattern on my own.\nBefore Java 8 and lambda was released how would someone made such a pattern ? like what I am trying to approach is following:</p>\n\n<p>I am trying to set a placeholder into the actionPerformed method of my CustomButton ActionListener and call a method like followed :</p>\n\n<pre><code>CustomButton.CustomButtonListener(placeholder method (); ) \n</code></pre>\n\n<p>and the user needs just to create a method and write it inside the bricks ... For example the method named def() : </p>\n\n<pre><code>CustomButton.CustomButtonListener(def());\n</code></pre>\n\n<p>and def will be passed automatically to the actionPerformed method of my CustomButtonListener and will be fired on button click </p>\n\n<p>Edit:</p>\n\n<p>well that is the code I've came up with so far:</p>\n\n<p>the ActionListener which is stored in my CustomButton class as a method:</p>\n\n<pre><code>public void CustomButtonListener(Object object){\n\n        addActionListener(new ActionListener(){\n\n@Override\n        public void actionPerformed(ActionEvent e) {\n\n\n\n          // how to call the method stored in the Object \"object\" here? and actually run it?\n\n\n\n            }\n    });\n</code></pre>\n\n<p>and the code snippet from the button:</p>\n\n<pre><code>CustomButton button = new CustomButton();\n\nbutton.CustomButtonListener(def());\n\n\n\n\n\npublic void def(){\n\n    String a = \"lambda!\";\n\n            System.out.print(\"a\");\n\n\n\n}\n</code></pre>\n"},{"tags":["java","multipartfile"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666333147,"post_id":74149454,"comment_id":130916252,"body_markdown":"Are you using [POI](https://poi.apache.org/) ?","body":"Are you using <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">POI</a> ?"},{"owner":{"account_id":22591143,"reputation":59,"user_id":16774219,"display_name":"C Puneeth"},"score":0,"creation_date":1666334920,"post_id":74149454,"comment_id":130916689,"body_markdown":"to the best of my knowledge, no","body":"to the best of my knowledge, no"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666335045,"post_id":74149454,"comment_id":130916729,"body_markdown":"What is class `Workbook`? What is class `StreamingReader`? Are they classes that you wrote? Pardon my ignorance, but what, exactly, is a _multipartfile_ ?","body":"What is class <code>Workbook</code>? What is class <code>StreamingReader</code>? Are they classes that you wrote? Pardon my ignorance, but what, exactly, is a <i>multipartfile</i> ?"}],"owner":{"account_id":22591143,"reputation":59,"user_id":16774219,"display_name":"C Puneeth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666332932,"creation_date":1666332932,"question_id":74149454,"body_markdown":"I have a `Multipartfile` and I want to get the `Workbook` of it.\r\nI use the following code for the same purpose but with the `File` instead of `Multipartfile`.\r\n\r\n    Workbook wb =  StreamingReader.builder().rowCachesize(200).bufferSize(4096).open(file); // file is of type File here\r\n\r\n\r\nHow, do I do the same but with Multipartfile?\r\nThanks for all the answers and comments in advance.","title":"How to read a Multipartfile and return a Workbook?","body":"<p>I have a <code>Multipartfile</code> and I want to get the <code>Workbook</code> of it.\nI use the following code for the same purpose but with the <code>File</code> instead of <code>Multipartfile</code>.</p>\n<pre><code>Workbook wb =  StreamingReader.builder().rowCachesize(200).bufferSize(4096).open(file); // file is of type File here\n</code></pre>\n<p>How, do I do the same but with Multipartfile?\nThanks for all the answers and comments in advance.</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":24952,"reputation":459,"user_id":63777,"accept_rate":20,"display_name":"bitstream"},"score":0,"creation_date":1666332769,"post_id":72710558,"comment_id":130916171,"body_markdown":"Did you ever find an answer to this? I am having the same problem.\n\nBest as I can tell, when using findAndModify, internally it&#39;s using UpdateFieldNameValidator which requires all fields to start with &#39;$&#39; though I am not sure what it will do when it inserts a document as the default Mongo document id key is &#39;_id&#39; and in my case I am specifying the id value rather than letting mongo assign it.\n\nSeems crazy that the same document that works fine on an .upsert() call gets rejected with BSON error when switching to .findAndModify() with upsert=true. This feels like a gigantic bug to me.","body":"Did you ever find an answer to this? I am having the same problem.  Best as I can tell, when using findAndModify, internally it&#39;s using UpdateFieldNameValidator which requires all fields to start with &#39;$&#39; though I am not sure what it will do when it inserts a document as the default Mongo document id key is &#39;_id&#39; and in my case I am specifying the id value rather than letting mongo assign it.  Seems crazy that the same document that works fine on an .upsert() call gets rejected with BSON error when switching to .findAndModify() with upsert=true. This feels like a gigantic bug to me."}],"owner":{"account_id":2800812,"reputation":1340,"user_id":2409095,"display_name":"Dhrubajyoti Gogoi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666332688,"creation_date":1655878915,"question_id":72710558,"body_markdown":"Given a document with the below structure:\r\n```json\r\n{\r\n  &quot;_id&quot;: &quot;XXXX01&quot;,\r\n  &quot;otherAttributes&quot;, &quot;....&quot;,\r\n  &quot;child&quot;: [{\r\n    &quot;_id&quot;: &quot;YYYY01&quot;,\r\n    &quot;otherAttributes&quot;, &quot;....&quot;,\r\n    &quot;grandChild&quot;: [{\r\n      &quot;_id&quot;: &quot;ZZZZ01&quot;,\r\n      &quot;otherAttributes&quot;, &quot;....&quot;\r\n    }]\r\n  }]\r\n}\r\n```\r\nUsing raw mongo dialect, the below are achievable:\r\n\r\n**Insert root**\r\n```json\r\ndb.collection.findAndModify({\r\n  query: { &quot;_id&quot;: &quot;XXXX01&quot; },\r\n  update: {\r\n    &quot;_id&quot;: &quot;XXXX01&quot;,\r\n    &quot;otherAttributes&quot;, &quot;....&quot;,\r\n    &quot;child&quot;: [{\r\n      &quot;_id&quot;: &quot;YYYY01&quot;,\r\n      &quot;otherAttributes&quot;, &quot;....&quot;,\r\n      &quot;grandChild&quot;: [{\r\n        &quot;_id&quot;: &quot;ZZZZ01&quot;,\r\n        &quot;otherAttributes&quot;, &quot;....&quot;\r\n      }]\r\n    }]\r\n  },\r\n  upsert: true\r\n})\r\n```\r\nBut a similar findAndReplace with mongoTemplate eg.\r\n```java\r\nvar document = new Document();\r\nmongoTemplate.getConverter().write(javaObjectRepresentingTheDocument, document);\r\nupdate = Update.fromDocument(document) // Primary because I dont want to set each field individually\r\nquery.addCriteria(\r\n  Criteria.where(&quot;id&quot;).is(&quot;XXXX01&quot;)\r\n);\r\nmongoTemplate.findAndModify(query, update,\r\n  FindAndModifyOptions.options().upsert(true).returnNew(true),\r\n  javaObjectRepresentingTheDocument.getClass(),\r\n  collection\r\n)\r\n```\r\nresults in the below error:\r\n```shell\r\nCaused by: java.lang.IllegalArgumentException: Invalid BSON field name _id\r\n  at org.bson.AbstractBsonWriter.writeName(AbstractBsonWriter.java:534) ~[bson-4.4.3.jar:na]\r\n  ...\r\n```\r\nThe reason I would want to use `findAndReplace` over `upsert` is:\r\n\r\n1. I need the current object\r\n1. Generalize code ie. the same method(`findAndReplace`) is useful for both insertion and updation at all levels viz. the root document, a nested document eg. `child`, a deeply nested document eg. `grandChild`\r\n\r\nI have been successful is getting the same work for `child` and `grandChild` nested documents by using\r\n```java\r\nupdate.addToSet(&quot;$[parentSelector]&quot;, javaObjectRepresentingTheNestedDocument)\r\n.filterArray(Criteria.where(&quot;parentSelector._id&quot;).is(&lt;parentSelectorValue&gt;))\r\n```\r\nbut not being able to the get the same working for the root document. Can someone provide some guidance?","title":"MongoTemplate findAndModify for document insertion","body":"<p>Given a document with the below structure:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;_id&quot;: &quot;XXXX01&quot;,\n  &quot;otherAttributes&quot;, &quot;....&quot;,\n  &quot;child&quot;: [{\n    &quot;_id&quot;: &quot;YYYY01&quot;,\n    &quot;otherAttributes&quot;, &quot;....&quot;,\n    &quot;grandChild&quot;: [{\n      &quot;_id&quot;: &quot;ZZZZ01&quot;,\n      &quot;otherAttributes&quot;, &quot;....&quot;\n    }]\n  }]\n}\n</code></pre>\n<p>Using raw mongo dialect, the below are achievable:</p>\n<p><strong>Insert root</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>db.collection.findAndModify({\n  query: { &quot;_id&quot;: &quot;XXXX01&quot; },\n  update: {\n    &quot;_id&quot;: &quot;XXXX01&quot;,\n    &quot;otherAttributes&quot;, &quot;....&quot;,\n    &quot;child&quot;: [{\n      &quot;_id&quot;: &quot;YYYY01&quot;,\n      &quot;otherAttributes&quot;, &quot;....&quot;,\n      &quot;grandChild&quot;: [{\n        &quot;_id&quot;: &quot;ZZZZ01&quot;,\n        &quot;otherAttributes&quot;, &quot;....&quot;\n      }]\n    }]\n  },\n  upsert: true\n})\n</code></pre>\n<p>But a similar findAndReplace with mongoTemplate eg.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var document = new Document();\nmongoTemplate.getConverter().write(javaObjectRepresentingTheDocument, document);\nupdate = Update.fromDocument(document) // Primary because I dont want to set each field individually\nquery.addCriteria(\n  Criteria.where(&quot;id&quot;).is(&quot;XXXX01&quot;)\n);\nmongoTemplate.findAndModify(query, update,\n  FindAndModifyOptions.options().upsert(true).returnNew(true),\n  javaObjectRepresentingTheDocument.getClass(),\n  collection\n)\n</code></pre>\n<p>results in the below error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Caused by: java.lang.IllegalArgumentException: Invalid BSON field name _id\n  at org.bson.AbstractBsonWriter.writeName(AbstractBsonWriter.java:534) ~[bson-4.4.3.jar:na]\n  ...\n</code></pre>\n<p>The reason I would want to use <code>findAndReplace</code> over <code>upsert</code> is:</p>\n<ol>\n<li>I need the current object</li>\n<li>Generalize code ie. the same method(<code>findAndReplace</code>) is useful for both insertion and updation at all levels viz. the root document, a nested document eg. <code>child</code>, a deeply nested document eg. <code>grandChild</code></li>\n</ol>\n<p>I have been successful is getting the same work for <code>child</code> and <code>grandChild</code> nested documents by using</p>\n<pre class=\"lang-java prettyprint-override\"><code>update.addToSet(&quot;$[parentSelector]&quot;, javaObjectRepresentingTheNestedDocument)\n.filterArray(Criteria.where(&quot;parentSelector._id&quot;).is(&lt;parentSelectorValue&gt;))\n</code></pre>\n<p>but not being able to the get the same working for the root document. Can someone provide some guidance?</p>\n"},{"tags":["java","smtp","windows-server-2008"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1385152270,"post_id":20153851,"comment_id":30040395,"body_markdown":"It&#39;s most likely an issue with the SMTP server. JavaMail doesn&#39;t know or care whether an email address is for a single user or a distribution list (group).","body":"It&#39;s most likely an issue with the SMTP server. JavaMail doesn&#39;t know or care whether an email address is for a single user or a distribution list (group)."},{"owner":{"account_id":3301570,"reputation":619,"user_id":2777616,"accept_rate":29,"display_name":"Satish Jonnala"},"score":0,"creation_date":1385152548,"post_id":20153851,"comment_id":30040522,"body_markdown":"Do I need to configure SMTP such that it knows the group information. If so where can I do.","body":"Do I need to configure SMTP such that it knows the group information. If so where can I do."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1385152804,"post_id":20153851,"comment_id":30040659,"body_markdown":"Might want to ask on http://serverfault.com","body":"Might want to ask on <a href=\"http://serverfault.com\">serverfault.com</a>"}],"answers":[{"comments":[{"owner":{"account_id":3301570,"reputation":619,"user_id":2777616,"accept_rate":29,"display_name":"Satish Jonnala"},"score":0,"creation_date":1385159940,"post_id":20154717,"comment_id":30043840,"body_markdown":"The group exists in the destination server. I&#39;m able to send test mail manually through my outlook. But, only problem is when I&#39;m doing from my java program. In fact the windows server from which I&#39;m running is sending the delivery failure message.","body":"The group exists in the destination server. I&#39;m able to send test mail manually through my outlook. But, only problem is when I&#39;m doing from my java program. In fact the windows server from which I&#39;m running is sending the delivery failure message."}],"tags":[],"owner":{"account_id":886454,"reputation":1935,"user_id":925792,"accept_rate":68,"display_name":"Pat B"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385155300,"creation_date":1385155300,"answer_id":20154717,"question_id":20153851,"body_markdown":"The group must exist in the destination server... Does the destination smtp server you are reaching contains the group?","title":"SMTP not able to send group mail","body":"<p>The group must exist in the destination server... Does the destination smtp server you are reaching contains the group?</p>\n"}],"owner":{"account_id":3301570,"reputation":619,"user_id":2777616,"accept_rate":29,"display_name":"Satish Jonnala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666332500,"creation_date":1385151843,"question_id":20153851,"body_markdown":"I need to send a group mail as a part of batch job. I&#39;m using javax.mail package to accomplish this.\r\n\r\n\t\t\tProperties m_properties;\r\n\t\t\tm_properties = new Properties();\r\n\t\t\tm_properties.put(&quot;mail.smtp.host&quot;, &quot;localhost&quot;);\r\n\t\t\tm_properties.put(&quot;mail.smtp.port&quot;, Integer.toString(26));\r\n\r\n\t\t\tSession m_Session = Session.getDefaultInstance(m_properties);\r\n\r\n\t\t\tMessage m_simpleMessage = new MimeMessage(m_Session);\r\n\t\t\tInternetAddress m_fromAddress = new InternetAddress(&quot;me@sample.com&quot;);\r\n\t\t\tInternetAddress m_toAddress = new InternetAddress(&quot;group@sample.com&quot;);\r\n\t\t\tm_simpleMessage.setFrom(m_fromAddress);\r\n\t\t\tm_simpleMessage.setRecipient(RecipientType.TO, m_toAddress);\r\n\t\t\tm_simpleMessage.setSubject(m_subject);\r\n\t\t\tm_simpleMessage.setContent(m_body, &quot;text/html&quot;);\r\n\t\t\t\r\n\t\t\tTransport.send(m_simpleMessage);\r\n\r\n\r\nI&#39;m using a windows server. I installed IIS SMPT server and using it. I have no problem when I send a mail to individual id. But I get an error when trying to send to a group.\r\n\r\n**Error :**\r\n    \r\nThis is an automatically generated Delivery Status Notification.\r\nDelivery to the following recipients failed.\r\n    **group@sample.com**\r\n\r\nDo I need to configure something in my SMPT server for a group, or do I need to make changes  in my code for allowing to send a group mails.","title":"SMTP not able to send group mail","body":"<p>I need to send a group mail as a part of batch job. I'm using javax.mail package to accomplish this.</p>\n\n<pre><code>        Properties m_properties;\n        m_properties = new Properties();\n        m_properties.put(\"mail.smtp.host\", \"localhost\");\n        m_properties.put(\"mail.smtp.port\", Integer.toString(26));\n\n        Session m_Session = Session.getDefaultInstance(m_properties);\n\n        Message m_simpleMessage = new MimeMessage(m_Session);\n        InternetAddress m_fromAddress = new InternetAddress(\"me@sample.com\");\n        InternetAddress m_toAddress = new InternetAddress(\"group@sample.com\");\n        m_simpleMessage.setFrom(m_fromAddress);\n        m_simpleMessage.setRecipient(RecipientType.TO, m_toAddress);\n        m_simpleMessage.setSubject(m_subject);\n        m_simpleMessage.setContent(m_body, \"text/html\");\n\n        Transport.send(m_simpleMessage);\n</code></pre>\n\n<p>I'm using a windows server. I installed IIS SMPT server and using it. I have no problem when I send a mail to individual id. But I get an error when trying to send to a group.</p>\n\n<p><strong>Error :</strong></p>\n\n<p>This is an automatically generated Delivery Status Notification.\nDelivery to the following recipients failed.\n    <strong>group@sample.com</strong></p>\n\n<p>Do I need to configure something in my SMPT server for a group, or do I need to make changes  in my code for allowing to send a group mails.</p>\n"},{"tags":["java","eclipse","spring-boot"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1584004566,"post_id":60650326,"comment_id":107304148,"body_markdown":"This does not look like a Java issue at all … It looks to me that already the JVM start crashes. What JVM are you using? IBM&#39;s? Which Windows version? 64-bit for Windows *and* the JVM? What language settings has the system? Is it a RtL language like Hebrew or Arabic?","body":"This does not look like a Java issue at all … It looks to me that already the JVM start crashes. What JVM are you using? IBM&#39;s? Which Windows version? 64-bit for Windows <i>and</i> the JVM? What language settings has the system? Is it a RtL language like Hebrew or Arabic?"},{"owner":{"account_id":11787896,"reputation":31,"user_id":8624933,"display_name":"Mitesh"},"score":0,"creation_date":1584006955,"post_id":60650326,"comment_id":107305372,"body_markdown":"Eclipse OpenJ9 VM (build openj9-0.12.1, JRE 1.8.0 Windows 10 amd64-64-Bit Compressed References 20190205_265 (JIT enabled, AOT enabled)","body":"Eclipse OpenJ9 VM (build openj9-0.12.1, JRE 1.8.0 Windows 10 amd64-64-Bit Compressed References 20190205_265 (JIT enabled, AOT enabled)"}],"owner":{"account_id":11787896,"reputation":31,"user_id":8624933,"display_name":"Mitesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3476,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1666332267,"creation_date":1584002364,"question_id":60650326,"body_markdown":"I have written basic spring boot hello world application in eclipse. While trying to run an application, i am getting below error message. \r\n**Eclipse version- oxygen\r\nJDK- 1.8\r\nSpring boot- 2.2.5**\r\n\r\nError message    \r\n\r\n    Unhandled exception\r\n    Type=Segmentation error vmState=0x00000000\r\n    Windows_ExceptionCode=c0000139 J9Generic_Signal=00000004 ExceptionAddress=00007FFCE167BF58 ContextFlags=0010000f\r\n    Handler1=00007FFC9526C210 Handler2=00007FFCB85FC830\r\n    RDI=000000000FC804E8 RSI=00007FFCE16984C0 RAX=0000000000360034 RBX=00000000C0000139\r\n    RCX=00007FFCE169D7B8 RDX=00007FFCE15D3570 R8=0000000000000000 R9=0000000000000000\r\n    R10=0000000000001112 R11=0000000000001000 R12=0000000000000003 R13=0000000000000003\r\n    R14=00007FFCC33DEF01 R15=0000000000000003\r\n    RIP=00007FFCE167BF58 RSP=0000000002EABFB0 RBP=0000000002EAC650 GS=002B\r\n    FS=0053 ES=002B DS=002B\r\n    XMM0 00007ffce169d588 (f: 3781809664.000000, d: 6.952694e-310)\r\n    XMM1 00007ffce169d550 (f: 3781809408.000000, d: 6.952694e-310)\r\n    XMM2 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM3 00000000001d0026 (f: 1900582.000000, d: 9.390123e-318)\r\n    XMM4 000000000fc81be0 (f: 264772576.000000, d: 1.308150e-315)\r\n    XMM5 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM6 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM7 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM8 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM9 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM10 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM11 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM12 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM13 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM14 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    XMM15 0000000000000000 (f: 0.000000, d: 0.000000e+000)\r\n    Module=C:\\windows\\SYSTEM32\\ntdll.dll\r\n    Module_base_address=00007FFCE1580000 Offset_in_DLL=00000000000fbf58\r\n    Target=2_90_20190205_265 (Windows 10 10.0 build 18362)\r\n    CPU=amd64 (4 logical CPUs) (0x1f93f0000 RAM)\r\n    ----------- Stack Backtrace -----------\r\n    RtlRaiseStatus+0x18 (0x00007FFCE167BF58 [ntdll+0xfbf58])\r\n    RtlCharToInteger+0x35c (0x00007FFCE15EEEDC [ntdll+0x6eedc])\r\n    memset+0x9463 (0x00007FFCE162C3E3 [ntdll+0xac3e3])\r\n    LdrGetDllHandleByMapping+0x578 (0x00007FFCE15AE2B8 [ntdll+0x2e2b8])\r\n    LdrGetDllHandleByMapping+0xb8f (0x00007FFCE15AE8CF [ntdll+0x2e8cf])\r\n    RtlMultiByteToUnicodeSize+0x410 (0x00007FFCE15A24D0 [ntdll+0x224d0])\r\n    RtlMultiByteToUnicodeSize+0x178 (0x00007FFCE15A2238 [ntdll+0x22238])\r\n    LdrLoadDll+0xe4 (0x00007FFCE15A16F4 [ntdll+0x216f4])\r\n    LoadLibraryExW+0x170 (0x00007FFCDEA856D0 [KERNELBASE+0x256d0])\r\n    j9port_init_library+0x22c1f (0x00007FFCB86055EF [j9prt29+0x255ef])\r\n    J9_CreateJavaVM+0x26514 (0x00007FFC9529DB84 [j9vm29+0xadb84])\r\n    J9_CreateJavaVM+0x25c6b (0x00007FFC9529D2DB [j9vm29+0xad2db])\r\n    J9_CreateJavaVM+0x268ec (0x00007FFC9529DF5C [j9vm29+0xadf5c])\r\n    JVM_OnLoad+0x28f (0x00007FFC949965BF [jclse7b_29+0x365bf])\r\n    J9VMDllMain+0x134 (0x00007FFC94996E54 [jclse7b_29+0x36e54])\r\n    J9_CreateJavaVM+0x7c69 (0x00007FFC9527F2D9 [j9vm29+0x8f2d9])\r\n    J9_CreateJavaVM+0x90520 (0x00007FFC95307B90 [j9vm29+0x117b90])\r\n    J9_CreateJavaVM+0xd0c3 (0x00007FFC95284733 [j9vm29+0x94733])\r\n    J9_CreateJavaVM+0xea51 (0x00007FFC952860C1 [j9vm29+0x960c1])\r\n    j9port_init_library+0x1b25f (0x00007FFCB85FDC2F [j9prt29+0x1dc2f])\r\n    J9_CreateJavaVM+0xecd0 (0x00007FFC95286340 [j9vm29+0x96340])\r\n    J9_CreateJavaVM+0x89 (0x00007FFC952776F9 [j9vm29+0x876f9])\r\n    JNI_CreateJavaVM+0x786 (0x00007FFCAB7F1C56 [jvm+0x11c56])\r\n    JNI_CreateJavaVM+0x351 (0x00007FFCD13F8601 [jvm+0x8601])\r\n    (0x00007FF61E8A239A [javaw+0x239a])\r\n    (0x00007FF61E8ACF97 [javaw+0xcf97])\r\n    (0x00007FF61E8AD02B [javaw+0xd02b])\r\n    BaseThreadInitThunk+0x14 (0x00007FFCE13D7BD4 [KERNEL32+0x17bd4])\r\n    RtlUserThreadStart+0x21 (0x00007FFCE15ECE71 [ntdll+0x6ce71])\r\n\r\nCan anyone tell me how i can resolve it?","title":"Getting Unhandled exception with Segmentation error while running spring boot application in Eclipse","body":"<p>I have written basic spring boot hello world application in eclipse. While trying to run an application, i am getting below error message. \n<strong>Eclipse version- oxygen\nJDK- 1.8\nSpring boot- 2.2.5</strong></p>\n\n<p>Error message    </p>\n\n<pre><code>Unhandled exception\nType=Segmentation error vmState=0x00000000\nWindows_ExceptionCode=c0000139 J9Generic_Signal=00000004 ExceptionAddress=00007FFCE167BF58 ContextFlags=0010000f\nHandler1=00007FFC9526C210 Handler2=00007FFCB85FC830\nRDI=000000000FC804E8 RSI=00007FFCE16984C0 RAX=0000000000360034 RBX=00000000C0000139\nRCX=00007FFCE169D7B8 RDX=00007FFCE15D3570 R8=0000000000000000 R9=0000000000000000\nR10=0000000000001112 R11=0000000000001000 R12=0000000000000003 R13=0000000000000003\nR14=00007FFCC33DEF01 R15=0000000000000003\nRIP=00007FFCE167BF58 RSP=0000000002EABFB0 RBP=0000000002EAC650 GS=002B\nFS=0053 ES=002B DS=002B\nXMM0 00007ffce169d588 (f: 3781809664.000000, d: 6.952694e-310)\nXMM1 00007ffce169d550 (f: 3781809408.000000, d: 6.952694e-310)\nXMM2 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM3 00000000001d0026 (f: 1900582.000000, d: 9.390123e-318)\nXMM4 000000000fc81be0 (f: 264772576.000000, d: 1.308150e-315)\nXMM5 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM6 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM7 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM8 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM9 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM10 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM11 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM12 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM13 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM14 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nXMM15 0000000000000000 (f: 0.000000, d: 0.000000e+000)\nModule=C:\\windows\\SYSTEM32\\ntdll.dll\nModule_base_address=00007FFCE1580000 Offset_in_DLL=00000000000fbf58\nTarget=2_90_20190205_265 (Windows 10 10.0 build 18362)\nCPU=amd64 (4 logical CPUs) (0x1f93f0000 RAM)\n----------- Stack Backtrace -----------\nRtlRaiseStatus+0x18 (0x00007FFCE167BF58 [ntdll+0xfbf58])\nRtlCharToInteger+0x35c (0x00007FFCE15EEEDC [ntdll+0x6eedc])\nmemset+0x9463 (0x00007FFCE162C3E3 [ntdll+0xac3e3])\nLdrGetDllHandleByMapping+0x578 (0x00007FFCE15AE2B8 [ntdll+0x2e2b8])\nLdrGetDllHandleByMapping+0xb8f (0x00007FFCE15AE8CF [ntdll+0x2e8cf])\nRtlMultiByteToUnicodeSize+0x410 (0x00007FFCE15A24D0 [ntdll+0x224d0])\nRtlMultiByteToUnicodeSize+0x178 (0x00007FFCE15A2238 [ntdll+0x22238])\nLdrLoadDll+0xe4 (0x00007FFCE15A16F4 [ntdll+0x216f4])\nLoadLibraryExW+0x170 (0x00007FFCDEA856D0 [KERNELBASE+0x256d0])\nj9port_init_library+0x22c1f (0x00007FFCB86055EF [j9prt29+0x255ef])\nJ9_CreateJavaVM+0x26514 (0x00007FFC9529DB84 [j9vm29+0xadb84])\nJ9_CreateJavaVM+0x25c6b (0x00007FFC9529D2DB [j9vm29+0xad2db])\nJ9_CreateJavaVM+0x268ec (0x00007FFC9529DF5C [j9vm29+0xadf5c])\nJVM_OnLoad+0x28f (0x00007FFC949965BF [jclse7b_29+0x365bf])\nJ9VMDllMain+0x134 (0x00007FFC94996E54 [jclse7b_29+0x36e54])\nJ9_CreateJavaVM+0x7c69 (0x00007FFC9527F2D9 [j9vm29+0x8f2d9])\nJ9_CreateJavaVM+0x90520 (0x00007FFC95307B90 [j9vm29+0x117b90])\nJ9_CreateJavaVM+0xd0c3 (0x00007FFC95284733 [j9vm29+0x94733])\nJ9_CreateJavaVM+0xea51 (0x00007FFC952860C1 [j9vm29+0x960c1])\nj9port_init_library+0x1b25f (0x00007FFCB85FDC2F [j9prt29+0x1dc2f])\nJ9_CreateJavaVM+0xecd0 (0x00007FFC95286340 [j9vm29+0x96340])\nJ9_CreateJavaVM+0x89 (0x00007FFC952776F9 [j9vm29+0x876f9])\nJNI_CreateJavaVM+0x786 (0x00007FFCAB7F1C56 [jvm+0x11c56])\nJNI_CreateJavaVM+0x351 (0x00007FFCD13F8601 [jvm+0x8601])\n(0x00007FF61E8A239A [javaw+0x239a])\n(0x00007FF61E8ACF97 [javaw+0xcf97])\n(0x00007FF61E8AD02B [javaw+0xd02b])\nBaseThreadInitThunk+0x14 (0x00007FFCE13D7BD4 [KERNEL32+0x17bd4])\nRtlUserThreadStart+0x21 (0x00007FFCE15ECE71 [ntdll+0x6ce71])\n</code></pre>\n\n<p>Can anyone tell me how i can resolve it?</p>\n"},{"tags":["java","jdbc","hashmap","resultset"],"answers":[{"comments":[{"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"score":0,"creation_date":1666253717,"post_id":74134378,"comment_id":130893612,"body_markdown":"but this won&#39;t have {city=Boise, state=Idaho} this would have {Boise=Idaho}. I am having the problem you spoke about with each key being overwritten.  I need to have the string city as the key for each individual map.  {city=Boise, state=Idaho} then I would add that to list&lt;Map&lt;String,String&gt;.  Next {city=austin, state=Texas} etc then add that to the list so I end up with {city=value, state=value}, ...{city=value, state=value}. I don&#39;t get why it is overwriting my list. I get it should overwrite the map but I add that map to the list.  so I shoudl be adding a new map each time right?","body":"but this won&#39;t have {city=Boise, state=Idaho} this would have {Boise=Idaho}. I am having the problem you spoke about with each key being overwritten.  I need to have the string city as the key for each individual map.  {city=Boise, state=Idaho} then I would add that to list&lt;Map&lt;String,String&gt;.  Next {city=austin, state=Texas} etc then add that to the list so I end up with {city=value, state=value}, ...{city=value, state=value}. I don&#39;t get why it is overwriting my list. I get it should overwrite the map but I add that map to the list.  so I shoudl be adding a new map each time right?"},{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1666269394,"post_id":74134378,"comment_id":130899544,"body_markdown":"Okay so first to achieve this - {city=Boise, state=Idaho} change the PUT statement to map.put(&quot;city=&quot;+key, &quot;state=&quot;+value) and for adding it to a list instead of adding a new map each time, what you can do is remove elements from the map by using the map.remove(&quot;city=&quot;+key) so at every iteration, your map will be empty initially","body":"Okay so first to achieve this - {city=Boise, state=Idaho} change the PUT statement to map.put(&quot;city=&quot;+key, &quot;state=&quot;+value) and for adding it to a list instead of adding a new map each time, what you can do is remove elements from the map by using the map.remove(&quot;city=&quot;+key) so at every iteration, your map will be empty initially"},{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1666269431,"post_id":74134378,"comment_id":130899564,"body_markdown":"I hope this helps if yes please upvote and mark answered &#128522;","body":"I hope this helps if yes please upvote and mark answered 😊"},{"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"score":0,"creation_date":1666278978,"post_id":74134378,"comment_id":130903816,"body_markdown":"I thought I was wrapping {the key value pair} as individual objects and adding them into an List&lt;Map&lt;String,String&gt;","body":"I thought I was wrapping {the key value pair} as individual objects and adding them into an List&lt;Map&lt;String,String&gt;"},{"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"score":0,"creation_date":1666282503,"post_id":74134378,"comment_id":130905143,"body_markdown":"I see I am not doing that, everytime i change it in the loop I am overwritting it globally.  there does not seem like a way to achieve a display like [{city=minneapolis, state=Minnesota}, {city=Boise, state=idaho}, {city=houston, state=texas}...50] I think I see what you are doing in your example but it looks like you are using the List at the end before it&#39;s even declared?  !citiesStates.containskey(cityAndState.getString(&quot;city&quot;)) is being called on a list not a map, is that what you meant?","body":"I see I am not doing that, everytime i change it in the loop I am overwritting it globally.  there does not seem like a way to achieve a display like [{city=minneapolis, state=Minnesota}, {city=Boise, state=idaho}, {city=houston, state=texas}...50] I think I see what you are doing in your example but it looks like you are using the List at the end before it&#39;s even declared?  !citiesStates.containskey(cityAndState.getString(&quot;city&quot;)) is being called on a list not a map, is that what you meant?"},{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1666332183,"post_id":74134378,"comment_id":130916052,"body_markdown":"Please check the solution after the EDITED","body":"Please check the solution after the EDITED"}],"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666332141,"creation_date":1666239447,"answer_id":74134378,"question_id":74134107,"body_markdown":"The thing is you&#39;re implementing HashMap in the wrong way, or you misunderstood it: &quot;A Map cannot contain duplicate keys and each key can map to at most one value.&quot; \r\nWhat you&#39;re doing in the above code -\r\n\r\n    citiesStates.put(&quot;city&quot;, cityAndState.getString(&quot;city&quot;);\r\n    citiesStates.put(&quot;state&quot;, cityAndState.getString(&quot;state&quot;);\r\n\r\nYou&#39;re putting values with the same key &quot;city&quot; &amp; &quot;state&quot; that&#39;s why it&#39;s overwriting the values.\r\n\r\nThe correct way to do this will be -\r\n\r\n    Map&lt;String,String&gt; citiesAndStateCombinations = new HashMap&lt;&gt;();\r\n    \r\n    while(cityAndState.next()){\r\n    if(!citiesAndStateCombinations.containskey(cityAndState.getString(&quot;city&quot;))){\r\n       citiesAndStateCombinations.put(cityAndState.getString(&quot;city&quot;), cityAndState.getString(&quot;state&quot;))\r\n    }\r\n    }\r\n\r\nThis will give you a city and state unique map now if you want it to be added to a list you can add this line at last but I don&#39;t see any use of it - \r\n\r\n    List&lt;Map&lt;String,String&gt; citiesStates = new ArrayList&lt;&gt;();\r\n    citiesStates.add(citiesAndStateCombinations);\r\n\r\nPlease add this after closing the while loop.\r\n\r\n**----------EDITED----------**\r\n\r\nTo achieve the solution which you&#39;re looking for you need to write something like this - \r\n\r\n    enter code here\r\n    while(----){\r\n    Map&lt;String,String&gt; citiesAndStateCombinations = new HashMap&lt;&gt;();\r\n    if(citiesAndStateCombinations.containsKey(&quot;city=&quot;+cityAndState.getString(&quot;city&quot;))){\r\n        citiesAndStateCombinations.put(cityAndState.getString(&quot;city&quot;), cityAndState.getString(&quot;state&quot;))\r\n        citiesStates.add(citiesAndStateCombinations);\r\n    }\r\n\r\nThis will give you desired output -\r\n\r\n    [{city=XXXXXX=state=XXXXXX}, \r\n    {city=XXXXXX=state=XXXXXX}, \r\n    {city=XXXXXX=state=XXXXXX}] \r\n\r\n\r\n","title":"Map object keeps getting overwritten when adding","body":"<p>The thing is you're implementing HashMap in the wrong way, or you misunderstood it: &quot;A Map cannot contain duplicate keys and each key can map to at most one value.&quot;\nWhat you're doing in the above code -</p>\n<pre><code>citiesStates.put(&quot;city&quot;, cityAndState.getString(&quot;city&quot;);\ncitiesStates.put(&quot;state&quot;, cityAndState.getString(&quot;state&quot;);\n</code></pre>\n<p>You're putting values with the same key &quot;city&quot; &amp; &quot;state&quot; that's why it's overwriting the values.</p>\n<p>The correct way to do this will be -</p>\n<pre><code>Map&lt;String,String&gt; citiesAndStateCombinations = new HashMap&lt;&gt;();\n\nwhile(cityAndState.next()){\nif(!citiesAndStateCombinations.containskey(cityAndState.getString(&quot;city&quot;))){\n   citiesAndStateCombinations.put(cityAndState.getString(&quot;city&quot;), cityAndState.getString(&quot;state&quot;))\n}\n}\n</code></pre>\n<p>This will give you a city and state unique map now if you want it to be added to a list you can add this line at last but I don't see any use of it -</p>\n<pre><code>List&lt;Map&lt;String,String&gt; citiesStates = new ArrayList&lt;&gt;();\ncitiesStates.add(citiesAndStateCombinations);\n</code></pre>\n<p>Please add this after closing the while loop.</p>\n<p><strong>----------EDITED----------</strong></p>\n<p>To achieve the solution which you're looking for you need to write something like this -</p>\n<pre><code>enter code here\nwhile(----){\nMap&lt;String,String&gt; citiesAndStateCombinations = new HashMap&lt;&gt;();\nif(citiesAndStateCombinations.containsKey(&quot;city=&quot;+cityAndState.getString(&quot;city&quot;))){\n    citiesAndStateCombinations.put(cityAndState.getString(&quot;city&quot;), cityAndState.getString(&quot;state&quot;))\n    citiesStates.add(citiesAndStateCombinations);\n}\n</code></pre>\n<p>This will give you desired output -</p>\n<pre><code>[{city=XXXXXX=state=XXXXXX}, \n{city=XXXXXX=state=XXXXXX}, \n{city=XXXXXX=state=XXXXXX}] \n</code></pre>\n"}],"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74134378,"answer_count":1,"score":0,"last_activity_date":1666332141,"creation_date":1666236309,"question_id":74134107,"body_markdown":"I have a database call that will return a result set with city and states into a result set object called cityAndState. I am trying to loop through and put each city and state into a map and then add to an array list of maps.  \r\nSo I have an array list with 50 city and state Maps with &lt;key,values&gt; of city and state.  For instance [{city-Los Angeles, state=California},...] But each time I am overwriting the value. \r\n\r\n```\r\nMap&lt;String,String&gt; citiesAndStateCombinations = new HashMap&lt;&gt;();\r\n\r\nList&lt;Map&lt;String,String&gt; citiesStates = new ArrayList&lt;&gt;();\r\n\r\nwhile(cityAndState.next()){\r\ncitiesStates.put(&quot;city&quot;, cityAndState.getString(&quot;city&quot;);\r\ncitiesStates.put(&quot;state&quot;, cityAndState.getString(&quot;state&quot;);\r\ncitiesAndStateCombinations.add(citiesStates); \r\n}\r\n```\r\n\r\nLeaves an array with the last values printed 50 times. \r\n[{city-Boise, state=Idaho}, {city=Boise, state=Idaho}.....50}\r\n\r\nEach time it erases the previous value.  I see why it is doing it, it&#39;s setting all the elements to the last value added which makes sense but is there a way to add the values so I am left with an array of the 50 cities and States?","title":"Map object keeps getting overwritten when adding","body":"<p>I have a database call that will return a result set with city and states into a result set object called cityAndState. I am trying to loop through and put each city and state into a map and then add to an array list of maps.<br />\nSo I have an array list with 50 city and state Maps with &lt;key,values&gt; of city and state.  For instance [{city-Los Angeles, state=California},...] But each time I am overwriting the value.</p>\n<pre><code>Map&lt;String,String&gt; citiesAndStateCombinations = new HashMap&lt;&gt;();\n\nList&lt;Map&lt;String,String&gt; citiesStates = new ArrayList&lt;&gt;();\n\nwhile(cityAndState.next()){\ncitiesStates.put(&quot;city&quot;, cityAndState.getString(&quot;city&quot;);\ncitiesStates.put(&quot;state&quot;, cityAndState.getString(&quot;state&quot;);\ncitiesAndStateCombinations.add(citiesStates); \n}\n</code></pre>\n<p>Leaves an array with the last values printed 50 times.\n[{city-Boise, state=Idaho}, {city=Boise, state=Idaho}.....50}</p>\n<p>Each time it erases the previous value.  I see why it is doing it, it's setting all the elements to the last value added which makes sense but is there a way to add the values so I am left with an array of the 50 cities and States?</p>\n"},{"tags":["java","nested-loops"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1666306617,"post_id":74147117,"comment_id":130912267,"body_markdown":"Why would you use a nested loop? A single loop is sufficient.","body":"Why would you use a nested loop? A single loop is sufficient."},{"owner":{"account_id":26686868,"reputation":1,"user_id":20296057,"display_name":"Sher"},"score":0,"creation_date":1666306731,"post_id":74147117,"comment_id":130912286,"body_markdown":"@Mushroomator teacher wants us to. I&#39;d be glad to use a single loop too.","body":"@Mushroomator teacher wants us to. I&#39;d be glad to use a single loop too."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666306765,"post_id":74147117,"comment_id":130912290,"body_markdown":"Throw away that inner loop.  Do this with a single loop only.  If your teacher thinks this is a bad idea, you&#39;ll have to ask them for clarification, not us.","body":"Throw away that inner loop.  Do this with a single loop only.  If your teacher thinks this is a bad idea, you&#39;ll have to ask them for clarification, not us."}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666308191,"creation_date":1666308191,"answer_id":74147256,"question_id":74147117,"body_markdown":"There is no point using a nested loop as this would result in complexity of `O(n&#178;)`. A single loop would be sufficient and be in complexity class `O(n)`.\r\n\r\n```java\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        var squareSum = 0d;\r\n        var cubeSum = 0d;\r\n        var upperBound = 5;\r\n        for(var i = 1; i &lt;= upperBound; i++){\r\n            squareSum += Math.pow(i, 2);\r\n            cubeSum += Math.pow(i, 3);\r\n        }\r\n        System.out.printf(&quot;&quot;&quot;\r\n                Sum of first n squares: %s\r\n                Sum of first n cubes: %s\r\n                &quot;&quot;&quot;, (int)squareSum, (int)cubeSum);\r\n    }\r\n}\r\n```\r\n\r\nIn fact there is no need to loop at all =&gt; constant computation time no matter the size of the input `O(1)`. There is a well known formula which tells you the sum of the first `n` squares.\r\n```\r\nn(n+1)(2n+1)\r\n------------ \r\n     6\r\n```\r\n&gt; Please see [this](https://www.math-only-math.com/sum-of-the-squares-of-first-n-natural-numbers.html) for a proof.\r\n\r\nThe same holds true for the first `n` cubes.\r\n```\r\nn&#178;(n+1)&#178;\r\n-------- \r\n   4\r\n```\r\n&gt; Please see [this](https://www.math-only-math.com/sum-of-the-cubes-of-first-n-natural-numbers.html) for a proof.\r\n\r\nThe following program will therefore return the same result.\r\n```java\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        var upperBound = 5;\r\n        System.out.printf(&quot;&quot;&quot;\r\n                Sum of first n squares: %s\r\n                Sum of first n cubes: %s\r\n                &quot;&quot;&quot;, sumOfFirstNSquares(upperBound), sumOfFirstNCubes(upperBound));\r\n    }\r\n\r\n    public static int sumOfFirstNSquares(int n){\r\n        return (n * (n+1) * (2 * n + 1)) / 6;\r\n    }\r\n\r\n    public static int sumOfFirstNCubes(int n){\r\n        return ((n * n) * (n+1) * (n+1)) / 4;\r\n    }\r\n}\r\n```","title":"How to add multiple numbers using nested loops?","body":"<p>There is no point using a nested loop as this would result in complexity of <code>O(n²)</code>. A single loop would be sufficient and be in complexity class <code>O(n)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    public static void main(String[] args) {\n        var squareSum = 0d;\n        var cubeSum = 0d;\n        var upperBound = 5;\n        for(var i = 1; i &lt;= upperBound; i++){\n            squareSum += Math.pow(i, 2);\n            cubeSum += Math.pow(i, 3);\n        }\n        System.out.printf(&quot;&quot;&quot;\n                Sum of first n squares: %s\n                Sum of first n cubes: %s\n                &quot;&quot;&quot;, (int)squareSum, (int)cubeSum);\n    }\n}\n</code></pre>\n<p>In fact there is no need to loop at all =&gt; constant computation time no matter the size of the input <code>O(1)</code>. There is a well known formula which tells you the sum of the first <code>n</code> squares.</p>\n<pre><code>n(n+1)(2n+1)\n------------ \n     6\n</code></pre>\n<blockquote>\n<p>Please see <a href=\"https://www.math-only-math.com/sum-of-the-squares-of-first-n-natural-numbers.html\" rel=\"nofollow noreferrer\">this</a> for a proof.</p>\n</blockquote>\n<p>The same holds true for the first <code>n</code> cubes.</p>\n<pre><code>n²(n+1)²\n-------- \n   4\n</code></pre>\n<blockquote>\n<p>Please see <a href=\"https://www.math-only-math.com/sum-of-the-cubes-of-first-n-natural-numbers.html\" rel=\"nofollow noreferrer\">this</a> for a proof.</p>\n</blockquote>\n<p>The following program will therefore return the same result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    public static void main(String[] args) {\n        var upperBound = 5;\n        System.out.printf(&quot;&quot;&quot;\n                Sum of first n squares: %s\n                Sum of first n cubes: %s\n                &quot;&quot;&quot;, sumOfFirstNSquares(upperBound), sumOfFirstNCubes(upperBound));\n    }\n\n    public static int sumOfFirstNSquares(int n){\n        return (n * (n+1) * (2 * n + 1)) / 6;\n    }\n\n    public static int sumOfFirstNCubes(int n){\n        return ((n * n) * (n+1) * (n+1)) / 4;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666579480,"post_id":74149136,"comment_id":130963253,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74149136/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26688967,"reputation":1,"user_id":20297825,"display_name":"Madhu Sena"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666330229,"creation_date":1666330229,"answer_id":74149136,"question_id":74147117,"body_markdown":"In fact there is no need to loop at all =&gt; constant computation time no matter the size of the input O(1). There is a well known formula which tells you the sum of the first n squares.\r\n\r\njava","title":"How to add multiple numbers using nested loops?","body":"<p>In fact there is no need to loop at all =&gt; constant computation time no matter the size of the input O(1). There is a well known formula which tells you the sum of the first n squares.</p>\n<p>java</p>\n"}],"owner":{"account_id":26686868,"reputation":1,"user_id":20296057,"display_name":"Sher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666330229,"creation_date":1666306498,"question_id":74147117,"body_markdown":"I am doing an assignment where I must use nested loops in order to add up the squares and cubes of integers from 1 to N (N being whatever the user inputs). For example, if the user input the number 5, the program is supposed to do &quot;1&#178;+2&#178;+3&#178;+4&#178;+5&#178;&quot; and output the sum of those numbers, as well &quot;1&#179;+2&#179;+3&#179;+4&#179;+5&#179;&quot; and output the sum of those numbers.\r\n\r\nHowever, I am having trouble figuring out how to code it in a way that I receive the proper output? This is what I wrote. Scanners were already added.\r\n\r\n    int limitNum = input.nextInt();\r\n    double squareNums:\r\n    double sumofSq = 0;\r\n    double cubedNums;\r\n    double sumofCubes = 0;\r\n\r\n\r\n    for(int s = 1; s &lt;= limitNum; s++)\r\n        {\r\n            for(int c = 1; c &lt;= limitNum; c++)\r\n               {\r\n         cubedNums = Math.pow(c, 3);\r\n         sumofCubes = sumofCubes + cubedNums;\r\n               }\r\n           squareNums= Math.pow(s, 2);\r\n           sumofSq = sumofSq + squareNums;\r\n        }\r\n\r\n\r\nBut currently, when I run this program, the sum of the squares output correctly, but the sum of the cubes is always some big number. For example if 5 is used, sumofSq would output 55.0, but sumofCubes would output 1125.0.","title":"How to add multiple numbers using nested loops?","body":"<p>I am doing an assignment where I must use nested loops in order to add up the squares and cubes of integers from 1 to N (N being whatever the user inputs). For example, if the user input the number 5, the program is supposed to do &quot;1²+2²+3²+4²+5²&quot; and output the sum of those numbers, as well &quot;1³+2³+3³+4³+5³&quot; and output the sum of those numbers.</p>\n<p>However, I am having trouble figuring out how to code it in a way that I receive the proper output? This is what I wrote. Scanners were already added.</p>\n<pre><code>int limitNum = input.nextInt();\ndouble squareNums:\ndouble sumofSq = 0;\ndouble cubedNums;\ndouble sumofCubes = 0;\n\n\nfor(int s = 1; s &lt;= limitNum; s++)\n    {\n        for(int c = 1; c &lt;= limitNum; c++)\n           {\n     cubedNums = Math.pow(c, 3);\n     sumofCubes = sumofCubes + cubedNums;\n           }\n       squareNums= Math.pow(s, 2);\n       sumofSq = sumofSq + squareNums;\n    }\n</code></pre>\n<p>But currently, when I run this program, the sum of the squares output correctly, but the sum of the cubes is always some big number. For example if 5 is used, sumofSq would output 55.0, but sumofCubes would output 1125.0.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666285398,"post_id":74143653,"comment_id":130906221,"body_markdown":"Are you trying to [serialize](https://en.m.wikipedia.org/wiki/Serialization) and deserialize an object through text?","body":"Are you trying to <a href=\"https://en.m.wikipedia.org/wiki/Serialization\" rel=\"nofollow noreferrer\">serialize</a> and deserialize an object through text?"},{"owner":{"account_id":26684400,"reputation":1,"user_id":20293929,"display_name":"Parth"},"score":0,"creation_date":1666286530,"post_id":74143653,"comment_id":130906642,"body_markdown":"Basically yes..","body":"Basically yes.."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1666287513,"post_id":74143653,"comment_id":130907000,"body_markdown":"If you _must_ do something like this (and there are almost always better ways), you&#39;ll minimize your headaches if you serialize to JSON.","body":"If you <i>must</i> do something like this (and there are almost always better ways), you&#39;ll minimize your headaches if you serialize to JSON."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666287594,"post_id":74143653,"comment_id":130907039,"body_markdown":"I suggest you learn about serializing to XML or JSON, and tools for processing &amp; binding such as Simple framework, Jackson, or implementations of the Jakarta.ee specifications.","body":"I suggest you learn about serializing to XML or JSON, and tools for processing &amp; binding such as Simple framework, Jackson, or implementations of the Jakarta.ee specifications."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666327575,"creation_date":1666288680,"answer_id":74144338,"question_id":74143653,"body_markdown":"Best to serialize to XML or JSON, using tools mentioned in [my Comment][1].\r\n\r\nBut short of that, here is some quick-and-dirty code. \r\n\r\nBeware: This code fails if any name field contains a COMMA character. Thus my advice to use an XML or JSON parsing library.\r\n\r\nParse. \r\n\r\n    String input = &quot;Class01(name=\\&quot;John\\&quot;,age=30,dateModified=2022-09-30)&quot; ;\r\n    String[] pairs = input.split( &quot;,&quot; ) ;\r\n\r\nParse each pair. \r\n\r\n    String name = pairs[ 0 ].replace( &quot;Class01(name=\\&quot;&quot; , &quot;&quot; ).replace( &quot;\\&quot;&quot; , &quot;&quot; ) ;\r\n    int age = Integer.parseInt( pairs[ 1 ].replace( &quot;age=&quot; , &quot;&quot; ) ) ;\r\n    LocalDate dateModified = LocalDate.parse( pairs[ 2 ].replace( &quot;dateModified=&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ) ) ;\r\n\r\nDefine your class.\r\n\r\n    record Class01 ( String name , int age , LocalDate dateModified ) {}\r\n\r\nInstantiate. \r\n\r\n    Class01 c = new Class01( name , age , dateModified ) ;\r\n\r\n&gt;c.toString() = Class01[name=John, age=30, dateModified=2022-09-30]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74143653/how-to-create-pojo-from-tostring-methods-output/74144338#comment130907039_74143653","title":"How to create POJO from toString method&#39;s output","body":"<p>Best to serialize to XML or JSON, using tools mentioned in <a href=\"https://stackoverflow.com/questions/74143653/how-to-create-pojo-from-tostring-methods-output/74144338#comment130907039_74143653\">my Comment</a>.</p>\n<p>But short of that, here is some quick-and-dirty code.</p>\n<p>Beware: This code fails if any name field contains a COMMA character. Thus my advice to use an XML or JSON parsing library.</p>\n<p>Parse.</p>\n<pre><code>String input = &quot;Class01(name=\\&quot;John\\&quot;,age=30,dateModified=2022-09-30)&quot; ;\nString[] pairs = input.split( &quot;,&quot; ) ;\n</code></pre>\n<p>Parse each pair.</p>\n<pre><code>String name = pairs[ 0 ].replace( &quot;Class01(name=\\&quot;&quot; , &quot;&quot; ).replace( &quot;\\&quot;&quot; , &quot;&quot; ) ;\nint age = Integer.parseInt( pairs[ 1 ].replace( &quot;age=&quot; , &quot;&quot; ) ) ;\nLocalDate dateModified = LocalDate.parse( pairs[ 2 ].replace( &quot;dateModified=&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ) ) ;\n</code></pre>\n<p>Define your class.</p>\n<pre><code>record Class01 ( String name , int age , LocalDate dateModified ) {}\n</code></pre>\n<p>Instantiate.</p>\n<pre><code>Class01 c = new Class01( name , age , dateModified ) ;\n</code></pre>\n<blockquote>\n<p>c.toString() = Class01[name=John, age=30, dateModified=2022-09-30]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666330135,"creation_date":1666330135,"answer_id":74149129,"question_id":74143653,"body_markdown":"Best practice is: use json lib to serialize the POJO. Examples:\r\n```\r\nclass Class01 {\r\n    String name;\r\n    int age;\r\n    String dateModified;\r\n    \r\n    @Override\r\n    public String toString(){\r\n        return JSON.toJSONString(this);\r\n    }\r\n}\r\n```\r\nIf you wanna parse the output of toString(), just use \r\n```\r\nJSON.parseObject(string, Class01.class);\r\n```\r\nBut if your application just need the custom string format like below:\r\n```\r\nClass01(name=&quot;John&quot;,age=30,dateModified=2022-09-30)\r\n```\r\n\r\nOnly way is defined a rule parser, but it seems very complicated. Finally I think any split/replace/substring etc operation is unsafe. Because the value may contain the split char or replace char.\r\n\r\n","title":"How to create POJO from toString method&#39;s output","body":"<p>Best practice is: use json lib to serialize the POJO. Examples:</p>\n<pre><code>class Class01 {\n    String name;\n    int age;\n    String dateModified;\n    \n    @Override\n    public String toString(){\n        return JSON.toJSONString(this);\n    }\n}\n</code></pre>\n<p>If you wanna parse the output of toString(), just use</p>\n<pre><code>JSON.parseObject(string, Class01.class);\n</code></pre>\n<p>But if your application just need the custom string format like below:</p>\n<pre><code>Class01(name=&quot;John&quot;,age=30,dateModified=2022-09-30)\n</code></pre>\n<p>Only way is defined a rule parser, but it seems very complicated. Finally I think any split/replace/substring etc operation is unsafe. Because the value may contain the split char or replace char.</p>\n"}],"owner":{"account_id":26684400,"reputation":1,"user_id":20293929,"display_name":"Parth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666330135,"creation_date":1666285102,"question_id":74143653,"body_markdown":"I am building a utility to store failed DB records from original application. \r\nI am printing failed Objects in Log and using this file as input to my utility app.\r\n\r\nInput:\r\n&quot;Class01(name=&quot;John&quot;,age=30,dateModified=2022-09-30)&quot;\r\n\r\nNow I want to read this same class from utility, is there any easy way to read this?\r\n","title":"How to create POJO from toString method&#39;s output","body":"<p>I am building a utility to store failed DB records from original application.\nI am printing failed Objects in Log and using this file as input to my utility app.</p>\n<p>Input:\n&quot;Class01(name=&quot;John&quot;,age=30,dateModified=2022-09-30)&quot;</p>\n<p>Now I want to read this same class from utility, is there any easy way to read this?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":0,"creation_date":1666189391,"post_id":74127038,"comment_id":130877373,"body_markdown":"Is the function which creates the entity inside a @transactional?","body":"Is the function which creates the entity inside a @transactional?"},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666189960,"post_id":74127038,"comment_id":130877622,"body_markdown":"@Stomf no, it&#39;s inside a &quot;@applicationService&quot;","body":"@Stomf no, it&#39;s inside a &quot;@applicationService&quot;"},{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":0,"creation_date":1666190781,"post_id":74127038,"comment_id":130877969,"body_markdown":"That&#39;s strange. If an entity is created and there&#39;s no transactional annotation, it shouldn&#39;t get persisted until you manually save it.","body":"That&#39;s strange. If an entity is created and there&#39;s no transactional annotation, it shouldn&#39;t get persisted until you manually save it."},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666192442,"post_id":74127038,"comment_id":130878730,"body_markdown":"@Stomf At the moment, however, I am not creating a new object either, but copying an existing one.","body":"@Stomf At the moment, however, I am not creating a new object either, but copying an existing one."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666192454,"post_id":74127038,"comment_id":130878732,"body_markdown":"Can you share some code illustrating the problem? Instead of making as guessing what you&#39;re doing.","body":"Can you share some code illustrating the problem? Instead of making as guessing what you&#39;re doing."},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666258665,"post_id":74127038,"comment_id":130895521,"body_markdown":"@AlexanderIvanchenko added above.","body":"@AlexanderIvanchenko added above."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1666267437,"post_id":74127038,"comment_id":130898740,"body_markdown":"Where is the @Id annotation ?","body":"Where is the @Id annotation ?"},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666271929,"post_id":74127038,"comment_id":130900541,"body_markdown":"@grigouille In the AbstractUpdateEvent class from which we inherit.","body":"@grigouille In the AbstractUpdateEvent class from which we inherit."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1666273543,"post_id":74127038,"comment_id":130901311,"body_markdown":"Show us the AbstractUpdateEvent class","body":"Show us the AbstractUpdateEvent class"},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666276370,"post_id":74127038,"comment_id":130902626,"body_markdown":"@grigouille added it above.","body":"@grigouille added it above."}],"answers":[{"comments":[{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666189719,"post_id":74127091,"comment_id":130877519,"body_markdown":"The problem is: I have a list of objects (the JPA entities) from this list, some objects need to be added together. \n\nThe sum of the added objects is to be displayed in a new object - but this object must not appear in the database. \n\nA new table with these summed objects would be one possibility, but that would be a stopgap solution.","body":"The problem is: I have a list of objects (the JPA entities) from this list, some objects need to be added together.   The sum of the added objects is to be displayed in a new object - but this object must not appear in the database.   A new table with these summed objects would be one possibility, but that would be a stopgap solution."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666398406,"post_id":74127091,"comment_id":130935251,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74127091/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26672251,"reputation":1,"user_id":20283534,"display_name":"Akash Mohapatra"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666189475,"creation_date":1666189475,"answer_id":74127091,"question_id":74127038,"body_markdown":"if you are copying the jpa entity, you can try with a new JpaRepository Interface the new Entity is referring to a new Table or same Table","title":"Create JPA entity without database connection","body":"<p>if you are copying the jpa entity, you can try with a new JpaRepository Interface the new Entity is referring to a new Table or same Table</p>\n"},{"comments":[{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666253008,"post_id":74135664,"comment_id":130893336,"body_markdown":"I have already tried this, but after detaching, the copy and the original still seem to be connected. \nI was also unable to overwrite the ID.","body":"I have already tried this, but after detaching, the copy and the original still seem to be connected.  I was also unable to overwrite the ID."},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666255257,"post_id":74135664,"comment_id":130894190,"body_markdown":"I&#39;ve got a bit further in the meantime, first em.find() threw an IllegalArgumentException, I solved this problem by using the superclass and then casting it.\n\nBut now the following error is thrown: org.hibernate.UnknownEntityTypeException: Unable to locate persister\n\nIs there no easier solution to create a copy/new entity without it appearing in the database?","body":"I&#39;ve got a bit further in the meantime, first em.find() threw an IllegalArgumentException, I solved this problem by using the superclass and then casting it.  But now the following error is thrown: org.hibernate.UnknownEntityTypeException: Unable to locate persister  Is there no easier solution to create a copy/new entity without it appearing in the database?"},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1666256259,"post_id":74135664,"comment_id":130894607,"body_markdown":"If the find fails, there&#39;s something wrong. You should show us you entity.","body":"If the find fails, there&#39;s something wrong. You should show us you entity."},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666258269,"post_id":74135664,"comment_id":130895358,"body_markdown":"I added the entity above.","body":"I added the entity above."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1666276770,"post_id":74135664,"comment_id":130902798,"body_markdown":"The find method must work. Try `em.find(CustomerPortfolioUpdateEvent.class, &quot;some_id&quot;)`","body":"The find method must work. Try <code>em.find(CustomerPortfolioUpdateEvent.class, &quot;some_id&quot;)</code>"},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666337310,"post_id":74135664,"comment_id":130917446,"body_markdown":"the find is working, but I cannot set the new ID (so the copy stays connected with the original entity)\n\n`CustomerPortfolioUpdateEvent portfolio = entityManager.find(CustomerPortfolioUpdateEvent.class, portfolios.get(0).getId());`\n\n\n`entityManager.detach(portfolio);`\n\n`portfolio.setId(IdGenerator.INSTANCE.nextId());`","body":"the find is working, but I cannot set the new ID (so the copy stays connected with the original entity)  <code>CustomerPortfolioUpdateEvent portfolio = entityManager.find(CustomerPortfolioUpdateEvent.class, portfolios.get(0).getId());</code>   <code>entityManager.detach(portfolio);</code>  <code>portfolio.setId(IdGenerator.INSTANCE.nextId());</code>"},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1666337815,"post_id":74135664,"comment_id":130917599,"body_markdown":"Well it&#39;s still the same Java object. Now that you have change the id, you can persist it and you&#39;ll get a new row in database.","body":"Well it&#39;s still the same Java object. Now that you have change the id, you can persist it and you&#39;ll get a new row in database."},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666338008,"post_id":74135664,"comment_id":130917650,"body_markdown":"This is exactly what I am trying to prevent, I do not want a new row in the database. \nI want a CustomerPortfolioUpdateEvent that does not appear in the database. See the answer to the reply below.","body":"This is exactly what I am trying to prevent, I do not want a new row in the database.  I want a CustomerPortfolioUpdateEvent that does not appear in the database. See the answer to the reply below."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1666349969,"post_id":74135664,"comment_id":130921623,"body_markdown":"I don&#39;t understand. If the object is detached, it can&#39;t affect the database.","body":"I don&#39;t understand. If the object is detached, it can&#39;t affect the database."},{"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"score":0,"creation_date":1666350572,"post_id":74135664,"comment_id":130921831,"body_markdown":"That&#39;s how I understood it, but if I subsequently adjust variables of the copy, they will be overwritten by the variables of the original object later on.\n\nI assume because I would have to overwrite the ID of the copied object. But that&#39;s exactly what doesn&#39;t seem to work.","body":"That&#39;s how I understood it, but if I subsequently adjust variables of the copy, they will be overwritten by the variables of the original object later on.  I assume because I would have to overwrite the ID of the copied object. But that&#39;s exactly what doesn&#39;t seem to work."}],"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666251637,"creation_date":1666249422,"answer_id":74135664,"question_id":74127038,"body_markdown":"If you want to have a copy of your entity, first load it and then detach it.\r\n\r\n    EntityManager em;\r\n    //load entity. for example :\r\n    A a = em.find(A.class, 39L);\r\n    //then detach\r\n    em.detach(a)\r\n    //you might want to clear the id:\r\n    a.setId(null);\r\n    //change some values if you want\r\n    a.setLabel(&quot;foo&quot;);\r\n    //persist the copy if you want\r\n    em.persist(a)\r\n","title":"Create JPA entity without database connection","body":"<p>If you want to have a copy of your entity, first load it and then detach it.</p>\n<pre><code>EntityManager em;\n//load entity. for example :\nA a = em.find(A.class, 39L);\n//then detach\nem.detach(a)\n//you might want to clear the id:\na.setId(null);\n//change some values if you want\na.setLabel(&quot;foo&quot;);\n//persist the copy if you want\nem.persist(a)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666601841,"post_id":74149036,"comment_id":130967548,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74149036/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26672251,"reputation":1,"user_id":20283534,"display_name":"Akash Mohapatra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666329186,"creation_date":1666329186,"answer_id":74149036,"question_id":74127038,"body_markdown":"You can write a entityToModel class converter in your util class, BeanUtils.copyProperties(entity,model)","title":"Create JPA entity without database connection","body":"<p>You can write a entityToModel class converter in your util class, BeanUtils.copyProperties(entity,model)</p>\n"}],"owner":{"account_id":26672197,"reputation":1,"user_id":20283482,"display_name":"nxko"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666329186,"creation_date":1666189230,"question_id":74127038,"body_markdown":"I am trying to create a new JPA entity without generating a new row in the database.\r\n\r\nI have already tried to copy an existing entity, but the problem is that the copy seems to have a connection to the original (I guess because of the ID). \r\nBecause when I try to set new values, the values are set for both (copy and original).\r\n\r\nThe problem is: I have a list of objects (the JPA entities) from this list, some objects need to be added together. The sum of the added objects is to be displayed in a new object - but this object must not appear in the database.\r\n\r\nThis is what the Entity looks like:\r\n\r\n    @Aggregate\r\n    @Entity\r\n    @Table(name = &quot;CUSTOMER_PORTFOLIO_UE&quot;,\r\n        indexes = {\r\n                @Index(columnList = &quot;isin&quot;),\r\n                @Index(columnList = &quot;clearstreamDepotNumber&quot;),\r\n                @Index(columnList = &quot;validFromDate&quot;),\r\n                @Index(columnList = &quot;isin, clearstreamDepotNumber, validFromDate&quot;)\r\n        })\r\n    public class CustomerPortfolioUpdateEvent extends AbstractUpdateEvent implements HasLogicalKey&lt;LogicalCustomerPortfolioKey&gt; {\r\n\r\n    @NotEmpty\r\n    @Length(max = 7)\r\n    @Column(nullable = false, length = 7)\r\n    private String customerAccountNumber;\r\n    @NotNull\r\n    @Length(max = 3)\r\n    @Column(nullable = false, length = 3)\r\n    private String portfolioId;\r\n    @NotNull\r\n    @Length(min = 12, max = 12)\r\n    @Column(nullable = false, length = 12)\r\n    private String isin;\r\n    @NotEmpty\r\n    @Length(max = 7)\r\n    @Column(nullable = false, length = 7)\r\n    private String depotNumber;\r\n    @Nullable\r\n    @Length(max = 20)\r\n    @Column(length = 20)\r\n    private String customerAccountShortName;\r\n    @Nullable\r\n    @Length(max = 1)\r\n    @Column(length = 1)\r\n    private String customerGroupId;\r\n    @NotNull\r\n    @Column(nullable = false, length = 4)\r\n    private LegalEntity legalEntity;\r\n    @Nullable\r\n    @Length(max = 6)\r\n    @Column(length = 6)\r\n    private String customerSectorId;\r\n    @Nullable\r\n    @Length(max = 20)\r\n    @Column(length = 20)\r\n    private String customerSectorName;\r\n    @Nullable\r\n    @Length(max = 8)\r\n    @Column(length = 8)\r\n    private String customerAdvisorNumber;\r\n    @Nullable\r\n    @Length(max = 20)\r\n    @Column(length = 20)\r\n    private String customerAdvisorName;\r\n    @NotNull\r\n    @Length(min = 2, max = 3)\r\n    @Column(nullable = false, length = 3)\r\n    private String taxCountryId;\r\n    @NotNull\r\n    @Length(min = 2, max = 3)\r\n    @Column(nullable = false, length = 3)\r\n    private String countryId;\r\n    @Nullable\r\n    @Length(max = 20)\r\n    @Column(length = 20)\r\n    private String depotName;\r\n    @Nullable\r\n    @Length(max = 20)\r\n    @Column(length = 20)\r\n    private String clearstreamDepotNumber;\r\n    @NotNull\r\n    @Column(nullable = false, columnDefinition = &quot;DATE&quot;)\r\n    private LocalDate validFromDate;\r\n    @Nullable\r\n    @Column(precision = 18, scale = 3)\r\n    private BigDecimal openPositionValue;\r\n    @Nullable\r\n    @Column(precision = 18, scale = 3)\r\n    private BigDecimal settledPositionValue;\r\n    @NotNull\r\n    @Column(nullable = false, precision = 18, scale = 3)\r\n    private BigDecimal tradingPositionValue;\r\n    @Nullable\r\n    @Length(max = 3)\r\n    @Column(length = 3)\r\n    private String isinSub;\r\n\r\n\r\n    protected CustomerPortfolioUpdateEvent() { }\r\n\r\n    public CustomerPortfolioUpdateEvent(\r\n            @NotNull Timestamp recordedAt,\r\n            @NotNull @Length(min = 7, max = 7) String customerAccountNumber,\r\n            @NotNull @Length(max = 3) String portfolioId,\r\n            @NotNull @Length(min = 12, max = 12) String isin,\r\n            @NotNull @Length(max = 7) String depotNumber,\r\n            @Nullable String customerAccountShortName,\r\n            @Nullable String customerGroupId,\r\n            @NotNull LegalEntity legalEntity,\r\n            @Nullable @Length(max = 6) String customerSectorId,\r\n            @Nullable @Length(max = 20) String customerSectorName,\r\n            @Nullable @Length(max = 8) String customerAdvisorNumber,\r\n            @Nullable @Length(max = 20) String customerAdvisorName,\r\n            @NotNull @Length(min = 2, max = 3) String taxCountryId,\r\n            @NotNull @Length(min = 2, max = 3) String countryId,\r\n            @Nullable @Length(max = 20) String depotName,\r\n            @Nullable @Length(max = 20) String clearstreamDepotNumber,\r\n            @NotNull LocalDate validFromDate,\r\n            @Nullable BigDecimal openPositionValue,\r\n            @Nullable BigDecimal settledPositionValue,\r\n            @NotNull BigDecimal tradingPositionValue,\r\n            @Nullable String isinSub\r\n            ) {\r\n        super(recordedAt);\r\n        this.customerAccountNumber = customerAccountNumber;\r\n        this.portfolioId = portfolioId;\r\n        this.isin = isin;\r\n        this.depotNumber = depotNumber;\r\n        this.customerAccountShortName = customerAccountShortName;\r\n        this.customerGroupId = customerGroupId;\r\n        this.legalEntity = legalEntity;\r\n        this.customerSectorId = customerSectorId;\r\n        this.customerSectorName = customerSectorName;\r\n        this.customerAdvisorNumber = customerAdvisorNumber;\r\n        this.customerAdvisorName = customerAdvisorName;\r\n        this.taxCountryId = taxCountryId;\r\n        this.countryId = countryId;\r\n        this.depotName = depotName;\r\n        this.clearstreamDepotNumber = clearstreamDepotNumber;\r\n        this.validFromDate = validFromDate;\r\n        this.openPositionValue = openPositionValue;\r\n        this.settledPositionValue = settledPositionValue;\r\n        this.tradingPositionValue = tradingPositionValue;\r\n        this.isinSub = isinSub;\r\n    }\r\n\r\n\r\nAbstractUpdateEvent:\r\n\r\n    @MappedSuperclass\r\n    public abstract class AbstractUpdateEvent implements UpdateEvent {\r\n\r\n    public static final String SYSTEM_TRIGGERER = &quot;SYSTEM&quot;;\r\n\r\n    @Id\r\n    @NotNull\r\n    @Length(max = IdGenerator.MAX_LENGTH)\r\n    @Column(length =  IdGenerator.MAX_LENGTH)\r\n    private String id;\r\n\r\n    @NotNull\r\n    @Column(nullable= false)\r\n    private Timestamp recordedAt;","title":"Create JPA entity without database connection","body":"<p>I am trying to create a new JPA entity without generating a new row in the database.</p>\n<p>I have already tried to copy an existing entity, but the problem is that the copy seems to have a connection to the original (I guess because of the ID).\nBecause when I try to set new values, the values are set for both (copy and original).</p>\n<p>The problem is: I have a list of objects (the JPA entities) from this list, some objects need to be added together. The sum of the added objects is to be displayed in a new object - but this object must not appear in the database.</p>\n<p>This is what the Entity looks like:</p>\n<pre><code>@Aggregate\n@Entity\n@Table(name = &quot;CUSTOMER_PORTFOLIO_UE&quot;,\n    indexes = {\n            @Index(columnList = &quot;isin&quot;),\n            @Index(columnList = &quot;clearstreamDepotNumber&quot;),\n            @Index(columnList = &quot;validFromDate&quot;),\n            @Index(columnList = &quot;isin, clearstreamDepotNumber, validFromDate&quot;)\n    })\npublic class CustomerPortfolioUpdateEvent extends AbstractUpdateEvent implements HasLogicalKey&lt;LogicalCustomerPortfolioKey&gt; {\n\n@NotEmpty\n@Length(max = 7)\n@Column(nullable = false, length = 7)\nprivate String customerAccountNumber;\n@NotNull\n@Length(max = 3)\n@Column(nullable = false, length = 3)\nprivate String portfolioId;\n@NotNull\n@Length(min = 12, max = 12)\n@Column(nullable = false, length = 12)\nprivate String isin;\n@NotEmpty\n@Length(max = 7)\n@Column(nullable = false, length = 7)\nprivate String depotNumber;\n@Nullable\n@Length(max = 20)\n@Column(length = 20)\nprivate String customerAccountShortName;\n@Nullable\n@Length(max = 1)\n@Column(length = 1)\nprivate String customerGroupId;\n@NotNull\n@Column(nullable = false, length = 4)\nprivate LegalEntity legalEntity;\n@Nullable\n@Length(max = 6)\n@Column(length = 6)\nprivate String customerSectorId;\n@Nullable\n@Length(max = 20)\n@Column(length = 20)\nprivate String customerSectorName;\n@Nullable\n@Length(max = 8)\n@Column(length = 8)\nprivate String customerAdvisorNumber;\n@Nullable\n@Length(max = 20)\n@Column(length = 20)\nprivate String customerAdvisorName;\n@NotNull\n@Length(min = 2, max = 3)\n@Column(nullable = false, length = 3)\nprivate String taxCountryId;\n@NotNull\n@Length(min = 2, max = 3)\n@Column(nullable = false, length = 3)\nprivate String countryId;\n@Nullable\n@Length(max = 20)\n@Column(length = 20)\nprivate String depotName;\n@Nullable\n@Length(max = 20)\n@Column(length = 20)\nprivate String clearstreamDepotNumber;\n@NotNull\n@Column(nullable = false, columnDefinition = &quot;DATE&quot;)\nprivate LocalDate validFromDate;\n@Nullable\n@Column(precision = 18, scale = 3)\nprivate BigDecimal openPositionValue;\n@Nullable\n@Column(precision = 18, scale = 3)\nprivate BigDecimal settledPositionValue;\n@NotNull\n@Column(nullable = false, precision = 18, scale = 3)\nprivate BigDecimal tradingPositionValue;\n@Nullable\n@Length(max = 3)\n@Column(length = 3)\nprivate String isinSub;\n\n\nprotected CustomerPortfolioUpdateEvent() { }\n\npublic CustomerPortfolioUpdateEvent(\n        @NotNull Timestamp recordedAt,\n        @NotNull @Length(min = 7, max = 7) String customerAccountNumber,\n        @NotNull @Length(max = 3) String portfolioId,\n        @NotNull @Length(min = 12, max = 12) String isin,\n        @NotNull @Length(max = 7) String depotNumber,\n        @Nullable String customerAccountShortName,\n        @Nullable String customerGroupId,\n        @NotNull LegalEntity legalEntity,\n        @Nullable @Length(max = 6) String customerSectorId,\n        @Nullable @Length(max = 20) String customerSectorName,\n        @Nullable @Length(max = 8) String customerAdvisorNumber,\n        @Nullable @Length(max = 20) String customerAdvisorName,\n        @NotNull @Length(min = 2, max = 3) String taxCountryId,\n        @NotNull @Length(min = 2, max = 3) String countryId,\n        @Nullable @Length(max = 20) String depotName,\n        @Nullable @Length(max = 20) String clearstreamDepotNumber,\n        @NotNull LocalDate validFromDate,\n        @Nullable BigDecimal openPositionValue,\n        @Nullable BigDecimal settledPositionValue,\n        @NotNull BigDecimal tradingPositionValue,\n        @Nullable String isinSub\n        ) {\n    super(recordedAt);\n    this.customerAccountNumber = customerAccountNumber;\n    this.portfolioId = portfolioId;\n    this.isin = isin;\n    this.depotNumber = depotNumber;\n    this.customerAccountShortName = customerAccountShortName;\n    this.customerGroupId = customerGroupId;\n    this.legalEntity = legalEntity;\n    this.customerSectorId = customerSectorId;\n    this.customerSectorName = customerSectorName;\n    this.customerAdvisorNumber = customerAdvisorNumber;\n    this.customerAdvisorName = customerAdvisorName;\n    this.taxCountryId = taxCountryId;\n    this.countryId = countryId;\n    this.depotName = depotName;\n    this.clearstreamDepotNumber = clearstreamDepotNumber;\n    this.validFromDate = validFromDate;\n    this.openPositionValue = openPositionValue;\n    this.settledPositionValue = settledPositionValue;\n    this.tradingPositionValue = tradingPositionValue;\n    this.isinSub = isinSub;\n}\n</code></pre>\n<p>AbstractUpdateEvent:</p>\n<pre><code>@MappedSuperclass\npublic abstract class AbstractUpdateEvent implements UpdateEvent {\n\npublic static final String SYSTEM_TRIGGERER = &quot;SYSTEM&quot;;\n\n@Id\n@NotNull\n@Length(max = IdGenerator.MAX_LENGTH)\n@Column(length =  IdGenerator.MAX_LENGTH)\nprivate String id;\n\n@NotNull\n@Column(nullable= false)\nprivate Timestamp recordedAt;\n</code></pre>\n"},{"tags":["java","reactjs","spring","rest","react-redux"],"comments":[{"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"score":0,"creation_date":1589150665,"post_id":61498116,"comment_id":109172404,"body_markdown":"Is this maybe the same problem? https://stackoverflow.com/questions/43800998/why-do-fetch-errors-not-have-a-stacktrace-in-my-single-page-application","body":"Is this maybe the same problem? <a href=\"https://stackoverflow.com/questions/43800998/why-do-fetch-errors-not-have-a-stacktrace-in-my-single-page-application\" title=\"why do fetch errors not have a stacktrace in my single page application\">stackoverflow.com/questions/43800998/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":0,"creation_date":1588657226,"post_id":61588497,"comment_id":108974803,"body_markdown":"Hi, Thanks for the response.\nAdded ```constructor``` in ```ExceptionRestResponse``` as required. CE at ```@Value```, &#39;The annotation @Value is disallowed for this location&#39;.","body":"Hi, Thanks for the response. Added <code>constructor</code> in <code>ExceptionRestResponse</code> as required. CE at <code>@Value</code>, &#39;The annotation @Value is disallowed for this location&#39;."},{"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"score":0,"creation_date":1588664713,"post_id":61588497,"comment_id":108977828,"body_markdown":"I used `@Value` for conciseness. You can replace it with constructor and getters. Or you have to install lombok plugin to your IDE. I tested code sample which I posted on my machine, so all should work.","body":"I used <code>@Value</code> for conciseness. You can replace it with constructor and getters. Or you have to install lombok plugin to your IDE. I tested code sample which I posted on my machine, so all should work."},{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":0,"creation_date":1588673253,"post_id":61588497,"comment_id":108981988,"body_markdown":"Removed the @Value. Debugged the code and I can see method ```handleCustomException``` is being executed but can&#39;t see message in UI. Can you please tell me what would be the complete path of property ```message``` in object ```err```?","body":"Removed the @Value. Debugged the code and I can see method <code>handleCustomException</code> is being executed but can&#39;t see message in UI. Can you please tell me what would be the complete path of property <code>message</code> in object <code>err</code>?"},{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":0,"creation_date":1588693778,"post_id":61588497,"comment_id":108994100,"body_markdown":"getter/setter for ```code```,```message``` required in order to resolve above problem.","body":"getter/setter for <code>code</code>,<code>message</code> required in order to resolve above problem."},{"owner":{"account_id":2573644,"reputation":140,"user_id":2231829,"display_name":"indranil32"},"score":0,"creation_date":1589045786,"post_id":61588497,"comment_id":109139125,"body_markdown":"Make sure the @Value annotation is from lombok and not Spring. You can also take a look at - https://mkyong.com/spring-boot/spring-rest-error-handling-example/   or  https://www.baeldung.com/spring-mvc-controller-custom-http-status-code with working examples","body":"Make sure the @Value annotation is from lombok and not Spring. You can also take a look at - <a href=\"https://mkyong.com/spring-boot/spring-rest-error-handling-example/\" rel=\"nofollow noreferrer\">mkyong.com/spring-boot/spring-rest-error-handling-example</a>   or  <a href=\"https://www.baeldung.com/spring-mvc-controller-custom-http-status-code\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-controller-custom-http-status-code</a> with working examples"},{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":0,"creation_date":1590993896,"post_id":61588497,"comment_id":109878938,"body_markdown":"Hi @Bohdan Petrenko,\nEven after handling exception in advice the stack trace is being logged in server console.\nI want to prevent the stack trace print once advice has handled that exception.\nHow to do the same.?","body":"Hi @Bohdan Petrenko, Even after handling exception in advice the stack trace is being logged in server console. I want to prevent the stack trace print once advice has handled that exception. How to do the same.?"}],"tags":[],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1588602462,"creation_date":1588582678,"answer_id":61588497,"question_id":61498116,"body_markdown":"By default in case of exception Spring return http status 500 with Content-Type: **text/html;charset=UTF-8** and generates html page with error description. Your error description will be in the last line of this page after \r\n\r\n    &lt;div&gt;There was an unexpected error (type=Internal Server Error, status=500).&lt;/div&gt;\r\n\r\nand will look like \r\n\r\n    &lt;div&gt;This is error message&lt;/div&gt;\r\n\r\nOf course you can write crutch in your code and parse this page using React, but I wouldn&#39;t recommend so. It&#39;s much better to add [Controller advice][1] and write custom exception handling. In your case something like this\r\n\r\n    import lombok.Value;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestControllerAdvice;\r\n    \r\n    @RestControllerAdvice\r\n    public class ErrorHandler {\r\n     \r\n        @ExceptionHandler(Exception.class)\r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        public ExceptionRestResponse handleCustomException(Exception exception) {\r\n            return new ExceptionRestResponse(500, exception.getMessage());\r\n        }\r\n    \r\n        @Value\r\n        public static class ExceptionRestResponse {\r\n            int code;\r\n            String message;\r\n        }\r\n    } \r\n\r\nThen you will get response with Content-Type: **application/json** which will look like \r\n\r\n    {\r\n        &quot;code&quot;: 500,\r\n        &quot;message&quot;: &quot;This is error message&quot;\r\n    } \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-exceptions-json","title":"How to show server (Java) Exception message in React.js","body":"<p>By default in case of exception Spring return http status 500 with Content-Type: <strong>text/html;charset=UTF-8</strong> and generates html page with error description. Your error description will be in the last line of this page after </p>\n\n<pre><code>&lt;div&gt;There was an unexpected error (type=Internal Server Error, status=500).&lt;/div&gt;\n</code></pre>\n\n<p>and will look like </p>\n\n<pre><code>&lt;div&gt;This is error message&lt;/div&gt;\n</code></pre>\n\n<p>Of course you can write crutch in your code and parse this page using React, but I wouldn't recommend so. It's much better to add <a href=\"https://www.baeldung.com/spring-exceptions-json\" rel=\"nofollow noreferrer\">Controller advice</a> and write custom exception handling. In your case something like this</p>\n\n<pre><code>import lombok.Value;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@RestControllerAdvice\npublic class ErrorHandler {\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ExceptionRestResponse handleCustomException(Exception exception) {\n        return new ExceptionRestResponse(500, exception.getMessage());\n    }\n\n    @Value\n    public static class ExceptionRestResponse {\n        int code;\n        String message;\n    }\n} \n</code></pre>\n\n<p>Then you will get response with Content-Type: <strong>application/json</strong> which will look like </p>\n\n<pre><code>{\n    \"code\": 500,\n    \"message\": \"This is error message\"\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":0,"creation_date":1589133614,"post_id":61671736,"comment_id":109166458,"body_markdown":"Thanks for reply.\nCould not find any type with name ```ResponseStatusException```. Can you please specify the package?","body":"Thanks for reply. Could not find any type with name <code>ResponseStatusException</code>. Can you please specify the package?"},{"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"score":0,"creation_date":1589133876,"post_id":61671736,"comment_id":109166571,"body_markdown":"Please see the link at the bottom that I&#39;ve included in the answer. It&#39;s part of the Spring Framework since 5.0.","body":"Please see the link at the bottom that I&#39;ve included in the answer. It&#39;s part of the Spring Framework since 5.0."},{"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"score":0,"creation_date":1589133961,"post_id":61671736,"comment_id":109166607,"body_markdown":"```ResponseStatusException``` is since 5.0 but we are using 4.3.x. Otherwise would have been a good choice.","body":"<code>ResponseStatusException</code> is since 5.0 but we are using 4.3.x. Otherwise would have been a good choice."},{"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"score":0,"creation_date":1589134514,"post_id":61671736,"comment_id":109166814,"body_markdown":"You can look through other solutions here including older Spring versions: https://www.baeldung.com/exception-handling-for-rest-with-spring","body":"You can look through other solutions here including older Spring versions: <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/exception-handling-for-rest-with-spring</a>"}],"tags":[],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588909952,"creation_date":1588909952,"answer_id":61671736,"question_id":61498116,"body_markdown":"You can use the `ResponseStatusException` to send error message to `reactjs`. \r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/get&quot;)\r\n    public List&lt;MyInfo&gt; getInfo(){\r\n       try {\r\n              // code to return\r\n           } catch (InvalidObjectException | InvalidOperationException | OperationNotPermittedException | UserPermissionNotAvailableException e) {\r\n        // throwing custom exceptions\r\n\t    throw new ResponseStatusException(HttpStatus.FORBIDDEN, e.getMessage(), e);\r\n         \t} \r\n       catch (Exception e) {\r\n    \t    throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage(), e);\r\n           }\r\n       }\r\n\r\nInstead of `e.getMessage()`, you may use a specific error message. \r\n\r\nRun `console.error(error)` to see the structure of the error response and display it accordingly. The error response may look like this:\r\n\r\n    &quot;error&quot; : {\r\n         &quot;status&quot;: 403,\r\n         &quot;statusText&quot;: &quot;FORBIDDEN&quot;,\r\n         &quot;message&quot;: &quot;User does not have permission to perform this operation&quot;,\r\n         &quot;timestamp&quot;: &quot;2020-05-08T04:28:32.917+0000&quot;\r\n         ....\r\n    }\r\n\r\nMore here: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html\r\n","title":"How to show server (Java) Exception message in React.js","body":"<p>You can use the <code>ResponseStatusException</code> to send error message to <code>reactjs</code>. </p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/get\")\npublic List&lt;MyInfo&gt; getInfo(){\n   try {\n          // code to return\n       } catch (InvalidObjectException | InvalidOperationException | OperationNotPermittedException | UserPermissionNotAvailableException e) {\n    // throwing custom exceptions\n    throw new ResponseStatusException(HttpStatus.FORBIDDEN, e.getMessage(), e);\n        } \n   catch (Exception e) {\n        throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, e.getMessage(), e);\n       }\n   }\n</code></pre>\n\n<p>Instead of <code>e.getMessage()</code>, you may use a specific error message. </p>\n\n<p>Run <code>console.error(error)</code> to see the structure of the error response and display it accordingly. The error response may look like this:</p>\n\n<pre><code>\"error\" : {\n     \"status\": 403,\n     \"statusText\": \"FORBIDDEN\",\n     \"message\": \"User does not have permission to perform this operation\",\n     \"timestamp\": \"2020-05-08T04:28:32.917+0000\"\n     ....\n}\n</code></pre>\n\n<p>More here: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html</a></p>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666328238,"creation_date":1666328238,"answer_id":74148936,"question_id":61498116,"body_markdown":"Step 1 : Define your exception with the right status code\r\n\r\nExample\r\n\r\n    ResponseStatus(code = HttpStatus.NOT_FOUND)\r\n    public class UserNotFoundException extends RuntimeException {\r\n        public UserNotFoundException(String id) {\r\n            super(String.format(&quot;User with id %s does not exist.&quot;, id));\r\n        }\r\n    }\r\n\r\n\r\nEnable the details in the application.properties\r\n\r\n    server.error.include-message=always\r\n\r\nSample  result\r\n\r\n    {\r\n    \t&quot;timestamp&quot;: &quot;2022-10-21T04:54:43.916+00:00&quot;,\r\n    \t&quot;status&quot;: 404,\r\n    \t&quot;error&quot;: &quot;Not Found&quot;,\r\n    \t&quot;message&quot;: &quot;User with id test@test.com does not exist.&quot;,\r\n    \t&quot;path&quot;: &quot;/api/authentication/password-recovery&quot;\r\n    }","title":"How to show server (Java) Exception message in React.js","body":"<p>Step 1 : Define your exception with the right status code</p>\n<p>Example</p>\n<pre><code>ResponseStatus(code = HttpStatus.NOT_FOUND)\npublic class UserNotFoundException extends RuntimeException {\n    public UserNotFoundException(String id) {\n        super(String.format(&quot;User with id %s does not exist.&quot;, id));\n    }\n}\n</code></pre>\n<p>Enable the details in the application.properties</p>\n<pre><code>server.error.include-message=always\n</code></pre>\n<p>Sample  result</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-10-21T04:54:43.916+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;User with id test@test.com does not exist.&quot;,\n    &quot;path&quot;: &quot;/api/authentication/password-recovery&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":5899695,"reputation":398,"user_id":4643632,"display_name":"Prem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4962,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":61588497,"answer_count":3,"score":3,"last_activity_date":1666328238,"creation_date":1588151394,"question_id":61498116,"body_markdown":"I am not able to see the message (in React.js catch block) set while throwing Exception (by server in Java).\r\n\r\n**Situation:** User wants to perform some action (via myService), some verification w.r.t action can be done only on back-end, if that fails how to show the user what was the reason of failure?\r\n\r\nService (Java):\r\n```\r\n@GetMapping(path = {/*Servive_path*/}, produces = APPLICATION_JSON_VALUE)\r\npublic MyClass myService(@RequestParam String param) {\r\n\tthrow new RuntimeException(&quot;This is error message&quot;);\r\n}\r\n```\r\n\r\nAction (React.js):\r\n```\r\nconst myServive = (param) =&gt; {\r\n  return async (dispatch, getState) =&gt; {\r\n    return request({\r\n      url: ENDPOINTS.MY_SERVICE,\r\n      method: methods.GET,\r\n      params: { param }\r\n    })\r\n      .then(res =&gt; {\r\n        dispatch(saveResult(res));\r\n        dispatch(\r\n          notify({\r\n            title: &quot;Successful&quot;,\r\n            message: &quot;It was successfully.&quot;,\r\n            status: 200,\r\n            dismissAfter: CONFIG.NOTIFICATION_TIMEOUT\r\n          })\r\n        );\r\n      })\r\n      .catch(err =&gt; {\r\n\t\tconsole.log(&quot;err.data: &quot;, err.data); //Output-&gt; err.data: \r\n\t\tconsole.log(&quot;err.message: &quot;, err.message); //Output-&gt; err.message: undefined\r\n        dispatch(\r\n          notify({\r\n            title: &quot;Some error occured&quot;,\r\n            message: **//Want to set the error message**,\r\n            status: &quot;error&quot;,\r\n            dismissAfter: CONFIG.NOTIFICATION_TIMEOUT\r\n          })\r\n        );\r\n      });\r\n  };\r\n};\r\n```\r\n\r\nWant to show the exception message by setting value in massage in catch block of action.\r\n\r\nOutput\r\n```\r\nerr.data: &quot;&quot;\r\nerr.message: undefined\r\n```\r\n\r\nAlso,\r\n```\r\nerr.status: 500\r\nerr.request.response: &quot;&quot;\r\nerr.request.responseText: &quot;&quot;\r\nerr.request.responseType: &quot;&quot;\r\nerr.request.status: 500\r\nerr.request.statusText: &quot;&quot;\r\n```\r\n\r\nPlease help.","title":"How to show server (Java) Exception message in React.js","body":"<p>I am not able to see the message (in React.js catch block) set while throwing Exception (by server in Java).</p>\n\n<p><strong>Situation:</strong> User wants to perform some action (via myService), some verification w.r.t action can be done only on back-end, if that fails how to show the user what was the reason of failure?</p>\n\n<p>Service (Java):</p>\n\n<pre><code>@GetMapping(path = {/*Servive_path*/}, produces = APPLICATION_JSON_VALUE)\npublic MyClass myService(@RequestParam String param) {\n    throw new RuntimeException(\"This is error message\");\n}\n</code></pre>\n\n<p>Action (React.js):</p>\n\n<pre><code>const myServive = (param) =&gt; {\n  return async (dispatch, getState) =&gt; {\n    return request({\n      url: ENDPOINTS.MY_SERVICE,\n      method: methods.GET,\n      params: { param }\n    })\n      .then(res =&gt; {\n        dispatch(saveResult(res));\n        dispatch(\n          notify({\n            title: \"Successful\",\n            message: \"It was successfully.\",\n            status: 200,\n            dismissAfter: CONFIG.NOTIFICATION_TIMEOUT\n          })\n        );\n      })\n      .catch(err =&gt; {\n        console.log(\"err.data: \", err.data); //Output-&gt; err.data: \n        console.log(\"err.message: \", err.message); //Output-&gt; err.message: undefined\n        dispatch(\n          notify({\n            title: \"Some error occured\",\n            message: **//Want to set the error message**,\n            status: \"error\",\n            dismissAfter: CONFIG.NOTIFICATION_TIMEOUT\n          })\n        );\n      });\n  };\n};\n</code></pre>\n\n<p>Want to show the exception message by setting value in massage in catch block of action.</p>\n\n<p>Output</p>\n\n<pre><code>err.data: \"\"\nerr.message: undefined\n</code></pre>\n\n<p>Also,</p>\n\n<pre><code>err.status: 500\nerr.request.response: \"\"\nerr.request.responseText: \"\"\nerr.request.responseType: \"\"\nerr.request.status: 500\nerr.request.statusText: \"\"\n</code></pre>\n\n<p>Please help.</p>\n"},{"tags":["java","reflection","java-8"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666335109,"post_id":74148744,"comment_id":130916755,"body_markdown":"`&lt;FF&gt;` has no bounds at all, so there could be subclasses like `class X extends MyFunctionalInterfaceGetter&lt;Thread&gt; { … }` or `class Y extends MyFunctionalInterfaceGetter&lt;Callable&lt;String&gt;&gt; { … }` You can not enforce specific type parameters when you didn’t even enforce a parameterized type (with exactly two type parameters) in the first place.","body":"<code>&lt;FF&gt;</code> has no bounds at all, so there could be subclasses like <code>class X extends MyFunctionalInterfaceGetter&lt;Thread&gt; { … }</code> or <code>class Y extends MyFunctionalInterfaceGetter&lt;Callable&lt;String&gt;&gt; { … }</code> You can not enforce specific type parameters when you didn’t even enforce a parameterized type (with exactly two type parameters) in the first place."},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1666432407,"post_id":74148744,"comment_id":130938840,"body_markdown":"Thank you, Holger, for replying.\n\nThe thing is that the parameters of FF are dynamic, and depend on the invocation to &lt;b&gt;getMyFunction&lt;/b&gt;\n(the parameters are decided at every &lt;b&gt;getMyFunction&lt;/b&gt; invocation)\n\nAs the derived classes can enforce those bounds, I can work with the derived types.\nBut this makes that you cannot work with objects of the base type if you want FF to be bounded","body":"Thank you, Holger, for replying.  The thing is that the parameters of FF are dynamic, and depend on the invocation to &lt;b&gt;getMyFunction&lt;/b&gt; (the parameters are decided at every &lt;b&gt;getMyFunction&lt;/b&gt; invocation)  As the derived classes can enforce those bounds, I can work with the derived types. But this makes that you cannot work with objects of the base type if you want FF to be bounded"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666613899,"post_id":74148744,"comment_id":130971468,"body_markdown":"You can not work with the base type anyway. As said, `FF` can be anything, including just `java.lang.Object`. There’s no point in being able to say “*I don’t know (not even remotely) what it is, but whatever it is, it’s parameterized with X and Y*”. A type `X&lt;A,B&gt;` can be subtype of `Y&lt;B,A&gt;` or even `Z&lt;Q,W&gt;` with no relationship between `Q`, `W`, `A`, and `B`. Type arguments are only useful if you have an actual parameterized type giving them a meaning.","body":"You can not work with the base type anyway. As said, <code>FF</code> can be anything, including just <code>java.lang.Object</code>. There’s no point in being able to say “<i>I don’t know (not even remotely) what it is, but whatever it is, it’s parameterized with X and Y</i>”. A type <code>X&lt;A,B&gt;</code> can be subtype of <code>Y&lt;B,A&gt;</code> or even <code>Z&lt;Q,W&gt;</code> with no relationship between <code>Q</code>, <code>W</code>, <code>A</code>, and <code>B</code>. Type arguments are only useful if you have an actual parameterized type giving them a meaning."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":1,"creation_date":1666689125,"post_id":74148744,"comment_id":130990961,"body_markdown":"@FranciscoJavierRojas Are you looking for higher-kinded generics? https://stackoverflow.com/questions/876948/higher-kinded-generics-in-java https://medium.com/@johnmcclean/simulating-higher-kinded-types-in-java-b52a18b72c74","body":"@FranciscoJavierRojas Are you looking for higher-kinded generics? <a href=\"https://stackoverflow.com/questions/876948/higher-kinded-generics-in-java\" title=\"higher kinded generics in java\">stackoverflow.com/questions/876948/&hellip;</a> <a href=\"https://medium.com/@johnmcclean/simulating-higher-kinded-types-in-java-b52a18b72c74\" rel=\"nofollow noreferrer\">medium.com/@johnmcclean/&hellip;</a>"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1666720283,"post_id":74148744,"comment_id":131001925,"body_markdown":"Thank you Dmytro, for your answer, yes, it looks very similar to what I am looking for.\nIt seems that it is not supported by Java Generics.","body":"Thank you Dmytro, for your answer, yes, it looks very similar to what I am looking for. It seems that it is not supported by Java Generics."},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1666720426,"post_id":74148744,"comment_id":131001962,"body_markdown":"It seems you are right, +1, Holger","body":"It seems you are right, +1, Holger"}],"answers":[{"comments":[{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1666432783,"post_id":74148807,"comment_id":130938890,"body_markdown":"Thank you, Nikolas, for your answer.\n\nThe thing is that I want the parameters of FF are dynamic, and to depend on every invocation to &quot;getMyFunction&quot;.\n\nThis approach makes that you can work with only one object of &quot;MyFunctionalInterfaceGetter&quot;","body":"Thank you, Nikolas, for your answer.  The thing is that I want the parameters of FF are dynamic, and to depend on every invocation to &quot;getMyFunction&quot;.  This approach makes that you can work with only one object of &quot;MyFunctionalInterfaceGetter&quot;"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666326993,"creation_date":1666326993,"answer_id":74148807,"question_id":74148744,"body_markdown":"Move the generics to the class level and apply if to its subtypes:\r\n\r\n```\r\npublic abstract static class MyFunctionalInterfaceGetter&lt;FF, PC, AC&gt; {\r\n\tpublic abstract FF getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass);\r\n}\r\n```\r\n```\r\npublic static class MyGetterGetter&lt;PC, AC&gt; extends MyFunctionalInterfaceGetter&lt;Function&lt;PC, AC&gt;, PC, AC&gt; {\r\n\r\n\t@Override\r\n\tpublic Function&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass) {\r\n\t\t...\r\n\t}\r\n}\r\n```\r\n```\r\npublic static class MySetterGetter&lt;PC, AC&gt; extends MyFunctionalInterfaceGetter&lt;BiConsumer&lt;PC, AC&gt;, PC, AC&gt; {\r\n\r\n\t@Override\r\n\tpublic BiConsumer&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass) {\r\n\t\t...\r\n\t}\r\n}\r\n```","title":"Java generic parametrized parameter constrained by other parameters","body":"<p>Move the generics to the class level and apply if to its subtypes:</p>\n<pre><code>public abstract static class MyFunctionalInterfaceGetter&lt;FF, PC, AC&gt; {\n    public abstract FF getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass);\n}\n</code></pre>\n<pre><code>public static class MyGetterGetter&lt;PC, AC&gt; extends MyFunctionalInterfaceGetter&lt;Function&lt;PC, AC&gt;, PC, AC&gt; {\n\n    @Override\n    public Function&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass) {\n        ...\n    }\n}\n</code></pre>\n<pre><code>public static class MySetterGetter&lt;PC, AC&gt; extends MyFunctionalInterfaceGetter&lt;BiConsumer&lt;PC, AC&gt;, PC, AC&gt; {\n\n    @Override\n    public BiConsumer&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass) {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666326993,"creation_date":1666326280,"question_id":74148744,"body_markdown":"I have a generic class, which has a function that returns an instance of a functional interface:\r\n\r\n```\r\n/**\r\n * @param &lt;FF&gt; - FF is a functional interface\r\n */\r\npublic abstract class MyFunctionalInterfaceGetter&lt;FF&gt; {\r\n    public abstract &lt;PC, AC&gt; FF getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass);\r\n}\r\n```\r\n\r\nAnd I have a couple of derived classes:\r\n```\r\npublic class MyGetterGetter extends MyFunctionalInterfaceGetter&lt;java.util.function.Function&gt; {\r\n    public &lt;PC, AC&gt; Function&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass) {\r\n         ...\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class MySetterGetter extends MyFunctionalInterfaceGetter&lt;java.util.function.BiConsumer&gt; {\r\n    public &lt;PC, AC&gt; BiConsumer&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass) {\r\n         ...\r\n    }\r\n}\r\n```\r\n\r\n&lt;b&gt;And the question&lt;/b&gt;:&lt;br&gt;\r\nI do not thing so, but I wanted to know if there is any way to constrain the returning parametrized type from the function parameters at the parent class.&lt;br&gt;\r\nSomething like this:\r\n\r\n```\r\npublic abstract class MyFunctionalInterfaceGetter&lt;FF&gt; {\r\n    public abstract &lt;PC, AC&gt; FF&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass);\r\n}\r\n```\r\n\r\nI am using Java-8","title":"Java generic parametrized parameter constrained by other parameters","body":"<p>I have a generic class, which has a function that returns an instance of a functional interface:</p>\n<pre><code>/**\n * @param &lt;FF&gt; - FF is a functional interface\n */\npublic abstract class MyFunctionalInterfaceGetter&lt;FF&gt; {\n    public abstract &lt;PC, AC&gt; FF getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass);\n}\n</code></pre>\n<p>And I have a couple of derived classes:</p>\n<pre><code>public class MyGetterGetter extends MyFunctionalInterfaceGetter&lt;java.util.function.Function&gt; {\n    public &lt;PC, AC&gt; Function&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass) {\n         ...\n    }\n}\n</code></pre>\n<pre><code>public class MySetterGetter extends MyFunctionalInterfaceGetter&lt;java.util.function.BiConsumer&gt; {\n    public &lt;PC, AC&gt; BiConsumer&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass) {\n         ...\n    }\n}\n</code></pre>\n<p><b>And the question</b>:<br>\nI do not thing so, but I wanted to know if there is any way to constrain the returning parametrized type from the function parameters at the parent class.<br>\nSomething like this:</p>\n<pre><code>public abstract class MyFunctionalInterfaceGetter&lt;FF&gt; {\n    public abstract &lt;PC, AC&gt; FF&lt;PC, AC&gt; getMyFunction(Class&lt;PC&gt; pojoClass, Class&lt;AC&gt; attributeClass);\n}\n</code></pre>\n<p>I am using Java-8</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26681719,"reputation":61,"user_id":20291569,"display_name":"Adin D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666326586,"creation_date":1666326586,"answer_id":74148772,"question_id":74148633,"body_markdown":"Does your project uses Java 8 or Java 11? If you are using Java 8. Kindly migrate to Java 11","title":"Android studio build failed on Dolphin version","body":"<p>Does your project uses Java 8 or Java 11? If you are using Java 8. Kindly migrate to Java 11</p>\n"}],"owner":{"account_id":7505090,"reputation":109,"user_id":5701889,"accept_rate":33,"display_name":"vyas dipak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666326586,"creation_date":1666324772,"question_id":74148633,"body_markdown":"I have downloaded and started use of Android Studio Dolphin | 2021.3.1 Patch 1\r\n\r\nbelow are the configurations :\r\n\r\n    classpath &#39;com.android.tools.build:gradle:7.2.1&#39;\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\r\n\r\n    C:\\Program Files\\Android\\Android Studio2\\jre\r\n\r\nwhile build the application get the error as : \r\n\r\n    The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.3.3/userguide/build_environment.html#gradle_system_properties\r\n    PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    unable to find valid certification path to requested target\r\n\r\n\r\n","title":"Android studio build failed on Dolphin version","body":"<p>I have downloaded and started use of Android Studio Dolphin | 2021.3.1 Patch 1</p>\n<p>below are the configurations :</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.2.1'\n\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\n\nC:\\Program Files\\Android\\Android Studio2\\jre\n</code></pre>\n<p>while build the application get the error as :</p>\n<pre><code>The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.3.3/userguide/build_environment.html#gradle_system_properties\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nunable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","android","ssh","ssh-tunnel"],"answers":[{"comments":[{"owner":{"account_id":26623568,"reputation":1,"user_id":20241961,"display_name":"code red"},"score":0,"creation_date":1666325227,"post_id":74148656,"comment_id":130914931,"body_markdown":"yes     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;","body":"yes     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;     &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;"},{"owner":{"account_id":8555656,"reputation":11,"user_id":6411292,"display_name":"Shubho Brata Roy"},"score":0,"creation_date":1666332805,"post_id":74148656,"comment_id":130916179,"body_markdown":"Did you try running the same code on a different android device ? this probably happening because some other app is using port 22","body":"Did you try running the same code on a different android device ? this probably happening because some other app is using port 22"},{"owner":{"account_id":26623568,"reputation":1,"user_id":20241961,"display_name":"code red"},"score":0,"creation_date":1666344435,"post_id":74148656,"comment_id":130919796,"body_markdown":"i scan my opened port using port droid  app no port is on now i will run this on other phone and make sure","body":"i scan my opened port using port droid  app no port is on now i will run this on other phone and make sure"},{"owner":{"account_id":26623568,"reputation":1,"user_id":20241961,"display_name":"code red"},"score":0,"creation_date":1667105692,"post_id":74148656,"comment_id":131090012,"body_markdown":"@ Shubho Brata Roy   i tried on other device same result any idea  . i want to transfer file using sshd server and a jsch is it required to root the phone to work on port 22","body":"@ Shubho Brata Roy   i tried on other device same result any idea  . i want to transfer file using sshd server and a jsch is it required to root the phone to work on port 22"}],"tags":[],"owner":{"account_id":8555656,"reputation":11,"user_id":6411292,"display_name":"Shubho Brata Roy"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666325016,"creation_date":1666325016,"answer_id":74148656,"question_id":74148556,"body_markdown":"Did you add `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;` on AndroidMenifest.xml ?\r\nIf not adding that should fix the issue","title":"SSHD PORT 22 , W/System.err: java.net.SocketException: Permission denied . working on a PORT 8888 WHY?","body":"<p>Did you add <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code> on AndroidMenifest.xml ?\nIf not adding that should fix the issue</p>\n"}],"owner":{"account_id":26623568,"reputation":1,"user_id":20241961,"display_name":"code red"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666326292,"creation_date":1666323744,"question_id":74148556,"body_markdown":"i want to connect two mobile remotely using SSHD  i found below code on stack i installed all the lib and dependencies and internet permission . code is working server is running on PORT 8888\r\n\r\n    public void startSSHServer() {\r\n    int port = 8888;\r\n    SshServer sshd = SshServer.setUpDefaultServer();\r\n    sshd.setPort(port);\r\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(\r\n            &quot;src/test/resources/hostkey.ser&quot;));\r\n    sshd.setSubsystemFactories(Arrays\r\n            .&lt;NamedFactory&lt;Command&gt;&gt; asList(new SftpSubsystem.Factory()));\r\n    sshd.setCommandFactory(new ScpCommandFactory());\r\n    sshd.setShellFactory(new ProcessShellFactory(new String[] { &quot;/system/bin/sh&quot;, &quot;-i&quot;, &quot;-l&quot; })); // necessary if you want to type commands over ssh\r\n    sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n\r\n        @Override\r\n        public boolean authenticate(String u, String p, ServerSession s) {\r\n            return (&quot;sftptest&quot;.equals(u) &amp;&amp; &quot;sftptest&quot;.equals(p));\r\n        }\r\n    });\r\n\r\n    try {\r\n        sshd.start();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }}\r\n\r\n as far as I know SSH uses PORT 22 so i change the PORT 22 the i got this SYSTEM ERROR\r\n\r\n    \tW/System.err: SLF4J: The requested version 1.6 by your slf4j binding is not compatible with [1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.5.10, 1.5.11]\r\n\tW/System.err: SLF4J: See http://www.slf4j.org/codes.html#version_mismatch for further details.\r\n\tW/System.err: 89 [Thread-3] INFO org.apache.sshd.common.util.SecurityUtils - BouncyCastle already registered as a JCE provider\r\n\tW/System.err: java.net.SocketException: Permission denied\r\n\tW/System.err:     at sun.nio.ch.Net.bind0(Native Method)\r\n\tW/System.err:     at sun.nio.ch.Net.bind(Net.java:442)\r\n\tW/System.err:     at sun.nio.ch.Net.bind(Net.java:434)\r\n\tW/System.err:     at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\r\n\tW/System.err:     at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\r\n\tW/System.err:     at org.apache.mina.transport.socket.nio.NioSocketAcceptor.open(NioSocketAcceptor.java:248)\r\n\tW/System.err:     at org.apache.mina.transport.socket.nio.NioSocketAcceptor.open(NioSocketAcceptor.java:48)\r\n\tW/System.err:     at org.apache.mina.core.polling.AbstractPollingIoAcceptor.registerHandles(AbstractPollingIoAcceptor.java:525)\r\n\tW/System.err:     at org.apache.mina.core.polling.AbstractPollingIoAcceptor.access$200(AbstractPollingIoAcceptor.java:66)\r\n\tW/System.err:     at org.apache.mina.core.polling.AbstractPollingIoAcceptor$Acceptor.run(AbstractPollingIoAcceptor.java:406)\r\n\tW/System.err:     at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)\r\n\tW/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n\tW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n\tW/System.err:     at java.lang.Thread.run(Thread.java:923)","title":"SSHD PORT 22 , W/System.err: java.net.SocketException: Permission denied . working on a PORT 8888 WHY?","body":"<p>i want to connect two mobile remotely using SSHD  i found below code on stack i installed all the lib and dependencies and internet permission . code is working server is running on PORT 8888</p>\n<pre><code>public void startSSHServer() {\nint port = 8888;\nSshServer sshd = SshServer.setUpDefaultServer();\nsshd.setPort(port);\nsshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(\n        &quot;src/test/resources/hostkey.ser&quot;));\nsshd.setSubsystemFactories(Arrays\n        .&lt;NamedFactory&lt;Command&gt;&gt; asList(new SftpSubsystem.Factory()));\nsshd.setCommandFactory(new ScpCommandFactory());\nsshd.setShellFactory(new ProcessShellFactory(new String[] { &quot;/system/bin/sh&quot;, &quot;-i&quot;, &quot;-l&quot; })); // necessary if you want to type commands over ssh\nsshd.setPasswordAuthenticator(new PasswordAuthenticator() {\n\n    @Override\n    public boolean authenticate(String u, String p, ServerSession s) {\n        return (&quot;sftptest&quot;.equals(u) &amp;&amp; &quot;sftptest&quot;.equals(p));\n    }\n});\n\ntry {\n    sshd.start();\n} catch (IOException e) {\n    e.printStackTrace();\n}}\n</code></pre>\n<p>as far as I know SSH uses PORT 22 so i change the PORT 22 the i got this SYSTEM ERROR</p>\n<pre><code>    W/System.err: SLF4J: The requested version 1.6 by your slf4j binding is not compatible with [1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.5.10, 1.5.11]\nW/System.err: SLF4J: See http://www.slf4j.org/codes.html#version_mismatch for further details.\nW/System.err: 89 [Thread-3] INFO org.apache.sshd.common.util.SecurityUtils - BouncyCastle already registered as a JCE provider\nW/System.err: java.net.SocketException: Permission denied\nW/System.err:     at sun.nio.ch.Net.bind0(Native Method)\nW/System.err:     at sun.nio.ch.Net.bind(Net.java:442)\nW/System.err:     at sun.nio.ch.Net.bind(Net.java:434)\nW/System.err:     at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)\nW/System.err:     at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)\nW/System.err:     at org.apache.mina.transport.socket.nio.NioSocketAcceptor.open(NioSocketAcceptor.java:248)\nW/System.err:     at org.apache.mina.transport.socket.nio.NioSocketAcceptor.open(NioSocketAcceptor.java:48)\nW/System.err:     at org.apache.mina.core.polling.AbstractPollingIoAcceptor.registerHandles(AbstractPollingIoAcceptor.java:525)\nW/System.err:     at org.apache.mina.core.polling.AbstractPollingIoAcceptor.access$200(AbstractPollingIoAcceptor.java:66)\nW/System.err:     at org.apache.mina.core.polling.AbstractPollingIoAcceptor$Acceptor.run(AbstractPollingIoAcceptor.java:406)\nW/System.err:     at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\n</code></pre>\n"},{"tags":["java","gradle","visual-studio-code"],"comments":[{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1640746105,"post_id":70501351,"comment_id":124648717,"body_markdown":"Type `gradle -v` in terminal to check gradle version","body":"Type <code>gradle -v</code> in terminal to check gradle version"},{"owner":{"account_id":9860808,"reputation":141,"user_id":7797027,"display_name":"tester"},"score":0,"creation_date":1640858400,"post_id":70501351,"comment_id":124675797,"body_markdown":"The result of `gradle -v` is Gradle 7.3.3.","body":"The result of <code>gradle -v</code> is Gradle 7.3.3."}],"answers":[{"comments":[{"owner":{"account_id":9860808,"reputation":141,"user_id":7797027,"display_name":"tester"},"score":0,"creation_date":1640858541,"post_id":70514655,"comment_id":124675837,"body_markdown":"Yes, with a wrapper I can use whatever version of gradle I want. But for me this seems to be a workaround. I want VS Code to use the latest installed version on my system from the beginning on. Is that possible?","body":"Yes, with a wrapper I can use whatever version of gradle I want. But for me this seems to be a workaround. I want VS Code to use the latest installed version on my system from the beginning on. Is that possible?"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1640913797,"post_id":70514655,"comment_id":124690842,"body_markdown":"@tester. Since VS Code settings take precedence over the environment variables and you already add gradle7.3.3 to PATH, you can try deleting related gradle settings in VS Code to make it achieve environment varaibles--&gt; gradle7.3.3 directly.","body":"@tester. Since VS Code settings take precedence over the environment variables and you already add gradle7.3.3 to PATH, you can try deleting related gradle settings in VS Code to make it achieve environment varaibles--&gt; gradle7.3.3 directly."},{"owner":{"account_id":9860808,"reputation":141,"user_id":7797027,"display_name":"tester"},"score":0,"creation_date":1641918346,"post_id":70514655,"comment_id":124930869,"body_markdown":"How can I dewlete the Gradle Settings in VS Code?","body":"How can I dewlete the Gradle Settings in VS Code?"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1642139863,"post_id":70514655,"comment_id":124996911,"body_markdown":"@tester. Settings.json and build.gradle in your project","body":"@tester. Settings.json and build.gradle in your project"}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640746032,"creation_date":1640746032,"answer_id":70514655,"question_id":70501351,"body_markdown":"Note, the VS Code settings take precedence over the environment variables.\r\n\r\n\r\nTo change the Gradle version of your project, turn to your `current project\\gradle\\wrapper\\gradle-wrapper.properties`, change the value of `distributionUrl`.","title":"Gradle for Java Extension in Visual Studio Code shows the wrong Gradle version","body":"<p>Note, the VS Code settings take precedence over the environment variables.</p>\n<p>To change the Gradle version of your project, turn to your <code>current project\\gradle\\wrapper\\gradle-wrapper.properties</code>, change the value of <code>distributionUrl</code>.</p>\n"},{"tags":[],"owner":{"account_id":19851279,"reputation":21,"user_id":14541714,"display_name":"Chutipon Pongpanit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666324719,"creation_date":1666324625,"answer_id":74148621,"question_id":70501351,"body_markdown":"In my opinion, your Gradle v6.4, and your machine work with jdk17.\r\nthen you update GRADLE_HOME, then currently Gradle v7.3.3 also updates changes java to jdk11. this not compatible between Gradle and Java.\r\n\r\n - Option A, if you&#39;d like to work with Gradle v6.4 then change Java version to jdk14.\r\n - Option B, if you&#39;d like to work with Gradle v7.3.3 then change Java version to jdk17\r\n\r\nThis reference is compatible between Gradle - JDK, https://docs.gradle.org/current/userguide/compatibility.html\r\n\r\n..... \r\n\r\nNoted\r\n\r\nYou have configurations that overwrite, after you have compatibility between Gradle and Java, you could work with your machine environment, then you could remove configurations located at .vscode/settings.json that seem like \r\n\r\n    &quot;java.home&quot;: &quot;&lt;the path to jdk&gt;&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;default&quot;: true,\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;&lt;the path to jdk8&gt;&quot;,\r\n        }\r\n    ]\r\n","title":"Gradle for Java Extension in Visual Studio Code shows the wrong Gradle version","body":"<p>In my opinion, your Gradle v6.4, and your machine work with jdk17.\nthen you update GRADLE_HOME, then currently Gradle v7.3.3 also updates changes java to jdk11. this not compatible between Gradle and Java.</p>\n<ul>\n<li>Option A, if you'd like to work with Gradle v6.4 then change Java version to jdk14.</li>\n<li>Option B, if you'd like to work with Gradle v7.3.3 then change Java version to jdk17</li>\n</ul>\n<p>This reference is compatible between Gradle - JDK, <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n<p>.....</p>\n<p>Noted</p>\n<p>You have configurations that overwrite, after you have compatibility between Gradle and Java, you could work with your machine environment, then you could remove configurations located at .vscode/settings.json that seem like</p>\n<pre><code>&quot;java.home&quot;: &quot;&lt;the path to jdk&gt;&quot;,\n&quot;java.configuration.runtimes&quot;: [\n    {\n        &quot;default&quot;: true,\n        &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n        &quot;path&quot;: &quot;&lt;the path to jdk8&gt;&quot;,\n    }\n]\n</code></pre>\n"}],"owner":{"account_id":9860808,"reputation":141,"user_id":7797027,"display_name":"tester"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10610,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666324719,"creation_date":1640647123,"question_id":70501351,"body_markdown":"I installed the Gradle for Java Extension in Visual Studio Code, but I get the following message:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AZMzs.png\r\n\r\nBut I have installed the Gradle version 7.3.3 and linked it in the following Environment variables:\r\n\r\n - Path\r\n - GRADLE_HOME\r\n - GRADLE_USER_HOME\r\n\r\nWhen I change the environment variables (Path and JAVA_HOME) to a JDK 11 there is no such error message.\r\n\r\nAnd I set the right path in the settings of the extension, but I always get this error message\r\n\r\nAny ideas?\r\n\r\nThanks in advance.","title":"Gradle for Java Extension in Visual Studio Code shows the wrong Gradle version","body":"<p>I installed the Gradle for Java Extension in Visual Studio Code, but I get the following message:</p>\n<p><a href=\"https://i.stack.imgur.com/AZMzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AZMzs.png\" alt=\"enter image description here\" /></a></p>\n<p>But I have installed the Gradle version 7.3.3 and linked it in the following Environment variables:</p>\n<ul>\n<li>Path</li>\n<li>GRADLE_HOME</li>\n<li>GRADLE_USER_HOME</li>\n</ul>\n<p>When I change the environment variables (Path and JAVA_HOME) to a JDK 11 there is no such error message.</p>\n<p>And I set the right path in the settings of the extension, but I always get this error message</p>\n<p>Any ideas?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","apache-kafka","confluent-platform","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":1611435,"reputation":2587,"user_id":1490220,"accept_rate":82,"display_name":"Joe M"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1590361693,"creation_date":1590361693,"answer_id":61993506,"question_id":61974585,"body_markdown":"Those dependencies are in the confluent repository (not in Maven central).\r\nYou will need to declare https://packages.confluent.io/maven/ as a repository.\r\nSee [this][1] on how this can be done.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html","title":"Unable to resolve confluent kafka dependencies in gradle?","body":"<p>Those dependencies are in the confluent repository (not in Maven central).\nYou will need to declare <a href=\"https://packages.confluent.io/maven/\" rel=\"noreferrer\">https://packages.confluent.io/maven/</a> as a repository.\nSee <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"noreferrer\">this</a> on how this can be done.</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1666324157,"creation_date":1638168863,"answer_id":70150757,"question_id":61974585,"body_markdown":" You have to add the confluent repository to look at the dependencies.\r\nInside the repositories block, you have to add the confluent maven repository.\r\nPlease note that my gradle version is 7.1\r\n```gradle\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        url &quot;https://packages.confluent.io/maven&quot;\r\n    }\r\n}\r\n```\r\n ","title":"Unable to resolve confluent kafka dependencies in gradle?","body":"<p>You have to add the confluent repository to look at the dependencies.\nInside the repositories block, you have to add the confluent maven repository.\nPlease note that my gradle version is 7.1</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url &quot;https://packages.confluent.io/maven&quot;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2444138,"reputation":67,"user_id":2131925,"display_name":"xcyteh"},"score":0,"creation_date":1681311882,"post_id":72724408,"comment_id":134036688,"body_markdown":"This is for Kotlin","body":"This is for Kotlin"}],"tags":[],"owner":{"account_id":7795985,"reputation":784,"user_id":5897052,"display_name":"J K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655957118,"creation_date":1655957118,"answer_id":72724408,"question_id":61974585,"body_markdown":"Correct entry should be,\r\n\r\n    repositories {\r\n      mavenCentral()\r\n      maven {\r\n        url = uri(&quot;https://packages.confluent.io/maven&quot;)\r\n      }\r\n    }","title":"Unable to resolve confluent kafka dependencies in gradle?","body":"<p>Correct entry should be,</p>\n<pre><code>repositories {\n  mavenCentral()\n  maven {\n    url = uri(&quot;https://packages.confluent.io/maven&quot;)\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11002667,"reputation":71,"user_id":8082751,"display_name":"ishant kulshreshtha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9357,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1666324157,"creation_date":1590248726,"question_id":61974585,"body_markdown":"While adding dependencies for confluent kafka in build gradle file, its unable to resolve it. \r\n\r\n       compile group: &#39;io.confluent&#39;, name: &#39;kafka-avro-serializer&#39;, version: &#39;4.0.0&#39;\r\n       compile group: &#39;io.confluent&#39;, name: &#39;kafka-schema-registry&#39;, version: &#39;4.0.0&#39;\r\n       compile &#39;io.confluent:kafka-schema-registry:4.0.0:tests&#39;\r\n\r\nAfter adding giving following error .\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qkc5R.png","title":"Unable to resolve confluent kafka dependencies in gradle?","body":"<p>While adding dependencies for confluent kafka in build gradle file, its unable to resolve it. </p>\n\n<pre><code>   compile group: 'io.confluent', name: 'kafka-avro-serializer', version: '4.0.0'\n   compile group: 'io.confluent', name: 'kafka-schema-registry', version: '4.0.0'\n   compile 'io.confluent:kafka-schema-registry:4.0.0:tests'\n</code></pre>\n\n<p>After adding giving following error .</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qkc5R.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qkc5R.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","regex","kotlin"],"answers":[{"comments":[{"owner":{"account_id":5321138,"reputation":1209,"user_id":4244550,"display_name":"advay rajhansa"},"score":1,"creation_date":1666324176,"post_id":74148563,"comment_id":130914808,"body_markdown":"This will match `https://test/` as well. Better should be `^https?://.*\\..*/`","body":"This will match <code>https:&#47;&#47;test&#47;</code> as well. Better should be <code>^https?:&#47;&#47;.*\\..*&#47;</code>"},{"owner":{"account_id":9279256,"reputation":95395,"user_id":6890912,"display_name":"blhsing"},"score":1,"creation_date":1666324328,"post_id":74148563,"comment_id":130914824,"body_markdown":"Nowhere in the question does the OP say `https://test/` is an invalid case. `https://test/` is also a valid URL elsewhere as `test` would refer to a local server named `test`.","body":"Nowhere in the question does the OP say <code>https:&#47;&#47;test&#47;</code> is an invalid case. <code>https:&#47;&#47;test&#47;</code> is also a valid URL elsewhere as <code>test</code> would refer to a local server named <code>test</code>."},{"owner":{"account_id":5321138,"reputation":1209,"user_id":4244550,"display_name":"advay rajhansa"},"score":1,"creation_date":1666324603,"post_id":74148563,"comment_id":130914867,"body_markdown":"The question is clearly about domain validation and as per `https://datatracker.ietf.org/doc/html/rfc1034`, `test` is NOT a valid domain.","body":"The question is clearly about domain validation and as per <code>https:&#47;&#47;datatracker.ietf.org&#47;doc&#47;html&#47;rfc1034</code>, <code>test</code> is NOT a valid domain."},{"owner":{"account_id":9279256,"reputation":95395,"user_id":6890912,"display_name":"blhsing"},"score":1,"creation_date":1666329724,"post_id":74148563,"comment_id":130915624,"body_markdown":"That is *your* interpretation. The only one thing that is &quot;clear&quot; in the question is that the OP wants to test if the URL contains a `/` in the path. Everything else is inferred. The fact that `https://test` is one of the sample test cases in the OP&#39;s question means to me that the OP recognizes `test` as a valid host, but just needs a slash to make it valid per the OP&#39;s requirement.","body":"That is <i>your</i> interpretation. The only one thing that is &quot;clear&quot; in the question is that the OP wants to test if the URL contains a <code>&#47;</code> in the path. Everything else is inferred. The fact that <code>https:&#47;&#47;test</code> is one of the sample test cases in the OP&#39;s question means to me that the OP recognizes <code>test</code> as a valid host, but just needs a slash to make it valid per the OP&#39;s requirement."},{"owner":{"account_id":9279256,"reputation":95395,"user_id":6890912,"display_name":"blhsing"},"score":0,"creation_date":1666329906,"post_id":74148563,"comment_id":130915657,"body_markdown":"Also, RFC-1034 is about the definition of a *domain name* while the question is specially about *URL* validation with a special requirement that the path portion needs to contain a slash. Big difference there.","body":"Also, RFC-1034 is about the definition of a <i>domain name</i> while the question is specially about <i>URL</i> validation with a special requirement that the path portion needs to contain a slash. Big difference there."},{"owner":{"account_id":4797801,"reputation":41,"user_id":3875210,"display_name":"kenzouji"},"score":1,"creation_date":1666339531,"post_id":74148563,"comment_id":130918171,"body_markdown":"thank you. it helps me resolve. yes as advay mention, it also require a domain check. but I manage to resolve domain issue. thank you all","body":"thank you. it helps me resolve. yes as advay mention, it also require a domain check. but I manage to resolve domain issue. thank you all"}],"tags":[],"owner":{"account_id":9279256,"reputation":95395,"user_id":6890912,"display_name":"blhsing"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1666323809,"creation_date":1666323809,"answer_id":74148563,"question_id":74148519,"body_markdown":"You can match an additional slash after the protocol and a wild card:\r\n\r\n    ^https?://.*/\r\n\r\nDemo: https://regex101.com/r/9KGMGO/1","title":"Regex to check URL domain ended with forwad slash","body":"<p>You can match an additional slash after the protocol and a wild card:</p>\n<pre><code>^https?://.*/\n</code></pre>\n<p>Demo: <a href=\"https://regex101.com/r/9KGMGO/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/9KGMGO/1</a></p>\n"}],"owner":{"account_id":4797801,"reputation":41,"user_id":3875210,"display_name":"kenzouji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74148563,"answer_count":1,"score":-1,"last_activity_date":1666323900,"creation_date":1666323315,"question_id":74148519,"body_markdown":"I am really new to regex. I try to search and also try some similar solution in every stackoverflow but no luck to find the solution that I really need. I need help to check the URL that needs contain at least one forward slash (&#39;/&#39;) in addition to the protocol part (e.g. &#39;https://&#39;) of the url. Meaning it needs to be a forward slash after the domain part of the URL prefix.\r\n\r\nfor example:\r\n\r\n - https://someurl.com/ &lt;- valid \r\n - http://www.url.gg/ &lt;- valid    \r\n - http://sample.com/some-api/edit &lt;- valid\r\n - https://test &lt;- not valid \r\n - https://www.test.com &lt;- not valid\r\n\r\nThanks in advance\r\n\r\n","title":"Regex to check URL domain ended with forwad slash","body":"<p>I am really new to regex. I try to search and also try some similar solution in every stackoverflow but no luck to find the solution that I really need. I need help to check the URL that needs contain at least one forward slash ('/') in addition to the protocol part (e.g. 'https://') of the url. Meaning it needs to be a forward slash after the domain part of the URL prefix.</p>\n<p>for example:</p>\n<ul>\n<li><a href=\"https://someurl.com/\" rel=\"nofollow noreferrer\">https://someurl.com/</a> &lt;- valid</li>\n<li><a href=\"http://www.url.gg/\" rel=\"nofollow noreferrer\">http://www.url.gg/</a> &lt;- valid</li>\n<li><a href=\"http://sample.com/some-api/edit\" rel=\"nofollow noreferrer\">http://sample.com/some-api/edit</a> &lt;- valid</li>\n<li>https://test &lt;- not valid</li>\n<li><a href=\"https://www.test.com\" rel=\"nofollow noreferrer\">https://www.test.com</a> &lt;- not valid</li>\n</ul>\n<p>Thanks in advance</p>\n"},{"tags":["java","json","arraylist","hashmap"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1666322545,"post_id":74148358,"comment_id":130914623,"body_markdown":"share the code that overwrites values for same key","body":"share the code that overwrites values for same key"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1666322757,"post_id":74148358,"comment_id":130914649,"body_markdown":"The key/value mappings will overwrite, if you give a new key/value with the same key, within a Map.  That&#39;s just how they work.  But adding those maps to a list should be independent of that.","body":"The key/value mappings will overwrite, if you give a new key/value with the same key, within a Map.  That&#39;s just how they work.  But adding those maps to a list should be independent of that."},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1666323556,"post_id":74148358,"comment_id":130914729,"body_markdown":"this is because you have the object created before the loop","body":"this is because you have the object created before the loop"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666323803,"creation_date":1666323462,"answer_id":74148529,"question_id":74148358,"body_markdown":"*You can update your code like this:*\r\n\r\n**Here,**\r\n\r\nYou need to create a new Map for each resultSet inside the loop and then add it to the list. *(And as you are creating map outside the loop which is creating a problem.)*\r\n\r\n    List&lt;Map&lt;String,String&gt;&gt; firstNamesLastNamesList = new ArrayList&lt;&gt;();\r\n    \r\n            while(resultSet.next()){\r\n                Map&lt;String,String&gt; names = new HashMap&lt;&gt;();\r\n                names.put(&quot;firstName&quot;, resultSet.getString(&quot;firstName&quot;));\r\n                names.put(&quot;lastName&quot;, resultSet.getString(&quot;lastName&quot;));\r\n                firstNamesLastNamesList.add(names);\r\n            }","title":"How can I add the same key to an ArrayList of Maps&lt;String, String&gt;","body":"<p><em>You can update your code like this:</em></p>\n<p><strong>Here,</strong></p>\n<p>You need to create a new Map for each resultSet inside the loop and then add it to the list. <em>(And as you are creating map outside the loop which is creating a problem.)</em></p>\n<pre><code>List&lt;Map&lt;String,String&gt;&gt; firstNamesLastNamesList = new ArrayList&lt;&gt;();\n\n        while(resultSet.next()){\n            Map&lt;String,String&gt; names = new HashMap&lt;&gt;();\n            names.put(&quot;firstName&quot;, resultSet.getString(&quot;firstName&quot;));\n            names.put(&quot;lastName&quot;, resultSet.getString(&quot;lastName&quot;));\n            firstNamesLastNamesList.add(names);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"score":0,"creation_date":1666324053,"post_id":74148564,"comment_id":130914796,"body_markdown":"right but wouldn&#39;t that be a lot of overhead? Each time creating a new object?","body":"right but wouldn&#39;t that be a lot of overhead? Each time creating a new object?"},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1666408524,"post_id":74148564,"comment_id":130936192,"body_markdown":"@questionsneedanswers there is possibly a more elegant solution, possibly by using the stream() functionality that arrays have. I&#39;d look into that but really you need to have some point in memory for each map","body":"@questionsneedanswers there is possibly a more elegant solution, possibly by using the stream() functionality that arrays have. I&#39;d look into that but really you need to have some point in memory for each map"}],"tags":[],"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666323822,"creation_date":1666323822,"answer_id":74148564,"question_id":74148358,"body_markdown":"Your code is doing what is expected. \r\nthe object that you are creating is before the loop\r\n\r\n    Map&lt;String,String&gt; names = new HashMap&lt;&gt;();\r\n\r\nwhen you create this object you are saying make a new object called names at memory address 0x84927 - some random address.\r\n\r\nthen you are adding a reference to that object at index i for each item in the list. when you change the object names the list will look for memory address 0x84927 for each index in the firstNamesLastNamesList.\r\n\r\nyou need to put that piece of code in the while loop","title":"How can I add the same key to an ArrayList of Maps&lt;String, String&gt;","body":"<p>Your code is doing what is expected.\nthe object that you are creating is before the loop</p>\n<pre><code>Map&lt;String,String&gt; names = new HashMap&lt;&gt;();\n</code></pre>\n<p>when you create this object you are saying make a new object called names at memory address 0x84927 - some random address.</p>\n<p>then you are adding a reference to that object at index i for each item in the list. when you change the object names the list will look for memory address 0x84927 for each index in the firstNamesLastNamesList.</p>\n<p>you need to put that piece of code in the while loop</p>\n"}],"owner":{"account_id":24245205,"reputation":41,"user_id":18197048,"display_name":"questionsneedanswers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74148564,"answer_count":2,"score":0,"last_activity_date":1666323822,"creation_date":1666321637,"question_id":74148358,"body_markdown":"Is there anyway to have a map defined as Map&lt;String, String&gt; that can be added to an array list defined as List&lt;Map&lt;String, String&gt; that has the same key? Ideally we would have an arraylist of maps \r\n```\r\n[{firstName=john}, {firstName=Kelly}, {firstName=Jack}]\r\n```\r\n\r\nThe reason I need the same key is for react.js ui I will need to map over these items and I need to have the same key in each object so I can call \r\n\r\n```\r\nList.map(key, index) = &gt; key.firstName\r\n```\r\nTo build the ui component.  Is this possible?\r\n\r\n```\r\nMap&lt;String,String&gt; names = new HashMap&lt;&gt;();\r\n\r\nList&lt;Map&lt;String,String&gt; firstNamesLastNamesList = new ArrayList&lt;&gt;();\r\n\r\nwhile(resultSet.next()){\r\nnames.put(&quot;firstName&quot;, resultSet.getString(&quot;firstName&quot;);\r\nnames.put(&quot;lastName&quot;, resultSet.getString(&quot;lastName&quot;);\r\nfirstNamesLastNamesList.add(names); \r\n}\r\n```\r\n\r\nThe values to populate each map will come from a database.  Currently when I add each object to the List of maps as you might imagine, the previous map is overwritten due to the same key of firstName.  I am left with a List like \r\n[{firstName=Jack, lastName=Hammer}, {firstName=Jack, lastName=Hammer}, {firstName=Jack, lastName=Hammer}] not [{firstName=John, lastName=Carpenter}, {firstName=Kelly, lastName=Johnson}, {firstName=Jack, lastName=Black}] which is the desired out put.  Any help would be greatly appreciated.","title":"How can I add the same key to an ArrayList of Maps&lt;String, String&gt;","body":"<p>Is there anyway to have a map defined as Map&lt;String, String&gt; that can be added to an array list defined as List&lt;Map&lt;String, String&gt; that has the same key? Ideally we would have an arraylist of maps</p>\n<pre><code>[{firstName=john}, {firstName=Kelly}, {firstName=Jack}]\n</code></pre>\n<p>The reason I need the same key is for react.js ui I will need to map over these items and I need to have the same key in each object so I can call</p>\n<pre><code>List.map(key, index) = &gt; key.firstName\n</code></pre>\n<p>To build the ui component.  Is this possible?</p>\n<pre><code>Map&lt;String,String&gt; names = new HashMap&lt;&gt;();\n\nList&lt;Map&lt;String,String&gt; firstNamesLastNamesList = new ArrayList&lt;&gt;();\n\nwhile(resultSet.next()){\nnames.put(&quot;firstName&quot;, resultSet.getString(&quot;firstName&quot;);\nnames.put(&quot;lastName&quot;, resultSet.getString(&quot;lastName&quot;);\nfirstNamesLastNamesList.add(names); \n}\n</code></pre>\n<p>The values to populate each map will come from a database.  Currently when I add each object to the List of maps as you might imagine, the previous map is overwritten due to the same key of firstName.  I am left with a List like\n[{firstName=Jack, lastName=Hammer}, {firstName=Jack, lastName=Hammer}, {firstName=Jack, lastName=Hammer}] not [{firstName=John, lastName=Carpenter}, {firstName=Kelly, lastName=Johnson}, {firstName=Jack, lastName=Black}] which is the desired out put.  Any help would be greatly appreciated.</p>\n"},{"tags":["java","android","runtime-error","mapmyindia-api"],"answers":[{"comments":[{"owner":{"account_id":19089752,"reputation":167,"user_id":13940268,"display_name":"Mohanasundar"},"score":1,"creation_date":1666326409,"post_id":74148475,"comment_id":130915115,"body_markdown":"Thanks buddy working can you please explain why this error thrown because I know that in release build the code is obfuscated that&#39;s why we using this ProGuard rule but app working correctly in release build when directly installed from android studio even I build has .aab and installed its working correctly but if I install it from play store only the app crashes .","body":"Thanks buddy working can you please explain why this error thrown because I know that in release build the code is obfuscated that&#39;s why we using this ProGuard rule but app working correctly in release build when directly installed from android studio even I build has .aab and installed its working correctly but if I install it from play store only the app crashes ."},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666338909,"post_id":74148475,"comment_id":130917958,"body_markdown":"It&#39;s okay not to obfuscate SDK codes since it is useless to reverse engineer them.","body":"It&#39;s okay not to obfuscate SDK codes since it is useless to reverse engineer them."}],"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666322823,"creation_date":1666322823,"answer_id":74148475,"question_id":74148284,"body_markdown":"Add your package as an exception in your ProGuard.\r\n\r\n```\r\n-keep class com.mappls.sdk.maps.** { *; }\r\n```","title":"App crash after uploaded to play store , working correctly when installed from android studio","body":"<p>Add your package as an exception in your ProGuard.</p>\n<pre><code>-keep class com.mappls.sdk.maps.** { *; }\n</code></pre>\n"}],"owner":{"account_id":19089752,"reputation":167,"user_id":13940268,"display_name":"Mohanasundar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74148475,"answer_count":1,"score":0,"last_activity_date":1666322823,"creation_date":1666320774,"question_id":74148284,"body_markdown":"Android app works perfectly on debug build and release build when directly installed from android studio but app crashes when install it from play store with this error:\r\n```\r\nFatal Exception: java.lang.NullPointerException\r\n       at java.io.File.&lt;init&gt;(File.java:363)\r\n       at com.mappls.sdk.maps.MapplsStylesHelper.downloadImage(MapplsStylesHelper.java:12)\r\n       at com.mappls.sdk.maps.MapplsStylesHelper.getLogos(MapplsStylesHelper.java:28)\r\n       at com.mappls.sdk.maps.MapplsStylesHelper.initStyles(MapplsStylesHelper.java:94)\r\n       at com.mappls.sdk.maps.MapplsStylesHelper.access$300(MapplsStylesHelper.java)\r\n       at com.mappls.sdk.maps.MapplsStylesHelper$3.onResponse(MapplsStylesHelper.java:6)\r\n       at retrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1$$ExternalSyntheticLambda1.run(R8$$SyntheticClass:29)\r\n       at android.os.Handler.handleCallback(Handler.java:938)\r\n       at android.os.Handler.dispatchMessage(Handler.java:99)\r\n       at android.os.Looper.loop(Looper.java:236)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7864)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:620)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1011)\r\n\r\n```","title":"App crash after uploaded to play store , working correctly when installed from android studio","body":"<p>Android app works perfectly on debug build and release build when directly installed from android studio but app crashes when install it from play store with this error:</p>\n<pre><code>Fatal Exception: java.lang.NullPointerException\n       at java.io.File.&lt;init&gt;(File.java:363)\n       at com.mappls.sdk.maps.MapplsStylesHelper.downloadImage(MapplsStylesHelper.java:12)\n       at com.mappls.sdk.maps.MapplsStylesHelper.getLogos(MapplsStylesHelper.java:28)\n       at com.mappls.sdk.maps.MapplsStylesHelper.initStyles(MapplsStylesHelper.java:94)\n       at com.mappls.sdk.maps.MapplsStylesHelper.access$300(MapplsStylesHelper.java)\n       at com.mappls.sdk.maps.MapplsStylesHelper$3.onResponse(MapplsStylesHelper.java:6)\n       at retrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1$$ExternalSyntheticLambda1.run(R8$$SyntheticClass:29)\n       at android.os.Handler.handleCallback(Handler.java:938)\n       at android.os.Handler.dispatchMessage(Handler.java:99)\n       at android.os.Looper.loop(Looper.java:236)\n       at android.app.ActivityThread.main(ActivityThread.java:7864)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:620)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1011)\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc","jpa"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1522508739,"post_id":49589132,"comment_id":86185989,"body_markdown":"add the source code of `FoodServiceImpl`","body":"add the source code of <code>FoodServiceImpl</code>"},{"owner":{"account_id":9116302,"reputation":41,"user_id":6783340,"display_name":"Sarabjeet singh"},"score":0,"creation_date":1522508942,"post_id":49589132,"comment_id":86186056,"body_markdown":"@lucumt code updated","body":"@lucumt code updated"}],"answers":[{"comments":[{"owner":{"account_id":9116302,"reputation":41,"user_id":6783340,"display_name":"Sarabjeet singh"},"score":0,"creation_date":1522509744,"post_id":49589286,"comment_id":86186294,"body_markdown":"I&#39;ve checked it multiple times and it is present in the output folder.","body":"I&#39;ve checked it multiple times and it is present in the output folder."},{"owner":{"account_id":393510,"reputation":3285,"user_id":755401,"accept_rate":82,"display_name":"arthur"},"score":0,"creation_date":1522509909,"post_id":49589286,"comment_id":86186352,"body_markdown":"which IDE are you using please (eclipse, netbeans, IntelliJ) ?","body":"which IDE are you using please (eclipse, netbeans, IntelliJ) ?"},{"owner":{"account_id":9116302,"reputation":41,"user_id":6783340,"display_name":"Sarabjeet singh"},"score":0,"creation_date":1522512845,"post_id":49589286,"comment_id":86187393,"body_markdown":"I&#39;m using IntelliJ Idea","body":"I&#39;m using IntelliJ Idea"}],"tags":[],"owner":{"account_id":393510,"reputation":3285,"user_id":755401,"accept_rate":82,"display_name":"arthur"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522509492,"creation_date":1522509492,"answer_id":49589286,"question_id":49589132,"body_markdown":"&gt; org.springframework.beans.factory.CannotLoadBeanClassException: Cannot\r\n&gt; find class [food.bill.dao.FoodDaoImpl] for bean with name &#39;foodDAO&#39;\r\n&gt; defined in ServletContext resource [/WEB-INF/applicationContext.xml];\r\n&gt; nested exception is java.lang.ClassNotFoundException:\r\n&gt; food.bill.dao.FoodDaoImpl\r\n\r\nsimply means that Spring is trying to *find* the `.class` file for the class   `food.bill.dao.FoodDaoImpl` in your defined classpath and does not find it.\r\n\r\nSo please first check if `food.bill.dao.FoodDaoImpl` file is really compiled as .class file and where it is laid in your output file directory.\r\n\r\n","title":"Cannot find class [food.bill.dao.FoodDaoImpl] for bean with name &#39;foodDAO&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml];","body":"<blockquote>\n  <p>org.springframework.beans.factory.CannotLoadBeanClassException: Cannot\n  find class [food.bill.dao.FoodDaoImpl] for bean with name 'foodDAO'\n  defined in ServletContext resource [/WEB-INF/applicationContext.xml];\n  nested exception is java.lang.ClassNotFoundException:\n  food.bill.dao.FoodDaoImpl</p>\n</blockquote>\n\n<p>simply means that Spring is trying to <em>find</em> the <code>.class</code> file for the class   <code>food.bill.dao.FoodDaoImpl</code> in your defined classpath and does not find it.</p>\n\n<p>So please first check if <code>food.bill.dao.FoodDaoImpl</code> file is really compiled as .class file and where it is laid in your output file directory.</p>\n"},{"tags":[],"owner":{"account_id":7131620,"reputation":137,"user_id":5452636,"accept_rate":43,"display_name":"user101"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522588229,"creation_date":1522588229,"answer_id":49598431,"question_id":49589132,"body_markdown":"Couple of things to double check\r\n\r\n1. If you are using Maven or any other build tool try &quot;Maven clean&quot; and check whether its deleting the foodDao.class file or not. If it does then do Maven build after the clean and see whether it fixes the issue or not.\r\n\r\n2. If step 1 did not fix the issue try putting the bean definition of foodDAO after the bean definition of foodService in the context.xml (just a thought)\r\n\r\nLet me know if the issue still exists.","title":"Cannot find class [food.bill.dao.FoodDaoImpl] for bean with name &#39;foodDAO&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml];","body":"<p>Couple of things to double check</p>\n\n<ol>\n<li><p>If you are using Maven or any other build tool try \"Maven clean\" and check whether its deleting the foodDao.class file or not. If it does then do Maven build after the clean and see whether it fixes the issue or not.</p></li>\n<li><p>If step 1 did not fix the issue try putting the bean definition of foodDAO after the bean definition of foodService in the context.xml (just a thought)</p></li>\n</ol>\n\n<p>Let me know if the issue still exists.</p>\n"},{"tags":[],"owner":{"account_id":23428548,"reputation":129,"user_id":17487723,"display_name":"Syed Aaqib Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641981839,"creation_date":1640672320,"answer_id":70503423,"question_id":49589132,"body_markdown":"This seems to be a *bug within Maven*. I also faced the issus many times. Even when the class is present but is not detected as per error, doing the following worked for me.\r\n\r\n**Solution I: Deleting the Java file class from the source package.**\r\n\r\n 1. Create the backup of the code and delete the Java file from the source package.\r\n 2. Add the file back to the source package by creating the new file with the same \r\n    Java Class code that you faced error for.\r\n\r\n**Solution II: Move the Java file class from one source package to other.**\r\n 1. Move the Java file class from one source package to other.\r\n 2. Then  put the Java file class back to its original package.\r\n\r\nI hope either of the soluton will be helpful. \r\n","title":"Cannot find class [food.bill.dao.FoodDaoImpl] for bean with name &#39;foodDAO&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml];","body":"<p>This seems to be a <em>bug within Maven</em>. I also faced the issus many times. Even when the class is present but is not detected as per error, doing the following worked for me.</p>\n<p><strong>Solution I: Deleting the Java file class from the source package.</strong></p>\n<ol>\n<li>Create the backup of the code and delete the Java file from the source package.</li>\n<li>Add the file back to the source package by creating the new file with the same\nJava Class code that you faced error for.</li>\n</ol>\n<p><strong>Solution II: Move the Java file class from one source package to other.</strong></p>\n<ol>\n<li>Move the Java file class from one source package to other.</li>\n<li>Then  put the Java file class back to its original package.</li>\n</ol>\n<p>I hope either of the soluton will be helpful.</p>\n"},{"tags":[],"owner":{"account_id":6828535,"reputation":72,"user_id":5253449,"display_name":"dennis_chen_canada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666321030,"creation_date":1666321030,"answer_id":74148303,"question_id":49589132,"body_markdown":"My experience is:\r\n- My Eclipse project is running OK all the time\r\n- Sometimes, it will gie me the same error message\r\n- All I did is to delete all files in &quot;target&quot;, then re-compile again. It will work.","title":"Cannot find class [food.bill.dao.FoodDaoImpl] for bean with name &#39;foodDAO&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml];","body":"<p>My experience is:</p>\n<ul>\n<li>My Eclipse project is running OK all the time</li>\n<li>Sometimes, it will gie me the same error message</li>\n<li>All I did is to delete all files in &quot;target&quot;, then re-compile again. It will work.</li>\n</ul>\n"}],"owner":{"account_id":9116302,"reputation":41,"user_id":6783340,"display_name":"Sarabjeet singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1666321030,"creation_date":1522508579,"question_id":49589132,"body_markdown":"I&#39;m learning Spring and got stuck in an error. Spring is unable to find the defined class in the beans:\r\n\r\n    31-Mar-2018 20:12:44.049 SEVERE [RMI TCP Connection(3)-127.0.0.1] \r\n    org.springframework.web.context.ContextLoader.initWebApplicationContext \r\n    Context initialization failed\r\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [food.bill.dao.FoodDaoImpl] for bean with name &#39;foodDAO&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]; nested exception is java.lang.ClassNotFoundException: food.bill.dao.FoodDaoImpl\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1385)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:641)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:609)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1484)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1007)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:741)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4753)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5215)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:482)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: food.bill.dao.FoodDaoImpl\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1291)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:250)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:401)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1432)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1377)\r\n\t... 55 more\r\n\r\nHere is my applicationContext.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n    \r\n        &lt;bean id=&quot;foodDAO&quot; class=&quot;food.bill.dao.FoodDaoImpl&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;foodService&quot; class=&quot;food.bill.service.FoodServiceImpl&quot;&gt;\r\n            &lt;property name=&quot;foodDao&quot; ref=&quot;foodDAO&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nFoodDaoImpl:\r\n\r\n    package food.bill.dao;\r\n    \r\n    import food.bill.model.FoodItem;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class FoodDaoImpl implements FoodDao {\r\n    \r\n        private static final Logger log = LogManager.getLogger(FoodDaoImpl.class);\r\n        @PersistenceContext\r\n        EntityManager em;\r\n    \r\n        public List&lt;FoodItem&gt; getMenu() {\r\n            List&lt;FoodItem&gt; foodMenu = null;\r\n            try {\r\n                Query query = em.createNamedQuery(&quot;FoodItem.getMenu&quot;);\r\n                     foodMenu = (List&lt;FoodItem&gt;) query.getResultList();\r\n                return foodMenu;\r\n            }catch (Exception e){\r\n                log.info(&quot;Error in getting Menu&quot;);\r\n            }\r\n            return foodMenu;\r\n        }\r\n    \r\n    \r\n        public void createOrder() {\r\n    \r\n        }\r\n    }\r\n\r\nFoodServiceImpl:\r\n\r\n    package food.bill.service;\r\n    \r\n    import food.bill.dao.FoodDao;\r\n    import food.bill.model.FoodItem;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class FoodServiceImpl implements FoodService {\r\n    \r\n       private FoodDao foodDao;\r\n    \r\n        public void setFoodDao(FoodDao foodDao) {\r\n            this.foodDao = foodDao;\r\n        }\r\n    \r\n        public List&lt;FoodItem&gt; getMenu() {\r\n            return this.foodDao.getMenu();\r\n        }\r\n    }\r\n\r\nI&#39;ve check the output folders and all the files are updated. Tried searching for hours but didn&#39;t get any result. Any help would be appreciated. Thanks in advance.\r\n","title":"Cannot find class [food.bill.dao.FoodDaoImpl] for bean with name &#39;foodDAO&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml];","body":"<p>I'm learning Spring and got stuck in an error. Spring is unable to find the defined class in the beans:</p>\n\n<pre><code>31-Mar-2018 20:12:44.049 SEVERE [RMI TCP Connection(3)-127.0.0.1] \norg.springframework.web.context.ContextLoader.initWebApplicationContext \nContext initialization failed\norg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [food.bill.dao.FoodDaoImpl] for bean with name 'foodDAO' defined in ServletContext resource [/WEB-INF/applicationContext.xml]; nested exception is java.lang.ClassNotFoundException: food.bill.dao.FoodDaoImpl\nat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1385)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:641)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:609)\nat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1484)\nat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1007)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:741)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4753)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5215)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\nat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:482)\nat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:431)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\nat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\nat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\nat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\nat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)\nat sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: food.bill.dao.FoodDaoImpl\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1291)\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\nat org.springframework.util.ClassUtils.forName(ClassUtils.java:250)\nat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:401)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1432)\nat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1377)\n... 55 more\n</code></pre>\n\n<p>Here is my applicationContext.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xmlns=\"http://www.springframework.org/schema/beans\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd   http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\"&gt;\n\n    &lt;bean id=\"foodDAO\" class=\"food.bill.dao.FoodDaoImpl\"/&gt;\n\n    &lt;bean id=\"foodService\" class=\"food.bill.service.FoodServiceImpl\"&gt;\n        &lt;property name=\"foodDao\" ref=\"foodDAO\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>FoodDaoImpl:</p>\n\n<pre><code>package food.bill.dao;\n\nimport food.bill.model.FoodItem;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.stereotype.Component;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.Query;\nimport java.util.List;\n\n\npublic class FoodDaoImpl implements FoodDao {\n\n    private static final Logger log = LogManager.getLogger(FoodDaoImpl.class);\n    @PersistenceContext\n    EntityManager em;\n\n    public List&lt;FoodItem&gt; getMenu() {\n        List&lt;FoodItem&gt; foodMenu = null;\n        try {\n            Query query = em.createNamedQuery(\"FoodItem.getMenu\");\n                 foodMenu = (List&lt;FoodItem&gt;) query.getResultList();\n            return foodMenu;\n        }catch (Exception e){\n            log.info(\"Error in getting Menu\");\n        }\n        return foodMenu;\n    }\n\n\n    public void createOrder() {\n\n    }\n}\n</code></pre>\n\n<p>FoodServiceImpl:</p>\n\n<pre><code>package food.bill.service;\n\nimport food.bill.dao.FoodDao;\nimport food.bill.model.FoodItem;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class FoodServiceImpl implements FoodService {\n\n   private FoodDao foodDao;\n\n    public void setFoodDao(FoodDao foodDao) {\n        this.foodDao = foodDao;\n    }\n\n    public List&lt;FoodItem&gt; getMenu() {\n        return this.foodDao.getMenu();\n    }\n}\n</code></pre>\n\n<p>I've check the output folders and all the files are updated. Tried searching for hours but didn't get any result. Any help would be appreciated. Thanks in advance.</p>\n"},{"tags":["java","android","android-studio","android-service","android-mediaplayer"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1626733603,"creation_date":1626733603,"answer_id":68447648,"question_id":68447495,"body_markdown":"On Android 8.0 and higher devices, you need to have this be [a foreground service](https://developer.android.com/guide/components/foreground-services), with an associated `Notification`. Otherwise, your service will be stopped after a minute. ","title":"Android MediaPlayer stops after playing 1 minute in background","body":"<p>On Android 8.0 and higher devices, you need to have this be <a href=\"https://developer.android.com/guide/components/foreground-services\" rel=\"nofollow noreferrer\">a foreground service</a>, with an associated <code>Notification</code>. Otherwise, your service will be stopped after a minute.</p>\n"},{"tags":[],"owner":{"account_id":25431383,"reputation":1,"user_id":19235731,"display_name":"Yor PG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666320801,"creation_date":1666320723,"answer_id":74148278,"question_id":68447495,"body_markdown":"Is correct! on Android 8.0 and higher devices must have a foreground service with a notification. I had the same problem and it was solved this way.\r\n\r\n \r\n\r\n    @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n        createNotificationChanel();\r\n    \r\n                Intent intent1 = new Intent(this, MainActivity.class);\r\n                PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,intent1,PendingIntent.FLAG_IMMUTABLE);\r\n    \r\n    \r\n            Notification notification = new NotificationCompat.Builder(this,&quot;chanelId1&quot; )\r\n                    .setContentTitle(&quot;Neville&quot;)\r\n                    .setContentText(&quot;Esto es un texto&quot;)\r\n                    .setSmallIcon(R.drawable.ic_item)\r\n                    .setContentIntent(pendingIntent)\r\n                    .build();\r\n    //.......\r\n    \r\n        return START_STICKY;\r\n        }\r\n    \r\n        private void createNotificationChanel(){\r\n                //Chequeando si la versi&#243;n de Adroid es Oreo o superior:\r\n        \r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\r\n        \r\n                    NotificationChannel notificationChannel = new NotificationChannel(&quot;chanelId1&quot;,&quot;Foreground Notification&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n        \r\n                    NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n        \r\n                    notificationManager.createNotificationChannel(notificationChannel);\r\n        \r\n                }\r\n\r\n\r\n","title":"Android MediaPlayer stops after playing 1 minute in background","body":"<p>Is correct! on Android 8.0 and higher devices must have a foreground service with a notification. I had the same problem and it was solved this way.</p>\n<pre><code>@Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n    createNotificationChanel();\n\n            Intent intent1 = new Intent(this, MainActivity.class);\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0,intent1,PendingIntent.FLAG_IMMUTABLE);\n\n\n        Notification notification = new NotificationCompat.Builder(this,&quot;chanelId1&quot; )\n                .setContentTitle(&quot;Neville&quot;)\n                .setContentText(&quot;Esto es un texto&quot;)\n                .setSmallIcon(R.drawable.ic_item)\n                .setContentIntent(pendingIntent)\n                .build();\n//.......\n\n    return START_STICKY;\n    }\n\n    private void createNotificationChanel(){\n            //Chequeando si la versión de Adroid es Oreo o superior:\n    \n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n    \n                NotificationChannel notificationChannel = new NotificationChannel(&quot;chanelId1&quot;,&quot;Foreground Notification&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n    \n                NotificationManager notificationManager = getSystemService(NotificationManager.class);\n    \n                notificationManager.createNotificationChannel(notificationChannel);\n    \n            }\n</code></pre>\n"}],"owner":{"account_id":20960274,"reputation":78,"user_id":15399866,"display_name":"Ashishthehulk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68447648,"answer_count":2,"score":1,"last_activity_date":1666320801,"creation_date":1626732293,"question_id":68447495,"body_markdown":"I am playing an audio stream from mediaPlayer using a service but it stops playing the song after approx one minute of being in the background or the screen turned off. While on the other hand it works fine and completes the song when the appication is kept open.\r\n\r\n    public class MyService extends Service implements MediaPlayer.OnPreparedListener {\r\n        MediaPlayer mediaPlayer = null;\r\n        String audio_stream;\r\n        Context context;\r\n    \r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            audio_stream = intent.getStringExtra(&quot;url&quot;);\r\n            mediaPlayer = new MediaPlayer();\r\n    \r\n            try {\r\n                mediaPlayer.setDataSource(audio_stream);\r\n            } catch (IOException e) {\r\n                //e.printStackTrace();\r\n            }\r\n            mediaPlayer.prepareAsync();\r\n            mediaPlayer.setOnPreparedListener(this);\r\n    \r\n            mediaPlayer.setOnErrorListener(new MediaPlayer.OnErrorListener() {\r\n                @Override\r\n                public boolean onError(MediaPlayer mp, int what, int extra) {\r\n    \r\n                    return false;\r\n                }\r\n            });\r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onPrepared(MediaPlayer mp) {\r\n            Log.d(&quot;Channel&quot;, audio_stream+&quot;he&quot;);\r\n            mp.start();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            if (mediaPlayer != null) {\r\n                if (mediaPlayer.isPlaying()) {\r\n                    mediaPlayer.stop();\r\n                }\r\n                mediaPlayer.reset();\r\n                mediaPlayer.release();\r\n                mediaPlayer = null;\r\n            }else{\r\n                Log.d(&quot;channel&quot;, &quot;this is the case&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onLowMemory() {\r\n            super.onLowMemory();\r\n            mediaPlayer.release();\r\n        }\r\n    }\r\n\r\n**Before MediaPlayer stops, it gives 4 lines in the log which are**\r\n\r\n    V/MediaPlayer: resetDrmState:  mDrmInfo=null mDrmProvisioningThread=null mPrepareDrmInProgress=false mActiveDrmScheme=false\r\n    V/MediaPlayer: cleanDrmObj: mDrmObj=null mDrmSessionId=null\r\n    V/MediaPlayer: resetDrmState:  mDrmInfo=null mDrmProvisioningThread=null mPrepareDrmInProgress=false mActiveDrmScheme=false\r\n    V/MediaPlayer: cleanDrmObj: mDrmObj=null mDrmSessionId=null\r\n\r\nI am unable to understand where the problem is exactly and how can I proceed to overcome it.\r\nThank you\r\n","title":"Android MediaPlayer stops after playing 1 minute in background","body":"<p>I am playing an audio stream from mediaPlayer using a service but it stops playing the song after approx one minute of being in the background or the screen turned off. While on the other hand it works fine and completes the song when the appication is kept open.</p>\n<pre><code>public class MyService extends Service implements MediaPlayer.OnPreparedListener {\n    MediaPlayer mediaPlayer = null;\n    String audio_stream;\n    Context context;\n\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        audio_stream = intent.getStringExtra(&quot;url&quot;);\n        mediaPlayer = new MediaPlayer();\n\n        try {\n            mediaPlayer.setDataSource(audio_stream);\n        } catch (IOException e) {\n            //e.printStackTrace();\n        }\n        mediaPlayer.prepareAsync();\n        mediaPlayer.setOnPreparedListener(this);\n\n        mediaPlayer.setOnErrorListener(new MediaPlayer.OnErrorListener() {\n            @Override\n            public boolean onError(MediaPlayer mp, int what, int extra) {\n\n                return false;\n            }\n        });\n        return START_STICKY;\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n\n\n    @Override\n    public void onPrepared(MediaPlayer mp) {\n        Log.d(&quot;Channel&quot;, audio_stream+&quot;he&quot;);\n        mp.start();\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        if (mediaPlayer != null) {\n            if (mediaPlayer.isPlaying()) {\n                mediaPlayer.stop();\n            }\n            mediaPlayer.reset();\n            mediaPlayer.release();\n            mediaPlayer = null;\n        }else{\n            Log.d(&quot;channel&quot;, &quot;this is the case&quot;);\n        }\n\n    }\n\n\n\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mediaPlayer.release();\n    }\n}\n</code></pre>\n<p><strong>Before MediaPlayer stops, it gives 4 lines in the log which are</strong></p>\n<pre><code>V/MediaPlayer: resetDrmState:  mDrmInfo=null mDrmProvisioningThread=null mPrepareDrmInProgress=false mActiveDrmScheme=false\nV/MediaPlayer: cleanDrmObj: mDrmObj=null mDrmSessionId=null\nV/MediaPlayer: resetDrmState:  mDrmInfo=null mDrmProvisioningThread=null mPrepareDrmInProgress=false mActiveDrmScheme=false\nV/MediaPlayer: cleanDrmObj: mDrmObj=null mDrmSessionId=null\n</code></pre>\n<p>I am unable to understand where the problem is exactly and how can I proceed to overcome it.\nThank you</p>\n"},{"tags":["java","jdbc","prepared-statement"],"answers":[{"comments":[{"owner":{"account_id":26676356,"reputation":1,"user_id":20287002,"display_name":"Sneax"},"score":0,"creation_date":1666242440,"post_id":74134648,"comment_id":130890447,"body_markdown":"Could you please explain it a bit more.","body":"Could you please explain it a bit more."}],"tags":[],"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666320719,"creation_date":1666241991,"answer_id":74134648,"question_id":74134612,"body_markdown":"You can do `List` of `HashMap`\r\n\r\nResult:\r\n```Java\r\nhashMap = \r\n[\r\n&#39;key1&#39; = {&#39;query&#39; = &#39;..queries&#39;,&#39;statement&#39; = &#39;...statements&#39;},\r\n&#39;key2&#39; = {&#39;query&#39; = &#39;..queries&#39;,&#39;statement&#39; = &#39;...statements&#39;}\r\n];\r\nhashmap.forEach(map-&gt; {\r\n    PreparedStatement stmt= con.prepareStatement(map.get(&quot;statement&quot;)));\r\n    Resultset rs = stmt.executeQuery(map.get(&quot;query&quot;));\r\n});\r\n```","title":"Modify queries to Prepared Statements and execute","body":"<p>You can do <code>List</code> of <code>HashMap</code></p>\n<p>Result:</p>\n<pre><code>hashMap = \n[\n'key1' = {'query' = '..queries','statement' = '...statements'},\n'key2' = {'query' = '..queries','statement' = '...statements'}\n];\nhashmap.forEach(map-&gt; {\n    PreparedStatement stmt= con.prepareStatement(map.get(&quot;statement&quot;)));\n    Resultset rs = stmt.executeQuery(map.get(&quot;query&quot;));\n});\n</code></pre>\n"}],"owner":{"account_id":26676356,"reputation":1,"user_id":20287002,"display_name":"Sneax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666320719,"creation_date":1666241723,"question_id":74134612,"body_markdown":"I have a legacy app which executes queries in the following way.Queries are formed by String concatenation and put into a Hashmap with a key.\r\n\r\n```hashMap = [key1=query1,key2=query2,...]```\r\n\r\n(Each query is different)\r\n\r\nThen the map is iterated for all the keys and query is executed with Statement and the result set is put in a map and returned. \r\n\r\n\r\n```\r\nwhile(keys.hasnext()){\r\nkey=keys.next();\r\nquery = hashMap.get(key).toString();\r\nStatement stmt = conn.createStatement();\r\nResultset rs = stmt.executeQuery(query);\r\n}\r\n```\r\n\r\nI want to change these as prepared statements.But I&#39;m not able to come up with a way to pass parameters for each query since each query is different and set it here with setString or setInt. Any ideas? ","title":"Modify queries to Prepared Statements and execute","body":"<p>I have a legacy app which executes queries in the following way.Queries are formed by String concatenation and put into a Hashmap with a key.</p>\n<p><code>hashMap = [key1=query1,key2=query2,...]</code></p>\n<p>(Each query is different)</p>\n<p>Then the map is iterated for all the keys and query is executed with Statement and the result set is put in a map and returned.</p>\n<pre><code>while(keys.hasnext()){\nkey=keys.next();\nquery = hashMap.get(key).toString();\nStatement stmt = conn.createStatement();\nResultset rs = stmt.executeQuery(query);\n}\n</code></pre>\n<p>I want to change these as prepared statements.But I'm not able to come up with a way to pass parameters for each query since each query is different and set it here with setString or setInt. Any ideas?</p>\n"},{"tags":["java","spring-boot","open-telemetry","jaeger"],"owner":{"account_id":17233715,"reputation":195,"user_id":12477643,"display_name":"askwer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666319332,"creation_date":1666319332,"question_id":74148163,"body_markdown":"I made a spring boot app and used Jaeger and otel to trace it, I used this [guide](https://betterprogramming.pub/distributed-tracing-with-opentelemetry-spring-cloud-sleuth-kafka-and-jaeger-939e35f45821) as a reference, only using jaeger-all-in-one and otel-collector in the docker compose and running the java application separately.\r\n\r\nI extracted the IP address from the otel collector container and used the following in application.properties\r\n```\r\nspring.sleuth.otel.exporter.otlp.endpoint=http://OTEL_ADDRESS_FROM_DOCKER:4317\r\n```\r\n\r\nIt is working and I can see traces in the jaeger ui page.\r\n\r\nThen trying out SPM of jaeger and used [this](https://github.com/jaegertracing/jaeger/tree/main/docker-compose/monitor) as a guide.\r\n\r\nRemoving the microsim entry in the docker compose and running it, extracting the otel-collector IP since it&#39;s a new container and running the java application again, I am getting this error instead:\r\n```\r\nFailed to export spans. The request could not be executed. Full error message: Failed to connect to /OTEL_ADDRESS_FROM_DOCKER:4317\r\n```\r\n\r\n\r\nThe difference from the two docker compose is the one from monitoring demo uses opentelemetry-collector-contrib because it uses a custom config file for metrics.","title":"Failed to export spans when using opentelemetry-collector-contrib","body":"<p>I made a spring boot app and used Jaeger and otel to trace it, I used this <a href=\"https://betterprogramming.pub/distributed-tracing-with-opentelemetry-spring-cloud-sleuth-kafka-and-jaeger-939e35f45821\" rel=\"nofollow noreferrer\">guide</a> as a reference, only using jaeger-all-in-one and otel-collector in the docker compose and running the java application separately.</p>\n<p>I extracted the IP address from the otel collector container and used the following in application.properties</p>\n<pre><code>spring.sleuth.otel.exporter.otlp.endpoint=http://OTEL_ADDRESS_FROM_DOCKER:4317\n</code></pre>\n<p>It is working and I can see traces in the jaeger ui page.</p>\n<p>Then trying out SPM of jaeger and used <a href=\"https://github.com/jaegertracing/jaeger/tree/main/docker-compose/monitor\" rel=\"nofollow noreferrer\">this</a> as a guide.</p>\n<p>Removing the microsim entry in the docker compose and running it, extracting the otel-collector IP since it's a new container and running the java application again, I am getting this error instead:</p>\n<pre><code>Failed to export spans. The request could not be executed. Full error message: Failed to connect to /OTEL_ADDRESS_FROM_DOCKER:4317\n</code></pre>\n<p>The difference from the two docker compose is the one from monitoring demo uses opentelemetry-collector-contrib because it uses a custom config file for metrics.</p>\n"},{"tags":["java","android","android-fragments","android-glide","android-viewpager2"],"comments":[{"owner":{"account_id":2660156,"reputation":325,"user_id":2300057,"display_name":"Wilson Castiblanco"},"score":0,"creation_date":1665638075,"post_id":74049367,"comment_id":130747800,"body_markdown":"Since the fragment is inside a ViewPager, and you are using the Fragment constructor to initialize the arguments, that could be the issue. Instead of sending arguments through the constructor of a fragment, use Bundle arguments, which are going to be available the next time the fragment is recreated. Take a look at this example https://developer.android.com/reference/android/app/Fragment `DetailsFragment.newInstance(..)`","body":"Since the fragment is inside a ViewPager, and you are using the Fragment constructor to initialize the arguments, that could be the issue. Instead of sending arguments through the constructor of a fragment, use Bundle arguments, which are going to be available the next time the fragment is recreated. Take a look at this example <a href=\"https://developer.android.com/reference/android/app/Fragment\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/app/Fragment</a> <code>DetailsFragment.newInstance(..)</code>"},{"owner":{"account_id":18762143,"reputation":151,"user_id":13680873,"display_name":"thewolf1119"},"score":0,"creation_date":1665653250,"post_id":74049367,"comment_id":130751959,"body_markdown":"@WilsonCastiblanco\nThanks for response. \nI did what is in the Documentation, but I get the same result like with ```new DetailsFragment(...)```\nHere is the video describing how the problem works - You can see that Image shows only when I touch the fragment or I started scrolling to next activity.\nhttps://streamable.com/rj3wez","body":"@WilsonCastiblanco Thanks for response.  I did what is in the Documentation, but I get the same result like with <code>new DetailsFragment(...)</code> Here is the video describing how the problem works - You can see that Image shows only when I touch the fragment or I started scrolling to next activity. <a href=\"https://streamable.com/rj3wez\" rel=\"nofollow noreferrer\">streamable.com/rj3wez</a>"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1666277038,"post_id":74049367,"comment_id":130902924,"body_markdown":"have you tried to loading by using `Glide.with(View)` and set `placeholder` image and `error` image. it might let you know what is happening!","body":"have you tried to loading by using <code>Glide.with(View)</code> and set <code>placeholder</code> image and <code>error</code> image. it might let you know what is happening!"},{"owner":{"account_id":18762143,"reputation":151,"user_id":13680873,"display_name":"thewolf1119"},"score":0,"creation_date":1666296990,"post_id":74049367,"comment_id":130909985,"body_markdown":"@VishalBeep Strange but adding `placeholder` and `error` to the code fixed the problem - photos now load correctly. I don&#39;t know how it works that these two methods fix this problem. How can I mark your answer as correct?","body":"@VishalBeep Strange but adding <code>placeholder</code> and <code>error</code> to the code fixed the problem - photos now load correctly. I don&#39;t know how it works that these two methods fix this problem. How can I mark your answer as correct?"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666318168,"post_id":74049367,"comment_id":130913983,"body_markdown":"Added answer now you can mark","body":"Added answer now you can mark"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666319288,"creation_date":1666318133,"answer_id":74148061,"question_id":74049367,"body_markdown":"Have you tried to loading by using \r\n```\r\nGlide.with(View)\r\n```\r\n and set `placeholder` image and `error` image. it might let you know what is happening!\r\n\r\nsomething like this -\r\n\r\n```\r\n Glide.with(view)\r\n       .load(imageUrl)\r\n       .error(R.drawable.someErrorImage)\r\n       .placeholder(R.drawable.somePlaceHolderImage)\r\n       .into(view);\r\n```","title":"Glide doesn&#39;t show image in first fragment &quot;automatically&quot;","body":"<p>Have you tried to loading by using</p>\n<pre><code>Glide.with(View)\n</code></pre>\n<p>and set <code>placeholder</code> image and <code>error</code> image. it might let you know what is happening!</p>\n<p>something like this -</p>\n<pre><code> Glide.with(view)\n       .load(imageUrl)\n       .error(R.drawable.someErrorImage)\n       .placeholder(R.drawable.somePlaceHolderImage)\n       .into(view);\n</code></pre>\n"}],"owner":{"account_id":18762143,"reputation":151,"user_id":13680873,"display_name":"thewolf1119"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74148061,"answer_count":1,"score":4,"last_activity_date":1666319288,"creation_date":1665622261,"question_id":74049367,"body_markdown":"In my application I can create albums with photos, store them on Firebase and view them.\r\n\r\nWell, in order to browse these albums I decided to create something like viewing screenshots of an app/game in the Play Store in full screen.\r\nI created ```Activity``` and added ```ViewPager2``` to this ```Activity```, then I created ```Fragment``` and ```Adapter``` to show my images and everything seems to work but there are some problems with Glide.\r\n\r\nFirst I tried to use this code to load photos:\r\n```Glide.with(MediaViewerFragment.this).load(imageUrl).into(image);``` but the pictures were not showing.\r\n\r\nOn stackoverflow I found a solution - it was to add a listener to the method and instead of ```into(View)``` use ```submit()``` So I wrote such a listener:\r\n```java\r\nRequestListener&lt;Drawable&gt; listener = new RequestListener&lt;&gt;() {\r\n            @Override\r\n            public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\r\n                errorLinear.setVisibility(View.VISIBLE);\r\n                errorReasonText.setText(e.getMessage());\r\n                loadingLinear.setVisibility(View.GONE);\r\n                Log.d(&quot;Test&quot;, &quot;Glide: Cannot load image: &quot; + e.getMessage());\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                image.setImageDrawable(resource);\r\n                image.invalidate();\r\n                loadingLinear.setVisibility(View.GONE);\r\n                Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);\r\n                return false;\r\n            }\r\n        };\r\n\r\n        Glide.with(MediaFragment.this).load(imageUrl).addListener(listener).submit();\r\n```\r\nbut:\r\n- When I open the album the photo in the first Fragment does not appear immediately after loading, the image &quot;loads into imageview&quot; only when I touch the ViewPager2 with my finger or scroll to the next Fragment and return to the first one.\r\n\r\n- ProgressBar does not disappear on first fragment\r\n\r\nand I don&#39;t know why this is happening. I think that this happens because maybe the first Glide Listener is begin replaced by other listeners in others fragments with images?\r\n\r\nAs you can see, in ```OnResourceReady``` I have ```Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);``` but it doesn&#39;t appear to me in LogCat (on first fragment, when i swipe to others fragment then everything works fine!). But when I put ```Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);``` on top so it will look like this:\r\n```java\r\n@Override\r\n            public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);\r\n                image.setImageDrawable(resource);\r\n                image.invalidate();\r\n                loadingLinear.setVisibility(View.GONE);\r\n                return false;\r\n            }\r\n```\r\nthen:\r\n- When I open the album then immediately in logcat I get my message that the photo has been uploaded but unfortunately, I still can&#39;t see it and ProgressBar doesn&#39;t disappear.\r\n\r\n- I still need to swipe to next fragment and go back to previous to see that image.\r\n\r\n[Video describing the problem][1] - you can see that I have to touch the screen for the photo to load which is weird and shouldn&#39;t happen\r\n\r\nMediaViewerFragment.java\r\n```java\r\npublic class MediaViewerFragment extends Fragment {\r\n    View mRootView;\r\n\r\n    private ImageView image;\r\n    private LinearLayout errorLinear, loadingLinear;\r\n    private MaterialTextView errorReasonText;\r\n\r\n    private String imageUrl;\r\n\r\n    private Context context;\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        context = null;\r\n        super.onDestroyView();\r\n    }\r\n\r\n    public MediaViewerFragment(Context context, String imageUrl) {\r\n        this.imageUrl = imageUrl;\r\n        this.context = context;\r\n        Log.d(&quot;Teest&quot;, &quot;MediaFragment - Image to load: &quot; + imageUrl);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        mRootView = inflater.inflate(R.layout.fragment_media, container, false);\r\n        return mRootView;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        initView();\r\n        setup();\r\n    }\r\n\r\n    private void initView() {\r\n        image = mRootView.findViewById(R.id.image);\r\n        errorLinear = (LinearLayout) mRootView.findViewById(R.id.error_linear);\r\n        errorReasonText = (MaterialTextView) mRootView.findViewById(R.id.error_reason_text);\r\n        loadingLinear = mRootView.findViewById(R.id.loading_progress_bar);\r\n    }\r\n\r\n    private void setup() {\r\n        Log.d(&quot;Test&quot;, &quot;Preparing to load image: &quot; + imageUrl);\r\n\r\n        RequestListener&lt;Drawable&gt; listener = new RequestListener&lt;&gt;() {\r\n            @Override\r\n            public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\r\n                errorLinear.setVisibility(View.VISIBLE);\r\n                errorReasonText.setText(e.getMessage());\r\n                loadingLinear.setVisibility(View.GONE);\r\n                Log.d(&quot;Test&quot;, &quot;Glide: Cannot load image: &quot; + e.getMessage());\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                image.setImageDrawable(resource);\r\n                image.invalidate();\r\n                loadingLinear.setVisibility(View.GONE);\r\n                Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);\r\n                return false;\r\n            }\r\n        };\r\n\r\n        Glide.with(MediaViewerFragment.this)load(imageUrl).addListener(listener).submit();\r\n    }\r\n}\r\n```\r\n\r\nViewPager Adapter:\r\n```java\r\npublic class MediaViewerViewPager extends FragmentStateAdapter {\r\n    private List&lt;AlbumImage&gt; imagesUrls;\r\n\r\n    private Context context;\r\n\r\n\r\n    public MediaViewerViewPager(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle, Context context, List&lt;AlbumImage&gt; imagesUrls) {\r\n        super(fragmentManager, lifecycle);\r\n        this.imagesUrls = imagesUrls;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        return new MediaFragment(context, imagesUrls.get(position).getImageUrl());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return imagesUrls.size();\r\n    }\r\n}\r\n```\r\n\r\nActivity where my ViewPager2 is:\r\n```java\r\npublic class MediaViewerActivity extends AppCompatActivity {\r\n    private ViewPager2 imagesViewpager;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_media_viewer);\r\n\r\n        initView();\r\n        setup();\r\n    }\r\n\r\n    private void initView() {\r\n        imagesViewpager = (ViewPager2) findViewById(R.id.images_viewpager);\r\n    }\r\n\r\n    private void setup() {\r\n        MediaViewerViewPager adapter = new MediaViewerViewPager(getSupportFragmentManager(), getLifecycle(), MediaViewerActivity.this, new Gson().fromJson(getIntent().getStringExtra(&quot;albumImages&quot;), new TypeToken&lt;List&lt;AlbumImage&gt;&gt;() {}.getType()));\r\n        imagesViewpager.setAdapter(adapter);\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\n### Fixed ###\r\nAfter adding the `placeholder` and `error` methods to the code, everything works.\r\nCorrect code looks like this now:\r\n```\r\nGlide.with(image)\r\n                .load(getImageUrl())\r\n                .placeholder(R.drawable.transparent_background)\r\n                .error(R.drawable.transparent_background)\r\n                .addListener(new RequestListener&lt;Drawable&gt;() {\r\n                    @Override\r\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\r\n                        loadingLinear.setVisibility(View.GONE);\r\n                        errorLinear.setVisibility(View.VISIBLE);\r\n                        errorReasonText.setText(e.getMessage());\r\n\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                        loadingLinear.setVisibility(View.GONE);\r\n\r\n                        return false;\r\n                    }\r\n                })\r\n                .into(image);\r\n```\r\n\r\n\r\n  [1]: https://streamable.com/rj3wez","title":"Glide doesn&#39;t show image in first fragment &quot;automatically&quot;","body":"<p>In my application I can create albums with photos, store them on Firebase and view them.</p>\n<p>Well, in order to browse these albums I decided to create something like viewing screenshots of an app/game in the Play Store in full screen.\nI created <code>Activity</code> and added <code>ViewPager2</code> to this <code>Activity</code>, then I created <code>Fragment</code> and <code>Adapter</code> to show my images and everything seems to work but there are some problems with Glide.</p>\n<p>First I tried to use this code to load photos:\n<code>Glide.with(MediaViewerFragment.this).load(imageUrl).into(image);</code> but the pictures were not showing.</p>\n<p>On stackoverflow I found a solution - it was to add a listener to the method and instead of <code>into(View)</code> use <code>submit()</code> So I wrote such a listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestListener&lt;Drawable&gt; listener = new RequestListener&lt;&gt;() {\n            @Override\n            public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\n                errorLinear.setVisibility(View.VISIBLE);\n                errorReasonText.setText(e.getMessage());\n                loadingLinear.setVisibility(View.GONE);\n                Log.d(&quot;Test&quot;, &quot;Glide: Cannot load image: &quot; + e.getMessage());\n                return false;\n            }\n\n            @Override\n            public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\n                image.setImageDrawable(resource);\n                image.invalidate();\n                loadingLinear.setVisibility(View.GONE);\n                Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);\n                return false;\n            }\n        };\n\n        Glide.with(MediaFragment.this).load(imageUrl).addListener(listener).submit();\n</code></pre>\n<p>but:</p>\n<ul>\n<li><p>When I open the album the photo in the first Fragment does not appear immediately after loading, the image &quot;loads into imageview&quot; only when I touch the ViewPager2 with my finger or scroll to the next Fragment and return to the first one.</p>\n</li>\n<li><p>ProgressBar does not disappear on first fragment</p>\n</li>\n</ul>\n<p>and I don't know why this is happening. I think that this happens because maybe the first Glide Listener is begin replaced by other listeners in others fragments with images?</p>\n<p>As you can see, in <code>OnResourceReady</code> I have <code>Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);</code> but it doesn't appear to me in LogCat (on first fragment, when i swipe to others fragment then everything works fine!). But when I put <code>Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);</code> on top so it will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n            public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\n                Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);\n                image.setImageDrawable(resource);\n                image.invalidate();\n                loadingLinear.setVisibility(View.GONE);\n                return false;\n            }\n</code></pre>\n<p>then:</p>\n<ul>\n<li><p>When I open the album then immediately in logcat I get my message that the photo has been uploaded but unfortunately, I still can't see it and ProgressBar doesn't disappear.</p>\n</li>\n<li><p>I still need to swipe to next fragment and go back to previous to see that image.</p>\n</li>\n</ul>\n<p><a href=\"https://streamable.com/rj3wez\" rel=\"nofollow noreferrer\">Video describing the problem</a> - you can see that I have to touch the screen for the photo to load which is weird and shouldn't happen</p>\n<p>MediaViewerFragment.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MediaViewerFragment extends Fragment {\n    View mRootView;\n\n    private ImageView image;\n    private LinearLayout errorLinear, loadingLinear;\n    private MaterialTextView errorReasonText;\n\n    private String imageUrl;\n\n    private Context context;\n\n    @Override\n    public void onDestroyView() {\n        context = null;\n        super.onDestroyView();\n    }\n\n    public MediaViewerFragment(Context context, String imageUrl) {\n        this.imageUrl = imageUrl;\n        this.context = context;\n        Log.d(&quot;Teest&quot;, &quot;MediaFragment - Image to load: &quot; + imageUrl);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        mRootView = inflater.inflate(R.layout.fragment_media, container, false);\n        return mRootView;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        initView();\n        setup();\n    }\n\n    private void initView() {\n        image = mRootView.findViewById(R.id.image);\n        errorLinear = (LinearLayout) mRootView.findViewById(R.id.error_linear);\n        errorReasonText = (MaterialTextView) mRootView.findViewById(R.id.error_reason_text);\n        loadingLinear = mRootView.findViewById(R.id.loading_progress_bar);\n    }\n\n    private void setup() {\n        Log.d(&quot;Test&quot;, &quot;Preparing to load image: &quot; + imageUrl);\n\n        RequestListener&lt;Drawable&gt; listener = new RequestListener&lt;&gt;() {\n            @Override\n            public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\n                errorLinear.setVisibility(View.VISIBLE);\n                errorReasonText.setText(e.getMessage());\n                loadingLinear.setVisibility(View.GONE);\n                Log.d(&quot;Test&quot;, &quot;Glide: Cannot load image: &quot; + e.getMessage());\n                return false;\n            }\n\n            @Override\n            public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\n                image.setImageDrawable(resource);\n                image.invalidate();\n                loadingLinear.setVisibility(View.GONE);\n                Log.d(&quot;Test&quot;, &quot;Glide: Image loaded&quot;);\n                return false;\n            }\n        };\n\n        Glide.with(MediaViewerFragment.this)load(imageUrl).addListener(listener).submit();\n    }\n}\n</code></pre>\n<p>ViewPager Adapter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MediaViewerViewPager extends FragmentStateAdapter {\n    private List&lt;AlbumImage&gt; imagesUrls;\n\n    private Context context;\n\n\n    public MediaViewerViewPager(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle, Context context, List&lt;AlbumImage&gt; imagesUrls) {\n        super(fragmentManager, lifecycle);\n        this.imagesUrls = imagesUrls;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        return new MediaFragment(context, imagesUrls.get(position).getImageUrl());\n    }\n\n    @Override\n    public int getItemCount() {\n        return imagesUrls.size();\n    }\n}\n</code></pre>\n<p>Activity where my ViewPager2 is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MediaViewerActivity extends AppCompatActivity {\n    private ViewPager2 imagesViewpager;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_media_viewer);\n\n        initView();\n        setup();\n    }\n\n    private void initView() {\n        imagesViewpager = (ViewPager2) findViewById(R.id.images_viewpager);\n    }\n\n    private void setup() {\n        MediaViewerViewPager adapter = new MediaViewerViewPager(getSupportFragmentManager(), getLifecycle(), MediaViewerActivity.this, new Gson().fromJson(getIntent().getStringExtra(&quot;albumImages&quot;), new TypeToken&lt;List&lt;AlbumImage&gt;&gt;() {}.getType()));\n        imagesViewpager.setAdapter(adapter);\n    }\n}\n</code></pre>\n<hr />\n<h3>Fixed</h3>\n<p>After adding the <code>placeholder</code> and <code>error</code> methods to the code, everything works.\nCorrect code looks like this now:</p>\n<pre><code>Glide.with(image)\n                .load(getImageUrl())\n                .placeholder(R.drawable.transparent_background)\n                .error(R.drawable.transparent_background)\n                .addListener(new RequestListener&lt;Drawable&gt;() {\n                    @Override\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\n                        loadingLinear.setVisibility(View.GONE);\n                        errorLinear.setVisibility(View.VISIBLE);\n                        errorReasonText.setText(e.getMessage());\n\n                        return false;\n                    }\n\n                    @Override\n                    public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\n                        loadingLinear.setVisibility(View.GONE);\n\n                        return false;\n                    }\n                })\n                .into(image);\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":4,"creation_date":1666318403,"post_id":74148009,"comment_id":130914012,"body_markdown":"You&#39;re not declaring a List, you&#39;re declaring an *array* of Lists, which are *raw* Lists that have no generic information and so accept any type.","body":"You&#39;re not declaring a List, you&#39;re declaring an <i>array</i> of Lists, which are <i>raw</i> Lists that have no generic information and so accept any type."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1666319894,"post_id":74148009,"comment_id":130914210,"body_markdown":"Related: [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it) In your case, `List` is a raw list and `List[]` is an array of raw lists. (You _probably_ don&#39;t actually want/need an array of lists (raw or otherwise).)","body":"Related: <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a> In your case, <code>List</code> is a raw list and <code>List[]</code> is an array of raw lists. (You <i>probably</i> don&#39;t actually want/need an array of lists (raw or otherwise).)"}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666318863,"creation_date":1666317858,"answer_id":74148025,"question_id":74148009,"body_markdown":"The reason is that\r\n\r\n    List[] list = new ArrayList[3];\r\n\r\nBy doing it,you make list accept any parameters,in this case `list[0] = new ArrayList&lt;Integer&gt;();` works similar to `list[0] = new ArrayList&lt;&gt;();`\r\n\r\nIf you want to it just accept `Integer`,you need to do it as following\r\n\r\n    List&lt;Integer&gt;[] list = new ArrayList[3];","title":"Why there is no error when I put String to a ArrayList&lt;Integer&gt; array in Java","body":"<p>The reason is that</p>\n<pre><code>List[] list = new ArrayList[3];\n</code></pre>\n<p>By doing it,you make list accept any parameters,in this case <code>list[0] = new ArrayList&lt;Integer&gt;();</code> works similar to <code>list[0] = new ArrayList&lt;&gt;();</code></p>\n<p>If you want to it just accept <code>Integer</code>,you need to do it as following</p>\n<pre><code>List&lt;Integer&gt;[] list = new ArrayList[3];\n</code></pre>\n"}],"owner":{"account_id":26404655,"reputation":1,"user_id":20054619,"display_name":"wardnyc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666318863,"creation_date":1666317673,"question_id":74148009,"body_markdown":"    public class Main {\r\n        public static void main(String[] args) {\r\n            List[] list = new ArrayList[3];\r\n            list[0] = new ArrayList&lt;Integer&gt;();\r\n            list[0].add(&quot;string&quot;);\r\n            ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n            arr.add(&quot;string&quot;);\r\n        }\r\n    }\r\n\r\nFrist question: I already state that the ArrayList should accept Interger. But it do not throw error when I try to assign a &quot;string&quot; into this ArrayList. I really don&#39;t know why this happen.\r\n\r\nSeconde question: Why I can declare a list by this &quot;List[] list = new ArrayList[3];&quot;\r\n\r\n","title":"Why there is no error when I put String to a ArrayList&lt;Integer&gt; array in Java","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        List[] list = new ArrayList[3];\n        list[0] = new ArrayList&lt;Integer&gt;();\n        list[0].add(&quot;string&quot;);\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n        arr.add(&quot;string&quot;);\n    }\n}\n</code></pre>\n<p>Frist question: I already state that the ArrayList should accept Interger. But it do not throw error when I try to assign a &quot;string&quot; into this ArrayList. I really don't know why this happen.</p>\n<p>Seconde question: Why I can declare a list by this &quot;List[] list = new ArrayList[3];&quot;</p>\n"},{"tags":["java","eclipse","debugging","eclipse-plugin","eclipse-cdt"],"comments":[{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1376301331,"post_id":18183602,"comment_id":26644209,"body_markdown":"what is the editor you are using? is it default eclipse editor? means in your code editor.highlightline(lineNumber);, here &quot;editor&quot; is what?  eclipse default editor?","body":"what is the editor you are using? is it default eclipse editor? means in your code editor.highlightline(lineNumber);, here &quot;editor&quot; is what?  eclipse default editor?"},{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":0,"creation_date":1376301595,"post_id":18183602,"comment_id":26644371,"body_markdown":"I am using the `CEditor` from the CDT plugin which extends `TextEditor`","body":"I am using the <code>CEditor</code> from the CDT plugin which extends <code>TextEditor</code>"},{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1376301730,"post_id":18183602,"comment_id":26644436,"body_markdown":"Check for selectAndReveal(int, int) is present in CDT plugin editor? this methos is used to highlight a line in TextEditor of eclipse!!","body":"Check for selectAndReveal(int, int) is present in CDT plugin editor? this methos is used to highlight a line in TextEditor of eclipse!!"},{"owner":{"account_id":986010,"reputation":472,"user_id":1004477,"accept_rate":55,"display_name":"Lai"},"score":0,"creation_date":1376301752,"post_id":18183602,"comment_id":26644447,"body_markdown":"Have you checked your colors? It might be there but invisible","body":"Have you checked your colors? It might be there but invisible"},{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":0,"creation_date":1376308308,"post_id":18183602,"comment_id":26648038,"body_markdown":"@Lai How could I set the color?","body":"@Lai How could I set the color?"},{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":0,"creation_date":1376308661,"post_id":18183602,"comment_id":26648241,"body_markdown":"@Rock123 well I tried this but this is just &quot;text selection&quot; like if you mark text with your mouse. So when you click somewhere the selection/the marking disappears","body":"@Rock123 well I tried this but this is just &quot;text selection&quot; like if you mark text with your mouse. So when you click somewhere the selection/the marking disappears"}],"answers":[{"comments":[{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":0,"creation_date":1376313037,"post_id":18187717,"comment_id":26650884,"body_markdown":"Well.. this does not make sense to me. What is the CDT Plugin good for if I have to reinvent the wheel after all? I mean .. all this is here that one can visualize the debugging process more easily.. how can it be that such a basic thing like highlighting a single line demands so much effort?","body":"Well.. this does not make sense to me. What is the CDT Plugin good for if I have to reinvent the wheel after all? I mean .. all this is here that one can visualize the debugging process more easily.. how can it be that such a basic thing like highlighting a single line demands so much effort?"}],"tags":[],"owner":{"account_id":986010,"reputation":472,"user_id":1004477,"accept_rate":55,"display_name":"Lai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376314636,"creation_date":1376312581,"answer_id":18187717,"question_id":18183602,"body_markdown":"You can create your own marker using an extension point `&quot;org.eclipse.core.resources.markers&quot;` and adding super attribute of type `&quot;org.eclipse.core.resources.textmarker&quot;`. After setting up your marker, you still need to describe its look and feel by adding the annotation extension point `&quot;org.eclipse.ui.editors.annotationTypes&quot;`\r\n\r\nI am not exactly sure of your intentions but this link might help [http://www.ibm.com/developerworks/opensource/tutorials/os-eclipse-plugin-guide/section3.html][1]\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/opensource/tutorials/os-eclipse-plugin-guide/section3.html","title":"Eclipse Plugin: Highlight Code Line (textmarker while debugging)","body":"<p>You can create your own marker using an extension point <code>\"org.eclipse.core.resources.markers\"</code> and adding super attribute of type <code>\"org.eclipse.core.resources.textmarker\"</code>. After setting up your marker, you still need to describe its look and feel by adding the annotation extension point <code>\"org.eclipse.ui.editors.annotationTypes\"</code></p>\n\n<p>I am not exactly sure of your intentions but this link might help <a href=\"http://www.ibm.com/developerworks/opensource/tutorials/os-eclipse-plugin-guide/section3.html\" rel=\"nofollow\">http://www.ibm.com/developerworks/opensource/tutorials/os-eclipse-plugin-guide/section3.html</a></p>\n"},{"comments":[{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":0,"creation_date":1376380896,"post_id":18192679,"comment_id":26679428,"body_markdown":"I see that this class is `internal`. I assume I have to write my own `InstructionPointerManager`? This looks quite helpful. I will not forget to mark your answer if it works.","body":"I see that this class is <code>internal</code>. I assume I have to write my own <code>InstructionPointerManager</code>? This looks quite helpful. I will not forget to mark your answer if it works."},{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":0,"creation_date":1376381222,"post_id":18192679,"comment_id":26679575,"body_markdown":"But you&#39;re sure that there is no easier way to do this even though I am using the CDT Plugin already with my Eclipse Application? This plugin should alreads support this behaviour..","body":"But you&#39;re sure that there is no easier way to do this even though I am using the CDT Plugin already with my Eclipse Application? This plugin should alreads support this behaviour.."},{"owner":{"account_id":33535,"reputation":9309,"user_id":93961,"accept_rate":79,"display_name":"Eugene"},"score":1,"creation_date":1376408556,"post_id":18192679,"comment_id":26696614,"body_markdown":"I am not sure if there is no other simpler way. CDT has 2 debug frameworks (CDI and DSF) and this class is a part of DSF. My understanding is that whenever you write your debugger you need to implement something like this.","body":"I am not sure if there is no other simpler way. CDT has 2 debug frameworks (CDI and DSF) and this class is a part of DSF. My understanding is that whenever you write your debugger you need to implement something like this."},{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":0,"creation_date":1376408978,"post_id":18192679,"comment_id":26696890,"body_markdown":"Here http://comments.gmane.org/gmane.comp.ide.eclipse.cdt.devel/16070 it says, that the DSF approach shall be used. But I got a few things running with this approach http://www.eclipse.org/articles/Article-Debugger/how-to.html It seems like that there is no uniform way for this. Maybe I&#39;m wrong but I think the community should take a few steps back and reconsider their design at this point.","body":"Here <a href=\"http://comments.gmane.org/gmane.comp.ide.eclipse.cdt.devel/16070\" rel=\"nofollow noreferrer\">comments.gmane.org/gmane.comp.ide.eclipse.cdt.devel/16070</a> it says, that the DSF approach shall be used. But I got a few things running with this approach <a href=\"http://www.eclipse.org/articles/Article-Debugger/how-to.html\" rel=\"nofollow noreferrer\">eclipse.org/articles/Article-Debugger/how-to.html</a> It seems like that there is no uniform way for this. Maybe I&#39;m wrong but I think the community should take a few steps back and reconsider their design at this point."}],"tags":[],"owner":{"account_id":33535,"reputation":9309,"user_id":93961,"accept_rate":79,"display_name":"Eugene"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376327026,"creation_date":1376327026,"answer_id":18192679,"question_id":18183602,"body_markdown":"Marker is the thing on your ruler. You need to look at the editor background painting. Take a look at [InstructionPointerManager.java][1]\r\n\r\n   [1]: https://github.com/eclipse/cdt/blob/d55bca53a5b12ffce1aa9574754cdd6704d1d351/dsf/org.eclipse.cdt.dsf.ui/src/org/eclipse/cdt/dsf/debug/ui/sourcelookup/InstructionPointerManager.java","title":"Eclipse Plugin: Highlight Code Line (textmarker while debugging)","body":"<p>Marker is the thing on your ruler. You need to look at the editor background painting. Take a look at <a href=\"https://github.com/eclipse/cdt/blob/d55bca53a5b12ffce1aa9574754cdd6704d1d351/dsf/org.eclipse.cdt.dsf.ui/src/org/eclipse/cdt/dsf/debug/ui/sourcelookup/InstructionPointerManager.java\" rel=\"nofollow\">InstructionPointerManager.java</a></p>\n"},{"tags":[],"owner":{"account_id":25886283,"reputation":1,"user_id":19614319,"display_name":"ljw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666318800,"creation_date":1666318669,"answer_id":74148104,"question_id":18183602,"body_markdown":"I had the same problem. And I solve it by creating my own marker. I follow the step of this blog [http://cubussapiens.hu/2011/05/custom-markers-and-annotations-the-bright-side-of-eclipse/][1] and create a marker when the lineNumber changed. It will highlight this line.\r\n\r\n\r\n  [1]: http://cubussapiens.hu/2011/05/custom-markers-and-annotations-the-bright-side-of-eclipse/","title":"Eclipse Plugin: Highlight Code Line (textmarker while debugging)","body":"<p>I had the same problem. And I solve it by creating my own marker. I follow the step of this blog <a href=\"http://cubussapiens.hu/2011/05/custom-markers-and-annotations-the-bright-side-of-eclipse/\" rel=\"nofollow noreferrer\">http://cubussapiens.hu/2011/05/custom-markers-and-annotations-the-bright-side-of-eclipse/</a> and create a marker when the lineNumber changed. It will highlight this line.</p>\n"}],"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666318800,"creation_date":1376299689,"question_id":18183602,"body_markdown":"Please do not confuse this with &#39;selecting code&#39; like selecting code with a mouse.\r\n\r\nWhen my debug device hits a break point I want to highlight the specific line of code.\r\nI am using the CDT Plugin.\r\n\r\nI already got the `lineNumber` and all I want to do now is to tell\r\n\r\n\r\n    editor.highlightLine(lineNumber);\r\n\r\n\r\nto get something like this:\r\n\r\n![enter image description here][1]\r\n\r\nI already tried this:\r\n\r\n\r\n          marker = resource.createMarker(IMarker.TEXT);\r\n          marker.setAttribute(IMarker.LINE_NUMBER, 10);\r\n          marker.setAttribute(IMarker.CHAR_START, 0);\r\n          marker.setAttribute(IMarker.CHAR_END, 10);\r\n\r\nbut it didn&#39;t work.\r\n\r\nSince there are already predefined annotations provided by Eclipse and/or the CDT Plugin I&#39;d like to reuse them. But how to access and use them inside sourcecode?\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/WZ6AS.png\r\n  [2]: http://i.stack.imgur.com/UAZ1n.png","title":"Eclipse Plugin: Highlight Code Line (textmarker while debugging)","body":"<p>Please do not confuse this with 'selecting code' like selecting code with a mouse.</p>\n\n<p>When my debug device hits a break point I want to highlight the specific line of code.\nI am using the CDT Plugin.</p>\n\n<p>I already got the <code>lineNumber</code> and all I want to do now is to tell</p>\n\n<pre><code>editor.highlightLine(lineNumber);\n</code></pre>\n\n<p>to get something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/WZ6AS.png\" alt=\"enter image description here\"></p>\n\n<p>I already tried this:</p>\n\n<pre><code>      marker = resource.createMarker(IMarker.TEXT);\n      marker.setAttribute(IMarker.LINE_NUMBER, 10);\n      marker.setAttribute(IMarker.CHAR_START, 0);\n      marker.setAttribute(IMarker.CHAR_END, 10);\n</code></pre>\n\n<p>but it didn't work.</p>\n\n<p>Since there are already predefined annotations provided by Eclipse and/or the CDT Plugin I'd like to reuse them. But how to access and use them inside sourcecode?</p>\n\n<p><img src=\"https://i.stack.imgur.com/UAZ1n.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring","hibernate","redis"],"owner":{"account_id":26687849,"reputation":11,"user_id":20296872,"display_name":"Rookie lx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666318616,"creation_date":1666318616,"question_id":74148099,"body_markdown":"The project use hibernate 4.2.0 and spring 3.1.3.\r\n\r\nI&#39;m adding redis for second cache in my project.\r\nThere are class A,B,C. Their relation is a.getB().getC()\r\nThe code like:\r\n```java\r\nClass A{\r\n    @ManyToOne(targetEntity = InternalOrganizationImpl.class, fetch = FetchType.LAZY)\r\n\t@Cascade(value = { org.hibernate.annotations.CascadeType.SAVE_UPDATE })\r\n\t@JoinColumn(name = &quot;bid&quot;)\r\n\tprivate B b;\r\n}\r\n```\r\nNow i get object A from database and put it into redis.\r\nThen i get it from redis ,but when i use a.getB().getC(),throw the Exception that could not initialize proxy - no Session\r\n\r\nI have read the question [How to fix org.hibernate.LazyInitializationException...][1]\r\n\r\nset the property is effect,but it makes project too slow\r\n```xml\r\n&lt;prop key=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/prop&gt;\r\n```\r\n\r\nthe annotion @Transcation not work\r\n\r\nIs there any butter solution?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21574236/how-to-fix-org-hibernate-lazyinitializationexception-could-not-initialize-prox","title":"redis cache and LazyInitializationException in Hibernate : could not initialize proxy - no Session","body":"<p>The project use hibernate 4.2.0 and spring 3.1.3.</p>\n<p>I'm adding redis for second cache in my project.\nThere are class A,B,C. Their relation is a.getB().getC()\nThe code like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class A{\n    @ManyToOne(targetEntity = InternalOrganizationImpl.class, fetch = FetchType.LAZY)\n    @Cascade(value = { org.hibernate.annotations.CascadeType.SAVE_UPDATE })\n    @JoinColumn(name = &quot;bid&quot;)\n    private B b;\n}\n</code></pre>\n<p>Now i get object A from database and put it into redis.\nThen i get it from redis ,but when i use a.getB().getC(),throw the Exception that could not initialize proxy - no Session</p>\n<p>I have read the question <a href=\"https://stackoverflow.com/questions/21574236/how-to-fix-org-hibernate-lazyinitializationexception-could-not-initialize-prox\">How to fix org.hibernate.LazyInitializationException...</a></p>\n<p>set the property is effect,but it makes project too slow</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;prop key=&quot;hibernate.enable_lazy_load_no_trans&quot;&gt;true&lt;/prop&gt;\n</code></pre>\n<p>the annotion @Transcation not work</p>\n<p>Is there any butter solution?</p>\n"},{"tags":["java","spring","websocket","stomp","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":22561066,"reputation":1,"user_id":16748702,"display_name":"mouren Zhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666318074,"creation_date":1666318074,"answer_id":74148054,"question_id":74137469,"body_markdown":"When using a proxy across domains, you need to enable websocket true\r\n\r\n    server: {\r\n                proxy: {\r\n                    &#39;/api&#39;: {\r\n                        target: &#39;http://localhost:8080&#39;,\r\n                        changeOrigin: true,\r\n                        // rewrite: (path: string) =&gt; path.replace(/^\\/api/, &quot;&quot;),\r\n                    },\r\n                    &#39;/ws&#39;: {\r\n                        target: &#39;http://localhost:8080&#39;,\r\n                        changeOrigin: true,\r\n                        ws: true\r\n                    }\r\n                },\r\n                // port: 80,\r\n                open: false,\r\n                fs: {\r\n                    strict: true,\r\n                },\r\n            }","title":"Spring can&#39;t listen SessionDisconnectEvent","body":"<p>When using a proxy across domains, you need to enable websocket true</p>\n<pre><code>server: {\n            proxy: {\n                '/api': {\n                    target: 'http://localhost:8080',\n                    changeOrigin: true,\n                    // rewrite: (path: string) =&gt; path.replace(/^\\/api/, &quot;&quot;),\n                },\n                '/ws': {\n                    target: 'http://localhost:8080',\n                    changeOrigin: true,\n                    ws: true\n                }\n            },\n            // port: 80,\n            open: false,\n            fs: {\n                strict: true,\n            },\n        }\n</code></pre>\n"}],"owner":{"account_id":22561066,"reputation":1,"user_id":16748702,"display_name":"mouren Zhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666318074,"creation_date":1666258000,"question_id":74137469,"body_markdown":"I made a demo referring to this project ([websokets-spring](https://www.baeldung.com/websockets-spring)),I mainly added WebSocketListener，this is my code \r\n\r\n    @Component\r\n    @Slf4j\r\n    public class WebSocketListener {\r\n    \r\n        @EventListener\r\n        public void handleWebSocketConnectListener(SessionConnectEvent sessionConnectEvent) {\r\n            StompHeaderAccessor headerAccessor = StompHeaderAccessor.wrap(sessionConnectEvent.getMessage());\r\n            log.debug(&quot;connect, sessionId = {}&quot;, headerAccessor.getSessionId());\r\n        }\r\n    \r\n        @EventListener\r\n        public void handleWebSocketConnectedListener(SessionConnectedEvent sessionConnectedEvent) {\r\n            log.debug(&quot;connected &quot;);\r\n        }\r\n    \r\n        @EventListener\r\n        public void handleWebSocketDisconnectListener(SessionDisconnectEvent sessionDisconnectEvent) {\r\n            StompHeaderAccessor headerAccessor = StompHeaderAccessor.wrap(sessionDisconnectEvent.getMessage());\r\n            log.debug(&quot;disconnect, session id = {}&quot;, sessionDisconnectEvent.getSessionId());\r\n        }\r\n    \r\n        @EventListener\r\n        public void handleWebSocketSubscribeEvent(SessionSubscribeEvent sessionSubscribeEvent) {\r\n            log.debug(&quot;subscribe, {}&quot;, sessionSubscribeEvent.toString());\r\n        }\r\n    \r\n        @EventListener\r\n        public void handleWebSocketUnsubscribeEvent(SessionUnsubscribeEvent sessionUnsubscribeEvent) {\r\n            log.debug(&quot;unsubscribe, {}&quot;, sessionUnsubscribeEvent.getSource());\r\n        }\r\n    }\r\n\r\nWhen I enter the page to open the WebSocket connection and close the WebSocket connection or Close page, I can listen to the event。[enter image description here][1][enter image description here][2]\r\n\r\nBut when I use the front-end and back-end separated projects to connect WebSocket, I can listen to the SessionConnectEvent, but not the SessionDisconnectEvent[enter image description here][3][enter image description here][4][enter image description here][5][enter image description here][6]this is my front-end stomp code\r\n\r\n    function chatClient(): CompatClient {\r\n        const socket = SockJS(&#39;http://localhost/ws&#39;);\r\n        const client = Stomp.over(socket);\r\n        return client;\r\n    }\r\n    client = chatClient();\r\n      client.connect(\r\n          {\r\n            Authorization: getAuthorization(),\r\n          },\r\n          (frame: any) =&gt; {\r\n            console.log(&quot;ws success&quot;, frame);\r\n            client.subscribe(`/user/${userStore.userInfo.username}/messages`, function (message) {\r\n              console.log(&#39;msg&#39;, message.body);\r\n            });\r\n          }, (err: any) =&gt; {\r\n            console.log(&quot;ws err&quot;);\r\n          });\r\n\r\n  [1]: https://i.stack.imgur.com/yOSak.png\r\n  [2]: https://i.stack.imgur.com/VQdf5.png\r\n  [3]: https://i.stack.imgur.com/b74ZR.png\r\n  [4]: https://i.stack.imgur.com/Gf1LW.png\r\n  [5]: https://i.stack.imgur.com/Uyt8m.png\r\n  [6]: https://i.stack.imgur.com/5Pevl.png\r\n","title":"Spring can&#39;t listen SessionDisconnectEvent","body":"<p>I made a demo referring to this project (<a href=\"https://www.baeldung.com/websockets-spring\" rel=\"nofollow noreferrer\">websokets-spring</a>),I mainly added WebSocketListener，this is my code</p>\n<pre><code>@Component\n@Slf4j\npublic class WebSocketListener {\n\n    @EventListener\n    public void handleWebSocketConnectListener(SessionConnectEvent sessionConnectEvent) {\n        StompHeaderAccessor headerAccessor = StompHeaderAccessor.wrap(sessionConnectEvent.getMessage());\n        log.debug(&quot;connect, sessionId = {}&quot;, headerAccessor.getSessionId());\n    }\n\n    @EventListener\n    public void handleWebSocketConnectedListener(SessionConnectedEvent sessionConnectedEvent) {\n        log.debug(&quot;connected &quot;);\n    }\n\n    @EventListener\n    public void handleWebSocketDisconnectListener(SessionDisconnectEvent sessionDisconnectEvent) {\n        StompHeaderAccessor headerAccessor = StompHeaderAccessor.wrap(sessionDisconnectEvent.getMessage());\n        log.debug(&quot;disconnect, session id = {}&quot;, sessionDisconnectEvent.getSessionId());\n    }\n\n    @EventListener\n    public void handleWebSocketSubscribeEvent(SessionSubscribeEvent sessionSubscribeEvent) {\n        log.debug(&quot;subscribe, {}&quot;, sessionSubscribeEvent.toString());\n    }\n\n    @EventListener\n    public void handleWebSocketUnsubscribeEvent(SessionUnsubscribeEvent sessionUnsubscribeEvent) {\n        log.debug(&quot;unsubscribe, {}&quot;, sessionUnsubscribeEvent.getSource());\n    }\n}\n</code></pre>\n<p>When I enter the page to open the WebSocket connection and close the WebSocket connection or Close page, I can listen to the event。<a href=\"https://i.stack.imgur.com/yOSak.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/VQdf5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But when I use the front-end and back-end separated projects to connect WebSocket, I can listen to the SessionConnectEvent, but not the SessionDisconnectEvent<a href=\"https://i.stack.imgur.com/b74ZR.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/Gf1LW.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/Uyt8m.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/5Pevl.png\" rel=\"nofollow noreferrer\">enter image description here</a>this is my front-end stomp code</p>\n<pre><code>function chatClient(): CompatClient {\n    const socket = SockJS('http://localhost/ws');\n    const client = Stomp.over(socket);\n    return client;\n}\nclient = chatClient();\n  client.connect(\n      {\n        Authorization: getAuthorization(),\n      },\n      (frame: any) =&gt; {\n        console.log(&quot;ws success&quot;, frame);\n        client.subscribe(`/user/${userStore.userInfo.username}/messages`, function (message) {\n          console.log('msg', message.body);\n        });\n      }, (err: any) =&gt; {\n        console.log(&quot;ws err&quot;);\n      });\n</code></pre>\n"},{"tags":["java","lambda","jvm","java-8","compiler-theory"],"answers":[{"tags":[],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1397738260,"creation_date":1397738260,"answer_id":23133331,"question_id":23133243,"body_markdown":"Use **javap** additional arguments to print full information about class: **javap -v -p -s -c**\r\n\r\nFor your example, source code of lambda will be:\r\n\r\n    private static java.lang.Integer lambda$main$0(java.lang.Integer, java.lang.Integer);\r\n        descriptor: (Ljava/lang/Integer;Ljava/lang/Integer;)Ljava/lang/Integer;\r\n        flags: ACC_PRIVATE, ACC_STATIC, ACC_SYNTHETIC\r\n        Code:\r\n          stack=2, locals=2, args_size=2\r\n             0: aload_0       \r\n             1: invokevirtual #17                 // Method java/lang/Integer.intValue:()I\r\n             4: aload_1       \r\n             5: invokevirtual #17                 // Method java/lang/Integer.intValue:()I\r\n             8: imul          \r\n             9: invokestatic  #2                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\r\n            12: areturn       \r\n          LineNumberTable:\r\n            line 10: 0\r\n          LocalVariableTable:\r\n            Start  Length  Slot  Name   Signature\r\n                0      13     0     a   Ljava/lang/Integer;\r\n                0      13     1     b   Ljava/lang/Integer;\r\n    }\r\n","title":"How are Lambda Expressions Translated Into Java Byte Code","body":"<p>Use <strong>javap</strong> additional arguments to print full information about class: <strong>javap -v -p -s -c</strong></p>\n\n<p>For your example, source code of lambda will be:</p>\n\n<pre><code>private static java.lang.Integer lambda$main$0(java.lang.Integer, java.lang.Integer);\n    descriptor: (Ljava/lang/Integer;Ljava/lang/Integer;)Ljava/lang/Integer;\n    flags: ACC_PRIVATE, ACC_STATIC, ACC_SYNTHETIC\n    Code:\n      stack=2, locals=2, args_size=2\n         0: aload_0       \n         1: invokevirtual #17                 // Method java/lang/Integer.intValue:()I\n         4: aload_1       \n         5: invokevirtual #17                 // Method java/lang/Integer.intValue:()I\n         8: imul          \n         9: invokestatic  #2                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n        12: areturn       \n      LineNumberTable:\n        line 10: 0\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      13     0     a   Ljava/lang/Integer;\n            0      13     1     b   Ljava/lang/Integer;\n}\n</code></pre>\n"}],"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5734,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":23133331,"answer_count":1,"score":21,"last_activity_date":1666317496,"creation_date":1397738075,"question_id":23133243,"body_markdown":"I am trying to create an example using lambda expression in java and i am using offical JDK8. My example was run successfully. But when i trying to check how the compiler translate lambda expression into byte code, this makes me some confusion.Following is the code of my example:- \r\n\r\n    public class LambdaTest {\r\n        public Integer lambdaBinaryOpertor(BinaryOperator&lt;Integer&gt; binaryOperator) {\r\n            return binaryOperator.apply(60, 72);\r\n        }\r\n    \t\r\n        public static void main(String[] args) {\r\n            LambdaTest test = new LambdaTest();\r\n            BinaryOperator&lt;Integer&gt; binaryOperator = (a, b) -&gt; a*b;\r\n            System.out.println(&quot;Additon using Lambda BinaryOperator: &quot;+test.lambdaBinaryOpertor(binaryOperator));\r\n        }\r\n    }\r\n\r\nIn this [Article][1], they discuss about how compiler translate the lambda expressions into byte code. According to this document the lambda expression convert into `static` method and the location where lambda expression declare, have reference of lambda `static` method. The following example is in the article : \r\n    \r\n    //Source code\r\n    class A {\r\n        public void foo() {\r\n            List&lt;String&gt; list = ...\r\n            list.forEach( s -&gt; { System.out.println(s); } );\r\n        }\r\n    } \r\n    \r\n    //After compile above code &quot;translate code &quot; \r\n    class A {\r\n        public void foo() {\r\n            List&lt;String&gt; list = ...\r\n            list.forEach( [lambda for lambda$1 as Block] );\r\n        }\r\n    \r\n        static void lambda$1(String s) {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\nMy example run fine and give us the appropriate result. But when i trying to run the `javap` command for check the byte code of class, there is no static method for lambdas in byte code. \r\n\r\n    c:\\&gt;javap LambdaTest\r\n    Compiled from &quot;LambdaTest.java&quot;\r\n    public class LambdaTest {\r\n    public LambdaTest();\r\n    public java.lang.Integer lambdaBinaryOpertor(java.util.function.BinaryOperator &lt;java.lang.Integer&gt;);\r\n    public static void main(java.lang.String[]);\r\n    }\r\n\r\nIn the case of generics, bridge method is created by compiler and we will also check this method using `javap` command, but in the case of lambdas there is no `static` method. The article was published at 2012 and java 8 was launch at march 2014. So i have some queries regarding transnational of lambda: \r\n\r\n 1. Is there any new implementation used for lambda in JDK 8 after this article release or i will do something wrong to check the lambda method ?\r\n 2. How really the compiler deal with lambda expression?\r\n 3. How the JVM invoke the lambda exression ? \r\n\r\n  [1]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html","title":"How are Lambda Expressions Translated Into Java Byte Code","body":"<p>I am trying to create an example using lambda expression in java and i am using offical JDK8. My example was run successfully. But when i trying to check how the compiler translate lambda expression into byte code, this makes me some confusion.Following is the code of my example:- </p>\n\n<pre><code>public class LambdaTest {\n    public Integer lambdaBinaryOpertor(BinaryOperator&lt;Integer&gt; binaryOperator) {\n        return binaryOperator.apply(60, 72);\n    }\n\n    public static void main(String[] args) {\n        LambdaTest test = new LambdaTest();\n        BinaryOperator&lt;Integer&gt; binaryOperator = (a, b) -&gt; a*b;\n        System.out.println(\"Additon using Lambda BinaryOperator: \"+test.lambdaBinaryOpertor(binaryOperator));\n    }\n}\n</code></pre>\n\n<p>In this <a href=\"http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html\">Article</a>, they discuss about how compiler translate the lambda expressions into byte code. According to this document the lambda expression convert into <code>static</code> method and the location where lambda expression declare, have reference of lambda <code>static</code> method. The following example is in the article : </p>\n\n<pre><code>//Source code\nclass A {\n    public void foo() {\n        List&lt;String&gt; list = ...\n        list.forEach( s -&gt; { System.out.println(s); } );\n    }\n} \n\n//After compile above code \"translate code \" \nclass A {\n    public void foo() {\n        List&lt;String&gt; list = ...\n        list.forEach( [lambda for lambda$1 as Block] );\n    }\n\n    static void lambda$1(String s) {\n        System.out.println(s);\n    }\n}\n</code></pre>\n\n<p>My example run fine and give us the appropriate result. But when i trying to run the <code>javap</code> command for check the byte code of class, there is no static method for lambdas in byte code. </p>\n\n<pre><code>c:\\&gt;javap LambdaTest\nCompiled from \"LambdaTest.java\"\npublic class LambdaTest {\npublic LambdaTest();\npublic java.lang.Integer lambdaBinaryOpertor(java.util.function.BinaryOperator &lt;java.lang.Integer&gt;);\npublic static void main(java.lang.String[]);\n}\n</code></pre>\n\n<p>In the case of generics, bridge method is created by compiler and we will also check this method using <code>javap</code> command, but in the case of lambdas there is no <code>static</code> method. The article was published at 2012 and java 8 was launch at march 2014. So i have some queries regarding transnational of lambda: </p>\n\n<ol>\n<li>Is there any new implementation used for lambda in JDK 8 after this article release or i will do something wrong to check the lambda method ?</li>\n<li>How really the compiler deal with lambda expression?</li>\n<li>How the JVM invoke the lambda exression ? </li>\n</ol>\n"},{"tags":["java","spring-boot","netflix-eureka","netflix-zuul","gateway"],"answers":[{"tags":[],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666317092,"creation_date":1666316536,"answer_id":74147934,"question_id":74119771,"body_markdown":"After 2 days work out, the problem is solved and I have found the cause.\r\n\r\nRaw use of `com.netflix.niws.loadbalancer.EurekaNotificationServerListUpdater` in Zuul application will always have this kind of situation:\r\n\r\nAt the very beginning, if a `EurekaEventListener` was fired by `DiscoveryClient`, listeners registered by `EurekaNotificationServerListUpdater` will receive this message and then try to update serverlist and it is normal.\r\n\r\nBut when a `RefreshEvent` is fired, instance in application will re-register again which will cause `DiscoveryClient` to become a new instance! Which means, new `DiscoveryClient` will no longer holding listeners.\r\n\r\nAnd also, a default use of `EurekaNotificationServerListUpdater` will use a singleton instance of `DiscoveryClient` which will never be changed by `RefreshEvent`, and those listeners will be hold by that old `DiscoveryClient` which is not managed by Eureka again after `RefreshEvent`.\r\n\r\nCause by this situation, after a `RefreshEvent`, Eureka&#39;s fetch heartbeat will no longer trigger listeners refreshing function and my gateway will crash if I have some applications down.\r\n\r\nWhat I did to fix this problem is to markdown instance of those listeners and then try to re-register them into new `DiscoveryClient` when refreshing job is done.\r\n\r\nHere is my code:\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class RibbonDiscoveryClientListenerManager implements SmartApplicationListener {\r\n\r\n    private static EurekaClient discoveryClient;\r\n    /**\r\n     * markdown alive listeners in current EurekaClient\r\n     */\r\n    private static final CopyOnWriteArraySet&lt;EurekaEventListener&gt; EUREKA_EVENT_LISTENER_SET = new CopyOnWriteArraySet&lt;&gt;();\r\n\r\n    /**\r\n     * judge whether to try a re-register\r\n     *\r\n     * @param listener\r\n     */\r\n    static void register(EurekaEventListener listener) {\r\n        if (discoveryClient != null) {\r\n            registerEurekaListener(listener);\r\n            log.debug(&quot;discoveryClient update succeed&quot;);\r\n        } else {\r\n            log.warn(&quot;discoveryClient was not found waiting for scheduling...&quot;);\r\n        }\r\n    }\r\n\r\n    public static void registerEurekaListener(EurekaEventListener listener) {\r\n        if (!EUREKA_EVENT_LISTENER_SET.contains(listener)) {\r\n            EUREKA_EVENT_LISTENER_SET.add(listener);\r\n            discoveryClient.registerEventListener(listener);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean supportsEventType(Class&lt;? extends ApplicationEvent&gt; eventType) {\r\n        return InstanceRegisteredEvent.class.isAssignableFrom(eventType);\r\n    }\r\n\r\n    @Override\r\n    public void onApplicationEvent(ApplicationEvent event) {\r\n        //clear cache\r\n        discoveryClient = null;\r\n        EUREKA_EVENT_LISTENER_SET.clear();\r\n\r\n        //try to get CloudEurekaClient\r\n        for (EurekaClient bean : ApplicationContextHolder.getBeans(EurekaClient.class)) {\r\n            if (CloudEurekaClient.class.isAssignableFrom(bean.getClass())) {\r\n                discoveryClient = bean;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nHere is the customized `ServerListUpdate`\r\n\r\n```\r\n@Slf4j\r\npublic class RibbonClientEurekaAutoCompensateServerListUpdater implements ServerListUpdater {\r\n    private static class LazyHolder {\r\n        private final static String CORE_THREAD = &quot;EurekaNotificationServerListUpdater.ThreadPoolSize&quot;;\r\n        private final static String QUEUE_SIZE = &quot;EurekaNotificationServerListUpdater.queueSize&quot;;\r\n        private final static LazyHolder SINGLETON = new LazyHolder();\r\n\r\n        private final DynamicIntProperty poolSizeProp = new DynamicIntProperty(CORE_THREAD, 2);\r\n        private final DynamicIntProperty queueSizeProp = new DynamicIntProperty(QUEUE_SIZE, 1000);\r\n        private final ThreadPoolExecutor defaultServerListUpdateExecutor;\r\n        private final Thread shutdownThread;\r\n\r\n        private LazyHolder() {\r\n            int corePoolSize = getCorePoolSize();\r\n            defaultServerListUpdateExecutor = new ThreadPoolExecutor(\r\n                    corePoolSize,\r\n                    corePoolSize * 5,\r\n                    0,\r\n                    TimeUnit.NANOSECONDS,\r\n                    new ArrayBlockingQueue&lt;Runnable&gt;(queueSizeProp.get()),\r\n                    new ThreadFactoryBuilder()\r\n                            .setNameFormat(&quot;EurekaNotificationServerListUpdater-%d&quot;)\r\n                            .setDaemon(true)\r\n                            .build()\r\n            );\r\n\r\n            poolSizeProp.addCallback(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    int corePoolSize = getCorePoolSize();\r\n                    defaultServerListUpdateExecutor.setCorePoolSize(corePoolSize);\r\n                    defaultServerListUpdateExecutor.setMaximumPoolSize(corePoolSize * 5);\r\n                }\r\n            });\r\n\r\n            shutdownThread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    log.info(&quot;Shutting down the Executor for EurekaNotificationServerListUpdater&quot;);\r\n                    try {\r\n                        defaultServerListUpdateExecutor.shutdown();\r\n                        Runtime.getRuntime().removeShutdownHook(shutdownThread);\r\n                    } catch (Exception e) {\r\n                        // this can happen in the middle of a real shutdown, and that&#39;s ok.\r\n                    }\r\n                }\r\n            });\r\n\r\n            Runtime.getRuntime().addShutdownHook(shutdownThread);\r\n        }\r\n\r\n        private int getCorePoolSize() {\r\n            int propSize = poolSizeProp.get();\r\n            if (propSize &gt; 0) {\r\n                return propSize;\r\n            }\r\n            return 2; // default\r\n        }\r\n    }\r\n\r\n    public static ExecutorService getDefaultRefreshExecutor() {\r\n        return LazyHolder.SINGLETON.defaultServerListUpdateExecutor;\r\n    }\r\n\r\n    /* visible for testing */ final AtomicBoolean updateQueued = new AtomicBoolean(false);\r\n    private final AtomicBoolean isActive = new AtomicBoolean(false);\r\n    private final AtomicLong lastUpdated = new AtomicLong(System.currentTimeMillis());\r\n    private final Provider&lt;EurekaClient&gt; eurekaClientProvider;\r\n    private final ExecutorService refreshExecutor;\r\n\r\n    private volatile EurekaEventListener updateListener;\r\n    private volatile EurekaClient eurekaClient;\r\n\r\n    public RibbonClientEurekaAutoCompensateServerListUpdater() {\r\n        this(new LegacyEurekaClientProvider());\r\n    }\r\n\r\n    public RibbonClientEurekaAutoCompensateServerListUpdater(final Provider&lt;EurekaClient&gt; eurekaClientProvider) {\r\n        this(eurekaClientProvider, getDefaultRefreshExecutor());\r\n    }\r\n\r\n    public RibbonClientEurekaAutoCompensateServerListUpdater(final Provider&lt;EurekaClient&gt; eurekaClientProvider, ExecutorService refreshExecutor) {\r\n        this.eurekaClientProvider = eurekaClientProvider;\r\n        this.refreshExecutor = refreshExecutor;\r\n    }\r\n\r\n    @Override\r\n    public synchronized void start(final UpdateAction updateAction) {\r\n        if (isActive.compareAndSet(false, true)) {\r\n            this.updateListener = new EurekaEventListener() {\r\n                @Override\r\n                public void onEvent(EurekaEvent event) {\r\n                    if (event instanceof CacheRefreshedEvent) {\r\n                        if (!updateQueued.compareAndSet(false, true)) {  // if an update is already queued\r\n                            log.info(&quot;an update action is already queued, returning as no-op&quot;);\r\n                            return;\r\n                        }\r\n\r\n                        if (!refreshExecutor.isShutdown()) {\r\n                            try {\r\n                                refreshExecutor.submit(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        try {\r\n                                            updateAction.doUpdate();\r\n                                            lastUpdated.set(System.currentTimeMillis());\r\n                                        } catch (Exception e) {\r\n                                            log.warn(&quot;Failed to update serverList&quot;, e);\r\n                                        } finally {\r\n                                            updateQueued.set(false);\r\n                                        }\r\n                                    }\r\n                                });  // fire and forget\r\n                            } catch (Exception e) {\r\n                                log.warn(&quot;Error submitting update task to executor, skipping one round of updates&quot;, e);\r\n                                updateQueued.set(false);  // if submit fails, need to reset updateQueued to false\r\n                            }\r\n                        } else {\r\n                            log.debug(&quot;stopping EurekaNotificationServerListUpdater, as refreshExecutor has been shut down&quot;);\r\n                            stop();\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            if (eurekaClient == null) {\r\n                eurekaClient = eurekaClientProvider.get();\r\n            }\r\n            if (eurekaClient != null) {\r\n                RibbonDiscoveryClientListenerManager.register(updateListener);\r\n            } else {\r\n                log.error(&quot;Failed to register an updateListener to eureka client, eureka client is null&quot;);\r\n                throw new IllegalStateException(&quot;Failed to start the updater, unable to register the update listener due to eureka client being null.&quot;);\r\n            }\r\n\r\n            //start a shcedulepool to check new DiscoveryClient&#39;s listeners\r\n            new ScheduledThreadPoolExecutor(1,\r\n                    new ThreadFactoryBuilder()\r\n                            .setNameFormat(&quot;refreshListenerPool-%d&quot;)\r\n                            .build())\r\n                    .scheduleWithFixedDelay(() -&gt; {\r\n                        //schedule to invoke register defined in RibbonDiscoveryClientListenerManager\r\n                        RibbonDiscoveryClientListenerManager.register(updateListener);\r\n                    }, 10, 10, TimeUnit.SECONDS);\r\n        } else {\r\n            log.info(&quot;Update listener already registered, no-op&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public synchronized void stop() {\r\n        if (isActive.compareAndSet(true, false)) {\r\n            if (eurekaClient != null) {\r\n                eurekaClient.unregisterEventListener(updateListener);\r\n            }\r\n        } else {\r\n            log.info(&quot;Not currently active, no-op&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getLastUpdate() {\r\n        return new Date(lastUpdated.get()).toString();\r\n    }\r\n\r\n    @Override\r\n    public long getDurationSinceLastUpdateMs() {\r\n        return System.currentTimeMillis() - lastUpdated.get();\r\n    }\r\n\r\n    @Override\r\n    public int getNumberMissedCycles() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public int getCoreThreads() {\r\n        if (isActive.get()) {\r\n            if (refreshExecutor != null &amp;&amp; refreshExecutor instanceof ThreadPoolExecutor) {\r\n                return ((ThreadPoolExecutor) refreshExecutor).getCorePoolSize();\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n\r\n```\r\n\r\nConfig Class:\r\n\r\n```\r\n\r\n@RibbonClients(defaultConfiguration = CustomizedRibbonConfig.class)\r\npublic class RibbonClientConfiguration {\r\n    public static class BazServiceList extends ConfigurationBasedServerList {\r\n        public BazServiceList(IClientConfig config) {\r\n            super.initWithNiwsConfig(config);\r\n        }\r\n    }\r\n}\r\n\r\n@Configuration\r\nclass CustomizedRibbonConfig {\r\n    static final AtomicBoolean justRefreshed = new AtomicBoolean(false);\r\n\r\n    @Bean\r\n    public IRule ribbonRule() {\r\n        return new MetadataAwareRule();\r\n    }\r\n\r\n    @Bean\r\n    public ServerListUpdater ribbonServerListUpdater() {\r\n        return new RibbonClientEurekaAutoCompensateServerListUpdater();\r\n    }\r\n}\r\n\r\n```\r\n","title":"RedirectingEurekaHttpClient Request execution error","body":"<p>After 2 days work out, the problem is solved and I have found the cause.</p>\n<p>Raw use of <code>com.netflix.niws.loadbalancer.EurekaNotificationServerListUpdater</code> in Zuul application will always have this kind of situation:</p>\n<p>At the very beginning, if a <code>EurekaEventListener</code> was fired by <code>DiscoveryClient</code>, listeners registered by <code>EurekaNotificationServerListUpdater</code> will receive this message and then try to update serverlist and it is normal.</p>\n<p>But when a <code>RefreshEvent</code> is fired, instance in application will re-register again which will cause <code>DiscoveryClient</code> to become a new instance! Which means, new <code>DiscoveryClient</code> will no longer holding listeners.</p>\n<p>And also, a default use of <code>EurekaNotificationServerListUpdater</code> will use a singleton instance of <code>DiscoveryClient</code> which will never be changed by <code>RefreshEvent</code>, and those listeners will be hold by that old <code>DiscoveryClient</code> which is not managed by Eureka again after <code>RefreshEvent</code>.</p>\n<p>Cause by this situation, after a <code>RefreshEvent</code>, Eureka's fetch heartbeat will no longer trigger listeners refreshing function and my gateway will crash if I have some applications down.</p>\n<p>What I did to fix this problem is to markdown instance of those listeners and then try to re-register them into new <code>DiscoveryClient</code> when refreshing job is done.</p>\n<p>Here is my code:</p>\n<pre><code>@Configuration\n@Slf4j\npublic class RibbonDiscoveryClientListenerManager implements SmartApplicationListener {\n\n    private static EurekaClient discoveryClient;\n    /**\n     * markdown alive listeners in current EurekaClient\n     */\n    private static final CopyOnWriteArraySet&lt;EurekaEventListener&gt; EUREKA_EVENT_LISTENER_SET = new CopyOnWriteArraySet&lt;&gt;();\n\n    /**\n     * judge whether to try a re-register\n     *\n     * @param listener\n     */\n    static void register(EurekaEventListener listener) {\n        if (discoveryClient != null) {\n            registerEurekaListener(listener);\n            log.debug(&quot;discoveryClient update succeed&quot;);\n        } else {\n            log.warn(&quot;discoveryClient was not found waiting for scheduling...&quot;);\n        }\n    }\n\n    public static void registerEurekaListener(EurekaEventListener listener) {\n        if (!EUREKA_EVENT_LISTENER_SET.contains(listener)) {\n            EUREKA_EVENT_LISTENER_SET.add(listener);\n            discoveryClient.registerEventListener(listener);\n        }\n    }\n\n    @Override\n    public boolean supportsEventType(Class&lt;? extends ApplicationEvent&gt; eventType) {\n        return InstanceRegisteredEvent.class.isAssignableFrom(eventType);\n    }\n\n    @Override\n    public void onApplicationEvent(ApplicationEvent event) {\n        //clear cache\n        discoveryClient = null;\n        EUREKA_EVENT_LISTENER_SET.clear();\n\n        //try to get CloudEurekaClient\n        for (EurekaClient bean : ApplicationContextHolder.getBeans(EurekaClient.class)) {\n            if (CloudEurekaClient.class.isAssignableFrom(bean.getClass())) {\n                discoveryClient = bean;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here is the customized <code>ServerListUpdate</code></p>\n<pre><code>@Slf4j\npublic class RibbonClientEurekaAutoCompensateServerListUpdater implements ServerListUpdater {\n    private static class LazyHolder {\n        private final static String CORE_THREAD = &quot;EurekaNotificationServerListUpdater.ThreadPoolSize&quot;;\n        private final static String QUEUE_SIZE = &quot;EurekaNotificationServerListUpdater.queueSize&quot;;\n        private final static LazyHolder SINGLETON = new LazyHolder();\n\n        private final DynamicIntProperty poolSizeProp = new DynamicIntProperty(CORE_THREAD, 2);\n        private final DynamicIntProperty queueSizeProp = new DynamicIntProperty(QUEUE_SIZE, 1000);\n        private final ThreadPoolExecutor defaultServerListUpdateExecutor;\n        private final Thread shutdownThread;\n\n        private LazyHolder() {\n            int corePoolSize = getCorePoolSize();\n            defaultServerListUpdateExecutor = new ThreadPoolExecutor(\n                    corePoolSize,\n                    corePoolSize * 5,\n                    0,\n                    TimeUnit.NANOSECONDS,\n                    new ArrayBlockingQueue&lt;Runnable&gt;(queueSizeProp.get()),\n                    new ThreadFactoryBuilder()\n                            .setNameFormat(&quot;EurekaNotificationServerListUpdater-%d&quot;)\n                            .setDaemon(true)\n                            .build()\n            );\n\n            poolSizeProp.addCallback(new Runnable() {\n                @Override\n                public void run() {\n                    int corePoolSize = getCorePoolSize();\n                    defaultServerListUpdateExecutor.setCorePoolSize(corePoolSize);\n                    defaultServerListUpdateExecutor.setMaximumPoolSize(corePoolSize * 5);\n                }\n            });\n\n            shutdownThread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    log.info(&quot;Shutting down the Executor for EurekaNotificationServerListUpdater&quot;);\n                    try {\n                        defaultServerListUpdateExecutor.shutdown();\n                        Runtime.getRuntime().removeShutdownHook(shutdownThread);\n                    } catch (Exception e) {\n                        // this can happen in the middle of a real shutdown, and that's ok.\n                    }\n                }\n            });\n\n            Runtime.getRuntime().addShutdownHook(shutdownThread);\n        }\n\n        private int getCorePoolSize() {\n            int propSize = poolSizeProp.get();\n            if (propSize &gt; 0) {\n                return propSize;\n            }\n            return 2; // default\n        }\n    }\n\n    public static ExecutorService getDefaultRefreshExecutor() {\n        return LazyHolder.SINGLETON.defaultServerListUpdateExecutor;\n    }\n\n    /* visible for testing */ final AtomicBoolean updateQueued = new AtomicBoolean(false);\n    private final AtomicBoolean isActive = new AtomicBoolean(false);\n    private final AtomicLong lastUpdated = new AtomicLong(System.currentTimeMillis());\n    private final Provider&lt;EurekaClient&gt; eurekaClientProvider;\n    private final ExecutorService refreshExecutor;\n\n    private volatile EurekaEventListener updateListener;\n    private volatile EurekaClient eurekaClient;\n\n    public RibbonClientEurekaAutoCompensateServerListUpdater() {\n        this(new LegacyEurekaClientProvider());\n    }\n\n    public RibbonClientEurekaAutoCompensateServerListUpdater(final Provider&lt;EurekaClient&gt; eurekaClientProvider) {\n        this(eurekaClientProvider, getDefaultRefreshExecutor());\n    }\n\n    public RibbonClientEurekaAutoCompensateServerListUpdater(final Provider&lt;EurekaClient&gt; eurekaClientProvider, ExecutorService refreshExecutor) {\n        this.eurekaClientProvider = eurekaClientProvider;\n        this.refreshExecutor = refreshExecutor;\n    }\n\n    @Override\n    public synchronized void start(final UpdateAction updateAction) {\n        if (isActive.compareAndSet(false, true)) {\n            this.updateListener = new EurekaEventListener() {\n                @Override\n                public void onEvent(EurekaEvent event) {\n                    if (event instanceof CacheRefreshedEvent) {\n                        if (!updateQueued.compareAndSet(false, true)) {  // if an update is already queued\n                            log.info(&quot;an update action is already queued, returning as no-op&quot;);\n                            return;\n                        }\n\n                        if (!refreshExecutor.isShutdown()) {\n                            try {\n                                refreshExecutor.submit(new Runnable() {\n                                    @Override\n                                    public void run() {\n                                        try {\n                                            updateAction.doUpdate();\n                                            lastUpdated.set(System.currentTimeMillis());\n                                        } catch (Exception e) {\n                                            log.warn(&quot;Failed to update serverList&quot;, e);\n                                        } finally {\n                                            updateQueued.set(false);\n                                        }\n                                    }\n                                });  // fire and forget\n                            } catch (Exception e) {\n                                log.warn(&quot;Error submitting update task to executor, skipping one round of updates&quot;, e);\n                                updateQueued.set(false);  // if submit fails, need to reset updateQueued to false\n                            }\n                        } else {\n                            log.debug(&quot;stopping EurekaNotificationServerListUpdater, as refreshExecutor has been shut down&quot;);\n                            stop();\n                        }\n                    }\n                }\n            };\n            if (eurekaClient == null) {\n                eurekaClient = eurekaClientProvider.get();\n            }\n            if (eurekaClient != null) {\n                RibbonDiscoveryClientListenerManager.register(updateListener);\n            } else {\n                log.error(&quot;Failed to register an updateListener to eureka client, eureka client is null&quot;);\n                throw new IllegalStateException(&quot;Failed to start the updater, unable to register the update listener due to eureka client being null.&quot;);\n            }\n\n            //start a shcedulepool to check new DiscoveryClient's listeners\n            new ScheduledThreadPoolExecutor(1,\n                    new ThreadFactoryBuilder()\n                            .setNameFormat(&quot;refreshListenerPool-%d&quot;)\n                            .build())\n                    .scheduleWithFixedDelay(() -&gt; {\n                        //schedule to invoke register defined in RibbonDiscoveryClientListenerManager\n                        RibbonDiscoveryClientListenerManager.register(updateListener);\n                    }, 10, 10, TimeUnit.SECONDS);\n        } else {\n            log.info(&quot;Update listener already registered, no-op&quot;);\n        }\n    }\n\n    @Override\n    public synchronized void stop() {\n        if (isActive.compareAndSet(true, false)) {\n            if (eurekaClient != null) {\n                eurekaClient.unregisterEventListener(updateListener);\n            }\n        } else {\n            log.info(&quot;Not currently active, no-op&quot;);\n        }\n    }\n\n    @Override\n    public String getLastUpdate() {\n        return new Date(lastUpdated.get()).toString();\n    }\n\n    @Override\n    public long getDurationSinceLastUpdateMs() {\n        return System.currentTimeMillis() - lastUpdated.get();\n    }\n\n    @Override\n    public int getNumberMissedCycles() {\n        return 0;\n    }\n\n    @Override\n    public int getCoreThreads() {\n        if (isActive.get()) {\n            if (refreshExecutor != null &amp;&amp; refreshExecutor instanceof ThreadPoolExecutor) {\n                return ((ThreadPoolExecutor) refreshExecutor).getCorePoolSize();\n            }\n        }\n        return 0;\n    }\n}\n\n</code></pre>\n<p>Config Class:</p>\n<pre><code>\n@RibbonClients(defaultConfiguration = CustomizedRibbonConfig.class)\npublic class RibbonClientConfiguration {\n    public static class BazServiceList extends ConfigurationBasedServerList {\n        public BazServiceList(IClientConfig config) {\n            super.initWithNiwsConfig(config);\n        }\n    }\n}\n\n@Configuration\nclass CustomizedRibbonConfig {\n    static final AtomicBoolean justRefreshed = new AtomicBoolean(false);\n\n    @Bean\n    public IRule ribbonRule() {\n        return new MetadataAwareRule();\n    }\n\n    @Bean\n    public ServerListUpdater ribbonServerListUpdater() {\n        return new RibbonClientEurekaAutoCompensateServerListUpdater();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74147934,"answer_count":1,"score":0,"last_activity_date":1666317092,"creation_date":1666152635,"question_id":74119771,"body_markdown":"I have a gateway application with customized loadbalancing rule, and here is the code following [spring cloud official doc][1]:\r\n```\r\n@RibbonClients(defaultConfiguration = CustomizedRibbonConfig.class)\r\npublic class RibbonClientConfiguration {\r\n    public static class BazServiceList extends ConfigurationBasedServerList {\r\n        public BazServiceList(IClientConfig config) {\r\n            super.initWithNiwsConfig(config);\r\n        }\r\n    }\r\n}\r\n\r\n@Configuration\r\nclass CustomizedRibbonConfig {\r\n    @Bean\r\n    public IRule ribbonRule() {\r\n        return new MetadataAwareRule();\r\n    }\r\n\r\n    @Bean\r\n    public ServerListUpdater ribbonServerListUpdater() {\r\n        return new EurekaNotificationServerListUpdater();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class MetadataAwarePredicate extends AbstractDiscoveryEnabledPredicate {\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    protected boolean apply(DiscoveryEnabledServer server) {\r\n        return true;\r\n    }\r\n}\r\n```\r\n```\r\n@Slf4j\r\npublic class MetadataAwareRule extends AbstractDiscoveryEnabledRule {\r\n    public static final ThreadLocal&lt;String&gt; CURRENT_LOAD_BALANCED_SERVICE_IP = new ThreadLocal&lt;&gt;();\r\n\r\n    /**\r\n     * Creates new instance of {@link MetadataAwareRule}.\r\n     */\r\n    public MetadataAwareRule() {\r\n        this(new MetadataAwarePredicate());\r\n    }\r\n\r\n    /**\r\n     * Creates new instance of {@link MetadataAwareRule} with specific predicate.\r\n     *\r\n     * @param predicate the predicate, can&#39;t be {@code null}\r\n     * @throws IllegalArgumentException if predicate is {@code null}\r\n     */\r\n    public MetadataAwareRule(AbstractDiscoveryEnabledPredicate predicate) {\r\n        super(predicate);\r\n    }\r\n\r\n\r\n    @Override\r\n    public Server choose(Object key) {\r\n       ....my customized choose policy....\r\n}\r\n```\r\nAnd Here is the thing, I have a need to refresh application by firing `RefreshEvent` but it will lead to quite strange problem which may due to Eureka or zuul client of version from parent:\r\n```\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-netflix&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n```\r\n\r\nFor easy recurrent of such problem, the function was simplified as a simple request showing below:\r\n```\r\n    @GetMapping(&quot;/test/event&quot;)\r\n    public CommonResult testRaiseRefreshEvent() {\r\n        ApplicationContextHolder.getApplicationContext().publishEvent(new RefreshEvent(this, null, &quot;test to trigger the problem&quot;));\r\n        return CommonResult.succeed();\r\n    }\r\n```\r\n\r\nOnce request this api, application will take a refresh.\r\n\r\nBut sometimes, application will have this exception:\r\n```\r\n2022-10-19 11:29:32.947 [app:web-gateway,traceId:,spanId:,parentId:] [DiscoveryClient-CacheRefreshExecutor-0] ERROR | RedirectingEurekaHttpClient.java:83 | c.n.d.s.t.d.RedirectingEurekaHttpClient | Request execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8000/eureka/}\r\njavax.ws.rs.WebApplicationException: com.fasterxml.jackson.core.JsonParseException: processing aborted\r\n at [Source: (GZIPInputStream); line: 1, column: 18]\r\n\tat com.netflix.discovery.provider.DiscoveryJerseyProvider.readFrom(DiscoveryJerseyProvider.java:110)\r\n\tat com.sun.jersey.api.client.ClientResponse.getEntity(ClientResponse.java:634)\r\n\tat com.sun.jersey.api.client.ClientResponse.getEntity(ClientResponse.java:586)\r\n\tat com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.getApplicationsInternal(AbstractJerseyEurekaHttpClient.java:200)\r\n\tat com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.getApplications(AbstractJerseyEurekaHttpClient.java:167)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n\tat com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:118)\r\n\tat com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:79)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1097)\r\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1011)\r\n\tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:440)\r\n\tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:282)\r\n\tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:278)\r\n\tat org.springframework.cloud.netflix.eureka.CloudEurekaClient.&lt;init&gt;(CloudEurekaClient.java:67)\r\n\tat org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:316)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:363)\r\n\tat org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:389)\r\n\tat org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:186)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:360)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)\r\n\tat com.sun.proxy.$Proxy169.getApplications(Unknown Source)\r\n\tat org.springframework.cloud.netflix.eureka.EurekaDiscoveryClient.getServices(EurekaDiscoveryClient.java:80)\r\n\tat org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClient.getServices(CompositeDiscoveryClient.java:67)\r\n\tat org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.locateRoutes(DiscoveryClientRouteLocator.java:121)\r\n\tat org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.locateRoutes(DiscoveryClientRouteLocator.java:44)\r\n\tat org.springframework.cloud.netflix.zuul.filters.SimpleRouteLocator.doRefresh(SimpleRouteLocator.java:186)\r\n\tat org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.refresh(DiscoveryClientRouteLocator.java:171)\r\n\tat org.springframework.cloud.netflix.zuul.filters.CompositeRouteLocator.refresh(CompositeRouteLocator.java:78)\r\n\tat org.springframework.cloud.netflix.zuul.web.ZuulHandlerMapping.setDirty(ZuulHandlerMapping.java:79)\r\n\tat org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.reset(ZuulServerAutoConfiguration.java:315)\r\n\tat org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.resetIfNeeded(ZuulServerAutoConfiguration.java:310)\r\n\tat org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.onApplicationEvent(ZuulServerAutoConfiguration.java:304)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\r\n\tat org.springframework.cloud.netflix.eureka.CloudEurekaClient.onCacheRefreshed(CloudEurekaClient.java:123)\r\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1027)\r\n\tat com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1533)\r\n\tat com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1500)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.fasterxml.jackson.core.JsonParseException: processing aborted\r\n at [Source: (GZIPInputStream); line: 1, column: 18]\r\n\tat com.netflix.discovery.converters.EurekaJacksonCodec$ApplicationsDeserializer.deserialize(EurekaJacksonCodec.java:805)\r\n\tat com.netflix.discovery.converters.EurekaJacksonCodec$ApplicationsDeserializer.deserialize(EurekaJacksonCodec.java:791)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._unwrapAndDeserialize(ObjectReader.java:2196)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2054)\r\n\tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1431)\r\n\tat com.netflix.discovery.converters.EurekaJacksonCodec.readValue(EurekaJacksonCodec.java:213)\r\n\tat com.netflix.discovery.converters.wrappers.CodecWrappers$LegacyJacksonJson.decode(CodecWrappers.java:314)\r\n\tat com.netflix.discovery.provider.DiscoveryJerseyProvider.readFrom(DiscoveryJerseyProvider.java:103)\r\n\t... 69 common frames omitted\r\n```\r\n\r\nand \r\n\r\n```\r\n2022-10-19 11:29:32.956 [app:web-gateway,traceId:,spanId:,parentId:] [DiscoveryClient-CacheRefreshExecutor-0] ERROR | DiscoveryClient.java:1018 | c.netflix.discovery.DiscoveryClient | DiscoveryClient_WEB-GATEWAY/192.168.56.1:web-gateway:8004:NEW_GATEWAY_DEFAULT_GROUP - was unable to refresh its cache! status = Cannot execute request on any known server\r\ncom.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\r\n\tat com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\r\n\tat com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\r\n\tat com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\r\n\tat com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1097)\r\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1011)\r\n\tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:440)\r\n\tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:282)\r\n\tat com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:278)\r\n\tat org.springframework.cloud.netflix.eureka.CloudEurekaClient.&lt;init&gt;(CloudEurekaClient.java:67)\r\n\tat org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:316)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:363)\r\n\tat org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:389)\r\n\tat org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:186)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:360)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)\r\n\tat com.sun.proxy.$Proxy169.getApplications(Unknown Source)\r\n\tat org.springframework.cloud.netflix.eureka.EurekaDiscoveryClient.getServices(EurekaDiscoveryClient.java:80)\r\n\tat org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClient.getServices(CompositeDiscoveryClient.java:67)\r\n\tat org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.locateRoutes(DiscoveryClientRouteLocator.java:121)\r\n\tat org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.locateRoutes(DiscoveryClientRouteLocator.java:44)\r\n\tat org.springframework.cloud.netflix.zuul.filters.SimpleRouteLocator.doRefresh(SimpleRouteLocator.java:186)\r\n\tat org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.refresh(DiscoveryClientRouteLocator.java:171)\r\n\tat org.springframework.cloud.netflix.zuul.filters.CompositeRouteLocator.refresh(CompositeRouteLocator.java:78)\r\n\tat org.springframework.cloud.netflix.zuul.web.ZuulHandlerMapping.setDirty(ZuulHandlerMapping.java:79)\r\n\tat org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.reset(ZuulServerAutoConfiguration.java:315)\r\n\tat org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.resetIfNeeded(ZuulServerAutoConfiguration.java:310)\r\n\tat org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.onApplicationEvent(ZuulServerAutoConfiguration.java:304)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\r\n\tat org.springframework.cloud.netflix.eureka.CloudEurekaClient.onCacheRefreshed(CloudEurekaClient.java:123)\r\n\tat com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1027)\r\n\tat com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1533)\r\n\tat com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1500)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nAnd no matter how I refresh application again, gateway will never get chance to correct it&#39;s loadbalancer, no request will go through gateway due to exception like this:\r\n```\r\njava.lang.RuntimeException: com.netflix.client.ClientException: Load balancer does not have available server for client: web-message-center\r\n\tat org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:90)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:78)\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\r\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\r\n\tat feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)\r\n\tat com.sun.proxy.$Proxy261.sendMessage(Unknown Source)\r\n\tat com.wwstation.webgateway.components.GatewayUrlCountProcessor.sendAccessLogWithMq(GatewayUrlCountProcessor.java:221)\r\n\tat com.wwstation.webgateway.components.GatewayUrlCountProcessor.run(GatewayUrlCountProcessor.java:82)\r\n\tat org.springframework.cloud.sleuth.instrument.async.TraceRunnable.run(TraceRunnable.java:68)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.netflix.client.ClientException: Load balancer does not have available server for client: web-message-center\r\n\tat com.netflix.loadbalancer.LoadBalancerContext.getServerFromLoadBalancer(LoadBalancerContext.java:483)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:184)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)\r\n\tat rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.subscribe(Observable.java:10423)\r\n\tat rx.Observable.subscribe(Observable.java:10390)\r\n\tat rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:443)\r\n\tat rx.observables.BlockingObservable.single(BlockingObservable.java:340)\r\n\tat com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:112)\r\n\tat org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:83)\r\n\t... 15 common frames omitted\r\n```\r\n\r\nIt can be seen from `EurekaNotificationServerListUpdater` that each fetch interval, there will be a thread refreshing server list. But once I fire a `RefreshEvent` the refreshing thread will be shut down by refreshing of environment (or else) and no heartbeat will be triggered when eureka&#39;s fetch interval reached again, so my application will have no latest server info from eureka.\r\n\r\nBecause of that, there is another problem which would take place when firing `RefreshEvent`: \r\n\r\nGateway can still redirect request to target service, but gateway will never get latest server list from eureka. Once the target service is down, gateway will crash my request instead of telling me the target service is not online (I have a exception handler to solve `Load balancer does not have available server for client`).\r\n\r\nThese 2 problems will not take place at the same time, which means when problem A occurs, problem B will never take place, and the same when problem B occurs. And they all occur once a `RefreshEvent` was fired.\r\n\r\nI have no idea what&#39;s going on, can anyone help me with this or give me some tips where the cause might be?\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-ribbon.html#_customizing_the_default_for_all_ribbon_clients","title":"RedirectingEurekaHttpClient Request execution error","body":"<p>I have a gateway application with customized loadbalancing rule, and here is the code following <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-ribbon.html#_customizing_the_default_for_all_ribbon_clients\" rel=\"nofollow noreferrer\">spring cloud official doc</a>:</p>\n<pre><code>@RibbonClients(defaultConfiguration = CustomizedRibbonConfig.class)\npublic class RibbonClientConfiguration {\n    public static class BazServiceList extends ConfigurationBasedServerList {\n        public BazServiceList(IClientConfig config) {\n            super.initWithNiwsConfig(config);\n        }\n    }\n}\n\n@Configuration\nclass CustomizedRibbonConfig {\n    @Bean\n    public IRule ribbonRule() {\n        return new MetadataAwareRule();\n    }\n\n    @Bean\n    public ServerListUpdater ribbonServerListUpdater() {\n        return new EurekaNotificationServerListUpdater();\n    }\n}\n</code></pre>\n<pre><code>public class MetadataAwarePredicate extends AbstractDiscoveryEnabledPredicate {\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    protected boolean apply(DiscoveryEnabledServer server) {\n        return true;\n    }\n}\n</code></pre>\n<pre><code>@Slf4j\npublic class MetadataAwareRule extends AbstractDiscoveryEnabledRule {\n    public static final ThreadLocal&lt;String&gt; CURRENT_LOAD_BALANCED_SERVICE_IP = new ThreadLocal&lt;&gt;();\n\n    /**\n     * Creates new instance of {@link MetadataAwareRule}.\n     */\n    public MetadataAwareRule() {\n        this(new MetadataAwarePredicate());\n    }\n\n    /**\n     * Creates new instance of {@link MetadataAwareRule} with specific predicate.\n     *\n     * @param predicate the predicate, can't be {@code null}\n     * @throws IllegalArgumentException if predicate is {@code null}\n     */\n    public MetadataAwareRule(AbstractDiscoveryEnabledPredicate predicate) {\n        super(predicate);\n    }\n\n\n    @Override\n    public Server choose(Object key) {\n       ....my customized choose policy....\n}\n</code></pre>\n<p>And Here is the thing, I have a need to refresh application by firing <code>RefreshEvent</code> but it will lead to quite strange problem which may due to Eureka or zuul client of version from parent:</p>\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix&lt;/artifactId&gt;\n    &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n</code></pre>\n<p>For easy recurrent of such problem, the function was simplified as a simple request showing below:</p>\n<pre><code>    @GetMapping(&quot;/test/event&quot;)\n    public CommonResult testRaiseRefreshEvent() {\n        ApplicationContextHolder.getApplicationContext().publishEvent(new RefreshEvent(this, null, &quot;test to trigger the problem&quot;));\n        return CommonResult.succeed();\n    }\n</code></pre>\n<p>Once request this api, application will take a refresh.</p>\n<p>But sometimes, application will have this exception:</p>\n<pre><code>2022-10-19 11:29:32.947 [app:web-gateway,traceId:,spanId:,parentId:] [DiscoveryClient-CacheRefreshExecutor-0] ERROR | RedirectingEurekaHttpClient.java:83 | c.n.d.s.t.d.RedirectingEurekaHttpClient | Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8000/eureka/}\njavax.ws.rs.WebApplicationException: com.fasterxml.jackson.core.JsonParseException: processing aborted\n at [Source: (GZIPInputStream); line: 1, column: 18]\n    at com.netflix.discovery.provider.DiscoveryJerseyProvider.readFrom(DiscoveryJerseyProvider.java:110)\n    at com.sun.jersey.api.client.ClientResponse.getEntity(ClientResponse.java:634)\n    at com.sun.jersey.api.client.ClientResponse.getEntity(ClientResponse.java:586)\n    at com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.getApplicationsInternal(AbstractJerseyEurekaHttpClient.java:200)\n    at com.netflix.discovery.shared.transport.jersey.AbstractJerseyEurekaHttpClient.getApplications(AbstractJerseyEurekaHttpClient.java:167)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.MetricsCollectingEurekaHttpClient.execute(MetricsCollectingEurekaHttpClient.java:73)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:118)\n    at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:79)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1097)\n    at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1011)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:440)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:282)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:278)\n    at org.springframework.cloud.netflix.eureka.CloudEurekaClient.&lt;init&gt;(CloudEurekaClient.java:67)\n    at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:316)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:363)\n    at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:389)\n    at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:186)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:360)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)\n    at com.sun.proxy.$Proxy169.getApplications(Unknown Source)\n    at org.springframework.cloud.netflix.eureka.EurekaDiscoveryClient.getServices(EurekaDiscoveryClient.java:80)\n    at org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClient.getServices(CompositeDiscoveryClient.java:67)\n    at org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.locateRoutes(DiscoveryClientRouteLocator.java:121)\n    at org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.locateRoutes(DiscoveryClientRouteLocator.java:44)\n    at org.springframework.cloud.netflix.zuul.filters.SimpleRouteLocator.doRefresh(SimpleRouteLocator.java:186)\n    at org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.refresh(DiscoveryClientRouteLocator.java:171)\n    at org.springframework.cloud.netflix.zuul.filters.CompositeRouteLocator.refresh(CompositeRouteLocator.java:78)\n    at org.springframework.cloud.netflix.zuul.web.ZuulHandlerMapping.setDirty(ZuulHandlerMapping.java:79)\n    at org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.reset(ZuulServerAutoConfiguration.java:315)\n    at org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.resetIfNeeded(ZuulServerAutoConfiguration.java:310)\n    at org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.onApplicationEvent(ZuulServerAutoConfiguration.java:304)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\n    at org.springframework.cloud.netflix.eureka.CloudEurekaClient.onCacheRefreshed(CloudEurekaClient.java:123)\n    at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1027)\n    at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1533)\n    at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1500)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n    at java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: com.fasterxml.jackson.core.JsonParseException: processing aborted\n at [Source: (GZIPInputStream); line: 1, column: 18]\n    at com.netflix.discovery.converters.EurekaJacksonCodec$ApplicationsDeserializer.deserialize(EurekaJacksonCodec.java:805)\n    at com.netflix.discovery.converters.EurekaJacksonCodec$ApplicationsDeserializer.deserialize(EurekaJacksonCodec.java:791)\n    at com.fasterxml.jackson.databind.ObjectReader._unwrapAndDeserialize(ObjectReader.java:2196)\n    at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2054)\n    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1431)\n    at com.netflix.discovery.converters.EurekaJacksonCodec.readValue(EurekaJacksonCodec.java:213)\n    at com.netflix.discovery.converters.wrappers.CodecWrappers$LegacyJacksonJson.decode(CodecWrappers.java:314)\n    at com.netflix.discovery.provider.DiscoveryJerseyProvider.readFrom(DiscoveryJerseyProvider.java:103)\n    ... 69 common frames omitted\n</code></pre>\n<p>and</p>\n<pre><code>2022-10-19 11:29:32.956 [app:web-gateway,traceId:,spanId:,parentId:] [DiscoveryClient-CacheRefreshExecutor-0] ERROR | DiscoveryClient.java:1018 | c.netflix.discovery.DiscoveryClient | DiscoveryClient_WEB-GATEWAY/192.168.56.1:web-gateway:8004:NEW_GATEWAY_DEFAULT_GROUP - was unable to refresh its cache! status = Cannot execute request on any known server\ncom.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n    at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$6.execute(EurekaHttpClientDecorator.java:137)\n    at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:77)\n    at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getApplications(EurekaHttpClientDecorator.java:134)\n    at com.netflix.discovery.DiscoveryClient.getAndStoreFullRegistry(DiscoveryClient.java:1097)\n    at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1011)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:440)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:282)\n    at com.netflix.discovery.DiscoveryClient.&lt;init&gt;(DiscoveryClient.java:278)\n    at org.springframework.cloud.netflix.eureka.CloudEurekaClient.&lt;init&gt;(CloudEurekaClient.java:67)\n    at org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration.eurekaClient(EurekaClientAutoConfiguration.java:316)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:363)\n    at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:389)\n    at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:186)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:360)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:192)\n    at com.sun.proxy.$Proxy169.getApplications(Unknown Source)\n    at org.springframework.cloud.netflix.eureka.EurekaDiscoveryClient.getServices(EurekaDiscoveryClient.java:80)\n    at org.springframework.cloud.client.discovery.composite.CompositeDiscoveryClient.getServices(CompositeDiscoveryClient.java:67)\n    at org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.locateRoutes(DiscoveryClientRouteLocator.java:121)\n    at org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.locateRoutes(DiscoveryClientRouteLocator.java:44)\n    at org.springframework.cloud.netflix.zuul.filters.SimpleRouteLocator.doRefresh(SimpleRouteLocator.java:186)\n    at org.springframework.cloud.netflix.zuul.filters.discovery.DiscoveryClientRouteLocator.refresh(DiscoveryClientRouteLocator.java:171)\n    at org.springframework.cloud.netflix.zuul.filters.CompositeRouteLocator.refresh(CompositeRouteLocator.java:78)\n    at org.springframework.cloud.netflix.zuul.web.ZuulHandlerMapping.setDirty(ZuulHandlerMapping.java:79)\n    at org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.reset(ZuulServerAutoConfiguration.java:315)\n    at org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.resetIfNeeded(ZuulServerAutoConfiguration.java:310)\n    at org.springframework.cloud.netflix.zuul.ZuulServerAutoConfiguration$ZuulRefreshListener.onApplicationEvent(ZuulServerAutoConfiguration.java:304)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\n    at org.springframework.cloud.netflix.eureka.CloudEurekaClient.onCacheRefreshed(CloudEurekaClient.java:123)\n    at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:1027)\n    at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1533)\n    at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1500)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n    at java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>And no matter how I refresh application again, gateway will never get chance to correct it's loadbalancer, no request will go through gateway due to exception like this:</p>\n<pre><code>java.lang.RuntimeException: com.netflix.client.ClientException: Load balancer does not have available server for client: web-message-center\n    at org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:90)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:78)\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\n    at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)\n    at com.sun.proxy.$Proxy261.sendMessage(Unknown Source)\n    at com.wwstation.webgateway.components.GatewayUrlCountProcessor.sendAccessLogWithMq(GatewayUrlCountProcessor.java:221)\n    at com.wwstation.webgateway.components.GatewayUrlCountProcessor.run(GatewayUrlCountProcessor.java:82)\n    at org.springframework.cloud.sleuth.instrument.async.TraceRunnable.run(TraceRunnable.java:68)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n    at java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: com.netflix.client.ClientException: Load balancer does not have available server for client: web-message-center\n    at com.netflix.loadbalancer.LoadBalancerContext.getServerFromLoadBalancer(LoadBalancerContext.java:483)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:184)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)\n    at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.subscribe(Observable.java:10423)\n    at rx.Observable.subscribe(Observable.java:10390)\n    at rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:443)\n    at rx.observables.BlockingObservable.single(BlockingObservable.java:340)\n    at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:112)\n    at org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:83)\n    ... 15 common frames omitted\n</code></pre>\n<p>It can be seen from <code>EurekaNotificationServerListUpdater</code> that each fetch interval, there will be a thread refreshing server list. But once I fire a <code>RefreshEvent</code> the refreshing thread will be shut down by refreshing of environment (or else) and no heartbeat will be triggered when eureka's fetch interval reached again, so my application will have no latest server info from eureka.</p>\n<p>Because of that, there is another problem which would take place when firing <code>RefreshEvent</code>:</p>\n<p>Gateway can still redirect request to target service, but gateway will never get latest server list from eureka. Once the target service is down, gateway will crash my request instead of telling me the target service is not online (I have a exception handler to solve <code>Load balancer does not have available server for client</code>).</p>\n<p>These 2 problems will not take place at the same time, which means when problem A occurs, problem B will never take place, and the same when problem B occurs. And they all occur once a <code>RefreshEvent</code> was fired.</p>\n<p>I have no idea what's going on, can anyone help me with this or give me some tips where the cause might be?</p>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"owner":{"account_id":12438937,"reputation":71,"user_id":9058101,"display_name":"Daniel X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1666316075,"creation_date":1666316075,"question_id":74147899,"body_markdown":"I am using spring-data-mongodb 3.3.1 to run an native MongoDB query as followings:\r\n\r\n    String jsonCommand = &quot;{ aggregate: &#39;CollectionName&#39;, pipeline: [ { $match: ...... ] , cursor: { } };\r\n    Document commandResult = mongoTemplate.executeCommand(jsonCommand);\r\n    List&lt;Document&gt; documents = (List&lt;Document&gt;) ((Document) commandResult.get(&quot;cursor&quot;)).get(&quot;firstBatch&quot;);\r\n\r\nThe query returns 101 documents which is the default batchSize. My question is, the query result does not contain all the matched documents and I want to repeat this query until I get all the matched documents. My question is:\r\n\r\nHow can I check if there are more documents beyond the &quot;firstBatch&quot;, and, if yes, repeat the same query until I get all the results?\r\n\r\nI know I can hardcode a bigger batchSize as follows:\r\n\r\n    cursor: { batchSize: 10000 }\r\n\r\nBut this is not what I want. I want to know the way to retrieve the documents in multiple batches.\r\n\r\nAny help would be appreciated.\r\n","title":"Spring MongoTemplate executeCommand Result more than first batch","body":"<p>I am using spring-data-mongodb 3.3.1 to run an native MongoDB query as followings:</p>\n<pre><code>String jsonCommand = &quot;{ aggregate: 'CollectionName', pipeline: [ { $match: ...... ] , cursor: { } };\nDocument commandResult = mongoTemplate.executeCommand(jsonCommand);\nList&lt;Document&gt; documents = (List&lt;Document&gt;) ((Document) commandResult.get(&quot;cursor&quot;)).get(&quot;firstBatch&quot;);\n</code></pre>\n<p>The query returns 101 documents which is the default batchSize. My question is, the query result does not contain all the matched documents and I want to repeat this query until I get all the matched documents. My question is:</p>\n<p>How can I check if there are more documents beyond the &quot;firstBatch&quot;, and, if yes, repeat the same query until I get all the results?</p>\n<p>I know I can hardcode a bigger batchSize as follows:</p>\n<pre><code>cursor: { batchSize: 10000 }\n</code></pre>\n<p>But this is not what I want. I want to know the way to retrieve the documents in multiple batches.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666315998,"creation_date":1666315998,"answer_id":74147891,"question_id":74147326,"body_markdown":"&gt; I made sure I have the column made and it looks the same as all the other columns. I&#39;m trying to find out if this is due to the column or if it is something else I&#39;m missing.\r\n\r\nOne of the most frequent causes of a column not found is that the column has been added after running the app. This is because of confusion with when the onCreate method of the class that extends the SQLiteOpenHelper class runs.\r\n\r\nUnlike an activity&#39;s onCreate method, which will run whenever the activity is started, **the SQLiteOpenHelper&#39;s onCreate method is only run when the database is created**. This will typically be once for the lifetime of the application. This adding a new column to the create table SQL will not add the new column.\r\n\r\nTo circumvent this issue, when developing the App, to introduce a new column is to uninstall the App and then rerun the App. However as this deletes the database any existing data will be lost (as you insert data in the onCreate method, uninstalling the app and then rerunning the App will probably be all that you need)\r\n\r\nIf retention of existing data is required, then the typical way is to introduce a new version by increasing the version number (DBVERSION in your case) and having suitable code to add the new column in the onUpdate method that makes the changes whilst retaining the existing data.","title":"no such column error, but I made the column","body":"<blockquote>\n<p>I made sure I have the column made and it looks the same as all the other columns. I'm trying to find out if this is due to the column or if it is something else I'm missing.</p>\n</blockquote>\n<p>One of the most frequent causes of a column not found is that the column has been added after running the app. This is because of confusion with when the onCreate method of the class that extends the SQLiteOpenHelper class runs.</p>\n<p>Unlike an activity's onCreate method, which will run whenever the activity is started, <strong>the SQLiteOpenHelper's onCreate method is only run when the database is created</strong>. This will typically be once for the lifetime of the application. This adding a new column to the create table SQL will not add the new column.</p>\n<p>To circumvent this issue, when developing the App, to introduce a new column is to uninstall the App and then rerun the App. However as this deletes the database any existing data will be lost (as you insert data in the onCreate method, uninstalling the app and then rerunning the App will probably be all that you need)</p>\n<p>If retention of existing data is required, then the typical way is to introduce a new version by increasing the version number (DBVERSION in your case) and having suitable code to add the new column in the onUpdate method that makes the changes whilst retaining the existing data.</p>\n"}],"owner":{"account_id":26635501,"reputation":13,"user_id":20251996,"display_name":"Uzume316"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74147891,"answer_count":1,"score":0,"last_activity_date":1666315998,"creation_date":1666308971,"question_id":74147326,"body_markdown":"I&#39;m having trouble with a no such column error breaking my application. I&#39;m making an app the holds pet information so later I can have the user select what they are looking for in a pet and then see the pet&#39;s details. That this point I&#39;m just trying to see all the pets and their information, but every time I run the debugg I get the no such column petName. I made sure I have the column made and it looks the same as all the other columns. I&#39;m trying to find out if this is due to the column or if it is something else I&#39;m missing.\r\n\r\nDBHelper\r\n\r\n    public class DBHelper extends SQLiteOpenHelper {\r\n\r\n    public static final String DBNAME = &quot;PetAdoption.db&quot;;\r\n    public static final int DBVERSION = 1;\r\n\r\n    private static String[] testdata1 = new String[]{&quot;Dog&quot;,&quot;Hound Mix&quot;,&quot;Creek&quot;,&quot;young&quot;,&quot;low&quot;,&quot;male&quot;,&quot;false&quot;,&quot;false&quot;,&quot;false&quot;};\r\n    private static String[] testdata2 = new String[]{&quot;Dog&quot;,&quot;Lab Mix&quot;,&quot;Marleigh&quot;,&quot;young&quot;,&quot;high&quot;,&quot;female&quot;,&quot;false&quot;,&quot;false&quot;,&quot;false&quot;};\r\n    private static String[] testdata3 = new String[]{&quot;Dog&quot;,&quot;Lab Mix&quot;,&quot;Carly&quot;,&quot;old&quot;,&quot;low&quot;,&quot;female&quot;,&quot;false&quot;,&quot;false&quot;,&quot;true&quot;};\r\n    private static String[] testdata4 = new String[]{&quot;Dog&quot;,&quot;Terrier Mix&quot;,&quot;Cruiser&quot;,&quot;young&quot;,&quot;low&quot;,&quot;male&quot;,&quot;true&quot;,&quot;true&quot;,&quot;false&quot;};\r\n    private static String[] testdata5 = new String[]{&quot;Cat&quot;,&quot;Domestic Shorthair&quot;,&quot;Floyd&quot;,&quot;young&quot;,&quot;low&quot;,&quot;male&quot;,&quot;false&quot;,&quot;true&quot;,&quot;false&quot;};\r\n    private static String[] testdata6 = new String[]{&quot;Cat&quot;,&quot;American Shorthair&quot;,&quot;Nevaeh&quot;,&quot;mature&quot;,&quot;low&quot;,&quot;female&quot;,&quot;true&quot;,&quot;true&quot;,&quot;true&quot;};\r\n    private static String[] testdata7 = new String[]{&quot;Cat&quot;,&quot;Domestic Longhair&quot;,&quot;Tiger&quot;,&quot;senior&quot;,&quot;high&quot;,&quot;female&quot;,&quot;false&quot;,&quot;false&quot;,&quot;false&quot;};\r\n    private static String[] testdata8 = new String[]{&quot;Cat&quot;,&quot;Norwegian Forest&quot;,&quot;Muke&quot;,&quot;senior&quot;,&quot;high&quot;,&quot;male&quot;,&quot;false&quot;,&quot;false&quot;,&quot;false&quot;};\r\n\r\n    public DBHelper(Context context) {\r\n        super(context,DBNAME,null,DBVERSION);\r\n    }\r\n\r\n    /* ADDED to simulate getting data from asset */\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        sqLiteDatabase.execSQL(&quot;CREATE TABLE IF NOT EXISTS pet (&quot; +\r\n                BaseColumns._ID + &quot; INTEGER PRIMARY KEY&quot; +\r\n                &quot;,&quot; + &quot;type TEXT&quot; +\r\n                &quot;,&quot; + &quot;breed TEXT&quot; +\r\n                &quot;,&quot; + &quot;petName TEXT&quot; +\r\n                &quot;,&quot; + &quot;lifestage TEXT&quot; +\r\n                &quot;,&quot; + &quot;energy TEXT&quot; +\r\n                &quot;,&quot; + &quot;gender TEXT&quot; +\r\n                &quot;,&quot; + &quot;kids TEXT&quot; +\r\n                &quot;,&quot; + &quot;dogs TEXT&quot; +\r\n                &quot;,&quot; + &quot;cats TEXT&quot; +\r\n                &quot;)&quot;\r\n        );\r\n        insertTestData(sqLiteDatabase,testdata1);\r\n        insertTestData(sqLiteDatabase,testdata2);\r\n        insertTestData(sqLiteDatabase,testdata3);\r\n        insertTestData(sqLiteDatabase,testdata4);\r\n        insertTestData(sqLiteDatabase,testdata5);\r\n        insertTestData(sqLiteDatabase,testdata6);\r\n        insertTestData(sqLiteDatabase,testdata7);\r\n        insertTestData(sqLiteDatabase,testdata8);\r\n\r\n    }\r\n\r\n    private void insertTestData(SQLiteDatabase db, String[] data) {\r\n        if (data.length != 8) return;\r\n        ContentValues cv = new ContentValues();\r\n        cv.put(&quot;type&quot;,data[0]);\r\n        cv.put(&quot;breed&quot;,data[1]);\r\n        cv.put(&quot;petName&quot;,data[2]);\r\n        cv.put(&quot;lifestage&quot;,data[3]);\r\n        cv.put(&quot;gender&quot;,data[4]);\r\n        cv.put(&quot;kids&quot;,data[5]);\r\n        cv.put(&quot;dogs&quot;,data[6]);\r\n        cv.put(&quot;cats&quot;,data[7]);\r\n        db.insert(&quot;pet&quot;,null,cv);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n    }\r\n}\r\n\r\nMainActivity\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private String typeSelection = &quot;dog&quot;;\r\n    private String breedSelection = &quot;alsatian&quot;;\r\n    private String petNameSelection = &quot;creek&quot;;\r\n    private String lifeStageSelection = &quot;young&quot;;\r\n    private String energySelection = &quot;low&quot;;\r\n    private String genderSelection = &quot;male&quot;;\r\n    private String kidsSelection = &quot;false&quot;;\r\n    private String dogsSelection = &quot;false&quot;;\r\n    private String catsSelection = &quot;false&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        DatabaseUtils.dumpCursor(\r\n                getSelection(typeSelection,breedSelection,petNameSelection,lifeStageSelection,energySelection,genderSelection,kidsSelection,dogsSelection,catsSelection)\r\n        );\r\n        DatabaseUtils.dumpCursor(\r\n                getSelection(&quot;Dog&quot;,null, null,null,null, null, null, null, null)\r\n        );\r\n        DatabaseUtils.dumpCursor(\r\n                getSelection(&quot;Cat&quot;,null,null,null,null, null,null, null, null)\r\n        );\r\n        DatabaseUtils.dumpCursor(\r\n                getSelection(null,null,null,null,null, null, null, null, null)\r\n        );\r\n    }\r\n\r\n    private Cursor getSelection(String type, String breed, String petName, String lifeStage, String energy, String gender, String kids, String dogs, String cats ) {\r\n        String[] args = null;\r\n        ArrayList&lt;String&gt; argsArrayList = new ArrayList&lt;&gt;();\r\n        StringBuilder whereClause = new StringBuilder();\r\n        if (type != null &amp;&amp; type.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; type=?&quot;);\r\n            argsArrayList.add(type);\r\n        }\r\n        if (breed != null &amp;&amp; breed.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; breed=?&quot;);\r\n            argsArrayList.add(breed);\r\n        }\r\n        if (petName != null &amp;&amp; petName.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; petName=?&quot;);\r\n            argsArrayList.add(petName);\r\n        }\r\n        if (lifeStage != null &amp;&amp; type.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; lifestage=?&quot;);\r\n            argsArrayList.add(lifeStage);\r\n        }\r\n        if (energy != null &amp;&amp; energy.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; energy=?&quot;);\r\n            argsArrayList.add(energy);\r\n        }\r\n        if (gender != null &amp;&amp; gender.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; gender=?&quot;);\r\n            argsArrayList.add(gender);\r\n        }\r\n        if (kids != null &amp;&amp; kids.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; kids=?&quot;);\r\n            argsArrayList.add(kids);\r\n        }\r\n        if (dogs != null &amp;&amp; dogs.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; dogs=?&quot;);\r\n            argsArrayList.add(dogs);\r\n        }\r\n        if (cats != null &amp;&amp; cats.length() &gt; 0) {\r\n            if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\r\n            else whereClause.append(&quot; AND &quot;);\r\n            whereClause.append(&quot; cats=?&quot;);\r\n            argsArrayList.add(cats);\r\n        }\r\n        if (whereClause.length() &gt; 1) {\r\n            args = new String[argsArrayList.size()];\r\n            int i = 0;\r\n            for (String s: argsArrayList) {\r\n                args[i++] = s;\r\n            }\r\n        }\r\n        return DatabaseAccess.getInstance(this).getWritableDatabase().query(&quot;pet&quot;,null,whereClause.toString(),args,null,null,null);\r\n    }\r\n}\r\n\r\nAny help or suggestions is greatly appreciated! ","title":"no such column error, but I made the column","body":"<p>I'm having trouble with a no such column error breaking my application. I'm making an app the holds pet information so later I can have the user select what they are looking for in a pet and then see the pet's details. That this point I'm just trying to see all the pets and their information, but every time I run the debugg I get the no such column petName. I made sure I have the column made and it looks the same as all the other columns. I'm trying to find out if this is due to the column or if it is something else I'm missing.</p>\n<p>DBHelper</p>\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\n\npublic static final String DBNAME = &quot;PetAdoption.db&quot;;\npublic static final int DBVERSION = 1;\n\nprivate static String[] testdata1 = new String[]{&quot;Dog&quot;,&quot;Hound Mix&quot;,&quot;Creek&quot;,&quot;young&quot;,&quot;low&quot;,&quot;male&quot;,&quot;false&quot;,&quot;false&quot;,&quot;false&quot;};\nprivate static String[] testdata2 = new String[]{&quot;Dog&quot;,&quot;Lab Mix&quot;,&quot;Marleigh&quot;,&quot;young&quot;,&quot;high&quot;,&quot;female&quot;,&quot;false&quot;,&quot;false&quot;,&quot;false&quot;};\nprivate static String[] testdata3 = new String[]{&quot;Dog&quot;,&quot;Lab Mix&quot;,&quot;Carly&quot;,&quot;old&quot;,&quot;low&quot;,&quot;female&quot;,&quot;false&quot;,&quot;false&quot;,&quot;true&quot;};\nprivate static String[] testdata4 = new String[]{&quot;Dog&quot;,&quot;Terrier Mix&quot;,&quot;Cruiser&quot;,&quot;young&quot;,&quot;low&quot;,&quot;male&quot;,&quot;true&quot;,&quot;true&quot;,&quot;false&quot;};\nprivate static String[] testdata5 = new String[]{&quot;Cat&quot;,&quot;Domestic Shorthair&quot;,&quot;Floyd&quot;,&quot;young&quot;,&quot;low&quot;,&quot;male&quot;,&quot;false&quot;,&quot;true&quot;,&quot;false&quot;};\nprivate static String[] testdata6 = new String[]{&quot;Cat&quot;,&quot;American Shorthair&quot;,&quot;Nevaeh&quot;,&quot;mature&quot;,&quot;low&quot;,&quot;female&quot;,&quot;true&quot;,&quot;true&quot;,&quot;true&quot;};\nprivate static String[] testdata7 = new String[]{&quot;Cat&quot;,&quot;Domestic Longhair&quot;,&quot;Tiger&quot;,&quot;senior&quot;,&quot;high&quot;,&quot;female&quot;,&quot;false&quot;,&quot;false&quot;,&quot;false&quot;};\nprivate static String[] testdata8 = new String[]{&quot;Cat&quot;,&quot;Norwegian Forest&quot;,&quot;Muke&quot;,&quot;senior&quot;,&quot;high&quot;,&quot;male&quot;,&quot;false&quot;,&quot;false&quot;,&quot;false&quot;};\n\npublic DBHelper(Context context) {\n    super(context,DBNAME,null,DBVERSION);\n}\n\n/* ADDED to simulate getting data from asset */\n@Override\npublic void onCreate(SQLiteDatabase sqLiteDatabase) {\n    sqLiteDatabase.execSQL(&quot;CREATE TABLE IF NOT EXISTS pet (&quot; +\n            BaseColumns._ID + &quot; INTEGER PRIMARY KEY&quot; +\n            &quot;,&quot; + &quot;type TEXT&quot; +\n            &quot;,&quot; + &quot;breed TEXT&quot; +\n            &quot;,&quot; + &quot;petName TEXT&quot; +\n            &quot;,&quot; + &quot;lifestage TEXT&quot; +\n            &quot;,&quot; + &quot;energy TEXT&quot; +\n            &quot;,&quot; + &quot;gender TEXT&quot; +\n            &quot;,&quot; + &quot;kids TEXT&quot; +\n            &quot;,&quot; + &quot;dogs TEXT&quot; +\n            &quot;,&quot; + &quot;cats TEXT&quot; +\n            &quot;)&quot;\n    );\n    insertTestData(sqLiteDatabase,testdata1);\n    insertTestData(sqLiteDatabase,testdata2);\n    insertTestData(sqLiteDatabase,testdata3);\n    insertTestData(sqLiteDatabase,testdata4);\n    insertTestData(sqLiteDatabase,testdata5);\n    insertTestData(sqLiteDatabase,testdata6);\n    insertTestData(sqLiteDatabase,testdata7);\n    insertTestData(sqLiteDatabase,testdata8);\n\n}\n\nprivate void insertTestData(SQLiteDatabase db, String[] data) {\n    if (data.length != 8) return;\n    ContentValues cv = new ContentValues();\n    cv.put(&quot;type&quot;,data[0]);\n    cv.put(&quot;breed&quot;,data[1]);\n    cv.put(&quot;petName&quot;,data[2]);\n    cv.put(&quot;lifestage&quot;,data[3]);\n    cv.put(&quot;gender&quot;,data[4]);\n    cv.put(&quot;kids&quot;,data[5]);\n    cv.put(&quot;dogs&quot;,data[6]);\n    cv.put(&quot;cats&quot;,data[7]);\n    db.insert(&quot;pet&quot;,null,cv);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n}\n</code></pre>\n<p>}</p>\n<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate String typeSelection = &quot;dog&quot;;\nprivate String breedSelection = &quot;alsatian&quot;;\nprivate String petNameSelection = &quot;creek&quot;;\nprivate String lifeStageSelection = &quot;young&quot;;\nprivate String energySelection = &quot;low&quot;;\nprivate String genderSelection = &quot;male&quot;;\nprivate String kidsSelection = &quot;false&quot;;\nprivate String dogsSelection = &quot;false&quot;;\nprivate String catsSelection = &quot;false&quot;;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    DatabaseUtils.dumpCursor(\n            getSelection(typeSelection,breedSelection,petNameSelection,lifeStageSelection,energySelection,genderSelection,kidsSelection,dogsSelection,catsSelection)\n    );\n    DatabaseUtils.dumpCursor(\n            getSelection(&quot;Dog&quot;,null, null,null,null, null, null, null, null)\n    );\n    DatabaseUtils.dumpCursor(\n            getSelection(&quot;Cat&quot;,null,null,null,null, null,null, null, null)\n    );\n    DatabaseUtils.dumpCursor(\n            getSelection(null,null,null,null,null, null, null, null, null)\n    );\n}\n\nprivate Cursor getSelection(String type, String breed, String petName, String lifeStage, String energy, String gender, String kids, String dogs, String cats ) {\n    String[] args = null;\n    ArrayList&lt;String&gt; argsArrayList = new ArrayList&lt;&gt;();\n    StringBuilder whereClause = new StringBuilder();\n    if (type != null &amp;&amp; type.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; type=?&quot;);\n        argsArrayList.add(type);\n    }\n    if (breed != null &amp;&amp; breed.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; breed=?&quot;);\n        argsArrayList.add(breed);\n    }\n    if (petName != null &amp;&amp; petName.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; petName=?&quot;);\n        argsArrayList.add(petName);\n    }\n    if (lifeStage != null &amp;&amp; type.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; lifestage=?&quot;);\n        argsArrayList.add(lifeStage);\n    }\n    if (energy != null &amp;&amp; energy.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; energy=?&quot;);\n        argsArrayList.add(energy);\n    }\n    if (gender != null &amp;&amp; gender.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; gender=?&quot;);\n        argsArrayList.add(gender);\n    }\n    if (kids != null &amp;&amp; kids.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; kids=?&quot;);\n        argsArrayList.add(kids);\n    }\n    if (dogs != null &amp;&amp; dogs.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; dogs=?&quot;);\n        argsArrayList.add(dogs);\n    }\n    if (cats != null &amp;&amp; cats.length() &gt; 0) {\n        if (whereClause.length() &lt; 1) whereClause.append(&quot; &quot;);\n        else whereClause.append(&quot; AND &quot;);\n        whereClause.append(&quot; cats=?&quot;);\n        argsArrayList.add(cats);\n    }\n    if (whereClause.length() &gt; 1) {\n        args = new String[argsArrayList.size()];\n        int i = 0;\n        for (String s: argsArrayList) {\n            args[i++] = s;\n        }\n    }\n    return DatabaseAccess.getInstance(this).getWritableDatabase().query(&quot;pet&quot;,null,whereClause.toString(),args,null,null,null);\n}\n</code></pre>\n<p>}</p>\n<p>Any help or suggestions is greatly appreciated!</p>\n"},{"tags":["java","arrays","for-loop","while-loop"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1666260025,"post_id":74137704,"comment_id":130896046,"body_markdown":"Please visit Help Center and learn [how to ask a good question](https://stackoverflow.com/help/how-to-ask) and [provide minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please visit Help Center and learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">provide minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":18827263,"reputation":407,"user_id":14499516,"display_name":"hokwanhung"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666315878,"creation_date":1666264289,"answer_id":74138905,"question_id":74137704,"body_markdown":"The question is vastly unclear.\r\n\r\nI assumed you tried to put in most relevant parts. However, some important variables are missing (e.g., `age`), and unrelated parts (e.g., the `switch(pkg)`) could  be removed from your question.\r\n\r\nOn the other hand, if that is all of the source code, it is best to state what are you trying to do in which functions.\r\n\r\nAnyway, I presume you are trying to work on the price in the `ThemePark` function, and here&#39;s my solution to it:\r\n\r\n    public double ThemePark(int age, int ticket_amount) {\r\n\t\t// I used a double variable to store the total value, but the `static` attribute\r\n\t\t// is removed for demonstrating a whole function.\r\n\t\tdouble ticketSum = 0;\r\n\t\tif (age &lt; 17) {\r\n\t\t\tfor (int i = 0; i &lt; ticket_amount; i++) {\r\n\t\t\t\t// The above fucntion of `for(int i=0; i&gt;3&amp;&amp;i&lt;ticket_amount:i++)` is genuinely\r\n\t\t\t\t// incorrect, as i would never increment to i&gt;3 in such case, it should be set\r\n\t\t\t\t// as `i=4`. However, in such case it cannot registered the ticket_amount=4. As\r\n\t\t\t\t// a result, it should also be set as `&lt;=ticket_amount`.\r\n\t\t\t\tif (i &lt;= 3) {\r\n\t\t\t\t\tticketSum += 50;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tticketSum += 45;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ticketSum;\r\n\t}\r\n\r\nPlease state in the question if there&#39;s more specifications, and I hope this answer helps.","title":"How to calculate the ticket price","body":"<p>The question is vastly unclear.</p>\n<p>I assumed you tried to put in most relevant parts. However, some important variables are missing (e.g., <code>age</code>), and unrelated parts (e.g., the <code>switch(pkg)</code>) could  be removed from your question.</p>\n<p>On the other hand, if that is all of the source code, it is best to state what are you trying to do in which functions.</p>\n<p>Anyway, I presume you are trying to work on the price in the <code>ThemePark</code> function, and here's my solution to it:</p>\n<pre><code>public double ThemePark(int age, int ticket_amount) {\n    // I used a double variable to store the total value, but the `static` attribute\n    // is removed for demonstrating a whole function.\n    double ticketSum = 0;\n    if (age &lt; 17) {\n        for (int i = 0; i &lt; ticket_amount; i++) {\n            // The above fucntion of `for(int i=0; i&gt;3&amp;&amp;i&lt;ticket_amount:i++)` is genuinely\n            // incorrect, as i would never increment to i&gt;3 in such case, it should be set\n            // as `i=4`. However, in such case it cannot registered the ticket_amount=4. As\n            // a result, it should also be set as `&lt;=ticket_amount`.\n            if (i &lt;= 3) {\n                ticketSum += 50;\n            } else {\n                ticketSum += 45;\n            }\n        }\n    }\n    return ticketSum;\n}\n</code></pre>\n<p>Please state in the question if there's more specifications, and I hope this answer helps.</p>\n"}],"owner":{"account_id":26680199,"reputation":1,"user_id":20290267,"display_name":"Lucas zz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666315878,"creation_date":1666258930,"question_id":74137704,"body_markdown":"First of all, this is my assignment question, and I was totally struggling for 2 weeks. If I want to calculate the ticket price, but the first three ticket price is 50, and the subsequence ticket is 45, but I tried do while loop, while loop and for loop, it will start over the program and start with the price 50, so how do I change the price to 45 when the program loop for 4 times? \r\n\r\n    public void setPrk(){\r\n        int[] ticket_add= new int[9999];\r\n        ticket_amount= ticket_add.length;\r\n        Ticket ticket= new Ticket();\r\n        Scanner s= new Scanner(System.in);\r\n        ticket.setTicketAmt();\r\n        for(int i=0;i&lt;ticket_amount;i++){\r\n        System.out.print(&quot;Enter your choice (T/W/A): &quot;);\r\n                prk=s.next().toLowerCase().charAt(0);\r\n                \r\n                \r\n                while(!(prk==&#39;t&#39;||prk==&#39;T&#39;||prk==&#39;w&#39;||prk==&#39;W&#39;||prk==&#39;a&#39;||prk==&#39;A&#39;)){\r\n                System.out.println(&quot;Invalid option, try again&quot;);\r\n                System.out.print(&quot;Enter your choice: &quot;);\r\n                prk=s.next().toLowerCase().charAt(0);\r\n            }\r\n            switch(prk){\r\n                case&#39;t&#39;:\r\n                    ticket.setAge();\r\n                    Ticket.ThemePark();\r\n                    break;\r\n                    \r\n                case&#39;w&#39;:\r\n                    ticket.setAge();\r\n                    Ticket.WaterPark();\r\n                    break;\r\n                    \r\n                case&#39;a&#39;:\r\n                    ticket.setAge();\r\n                    Ticket.AllPark();\r\n                    break;\r\n                    \r\n                default:\r\n                    break;\r\n            }\r\n            System.out.println(&quot;Your ticket fee will be &quot;+(sum+(sum*0.06)));\r\n        }\r\n    }\r\n    \r\n    public char getPrk(){\r\n        return prk;\r\n    }\r\n    public void setTicketAmt(){\r\n        Scanner s=new Scanner(System.in);\r\n        System.out.print(&quot;Enter your ticket amount: &quot;);\r\n        while(!s.hasNextInt()){\r\n        System.out.println(&quot;This is not an integer, try again&quot;);\r\n        System.out.print(&quot;Enter your ticket amount: &quot;);\r\n        s.next();\r\n        }\r\n        ticket_amount=s.nextInt();\r\n        while(ticket_amount&lt;=0||ticket_amount&gt;9999){\r\n            System.out.println(&quot;Invalid ticket amount, try again&quot;);\r\n            System.out.print(&quot;Enter your ticket amount: &quot;);\r\n            while(!s.hasNextInt()){\r\n            System.out.println(&quot;This is not an integer, try again&quot;);\r\n            System.out.print(&quot;Enter your ticket amount: &quot;);\r\n            s.next();\r\n        }\r\n        ticket_amount=s.nextInt();\r\n        \r\n        }\r\n        \r\n    }\r\n    \r\n    public static int getTicketAmt(){\r\n        return ticket_amount;\r\n    }\r\n    \r\n    public static void ThemePark(){\r\n        double[] ticket= new double[2];\r\n        double ticketSize[]={0};\r\n        if(age&lt;17){\r\n            if(ticket_amount&lt;=3){\r\n                ticket[0]=50;\r\n                ticketSize[0]=ticket[0];\r\n            }\r\n            if(ticket_amount&gt;3){\r\n                for(int i=0;i&lt;=3;i++){\r\n                    ticket[0]=50;\r\n                    ticketSize[0]=ticket[0];\r\n                }\r\n                for(int i=0;i&gt;3&amp;&amp;i&lt;ticket_amount;i++){\r\n                    ticket[1]=45;\r\n                    ticketSize[0]=ticket[1];\r\n                }\r\n            }\r\n            for(int k=0;k&lt;ticketSize.length;k++){\r\n                sum+=ticketSize[k];\r\n            }\r\n            \r\n    }\r\n    }","title":"How to calculate the ticket price","body":"<p>First of all, this is my assignment question, and I was totally struggling for 2 weeks. If I want to calculate the ticket price, but the first three ticket price is 50, and the subsequence ticket is 45, but I tried do while loop, while loop and for loop, it will start over the program and start with the price 50, so how do I change the price to 45 when the program loop for 4 times?</p>\n<pre><code>public void setPrk(){\n    int[] ticket_add= new int[9999];\n    ticket_amount= ticket_add.length;\n    Ticket ticket= new Ticket();\n    Scanner s= new Scanner(System.in);\n    ticket.setTicketAmt();\n    for(int i=0;i&lt;ticket_amount;i++){\n    System.out.print(&quot;Enter your choice (T/W/A): &quot;);\n            prk=s.next().toLowerCase().charAt(0);\n            \n            \n            while(!(prk=='t'||prk=='T'||prk=='w'||prk=='W'||prk=='a'||prk=='A')){\n            System.out.println(&quot;Invalid option, try again&quot;);\n            System.out.print(&quot;Enter your choice: &quot;);\n            prk=s.next().toLowerCase().charAt(0);\n        }\n        switch(prk){\n            case't':\n                ticket.setAge();\n                Ticket.ThemePark();\n                break;\n                \n            case'w':\n                ticket.setAge();\n                Ticket.WaterPark();\n                break;\n                \n            case'a':\n                ticket.setAge();\n                Ticket.AllPark();\n                break;\n                \n            default:\n                break;\n        }\n        System.out.println(&quot;Your ticket fee will be &quot;+(sum+(sum*0.06)));\n    }\n}\n\npublic char getPrk(){\n    return prk;\n}\npublic void setTicketAmt(){\n    Scanner s=new Scanner(System.in);\n    System.out.print(&quot;Enter your ticket amount: &quot;);\n    while(!s.hasNextInt()){\n    System.out.println(&quot;This is not an integer, try again&quot;);\n    System.out.print(&quot;Enter your ticket amount: &quot;);\n    s.next();\n    }\n    ticket_amount=s.nextInt();\n    while(ticket_amount&lt;=0||ticket_amount&gt;9999){\n        System.out.println(&quot;Invalid ticket amount, try again&quot;);\n        System.out.print(&quot;Enter your ticket amount: &quot;);\n        while(!s.hasNextInt()){\n        System.out.println(&quot;This is not an integer, try again&quot;);\n        System.out.print(&quot;Enter your ticket amount: &quot;);\n        s.next();\n    }\n    ticket_amount=s.nextInt();\n    \n    }\n    \n}\n\npublic static int getTicketAmt(){\n    return ticket_amount;\n}\n\npublic static void ThemePark(){\n    double[] ticket= new double[2];\n    double ticketSize[]={0};\n    if(age&lt;17){\n        if(ticket_amount&lt;=3){\n            ticket[0]=50;\n            ticketSize[0]=ticket[0];\n        }\n        if(ticket_amount&gt;3){\n            for(int i=0;i&lt;=3;i++){\n                ticket[0]=50;\n                ticketSize[0]=ticket[0];\n            }\n            for(int i=0;i&gt;3&amp;&amp;i&lt;ticket_amount;i++){\n                ticket[1]=45;\n                ticketSize[0]=ticket[1];\n            }\n        }\n        for(int k=0;k&lt;ticketSize.length;k++){\n            sum+=ticketSize[k];\n        }\n        \n}\n}\n</code></pre>\n"},{"tags":["java","json","maven"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1596795108,"post_id":63299431,"comment_id":111931996,"body_markdown":"&quot;`To see the full stack trace of the errors, re-run Maven with the -e switch.`&quot; - Do that, and show us the stacktrace.","body":"&quot;<code>To see the full stack trace of the errors, re-run Maven with the -e switch.</code>&quot; - Do that, and show us the stacktrace."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1596795288,"post_id":63299431,"comment_id":111932073,"body_markdown":"By the way, what does 255Mo mean?","body":"By the way, what does 255Mo mean?"},{"owner":{"account_id":16727728,"reputation":109,"user_id":12090940,"display_name":"Mastour Ikhlass"},"score":0,"creation_date":1596798456,"post_id":63299431,"comment_id":111933482,"body_markdown":"@StephenC sorry,  i mean 255 Megabyte and for the stack trace of errors is below .","body":"@StephenC sorry,  i mean 255 Megabyte and for the stack trace of errors is below ."},{"owner":{"account_id":19570,"reputation":3092,"user_id":132162,"accept_rate":82,"display_name":"raupach"},"score":0,"creation_date":1596799545,"post_id":63299431,"comment_id":111933912,"body_markdown":"For parsing large JSON Files you better stick with Jackson and the streaming api. Just a suggestion, this way you do not need to increase the heap size of your JVM.","body":"For parsing large JSON Files you better stick with Jackson and the streaming api. Just a suggestion, this way you do not need to increase the heap size of your JVM."}],"owner":{"account_id":16727728,"reputation":109,"user_id":12090940,"display_name":"Mastour Ikhlass"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666315500,"creation_date":1596794242,"question_id":63299431,"body_markdown":"I&#39;im trying to read my **JSON file** (size : **255Mo** ) in the **format** like this : \r\n\r\n    {    \r\n        &quot;Data&quot;:[\r\n            {\r\n              &quot;IDJointure&quot;: &quot;001&quot;,\r\n              &quot;societe&quot;: &quot;societe1&quot;,\r\n              &quot;heure&quot;: &quot;04&quot;   \r\n            },\r\n            ... \r\n          ]\r\n    }\r\n\r\n**Here is my code Java :**\r\n\r\n   \r\n   \r\n            \r\n          JSONParser jsonParser = new JSONParser();\r\n             \r\n            Object object = jsonParser.parse(new FileReader(&quot;Data2019.json&quot;));\r\n            JSONObject jsonObject=(JSONObject) object;\r\n            \r\n              JSONArray arr = (JSONArray) jsonObject.get(&quot;Data&quot;);\r\n    \r\n                 for (int index = 0; index &lt; arr.size(); index++) {\r\n    \r\n                     JSONObject jobj = (JSONObject) arr.get(index);\r\n                     String IDJointure = (String) jobj.get(&quot;IDJointure&quot;);\r\n                     System.out.println(IDJointure);\r\n                    \r\n                     String societe = (String) jobj.get(&quot;societe&quot;);\r\n                     System.out.println(societe);\r\n                     \r\n                 }\r\n                \r\n             \r\n  \r\n**But i had this error:** \r\n\r\n    Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.5.0:exec (default-cli) on project Instanciation1: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\nIs the problem caused by the size of the JSON file ?\r\n\r\n**The stack trace of errors :** \r\n\r\n    Error stacktraces are turned on.\r\n    Scanning for projects...\r\n                                                                            \r\n    ------------------------------------------------------------------------\r\n    Building Instanciation1 1.0-SNAPSHOT\r\n    ------------------------------------------------------------------------\r\n    --- exec-maven-plugin:1.5.0:exec (default-cli) @ Instanciation1 ---\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.base/java.util.LinkedList.linkFirst(LinkedList.java:131)\r\n    \tat java.base/java.util.LinkedList.addFirst(LinkedList.java:297)\r\n    \tat org.json.simple.parser.JSONParser.parse(JSONParser.java:157)\r\n    \tat org.json.simple.parser.JSONParser.parse(JSONParser.java:92)\r\n    \tat com.mycompany.instanciation1.readjson.main(readjson.java:21)\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    \tat org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\r\n    \tat org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\r\n    \tat org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:764)\r\n    \tat org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:711)\r\n    \tat org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:289)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n    Total time: 55.284 s\r\n    Finished at: 2020-08-07T12:58:09+02:00\r\n    Final Memory: 8M/30M\r\n    ------------------------------------------------------------------------\r\n    Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.5.0:exec (default-cli) on project Instanciation1: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.5.0:exec (default-cli) on project Instanciation1: Command execution failed.\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Command execution failed.\r\n    \tat org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:302)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n    \t... 20 more\r\n    Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    \tat org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\r\n    \tat org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\r\n    \tat org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:764)\r\n    \tat org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:711)\r\n    \tat org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:289)\r\n    \t... 22 more\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n","title":"cannot read JSON file","body":"<p>I'im trying to read my <strong>JSON file</strong> (size : <strong>255Mo</strong> ) in the <strong>format</strong> like this :</p>\n<pre><code>{    \n    &quot;Data&quot;:[\n        {\n          &quot;IDJointure&quot;: &quot;001&quot;,\n          &quot;societe&quot;: &quot;societe1&quot;,\n          &quot;heure&quot;: &quot;04&quot;   \n        },\n        ... \n      ]\n}\n</code></pre>\n<p><strong>Here is my code Java :</strong></p>\n<pre><code>      JSONParser jsonParser = new JSONParser();\n         \n        Object object = jsonParser.parse(new FileReader(&quot;Data2019.json&quot;));\n        JSONObject jsonObject=(JSONObject) object;\n        \n          JSONArray arr = (JSONArray) jsonObject.get(&quot;Data&quot;);\n\n             for (int index = 0; index &lt; arr.size(); index++) {\n\n                 JSONObject jobj = (JSONObject) arr.get(index);\n                 String IDJointure = (String) jobj.get(&quot;IDJointure&quot;);\n                 System.out.println(IDJointure);\n                \n                 String societe = (String) jobj.get(&quot;societe&quot;);\n                 System.out.println(societe);\n                 \n             }\n            \n         \n</code></pre>\n<p><strong>But i had this error:</strong></p>\n<pre><code>Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.5.0:exec (default-cli) on project Instanciation1: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Is the problem caused by the size of the JSON file ?</p>\n<p><strong>The stack trace of errors :</strong></p>\n<pre><code>Error stacktraces are turned on.\nScanning for projects...\n                                                                        \n------------------------------------------------------------------------\nBuilding Instanciation1 1.0-SNAPSHOT\n------------------------------------------------------------------------\n--- exec-maven-plugin:1.5.0:exec (default-cli) @ Instanciation1 ---\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.LinkedList.linkFirst(LinkedList.java:131)\n    at java.base/java.util.LinkedList.addFirst(LinkedList.java:297)\n    at org.json.simple.parser.JSONParser.parse(JSONParser.java:157)\n    at org.json.simple.parser.JSONParser.parse(JSONParser.java:92)\n    at com.mycompany.instanciation1.readjson.main(readjson.java:21)\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:764)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:711)\n    at org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:289)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time: 55.284 s\nFinished at: 2020-08-07T12:58:09+02:00\nFinal Memory: 8M/30M\n------------------------------------------------------------------------\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:1.5.0:exec (default-cli) on project Instanciation1: Command execution failed. Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.5.0:exec (default-cli) on project Instanciation1: Command execution failed.\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Command execution failed.\n    at org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:302)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more\nCaused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:764)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine(ExecMojo.java:711)\n    at org.codehaus.mojo.exec.ExecMojo.execute(ExecMojo.java:289)\n    ... 22 more\nRe-run Maven using the -X switch to enable full debug logging.\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"comments":[{"owner":{"account_id":26674212,"reputation":3,"user_id":20285229,"display_name":"ContigoLover"},"score":0,"creation_date":1666473156,"post_id":74147822,"comment_id":130946899,"body_markdown":"I did end up solving it. ArrayLists are supported but the issue was indeed that the nested classes did not have the @DynamoDBDocument which led to the DDBMapper not recognizing them.","body":"I did end up solving it. ArrayLists are supported but the issue was indeed that the nested classes did not have the @DynamoDBDocument which led to the DDBMapper not recognizing them."}],"tags":[],"owner":{"account_id":7995070,"reputation":196,"user_id":6031679,"display_name":"Eric"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666315151,"creation_date":1666315151,"answer_id":74147822,"question_id":74129878,"body_markdown":"The exception is pointing to the error, there is something wrong with the field `students` inside the class `Cohort`.\r\n\r\nI guess the type `ArrayList` is not supported. According to [Supported data types for DynamoDB Mapper for Java](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.DataTypes.html):\r\n\r\n&gt; DynamoDB supports the Java Set, List, and Map collection types.\r\n\r\nAlso, it is a good practice to use the collection interfaces and not the concrete implementations, in this case use `List` instead of `ArrayList`.\r\n\r\nAnother point that could cause issues is that the classes `Student` and `StudentInfo` do not have the `@DynamoDBDocument` annotation. See the example in [Java Annotations for DynamoDB - DynamoDBDocument](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument).\r\n","title":"DynamoDBMappingException: could not convert attribute","body":"<p>The exception is pointing to the error, there is something wrong with the field <code>students</code> inside the class <code>Cohort</code>.</p>\n<p>I guess the type <code>ArrayList</code> is not supported. According to <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.DataTypes.html\" rel=\"nofollow noreferrer\">Supported data types for DynamoDB Mapper for Java</a>:</p>\n<blockquote>\n<p>DynamoDB supports the Java Set, List, and Map collection types.</p>\n</blockquote>\n<p>Also, it is a good practice to use the collection interfaces and not the concrete implementations, in this case use <code>List</code> instead of <code>ArrayList</code>.</p>\n<p>Another point that could cause issues is that the classes <code>Student</code> and <code>StudentInfo</code> do not have the <code>@DynamoDBDocument</code> annotation. See the example in <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBDocument\" rel=\"nofollow noreferrer\">Java Annotations for DynamoDB - DynamoDBDocument</a>.</p>\n"}],"owner":{"account_id":26674212,"reputation":3,"user_id":20285229,"display_name":"ContigoLover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74147822,"answer_count":1,"score":0,"last_activity_date":1666315151,"creation_date":1666202056,"question_id":74129878,"body_markdown":"Receiving an exception saving a complicated object to DDB: \r\n\r\n`Caused by: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: Cohort[students]; could not convert attribute`\r\n`com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperTableModel.convert(DynamoDBMapperTableModel.java:249)`\r\n\r\nHere is my record, suspect something is wrong with my DynamoDBDocument but every field has a getter and a setter. It could also be with trying to use ArrayList?\r\n\r\n```\r\n@DynamoDBTable(tableName = &quot;ClassroomTable&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class Classroom {\r\n\r\n    @DynamoDBHashKey(attributeName = &quot;ClassID&quot;)\r\n    private String classID;\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;Teacher&quot;)\r\n    private String teacher;\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;Cohort&quot;)\r\n    public Cohort cohort;\r\n\r\n    @Data\r\n    @DynamoDBDocument\r\n    public static class Cohort {\r\n        public ArrayList&lt;Student&gt; students;\r\n    }\r\n    @Data\r\n    public static class Student {\r\n        public StudentInfo studentInfo;\r\n\r\n        @Data\r\n        public static class StudentInfo{\r\n            public String name;\r\n            public Integer grade;\r\n            public Integer age;\r\n\r\n     } \r\n}\r\n```\r\n\r\nI have seen similar issues with uncovert but this isn&#39;t the exact same. Any help would be greatly appreciated.\r\n","title":"DynamoDBMappingException: could not convert attribute","body":"<p>Receiving an exception saving a complicated object to DDB:</p>\n<p><code>Caused by: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: Cohort[students]; could not convert attribute</code>\n<code>com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperTableModel.convert(DynamoDBMapperTableModel.java:249)</code></p>\n<p>Here is my record, suspect something is wrong with my DynamoDBDocument but every field has a getter and a setter. It could also be with trying to use ArrayList?</p>\n<pre><code>@DynamoDBTable(tableName = &quot;ClassroomTable&quot;)\n@Data\n@NoArgsConstructor\npublic class Classroom {\n\n    @DynamoDBHashKey(attributeName = &quot;ClassID&quot;)\n    private String classID;\n\n    @DynamoDBAttribute(attributeName = &quot;Teacher&quot;)\n    private String teacher;\n\n    @DynamoDBAttribute(attributeName = &quot;Cohort&quot;)\n    public Cohort cohort;\n\n    @Data\n    @DynamoDBDocument\n    public static class Cohort {\n        public ArrayList&lt;Student&gt; students;\n    }\n    @Data\n    public static class Student {\n        public StudentInfo studentInfo;\n\n        @Data\n        public static class StudentInfo{\n            public String name;\n            public Integer grade;\n            public Integer age;\n\n     } \n}\n</code></pre>\n<p>I have seen similar issues with uncovert but this isn't the exact same. Any help would be greatly appreciated.</p>\n"},{"tags":["java","ignite"],"comments":[{"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"score":0,"creation_date":1668533226,"post_id":74118441,"comment_id":131426756,"body_markdown":"I was able to determine that I wasn&#39;t seeing the answers I was expecting b/c the remote jobs were not running when I was expecting them to run.  Free nodes would respond immediately, busy nodes would not respond until their current compute job was complete.  Probably not an error in Ignite but a misunderstanding on my part.  The cache method below is a better solution.","body":"I was able to determine that I wasn&#39;t seeing the answers I was expecting b/c the remote jobs were not running when I was expecting them to run.  Free nodes would respond immediately, busy nodes would not respond until their current compute job was complete.  Probably not an error in Ignite but a misunderstanding on my part.  The cache method below is a better solution."}],"answers":[{"tags":[],"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666314366,"creation_date":1666313740,"answer_id":74147707,"question_id":74118441,"body_markdown":"Skip ClusterMetrics entirely.  Create an IgniteCache and put the node UUID in the cache when the Job is started and remove the UUID when the job is completed.\r\n\r\nFinding the Nodes that are still in the cluster and have a job could be done like this:\r\n\r\n\tpublic static Collection&lt;UUID&gt; getActiveNodesCache(Ignite grid)\r\n\t{\r\n\t\tSet&lt;UUID&gt; retval = new TreeSet&lt;&gt;();\r\n\t\tIgniteCache&lt;UUID, ComputeJob&gt; workingOnMap = grid.cache(JOB_CACHE); \r\n\r\n\t\tworkingOnMap.query(new ScanQuery&lt;&gt;(null)).forEach(entry -&gt; retval.add((UUID) entry.getKey()));\r\n\t\t// We count on the nodes to add and remove themselves from the cache when they start/complete jobs.\r\n\t\t// Nodes that crashed aren&#39;t removed from this cache - they just die.  So retval could\r\n\t\t// contain nodes that are gone at this point.\r\n\r\n\r\n\t\tSet&lt;UUID&gt; inGrid = grid.cluster().nodes().stream().map(ClusterNode::id).collect(Collectors.toSet());\r\n\t\tSet&lt;UUID&gt; notInGrid = new LinkedHashSet&lt;&gt;(retval);\r\n\t\tnotInGrid.removeAll(inGrid);\r\n\r\n\t\tretval.retainAll(inGrid);   // remove any nodes that are no longer in the cluster.\r\n\r\n\t\tlogger.log(Level.INFO,\r\n\t\t\t\t&quot;Found {0} nodes in grid.  {1} of those are active.  {2} nodes were active but left grid.&quot;,\r\n\t\t\t\tnew Object[]{inGrid.size(), retval.size(), notInGrid.size()});\r\n\r\n\t\treturn retval;\r\n\t}\r\n\r\nThe ComputeJobs can create the cache like this:\r\n\r\n    IgniteCache&lt;UUID, ComputeJob&gt; workingOnMap = grid.getOrCreateCache(getInProgressConfig());\r\n\r\nBecause you want to kill the nodes, be sure the cache is REPLICATED across the grid so that dead nodes don&#39;t take portions of the cache with them.\r\n\r\n    public static CacheConfiguration&lt;UUID, ComputeJob&gt; getInProgressConfig()\r\n        {\r\n            CacheConfiguration&lt;UUID, ComputeJob&gt; config = new CacheConfiguration&lt;&gt;();\r\n            config.setName(JOB_CACHE);\r\n            config.setCacheMode(CacheMode.REPLICATED);\r\n            config.setAtomicityMode(CacheAtomicityMode.ATOMIC);\r\n            config.setWriteSynchronizationMode(CacheWriteSynchronizationMode.FULL_SYNC);\r\n         \r\n            return config;\r\n        }\r\n\r\n","title":"How can I find Ignite nodes that aren&#39;t actively computing a Job?","body":"<p>Skip ClusterMetrics entirely.  Create an IgniteCache and put the node UUID in the cache when the Job is started and remove the UUID when the job is completed.</p>\n<p>Finding the Nodes that are still in the cluster and have a job could be done like this:</p>\n<pre><code>public static Collection&lt;UUID&gt; getActiveNodesCache(Ignite grid)\n{\n    Set&lt;UUID&gt; retval = new TreeSet&lt;&gt;();\n    IgniteCache&lt;UUID, ComputeJob&gt; workingOnMap = grid.cache(JOB_CACHE); \n\n    workingOnMap.query(new ScanQuery&lt;&gt;(null)).forEach(entry -&gt; retval.add((UUID) entry.getKey()));\n    // We count on the nodes to add and remove themselves from the cache when they start/complete jobs.\n    // Nodes that crashed aren't removed from this cache - they just die.  So retval could\n    // contain nodes that are gone at this point.\n\n\n    Set&lt;UUID&gt; inGrid = grid.cluster().nodes().stream().map(ClusterNode::id).collect(Collectors.toSet());\n    Set&lt;UUID&gt; notInGrid = new LinkedHashSet&lt;&gt;(retval);\n    notInGrid.removeAll(inGrid);\n\n    retval.retainAll(inGrid);   // remove any nodes that are no longer in the cluster.\n\n    logger.log(Level.INFO,\n            &quot;Found {0} nodes in grid.  {1} of those are active.  {2} nodes were active but left grid.&quot;,\n            new Object[]{inGrid.size(), retval.size(), notInGrid.size()});\n\n    return retval;\n}\n</code></pre>\n<p>The ComputeJobs can create the cache like this:</p>\n<pre><code>IgniteCache&lt;UUID, ComputeJob&gt; workingOnMap = grid.getOrCreateCache(getInProgressConfig());\n</code></pre>\n<p>Because you want to kill the nodes, be sure the cache is REPLICATED across the grid so that dead nodes don't take portions of the cache with them.</p>\n<pre><code>public static CacheConfiguration&lt;UUID, ComputeJob&gt; getInProgressConfig()\n    {\n        CacheConfiguration&lt;UUID, ComputeJob&gt; config = new CacheConfiguration&lt;&gt;();\n        config.setName(JOB_CACHE);\n        config.setCacheMode(CacheMode.REPLICATED);\n        config.setAtomicityMode(CacheAtomicityMode.ATOMIC);\n        config.setWriteSynchronizationMode(CacheWriteSynchronizationMode.FULL_SYNC);\n     \n        return config;\n    }\n</code></pre>\n"}],"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666314366,"creation_date":1666135871,"question_id":74118441,"body_markdown":"I&#39;m using Ignite 2.13 in a Windows environment.\r\nI have exclusive use of a 110 node compute grid.  I want to complete a ComputeTask that maps to 100 ComputeJobs.  The jobs take a variable amount of time to complete.  As the compute progresses many of the nodes become idle waiting for the remaining jobs to complete.   Midway through the compute I&#39;d like to find all the idle nodes and then kill some subset of them, leaving a few in case one of the remaining jobs randomly fails and needs to failover.\r\n\r\nIn the ComputeTask the &quot;result&quot; method is called as Jobs complete.  From the &quot;result&quot; method I&#39;m trying to find all the grid nodes with an active job.  Any node that does not have an active job is assumed idle and potentially eligible to be killed off.\r\n\r\nI have two methods for finding the nodes with an active job getActiveNodesOld and getActiveNodesLocal.  They return drastically different answers.\r\n\r\n    // This version uses this node&#39;s view of the all the cluster.\r\n\t// This status lags behind reality by 2 seconds.\r\n\tpublic static Collection&lt;UUID&gt; getActiveNodesOld(Ignite grid)\r\n\t{\r\n\t\tSet&lt;UUID&gt; retval = new LinkedHashSet&lt;&gt;();\r\n\r\n\t\tCollection&lt;ClusterNode&gt; nodes = grid.cluster().nodes();\r\n\t\tfor(ClusterNode node : nodes)\r\n\t\t{\r\n\t\t\tint activeJobs = node.metrics().getCurrentActiveJobs();\r\n\t\t\tif(activeJobs &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tretval.add(node.id());\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn retval;\r\n\t}\r\n\r\n\t// This version asks each node about its own status.  The results are supposed to be more\r\n\t// accurate.\r\n\r\n\tpublic static Collection&lt;UUID&gt; getActiveNodesLocal(Ignite grid)\r\n\t{\r\n\t\tSet&lt;UUID&gt; retval = new LinkedHashSet&lt;&gt;();\r\n\t\tIgniteCompute compute = grid.compute();\r\n\r\n\t\tCollection&lt;IgniteBiTuple&lt;UUID, Integer&gt;&gt; metricsMap =\r\n\t\t\t\tcompute.broadcast(new ActiveJobCallable());\r\n\r\n\t\tfor(Map.Entry&lt;UUID, Integer&gt; entry : metricsMap)\r\n\t\t{\r\n\t\t\tUUID id = entry.getKey();\r\n\t\t\tint activeJobs = entry.getValue();\r\n\r\n\t\t\tif(activeJobs &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tretval.add(id);\r\n\t\t\t}\r\n\t\t\tif(activeJobs &gt; 1){\r\n\t\t\t\tlogger.info(&quot;Warning: Node:&quot; + id + &quot; has &quot; + activeJobs + &quot; active jobs. &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn retval;\r\n\t}\r\n\r\n\tprivate static class ActiveJobCallable implements IgniteCallable&lt;IgniteBiTuple&lt;UUID, Integer&gt;&gt;\r\n\t{\r\n\r\n\t\t@IgniteInstanceResource\r\n\t\tprivate transient Ignite ignite;\r\n\r\n\r\n\t\tpublic ActiveJobCallable()\r\n\t\t{\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic IgniteBiTuple&lt;UUID, Integer&gt; call()\r\n\t\t{\r\n\t\t\tClusterNode clusterNode = ignite.cluster().localNode();\r\n\t\t\tClusterMetrics nodeMetrics = clusterNode.metrics();\r\n\r\n\t\t\treturn new IgniteBiTuple&lt;&gt;(clusterNode.id(), nodeMetrics.getCurrentActiveJobs());\r\n\t\t}\r\n\t}\r\n\r\nThese two methods return very different results with regard to which nodes are active.  The first time through the getActiveNodesLocal reports that there are 0 active nodes.  I can see how this is possible - perhaps a job is not considered complete until &quot;result&quot; returns.  I&#39;ll give it the benefit of the doubt.  The other method, getActiveNodesOld indicates there is a large number of idle nodes. Even though its being called for the first completed compute job so the remainder of the grid should still be working on compute jobs.\r\nAs the compute progresses neither method produces the answers I&#39;d expect.  The nodes seem to start reporting 1 activeJob and then never report 0 activeJobs even after the job is complete.  Do I need to be resetting the ClusterMetrics somehow?\r\n\r\nThe method getActiveNodesLocal broadcasts an IgniteCallable into the grid.  Does that callable get counted in the results of getCurrentActiveJobs()?  It doesn&#39;t seem to but I thought that might explain the weird results I&#39;m seeing.  I never see the logger message I added that should be triggered if &quot;activeJobs &gt; 1&quot;.\r\n\r\nIs there some other way I Should accomplish my goal of finding nodes that are idling?  Can I find, for example, what node each job is currently assigned to and then determine which nodes don&#39;t have a job assignment?  I don&#39;t see a method for the ComputeTask to determine node&lt;-&gt;job mapping but maybe I&#39;m just overlooking it.  \r\n\r\nI suppose I could have the nodes send a grid message when they start and also when they complete a job and I could track which jobs are active but that feels like the wrong solution. \r\n\r\n","title":"How can I find Ignite nodes that aren&#39;t actively computing a Job?","body":"<p>I'm using Ignite 2.13 in a Windows environment.\nI have exclusive use of a 110 node compute grid.  I want to complete a ComputeTask that maps to 100 ComputeJobs.  The jobs take a variable amount of time to complete.  As the compute progresses many of the nodes become idle waiting for the remaining jobs to complete.   Midway through the compute I'd like to find all the idle nodes and then kill some subset of them, leaving a few in case one of the remaining jobs randomly fails and needs to failover.</p>\n<p>In the ComputeTask the &quot;result&quot; method is called as Jobs complete.  From the &quot;result&quot; method I'm trying to find all the grid nodes with an active job.  Any node that does not have an active job is assumed idle and potentially eligible to be killed off.</p>\n<p>I have two methods for finding the nodes with an active job getActiveNodesOld and getActiveNodesLocal.  They return drastically different answers.</p>\n<pre><code>// This version uses this node's view of the all the cluster.\n// This status lags behind reality by 2 seconds.\npublic static Collection&lt;UUID&gt; getActiveNodesOld(Ignite grid)\n{\n    Set&lt;UUID&gt; retval = new LinkedHashSet&lt;&gt;();\n\n    Collection&lt;ClusterNode&gt; nodes = grid.cluster().nodes();\n    for(ClusterNode node : nodes)\n    {\n        int activeJobs = node.metrics().getCurrentActiveJobs();\n        if(activeJobs &gt; 0)\n        {\n            retval.add(node.id());\n        }\n    }\n    \n    return retval;\n}\n\n// This version asks each node about its own status.  The results are supposed to be more\n// accurate.\n\npublic static Collection&lt;UUID&gt; getActiveNodesLocal(Ignite grid)\n{\n    Set&lt;UUID&gt; retval = new LinkedHashSet&lt;&gt;();\n    IgniteCompute compute = grid.compute();\n\n    Collection&lt;IgniteBiTuple&lt;UUID, Integer&gt;&gt; metricsMap =\n            compute.broadcast(new ActiveJobCallable());\n\n    for(Map.Entry&lt;UUID, Integer&gt; entry : metricsMap)\n    {\n        UUID id = entry.getKey();\n        int activeJobs = entry.getValue();\n\n        if(activeJobs &gt; 0)\n        {\n            retval.add(id);\n        }\n        if(activeJobs &gt; 1){\n            logger.info(&quot;Warning: Node:&quot; + id + &quot; has &quot; + activeJobs + &quot; active jobs. &quot;);\n        }\n    }\n\n    return retval;\n}\n\nprivate static class ActiveJobCallable implements IgniteCallable&lt;IgniteBiTuple&lt;UUID, Integer&gt;&gt;\n{\n\n    @IgniteInstanceResource\n    private transient Ignite ignite;\n\n\n    public ActiveJobCallable()\n    {\n    }\n\n    @Override\n    public IgniteBiTuple&lt;UUID, Integer&gt; call()\n    {\n        ClusterNode clusterNode = ignite.cluster().localNode();\n        ClusterMetrics nodeMetrics = clusterNode.metrics();\n\n        return new IgniteBiTuple&lt;&gt;(clusterNode.id(), nodeMetrics.getCurrentActiveJobs());\n    }\n}\n</code></pre>\n<p>These two methods return very different results with regard to which nodes are active.  The first time through the getActiveNodesLocal reports that there are 0 active nodes.  I can see how this is possible - perhaps a job is not considered complete until &quot;result&quot; returns.  I'll give it the benefit of the doubt.  The other method, getActiveNodesOld indicates there is a large number of idle nodes. Even though its being called for the first completed compute job so the remainder of the grid should still be working on compute jobs.\nAs the compute progresses neither method produces the answers I'd expect.  The nodes seem to start reporting 1 activeJob and then never report 0 activeJobs even after the job is complete.  Do I need to be resetting the ClusterMetrics somehow?</p>\n<p>The method getActiveNodesLocal broadcasts an IgniteCallable into the grid.  Does that callable get counted in the results of getCurrentActiveJobs()?  It doesn't seem to but I thought that might explain the weird results I'm seeing.  I never see the logger message I added that should be triggered if &quot;activeJobs &gt; 1&quot;.</p>\n<p>Is there some other way I Should accomplish my goal of finding nodes that are idling?  Can I find, for example, what node each job is currently assigned to and then determine which nodes don't have a job assignment?  I don't see a method for the ComputeTask to determine node&lt;-&gt;job mapping but maybe I'm just overlooking it.</p>\n<p>I suppose I could have the nodes send a grid message when they start and also when they complete a job and I could track which jobs are active but that feels like the wrong solution.</p>\n"},{"tags":["java","for-loop","exit","break"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666312754,"post_id":74147587,"comment_id":130913183,"body_markdown":"After the prompt `(&quot;Enter grade ...`, accept the input into a temporary `int`. If the temporary `== 999` `break`. If not, copy it to `grade[i]`.","body":"After the prompt <code>(&quot;Enter grade ...</code>, accept the input into a temporary <code>int</code>. If the temporary <code>== 999</code> <code>break</code>. If not, copy it to <code>grade[i]</code>."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666312758,"creation_date":1666312758,"answer_id":74147618,"question_id":74147587,"body_markdown":"Assign the inputted value to a temporary variable, and then if it is 999 break the loop, else assign it the the array.\r\n\r\n    for (i = 0; i &lt; 10; i++) {\r\n       System.out.print(&quot;Enter grade &quot; + (i + 1) + &quot; or enter 999 to quit: &quot;);\r\n       int temp = scanner.nextInt();\r\n       if (temp == 999) {\r\n          break;\r\n       }\r\n       grade[i] = temp;\r\n       ...","title":"How can I exit java for-loop if user enters 999?","body":"<p>Assign the inputted value to a temporary variable, and then if it is 999 break the loop, else assign it the the array.</p>\n<pre><code>for (i = 0; i &lt; 10; i++) {\n   System.out.print(&quot;Enter grade &quot; + (i + 1) + &quot; or enter 999 to quit: &quot;);\n   int temp = scanner.nextInt();\n   if (temp == 999) {\n      break;\n   }\n   grade[i] = temp;\n   ...\n</code></pre>\n"}],"owner":{"account_id":25479411,"reputation":9,"user_id":19276037,"display_name":"ilikecompooters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1666312758,"creation_date":1666312154,"question_id":74147587,"body_markdown":"I need to write a program that allows a student to enter up to 10 quiz scores, computes the average score, and then displays the letter grade based on the average. However, if the user enters 999 during the input of quiz scores, the program will terminate. This is the code block I wanted to insert a break statement into but I&#39;m struggling to correctly incorporate grade[i] = 999 into my code without getting an error message. I think the issue may be that the 999 is an integer array value and is unrelated to the int i counter in the for loop.\r\n\r\n    for (i = 0; i &lt; 10; i++) {\r\n       //prompts user to enter grade + displays counter value\r\n       System.out.print(&quot;Enter grade &quot; + (i + 1) + &quot; or enter 999 to quit: &quot;);\r\n       //allows user input to be stored in variable grade\r\n       grade[i] = scanner.nextInt();\r\n       //adds new grade input to total grade to update variable gradeTotal\r\n       gradeTotal = gradeTotal + grade[i];\r\n       \r\n","title":"How can I exit java for-loop if user enters 999?","body":"<p>I need to write a program that allows a student to enter up to 10 quiz scores, computes the average score, and then displays the letter grade based on the average. However, if the user enters 999 during the input of quiz scores, the program will terminate. This is the code block I wanted to insert a break statement into but I'm struggling to correctly incorporate grade[i] = 999 into my code without getting an error message. I think the issue may be that the 999 is an integer array value and is unrelated to the int i counter in the for loop.</p>\n<pre><code>for (i = 0; i &lt; 10; i++) {\n   //prompts user to enter grade + displays counter value\n   System.out.print(&quot;Enter grade &quot; + (i + 1) + &quot; or enter 999 to quit: &quot;);\n   //allows user input to be stored in variable grade\n   grade[i] = scanner.nextInt();\n   //adds new grade input to total grade to update variable gradeTotal\n   gradeTotal = gradeTotal + grade[i];\n   \n</code></pre>\n"},{"tags":["java","jar","classpath","manifest"],"answers":[{"comments":[{"owner":{"account_id":153480,"reputation":3097,"user_id":368760,"accept_rate":100,"display_name":"fadmaa"},"score":5,"creation_date":1276731631,"post_id":3057862,"comment_id":3131089,"body_markdown":"perfect... a space at the end of each line and one at the beginning. Thanks a million","body":"perfect... a space at the end of each line and one at the beginning. Thanks a million"},{"owner":{"account_id":102066,"reputation":5017,"user_id":274205,"accept_rate":75,"display_name":"Timofey Gorshkov"},"score":1,"creation_date":1471968811,"post_id":3057862,"comment_id":65559259,"body_markdown":"@fadmaa, only at the beginning.","body":"@fadmaa, only at the beginning."}],"tags":[],"owner":{"account_id":89637,"reputation":9784,"user_id":247184,"accept_rate":88,"display_name":"VoodooChild"},"comment_count":2,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1471970306,"creation_date":1276730310,"answer_id":3057862,"question_id":3057841,"body_markdown":"The classpath is too long due to the number of jar files in it. &#171;No line may be longer than 72 bytes (not characters), in its UTF8-encoded form.&#187; [from docs: [java 5][1], [java 8][2]; &#171;Line length&#187; section].\r\n\r\nuse as the following way to resolve the problem:\r\n\r\n(1) use separate lines, to avoid too long a line for java package name lists \r\n\r\n(2) type a preceding space before each folloing lines, for example:\r\n\r\n    Class-Path:\r\n     ...jar\r\n     ...jar\r\n     ...jar\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/1.5.0/docs/guide/jar/jar.html#Notes%20on%20Manifest%20and%20Signature%20Files\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html#Notes_on_Manifest_and_Signature_Files","title":"Too long line in manifest file while trying to create jar","body":"<p>The classpath is too long due to the number of jar files in it. «No line may be longer than 72 bytes (not characters), in its UTF8-encoded form.» [from docs: <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/jar/jar.html#Notes%20on%20Manifest%20and%20Signature%20Files\" rel=\"noreferrer\">java 5</a>, <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html#Notes_on_Manifest_and_Signature_Files\" rel=\"noreferrer\">java 8</a>; «Line length» section].</p>\n\n<p>use as the following way to resolve the problem:</p>\n\n<p>(1) use separate lines, to avoid too long a line for java package name lists </p>\n\n<p>(2) type a preceding space before each folloing lines, for example:</p>\n\n<pre><code>Class-Path:\n ...jar\n ...jar\n ...jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713251,"reputation":1,"user_id":1570867,"display_name":"Amirtharaj"},"comment_count":0,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1349247369,"creation_date":1343898558,"answer_id":11774344,"question_id":3057841,"body_markdown":"For too long line error \r\n\r\nUse Class-Path: `*.*`","title":"Too long line in manifest file while trying to create jar","body":"<p>For too long line error </p>\n\n<p>Use Class-Path: <code>*.*</code></p>\n"},{"comments":[{"owner":{"account_id":2515468,"reputation":1611,"user_id":2187022,"accept_rate":90,"display_name":"Malvon"},"score":0,"creation_date":1397188902,"post_id":21411465,"comment_id":35134089,"body_markdown":"Also, if the name of jar file exceeds 72 bytes and carries over on to the next line, it should not have that extra single space (I modified your sample to include such scenario).","body":"Also, if the name of jar file exceeds 72 bytes and carries over on to the next line, it should not have that extra single space (I modified your sample to include such scenario)."}],"tags":[],"owner":{"account_id":479050,"reputation":9672,"user_id":891479,"accept_rate":79,"display_name":"L. G."},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1390927029,"creation_date":1390927029,"answer_id":21411465,"question_id":3057841,"body_markdown":"The answer of Voodoochild put me on the right track but wasn&#39;t so clear to me so quoting the specs:\r\n\r\n`No line may be longer than 72 bytes (not characters), in its UTF8-encoded form. If a value would make the initial line longer than this, it should be continued on extra lines (each starting with a single SPACE).` \r\n\r\nManifest example:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.mypackage.MyApp\r\n    Class-path: commons-beanutils-1.7.0.jar commons-collections-3.1.jar\r\n     commons-dbcp-1.2.2.jar commons-discovery.jar commons-lang-2.1.jar\r\n     commons-pool-1.2.jar ezjcom18.jar jbcl.jar log4j-1.2.14.jar\r\n     sqljdbc.jar torque-3.2-rc2.jar \r\n\r\n","title":"Too long line in manifest file while trying to create jar","body":"<p>The answer of Voodoochild put me on the right track but wasn't so clear to me so quoting the specs:</p>\n\n<p><code>No line may be longer than 72 bytes (not characters), in its UTF8-encoded form. If a value would make the initial line longer than this, it should be continued on extra lines (each starting with a single SPACE).</code> </p>\n\n<p>Manifest example:</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.mypackage.MyApp\nClass-path: commons-beanutils-1.7.0.jar commons-collections-3.1.jar\n commons-dbcp-1.2.2.jar commons-discovery.jar commons-lang-2.1.jar\n commons-pool-1.2.jar ezjcom18.jar jbcl.jar log4j-1.2.14.jar\n sqljdbc.jar torque-3.2-rc2.jar \n</code></pre>\n"},{"comments":[{"owner":{"account_id":66745,"reputation":1853,"user_id":195663,"accept_rate":79,"display_name":"Coder Guy"},"score":4,"creation_date":1513378904,"post_id":33468204,"comment_id":82646107,"body_markdown":"The temperamental nature of this file format boggles the mind, but it seems that the two spaces immediately following `Class-Path:` a space at the end of the line and one before each line, and finally an extra new-line at the end did the trick.  Wow, I think I will pour myself some strong drink now.","body":"The temperamental nature of this file format boggles the mind, but it seems that the two spaces immediately following <code>Class-Path:</code> a space at the end of the line and one before each line, and finally an extra new-line at the end did the trick.  Wow, I think I will pour myself some strong drink now."}],"tags":[],"owner":{"account_id":1798484,"reputation":865,"user_id":1650469,"display_name":"B5A7"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1571180224,"creation_date":1446418704,"answer_id":33468204,"question_id":3057841,"body_markdown":"The single character didn&#39;t work for me (Java 8, IntelliJ).  I used two characters at the start and no characters at the end of the line (wasn&#39;t apparent from the above example) and two new lines at the end, e.g.\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.mypackage.MyApp\r\n    Implementation-Version: 2.0.0\r\n    Class-Path:  newLibs/asjava.zip\r\n      newLibs/activation.jar\r\n      newLibs/axis-ant.jar\r\n      newLibs/axis.jar\r\n      newLibs/bcel-5.1.jar\r\n      newLibs/commons-discovery-0.2.jar\r\n      newLibs/commons-logging-1.0.4.jar\r\n      newLibs/datanucleus-api-jdo-4.2.0-release.jar\r\n      newLibs/datanucleus-api-jpa-4.1.4.jar\r\n      newLibs/datanucleus-cache-4.0.4.jar\r\n      newLibs/datanucleus-core-4.1.5.jar\r\n      newLibs/datanucleus-geospatial-4.1.0-release.jar\r\n      newLibs/datanucleus-guava-4.1.3.jar\r\n      newLibs/datanucleus-java8-4.2.0-release.jar\r\n      newLibs/datanucleus-jdo-query-4.2.0-release.jar\r\n      newLibs/datanucleus-jodatime-4.1.1.jar\r\n      newLibs/datanucleus-jpa-query-4.0.4.jar\r\n      newLibs/datanucleus-rdbms-4.1.6.jar\r\n      newLibs/dom4j-1.6.1.jar\r\n      newLibs/ehcache-1.1.jar\r\n      newLibs/ehcache-core-2.2.0.jar\r\n      newLibs/geronimo-jta_1.1_spec-1.1.jar\r\n      newLibs/guava-15.0.jar\r\n      newLibs/h2-1.3.168.jar\r\n      newLibs/ibmjsse.jar\r\n      newLibs/javax.jdo-3.2.0-m3.jar\r\n      newLibs/javax.persistence-2.1.1.jar\r\n      newLibs/jaxrpc.jar\r\n      newLibs/jdo-api-3.1-rc1.jar\r\n      newLibs/jdom.jar\r\n      newLibs/joda-time-1.6.jar\r\n      newLibs/jtds-1.2.jar\r\n      newLibs/log4j-1.2.14.jar\r\n      newLibs/mail.jar\r\n      newLibs/saaj.jar\r\n      newLibs/servlet-api.jar\r\n      newLibs/wsdl4j-1.5.1.jar\r\n      newLibs/xercesImpl.jar\r\n      newLibs/xml-apis.jar\r\n\r\n\r\nI also avoided placing multiple jars on one line as that didn&#39;t appear to work (even with lines less than 72 bytes).\r\n\r\nWhat led me to arrive at this solution was (1) I kept getting various class not found exceptions, of course and (2) When I examined the generated manifest file in the jar file, the spacing between the jars was missing - I assume that it was silently failing because there was no reported error apart from the class not found exceptions.  My working, generated manifest file looks like this:\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Version: 2.0.0\r\n    Class-Path:  newLibs/asjava.zip newLibs/activation.jar newLibs/axis-an\r\n     t.jar newLibs/axis.jar newLibs/bcel-5.1.jar newLibs/commons-discovery\r\n     -0.2.jar newLibs/commons-logging-1.0.4.jar newLibs/datanucleus-api-jd\r\n     o-4.2.0-release.jar newLibs/datanucleus-api-jpa-4.1.4.jar newLibs/dat\r\n     anucleus-cache-4.0.4.jar newLibs/datanucleus-core-4.1.5.jar newLibs/d\r\n     atanucleus-geospatial-4.1.0-release.jar newLibs/datanucleus-guava-4.1\r\n     .3.jar newLibs/datanucleus-java8-4.2.0-release.jar newLibs/datanucleu\r\n     s-jdo-query-4.2.0-release.jar newLibs/datanucleus-jodatime-4.1.1.jar \r\n     newLibs/datanucleus-jpa-query-4.0.4.jar newLibs/datanucleus-rdbms-4.1\r\n     .6.jar newLibs/dom4j-1.6.1.jar newLibs/ehcache-1.1.jar newLibs/ehcach\r\n     e-core-2.2.0.jar newLibs/geronimo-jta_1.1_spec-1.1.jar newLibs/guava-\r\n     15.0.jar newLibs/h2-1.3.168.jar newLibs/ibmjsse.jar newLibs/javax.jdo\r\n     -3.2.0-m3.jar newLibs/javax.persistence-2.1.1.jar newLibs/jaxrpc.jar \r\n     newLibs/jdo-api-3.1-rc1.jar newLibs/jdom.jar newLibs/joda-time-1.6.ja\r\n     r newLibs/jtds-1.2.jar newLibs/junit-3.8.1.jar newLibs/log4j-1.2.14.j\r\n     ar newLibs/mail.jar newLibs/saaj.jar newLibs/servlet-api.jar newLibs/\r\n     wsdl4j-1.5.1.jar newLibs/xercesImpl.jar newLibs/xml-apis.jar\r\n    Main-Class: com.mypackage.MyApp","title":"Too long line in manifest file while trying to create jar","body":"<p>The single character didn't work for me (Java 8, IntelliJ).  I used two characters at the start and no characters at the end of the line (wasn't apparent from the above example) and two new lines at the end, e.g.</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.mypackage.MyApp\nImplementation-Version: 2.0.0\nClass-Path:  newLibs/asjava.zip\n  newLibs/activation.jar\n  newLibs/axis-ant.jar\n  newLibs/axis.jar\n  newLibs/bcel-5.1.jar\n  newLibs/commons-discovery-0.2.jar\n  newLibs/commons-logging-1.0.4.jar\n  newLibs/datanucleus-api-jdo-4.2.0-release.jar\n  newLibs/datanucleus-api-jpa-4.1.4.jar\n  newLibs/datanucleus-cache-4.0.4.jar\n  newLibs/datanucleus-core-4.1.5.jar\n  newLibs/datanucleus-geospatial-4.1.0-release.jar\n  newLibs/datanucleus-guava-4.1.3.jar\n  newLibs/datanucleus-java8-4.2.0-release.jar\n  newLibs/datanucleus-jdo-query-4.2.0-release.jar\n  newLibs/datanucleus-jodatime-4.1.1.jar\n  newLibs/datanucleus-jpa-query-4.0.4.jar\n  newLibs/datanucleus-rdbms-4.1.6.jar\n  newLibs/dom4j-1.6.1.jar\n  newLibs/ehcache-1.1.jar\n  newLibs/ehcache-core-2.2.0.jar\n  newLibs/geronimo-jta_1.1_spec-1.1.jar\n  newLibs/guava-15.0.jar\n  newLibs/h2-1.3.168.jar\n  newLibs/ibmjsse.jar\n  newLibs/javax.jdo-3.2.0-m3.jar\n  newLibs/javax.persistence-2.1.1.jar\n  newLibs/jaxrpc.jar\n  newLibs/jdo-api-3.1-rc1.jar\n  newLibs/jdom.jar\n  newLibs/joda-time-1.6.jar\n  newLibs/jtds-1.2.jar\n  newLibs/log4j-1.2.14.jar\n  newLibs/mail.jar\n  newLibs/saaj.jar\n  newLibs/servlet-api.jar\n  newLibs/wsdl4j-1.5.1.jar\n  newLibs/xercesImpl.jar\n  newLibs/xml-apis.jar\n</code></pre>\n\n<p>I also avoided placing multiple jars on one line as that didn't appear to work (even with lines less than 72 bytes).</p>\n\n<p>What led me to arrive at this solution was (1) I kept getting various class not found exceptions, of course and (2) When I examined the generated manifest file in the jar file, the spacing between the jars was missing - I assume that it was silently failing because there was no reported error apart from the class not found exceptions.  My working, generated manifest file looks like this:</p>\n\n<pre><code>Manifest-Version: 1.0\nImplementation-Version: 2.0.0\nClass-Path:  newLibs/asjava.zip newLibs/activation.jar newLibs/axis-an\n t.jar newLibs/axis.jar newLibs/bcel-5.1.jar newLibs/commons-discovery\n -0.2.jar newLibs/commons-logging-1.0.4.jar newLibs/datanucleus-api-jd\n o-4.2.0-release.jar newLibs/datanucleus-api-jpa-4.1.4.jar newLibs/dat\n anucleus-cache-4.0.4.jar newLibs/datanucleus-core-4.1.5.jar newLibs/d\n atanucleus-geospatial-4.1.0-release.jar newLibs/datanucleus-guava-4.1\n .3.jar newLibs/datanucleus-java8-4.2.0-release.jar newLibs/datanucleu\n s-jdo-query-4.2.0-release.jar newLibs/datanucleus-jodatime-4.1.1.jar \n newLibs/datanucleus-jpa-query-4.0.4.jar newLibs/datanucleus-rdbms-4.1\n .6.jar newLibs/dom4j-1.6.1.jar newLibs/ehcache-1.1.jar newLibs/ehcach\n e-core-2.2.0.jar newLibs/geronimo-jta_1.1_spec-1.1.jar newLibs/guava-\n 15.0.jar newLibs/h2-1.3.168.jar newLibs/ibmjsse.jar newLibs/javax.jdo\n -3.2.0-m3.jar newLibs/javax.persistence-2.1.1.jar newLibs/jaxrpc.jar \n newLibs/jdo-api-3.1-rc1.jar newLibs/jdom.jar newLibs/joda-time-1.6.ja\n r newLibs/jtds-1.2.jar newLibs/junit-3.8.1.jar newLibs/log4j-1.2.14.j\n ar newLibs/mail.jar newLibs/saaj.jar newLibs/servlet-api.jar newLibs/\n wsdl4j-1.5.1.jar newLibs/xercesImpl.jar newLibs/xml-apis.jar\nMain-Class: com.mypackage.MyApp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1873887,"reputation":862,"user_id":1695537,"accept_rate":67,"display_name":"DragonGamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553196416,"creation_date":1553196416,"answer_id":55287955,"question_id":3057841,"body_markdown":"The multi-space solutions up there didn&#39;t work for me for some reason. So I looked at how Eclipse&#39;s export-runnable-jar dialog does it. It adds an Ascii &quot;LF&quot; and then a space as a linebreak.\r\nIn Java: `char LF = (char) 0x0A;` ","title":"Too long line in manifest file while trying to create jar","body":"<p>The multi-space solutions up there didn't work for me for some reason. So I looked at how Eclipse's export-runnable-jar dialog does it. It adds an Ascii \"LF\" and then a space as a linebreak.\nIn Java: <code>char LF = (char) 0x0A;</code> </p>\n"}],"owner":{"account_id":153480,"reputation":3097,"user_id":368760,"accept_rate":100,"display_name":"fadmaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30144,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":3057862,"answer_count":5,"score":23,"last_activity_date":1666312068,"creation_date":1276730012,"question_id":3057841,"body_markdown":"I am getting a  too long line error while trying to build a jar. the long line in the manifest file is the Class-Path line as the application uses a lot of third-party libraries. needless to say, I am using Windows :-( and Eclipse Java 1.6 \r\n\r\nI tried `Class-Path: lib` or `Class-Path: lib/` but they did not work.\r\n","title":"Too long line in manifest file while trying to create jar","body":"<p>I am getting a  too long line error while trying to build a jar. the long line in the manifest file is the Class-Path line as the application uses a lot of third-party libraries. needless to say, I am using Windows :-( and Eclipse Java 1.6 </p>\n\n<p>I tried <code>Class-Path: lib</code> or <code>Class-Path: lib/</code> but they did not work.</p>\n"},{"tags":["java","junit","mocking","easymock","powermock"],"comments":[{"owner":{"account_id":31011,"reputation":122016,"user_id":84889,"display_name":"Peter Niederwieser"},"score":0,"creation_date":1305251789,"post_id":5977954,"comment_id":6911456,"body_markdown":"Try to rename the setup and teardown methods, and see if it makes a difference.","body":"Try to rename the setup and teardown methods, and see if it makes a difference."},{"owner":{"account_id":324417,"reputation":1087,"user_id":644977,"accept_rate":100,"display_name":"CoffeJunky"},"score":0,"creation_date":1305276960,"post_id":5977954,"comment_id":6915541,"body_markdown":"@Peter ty, but i tried that already.","body":"@Peter ty, but i tried that already."}],"answers":[{"comments":[{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1305206997,"post_id":5978604,"comment_id":6900100,"body_markdown":"That may work but I think the concern is the fact that there is only one method annotated with @Test.","body":"That may work but I think the concern is the fact that there is only one method annotated with @Test."},{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1305208652,"post_id":5978604,"comment_id":6900736,"body_markdown":"Now that you mention that how are any tests getting run since there are no `@Test` annotated methods? A quick test shows that JUnit4 only runs methods with that annotation, so maybe PowerMock is doing it?  I wonder if that could be the root of the problem here.","body":"Now that you mention that how are any tests getting run since there are no <code>@Test</code> annotated methods? A quick test shows that JUnit4 only runs methods with that annotation, so maybe PowerMock is doing it?  I wonder if that could be the root of the problem here."},{"owner":{"account_id":324417,"reputation":1087,"user_id":644977,"accept_rate":100,"display_name":"CoffeJunky"},"score":0,"creation_date":1305276990,"post_id":5978604,"comment_id":6915546,"body_markdown":"@Pace yes that is exactly my problem","body":"@Pace yes that is exactly my problem"},{"owner":{"account_id":324417,"reputation":1087,"user_id":644977,"accept_rate":100,"display_name":"CoffeJunky"},"score":0,"creation_date":1305277061,"post_id":5978604,"comment_id":6915564,"body_markdown":"i think powermock is doing sth. but i can&#39;t figure out what, if you look into the stacktraces most of them are the same, but in the whiteboximpl is makeing me crazy i can&#39;t find the problem there...","body":"i think powermock is doing sth. but i can&#39;t figure out what, if you look into the stacktraces most of them are the same, but in the whiteboximpl is makeing me crazy i can&#39;t find the problem there..."}],"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305206551,"creation_date":1305206551,"answer_id":5978604,"question_id":5977954,"body_markdown":"I think you want to use [`@BeforeClass`][2] instead of [`@Before`][1]. [`@Before`][1] gets run before each method annotated with [`@Test`][3], whereas [`@BeforeClass`][2] only runs once before all [`@Test`][3] methods.\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Before.html &quot;Before&quot;\r\n  [2]: http://junit.sourceforge.net/javadoc/org/junit/BeforeClass.html &quot;BeforeClass&quot;\r\n  [3]: http://junit.sourceforge.net/javadoc/org/junit/Test.html &quot;Test&quot;","title":"JUnit setUp gets invoked TWO times with one test and messing up Powermock expectNew","body":"<p>I think you want to use <a href=\"http://junit.sourceforge.net/javadoc/org/junit/BeforeClass.html\" rel=\"nofollow\" title=\"BeforeClass\"><code>@BeforeClass</code></a> instead of <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Before.html\" rel=\"nofollow\" title=\"Before\"><code>@Before</code></a>. <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Before.html\" rel=\"nofollow\" title=\"Before\"><code>@Before</code></a> gets run before each method annotated with <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Test.html\" rel=\"nofollow\" title=\"Test\"><code>@Test</code></a>, whereas <a href=\"http://junit.sourceforge.net/javadoc/org/junit/BeforeClass.html\" rel=\"nofollow\" title=\"BeforeClass\"><code>@BeforeClass</code></a> only runs once before all <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Test.html\" rel=\"nofollow\" title=\"Test\"><code>@Test</code></a> methods.</p>\n"},{"comments":[{"owner":{"account_id":324417,"reputation":1087,"user_id":644977,"accept_rate":100,"display_name":"CoffeJunky"},"score":0,"creation_date":1305279569,"post_id":5978702,"comment_id":6916205,"body_markdown":"damn you are good ;) yes you are right my testclass extends from my test super class in my project and that one extends from TestCase... and that beast executed it test**** methodes and the powermock executed @Test annotated tests.... damn you are good! ty :D","body":"damn you are good ;) yes you are right my testclass extends from my test super class in my project and that one extends from TestCase... and that beast executed it test**** methodes and the powermock executed @Test annotated tests.... damn you are good! ty :D"}],"tags":[],"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1305206928,"creation_date":1305206928,"answer_id":5978702,"question_id":5977954,"body_markdown":"Does your class extend TestCase?  It doesn&#39;t appear to in the example but I&#39;m just trying to think what *could* be causing this.  If it did then it would ignore the annotations and consider every method that starts with the word **test** as a test case causing you to have possibly more tests than you think.","title":"JUnit setUp gets invoked TWO times with one test and messing up Powermock expectNew","body":"<p>Does your class extend TestCase?  It doesn't appear to in the example but I'm just trying to think what <em>could</em> be causing this.  If it did then it would ignore the annotations and consider every method that starts with the word <strong>test</strong> as a test case causing you to have possibly more tests than you think.</p>\n"},{"comments":[{"owner":{"account_id":7673162,"reputation":1268,"user_id":5814755,"accept_rate":100,"display_name":"Michaela Elschner"},"score":1,"creation_date":1652779720,"post_id":72251262,"comment_id":127683020,"body_markdown":"This indeed is a good answer. I even like it a bit more than the accepted one.\nIt just is not quite as readable - a few more linebreaks at the right place and formattings applied would help.","body":"This indeed is a good answer. I even like it a bit more than the accepted one. It just is not quite as readable - a few more linebreaks at the right place and formattings applied would help."}],"tags":[],"owner":{"account_id":935453,"reputation":49,"user_id":964446,"display_name":"SadanandM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666311778,"creation_date":1652640489,"answer_id":72251262,"question_id":5977954,"body_markdown":"Firstly you need to make the setup method as &quot;static&quot;. \r\nReferring to this answer here, https://stackoverflow.com/a/5978702/964446\r\n\r\nyou cannot do both extends TestCase and use annotations, as they use different runners. \r\nSo when JUnit sees **extends TestCase** it will most probably use the old runner, where-in the **@Test annotation will be overlooked**.\r\n \r\nYou can simple make the setup method as static without extending the TestCase and use @Test annotations, this should work as per JUnit4    ","title":"JUnit setUp gets invoked TWO times with one test and messing up Powermock expectNew","body":"<p>Firstly you need to make the setup method as &quot;static&quot;.\nReferring to this answer here, <a href=\"https://stackoverflow.com/a/5978702/964446\">https://stackoverflow.com/a/5978702/964446</a></p>\n<p>you cannot do both extends TestCase and use annotations, as they use different runners.\nSo when JUnit sees <strong>extends TestCase</strong> it will most probably use the old runner, where-in the <strong>@Test annotation will be overlooked</strong>.</p>\n<p>You can simple make the setup method as static without extending the TestCase and use @Test annotations, this should work as per JUnit4</p>\n"}],"owner":{"account_id":324417,"reputation":1087,"user_id":644977,"accept_rate":100,"display_name":"CoffeJunky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5049,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5978702,"answer_count":3,"score":3,"last_activity_date":1666311778,"creation_date":1305203206,"question_id":5977954,"body_markdown":"Very strange behaviour in my test.\r\n\r\n\r\n      public class MyTestclass {\r\n         @Before\r\n         void setUp(){\r\n            //do some setup, but hu i get called twice\r\n            //here i do some try catch thing to get the stacktrace...\r\n         }\r\n         \r\n         void testOnlyOneTest(){\r\n            //make the testing, i get called only once\r\n         }\r\n         \r\n         @After\r\n         void tearDown(){\r\n            //do some destroy things,... i get called twice too\r\n         }\r\n      }\r\n\r\nStackTrace:\r\n\r\n      1)\r\n      MyTestClassTest.setUp() line: 85          \r\n      NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]   \r\n      NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39  \r\n      DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25         \r\n      Method.invoke(Object, Object...) line: 597        \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runBefores() line: 129                \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runBeforesThenTestThenAfters(Runnable) line: 93 \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(Method, Object, Runnable) line: 294               \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(Runnable) line: 282               \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runTest() line: 84          \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).run() line: 49   \r\n      PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(Method, RunNotifier) line: 207  \r\n      PowerMockJUnit44RunnerDelegateImpl.runMethods(RunNotifier) line: 146   \r\n      PowerMockJUnit44RunnerDelegateImpl$1.run() line: 120         \r\n      ClassRoadie.runUnprotected() line: 34 \r\n      ClassRoadie.runProtected() line: 44       \r\n      PowerMockJUnit44RunnerDelegateImpl.run(RunNotifier) line: 118      \r\n      JUnit4TestSuiteChunkerImpl.run(RunNotifier) line: 102              \r\n      PowerMockRunner(AbstractCommonPowerMockRunner).run(RunNotifier) line: 53   \r\n      JUnit4TestClassReference(JUnit4TestReference).run(TestExecution) line: 46  \r\n      TestExecution.run(ITestReference[]) line: 38    \r\n      RemoteTestRunner.runTests(String[], String, TestExecution) line: 467 \r\n      RemoteTestRunner.runTests(TestExecution) line: 683 \r\n      RemoteTestRunner.run() line: 390         \r\n      RemoteTestRunner.main(String[]) line: 197       \r\n      \r\n      2)\r\n      MyTestClassTest.setUp() line: 85          \r\n      NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]   \r\n      NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39  \r\n      DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25         \r\n      Method.invoke(Object, Object...) line: 597        \r\n      WhiteboxImpl.performMethodInvocation(Object, Method, Object...) line: 2014           \r\n      WhiteboxImpl.doInvokeMethod(Object, Class&lt;?&gt;, String, Object...) line: 885  \r\n      WhiteboxImpl.invokeMethod(Object, String, Object...) line: 713            \r\n      Whitebox.invokeMethod(Object, String, Object...) line: 401     \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod() line: 305         \r\n      MethodRoadie$2.run() line: 86                \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runBeforesThenTestThenAfters(Runnable) line: 94 \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(Method, Object, Runnable) line: 294               \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(Runnable) line: 282               \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runTest() line: 84          \r\n      PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).run() line: 49   \r\n      PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(Method, RunNotifier) line: 207  \r\n      PowerMockJUnit44RunnerDelegateImpl.runMethods(RunNotifier) line: 146   \r\n      PowerMockJUnit44RunnerDelegateImpl$1.run() line: 120         \r\n      ClassRoadie.runUnprotected() line: 34 \r\n      ClassRoadie.runProtected() line: 44       \r\n      PowerMockJUnit44RunnerDelegateImpl.run(RunNotifier) line: 118      \r\n      JUnit4TestSuiteChunkerImpl.run(RunNotifier) line: 102              \r\n      PowerMockRunner(AbstractCommonPowerMockRunner).run(RunNotifier) line: 53   \r\n      JUnit4TestClassReference(JUnit4TestReference).run(TestExecution) line: 46  \r\n      TestExecution.run(ITestReference[]) line: 38    \r\n      RemoteTestRunner.runTests(String[], String, TestExecution) line: 467 \r\n      RemoteTestRunner.runTests(TestExecution) line: 683 \r\n      RemoteTestRunner.run() line: 390         \r\n      RemoteTestRunner.main(String[]) line: 197       \r\n\r\nAny ideas why my setUp gets called twice?\r\n\r\nI do some mocking in the setUp and after a verify i get the expect 2 times called 1 times, thing so my tests fail.\r\n\r\ni am using powermock 1.4.8, junit 4.4, and the easymock framework","title":"JUnit setUp gets invoked TWO times with one test and messing up Powermock expectNew","body":"<p>Very strange behaviour in my test.</p>\n\n<pre><code>  public class MyTestclass {\n     @Before\n     void setUp(){\n        //do some setup, but hu i get called twice\n        //here i do some try catch thing to get the stacktrace...\n     }\n\n     void testOnlyOneTest(){\n        //make the testing, i get called only once\n     }\n\n     @After\n     void tearDown(){\n        //do some destroy things,... i get called twice too\n     }\n  }\n</code></pre>\n\n<p>StackTrace:</p>\n\n<pre><code>  1)\n  MyTestClassTest.setUp() line: 85          \n  NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]   \n  NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39  \n  DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25         \n  Method.invoke(Object, Object...) line: 597        \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runBefores() line: 129                \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runBeforesThenTestThenAfters(Runnable) line: 93 \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(Method, Object, Runnable) line: 294               \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(Runnable) line: 282               \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runTest() line: 84          \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).run() line: 49   \n  PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(Method, RunNotifier) line: 207  \n  PowerMockJUnit44RunnerDelegateImpl.runMethods(RunNotifier) line: 146   \n  PowerMockJUnit44RunnerDelegateImpl$1.run() line: 120         \n  ClassRoadie.runUnprotected() line: 34 \n  ClassRoadie.runProtected() line: 44       \n  PowerMockJUnit44RunnerDelegateImpl.run(RunNotifier) line: 118      \n  JUnit4TestSuiteChunkerImpl.run(RunNotifier) line: 102              \n  PowerMockRunner(AbstractCommonPowerMockRunner).run(RunNotifier) line: 53   \n  JUnit4TestClassReference(JUnit4TestReference).run(TestExecution) line: 46  \n  TestExecution.run(ITestReference[]) line: 38    \n  RemoteTestRunner.runTests(String[], String, TestExecution) line: 467 \n  RemoteTestRunner.runTests(TestExecution) line: 683 \n  RemoteTestRunner.run() line: 390         \n  RemoteTestRunner.main(String[]) line: 197       \n\n  2)\n  MyTestClassTest.setUp() line: 85          \n  NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]   \n  NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39  \n  DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25         \n  Method.invoke(Object, Object...) line: 597        \n  WhiteboxImpl.performMethodInvocation(Object, Method, Object...) line: 2014           \n  WhiteboxImpl.doInvokeMethod(Object, Class&lt;?&gt;, String, Object...) line: 885  \n  WhiteboxImpl.invokeMethod(Object, String, Object...) line: 713            \n  Whitebox.invokeMethod(Object, String, Object...) line: 401     \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod() line: 305         \n  MethodRoadie$2.run() line: 86                \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runBeforesThenTestThenAfters(Runnable) line: 94 \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(Method, Object, Runnable) line: 294               \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(Runnable) line: 282               \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).runTest() line: 84          \n  PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner(MethodRoadie).run() line: 49   \n  PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(Method, RunNotifier) line: 207  \n  PowerMockJUnit44RunnerDelegateImpl.runMethods(RunNotifier) line: 146   \n  PowerMockJUnit44RunnerDelegateImpl$1.run() line: 120         \n  ClassRoadie.runUnprotected() line: 34 \n  ClassRoadie.runProtected() line: 44       \n  PowerMockJUnit44RunnerDelegateImpl.run(RunNotifier) line: 118      \n  JUnit4TestSuiteChunkerImpl.run(RunNotifier) line: 102              \n  PowerMockRunner(AbstractCommonPowerMockRunner).run(RunNotifier) line: 53   \n  JUnit4TestClassReference(JUnit4TestReference).run(TestExecution) line: 46  \n  TestExecution.run(ITestReference[]) line: 38    \n  RemoteTestRunner.runTests(String[], String, TestExecution) line: 467 \n  RemoteTestRunner.runTests(TestExecution) line: 683 \n  RemoteTestRunner.run() line: 390         \n  RemoteTestRunner.main(String[]) line: 197       \n</code></pre>\n\n<p>Any ideas why my setUp gets called twice?</p>\n\n<p>I do some mocking in the setUp and after a verify i get the expect 2 times called 1 times, thing so my tests fail.</p>\n\n<p>i am using powermock 1.4.8, junit 4.4, and the easymock framework</p>\n"},{"tags":["java","spring-data-jpa","liquibase","liquibase-hibernate"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1559824391,"post_id":56448643,"comment_id":99545615,"body_markdown":"how does the changeset look like?","body":"how does the changeset look like?"}],"answers":[{"comments":[{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1559838624,"post_id":56481118,"comment_id":99553703,"body_markdown":"Thanks for the info. I am still surprised it&#39;s not implemented in 2019.","body":"Thanks for the info. I am still surprised it&#39;s not implemented in 2019."}],"tags":[],"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1559837526,"creation_date":1559836269,"answer_id":56481118,"question_id":56448643,"body_markdown":"This generation of changeset using `liquibase-hibernate5` does not include the field type changes. If you can see into the `changeset` file you will not find the `changeset` generated regarding your field type change. It seems to be not supported by the `liquibase-hibernate5` plugin.\r\n    \r\n    \r\n 1. Have a look at the comments in this [class][1]\r\n    \r\n    \r\n 2. The developer of this plugin is discussing about it at [link][2]\r\n    \r\n    &gt; The reason these tend to be ignored is because how hibernate\r\n    &gt; represents the datatype is usually different than how the database\r\n    &gt; represents the datatype even when they are actually the same. I&#39;m\r\n    &gt; looking at ways to improve this with Liquibase 4.\r\n    \r\n    \r\n 3. Solution for now would be to add the `diff` manually. The following code is taken from [link][3]\r\n    \r\n        \r\n        &lt;changeSet author=&quot;liquibase-docs&quot; id=&quot;modifyDataType-example&quot;&gt;\r\n            &lt;modifyDataType catalogName=&quot;cat&quot;\r\n                    columnName=&quot;id&quot;\r\n                    newDataType=&quot;int&quot;\r\n                    schemaName=&quot;public&quot;\r\n                    tableName=&quot;person&quot;/&gt;\r\n        &lt;/changeSet&gt;\r\n\r\n  [1]: https://github.com/liquibase/liquibase-hibernate/blob/master/src/main/java/liquibase/ext/hibernate/diff/ChangedColumnChangeGenerator.java\r\n  [2]: https://github.com/liquibase/liquibase-hibernate/issues/48#issuecomment-238380616\r\n  [3]: https://www.liquibase.org/documentation/changes/modify_data_type.html","title":"Liquibase not updating column data type when changed in Entity class through Spring Data JPA","body":"<p>This generation of changeset using <code>liquibase-hibernate5</code> does not include the field type changes. If you can see into the <code>changeset</code> file you will not find the <code>changeset</code> generated regarding your field type change. It seems to be not supported by the <code>liquibase-hibernate5</code> plugin.</p>\n\n<ol>\n<li><p>Have a look at the comments in this <a href=\"https://github.com/liquibase/liquibase-hibernate/blob/master/src/main/java/liquibase/ext/hibernate/diff/ChangedColumnChangeGenerator.java\" rel=\"noreferrer\">class</a></p></li>\n<li><p>The developer of this plugin is discussing about it at <a href=\"https://github.com/liquibase/liquibase-hibernate/issues/48#issuecomment-238380616\" rel=\"noreferrer\">link</a></p>\n\n<blockquote>\n  <p>The reason these tend to be ignored is because how hibernate\n  represents the datatype is usually different than how the database\n  represents the datatype even when they are actually the same. I'm\n  looking at ways to improve this with Liquibase 4.</p>\n</blockquote></li>\n<li><p>Solution for now would be to add the <code>diff</code> manually. The following code is taken from <a href=\"https://www.liquibase.org/documentation/changes/modify_data_type.html\" rel=\"noreferrer\">link</a></p>\n\n<pre><code>&lt;changeSet author=\"liquibase-docs\" id=\"modifyDataType-example\"&gt;\n    &lt;modifyDataType catalogName=\"cat\"\n            columnName=\"id\"\n            newDataType=\"int\"\n            schemaName=\"public\"\n            tableName=\"person\"/&gt;\n&lt;/changeSet&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26687401,"reputation":1,"user_id":20296490,"display_name":"Java Software enginner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666311554,"creation_date":1666311554,"answer_id":74147533,"question_id":56448643,"body_markdown":"you can just add ChangeSet to your xml file ( in case you&#39;are using xml and not yaml or another file type).\r\n\r\n    &lt;changeSet id=&quot;change type&quot; author=&quot;me&quot;&gt;\r\n        &lt;modifyDataType tableName=&quot;Country&quot; columnName=&quot;name&quot; \r\n               newDataType=&quot;VARCHAR(255)&quot;/&gt;\r\n    &lt;/changeSet&gt; \r\n\r\nFor more like adding , renaming and dropping column you can view this link :\r\n[Liquibase spring boot maintain database schema changes][1]\r\nI hope that&#39;s help\r\n\r\n\r\n  [1]: https:///codeanystuff.com/liquibase-spring-boot-maintain-database-schema-changes/","title":"Liquibase not updating column data type when changed in Entity class through Spring Data JPA","body":"<p>you can just add ChangeSet to your xml file ( in case you'are using xml and not yaml or another file type).</p>\n<pre><code>&lt;changeSet id=&quot;change type&quot; author=&quot;me&quot;&gt;\n    &lt;modifyDataType tableName=&quot;Country&quot; columnName=&quot;name&quot; \n           newDataType=&quot;VARCHAR(255)&quot;/&gt;\n&lt;/changeSet&gt; \n</code></pre>\n<p>For more like adding , renaming and dropping column you can view this link :\n<a href=\"https:///codeanystuff.com/liquibase-spring-boot-maintain-database-schema-changes/\" rel=\"nofollow noreferrer\">Liquibase spring boot maintain database schema changes</a>\nI hope that's help</p>\n"}],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3449,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56481118,"answer_count":2,"score":4,"last_activity_date":1666311554,"creation_date":1559668960,"question_id":56448643,"body_markdown":"In the Spring Boot, Spring Data JPA project, I have an entity class named **Country** with few columns. I generated changelog and applied it with the following commands\r\n\r\n```\r\n$ mvn process-test-resources\r\n\r\n$ mvn process-resources\r\n```\r\n\r\nIt created tables using liquibase and liquibase-hibernate5 plugins \r\n\r\n\r\n**Country.java**\r\n\r\n    package com.liquibasedemo.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import lombok.Data;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;country&quot;)\r\n    @Data\r\n    public class Country\r\n    {\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;code&quot;)\r\n        private String code;\r\n    \r\n        @Column(name = &quot;iso_code&quot;)\r\n        private String isoCode;\r\n    \r\n        @Column(name = &quot;test_code&quot;)\r\n        private String testCode;\r\n    \r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;region_id&quot;)\r\n        @JsonIgnore\r\n        private Region region;\r\n    \r\n    }\r\n\r\n\r\n\r\nI updated `testCode` column data type from Long to String in Country class and used the above commands to generate changeset. After applying changeset, the datatype remains unchanged. Here is the pom.xml file\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com&lt;/groupId&gt;\r\n    &lt;artifactId&gt;liquibasedemo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;liquibasedemo&lt;/name&gt;\r\n    &lt;description&gt;Liquibase Demo project with Spring Boot and Spring Data&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;spring-boot.version&gt;2.1.5.RELEASE&lt;/spring-boot.version&gt;\r\n        &lt;hibernate.version&gt;5.4.3.Final&lt;/hibernate.version&gt;\r\n        &lt;liquibase-maven-plugin.version&gt;3.5.5&lt;/liquibase-maven-plugin.version&gt;\r\n        &lt;liquibase-hibernate5.version&gt;3.6&lt;/liquibase-hibernate5.version&gt;\r\n        &lt;validation-api.version&gt;2.0.1.Final&lt;/validation-api.version&gt;\r\n        &lt;javassist.version&gt;3.24.0-GA&lt;/javassist.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${liquibase-maven-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n                    &lt;changeLogFile&gt;src/main/resources/db/db.changelog-master.xml&lt;/changeLogFile&gt;\r\n                    &lt;diffChangeLogFile&gt;src/main/resources/db/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\r\n                    &lt;logging&gt;info&lt;/logging&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;update-profile&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;update&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;diff-profile&lt;/id&gt;\r\n                        &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;diff&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\r\n                        &lt;version&gt;${liquibase-hibernate5.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${validation-api.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                        &lt;version&gt;${javassist.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```","title":"Liquibase not updating column data type when changed in Entity class through Spring Data JPA","body":"<p>In the Spring Boot, Spring Data JPA project, I have an entity class named <strong>Country</strong> with few columns. I generated changelog and applied it with the following commands</p>\n\n<pre><code>$ mvn process-test-resources\n\n$ mvn process-resources\n</code></pre>\n\n<p>It created tables using liquibase and liquibase-hibernate5 plugins </p>\n\n<p><strong>Country.java</strong></p>\n\n<pre><code>package com.liquibasedemo.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.Data;\n\nimport javax.persistence.*;\n\n\n@Entity\n@Table(name = \"country\")\n@Data\npublic class Country\n{\n    @Id\n    @Column(name = \"id\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = \"name\")\n    private String name;\n\n    @Column(name = \"code\")\n    private String code;\n\n    @Column(name = \"iso_code\")\n    private String isoCode;\n\n    @Column(name = \"test_code\")\n    private String testCode;\n\n\n    @ManyToOne\n    @JoinColumn(name = \"region_id\")\n    @JsonIgnore\n    private Region region;\n\n}\n</code></pre>\n\n<p>I updated <code>testCode</code> column data type from Long to String in Country class and used the above commands to generate changeset. After applying changeset, the datatype remains unchanged. Here is the pom.xml file</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibasedemo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;liquibasedemo&lt;/name&gt;\n    &lt;description&gt;Liquibase Demo project with Spring Boot and Spring Data&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;spring-boot.version&gt;2.1.5.RELEASE&lt;/spring-boot.version&gt;\n        &lt;hibernate.version&gt;5.4.3.Final&lt;/hibernate.version&gt;\n        &lt;liquibase-maven-plugin.version&gt;3.5.5&lt;/liquibase-maven-plugin.version&gt;\n        &lt;liquibase-hibernate5.version&gt;3.6&lt;/liquibase-hibernate5.version&gt;\n        &lt;validation-api.version&gt;2.0.1.Final&lt;/validation-api.version&gt;\n        &lt;javassist.version&gt;3.24.0-GA&lt;/javassist.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${liquibase-maven-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n                    &lt;changeLogFile&gt;src/main/resources/db/db.changelog-master.xml&lt;/changeLogFile&gt;\n                    &lt;diffChangeLogFile&gt;src/main/resources/db/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\n                    &lt;logging&gt;info&lt;/logging&gt;\n                &lt;/configuration&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;update-profile&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;update&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;diff-profile&lt;/id&gt;\n                        &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;diff&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase-hibernate5.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n                        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n                        &lt;version&gt;${validation-api.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n                        &lt;version&gt;${javassist.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"score":0,"creation_date":1666309959,"post_id":74146766,"comment_id":130912781,"body_markdown":"Why if the .filter() returns true the . switchIfEmpty is being executed? @cpigeon","body":"Why if the .filter() returns true the . switchIfEmpty is being executed? @cpigeon"},{"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"score":0,"creation_date":1666311011,"post_id":74146766,"comment_id":130912943,"body_markdown":"@Andres Apologies, the predicate was wrong. Updated my answer.","body":"@Andres Apologies, the predicate was wrong. Updated my answer."}],"tags":[],"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666311462,"creation_date":1666303431,"answer_id":74146766,"question_id":74145201,"body_markdown":"You need to consume the response body in a reactive flow - as you discovered, blocking a publisher is inappropriate in the reactive stack.\r\n\r\nAs a sidenote, it&#39;s also important to mention that strings should never be compared with `==`, only with `equals()`, but this is unrelated, so I won&#39;t get into it here.\r\n\r\nA possible solution:\r\n\r\n```java\r\nprivate Mono&lt;ClientResponse&gt; exchangeFilterResponseProcessor(ClientResponse res) {\r\n    return res.bodyToMono(Man.class)\r\n        .filter(m -&gt; !(res.statusCode() == HttpStatus.UNAUTHORIZED &amp;&amp; m.getErrorCode().equals(&quot;5003&quot;)))\r\n        .switchIfEmpty(Mono.error(new Exception(&quot;CustomException&quot;)))\r\n        .thenReturn(res);\r\n}\r\n```\r\n\r\n**EDIT**: Corrected predicate","title":"block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor - Webflux","body":"<p>You need to consume the response body in a reactive flow - as you discovered, blocking a publisher is inappropriate in the reactive stack.</p>\n<p>As a sidenote, it's also important to mention that strings should never be compared with <code>==</code>, only with <code>equals()</code>, but this is unrelated, so I won't get into it here.</p>\n<p>A possible solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;ClientResponse&gt; exchangeFilterResponseProcessor(ClientResponse res) {\n    return res.bodyToMono(Man.class)\n        .filter(m -&gt; !(res.statusCode() == HttpStatus.UNAUTHORIZED &amp;&amp; m.getErrorCode().equals(&quot;5003&quot;)))\n        .switchIfEmpty(Mono.error(new Exception(&quot;CustomException&quot;)))\n        .thenReturn(res);\n}\n</code></pre>\n<p><strong>EDIT</strong>: Corrected predicate</p>\n"}],"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666311462,"creation_date":1666293256,"question_id":74145201,"body_markdown":"I&#39;m writing a custom exchangeFilterResponseProcessor, what I need to do inside this method is number 1 check if we are getting &quot;401 - unauthorized&quot; and number 2 check the body of the response, if the body of the response has errorCode &quot;5003&quot; then throw an Exception,\r\n\r\nany idea?\r\n\r\nCurrent code is throwing me this error:\r\n\r\n&quot;block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-4&quot;\r\n\r\n```\r\n\tprivate Mono&lt;ClientResponse&gt; exchangeFilterResponseProcessor(ClientResponse response) {\r\n\t\tMan respuesta = response.bodyToMono(Man.class).block;\r\n        HttpStatus status = response.statusCode();\r\n\t\tif (HttpStatus.UNAUTHORIZED.equals(status)) {\r\n\t\t\tObject res = response.bodyToMono(Man.class).subscribe(m -&gt; {\r\n\t\t\t\tif (m.getErrorCode() == &quot;5003&quot;) {\r\n\t\t\t\t\tMono.error(new Exception(&quot;CustomException!!!!!&quot;));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\treturn Mono.just(response);\r\n\t}\r\n\r\n```","title":"block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor - Webflux","body":"<p>I'm writing a custom exchangeFilterResponseProcessor, what I need to do inside this method is number 1 check if we are getting &quot;401 - unauthorized&quot; and number 2 check the body of the response, if the body of the response has errorCode &quot;5003&quot; then throw an Exception,</p>\n<p>any idea?</p>\n<p>Current code is throwing me this error:</p>\n<p>&quot;block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-4&quot;</p>\n<pre><code>    private Mono&lt;ClientResponse&gt; exchangeFilterResponseProcessor(ClientResponse response) {\n        Man respuesta = response.bodyToMono(Man.class).block;\n        HttpStatus status = response.statusCode();\n        if (HttpStatus.UNAUTHORIZED.equals(status)) {\n            Object res = response.bodyToMono(Man.class).subscribe(m -&gt; {\n                if (m.getErrorCode() == &quot;5003&quot;) {\n                    Mono.error(new Exception(&quot;CustomException!!!!!&quot;));\n                }\n            });\n\n        }\n        return Mono.just(response);\n    }\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1666311006,"post_id":74147472,"comment_id":130912940,"body_markdown":"You left out the error message","body":"You left out the error message"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1666311084,"post_id":74147472,"comment_id":130912951,"body_markdown":"`if(lemons &lt; 0)` should be `if(newLemons &lt; 0)`","body":"<code>if(lemons &lt; 0)</code> should be <code>if(newLemons &lt; 0)</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666311211,"post_id":74147472,"comment_id":130912969,"body_markdown":"@JimGarrison He also needs either an `else` clause, or he needs to return after setting `lemons` to zero. Otherwise, the value will be overwritten once the code in the `if` is executed.","body":"@JimGarrison He also needs either an <code>else</code> clause, or he needs to return after setting <code>lemons</code> to zero. Otherwise, the value will be overwritten once the code in the <code>if</code> is executed."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1666311525,"post_id":74147472,"comment_id":130913010,"body_markdown":"Why are we voting to close this question? The OP asked a question that was clear, and provided minimal, reproducible code.","body":"Why are we voting to close this question? The OP asked a question that was clear, and provided minimal, reproducible code."}],"answers":[{"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":2,"creation_date":1666311300,"post_id":74147494,"comment_id":130912979,"body_markdown":"More concisely, `lemons = Math.max(newLemons, 0)`","body":"More concisely, <code>lemons = Math.max(newLemons, 0)</code>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1666311403,"post_id":74147494,"comment_id":130912991,"body_markdown":"@accessviolation this is most likely a homework and probably can&#39;t use library functions.","body":"@accessviolation this is most likely a homework and probably can&#39;t use library functions."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1666312470,"post_id":74147494,"comment_id":130913150,"body_markdown":"@accessviolation Thanks for mentioning the alternative that some programmers prefer. For my part I find the version in the answer easier to read. Also when it’s a few lines longer, it’s still concise. And it’s closer to the version in the question, which may be easier for the OP to grasp.","body":"@accessviolation Thanks for mentioning the alternative that some programmers prefer. For my part I find the version in the answer easier to read. Also when it’s a few lines longer, it’s still concise. And it’s closer to the version in the question, which may be easier for the OP to grasp."}],"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666311129,"creation_date":1666311129,"answer_id":74147494,"question_id":74147472,"body_markdown":"OK Saul, \r\n\r\n```\r\npublic void setLemons(int newLemons)\r\n{\r\n    if(newLemons &lt; 0)\r\n    {\r\n        lemons = 0;\r\n\r\n    } else {\r\n        lemons = newLemons;\r\n    }\r\n}\r\n```\r\nNow,\r\n\r\n```\r\nLemonadeStand ls = new LemonadeStand();\r\nls.setLemons(1); // sets value to 1\r\nls.setLemons(-1); // sets value to 0;\r\n```","title":"How to set a field in Java to 0 if the argument is negative?","body":"<p>OK Saul,</p>\n<pre><code>public void setLemons(int newLemons)\n{\n    if(newLemons &lt; 0)\n    {\n        lemons = 0;\n\n    } else {\n        lemons = newLemons;\n    }\n}\n</code></pre>\n<p>Now,</p>\n<pre><code>LemonadeStand ls = new LemonadeStand();\nls.setLemons(1); // sets value to 1\nls.setLemons(-1); // sets value to 0;\n</code></pre>\n"}],"owner":{"account_id":26687327,"reputation":21,"user_id":20296437,"display_name":"Jimmy McGill"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74147494,"answer_count":1,"score":1,"last_activity_date":1666311129,"creation_date":1666310903,"question_id":74147472,"body_markdown":"I keep getting this error message, \r\n\r\nThe following code was executed:\r\n\r\n\t LemonadeStand ls = new LemonadeStand();\r\n\t ls.setLemons(1);\r\n\t ls.setLemons(-1);\r\n\r\nls.getLemons() should have returned 0, but it returned -1.\r\nMake sure setLemons sets the field to 0 if the argument is negative.\r\n\r\nAnd I cannot seem to figure out what is wrong in my code, which is shown below. Thanks.\r\n\r\n    public void setLemons(int newLemons)\r\n    {\r\n        if(lemons &lt; 0)\r\n        {\r\n            lemons = 0; \r\n        }\r\n        lemons = newLemons;\r\n    }","title":"How to set a field in Java to 0 if the argument is negative?","body":"<p>I keep getting this error message,</p>\n<p>The following code was executed:</p>\n<pre><code> LemonadeStand ls = new LemonadeStand();\n ls.setLemons(1);\n ls.setLemons(-1);\n</code></pre>\n<p>ls.getLemons() should have returned 0, but it returned -1.\nMake sure setLemons sets the field to 0 if the argument is negative.</p>\n<p>And I cannot seem to figure out what is wrong in my code, which is shown below. Thanks.</p>\n<pre><code>public void setLemons(int newLemons)\n{\n    if(lemons &lt; 0)\n    {\n        lemons = 0; \n    }\n    lemons = newLemons;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","pagination"],"comments":[{"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"score":0,"creation_date":1634313544,"post_id":69587461,"comment_id":122998838,"body_markdown":"Might be worth having a read about how to implement and use Pagination: https://www.baeldung.com/spring-data-jpa-pagination-sorting","body":"Might be worth having a read about how to implement and use Pagination: <a href=\"https://www.baeldung.com/spring-data-jpa-pagination-sorting\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-pagination-sorting</a>"},{"owner":{"account_id":2364976,"reputation":15,"user_id":2070829,"display_name":"Karanja"},"score":0,"creation_date":1634314246,"post_id":69587461,"comment_id":122999088,"body_markdown":"Hi @Oozeerally I have gone through the link shared but no luck yet. The Repository extends JPARepository.","body":"Hi @Oozeerally I have gone through the link shared but no luck yet. The Repository extends JPARepository."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666592371,"post_id":74147416,"comment_id":130964917,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74147416/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25489422,"reputation":1,"user_id":19365564,"display_name":"Erick Adriel Vaernet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666310162,"creation_date":1666310162,"answer_id":74147416,"question_id":69587461,"body_markdown":"Use PageRequest.of(pageNumber,pageSize) in your implementation, like:\r\n\r\n    @Override\r\n    public Page&lt;PostInfo&gt; getPosts(int pageNumber, int pageSize) {\r\n       return postRepository.findAll(PageRequest.of(pageNumber,pageSize));\r\n\r\n    }\r\n\r\nand in your interface use:\r\n\r\n    Page&lt;PostInfo&gt; getPosts(int pageNumber, int pageSize);\r\n\r\n \r\ninstead of:\r\n\r\n    Page&lt;PostInfo&gt;getPosts(final Pageable pageable);","title":"How to make a get all records using pageable in springboot","body":"<p>Use PageRequest.of(pageNumber,pageSize) in your implementation, like:</p>\n<pre><code>@Override\npublic Page&lt;PostInfo&gt; getPosts(int pageNumber, int pageSize) {\n   return postRepository.findAll(PageRequest.of(pageNumber,pageSize));\n\n}\n</code></pre>\n<p>and in your interface use:</p>\n<pre><code>Page&lt;PostInfo&gt; getPosts(int pageNumber, int pageSize);\n</code></pre>\n<p>instead of:</p>\n<pre><code>Page&lt;PostInfo&gt;getPosts(final Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":2364976,"reputation":15,"user_id":2070829,"display_name":"Karanja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666310162,"creation_date":1634313311,"question_id":69587461,"body_markdown":"I am trying to get all records from a h2 database using pageable. I can pull the results using normal findAll(), but when I try using pageable, I am not able to\r\n\r\nThis is my controller\r\n\r\n    @GetMapping\r\n    Page&lt;PostInfo&gt; getPosts(Pageable pageable) {\r\n        return postService.getPosts(pageable);\r\n    }\r\n\r\nthis are my models\r\nMy Post model\r\n\r\n    @Data\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;POST&quot;)\r\n    public class Post {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String title;\r\n        private String content;\r\n    }\r\n\r\nMy Postdetails class which extends postinfo\r\n\r\n    @Data\r\n    @ToString\r\n    public class PostDetails extends PostInfo {\r\n        private String content;\r\n    }\r\n\r\nMy Postinfo class\r\n\r\n    @Data\r\n    @ToString\r\n    @Entity\r\n    public class PostInfo {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String title;\r\n    }\r\n\r\nMy PostService service class\r\n\r\n    public interface PostService {\r\n    \r\n        PostDetails createPost(@Valid CreatePostRequest createPostRequest);\r\n    \r\n        Page&lt;PostInfo&gt;getPosts(final Pageable pageable);\r\n    \r\n        PostDetails getPostDetails(Long id);\r\n    \r\n        void deletePost(Long id);\r\n    }\r\n\r\nMy Implementation class\r\n   \r\n\r\n     @Override\r\n        public Page&lt;PostInfo&gt; getPosts(Pageable pageable) {\r\n           return postRepository.findAll(pageable);\r\n    \r\n        }\r\n\r\nI end up getting not getting pageable data. How can I use pageable to findAll() records stored. I have researched with no luck. Any help is appreciated. Thanks in advance.","title":"How to make a get all records using pageable in springboot","body":"<p>I am trying to get all records from a h2 database using pageable. I can pull the results using normal findAll(), but when I try using pageable, I am not able to</p>\n<p>This is my controller</p>\n<pre><code>@GetMapping\nPage&lt;PostInfo&gt; getPosts(Pageable pageable) {\n    return postService.getPosts(pageable);\n}\n</code></pre>\n<p>this are my models\nMy Post model</p>\n<pre><code>@Data\n@ToString\n@Entity\n@Table(name = &quot;POST&quot;)\npublic class Post {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String title;\n    private String content;\n}\n</code></pre>\n<p>My Postdetails class which extends postinfo</p>\n<pre><code>@Data\n@ToString\npublic class PostDetails extends PostInfo {\n    private String content;\n}\n</code></pre>\n<p>My Postinfo class</p>\n<pre><code>@Data\n@ToString\n@Entity\npublic class PostInfo {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String title;\n}\n</code></pre>\n<p>My PostService service class</p>\n<pre><code>public interface PostService {\n\n    PostDetails createPost(@Valid CreatePostRequest createPostRequest);\n\n    Page&lt;PostInfo&gt;getPosts(final Pageable pageable);\n\n    PostDetails getPostDetails(Long id);\n\n    void deletePost(Long id);\n}\n</code></pre>\n<p>My Implementation class</p>\n<pre><code> @Override\n    public Page&lt;PostInfo&gt; getPosts(Pageable pageable) {\n       return postRepository.findAll(pageable);\n\n    }\n</code></pre>\n<p>I end up getting not getting pageable data. How can I use pageable to findAll() records stored. I have researched with no luck. Any help is appreciated. Thanks in advance.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21251572,"reputation":129,"user_id":15633731,"display_name":"Yosef.Schwartz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666305787,"creation_date":1666305680,"answer_id":74147021,"question_id":74146980,"body_markdown":"You can create an array of numbers between your range, an repeat which num you want to increase his chance.\r\n\r\nFor example: [1,2,3,4,5,6,7,8,9,10,10,10,10,10,10,10,10,10].\\\r\nNow generate random number in array length and you have 0.5 probability to 10.\\\r\nAnd each other number has probability of 1/18.","title":"How do I increase the probability of randomly generated numbers?","body":"<p>You can create an array of numbers between your range, an repeat which num you want to increase his chance.</p>\n<p>For example: [1,2,3,4,5,6,7,8,9,10,10,10,10,10,10,10,10,10].<br />\nNow generate random number in array length and you have 0.5 probability to 10.<br />\nAnd each other number has probability of 1/18.</p>\n"},{"tags":[],"owner":{"account_id":7744014,"reputation":91,"user_id":7237929,"display_name":"doctorjay"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666310160,"creation_date":1666305802,"answer_id":74147034,"question_id":74146980,"body_markdown":"\r\n       \r\n     array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10 10]\r\n     myRandomValue = array[Math.floor(Math.random() * array.length)]\r\n\r\nIf you&#39;re running this a bunch of times, you might want to compute and store &lt;code&gt;array.length&lt;/code&gt; once.","title":"How do I increase the probability of randomly generated numbers?","body":"<pre><code> array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10 10]\n myRandomValue = array[Math.floor(Math.random() * array.length)]\n</code></pre>\n<p>If you're running this a bunch of times, you might want to compute and store <code>array.length</code> once.</p>\n"}],"owner":{"account_id":26686885,"reputation":1,"user_id":20296073,"display_name":"nichady"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666306376,"answer_count":2,"score":-1,"last_activity_date":1666310160,"creation_date":1666305386,"question_id":74146980,"body_markdown":"I currently have code to randomly generate values from 1-10 but I want to increase the probability of generating 10 by 3. How do I go about changing up my code?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UDT4S.png","title":"How do I increase the probability of randomly generated numbers?","body":"<p>I currently have code to randomly generate values from 1-10 but I want to increase the probability of generating 10 by 3. How do I go about changing up my code?</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666309981,"creation_date":1666309981,"answer_id":74147402,"question_id":65267963,"body_markdown":"I don&#39;t think you will ever get a good solution using two entities as you have described. The team output is complex, so it is difficult to let JPA do a join to a group table with it.\r\n\r\nI think you are better off pulling the complex team data, and separating it by group afterwards.\r\n\r\nHere is a query that gives you a correct team data report.\r\n\r\n```SQL\r\ndrop table if exists match;\r\ndrop table if exists team;\r\ndrop table if exists team_group;\r\ncreate table team_group (\r\n  id serial primary key ,\r\n  name text\r\n);\r\ncreate table team (\r\n  id serial primary key ,\r\n  name text,\r\n  group_id int references team_group(id)\r\n);\r\ncreate table match (\r\n  id serial primary key ,\r\n  home_team int references team(id),\r\n  away_team int references team(id),\r\n  homeGoals int,\r\n  awayGoals int\r\n);\r\n\r\ninsert into team_group (name) values (&#39;A&#39;), (&#39;B&#39;), (&#39;C&#39;), (&#39;D&#39;);\r\nselect * from team_group;\r\ninsert into team(group_id, name) values\r\n  (1, &#39;Manchester United&#39;),\r\n  (1, &#39;Arsenal&#39;),\r\n  (1, &#39;Chelsea&#39;),\r\n  (2, &#39;Real Madrid&#39;),\r\n  (2, &#39;Barcelona&#39;),\r\n  (2, &#39;Sporting Clube&#39;),\r\n  (3, &#39;Bayern Munich&#39;),\r\n  (3, &#39;Manchester City&#39;);\r\ninsert into match (home_team, away_team, homeGoals, awayGoals) values\r\n (1, 2, 3, 2),\r\n (1, 3, 0, 1),\r\n (2, 1, 2, 3),\r\n (2, 3, 2, 4),\r\n (3, 1, 1, 0),\r\n (3, 2, 4, 2),\r\n (4, 5, 1, 1),\r\n (5, 4, 1, 1),\r\n (5, 6, 2, 2),\r\n (6, 5, 2, 2),\r\n (6, 7, 3, 1),\r\n (7, 6, 1, 3);\r\n\r\nwith matchDetails as (\r\n  select\r\n    m.id,\r\n    ht.id homeId, ht.name homeName, m.homeGoals,\r\n    m.homeGoals - m.awayGoals homeResult,\r\n    m.awayGoals - m.homeGoals awayResult,\r\n    at.id awayId, at.name awayName, m.awayGoals\r\n  from\r\n    match m\r\n      join team ht on ht.id = m.home_team\r\n      join team at on at.id = m.away_team\r\n  ),\r\nwinsCalc as (\r\n  select\r\n    t.group_id groupId,\r\n    t.id teamId,\r\n    t.name teamName,\r\n    case when md.homeId = t.id then md.homeGoals else md.awayGoals end teamGoals,\r\n    case when md.awayId = t.id then md.homeGoals else md.awayGoals end rivalGoals,\r\n    case when md.homeId = t.id then md.homeResult else md.awayResult end result,\r\n    case\r\n      when md.homeId = t.id is not null then\r\n        (case when md.homeResult &gt; 0 then 1 else 0 end)\r\n      when md.awayId = t.id is not null then\r\n        (case when md.awayResult &gt; 0 then 1 else 0 end)\r\n    end win,\r\n    case\r\n      when md.homeId = t.id is not null then\r\n        (case when md.homeResult &lt; 0 then 1 else 0 end)\r\n      when md.awayId = t.id is not null then\r\n        (case when md.awayResult &lt; 0 then 1 else 0 end)\r\n    end loss,\r\n    case\r\n      when md.homeId = t.id is not null then\r\n        (case when md.homeResult = 0 then 1 else 0 end)\r\n      when md.awayId = t.id is not null then\r\n        (case when md.awayResult = 0 then 1 else 0 end)\r\n    end draw\r\n  from\r\n    team t\r\n      join matchDetails md on\r\n        md.homeId = t.id or md.awayId = t.id)\r\nselect\r\n  distinct\r\n  g.name groupName,\r\n  wc.teamId,\r\n  wc.teamName,\r\n  count(teamName) over w gamesPlayed,\r\n  sum(wc.win) over w wins,\r\n  sum(wc.loss) over w losses,\r\n  sum(wc.draw) over w draws,\r\n  3*(sum(wc.win) over w)+(sum(wc.draw) over w) points,\r\n  sum(teamGoals) over w teamGoals,\r\n  sum(rivalGoals) over w rivalGoals\r\nfrom\r\n  winsCalc wc join team_group g on g.id = wc.groupId\r\nwindow w as (partition by teamName)\r\norder by\r\n  teamName;\r\n```","title":"Spring Boot JPA - return custom object with list","body":"<p>I don't think you will ever get a good solution using two entities as you have described. The team output is complex, so it is difficult to let JPA do a join to a group table with it.</p>\n<p>I think you are better off pulling the complex team data, and separating it by group afterwards.</p>\n<p>Here is a query that gives you a correct team data report.</p>\n<pre><code>drop table if exists match;\ndrop table if exists team;\ndrop table if exists team_group;\ncreate table team_group (\n  id serial primary key ,\n  name text\n);\ncreate table team (\n  id serial primary key ,\n  name text,\n  group_id int references team_group(id)\n);\ncreate table match (\n  id serial primary key ,\n  home_team int references team(id),\n  away_team int references team(id),\n  homeGoals int,\n  awayGoals int\n);\n\ninsert into team_group (name) values ('A'), ('B'), ('C'), ('D');\nselect * from team_group;\ninsert into team(group_id, name) values\n  (1, 'Manchester United'),\n  (1, 'Arsenal'),\n  (1, 'Chelsea'),\n  (2, 'Real Madrid'),\n  (2, 'Barcelona'),\n  (2, 'Sporting Clube'),\n  (3, 'Bayern Munich'),\n  (3, 'Manchester City');\ninsert into match (home_team, away_team, homeGoals, awayGoals) values\n (1, 2, 3, 2),\n (1, 3, 0, 1),\n (2, 1, 2, 3),\n (2, 3, 2, 4),\n (3, 1, 1, 0),\n (3, 2, 4, 2),\n (4, 5, 1, 1),\n (5, 4, 1, 1),\n (5, 6, 2, 2),\n (6, 5, 2, 2),\n (6, 7, 3, 1),\n (7, 6, 1, 3);\n\nwith matchDetails as (\n  select\n    m.id,\n    ht.id homeId, ht.name homeName, m.homeGoals,\n    m.homeGoals - m.awayGoals homeResult,\n    m.awayGoals - m.homeGoals awayResult,\n    at.id awayId, at.name awayName, m.awayGoals\n  from\n    match m\n      join team ht on ht.id = m.home_team\n      join team at on at.id = m.away_team\n  ),\nwinsCalc as (\n  select\n    t.group_id groupId,\n    t.id teamId,\n    t.name teamName,\n    case when md.homeId = t.id then md.homeGoals else md.awayGoals end teamGoals,\n    case when md.awayId = t.id then md.homeGoals else md.awayGoals end rivalGoals,\n    case when md.homeId = t.id then md.homeResult else md.awayResult end result,\n    case\n      when md.homeId = t.id is not null then\n        (case when md.homeResult &gt; 0 then 1 else 0 end)\n      when md.awayId = t.id is not null then\n        (case when md.awayResult &gt; 0 then 1 else 0 end)\n    end win,\n    case\n      when md.homeId = t.id is not null then\n        (case when md.homeResult &lt; 0 then 1 else 0 end)\n      when md.awayId = t.id is not null then\n        (case when md.awayResult &lt; 0 then 1 else 0 end)\n    end loss,\n    case\n      when md.homeId = t.id is not null then\n        (case when md.homeResult = 0 then 1 else 0 end)\n      when md.awayId = t.id is not null then\n        (case when md.awayResult = 0 then 1 else 0 end)\n    end draw\n  from\n    team t\n      join matchDetails md on\n        md.homeId = t.id or md.awayId = t.id)\nselect\n  distinct\n  g.name groupName,\n  wc.teamId,\n  wc.teamName,\n  count(teamName) over w gamesPlayed,\n  sum(wc.win) over w wins,\n  sum(wc.loss) over w losses,\n  sum(wc.draw) over w draws,\n  3*(sum(wc.win) over w)+(sum(wc.draw) over w) points,\n  sum(teamGoals) over w teamGoals,\n  sum(rivalGoals) over w rivalGoals\nfrom\n  winsCalc wc join team_group g on g.id = wc.groupId\nwindow w as (partition by teamName)\norder by\n  teamName;\n</code></pre>\n"}],"owner":{"account_id":17413551,"reputation":353,"user_id":12620340,"display_name":"Jan Krupiński"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666309981,"creation_date":1607795082,"question_id":65267963,"body_markdown":"I&#39;m developing a Spring Boot application with Spring JpaRepository. \r\nI&#39;m using my own query to return list of custom objects which are Groups with id, name and list of Teams. \r\n\r\nSo i have something like this:\r\n```\r\npublic interface GroupDB {\r\n    public Long getId();\r\n    public String getName();\r\n    public List&lt;TeamDB&gt; getTeams();\r\n}\r\n```\r\n```\r\npublic interface TeamDB {\r\n    public Long getId();\r\n    public Long getWon();\r\n    public Long getDrawn();\r\n    public Long getLost();\r\n    public Long getPoints();\r\n}\r\n```\r\n\r\nMy query returns this (I was trying to solve my problem on my own, this is why here is &quot;team dot ...&quot; but this is not working) :\r\n```\r\nSELECT\r\n        id,\r\n        name,\r\n        team AS &quot;team.id&quot;,\r\n        SUM(win) AS &quot;team.won&quot;,\r\n        SUM(draw) AS &quot;team.drawn&quot;,\r\n        SUM(loss) AS &quot;team.lost&quot;,\r\n        3*SUM(win)+SUM(draw) AS &quot;team.points&quot;\r\n...\r\n```\r\n\r\nand the query is very, very long, but if you want it, here it is: https://pastebin.pl/view/45b082f5\r\n\r\nThen I make a request to database.\r\n```\r\n@Query(value = getGroupsFromGroupsStageQuery, nativeQuery = true)\r\nList&lt;GroupDB&gt; getGroupsFromGroupsStage(@Param(&quot;tournament_id&quot;) Long tournamentId);\r\n```\r\n\r\nAs an example: &lt;br/&gt;\r\nI wanted to get list with one group with id (8905), name (&quot;Grupa 65&quot;) and list of four teams with: id, won, drawn, lost and points.&lt;br/&gt;\r\nBut the best thing I can get is list of 4 groups with ids, names and ```null``` assigned to teams\r\n\r\n[![example][1]][1]\r\n\r\nSo how can I do this?\r\n\r\n  [1]: https://i.stack.imgur.com/8TirX.png","title":"Spring Boot JPA - return custom object with list","body":"<p>I'm developing a Spring Boot application with Spring JpaRepository.\nI'm using my own query to return list of custom objects which are Groups with id, name and list of Teams.</p>\n<p>So i have something like this:</p>\n<pre><code>public interface GroupDB {\n    public Long getId();\n    public String getName();\n    public List&lt;TeamDB&gt; getTeams();\n}\n</code></pre>\n<pre><code>public interface TeamDB {\n    public Long getId();\n    public Long getWon();\n    public Long getDrawn();\n    public Long getLost();\n    public Long getPoints();\n}\n</code></pre>\n<p>My query returns this (I was trying to solve my problem on my own, this is why here is &quot;team dot ...&quot; but this is not working) :</p>\n<pre><code>SELECT\n        id,\n        name,\n        team AS &quot;team.id&quot;,\n        SUM(win) AS &quot;team.won&quot;,\n        SUM(draw) AS &quot;team.drawn&quot;,\n        SUM(loss) AS &quot;team.lost&quot;,\n        3*SUM(win)+SUM(draw) AS &quot;team.points&quot;\n...\n</code></pre>\n<p>and the query is very, very long, but if you want it, here it is: <a href=\"https://pastebin.pl/view/45b082f5\" rel=\"nofollow noreferrer\">https://pastebin.pl/view/45b082f5</a></p>\n<p>Then I make a request to database.</p>\n<pre><code>@Query(value = getGroupsFromGroupsStageQuery, nativeQuery = true)\nList&lt;GroupDB&gt; getGroupsFromGroupsStage(@Param(&quot;tournament_id&quot;) Long tournamentId);\n</code></pre>\n<p>As an example: <br/>\nI wanted to get list with one group with id (8905), name (&quot;Grupa 65&quot;) and list of four teams with: id, won, drawn, lost and points.<br/>\nBut the best thing I can get is list of 4 groups with ids, names and <code>null</code> assigned to teams</p>\n<p><a href=\"https://i.stack.imgur.com/8TirX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8TirX.png\" alt=\"example\" /></a></p>\n<p>So how can I do this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666309591,"creation_date":1666306359,"answer_id":74147105,"question_id":74146567,"body_markdown":"Just use the [Arrays#sort()](https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html) method with a comparator like this (Java8+). Here are examples sorting a specific column in Ascending and Descending order. Only works with a Matrix where all array columns are of equal length as demonstrated:\r\n\r\n**Ascending Order:**\r\n\r\n    int[][] myInt2DArray = {{2, 1, 4, 6},\r\n                            {5, 3, 7, 1},\r\n                            {1, 2, 3, 4},\r\n                            {6, 9, 2, 8}};\r\n\r\n    // Sort in Ascending Order based on 4th column (column index 3):\r\n    int columnIndexToSort = 3;\r\n\r\n    // Sort the Array:\r\n    Arrays.sort(ary, (a, b) -&gt; a[columnIndexToSort] - b[columnIndexToSort]);\r\n\r\n    // Display Array in Console:\r\n    for (int[] array : myInt2DArray) {\r\n        System.out.println(Arrays.toString(array));\r\n    }\r\n\r\nOutput to Console Window (note the fourth data column):\r\n\r\n```\r\n[5, 3, 7, 1]\r\n[1, 2, 3, 4]\r\n[2, 1, 4, 6]\r\n[6, 9, 2, 8]\r\n```\r\n----------\r\n     \r\n**Descending Order:**\r\n\r\n    // Sort in Descending Order based on 3rd column (column index 2):\r\n    columnIndexToSort = 2;\r\n\r\n    // Sort the Array:\r\n    Arrays.sort(ary, (a, b) -&gt; b[columnIndexToSort] - a[columnIndexToSort]);\r\n\r\n    // Display Array in Console:\r\n    for (int[] array : myInt2DArray) {\r\n        System.out.println(Arrays.toString(array));\r\n    }\r\n\r\nOutput to Console Window (note the third data column):\r\n\r\n```\r\n[5, 3, 7, 1]\r\n[2, 1, 4, 6]\r\n[1, 2, 3, 4]\r\n[6, 9, 2, 8]\r\n```","title":"Sort selected column from array","body":"<p>Just use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays#sort()</a> method with a comparator like this (Java8+). Here are examples sorting a specific column in Ascending and Descending order. Only works with a Matrix where all array columns are of equal length as demonstrated:</p>\n<p><strong>Ascending Order:</strong></p>\n<pre><code>int[][] myInt2DArray = {{2, 1, 4, 6},\n                        {5, 3, 7, 1},\n                        {1, 2, 3, 4},\n                        {6, 9, 2, 8}};\n\n// Sort in Ascending Order based on 4th column (column index 3):\nint columnIndexToSort = 3;\n\n// Sort the Array:\nArrays.sort(ary, (a, b) -&gt; a[columnIndexToSort] - b[columnIndexToSort]);\n\n// Display Array in Console:\nfor (int[] array : myInt2DArray) {\n    System.out.println(Arrays.toString(array));\n}\n</code></pre>\n<p>Output to Console Window (note the fourth data column):</p>\n<pre><code>[5, 3, 7, 1]\n[1, 2, 3, 4]\n[2, 1, 4, 6]\n[6, 9, 2, 8]\n</code></pre>\n<hr />\n<p><strong>Descending Order:</strong></p>\n<pre><code>// Sort in Descending Order based on 3rd column (column index 2):\ncolumnIndexToSort = 2;\n\n// Sort the Array:\nArrays.sort(ary, (a, b) -&gt; b[columnIndexToSort] - a[columnIndexToSort]);\n\n// Display Array in Console:\nfor (int[] array : myInt2DArray) {\n    System.out.println(Arrays.toString(array));\n}\n</code></pre>\n<p>Output to Console Window (note the third data column):</p>\n<pre><code>[5, 3, 7, 1]\n[2, 1, 4, 6]\n[1, 2, 3, 4]\n[6, 9, 2, 8]\n</code></pre>\n"}],"owner":{"account_id":17054501,"reputation":21,"user_id":12339377,"display_name":"Glazzko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666309591,"creation_date":1666301836,"question_id":74146567,"body_markdown":"I&#39;m trying to sort selected column. I have generated array with random numbers. This is my code to print selected column for example I&#39;m trying to select 1st row = min. \r\n\r\n    int column = 10,\r\n     row = 10,\r\n     min = 1 ,\r\n     max = 9;\r\n\r\n    for (int i = 0; i &lt; arr.length; i = i + 1) {\r\n\t\tfor (int j = 0; j &lt; arr[i].length;  j++) {\r\n\t\t\tarr[i][j] = (int)(Math.random()*(max - min) + min);\r\n\t\t\tSystem.out.printf(&quot;%2d&quot;, arr [i][j]);\r\n\t\t}\r\n\t}\r\n\r\n    for (int k = 0  ; k &lt; column ; k++) {\r\n\t\t\t\tSystem.out.print(arr[min][k]);\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\nI have tried doing something like this to sort: \r\n\r\n    for (int k = 0  ; k &lt; column ; k++) {\r\n        for (int j = k + 1  ; j &lt; arr.length; j++) {\r\n            if (arr[k][min] &gt; arr[j][min]) {\r\n                int[] temp = mas[k];\r\n\t\t\t\tarr[k] = arr[j];\r\n\t\t\t\tarr[j] = temp;\r\n\t\t\t\t}}\r\n\t\t\t\tSystem.out.print(arr[min][k]);}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t","title":"Sort selected column from array","body":"<p>I'm trying to sort selected column. I have generated array with random numbers. This is my code to print selected column for example I'm trying to select 1st row = min.</p>\n<pre><code>int column = 10,\n row = 10,\n min = 1 ,\n max = 9;\n\nfor (int i = 0; i &lt; arr.length; i = i + 1) {\n    for (int j = 0; j &lt; arr[i].length;  j++) {\n        arr[i][j] = (int)(Math.random()*(max - min) + min);\n        System.out.printf(&quot;%2d&quot;, arr [i][j]);\n    }\n}\n\nfor (int k = 0  ; k &lt; column ; k++) {\n            System.out.print(arr[min][k]);\n}\n</code></pre>\n<p>I have tried doing something like this to sort:</p>\n<pre><code>for (int k = 0  ; k &lt; column ; k++) {\n    for (int j = k + 1  ; j &lt; arr.length; j++) {\n        if (arr[k][min] &gt; arr[j][min]) {\n            int[] temp = mas[k];\n            arr[k] = arr[j];\n            arr[j] = temp;\n            }}\n            System.out.print(arr[min][k]);}\n</code></pre>\n"},{"tags":["java","matrix","diagonal"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":2,"creation_date":1666307056,"post_id":74147137,"comment_id":130912348,"body_markdown":"What have you tried so far? Please include a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) and read [how to ask](https://stackoverflow.com/help/how-to-ask). You&#39;re expected to attempt a solution before asking on here. We are willing to help you learn, but we are not going to do your work for you.","body":"What have you tried so far? Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>. You&#39;re expected to attempt a solution before asking on here. We are willing to help you learn, but we are not going to do your work for you."}],"answers":[{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1666319412,"post_id":74147208,"comment_id":130914146,"body_markdown":"Do not post answers for homework assignments where the poster has made no effort to solve the problem! You are doing their homework for them, which is wrong in multiple ways.","body":"Do not post answers for homework assignments where the poster has made no effort to solve the problem! You are doing their homework for them, which is wrong in multiple ways."},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1666320496,"post_id":74147208,"comment_id":130914301,"body_markdown":"Ok I didn&#39;t realize it is an assignment? would you like me to delete it?","body":"Ok I didn&#39;t realize it is an assignment? would you like me to delete it?"},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1666370463,"post_id":74147208,"comment_id":130928930,"body_markdown":"It doesn&#39;t matter whether or not it&#39;s homework, but it is very obviously an assignment of some kind (school, work, self-assigned, etc.). It doesn&#39;t really matter how it was assigned or who assigned it. Point is they have a task to do, and doing it for them isn&#39;t going to teach them how to do it. This site is for learning, not spoon feeding. Answering questions like this will simply encourage them to just post on here every time they have something they want to finish but don&#39;t want to do themselves, which in turn degrades the quality of the site as a whole.","body":"It doesn&#39;t matter whether or not it&#39;s homework, but it is very obviously an assignment of some kind (school, work, self-assigned, etc.). It doesn&#39;t really matter how it was assigned or who assigned it. Point is they have a task to do, and doing it for them isn&#39;t going to teach them how to do it. This site is for learning, not spoon feeding. Answering questions like this will simply encourage them to just post on here every time they have something they want to finish but don&#39;t want to do themselves, which in turn degrades the quality of the site as a whole."},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1666371064,"post_id":74147208,"comment_id":130929126,"body_markdown":"Questions like this also are not very searchable, and are unlikely to be helpful to future readers that don&#39;t have this exact assignment. The people that post them also tend to delete the question as soon as they get an answer that solves their problem which wastes your time as well. If I were you, I would (and I do) just avoid answering questions like this, because they&#39;re unlikely to be helpful to anyone besides the OP. Just downvote, add a comment, and move on to a question that&#39;s more worth your time.","body":"Questions like this also are not very searchable, and are unlikely to be helpful to future readers that don&#39;t have this exact assignment. The people that post them also tend to delete the question as soon as they get an answer that solves their problem which wastes your time as well. If I were you, I would (and I do) just avoid answering questions like this, because they&#39;re unlikely to be helpful to anyone besides the OP. Just downvote, add a comment, and move on to a question that&#39;s more worth your time."},{"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"score":0,"creation_date":1666408353,"post_id":74147208,"comment_id":130936179,"body_markdown":"@Jesse could I post a little bit of help instead of answering the whole question in the future? Try to help them think of a probable solution and not the solution itself?","body":"@Jesse could I post a little bit of help instead of answering the whole question in the future? Try to help them think of a probable solution and not the solution itself?"}],"tags":[],"owner":{"account_id":6126473,"reputation":368,"user_id":4778263,"accept_rate":57,"display_name":"devin"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666307631,"creation_date":1666307631,"answer_id":74147208,"question_id":74147137,"body_markdown":"I think this question I would start by figuring out how to create the matrix with input, then I would probably keep some type of pointer that starts at the end of the first row as it is being built then I would decrement the pointer after each row till I am at index 0 of the last row with the pointer value in this case an integer.\r\n\r\nI will code it below:\r\n\r\n    import java.util.*;\r\n\r\n    public class QuestionOne {\r\n\r\n\tpublic static int[][] createMatrix(Integer n) {\r\n\r\n\t\tint pointer = n - 1;\r\n\r\n\t\tint[][] matrix = new int[n][n];\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tfor (int j = 0; j &lt; n; j++) {\r\n\t\t\t\tif (pointer == j) {\r\n\t\t\t\t\tmatrix[i][j] = 1;\r\n\t\t\t\t\tpointer--;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tmatrix[i][j] = 0;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn matrix;\r\n\t}\r\n\t\r\n\tpublic static void printMatrix(int[][] matrix, int n) {\r\n\t\tfor(int i = 0; i &lt; n; i++) {\r\n\t\t\tfor(int k = 0; k&lt; n-1; k++) {\r\n\t\t\t\tSystem.out.print(matrix[i][k] + &quot;,&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.print(matrix[i][n-1]);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.print(&quot;Enter a number for declaring size:&quot;);\r\n\r\n\t\tScanner input = new Scanner(System.in);\r\n\r\n\t\tint n = input.nextInt();\r\n\t\tint[][] mat = createMatrix(n);\r\n\t\tprintMatrix(mat, n);\r\n\r\n\t}\r\n\r\n    }","title":"Matrix diagonal","body":"<p>I think this question I would start by figuring out how to create the matrix with input, then I would probably keep some type of pointer that starts at the end of the first row as it is being built then I would decrement the pointer after each row till I am at index 0 of the last row with the pointer value in this case an integer.</p>\n<p>I will code it below:</p>\n<pre><code>import java.util.*;\n\npublic class QuestionOne {\n\npublic static int[][] createMatrix(Integer n) {\n\n    int pointer = n - 1;\n\n    int[][] matrix = new int[n][n];\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            if (pointer == j) {\n                matrix[i][j] = 1;\n                pointer--;\n                continue;\n            }\n            matrix[i][j] = 0;\n\n        }\n    }\n\n    return matrix;\n}\n\npublic static void printMatrix(int[][] matrix, int n) {\n    for(int i = 0; i &lt; n; i++) {\n        for(int k = 0; k&lt; n-1; k++) {\n            System.out.print(matrix[i][k] + &quot;,&quot;);\n        }\n        System.out.print(matrix[i][n-1]);\n        System.out.println(&quot;&quot;);\n    }\n}\n\npublic static void main(String[] args) {\n\n    System.out.print(&quot;Enter a number for declaring size:&quot;);\n\n    Scanner input = new Scanner(System.in);\n\n    int n = input.nextInt();\n    int[][] mat = createMatrix(n);\n    printMatrix(mat, n);\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":26686472,"reputation":1,"user_id":20295767,"display_name":"Eduardo Rodrigues"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666307631,"creation_date":1666306704,"question_id":74147137,"body_markdown":"I would like to let you know that I&#39;m new to this platform, I&#39;m trying to solve this question, could anyone help me?\r\n\r\nstatement\r\nThe user must be prompted for the size of the matrix to be created. After user input, a square matrix is ​​created with the information obtained.\r\nExample: The user entered the value 3 so we will have it.\r\n\r\n    [][][]\r\n    [][][]\r\n    [][][]\r\n\r\nHowever, when printing the matrix on the screen, the diagonal must be filled with the values ​​1 and the value 0 for the other positions, but the diagonal must start on the right side. Example of the expected solution:\r\n\r\n    [0][0][1]\r\n    [0][1][0]\r\n    [1][0][0]\r\n","title":"Matrix diagonal","body":"<p>I would like to let you know that I'm new to this platform, I'm trying to solve this question, could anyone help me?</p>\n<p>statement\nThe user must be prompted for the size of the matrix to be created. After user input, a square matrix is ​​created with the information obtained.\nExample: The user entered the value 3 so we will have it.</p>\n<pre><code>[][][]\n[][][]\n[][][]\n</code></pre>\n<p>However, when printing the matrix on the screen, the diagonal must be filled with the values ​​1 and the value 0 for the other positions, but the diagonal must start on the right side. Example of the expected solution:</p>\n<pre><code>[0][0][1]\n[0][1][0]\n[1][0][0]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1665457652,"post_id":74022489,"comment_id":130699105,"body_markdown":"I would suggest going through the Java language tutorial https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html","body":"I would suggest going through the Java language tutorial <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1665457998,"post_id":74022489,"comment_id":130699157,"body_markdown":"Probably easier to use a good old-fashioned `for` loop than a `foreach`.  It could start with `for (int year = 1980; year &lt;= 2014; year++){`","body":"Probably easier to use a good old-fashioned <code>for</code> loop than a <code>foreach</code>.  It could start with <code>for (int year = 1980; year &lt;= 2014; year++){</code>"},{"owner":{"account_id":2983071,"reputation":5017,"user_id":2532621,"display_name":"ash"},"score":0,"creation_date":1665459021,"post_id":74022489,"comment_id":130699295,"body_markdown":"You could use `IntStream.range(1980,2015)` (start is inclusive, but end is exclusive).  Then you can call `forEach` on it, or `collect` to get a List.  And more...","body":"You could use <code>IntStream.range(1980,2015)</code> (start is inclusive, but end is exclusive).  Then you can call <code>forEach</code> on it, or <code>collect</code> to get a List.  And more..."}],"answers":[{"tags":[],"owner":{"account_id":23793067,"reputation":11,"user_id":17804308,"display_name":"butter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666307362,"creation_date":1665458075,"answer_id":74022570,"question_id":74022489,"body_markdown":"You can do the loop with an array then use foreach loop for each element in the array. ","title":"How do i create a foreach loop using java","body":"<p>You can do the loop with an array then use foreach loop for each element in the array.</p>\n"},{"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1665458272,"post_id":74022577,"comment_id":130699203,"body_markdown":"The OP speaks about for-each loop, not Stream API.","body":"The OP speaks about for-each loop, not Stream API."}],"tags":[],"owner":{"account_id":26568471,"reputation":86,"user_id":20195074,"display_name":"Urenbach"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665458153,"creation_date":1665458153,"answer_id":74022577,"question_id":74022489,"body_markdown":"I believe what you are saying is that you are trying to create a list with values from `x` to `y` so in your case, `1980` to `2014`. And you don&#39;t want to have to individually add each one, i.e.\r\n\r\n```\r\nlist.add(1980);\r\nlist.add(1981);\r\nlist.add(1982);\r\n...\r\n```\r\nWhat you can do is create an `IntStream` for a range of values and then add all of them to the list.\r\n\r\nLike this,\r\n```\r\nList&lt;Integer&gt; years = IntStream.rangeClosed(1980, 2014).boxed().toList();\r\n```\r\n\r\nNote: `IntStream.rangeClosed(x, y)` will be inclusive to upper and lower bounds, meaning it will include all values from `x` to `y`, including `x` and `y`.\r\n","title":"How do i create a foreach loop using java","body":"<p>I believe what you are saying is that you are trying to create a list with values from <code>x</code> to <code>y</code> so in your case, <code>1980</code> to <code>2014</code>. And you don't want to have to individually add each one, i.e.</p>\n<pre><code>list.add(1980);\nlist.add(1981);\nlist.add(1982);\n...\n</code></pre>\n<p>What you can do is create an <code>IntStream</code> for a range of values and then add all of them to the list.</p>\n<p>Like this,</p>\n<pre><code>List&lt;Integer&gt; years = IntStream.rangeClosed(1980, 2014).boxed().toList();\n</code></pre>\n<p>Note: <code>IntStream.rangeClosed(x, y)</code> will be inclusive to upper and lower bounds, meaning it will include all values from <code>x</code> to <code>y</code>, including <code>x</code> and <code>y</code>.</p>\n"},{"tags":[],"owner":{"account_id":7031791,"reputation":2733,"user_id":5387193,"accept_rate":50,"display_name":"ChickenFeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665458549,"creation_date":1665458549,"answer_id":74022614,"question_id":74022489,"body_markdown":"Did you bother searching for your answer first? \r\n\r\nhttps://www.w3schools.com/java/java_for_loop.asp\r\n\r\n    for (int x = 1980; x &lt;= 2014; x++) {\r\n        list.add(x);\r\n    }","title":"How do i create a foreach loop using java","body":"<p>Did you bother searching for your answer first?</p>\n<p><a href=\"https://www.w3schools.com/java/java_for_loop.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_for_loop.asp</a></p>\n<pre><code>for (int x = 1980; x &lt;= 2014; x++) {\n    list.add(x);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665758576,"creation_date":1665758576,"answer_id":74070929,"question_id":74022489,"body_markdown":"You can find this example:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\n \r\npublic class ForEachInteration {\r\n \r\n    public static void main(String[] args) {\r\n \r\n        Collection&lt;String&gt; collection = new ArrayList&lt;String&gt;();\r\n \r\n        collection.add(&quot;zero&quot;);\r\n        collection.add(&quot;one&quot;);\r\n        collection.add(&quot;two&quot;);\r\n \r\n        // for-each loop\r\n        for (String s : collection) {\r\n        System.out.println(&quot;value= &quot; + s);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[here][1].\r\n\r\nRemarks:\r\n\r\n- it&#39;s syntactically a `for`\r\n- it&#39;s semantically a foreach\r\n\r\n  [1]: https://knowm.org/iterating-through-a-collection-in-java/","title":"How do i create a foreach loop using java","body":"<p>You can find this example:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\n \npublic class ForEachInteration {\n \n    public static void main(String[] args) {\n \n        Collection&lt;String&gt; collection = new ArrayList&lt;String&gt;();\n \n        collection.add(&quot;zero&quot;);\n        collection.add(&quot;one&quot;);\n        collection.add(&quot;two&quot;);\n \n        // for-each loop\n        for (String s : collection) {\n        System.out.println(&quot;value= &quot; + s);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://knowm.org/iterating-through-a-collection-in-java/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Remarks:</p>\n<ul>\n<li>it's syntactically a <code>for</code></li>\n<li>it's semantically a foreach</li>\n</ul>\n"}],"owner":{"account_id":13663338,"reputation":13,"user_id":14238299,"display_name":"Adam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":4,"score":-4,"last_activity_date":1666307362,"creation_date":1665457368,"question_id":74022489,"body_markdown":"I&#39;m trying to build a List&lt;String&gt; for each and i don&#39;t know what to do so. what i&#39;m trying to do is create a list.add() but i wanna have a min year to max year so like start at 1980 to 2014 but i don&#39;t wanna have to create all the list so i&#39;m trying find help with doing it with a foreach loop. \r\n","title":"How do i create a foreach loop using java","body":"<p>I'm trying to build a List for each and i don't know what to do so. what i'm trying to do is create a list.add() but i wanna have a min year to max year so like start at 1980 to 2014 but i don't wanna have to create all the list so i'm trying find help with doing it with a foreach loop.</p>\n"},{"tags":["java","json","csv","gson"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1549467475,"post_id":54557093,"comment_id":95914152,"body_markdown":"Read the first column first, split it and calculate the index of each column at runtime. Then it doesn&#39;t matter if you add remove or shuffle columns","body":"Read the first column first, split it and calculate the index of each column at runtime. Then it doesn&#39;t matter if you add remove or shuffle columns"},{"owner":{"account_id":2844536,"reputation":315,"user_id":2443312,"display_name":"kai-dj"},"score":0,"creation_date":1549467925,"post_id":54557093,"comment_id":95914490,"body_markdown":"That&#39;d be a possibility… I was in hope, &quot;something&quot; would do that for me, while I&#39;d only have to define a map once (&quot;ColumnNameZ&quot; -&gt; &quot;XZobject.AlsoNOTColumnNameZ&quot;; &quot;ColumnNameX&quot; -&gt; &quot;XZObject.absurdlyNotNamedLikeCsvHeading&quot;;…). But well if nothing like that is &quot;build-in&quot; with gson, at least I only have to write the mapper once ^^","body":"That&#39;d be a possibility… I was in hope, &quot;something&quot; would do that for me, while I&#39;d only have to define a map once (&quot;ColumnNameZ&quot; -&gt; &quot;XZobject.AlsoNOTColumnNameZ&quot;; &quot;ColumnNameX&quot; -&gt; &quot;XZObject.absurdlyNotNamedLikeCsvHeading&quot;;…). But well if nothing like that is &quot;build-in&quot; with gson, at least I only have to write the mapper once ^^"}],"answers":[{"comments":[{"owner":{"account_id":2844536,"reputation":315,"user_id":2443312,"display_name":"kai-dj"},"score":0,"creation_date":1549468534,"post_id":54557399,"comment_id":95914965,"body_markdown":"thank you for turning your helpful comment into an even more helpful answer!","body":"thank you for turning your helpful comment into an even more helpful answer!"}],"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1549467823,"creation_date":1549467823,"answer_id":54557399,"question_id":54557093,"body_markdown":"I think parsing the CSV file into Objects is the good way to go.\r\n\r\nYou can read the first column first, split it and calculate the index of each column at runtime. Then it doesn&#39;t matter if you add/remove or shuffle columns \r\n\r\nAssuming you read the first line and you have \r\n\r\n\tString firstRow = &quot;ColumnNameX,ColumnNameY,ColumnNameZ&quot;;\r\n\r\nParse it this way:\r\n\r\n\tList&lt;String&gt; columnList = Arrays.asList(firstRow.split(&quot;,&quot;));\r\n\tint COLUMN_NAME_X_INDEX = columnList.indexOf(&quot;ColumnNameX&quot;);\r\n\tint COLUMN_NAME_Y_INDEX = columnList.indexOf(&quot;ColumnNameY&quot;);\r\n\tint COLUMN_NAME_Z_INDEX = columnList.indexOf(&quot;ColumnNameZ&quot;);\r\n\r\nThan use your newly found indexes:\r\n\r\n\tXZObject xzObject = new XZObject(csvLineElements[COLUMN_NAME_X_INDEX], csvLineElements[COLUMN_NAME_Z_INDEX]);\r\n\tYyyyyWhy yyyyyWhy = new YyyyyWhy(csvLineElements[COLUMN_NAME_Y_INDEX]);\r\n\tContainer container = new Container(XZObject,YyyyyWhy);\r\n","title":"Simple way to map csv-table to json with different property-names than csv-headers with gson?","body":"<p>I think parsing the CSV file into Objects is the good way to go.</p>\n\n<p>You can read the first column first, split it and calculate the index of each column at runtime. Then it doesn't matter if you add/remove or shuffle columns </p>\n\n<p>Assuming you read the first line and you have </p>\n\n<pre><code>String firstRow = \"ColumnNameX,ColumnNameY,ColumnNameZ\";\n</code></pre>\n\n<p>Parse it this way:</p>\n\n<pre><code>List&lt;String&gt; columnList = Arrays.asList(firstRow.split(\",\"));\nint COLUMN_NAME_X_INDEX = columnList.indexOf(\"ColumnNameX\");\nint COLUMN_NAME_Y_INDEX = columnList.indexOf(\"ColumnNameY\");\nint COLUMN_NAME_Z_INDEX = columnList.indexOf(\"ColumnNameZ\");\n</code></pre>\n\n<p>Than use your newly found indexes:</p>\n\n<pre><code>XZObject xzObject = new XZObject(csvLineElements[COLUMN_NAME_X_INDEX], csvLineElements[COLUMN_NAME_Z_INDEX]);\nYyyyyWhy yyyyyWhy = new YyyyyWhy(csvLineElements[COLUMN_NAME_Y_INDEX]);\nContainer container = new Container(XZObject,YyyyyWhy);\n</code></pre>\n"}],"owner":{"account_id":2844536,"reputation":315,"user_id":2443312,"display_name":"kai-dj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54557399,"answer_count":1,"score":1,"last_activity_date":1666306856,"creation_date":1549466904,"question_id":54557093,"body_markdown":"I have got some csv-files, which I want to transform into a json.\r\nUnfortunately the structure of the csv doesn&#39;t match the desired json format. a) because csv is a flat structure and the json should be of nested structure. b) because the column headers don&#39;t match the json property names.\r\n\r\nIllustrating minimal example CSV:\r\n    \r\n    ColumnNameX,ColumnNameY,ColumnNameZ\r\n    valueX,valueY,valueZ\r\nshould be transformed into this JSON:\r\n    \r\n    {\r\n      &quot;XZObject&quot;: {\r\n        &quot;absurdlyNotNamedLikeCsvHeading&quot;: &quot;valueX&quot;,\r\n        &quot;AlsoNOTColumnNameZ&quot;: &quot;valueZ&quot; },\r\n      &quot;YyyyyWhy&quot;: {\r\n         &quot;ThisResemblesColumnNameY&quot;: &quot;valueY&quot;\r\n    }\r\n\r\nI would naively go and make some representing POJO-classes and put in the values ***by position*** – like so (pseudocode):\r\n\r\n    class Container {Fields:XZObject,YyyyyWhy}\r\n    class XZObject {Fields:absurdlyNotNamedLikeCsvHeading,AlsoNOTColumnNameZ}\r\n    class YyyyyWhy {Fields:ThisResemblesColumnNameY}\r\n\r\n    new XZObject(absurdlyNotNamedLikeCsvHeading=csvLineElements[0],AlsoNOTColumnNameZ=csvLineElements[2])\r\n    new YyyyyWhy(ThisResemblesColumnNameY=csvLineElement[1])\r\n    new Container(XZObject,YyyyyWhy)\r\n…then I&#39;d transform the Container object to JSON with gson.\r\n\r\nThe problem is, when a field in the CSV gets added to the scheme, I&#39;d have to adjust every positional mapping after the new column.\r\n\r\nSo I wonder: Is there a simple way to map CSV-columns by header to a specific JSON property? Preferably with gson-lib.\r\n\r\nIn other words: Can I i.e. map the value in column with header `&quot;ColumnNameZ&quot;` to property `&quot;XZobject.AlsoNOTColumnNameZ&quot;` in a simple way?","title":"Simple way to map csv-table to json with different property-names than csv-headers with gson?","body":"<p>I have got some csv-files, which I want to transform into a json.\nUnfortunately the structure of the csv doesn't match the desired json format. a) because csv is a flat structure and the json should be of nested structure. b) because the column headers don't match the json property names.</p>\n<p>Illustrating minimal example CSV:</p>\n<pre><code>ColumnNameX,ColumnNameY,ColumnNameZ\nvalueX,valueY,valueZ\n</code></pre>\n<p>should be transformed into this JSON:</p>\n<pre><code>{\n  &quot;XZObject&quot;: {\n    &quot;absurdlyNotNamedLikeCsvHeading&quot;: &quot;valueX&quot;,\n    &quot;AlsoNOTColumnNameZ&quot;: &quot;valueZ&quot; },\n  &quot;YyyyyWhy&quot;: {\n     &quot;ThisResemblesColumnNameY&quot;: &quot;valueY&quot;\n}\n</code></pre>\n<p>I would naively go and make some representing POJO-classes and put in the values <em><strong>by position</strong></em> – like so (pseudocode):</p>\n<pre><code>class Container {Fields:XZObject,YyyyyWhy}\nclass XZObject {Fields:absurdlyNotNamedLikeCsvHeading,AlsoNOTColumnNameZ}\nclass YyyyyWhy {Fields:ThisResemblesColumnNameY}\n\nnew XZObject(absurdlyNotNamedLikeCsvHeading=csvLineElements[0],AlsoNOTColumnNameZ=csvLineElements[2])\nnew YyyyyWhy(ThisResemblesColumnNameY=csvLineElement[1])\nnew Container(XZObject,YyyyyWhy)\n</code></pre>\n<p>…then I'd transform the Container object to JSON with gson.</p>\n<p>The problem is, when a field in the CSV gets added to the scheme, I'd have to adjust every positional mapping after the new column.</p>\n<p>So I wonder: Is there a simple way to map CSV-columns by header to a specific JSON property? Preferably with gson-lib.</p>\n<p>In other words: Can I i.e. map the value in column with header <code>&quot;ColumnNameZ&quot;</code> to property <code>&quot;XZobject.AlsoNOTColumnNameZ&quot;</code> in a simple way?</p>\n"},{"tags":["java","regex","string","replaceall"],"comments":[{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1666284408,"post_id":74143385,"comment_id":130905820,"body_markdown":"See [this quick try](https://regex101.com/r/Jtq8ry/1), maybe it helps (not much time at the moment).","body":"See <a href=\"https://regex101.com/r/Jtq8ry/1\" rel=\"nofollow noreferrer\">this quick try</a>, maybe it helps (not much time at the moment)."},{"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"score":0,"creation_date":1666290593,"post_id":74143385,"comment_id":130908039,"body_markdown":"Thanks, I&#39;ve tried and it doesn&#39;t work for some reason. I&#39;m using the replaceAll method.","body":"Thanks, I&#39;ve tried and it doesn&#39;t work for some reason. I&#39;m using the replaceAll method."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1666291277,"post_id":74143385,"comment_id":130908231,"body_markdown":"[Java demo @tio.run](https://tio.run/##dVJbT8IwFH7nV5wsPGwqSzcxMSPEoKI@KDPskWFSR4Fi1zVd5yXIb8euK1FRTpN@p1/PrT1nhV9xZzV72W5pLgqpYKUJv1KU@ZIsyLv/gFW2JLLXOnD/iJUikvdaGcNlCcN3nAtGYN0CLaJ6ZjSDUmGl4bWgM8gx5W6iJOWLyRSwXJSeNa5lTjlm0FyDSQB9cJ7cNE0d9yKqYfJU79Ojej/x1qcbb5/93CeMu9d2ev/nKRvQiVK9kJZAh06dWBBulBCFqBOgTngKQRh1z3ZkaEgEwVnUPTfkUMpCAi8UzIuKzww3YPoVSU7V0hxHMQzH43j8bT8Qwhxu4kuDV6PkbmC024Z4ZJgToz3E18P73zV1AaEIoSY2eTPY1H@gTL34wa@onktV/0Q7qA3b4R9D228QFvs7xs@KXFBGXNM2b9/PzpHuf4P9XQTfMm7TBq93aBjKitWlWXM9foLhjAwYc03VPxyTj1KR3C8q5QvtrBh3naS2oUpPbsFtsAgcOLa69d60NtvtFw) from regex101 code generator.","body":"<a href=\"https://tio.run/##dVJbT8IwFH7nV5wsPGwqSzcxMSPEoKI@KDPskWFSR4Fi1zVd5yXIb8euK1FRTpN@p1/PrT1nhV9xZzV72W5pLgqpYKUJv1KU@ZIsyLv/gFW2JLLXOnD/iJUikvdaGcNlCcN3nAtGYN0CLaJ6ZjSDUmGl4bWgM8gx5W6iJOWLyRSwXJSeNa5lTjlm0FyDSQB9cJ7cNE0d9yKqYfJU79Ojej/x1qcbb5/93CeMu9d2ev/nKRvQiVK9kJZAh06dWBBulBCFqBOgTngKQRh1z3ZkaEgEwVnUPTfkUMpCAi8UzIuKzww3YPoVSU7V0hxHMQzH43j8bT8Qwhxu4kuDV6PkbmC024Z4ZJgToz3E18P73zV1AaEIoSY2eTPY1H@gTL34wa@onktV/0Q7qA3b4R9D228QFvs7xs@KXFBGXNM2b9/PzpHuf4P9XQTfMm7TBq93aBjKitWlWXM9foLhjAwYc03VPxyTj1KR3C8q5QvtrBh3naS2oUpPbsFtsAgcOLa69d60NtvtFw\" rel=\"nofollow noreferrer\">Java demo @tio.run</a> from regex101 code generator."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1666292831,"post_id":74143385,"comment_id":130908740,"body_markdown":"No idea why generator put `\\\\\\&quot;` [works with `\\&quot;` too](https://tio.run/##dVJNT8MwDL3vV1jRDi2wKi1DQp0mNGDAAShaj@uQQhdGRppGacqHYL99pGmm8TXnYPvl@cWKvSQvpLecP6/XrJCl0rA0QFBrxgNFF/QtuCE6f6Jq0Nlxf0e0pkoMOjknVQXjN1JITuGjA8Zk/cBZDpUm2riXks2hIEx4qVZMLKYzIGpR@Y7c2CMThEN7DfYBGAK69zLkncQZmt5naLaXoQP/43Dlb/PPbWiofhcN/lesWmckM3OwsdCIZSiRVNggwhHuhbgXHUIYxf2jDRhZEEN4FPePLThWqlQgSg2PZS3mFhtx029aMP1k09sExpNJMtnyR1La5CI5tf7sNr0a2eiyBe44EdRGN8n5@PpnT33AOMa41aav1rf972jTHLHzK@qHSjc/0Q0bYjf6Q3STBen8cIMEeVlIxqlnB@T/rnMbYybd@uFGIXCI147BH@wae1XzpjVHN4smOcnpiHPPdv2tMH2vNC2CstaBNMWaCw@lDYdps6OlcGIxINh3satedVbr9Rc) :)","body":"No idea why generator put <code>\\\\\\&quot;</code> <a href=\"https://tio.run/##dVJNT8MwDL3vV1jRDi2wKi1DQp0mNGDAAShaj@uQQhdGRppGacqHYL99pGmm8TXnYPvl@cWKvSQvpLecP6/XrJCl0rA0QFBrxgNFF/QtuCE6f6Jq0Nlxf0e0pkoMOjknVQXjN1JITuGjA8Zk/cBZDpUm2riXks2hIEx4qVZMLKYzIGpR@Y7c2CMThEN7DfYBGAK69zLkncQZmt5naLaXoQP/43Dlb/PPbWiofhcN/lesWmckM3OwsdCIZSiRVNggwhHuhbgXHUIYxf2jDRhZEEN4FPePLThWqlQgSg2PZS3mFhtx029aMP1k09sExpNJMtnyR1La5CI5tf7sNr0a2eiyBe44EdRGN8n5@PpnT33AOMa41aav1rf972jTHLHzK@qHSjc/0Q0bYjf6Q3STBen8cIMEeVlIxqlnB@T/rnMbYybd@uFGIXCI147BH@wae1XzpjVHN4smOcnpiHPPdv2tMH2vNC2CstaBNMWaCw@lDYdps6OlcGIxINh3satedVbr9Rc\" rel=\"nofollow noreferrer\">works with <code>\\&quot;</code> too</a> :)"},{"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"score":0,"creation_date":1666297784,"post_id":74143385,"comment_id":130910236,"body_markdown":"Hmm, surprisingly but it&#39;s not working. See here: https://freeimage.host/i/tiggQn.\nWhile the regex I posted above works, it removes only the 4. element, and not the last one too.","body":"Hmm, surprisingly but it&#39;s not working. See here: <a href=\"https://freeimage.host/i/tiggQn\" rel=\"nofollow noreferrer\">freeimage.host/i/tiggQn</a>. While the regex I posted above works, it removes only the 4. element, and not the last one too."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1666298778,"post_id":74143385,"comment_id":130910547,"body_markdown":"Weird, hope you find why it&#39;s not working. I can&#39;t see the reason at first glance. Maybe because of the first and last doublequote, last [try this one](https://regex101.com/r/Jtq8ry/2) (also subst changed to `$1\\&quot;\\&quot;`)","body":"Weird, hope you find why it&#39;s not working. I can&#39;t see the reason at first glance. Maybe because of the first and last doublequote, last <a href=\"https://regex101.com/r/Jtq8ry/2\" rel=\"nofollow noreferrer\">try this one</a> (also subst changed to <code>$1\\&quot;\\&quot;</code>)"},{"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"score":0,"creation_date":1666301857,"post_id":74143385,"comment_id":130911322,"body_markdown":"Well, @bobblebubble, you just made my day! This is working, thank you!","body":"Well, @bobblebubble, you just made my day! This is working, thank you!"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1666306630,"post_id":74143385,"comment_id":130912268,"body_markdown":"Welcome @AleksandarGrujic so I put an answer for you :) Glad we got it to work!","body":"Welcome @AleksandarGrujic so I put an answer for you :) Glad we got it to work!"}],"answers":[{"comments":[{"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"score":0,"creation_date":1666359891,"post_id":74147125,"comment_id":130925080,"body_markdown":"Hi, me again. May I ask if you can help me one more time? It&#39;s because I need to shift the last element 3 spaces to the left. So now it&#39;s no longer the last element, but I still need to replace it with &quot;&quot;. I have now 21 elements, and it is on the 18.","body":"Hi, me again. May I ask if you can help me one more time? It&#39;s because I need to shift the last element 3 spaces to the left. So now it&#39;s no longer the last element, but I still need to replace it with &quot;&quot;. I have now 21 elements, and it is on the 18."},{"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"score":0,"creation_date":1666361116,"post_id":74147125,"comment_id":130925551,"body_markdown":"Ok, thanks. I&#39;ve created a new question. https://stackoverflow.com/questions/74154861/how-to-replace-two-elements-in-a-java-string-using-regex","body":"Ok, thanks. I&#39;ve created a new question. <a href=\"https://stackoverflow.com/questions/74154861/how-to-replace-two-elements-in-a-java-string-using-regex\" title=\"how to replace two elements in a java string using regex\">stackoverflow.com/questions/74154861/&hellip;</a>"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1666363495,"post_id":74147125,"comment_id":130926504,"body_markdown":"@AleksandarGrujic I see your new question got closed (just remove it if you like). I understand now just the position of the previous last has changed and everything else seems to be same. Try to search for [this pattern and replace with `$1\\&quot;\\&quot;$2`](https://regex101.com/r/mxDP1r/2)","body":"@AleksandarGrujic I see your new question got closed (just remove it if you like). I understand now just the position of the previous last has changed and everything else seems to be same. Try to search for <a href=\"https://regex101.com/r/mxDP1r/2\" rel=\"nofollow noreferrer\">this pattern and replace with <code>$1\\&quot;\\&quot;$2</code></a>"}],"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666306550,"creation_date":1666306550,"answer_id":74147125,"question_id":74143385,"body_markdown":"An idea to use an [alternation][1] for matching both, the fourth and last double-quoted part:\r\n\r\n    ^((?:\\&quot;[^\\&quot;]*\\&quot;,){3})\\&quot;[^\\&quot;]*\\&quot;|\\&quot;[^\\&quot;]*\\&quot;$\r\n\r\nSee [this demo at regex101][2] or a [Java demo at tio.run][3]\r\n\r\nReplace with `$1\\&quot;\\&quot;` where `$1` is a [reference][4] to what&#39;s captured by the *first* [group][5]. It holds the first three comma separated quoted parts `(?:&quot;[^&quot;]*&quot;,){3}` where `[^&quot;]` matches [characters other than][6] quotes. On the right side of the alternation the part at the `$` [end][7] gets matched (and `$1` is empty).\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/alternation.html\r\n  [2]: https://regex101.com/r/Jtq8ry/2\r\n  [3]: https://tio.run/##dVJNT8MwDL3vV1gRhxZYlZZNQp0mNGDAAShajytIoQsjI02jNIUh2G8faZppfM2XZ7/YL5btBXkl3cXsZb1mhSyVhoUhglozHig6p8vghuj8mapBZ8f7HdGaKjHo5JxUFYyXpJCcwkcHjMn6kbMcKk20gdeSzaAgTHipVkzMp/dA1LzyXXJjT0wQDu0z2A9gCOjB807iDE0fMnS/n6FD/@No5W/jz627hwb/a1UtGLEMYWOhkclQIqmwToQj3A1xNzqCMIp7/Q0ZWRJD2I97x5YcK1UqEKWGp7IWM8uNuOkzLZh@tuFtAuPJJJls80dS2uAiObV4dptejax32RJ3nAhqvZvkfHz9s6ceYBxj3GrTN4tt/zva3DmE@rHSzQz2wqb2T5rbJUiHww0T5GUhGaeeXYn/u87diNlti8ONQuAYrx2/P9i16KrmTWMu3ZyW5CSnI8492/O3wvS90rQIyloH0hRrLjyUNjlMm6sshROLAcGB8131qrNar78A\r\n  [4]: https://www.regular-expressions.info/replacebackref.html\r\n  [5]: https://www.regular-expressions.info/brackets.html\r\n  [6]: https://www.regular-expressions.info/charclass.html#negated\r\n  [7]: https://www.regular-expressions.info/anchors.html","title":"How to replace two words with blank space in a comma-separated String using regex in Java?","body":"<p>An idea to use an <a href=\"https://www.regular-expressions.info/alternation.html\" rel=\"nofollow noreferrer\">alternation</a> for matching both, the fourth and last double-quoted part:</p>\n<pre><code>^((?:\\&quot;[^\\&quot;]*\\&quot;,){3})\\&quot;[^\\&quot;]*\\&quot;|\\&quot;[^\\&quot;]*\\&quot;$\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/Jtq8ry/2\" rel=\"nofollow noreferrer\">this demo at regex101</a> or a <a href=\"https://tio.run/##dVJNT8MwDL3vV1gRhxZYlZZNQp0mNGDAAShajytIoQsjI02jNIUh2G8faZppfM2XZ7/YL5btBXkl3cXsZb1mhSyVhoUhglozHig6p8vghuj8mapBZ8f7HdGaKjHo5JxUFYyXpJCcwkcHjMn6kbMcKk20gdeSzaAgTHipVkzMp/dA1LzyXXJjT0wQDu0z2A9gCOjB807iDE0fMnS/n6FD/@No5W/jz627hwb/a1UtGLEMYWOhkclQIqmwToQj3A1xNzqCMIp7/Q0ZWRJD2I97x5YcK1UqEKWGp7IWM8uNuOkzLZh@tuFtAuPJJJls80dS2uAiObV4dptejax32RJ3nAhqvZvkfHz9s6ceYBxj3GrTN4tt/zva3DmE@rHSzQz2wqb2T5rbJUiHww0T5GUhGaeeXYn/u87diNlti8ONQuAYrx2/P9i16KrmTWMu3ZyW5CSnI8492/O3wvS90rQIyloH0hRrLjyUNjlMm6sshROLAcGB8131qrNar78A\" rel=\"nofollow noreferrer\">Java demo at tio.run</a></p>\n<p>Replace with <code>$1\\&quot;\\&quot;</code> where <code>$1</code> is a <a href=\"https://www.regular-expressions.info/replacebackref.html\" rel=\"nofollow noreferrer\">reference</a> to what's captured by the <em>first</em> <a href=\"https://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">group</a>. It holds the first three comma separated quoted parts <code>(?:&quot;[^&quot;]*&quot;,){3}</code> where <code>[^&quot;]</code> matches <a href=\"https://www.regular-expressions.info/charclass.html#negated\" rel=\"nofollow noreferrer\">characters other than</a> quotes. On the right side of the alternation the part at the <code>$</code> <a href=\"https://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\">end</a> gets matched (and <code>$1</code> is empty).</p>\n"}],"owner":{"account_id":19925567,"reputation":73,"user_id":14600347,"display_name":"Aleksandar Grujic"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74147125,"answer_count":1,"score":-2,"last_activity_date":1666306550,"creation_date":1666283674,"question_id":74143385,"body_markdown":"I have the following String\r\n\r\n    &quot;&quot;00001&quot;,&quot;Open&quot;,&quot;2020-10-23 12:45&quot;,&quot;2022-10-20 15:48&quot;,&quot;Error not found&quot;,&quot;Alex Smith&quot;,&quot;NO ERROR&quot;,&quot;ErrorApp&quot;,&quot;FOB&quot;,&quot;CNSHA&quot;,&quot;GB&quot;,&quot;Plane&quot;,&quot;MODEL&quot;,&quot;2020-10-24 00:00&quot;,&quot;New&quot;,&quot;1&quot;,&quot;&quot;,&quot;2022-10-20 15:48&quot;&quot;\r\n\r\nI need to replace the 4th and the last words (dates) with an empty String &quot;&quot;.\r\n\r\nI have tried several regex expressions but couldn&#39;t get them to work.\r\n\r\nThe result should be:\r\n\r\n        &quot;&quot;00001&quot;,&quot;Open&quot;,&quot;2020-10-23 12:45&quot;,&quot;&quot;,&quot;Error not found&quot;,&quot;Alex Smith&quot;,&quot;NO ERROR&quot;,&quot;ErrorApp&quot;,&quot;FOB&quot;,&quot;CNSHA&quot;,&quot;GB&quot;,&quot;Plane&quot;,&quot;MODEL&quot;,&quot;2020-10-24 00:00&quot;,&quot;New&quot;,&quot;1&quot;,&quot;&quot;,&quot;&quot;&quot;\r\n\r\nThis regex:\r\n\r\n    actualLines[1].replaceAll(&quot;^(\\&quot;.+?\\&quot;,\\&quot;.+?\\&quot;,\\&quot;.+?\\&quot;,\\&quot;)([0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2})(.*)$&quot;, &quot;$1$3}&quot;);\r\n\r\nIt replaces the 4th, but I need both 4th and the last element to be replaced.\r\n\r\nDoes anyone know how this can be done? Thanks\r\n","title":"How to replace two words with blank space in a comma-separated String using regex in Java?","body":"<p>I have the following String</p>\n<pre><code>&quot;&quot;00001&quot;,&quot;Open&quot;,&quot;2020-10-23 12:45&quot;,&quot;2022-10-20 15:48&quot;,&quot;Error not found&quot;,&quot;Alex Smith&quot;,&quot;NO ERROR&quot;,&quot;ErrorApp&quot;,&quot;FOB&quot;,&quot;CNSHA&quot;,&quot;GB&quot;,&quot;Plane&quot;,&quot;MODEL&quot;,&quot;2020-10-24 00:00&quot;,&quot;New&quot;,&quot;1&quot;,&quot;&quot;,&quot;2022-10-20 15:48&quot;&quot;\n</code></pre>\n<p>I need to replace the 4th and the last words (dates) with an empty String &quot;&quot;.</p>\n<p>I have tried several regex expressions but couldn't get them to work.</p>\n<p>The result should be:</p>\n<pre><code>    &quot;&quot;00001&quot;,&quot;Open&quot;,&quot;2020-10-23 12:45&quot;,&quot;&quot;,&quot;Error not found&quot;,&quot;Alex Smith&quot;,&quot;NO ERROR&quot;,&quot;ErrorApp&quot;,&quot;FOB&quot;,&quot;CNSHA&quot;,&quot;GB&quot;,&quot;Plane&quot;,&quot;MODEL&quot;,&quot;2020-10-24 00:00&quot;,&quot;New&quot;,&quot;1&quot;,&quot;&quot;,&quot;&quot;&quot;\n</code></pre>\n<p>This regex:</p>\n<pre><code>actualLines[1].replaceAll(&quot;^(\\&quot;.+?\\&quot;,\\&quot;.+?\\&quot;,\\&quot;.+?\\&quot;,\\&quot;)([0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2})(.*)$&quot;, &quot;$1$3}&quot;);\n</code></pre>\n<p>It replaces the 4th, but I need both 4th and the last element to be replaced.</p>\n<p>Does anyone know how this can be done? Thanks</p>\n"},{"tags":["java","spring","spring-boot","netty","spring-webflux"],"comments":[{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1666298135,"post_id":66170289,"comment_id":130910353,"body_markdown":"I guess connection-timeout does not refer to the duration that a request is allowed to take for processing, but it refers to the time it takes for establishing the connection.","body":"I guess connection-timeout does not refer to the duration that a request is allowed to take for processing, but it refers to the time it takes for establishing the connection."}],"answers":[{"comments":[{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1666299620,"post_id":67034304,"comment_id":130910781,"body_markdown":"this makes no sense. The question is about how to cancel the request and not about how to stop it from being canceled. Also the `spring.mvc.async.request-timeout` is for the mvc stack and not for the webflux stack.","body":"this makes no sense. The question is about how to cancel the request and not about how to stop it from being canceled. Also the <code>spring.mvc.async.request-timeout</code> is for the mvc stack and not for the webflux stack."}],"tags":[],"owner":{"account_id":10597379,"reputation":49,"user_id":7805549,"display_name":"Amarjeet Kapoor"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1618057245,"creation_date":1618057245,"answer_id":67034304,"question_id":66170289,"body_markdown":"I was also facing the same issue i.e. even after configuring ` server.netty.connection-timeout` request would get canceled. So, after some debugging found that timeout was getting set to &#39;30000&#39; by AsyncContext. \r\n\r\nSo, I configured the following property `spring.mvc.async.request-timeout` which change the timeout being set in AsyncContext and the request stopped getting canceled.\r\n\r\n","title":"Specify server request timeout in Spring Boot &amp; Spring WebFlux (Netty)","body":"<p>I was also facing the same issue i.e. even after configuring <code> server.netty.connection-timeout</code> request would get canceled. So, after some debugging found that timeout was getting set to '30000' by AsyncContext.</p>\n<p>So, I configured the following property <code>spring.mvc.async.request-timeout</code> which change the timeout being set in AsyncContext and the request stopped getting canceled.</p>\n"},{"tags":[],"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666305237,"creation_date":1666304429,"answer_id":74146874,"question_id":66170289,"body_markdown":"# TL;DR:\r\n\r\nNetty has no request timeout*. Add this `WebFilter` to set a request-timeout of 3 seconds using the reactor timeout on every request (here in kotlin, but in Java it works accordingly):\r\n\r\n```\r\n@Component\r\nclass RequestTimeoutWebFilter : WebFilter {\r\n  override fun filter(exchange: ServerWebExchange, chain: WebFilterChain): Mono&lt;Void&gt; {\r\n    return chain\r\n      .filter(exchange)\r\n      .timeout(Duration.ofSeconds(3))\r\n  }\r\n}\r\n```\r\n\r\n\\* at least I could not find any information in the netty docs.\r\n\r\n# Detailed answer\r\n\r\nThe `connection-timeout` does not refer to the duration that a request is allowed to take for processing, but it refers to the time it takes for establishing the connection.\r\n\r\nFirst, I could not find any spring configuration option that allows setting the request timeout for netty. Then I went through the [netty documentation][1] to find out that there is no concept of request timeouts on the http server (only on the http client).\r\n\r\nWondering about why such important feature would not be supported, I remembered that we often cannot apply the same concepts as in blocking servers for good reasons. Next, I remembered, that in the reactive world we do not directly implement the handling of the request, but how the handling is assembled - i.e. we hold a `Mono&lt;Void&gt;` that will handle the request. Hence, we can just look at reactor and how to timeout a `Mono`, which is very easy:\r\n```\r\nMono.create(...)\r\n  .timeout(Duration.ofSeconds(3))\r\n```\r\n\r\nNext, we just need to figure out, how to apply this to all requests. This is easy as well, because we can just use a `WebFilter` to intercept all requests to apply our timeout (here in kotlin, but in Java it works accoringly):\r\n\r\n```\r\n@Component\r\nclass RequestTimeoutWebFilter : WebFilter {\r\n  override fun filter(exchange: ServerWebExchange, chain: WebFilterChain): Mono&lt;Void&gt; {\r\n    return chain\r\n      .filter(exchange)\r\n      .timeout(Duration.ofSeconds(3))\r\n  }\r\n}\r\n```\r\n\r\nThis effectively cancels a request within the set timeout with the following error:\r\n```\r\n2022-10-21 00:08:00.981 ERROR 6289 --- [     parallel-4] a.w.r.e.AbstractErrorWebExceptionHandler : [59dfa990-7]  500 Server Error for HTTP GET &quot;/some/route&quot;\r\n\r\njava.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 3000ms in &#39;source(MonoDefer)&#39; (and no fallback has been configured)\r\n\tat reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.handleTimeout(FluxTimeout.java:295) ~[reactor-core-3.4.22.jar:3.4.22]\r\n```\r\n\r\n## More tips and hints\r\n\r\n* To make the timeout configurable, we can use a custom config variable instead of the hard-coded duration.\r\n* To custimize the `500` status code we can either change the exception by providing a fallback to the timeout as 2nd argument and handle that exception in a controller advice - or we can just use reactors `onErrorReturn`.\r\n* The documentation for [WebFilter][2] actually states that they should be used to implement timeouts:\r\n  &gt; Contract for interception-style, chained processing of Web requests that may be used to implement cross-cutting, application-agnostic requirements such as security, timeouts, and others.\r\n\r\n*Still I think it is expected that spring provides such implementation out-of-the box that can be easily configured.* Maybe we oversaw that it is there, but then I would argue it is too hard to find. ^^\r\n\r\n\r\n## Alternative solution path\r\n\r\nAs an alternative, we could use **circuit breakers**. However, those are implemented on the readers side and conceptually are used to protect the reading side against failure of the downstream - rather than protecting the internal processing within the downstream from running too long. They can only be applied to mimic a request timeout when applying them in a dedicated server (e.g. a [spring cloud gateway server][3]) that sits between the actual client and the actual service. When using [Resilience4j][4] as implementation, you can use [`TimeLimiter`][5] to achieve it.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/netty/release/reference/index.html#http-server\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html\r\n  [3]: https://spring.io/projects/spring-cloud-gateway\r\n  [4]: https://resilience4j.readme.io/docs\r\n  [5]: https://resilience4j.readme.io/docs/timeout","title":"Specify server request timeout in Spring Boot &amp; Spring WebFlux (Netty)","body":"<h1>TL;DR:</h1>\n<p>Netty has no request timeout*. Add this <code>WebFilter</code> to set a request-timeout of 3 seconds using the reactor timeout on every request (here in kotlin, but in Java it works accordingly):</p>\n<pre><code>@Component\nclass RequestTimeoutWebFilter : WebFilter {\n  override fun filter(exchange: ServerWebExchange, chain: WebFilterChain): Mono&lt;Void&gt; {\n    return chain\n      .filter(exchange)\n      .timeout(Duration.ofSeconds(3))\n  }\n}\n</code></pre>\n<p>* at least I could not find any information in the netty docs.</p>\n<h1>Detailed answer</h1>\n<p>The <code>connection-timeout</code> does not refer to the duration that a request is allowed to take for processing, but it refers to the time it takes for establishing the connection.</p>\n<p>First, I could not find any spring configuration option that allows setting the request timeout for netty. Then I went through the <a href=\"https://projectreactor.io/docs/netty/release/reference/index.html#http-server\" rel=\"nofollow noreferrer\">netty documentation</a> to find out that there is no concept of request timeouts on the http server (only on the http client).</p>\n<p>Wondering about why such important feature would not be supported, I remembered that we often cannot apply the same concepts as in blocking servers for good reasons. Next, I remembered, that in the reactive world we do not directly implement the handling of the request, but how the handling is assembled - i.e. we hold a <code>Mono&lt;Void&gt;</code> that will handle the request. Hence, we can just look at reactor and how to timeout a <code>Mono</code>, which is very easy:</p>\n<pre><code>Mono.create(...)\n  .timeout(Duration.ofSeconds(3))\n</code></pre>\n<p>Next, we just need to figure out, how to apply this to all requests. This is easy as well, because we can just use a <code>WebFilter</code> to intercept all requests to apply our timeout (here in kotlin, but in Java it works accoringly):</p>\n<pre><code>@Component\nclass RequestTimeoutWebFilter : WebFilter {\n  override fun filter(exchange: ServerWebExchange, chain: WebFilterChain): Mono&lt;Void&gt; {\n    return chain\n      .filter(exchange)\n      .timeout(Duration.ofSeconds(3))\n  }\n}\n</code></pre>\n<p>This effectively cancels a request within the set timeout with the following error:</p>\n<pre><code>2022-10-21 00:08:00.981 ERROR 6289 --- [     parallel-4] a.w.r.e.AbstractErrorWebExceptionHandler : [59dfa990-7]  500 Server Error for HTTP GET &quot;/some/route&quot;\n\njava.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 3000ms in 'source(MonoDefer)' (and no fallback has been configured)\n    at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.handleTimeout(FluxTimeout.java:295) ~[reactor-core-3.4.22.jar:3.4.22]\n</code></pre>\n<h2>More tips and hints</h2>\n<ul>\n<li>To make the timeout configurable, we can use a custom config variable instead of the hard-coded duration.</li>\n<li>To custimize the <code>500</code> status code we can either change the exception by providing a fallback to the timeout as 2nd argument and handle that exception in a controller advice - or we can just use reactors <code>onErrorReturn</code>.</li>\n<li>The documentation for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html\" rel=\"nofollow noreferrer\">WebFilter</a> actually states that they should be used to implement timeouts:\n<blockquote>\n<p>Contract for interception-style, chained processing of Web requests that may be used to implement cross-cutting, application-agnostic requirements such as security, timeouts, and others.</p>\n</blockquote>\n</li>\n</ul>\n<p><em>Still I think it is expected that spring provides such implementation out-of-the box that can be easily configured.</em> Maybe we oversaw that it is there, but then I would argue it is too hard to find. ^^</p>\n<h2>Alternative solution path</h2>\n<p>As an alternative, we could use <strong>circuit breakers</strong>. However, those are implemented on the readers side and conceptually are used to protect the reading side against failure of the downstream - rather than protecting the internal processing within the downstream from running too long. They can only be applied to mimic a request timeout when applying them in a dedicated server (e.g. a <a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">spring cloud gateway server</a>) that sits between the actual client and the actual service. When using <a href=\"https://resilience4j.readme.io/docs\" rel=\"nofollow noreferrer\">Resilience4j</a> as implementation, you can use <a href=\"https://resilience4j.readme.io/docs/timeout\" rel=\"nofollow noreferrer\"><code>TimeLimiter</code></a> to achieve it.</p>\n"}],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1922,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1666305237,"creation_date":1613126286,"question_id":66170289,"body_markdown":"We are using [Spring Boot][1] in 2.4.2 with [Spring WebFlux][2].\r\n\r\nI want the Spring Boot application to terminate all requests to the application that take longer than say 3 seconds to process.\r\n\r\nThere is [`server.netty.connection-timeout`][3], but that doesn&#39;t seem to do the trick.\r\n\r\nIs there a way to specify such a server request timeout? \r\n\r\n\r\n  [1]: https://spring.io/projects/spring-boot\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#server.netty.connection-timeout","title":"Specify server request timeout in Spring Boot &amp; Spring WebFlux (Netty)","body":"<p>We are using <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">Spring Boot</a> in 2.4.2 with <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\" rel=\"nofollow noreferrer\">Spring WebFlux</a>.</p>\n<p>I want the Spring Boot application to terminate all requests to the application that take longer than say 3 seconds to process.</p>\n<p>There is <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#server.netty.connection-timeout\" rel=\"nofollow noreferrer\"><code>server.netty.connection-timeout</code></a>, but that doesn't seem to do the trick.</p>\n<p>Is there a way to specify such a server request timeout?</p>\n"},{"tags":["java","debugging","jvmti","jdwp"],"answers":[{"tags":[],"owner":{"account_id":670695,"reputation":39,"user_id":500338,"display_name":"Bob Dobbs"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1289193271,"creation_date":1289193271,"answer_id":4121445,"question_id":1562979,"body_markdown":"I ran into the same problem as you, but I came up with a JVM bug report ([https://bugs.java.com/bugdatabase/view_bug?bug_id=6354345][1]) that cast some light on the issue. It basically comes down to the Java agent library not ever being intended to be loaded twice into the same VM. Sucks, but seems like it&#39;s  basic limitation of the agent system that you can&#39;t do both at the same time.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6354345","title":"Java JVMTI doesn&#39;t work alongside -Xdebug -Xrunjdwp","body":"<p>I ran into the same problem as you, but I came up with a JVM bug report (<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6354345\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6354345</a>) that cast some light on the issue. It basically comes down to the Java agent library not ever being intended to be loaded twice into the same VM. Sucks, but seems like it's  basic limitation of the agent system that you can't do both at the same time.</p>\n"},{"comments":[{"owner":{"account_id":216114,"reputation":14272,"user_id":471149,"accept_rate":64,"display_name":"michael nesterenko"},"score":0,"creation_date":1363962135,"post_id":6037405,"comment_id":22074140,"body_markdown":"so, is it possible to use remote debugging with profiling simultaneously?","body":"so, is it possible to use remote debugging with profiling simultaneously?"},{"owner":{"account_id":343790,"reputation":10859,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":1,"creation_date":1364746219,"post_id":6037405,"comment_id":22349824,"body_markdown":"@michael I believe so, but unless you&#39;re trying to mimic some strange conditions in an attempt to reproduce a memory leak or giant CPU spike, doesn&#39;t profiling while debugging sound like a bad idea?","body":"@michael I believe so, but unless you&#39;re trying to mimic some strange conditions in an attempt to reproduce a memory leak or giant CPU spike, doesn&#39;t profiling while debugging sound like a bad idea?"},{"owner":{"account_id":14763,"reputation":1564,"user_id":30642,"accept_rate":86,"display_name":"jlpp"},"score":0,"creation_date":1397225210,"post_id":6037405,"comment_id":35155090,"body_markdown":"Great answer. Was getting this error. I had to disable debug mode on my ancient Sun App Server before I could get the YourKit profiler configuration to work with it. Thank you!","body":"Great answer. Was getting this error. I had to disable debug mode on my ancient Sun App Server before I could get the YourKit profiler configuration to work with it. Thank you!"},{"owner":{"account_id":6411226,"reputation":457,"user_id":4970931,"accept_rate":88,"display_name":"Haasip Satang"},"score":1,"creation_date":1487006211,"post_id":6037405,"comment_id":71580661,"body_markdown":"@michaelnesterenko Actually the answer is &quot;it depends&quot;. It depends on the capabilities the profiling agent requests from the jvmti. E.g. Breakpoint capabilities may only be possessed by only one environment at a time (and each agent get its own environment); https://docs.oracle.com/javase/7/docs/platform/jvmti/jvmti.html#capability . So if a profiler agent needs the capabilities to set breakpoints your debugger agent won&#39;t be able to obtain them (or the other way round). That means whenever you get such an error there is nothing you can do about it, you won&#39;t be able to debug in those cases.","body":"@michaelnesterenko Actually the answer is &quot;it depends&quot;. It depends on the capabilities the profiling agent requests from the jvmti. E.g. Breakpoint capabilities may only be possessed by only one environment at a time (and each agent get its own environment); <a href=\"https://docs.oracle.com/javase/7/docs/platform/jvmti/jvmti.html#capability\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/platform/jvmti/&hellip;</a> . So if a profiler agent needs the capabilities to set breakpoints your debugger agent won&#39;t be able to obtain them (or the other way round). That means whenever you get such an error there is nothing you can do about it, you won&#39;t be able to debug in those cases."},{"owner":{"account_id":23015633,"reputation":187,"user_id":17186230,"display_name":"gabriel"},"score":0,"creation_date":1666304880,"post_id":6037405,"comment_id":130911959,"body_markdown":"except you cannot assign a JVMTI agent AND enable remote debugging interface because that requires at least both `-agentpath=jdvmi.so` AND `-Xrunjdwp:transport...`. There&#39;s no way to specify the jdvmi agent plus the jwp transport options without using both.","body":"except you cannot assign a JVMTI agent AND enable remote debugging interface because that requires at least both <code>-agentpath=jdvmi.so</code> AND <code>-Xrunjdwp:transport...</code>. There&#39;s no way to specify the jdvmi agent plus the jwp transport options without using both."},{"owner":{"account_id":343790,"reputation":10859,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"score":0,"creation_date":1666304992,"post_id":6037405,"comment_id":130911983,"body_markdown":"@gabriel wait, what do you want to do? This is a really old answer","body":"@gabriel wait, what do you want to do? This is a really old answer"}],"tags":[],"owner":{"account_id":343790,"reputation":10859,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"comment_count":6,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1666305114,"creation_date":1305667876,"answer_id":6037405,"question_id":1562979,"body_markdown":"None of the answers so far are correct and this is the first hit that comes up on Google if you query the error mentioned, so I feel some clarification is needed.\r\n\r\nJVMTI and JDWP *do* work together, in fact they generally must be used together. You will get `ERROR: JDWP unable to get necessary JVMTI capabilities` if `-Xrunjdwp` (and/or possibly `-agentlib:jdwp`) is specified more than once on the command line. To fix it, make sure you only have one of `-Xrunjdwp` or `-agentlib:jdwp` in your command line. \r\n\r\nFor more details, read on...\r\n\r\nJVMTI (Java Virtual Machine Tool Interface) is the successor to JVMDI (Java Virtual Machine Debug Interface) and JVMPI (Java Virtual Machine Profiling Interface). It incorporates the functionality of both JVMDI and JVMPI, both of which were deprecated in Java 5 and removed in Java 6. It is the API that exposes the internals of the JVM for the purposes of debugging and profiling.\r\n\r\nJDWP (Java Debug Wire Protocol) is a protocol that describes a simple mechanism for transmitting commands and responses. As far as I know, it is the only way for a debugger sitting outside the JVM to communicate with it and to interface with the JVMTI. \r\n\r\nJDI (Java Debugger Interface) is a client-side (debugger-side) API which exposes some of the features of JVMTI while making use of JDWP more or less transparently. \r\n\r\nThe [bug][1] mentioned in Bob Dobbs&#39;s answer concerns the misleading error message, and the fact that the JVM will try to load JDWP once for every time it is specified on the command line. It doesn&#39;t state anywhere that JDWP and JVMTI cannot be used together.\r\n\r\nMore info here: https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_74/rzaha/jpdebuga.htm\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150609120443/http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6354345\r\n","title":"Java JVMTI doesn&#39;t work alongside -Xdebug -Xrunjdwp","body":"<p>None of the answers so far are correct and this is the first hit that comes up on Google if you query the error mentioned, so I feel some clarification is needed.</p>\n<p>JVMTI and JDWP <em>do</em> work together, in fact they generally must be used together. You will get <code>ERROR: JDWP unable to get necessary JVMTI capabilities</code> if <code>-Xrunjdwp</code> (and/or possibly <code>-agentlib:jdwp</code>) is specified more than once on the command line. To fix it, make sure you only have one of <code>-Xrunjdwp</code> or <code>-agentlib:jdwp</code> in your command line.</p>\n<p>For more details, read on...</p>\n<p>JVMTI (Java Virtual Machine Tool Interface) is the successor to JVMDI (Java Virtual Machine Debug Interface) and JVMPI (Java Virtual Machine Profiling Interface). It incorporates the functionality of both JVMDI and JVMPI, both of which were deprecated in Java 5 and removed in Java 6. It is the API that exposes the internals of the JVM for the purposes of debugging and profiling.</p>\n<p>JDWP (Java Debug Wire Protocol) is a protocol that describes a simple mechanism for transmitting commands and responses. As far as I know, it is the only way for a debugger sitting outside the JVM to communicate with it and to interface with the JVMTI.</p>\n<p>JDI (Java Debugger Interface) is a client-side (debugger-side) API which exposes some of the features of JVMTI while making use of JDWP more or less transparently.</p>\n<p>The <a href=\"https://web.archive.org/web/20150609120443/http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6354345\" rel=\"nofollow noreferrer\">bug</a> mentioned in Bob Dobbs's answer concerns the misleading error message, and the fact that the JVM will try to load JDWP once for every time it is specified on the command line. It doesn't state anywhere that JDWP and JVMTI cannot be used together.</p>\n<p>More info here: <a href=\"https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_74/rzaha/jpdebuga.htm\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_74/rzaha/jpdebuga.htm</a></p>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390372522,"creation_date":1390372522,"answer_id":21275858,"question_id":1562979,"body_markdown":"For me it was the same issue as Code Bling post, they were duplicate `-Xrunjdwp` didn&#39;t realize there were a second `-Xrunjdwp` as it was hidden in the variable `%JAVA_OPTIONS%`, check your Application Server start script.","title":"Java JVMTI doesn&#39;t work alongside -Xdebug -Xrunjdwp","body":"<p>For me it was the same issue as Code Bling post, they were duplicate <code>-Xrunjdwp</code> didn't realize there were a second <code>-Xrunjdwp</code> as it was hidden in the variable <code>%JAVA_OPTIONS%</code>, check your Application Server start script.</p>\n"}],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17175,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6037405,"answer_count":3,"score":13,"last_activity_date":1666305114,"creation_date":1255468940,"question_id":1562979,"body_markdown":"\r\nI spent the last 4 hours trying to set up Eclipse TPTP memory\r\nprofiling on a Tomcat instance that must be run remotely (i.e. not in\r\nEclipse).  This should be possible according to the TPTP and Agent\r\nController docs.\r\n\r\nI installed the TPTP components (4.6.0) into my Eclipse (Galileo)\r\nworkbench, along with the Agent Controller according to the\r\ninstructions on the website.  To enable the agent, I added the\r\nfollowing options to the command line that starts the Tomcat instance:\r\n\r\n    -agentlib:JPIBootLoader=JPIAgent:server=enabled;HeapProf:allocsites=true\r\n\r\nand added the following directories to the front of the PATH:\r\n\r\n    D:\\dev\\tools\\ac\\plugins\\org.eclipse.tptp.javaprofiler\r\n    D:\\dev\\tools\\ac\\bin\r\n    \r\nWhen attempting to start Tomcat I consistently got the following error\r\nmessage:\r\n\r\n    ERROR: JDWP unable to get necessary JVMTI capabilities. [&quot;debugInit.c&quot;,L279]\r\n    \r\nI did a lot of Googling but found nothing relevant; I tried\r\nreinstalling TPTP and various versions of the Agent Controller.\r\n\r\nIn the end the problem turned out to be that I was starting Tomcat\r\nwith the &quot;jpda&quot; option, which catalina.bat translates into\r\n\r\n    -Xdebug -Xrunjdwp:transport=.....\r\n\r\nRemoving the &quot;jpda&quot; command argument caused JVMTI to start working.  \r\n\r\nSO, the question is: I found nothing during any of my searches to\r\nindicate that a JVMTI agent is incompatible with debugging.  Can\r\nsomeone explain what is going on and why JVMTI + JDWP is not a valid\r\nsetup?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java JVMTI doesn&#39;t work alongside -Xdebug -Xrunjdwp","body":"<p>I spent the last 4 hours trying to set up Eclipse TPTP memory\nprofiling on a Tomcat instance that must be run remotely (i.e. not in\nEclipse).  This should be possible according to the TPTP and Agent\nController docs.</p>\n\n<p>I installed the TPTP components (4.6.0) into my Eclipse (Galileo)\nworkbench, along with the Agent Controller according to the\ninstructions on the website.  To enable the agent, I added the\nfollowing options to the command line that starts the Tomcat instance:</p>\n\n<pre><code>-agentlib:JPIBootLoader=JPIAgent:server=enabled;HeapProf:allocsites=true\n</code></pre>\n\n<p>and added the following directories to the front of the PATH:</p>\n\n<pre><code>D:\\dev\\tools\\ac\\plugins\\org.eclipse.tptp.javaprofiler\nD:\\dev\\tools\\ac\\bin\n</code></pre>\n\n<p>When attempting to start Tomcat I consistently got the following error\nmessage:</p>\n\n<pre><code>ERROR: JDWP unable to get necessary JVMTI capabilities. [\"debugInit.c\",L279]\n</code></pre>\n\n<p>I did a lot of Googling but found nothing relevant; I tried\nreinstalling TPTP and various versions of the Agent Controller.</p>\n\n<p>In the end the problem turned out to be that I was starting Tomcat\nwith the \"jpda\" option, which catalina.bat translates into</p>\n\n<pre><code>-Xdebug -Xrunjdwp:transport=.....\n</code></pre>\n\n<p>Removing the \"jpda\" command argument caused JVMTI to start working.  </p>\n\n<p>SO, the question is: I found nothing during any of my searches to\nindicate that a JVMTI agent is incompatible with debugging.  Can\nsomeone explain what is going on and why JVMTI + JDWP is not a valid\nsetup?</p>\n"},{"tags":["java","tomcat","netbeans","apache-tomee"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666229030,"post_id":74132980,"comment_id":130888561,"body_markdown":"Why Ant? Maven or Gradle is the common choice nowadays.","body":"Why Ant? Maven or Gradle is the common choice nowadays."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1666236799,"post_id":74132980,"comment_id":130889569,"body_markdown":"What JDK is NetBeans using?","body":"What JDK is NetBeans using?"}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666304737,"creation_date":1666304737,"answer_id":74146909,"question_id":74132980,"body_markdown":"I can reproduce your problem using NetBeans 15 + JDK 17.0.2 + TomEE 8.0.12.\r\n\r\nAdding the TomEE 8.0.12 server works fine (**Services &gt; Servers &gt; Add Server...**), and it can be started and stopped within NetBeans, but there is no corresponding _Java EE 8 Web_ option available in the *Java EE Version* drop list when creating an Ant Web Application, as shown in your screen shot.\r\n\r\nThis issue has already been reported as a NetBeans bug (see issue #4027: [No Java EE 8 Web Server option for TomEE 8.0.11 and TomEE 9.0.0 M7][1]), but unfortunately it doesn&#39;t look like the issue has even been assigned to anyone yet.\r\n\r\nThe obvious workaround, as  suggested by Basil Bourque in the comments to the OP, is to create your web application with Maven or Gradle instead. A messier alternative would be to create the Ant project as a Java EE 7 Web project, and then edit that project&#39;s configuration files to upgrade it to use Java EE 8. That approach sounds straightforward, but I suspect in practice it might prove to be tricky.\r\n\r\n\r\n  [1]: https://github.com/apache/netbeans/issues/4027","title":"TomEE 8 Server being limited to Java EE7 Web apps in Netbeans 15","body":"<p>I can reproduce your problem using NetBeans 15 + JDK 17.0.2 + TomEE 8.0.12.</p>\n<p>Adding the TomEE 8.0.12 server works fine (<strong>Services &gt; Servers &gt; Add Server...</strong>), and it can be started and stopped within NetBeans, but there is no corresponding <em>Java EE 8 Web</em> option available in the <em>Java EE Version</em> drop list when creating an Ant Web Application, as shown in your screen shot.</p>\n<p>This issue has already been reported as a NetBeans bug (see issue #4027: <a href=\"https://github.com/apache/netbeans/issues/4027\" rel=\"nofollow noreferrer\">No Java EE 8 Web Server option for TomEE 8.0.11 and TomEE 9.0.0 M7</a>), but unfortunately it doesn't look like the issue has even been assigned to anyone yet.</p>\n<p>The obvious workaround, as  suggested by Basil Bourque in the comments to the OP, is to create your web application with Maven or Gradle instead. A messier alternative would be to create the Ant project as a Java EE 7 Web project, and then edit that project's configuration files to upgrade it to use Java EE 8. That approach sounds straightforward, but I suspect in practice it might prove to be tricky.</p>\n"}],"owner":{"account_id":26676336,"reputation":3,"user_id":20286983,"display_name":"Brandon Domonoski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74146909,"answer_count":1,"score":0,"last_activity_date":1666304737,"creation_date":1666222619,"question_id":74132980,"body_markdown":"So I&#39;ve installed the latest Apache TomEE 8 Server from here: https://tomee.apache.org/download.html\r\n\r\nThe TomEE server is running fine and I can successfully add it to Netbeans as a server.\r\n\r\nHowever from there, I am trying to create a new &quot;Java with Ant&quot;-&gt;&quot;Java Web&quot;-&gt;&quot;Web Application&quot;, and after selecting my TomEE 8 server I am presented with only the following Java EE Version options:\r\n- Java EE 7 Web\r\n- Java EE 6 Web\r\n- Java EE 5\r\n\r\nHow is it possible that TomEE 8 cannot support EE 8? What am I missing here?\r\n\r\n[![Screenshot of Java EE Version selection drop-down][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9uO0M.png","title":"TomEE 8 Server being limited to Java EE7 Web apps in Netbeans 15","body":"<p>So I've installed the latest Apache TomEE 8 Server from here: <a href=\"https://tomee.apache.org/download.html\" rel=\"nofollow noreferrer\">https://tomee.apache.org/download.html</a></p>\n<p>The TomEE server is running fine and I can successfully add it to Netbeans as a server.</p>\n<p>However from there, I am trying to create a new &quot;Java with Ant&quot;-&gt;&quot;Java Web&quot;-&gt;&quot;Web Application&quot;, and after selecting my TomEE 8 server I am presented with only the following Java EE Version options:</p>\n<ul>\n<li>Java EE 7 Web</li>\n<li>Java EE 6 Web</li>\n<li>Java EE 5</li>\n</ul>\n<p>How is it possible that TomEE 8 cannot support EE 8? What am I missing here?</p>\n<p><a href=\"https://i.stack.imgur.com/9uO0M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9uO0M.png\" alt=\"Screenshot of Java EE Version selection drop-down\" /></a></p>\n"},{"tags":["java","aws-lambda","amazon-lex"],"answers":[{"tags":[],"owner":{"account_id":8713452,"reputation":1518,"user_id":6518928,"display_name":"Jaime S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1585929634,"creation_date":1585929634,"answer_id":61015837,"question_id":61008780,"body_markdown":"You can find the details about the input and output formats in the AWS Lex Documentation:\r\n\r\nhttps://docs.aws.amazon.com/lex/latest/dg/lambda-input-response-format.html\r\n\r\n","title":"How to use AWS lambda in java for Amazon lex","body":"<p>You can find the details about the input and output formats in the AWS Lex Documentation:</p>\n\n<p><a href=\"https://docs.aws.amazon.com/lex/latest/dg/lambda-input-response-format.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lex/latest/dg/lambda-input-response-format.html</a></p>\n"},{"tags":[],"owner":{"account_id":17325126,"reputation":11,"user_id":12549523,"display_name":"wals"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666304570,"creation_date":1666304406,"answer_id":74146871,"question_id":61008780,"body_markdown":"There&#39;s always the `com.amazonaws.services.lambda.runtime.events.LexEvent` you can start with for a Lambda function. review `intents`, `invocation source`, and `slots`. From there you can revisit https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html to understand how to begin managing interactions between a user and a bot. ","title":"How to use AWS lambda in java for Amazon lex","body":"<p>There's always the <code>com.amazonaws.services.lambda.runtime.events.LexEvent</code> you can start with for a Lambda function. review <code>intents</code>, <code>invocation source</code>, and <code>slots</code>. From there you can revisit <a href=\"https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lex/latest/dg/context-mgmt.html</a> to understand how to begin managing interactions between a user and a bot.</p>\n"}],"owner":{"account_id":15106751,"reputation":3,"user_id":10903930,"display_name":"user10903930"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":61015837,"answer_count":2,"score":-1,"last_activity_date":1666304570,"creation_date":1585905964,"question_id":61008780,"body_markdown":"I want to use aws lambda in java for Amazon lex. But there is no any reference or blueprint on aws site.\nI am confused with how to take request and send response to lex\nWhat is tha format of request and response ?","title":"How to use AWS lambda in java for Amazon lex","body":"<p>I want to use aws lambda in java for Amazon lex. But there is no any reference or blueprint on aws site.\nI am confused with how to take request and send response to lex\nWhat is tha format of request and response ?</p>\n"},{"tags":["java","spring","spring-webflux","webclient"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":1,"creation_date":1626898169,"post_id":68468956,"comment_id":121017894,"body_markdown":"Is it possible that the filter is being added twice to your web client builder? You should be able to inspect the `filters` field in your`WebClient.Builder` instance.","body":"Is it possible that the filter is being added twice to your web client builder? You should be able to inspect the <code>filters</code> field in your<code>WebClient.Builder</code> instance."},{"owner":{"account_id":3089160,"reputation":141,"user_id":2615692,"display_name":"cezar"},"score":1,"creation_date":1626954962,"post_id":68468956,"comment_id":121032580,"body_markdown":"@MichaelMcFadyen after your message, I did some debug and I see the problem: I left Spring Inject My WebClient Builder in a constructor, when this happens, for some reason, the filter is already in the chain and will be added again :(","body":"@MichaelMcFadyen after your message, I did some debug and I see the problem: I left Spring Inject My WebClient Builder in a constructor, when this happens, for some reason, the filter is already in the chain and will be added again :("}],"owner":{"account_id":3089160,"reputation":141,"user_id":2615692,"display_name":"cezar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4749,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666303842,"creation_date":1626868157,"question_id":68468956,"body_markdown":"I have a WebClient implementantion with some logs ands &quot;Trace&quot; implementation, in this code I add some header in my req and wait for end.\r\n\r\nThe implementation works without error, but after `next.exchange()`, my filter is executed again:\r\n\r\nMy client builder:\r\n\r\n    private final WebClient.Builder builder;\r\n    \r\n    builder\r\n        .baseUrl(url)\r\n        .filter(new GenericAwsXrayHandler(url))\r\n        .build();\r\n\r\nand my filter:\r\n\r\n\r\n    public class GenericAwsXrayHandler implements ExchangeFilterFunction {\r\n    \r\n      private final String url;\r\n    \r\n      public GenericAwsXrayHandler(final String url) {\r\n        this.url = url;\r\n      }\r\n    \r\n      @Override\r\n      public Mono&lt;ClientResponse&gt; filter(final ClientRequest request, final ExchangeFunction next) {\r\n    \r\n        log.info(&quot;executing filter&quot;);\r\n    \r\n        final Subsegment subsegment = AWSXRay.getGlobalRecorder().beginSubsegment(url);\r\n        final TraceHeader header = getTraceHeader(request, subsegment);\r\n    \r\n        final ClientRequest clientRequest =\r\n            ClientRequest.from(request)\r\n                .header(TraceHeader.HEADER_KEY, header.toString())\r\n                .build();\r\n    \r\n        logRequest(clientRequest);\r\n    \r\n        return next\r\n            .exchange(clientRequest)\r\n            .doOnSuccess(clientResponse -&gt; {\r\n              logResponse(clientResponse);\r\n              addResponseInformation(subsegment, clientResponse);              \r\n            })\r\n            .doOnError(ex -&gt; {\r\n              subsegment.setFault(true);\r\n              subsegment.addException(ex);\r\n            })\r\n            .doFinally(x -&gt; {\r\n              AWSXRay.getGlobalRecorder().endSubsegment(subsegment);\r\n            });\r\n      }\r\n\r\nMy output log:\r\n\r\n\r\n    2021/07/21 08:33:21.101  [main] [INFO ] b.c.i.o.r.a.o.p.h.h.GenericAwsXrayHandler - executing filter\r\n    2021/07/21 08:33:21.108  [main] [INFO ] b.c.i.o.r.a.o.p.h.h.GenericAwsXrayHandler - executing filter\r\n\r\nDebugging, I see the filter running again just after `return next.exchange(clientRequest)`.\r\n\r\nDid I missed something?","title":"Spring WebClient ExchangeFilterFunction is running again after next.exchange()","body":"<p>I have a WebClient implementantion with some logs ands &quot;Trace&quot; implementation, in this code I add some header in my req and wait for end.</p>\n<p>The implementation works without error, but after <code>next.exchange()</code>, my filter is executed again:</p>\n<p>My client builder:</p>\n<pre><code>private final WebClient.Builder builder;\n\nbuilder\n    .baseUrl(url)\n    .filter(new GenericAwsXrayHandler(url))\n    .build();\n</code></pre>\n<p>and my filter:</p>\n<pre><code>public class GenericAwsXrayHandler implements ExchangeFilterFunction {\n\n  private final String url;\n\n  public GenericAwsXrayHandler(final String url) {\n    this.url = url;\n  }\n\n  @Override\n  public Mono&lt;ClientResponse&gt; filter(final ClientRequest request, final ExchangeFunction next) {\n\n    log.info(&quot;executing filter&quot;);\n\n    final Subsegment subsegment = AWSXRay.getGlobalRecorder().beginSubsegment(url);\n    final TraceHeader header = getTraceHeader(request, subsegment);\n\n    final ClientRequest clientRequest =\n        ClientRequest.from(request)\n            .header(TraceHeader.HEADER_KEY, header.toString())\n            .build();\n\n    logRequest(clientRequest);\n\n    return next\n        .exchange(clientRequest)\n        .doOnSuccess(clientResponse -&gt; {\n          logResponse(clientResponse);\n          addResponseInformation(subsegment, clientResponse);              \n        })\n        .doOnError(ex -&gt; {\n          subsegment.setFault(true);\n          subsegment.addException(ex);\n        })\n        .doFinally(x -&gt; {\n          AWSXRay.getGlobalRecorder().endSubsegment(subsegment);\n        });\n  }\n</code></pre>\n<p>My output log:</p>\n<pre><code>2021/07/21 08:33:21.101  [main] [INFO ] b.c.i.o.r.a.o.p.h.h.GenericAwsXrayHandler - executing filter\n2021/07/21 08:33:21.108  [main] [INFO ] b.c.i.o.r.a.o.p.h.h.GenericAwsXrayHandler - executing filter\n</code></pre>\n<p>Debugging, I see the filter running again just after <code>return next.exchange(clientRequest)</code>.</p>\n<p>Did I missed something?</p>\n"},{"tags":["java","reactive-programming","helidon","helidon-webclient"],"answers":[{"tags":[],"owner":{"account_id":1824964,"reputation":468,"user_id":1658022,"display_name":"Romain Grecourt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666303360,"creation_date":1660927056,"answer_id":73419797,"question_id":73376542,"body_markdown":"```java\r\n// NOTE: this should be a static constant\r\nGenericType&lt;List&lt;Country&gt;&gt; countriesType = new GenericType&lt;&gt;() {};\r\n\r\n\r\n// NOTE: create the webClient only once, not for every request\r\nWebClient webClient = WebClient.builder()\r\n                               .addMediaSupport(JacksonSupport.create())\r\n                               .baseUri(&quot;service-url&quot;)\r\n                               .build();\r\n\r\n// the pipeline starts with the initial countries (i.e. Single&lt;List&lt;Country&gt;&gt;)\r\nwebClient.get()\r\n        .path(&quot;/countries&quot;)\r\n        // get the countries as List&lt;Country&gt;\r\n        .request(countriesType)\r\n\r\n        // add each country to the reactive pipeline (i.e. Multi&lt;Country&gt;)\r\n        // to allow individual reactive mapping\r\n        .flatMap(Multi::just)\r\n\r\n        // map each country by creating a new country with new region\r\n        // use flatMap to inline the webClient result in the reactive pipeline\r\n        .flatMap(country -&gt;\r\n                webClient.get()\r\n                         .path(&quot;/region/&quot; + country.getRegion())\r\n                         .request(String.class)\r\n                         .map(newCountry -&gt; new Country(newCountry, country.getRegion())))\r\n\r\n        // aggregate all items (i.e. Single&lt;List&lt;Country&gt;&gt;)\r\n        .collectList()\r\n        .onError(res::send)\r\n        .forSingle(res::send))\r\n```","title":"convert for loop in java reactive programming - helidon","body":"<pre class=\"lang-java prettyprint-override\"><code>// NOTE: this should be a static constant\nGenericType&lt;List&lt;Country&gt;&gt; countriesType = new GenericType&lt;&gt;() {};\n\n\n// NOTE: create the webClient only once, not for every request\nWebClient webClient = WebClient.builder()\n                               .addMediaSupport(JacksonSupport.create())\n                               .baseUri(&quot;service-url&quot;)\n                               .build();\n\n// the pipeline starts with the initial countries (i.e. Single&lt;List&lt;Country&gt;&gt;)\nwebClient.get()\n        .path(&quot;/countries&quot;)\n        // get the countries as List&lt;Country&gt;\n        .request(countriesType)\n\n        // add each country to the reactive pipeline (i.e. Multi&lt;Country&gt;)\n        // to allow individual reactive mapping\n        .flatMap(Multi::just)\n\n        // map each country by creating a new country with new region\n        // use flatMap to inline the webClient result in the reactive pipeline\n        .flatMap(country -&gt;\n                webClient.get()\n                         .path(&quot;/region/&quot; + country.getRegion())\n                         .request(String.class)\n                         .map(newCountry -&gt; new Country(newCountry, country.getRegion())))\n\n        // aggregate all items (i.e. Single&lt;List&lt;Country&gt;&gt;)\n        .collectList()\n        .onError(res::send)\n        .forSingle(res::send))\n</code></pre>\n"}],"owner":{"account_id":24273476,"reputation":33,"user_id":18221121,"display_name":"Arun Guilal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73419797,"answer_count":1,"score":1,"last_activity_date":1666303360,"creation_date":1660663879,"question_id":73376542,"body_markdown":"I am new to reactive programming and using helidon reactive java libraries in our code.\r\nI am unable to achieve the below use case.\r\n\r\nI have a scenario as below.\r\n\r\nFirst I invoke a REST API and get response.From the response that contains list of countries I have to invoke another\r\nREST api that retrieves the response for a country id and update the country object.\r\n\r\nBy the time I invoke second API and set value to country object as below the response is already returned.\r\nI get use .get() and wait() on Single&lt;String&gt; as it blocks the thread.\r\n\r\nPlease suggest how to overcome the below for loop and update the list of objects reactive way.\r\n\r\n\r\n    Single&lt;WebClientResponse&gt; singleWebClientResp = webClient.get(&quot;REST_URL&quot;);\r\n\r\n    Single&lt;String&gt; apiResponse = singleWebClientResponse.flatMapSingle(webClientResponse -&gt; {\r\n\t\t\treturn webClientResponse.content().as(String.class);\r\n    });\r\n\r\n    apiResponse.flatMapSingle(fusionAPIResponseString -&gt; {\r\n\r\n\t    List&lt;Country&gt; countries = \r\n            objectMapper.readValue(fusionAPIResponseString,new TypeReference&lt;List&lt;Country&gt;&gt;() {});\r\n\t\t\t\r\n\t\tfor (Country country : countries) {\r\n\t\t\tgetCountryByRegion(country.getRegion()).forSingle(newCountry -&gt; {\r\n\r\n\t\t\t\tLOGGER.log(Level.FINE, &quot;newCountry ---&gt; &quot; + newCountry);\r\n\r\n\t\t\t\tcountry.setRegion(country.getRegion() + &quot;modified&quot; + newCountry);\r\n\r\n\t\t    });\r\n\t\t}\r\n\t\t\t\r\n\t});\r\n\t\t\t\r\n    private Single&lt;String&gt; getCountryByRegion(String regionName) {\r\n\t\tLOGGER.log(Level.FINE, &quot;Entering getCountryByRegion&quot;);\r\n\r\n\t\tSingle&lt;WebClientResponse&gt; singleWebClientResponse2 = webClient.get().path(&quot;v3.1/region/&quot; + regionName)\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON).request();\r\n\r\n\t\tSingle&lt;String&gt; retVal = singleWebClientResponse2.flatMapSingle(webClientResponse -&gt; {\r\n\t\t\treturn webClientResponse.content().as(String.class);\r\n\t\t});\r\n\r\n\t\tLOGGER.log(Level.FINE, &quot;Exiting getCountryByRegion&quot;);\r\n\t\treturn retVal;\r\n\r\n\t}\r\n\r\nRegards","title":"convert for loop in java reactive programming - helidon","body":"<p>I am new to reactive programming and using helidon reactive java libraries in our code.\nI am unable to achieve the below use case.</p>\n<p>I have a scenario as below.</p>\n<p>First I invoke a REST API and get response.From the response that contains list of countries I have to invoke another\nREST api that retrieves the response for a country id and update the country object.</p>\n<p>By the time I invoke second API and set value to country object as below the response is already returned.\nI get use .get() and wait() on Single as it blocks the thread.</p>\n<p>Please suggest how to overcome the below for loop and update the list of objects reactive way.</p>\n<pre><code>Single&lt;WebClientResponse&gt; singleWebClientResp = webClient.get(&quot;REST_URL&quot;);\n\nSingle&lt;String&gt; apiResponse = singleWebClientResponse.flatMapSingle(webClientResponse -&gt; {\n        return webClientResponse.content().as(String.class);\n});\n\napiResponse.flatMapSingle(fusionAPIResponseString -&gt; {\n\n    List&lt;Country&gt; countries = \n        objectMapper.readValue(fusionAPIResponseString,new TypeReference&lt;List&lt;Country&gt;&gt;() {});\n        \n    for (Country country : countries) {\n        getCountryByRegion(country.getRegion()).forSingle(newCountry -&gt; {\n\n            LOGGER.log(Level.FINE, &quot;newCountry ---&gt; &quot; + newCountry);\n\n            country.setRegion(country.getRegion() + &quot;modified&quot; + newCountry);\n\n        });\n    }\n        \n});\n        \nprivate Single&lt;String&gt; getCountryByRegion(String regionName) {\n    LOGGER.log(Level.FINE, &quot;Entering getCountryByRegion&quot;);\n\n    Single&lt;WebClientResponse&gt; singleWebClientResponse2 = webClient.get().path(&quot;v3.1/region/&quot; + regionName)\n            .contentType(MediaType.APPLICATION_JSON).request();\n\n    Single&lt;String&gt; retVal = singleWebClientResponse2.flatMapSingle(webClientResponse -&gt; {\n        return webClientResponse.content().as(String.class);\n    });\n\n    LOGGER.log(Level.FINE, &quot;Exiting getCountryByRegion&quot;);\n    return retVal;\n\n}\n</code></pre>\n<p>Regards</p>\n"},{"tags":["java","amazon-web-services","amazon-ses","sts"],"comments":[{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":1,"creation_date":1666278955,"post_id":74142133,"comment_id":130903799,"body_markdown":"Why is STS provided in &lt;scope&gt;test&lt;/scope&gt; ? Remove the scope.","body":"Why is STS provided in &lt;scope&gt;test&lt;/scope&gt; ? Remove the scope."},{"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"score":1,"creation_date":1666280151,"post_id":74142133,"comment_id":130904275,"body_markdown":"@Teddy thank you i copy that from Github, removing it solved the bug","body":"@Teddy thank you i copy that from Github, removing it solved the bug"}],"answers":[{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666280057,"creation_date":1666280057,"answer_id":74142586,"question_id":74142133,"body_markdown":"instead of \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n        &lt;version&gt;2.17.288&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n i did\r\n\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.288&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nSolved the error","title":"Error when trying to send email with AMAZON SES using sts","body":"<p>instead of</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;sts&lt;/artifactId&gt;\n    &lt;version&gt;2.17.288&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>i did</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;sts&lt;/artifactId&gt;\n        &lt;version&gt;2.17.288&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Solved the error</p>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74142586,"answer_count":1,"score":1,"last_activity_date":1666302717,"creation_date":1666278143,"question_id":74142133,"body_markdown":"I&#39;m trying to send an email with SES V2 AMAZON , but it fails with the below error\r\n\r\nI&#39;m interested of using\r\n**WebIdentityTokenCredentialsProvider**(): \r\nand this part of the error says:\r\n&quot;To use web identity tokens, the &#39;sts&#39; service module must be on the class path.,&quot;\r\n\r\n\r\n\r\nhow can I solve it:\r\n\r\n\r\nusing this code:\r\n\r\nMaven: **sesv2**\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.288&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sesv2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.288&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nJava Code:\r\n\r\n    package com.company.core.service.util.email.sender;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Service;\r\n    import software.amazon.awssdk.services.sesv2.SesV2Client;\r\n    import software.amazon.awssdk.services.sesv2.model.*;\r\n    \r\n    @Service\r\n    public class CompanySesClient  {\r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(CompanySesClient.class);\r\n    \r\n    \tprivate final SesV2Client client = SesV2Client.builder().build();\r\n    \r\n    \t@PostConstruct\r\n    \tpublic void testSendMail(){\r\n    \t\ttry{\r\n    \t\t\tLOG.info(&quot;about to try to send mail&quot;);\r\n    \t\t\tsendEmail(&quot;test@noreply.staging.test.com&quot;,&quot;abc@abc.com&quot;, &quot;test subject&quot;, &quot;test body&quot;);\r\n    \t\t\tLOG.info(&quot;Sucess to send mail&quot;);\r\n    \t\t}catch (Throwable error){\r\n    \t\t\tLOG.error(&quot;failed to send mail with error,&quot;+error.getMessage(), error.getMessage() , error.getStackTrace());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void sendEmail(String sender, String recipient, String emailSubject, String emailBody) {\r\n    \t\tfinal Destination destination = Destination.builder()\r\n    \t\t\t\t.toAddresses(recipient)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tfinal EmailContent emailContent = getEmailContent(emailSubject, emailBody);\r\n    \t\tfinal SendEmailRequest emailRequest = SendEmailRequest.builder()\r\n    \t\t\t\t.destination(destination)\r\n    \t\t\t\t.content(emailContent)\r\n    \t\t\t\t.fromEmailAddress(sender)\r\n    \t\t\t\t.build();\r\n    \t\ttry {\r\n    \t\t\tLOG.info(&quot;Attempting to send an email through Amazon SES &quot; + &quot;using the AWS SDK for Java...&quot;);\r\n    \t\t\tclient.sendEmail(emailRequest);\r\n    \t\t\tLOG.info(&quot;email was sent&quot;);\r\n    \r\n    \t\t} catch (SesV2Exception e) {\r\n    \t\t\tLOG.error(&quot;email sent error:&quot; + e.awsErrorDetails().errorMessage());\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static EmailContent getEmailContent(String emailSubject, String emailBody) {\r\n    \t\tfinal Content subject = Content.builder()\r\n    \t\t\t\t.data(emailSubject)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tfinal Content content = Content.builder()\r\n    \t\t\t\t.data(emailBody)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tfinal Body body = Body.builder()\r\n    \t\t\t\t.html(content)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tfinal Message msg = Message.builder()\r\n    \t\t\t\t.subject(subject)\r\n    \t\t\t\t.body(body)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tfinal EmailContent emailContent = EmailContent.builder()\r\n    \t\t\t\t.simple(msg)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\treturn emailContent;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nstack trace:\r\n\r\n    \r\n\r\nfailed to send mail with error,Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain(credentialsProviders=[SystemPropertyCredentialsProvider(), EnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(profileName=default, profileFile=ProfileFile(profilesAndSectionsMap=[])), ContainerCredentialsProvider(), \r\nInstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider(): Unable to load credentials from system settings. \r\n    Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId).,\r\n \r\nEnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., WebIdentityTokenCredentialsProvider(): To use web identity tokens, \r\n    the &#39;sts&#39; service module must be on the class path., ProfileCredentialsProvider(profileName=default, \r\nprofileFile=ProfileFile(profilesAndSectionsMap=[])): Profile file contained no credentials for profile &#39;default&#39;: ProfileFile(profilesAndSectionsMap=[]), ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): Failed to load credentials from IMDS.]\r\n\r\n\r\nI tried adding this solution\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n        &lt;version&gt;2.17.288&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nas offered here, but it did not solve my error\r\nhttps://github.com/gkatzioura/CloudStorageMaven/issues/23\r\n\r\n\r\n","title":"Error when trying to send email with AMAZON SES using sts","body":"<p>I'm trying to send an email with SES V2 AMAZON , but it fails with the below error</p>\n<p>I'm interested of using\n<strong>WebIdentityTokenCredentialsProvider</strong>():\nand this part of the error says:\n&quot;To use web identity tokens, the 'sts' service module must be on the class path.,&quot;</p>\n<p>how can I solve it:</p>\n<p>using this code:</p>\n<p>Maven: <strong>sesv2</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;bom&lt;/artifactId&gt;\n        &lt;version&gt;2.17.288&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;sesv2&lt;/artifactId&gt;\n        &lt;version&gt;2.17.288&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Java Code:</p>\n<pre><code>package com.company.core.service.util.email.sender;\n\nimport javax.annotation.PostConstruct;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Service;\nimport software.amazon.awssdk.services.sesv2.SesV2Client;\nimport software.amazon.awssdk.services.sesv2.model.*;\n\n@Service\npublic class CompanySesClient  {\n    private static final Logger LOG = LoggerFactory.getLogger(CompanySesClient.class);\n\n    private final SesV2Client client = SesV2Client.builder().build();\n\n    @PostConstruct\n    public void testSendMail(){\n        try{\n            LOG.info(&quot;about to try to send mail&quot;);\n            sendEmail(&quot;test@noreply.staging.test.com&quot;,&quot;abc@abc.com&quot;, &quot;test subject&quot;, &quot;test body&quot;);\n            LOG.info(&quot;Sucess to send mail&quot;);\n        }catch (Throwable error){\n            LOG.error(&quot;failed to send mail with error,&quot;+error.getMessage(), error.getMessage() , error.getStackTrace());\n        }\n    }\n\n    public void sendEmail(String sender, String recipient, String emailSubject, String emailBody) {\n        final Destination destination = Destination.builder()\n                .toAddresses(recipient)\n                .build();\n\n        final EmailContent emailContent = getEmailContent(emailSubject, emailBody);\n        final SendEmailRequest emailRequest = SendEmailRequest.builder()\n                .destination(destination)\n                .content(emailContent)\n                .fromEmailAddress(sender)\n                .build();\n        try {\n            LOG.info(&quot;Attempting to send an email through Amazon SES &quot; + &quot;using the AWS SDK for Java...&quot;);\n            client.sendEmail(emailRequest);\n            LOG.info(&quot;email was sent&quot;);\n\n        } catch (SesV2Exception e) {\n            LOG.error(&quot;email sent error:&quot; + e.awsErrorDetails().errorMessage());\n            throw e;\n        }\n    }\n\n    private static EmailContent getEmailContent(String emailSubject, String emailBody) {\n        final Content subject = Content.builder()\n                .data(emailSubject)\n                .build();\n\n        final Content content = Content.builder()\n                .data(emailBody)\n                .build();\n\n        final Body body = Body.builder()\n                .html(content)\n                .build();\n\n        final Message msg = Message.builder()\n                .subject(subject)\n                .body(body)\n                .build();\n\n        final EmailContent emailContent = EmailContent.builder()\n                .simple(msg)\n                .build();\n\n        return emailContent;\n    }\n}\n</code></pre>\n<p>stack trace:</p>\n<p>failed to send mail with error,Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain(credentialsProviders=[SystemPropertyCredentialsProvider(), EnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(profileName=default, profileFile=ProfileFile(profilesAndSectionsMap=[])), ContainerCredentialsProvider(),\nInstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider(): Unable to load credentials from system settings.\nAccess key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId).,</p>\n<p>EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., WebIdentityTokenCredentialsProvider(): To use web identity tokens,\nthe 'sts' service module must be on the class path., ProfileCredentialsProvider(profileName=default,\nprofileFile=ProfileFile(profilesAndSectionsMap=[])): Profile file contained no credentials for profile 'default': ProfileFile(profilesAndSectionsMap=[]), ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): Failed to load credentials from IMDS.]</p>\n<p>I tried adding this solution</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;sts&lt;/artifactId&gt;\n    &lt;version&gt;2.17.288&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>as offered here, but it did not solve my error\n<a href=\"https://github.com/gkatzioura/CloudStorageMaven/issues/23\" rel=\"nofollow noreferrer\">https://github.com/gkatzioura/CloudStorageMaven/issues/23</a></p>\n"},{"tags":["java","kotlin","javafx","canvas"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1666311056,"post_id":74146607,"comment_id":130912949,"body_markdown":"*&quot;I searched everywhere to find a Canvas analog of StrokeType parameter, but haven&#39;t found anything.&quot;* -&gt; As of JavaFX 19, I don&#39;t think that there is a Canvas analog of the StrokeType parameter.  The only suggestion I have is to calculate a different path, such that the line will appear where you want it to.  That is simple enough in basic cases, but likely difficult in a general sense.","body":"<i>&quot;I searched everywhere to find a Canvas analog of StrokeType parameter, but haven&#39;t found anything.&quot;</i> -&gt; As of JavaFX 19, I don&#39;t think that there is a Canvas analog of the StrokeType parameter.  The only suggestion I have is to calculate a different path, such that the line will appear where you want it to.  That is simple enough in basic cases, but likely difficult in a general sense."}],"owner":{"account_id":9620813,"reputation":191,"user_id":8881863,"display_name":"David"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1666302168,"creation_date":1666302168,"question_id":74146607,"body_markdown":"I have a Canvas in JavaFX, and I would like to draw, say, a Circle, or Polygon, with stroke inside.\r\nThis is what I would usually do:\r\n```\r\nclass MyClass {\r\n    fun draw(ctx: GraphicsContext, points: List&lt;Point&gt;) {\r\n        ctx.beginPath()\r\n        points.forEach {\r\n            ctx.lineTo(it.x, it.y)\r\n        }\r\n        ctx.closePath()\r\n        ctx.fill()\r\n        ctx.stroke()\r\n    }\r\n}\r\n```\r\nBut the problem is, this method will draw the shape with the stroke on path, like on the left on this picture:\r\n[![enter image description here][1]][1]\r\nI need it to draw the stroke inside the path.\r\n\r\nI know that this is possible in JavaFX Shapes with their `javafx.scene.shape.StrokeType` patameter, but I would like to avoid using them as they need to be manually added to the Node as children (and manually removed if I need to change something).\r\n\r\nAlso, I know that I can use `ctx.clip()` to imitate the desired effect. But this method, if used frequently (which is my case), causes unacceptable lags to the application.\r\n\r\nI searched everywhere to find a Canvas analog of StrokeType parameter, but haven&#39;t found anything.\r\n\r\n  [1]: https://i.stack.imgur.com/CiNLO.png","title":"Is there any way to draw a shape in JavaFX Canvas with &quot;inside&quot; stroke type using GraphicsContext?","body":"<p>I have a Canvas in JavaFX, and I would like to draw, say, a Circle, or Polygon, with stroke inside.\nThis is what I would usually do:</p>\n<pre><code>class MyClass {\n    fun draw(ctx: GraphicsContext, points: List&lt;Point&gt;) {\n        ctx.beginPath()\n        points.forEach {\n            ctx.lineTo(it.x, it.y)\n        }\n        ctx.closePath()\n        ctx.fill()\n        ctx.stroke()\n    }\n}\n</code></pre>\n<p>But the problem is, this method will draw the shape with the stroke on path, like on the left on this picture:\n<a href=\"https://i.stack.imgur.com/CiNLO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CiNLO.png\" alt=\"enter image description here\" /></a>\nI need it to draw the stroke inside the path.</p>\n<p>I know that this is possible in JavaFX Shapes with their <code>javafx.scene.shape.StrokeType</code> patameter, but I would like to avoid using them as they need to be manually added to the Node as children (and manually removed if I need to change something).</p>\n<p>Also, I know that I can use <code>ctx.clip()</code> to imitate the desired effect. But this method, if used frequently (which is my case), causes unacceptable lags to the application.</p>\n<p>I searched everywhere to find a Canvas analog of StrokeType parameter, but haven't found anything.</p>\n"},{"tags":["java","android-studio","android-mediaplayer"],"answers":[{"comments":[{"owner":{"account_id":22989018,"reputation":35,"user_id":17114802,"display_name":"Aviv"},"score":0,"creation_date":1666170713,"post_id":74121530,"comment_id":130870066,"body_markdown":"still inconsistent","body":"still inconsistent"},{"owner":{"account_id":22989018,"reputation":35,"user_id":17114802,"display_name":"Aviv"},"score":0,"creation_date":1666170826,"post_id":74121530,"comment_id":130870110,"body_markdown":"also, the problem also occurs when the presses are far apart","body":"also, the problem also occurs when the presses are far apart"},{"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"score":0,"creation_date":1666171187,"post_id":74121530,"comment_id":130870236,"body_markdown":"Ok, I edited the answer, try it... it works fine for me","body":"Ok, I edited the answer, try it... it works fine for me"},{"owner":{"account_id":22989018,"reputation":35,"user_id":17114802,"display_name":"Aviv"},"score":0,"creation_date":1666173523,"post_id":74121530,"comment_id":130871123,"body_markdown":"nope, still inconsistent","body":"nope, still inconsistent"},{"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"score":0,"creation_date":1666189350,"post_id":74121530,"comment_id":130877352,"body_markdown":"That&#39;s weird... for me that code works fine... maybe there is a problem in your audio file, or maybe I didn&#39;t understood your question :(","body":"That&#39;s weird... for me that code works fine... maybe there is a problem in your audio file, or maybe I didn&#39;t understood your question :("},{"owner":{"account_id":22989018,"reputation":35,"user_id":17114802,"display_name":"Aviv"},"score":0,"creation_date":1666252123,"post_id":74121530,"comment_id":130893012,"body_markdown":"I tried to listen more carefully and now I believe the sound actually gets cut off rather than playing with a lower volume. still, I have no Idea what causes this","body":"I tried to listen more carefully and now I believe the sound actually gets cut off rather than playing with a lower volume. still, I have no Idea what causes this"},{"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"score":0,"creation_date":1666296793,"post_id":74121530,"comment_id":130909922,"body_markdown":"@Aviv I added a second solution try it out maybe it will be more consistent...","body":"@Aviv I added a second solution try it out maybe it will be more consistent..."},{"owner":{"account_id":22989018,"reputation":35,"user_id":17114802,"display_name":"Aviv"},"score":0,"creation_date":1666304416,"post_id":74121530,"comment_id":130911874,"body_markdown":"I tried running the code again today (without implementing your solution) and the sound no longer cuts off. I changed various things unrelated to the audio and I don&#39;t know which change (if any) fixed the issue. perhaps it is related to my phone performance being better coming right off the charger. But for now, I don&#39;t know how to replicate the issue to check your suggestion. either way, I doubt lt would work as the problem happens even when the sounds are far between, so I can&#39;t see how stopping the supposedly-not-playing audio can help","body":"I tried running the code again today (without implementing your solution) and the sound no longer cuts off. I changed various things unrelated to the audio and I don&#39;t know which change (if any) fixed the issue. perhaps it is related to my phone performance being better coming right off the charger. But for now, I don&#39;t know how to replicate the issue to check your suggestion. either way, I doubt lt would work as the problem happens even when the sounds are far between, so I can&#39;t see how stopping the supposedly-not-playing audio can help"}],"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666302100,"creation_date":1666165083,"answer_id":74121530,"question_id":74121025,"body_markdown":"Here is the solutions to the problem.\r\nPut this chunk of code inside your onClick listener\r\n\r\n**Solution 1:**\r\n```\r\nmpBlob.stop();\r\n   try {\r\n     mpBlob.prepare();\r\n} catch (IOException e) {\r\n     e.printStackTrace();\r\n}\r\nmpBlob.start();\r\n```\r\n**Solution 2:**\r\n```\r\nif(mpBlob.isPlaying()) {\r\n    mpBlob.stop();\r\n    mpBlob.release();\r\n    mpBlob = MediaPlayer.create(getApplicationContext(), R.raw.blob);\r\n}\r\nmpBlob.start();\r\n```","title":"Button pressing sound&#39;s volume isn&#39;t consistent","body":"<p>Here is the solutions to the problem.\nPut this chunk of code inside your onClick listener</p>\n<p><strong>Solution 1:</strong></p>\n<pre><code>mpBlob.stop();\n   try {\n     mpBlob.prepare();\n} catch (IOException e) {\n     e.printStackTrace();\n}\nmpBlob.start();\n</code></pre>\n<p><strong>Solution 2:</strong></p>\n<pre><code>if(mpBlob.isPlaying()) {\n    mpBlob.stop();\n    mpBlob.release();\n    mpBlob = MediaPlayer.create(getApplicationContext(), R.raw.blob);\n}\nmpBlob.start();\n</code></pre>\n"}],"owner":{"account_id":22989018,"reputation":35,"user_id":17114802,"display_name":"Aviv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666302100,"creation_date":1666162453,"question_id":74121025,"body_markdown":"I&#39;m trying to make a short arcade-like beep sound whenever the user clicks a movement button for a game. for this, I tried to use the code I always use to make audio:\r\nin the MainActivity class I declared\r\n```java\r\nMediaPlayer bpress;\r\n```\r\nin the OnCreate function\r\n```java\r\nbpress = MediaPlayer.create(getApplicationContext(), R.raw.blop);\r\n```\r\nand in the OnClick\r\n```java\r\nif (view == left) {\r\n   bpress.start();\r\n}\r\n```\r\nand it does work, but the volume of the sound isn&#39;t consistent - it often plays on half the volume or becomes barely audible. \r\n\r\nI tried switching to a different, longer audio file to see if the problem comes from the short length of the beep sound, but the problem remains.\r\n\r\nTherefore, I&#39;m almost certain that the problem is related to the fact that said buttons are pressed quickly, and many times. but I don&#39;t know why it happens or how to fix it","title":"Button pressing sound&#39;s volume isn&#39;t consistent","body":"<p>I'm trying to make a short arcade-like beep sound whenever the user clicks a movement button for a game. for this, I tried to use the code I always use to make audio:\nin the MainActivity class I declared</p>\n<pre class=\"lang-java prettyprint-override\"><code>MediaPlayer bpress;\n</code></pre>\n<p>in the OnCreate function</p>\n<pre class=\"lang-java prettyprint-override\"><code>bpress = MediaPlayer.create(getApplicationContext(), R.raw.blop);\n</code></pre>\n<p>and in the OnClick</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (view == left) {\n   bpress.start();\n}\n</code></pre>\n<p>and it does work, but the volume of the sound isn't consistent - it often plays on half the volume or becomes barely audible.</p>\n<p>I tried switching to a different, longer audio file to see if the problem comes from the short length of the beep sound, but the problem remains.</p>\n<p>Therefore, I'm almost certain that the problem is related to the fact that said buttons are pressed quickly, and many times. but I don't know why it happens or how to fix it</p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1666294756,"post_id":74145401,"comment_id":130909313,"body_markdown":"the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package already contains all it&#39;s needed in order to avoid to reinvent the wheel","body":"the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package already contains all it&#39;s needed in order to avoid to reinvent the wheel"}],"answers":[{"tags":[],"owner":{"account_id":26559927,"reputation":26,"user_id":20187924,"display_name":"sascha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666301724,"creation_date":1666301724,"answer_id":74146552,"question_id":74145401,"body_markdown":"I&#39;m pretty sure we are doing your homework here. If not, please use a Library (e.g. [https://www.w3schools.com/java/java_date.asp][1]) as already suggested.\r\n\r\nMy first thought is this:\r\n\r\n1. Find the day of the week of January 1st. I don&#39;t know if you have an algorithm for that or if you are allowed to use a library for that.\r\n2. Loop through all month.\r\n3. Start each month on the day+1 of previous month and end it after 28, 29, 30 or 31 days.\r\n\r\n---\r\n\r\n    array MONTH = January,...\r\n    array NUMDAYS = 31,...\r\n\r\n    num indexLastDayPreviousMonth = calcFor1stJanuary - 1\r\n    \r\n    loop MONTH\r\n        indexLastDayPreviousMonth = printMonth(nameMonth, indexDayPreviousMonth, numOfDaysInMonth)\r\n\r\n    method printMonth(nameMonth, indexDayPreviousMonth, numOfDaysInMonth)\r\n        print nameMonth\r\n        printDays from indexDayPreviousMonth + 1 for numOfDaysInMonth\r\n        return indexLastDayOfMonth\r\n\r\nI hope I outlined my idea understandable.\r\n\r\nI also would split the code in a Calendar and a Month class. The Calendar has the logic on which day the given year starts and so on. The Month has the logic to print a month.\r\n\r\n  [1]: https://www.w3schools.com/java/java_date.asp","title":"How to write a for loop for printing the all months and days in the month in java?","body":"<p>I'm pretty sure we are doing your homework here. If not, please use a Library (e.g. <a href=\"https://www.w3schools.com/java/java_date.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_date.asp</a>) as already suggested.</p>\n<p>My first thought is this:</p>\n<ol>\n<li>Find the day of the week of January 1st. I don't know if you have an algorithm for that or if you are allowed to use a library for that.</li>\n<li>Loop through all month.</li>\n<li>Start each month on the day+1 of previous month and end it after 28, 29, 30 or 31 days.</li>\n</ol>\n<hr />\n<pre><code>array MONTH = January,...\narray NUMDAYS = 31,...\n\nnum indexLastDayPreviousMonth = calcFor1stJanuary - 1\n\nloop MONTH\n    indexLastDayPreviousMonth = printMonth(nameMonth, indexDayPreviousMonth, numOfDaysInMonth)\n\nmethod printMonth(nameMonth, indexDayPreviousMonth, numOfDaysInMonth)\n    print nameMonth\n    printDays from indexDayPreviousMonth + 1 for numOfDaysInMonth\n    return indexLastDayOfMonth\n</code></pre>\n<p>I hope I outlined my idea understandable.</p>\n<p>I also would split the code in a Calendar and a Month class. The Calendar has the logic on which day the given year starts and so on. The Month has the logic to print a month.</p>\n"}],"owner":{"account_id":20112087,"reputation":7,"user_id":14748298,"display_name":"mrsir217"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666301724,"creation_date":1666294283,"question_id":74145401,"body_markdown":"I am trying to print all months in a year based on user input. Ex: say if someone entered 2004 they would then see a calendar of all 12 months with the days in 2004 in this format:\r\n```\r\n      May 2004\r\n S  M  T  W  T  F  S\r\n             1  2  3 \r\n 4  5  6  7  8  9 10 \r\n11 12 13 14 15 16 17 \r\n18 19 20 21 22 23 24 \r\n25 26 27 28 29 30 31 \r\n```\r\nI&#39;ve already written the for loop for printing all the months but how do I print all the days in that month? Also the code for the days of the week are able to print as well but I am having trouble printing the days for each month.\r\n\r\n```\r\npublic class Month {\r\n   private static final String[] MONTHS = {\r\n         &quot;&quot;, &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;,\r\n         &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;\r\n   };\r\n\r\n   private static final int[] NUMDAYS = {\r\n         0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\r\n   };\r\n\r\n   // Declaring a private variable called month.\r\n   private static int month;\r\n   private int year;\r\n\r\n   public Month(int month, int year) {\r\n      // Assigning the value of the parameter month to the instance variable month.\r\n      this.month = month;\r\n      this.year = year;\r\n\r\n   }\r\n\r\n   public int getYear() {\r\n      return year;\r\n   }\r\n\r\n   private boolean isLeapYear() {\r\n      if (year % 400 == 0) {\r\n         return true;\r\n      }\r\n      if (year % 100 == 0) {\r\n         return false;\r\n      }\r\n      return year % 4 == 0;\r\n   }\r\n\r\n   private int getNumDays() {\r\n      if (month == 2) {\r\n         if (isLeapYear()) {\r\n            return 29;\r\n         } else {\r\n            return 28;\r\n         }\r\n      } else {\r\n         return NUMDAYS[month];\r\n      }\r\n   }\r\n\r\n   private int getStartDOW() {\r\n      int m, y;\r\n      if (month &lt; 3) {\r\n         m = month + 12;\r\n         y = year - 1;\r\n      } else {\r\n         m = month;\r\n         y = year;\r\n      }\r\n      return (13 * (m + 1) / 5 + y + y / 4 - y / 100 + y / 400) % 7;\r\n   }\r\n\r\n   private String[] getAllMonths() {\r\n      for (int i = 0; i &lt; MONTHS.length; i++) {\r\n         System.out.println(MONTHS[i]);\r\n      }\r\n      return MONTHS;\r\n   }\r\n\r\n   public void printCalendar() {\r\n      String[] mon = getAllMonths();\r\n      System.out.println(&quot;       &quot; + MONTHS + &quot; &quot; + year);\r\n      System.out.println(&quot; S  M  T  W  T  F  S&quot;);\r\n      int dow = getStartDOW();\r\n      for (int i = 0; i &lt; dow; i++) {\r\n         System.out.print(&quot;   &quot;);\r\n      }\r\n      int numdays = getNumDays();\r\n      for (int i = 1; i &lt;= numdays; i++) {\r\n         System.out.printf(&quot;%2d &quot;, i);\r\n         if (dow == 6) {\r\n            System.out.println();\r\n            dow = 0;\r\n         } else {\r\n            dow++;\r\n         }\r\n      }\r\n      System.out.println();\r\n\r\n   }\r\n\r\n   public static void main(String[] args) {\r\n      Scanner s = new Scanner(System.in);\r\n\r\n      System.out.println(&quot;Enter year: &quot;);\r\n      int year = s.nextInt();\r\n      Month m = new Month(month, year);\r\n      m.printCalendar();\r\n   }\r\n\r\n}\r\n```","title":"How to write a for loop for printing the all months and days in the month in java?","body":"<p>I am trying to print all months in a year based on user input. Ex: say if someone entered 2004 they would then see a calendar of all 12 months with the days in 2004 in this format:</p>\n<pre><code>      May 2004\n S  M  T  W  T  F  S\n             1  2  3 \n 4  5  6  7  8  9 10 \n11 12 13 14 15 16 17 \n18 19 20 21 22 23 24 \n25 26 27 28 29 30 31 \n</code></pre>\n<p>I've already written the for loop for printing all the months but how do I print all the days in that month? Also the code for the days of the week are able to print as well but I am having trouble printing the days for each month.</p>\n<pre><code>public class Month {\n   private static final String[] MONTHS = {\n         &quot;&quot;, &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;,\n         &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;\n   };\n\n   private static final int[] NUMDAYS = {\n         0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\n   };\n\n   // Declaring a private variable called month.\n   private static int month;\n   private int year;\n\n   public Month(int month, int year) {\n      // Assigning the value of the parameter month to the instance variable month.\n      this.month = month;\n      this.year = year;\n\n   }\n\n   public int getYear() {\n      return year;\n   }\n\n   private boolean isLeapYear() {\n      if (year % 400 == 0) {\n         return true;\n      }\n      if (year % 100 == 0) {\n         return false;\n      }\n      return year % 4 == 0;\n   }\n\n   private int getNumDays() {\n      if (month == 2) {\n         if (isLeapYear()) {\n            return 29;\n         } else {\n            return 28;\n         }\n      } else {\n         return NUMDAYS[month];\n      }\n   }\n\n   private int getStartDOW() {\n      int m, y;\n      if (month &lt; 3) {\n         m = month + 12;\n         y = year - 1;\n      } else {\n         m = month;\n         y = year;\n      }\n      return (13 * (m + 1) / 5 + y + y / 4 - y / 100 + y / 400) % 7;\n   }\n\n   private String[] getAllMonths() {\n      for (int i = 0; i &lt; MONTHS.length; i++) {\n         System.out.println(MONTHS[i]);\n      }\n      return MONTHS;\n   }\n\n   public void printCalendar() {\n      String[] mon = getAllMonths();\n      System.out.println(&quot;       &quot; + MONTHS + &quot; &quot; + year);\n      System.out.println(&quot; S  M  T  W  T  F  S&quot;);\n      int dow = getStartDOW();\n      for (int i = 0; i &lt; dow; i++) {\n         System.out.print(&quot;   &quot;);\n      }\n      int numdays = getNumDays();\n      for (int i = 1; i &lt;= numdays; i++) {\n         System.out.printf(&quot;%2d &quot;, i);\n         if (dow == 6) {\n            System.out.println();\n            dow = 0;\n         } else {\n            dow++;\n         }\n      }\n      System.out.println();\n\n   }\n\n   public static void main(String[] args) {\n      Scanner s = new Scanner(System.in);\n\n      System.out.println(&quot;Enter year: &quot;);\n      int year = s.nextInt();\n      Month m = new Month(month, year);\n      m.printCalendar();\n   }\n\n}\n</code></pre>\n"},{"tags":["java","prometheus"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1666287659,"post_id":74144023,"comment_id":130907062,"body_markdown":"You usually want to keep the cardinality of your labels low. Each label combination creates a new time series. If you have 40 users, that&#39;s at least 40 time series. 40 is not a lot yet, but since you mentioned &quot;users will be added automatically&quot;, this sounds pretty bad. (Not an answer to your problem, just a heads-up)","body":"You usually want to keep the cardinality of your labels low. Each label combination creates a new time series. If you have 40 users, that&#39;s at least 40 time series. 40 is not a lot yet, but since you mentioned &quot;users will be added automatically&quot;, this sounds pretty bad. (Not an answer to your problem, just a heads-up)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1666294543,"post_id":74144023,"comment_id":130909245,"body_markdown":"And just double checking: the counters will reset when the application restarts. Is that okay? Or are you better off with a counter in e.g. Redis?","body":"And just double checking: the counters will reset when the application restarts. Is that okay? Or are you better off with a counter in e.g. Redis?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1666372912,"post_id":74144023,"comment_id":130929718,"body_markdown":"It is ok for a counter to reset when the application restarts. See https://prometheus.io/docs/concepts/metric_types/#counter","body":"It is ok for a counter to reset when the application restarts. See <a href=\"https://prometheus.io/docs/concepts/metric_types/#counter\" rel=\"nofollow noreferrer\">prometheus.io/docs/concepts/metric_types/#counter</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666301329,"creation_date":1666301329,"answer_id":74146492,"question_id":74144023,"body_markdown":"Try to get two of the documentation examples running on your side. If it works in plain java, it also works in spring, JEE or elsewhere.\r\n\r\nhttps://github.com/prometheus/client_java\r\n\r\n- Example 1: Counter\r\n- Example 2: Labels","title":"How should be prometheus labels properly used using Java?","body":"<p>Try to get two of the documentation examples running on your side. If it works in plain java, it also works in spring, JEE or elsewhere.</p>\n<p><a href=\"https://github.com/prometheus/client_java\" rel=\"nofollow noreferrer\">https://github.com/prometheus/client_java</a></p>\n<ul>\n<li>Example 1: Counter</li>\n<li>Example 2: Labels</li>\n</ul>\n"}],"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74146492,"answer_count":1,"score":1,"last_activity_date":1666301329,"creation_date":1666286902,"question_id":74144023,"body_markdown":"How should be prometheus labels properly used using Java?\r\n\r\nI have Java app, with Spring, but without SpringBoot.\r\n\r\nI have a metric, which can be only incremented: I need to count how much time each user have logged in to my system. Users can be added dynamically: like, at the beggining there can be one user, and at the end of the day +40 users. As I understand it, the best way is to make a Counter with labels.\r\n\r\nI saw something similar in rabbitmq metrics:\r\n\r\n    # TYPE rabbitmq_queue_message_bytes_persistent gauge\r\n    rabbitmq_queue_message_bytes_persistent{durable=&quot;true&quot;,policy=&quot;&quot;,queue=&quot;ERROR&quot;,vhost=&quot;/&quot;} 0\r\n    rabbitmq_queue_message_bytes_persistent{durable=&quot;true&quot;,policy=&quot;&quot;,queue=&quot;OK&quot;,vhost=&quot;/&quot;} 1\r\n    rabbitmq_queue_message_bytes_persistent{durable=&quot;true&quot;,policy=&quot;&quot;,queue=&quot;PROGRESS&quot;,vhost=&quot;/&quot;} 7\r\n\r\n\r\nSo, in my case it should be something like \r\n\r\n    # TYPE user_logins counter\r\n    user_logins_total{user=&quot;Alex&quot;} 0\r\n    user_logins_total{user=&quot;Kate&quot;} 1\r\n    user_logins_total{user=&quot;Ali&quot;} 7\r\n\r\nI&#39;ve tried to do something like this:\r\n\r\n    private Counter getByLabel(String labelName) {\r\n        Counter counter = map.get(labelName);\r\n        if (counter == null) {\r\n            counter = Counter.build()\r\n                    .namespace(NAMESPACE)\r\n                    .labelNames(labelName)\r\n                    .name(USER_LOGINS_NAME)\r\n                    .help(USER_LOGINS_HELP)\r\n                    .register();\r\n            map.put(labelName, counter);\r\n        }\r\n        return counter;\r\n    }\r\n\r\n    //With such increment() I receive NPE \r\n    public void increment(String labelName) {\r\n        this.getByLabel(labelName).inc();\r\n    }\r\n\r\n    //With such increment() I receive an error abt I have the counter with the same name each time i try to increment counter more then once. \r\n    public void increment(String labelName) {\r\n        this.getByLabel(labelName).labels(labelName).inc();\r\n    }\r\n\r\nPrometheus client I use:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;simpleclient&lt;/artifactId&gt;\r\n        &lt;version&gt;0.16.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;simpleclient_httpserver&lt;/artifactId&gt;\r\n        &lt;version&gt;0.16.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How should be prometheus labels properly used using Java?","body":"<p>How should be prometheus labels properly used using Java?</p>\n<p>I have Java app, with Spring, but without SpringBoot.</p>\n<p>I have a metric, which can be only incremented: I need to count how much time each user have logged in to my system. Users can be added dynamically: like, at the beggining there can be one user, and at the end of the day +40 users. As I understand it, the best way is to make a Counter with labels.</p>\n<p>I saw something similar in rabbitmq metrics:</p>\n<pre><code># TYPE rabbitmq_queue_message_bytes_persistent gauge\nrabbitmq_queue_message_bytes_persistent{durable=&quot;true&quot;,policy=&quot;&quot;,queue=&quot;ERROR&quot;,vhost=&quot;/&quot;} 0\nrabbitmq_queue_message_bytes_persistent{durable=&quot;true&quot;,policy=&quot;&quot;,queue=&quot;OK&quot;,vhost=&quot;/&quot;} 1\nrabbitmq_queue_message_bytes_persistent{durable=&quot;true&quot;,policy=&quot;&quot;,queue=&quot;PROGRESS&quot;,vhost=&quot;/&quot;} 7\n</code></pre>\n<p>So, in my case it should be something like</p>\n<pre><code># TYPE user_logins counter\nuser_logins_total{user=&quot;Alex&quot;} 0\nuser_logins_total{user=&quot;Kate&quot;} 1\nuser_logins_total{user=&quot;Ali&quot;} 7\n</code></pre>\n<p>I've tried to do something like this:</p>\n<pre><code>private Counter getByLabel(String labelName) {\n    Counter counter = map.get(labelName);\n    if (counter == null) {\n        counter = Counter.build()\n                .namespace(NAMESPACE)\n                .labelNames(labelName)\n                .name(USER_LOGINS_NAME)\n                .help(USER_LOGINS_HELP)\n                .register();\n        map.put(labelName, counter);\n    }\n    return counter;\n}\n\n//With such increment() I receive NPE \npublic void increment(String labelName) {\n    this.getByLabel(labelName).inc();\n}\n\n//With such increment() I receive an error abt I have the counter with the same name each time i try to increment counter more then once. \npublic void increment(String labelName) {\n    this.getByLabel(labelName).labels(labelName).inc();\n}\n</code></pre>\n<p>Prometheus client I use:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n    &lt;artifactId&gt;simpleclient&lt;/artifactId&gt;\n    &lt;version&gt;0.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n    &lt;artifactId&gt;simpleclient_httpserver&lt;/artifactId&gt;\n    &lt;version&gt;0.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","google-drive-api","google-drive-shared-drive"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666299956,"post_id":74146259,"comment_id":130910861,"body_markdown":"Total guess: try setting a page size.","body":"Total guess: try setting a page size."}],"answers":[{"tags":[],"owner":{"account_id":13564626,"reputation":31,"user_id":9785139,"display_name":"slavkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666300862,"creation_date":1666300862,"answer_id":74146433,"question_id":74146259,"body_markdown":"Problem solved. Folders must be created by the service account or must be shared with service account first.\r\n","title":"Getting list of all Google Drive folders returns only one folder","body":"<p>Problem solved. Folders must be created by the service account or must be shared with service account first.</p>\n"}],"owner":{"account_id":13564626,"reputation":31,"user_id":9785139,"display_name":"slavkowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666300862,"creation_date":1666299567,"question_id":74146259,"body_markdown":"&lt;br/&gt;\r\nI&#39;m working on some improvement on our google drive integration.&lt;br /&gt;\r\nCurrent state:\r\nThere is already implementation of saving files into Google Drive folders using hard-coded folderId. This works with no problems.&lt;br /&gt;\r\nNow: I want to extend this logic and I need for this list of all folders.\r\nSo I followed this guide:\r\nhttps://developers.google.com/drive/api/guides/search-files&lt;br /&gt;\r\nAnd the problem is that I receive only **one** folder but in google drive there is 10.&lt;br /&gt;\r\nCan anyone has any idea what I missed or overlooked? Why result doesn&#39;t contain nextPageToken? Spent whole day on it and this drives me crazy. &lt;br /&gt;\r\nThis is my method (i&#39;m using service account for connection):\r\n\r\n    @Override\r\n        public List&lt;File&gt; getAllFolders() throws IOException {\r\n            Drive service = googleDriveProvider.getService();\r\n    \r\n            List&lt;File&gt; files = new ArrayList&lt;&gt;();\r\n    \r\n            String pageToken = null;\r\n            do {\r\n                FileList result = service.files().list()\r\n                        .setQ(&quot;mimeType=&#39;application/vnd.google-apps.folder&#39;&quot;)\r\n                        .setSpaces(&quot;drive&quot;)\r\n                        .setSupportsAllDrives(true)\r\n                        .setIncludeItemsFromAllDrives(true)\r\n                        .setFields(&quot;nextPageToken, files(id, name, parents)&quot;)\r\n                        .setPageToken(pageToken)\r\n                        .execute();\r\n                for (File file : result.getFiles()) {\r\n                    System.out.printf(&quot;Found file: %s (%s)\\n&quot;,\r\n                            file.getName(), file.getId());\r\n                }\r\n    \r\n                files.addAll(result.getFiles());\r\n    \r\n                pageToken = result.getNextPageToken();\r\n            } while (pageToken != null);\r\n    \r\n            return files;\r\n        }\r\nAnd this is GoogleDriveProvider: &lt;br /&gt;\r\n\r\n    @Service\r\n    public class GoogleDriveProvider {\r\n        private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n        private static final Set&lt;String&gt; SCOPES = DriveScopes.all();\r\n        private static final String GET_DRIVE_SERVICE_ERROR_MESSAGE = &quot;Getting instance of Google drive has failed, error: [%s]&quot;;\r\n    \r\n        @Value(&quot;${google.drive.service.account.auth.json}&quot;)\r\n        private String authJson;\r\n    \r\n        @Value(&quot;${info.app.name}&quot;)\r\n        private String appName;\r\n    \r\n    \r\n        public Drive getService() throws GoogleDriveException {\r\n            try {\r\n                final NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    \r\n                GoogleCredentials credentials = GoogleCredentials.fromStream(\r\n                        new ByteArrayInputStream(authJson.getBytes())).createScoped(SCOPES);\r\n                credentials.refreshIfExpired();\r\n    \r\n                HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n    \r\n                return new Drive.Builder(httpTransport, JSON_FACTORY, requestInitializer)\r\n                        .setApplicationName(appName)\r\n                        .build();\r\n            } catch (IOException | GeneralSecurityException e) {\r\n                throw new GoogleDriveException(\r\n                        format(GET_DRIVE_SERVICE_ERROR_MESSAGE, e.getMessage()), e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n   ","title":"Getting list of all Google Drive folders returns only one folder","body":"<br/>\nI'm working on some improvement on our google drive integration.<br />\nCurrent state:\nThere is already implementation of saving files into Google Drive folders using hard-coded folderId. This works with no problems.<br />\nNow: I want to extend this logic and I need for this list of all folders.\nSo I followed this guide:\nhttps://developers.google.com/drive/api/guides/search-files<br />\nAnd the problem is that I receive only **one** folder but in google drive there is 10.<br />\nCan anyone has any idea what I missed or overlooked? Why result doesn't contain nextPageToken? Spent whole day on it and this drives me crazy. <br />\nThis is my method (i'm using service account for connection):\n<pre><code>@Override\n    public List&lt;File&gt; getAllFolders() throws IOException {\n        Drive service = googleDriveProvider.getService();\n\n        List&lt;File&gt; files = new ArrayList&lt;&gt;();\n\n        String pageToken = null;\n        do {\n            FileList result = service.files().list()\n                    .setQ(&quot;mimeType='application/vnd.google-apps.folder'&quot;)\n                    .setSpaces(&quot;drive&quot;)\n                    .setSupportsAllDrives(true)\n                    .setIncludeItemsFromAllDrives(true)\n                    .setFields(&quot;nextPageToken, files(id, name, parents)&quot;)\n                    .setPageToken(pageToken)\n                    .execute();\n            for (File file : result.getFiles()) {\n                System.out.printf(&quot;Found file: %s (%s)\\n&quot;,\n                        file.getName(), file.getId());\n            }\n\n            files.addAll(result.getFiles());\n\n            pageToken = result.getNextPageToken();\n        } while (pageToken != null);\n\n        return files;\n    }\n</code></pre>\n<p>And this is GoogleDriveProvider: <br /></p>\n<pre><code>@Service\npublic class GoogleDriveProvider {\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n    private static final Set&lt;String&gt; SCOPES = DriveScopes.all();\n    private static final String GET_DRIVE_SERVICE_ERROR_MESSAGE = &quot;Getting instance of Google drive has failed, error: [%s]&quot;;\n\n    @Value(&quot;${google.drive.service.account.auth.json}&quot;)\n    private String authJson;\n\n    @Value(&quot;${info.app.name}&quot;)\n    private String appName;\n\n\n    public Drive getService() throws GoogleDriveException {\n        try {\n            final NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n\n            GoogleCredentials credentials = GoogleCredentials.fromStream(\n                    new ByteArrayInputStream(authJson.getBytes())).createScoped(SCOPES);\n            credentials.refreshIfExpired();\n\n            HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n\n            return new Drive.Builder(httpTransport, JSON_FACTORY, requestInitializer)\n                    .setApplicationName(appName)\n                    .build();\n        } catch (IOException | GeneralSecurityException e) {\n            throw new GoogleDriveException(\n                    format(GET_DRIVE_SERVICE_ERROR_MESSAGE, e.getMessage()), e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","google-apps-script","htmlunit","google-sites"],"comments":[{"owner":{"account_id":1745021,"reputation":35219,"user_id":1595451,"accept_rate":100,"display_name":"Rub&#233;n"},"score":0,"creation_date":1666301343,"post_id":6259093,"comment_id":130911204,"body_markdown":"I’m voting to close this question because it&#39;s about calling a contained  Google Apps Script in old Google Sites, but the old Google Sites are now deprecated and the new Google Sites doesn&#39;t support contained scripts.","body":"I’m voting to close this question because it&#39;s about calling a contained  Google Apps Script in old Google Sites, but the old Google Sites are now deprecated and the new Google Sites doesn&#39;t support contained scripts."}],"answers":[{"comments":[{"owner":{"account_id":765826,"reputation":21,"user_id":786651,"display_name":"Marty"},"score":0,"creation_date":1307573548,"post_id":6268128,"comment_id":7339831,"body_markdown":"Yes, the script modifies the content of another Web page. It is easy to check whether the script ran from HtmlUnit by viewing the page in Firefox after the event. Is there any way to know what click() in HtmlUnit did other than inspecting the return  from the click() function which is the page jumped to by the link? Since click() only fires the script function, the returned Web page is the same as the current one, so this doesn&#39;t tell me much about what happened. Do you think I need some extra handlers defined to do what I am trying to do?","body":"Yes, the script modifies the content of another Web page. It is easy to check whether the script ran from HtmlUnit by viewing the page in Firefox after the event. Is there any way to know what click() in HtmlUnit did other than inspecting the return  from the click() function which is the page jumped to by the link? Since click() only fires the script function, the returned Web page is the same as the current one, so this doesn&#39;t tell me much about what happened. Do you think I need some extra handlers defined to do what I am trying to do?"},{"owner":{"account_id":37575,"reputation":2652,"user_id":107444,"accept_rate":80,"display_name":"Rodney Gitzel"},"score":0,"creation_date":1307573970,"post_id":6268128,"comment_id":7339914,"body_markdown":"Ah... &quot;the returned Web page is the same as the current one&quot; isn&#39;t quite correct.   It&#39;s the same instance of &quot;HtmlPage&quot; but its content will have been updated by any Javascript on the page, if your click() JS code does in fact change the page DOM.  At worst, call asXml() on the page object before and after calling click(); ideally you traverse the DOM looking for specific changes.","body":"Ah... &quot;the returned Web page is the same as the current one&quot; isn&#39;t quite correct.   It&#39;s the same instance of &quot;HtmlPage&quot; but its content will have been updated by any Javascript on the page, if your click() JS code does in fact change the page DOM.  At worst, call asXml() on the page object before and after calling click(); ideally you traverse the DOM looking for specific changes."},{"owner":{"account_id":765826,"reputation":21,"user_id":786651,"display_name":"Marty"},"score":0,"creation_date":1307584664,"post_id":6268128,"comment_id":7341409,"body_markdown":"The script changes the content on a different page, not the page where the link running the script is (could that be important?). This wouldn&#39;t stop me in HtmlUnit going to that page and checking the content as you suggest, but how could it have changed anything since isn&#39;t the proof me manually browsing in Firefox later on and finding nothing changed? Or is something more complex happening here, with HtmlUnit in fact making the change, but it somehow not getting recorded correctly server side? Do you think your asXml() test is worth doing anyway?","body":"The script changes the content on a different page, not the page where the link running the script is (could that be important?). This wouldn&#39;t stop me in HtmlUnit going to that page and checking the content as you suggest, but how could it have changed anything since isn&#39;t the proof me manually browsing in Firefox later on and finding nothing changed? Or is something more complex happening here, with HtmlUnit in fact making the change, but it somehow not getting recorded correctly server side? Do you think your asXml() test is worth doing anyway?"},{"owner":{"account_id":37575,"reputation":2652,"user_id":107444,"accept_rate":80,"display_name":"Rodney Gitzel"},"score":0,"creation_date":1307640744,"post_id":6268128,"comment_id":7354893,"body_markdown":"It changes something on another page?  Sorry, missed that. Just &quot;browse&quot; that page using HtmlUnit and look for the change.  Exactly the same process as you&#39;d do manually, you just do it in code.","body":"It changes something on another page?  Sorry, missed that. Just &quot;browse&quot; that page using HtmlUnit and look for the change.  Exactly the same process as you&#39;d do manually, you just do it in code."}],"tags":[],"owner":{"account_id":37575,"reputation":2652,"user_id":107444,"accept_rate":80,"display_name":"Rodney Gitzel"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307462391,"creation_date":1307462391,"answer_id":6268128,"question_id":6259093,"body_markdown":"HtmlUnit has rather good Javascript support, so I doubt that&#39;s the issue.  \r\n\r\nHow do you know the script hasn&#39;t run?   Or better, how would you know, from an HtmlUnit point-of-view, if the script has run successfully?   When you click the link in FF, you presumably see something happen.  You are relying on human vision and a browser meant for human use.  With HtmlUnit, you need to instruct your *code* to &quot;see&quot; the same result, whether by examining the subsequent DOM tree, or handling a popup, or whatever is needed.  It&#39;s a bit of a shift in thinking.\r\n\r\nWhat does your script do?  Manipulate the content of the page?  Open a dialog?  Redirect to another page?   Some things HtmlUnit will handle automatically, and some (like opening dialogs) need handlers defined.\r\n\r\n\r\n\r\n","title":"How to run Google Apps script from HtmlUnit?","body":"<p>HtmlUnit has rather good Javascript support, so I doubt that's the issue.  </p>\n\n<p>How do you know the script hasn't run?   Or better, how would you know, from an HtmlUnit point-of-view, if the script has run successfully?   When you click the link in FF, you presumably see something happen.  You are relying on human vision and a browser meant for human use.  With HtmlUnit, you need to instruct your <em>code</em> to \"see\" the same result, whether by examining the subsequent DOM tree, or handling a popup, or whatever is needed.  It's a bit of a shift in thinking.</p>\n\n<p>What does your script do?  Manipulate the content of the page?  Open a dialog?  Redirect to another page?   Some things HtmlUnit will handle automatically, and some (like opening dialogs) need handlers defined.</p>\n"}],"owner":{"account_id":765826,"reputation":21,"user_id":786651,"display_name":"Marty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666300832,"creation_date":1307402245,"question_id":6259093,"body_markdown":"I have a link in a Google Sites page that runs a Google Apps script. It works fine when I manually click the link in Firefox.\r\n\r\nEverything seems to work OK when I do the same using HtmlUnit. With HtmlUnit I can sign in (have to be signed in when running Google Apps scripts), get to the Web page, identify the link and click it, but the script does not run.\r\n\r\nThe guts of the code is straightforward:\r\n\r\n    WebClient webClient = new WebClient(BrowserVersion.FIREFOX_3_6);\r\n    HtmlPage page = webClient.getPage(&quot;https://sites.google.com/site/mywebpage&quot;);\r\n    HtmlAnchor anchor = page.getAnchorByName(&quot;MyAnchor&quot;);\r\n    anchor.click();\r\n\r\nSo what is missing, or what I am doing wrong?\r\n\r\nI created the original link in the Web page with:\r\n\r\n    &amp;lt;a href=&quot;/macros/sites?action=run&amp;amp;lib=094bahv51120b3d65&amp;amp;funcName=MyFunctionName&quot; name=&quot;MyAnchor&quot;&amp;gt;Click here to run function&amp;lt;/a&amp;gt;\r\n\r\nOn saving the Web page edit, Google Sites automatically changed this to:\r\n\r\n    &amp;lt;a href=&quot;#&quot; name=&quot;MyAnchor&quot; class=&quot;apps-script-run-link&quot; id=&quot;ACiQKe2HyNeo..etc...01120b3d65#MyFunctionName&quot;&amp;gt;Click here to run function&amp;lt;/a&amp;gt;\r\n\r\nIs `click()` not working because it acts on the href attribute that is now just &quot;#&quot; instead of the link definition?\r\nOr does HtmlUnit&#39;s language support for JavaScript (Mozilla Rhino) not execute the Javascript correctly to process the clicked link (meaning that I need to replace Rhino with something that does recognised the Javascript in a Google Sites Web page)?\r\nOr some other basic mistake I have made?\r\n\r\nI am lost, so any help much appreciated!!\r\n\r\n**UPDATE**\r\n\r\nI followed your suggestion, Rodney, and found that the issue was not logging off Google sites. Using HtmlUnit to click on the &#39;Sign Out&#39; link after clicking the link to execute the script, makes the script run OK. The only problem is it brings up the following error (which doesn&#39;t stop the script running):\r\n\r\n&gt; SEVERE: Job run failed with unexpected\r\n&gt; RuntimeException:  \r\n&gt; TypeError: Cannot\r\n&gt; set property &quot;innerHTML&quot; of null to\r\n&gt; &quot;Finished script: Finished script\r\n&gt; MyFunctionName&quot;\r\n\r\n**UPDATE 2**\r\n\r\nHave now solved this prob too. There was insufficient time to allow the script to complete before going on to sign-out. Adding this fixed it:\r\n\r\n    webClient.waitForBackgroundJavaScriptStartingBefore(5000);\r\n\r\nMany thanks for your help, Rodney - and Naveen for the good edit!\r\n","title":"How to run Google Apps script from HtmlUnit?","body":"<p>I have a link in a Google Sites page that runs a Google Apps script. It works fine when I manually click the link in Firefox.</p>\n\n<p>Everything seems to work OK when I do the same using HtmlUnit. With HtmlUnit I can sign in (have to be signed in when running Google Apps scripts), get to the Web page, identify the link and click it, but the script does not run.</p>\n\n<p>The guts of the code is straightforward:</p>\n\n<pre><code>WebClient webClient = new WebClient(BrowserVersion.FIREFOX_3_6);\nHtmlPage page = webClient.getPage(\"https://sites.google.com/site/mywebpage\");\nHtmlAnchor anchor = page.getAnchorByName(\"MyAnchor\");\nanchor.click();\n</code></pre>\n\n<p>So what is missing, or what I am doing wrong?</p>\n\n<p>I created the original link in the Web page with:</p>\n\n<pre><code>&amp;lt;a href=\"/macros/sites?action=run&amp;amp;lib=094bahv51120b3d65&amp;amp;funcName=MyFunctionName\" name=\"MyAnchor\"&amp;gt;Click here to run function&amp;lt;/a&amp;gt;\n</code></pre>\n\n<p>On saving the Web page edit, Google Sites automatically changed this to:</p>\n\n<pre><code>&amp;lt;a href=\"#\" name=\"MyAnchor\" class=\"apps-script-run-link\" id=\"ACiQKe2HyNeo..etc...01120b3d65#MyFunctionName\"&amp;gt;Click here to run function&amp;lt;/a&amp;gt;\n</code></pre>\n\n<p>Is <code>click()</code> not working because it acts on the href attribute that is now just \"#\" instead of the link definition?\nOr does HtmlUnit's language support for JavaScript (Mozilla Rhino) not execute the Javascript correctly to process the clicked link (meaning that I need to replace Rhino with something that does recognised the Javascript in a Google Sites Web page)?\nOr some other basic mistake I have made?</p>\n\n<p>I am lost, so any help much appreciated!!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I followed your suggestion, Rodney, and found that the issue was not logging off Google sites. Using HtmlUnit to click on the 'Sign Out' link after clicking the link to execute the script, makes the script run OK. The only problem is it brings up the following error (which doesn't stop the script running):</p>\n\n<blockquote>\n  <p>SEVERE: Job run failed with unexpected\n  RuntimeException:<br>\n  TypeError: Cannot\n  set property \"innerHTML\" of null to\n  \"Finished script: Finished script\n  MyFunctionName\"</p>\n</blockquote>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>Have now solved this prob too. There was insufficient time to allow the script to complete before going on to sign-out. Adding this fixed it:</p>\n\n<pre><code>webClient.waitForBackgroundJavaScriptStartingBefore(5000);\n</code></pre>\n\n<p>Many thanks for your help, Rodney - and Naveen for the good edit!</p>\n"},{"tags":["java","android","flutter","gradle","exoplayer"],"comments":[{"owner":{"account_id":17214308,"reputation":224,"user_id":12462739,"display_name":"santosh thapa"},"score":1,"creation_date":1643269346,"post_id":70695704,"comment_id":125295812,"body_markdown":"yeah i have the same issue,, but could fix till now.. Actually this error is due to flutter_zoom_sdk plugin","body":"yeah i have the same issue,, but could fix till now.. Actually this error is due to flutter_zoom_sdk plugin"}],"answers":[{"tags":[],"owner":{"account_id":20109683,"reputation":11,"user_id":14746330,"display_name":"Emmanuel Gonzalez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666300282,"creation_date":1666300282,"answer_id":74146358,"question_id":70695704,"body_markdown":"flutter_html: ^2.2.0 package is incompatible with flutter_zoom_sdk: ^1.0.0+1","title":"Flutter - Duplicate class found modules exoplayer","body":"<p>flutter_html: ^2.2.0 package is incompatible with flutter_zoom_sdk: ^1.0.0+1</p>\n"}],"owner":{"account_id":2008575,"reputation":1252,"user_id":2827591,"accept_rate":84,"display_name":"Achin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666300282,"creation_date":1642072797,"question_id":70695704,"body_markdown":"I am getting one error in my flutter project.\r\n\r\n    A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n       &gt; Duplicate class com.google.android.exoplayer2.ui.package-info found in modules jetified-exoplayer-common-2.14.1-runtime (com.google.android.exoplayer:exoplayer-common:2.14.1) and jetified-exoplayer-ui-2.12.3-runtime (com.google.android.exoplayer:exoplayer-ui:2.12.3)\r\n\r\npubspec.yaml\r\n\r\n    version: 1.0.0+1\r\n    \r\n    environment:\r\n      sdk: &quot;&gt;=2.12.0 &lt;3.0.0&quot;\r\n    \r\n    dependencies:\r\n      flutter:\r\n        sdk: flutter\r\n    \r\n      # The following adds the Cupertino Icons font to your application.\r\n      # Use with the CupertinoIcons class for iOS style icons.\r\n      \r\n    \r\n      cupertino_icons: ^1.0.2\r\n      shared_preferences: ^2.0.7\r\n      fluttertoast: ^8.0.8\r\n      cached_network_image: ^3.1.0\r\n      intl: ^0.17.0\r\n      smooth_page_indicator: ^1.0.0+2\r\n      dotted_line: ^3.1.0\r\n      flutter_rating_bar: ^4.0.0\r\n      event_bus: ^2.0.0\r\n      dio: ^4.0.4\r\n      connectivity_plus: ^2.0.3\r\n      package_info: ^2.0.2\r\n      device_info: ^2.0.3\r\n      hive: ^2.0.4\r\n      get_it: ^7.2.0\r\n      hive_flutter: ^1.1.0\r\n      ars_progress_dialog: ^0.0.1\r\n      url_launcher: ^6.0.10\r\n      image_picker: ^0.8.4+4\r\n      image_cropper: ^1.4.1\r\n      google_maps_flutter: ^2.1.1\r\n      geocoding: ^2.0.1\r\n      flutter_google_places: ^0.3.0\r\n      google_maps_webservice: ^0.0.19\r\n    #  geocoder: ^0.2.1\r\n      dotted_border: ^2.0.0\r\n      flutter_html: ^2.2.0\r\n      flutter_zoom_sdk: ^1.0.0+1\r\n    \r\n    \r\n    dev_dependencies:\r\n      flutter_test:\r\n        sdk: flutter\r\n\r\n\r\ni try to find some solution but nothing is working. Pls, anyone guide me.","title":"Flutter - Duplicate class found modules exoplayer","body":"<p>I am getting one error in my flutter project.</p>\n<pre><code>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class com.google.android.exoplayer2.ui.package-info found in modules jetified-exoplayer-common-2.14.1-runtime (com.google.android.exoplayer:exoplayer-common:2.14.1) and jetified-exoplayer-ui-2.12.3-runtime (com.google.android.exoplayer:exoplayer-ui:2.12.3)\n</code></pre>\n<p>pubspec.yaml</p>\n<pre><code>version: 1.0.0+1\n\nenvironment:\n  sdk: &quot;&gt;=2.12.0 &lt;3.0.0&quot;\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  \n\n  cupertino_icons: ^1.0.2\n  shared_preferences: ^2.0.7\n  fluttertoast: ^8.0.8\n  cached_network_image: ^3.1.0\n  intl: ^0.17.0\n  smooth_page_indicator: ^1.0.0+2\n  dotted_line: ^3.1.0\n  flutter_rating_bar: ^4.0.0\n  event_bus: ^2.0.0\n  dio: ^4.0.4\n  connectivity_plus: ^2.0.3\n  package_info: ^2.0.2\n  device_info: ^2.0.3\n  hive: ^2.0.4\n  get_it: ^7.2.0\n  hive_flutter: ^1.1.0\n  ars_progress_dialog: ^0.0.1\n  url_launcher: ^6.0.10\n  image_picker: ^0.8.4+4\n  image_cropper: ^1.4.1\n  google_maps_flutter: ^2.1.1\n  geocoding: ^2.0.1\n  flutter_google_places: ^0.3.0\n  google_maps_webservice: ^0.0.19\n#  geocoder: ^0.2.1\n  dotted_border: ^2.0.0\n  flutter_html: ^2.2.0\n  flutter_zoom_sdk: ^1.0.0+1\n\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n</code></pre>\n<p>i try to find some solution but nothing is working. Pls, anyone guide me.</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":2496504,"reputation":3612,"user_id":2172731,"accept_rate":67,"display_name":"Munish Chandel"},"score":0,"creation_date":1533745099,"post_id":51750199,"comment_id":90462456,"body_markdown":"possible duplicate of [how-to-create-request-with-parameters-with-webflux-webclient](https://stackoverflow.com/questions/48828603/how-to-create-request-with-parameters-with-webflux-webclient)","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/48828603/how-to-create-request-with-parameters-with-webflux-webclient\">how-to-create-request-with-parameters-with-webflux-webclient</a>"},{"owner":{"account_id":2496504,"reputation":3612,"user_id":2172731,"accept_rate":67,"display_name":"Munish Chandel"},"score":0,"creation_date":1533745166,"post_id":51750199,"comment_id":90462495,"body_markdown":"Do you mean **Request Parameters** here? \n`queryParam(&quot;name&quot;, &quot;spring-framework&quot;)`","body":"Do you mean <b>Request Parameters</b> here?  <code>queryParam(&quot;name&quot;, &quot;spring-framework&quot;)</code>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1533748413,"post_id":51750199,"comment_id":90464207,"body_markdown":"Yes, wrong post.","body":"Yes, wrong post."}],"answers":[{"comments":[{"owner":{"account_id":1008930,"reputation":2893,"user_id":1021943,"accept_rate":80,"display_name":"Priidu Neemre"},"score":5,"creation_date":1605283132,"post_id":51757493,"comment_id":114611504,"body_markdown":"Man, am I the only one who&#39;s really turned off by this new multi-tiered, deep-nesting syntax?","body":"Man, am I the only one who&#39;s really turned off by this new multi-tiered, deep-nesting syntax?"}],"tags":[],"owner":{"account_id":2496504,"reputation":3612,"user_id":2172731,"accept_rate":67,"display_name":"Munish Chandel"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1533776420,"creation_date":1533776420,"answer_id":51757493,"question_id":51750199,"body_markdown":"Does this work?\r\n\r\n    public Mono&lt;PaymentResponse&gt; execute(PaymentTransaction transaction, WebClient client) {\r\n            long conn = 1L;\r\n            int sec = 1232;\r\n    \r\n            Mono&lt;PaymentTransaction&gt; transactionMono = Mono.just(transaction);\r\n            return client.post()\r\n                    .uri(uriBuilder -&gt; uriBuilder.scheme(&quot;https&quot;).host(&quot;www.test.com&quot;)\r\n                            .path(&quot;notification&quot;)\r\n                            .queryParam(&quot;con&quot;, conn)\r\n                            .queryParam(&quot;sec&quot;, sec)\r\n                            .build())\r\n                    .accept(MediaType.APPLICATION_XML)\r\n                    .contentType(MediaType.APPLICATION_XML)\r\n                    .body(transactionMono, PaymentTransaction.class)\r\n                    .retrieve()\r\n                    .bodyToMono(PaymentResponse.class);\r\n        }","title":"Send Request Parameters in Spring Web client","body":"<p>Does this work?</p>\n\n<pre><code>public Mono&lt;PaymentResponse&gt; execute(PaymentTransaction transaction, WebClient client) {\n        long conn = 1L;\n        int sec = 1232;\n\n        Mono&lt;PaymentTransaction&gt; transactionMono = Mono.just(transaction);\n        return client.post()\n                .uri(uriBuilder -&gt; uriBuilder.scheme(\"https\").host(\"www.test.com\")\n                        .path(\"notification\")\n                        .queryParam(\"con\", conn)\n                        .queryParam(\"sec\", sec)\n                        .build())\n                .accept(MediaType.APPLICATION_XML)\n                .contentType(MediaType.APPLICATION_XML)\n                .body(transactionMono, PaymentTransaction.class)\n                .retrieve()\n                .bodyToMono(PaymentResponse.class);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666299720,"creation_date":1666299720,"answer_id":74146285,"question_id":51750199,"body_markdown":"This works for me \r\n\r\n    WebClient client;\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    public Mono&lt;Response&gt; execute(Transaction transaction) {\r\n    \r\n    \t\tMap&lt;String,String&gt; attributeMap = new HashMap&lt;&gt;();\r\n        attributeMap.put(&quot;some_key&quot;, &quot;some_value&quot;);\r\n    \r\n        Mono&lt;PaymentTransaction&gt; transactionMono = Mono.just(transaction);\r\n    \r\n        return client.post().uri(&quot;/notification&quot;, token)\r\n                    .accept(MediaType.APPLICATION_XML)\r\n                    .contentType(MediaType.APPLICATION_XML)\r\n                    .body(transactionMono, Transaction.class)\r\n                    .attributes(map -&gt; map.putAll(attributeMap))\r\n                    .retrieve()\r\n                    .bodyToMono(Response.class);\r\n    }","title":"Send Request Parameters in Spring Web client","body":"<p>This works for me</p>\n<pre><code>WebClient client;\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\npublic Mono&lt;Response&gt; execute(Transaction transaction) {\n\n        Map&lt;String,String&gt; attributeMap = new HashMap&lt;&gt;();\n    attributeMap.put(&quot;some_key&quot;, &quot;some_value&quot;);\n\n    Mono&lt;PaymentTransaction&gt; transactionMono = Mono.just(transaction);\n\n    return client.post().uri(&quot;/notification&quot;, token)\n                .accept(MediaType.APPLICATION_XML)\n                .contentType(MediaType.APPLICATION_XML)\n                .body(transactionMono, Transaction.class)\n                .attributes(map -&gt; map.putAll(attributeMap))\n                .retrieve()\n                .bodyToMono(Response.class);\n}\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6581,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51757493,"answer_count":2,"score":2,"last_activity_date":1666299720,"creation_date":1533741348,"question_id":51750199,"body_markdown":"I want to send link Request Parameters in Spring WebClient request link. For example:\r\n\r\nhttps://www.test.com/notification?con=41280440000097&amp;sec=1232\r\n\r\nI tried this code:\r\n\r\n    WebClient client;\r\n    \r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    \r\n    public Mono&lt;Response&gt; execute(Transaction transaction) {\r\n        \t\r\n        map.put(&quot;some_key&quot;, &quot;some_value&quot;);\r\n        \t\r\n        Mono&lt;PaymentTransaction&gt; transactionMono = Mono.just(transaction);\r\n\r\n        return client.post().uri(&quot;/notification&quot;, token)\r\n                    .accept(MediaType.APPLICATION_XML)\r\n                    .contentType(MediaType.APPLICATION_XML)\r\n                    .body(transactionMono, Transaction.class)\r\n                    .attributes(Consumer&lt;map&gt;)\r\n                    .retrieve()\r\n                    .bodyToMono(Response.class);\r\n    }\r\n\r\nBut when I try to set the map I get Syntax error on token `&quot;&gt;&quot;`, Expression expected after this \r\n\r\n\r\nWhat is the proper way to implement this without hardcoding the values into the address?","title":"Send Request Parameters in Spring Web client","body":"<p>I want to send link Request Parameters in Spring WebClient request link. For example:</p>\n\n<p><a href=\"https://www.test.com/notification?con=41280440000097&amp;sec=1232\" rel=\"nofollow noreferrer\">https://www.test.com/notification?con=41280440000097&amp;sec=1232</a></p>\n\n<p>I tried this code:</p>\n\n<pre><code>WebClient client;\n\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\npublic Mono&lt;Response&gt; execute(Transaction transaction) {\n\n    map.put(\"some_key\", \"some_value\");\n\n    Mono&lt;PaymentTransaction&gt; transactionMono = Mono.just(transaction);\n\n    return client.post().uri(\"/notification\", token)\n                .accept(MediaType.APPLICATION_XML)\n                .contentType(MediaType.APPLICATION_XML)\n                .body(transactionMono, Transaction.class)\n                .attributes(Consumer&lt;map&gt;)\n                .retrieve()\n                .bodyToMono(Response.class);\n}\n</code></pre>\n\n<p>But when I try to set the map I get Syntax error on token <code>\"&gt;\"</code>, Expression expected after this </p>\n\n<p>What is the proper way to implement this without hardcoding the values into the address?</p>\n"},{"tags":["java","servlets","embedded-jetty","servlet-3.0"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666299202,"creation_date":1666007937,"answer_id":74096918,"question_id":74070202,"body_markdown":"Empty string is for application root context.\r\n\r\nIt&#39;s a legacy / backwards compat feature.\r\n\r\nThe recommended declaration for root context is still `/`, and the returned string for application root context will always be `&quot;&quot;` (empty string).\r\n\r\nThat being said, this little bit of trivia about application root context isn&#39;t relevant to your issue at hand.\r\n\r\nYou are dealing with url-pattern, a different concept.\r\n\r\nThe url-pattern rules are applied after the request has matched an application root context.\r\n\r\nA url-pattern that has quotes is invalid.\r\n\r\nA url-pattern that is empty is pointless, as it will never match an incoming request and you&#39;ll never have a dispatched request sent to it.","title":"Empty String (&quot;&quot;) for URL mapping is not working in web.xml","body":"<p>Empty string is for application root context.</p>\n<p>It's a legacy / backwards compat feature.</p>\n<p>The recommended declaration for root context is still <code>/</code>, and the returned string for application root context will always be <code>&quot;&quot;</code> (empty string).</p>\n<p>That being said, this little bit of trivia about application root context isn't relevant to your issue at hand.</p>\n<p>You are dealing with url-pattern, a different concept.</p>\n<p>The url-pattern rules are applied after the request has matched an application root context.</p>\n<p>A url-pattern that has quotes is invalid.</p>\n<p>A url-pattern that is empty is pointless, as it will never match an incoming request and you'll never have a dispatched request sent to it.</p>\n"}],"owner":{"account_id":25462110,"reputation":23,"user_id":19261690,"display_name":"vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666299202,"creation_date":1665755013,"question_id":74070202,"body_markdown":"I&#39;m working on a requirement where I need to write the servlet to the context path of the application, according to servlet specification document empty string i.e. &quot;&quot; mapping should work for application root context. I have tried different combinations like \r\n```\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;Redirect&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;RedirectServlet&lt;/servlet-class&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;Redirect&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;Redirect&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;RedirectServlet&lt;/servlet-class&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;Redirect&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;&quot;&quot;&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n```\r\nthese are not working. Is there any other way to write the servlet for the context path\r\nfor path &quot;/&quot; there is a servlet already. Requirement is to write the servlet for context path ","title":"Empty String (&quot;&quot;) for URL mapping is not working in web.xml","body":"<p>I'm working on a requirement where I need to write the servlet to the context path of the application, according to servlet specification document empty string i.e. &quot;&quot; mapping should work for application root context. I have tried different combinations like</p>\n<pre><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;Redirect&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;RedirectServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Redirect&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Redirect&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;RedirectServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Redirect&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;&quot;&quot;&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<p>these are not working. Is there any other way to write the servlet for the context path\nfor path &quot;/&quot; there is a servlet already. Requirement is to write the servlet for context path</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666295088,"post_id":74145429,"comment_id":130909425,"body_markdown":"why &quot;without using return&quot;? Maybe you can use `if (...) { ... } else { ... }`","body":"why &quot;without using return&quot;? Maybe you can use <code>if (...) { ... } else { ... }</code>"},{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":1,"creation_date":1666295193,"post_id":74145429,"comment_id":130909459,"body_markdown":"`if (x) { y; return; } z;` is equivalent to `if (x) y; else z;`. Use this.","body":"<code>if (x) { y; return; } z;</code> is equivalent to <code>if (x) y; else z;</code>. Use this."}],"answers":[{"tags":[],"owner":{"account_id":26559927,"reputation":26,"user_id":20187924,"display_name":"sascha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666299129,"creation_date":1666299129,"answer_id":74146196,"question_id":74145429,"body_markdown":"As the comments below your question suggest, you can use a if-else-statement:\r\n\r\n    if (amount1 == -3) {\r\n        return;\r\n    } else {\r\n        // ...\r\n    }\r\n\r\nOr short:\r\n\r\n    if (amount1 == -3) {\r\n        return;\r\n    }\r\n\r\n    // ...\r\n\r\nBut this way you have a return, which you don&#39;t want if I understand you correctly. You can invert the logic and run your code only if the amount1 is not -3. This way there is no return-statement:\r\n\r\n    public static void main(String args[]) {\r\n\r\n        // ...\r\n\r\n        if (amount1 != -3) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nIf you asked for -3 as an example, here is the code if you want to skip if the amount is below or equals 0:\r\n\r\n        if (amount1 &gt; 0) { // One ore more baugettes available, shop is open\r\n            // ...\r\n        }\r\n\r\nTake your time to think about how if-statements work and how the condition(s) are evaluated. You can also nest if-statements:\r\n\r\n    if (1&gt;0) {\r\n        if (a==b) {\r\n        }\r\n    }\r\n\r\nThis way you can structure your algorithms in a neat way.  \r\n\r\n----\r\n\r\nBtw, you have a bug:\r\n\r\n    &quot;We have &quot; + price1 + &quot; baugette(s) available.&quot;\r\n\r\nmust be\r\n\r\n    &quot;We have &quot; + amount1 + &quot; baugette(s) available.&quot;\r\n\r\nConsider using meaningful names for your variables, e.g. amountBaugettesInStore. This way you don&#39;t mix them up so easily.","title":"How to stop this algorithm without using return;","body":"<p>As the comments below your question suggest, you can use a if-else-statement:</p>\n<pre><code>if (amount1 == -3) {\n    return;\n} else {\n    // ...\n}\n</code></pre>\n<p>Or short:</p>\n<pre><code>if (amount1 == -3) {\n    return;\n}\n\n// ...\n</code></pre>\n<p>But this way you have a return, which you don't want if I understand you correctly. You can invert the logic and run your code only if the amount1 is not -3. This way there is no return-statement:</p>\n<pre><code>public static void main(String args[]) {\n\n    // ...\n\n    if (amount1 != -3) {\n        // ...\n    }\n}\n</code></pre>\n<p>If you asked for -3 as an example, here is the code if you want to skip if the amount is below or equals 0:</p>\n<pre><code>    if (amount1 &gt; 0) { // One ore more baugettes available, shop is open\n        // ...\n    }\n</code></pre>\n<p>Take your time to think about how if-statements work and how the condition(s) are evaluated. You can also nest if-statements:</p>\n<pre><code>if (1&gt;0) {\n    if (a==b) {\n    }\n}\n</code></pre>\n<p>This way you can structure your algorithms in a neat way.</p>\n<hr />\n<p>Btw, you have a bug:</p>\n<pre><code>&quot;We have &quot; + price1 + &quot; baugette(s) available.&quot;\n</code></pre>\n<p>must be</p>\n<pre><code>&quot;We have &quot; + amount1 + &quot; baugette(s) available.&quot;\n</code></pre>\n<p>Consider using meaningful names for your variables, e.g. amountBaugettesInStore. This way you don't mix them up so easily.</p>\n"}],"owner":{"account_id":26685515,"reputation":1,"user_id":20294887,"display_name":"pissgon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1666299129,"creation_date":1666294437,"question_id":74145429,"body_markdown":"        import java.util.Scanner;\r\n    public class JavaClass {\r\n    public static void main(String args[]) {\r\n    \r\n    Scanner scan=new Scanner(System.in);\r\n    \r\n    System.out.println(&quot;Welcome to Baugette Store! &quot;);\r\n    \r\n    System.out.println(&quot;*****Bakery Inventory*****&quot;);\r\n    System.out.print(&quot;Enter amount of Baugette:&quot;);\r\n    int amount1=scan.nextInt();\r\n    if(amount1&lt;0) {\r\n    \tSystem.out.println(&quot;Error.&quot;);\r\n    \treturn;\r\n    }\r\n    System.out.print(&quot;Enter Price of Baugette:&quot;);\r\n    double price1=scan.nextDouble();\r\n    *if(price1&lt;0) {\r\n    \tSystem.out.println(&quot;Error.&quot;);\r\n    \treturn;\r\n    }\r\n    System.out.println(&quot;**Customer Interface**&quot;);\r\n    System.out.println(&quot;Welcome to our baugette store. &quot;);\r\n    System.out.println(&quot;We have &quot;+price1+ &quot; baugette(s) available.&quot;);\r\n    System.out.println(&quot;How Many Baugette(s) Do You Want to Buy?&quot;);\r\n    int amount2=scan.nextInt();\r\n    if(amount2&lt;=0) {\r\n    \tSystem.out.println(&quot;Error.&quot;);\r\n    return;\r\n    }\r\n    if(amount2&gt;amount1) {\r\n    \tSystem.out.println(&quot;Error.&quot;);\r\n    \treturn;\r\n    }\r\n    else {\r\n    System.out.println(&quot;You want to buy &quot;+amount2+ &quot; baugette(s).&quot;);\r\n    double totalcost,r;\r\n    totalcost=amount2*price1;\r\n    r=amount1-amount2;\r\n    System.out.println(&quot;Yours cost is &quot;+(int)totalcost+&quot; Turkish lira(s)&quot;);\r\n    System.out.println(&quot;Now, We have &quot;+(int)r+&quot; baugette(s) remaining.&quot;);\r\n    System.out.println(&quot;Thank you for shopping from Kolantro Baugette Shop today.&quot;);\r\n    System.out.println(&quot;Good bye :)&quot;);\r\n    }\r\n    }\r\n    }\r\nI want to learn how do i stop this algorithm without using return; for each if block. When I delete all return;s complier keeps reading codes. I want to execute when i type -3 for first if block Algorithm must be stopped without using return;.\r\n \r\n","title":"How to stop this algorithm without using return;","body":"<pre><code>    import java.util.Scanner;\npublic class JavaClass {\npublic static void main(String args[]) {\n\nScanner scan=new Scanner(System.in);\n\nSystem.out.println(&quot;Welcome to Baugette Store! &quot;);\n\nSystem.out.println(&quot;*****Bakery Inventory*****&quot;);\nSystem.out.print(&quot;Enter amount of Baugette:&quot;);\nint amount1=scan.nextInt();\nif(amount1&lt;0) {\n    System.out.println(&quot;Error.&quot;);\n    return;\n}\nSystem.out.print(&quot;Enter Price of Baugette:&quot;);\ndouble price1=scan.nextDouble();\n*if(price1&lt;0) {\n    System.out.println(&quot;Error.&quot;);\n    return;\n}\nSystem.out.println(&quot;**Customer Interface**&quot;);\nSystem.out.println(&quot;Welcome to our baugette store. &quot;);\nSystem.out.println(&quot;We have &quot;+price1+ &quot; baugette(s) available.&quot;);\nSystem.out.println(&quot;How Many Baugette(s) Do You Want to Buy?&quot;);\nint amount2=scan.nextInt();\nif(amount2&lt;=0) {\n    System.out.println(&quot;Error.&quot;);\nreturn;\n}\nif(amount2&gt;amount1) {\n    System.out.println(&quot;Error.&quot;);\n    return;\n}\nelse {\nSystem.out.println(&quot;You want to buy &quot;+amount2+ &quot; baugette(s).&quot;);\ndouble totalcost,r;\ntotalcost=amount2*price1;\nr=amount1-amount2;\nSystem.out.println(&quot;Yours cost is &quot;+(int)totalcost+&quot; Turkish lira(s)&quot;);\nSystem.out.println(&quot;Now, We have &quot;+(int)r+&quot; baugette(s) remaining.&quot;);\nSystem.out.println(&quot;Thank you for shopping from Kolantro Baugette Shop today.&quot;);\nSystem.out.println(&quot;Good bye :)&quot;);\n}\n}\n}\n</code></pre>\n<p>I want to learn how do i stop this algorithm without using return; for each if block. When I delete all return;s complier keeps reading codes. I want to execute when i type -3 for first if block Algorithm must be stopped without using return;.</p>\n"},{"tags":["java","mysql","datetime"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1666246581,"post_id":74135215,"comment_id":130891252,"body_markdown":"compare the value you get, with the format described in the error message. Can you spot the difference?","body":"compare the value you get, with the format described in the error message. Can you spot the difference?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666247358,"post_id":74135215,"comment_id":130891443,"body_markdown":"@Stultuske should that matter? code is using `Timestamp` not `String` to set the value into the statement","body":"@Stultuske should that matter? code is using <code>Timestamp</code> not <code>String</code> to set the value into the statement"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1666247394,"post_id":74135215,"comment_id":130891451,"body_markdown":"Indeed, this sounds like either a driver failure or possibly a &quot;way of configuring the driver&quot; issue.","body":"Indeed, this sounds like either a driver failure or possibly a &quot;way of configuring the driver&quot; issue."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1666247434,"post_id":74135215,"comment_id":130891459,"body_markdown":"maybe it would be helpful to see the the SQL statement! But I must agree with Jon, it is somehow *strange*","body":"maybe it would be helpful to see the the SQL statement! But I must agree with Jon, it is somehow <i>strange</i>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1666247674,"post_id":74135215,"comment_id":130891517,"body_markdown":"Is it possible that actually the problem is a different field? I agree it would be useful to see the SQL statement and the other values you&#39;re using in the insert statement.","body":"Is it possible that actually the problem is a different field? I agree it would be useful to see the SQL statement and the other values you&#39;re using in the insert statement."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666247932,"post_id":74135215,"comment_id":130891588,"body_markdown":"true, this is the 6th argument, we have at least 5 more - please include a [mre] in the question","body":"true, this is the 6th argument, we have at least 5 more - please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666253544,"post_id":74135215,"comment_id":130893545,"body_markdown":"Why are you calling `String.valueOf` on what you claim is a piece of text from CSV, and therefore already a `String` object?","body":"Why are you calling <code>String.valueOf</code> on what you claim is a piece of text from CSV, and therefore already a <code>String</code> object?"}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1666247355,"post_id":74135309,"comment_id":130891441,"body_markdown":"That format uses minutes twice and a 12-hour format. You can&#39;t just copy/paste a format from a server-side error message and expect it to be right for a platform-specific formatting pattern. I&#39;d also *really* hope that there&#39;s support for this without explicit string formatting...","body":"That format uses minutes twice and a 12-hour format. You can&#39;t just copy/paste a format from a server-side error message and expect it to be right for a platform-specific formatting pattern. I&#39;d also <i>really</i> hope that there&#39;s support for this without explicit string formatting..."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666310741,"post_id":74135309,"comment_id":130912895,"body_markdown":"The recommendations by @user16320675 are very good, and I will just add: yes, all of that *is* possible.","body":"The recommendations by @user16320675 are very good, and I will just add: yes, all of that <i>is</i> possible."}],"tags":[],"owner":{"account_id":18368156,"reputation":303,"user_id":13378772,"display_name":"Aman Mehta"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1666247213,"creation_date":1666247213,"answer_id":74135309,"question_id":74135215,"body_markdown":"Use **SimpleDateFormat** class to format your date object in the required format i.e ```yyyy-mm-dd hh:mm:ss``` in your case.\r\n\r\nBelow is the code to format date using **SimpleDateFormat** class - \r\n\r\n```\r\nDateTime yourCsvDate;  //assuming your csv date to be this.\r\nSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm:ss&quot;);\r\nsimpleDateFormat.format(yourCsvDate);\r\n```","title":"Unable to insert DateTime value to MySQL DB using Java. getting error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff]","body":"<p>Use <strong>SimpleDateFormat</strong> class to format your date object in the required format i.e <code>yyyy-mm-dd hh:mm:ss</code> in your case.</p>\n<p>Below is the code to format date using <strong>SimpleDateFormat</strong> class -</p>\n<pre><code>DateTime yourCsvDate;  //assuming your csv date to be this.\nSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-mm-dd hh:mm:ss&quot;);\nsimpleDateFormat.format(yourCsvDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666298871,"creation_date":1666252529,"answer_id":74136262,"question_id":74135215,"body_markdown":"# tl;dr\r\n\r\nYou said: \r\n\r\n&gt;how to convert &#39;created&#39; to Datetime and set it to prepared Statement?\r\n\r\n```java\r\nmyPreparedStatement.setObject( \r\n    … , \r\n    LocalDateTime.parse( \r\n        &quot;07/07/10 08:08&quot; , \r\n        DateTimeFormatter.ofPattern( &quot;dd/MM/uu HH:mm&quot; ) \r\n    ) \r\n)\r\n```\r\n\r\n\r\n# Avoid legacy date-time classes\r\n\r\nYou are using terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Avoid using `Calendar`, either `Date`, `Timestamp`, `SimpleDateFormat`, etc.\r\n\r\n# ISO 8601\r\n\r\nI suggest educating the publisher of your data about the virtues in following the ISO 8601 standard for textual representations of date-time values. \r\n\r\nThe *java.time* classes use the standard [ISO 8601][1] formats by default when parsing/generating text.\r\n\r\nThe standard format for a date with time but no offset or time zone: YYYY-MM-DD&#39;T&#39;HH:MM.\r\n\r\n# *java.time*\r\n\r\nParse your input as a [`LocalDateTime`][2] object.\r\n\r\nDefine a formatting pattern to match your input, using [`DateTimeFormatter`][3] class. \r\n\r\n    String input = &quot;07/07/10 08:08&quot; ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uu HH:mm&quot; ) ;\r\n    LocalDateTime ldt = LocalDateTime.parse( input , f ) ;\r\n\r\nSee this [code run at Ideone.com][4].\r\n\r\n&gt;ldt.toString(): 2010-07-07T08:08\r\n\r\nWrite to your [`DATETIME`][5] column in MySQL.\r\n\r\n    myPreparedStatement.setObject( … , ldt ) ;\r\n\r\nRetrieve.\r\n\r\n    LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n\r\n\r\n----------\r\n\r\n\r\nAll this has been covered many times on Stack Overflow. Search to learn more.\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [4]: https://ideone.com/LauJXu\r\n  [5]: https://dev.mysql.com/doc/refman/8.0/en/datetime.html","title":"Unable to insert DateTime value to MySQL DB using Java. getting error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff]","body":"<h1>tl;dr</h1>\n<p>You said:</p>\n<blockquote>\n<p>how to convert 'created' to Datetime and set it to prepared Statement?</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>myPreparedStatement.setObject( \n    … , \n    LocalDateTime.parse( \n        &quot;07/07/10 08:08&quot; , \n        DateTimeFormatter.ofPattern( &quot;dd/MM/uu HH:mm&quot; ) \n    ) \n)\n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>You are using terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Avoid using <code>Calendar</code>, either <code>Date</code>, <code>Timestamp</code>, <code>SimpleDateFormat</code>, etc.</p>\n<h1>ISO 8601</h1>\n<p>I suggest educating the publisher of your data about the virtues in following the ISO 8601 standard for textual representations of date-time values.</p>\n<p>The <em>java.time</em> classes use the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats by default when parsing/generating text.</p>\n<p>The standard format for a date with time but no offset or time zone: YYYY-MM-DD'T'HH:MM.</p>\n<h1><em>java.time</em></h1>\n<p>Parse your input as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> object.</p>\n<p>Define a formatting pattern to match your input, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> class.</p>\n<pre><code>String input = &quot;07/07/10 08:08&quot; ;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd/MM/uu HH:mm&quot; ) ;\nLocalDateTime ldt = LocalDateTime.parse( input , f ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/LauJXu\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>ldt.toString(): 2010-07-07T08:08</p>\n</blockquote>\n<p>Write to your <a href=\"https://dev.mysql.com/doc/refman/8.0/en/datetime.html\" rel=\"nofollow noreferrer\"><code>DATETIME</code></a> column in MySQL.</p>\n<pre><code>myPreparedStatement.setObject( … , ldt ) ;\n</code></pre>\n<p>Retrieve.</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\n</code></pre>\n<hr />\n<p>All this has been covered many times on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":24522084,"reputation":1,"user_id":18434972,"display_name":"user18434972"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666298871,"creation_date":1666246531,"question_id":74135215,"body_markdown":"I am writing code to insert values from CSV files to MySQL DB. one of the SQL columns is DateTime. \r\nI get the value created from CSV and its this: 07/07/10 08:08\r\n\r\n```\r\nTimestamp sqlTimestampCreated = Timestamp.valueOf(String.valueOf(created));\r\nstatement.setTimestamp(6, sqlTimestampCreated);\r\n```\r\n\r\nhow to convert &#39;created&#39; to Datetime and set it to prepared Statement?","title":"Unable to insert DateTime value to MySQL DB using Java. getting error Timestamp format must be yyyy-mm-dd hh:mm:ss[.fffffffff]","body":"<p>I am writing code to insert values from CSV files to MySQL DB. one of the SQL columns is DateTime.\nI get the value created from CSV and its this: 07/07/10 08:08</p>\n<pre><code>Timestamp sqlTimestampCreated = Timestamp.valueOf(String.valueOf(created));\nstatement.setTimestamp(6, sqlTimestampCreated);\n</code></pre>\n<p>how to convert 'created' to Datetime and set it to prepared Statement?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"score":0,"creation_date":1666257906,"post_id":74137354,"comment_id":130895213,"body_markdown":"Does this answer your question? [regular expression to find the longest recurring character sequence in a line](https://stackoverflow.com/questions/4335678/regular-expression-to-find-the-longest-recurring-character-sequence-in-a-line)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4335678/regular-expression-to-find-the-longest-recurring-character-sequence-in-a-line\">regular expression to find the longest recurring character sequence in a line</a>"},{"owner":{"account_id":26410684,"reputation":51,"user_id":20059818,"display_name":"Dennis H&#246;hl"},"score":1,"creation_date":1666258284,"post_id":74137354,"comment_id":130895365,"body_markdown":"Well, if I understand correctly than an approach with regular expressions will not be better or worse then the programmatic approach","body":"Well, if I understand correctly than an approach with regular expressions will not be better or worse then the programmatic approach"}],"answers":[{"comments":[{"owner":{"account_id":26410684,"reputation":51,"user_id":20059818,"display_name":"Dennis H&#246;hl"},"score":0,"creation_date":1666260749,"post_id":74137522,"comment_id":130896311,"body_markdown":"This is useful. I did not know that matcher knows about start and end offsets. Nice. Thank you. Learned something new","body":"This is useful. I did not know that matcher knows about start and end offsets. Nice. Thank you. Learned something new"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666258657,"creation_date":1666258249,"answer_id":74137522,"question_id":74137354,"body_markdown":"Use methods of class `Matcher`.\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String args[]) {\r\n        String str = &quot;#*****~~~~~~**************~~~~~~~~***************************#&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;\\\\*+&quot;);\r\n        Matcher matcher = pattern.matcher(str);\r\n        int max = 0;\r\n        while (matcher.find()) {\r\n            int length = matcher.end() - matcher.start();\r\n            if (length &gt; max) {\r\n                max = length;\r\n            }\r\n        }\r\n        System.out.println(max);\r\n    }\r\n}\r\n```\r\nThe regular expression searches for occurrences of one or more asterisk (`*`) characters.\r\n \r\nMethod `end` returns the index of the first character **after** the last character matched and method `start` returns the index of the first character matched. Hence the length is simply the value returned by method `end` minus the value returned by method `start`.\r\n\r\nEach subsequent call to method `find` starts searching from the end of the previous match.\r\n\r\nThe only thing left is to get the longest string of asterisks.","title":"Find the longest section of repeating characters","body":"<p>Use methods of class <code>Matcher</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Solution {\n\n    public static void main(String args[]) {\n        String str = &quot;#*****~~~~~~**************~~~~~~~~***************************#&quot;;\n        Pattern pattern = Pattern.compile(&quot;\\\\*+&quot;);\n        Matcher matcher = pattern.matcher(str);\n        int max = 0;\n        while (matcher.find()) {\n            int length = matcher.end() - matcher.start();\n            if (length &gt; max) {\n                max = length;\n            }\n        }\n        System.out.println(max);\n    }\n}\n</code></pre>\n<p>The regular expression searches for occurrences of one or more asterisk (<code>*</code>) characters.</p>\n<p>Method <code>end</code> returns the index of the first character <strong>after</strong> the last character matched and method <code>start</code> returns the index of the first character matched. Hence the length is simply the value returned by method <code>end</code> minus the value returned by method <code>start</code>.</p>\n<p>Each subsequent call to method <code>find</code> starts searching from the end of the previous match.</p>\n<p>The only thing left is to get the longest string of asterisks.</p>\n"},{"comments":[{"owner":{"account_id":26410684,"reputation":51,"user_id":20059818,"display_name":"Dennis H&#246;hl"},"score":0,"creation_date":1666267194,"post_id":74138138,"comment_id":130898629,"body_markdown":"Okay, I simply used `Pattern.compile(&quot;\\\\*+&quot;.replace(&#39;*&#39;, token))`  to avoid the hardcoded part. But I see, using streams is definetly elegant. I like that you also provided the iterative performant solution but this part of code is not called very often so the more maintainable code is better. I will use the stream version you suggested. That looks really smooth","body":"Okay, I simply used <code>Pattern.compile(&quot;\\\\*+&quot;.replace(&#39;*&#39;, token))</code>  to avoid the hardcoded part. But I see, using streams is definetly elegant. I like that you also provided the iterative performant solution but this part of code is not called very often so the more maintainable code is better. I will use the stream version you suggested. That looks really smooth"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666266524,"creation_date":1666260697,"answer_id":74138138,"question_id":74137354,"body_markdown":"# Regex-based solution\r\n\r\nIf you don&#39;t want to **hardcode** a specific character like `*` and find *&quot;Find the longest section of repeating characters&quot;* as the title of the question states, then the proper *regular expression* for the section of repeated characters would be:\r\n\r\n```\r\n&quot;(.)\\\\1*&quot;\r\n```\r\n\r\nWhere `(.)` a group that consists from of a single character, and `\\\\1` is a [backreference](https://www.regular-expressions.info/backref.html) that refers to that group. `*` is greedy [quantifier](https://docs.oracle.com/javase/tutorial/essential/regex/quant.html), which means that presiding backreference could be repeated zero or more times.\r\n\r\nFinally, `&quot;(.)\\\\1*&quot;` captures a sequence of subsequent identical characters.\r\n\r\nNow to use it, we need to compile the regex into `Pattern`. This action has a cost, hence if the regex would be used multiple times it would be wise to declare a constant:\r\n\r\n```\r\npublic static final Pattern REPEATED_CHARACTER_SECTION = \r\n    Pattern.compile(&quot;(.)\\\\1*&quot;);\r\n```\r\n\r\nUsing features of modern Java, the longest sequence that matches the above pattern could be found literally with a single line of code.\r\n\r\nSince Java 9 we have method [`Matcher.results()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()) which return a stream of [`MatchResult`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html) objects, describe a matching group.\r\n\r\n[`MatchResult.start()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#start()) [`MatchResult.end()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#end()) expose the way of accessing start and end indices of the group. To extract the group itself, we need to invoke [`MatchResult.group()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#group(int)).\r\n\r\nThat how an implementation might look like:\r\n\r\n    public static void printLongestRepeatedSection(String str) {\r\n        \r\n        String longestSection = REPEATED_CHARACTER_SECTION.matcher(str).results() // Stream&lt;MatchResult&gt;\r\n            .map(MatchResult::group)                                              // Stream&lt;String&gt;\r\n            .max(Comparator.comparingInt(String::length))                         // find the longest string in the stream\r\n            .orElse(&quot;&quot;); // or orElseThrow() if you don&#39;t want to allow an empty string to be received as an input\r\n        \r\n        System.out.println(&quot;Longest section:\\t&quot; + longestSection);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void printLongestRepeatedSection(String str) {\r\n    \r\n        MatchResult longestSection = REPEATED_CHARACTER_SECTION.matcher(str).results() // Stream&lt;MatchResult&gt;\r\n            .max(Comparator.comparingInt(m -&gt; m.group().length()))                     // find the longest string in the stream\r\n            .orElseThrow(); // would throw an exception is an empty string was received as an input\r\n    \r\n        System.out.println(&quot;Section start:   &quot; + longestSection.start());\r\n        System.out.println(&quot;Section end:     &quot; + longestSection.end());\r\n        System.out.println(&quot;Longest section: &quot; + longestSection.group());\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nSection start:   34\r\nSection end:     61\r\nLongest section: ***************************\r\n```\r\n***Links:***\r\n\r\n* &lt;sup&gt;Official tutorials on [Lambda expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) and [Stream API](https://docs.oracle.com/javase/tutorial/collections/streams/index.html) provided by Oracle&lt;/sup&gt;\r\n\r\n* &lt;sup&gt;A quick tutorial on [Regular expressions](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html)&lt;/sup&gt;\r\n\r\n# Simple and Performant Iterative solution\r\n\r\nYou can do it without regular expressions by manually iterating over the indices of the given string and checking if the previous character matches the current one.\r\n\r\nYou just need to maintain a couple of variables denoting the start and the end of the longest previously encountered section, and a variable to store the starting index of the section that is being currently examined.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static void printLongestRepeatedSection(String str) {\r\n        if (str.isEmpty()) throw new IllegalArgumentException();\r\n    \r\n        int maxStart = 0;\r\n        int maxEnd = 1;\r\n        \r\n        int curStart = 0;\r\n    \r\n        for (int i = 1; i &lt; str.length(); i++) {\r\n            if (str.charAt(i) != str.charAt(i - 1)) {   // current and previous characters are not equal\r\n                if (maxEnd - maxStart &lt; i - curStart) { // current repeated section is longer then the maximum section discovered previously\r\n                    maxStart = curStart;\r\n                    maxEnd = i;\r\n                }\r\n                curStart = i;\r\n            }\r\n        }\r\n        \r\n        if (str.length() - curStart &gt; maxEnd - maxStart) { // checking the very last section\r\n            maxStart = curStart;\r\n            maxEnd = str.length();\r\n        }\r\n    \r\n        System.out.println(&quot;Section start: &quot; + maxStart);\r\n        System.out.println(&quot;Section end:   &quot; + maxEnd);\r\n        System.out.println(&quot;Section:   &quot; + str.substring(maxStart,  maxEnd));\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        String source = &quot;#*****~~~~~~**************~~~~~~~~***************************#&quot;;\r\n        \r\n        printLongestRepeatedSection(source);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nSection start: 34\r\nSection end:   61\r\nSection:   ***************************\r\n```","title":"Find the longest section of repeating characters","body":"<h1>Regex-based solution</h1>\n<p>If you don't want to <strong>hardcode</strong> a specific character like <code>*</code> and find <em>&quot;Find the longest section of repeating characters&quot;</em> as the title of the question states, then the proper <em>regular expression</em> for the section of repeated characters would be:</p>\n<pre><code>&quot;(.)\\\\1*&quot;\n</code></pre>\n<p>Where <code>(.)</code> a group that consists from of a single character, and <code>\\\\1</code> is a <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">backreference</a> that refers to that group. <code>*</code> is greedy <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/quant.html\" rel=\"nofollow noreferrer\">quantifier</a>, which means that presiding backreference could be repeated zero or more times.</p>\n<p>Finally, <code>&quot;(.)\\\\1*&quot;</code> captures a sequence of subsequent identical characters.</p>\n<p>Now to use it, we need to compile the regex into <code>Pattern</code>. This action has a cost, hence if the regex would be used multiple times it would be wise to declare a constant:</p>\n<pre><code>public static final Pattern REPEATED_CHARACTER_SECTION = \n    Pattern.compile(&quot;(.)\\\\1*&quot;);\n</code></pre>\n<p>Using features of modern Java, the longest sequence that matches the above pattern could be found literally with a single line of code.</p>\n<p>Since Java 9 we have method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a> which return a stream of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html\" rel=\"nofollow noreferrer\"><code>MatchResult</code></a> objects, describe a matching group.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#start()\" rel=\"nofollow noreferrer\"><code>MatchResult.start()</code></a> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#end()\" rel=\"nofollow noreferrer\"><code>MatchResult.end()</code></a> expose the way of accessing start and end indices of the group. To extract the group itself, we need to invoke <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#group(int)\" rel=\"nofollow noreferrer\"><code>MatchResult.group()</code></a>.</p>\n<p>That how an implementation might look like:</p>\n<pre><code>public static void printLongestRepeatedSection(String str) {\n    \n    String longestSection = REPEATED_CHARACTER_SECTION.matcher(str).results() // Stream&lt;MatchResult&gt;\n        .map(MatchResult::group)                                              // Stream&lt;String&gt;\n        .max(Comparator.comparingInt(String::length))                         // find the longest string in the stream\n        .orElse(&quot;&quot;); // or orElseThrow() if you don't want to allow an empty string to be received as an input\n    \n    System.out.println(&quot;Longest section:\\t&quot; + longestSection);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void printLongestRepeatedSection(String str) {\n\n    MatchResult longestSection = REPEATED_CHARACTER_SECTION.matcher(str).results() // Stream&lt;MatchResult&gt;\n        .max(Comparator.comparingInt(m -&gt; m.group().length()))                     // find the longest string in the stream\n        .orElseThrow(); // would throw an exception is an empty string was received as an input\n\n    System.out.println(&quot;Section start:   &quot; + longestSection.start());\n    System.out.println(&quot;Section end:     &quot; + longestSection.end());\n    System.out.println(&quot;Longest section: &quot; + longestSection.group());\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Section start:   34\nSection end:     61\nLongest section: ***************************\n</code></pre>\n<p><em><strong>Links:</strong></em></p>\n<ul>\n<li><p><sup>Official tutorials on <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda expressions</a> and <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">Stream API</a> provided by Oracle</sup></p>\n</li>\n<li><p><sup>A quick tutorial on <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">Regular expressions</a></sup></p>\n</li>\n</ul>\n<h1>Simple and Performant Iterative solution</h1>\n<p>You can do it without regular expressions by manually iterating over the indices of the given string and checking if the previous character matches the current one.</p>\n<p>You just need to maintain a couple of variables denoting the start and the end of the longest previously encountered section, and a variable to store the starting index of the section that is being currently examined.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public static void printLongestRepeatedSection(String str) {\n    if (str.isEmpty()) throw new IllegalArgumentException();\n\n    int maxStart = 0;\n    int maxEnd = 1;\n    \n    int curStart = 0;\n\n    for (int i = 1; i &lt; str.length(); i++) {\n        if (str.charAt(i) != str.charAt(i - 1)) {   // current and previous characters are not equal\n            if (maxEnd - maxStart &lt; i - curStart) { // current repeated section is longer then the maximum section discovered previously\n                maxStart = curStart;\n                maxEnd = i;\n            }\n            curStart = i;\n        }\n    }\n    \n    if (str.length() - curStart &gt; maxEnd - maxStart) { // checking the very last section\n        maxStart = curStart;\n        maxEnd = str.length();\n    }\n\n    System.out.println(&quot;Section start: &quot; + maxStart);\n    System.out.println(&quot;Section end:   &quot; + maxEnd);\n    System.out.println(&quot;Section:   &quot; + str.substring(maxStart,  maxEnd));\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    String source = &quot;#*****~~~~~~**************~~~~~~~~***************************#&quot;;\n    \n    printLongestRepeatedSection(source);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Section start: 34\nSection end:   61\nSection:   ***************************\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666265693,"creation_date":1666265693,"answer_id":74139194,"question_id":74137354,"body_markdown":"The solution based on the regular expression may use some features from Stream API to get an array of indexes of the longest sequence of a given character:\r\n* `Pattern.quote` should be used to safely wrap the input character for the search within a regular expression\r\n* `Stream&lt;MatchResult&gt;` returned by [`Matcher::results`](https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#results--) provides necessary information about the start and end of the match\r\n* [`Stream::max`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-) allows to select the longest matching sequence\r\n* `Optional::map` and `Optional::orElseGet` help convert the match into the desired array of indexes\r\n```java\r\npublic static int[] getIndexes(char c, String str) {\r\n    return Pattern.compile(Pattern.quote(Character.toString(c)) + &quot;+&quot;)\r\n        .matcher(str)\r\n        .results()\r\n        .max(Comparator.comparing(mr -&gt; mr.end() - mr.start()))\r\n        .map(mr -&gt; new int[]{mr.start(), mr.end()})\r\n        .orElseGet(() -&gt; new int[]{-1, -1});\r\n}\r\n\r\n// Test:\r\nSystem.out.println(Arrays.toString(getIndexes(&#39;*&#39;, &quot;#*****~~~~~~**************~~~~~~~~***************************#&quot;)));\r\n// -&gt; [34, 61]\r\n```","title":"Find the longest section of repeating characters","body":"<p>The solution based on the regular expression may use some features from Stream API to get an array of indexes of the longest sequence of a given character:</p>\n<ul>\n<li><code>Pattern.quote</code> should be used to safely wrap the input character for the search within a regular expression</li>\n<li><code>Stream&lt;MatchResult&gt;</code> returned by <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#results--\" rel=\"nofollow noreferrer\"><code>Matcher::results</code></a> provides necessary information about the start and end of the match</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Stream::max</code></a> allows to select the longest matching sequence</li>\n<li><code>Optional::map</code> and <code>Optional::orElseGet</code> help convert the match into the desired array of indexes</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] getIndexes(char c, String str) {\n    return Pattern.compile(Pattern.quote(Character.toString(c)) + &quot;+&quot;)\n        .matcher(str)\n        .results()\n        .max(Comparator.comparing(mr -&gt; mr.end() - mr.start()))\n        .map(mr -&gt; new int[]{mr.start(), mr.end()})\n        .orElseGet(() -&gt; new int[]{-1, -1});\n}\n\n// Test:\nSystem.out.println(Arrays.toString(getIndexes('*', &quot;#*****~~~~~~**************~~~~~~~~***************************#&quot;)));\n// -&gt; [34, 61]\n</code></pre>\n"}],"owner":{"account_id":26410684,"reputation":51,"user_id":20059818,"display_name":"Dennis H&#246;hl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74138138,"answer_count":3,"score":2,"last_activity_date":1666298689,"creation_date":1666257534,"question_id":74137354,"body_markdown":"Imagine a string like this:\r\n\r\n`#*****~~~~~~**************~~~~~~~~***************************#`\r\n\r\nI am looking for an elegant way to find the indices of the longest continues section that contains a specific character. Let&#39;s assume we are searching for the `*` character, then I expect the method to return the start and end index of the last long section of `*`.\r\n\r\nI am looking for the elegant way, I know I could just bruteforce this by checking something like\r\n\r\n    indexOf(*)\r\n    lastIndexOf(*)\r\n    //Check if in between the indices is something else if so, remember length start from new \r\n    //substring and repeat until lastIndex reached\r\n    //Return saved indices\r\n\r\nThis is so ugly brute-force - Any more elegant way of doing this? I thought about regular expression groups and comparing their length. But how to get the indices with that?\r\n\r\n","title":"Find the longest section of repeating characters","body":"<p>Imagine a string like this:</p>\n<p><code>#*****~~~~~~**************~~~~~~~~***************************#</code></p>\n<p>I am looking for an elegant way to find the indices of the longest continues section that contains a specific character. Let's assume we are searching for the <code>*</code> character, then I expect the method to return the start and end index of the last long section of <code>*</code>.</p>\n<p>I am looking for the elegant way, I know I could just bruteforce this by checking something like</p>\n<pre><code>indexOf(*)\nlastIndexOf(*)\n//Check if in between the indices is something else if so, remember length start from new \n//substring and repeat until lastIndex reached\n//Return saved indices\n</code></pre>\n<p>This is so ugly brute-force - Any more elegant way of doing this? I thought about regular expression groups and comparing their length. But how to get the indices with that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":4,"creation_date":1329573174,"post_id":9341740,"comment_id":11791141,"body_markdown":"In 1.6, `ArrayList.isEmpty` is implemented as `return return size == 0;`.","body":"In 1.6, <code>ArrayList.isEmpty</code> is implemented as <code>return return size == 0;</code>."}],"answers":[{"comments":[{"owner":{"account_id":109321,"reputation":106,"user_id":289723,"display_name":"YRH"},"score":0,"creation_date":1329573664,"post_id":9341765,"comment_id":11791242,"body_markdown":"Exactly. Also, look it up in the javadoc. Some implementations call size() from isEmpty() anyway.","body":"Exactly. Also, look it up in the javadoc. Some implementations call size() from isEmpty() anyway."}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1666298544,"creation_date":1329573111,"answer_id":9341765,"question_id":9341740,"body_markdown":"No, there&#39;s no reason. `isEmpty()` expresses the intent more clearly, and should be preferred. PMD even has [a rule][1] for that. It doesn&#39;t matter much, though.\r\n\r\n\r\n  [1]: \r\nhttps://pmd.github.io/latest/pmd_rules_java_bestpractices.html#usecollectionisempty","title":"if(listStr.size == 0){ versus if(listStr.isEmpty()){","body":"<p>No, there's no reason. <code>isEmpty()</code> expresses the intent more clearly, and should be preferred. PMD even has <a href=\"https://pmd.github.io/latest/pmd_rules_java_bestpractices.html#usecollectionisempty\" rel=\"nofollow noreferrer\">a rule</a> for that. It doesn't matter much, though.</p>\n"},{"comments":[{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":2,"creation_date":1345648629,"post_id":9341835,"comment_id":16132231,"body_markdown":"Nice answer, just one comment: LinkedList&#39;s implementation of size() doesn&#39;t traverse the list, but rather keeps track of size as new elements are added or removed. Therefore, LinkedLists&#39; performance of size() versus isEmpty() (which they inherit from AbstractCollection) do not differ at all. With that said, I agree that there might be data structures that have slower implementations of size() than isEmpty() but a reasonable implementation wouldn&#39;t.. Also, I believe you could also mention the DRY principle in here as a checking if size() == 0 is already done for you in most isEmpty() methods.","body":"Nice answer, just one comment: LinkedList&#39;s implementation of size() doesn&#39;t traverse the list, but rather keeps track of size as new elements are added or removed. Therefore, LinkedLists&#39; performance of size() versus isEmpty() (which they inherit from AbstractCollection) do not differ at all. With that said, I agree that there might be data structures that have slower implementations of size() than isEmpty() but a reasonable implementation wouldn&#39;t.. Also, I believe you could also mention the DRY principle in here as a checking if size() == 0 is already done for you in most isEmpty() methods."}],"tags":[],"owner":{"account_id":150684,"reputation":8170,"user_id":364056,"accept_rate":78,"display_name":"enzom83"},"comment_count":1,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1329574410,"creation_date":1329573688,"answer_id":9341835,"question_id":9341740,"body_markdown":"The answers to [this question][1] could give you the answer. Basically, in implementations of some lists the method `isEmpty()` checks if the size is zero (and therefore from the point of view of performance they are practically equivalent). In other types of lists (for example the linked lists), however, counting items require more time than to check if it is empty or not.\r\n\r\nFor this reason it is always convenient to use the method `isEmpty()` to check if a list is empty. The reasons for which such a method is provided in all types of lists are also related to the interface, since `ArrayList`, `Vector` and `LinkedList` implement the same `List` interface: [this interface][2] has the `isEmpty()` method; then, each specific type of list provides its implementation of `isEmpty()` method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1508975/why-is-list-size0-slower-than-list-isempty-in-java\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/List.html","title":"if(listStr.size == 0){ versus if(listStr.isEmpty()){","body":"<p>The answers to <a href=\"https://stackoverflow.com/questions/1508975/why-is-list-size0-slower-than-list-isempty-in-java\">this question</a> could give you the answer. Basically, in implementations of some lists the method <code>isEmpty()</code> checks if the size is zero (and therefore from the point of view of performance they are practically equivalent). In other types of lists (for example the linked lists), however, counting items require more time than to check if it is empty or not.</p>\n\n<p>For this reason it is always convenient to use the method <code>isEmpty()</code> to check if a list is empty. The reasons for which such a method is provided in all types of lists are also related to the interface, since <code>ArrayList</code>, <code>Vector</code> and <code>LinkedList</code> implement the same <code>List</code> interface: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html\" rel=\"noreferrer\">this interface</a> has the <code>isEmpty()</code> method; then, each specific type of list provides its implementation of <code>isEmpty()</code> method.</p>\n"},{"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1329574189,"post_id":9341866,"comment_id":11791334,"body_markdown":"I don&#39;t see why isEmpty would always be O(1) (but I agree that isEmpty() should always be at least as fast as size()). It could very well depend on the data structure as well. I&#39;m not aware of any standard collection where size is O(n). Is there one?","body":"I don&#39;t see why isEmpty would always be O(1) (but I agree that isEmpty() should always be at least as fast as size()). It could very well depend on the data structure as well. I&#39;m not aware of any standard collection where size is O(n). Is there one?"},{"owner":{"account_id":451281,"reputation":5499,"user_id":847099,"accept_rate":100,"display_name":"Julian Fondren"},"score":1,"creation_date":1329576196,"post_id":9341866,"comment_id":11791710,"body_markdown":"Please attempt to imagine one.  Any structure with a sentinel - a C string, an array of pointers terminated by NULL, a list of cells terminated by nil.  All of these can underly a hybrid type that caches the length, but that isn&#39;t free.  ConcurrentLinkedQueue","body":"Please attempt to imagine one.  Any structure with a sentinel - a C string, an array of pointers terminated by NULL, a list of cells terminated by nil.  All of these can underly a hybrid type that caches the length, but that isn&#39;t free.  ConcurrentLinkedQueue"}],"tags":[],"owner":{"account_id":451281,"reputation":5499,"user_id":847099,"accept_rate":100,"display_name":"Julian Fondren"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1456918883,"creation_date":1329573913,"answer_id":9341866,"question_id":9341740,"body_markdown":"`.size()` can be O(1) or O(N), depending on the data structure; `.isEmpty()` is never O(N).","title":"if(listStr.size == 0){ versus if(listStr.isEmpty()){","body":"<p><code>.size()</code> can be O(1) or O(N), depending on the data structure; <code>.isEmpty()</code> is never O(N).</p>\n"},{"tags":[],"owner":{"account_id":3498075,"reputation":4844,"user_id":4102299,"accept_rate":48,"display_name":"visc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646279018,"creation_date":1646279018,"answer_id":71331896,"question_id":9341740,"body_markdown":"While `isEmpty()` may express the intent better as JB Nizet suggests. If you are an old school programer, your style may lean towards expressions like `.size() &gt; 0` etc. So if the answer can be an opinion on ones intent, the answer can also be do what your muscle memory tells you.\r\n \r\nIn many cases `size()` and `isEmpty` are virtually the same as others have said. And if you are going to write software you don&#39;t want to optimize prematurely. I think the curiosity is justified in the question, but to be effective / efficient, code the way thats natural for you if optimal performance isn&#39;t critical. Dwelling on these subtle behaviors could actually waste your development time.","title":"if(listStr.size == 0){ versus if(listStr.isEmpty()){","body":"<p>While <code>isEmpty()</code> may express the intent better as JB Nizet suggests. If you are an old school programer, your style may lean towards expressions like <code>.size() &gt; 0</code> etc. So if the answer can be an opinion on ones intent, the answer can also be do what your muscle memory tells you.</p>\n<p>In many cases <code>size()</code> and <code>isEmpty</code> are virtually the same as others have said. And if you are going to write software you don't want to optimize prematurely. I think the curiosity is justified in the question, but to be effective / efficient, code the way thats natural for you if optimal performance isn't critical. Dwelling on these subtle behaviors could actually waste your development time.</p>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29059,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":9341835,"answer_count":4,"score":36,"last_activity_date":1666298544,"creation_date":1329572902,"question_id":9341740,"body_markdown":"    List&lt;String&gt; listStr = new ArrayList&lt;String&gt;();\r\n\r\n    if(listStr.size == 0){\r\n        \r\n    }\r\n\r\nversus\r\n\r\n    if(listStr.isEmpty()){\r\n    \r\n    }\r\n\r\nIn my view one of the benefits of using `listStr.isEmpty()` is that it doesn&#39;t check the size of the list and then compares it to zero, it just checks if the list is empty. Are there any other advantages as I often see `if(listStr.size == 0)` instead of `if(listStr.isEmpty())` in codebases? Is there is a reason it&#39;s checked this way that I am not aware of?","title":"if(listStr.size == 0){ versus if(listStr.isEmpty()){","body":"<pre><code>List&lt;String&gt; listStr = new ArrayList&lt;String&gt;();\n\nif(listStr.size == 0){\n\n}\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>if(listStr.isEmpty()){\n\n}\n</code></pre>\n\n<p>In my view one of the benefits of using <code>listStr.isEmpty()</code> is that it doesn't check the size of the list and then compares it to zero, it just checks if the list is empty. Are there any other advantages as I often see <code>if(listStr.size == 0)</code> instead of <code>if(listStr.isEmpty())</code> in codebases? Is there is a reason it's checked this way that I am not aware of?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666296894,"post_id":74117071,"comment_id":130909955,"body_markdown":"Related and similar: [How do I get an Instant object with the timestamp 48962-08-06T23:16:59.000Z in Java](https://stackoverflow.com/questions/63843844/how-do-i-get-an-instant-object-with-the-timestamp-48962-08-06t231659-000z-in-j)","body":"Related and similar: <a href=\"https://stackoverflow.com/questions/63843844/how-do-i-get-an-instant-object-with-the-timestamp-48962-08-06t231659-000z-in-j\">How do I get an Instant object with the timestamp 48962-08-06T23:16:59.000Z in Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":15769918,"reputation":45,"user_id":11379260,"display_name":"blue mountain"},"score":0,"creation_date":1666127075,"post_id":74117165,"comment_id":130861210,"body_markdown":"one question though does not this time &quot;2007-12-03T10:15:30.000Z&quot; mean it is in UTC time zone (because it has Z in it?)","body":"one question though does not this time &quot;2007-12-03T10:15:30.000Z&quot; mean it is in UTC time zone (because it has Z in it?)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666127377,"post_id":74117165,"comment_id":130861286,"body_markdown":"@bluemountain Yes, the `Z` means an offset from UTC of zero. But UTC is not really a time zone. UTC is the temporal prime meridian that defines the offsets used by time zones.","body":"@bluemountain Yes, the <code>Z</code> means an offset from UTC of zero. But UTC is not really a time zone. UTC is the temporal prime meridian that defines the offsets used by time zones."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666127865,"post_id":74117165,"comment_id":130861398,"body_markdown":"@user16320675 See the terminology section I added.","body":"@user16320675 See the terminology section I added."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666130323,"post_id":74117165,"comment_id":130861971,"body_markdown":"@user16320675 Yes. And as the point in time defining the offsets of time zones, UTC is a temporal prime meridian, the point at which all other time is kept. (Well, much time is kept, but not all. Other meridians exist, such as a point in Paris used by some French protocols.) In brief, UTC is the new GMT.","body":"@user16320675 Yes. And as the point in time defining the offsets of time zones, UTC is a temporal prime meridian, the point at which all other time is kept. (Well, much time is kept, but not all. Other meridians exist, such as a point in Paris used by some French protocols.) In brief, UTC is the new GMT."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666133184,"post_id":74117165,"comment_id":130862536,"body_markdown":"@user16320675 No, UTC is not a line drawn on the globe. You keep missing my use of the adjective *temporal*, a &quot;temporal prime meridian&quot;. Programmers writing business apps really don&#39;t care about atomic clocks, leap seconds, navigation, and the BIPM. That&#39;s my audience here, not engineers doing rocket science with GPS/Galileo systems.","body":"@user16320675 No, UTC is not a line drawn on the globe. You keep missing my use of the adjective <i>temporal</i>, a &quot;temporal prime meridian&quot;. Programmers writing business apps really don&#39;t care about atomic clocks, leap seconds, navigation, and the BIPM. That&#39;s my audience here, not engineers doing rocket science with GPS/Galileo systems."},{"owner":{"account_id":15769918,"reputation":45,"user_id":11379260,"display_name":"blue mountain"},"score":0,"creation_date":1666207837,"post_id":74117165,"comment_id":130883914,"body_markdown":"&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot; did not work, however when I try &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot; it was able to recognize the current zone of the input and was able to parse the date time 2007-12-03T10:15:30.000Z. thank you all for the help.","body":"&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot; did not work, however when I try &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot; it was able to recognize the current zone of the input and was able to parse the date time 2007-12-03T10:15:30.000Z. thank you all for the help."},{"owner":{"account_id":15769918,"reputation":45,"user_id":11379260,"display_name":"blue mountain"},"score":1,"creation_date":1666208131,"post_id":74117165,"comment_id":130884014,"body_markdown":"the main learning is NOT to use &#39;Z&#39; while parsing date time, try to use the letters from this table (like yyyy) https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html to really preserve the zone information while parsing.","body":"the main learning is NOT to use &#39;Z&#39; while parsing date time, try to use the letters from this table (like yyyy) <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ti&zwnj;&#8203;me/&hellip;</a> to really preserve the zone information while parsing."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666128405,"creation_date":1666125331,"answer_id":74117165,"question_id":74117071,"body_markdown":"**Never put quote marks around the `Z`** in a date-time formatting pattern. \r\n\r\n# `Z` means `+00:00`\r\n\r\nThe `Z` is a standard abbreviation for an offset of zero. Pronounced “Zulu” per aviation/military convention. \r\n\r\nYuor quotes treat the `Z` as meaningless string literal, preventing semantic interpretation. The `Z` carries vital information, meaning “an offset from UTC of zero hours-minutes-seconds”. But your `&#39;Z&#39;` parsing pattern ignores that info. \r\n\r\nThis: \r\n\r\n    &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;\r\n\r\n… should be:\r\n\r\n    &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;\r\n\r\nBy ignoring that offset, the JVM’s current default time zone is applied implicitly when you parsed as a `ZonedDateTime`. Hence your correct but unexpected results. \r\n\r\n# `Instant`, not `ZonedDateTime`\r\n\r\nYour input has no indication of time zone. So `ZonedDateTime` is not called for here. \r\n\r\nInstead, parse as an `Instant`.\r\n\r\n    Instant.parse( &quot;2007-12-03T10:15:30.000Z&quot; ) \r\n\r\nIf you want to see that moment through the lens of a particular time zone, apply a `ZoneId` to get a `ZonedDateTime`. Same moment, different wall-clock time. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/New_York&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\n# Terminology\r\n\r\nQuick review of terms:\r\n\r\n- **UTC** is the temporal prime meridian. In the old days this was the time kept at the [Royal Observatory in Greenwich, London][1]. \r\n- An **offset** is merely a number of hours-minutes-seconds ahead or behind UTC.\r\n- A **time zone** is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Royal_Observatory%2C_Greenwich","title":"Issue with parsing date time using ZonedDateTime and DateTimeFormatter","body":"<p><strong>Never put quote marks around the <code>Z</code></strong> in a date-time formatting pattern.</p>\n<h1><code>Z</code> means <code>+00:00</code></h1>\n<p>The <code>Z</code> is a standard abbreviation for an offset of zero. Pronounced “Zulu” per aviation/military convention.</p>\n<p>Yuor quotes treat the <code>Z</code> as meaningless string literal, preventing semantic interpretation. The <code>Z</code> carries vital information, meaning “an offset from UTC of zero hours-minutes-seconds”. But your <code>'Z'</code> parsing pattern ignores that info.</p>\n<p>This:</p>\n<pre><code>&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;\n</code></pre>\n<p>… should be:</p>\n<pre><code>&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;\n</code></pre>\n<p>By ignoring that offset, the JVM’s current default time zone is applied implicitly when you parsed as a <code>ZonedDateTime</code>. Hence your correct but unexpected results.</p>\n<h1><code>Instant</code>, not <code>ZonedDateTime</code></h1>\n<p>Your input has no indication of time zone. So <code>ZonedDateTime</code> is not called for here.</p>\n<p>Instead, parse as an <code>Instant</code>.</p>\n<pre><code>Instant.parse( &quot;2007-12-03T10:15:30.000Z&quot; ) \n</code></pre>\n<p>If you want to see that moment through the lens of a particular time zone, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>. Same moment, different wall-clock time.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/New_York&quot; ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<h1>Terminology</h1>\n<p>Quick review of terms:</p>\n<ul>\n<li><strong>UTC</strong> is the temporal prime meridian. In the old days this was the time kept at the <a href=\"https://en.wikipedia.org/wiki/Royal_Observatory%2C_Greenwich\" rel=\"nofollow noreferrer\">Royal Observatory in Greenwich, London</a>.</li>\n<li>An <strong>offset</strong> is merely a number of hours-minutes-seconds ahead or behind UTC.</li>\n<li>A <strong>time zone</strong> is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.</li>\n</ul>\n"}],"owner":{"account_id":15769918,"reputation":45,"user_id":11379260,"display_name":"blue mountain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74117165,"answer_count":1,"score":2,"last_activity_date":1666297131,"creation_date":1666124873,"question_id":74117071,"body_markdown":"I am having two different results from these two blocks even though the input date/time to parse is the same\r\n\r\n    public class DateTimeFormatterUtilsTest \r\n    {\r\n    \tprivate static final String ISO_DATETIME_PATTERN = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;;;\r\n    \tprivate static final String ISO_DATETIME_TO_PARSE = &quot;2007-12-03T10:15:30.000Z&quot;;\r\n    \tprivate static final long TARGET_EPOCH_TIME = 1196676930000L;\r\n    \r\n    \t@Test\r\n    \tpublic void testDateTimeFormatterUtils()  \r\n    \t{\r\n    \t\tZoneId targetZoneid = TimeUtils.getZoneId(TIMEZONE.PST);\t\r\n    \t\t\r\n    \t\tDateTimeFormatter formatter =  DateTimeFormatter.ISO_INSTANT.withZone(targetZoneid);\r\n    \t\tlong epochTime = parseDateTime(ISO_DATETIME_TO_PARSE, formatter);\t\t\r\n    \t\tassertTrue(epochTime == TARGET_EPOCH_TIME);\r\n    \t\t\r\n    \t\t\r\n    \t\t// specify custom pattern\t\t\r\n    \t\tDateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(ISO_DATETIME_PATTERN).withZone(targetZoneid);\r\n    \t\tepochTime = parseDateTime(ISO_DATETIME_TO_PARSE, formatter1);\r\n    \t\tassertTrue(epochTime == TARGET_EPOCH_TIME);\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic long parseDateTime(final String dateTimeString, DateTimeFormatter formatter)\r\n    \t{\r\n    \t\tZonedDateTime zonedDateTime = ZonedDateTime.parse(dateTimeString, formatter);\r\n    \t\tSystem.out.println(&quot;parsed zoned date time&quot; + zonedDateTime);\r\n    \t\t\r\n    \t\tInstant instant = zonedDateTime.toInstant();\r\n    \t\tlong epochTime = instant.toEpochMilli();\r\n    \t\tSystem.out.println(&quot;Epoch time for&quot; + ISO_DATETIME_TO_PARSE + &quot;is &quot; + epochTime);\r\n    \t\treturn epochTime;\r\n    \t}\t\r\n    }\r\n\r\nWhen I am using  DateTimeFormatter.ISO_INSTANT I get the correct epoch time which is 1196676930000, however, when I am usin the .ofPattern method to create the DateTimeFormatter I am getting 1196705730000. Not sure why?\r\n\r\nAs you can see, the difference is 28 800 000 milliseconds or exactly 8 hours.","title":"Issue with parsing date time using ZonedDateTime and DateTimeFormatter","body":"<p>I am having two different results from these two blocks even though the input date/time to parse is the same</p>\n<pre><code>public class DateTimeFormatterUtilsTest \n{\n    private static final String ISO_DATETIME_PATTERN = &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;;;\n    private static final String ISO_DATETIME_TO_PARSE = &quot;2007-12-03T10:15:30.000Z&quot;;\n    private static final long TARGET_EPOCH_TIME = 1196676930000L;\n\n    @Test\n    public void testDateTimeFormatterUtils()  \n    {\n        ZoneId targetZoneid = TimeUtils.getZoneId(TIMEZONE.PST);    \n        \n        DateTimeFormatter formatter =  DateTimeFormatter.ISO_INSTANT.withZone(targetZoneid);\n        long epochTime = parseDateTime(ISO_DATETIME_TO_PARSE, formatter);       \n        assertTrue(epochTime == TARGET_EPOCH_TIME);\n        \n        \n        // specify custom pattern       \n        DateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(ISO_DATETIME_PATTERN).withZone(targetZoneid);\n        epochTime = parseDateTime(ISO_DATETIME_TO_PARSE, formatter1);\n        assertTrue(epochTime == TARGET_EPOCH_TIME);\n\n    }\n    \n    public long parseDateTime(final String dateTimeString, DateTimeFormatter formatter)\n    {\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(dateTimeString, formatter);\n        System.out.println(&quot;parsed zoned date time&quot; + zonedDateTime);\n        \n        Instant instant = zonedDateTime.toInstant();\n        long epochTime = instant.toEpochMilli();\n        System.out.println(&quot;Epoch time for&quot; + ISO_DATETIME_TO_PARSE + &quot;is &quot; + epochTime);\n        return epochTime;\n    }   \n}\n</code></pre>\n<p>When I am using  DateTimeFormatter.ISO_INSTANT I get the correct epoch time which is 1196676930000, however, when I am usin the .ofPattern method to create the DateTimeFormatter I am getting 1196705730000. Not sure why?</p>\n<p>As you can see, the difference is 28 800 000 milliseconds or exactly 8 hours.</p>\n"},{"tags":["java","validation","bean-validation"],"comments":[{"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"score":1,"creation_date":1440149628,"post_id":32136962,"comment_id":52164158,"body_markdown":"Just write a custom validator.","body":"Just write a custom validator."}],"answers":[{"tags":[],"owner":{"account_id":1419488,"reputation":2745,"user_id":1344424,"accept_rate":41,"display_name":"Teocali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666296848,"creation_date":1440400786,"answer_id":32176497,"question_id":32136962,"body_markdown":"I Find a workaround : I first validate the parent Bean then I validate each ChildBean separatively and for each error found, I add it to the set of errors of the ParentBean, updating the path in the process \r\n\r\n    public Errors validateParentBean(ParentBean parentBean) {\r\n\t\t//We create the errors list for the parent bean. \r\n\t\tDefaultMessageContext msgContext = new DefaultMessageContext();\r\n\t\tprivate MessageCodesResolver messageCodesResolver = new DefaultMessageCodesResolver();\r\n\t\tMessageContextErrors parentBeanErrors = new MessageContextErrors(msgContext, &quot;parentBean&quot;, null, null, messageCodesResolver, null);\r\n\r\n\t\tList&lt;ChildBean&gt; childBeanList = parentBean.getChildBeans();\r\n\r\n\r\n\t\t//for each childBean\r\n\t\tfor (int childBeanIndex = 0; childBeanIndex &lt; childBeanList.size(); childBeanIndex++) {\r\n\t\t\tChildBean ChildBean = childBeanList.get(childBeanIndex);\r\n\t\t\t//we validate the bean. In this method we do the conditional validation itself\r\n\t\t\tMessageContextErrors childBeanErrors = validateChildBean(ChildBean);\r\n\t\t\t//for each error\r\n\t\t\tfor (int errorIndex = 0; errorIndex &lt; childBeanErrors.getFieldErrors().size(); errorIndex++) {\r\n\t\t\t\t//we &quot;pull&quot; it up, to the parentBean, updating the path in the way\r\n\t\t\t\tFieldError fieldError = (FieldError) childBeanErrors.getFieldErrors().get(errorIndex);\r\n\t\t\t\tparentBeanErrors.rejectValue(&quot;childBeans[&quot; + childBeanIndex + &quot;].&quot;+fieldError.getField(), fieldError.getCode());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nI didn&#39;t provide the code for the method `validateChildBean` as it is quite trivial, but don&#39;t hesitate to ask it in comments, I will be happy to oblige :)","title":"How to do conditional validation of bean in a list field","body":"<p>I Find a workaround : I first validate the parent Bean then I validate each ChildBean separatively and for each error found, I add it to the set of errors of the ParentBean, updating the path in the process</p>\n<pre><code>public Errors validateParentBean(ParentBean parentBean) {\n    //We create the errors list for the parent bean. \n    DefaultMessageContext msgContext = new DefaultMessageContext();\n    private MessageCodesResolver messageCodesResolver = new DefaultMessageCodesResolver();\n    MessageContextErrors parentBeanErrors = new MessageContextErrors(msgContext, &quot;parentBean&quot;, null, null, messageCodesResolver, null);\n\n    List&lt;ChildBean&gt; childBeanList = parentBean.getChildBeans();\n\n\n    //for each childBean\n    for (int childBeanIndex = 0; childBeanIndex &lt; childBeanList.size(); childBeanIndex++) {\n        ChildBean ChildBean = childBeanList.get(childBeanIndex);\n        //we validate the bean. In this method we do the conditional validation itself\n        MessageContextErrors childBeanErrors = validateChildBean(ChildBean);\n        //for each error\n        for (int errorIndex = 0; errorIndex &lt; childBeanErrors.getFieldErrors().size(); errorIndex++) {\n            //we &quot;pull&quot; it up, to the parentBean, updating the path in the way\n            FieldError fieldError = (FieldError) childBeanErrors.getFieldErrors().get(errorIndex);\n            parentBeanErrors.rejectValue(&quot;childBeans[&quot; + childBeanIndex + &quot;].&quot;+fieldError.getField(), fieldError.getCode());\n        }\n    }\n}\n</code></pre>\n<p>I didn't provide the code for the method <code>validateChildBean</code> as it is quite trivial, but don't hesitate to ask it in comments, I will be happy to oblige :)</p>\n"}],"owner":{"account_id":1419488,"reputation":2745,"user_id":1344424,"accept_rate":41,"display_name":"Teocali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32176497,"answer_count":1,"score":0,"last_activity_date":1666296865,"creation_date":1440149341,"question_id":32136962,"body_markdown":"Conditional validation of bean in a list field.\r\n\r\nI have a little problem with bean validation. I would like to do a conditional validation, but the validated class have as a field a list of bean which must be also validated, and some of these bean&#39;s fields must be conditionally validated. \r\n\r\nHere is my code :\r\n\r\n\r\n    public class ParentBean {\r\n    \r\n        @Valid\r\n        private List&lt;ChildBean&gt; childBeans;\r\n    \r\n    }\r\n\r\n    public class ChildBean {\r\n    \r\n        boolean flag;\r\n    \r\n        @NotNull(condition=&quot;flag&quot;)\r\n        String mustNotBeNullFlagTrue;\r\n    \r\n        String cannotBeNull();\r\n    }\r\n\r\n\r\nI could do a loop on the child beans and validate each child separitively but the path in  the errors would be wrong\r\n\r\nAddittionnaly, I could use a solution like this one : https://stackoverflow.com/questions/1972933/cross-field-validation-with-hibernate-validator-jsr-303 but it seems to mess up with the path associated to the error...\r\n","title":"How to do conditional validation of bean in a list field","body":"<p>Conditional validation of bean in a list field.</p>\n<p>I have a little problem with bean validation. I would like to do a conditional validation, but the validated class have as a field a list of bean which must be also validated, and some of these bean's fields must be conditionally validated.</p>\n<p>Here is my code :</p>\n<pre><code>public class ParentBean {\n\n    @Valid\n    private List&lt;ChildBean&gt; childBeans;\n\n}\n\npublic class ChildBean {\n\n    boolean flag;\n\n    @NotNull(condition=&quot;flag&quot;)\n    String mustNotBeNullFlagTrue;\n\n    String cannotBeNull();\n}\n</code></pre>\n<p>I could do a loop on the child beans and validate each child separitively but the path in  the errors would be wrong</p>\n<p>Addittionnaly, I could use a solution like this one : <a href=\"https://stackoverflow.com/questions/1972933/cross-field-validation-with-hibernate-validator-jsr-303\">Cross field validation with Hibernate Validator (JSR 303)</a> but it seems to mess up with the path associated to the error...</p>\n"},{"tags":["java","jwt"],"answers":[{"tags":[],"owner":{"account_id":4170591,"reputation":519,"user_id":3418440,"display_name":"RogerParkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666296591,"creation_date":1666296591,"answer_id":74145784,"question_id":74001668,"body_markdown":"I worked out the answer using [Baeldung][1] but I did have to add some value of my own. Here&#39;s the solution:\r\n\r\n    DecodedJWT jwt = JWT.decode(token);\r\n    URL url = new\r\n    JwkProvider provider = new JwkProviderBuilder(jwksUrl)\r\n      .build();\r\n     Jwk jwk = provider.get(jwt.getKeyId());\r\n    SignatureAlgorithm sa = SignatureAlgorithm\r\n      .forName(jwt.getAlgorithm());\r\n    DefaultJwtSignatureValidator validator = \r\n      new DefaultJwtSignatureValidator(sa, jwk.getPublicKey());\r\n    if (!validator.isValid(jwt.getHeader()+&quot;.&quot;+jwt.getPayload(), jwt.getSignature())) {\r\n        throw new Exception(&quot;Could not verify JWT token integrity!&quot;);\r\n    }\r\n\r\nTo make this work I had to add jjwt to my dependencies:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n      &lt;version&gt;0.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe `.forName()` call means that it handles different algorithms, depending on what `alg` is specified in the JWT.\r\n\r\n  [1]: https://www.baeldung.com/java-jwt-token-decode","title":"Why do I get SignatureVerificationException when trying to validate a JWT with PS256?","body":"<p>I worked out the answer using <a href=\"https://www.baeldung.com/java-jwt-token-decode\" rel=\"nofollow noreferrer\">Baeldung</a> but I did have to add some value of my own. Here's the solution:</p>\n<pre><code>DecodedJWT jwt = JWT.decode(token);\nURL url = new\nJwkProvider provider = new JwkProviderBuilder(jwksUrl)\n  .build();\n Jwk jwk = provider.get(jwt.getKeyId());\nSignatureAlgorithm sa = SignatureAlgorithm\n  .forName(jwt.getAlgorithm());\nDefaultJwtSignatureValidator validator = \n  new DefaultJwtSignatureValidator(sa, jwk.getPublicKey());\nif (!validator.isValid(jwt.getHeader()+&quot;.&quot;+jwt.getPayload(), jwt.getSignature())) {\n    throw new Exception(&quot;Could not verify JWT token integrity!&quot;);\n}\n</code></pre>\n<p>To make this work I had to add jjwt to my dependencies:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n  &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n  &lt;version&gt;0.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The <code>.forName()</code> call means that it handles different algorithms, depending on what <code>alg</code> is specified in the JWT.</p>\n"}],"owner":{"account_id":4170591,"reputation":519,"user_id":3418440,"display_name":"RogerParkinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666296591,"creation_date":1665280847,"question_id":74001668,"body_markdown":"I&#39;m trying to verify a signature on a JWT. This is (part of) my code:\r\n\r\n```\r\nDecodedJWT jwt = JWT.decode(token);\r\n...\r\nJwkProvider provider = new JwkProviderBuilder(jwksUrl).build();\r\nJwk jwk = provider.get(jwt.getKeyId());\t\t\t\r\nAlgorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\r\nalgorithm.verify(jwt);\r\n```\r\nand I just get this error:\r\n\r\n```\r\ncom.auth0.jwt.exceptions.SignatureVerificationException: The Token&#39;s Signature resulted invalid when verified using the Algorithm: SHA256withRSA\r\n```\r\n\r\nHowever I can see in the jwt the algorithm shows as PS256 rather than RSA256. Is this the problem? How can I get this to verify the JWT? There isn&#39;t an enum option for PS256 on Algorithm.  saw somewhere that it might be RSASSA-PS but I don&#39;t see an option for that either\r\n\r\nMore info: The JWT is passed to me in an odd way by an external provider, it isn&#39;t just a bearer token in an HTTP header so I need to do this myself rather than relying on a framework to handle it. \r\nI&#39;m using Java 17.\r\nRelevant dependencies:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;0.21.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n","title":"Why do I get SignatureVerificationException when trying to validate a JWT with PS256?","body":"<p>I'm trying to verify a signature on a JWT. This is (part of) my code:</p>\n<pre><code>DecodedJWT jwt = JWT.decode(token);\n...\nJwkProvider provider = new JwkProviderBuilder(jwksUrl).build();\nJwk jwk = provider.get(jwt.getKeyId());         \nAlgorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\nalgorithm.verify(jwt);\n</code></pre>\n<p>and I just get this error:</p>\n<pre><code>com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: SHA256withRSA\n</code></pre>\n<p>However I can see in the jwt the algorithm shows as PS256 rather than RSA256. Is this the problem? How can I get this to verify the JWT? There isn't an enum option for PS256 on Algorithm.  saw somewhere that it might be RSASSA-PS but I don't see an option for that either</p>\n<p>More info: The JWT is passed to me in an odd way by an external provider, it isn't just a bearer token in an HTTP header so I need to do this myself rather than relying on a framework to handle it.\nI'm using Java 17.\nRelevant dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n          &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n          &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n          &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n          &lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\n          &lt;version&gt;0.21.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":["javascript","java","datetime"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1666054204,"post_id":74104540,"comment_id":130839604,"body_markdown":"https://www.britannica.com/story/ten-days-that-vanished-the-switch-to-the-gregorian-calendar","body":"<a href=\"https://www.britannica.com/story/ten-days-that-vanished-the-switch-to-the-gregorian-calendar\" rel=\"nofollow noreferrer\">britannica.com/story/&hellip;</a>"},{"owner":{"account_id":8235075,"reputation":85,"user_id":6194577,"accept_rate":100,"display_name":"Logan L."},"score":0,"creation_date":1666057142,"post_id":74104540,"comment_id":130840063,"body_markdown":"Ah, thanks for the answer. Unfortunately, I didn&#39;t have something like that pop up in my searches.","body":"Ah, thanks for the answer. Unfortunately, I didn&#39;t have something like that pop up in my searches."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1666296618,"post_id":74104540,"comment_id":130909877,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `TimeZone`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `Instant` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). Also never hardcode `Z` as a literal in your format pattern string. It’s an offset and needs to be parsed as an offset.","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>TimeZone</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>Instant</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Also never hardcode <code>Z</code> as a literal in your format pattern string. It’s an offset and needs to be parsed as an offset."},{"owner":{"account_id":8235075,"reputation":85,"user_id":6194577,"accept_rate":100,"display_name":"Logan L."},"score":0,"creation_date":1666384296,"post_id":74104540,"comment_id":130932871,"body_markdown":"Agreed, I would love to I&#39;m working within an outdated system talking to Spark 2.4.4 though and it doesn&#39;t like the newer date formats. Hopefully upgrading soon and can move to the newer formats.","body":"Agreed, I would love to I&#39;m working within an outdated system talking to Spark 2.4.4 though and it doesn&#39;t like the newer date formats. Hopefully upgrading soon and can move to the newer formats."}],"owner":{"account_id":8235075,"reputation":85,"user_id":6194577,"accept_rate":100,"display_name":"Logan L."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1666296349,"answer_count":0,"score":0,"last_activity_date":1666296443,"creation_date":1666053625,"question_id":74104540,"body_markdown":"Converting a string date in Java like so:\r\n\r\n    val sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;, Locale.getDefault)\r\n    sdf.setTimeZone(TimeZone.getDefault)\r\n    sdf.setLenient(false)\r\n    sdf.parse(&quot;1581-01-01T05:51:00Z&quot;).getTime\r\n    \r\nwhich produces: -12274711740000\r\n\r\nIn javascript taking that timestamp and converting back to a string date like so:\r\n\r\n    var now = moment.unix(-12274711740).utc().format(&#39;YYYY-MM-DD hh:mm:ss.SSS&#39;);\r\n\r\nproduces: &quot;1581-01-11 01:51:00.000&quot;\r\n\r\nThe date expected is &quot;1581-01-01 01:51:00.000&quot;, 10 days off.\r\n\r\nWhat is odd is if it is any year after 1581 the date will come out correct. And any year before 1582 will be some number of days off (it can vary).\r\n\r\nWhat is causing this discrepancy?","title":"Java Date unix timestamp not matching JavaScript Date unix timestamp","body":"<p>Converting a string date in Java like so:</p>\n<pre><code>val sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;, Locale.getDefault)\nsdf.setTimeZone(TimeZone.getDefault)\nsdf.setLenient(false)\nsdf.parse(&quot;1581-01-01T05:51:00Z&quot;).getTime\n</code></pre>\n<p>which produces: -12274711740000</p>\n<p>In javascript taking that timestamp and converting back to a string date like so:</p>\n<pre><code>var now = moment.unix(-12274711740).utc().format('YYYY-MM-DD hh:mm:ss.SSS');\n</code></pre>\n<p>produces: &quot;1581-01-11 01:51:00.000&quot;</p>\n<p>The date expected is &quot;1581-01-01 01:51:00.000&quot;, 10 days off.</p>\n<p>What is odd is if it is any year after 1581 the date will come out correct. And any year before 1582 will be some number of days off (it can vary).</p>\n<p>What is causing this discrepancy?</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":3051872,"reputation":1457,"user_id":2725196,"accept_rate":36,"display_name":"vinay Maneti"},"score":0,"creation_date":1504080474,"post_id":45955054,"comment_id":78868126,"body_markdown":"https://stackoverflow.com/questions/27077507/android-how-to-only-allow-a-certain-number-of-decimal-places this might be helpful","body":"<a href=\"https://stackoverflow.com/questions/27077507/android-how-to-only-allow-a-certain-number-of-decimal-places\" title=\"android how to only allow a certain number of decimal places\">stackoverflow.com/questions/27077507/&hellip;</a> this might be helpful"}],"answers":[{"comments":[{"owner":{"account_id":8541488,"reputation":887,"user_id":6401457,"accept_rate":48,"display_name":"Naografix"},"score":0,"creation_date":1504082020,"post_id":45955445,"comment_id":78869032,"body_markdown":"Ok thanks, we can add lot of filter. Your code not working, but I&#39;m going to check where.","body":"Ok thanks, we can add lot of filter. Your code not working, but I&#39;m going to check where."}],"tags":[],"owner":{"account_id":4743400,"reputation":1252,"user_id":3835368,"accept_rate":24,"display_name":"Muhammad Ashraf"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504081406,"creation_date":1504081406,"answer_id":45955445,"question_id":45955054,"body_markdown":"You can achieve that using InputFilters\r\n\r\nfirst you need to create an input filter for the decimal digits\r\n\r\n    public class DecimalDigitsInputFilter implements InputFilter {\r\n\r\n    Pattern mPattern;\r\n\r\n    public DecimalDigitsInputFilter(int digitsBeforeZero,int digitsAfterZero) {\r\n        mPattern=Pattern.compile(&quot;[0-9]{0,&quot; + (digitsBeforeZero-1) + &quot;}+((\\\\.[0-9]{0,&quot; + (digitsAfterZero-1) + &quot;})?)||(\\\\.)?&quot;);\r\n    }\r\n\r\n    @Override\r\n    public CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) {\r\n\r\n        Matcher matcher=mPattern.matcher(dest);       \r\n        if(!matcher.matches())\r\n            return &quot;&quot;;\r\n        return null;\r\n    }\r\n\r\n    }\r\n\r\nThen create another input filter to limit numbers between 0 and 1000\r\n\r\n    public class InputFilterMinMax implements InputFilter {\r\n\r\n    private int min, max;\r\n\r\n    public InputFilterMinMax(int min, int max) {\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n\r\n    public InputFilterMinMax(String min, String max) {\r\n        this.min = Integer.parseInt(min);\r\n        this.max = Integer.parseInt(max);\r\n    }\r\n\r\n    @Override\r\n    public CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) {   \r\n        try {\r\n            int input = Integer.parseInt(dest.toString() + source.toString());\r\n            if (isInRange(min, max, input))\r\n                return null;\r\n        } catch (NumberFormatException nfe) { }     \r\n        return &quot;&quot;;\r\n    }\r\n\r\n    private boolean isInRange(int a, int b, int c) {\r\n        return b &gt; a ? c &gt;= a &amp;&amp; c &lt;= b : c &gt;= b &amp;&amp; c &lt;= a;\r\n    }\r\n    }\r\n\r\nthen set these input filters to your edit text\r\n\r\n     edittext.setFilters(new InputFilter[]{ new InputFilterMinMax(&quot;0&quot;, &quot;1000&quot;), new DecimalDigitsInputFilter(3,2)});\r\n\r\nI haven&#39;t tried the code but I think this will put you on the right way.\r\n\r\nReferences:\r\n\r\nhttps://stackoverflow.com/questions/5357455/limit-decimal-places-in-android-edittext\r\n\r\nhttps://stackoverflow.com/questions/14212518/is-there-a-way-to-define-a-min-and-max-value-for-edittext-in-android\r\n","title":"Android: EditText with max decimal and max number","body":"<p>You can achieve that using InputFilters</p>\n\n<p>first you need to create an input filter for the decimal digits</p>\n\n<pre><code>public class DecimalDigitsInputFilter implements InputFilter {\n\nPattern mPattern;\n\npublic DecimalDigitsInputFilter(int digitsBeforeZero,int digitsAfterZero) {\n    mPattern=Pattern.compile(\"[0-9]{0,\" + (digitsBeforeZero-1) + \"}+((\\\\.[0-9]{0,\" + (digitsAfterZero-1) + \"})?)||(\\\\.)?\");\n}\n\n@Override\npublic CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) {\n\n    Matcher matcher=mPattern.matcher(dest);       \n    if(!matcher.matches())\n        return \"\";\n    return null;\n}\n\n}\n</code></pre>\n\n<p>Then create another input filter to limit numbers between 0 and 1000</p>\n\n<pre><code>public class InputFilterMinMax implements InputFilter {\n\nprivate int min, max;\n\npublic InputFilterMinMax(int min, int max) {\n    this.min = min;\n    this.max = max;\n}\n\npublic InputFilterMinMax(String min, String max) {\n    this.min = Integer.parseInt(min);\n    this.max = Integer.parseInt(max);\n}\n\n@Override\npublic CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) {   \n    try {\n        int input = Integer.parseInt(dest.toString() + source.toString());\n        if (isInRange(min, max, input))\n            return null;\n    } catch (NumberFormatException nfe) { }     \n    return \"\";\n}\n\nprivate boolean isInRange(int a, int b, int c) {\n    return b &gt; a ? c &gt;= a &amp;&amp; c &lt;= b : c &gt;= b &amp;&amp; c &lt;= a;\n}\n}\n</code></pre>\n\n<p>then set these input filters to your edit text</p>\n\n<pre><code> edittext.setFilters(new InputFilter[]{ new InputFilterMinMax(\"0\", \"1000\"), new DecimalDigitsInputFilter(3,2)});\n</code></pre>\n\n<p>I haven't tried the code but I think this will put you on the right way.</p>\n\n<p>References:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5357455/limit-decimal-places-in-android-edittext\">Limit Decimal Places in Android EditText</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14212518/is-there-a-way-to-define-a-min-and-max-value-for-edittext-in-android\">Is there a way to define a min and max value for EditText in Android?</a></p>\n"},{"tags":[],"owner":{"account_id":24479754,"reputation":41,"user_id":18398332,"display_name":"prem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666296380,"creation_date":1666296380,"answer_id":74145745,"question_id":45955054,"body_markdown":"You may use this; it lets edit text only take decimal value up to your chosen places within your min-max range.\r\n   \r\n\r\n     class DecimalDigitsInputFilter(digitsBeforeZero: Int, digitsAfterZero: Int, min: Double, max: Double) :\r\n            InputFilter {\r\n            private val mDigitsBeforeZero: Int\r\n            private val mDigitsAfterZero: Int\r\n            private var min: Double\r\n            private var max: Double\r\n            private val mPattern: Pattern\r\n            override fun filter(\r\n                source: CharSequence,\r\n                start: Int,\r\n                end: Int,\r\n                dest: Spanned,\r\n                dstart: Int,\r\n                dend: Int\r\n            ): CharSequence? {\r\n                try {\r\n                    val input = (dest.toString() + source.toString()).toDouble()\r\n                    val replacement = source.subSequence(start, end).toString()\r\n                    val newVal = (dest.subSequence(0, dstart).toString() + replacement\r\n                            + dest.subSequence(dend, dest.length).toString())\r\n                    val matcher: Matcher = mPattern.matcher(newVal)\r\n                    if (matcher.matches() &amp;&amp; isInRange(min,max,input)) return null\r\n                    return if (TextUtils.isEmpty(source)) dest.subSequence(dstart, dend) else &quot;&quot;\r\n                }catch (e : Exception){}\r\n             return &quot;&quot;\r\n            }\r\n        \r\n            init {\r\n                this.min = min\r\n                this.max = max\r\n                this.mDigitsAfterZero = digitsAfterZero\r\n                this.mDigitsBeforeZero = digitsBeforeZero\r\n                mPattern = Pattern.compile(\r\n                    &quot;-?[0-9]{0,&quot; + mDigitsBeforeZero + &quot;}+((\\\\.[0-9]{0,&quot; + mDigitsAfterZero\r\n                            + &quot;})?)||(\\\\.)?&quot;\r\n                )\r\n            }\r\n        \r\n            private fun isInRange(a: Double, b: Double, c: Double): Boolean {\r\n                return if (b &gt; a) c in a..b else c in b..a\r\n            }\r\n        }\r\n\r\nAnd then can set this filter to your edit text:\r\n\r\n    binding.editText.filters = arrayOf(DecimalDigitsInputFilter(2,3,0.0,100.0))\r\n\r\n","title":"Android: EditText with max decimal and max number","body":"<p>You may use this; it lets edit text only take decimal value up to your chosen places within your min-max range.</p>\n<pre><code> class DecimalDigitsInputFilter(digitsBeforeZero: Int, digitsAfterZero: Int, min: Double, max: Double) :\n        InputFilter {\n        private val mDigitsBeforeZero: Int\n        private val mDigitsAfterZero: Int\n        private var min: Double\n        private var max: Double\n        private val mPattern: Pattern\n        override fun filter(\n            source: CharSequence,\n            start: Int,\n            end: Int,\n            dest: Spanned,\n            dstart: Int,\n            dend: Int\n        ): CharSequence? {\n            try {\n                val input = (dest.toString() + source.toString()).toDouble()\n                val replacement = source.subSequence(start, end).toString()\n                val newVal = (dest.subSequence(0, dstart).toString() + replacement\n                        + dest.subSequence(dend, dest.length).toString())\n                val matcher: Matcher = mPattern.matcher(newVal)\n                if (matcher.matches() &amp;&amp; isInRange(min,max,input)) return null\n                return if (TextUtils.isEmpty(source)) dest.subSequence(dstart, dend) else &quot;&quot;\n            }catch (e : Exception){}\n         return &quot;&quot;\n        }\n    \n        init {\n            this.min = min\n            this.max = max\n            this.mDigitsAfterZero = digitsAfterZero\n            this.mDigitsBeforeZero = digitsBeforeZero\n            mPattern = Pattern.compile(\n                &quot;-?[0-9]{0,&quot; + mDigitsBeforeZero + &quot;}+((\\\\.[0-9]{0,&quot; + mDigitsAfterZero\n                        + &quot;})?)||(\\\\.)?&quot;\n            )\n        }\n    \n        private fun isInRange(a: Double, b: Double, c: Double): Boolean {\n            return if (b &gt; a) c in a..b else c in b..a\n        }\n    }\n</code></pre>\n<p>And then can set this filter to your edit text:</p>\n<pre><code>binding.editText.filters = arrayOf(DecimalDigitsInputFilter(2,3,0.0,100.0))\n</code></pre>\n"}],"owner":{"account_id":8541488,"reputation":887,"user_id":6401457,"accept_rate":48,"display_name":"Naografix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666296380,"creation_date":1504080164,"question_id":45955054,"body_markdown":"I&#39;m trying to create a filter for my edittext to have a max number with max decimal after point. I want to use this editText for money typing.\r\n\r\nI set the `inputType` to `numberDecimal` but I can write infinite number with lot of digits after decimal point.\r\n\r\nI found lot of thread on StackOverFlow to filter the max decimal, but I want to add a max number too.\r\n\r\nSo, I just want to have filter to write between [**0** and **1000**] with **2 digits after** decimal point, but **1000 is the max**. (can&#39;t write 1000.99).\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"Android: EditText with max decimal and max number","body":"<p>I'm trying to create a filter for my edittext to have a max number with max decimal after point. I want to use this editText for money typing.</p>\n\n<p>I set the <code>inputType</code> to <code>numberDecimal</code> but I can write infinite number with lot of digits after decimal point.</p>\n\n<p>I found lot of thread on StackOverFlow to filter the max decimal, but I want to add a max number too.</p>\n\n<p>So, I just want to have filter to write between [<strong>0</strong> and <strong>1000</strong>] with <strong>2 digits after</strong> decimal point, but <strong>1000 is the max</strong>. (can't write 1000.99).</p>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","listener","jtextfield","documentlistener"],"answers":[{"comments":[{"owner":{"account_id":1548166,"reputation":755,"user_id":1441180,"display_name":"Max West"},"score":0,"creation_date":1413210711,"post_id":3953219,"comment_id":41346814,"body_markdown":"good format for the warning/type cast. Same pattern will be useful for handling double amounts (sales figures/prices entered or displayed)","body":"good format for the warning/type cast. Same pattern will be useful for handling double amounts (sales figures/prices entered or displayed)"},{"owner":{"display_name":"user4022749"},"score":0,"creation_date":1426332103,"post_id":3953219,"comment_id":46334938,"body_markdown":"it&#39;s working fine but i have a query that, when i insert some text in textfield then i want to call a method. i do not have much idea about how it is done..","body":"it&#39;s working fine but i have a query that, when i insert some text in textfield then i want to call a method. i do not have much idea about how it is done.."},{"owner":{"account_id":457752,"reputation":162,"user_id":857249,"accept_rate":75,"display_name":"winchella"},"score":0,"creation_date":1444239726,"post_id":3953219,"comment_id":53822599,"body_markdown":"I was having issues with a JTable not getting text box updates from an editable JComboBox when clicking another table cell, and the insertUpdate function here was the only way to make it work properly.","body":"I was having issues with a JTable not getting text box updates from an editable JComboBox when clicking another table cell, and the insertUpdate function here was the only way to make it work properly."},{"owner":{"account_id":3070348,"reputation":153,"user_id":2601177,"accept_rate":60,"display_name":"ungato"},"score":18,"creation_date":1501864915,"post_id":3953219,"comment_id":77984561,"body_markdown":"&quot;Error Massage&quot;","body":"&quot;Error Massage&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673346500,"post_id":3953219,"comment_id":132472906,"body_markdown":"expect `NumberFormatException`s, even if the user just deletes everything to reenter","body":"expect <code>NumberFormatException</code>s, even if the user just deletes everything to reenter"}],"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"comment_count":5,"down_vote_count":1,"up_vote_count":420,"is_accepted":true,"score":419,"last_activity_date":1551970531,"creation_date":1287318713,"answer_id":3953219,"question_id":3953208,"body_markdown":"Add a listener to the underlying Document, which is automatically created for you.\r\n\r\n    // Listen for changes in the text\r\n    textField.getDocument().addDocumentListener(new DocumentListener() {\r\n      public void changedUpdate(DocumentEvent e) {\r\n        warn();\r\n      }\r\n      public void removeUpdate(DocumentEvent e) {\r\n        warn();\r\n      }\r\n      public void insertUpdate(DocumentEvent e) {\r\n        warn();\r\n      }\r\n\r\n      public void warn() {\r\n         if (Integer.parseInt(textField.getText())&lt;=0){\r\n           JOptionPane.showMessageDialog(null,\r\n              &quot;Error: Please enter number bigger than 0&quot;, &quot;Error Message&quot;,\r\n              JOptionPane.ERROR_MESSAGE);\r\n         }\r\n      }\r\n    });","title":"Value Change Listener to JTextField","body":"<p>Add a listener to the underlying Document, which is automatically created for you.</p>\n\n<pre><code>// Listen for changes in the text\ntextField.getDocument().addDocumentListener(new DocumentListener() {\n  public void changedUpdate(DocumentEvent e) {\n    warn();\n  }\n  public void removeUpdate(DocumentEvent e) {\n    warn();\n  }\n  public void insertUpdate(DocumentEvent e) {\n    warn();\n  }\n\n  public void warn() {\n     if (Integer.parseInt(textField.getText())&lt;=0){\n       JOptionPane.showMessageDialog(null,\n          \"Error: Please enter number bigger than 0\", \"Error Message\",\n          JOptionPane.ERROR_MESSAGE);\n     }\n  }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":4,"creation_date":1356253530,"post_id":8701351,"comment_id":19343894,"body_markdown":"Swing already _has_ a type of textField that maps document changes to a property - it&#39;s called JFormattedTextField :-)","body":"Swing already <i>has</i> a type of textField that maps document changes to a property - it&#39;s called JFormattedTextField :-)"}],"tags":[],"owner":{"account_id":968918,"reputation":1272,"user_id":991850,"accept_rate":57,"display_name":"Jean-Marc Astesana"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1325510582,"creation_date":1325510582,"answer_id":8701351,"question_id":3953208,"body_markdown":"Be aware that when the user modify the field, the DocumentListener can, sometime, receive two events. For instance if the user selects the whole field content, then press a key, you&#39;ll receive a removeUpdate (all the content is remove) and an insertUpdate.\r\nIn your case, I don&#39;t think it is a problem but, generally speaking, it is.\r\nUnfortunately, it seems there&#39;s no way to track the content of the textField without subclassing JTextField.\r\nHere is the code of a class that provide a &quot;text&quot; property :\r\n\r\n    package net.yapbam.gui.widget;\r\n    \r\n    import javax.swing.JTextField;\r\n    import javax.swing.text.AttributeSet;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.PlainDocument;\r\n    \r\n    /** A JTextField with a property that maps its text.\r\n     * &lt;br&gt;I&#39;ve found no way to track efficiently the modifications of the text of a JTextField ... so I developed this widget.\r\n     * &lt;br&gt;DocumentListeners are intended to do it, unfortunately, when a text is replace in a field, the listener receive two events:&lt;ol&gt;\r\n     * &lt;li&gt;One when the replaced text is removed.&lt;/li&gt;\r\n     * &lt;li&gt;One when the replacing text is inserted&lt;/li&gt;\r\n     * &lt;/ul&gt;\r\n     * The first event is ... simply absolutely misleading, it corresponds to a value that the text never had.\r\n     * &lt;br&gt;Anoter problem with DocumentListener is that you can&#39;t modify the text into it (it throws IllegalStateException).\r\n     * &lt;br&gt;&lt;br&gt;Another way was to use KeyListeners ... but some key events are throw a long time (probably the key auto-repeat interval)\r\n     * after the key was released. And others events (for example a click on an OK button) may occurs before the listener is informed of the change.\r\n     * &lt;br&gt;&lt;br&gt;This widget guarantees that no &quot;ghost&quot; property change is thrown !\r\n     * @author Jean-Marc Astesana\r\n     * &lt;BR&gt;License : GPL v3\r\n     */\r\n    \r\n    public class CoolJTextField extends JTextField {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic static final String TEXT_PROPERTY = &quot;text&quot;;\r\n    \t\r\n    \tpublic CoolJTextField() {\r\n    \t\tthis(0);\r\n    \t}\r\n    \r\n    \tpublic CoolJTextField(int nbColumns) {\r\n    \t\tsuper(&quot;&quot;, nbColumns);\r\n    \t\tthis.setDocument(new MyDocument());\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \tprivate class MyDocument extends PlainDocument {\r\n    \t\tprivate boolean ignoreEvents = false;\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void replace(int offset, int length, String text, AttributeSet attrs) throws BadLocationException {\r\n    \t\t\tString oldValue = CoolJTextField.this.getText();\r\n    \t\t\tthis.ignoreEvents = true;\r\n    \t\t\tsuper.replace(offset, length, text, attrs);\r\n    \t\t\tthis.ignoreEvents = false;\r\n    \t\t\tString newValue = CoolJTextField.this.getText();\r\n    \t\t\tif (!oldValue.equals(newValue)) CoolJTextField.this.firePropertyChange(TEXT_PROPERTY, oldValue, newValue);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void remove(int offs, int len) throws BadLocationException {\r\n    \t\t\tString oldValue = CoolJTextField.this.getText();\r\n    \t\t\tsuper.remove(offs, len);\r\n    \t\t\tString newValue = CoolJTextField.this.getText();\r\n    \t\t\tif (!ignoreEvents &amp;&amp; !oldValue.equals(newValue)) CoolJTextField.this.firePropertyChange(TEXT_PROPERTY, oldValue, newValue);\r\n    \t\t}\r\n    \t}\r\n\r\n","title":"Value Change Listener to JTextField","body":"<p>Be aware that when the user modify the field, the DocumentListener can, sometime, receive two events. For instance if the user selects the whole field content, then press a key, you'll receive a removeUpdate (all the content is remove) and an insertUpdate.\nIn your case, I don't think it is a problem but, generally speaking, it is.\nUnfortunately, it seems there's no way to track the content of the textField without subclassing JTextField.\nHere is the code of a class that provide a \"text\" property :</p>\n\n<pre><code>package net.yapbam.gui.widget;\n\nimport javax.swing.JTextField;\nimport javax.swing.text.AttributeSet;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.PlainDocument;\n\n/** A JTextField with a property that maps its text.\n * &lt;br&gt;I've found no way to track efficiently the modifications of the text of a JTextField ... so I developed this widget.\n * &lt;br&gt;DocumentListeners are intended to do it, unfortunately, when a text is replace in a field, the listener receive two events:&lt;ol&gt;\n * &lt;li&gt;One when the replaced text is removed.&lt;/li&gt;\n * &lt;li&gt;One when the replacing text is inserted&lt;/li&gt;\n * &lt;/ul&gt;\n * The first event is ... simply absolutely misleading, it corresponds to a value that the text never had.\n * &lt;br&gt;Anoter problem with DocumentListener is that you can't modify the text into it (it throws IllegalStateException).\n * &lt;br&gt;&lt;br&gt;Another way was to use KeyListeners ... but some key events are throw a long time (probably the key auto-repeat interval)\n * after the key was released. And others events (for example a click on an OK button) may occurs before the listener is informed of the change.\n * &lt;br&gt;&lt;br&gt;This widget guarantees that no \"ghost\" property change is thrown !\n * @author Jean-Marc Astesana\n * &lt;BR&gt;License : GPL v3\n */\n\npublic class CoolJTextField extends JTextField {\n    private static final long serialVersionUID = 1L;\n\n    public static final String TEXT_PROPERTY = \"text\";\n\n    public CoolJTextField() {\n        this(0);\n    }\n\n    public CoolJTextField(int nbColumns) {\n        super(\"\", nbColumns);\n        this.setDocument(new MyDocument());\n    }\n\n    @SuppressWarnings(\"serial\")\n    private class MyDocument extends PlainDocument {\n        private boolean ignoreEvents = false;\n\n        @Override\n        public void replace(int offset, int length, String text, AttributeSet attrs) throws BadLocationException {\n            String oldValue = CoolJTextField.this.getText();\n            this.ignoreEvents = true;\n            super.replace(offset, length, text, attrs);\n            this.ignoreEvents = false;\n            String newValue = CoolJTextField.this.getText();\n            if (!oldValue.equals(newValue)) CoolJTextField.this.firePropertyChange(TEXT_PROPERTY, oldValue, newValue);\n        }\n\n        @Override\n        public void remove(int offs, int len) throws BadLocationException {\n            String oldValue = CoolJTextField.this.getText();\n            super.remove(offs, len);\n            String newValue = CoolJTextField.this.getText();\n            if (!ignoreEvents &amp;&amp; !oldValue.equals(newValue)) CoolJTextField.this.firePropertyChange(TEXT_PROPERTY, oldValue, newValue);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1483697,"reputation":159,"user_id":1392407,"display_name":"Astridax"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1389440009,"creation_date":1369234482,"answer_id":16695077,"question_id":3953208,"body_markdown":"I know this relates to a really old problem, however, it caused me some problems too. As [kleopatra][1] responded in a comment above, I solved the problem with a `JFormattedTextField`. However, the solution requires a bit more work, but is neater.\r\n\r\nThe `JFormattedTextField` doesn&#39;t by default trigger a property change after every text changes in the field. The default constructor of `JFormattedTextField` does not create a formatter.\r\n\r\nHowever, to do what the OP suggested, you need to use a formatter which will invoke the `commitEdit()` method after each valid edit of the field. The `commitEdit()` method is what triggers the property change from what I can see and without the formatter, this is triggered by default on a focus change or when the enter key is pressed. \r\n\r\nSee http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html#value for more details.\r\n\r\nCreate a default formatter (`DefaultFormatter`) object to be passed to the `JFormattedTextField` either via its constructor or a setter method. One method of the default formatter is `setCommitsOnValidEdit(boolean commit)`, which sets the formatter to trigger the `commitEdit()` method every time the text is changed. This can then be picked up using a `PropertyChangeListener` and the `propertyChange()` method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/203657/kleopatra","title":"Value Change Listener to JTextField","body":"<p>I know this relates to a really old problem, however, it caused me some problems too. As <a href=\"https://stackoverflow.com/users/203657/kleopatra\">kleopatra</a> responded in a comment above, I solved the problem with a <code>JFormattedTextField</code>. However, the solution requires a bit more work, but is neater.</p>\n\n<p>The <code>JFormattedTextField</code> doesn't by default trigger a property change after every text changes in the field. The default constructor of <code>JFormattedTextField</code> does not create a formatter.</p>\n\n<p>However, to do what the OP suggested, you need to use a formatter which will invoke the <code>commitEdit()</code> method after each valid edit of the field. The <code>commitEdit()</code> method is what triggers the property change from what I can see and without the formatter, this is triggered by default on a focus change or when the enter key is pressed. </p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html#value\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html#value</a> for more details.</p>\n\n<p>Create a default formatter (<code>DefaultFormatter</code>) object to be passed to the <code>JFormattedTextField</code> either via its constructor or a setter method. One method of the default formatter is <code>setCommitsOnValidEdit(boolean commit)</code>, which sets the formatter to trigger the <code>commitEdit()</code> method every time the text is changed. This can then be picked up using a <code>PropertyChangeListener</code> and the <code>propertyChange()</code> method.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":6,"creation_date":1382349080,"post_id":19485384,"comment_id":28909655,"body_markdown":"not really: the requirement is doing something _when the text is changed_ - that&#39;s unrelated to mouseEvents ;-)","body":"not really: the requirement is doing something <i>when the text is changed</i> - that&#39;s unrelated to mouseEvents ;-)"}],"tags":[],"owner":{"account_id":2880793,"reputation":47,"user_id":2471768,"accept_rate":0,"display_name":"fishgold192"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1382322608,"creation_date":1382322608,"answer_id":19485384,"question_id":3953208,"body_markdown":"You can use even &quot;MouseExited&quot; to control.\r\nexample:\r\n   \r\n\r\n     private void jtSoMauMouseExited(java.awt.event.MouseEvent evt) {                                    \r\n            // TODO add your handling code here:\r\n            try {\r\n                if (Integer.parseInt(jtSoMau.getText()) &gt; 1) {\r\n                    //auto update field\r\n                    SoMau = Integer.parseInt(jtSoMau.getText());\r\n                    int result = SoMau / 5;\r\n    \r\n                    jtSoBlockQuan.setText(String.valueOf(result));\r\n                }\r\n            } catch (Exception e) {\r\n                \r\n            }\r\n    \r\n        }   \r\n\r\n","title":"Value Change Listener to JTextField","body":"<p>You can use even \"MouseExited\" to control.\nexample:</p>\n\n<pre><code> private void jtSoMauMouseExited(java.awt.event.MouseEvent evt) {                                    \n        // TODO add your handling code here:\n        try {\n            if (Integer.parseInt(jtSoMau.getText()) &gt; 1) {\n                //auto update field\n                SoMau = Integer.parseInt(jtSoMau.getText());\n                int result = SoMau / 5;\n\n                jtSoBlockQuan.setText(String.valueOf(result));\n            }\n        } catch (Exception e) {\n\n        }\n\n    }   \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2021398,"reputation":1602,"user_id":1807486,"accept_rate":93,"display_name":"glend"},"score":0,"creation_date":1455908427,"post_id":25110881,"comment_id":58716559,"body_markdown":"This doesn&#39;t work because the value of the field isn&#39;t captured properly, `field.getText()` returns the initial value. and the event (`arg0.getKeyChar()`) returns the key pressed error checking is needed to determine if you should concatenate with field text.","body":"This doesn&#39;t work because the value of the field isn&#39;t captured properly, <code>field.getText()</code> returns the initial value. and the event (<code>arg0.getKeyChar()</code>) returns the key pressed error checking is needed to determine if you should concatenate with field text."},{"owner":{"account_id":8284603,"reputation":684,"user_id":6228107,"display_name":"Kakumanu siva krishna"},"score":0,"creation_date":1551444438,"post_id":25110881,"comment_id":96652653,"body_markdown":"@glend, you can use keyReleased event instead of keyTyped event. It worked for me and getting the complete value.","body":"@glend, you can use keyReleased event instead of keyTyped event. It worked for me and getting the complete value."}],"tags":[],"owner":{"account_id":4839692,"reputation":19,"user_id":3905080,"display_name":"nick"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1407117805,"creation_date":1407117805,"answer_id":25110881,"question_id":3953208,"body_markdown":"Use a KeyListener (which triggers on any key) rather than the ActionListener (which triggers on enter)","title":"Value Change Listener to JTextField","body":"<p>Use a KeyListener (which triggers on any key) rather than the ActionListener (which triggers on enter)</p>\n"},{"comments":[{"owner":{"account_id":6671110,"reputation":601,"user_id":5147246,"display_name":"klaar"},"score":0,"creation_date":1510060103,"post_id":26697401,"comment_id":81266878,"body_markdown":"Your adaptation fires the error message dialog whenever any string longer than length=0 is entered in the textfield. So that&#39;s basically any string other than an empty string. That&#39;s not the requested solution.","body":"Your adaptation fires the error message dialog whenever any string longer than length=0 is entered in the textfield. So that&#39;s basically any string other than an empty string. That&#39;s not the requested solution."}],"tags":[],"owner":{"account_id":934613,"reputation":411,"user_id":963782,"accept_rate":14,"display_name":"Bipul Chandra Dev Nath"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1414916657,"creation_date":1414916657,"answer_id":26697401,"question_id":3953208,"body_markdown":"  it was the update version of Codemwnci. his code is quite fine and works great except the error message. To avoid error you must change the condition statement. \r\n\r\n      // Listen for changes in the text\r\n    textField.getDocument().addDocumentListener(new DocumentListener() {\r\n      public void changedUpdate(DocumentEvent e) {\r\n        warn();\r\n      }\r\n      public void removeUpdate(DocumentEvent e) {\r\n        warn();\r\n      }\r\n      public void insertUpdate(DocumentEvent e) {\r\n        warn();\r\n      }\r\n    \r\n      public void warn() {\r\n         if (textField.getText().length()&gt;0){\r\n           JOptionPane.showMessageDialog(null,\r\n              &quot;Error: Please enter number bigger than 0&quot;, &quot;Error Massage&quot;,\r\n              JOptionPane.ERROR_MESSAGE);\r\n         }\r\n      }\r\n    });","title":"Value Change Listener to JTextField","body":"<p>it was the update version of Codemwnci. his code is quite fine and works great except the error message. To avoid error you must change the condition statement. </p>\n\n<pre><code>  // Listen for changes in the text\ntextField.getDocument().addDocumentListener(new DocumentListener() {\n  public void changedUpdate(DocumentEvent e) {\n    warn();\n  }\n  public void removeUpdate(DocumentEvent e) {\n    warn();\n  }\n  public void insertUpdate(DocumentEvent e) {\n    warn();\n  }\n\n  public void warn() {\n     if (textField.getText().length()&gt;0){\n       JOptionPane.showMessageDialog(null,\n          \"Error: Please enter number bigger than 0\", \"Error Massage\",\n          JOptionPane.ERROR_MESSAGE);\n     }\n  }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":310349,"reputation":839,"user_id":623280,"accept_rate":80,"display_name":"geronimo"},"score":6,"creation_date":1482431471,"post_id":27190162,"comment_id":69781587,"body_markdown":"Similar solution: create an `abstract class DocumentChangeListener implements DocumentListener` with an extra abstract method `change(DocumentEvent e)` that you call from all 3 other methods. Seems more obvious to me since it uses more or less the same logic as the `abstract *Adapter` listeners.","body":"Similar solution: create an <code>abstract class DocumentChangeListener implements DocumentListener</code> with an extra abstract method <code>change(DocumentEvent e)</code> that you call from all 3 other methods. Seems more obvious to me since it uses more or less the same logic as the <code>abstract *Adapter</code> listeners."},{"owner":{"account_id":6919698,"reputation":3196,"user_id":6039980,"accept_rate":96,"display_name":"user6039980"},"score":0,"creation_date":1512137564,"post_id":27190162,"comment_id":82147852,"body_markdown":"+1 as `changedUpdate` method shall be invoked explicitly through a call within each of `insertUpdate` and `removeUpdate`, in order to get it work ..","body":"+1 as <code>changedUpdate</code> method shall be invoked explicitly through a call within each of <code>insertUpdate</code> and <code>removeUpdate</code>, in order to get it work .."},{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1645197609,"post_id":27190162,"comment_id":125814561,"body_markdown":"@geronimo The main advantage of this is that you do not get multiple change events for the same thing (remove+insert for replacing).","body":"@geronimo The main advantage of this is that you do not get multiple change events for the same thing (remove+insert for replacing)."}],"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":3,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1424807470,"creation_date":1417182797,"answer_id":27190162,"question_id":3953208,"body_markdown":"The usual answer to this is &quot;use a [`DocumentListener`](https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentListener.html)&quot;. However, I always find that  interface cumbersome. Truthfully the interface is over-engineered. It has three methods, for insertion, removal, and replacement of text, when it only needs one method: replacement. (An insertion can be viewed as a replacement of no text with some text, and a removal can be viewed as a replacement of some text with no text.)\r\n\r\nUsually all you want is to know is *when the text in the box has changed*, so a typical `DocumentListener` implementation has the three methods calling one method.\r\n\r\nTherefore I made the following utility method, which lets you use a simpler [`ChangeListener`](https://docs.oracle.com/javase/8/docs/api/javax/swing/event/ChangeListener.html) rather than a `DocumentListener`. (It uses Java 8&#39;s lambda syntax, but you can adapt it for old Java if needed.)\r\n\r\n\t/**\r\n\t * Installs a listener to receive notification when the text of any\r\n\t * {@code JTextComponent} is changed. Internally, it installs a\r\n\t * {@link DocumentListener} on the text component&#39;s {@link Document},\r\n\t * and a {@link PropertyChangeListener} on the text component to detect\r\n\t * if the {@code Document} itself is replaced.\r\n\t * \r\n\t * @param text any text component, such as a {@link JTextField}\r\n\t *        or {@link JTextArea}\r\n\t * @param changeListener a listener to receieve {@link ChangeEvent}s\r\n\t *        when the text is changed; the source object for the events\r\n\t *        will be the text component\r\n\t * @throws NullPointerException if either parameter is null\r\n\t */\r\n\tpublic static void addChangeListener(JTextComponent text, ChangeListener changeListener) {\r\n\t\tObjects.requireNonNull(text);\r\n\t\tObjects.requireNonNull(changeListener);\r\n\t\tDocumentListener dl = new DocumentListener() {\r\n\t\t\tprivate int lastChange = 0, lastNotifiedChange = 0;\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void insertUpdate(DocumentEvent e) {\r\n\t\t\t\tchangedUpdate(e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void removeUpdate(DocumentEvent e) {\r\n\t\t\t\tchangedUpdate(e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void changedUpdate(DocumentEvent e) {\r\n\t\t\t\tlastChange++;\r\n\t\t\t\tSwingUtilities.invokeLater(() -&gt; {\r\n\t\t\t\t\tif (lastNotifiedChange != lastChange) {\r\n\t\t\t\t\t\tlastNotifiedChange = lastChange;\r\n\t\t\t\t\t\tchangeListener.stateChanged(new ChangeEvent(text));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\ttext.addPropertyChangeListener(&quot;document&quot;, (PropertyChangeEvent e) -&gt; {\r\n\t\t\tDocument d1 = (Document)e.getOldValue();\r\n\t\t\tDocument d2 = (Document)e.getNewValue();\r\n\t\t\tif (d1 != null) d1.removeDocumentListener(dl);\r\n\t\t\tif (d2 != null) d2.addDocumentListener(dl);\r\n\t\t\tdl.changedUpdate(null);\r\n\t\t});\r\n\t\tDocument d = text.getDocument();\r\n\t\tif (d != null) d.addDocumentListener(dl);\r\n\t}\r\n\r\nUnlike with adding a listener directly to the document, this handles the (uncommon) case that you install a new document object on a text component. Additionally, it works around the problem mentioned in [Jean-Marc Astesana&#39;s answer](https://stackoverflow.com/questions/3953208/value-change-listener-to-jtextfield/8701351#8701351), where the document sometimes fires more events than it needs to.\r\n\r\nAnyway, this method lets you replace annoying code which looks like this:\r\n\r\n\tsomeTextBox.getDocument().addDocumentListener(new DocumentListener() {\r\n\t\t@Override\r\n\t\tpublic void insertUpdate(DocumentEvent e) {\r\n\t\t\tdoSomething();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void removeUpdate(DocumentEvent e) {\r\n\t\t\tdoSomething();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void changedUpdate(DocumentEvent e) {\r\n\t\t\tdoSomething();\r\n\t\t}\r\n\t});\r\n\r\nWith:\r\n\r\n\taddChangeListener(someTextBox, e -&gt; doSomething());\r\n\r\nCode released to public domain. Have fun!","title":"Value Change Listener to JTextField","body":"<p>The usual answer to this is \"use a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/event/DocumentListener.html\"><code>DocumentListener</code></a>\". However, I always find that  interface cumbersome. Truthfully the interface is over-engineered. It has three methods, for insertion, removal, and replacement of text, when it only needs one method: replacement. (An insertion can be viewed as a replacement of no text with some text, and a removal can be viewed as a replacement of some text with no text.)</p>\n\n<p>Usually all you want is to know is <em>when the text in the box has changed</em>, so a typical <code>DocumentListener</code> implementation has the three methods calling one method.</p>\n\n<p>Therefore I made the following utility method, which lets you use a simpler <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/event/ChangeListener.html\"><code>ChangeListener</code></a> rather than a <code>DocumentListener</code>. (It uses Java 8's lambda syntax, but you can adapt it for old Java if needed.)</p>\n\n<pre><code>/**\n * Installs a listener to receive notification when the text of any\n * {@code JTextComponent} is changed. Internally, it installs a\n * {@link DocumentListener} on the text component's {@link Document},\n * and a {@link PropertyChangeListener} on the text component to detect\n * if the {@code Document} itself is replaced.\n * \n * @param text any text component, such as a {@link JTextField}\n *        or {@link JTextArea}\n * @param changeListener a listener to receieve {@link ChangeEvent}s\n *        when the text is changed; the source object for the events\n *        will be the text component\n * @throws NullPointerException if either parameter is null\n */\npublic static void addChangeListener(JTextComponent text, ChangeListener changeListener) {\n    Objects.requireNonNull(text);\n    Objects.requireNonNull(changeListener);\n    DocumentListener dl = new DocumentListener() {\n        private int lastChange = 0, lastNotifiedChange = 0;\n\n        @Override\n        public void insertUpdate(DocumentEvent e) {\n            changedUpdate(e);\n        }\n\n        @Override\n        public void removeUpdate(DocumentEvent e) {\n            changedUpdate(e);\n        }\n\n        @Override\n        public void changedUpdate(DocumentEvent e) {\n            lastChange++;\n            SwingUtilities.invokeLater(() -&gt; {\n                if (lastNotifiedChange != lastChange) {\n                    lastNotifiedChange = lastChange;\n                    changeListener.stateChanged(new ChangeEvent(text));\n                }\n            });\n        }\n    };\n    text.addPropertyChangeListener(\"document\", (PropertyChangeEvent e) -&gt; {\n        Document d1 = (Document)e.getOldValue();\n        Document d2 = (Document)e.getNewValue();\n        if (d1 != null) d1.removeDocumentListener(dl);\n        if (d2 != null) d2.addDocumentListener(dl);\n        dl.changedUpdate(null);\n    });\n    Document d = text.getDocument();\n    if (d != null) d.addDocumentListener(dl);\n}\n</code></pre>\n\n<p>Unlike with adding a listener directly to the document, this handles the (uncommon) case that you install a new document object on a text component. Additionally, it works around the problem mentioned in <a href=\"https://stackoverflow.com/questions/3953208/value-change-listener-to-jtextfield/8701351#8701351\">Jean-Marc Astesana's answer</a>, where the document sometimes fires more events than it needs to.</p>\n\n<p>Anyway, this method lets you replace annoying code which looks like this:</p>\n\n<pre><code>someTextBox.getDocument().addDocumentListener(new DocumentListener() {\n    @Override\n    public void insertUpdate(DocumentEvent e) {\n        doSomething();\n    }\n\n    @Override\n    public void removeUpdate(DocumentEvent e) {\n        doSomething();\n    }\n\n    @Override\n    public void changedUpdate(DocumentEvent e) {\n        doSomething();\n    }\n});\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>addChangeListener(someTextBox, e -&gt; doSomething());\n</code></pre>\n\n<p>Code released to public domain. Have fun!</p>\n"},{"tags":[],"owner":{"account_id":6161854,"reputation":11,"user_id":4803191,"display_name":"RocketMan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1584904524,"creation_date":1430099110,"answer_id":29885871,"question_id":3953208,"body_markdown":"I am brand new to WindowBuilder, and, in fact, just getting back into Java after a few years, but I implemented &quot;something&quot;, then thought I&#39;d look it up and came across this thread.\r\n\r\nI&#39;m in the middle of testing this, so, based on being new to all this, I&#39;m sure I must be missing something.\r\n\r\nHere&#39;s what I did, where &quot;runTxt&quot; is a textbox and &quot;runName&quot; is a data member of the class:\r\n```java\r\npublic void focusGained(FocusEvent e) {\r\n    if (e.getSource() == runTxt) {\r\n        System.out.println(&quot;runTxt got focus&quot;);\r\n        runTxt.selectAll();\r\n    }\r\n}\r\n\r\npublic void focusLost(FocusEvent e) {\r\n    if (e.getSource() == runTxt) {\r\n        System.out.println(&quot;runTxt lost focus&quot;);\r\n        if(!runTxt.getText().equals(runName))runName= runTxt.getText();\r\n        System.out.println(&quot;runText.getText()= &quot; + runTxt.getText() + &quot;; runName= &quot; + runName);\r\n    }\r\n}\r\n```\r\n\r\nSeems a lot simpler than what&#39;s here so far, and seems to be working, but, since I&#39;m in the middle of writing this, I&#39;d appreciate hearing of any overlooked gotchas.  Is it an issue that the user could enter &amp; leave the textbox w/o making a change?  I think all you&#39;ve done is an unnecessary assignment.","title":"Value Change Listener to JTextField","body":"<p>I am brand new to WindowBuilder, and, in fact, just getting back into Java after a few years, but I implemented \"something\", then thought I'd look it up and came across this thread.</p>\n\n<p>I'm in the middle of testing this, so, based on being new to all this, I'm sure I must be missing something.</p>\n\n<p>Here's what I did, where \"runTxt\" is a textbox and \"runName\" is a data member of the class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void focusGained(FocusEvent e) {\n    if (e.getSource() == runTxt) {\n        System.out.println(\"runTxt got focus\");\n        runTxt.selectAll();\n    }\n}\n\npublic void focusLost(FocusEvent e) {\n    if (e.getSource() == runTxt) {\n        System.out.println(\"runTxt lost focus\");\n        if(!runTxt.getText().equals(runName))runName= runTxt.getText();\n        System.out.println(\"runText.getText()= \" + runTxt.getText() + \"; runName= \" + runName);\n    }\n}\n</code></pre>\n\n<p>Seems a lot simpler than what's here so far, and seems to be working, but, since I'm in the middle of writing this, I'd appreciate hearing of any overlooked gotchas.  Is it an issue that the user could enter &amp; leave the textbox w/o making a change?  I think all you've done is an unnecessary assignment.</p>\n"},{"comments":[{"owner":{"account_id":6671110,"reputation":601,"user_id":5147246,"display_name":"klaar"},"score":2,"creation_date":1510059924,"post_id":39390467,"comment_id":81266751,"body_markdown":"Don&#39;t forget that this solution requires an abstract class instead of an interface in all versions prior to Java 8.","body":"Don&#39;t forget that this solution requires an abstract class instead of an interface in all versions prior to Java 8."}],"tags":[],"owner":{"account_id":9156093,"reputation":431,"user_id":6809011,"display_name":"Andrey Megvinov"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1575467876,"creation_date":1473336414,"answer_id":39390467,"question_id":3953208,"body_markdown":"Just create an interface that extends DocumentListener and implements all DocumentListener methods:\r\n\r\n    @FunctionalInterface\r\n    public interface SimpleDocumentListener extends DocumentListener {\r\n        void update(DocumentEvent e);\r\n\r\n        @Override\r\n        default void insertUpdate(DocumentEvent e) {\r\n            update(e);\r\n        }\r\n        @Override\r\n        default void removeUpdate(DocumentEvent e) {\r\n            update(e);\r\n        }\r\n        @Override\r\n        default void changedUpdate(DocumentEvent e) {\r\n            update(e);\r\n        }\r\n    }\r\n\r\nand then:\r\n\r\n    jTextField.getDocument().addDocumentListener(new SimpleDocumentListener() {\r\n        @Override\r\n        public void update(DocumentEvent e) {\r\n            // Your code here\r\n        }\r\n    });\r\n\r\nor you can even use lambda expression:\r\n\r\n    jTextField.getDocument().addDocumentListener((SimpleDocumentListener) e -&gt; {\r\n        // Your code here\r\n    });","title":"Value Change Listener to JTextField","body":"<p>Just create an interface that extends DocumentListener and implements all DocumentListener methods:</p>\n\n<pre><code>@FunctionalInterface\npublic interface SimpleDocumentListener extends DocumentListener {\n    void update(DocumentEvent e);\n\n    @Override\n    default void insertUpdate(DocumentEvent e) {\n        update(e);\n    }\n    @Override\n    default void removeUpdate(DocumentEvent e) {\n        update(e);\n    }\n    @Override\n    default void changedUpdate(DocumentEvent e) {\n        update(e);\n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>jTextField.getDocument().addDocumentListener(new SimpleDocumentListener() {\n    @Override\n    public void update(DocumentEvent e) {\n        // Your code here\n    }\n});\n</code></pre>\n\n<p>or you can even use lambda expression:</p>\n\n<pre><code>jTextField.getDocument().addDocumentListener((SimpleDocumentListener) e -&gt; {\n    // Your code here\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11166727,"reputation":11,"user_id":8195170,"display_name":"papuga"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498120417,"creation_date":1498058600,"answer_id":44680246,"question_id":3953208,"body_markdown":"[DocumentFilter][1] ? It gives you the ability to manipulate.\r\n\r\n[ http://www.java2s.com/Tutorial/Java/0240__Swing/FormatJTextFieldstexttouppercase.htm ]\r\n\r\nSorry. J am using Jython (Python in Java) - but easy to understand\r\n\r\n    # python style\r\n    # upper chars [ text.upper() ]\r\n\r\n    class myComboBoxEditorDocumentFilter( DocumentFilter ):\r\n\tdef __init__(self,jtext):\r\n\t\tself._jtext = jtext\r\n\r\n\tdef insertString(self,FilterBypass_fb, offset, text, AttributeSet_attrs):\r\n\t\ttxt = self._jtext.getText()\r\n\t\tprint(&#39;DocumentFilter-insertString:&#39;,offset,text,&#39;old:&#39;,txt)\r\n\t\tFilterBypass_fb.insertString(offset, text.upper(), AttributeSet_attrs)\r\n\r\n\tdef replace(self,FilterBypass_fb, offset, length, text, AttributeSet_attrs):\r\n\t\ttxt = self._jtext.getText()\r\n\t\tprint(&#39;DocumentFilter-replace:&#39;,offset, length, text,&#39;old:&#39;,txt)\r\n\t\tFilterBypass_fb.replace(offset, length, text.upper(), AttributeSet_attrs)\r\n\r\n\tdef remove(self,FilterBypass_fb, offset, length):\r\n\t\ttxt = self._jtext.getText()\r\n\t\tprint(&#39;DocumentFilter-remove:&#39;,offset, length, &#39;old:&#39;,txt)\r\n\t\tFilterBypass_fb.remove(offset, length)\r\n\r\n    // (java style ~example for ComboBox-jTextField)\r\n    cb = new ComboBox();\r\n    cb.setEditable( true );\r\n    cbEditor = cb.getEditor();\r\n    cbEditorComp = cbEditor.getEditorComponent();\r\n    cbEditorComp.getDocument().setDocumentFilter(new myComboBoxEditorDocumentFilter(cbEditorComp));\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/text/DocumentFilter.FilterBypass.html","title":"Value Change Listener to JTextField","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/text/DocumentFilter.FilterBypass.html\" rel=\"nofollow noreferrer\">DocumentFilter</a> ? It gives you the ability to manipulate.</p>\n\n<p>[ <a href=\"http://www.java2s.com/Tutorial/Java/0240__Swing/FormatJTextFieldstexttouppercase.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorial/Java/0240__Swing/FormatJTextFieldstexttouppercase.htm</a> ]</p>\n\n<p>Sorry. J am using Jython (Python in Java) - but easy to understand</p>\n\n<pre><code># python style\n# upper chars [ text.upper() ]\n\nclass myComboBoxEditorDocumentFilter( DocumentFilter ):\ndef __init__(self,jtext):\n    self._jtext = jtext\n\ndef insertString(self,FilterBypass_fb, offset, text, AttributeSet_attrs):\n    txt = self._jtext.getText()\n    print('DocumentFilter-insertString:',offset,text,'old:',txt)\n    FilterBypass_fb.insertString(offset, text.upper(), AttributeSet_attrs)\n\ndef replace(self,FilterBypass_fb, offset, length, text, AttributeSet_attrs):\n    txt = self._jtext.getText()\n    print('DocumentFilter-replace:',offset, length, text,'old:',txt)\n    FilterBypass_fb.replace(offset, length, text.upper(), AttributeSet_attrs)\n\ndef remove(self,FilterBypass_fb, offset, length):\n    txt = self._jtext.getText()\n    print('DocumentFilter-remove:',offset, length, 'old:',txt)\n    FilterBypass_fb.remove(offset, length)\n\n// (java style ~example for ComboBox-jTextField)\ncb = new ComboBox();\ncb.setEditable( true );\ncbEditor = cb.getEditor();\ncbEditorComp = cbEditor.getEditorComponent();\ncbEditorComp.getDocument().setDocumentFilter(new myComboBoxEditorDocumentFilter(cbEditorComp));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12500926,"reputation":366,"user_id":9099411,"display_name":"DerBobby"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513327267,"creation_date":1513325633,"answer_id":47828234,"question_id":3953208,"body_markdown":"    textBoxName.getDocument().addDocumentListener(new DocumentListener() {\r\n       @Override\r\n       public void insertUpdate(DocumentEvent e) {\r\n           onChange();\r\n       }\r\n\r\n       @Override\r\n       public void removeUpdate(DocumentEvent e) {\r\n          onChange();\r\n       }\r\n\r\n       @Override\r\n       public void changedUpdate(DocumentEvent e) {\r\n          onChange();\r\n       } \r\n    });\r\n\r\n\r\nBut I would not just parse anything the user (maybe on accident) touches on his keyboard into an `Integer`. You should catch any `Exception`s thrown and make sure the `JTextField` is not empty.","title":"Value Change Listener to JTextField","body":"<pre><code>textBoxName.getDocument().addDocumentListener(new DocumentListener() {\n   @Override\n   public void insertUpdate(DocumentEvent e) {\n       onChange();\n   }\n\n   @Override\n   public void removeUpdate(DocumentEvent e) {\n      onChange();\n   }\n\n   @Override\n   public void changedUpdate(DocumentEvent e) {\n      onChange();\n   } \n});\n</code></pre>\n\n<p>But I would not just parse anything the user (maybe on accident) touches on his keyboard into an <code>Integer</code>. You should catch any <code>Exception</code>s thrown and make sure the <code>JTextField</code> is not empty.</p>\n"},{"tags":[],"owner":{"account_id":8284603,"reputation":684,"user_id":6228107,"display_name":"Kakumanu siva krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584904457,"creation_date":1551444342,"answer_id":54944986,"question_id":3953208,"body_markdown":"If we use runnable method SwingUtilities.invokeLater() while using Document listener application is getting stuck sometimes and taking time to update the result(As per my experiment). Instead of that we can also use KeyReleased event for text field change listener as mentioned [here][1]. \r\n```java\r\nusernameTextField.addKeyListener(new KeyAdapter() {\r\n    public void keyReleased(KeyEvent e) {\r\n        JTextField textField = (JTextField) e.getSource();\r\n        String text = textField.getText();\r\n        textField.setText(text.toUpperCase());\r\n    }\r\n});\r\n```\r\n\r\n \r\n\r\n\r\n  [1]: https://kodejava.org/how-do-i-add-key-listener-event-handler-to-jtextfield/","title":"Value Change Listener to JTextField","body":"<p>If we use runnable method SwingUtilities.invokeLater() while using Document listener application is getting stuck sometimes and taking time to update the result(As per my experiment). Instead of that we can also use KeyReleased event for text field change listener as mentioned <a href=\"https://kodejava.org/how-do-i-add-key-listener-event-handler-to-jtextfield/\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>usernameTextField.addKeyListener(new KeyAdapter() {\n    public void keyReleased(KeyEvent e) {\n        JTextField textField = (JTextField) e.getSource();\n        String text = textField.getText();\n        textField.setText(text.toUpperCase());\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4367754,"reputation":2952,"user_id":3562927,"accept_rate":33,"display_name":"Stevey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622607230,"creation_date":1622607230,"answer_id":67798828,"question_id":3953208,"body_markdown":"Here is a Kotlin port of @Boann&#39;s answer, which is a great solution that has been working well for me.\r\n\r\n    import java.beans.*\r\n    import javax.swing.*\r\n    import javax.swing.event.*\r\n    import javax.swing.text.*\r\n\r\n    /**\r\n     * Installs a listener to receive notification when the text of this\r\n     * [JTextComponent] is changed. Internally, it installs a [DocumentListener] on the\r\n     * text component&#39;s [Document], and a [PropertyChangeListener] on the text component\r\n     * to detect if the `Document` itself is replaced.\r\n     *\r\n     * @param changeListener a listener to receive [ChangeEvent]s when the text is changed;\r\n     * the source object for the events will be the text component\r\n     */\r\n    fun JTextComponent.addChangeListener(changeListener: ChangeListener) {\r\n        val dl: DocumentListener = object : DocumentListener {\r\n            private var lastChange = 0\r\n            private var lastNotifiedChange = 0\r\n            override fun insertUpdate(e: DocumentEvent) = changedUpdate(e)\r\n            override fun removeUpdate(e: DocumentEvent) = changedUpdate(e)\r\n            override fun changedUpdate(e: DocumentEvent) {\r\n                lastChange++\r\n                SwingUtilities.invokeLater {\r\n                    if (lastNotifiedChange != lastChange) {\r\n                        lastNotifiedChange = lastChange\r\n                        changeListener.stateChanged(ChangeEvent(this))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        addPropertyChangeListener(&quot;document&quot;) { e: PropertyChangeEvent -&gt;\r\n            (e.oldValue as? Document)?.removeDocumentListener(dl)\r\n            (e.newValue as? Document)?.addDocumentListener(dl)\r\n            dl.changedUpdate(null)\r\n        }\r\n        document?.addDocumentListener(dl)\r\n    }\r\n\r\nYou can use it on any text component as follows:\r\n\r\n    myTextField.addChangeListener { event -&gt; myEventHandler(event) }\r\n\r\nLike his code, also public domain.","title":"Value Change Listener to JTextField","body":"<p>Here is a Kotlin port of @Boann's answer, which is a great solution that has been working well for me.</p>\n<pre><code>import java.beans.*\nimport javax.swing.*\nimport javax.swing.event.*\nimport javax.swing.text.*\n\n/**\n * Installs a listener to receive notification when the text of this\n * [JTextComponent] is changed. Internally, it installs a [DocumentListener] on the\n * text component's [Document], and a [PropertyChangeListener] on the text component\n * to detect if the `Document` itself is replaced.\n *\n * @param changeListener a listener to receive [ChangeEvent]s when the text is changed;\n * the source object for the events will be the text component\n */\nfun JTextComponent.addChangeListener(changeListener: ChangeListener) {\n    val dl: DocumentListener = object : DocumentListener {\n        private var lastChange = 0\n        private var lastNotifiedChange = 0\n        override fun insertUpdate(e: DocumentEvent) = changedUpdate(e)\n        override fun removeUpdate(e: DocumentEvent) = changedUpdate(e)\n        override fun changedUpdate(e: DocumentEvent) {\n            lastChange++\n            SwingUtilities.invokeLater {\n                if (lastNotifiedChange != lastChange) {\n                    lastNotifiedChange = lastChange\n                    changeListener.stateChanged(ChangeEvent(this))\n                }\n            }\n        }\n    }\n    addPropertyChangeListener(&quot;document&quot;) { e: PropertyChangeEvent -&gt;\n        (e.oldValue as? Document)?.removeDocumentListener(dl)\n        (e.newValue as? Document)?.addDocumentListener(dl)\n        dl.changedUpdate(null)\n    }\n    document?.addDocumentListener(dl)\n}\n</code></pre>\n<p>You can use it on any text component as follows:</p>\n<pre><code>myTextField.addChangeListener { event -&gt; myEventHandler(event) }\n</code></pre>\n<p>Like his code, also public domain.</p>\n"},{"tags":[],"owner":{"account_id":13370079,"reputation":336,"user_id":9648844,"display_name":"macie.k"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1666296371,"creation_date":1638314136,"answer_id":70177283,"question_id":3953208,"body_markdown":"An elegant way is to add the listener to the caret position, because it changes every time something is typed/deleted, then just compare old value with current one.\r\n\r\n```java\r\nString oldVal = &quot;&quot;; // empty string or default value\r\nJTextField tf = new JTextField(oldVal);\r\n\r\ntf.addCaretListener(e -&gt; {\r\n\tString currentVal = tf.getText();\r\n\r\n\tif(!currentVal.equals(oldVal)) {\r\n\t\toldVal = currentVal;\r\n\t\tSystem.out.println(&quot;Change&quot;); // do something\r\n\t}\r\n});\r\n```\r\n\r\n(This event is also being triggered every time a user just clicks into a TextField).","title":"Value Change Listener to JTextField","body":"<p>An elegant way is to add the listener to the caret position, because it changes every time something is typed/deleted, then just compare old value with current one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String oldVal = &quot;&quot;; // empty string or default value\nJTextField tf = new JTextField(oldVal);\n\ntf.addCaretListener(e -&gt; {\n    String currentVal = tf.getText();\n\n    if(!currentVal.equals(oldVal)) {\n        oldVal = currentVal;\n        System.out.println(&quot;Change&quot;); // do something\n    }\n});\n</code></pre>\n<p>(This event is also being triggered every time a user just clicks into a TextField).</p>\n"}],"owner":{"account_id":84665,"reputation":8558,"user_id":236501,"accept_rate":59,"display_name":"user236501"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404528,"favorite_count":0,"down_vote_count":0,"up_vote_count":248,"accepted_answer_id":3953219,"answer_count":14,"score":248,"last_activity_date":1666296371,"creation_date":1287318598,"question_id":3953208,"body_markdown":"I want the message box to appear immediately after the user changes the value in the textfield. Currently, I need to hit the enter key to get the message box to pop out. Is there anything wrong with my code?\r\n\r\n    textField.addActionListener(new java.awt.event.ActionListener() {\r\n        public void actionPerformed(java.awt.event.ActionEvent e) {\r\n\r\n            if (Integer.parseInt(textField.getText())&lt;=0){\r\n                JOptionPane.showMessageDialog(null,\r\n                        &quot;Error: Please enter number bigger than 0&quot;, &quot;Error Message&quot;,\r\n                        JOptionPane.ERROR_MESSAGE);\r\n            }       \r\n        }\r\n    }\r\n\r\nAny help would be appreciated!","title":"Value Change Listener to JTextField","body":"<p>I want the message box to appear immediately after the user changes the value in the textfield. Currently, I need to hit the enter key to get the message box to pop out. Is there anything wrong with my code?</p>\n\n<pre><code>textField.addActionListener(new java.awt.event.ActionListener() {\n    public void actionPerformed(java.awt.event.ActionEvent e) {\n\n        if (Integer.parseInt(textField.getText())&lt;=0){\n            JOptionPane.showMessageDialog(null,\n                    \"Error: Please enter number bigger than 0\", \"Error Message\",\n                    JOptionPane.ERROR_MESSAGE);\n        }       \n    }\n}\n</code></pre>\n\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","spring-boot","kotlin","jpa","jpa-2.0"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1665558970,"post_id":74037723,"comment_id":130726013,"body_markdown":"Can you please share your Code? The way you describe sounds acually ok. Annotationg @Transactional on MethodLevel should be correct. Spring however can only open Transactions if the Method is public and called from outside the bean.","body":"Can you please share your Code? The way you describe sounds acually ok. Annotationg @Transactional on MethodLevel should be correct. Spring however can only open Transactions if the Method is public and called from outside the bean."},{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1665560905,"post_id":74037723,"comment_id":130726663,"body_markdown":"@GJohannes, thanks for your response i have added some abstracted code see if you find the issue, thanks again !","body":"@GJohannes, thanks for your response i have added some abstracted code see if you find the issue, thanks again !"},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1665564974,"post_id":74037723,"comment_id":130728086,"body_markdown":"the mehtod `userService.save()` and `extractId()` is not shown. Where do you get your error and where would you expect it to be if transactions would work properly?","body":"the mehtod <code>userService.save()</code> and <code>extractId()</code> is not shown. Where do you get your error and where would you expect it to be if transactions would work properly?"},{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1665565771,"post_id":74037723,"comment_id":130728383,"body_markdown":"Oh my bad, I have updated the code `save()` is in the service\nI get error at this line `userRepository.saveAll(list.plus(newUser))`","body":"Oh my bad, I have updated the code <code>save()</code> is in the service I get error at this line <code>userRepository.saveAll(list.plus(newUser))</code>"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1665566807,"post_id":74037723,"comment_id":130728758,"body_markdown":"A couple of comments: Spring silently ignores the `@Transactional` annotation in controllers. Just a heads up as this is something that surprises most people. Also, spring-jpa is not an abstraction over JPA. You need to understand how JPA works without spring and also have a good knowledge of the code spring executes when you call methods such as `JpaReposository.saveAll()`.","body":"A couple of comments: Spring silently ignores the <code>@Transactional</code> annotation in controllers. Just a heads up as this is something that surprises most people. Also, spring-jpa is not an abstraction over JPA. You need to understand how JPA works without spring and also have a good knowledge of the code spring executes when you call methods such as <code>JpaReposository.saveAll()</code>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665573619,"post_id":74037723,"comment_id":130731301,"body_markdown":"You are already adding the user, then add that new use to the list again and save the same user twice... don&#39;t use `saveAll(list.plus(newUser))` (not even sure why you put that in a list) but do `userRepository.save(newUser)`.","body":"You are already adding the user, then add that new use to the list again and save the same user twice... don&#39;t use <code>saveAll(list.plus(newUser))</code> (not even sure why you put that in a list) but do <code>userRepository.save(newUser)</code>."},{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1665575301,"post_id":74037723,"comment_id":130731885,"body_markdown":"i have to add 2 different users and hence i am using list. I have already tried adding each user individually i face the same issue.","body":"i have to add 2 different users and hence i am using list. I have already tried adding each user individually i face the same issue."},{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":0,"creation_date":1665761763,"post_id":74037723,"comment_id":130781090,"body_markdown":"Do you actually want to batch insert (insert multiple users)  at once (in one request) ?","body":"Do you actually want to batch insert (insert multiple users)  at once (in one request) ?"},{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1665762139,"post_id":74037723,"comment_id":130781258,"body_markdown":"no that is not the question, we have composite unique key which should be violated inside a transaction (have duplicate entry for some short duration) make them unique and commit.","body":"no that is not the question, we have composite unique key which should be violated inside a transaction (have duplicate entry for some short duration) make them unique and commit."},{"owner":{"account_id":6753742,"reputation":1209,"user_id":5202960,"display_name":"Vinujan.S"},"score":0,"creation_date":1665935158,"post_id":74037723,"comment_id":130810540,"body_markdown":"Hi @Navneetkumar,\n\nwhen you say `violate it inside the transaction` do you want to get an exception and handle the unique key inside `try catch`?","body":"Hi @Navneetkumar,  when you say <code>violate it inside the transaction</code> do you want to get an exception and handle the unique key inside <code>try catch</code>?"},{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1665977588,"post_id":74037723,"comment_id":130817693,"body_markdown":"obviously not, that is the whole point to avoid any exception because its a transaction unless we call `commit` constraints shouldn&#39;t be checked.","body":"obviously not, that is the whole point to avoid any exception because its a transaction unless we call <code>commit</code> constraints shouldn&#39;t be checked."},{"owner":{"account_id":1382040,"reputation":1055,"user_id":1314824,"accept_rate":67,"display_name":"Jos"},"score":0,"creation_date":1666264451,"post_id":74037723,"comment_id":130897596,"body_markdown":"Hi @Navneetkumar, Can you clarify what db constraints are on the user, what is on // some logic to generate user and what is the result of User(id)","body":"Hi @Navneetkumar, Can you clarify what db constraints are on the user, what is on // some logic to generate user and what is the result of User(id)"},{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1666265238,"post_id":74037723,"comment_id":130897835,"body_markdown":"some logic return a different user with different user ID, in `users relation` i have a column `mobile_number` and a `flag` if the number is verified (some internal business logic) or not and a `unique constraint` is 1 mobile number can have only 1 `true` flag.","body":"some logic return a different user with different user ID, in <code>users relation</code> i have a column <code>mobile_number</code> and a <code>flag</code> if the number is verified (some internal business logic) or not and a <code>unique constraint</code> is 1 mobile number can have only 1 <code>true</code> flag."},{"owner":{"account_id":1382040,"reputation":1055,"user_id":1314824,"accept_rate":67,"display_name":"Jos"},"score":0,"creation_date":1666267858,"post_id":74037723,"comment_id":130898912,"body_markdown":"Does it fail if you only save the result of User(Id)? And does it fail if you only save newUser?","body":"Does it fail if you only save the result of User(Id)? And does it fail if you only save newUser?"}],"answers":[{"tags":[],"owner":{"account_id":26647380,"reputation":28,"user_id":20262142,"display_name":"RedSnack-BCS"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666257678,"creation_date":1666257678,"answer_id":74137380,"question_id":74037723,"body_markdown":" 1. Your database has composite unique constraint. So you can&#39;t insert the same data.\r\n 2. This error means that the program inserted the same data at runtime.This is not allowed.\r\n 3. I think there may be a problem of duplicate ID here.\r\n\r\n    var list = listOf(User(id))\r\n\r\n 4. Because of 3, two user objects with the same ID are created in the next step of the code.So there was an error inserting into database.\r\n\r\n 5. You can output user object at the console and find out if there is the same userId object.","title":"How to begin transactions, In Spring boot JPA","body":"<ol>\n<li><p>Your database has composite unique constraint. So you can't insert the same data.</p>\n</li>\n<li><p>This error means that the program inserted the same data at runtime.This is not allowed.</p>\n</li>\n<li><p>I think there may be a problem of duplicate ID here.</p>\n<p>var list = listOf(User(id))</p>\n</li>\n<li><p>Because of 3, two user objects with the same ID are created in the next step of the code.So there was an error inserting into database.</p>\n</li>\n<li><p>You can output user object at the console and find out if there is the same userId object.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23235660,"reputation":72,"user_id":17325694,"display_name":"Xianghua"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666258293,"creation_date":1666258293,"answer_id":74137532,"question_id":74037723,"body_markdown":"    // RollbackFor=Exception.class needs to be specified\r\n    @Transactional(rollbackFor = Exception.class)\r\n    fun save(id: String): ResponseEntity&lt;*&gt; {\r\n     val validatedUser =  getValidatedUser(id)\r\n     return ResponseEntity&lt;User&gt;(validatedUser, HttpStatus.CREATED)\r\n    }","title":"How to begin transactions, In Spring boot JPA","body":"<pre><code>// RollbackFor=Exception.class needs to be specified\n@Transactional(rollbackFor = Exception.class)\nfun save(id: String): ResponseEntity&lt;*&gt; {\n val validatedUser =  getValidatedUser(id)\n return ResponseEntity&lt;User&gt;(validatedUser, HttpStatus.CREATED)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1666323850,"post_id":74145239,"comment_id":130914767,"body_markdown":"Thanks this what i was missing, I kind of figured it but i am not sure mariaDB supports it since i am using MariaDB and not postgres. do you have any idea how to do it mariadb.","body":"Thanks this what i was missing, I kind of figured it but i am not sure mariaDB supports it since i am using MariaDB and not postgres. do you have any idea how to do it mariadb."},{"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"score":0,"creation_date":1666324780,"post_id":74145239,"comment_id":130914884,"body_markdown":"No you can&#39;t `deferred` a constrain int `INNO_DB` variants let it be `MySql` or `MariaDB` :(\nhttps://www.draconianoverlord.com/2010/07/22/dammit-mysql.html/","body":"No you can&#39;t <code>deferred</code> a constrain int <code>INNO_DB</code> variants let it be <code>MySql</code> or <code>MariaDB</code> :( <a href=\"https://www.draconianoverlord.com/2010/07/22/dammit-mysql.html/\" rel=\"nofollow noreferrer\">draconianoverlord.com/2010/07/22/dammit-mysql.html</a>"},{"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"score":1,"creation_date":1666336019,"post_id":74145239,"comment_id":130917010,"body_markdown":"https://jira.mariadb.org/plugins/servlet/mobile#issue/MDEV-26097","body":"<a href=\"https://jira.mariadb.org/plugins/servlet/mobile#issue/MDEV-26097\" rel=\"nofollow noreferrer\">jira.mariadb.org/plugins/servlet/mobile#issue/MDEV-26097</a>"}],"tags":[],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666296030,"creation_date":1666293446,"answer_id":74145239,"question_id":74037723,"body_markdown":"You are looking for [DEFERRED constraints](https://www.postgresql.org/docs/current/sql-set-constraints.html).\r\n\r\nSimplified example (postgresql) that mimics your actions:\r\n\r\n```sql\r\ncreate table users (\r\n  id int primary key,\r\n  name varchar(255) unique\r\n);\r\nstart transaction;\r\ninsert into users(id, name) values(1, &#39;max&#39;);\r\ninsert into users(id, name) values(2, &#39;max&#39;); -- fails here, despite the transaction\r\ninsert into users(id, name) values(3, &#39;paul&#39;);\r\ncommit;\r\n```\r\n\r\nusing `deferrable` and `set constraints deferred`:\r\n\r\n```sql\r\ncreate table users (\r\n  id int primary key,\r\n  name varchar(255) unique deferrable\r\n);\r\nstart transaction;\r\nset constraints all deferred;\r\ninsert into users(id, name) values(1, &#39;max&#39;);\r\ninsert into users(id, name) values(2, &#39;max&#39;); -- no fail here\r\ninsert into users(id, name) values(3, &#39;paul&#39;);\r\ncommit; -- fails here (&quot;deferred&quot;)\r\n```\r\n\r\nusing `deferrable initially deferred` you can skip `set constraints deferred`:\r\n\r\n```sql\r\ncreate table users (\r\n  id int primary key,\r\n  name varchar(255) unique deferrable initially deferred\r\n);\r\nstart transaction;\r\n-- no &#39;set constraints deferred&#39; necessary\r\ninsert into users(id, name) values(1, &#39;max&#39;);\r\ninsert into users(id, name) values(2, &#39;max&#39;); -- no fail here\r\ninsert into users(id, name) values(3, &#39;paul&#39;);\r\nupdate users set name = &#39;bob&#39; where id = 2; -- fixes constraint violation\r\ncommit; -- succeeds\r\n```\r\n\r\nSo, the easiest solution would be to add `deferrable initially deferred` to your constraint definition.","title":"How to begin transactions, In Spring boot JPA","body":"<p>You are looking for <a href=\"https://www.postgresql.org/docs/current/sql-set-constraints.html\" rel=\"nofollow noreferrer\">DEFERRED constraints</a>.</p>\n<p>Simplified example (postgresql) that mimics your actions:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table users (\n  id int primary key,\n  name varchar(255) unique\n);\nstart transaction;\ninsert into users(id, name) values(1, 'max');\ninsert into users(id, name) values(2, 'max'); -- fails here, despite the transaction\ninsert into users(id, name) values(3, 'paul');\ncommit;\n</code></pre>\n<p>using <code>deferrable</code> and <code>set constraints deferred</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table users (\n  id int primary key,\n  name varchar(255) unique deferrable\n);\nstart transaction;\nset constraints all deferred;\ninsert into users(id, name) values(1, 'max');\ninsert into users(id, name) values(2, 'max'); -- no fail here\ninsert into users(id, name) values(3, 'paul');\ncommit; -- fails here (&quot;deferred&quot;)\n</code></pre>\n<p>using <code>deferrable initially deferred</code> you can skip <code>set constraints deferred</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table users (\n  id int primary key,\n  name varchar(255) unique deferrable initially deferred\n);\nstart transaction;\n-- no 'set constraints deferred' necessary\ninsert into users(id, name) values(1, 'max');\ninsert into users(id, name) values(2, 'max'); -- no fail here\ninsert into users(id, name) values(3, 'paul');\nupdate users set name = 'bob' where id = 2; -- fixes constraint violation\ncommit; -- succeeds\n</code></pre>\n<p>So, the easiest solution would be to add <code>deferrable initially deferred</code> to your constraint definition.</p>\n"}],"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74145239,"answer_count":3,"score":1,"last_activity_date":1666296030,"creation_date":1665558432,"question_id":74037723,"body_markdown":"I have a composite unique constraint in the database and i wish to violate it inside the transaction but it will be upheld after i call commit.\r\n\r\nIt&#39;s pretty basic database transaction, but i am not aware how to achieve it using JPA.\r\n\r\nI have already tried `@org.springframework.transaction.annotation.Transactional` on my `@org.springframework.stereotype.Service` class and also at the method level.\r\n\r\nbut the moment i call `userRepository.save(userEntity)` it throws \r\n```\r\njava.sql.SQLIntegrityConstraintViolationException: (conn=380) Duplicate entry ...&#39;\r\n```\r\n\r\ncontroller\r\n```\r\n    @PostMapping(&quot;/save&quot;)\r\n    @Transactional\r\n    fun createUser(\r\n        @RequestHeader(&quot;token&quot;, required = true) subject: String,\r\n    ): ResponseEntity&lt;*&gt; {\r\n        val id = extractId(subject)\r\n        return userService.save(id)\r\n    }\r\n```\r\n\r\nservice\r\n```\r\n    @Transactional\r\n    fun save(id: String): ResponseEntity&lt;*&gt; {\r\n     val validatedUser =  getValidatedUser(id)\r\n     return ResponseEntity&lt;User&gt;(validatedUser, HttpStatus.CREATED)\r\n    }\r\n\r\n   @Transactional\r\n   fun getValidatedUser(id: String): User? {\r\n      var list = listOf(User(id))\r\n      val newUser = //some logic to generate user\r\n      userRepository.saveAll(list.plus(newUser)) // &lt;--- where error happens\r\n   }\r\n\r\n```","title":"How to begin transactions, In Spring boot JPA","body":"<p>I have a composite unique constraint in the database and i wish to violate it inside the transaction but it will be upheld after i call commit.</p>\n<p>It's pretty basic database transaction, but i am not aware how to achieve it using JPA.</p>\n<p>I have already tried <code>@org.springframework.transaction.annotation.Transactional</code> on my <code>@org.springframework.stereotype.Service</code> class and also at the method level.</p>\n<p>but the moment i call <code>userRepository.save(userEntity)</code> it throws</p>\n<pre><code>java.sql.SQLIntegrityConstraintViolationException: (conn=380) Duplicate entry ...'\n</code></pre>\n<p>controller</p>\n<pre><code>    @PostMapping(&quot;/save&quot;)\n    @Transactional\n    fun createUser(\n        @RequestHeader(&quot;token&quot;, required = true) subject: String,\n    ): ResponseEntity&lt;*&gt; {\n        val id = extractId(subject)\n        return userService.save(id)\n    }\n</code></pre>\n<p>service</p>\n<pre><code>    @Transactional\n    fun save(id: String): ResponseEntity&lt;*&gt; {\n     val validatedUser =  getValidatedUser(id)\n     return ResponseEntity&lt;User&gt;(validatedUser, HttpStatus.CREATED)\n    }\n\n   @Transactional\n   fun getValidatedUser(id: String): User? {\n      var list = listOf(User(id))\n      val newUser = //some logic to generate user\n      userRepository.saveAll(list.plus(newUser)) // &lt;--- where error happens\n   }\n\n</code></pre>\n"},{"tags":["java","python","maven","intellij-idea","robotframework"],"comments":[{"owner":{"account_id":4815,"reputation":374354,"user_id":7432,"accept_rate":94,"display_name":"Bryan Oakley"},"score":0,"creation_date":1479257408,"post_id":40621698,"comment_id":68478603,"body_markdown":"have  you tried installing the `decorator` package?","body":"have  you tried installing the <code>decorator</code> package?"},{"owner":{"account_id":9654459,"reputation":43,"user_id":7164527,"display_name":"mmyers"},"score":0,"creation_date":1479306993,"post_id":40621698,"comment_id":68501912,"body_markdown":"The whole idea of the RobotFramework Maven Plugin is to be able to use Robot Framework in a Maven project without the need to install anything extra, to leverage the dependency management of Maven. Having to install the decorator package would contradict the whole point of using the plugin. So I would assume there&#39;s some configuration issue on my part that I was hoping would be glaring to someone with expertise in this area.","body":"The whole idea of the RobotFramework Maven Plugin is to be able to use Robot Framework in a Maven project without the need to install anything extra, to leverage the dependency management of Maven. Having to install the decorator package would contradict the whole point of using the plugin. So I would assume there&#39;s some configuration issue on my part that I was hoping would be glaring to someone with expertise in this area."}],"answers":[{"comments":[{"owner":{"account_id":2602310,"reputation":329,"user_id":2254349,"display_name":"Caye"},"score":0,"creation_date":1554452191,"post_id":40636075,"comment_id":97765457,"body_markdown":"As long as you are not using Java8, then it just doesn&#39;t work the dependency.","body":"As long as you are not using Java8, then it just doesn&#39;t work the dependency."}],"tags":[],"owner":{"account_id":9654459,"reputation":43,"user_id":7164527,"display_name":"mmyers"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479310469,"creation_date":1479310469,"answer_id":40636075,"question_id":40621698,"body_markdown":"I figured out what I was doing wrong, I still don&#39;t have running tests but I&#39;m past this issue. Basically if you&#39;re using the RobotFramework Selenium2Library java port, you no longer need to follow the directions on the site about having the Selenium2Library under /src/test/resources/robotframework/libaries\r\n\r\nYou don&#39;t need to have the Selenium2Library in your resources dir, it&#39;s taken care of by the maven dependency.","title":"&quot;Importing test library &#39;Selenium2Library&#39; failed: ImportError: No module named decorator&quot; RobotFramework maven plugin","body":"<p>I figured out what I was doing wrong, I still don't have running tests but I'm past this issue. Basically if you're using the RobotFramework Selenium2Library java port, you no longer need to follow the directions on the site about having the Selenium2Library under /src/test/resources/robotframework/libaries</p>\n\n<p>You don't need to have the Selenium2Library in your resources dir, it's taken care of by the maven dependency.</p>\n"},{"tags":[],"owner":{"account_id":15608618,"reputation":126,"user_id":11260690,"display_name":"Erol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666295796,"creation_date":1666295796,"answer_id":74145660,"question_id":40621698,"body_markdown":"Just download it through pip3\r\n\r\npip3 install robotframework-seleniumlibrary\r\n","title":"&quot;Importing test library &#39;Selenium2Library&#39; failed: ImportError: No module named decorator&quot; RobotFramework maven plugin","body":"<p>Just download it through pip3</p>\n<p>pip3 install robotframework-seleniumlibrary</p>\n"}],"owner":{"account_id":9654459,"reputation":43,"user_id":7164527,"display_name":"mmyers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3907,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666295796,"creation_date":1479253411,"question_id":40621698,"body_markdown":"Attempting to run a simple test in a Maven Java Project in IntelliJ 2016.2 on OS X El Capitan 10.11.6 using RobotFramework-Maven-Plugin 1.4.6 \r\n\r\nhttp://robotframework.org/MavenPlugin/\r\n\r\nIf the test is run using robot through command line the test opens a firefox browser, runs and passes:\r\n\r\n    *** Settings ***\r\n    Library  Selenium2Library\r\n    Suite Teardown  Close all browsers\r\n\r\n    *** Variables ***\r\n    ${BROWSER}  firefox\r\n    ${DOMAIN}  google.com\r\n    ${PAGE_TITLE}  google\r\n\r\n    *** Test Cases ***\r\n    Example\r\n      Open browser  http://${DOMAIN}  ${BROWSER}\r\n      Page Should Contain  ${PAGE_TITLE}\r\n\r\nHere&#39;s the error I&#39;m receiving:\r\n\r\n    Importing test library &#39;Selenium2Library&#39; failed: ImportError: No module named decorator\r\n\r\nHere the important part of my pom.xml:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.robotframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.markusbernhardt&lt;/groupId&gt;\r\n            &lt;artifactId&gt;robotframework-selenium2library-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nI have the latest Selenium2Library 1.8.0 under /src/test/resources/robotframework/libraries/ as prescribed by the RobotFramework Maven Plugin site: http://robotframework.org/MavenPlugin/examples/seleniumlibrary.html\r\n\r\nI&#39;ve been at this problem all day and have searched and finally hit a dead end. Any help would be greatly appreciated.","title":"&quot;Importing test library &#39;Selenium2Library&#39; failed: ImportError: No module named decorator&quot; RobotFramework maven plugin","body":"<p>Attempting to run a simple test in a Maven Java Project in IntelliJ 2016.2 on OS X El Capitan 10.11.6 using RobotFramework-Maven-Plugin 1.4.6 </p>\n\n<p><a href=\"http://robotframework.org/MavenPlugin/\" rel=\"nofollow noreferrer\">http://robotframework.org/MavenPlugin/</a></p>\n\n<p>If the test is run using robot through command line the test opens a firefox browser, runs and passes:</p>\n\n<pre><code>*** Settings ***\nLibrary  Selenium2Library\nSuite Teardown  Close all browsers\n\n*** Variables ***\n${BROWSER}  firefox\n${DOMAIN}  google.com\n${PAGE_TITLE}  google\n\n*** Test Cases ***\nExample\n  Open browser  http://${DOMAIN}  ${BROWSER}\n  Page Should Contain  ${PAGE_TITLE}\n</code></pre>\n\n<p>Here's the error I'm receiving:</p>\n\n<pre><code>Importing test library 'Selenium2Library' failed: ImportError: No module named decorator\n</code></pre>\n\n<p>Here the important part of my pom.xml:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.robotframework&lt;/groupId&gt;\n            &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.4.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.markusbernhardt&lt;/groupId&gt;\n        &lt;artifactId&gt;robotframework-selenium2library-java&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>I have the latest Selenium2Library 1.8.0 under /src/test/resources/robotframework/libraries/ as prescribed by the RobotFramework Maven Plugin site: <a href=\"http://robotframework.org/MavenPlugin/examples/seleniumlibrary.html\" rel=\"nofollow noreferrer\">http://robotframework.org/MavenPlugin/examples/seleniumlibrary.html</a></p>\n\n<p>I've been at this problem all day and have searched and finally hit a dead end. Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring","oracle","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7800223,"reputation":119,"user_id":5915328,"accept_rate":83,"display_name":"Saeb Molaee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1609743091,"creation_date":1609739887,"answer_id":65558272,"question_id":65547943,"body_markdown":"Ok I deleted My repository method and used JDBCTemplate instead\r\nthanks to [@MehdiBizhani][1] for solution\r\n\r\n    jdbcTemplate.update(query, new HashMap() {{\r\n                        put(&quot;total_weight&quot;, request.getTozin().getVazn());\r\n                        put(&quot;source_id_list&quot;, request.getSourceList());\r\n                        put(&quot;target_id&quot;, request.getTargetId());\r\n                        put(&quot;created_by&quot;, savedRemittance.getCreatedBy());\r\n                        put(&quot;remittance_id&quot;, savedRemittance.getId());\r\n                        put(&quot;source_tozin_id&quot;, savedTozin.getId());\r\n                    }}\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5759065/mehdi-bizhani","title":"Spring JPA Native Query Insert ORA-01002: fetch out of sequence","body":"<p>Ok I deleted My repository method and used JDBCTemplate instead\nthanks to <a href=\"https://stackoverflow.com/users/5759065/mehdi-bizhani\">@MehdiBizhani</a> for solution</p>\n<pre><code>jdbcTemplate.update(query, new HashMap() {{\n                    put(&quot;total_weight&quot;, request.getTozin().getVazn());\n                    put(&quot;source_id_list&quot;, request.getSourceList());\n                    put(&quot;target_id&quot;, request.getTargetId());\n                    put(&quot;created_by&quot;, savedRemittance.getCreatedBy());\n                    put(&quot;remittance_id&quot;, savedRemittance.getId());\n                    put(&quot;source_tozin_id&quot;, savedTozin.getId());\n                }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7721507,"reputation":1,"user_id":5847593,"display_name":"Swapna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666295288,"creation_date":1666295288,"answer_id":74145577,"question_id":65547943,"body_markdown":"I faced the same error in same scenario. I have Repository class with a native query and I also have INSERT query and ended up seeing fetch out of Sequence error\r\njdbc.spi.SqlExceptionHelper logExceptions - SQL Error: 1002, SQLState: 24000\r\njdbc.spi.SqlExceptionHelper  ORA-01002: fetch out of sequence.\r\n\r\nAdding @Modifying on top of my repo method with @Query annotation helped me resolve the issue.","title":"Spring JPA Native Query Insert ORA-01002: fetch out of sequence","body":"<p>I faced the same error in same scenario. I have Repository class with a native query and I also have INSERT query and ended up seeing fetch out of Sequence error\njdbc.spi.SqlExceptionHelper logExceptions - SQL Error: 1002, SQLState: 24000\njdbc.spi.SqlExceptionHelper  ORA-01002: fetch out of sequence.</p>\n<p>Adding @Modifying on top of my repo method with @Query annotation helped me resolve the issue.</p>\n"}],"owner":{"account_id":7800223,"reputation":119,"user_id":5915328,"accept_rate":83,"display_name":"Saeb Molaee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65558272,"answer_count":2,"score":-1,"last_activity_date":1666295288,"creation_date":1609662809,"question_id":65547943,"body_markdown":"Hi there I Have this Repository class with a native query which when i run it from console it works normally. but when I run it from spring boot class i get , Error Msg = ORA-01002: fetch out of sequence error\r\n\r\n\r\n\r\n        @Modifying\r\n    @Transactional\r\n    @Query(value = &quot;insert into TBL_WARH_REMITTANCE_DETAIL\\n&quot; +\r\n            &quot;(id, c_created_by, d_created_date, n_version, n_e_status, b_editable, n_amount,\\n&quot; +\r\n            &quot; f_depot_id,  f_inventory_id,\\n&quot; +\r\n            &quot; f_remittance_id,  f_source_tozine_id, f_unit_id, n_weight)\\n&quot; +\r\n            &quot;with initial_criteria as (\\n&quot; +\r\n            &quot;    select * from TMP_RD_INV_T where TARGETID = :target_id and FIRST_SOURCEID in :source_id_list\\n&quot; +\r\n            &quot;),\\n&quot; +\r\n            &quot;     base_on_sum_tmp as (select SUM_WEIGHT SUM_WEIGHT, DAT DAT\\n&quot; +\r\n            &quot;                     from initial_criteria\\n&quot; +\r\n            &quot;                     where ROWNUM = 1\\n&quot; +\r\n            &quot;                       and dat = (select max(DAT)\\n&quot; +\r\n            &quot;                                  from initial_criteria\\n&quot; +\r\n            &quot;                                  where SUM_WEIGHT &lt; :total_weight)),\\n&quot; +\r\n            &quot;      base_on_sum as (\\n&quot; +\r\n            &quot;          select SUM_WEIGHT,DAT from base_on_sum_tmp\\n&quot; +\r\n            &quot;            union\\n&quot; +\r\n            &quot;            select SUM_WEIGHT,dat from (\\n&quot; +\r\n            &quot;            select 0 as SUM_WEIGHT,&#39;0&#39; as dat from dual) where ROWNUM=1)\\n&quot; +\r\n            &quot;     ,remained as (select :total_weight - (select SUM_WEIGHT from base_on_sum) r from dual)\\n&quot; +\r\n            &quot;      ,t_20 as (\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from initial_criteria\\n&quot; +\r\n            &quot;         where N_WEIGHT = 20000\\n&quot; +\r\n            &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\r\n            &quot;           and ROWNUM &lt;= FLOOR((select r from remained) / 20000))\\n&quot; +\r\n            &quot;     ,t_4 as (\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from initial_criteria\\n&quot; +\r\n            &quot;         where N_WEIGHT = 4000\\n&quot; +\r\n            &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\r\n            &quot;           and ROWNUM &lt;= FLOOR(mod((select r from remained), 20000) / 4000)),\\n&quot; +\r\n            &quot;     t_2 as (\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from initial_criteria\\n&quot; +\r\n            &quot;         where N_WEIGHT = 2000\\n&quot; +\r\n            &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\r\n            &quot;           and ROWNUM &lt;= FLOOR(mod((select r from remained), 4000) / 2000)),\\n&quot; +\r\n            &quot;     t_1 as (\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from initial_criteria\\n&quot; +\r\n            &quot;         where N_WEIGHT = 1000\\n&quot; +\r\n            &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\r\n            &quot;           and ROWNUM &lt;= FLOOR(mod((select r from remained), 2000) / 1000)),\\n&quot; +\r\n            &quot;     t_500_k as (\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from initial_criteria\\n&quot; +\r\n            &quot;         where N_WEIGHT = 500\\n&quot; +\r\n            &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\r\n            &quot;           and ROWNUM &lt;= FLOOR(mod((select r from remained), 1000) / 500)),\\n&quot; +\r\n            &quot;     under_500_1 as (select *\\n&quot; +\r\n            &quot;                     from initial_criteria\\n&quot; +\r\n            &quot;                     where dat &gt; (select dat from base_on_sum)\\n&quot; +\r\n            &quot;                       and N_WEIGHT &lt;= mod((select r from remained), 500)\\n&quot; +\r\n            &quot;                     order by N_WEIGHT desc),\\n&quot; +\r\n            &quot;     under_500_2 as (select *\\n&quot; +\r\n            &quot;                     from initial_criteria\\n&quot; +\r\n            &quot;                     where dat &gt; (select dat from base_on_sum)\\n&quot; +\r\n            &quot;                       and ID != (select id from under_500_1 where ROWNUM = 1)\\n&quot; +\r\n            &quot;                       and N_WEIGHT &lt;=\\n&quot; +\r\n            &quot;                           mod((select r from remained), 500) - (select N_WEIGHT from under_500_1 where ROWNUM = 1)\\n&quot; +\r\n            &quot;                     order by N_WEIGHT desc),\\n&quot; +\r\n            &quot;     under_500_3 as (select *\\n&quot; +\r\n            &quot;                     from initial_criteria\\n&quot; +\r\n            &quot;                     where dat &gt; (select dat from base_on_sum)\\n&quot; +\r\n            &quot;                       and ID != (select id from under_500_1 where ROWNUM = 1)\\n&quot; +\r\n            &quot;                       and ID != (select id from under_500_2 where ROWNUM = 1)\\n&quot; +\r\n            &quot;                       and N_WEIGHT &lt;=\\n&quot; +\r\n            &quot;                           mod((select r from remained), 500) - (select N_WEIGHT from under_500_1 where ROWNUM = 1) -\\n&quot; +\r\n            &quot;                           (select N_WEIGHT from under_500_2 where ROWNUM = 1)\\n&quot; +\r\n            &quot;                     order by N_WEIGHT desc)\\n&quot; +\r\n            &quot;        ,\\n&quot; +\r\n            &quot;     result as (\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from under_500_1\\n&quot; +\r\n            &quot;         where ROWNUM = 1\\n&quot; +\r\n            &quot;         union\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from under_500_2\\n&quot; +\r\n            &quot;         where ROWNUM = 1\\n&quot; +\r\n            &quot;         union\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from under_500_3\\n&quot; +\r\n            &quot;         where ROWNUM = 1\\n&quot; +\r\n            &quot;         union\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from initial_criteria\\n&quot; +\r\n            &quot;         where DAT &lt;= (select dat from base_on_sum)\\n&quot; +\r\n            &quot;         union\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from t_20\\n&quot; +\r\n            &quot;         union\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from t_4\\n&quot; +\r\n            &quot;         union\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from t_2\\n&quot; +\r\n            &quot;         union\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from t_1\\n&quot; +\r\n            &quot;         union\\n&quot; +\r\n            &quot;         select *\\n&quot; +\r\n            &quot;         from t_500_k\\n&quot; +\r\n            &quot;     )&quot; +\r\n            &quot;--      id, c_created_by, d_created_date, n_version, n_e_status, b_editable, n_amount,\\n&quot; +\r\n            &quot;--      f_depot_id,  f_inventory_id,\\n&quot; +\r\n            &quot;--      f_remittance_id,  f_source_tozine_id, f_unit_id, n_weight\\n&quot; +\r\n            &quot;select\\n&quot; +\r\n            &quot;SEQ_WARH_REMITTANCE_DETAIL.nextval,\\n&quot; +\r\n            &quot;       :created_by,current_timestamp,0,1,1,N_AMOUNT,F_DEPOT_ID,id,:remittance_id,:source_tozin_id,F_UNIT_ID,N_WEIGHT\\n&quot; +\r\n            &quot;from result\\n&quot;, nativeQuery = true)\r\n    List&lt;List&lt;Long&gt;&gt; remittanceDetailByWeight(@Param(&quot;total_weight&quot;) Long weight,\r\n                                        @Param(&quot;source_id_list&quot;) List&lt;Long&gt; sourceIdList,\r\n                                        @Param(&quot;target_id&quot;) Long targetId,\r\n                                        @Param(&quot;created_by&quot;) String createdBy,\r\n                                        @Param(&quot;remittance_id&quot;) Long remittanceId,\r\n                                        @Param(&quot;source_tozin_id&quot;) Long sourceTozinId\r\n\r\n    );\r\n\r\n\r\nwhen I run it in console it works without problem,\r\n\r\n```\r\ninsert into TBL_WARH_REMITTANCE_DETAIL\r\n(id, c_created_by, d_created_date, n_version, n_e_status, b_editable, n_amount,\r\n f_depot_id,  f_inventory_id,\r\n f_remittance_id,  f_source_tozine_id, f_unit_id, n_weight)\r\nwith initial_criteria as (\r\n    select * from TMP_RD_INV_T where TARGETID = 2555  and FIRST_SOURCEID in (1540,1541,1000 )\r\n),\r\n     base_on_sum_tmp as (select SUM_WEIGHT SUM_WEIGHT, DAT DAT\r\n                         from initial_criteria\r\n                         where ROWNUM = 1\r\n                           and dat = (select max(DAT)\r\n                                      from initial_criteria\r\n                                      where SUM_WEIGHT &lt; 39870 )),\r\n     base_on_sum as (\r\n         select SUM_WEIGHT,DAT from base_on_sum_tmp\r\n         union\r\n         select SUM_WEIGHT,dat from (\r\n                                        select 0 as SUM_WEIGHT,&#39;0&#39; as dat from dual) where ROWNUM=1)\r\n        ,remained as (select 39870  - (select SUM_WEIGHT from base_on_sum) r from dual)\r\n        ,t_20 as (\r\n    select *\r\n    from initial_criteria\r\n    where N_WEIGHT = 20000\r\n      and dat &gt; (select DAT from base_on_sum)\r\n      and ROWNUM &lt;= FLOOR((select r from remained) / 20000))\r\n        ,t_4 as (\r\n    select *\r\n    from initial_criteria\r\n    where N_WEIGHT = 4000\r\n      and dat &gt; (select DAT from base_on_sum)\r\n      and ROWNUM &lt;= FLOOR(mod((select r from remained), 20000) / 4000)),\r\n     t_2 as (\r\n         select *\r\n         from initial_criteria\r\n         where N_WEIGHT = 2000\r\n           and dat &gt; (select DAT from base_on_sum)\r\n           and ROWNUM &lt;= FLOOR(mod((select r from remained), 4000) / 2000)),\r\n     t_1 as (\r\n         select *\r\n         from initial_criteria\r\n         where N_WEIGHT = 1000\r\n           and dat &gt; (select DAT from base_on_sum)\r\n           and ROWNUM &lt;= FLOOR(mod((select r from remained), 2000) / 1000)),\r\n     t_500_k as (\r\n         select *\r\n         from initial_criteria\r\n         where N_WEIGHT = 500\r\n           and dat &gt; (select DAT from base_on_sum)\r\n           and ROWNUM &lt;= FLOOR(mod((select r from remained), 1000) / 500)),\r\n     under_500_1 as (select *\r\n                     from initial_criteria\r\n                     where dat &gt; (select dat from base_on_sum)\r\n                       and N_WEIGHT &lt;= mod((select r from remained), 500)\r\n                     order by N_WEIGHT desc),\r\n     under_500_2 as (select *\r\n                     from initial_criteria\r\n                     where dat &gt; (select dat from base_on_sum)\r\n                       and ID != (select id from under_500_1 where ROWNUM = 1)\r\n                       and N_WEIGHT &lt;=\r\n                           mod((select r from remained), 500) - (select N_WEIGHT from under_500_1 where ROWNUM = 1)\r\n                     order by N_WEIGHT desc),\r\n     under_500_3 as (select *\r\n                     from initial_criteria\r\n                     where dat &gt; (select dat from base_on_sum)\r\n                       and ID != (select id from under_500_1 where ROWNUM = 1)\r\n                       and ID != (select id from under_500_2 where ROWNUM = 1)\r\n                       and N_WEIGHT &lt;=\r\n                           mod((select r from remained), 500) - (select N_WEIGHT from under_500_1 where ROWNUM = 1) -\r\n                           (select N_WEIGHT from under_500_2 where ROWNUM = 1)\r\n                     order by N_WEIGHT desc)\r\n        ,\r\n     result as (\r\n         select *\r\n         from under_500_1\r\n         where ROWNUM = 1\r\n         union\r\n         select *\r\n         from under_500_2\r\n         where ROWNUM = 1\r\n         union\r\n         select *\r\n         from under_500_3\r\n         where ROWNUM = 1\r\n         union\r\n         select *\r\n         from initial_criteria\r\n         where DAT &lt;= (select dat from base_on_sum)\r\n         union\r\n         select *\r\n         from t_20\r\n         union\r\n         select *\r\n         from t_4\r\n         union\r\n         select *\r\n         from t_2\r\n         union\r\n         select *\r\n         from t_1\r\n         union\r\n         select *\r\n         from t_500_k\r\n     )--      id, c_created_by, d_created_date, n_version, n_e_status, b_editable, n_amount,\r\n--      f_depot_id,  f_inventory_id,\r\n--      f_remittance_id,  f_source_tozine_id, f_unit_id, n_weight\r\nselect\r\n    SEQ_WARH_REMITTANCE_DETAIL.nextval,\r\n    &#39;saebb&#39; ,current_timestamp,0,1,1,N_AMOUNT,F_DEPOT_ID,id,39101 ,57015 ,F_UNIT_ID,N_WEIGHT\r\nfrom result\r\n\r\n```\r\n\r\n\r\n\r\nit works without any problem `[2021-01-03 11:51:32] 9 rows affected in 4 s 662 ms`\r\n\r\nbut when I run it from Java it would not run run\r\n\r\nand shows , Error Msg = ORA-01002: fetch out of sequence error\r\n\r\n```\r\n\r\nimport com.nicico.sales.repository.warehouse.RemittanceDetailDAO;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n\r\nimport java.util.ArrayList;\r\n\r\n@SpringBootTest\r\n@RunWith(value = SpringRunner.class)\r\npublic class BatchRemittanceDetailTest {\r\n@Autowired\r\n    private RemittanceDetailDAO remittanceDetailDAO;\r\n@Test\r\n    public void brdt(){\r\n    final ArrayList&lt;Long&gt; objects = new ArrayList&lt;&gt;();\r\n    objects.add(1541L);\r\n    objects.add(1540L);\r\n    objects.add(1000L);\r\n    remittanceDetailDAO.remittanceDetailByWeightCount(39870L,objects,2555L).get(0).get(1);\r\n    remittanceDetailDAO.remittanceDetailByWeight(39870L,objects,2555L,&quot;saebb&quot;,\r\n            39101L,57015L);\r\n}\r\n\r\n}\r\n\r\n```","title":"Spring JPA Native Query Insert ORA-01002: fetch out of sequence","body":"<p>Hi there I Have this Repository class with a native query which when i run it from console it works normally. but when I run it from spring boot class i get , Error Msg = ORA-01002: fetch out of sequence error</p>\n<pre><code>    @Modifying\n@Transactional\n@Query(value = &quot;insert into TBL_WARH_REMITTANCE_DETAIL\\n&quot; +\n        &quot;(id, c_created_by, d_created_date, n_version, n_e_status, b_editable, n_amount,\\n&quot; +\n        &quot; f_depot_id,  f_inventory_id,\\n&quot; +\n        &quot; f_remittance_id,  f_source_tozine_id, f_unit_id, n_weight)\\n&quot; +\n        &quot;with initial_criteria as (\\n&quot; +\n        &quot;    select * from TMP_RD_INV_T where TARGETID = :target_id and FIRST_SOURCEID in :source_id_list\\n&quot; +\n        &quot;),\\n&quot; +\n        &quot;     base_on_sum_tmp as (select SUM_WEIGHT SUM_WEIGHT, DAT DAT\\n&quot; +\n        &quot;                     from initial_criteria\\n&quot; +\n        &quot;                     where ROWNUM = 1\\n&quot; +\n        &quot;                       and dat = (select max(DAT)\\n&quot; +\n        &quot;                                  from initial_criteria\\n&quot; +\n        &quot;                                  where SUM_WEIGHT &lt; :total_weight)),\\n&quot; +\n        &quot;      base_on_sum as (\\n&quot; +\n        &quot;          select SUM_WEIGHT,DAT from base_on_sum_tmp\\n&quot; +\n        &quot;            union\\n&quot; +\n        &quot;            select SUM_WEIGHT,dat from (\\n&quot; +\n        &quot;            select 0 as SUM_WEIGHT,'0' as dat from dual) where ROWNUM=1)\\n&quot; +\n        &quot;     ,remained as (select :total_weight - (select SUM_WEIGHT from base_on_sum) r from dual)\\n&quot; +\n        &quot;      ,t_20 as (\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from initial_criteria\\n&quot; +\n        &quot;         where N_WEIGHT = 20000\\n&quot; +\n        &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\n        &quot;           and ROWNUM &lt;= FLOOR((select r from remained) / 20000))\\n&quot; +\n        &quot;     ,t_4 as (\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from initial_criteria\\n&quot; +\n        &quot;         where N_WEIGHT = 4000\\n&quot; +\n        &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\n        &quot;           and ROWNUM &lt;= FLOOR(mod((select r from remained), 20000) / 4000)),\\n&quot; +\n        &quot;     t_2 as (\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from initial_criteria\\n&quot; +\n        &quot;         where N_WEIGHT = 2000\\n&quot; +\n        &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\n        &quot;           and ROWNUM &lt;= FLOOR(mod((select r from remained), 4000) / 2000)),\\n&quot; +\n        &quot;     t_1 as (\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from initial_criteria\\n&quot; +\n        &quot;         where N_WEIGHT = 1000\\n&quot; +\n        &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\n        &quot;           and ROWNUM &lt;= FLOOR(mod((select r from remained), 2000) / 1000)),\\n&quot; +\n        &quot;     t_500_k as (\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from initial_criteria\\n&quot; +\n        &quot;         where N_WEIGHT = 500\\n&quot; +\n        &quot;           and dat &gt; (select DAT from base_on_sum)\\n&quot; +\n        &quot;           and ROWNUM &lt;= FLOOR(mod((select r from remained), 1000) / 500)),\\n&quot; +\n        &quot;     under_500_1 as (select *\\n&quot; +\n        &quot;                     from initial_criteria\\n&quot; +\n        &quot;                     where dat &gt; (select dat from base_on_sum)\\n&quot; +\n        &quot;                       and N_WEIGHT &lt;= mod((select r from remained), 500)\\n&quot; +\n        &quot;                     order by N_WEIGHT desc),\\n&quot; +\n        &quot;     under_500_2 as (select *\\n&quot; +\n        &quot;                     from initial_criteria\\n&quot; +\n        &quot;                     where dat &gt; (select dat from base_on_sum)\\n&quot; +\n        &quot;                       and ID != (select id from under_500_1 where ROWNUM = 1)\\n&quot; +\n        &quot;                       and N_WEIGHT &lt;=\\n&quot; +\n        &quot;                           mod((select r from remained), 500) - (select N_WEIGHT from under_500_1 where ROWNUM = 1)\\n&quot; +\n        &quot;                     order by N_WEIGHT desc),\\n&quot; +\n        &quot;     under_500_3 as (select *\\n&quot; +\n        &quot;                     from initial_criteria\\n&quot; +\n        &quot;                     where dat &gt; (select dat from base_on_sum)\\n&quot; +\n        &quot;                       and ID != (select id from under_500_1 where ROWNUM = 1)\\n&quot; +\n        &quot;                       and ID != (select id from under_500_2 where ROWNUM = 1)\\n&quot; +\n        &quot;                       and N_WEIGHT &lt;=\\n&quot; +\n        &quot;                           mod((select r from remained), 500) - (select N_WEIGHT from under_500_1 where ROWNUM = 1) -\\n&quot; +\n        &quot;                           (select N_WEIGHT from under_500_2 where ROWNUM = 1)\\n&quot; +\n        &quot;                     order by N_WEIGHT desc)\\n&quot; +\n        &quot;        ,\\n&quot; +\n        &quot;     result as (\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from under_500_1\\n&quot; +\n        &quot;         where ROWNUM = 1\\n&quot; +\n        &quot;         union\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from under_500_2\\n&quot; +\n        &quot;         where ROWNUM = 1\\n&quot; +\n        &quot;         union\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from under_500_3\\n&quot; +\n        &quot;         where ROWNUM = 1\\n&quot; +\n        &quot;         union\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from initial_criteria\\n&quot; +\n        &quot;         where DAT &lt;= (select dat from base_on_sum)\\n&quot; +\n        &quot;         union\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from t_20\\n&quot; +\n        &quot;         union\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from t_4\\n&quot; +\n        &quot;         union\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from t_2\\n&quot; +\n        &quot;         union\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from t_1\\n&quot; +\n        &quot;         union\\n&quot; +\n        &quot;         select *\\n&quot; +\n        &quot;         from t_500_k\\n&quot; +\n        &quot;     )&quot; +\n        &quot;--      id, c_created_by, d_created_date, n_version, n_e_status, b_editable, n_amount,\\n&quot; +\n        &quot;--      f_depot_id,  f_inventory_id,\\n&quot; +\n        &quot;--      f_remittance_id,  f_source_tozine_id, f_unit_id, n_weight\\n&quot; +\n        &quot;select\\n&quot; +\n        &quot;SEQ_WARH_REMITTANCE_DETAIL.nextval,\\n&quot; +\n        &quot;       :created_by,current_timestamp,0,1,1,N_AMOUNT,F_DEPOT_ID,id,:remittance_id,:source_tozin_id,F_UNIT_ID,N_WEIGHT\\n&quot; +\n        &quot;from result\\n&quot;, nativeQuery = true)\nList&lt;List&lt;Long&gt;&gt; remittanceDetailByWeight(@Param(&quot;total_weight&quot;) Long weight,\n                                    @Param(&quot;source_id_list&quot;) List&lt;Long&gt; sourceIdList,\n                                    @Param(&quot;target_id&quot;) Long targetId,\n                                    @Param(&quot;created_by&quot;) String createdBy,\n                                    @Param(&quot;remittance_id&quot;) Long remittanceId,\n                                    @Param(&quot;source_tozin_id&quot;) Long sourceTozinId\n\n);\n</code></pre>\n<p>when I run it in console it works without problem,</p>\n<pre><code>insert into TBL_WARH_REMITTANCE_DETAIL\n(id, c_created_by, d_created_date, n_version, n_e_status, b_editable, n_amount,\n f_depot_id,  f_inventory_id,\n f_remittance_id,  f_source_tozine_id, f_unit_id, n_weight)\nwith initial_criteria as (\n    select * from TMP_RD_INV_T where TARGETID = 2555  and FIRST_SOURCEID in (1540,1541,1000 )\n),\n     base_on_sum_tmp as (select SUM_WEIGHT SUM_WEIGHT, DAT DAT\n                         from initial_criteria\n                         where ROWNUM = 1\n                           and dat = (select max(DAT)\n                                      from initial_criteria\n                                      where SUM_WEIGHT &lt; 39870 )),\n     base_on_sum as (\n         select SUM_WEIGHT,DAT from base_on_sum_tmp\n         union\n         select SUM_WEIGHT,dat from (\n                                        select 0 as SUM_WEIGHT,'0' as dat from dual) where ROWNUM=1)\n        ,remained as (select 39870  - (select SUM_WEIGHT from base_on_sum) r from dual)\n        ,t_20 as (\n    select *\n    from initial_criteria\n    where N_WEIGHT = 20000\n      and dat &gt; (select DAT from base_on_sum)\n      and ROWNUM &lt;= FLOOR((select r from remained) / 20000))\n        ,t_4 as (\n    select *\n    from initial_criteria\n    where N_WEIGHT = 4000\n      and dat &gt; (select DAT from base_on_sum)\n      and ROWNUM &lt;= FLOOR(mod((select r from remained), 20000) / 4000)),\n     t_2 as (\n         select *\n         from initial_criteria\n         where N_WEIGHT = 2000\n           and dat &gt; (select DAT from base_on_sum)\n           and ROWNUM &lt;= FLOOR(mod((select r from remained), 4000) / 2000)),\n     t_1 as (\n         select *\n         from initial_criteria\n         where N_WEIGHT = 1000\n           and dat &gt; (select DAT from base_on_sum)\n           and ROWNUM &lt;= FLOOR(mod((select r from remained), 2000) / 1000)),\n     t_500_k as (\n         select *\n         from initial_criteria\n         where N_WEIGHT = 500\n           and dat &gt; (select DAT from base_on_sum)\n           and ROWNUM &lt;= FLOOR(mod((select r from remained), 1000) / 500)),\n     under_500_1 as (select *\n                     from initial_criteria\n                     where dat &gt; (select dat from base_on_sum)\n                       and N_WEIGHT &lt;= mod((select r from remained), 500)\n                     order by N_WEIGHT desc),\n     under_500_2 as (select *\n                     from initial_criteria\n                     where dat &gt; (select dat from base_on_sum)\n                       and ID != (select id from under_500_1 where ROWNUM = 1)\n                       and N_WEIGHT &lt;=\n                           mod((select r from remained), 500) - (select N_WEIGHT from under_500_1 where ROWNUM = 1)\n                     order by N_WEIGHT desc),\n     under_500_3 as (select *\n                     from initial_criteria\n                     where dat &gt; (select dat from base_on_sum)\n                       and ID != (select id from under_500_1 where ROWNUM = 1)\n                       and ID != (select id from under_500_2 where ROWNUM = 1)\n                       and N_WEIGHT &lt;=\n                           mod((select r from remained), 500) - (select N_WEIGHT from under_500_1 where ROWNUM = 1) -\n                           (select N_WEIGHT from under_500_2 where ROWNUM = 1)\n                     order by N_WEIGHT desc)\n        ,\n     result as (\n         select *\n         from under_500_1\n         where ROWNUM = 1\n         union\n         select *\n         from under_500_2\n         where ROWNUM = 1\n         union\n         select *\n         from under_500_3\n         where ROWNUM = 1\n         union\n         select *\n         from initial_criteria\n         where DAT &lt;= (select dat from base_on_sum)\n         union\n         select *\n         from t_20\n         union\n         select *\n         from t_4\n         union\n         select *\n         from t_2\n         union\n         select *\n         from t_1\n         union\n         select *\n         from t_500_k\n     )--      id, c_created_by, d_created_date, n_version, n_e_status, b_editable, n_amount,\n--      f_depot_id,  f_inventory_id,\n--      f_remittance_id,  f_source_tozine_id, f_unit_id, n_weight\nselect\n    SEQ_WARH_REMITTANCE_DETAIL.nextval,\n    'saebb' ,current_timestamp,0,1,1,N_AMOUNT,F_DEPOT_ID,id,39101 ,57015 ,F_UNIT_ID,N_WEIGHT\nfrom result\n\n</code></pre>\n<p>it works without any problem <code>[2021-01-03 11:51:32] 9 rows affected in 4 s 662 ms</code></p>\n<p>but when I run it from Java it would not run run</p>\n<p>and shows , Error Msg = ORA-01002: fetch out of sequence error</p>\n<pre><code>\nimport com.nicico.sales.repository.warehouse.RemittanceDetailDAO;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport java.util.ArrayList;\n\n@SpringBootTest\n@RunWith(value = SpringRunner.class)\npublic class BatchRemittanceDetailTest {\n@Autowired\n    private RemittanceDetailDAO remittanceDetailDAO;\n@Test\n    public void brdt(){\n    final ArrayList&lt;Long&gt; objects = new ArrayList&lt;&gt;();\n    objects.add(1541L);\n    objects.add(1540L);\n    objects.add(1000L);\n    remittanceDetailDAO.remittanceDetailByWeightCount(39870L,objects,2555L).get(0).get(1);\n    remittanceDetailDAO.remittanceDetailByWeight(39870L,objects,2555L,&quot;saebb&quot;,\n            39101L,57015L);\n}\n\n}\n\n</code></pre>\n"},{"tags":["java","elasticsearch","indexing"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666295168,"creation_date":1666295168,"answer_id":74145547,"question_id":74143824,"body_markdown":"If I understand correctly you can use [sort script][1] in this case.\r\n\r\n\r\n\r\n    POST idx_my/_bulk\r\n    {&quot;index&quot;:{}}\r\n    {&quot;name&quot;:&quot;A&quot;, &quot;ranking&quot;: 20.0 }\r\n    {&quot;index&quot;:{}}\r\n    {&quot;name&quot;:&quot;B&quot;, &quot;ranking&quot;: null }\r\n    \r\n    POST idx_my/_search\r\n    {\r\n       &quot;query&quot;: {\r\n          &quot;match_all&quot;: {}\r\n       },\r\n       &quot;sort&quot;: {\r\n          &quot;_script&quot;: {\r\n             &quot;script&quot;: &quot;if(doc[&#39;ranking&#39;].size() == 0) { return 0.0; } else { return doc[&#39;ranking&#39;].value; }&quot;,\r\n             &quot;type&quot;: &quot;number&quot;,    \r\n             &quot;order&quot;: &quot;desc&quot;\r\n          }\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/7.17/sort-search-results.html#script-based-sorting","title":"ElasticSearch - How to treat missing fields as 0 when sorting by field?","body":"<p>If I understand correctly you can use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.17/sort-search-results.html#script-based-sorting\" rel=\"nofollow noreferrer\">sort script</a> in this case.</p>\n<pre><code>POST idx_my/_bulk\n{&quot;index&quot;:{}}\n{&quot;name&quot;:&quot;A&quot;, &quot;ranking&quot;: 20.0 }\n{&quot;index&quot;:{}}\n{&quot;name&quot;:&quot;B&quot;, &quot;ranking&quot;: null }\n\nPOST idx_my/_search\n{\n   &quot;query&quot;: {\n      &quot;match_all&quot;: {}\n   },\n   &quot;sort&quot;: {\n      &quot;_script&quot;: {\n         &quot;script&quot;: &quot;if(doc['ranking'].size() == 0) { return 0.0; } else { return doc['ranking'].value; }&quot;,\n         &quot;type&quot;: &quot;number&quot;,    \n         &quot;order&quot;: &quot;desc&quot;\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":15258615,"reputation":317,"user_id":11009484,"display_name":"wanderingstu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666295168,"creation_date":1666286025,"question_id":74143824,"body_markdown":"I am trying to sort by a `double` field, called `ranking` that is not fully populated. If I try to sort by the `ranking` field, the fields that don&#39;t have a `ranking` value are treated as `Infinity`. \r\n\r\nI am already aware that you can treat missing fields as `_first` or `_last` when sorting. But Is there a way to treat the missing values of a field as `0` when sorting by field? ","title":"ElasticSearch - How to treat missing fields as 0 when sorting by field?","body":"<p>I am trying to sort by a <code>double</code> field, called <code>ranking</code> that is not fully populated. If I try to sort by the <code>ranking</code> field, the fields that don't have a <code>ranking</code> value are treated as <code>Infinity</code>.</p>\n<p>I am already aware that you can treat missing fields as <code>_first</code> or <code>_last</code> when sorting. But Is there a way to treat the missing values of a field as <code>0</code> when sorting by field?</p>\n"},{"tags":["java"],"owner":{"account_id":26685740,"reputation":79,"user_id":20295087,"display_name":"Munawar Manzoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1667844115,"answer_count":0,"score":-1,"last_activity_date":1666294687,"creation_date":1666294687,"question_id":74145476,"body_markdown":"Could not get unknown property &#39;defaultApplicationIdSuffix&#39; for DefaultConfig$AgpDecorated_Decorated{name=main, dimension=null, minSdkVersion=DefaultApiVersion{mApiLevel=21, mCodename=&#39;null&#39;}, targetSdkVersion=DefaultApiVersion{mApiLevel=32, mCodename=&#39;null&#39;}, renderscriptTargetApi=null, renderscriptSupportModeEnabled=null, renderscriptSupportModeBlasEnabled=null, renderscriptNdkModeEnabled=null, versionCode=1, versionName=1.0, applicationId=null, testApplicationId=null, testInstrumentationRunner=androidx.test.runner.AndroidJUnitRunner, testInstrumentationRunnerArguments={}, testHandleProfiling=null, testFunctionalTest=null, signingConfig=null, resConfig=[], buildConfigFields={}, resValues={}, proguardFiles=[], consumerProguardFiles=[], manifestPlaceholders={}, wearAppUnbundled=null} of type com.android.build.gradle.internal.dsl.DefaultConfig$AgpDecorated","title":"i have problem while i am connecting firebase with my andriod can ay one solve this problem?","body":"<p>Could not get unknown property 'defaultApplicationIdSuffix' for DefaultConfig$AgpDecorated_Decorated{name=main, dimension=null, minSdkVersion=DefaultApiVersion{mApiLevel=21, mCodename='null'}, targetSdkVersion=DefaultApiVersion{mApiLevel=32, mCodename='null'}, renderscriptTargetApi=null, renderscriptSupportModeEnabled=null, renderscriptSupportModeBlasEnabled=null, renderscriptNdkModeEnabled=null, versionCode=1, versionName=1.0, applicationId=null, testApplicationId=null, testInstrumentationRunner=androidx.test.runner.AndroidJUnitRunner, testInstrumentationRunnerArguments={}, testHandleProfiling=null, testFunctionalTest=null, signingConfig=null, resConfig=[], buildConfigFields={}, resValues={}, proguardFiles=[], consumerProguardFiles=[], manifestPlaceholders={}, wearAppUnbundled=null} of type com.android.build.gradle.internal.dsl.DefaultConfig$AgpDecorated</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9278,"page":945,"page_size":100}
