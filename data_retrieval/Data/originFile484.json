{"items":[{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682317632,"post_id":76080386,"comment_id":134190076,"body_markdown":"YOu aren&#39;t autowiring anything. There is no setter, so no way for the XML way to determine what to inject (hence `null`), if you add `@Autowired` without explicitly enabling it with either `&lt;context:annotation-config /&gt;` or by `&lt;context:component-scan /&gt;` it won&#39;t work either as it won&#39;t proces `@Autowired` without that.","body":"YOu aren&#39;t autowiring anything. There is no setter, so no way for the XML way to determine what to inject (hence <code>null</code>), if you add <code>@Autowired</code> without explicitly enabling it with either <code>&lt;context:annotation-config &#47;&gt;</code> or by <code>&lt;context:component-scan &#47;&gt;</code> it won&#39;t work either as it won&#39;t proces <code>@Autowired</code> without that."}],"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682185400,"creation_date":1682176787,"question_id":76080386,"body_markdown":"I am currently learning Spring AutoWiring Concept. I came across a situation. I created a `Engine` interface and then two implementations of this Interface one being `FerrariEngine` and another as `HondaEngine`. Now I am trying to autowire this in `Car` class using `autowire=&quot;byType&quot;` in `xml` config. But the code is throwing the error as `Engine` is null. Is it that Spring cannot identify interface implemented class using byType??\r\n\r\nPlease help me in understanding why this error is occuring.\r\n\r\n`Car.java`\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n    \r\n//@Component\r\npublic class Car {\r\n    // @Autowired\r\n    private Engine engine;\r\n\r\n    public void printEngineName() {\r\n        System.out.println(engine.getEngineName());\r\n    }\r\n}\r\n```    \r\n`Engine.java`\r\n\r\n```java    \r\nimport org.springframework.stereotype.Component;\r\n\r\n\r\npublic interface Engine {\r\n    String getEngineName();\r\n}\r\n```    \r\n`FerrariEngine.java`\r\n\r\n```java    \r\npublic class FerrariEngine implements Engine {\r\n    @Override\r\n    public String getEngineName() {\r\n        return &quot;FerrariEngine&quot;;\r\n    }\r\n}\r\n```    \r\n`HondaEngine.java`\r\n\r\n```java    \r\npublic class HondaEngine implements Engine {\r\n\r\n    @Override\r\n    public String getEngineName() {\r\n        return &quot;HondaEngine&quot;;\r\n    }\r\n}\r\n```    \r\n`Driver.java`\r\n\r\n```java    \r\npublic class Driver {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ApplicationContext context1 = new ClassPathXmlApplicationContext(&quot;resources/primaryautowire.xml&quot;);\r\n        Car car1 = (Car) context1.getBean(&quot;car&quot;);\r\n        /*\r\n         * String[] beanNames = context1.getBeanDefinitionNames();\r\n         * for(String name: beanNames)\r\n         * System.out.println(name);\r\n         */\r\n        car1.printEngineName();\r\n    }\r\n}\r\n```    \r\n`primaryautowire.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    xmlns:c=&quot;http://www.springframework.org/schema/c&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n                        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd\r\n                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;\r\n    xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n&gt;\r\n\r\n    &lt;bean class=&quot;Spring3AdvancedWiring.primarybean.HondaEngine&quot; primary=&quot;true&quot;&gt;\r\n&lt;/bean&gt;\r\n\r\n    &lt;bean class=&quot;Spring3AdvancedWiring.primarybean.FerrariEngine&quot;&gt;\r\n&lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;car&quot; class=&quot;Spring3AdvancedWiring.primarybean.Car&quot; autowire=&quot;byType&quot;&gt;\r\n&lt;/bean&gt;\r\n\r\n    &lt;!--&lt;context:annotation-config/&gt;--&gt;\r\n&lt;/beans&gt;\r\n```    \r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Spring3AdvancedWiring.primarybean.Engine.getEngineName()&quot; because &quot;this.engine&quot; is null\r\n    \tat Spring3AdvancedWiring.primarybean.Car.printEngineName(Car.java:14)\r\n    \tat Spring3AdvancedWiring.primarybean.Driver.main(Driver.java:20)\r\n\r\n","title":"autowire bytype fails incase of interface implementations","body":"<p>I am currently learning Spring AutoWiring Concept. I came across a situation. I created a <code>Engine</code> interface and then two implementations of this Interface one being <code>FerrariEngine</code> and another as <code>HondaEngine</code>. Now I am trying to autowire this in <code>Car</code> class using <code>autowire=&quot;byType&quot;</code> in <code>xml</code> config. But the code is throwing the error as <code>Engine</code> is null. Is it that Spring cannot identify interface implemented class using byType??</p>\n<p>Please help me in understanding why this error is occuring.</p>\n<p><code>Car.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n    \n//@Component\npublic class Car {\n    // @Autowired\n    private Engine engine;\n\n    public void printEngineName() {\n        System.out.println(engine.getEngineName());\n    }\n}\n</code></pre>\n<p><code>Engine.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Component;\n\n\npublic interface Engine {\n    String getEngineName();\n}\n</code></pre>\n<p><code>FerrariEngine.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FerrariEngine implements Engine {\n    @Override\n    public String getEngineName() {\n        return &quot;FerrariEngine&quot;;\n    }\n}\n</code></pre>\n<p><code>HondaEngine.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HondaEngine implements Engine {\n\n    @Override\n    public String getEngineName() {\n        return &quot;HondaEngine&quot;;\n    }\n}\n</code></pre>\n<p><code>Driver.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Driver {\n\n    public static void main(String[] args) {\n\n        ApplicationContext context1 = new ClassPathXmlApplicationContext(&quot;resources/primaryautowire.xml&quot;);\n        Car car1 = (Car) context1.getBean(&quot;car&quot;);\n        /*\n         * String[] beanNames = context1.getBeanDefinitionNames();\n         * for(String name: beanNames)\n         * System.out.println(name);\n         */\n        car1.printEngineName();\n    }\n}\n</code></pre>\n<p><code>primaryautowire.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:c=&quot;http://www.springframework.org/schema/c&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd\n                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;\n    xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n&gt;\n\n    &lt;bean class=&quot;Spring3AdvancedWiring.primarybean.HondaEngine&quot; primary=&quot;true&quot;&gt;\n&lt;/bean&gt;\n\n    &lt;bean class=&quot;Spring3AdvancedWiring.primarybean.FerrariEngine&quot;&gt;\n&lt;/bean&gt;\n\n    &lt;bean id=&quot;car&quot; class=&quot;Spring3AdvancedWiring.primarybean.Car&quot; autowire=&quot;byType&quot;&gt;\n&lt;/bean&gt;\n\n    &lt;!--&lt;context:annotation-config/&gt;--&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Spring3AdvancedWiring.primarybean.Engine.getEngineName()&quot; because &quot;this.engine&quot; is null\n    at Spring3AdvancedWiring.primarybean.Car.printEngineName(Car.java:14)\n    at Spring3AdvancedWiring.primarybean.Driver.main(Driver.java:20)\n</code></pre>\n"},{"tags":["java","android","bottom-sheet"],"answers":[{"comments":[{"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"score":0,"creation_date":1632321930,"post_id":42975843,"comment_id":122461595,"body_markdown":"hello there acctualy i have a diffrent isuue where if i go to a fragment from a button click which is in the bottom sheet the fragment is opening but the bottom sheet is not hiding automaticly in the other fragment i have to do it manaully by tap on the screen here is my question https://stackoverflow.com/questions/69282868/bottomsheet-is-not-hiding-when-navigating-between-different-fragments can anyone help me with this","body":"hello there acctualy i have a diffrent isuue where if i go to a fragment from a button click which is in the bottom sheet the fragment is opening but the bottom sheet is not hiding automaticly in the other fragment i have to do it manaully by tap on the screen here is my question <a href=\"https://stackoverflow.com/questions/69282868/bottomsheet-is-not-hiding-when-navigating-between-different-fragments\" title=\"bottomsheet is not hiding when navigating between different fragments\">stackoverflow.com/questions/69282868/&hellip;</a> can anyone help me with this"}],"tags":[],"owner":{"account_id":10449948,"reputation":144,"user_id":7703895,"display_name":"ALBPT"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1490271559,"creation_date":1490271559,"answer_id":42975843,"question_id":42959780,"body_markdown":"Write this:\r\n\r\n\r\n        mBottomSheetBehavior.setPeekHeight(0);","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>Write this:</p>\n\n<pre><code>    mBottomSheetBehavior.setPeekHeight(0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4603281,"reputation":1439,"user_id":3733430,"accept_rate":54,"display_name":"kemdo"},"score":0,"creation_date":1506579713,"post_id":45168291,"comment_id":79879219,"body_markdown":"bottom sheet does not show when i setstate COLLAPSED. I have app:behavior_peekHeight=&quot;200dp&quot; in xml code","body":"bottom sheet does not show when i setstate COLLAPSED. I have app:behavior_peekHeight=&quot;200dp&quot; in xml code"},{"owner":{"account_id":9699581,"reputation":472,"user_id":7194993,"display_name":"Pietro Scarampella"},"score":0,"creation_date":1508853745,"post_id":45168291,"comment_id":80772163,"body_markdown":"just wondering, are your bottomsheet a first child in a CoordinatorLayout?","body":"just wondering, are your bottomsheet a first child in a CoordinatorLayout?"},{"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"score":0,"creation_date":1632321871,"post_id":45168291,"comment_id":122461564,"body_markdown":"hello there acctualy i have a diffrent isuue where if i go to a fragment from a button click which is in the bottom sheet the fragment is opening but the bottom sheet is not hiding automaticly in the other fragment i have to do it manaully by tap on the screen here is my question https://stackoverflow.com/questions/69282868/bottomsheet-is-not-hiding-when-navigating-between-different-fragments can anyone help me with this","body":"hello there acctualy i have a diffrent isuue where if i go to a fragment from a button click which is in the bottom sheet the fragment is opening but the bottom sheet is not hiding automaticly in the other fragment i have to do it manaully by tap on the screen here is my question <a href=\"https://stackoverflow.com/questions/69282868/bottomsheet-is-not-hiding-when-navigating-between-different-fragments\" title=\"bottomsheet is not hiding when navigating between different fragments\">stackoverflow.com/questions/69282868/&hellip;</a> can anyone help me with this"}],"tags":[],"owner":{"account_id":9699581,"reputation":472,"user_id":7194993,"display_name":"Pietro Scarampella"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1500384747,"creation_date":1500384747,"answer_id":45168291,"question_id":42959780,"body_markdown":"first you have to add the attribute\r\n\r\n    app:behavior_hideable=&quot;true&quot;\r\n\r\nin your \r\n\r\n    &lt;android.support.v4.widget.NestedScrollView\r\n        android:id=&quot;@+id/bottom_sheet&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        android:clipToPadding=&quot;true&quot;\r\n        app:layout_behavior=&quot;android.support.design.widget.BottomSheetBehavior&quot;&gt;\r\n\r\nAnd then you can hide the bottom sheet using \r\n\r\n    mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN)\r\nand not \r\n\r\n    mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED)\r\n\r\n\r\nthe state COLLAPSED is between HIDDEN and EXPANDED and his heigth must be specified by the attribute:\r\n\r\n    app:behavior_peekHeight=&quot;200dp&quot;\r\n\r\n\r\n\r\n","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>first you have to add the attribute</p>\n\n<pre><code>app:behavior_hideable=\"true\"\n</code></pre>\n\n<p>in your </p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n    android:id=\"@+id/bottom_sheet\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"350dp\"\n    android:background=\"?android:attr/windowBackground\"\n    android:clipToPadding=\"true\"\n    app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"&gt;\n</code></pre>\n\n<p>And then you can hide the bottom sheet using </p>\n\n<pre><code>mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN)\n</code></pre>\n\n<p>and not </p>\n\n<pre><code>mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED)\n</code></pre>\n\n<p>the state COLLAPSED is between HIDDEN and EXPANDED and his heigth must be specified by the attribute:</p>\n\n<pre><code>app:behavior_peekHeight=\"200dp\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10212232,"reputation":2394,"user_id":7538976,"display_name":"Kishore Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539886519,"creation_date":1512815821,"answer_id":47727647,"question_id":42959780,"body_markdown":"Inside `onCreate` add these lines, it can hide the bottombar\r\n\r\n    mBottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);\r\n    mBottomSheetBehavior.setHideable(true); //Important to add\r\n    mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN); //Important to add","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>Inside <code>onCreate</code> add these lines, it can hide the bottombar</p>\n\n<pre><code>mBottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);\nmBottomSheetBehavior.setHideable(true); //Important to add\nmBottomSheetBehavior.setState(BottomSheetBehavior.STATE_HIDDEN); //Important to add\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"score":0,"creation_date":1632321943,"post_id":50217419,"comment_id":122461604,"body_markdown":"hello there acctualy i have a diffrent isuue where if i go to a fragment from a button click which is in the bottom sheet the fragment is opening but the bottom sheet is not hiding automaticly in the other fragment i have to do it manaully by tap on the screen here is my question https://stackoverflow.com/questions/69282868/bottomsheet-is-not-hiding-when-navigating-between-different-fragments can anyone help me with this","body":"hello there acctualy i have a diffrent isuue where if i go to a fragment from a button click which is in the bottom sheet the fragment is opening but the bottom sheet is not hiding automaticly in the other fragment i have to do it manaully by tap on the screen here is my question <a href=\"https://stackoverflow.com/questions/69282868/bottomsheet-is-not-hiding-when-navigating-between-different-fragments\" title=\"bottomsheet is not hiding when navigating between different fragments\">stackoverflow.com/questions/69282868/&hellip;</a> can anyone help me with this"}],"tags":[],"owner":{"account_id":7405400,"reputation":3577,"user_id":5634470,"accept_rate":45,"display_name":"RoCkDevstack"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525706011,"creation_date":1525706011,"answer_id":50217419,"question_id":42959780,"body_markdown":"In my case I was using `BottomSheetDialog`. \r\n\r\n**`app:behavior_hideable`** - attribute is used to determine **if our bottom sheet will hide when it is swiped down**. In other words bottom sheet top be off screen, if the peek height isn’t set.\r\n\r\n**`app:behavior_peekHeight`** - attribute value used to represent how much pixels the bottom sheet will be visible.\r\n\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/bottom_sheet_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:elevation=&quot;10dp&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/colorPrimaryDerived&quot;\r\n    app:layout_behavior=&quot;@string/bottom_sheet_behavior&quot;\r\n    app:behavior_hideable=&quot;true&quot;\r\n    app:behavior_peekHeight=&quot;0dp&quot;&gt; ........... &lt;/LinearLayout&gt;\r\n\r\nI set the peekHeight to 50dp. And peek height has nothing to do with the bottomSheet layout height itself which I set 200dp (for example only). \r\n\r\n[![peek][1]][1]\r\n\r\nYou can view the changes in your XML viewer if the bottom sheet is expanded, if so add the `app:behavior_peekHeight = 0dp `from the xml layout and it will hide and also inform you of the current state. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ht1Qn.png","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>In my case I was using <code>BottomSheetDialog</code>. </p>\n\n<p><strong><code>app:behavior_hideable</code></strong> - attribute is used to determine <strong>if our bottom sheet will hide when it is swiped down</strong>. In other words bottom sheet top be off screen, if the peek height isn’t set.</p>\n\n<p><strong><code>app:behavior_peekHeight</code></strong> - attribute value used to represent how much pixels the bottom sheet will be visible.</p>\n\n<pre><code>&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/bottom_sheet_container\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:elevation=\"10dp\"\nandroid:orientation=\"vertical\"\nandroid:background=\"@color/colorPrimaryDerived\"\napp:layout_behavior=\"@string/bottom_sheet_behavior\"\napp:behavior_hideable=\"true\"\napp:behavior_peekHeight=\"0dp\"&gt; ........... &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I set the peekHeight to 50dp. And peek height has nothing to do with the bottomSheet layout height itself which I set 200dp (for example only). </p>\n\n<p><a href=\"https://i.stack.imgur.com/Ht1Qn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ht1Qn.png\" alt=\"peek\"></a></p>\n\n<p>You can view the changes in your XML viewer if the bottom sheet is expanded, if so add the <code>app:behavior_peekHeight = 0dp</code>from the xml layout and it will hide and also inform you of the current state. </p>\n"},{"comments":[{"owner":{"account_id":1930781,"reputation":1154,"user_id":1740195,"display_name":"Nithin Raja"},"score":0,"creation_date":1531181667,"post_id":50268558,"comment_id":89490125,"body_markdown":"I have removed animateLayoutChanges = &quot;true&quot; and it is working perfectly. Thanks!","body":"I have removed animateLayoutChanges = &quot;true&quot; and it is working perfectly. Thanks!"},{"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"score":0,"creation_date":1632321936,"post_id":50268558,"comment_id":122461598,"body_markdown":"hello there acctualy i have a diffrent isuue where if i go to a fragment from a button click which is in the bottom sheet the fragment is opening but the bottom sheet is not hiding automaticly in the other fragment i have to do it manaully by tap on the screen here is my question https://stackoverflow.com/questions/69282868/bottomsheet-is-not-hiding-when-navigating-between-different-fragments can anyone help me with this","body":"hello there acctualy i have a diffrent isuue where if i go to a fragment from a button click which is in the bottom sheet the fragment is opening but the bottom sheet is not hiding automaticly in the other fragment i have to do it manaully by tap on the screen here is my question <a href=\"https://stackoverflow.com/questions/69282868/bottomsheet-is-not-hiding-when-navigating-between-different-fragments\" title=\"bottomsheet is not hiding when navigating between different fragments\">stackoverflow.com/questions/69282868/&hellip;</a> can anyone help me with this"},{"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"score":0,"creation_date":1635307224,"post_id":50268558,"comment_id":123259222,"body_markdown":"You saved my time. thanks","body":"You saved my time. thanks"}],"tags":[],"owner":{"account_id":5519125,"reputation":713,"user_id":4382732,"display_name":"Marius Kohmann"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525940553,"creation_date":1525940553,"answer_id":50268558,"question_id":42959780,"body_markdown":"In my case i was not able to hide the bottomsheet and it was placed on top of my view. I found out that `animateLayoutChanges = &quot;true&quot;` in my layout file was causing this issue.","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>In my case i was not able to hide the bottomsheet and it was placed on top of my view. I found out that <code>animateLayoutChanges = \"true\"</code> in my layout file was causing this issue.</p>\n"},{"tags":[],"owner":{"account_id":8978952,"reputation":1,"user_id":6694782,"display_name":"Dany T Mpofu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682185151,"creation_date":1555605858,"answer_id":55750464,"question_id":42959780,"body_markdown":"You can manually hide that bottom sheet by setting the visibility of the parent linear layout to gone \r\nput this line in your code when you want to hide it.\r\n\r\nfirstly check if its showing otherwise hide it.\r\n\r\n``if (confirmLayoutBehaviour.getState() != BottomSheetBehavior.STATE_EXPANDED) {\r\n            //todo hide your bottom sheet if its already open\r\n                            confirmLayout.setVisibility(View.GONE);\r\n                        } else {\r\n           //set it to visible if its not open\r\n                            confirmLayout.setVisibility(View.VISIBLE);\r\n                        }``\r\n\r\nit worked for me please try it","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>You can manually hide that bottom sheet by setting the visibility of the parent linear layout to gone\nput this line in your code when you want to hide it.</p>\n<p>firstly check if its showing otherwise hide it.</p>\n<p><code>if (confirmLayoutBehaviour.getState() != BottomSheetBehavior.STATE_EXPANDED) { //todo hide your bottom sheet if its already open confirmLayout.setVisibility(View.GONE); } else { //set it to visible if its not open confirmLayout.setVisibility(View.VISIBLE); }</code></p>\n<p>it worked for me please try it</p>\n"},{"tags":[],"owner":{"account_id":8695467,"reputation":99,"user_id":6506973,"display_name":"Vicente Domingos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582159763,"creation_date":1582159763,"answer_id":60311417,"question_id":42959780,"body_markdown":"When Collapsed set app:behavior_hideable=&quot;false&quot;","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>When Collapsed set app:behavior_hideable=\"false\"</p>\n"},{"tags":[],"owner":{"account_id":8920083,"reputation":1222,"user_id":6657015,"display_name":"Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623245619,"creation_date":1623245619,"answer_id":67905206,"question_id":42959780,"body_markdown":"You need to just simply add the below code and it works perfectly.\r\n\r\nTo hide the bottomsheet:-\r\n\r\n    bottomSheetBehavior.state = BottomSheetBehavior.STATE_HIDDEN\r\n\r\nTo show the bottomsheet:-\r\n\r\n     bottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>You need to just simply add the below code and it works perfectly.</p>\n<p>To hide the bottomsheet:-</p>\n<pre><code>bottomSheetBehavior.state = BottomSheetBehavior.STATE_HIDDEN\n</code></pre>\n<p>To show the bottomsheet:-</p>\n<pre><code> bottomSheetBehavior.state = BottomSheetBehavior.STATE_EXPANDED\n</code></pre>\n"}],"owner":{"account_id":9614279,"reputation":347,"user_id":7137642,"accept_rate":39,"display_name":"alb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19710,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":42975843,"answer_count":8,"score":9,"last_activity_date":1682185151,"creation_date":1490206807,"question_id":42959780,"body_markdown":"I&#39;m having problems with my [tag:Bottom-Sheet] because when I open the activity it is on, blocking the view\r\n[![enter image description here][1]][1]\r\n\r\nThis happens, I think, because of the XML attribute declaring the [tag:Bottom-Sheet] with 350dp of height:\r\n\r\n    &lt;android.support.v4.widget.NestedScrollView\r\n        android:id=&quot;@+id/bottom_sheet&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        android:clipToPadding=&quot;true&quot;\r\n        app:layout_behavior=&quot;android.support.design.widget.BottomSheetBehavior&quot;&gt;\r\n\r\n\r\nThe thing is, I can&#39;t change that value to 0dp because the next time when I try to open the [tag:Bottom-Sheet], there is no [tag:Bottom-Sheet], because the height is 0dp, so it won&#39;t show anything. \r\nMy question is, is there a way to declare the [tag:Bottom-Sheet] off? (I&#39;ve tried to setState to STATE_COLLAPSED but didn&#39;t work).\r\nBellow is the java code that interacts with the Bottom Sheet.\r\n JAVA:\r\n\r\n    View bottomSheet = findViewById( R.id.bottom_sheet );\r\n            mBottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);\r\n            mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n            mBottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {\r\n                @Override\r\n                public void onStateChanged(View bottomSheet, int newState) {\r\n                    if (newState == BottomSheetBehavior.STATE_COLLAPSED) {\r\n                        //mBottomSheetBehavior.setPeekHeight(0);\r\n                        //mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n                        //mBottomSheetBehavior.isHideable();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onSlide(View bottomSheet, float slideOffset) {\r\n    \r\n                }\r\n            });\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b60r8.png","title":"Can&#39;t hide Bottom Sheet, Android","body":"<p>I'm having problems with my <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a> because when I open the activity it is on, blocking the view\n<a href=\"https://i.stack.imgur.com/b60r8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b60r8.png\" alt=\"enter image description here\"></a></p>\n\n<p>This happens, I think, because of the XML attribute declaring the <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a> with 350dp of height:</p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n    android:id=\"@+id/bottom_sheet\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"350dp\"\n    android:background=\"?android:attr/windowBackground\"\n    android:clipToPadding=\"true\"\n    app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"&gt;\n</code></pre>\n\n<p>The thing is, I can't change that value to 0dp because the next time when I try to open the <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a>, there is no <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a>, because the height is 0dp, so it won't show anything. \nMy question is, is there a way to declare the <a href=\"/questions/tagged/bottom-sheet\" class=\"post-tag\" title=\"show questions tagged &#39;bottom-sheet&#39;\" rel=\"tag\">bottom-sheet</a> off? (I've tried to setState to STATE_COLLAPSED but didn't work).\nBellow is the java code that interacts with the Bottom Sheet.\n JAVA:</p>\n\n<pre><code>View bottomSheet = findViewById( R.id.bottom_sheet );\n        mBottomSheetBehavior = BottomSheetBehavior.from(bottomSheet);\n        mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n        mBottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {\n            @Override\n            public void onStateChanged(View bottomSheet, int newState) {\n                if (newState == BottomSheetBehavior.STATE_COLLAPSED) {\n                    //mBottomSheetBehavior.setPeekHeight(0);\n                    //mBottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n                    //mBottomSheetBehavior.isHideable();\n                }\n            }\n\n            @Override\n            public void onSlide(View bottomSheet, float slideOffset) {\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","winapi","filesystems","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1682050997,"post_id":76067944,"comment_id":134157962,"body_markdown":"I&#39;m not sure your union is modeled correctly.  Where is `FILE_ID_128` defined, and does it actually allocate 128 bits even if you&#39;re only assigning a value to the 64-bit member?","body":"I&#39;m not sure your union is modeled correctly.  Where is <code>FILE_ID_128</code> defined, and does it actually allocate 128 bits even if you&#39;re only assigning a value to the 64-bit member?"},{"owner":{"account_id":17006035,"reputation":361,"user_id":12302220,"display_name":"Andriy Y"},"score":0,"creation_date":1682061175,"post_id":76067944,"comment_id":134159344,"body_markdown":"@DanielWiddis, this what you see in the post - is the last version I was trying. The DUMMYUNIONNAME was Structure, Pointer, there were NO DUMMYUNIONNAME, but just Id, etc. I was trying from 4 - to 512 bits - error code never changed. I&#39;m desperate actually to find a solution.","body":"@DanielWiddis, this what you see in the post - is the last version I was trying. The DUMMYUNIONNAME was Structure, Pointer, there were NO DUMMYUNIONNAME, but just Id, etc. I was trying from 4 - to 512 bits - error code never changed. I&#39;m desperate actually to find a solution."}],"answers":[{"comments":[{"owner":{"account_id":17006035,"reputation":361,"user_id":12302220,"display_name":"Andriy Y"},"score":0,"creation_date":1682320939,"post_id":76081031,"comment_id":134190571,"body_markdown":"Thank you so much for your advises. I will check as soon as get to laptop.\nYou are right, FileId.Identifier is byte[], but it is possible to change it to long and it will still work - JNA can assign proper long to it whish corresponds to the byte[]. Not sure if that is correct approach, but it works.","body":"Thank you so much for your advises. I will check as soon as get to laptop. You are right, FileId.Identifier is byte[], but it is possible to change it to long and it will still work - JNA can assign proper long to it whish corresponds to the byte[]. Not sure if that is correct approach, but it works."},{"owner":{"account_id":17006035,"reputation":361,"user_id":12302220,"display_name":"Andriy Y"},"score":0,"creation_date":1682344793,"post_id":76081031,"comment_id":134195899,"body_markdown":"Hi. I don&#39;t know how and main question why - but it works. I changed nothing, but it does)\nI changed my FILE_ID_128 when I read file Id to read it to long.\nI changed the dwSize to 128 - and now it works. But I&#39;m sure I tested that already and it didn&#39;t. This is Murphy law looks like.\nThanks so much for the hints.","body":"Hi. I don&#39;t know how and main question why - but it works. I changed nothing, but it does) I changed my FILE_ID_128 when I read file Id to read it to long. I changed the dwSize to 128 - and now it works. But I&#39;m sure I tested that already and it didn&#39;t. This is Murphy law looks like. Thanks so much for the hints."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1682350940,"post_id":76081031,"comment_id":134197611,"body_markdown":"From JNA&#39;s perspective it&#39;s just bytes. It&#39;s what the native OS does with it that matters. If the first 8 bytes of the 16-byte array encode a long, it would work either way.","body":"From JNA&#39;s perspective it&#39;s just bytes. It&#39;s what the native OS does with it that matters. If the first 8 bytes of the 16-byte array encode a long, it would work either way."}],"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682184693,"creation_date":1682184693,"answer_id":76081031,"question_id":76067944,"body_markdown":"You&#39;ve incorrectly initialized your `FILE_ID_DESCRIPTOR` values:\r\n```java\r\nnew FILE_ID_DESCRIPTOR(\r\n   FILE_ID_DESCRIPTOR.sizeOf(),\r\n   0,\r\n   new DUMMYUNIONNAME(fii.FileId.Identifier)\r\n);\r\n```\r\nYou&#39;re passing the `Type` parameter as 0, indicating you want the `long FileId` from the union.\r\n\r\nBut you have hardcoded your dummy union constructor to assign the value to the 8-byte `long` member when the value of `fii.FileId.Identifier` is a 16-byte array.\r\n\r\nYou&#39;ve indicated in the comments that:\r\n&gt; this what you see in the post - is the last version I was trying. The DUMMYUNIONNAME was Structure, Pointer, there were NO DUMMYUNIONNAME, but just Id, etc. I was trying from 4 - to 512 bits - error code never changed. \r\n\r\nThere is exactly one right answer and it&#39;s 16 bytes (128 bits).  However, if you pass a `Type` of 0, it&#39;s only reading the first 8 bytes (64 bits) of your `fii.FileId.Identifier`.\r\n\r\nMost likely you want to set/read the `ExtendedFileId` field in the union, by setting a `Type` of 2.\r\n\r\nThere are several other issues with your code that are not the cause of the error:\r\n1. You are over-allocating memory when creating the `FILE_ID_INFO` by giving 128 bytes to `p`.  You haven&#39;t shown your mapping for it, but it&#39;s an 8-byte `long` followed by a structure wrapping a 16-byte array so you only need 24 bytes. \r\n2. You don&#39;t need to implement your own `sizeOf()`.  JNA&#39;s `Structure` has a `size()` method that does exactly what you&#39;re asking.  Or you can just use your knowledge that in this case the size is always 24.\r\n3. The `dwSize` field of `FILE_ID_DESCRIPTOR` is a `DWORD` not a `UINT`.  Since these are both 32-bit values it doesn&#39;t make a difference.  Since Java does not have a concept of signed integers you may as well just simplify and pass an `int` here.\r\n4. If you want to actually leverage JNA&#39;s `Union` class you should fully implement it including overriding the `read()` in the union to read the appropriate native value.  In your case, you&#39;re only writing it for use once, so you can just skip the complexity of the union and directly assign the internal field you want.  If that&#39;s the largest size value (the `FILE_ID_128`) you can just assign it directly. If it&#39;s a smaller size value (the `long` then you could just add padding to make sure the entire structure size is 24 bytes).","title":"Java JNA OpenFileById fails with error code 87 InvalidParameter","body":"<p>You've incorrectly initialized your <code>FILE_ID_DESCRIPTOR</code> values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new FILE_ID_DESCRIPTOR(\n   FILE_ID_DESCRIPTOR.sizeOf(),\n   0,\n   new DUMMYUNIONNAME(fii.FileId.Identifier)\n);\n</code></pre>\n<p>You're passing the <code>Type</code> parameter as 0, indicating you want the <code>long FileId</code> from the union.</p>\n<p>But you have hardcoded your dummy union constructor to assign the value to the 8-byte <code>long</code> member when the value of <code>fii.FileId.Identifier</code> is a 16-byte array.</p>\n<p>You've indicated in the comments that:</p>\n<blockquote>\n<p>this what you see in the post - is the last version I was trying. The DUMMYUNIONNAME was Structure, Pointer, there were NO DUMMYUNIONNAME, but just Id, etc. I was trying from 4 - to 512 bits - error code never changed.</p>\n</blockquote>\n<p>There is exactly one right answer and it's 16 bytes (128 bits).  However, if you pass a <code>Type</code> of 0, it's only reading the first 8 bytes (64 bits) of your <code>fii.FileId.Identifier</code>.</p>\n<p>Most likely you want to set/read the <code>ExtendedFileId</code> field in the union, by setting a <code>Type</code> of 2.</p>\n<p>There are several other issues with your code that are not the cause of the error:</p>\n<ol>\n<li>You are over-allocating memory when creating the <code>FILE_ID_INFO</code> by giving 128 bytes to <code>p</code>.  You haven't shown your mapping for it, but it's an 8-byte <code>long</code> followed by a structure wrapping a 16-byte array so you only need 24 bytes.</li>\n<li>You don't need to implement your own <code>sizeOf()</code>.  JNA's <code>Structure</code> has a <code>size()</code> method that does exactly what you're asking.  Or you can just use your knowledge that in this case the size is always 24.</li>\n<li>The <code>dwSize</code> field of <code>FILE_ID_DESCRIPTOR</code> is a <code>DWORD</code> not a <code>UINT</code>.  Since these are both 32-bit values it doesn't make a difference.  Since Java does not have a concept of signed integers you may as well just simplify and pass an <code>int</code> here.</li>\n<li>If you want to actually leverage JNA's <code>Union</code> class you should fully implement it including overriding the <code>read()</code> in the union to read the appropriate native value.  In your case, you're only writing it for use once, so you can just skip the complexity of the union and directly assign the internal field you want.  If that's the largest size value (the <code>FILE_ID_128</code>) you can just assign it directly. If it's a smaller size value (the <code>long</code> then you could just add padding to make sure the entire structure size is 24 bytes).</li>\n</ol>\n"}],"owner":{"account_id":17006035,"reputation":361,"user_id":12302220,"display_name":"Andriy Y"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76081031,"answer_count":1,"score":2,"last_activity_date":1682184906,"creation_date":1682021593,"question_id":76067944,"body_markdown":"I&#39;m trying to get file **HANDLE** by NTFS file id.\r\n\r\n1. Having file HANLDE I&#39;m getting **FILE_ID_INFO**\r\n```java\r\nMemory p = new Memory(128);\r\n            Kernel32.INSTANCE.GetFileInformationByHandleEx(\r\n    hFile, \r\n    WinBase.FileIdInfo,\r\n    p,\r\n    new DWORD(p.size())\r\n);\r\nFILE_ID_INFO fii = new FILE_ID_INFO(p);\r\n```\r\nFrom FILE_ID_INFO I can get **VolumeSerialNumber** and **FileId.Identifier**\r\n\r\n2. Now when I have that - I want to open HANDLE using VolumeSerialNumber and FileId.Identifier\r\n3. First using **Kernel32Util.getLogicalDriveStrings()** and **Kernel32.INSTANCE.GetVolumeInformation** I can find VolumeId by VolumeSerialNumber - which in my case would be D:\\\r\n4. Now I open HANDLE for D:\\ using **Kernel32.INSTANCE.CreateFile**\r\n```java\r\nKernel32.INSTANCE.CreateFile(\r\n    path,\r\n    FILE_READ_ATTRIBUTES,\r\n    1 | 2 | 4,\r\n    null,\r\n    OPEN_EXISTING,\r\n    FILE_FLAG_BACKUP_SEMANTICS,\r\n    null\r\n)\r\n```\r\n\r\n5. And last step - using [OpenFileById][1] I&#39;m trying open file HANDLE by its id.\r\nMethod definition\r\n```java\r\nHANDLE OpenFileById(\r\n    HANDLE hVolumeHint,\r\n    Structure lpFileId,\r\n    int dwDesiredAccess,\r\n    int dwShareMode,\r\n    SECURITY_ATTRIBUTES lpSecurityAttributes,\r\n    int dwFlagsAndAttributes\r\n);\r\n```\r\nRequired structure\r\n```java\r\n@FieldOrder({&quot;dwSize&quot;, &quot;Type&quot;, &quot;Id&quot;})\r\npublic static class FILE_ID_DESCRIPTOR extends Structure {\r\n\r\n    public UINT dwSize;\r\n    public int Type;\r\n    public DUMMYUNIONNAME Id;\r\n\r\n    @FieldOrder({&quot;FileId&quot;, &quot;ObjectId&quot;, &quot;ExtendedFileId&quot;})\r\n    public static class DUMMYUNIONNAME extends Union {\r\n\r\n        public long FileId;\r\n        public GUID ObjectId;\r\n        public FILE_ID_128 ExtendedFileId;\r\n\r\n        public DUMMYUNIONNAME() {\r\n             super();\r\n        }\r\n\r\n        public DUMMYUNIONNAME(long Id) {\r\n            this.FileId = Id;\r\n            write();\r\n        }\r\n    }\r\n\r\n    public static UINT sizeOf() {\r\n        return new UINT(Native.getNativeSize(FILE_ID_DESCRIPTOR.class, null));\r\n    }\r\n\r\n    public FILE_ID_DESCRIPTOR() {\r\n        super();\r\n    }\r\n\r\n    public FILE_ID_DESCRIPTOR(Pointer memory) {\r\n        super(memory);\r\n        read();\r\n    }\r\n\r\n    public FILE_ID_DESCRIPTOR(UINT dwSize, int type,\r\n            DUMMYUNIONNAME id) {\r\n        this.dwSize = dwSize;\r\n        this.Type = type;\r\n        this.Id = id;\r\n        write();\r\n    }\r\n}\r\n```\r\nUsage\r\n```java\r\nFILE_ID_DESCRIPTOR fileIdDesc = new FILE_ID_DESCRIPTOR(FILE_ID_DESCRIPTOR.sizeOf(), 0, new DUMMYUNIONNAME(fii.FileId.Identifier));\r\nHANDLE handle = Kernel32.INSTANCE.OpenFileById(hVolume, fileIdDesc, FILE_READ_ATTRIBUTES, 1 | 2 | 4, null, FILE_FLAG_BACKUP_SEMANTICS);\r\n```\r\nWhen I after executing\r\n**Kernel32.INSTANCE.GetLastError();**\r\nIt gives me - 87 Invalid Parameter.\r\n\r\nI&#39;ve change FILE_ID_DESCRIPTOR to accept long instead of byte[], and other changes - but everytime - same error.\r\n\r\nSimilar code works successfully in C#, but I need it to run in Java as well.\r\n\r\nPlease advise.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-openfilebyid","title":"Java JNA OpenFileById fails with error code 87 InvalidParameter","body":"<p>I'm trying to get file <strong>HANDLE</strong> by NTFS file id.</p>\n<ol>\n<li>Having file HANLDE I'm getting <strong>FILE_ID_INFO</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Memory p = new Memory(128);\n            Kernel32.INSTANCE.GetFileInformationByHandleEx(\n    hFile, \n    WinBase.FileIdInfo,\n    p,\n    new DWORD(p.size())\n);\nFILE_ID_INFO fii = new FILE_ID_INFO(p);\n</code></pre>\n<p>From FILE_ID_INFO I can get <strong>VolumeSerialNumber</strong> and <strong>FileId.Identifier</strong></p>\n<ol start=\"2\">\n<li>Now when I have that - I want to open HANDLE using VolumeSerialNumber and FileId.Identifier</li>\n<li>First using <strong>Kernel32Util.getLogicalDriveStrings()</strong> and <strong>Kernel32.INSTANCE.GetVolumeInformation</strong> I can find VolumeId by VolumeSerialNumber - which in my case would be D:\\</li>\n<li>Now I open HANDLE for D:\\ using <strong>Kernel32.INSTANCE.CreateFile</strong></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Kernel32.INSTANCE.CreateFile(\n    path,\n    FILE_READ_ATTRIBUTES,\n    1 | 2 | 4,\n    null,\n    OPEN_EXISTING,\n    FILE_FLAG_BACKUP_SEMANTICS,\n    null\n)\n</code></pre>\n<ol start=\"5\">\n<li>And last step - using <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-openfilebyid\" rel=\"nofollow noreferrer\">OpenFileById</a> I'm trying open file HANDLE by its id.\nMethod definition</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>HANDLE OpenFileById(\n    HANDLE hVolumeHint,\n    Structure lpFileId,\n    int dwDesiredAccess,\n    int dwShareMode,\n    SECURITY_ATTRIBUTES lpSecurityAttributes,\n    int dwFlagsAndAttributes\n);\n</code></pre>\n<p>Required structure</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FieldOrder({&quot;dwSize&quot;, &quot;Type&quot;, &quot;Id&quot;})\npublic static class FILE_ID_DESCRIPTOR extends Structure {\n\n    public UINT dwSize;\n    public int Type;\n    public DUMMYUNIONNAME Id;\n\n    @FieldOrder({&quot;FileId&quot;, &quot;ObjectId&quot;, &quot;ExtendedFileId&quot;})\n    public static class DUMMYUNIONNAME extends Union {\n\n        public long FileId;\n        public GUID ObjectId;\n        public FILE_ID_128 ExtendedFileId;\n\n        public DUMMYUNIONNAME() {\n             super();\n        }\n\n        public DUMMYUNIONNAME(long Id) {\n            this.FileId = Id;\n            write();\n        }\n    }\n\n    public static UINT sizeOf() {\n        return new UINT(Native.getNativeSize(FILE_ID_DESCRIPTOR.class, null));\n    }\n\n    public FILE_ID_DESCRIPTOR() {\n        super();\n    }\n\n    public FILE_ID_DESCRIPTOR(Pointer memory) {\n        super(memory);\n        read();\n    }\n\n    public FILE_ID_DESCRIPTOR(UINT dwSize, int type,\n            DUMMYUNIONNAME id) {\n        this.dwSize = dwSize;\n        this.Type = type;\n        this.Id = id;\n        write();\n    }\n}\n</code></pre>\n<p>Usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>FILE_ID_DESCRIPTOR fileIdDesc = new FILE_ID_DESCRIPTOR(FILE_ID_DESCRIPTOR.sizeOf(), 0, new DUMMYUNIONNAME(fii.FileId.Identifier));\nHANDLE handle = Kernel32.INSTANCE.OpenFileById(hVolume, fileIdDesc, FILE_READ_ATTRIBUTES, 1 | 2 | 4, null, FILE_FLAG_BACKUP_SEMANTICS);\n</code></pre>\n<p>When I after executing\n<strong>Kernel32.INSTANCE.GetLastError();</strong>\nIt gives me - 87 Invalid Parameter.</p>\n<p>I've change FILE_ID_DESCRIPTOR to accept long instead of byte[], and other changes - but everytime - same error.</p>\n<p>Similar code works successfully in C#, but I need it to run in Java as well.</p>\n<p>Please advise.</p>\n"},{"tags":["java","java-io","bufferedwriter"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1583998621,"post_id":60648839,"comment_id":107301504,"body_markdown":"I believe there is no real difference, despite the first one not being available in very old version of Java (also have a look at [Path.of](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)) (does the same as the `FileSystems` solution))","body":"I believe there is no real difference, despite the first one not being available in very old version of Java (also have a look at <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)\" rel=\"nofollow noreferrer\">Path.of</a> (does the same as the <code>FileSystems</code> solution))"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1583999175,"post_id":60648839,"comment_id":107301695,"body_markdown":"I will go out on a limb and state that the second is better because simpler all round. The only real reason to use the first would be if you wanted to write to an oddball filesystem like a ZIP file.","body":"I will go out on a limb and state that the second is better because simpler all round. The only real reason to use the first would be if you wanted to write to an oddball filesystem like a ZIP file."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1583999799,"post_id":60648839,"comment_id":107301920,"body_markdown":"@user207421 substitute first line by `Path.of(&quot;file.txt&quot;)` and inline in second line - both are equally simple IMHO (but probably I would also use second (more used to it))","body":"@user207421 substitute first line by <code>Path.of(&quot;file.txt&quot;)</code> and inline in second line - both are equally simple IMHO (but probably I would also use second (more used to it))"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1583999876,"post_id":60648839,"comment_id":107301955,"body_markdown":"@user85421 I said &#39;simpler *all round*&#39;. That doesn&#39;t just cover the one line of user code: it includes the underlying implementation, especially  the data path to the target file.","body":"@user85421 I said &#39;simpler <i>all round</i>&#39;. That doesn&#39;t just cover the one line of user code: it includes the underlying implementation, especially  the data path to the target file."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682184763,"creation_date":1587819574,"answer_id":61426032,"question_id":60648839,"body_markdown":"The **default** character set used by `Files.newBufferedWriter` is UTF8, but in pre-JDK18 JVM new `FileWriter` will default to your Java platform System property `file.encoding` which might not be UTF8.\r\n\r\nIf you are the writer and reader of the file it&#39;s safest to use the UTF8 versions - using `Files.newBufferedReader/Writer`, or supply the character set parameter to either style `FileReader/Writer` / `Files.newBufferedReader/Writer`.\r\n\r\nThis avoids problems when deploying the same application in multiple JDKs and/or locations where the default character set might differ, as you may write files in one location which appear to be corrupt to the same application reading from different location.\r\n\r\nAs of JDK18 the work for [JEP 400: UTF-8 by Default][1] means that the default charset for `FileWriter` is also UTF-8 and the former platform default is stored as new system property `native.encoding`. If you use `FileWriter` in pre-JDK18 without specifying the character encoding it will be a good idea to test and fix your applications before upgrading to JDK18+. This can be done with:\r\n\r\n    // pre-JDK18 only:\r\n    java -Dfile.encoding=UTF-8 ...\r\n\r\nThe JEP mentions `file.encoding=COMPAT` mode to keep the pre-JDK18 behaviour when running JDK18+ so you could mix JDK18 + pre-JDK18 deployments or allow more time to resolve the character set definitions.  The JEP also suggests a way to determine the traditional environment-driven selection for the default charset.\r\n\r\n  [1]: https://openjdk.org/jeps/400\r\n","title":"create java.io.BufferedWriter using java.nio.Files or java.io classes","body":"<p>The <strong>default</strong> character set used by <code>Files.newBufferedWriter</code> is UTF8, but in pre-JDK18 JVM new <code>FileWriter</code> will default to your Java platform System property <code>file.encoding</code> which might not be UTF8.</p>\n<p>If you are the writer and reader of the file it's safest to use the UTF8 versions - using <code>Files.newBufferedReader/Writer</code>, or supply the character set parameter to either style <code>FileReader/Writer</code> / <code>Files.newBufferedReader/Writer</code>.</p>\n<p>This avoids problems when deploying the same application in multiple JDKs and/or locations where the default character set might differ, as you may write files in one location which appear to be corrupt to the same application reading from different location.</p>\n<p>As of JDK18 the work for <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">JEP 400: UTF-8 by Default</a> means that the default charset for <code>FileWriter</code> is also UTF-8 and the former platform default is stored as new system property <code>native.encoding</code>. If you use <code>FileWriter</code> in pre-JDK18 without specifying the character encoding it will be a good idea to test and fix your applications before upgrading to JDK18+. This can be done with:</p>\n<pre><code>// pre-JDK18 only:\njava -Dfile.encoding=UTF-8 ...\n</code></pre>\n<p>The JEP mentions <code>file.encoding=COMPAT</code> mode to keep the pre-JDK18 behaviour when running JDK18+ so you could mix JDK18 + pre-JDK18 deployments or allow more time to resolve the character set definitions.  The JEP also suggests a way to determine the traditional environment-driven selection for the default charset.</p>\n"}],"owner":{"account_id":13939472,"reputation":45,"user_id":10065772,"display_name":"HNP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61426032,"answer_count":1,"score":0,"last_activity_date":1682184763,"creation_date":1583995428,"question_id":60648839,"body_markdown":"What is the difference between these two?\r\n\r\n    Path path = FileSystems.getDefault().getPath(&quot;file.txt&quot;);\r\n    BufferedWriter bw = Files.newBufferedWriter(path);\r\n\r\nand\r\n\r\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(&quot;file.txt&quot;));\r\n\r\nWhich of these two methods is better?\r\n","title":"create java.io.BufferedWriter using java.nio.Files or java.io classes","body":"<p>What is the difference between these two?</p>\n\n<pre><code>Path path = FileSystems.getDefault().getPath(\"file.txt\");\nBufferedWriter bw = Files.newBufferedWriter(path);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(\"file.txt\"));\n</code></pre>\n\n<p>Which of these two methods is better?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682184250,"creation_date":1682184250,"answer_id":76080989,"question_id":76080729,"body_markdown":"In Relative layout, you need to specify the position of the view relative to other views like layout_below, layout_above etc., you have not specified anything. That&#39;s why the 2 views are overlapping.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;5dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_hello&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Hello Chenura&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/simpleEditText&quot;\r\n        android:layout_below=&quot;@id/txt_hello&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:lines=&quot;1&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;#0099FF&quot;\r\n        android:text=&quot;Click to say &#39;welcome&#39;&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n    \r\nAdding android:layout_below=&quot;@id/txt_hello&quot; will take solve of your problem\r\nAlso, change android:layout_height of txt_hello to &quot;wrap_content&quot;","title":"TextView is not showing on the gui in java in android","body":"<p>In Relative layout, you need to specify the position of the view relative to other views like layout_below, layout_above etc., you have not specified anything. That's why the 2 views are overlapping.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:layout_margin=&quot;5dp&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/txt_hello&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:textSize=&quot;25sp&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:text=&quot;Hello Chenura&quot;/&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/simpleEditText&quot;\n    android:layout_below=&quot;@id/txt_hello&quot;\n    android:maxLines=&quot;1&quot;\n    android:lines=&quot;1&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_width=&quot;match_parent&quot;/&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button1&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;50dp&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:background=&quot;#0099FF&quot;\n    android:text=&quot;Click to say 'welcome'&quot;/&gt;\n</code></pre>\n\n    \nAdding android:layout_below=\"@id/txt_hello\" will take solve of your problem\nAlso, change android:layout_height of txt_hello to \"wrap_content\"\n"},{"tags":[],"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682184507,"creation_date":1682184507,"answer_id":76081018,"question_id":76080729,"body_markdown":"Modified code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;5dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_hello&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; &lt;!--Change fill_parent to wrap_content--&gt;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Hello Chenura&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/simpleEditText&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:lines=&quot;1&quot;\r\n        android:layout_below=&quot;@id/txt_hello&quot; &lt;!--Position relative to TextView--&gt;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;#0099FF&quot;\r\n        android:text=&quot;Click to say &#39;welcome&#39;&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\nYou need to add `android:layout_below=&quot;@id/txt_hello&quot;` to the EditText in order to position it relative to the TextView. You also need to add `wrap_content` in place of `fill_parent` because `fill_parent` makes the TextView cover the whole screen, hiding the other widgets.","title":"TextView is not showing on the gui in java in android","body":"<p>Modified code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;5dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txt_hello&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; &lt;!--Change fill_parent to wrap_content--&gt;\n        android:textSize=&quot;25sp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;Hello Chenura&quot;/&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/simpleEditText&quot;\n        android:maxLines=&quot;1&quot;\n        android:lines=&quot;1&quot;\n        android:layout_below=&quot;@id/txt_hello&quot; &lt;!--Position relative to TextView--&gt;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:background=&quot;#0099FF&quot;\n        android:text=&quot;Click to say 'welcome'&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>You need to add <code>android:layout_below=&quot;@id/txt_hello&quot;</code> to the EditText in order to position it relative to the TextView. You also need to add <code>wrap_content</code> in place of <code>fill_parent</code> because <code>fill_parent</code> makes the TextView cover the whole screen, hiding the other widgets.</p>\n"}],"owner":{"account_id":25302884,"reputation":17,"user_id":19126877,"display_name":"MaxMouse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76081018,"answer_count":2,"score":0,"last_activity_date":1682184507,"creation_date":1682181211,"question_id":76080729,"body_markdown":"I&#39;m trying to make a simple gui for an android app using java and xml.\r\nBut, the Textedit is showing on the TextView and therefore, the TextView is not showing. Here is my xml code,\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_margin=&quot;5dp&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_hello&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;Hello Chenura&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/simpleEditText&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:lines=&quot;1&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;#0099FF&quot;\r\n        android:text=&quot;Click to say &#39;welcome&#39;&quot;/&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\nI changed the layout linear to relative, but nothing happened.\r\n\r\nHere&#39;s the screenshot of thr gui,\r\n[Gui of the app][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wOnnv.png","title":"TextView is not showing on the gui in java in android","body":"<p>I'm trying to make a simple gui for an android app using java and xml.\nBut, the Textedit is showing on the TextView and therefore, the TextView is not showing. Here is my xml code,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;5dp&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txt_hello&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;fill_parent&quot;\n        android:textSize=&quot;25sp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;Hello Chenura&quot;/&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/simpleEditText&quot;\n        android:maxLines=&quot;1&quot;\n        android:lines=&quot;1&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:background=&quot;#0099FF&quot;\n        android:text=&quot;Click to say 'welcome'&quot;/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I changed the layout linear to relative, but nothing happened.</p>\n<p>Here's the screenshot of thr gui,\n<a href=\"https://i.stack.imgur.com/wOnnv.png\" rel=\"nofollow noreferrer\">Gui of the app</a></p>\n"},{"tags":["java","docker","selenium-webdriver","junit","selenium-grid"],"owner":{"account_id":5746949,"reputation":179,"user_id":4537922,"accept_rate":54,"display_name":"Shafiq Ahmed Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682184172,"creation_date":1682184172,"question_id":76080979,"body_markdown":"I am unable to start a new chrome browser session in a docker container using Java. Please see code below:\r\n\r\n```\r\n\r\npackage remoteTesting;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\npublic class chromeStandAloneTest {\r\n    public static void main(String[] args) throws MalformedURLException, InterruptedException {\r\n        ChromeOptions opt = new ChromeOptions();\r\n        RemoteWebDriver driver = new RemoteWebDriver(new URL (&quot;http://localhost:4444/wd/hub&quot;), opt);\r\n        driver.get(&quot;http://www.google.com&quot;);\r\n        Thread.sleep(3000);\r\n        System.out.println( &quot;Test executed suuccessfully&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI am getting the following error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n```\r\n\r\n\r\n\r\nUpdated to selenium-java v4.9.0","title":"Unable to start a new chrome session in docker container","body":"<p>I am unable to start a new chrome browser session in a docker container using Java. Please see code below:</p>\n<pre><code>\npackage remoteTesting;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class chromeStandAloneTest {\n    public static void main(String[] args) throws MalformedURLException, InterruptedException {\n        ChromeOptions opt = new ChromeOptions();\n        RemoteWebDriver driver = new RemoteWebDriver(new URL (&quot;http://localhost:4444/wd/hub&quot;), opt);\n        driver.get(&quot;http://www.google.com&quot;);\n        Thread.sleep(3000);\n        System.out.println( &quot;Test executed suuccessfully&quot;);\n    }\n}\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n</code></pre>\n<p>Updated to selenium-java v4.9.0</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1019283,"reputation":2243,"user_id":1030126,"accept_rate":96,"display_name":"papezjustin"},"score":11,"creation_date":1427396338,"post_id":29286714,"comment_id":46770744,"body_markdown":"Instead of simply downvoting, how about leaving a comment as to the reason for the downvote?","body":"Instead of simply downvoting, how about leaving a comment as to the reason for the downvote?"}],"answers":[{"comments":[{"owner":{"account_id":1019283,"reputation":2243,"user_id":1030126,"accept_rate":96,"display_name":"papezjustin"},"score":0,"creation_date":1427397066,"post_id":29286865,"comment_id":46771140,"body_markdown":"Thanks for the help. These were configured correctly at the time of the original post. Cheers.","body":"Thanks for the help. These were configured correctly at the time of the original post. Cheers."}],"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1427397098,"creation_date":1427396786,"answer_id":29286865,"question_id":29286714,"body_markdown":"Go to:\r\n\r\n&gt;File =&gt; Project structure\r\n\r\nAnd check: `Project`, `Modules` and `SDKs` tabs:\r\n\r\n![enter image description here][1]\r\n\r\nIf at `SDKs` Java 1.8 Sdk isn&#39;t selected just add it.  \r\n\r\nAnd press `OK`. \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vtKLf.png","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>Go to:</p>\n\n<blockquote>\n  <p>File => Project structure</p>\n</blockquote>\n\n<p>And check: <code>Project</code>, <code>Modules</code> and <code>SDKs</code> tabs:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vtKLf.png\" alt=\"enter image description here\"></p>\n\n<p>If at <code>SDKs</code> Java 1.8 Sdk isn't selected just add it.  </p>\n\n<p>And press <code>OK</code>. </p>\n"},{"tags":[],"owner":{"account_id":1019283,"reputation":2243,"user_id":1030126,"accept_rate":96,"display_name":"papezjustin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1427397010,"creation_date":1427397010,"answer_id":29286919,"question_id":29286714,"body_markdown":"Updating from IntelliJ version 14.0.3 to 14.1 seemed to fix the problem.","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>Updating from IntelliJ version 14.0.3 to 14.1 seemed to fix the problem.</p>\n"},{"tags":[],"owner":{"account_id":6680628,"reputation":122,"user_id":5153955,"display_name":"Tendai"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517914209,"creation_date":1517912187,"answer_id":48640523,"question_id":29286714,"body_markdown":"If the update solution given above doesn&#39;t work for somebody, consider not using the *bin* directory like the one used in the **PATH environment** but rather the *java root directory*. In short instead of:\r\n\r\n&gt; path_to_java_folder\\java\\bin\\\r\n\r\nuse:\r\n\r\n&gt; path_to_java_folder\\java\\\r\n\r\nand everything will work just fine.","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>If the update solution given above doesn't work for somebody, consider not using the <em>bin</em> directory like the one used in the <strong>PATH environment</strong> but rather the <em>java root directory</em>. In short instead of:</p>\n\n<blockquote>\n  <p>path_to_java_folder\\java\\bin\\</p>\n</blockquote>\n\n<p>use:</p>\n\n<blockquote>\n  <p>path_to_java_folder\\java\\</p>\n</blockquote>\n\n<p>and everything will work just fine.</p>\n"},{"tags":[],"owner":{"account_id":4264634,"reputation":810,"user_id":3488026,"display_name":"mz496"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1550778271,"creation_date":1550778271,"answer_id":54815046,"question_id":29286714,"body_markdown":"I suddenly started seeing this issue when upgrading my Java SDK from 1.8 to 10.\r\n\r\nI went to `File &gt; Project Structure &gt; SDKs`, JDK home path was in red so I clicked the folder icon to the right of the path.\r\n\r\nEven though the Finder window that popped up already had me in the correct directory `/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home` (maybe it dropped me wherever my newly updated classpath said Java was?), the path that was displayed in red wasn&#39;t the same as that path. Instead, it was using the old one, something like `/Library/Java/JavaVirtualMachines/jdk-1.8_(???)/Contents/Home`. Clicked OK and the JDK home path was updated to the correct directory, clicked Apply/OK and everything was fine after that.\r\n\r\n\r\nFor reference,\r\n\r\n`IntelliJ IDEA 2018.2.1 (Community Edition)\r\nBuild #IC-182.3911.36, built on August 6, 2018\r\nJRE: 1.8.0_152-release-1248-b8 x86_64\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\nmacOS 10.12.6`","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>I suddenly started seeing this issue when upgrading my Java SDK from 1.8 to 10.</p>\n\n<p>I went to <code>File &gt; Project Structure &gt; SDKs</code>, JDK home path was in red so I clicked the folder icon to the right of the path.</p>\n\n<p>Even though the Finder window that popped up already had me in the correct directory <code>/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home</code> (maybe it dropped me wherever my newly updated classpath said Java was?), the path that was displayed in red wasn't the same as that path. Instead, it was using the old one, something like <code>/Library/Java/JavaVirtualMachines/jdk-1.8_(???)/Contents/Home</code>. Clicked OK and the JDK home path was updated to the correct directory, clicked Apply/OK and everything was fine after that.</p>\n\n<p>For reference,</p>\n\n<p><code>IntelliJ IDEA 2018.2.1 (Community Edition)\nBuild #IC-182.3911.36, built on August 6, 2018\nJRE: 1.8.0_152-release-1248-b8 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nmacOS 10.12.6</code></p>\n"},{"tags":[],"owner":{"account_id":23628494,"reputation":21,"user_id":17660617,"display_name":"Omar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682183718,"creation_date":1682183718,"answer_id":76080942,"question_id":29286714,"body_markdown":"I had the same problem, so, I had to clean my project again and install it from Maven. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0IP6o.png","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>I had the same problem, so, I had to clean my project again and install it from Maven. <a href=\"https://i.stack.imgur.com/0IP6o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0IP6o.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1019283,"reputation":2243,"user_id":1030126,"accept_rate":96,"display_name":"papezjustin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62504,"favorite_count":0,"down_vote_count":2,"up_vote_count":34,"accepted_answer_id":29286865,"answer_count":5,"score":32,"last_activity_date":1682183718,"creation_date":1427396266,"question_id":29286714,"body_markdown":"Update: Not sure why this is marked as a duplicate. I had already linked to the other post stating that none of the suggestions / answers work for me. In addition, their question seems to be related to an issue using Windows VMs via Mac, which is irrelevant for me.\r\n\r\nI am using IntelliJ IDEA 14.0.3. I have selected the &#39;Java Hello World&#39; sample. When I try and run the program I receive the error: &quot;Error: java: Cannot find JDK &#39;1.8&#39; for module &#39;Deliverable4&#39;. I have tried every single suggestion from this post https://stackoverflow.com/questions/14278936/intellij-java-cannot-find-jdk-1-7-for-module but still can&#39;t this to work. Any help would be greatly appreciated.","title":"IntelliJ - java: Cannot find JDK &#39;1.8&#39;","body":"<p>Update: Not sure why this is marked as a duplicate. I had already linked to the other post stating that none of the suggestions / answers work for me. In addition, their question seems to be related to an issue using Windows VMs via Mac, which is irrelevant for me.</p>\n\n<p>I am using IntelliJ IDEA 14.0.3. I have selected the 'Java Hello World' sample. When I try and run the program I receive the error: \"Error: java: Cannot find JDK '1.8' for module 'Deliverable4'. I have tried every single suggestion from this post <a href=\"https://stackoverflow.com/questions/14278936/intellij-java-cannot-find-jdk-1-7-for-module\">intellij - java: Cannot find JDK &#39;1.7&#39; for module</a> but still can't this to work. Any help would be greatly appreciated.</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":25109,"reputation":6880,"user_id":64301,"accept_rate":92,"display_name":"Tom Neyland"},"score":1,"creation_date":1249497060,"post_id":1234912,"comment_id":1060754,"body_markdown":"Yeah, jFrame.dispose() should close the window and clean everything up?","body":"Yeah, jFrame.dispose() should close the window and clean everything up?"},{"owner":{"account_id":72937,"reputation":17125,"user_id":210342,"accept_rate":82,"display_name":"greenoldman"},"score":5,"creation_date":1323201884,"post_id":1234912,"comment_id":10380746,"body_markdown":"Because dispose is not 1:1 equivalent of closing the window by clicking at [x]?","body":"Because dispose is not 1:1 equivalent of closing the window by clicking at [x]?"},{"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"score":2,"creation_date":1356627196,"post_id":1234912,"comment_id":19428490,"body_markdown":"Yes good question, I want a user click on an [x] button I explicitly supply on an undecorated override of a JFrame to act *exactly* as if the user had clicked on the OS supplied [x] button on an OS specific decorated JFrame window.","body":"Yes good question, I want a user click on an [x] button I explicitly supply on an undecorated override of a JFrame to act <i>exactly</i> as if the user had clicked on the OS supplied [x] button on an OS specific decorated JFrame window."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1365292809,"post_id":1234912,"comment_id":22568822,"body_markdown":"How about this.dispatchEvent(wev); instead of Toolkit.getDefaultToolkit...  The former is what the accepted answer suggests.","body":"How about this.dispatchEvent(wev); instead of Toolkit.getDefaultToolkit...  The former is what the accepted answer suggests."}],"answers":[{"comments":[{"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"score":0,"creation_date":1455885386,"post_id":1235046,"comment_id":58702084,"body_markdown":"This would work in conjunction with `setVisible(false)`\n`.setVisible(false);\n .setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);`","body":"This would work in conjunction with <code>setVisible(false)</code> <code>.setVisible(false);  .setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</code>"}],"tags":[],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1249498139,"creation_date":1249498139,"answer_id":1235046,"question_id":1234912,"body_markdown":"     setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n","title":"How to programmatically close a JFrame?","body":"<pre><code> setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"comment_count":0,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1401593948,"creation_date":1249500962,"answer_id":1235283,"question_id":1234912,"body_markdown":"If by Alt-F4 or X you mean &quot;Exit the Application Immediately Without Regard for What Other Windows or Threads are Running&quot;, then `System.exit(...)` will do *exactly* what you want in a very abrupt, brute-force, and possibly problematic fashion.\r\n\r\nIf by Alt-F4 or X you mean hide the window, then `frame.setVisible(false)` is how you &quot;close&quot; the window. The window will continue to consume resources/memory but can be made visible again very quickly.\r\n\r\nIf by Alt-F4 or X you mean hide the window and dispose of any resources it is consuming, then `frame.dispose()` is how you &quot;close&quot; the window. If the frame was the last visible window and there are no other non-daemon threads running, the program will exit. If you show the window again, it will have to reinitialize all of the native resources again (graphics buffer, window handles, etc).\r\n\r\n`dispose()` might be closest to the behavior that you really want. If your app has multiple windows open, do you want Alt-F4 or X to quit the app or just close the active window?\r\n\r\nThe [Java Swing Tutorial on Window Listeners][1] may help clarify things for you.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/events/windowlistener.html","title":"How to programmatically close a JFrame?","body":"<p>If by Alt-F4 or X you mean \"Exit the Application Immediately Without Regard for What Other Windows or Threads are Running\", then <code>System.exit(...)</code> will do <em>exactly</em> what you want in a very abrupt, brute-force, and possibly problematic fashion.</p>\n\n<p>If by Alt-F4 or X you mean hide the window, then <code>frame.setVisible(false)</code> is how you \"close\" the window. The window will continue to consume resources/memory but can be made visible again very quickly.</p>\n\n<p>If by Alt-F4 or X you mean hide the window and dispose of any resources it is consuming, then <code>frame.dispose()</code> is how you \"close\" the window. If the frame was the last visible window and there are no other non-daemon threads running, the program will exit. If you show the window again, it will have to reinitialize all of the native resources again (graphics buffer, window handles, etc).</p>\n\n<p><code>dispose()</code> might be closest to the behavior that you really want. If your app has multiple windows open, do you want Alt-F4 or X to quit the app or just close the active window?</p>\n\n<p>The <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/events/windowlistener.html\" rel=\"noreferrer\">Java Swing Tutorial on Window Listeners</a> may help clarify things for you.</p>\n"},{"comments":[{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":46,"creation_date":1253042265,"post_id":1235321,"comment_id":1273081,"body_markdown":"But that doesn’t call event listeners.","body":"But that doesn’t call event listeners."},{"owner":{"account_id":3199605,"reputation":3060,"user_id":2701933,"accept_rate":79,"display_name":"Austin A"},"score":7,"creation_date":1426282119,"post_id":1235321,"comment_id":46324674,"body_markdown":"Also, if this would be a close button, the process is left running in the background as well.","body":"Also, if this would be a close button, the process is left running in the background as well."},{"owner":{"account_id":60811,"reputation":2110,"user_id":181535,"accept_rate":57,"display_name":"Melinda Green"},"score":2,"creation_date":1457867766,"post_id":1235321,"comment_id":59593319,"body_markdown":"Not if the default close operation is on EXIT_ON_CLOSE or the button listener performs any needed resource closing.","body":"Not if the default close operation is on EXIT_ON_CLOSE or the button listener performs any needed resource closing."},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1503799839,"post_id":1235321,"comment_id":78761069,"body_markdown":"It doesn&#39;t call the listeners.","body":"It doesn&#39;t call the listeners."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":2,"creation_date":1619779637,"post_id":1235321,"comment_id":119013656,"body_markdown":"from what I observe, invoking `dispose()` does in fact cause the &quot;deactivated&quot; and &quot;closed&quot; listener events to be issued. So, I do not know what the commenters above are complaining about.","body":"from what I observe, invoking <code>dispose()</code> does in fact cause the &quot;deactivated&quot; and &quot;closed&quot; listener events to be issued. So, I do not know what the commenters above are complaining about."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1619822919,"post_id":1235321,"comment_id":119029844,"body_markdown":"@camickr I understand the question very well, thank you. I am not commenting on the question. I am not even commenting on the answer per se. I am commenting on the commenters who say it does not call event listeners. It does. When it calls them, it fails to issue the &quot;closing&quot; event, but it issues the other events.  The commenters above are not saying &quot;but it is not issuing the closing event&quot;. They are saying that is not invoking the listeners. Which is patently wrong.","body":"@camickr I understand the question very well, thank you. I am not commenting on the question. I am not even commenting on the answer per se. I am commenting on the commenters who say it does not call event listeners. It does. When it calls them, it fails to issue the &quot;closing&quot; event, but it issues the other events.  The commenters above are not saying &quot;but it is not issuing the closing event&quot;. They are saying that is not invoking the listeners. Which is patently wrong."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1619826772,"post_id":1235321,"comment_id":119030477,"body_markdown":"@MikeNakis Yes, dispose() does invoke those two events, but that is not what the question was asking.  *I do not know what the commenters above are complaining about* - The comments are implying that the events generated are NOT the same as the events generated if you manually click on the &quot;X&quot; and therefore this suggestion does not answer the question. Just invoking dispose() will NOT generate the `windowClosing` event therefore the sequence of events is not what is expected..","body":"@MikeNakis Yes, dispose() does invoke those two events, but that is not what the question was asking.  <i>I do not know what the commenters above are complaining about</i> - The comments are implying that the events generated are NOT the same as the events generated if you manually click on the &quot;X&quot; and therefore this suggestion does not answer the question. Just invoking dispose() will NOT generate the <code>windowClosing</code> event therefore the sequence of events is not what is expected.."}],"tags":[],"owner":{"account_id":19430,"reputation":6843,"user_id":45581,"accept_rate":95,"display_name":"Alex"},"comment_count":7,"down_vote_count":11,"up_vote_count":171,"is_accepted":false,"score":160,"last_activity_date":1249501325,"creation_date":1249501325,"answer_id":1235321,"question_id":1234912,"body_markdown":"    setVisible(false); //you can&#39;t see me!\r\n    dispose(); //Destroy the JFrame object\r\n\r\nNot too tricky.\r\n\r\n","title":"How to programmatically close a JFrame?","body":"<pre><code>setVisible(false); //you can't see me!\ndispose(); //Destroy the JFrame object\n</code></pre>\n\n<p>Not too tricky.</p>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":2,"creation_date":1501023858,"post_id":1235994,"comment_id":77592115,"body_markdown":"Do I need to add \n\nthis.jframe.addWindowListener(new WindowAdapter() {\n                                @Override\n                                public void windowClosing( WindowEvent e ) {\n                                        e.getWindow().dispose();\n                                }\n                        });\n\nprior to calling this? Or will it close down the window as well?","body":"Do I need to add   this.jframe.addWindowListener(new WindowAdapter() {                                 @Override                                 public void windowClosing( WindowEvent e ) {                                         e.getWindow().dispose();                                 }                         });  prior to calling this? Or will it close down the window as well?"},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":3,"creation_date":1501081050,"post_id":1235994,"comment_id":77622863,"body_markdown":"&quot;How to programmatically close a JFrame&quot; - If the JFrame.EXIT_ON_CLOSE is not set, it will not close. Anyway, I was just pointing out that it might be needed to add to the answer, since jframe.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE); won&#39;t actually close it by triggering this event despite the user normally being able to close the window on X even if DO_NOTHING_ON_CLOSE is set, but firing this event won&#39;t. See the difference?","body":"&quot;How to programmatically close a JFrame&quot; - If the JFrame.EXIT_ON_CLOSE is not set, it will not close. Anyway, I was just pointing out that it might be needed to add to the answer, since jframe.setDefaultCloseOperation(WindowConstants.DO_NOTHING_O&zwnj;&#8203;N_CLOSE); won&#39;t actually close it by triggering this event despite the user normally being able to close the window on X even if DO_NOTHING_ON_CLOSE is set, but firing this event won&#39;t. See the difference?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":7,"creation_date":1501086784,"post_id":1235994,"comment_id":77627358,"body_markdown":"@momomo, there was no need to point out anything. This answer will do exactly as the OP asked. It will do whatever the &quot;X&quot; close button does. The title of the question is not the question. The OP specifically stated the default close operation was set to &quot;exit&quot;, so what the &quot;do nothing&quot; does is irrelevant since the OP was not asking about that. Please delete all your comments so you don&#39;t confuse other people reading this answer, since the answer was given to directly answer the OP&#39;s question, not your interpretation of the heading of the question.","body":"@momomo, there was no need to point out anything. This answer will do exactly as the OP asked. It will do whatever the &quot;X&quot; close button does. The title of the question is not the question. The OP specifically stated the default close operation was set to &quot;exit&quot;, so what the &quot;do nothing&quot; does is irrelevant since the OP was not asking about that. Please delete all your comments so you don&#39;t confuse other people reading this answer, since the answer was given to directly answer the OP&#39;s question, not your interpretation of the heading of the question."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1619778906,"post_id":1235994,"comment_id":119013383,"body_markdown":"This answer is useless for any non-trivial scenario, because in any non-trivial scenario, the reason why I would want to programmatically close the frame is precisely because I have already handled the &quot;closing&quot; event, taken various actions to determine whether the frame should in fact close, have determined that the frame should indeed close, and are now trying to actually close it.  So, invoking the &quot;closing&quot; event again would cause infinite recursion.","body":"This answer is useless for any non-trivial scenario, because in any non-trivial scenario, the reason why I would want to programmatically close the frame is precisely because I have already handled the &quot;closing&quot; event, taken various actions to determine whether the frame should in fact close, have determined that the frame should indeed close, and are now trying to actually close it.  So, invoking the &quot;closing&quot; event again would cause infinite recursion."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":4,"down_vote_count":0,"up_vote_count":383,"is_accepted":true,"score":383,"last_activity_date":1459468891,"creation_date":1249509616,"answer_id":1235994,"question_id":1234912,"body_markdown":"If you want the GUI to behave as if you clicked the `X` close button then you need to dispatch a window closing event to the `Window`. The `ExitAction` from [Closing An Application][1] allows you to add this functionality to a menu item or any component that uses `Action`s easily.\r\n\r\n    frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2009/05/01/closing-an-application/","title":"How to programmatically close a JFrame?","body":"<p>If you want the GUI to behave as if you clicked the <code>X</code> close button then you need to dispatch a window closing event to the <code>Window</code>. The <code>ExitAction</code> from <a href=\"http://tips4java.wordpress.com/2009/05/01/closing-an-application/\" rel=\"noreferrer\">Closing An Application</a> allows you to add this functionality to a menu item or any component that uses <code>Action</code>s easily.</p>\n\n<pre><code>frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":696633,"reputation":89,"user_id":568969,"display_name":"niranaam"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1409140400,"creation_date":1294594065,"answer_id":4640574,"question_id":1234912,"body_markdown":"Not only to close the JFrame but also to trigger WindowListener events, try this:\r\n\r\n    myFrame.dispatchEvent(new WindowEvent(myFrame, WindowEvent.WINDOW_CLOSING));\r\n\r\n","title":"How to programmatically close a JFrame?","body":"<p>Not only to close the JFrame but also to trigger WindowListener events, try this:</p>\n\n<pre><code>myFrame.dispatchEvent(new WindowEvent(myFrame, WindowEvent.WINDOW_CLOSING));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346181,"reputation":11486,"user_id":679553,"accept_rate":86,"display_name":"Gazihan Alankus"},"comment_count":0,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1301286422,"creation_date":1301280018,"answer_id":5454119,"question_id":1234912,"body_markdown":"If you have done this to make sure the user can&#39;t close the window:\r\n\r\n    frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\nThen you should change your `pullThePlug()` method to be\r\n\r\n    public void pullThePlug() {\r\n        // this will make sure WindowListener.windowClosing() et al. will be called.\r\n        WindowEvent wev = new WindowEvent(this, WindowEvent.WINDOW_CLOSING);\r\n        Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);\r\n\r\n        // this will hide and dispose the frame, so that the application quits by\r\n        // itself if there is nothing else around. \r\n        setVisible(false);\r\n        dispose();\r\n        // if you have other similar frames around, you should dispose them, too.\r\n\r\n        // finally, call this to really exit. \r\n        // i/o libraries such as WiiRemoteJ need this. \r\n        // also, this is what swing does for JFrame.EXIT_ON_CLOSE\r\n        System.exit(0); \r\n    }\r\n\r\nI found this to be the only way that plays nice with the `WindowListener` and `JFrame.DO_NOTHING_ON_CLOSE`.","title":"How to programmatically close a JFrame?","body":"<p>If you have done this to make sure the user can't close the window:</p>\n\n<pre><code>frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n</code></pre>\n\n<p>Then you should change your <code>pullThePlug()</code> method to be</p>\n\n<pre><code>public void pullThePlug() {\n    // this will make sure WindowListener.windowClosing() et al. will be called.\n    WindowEvent wev = new WindowEvent(this, WindowEvent.WINDOW_CLOSING);\n    Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);\n\n    // this will hide and dispose the frame, so that the application quits by\n    // itself if there is nothing else around. \n    setVisible(false);\n    dispose();\n    // if you have other similar frames around, you should dispose them, too.\n\n    // finally, call this to really exit. \n    // i/o libraries such as WiiRemoteJ need this. \n    // also, this is what swing does for JFrame.EXIT_ON_CLOSE\n    System.exit(0); \n}\n</code></pre>\n\n<p>I found this to be the only way that plays nice with the <code>WindowListener</code> and <code>JFrame.DO_NOTHING_ON_CLOSE</code>.</p>\n"},{"tags":[],"owner":{"account_id":424621,"reputation":1092,"user_id":804714,"display_name":"stjepano"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1409140314,"creation_date":1309002241,"answer_id":6477508,"question_id":1234912,"body_markdown":"Best way to close a Swing frame programmatically is to make it behave like it would when the &quot;X&quot; button is pressed. To do that you will need to implement WindowAdapter that suits your needs and set frame&#39;s default close operation to do nothing (DO_NOTHING_ON_CLOSE).\r\n\r\nInitialize your frame like this:\r\n\r\n    private WindowAdapter windowAdapter = null;\r\n\r\n    private void initFrame() {\r\n        \r\n        this.windowAdapter = new WindowAdapter() {\r\n            // WINDOW_CLOSING event handler\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                super.windowClosing(e);\r\n                // You can still stop closing if you want to\r\n                int res = JOptionPane.showConfirmDialog(ClosableFrame.this, &quot;Are you sure you want to close?&quot;, &quot;Close?&quot;, JOptionPane.YES_NO_OPTION);\r\n                if ( res == 0 ) {\r\n                    // dispose method issues the WINDOW_CLOSED event\r\n                    ClosableFrame.this.dispose();\r\n                }\r\n            }\r\n\r\n            // WINDOW_CLOSED event handler\r\n            @Override\r\n            public void windowClosed(WindowEvent e) {\r\n                super.windowClosed(e);\r\n                // Close application if you want to with System.exit(0)\r\n                // but don&#39;t forget to dispose of all resources \r\n                // like child frames, threads, ...\r\n                // System.exit(0);\r\n            }\r\n        };\r\n        \r\n        // when you press &quot;X&quot; the WINDOW_CLOSING event is called but that is it\r\n        // nothing else happens\r\n        this.setDefaultCloseOperation(ClosableFrame.DO_NOTHING_ON_CLOSE);\r\n        // don&#39;t forget this\r\n        this.addWindowListener(this.windowAdapter);\r\n    }\r\n\r\nYou can close the frame programmatically by sending it the WINDOW_CLOSING event, like this:\r\n\r\n    WindowEvent closingEvent = new WindowEvent(targetFrame, WindowEvent.WINDOW_CLOSING);\r\n    Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(closingEvent);\r\n\r\nThis will close the frame like the &quot;X&quot; button was pressed.\r\n","title":"How to programmatically close a JFrame?","body":"<p>Best way to close a Swing frame programmatically is to make it behave like it would when the \"X\" button is pressed. To do that you will need to implement WindowAdapter that suits your needs and set frame's default close operation to do nothing (DO_NOTHING_ON_CLOSE).</p>\n\n<p>Initialize your frame like this:</p>\n\n<pre><code>private WindowAdapter windowAdapter = null;\n\nprivate void initFrame() {\n\n    this.windowAdapter = new WindowAdapter() {\n        // WINDOW_CLOSING event handler\n        @Override\n        public void windowClosing(WindowEvent e) {\n            super.windowClosing(e);\n            // You can still stop closing if you want to\n            int res = JOptionPane.showConfirmDialog(ClosableFrame.this, \"Are you sure you want to close?\", \"Close?\", JOptionPane.YES_NO_OPTION);\n            if ( res == 0 ) {\n                // dispose method issues the WINDOW_CLOSED event\n                ClosableFrame.this.dispose();\n            }\n        }\n\n        // WINDOW_CLOSED event handler\n        @Override\n        public void windowClosed(WindowEvent e) {\n            super.windowClosed(e);\n            // Close application if you want to with System.exit(0)\n            // but don't forget to dispose of all resources \n            // like child frames, threads, ...\n            // System.exit(0);\n        }\n    };\n\n    // when you press \"X\" the WINDOW_CLOSING event is called but that is it\n    // nothing else happens\n    this.setDefaultCloseOperation(ClosableFrame.DO_NOTHING_ON_CLOSE);\n    // don't forget this\n    this.addWindowListener(this.windowAdapter);\n}\n</code></pre>\n\n<p>You can close the frame programmatically by sending it the WINDOW_CLOSING event, like this:</p>\n\n<pre><code>WindowEvent closingEvent = new WindowEvent(targetFrame, WindowEvent.WINDOW_CLOSING);\nToolkit.getDefaultToolkit().getSystemEventQueue().postEvent(closingEvent);\n</code></pre>\n\n<p>This will close the frame like the \"X\" button was pressed.</p>\n"},{"tags":[],"owner":{"account_id":1946404,"reputation":31,"user_id":1751452,"display_name":"rkd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1350424793,"creation_date":1350424510,"answer_id":12924062,"question_id":1234912,"body_markdown":"This examples shows how to realize the confirmed window close operation.\r\n\r\nThe window has a Window adapter which switches the default close operation to `EXIT_ON_CLOSE `or `DO_NOTHING_ON_CLOSE` dependent on your answer in the `OptionDialog`.\r\n\r\nThe method `closeWindow` of the `ConfirmedCloseWindow` fires a close window event and can be used anywhere i.e. as an action of an menu item\r\n\r\n    public class WindowConfirmedCloseAdapter extends WindowAdapter {\r\n        \r\n        public void windowClosing(WindowEvent e) {\r\n\r\n            Object options[] = {&quot;Yes&quot;, &quot;No&quot;};\r\n\r\n            int close = JOptionPane.showOptionDialog(e.getComponent(),\r\n                    &quot;Really want to close this application?\\n&quot;, &quot;Attention&quot;,\r\n                    JOptionPane.YES_NO_OPTION,\r\n                    JOptionPane.INFORMATION_MESSAGE,\r\n                    null,\r\n                    options,\r\n                    null);\r\n\r\n            if(close == JOptionPane.YES_OPTION) {\r\n               ((JFrame)e.getSource()).setDefaultCloseOperation(\r\n                       JFrame.EXIT_ON_CLOSE);\r\n            } else {\r\n               ((JFrame)e.getSource()).setDefaultCloseOperation(\r\n                       JFrame.DO_NOTHING_ON_CLOSE);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class ConfirmedCloseWindow extends JFrame {\r\n    \r\n        public ConfirmedCloseWindow() {\r\n            \r\n            addWindowListener(new WindowConfirmedCloseAdapter());\r\n        }\r\n    \r\n        private void closeWindow() {\r\n            processWindowEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSING));\r\n        }\r\n    }\r\n\r\n\r\n    ","title":"How to programmatically close a JFrame?","body":"<p>This examples shows how to realize the confirmed window close operation.</p>\n\n<p>The window has a Window adapter which switches the default close operation to <code>EXIT_ON_CLOSE</code>or <code>DO_NOTHING_ON_CLOSE</code> dependent on your answer in the <code>OptionDialog</code>.</p>\n\n<p>The method <code>closeWindow</code> of the <code>ConfirmedCloseWindow</code> fires a close window event and can be used anywhere i.e. as an action of an menu item</p>\n\n<pre><code>public class WindowConfirmedCloseAdapter extends WindowAdapter {\n\n    public void windowClosing(WindowEvent e) {\n\n        Object options[] = {\"Yes\", \"No\"};\n\n        int close = JOptionPane.showOptionDialog(e.getComponent(),\n                \"Really want to close this application?\\n\", \"Attention\",\n                JOptionPane.YES_NO_OPTION,\n                JOptionPane.INFORMATION_MESSAGE,\n                null,\n                options,\n                null);\n\n        if(close == JOptionPane.YES_OPTION) {\n           ((JFrame)e.getSource()).setDefaultCloseOperation(\n                   JFrame.EXIT_ON_CLOSE);\n        } else {\n           ((JFrame)e.getSource()).setDefaultCloseOperation(\n                   JFrame.DO_NOTHING_ON_CLOSE);\n        }\n    }\n}\n\npublic class ConfirmedCloseWindow extends JFrame {\n\n    public ConfirmedCloseWindow() {\n\n        addWindowListener(new WindowConfirmedCloseAdapter());\n    }\n\n    private void closeWindow() {\n        processWindowEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSING));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356628888,"creation_date":1356628888,"answer_id":14058587,"question_id":1234912,"body_markdown":"You have to insert the call into the AWT message queue so all the timing happens correctly, otherwise it will not dispatch the correct event sequence, especially in a multi-threaded program.  When this is done you may handle the resulting event sequence exactly as you would if the user has clicked on the [x] button for an OS suppled decorated JFrame.\r\n\r\n    public void closeWindow()\r\n    {\r\n        if(awtWindow_ != null) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    awtWindow_.dispatchEvent(new WindowEvent(awtWindow_, WindowEvent.WINDOW_CLOSING));\r\n                }\r\n            });\r\n        }\r\n    }\r\n","title":"How to programmatically close a JFrame?","body":"<p>You have to insert the call into the AWT message queue so all the timing happens correctly, otherwise it will not dispatch the correct event sequence, especially in a multi-threaded program.  When this is done you may handle the resulting event sequence exactly as you would if the user has clicked on the [x] button for an OS suppled decorated JFrame.</p>\n\n<pre><code>public void closeWindow()\n{\n    if(awtWindow_ != null) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                awtWindow_.dispatchEvent(new WindowEvent(awtWindow_, WindowEvent.WINDOW_CLOSING));\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3300209,"reputation":16209,"user_id":2776559,"accept_rate":78,"display_name":"Megatron"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1401815331,"creation_date":1401815331,"answer_id":24021044,"question_id":1234912,"body_markdown":"Based on the answers already provided here, this is the way I implemented it:\r\n\r\n    JFrame frame= new JFrame()\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n    // frame stuffs here ...\r\n\r\n    frame.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\r\n\r\nThe JFrame gets the event to close and upon closing, exits.","title":"How to programmatically close a JFrame?","body":"<p>Based on the answers already provided here, this is the way I implemented it:</p>\n\n<pre><code>JFrame frame= new JFrame()\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n// frame stuffs here ...\n\nframe.dispatchEvent(new WindowEvent(frame, WindowEvent.WINDOW_CLOSING));\n</code></pre>\n\n<p>The JFrame gets the event to close and upon closing, exits.</p>\n"},{"tags":[],"owner":{"account_id":2016507,"reputation":5631,"user_id":1803692,"accept_rate":96,"display_name":"Vogel612"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409139645,"creation_date":1409139645,"answer_id":25526228,"question_id":1234912,"body_markdown":"Posting what was in the question body as CW answer.\r\n\r\nWanted to share the results, mainly derived from following camickr&#39;s link.  Basically I need to throw a `WindowEvent.WINDOW_CLOSING` at the application&#39;s event queue. Here&#39;s a synopsis of what the solution looks like\r\n\r\n    // closing down the window makes sense as a method, so here are\r\n    // the salient parts of what happens with the JFrame extending class ..\r\n\r\n        public class FooWindow extends JFrame {\r\n            public FooWindow() {\r\n                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                setBounds(5, 5, 400, 300);  // yeah yeah, this is an example ;P\r\n                setVisible(true);\r\n            }\r\n            public void pullThePlug() {\r\n                    WindowEvent wev = new WindowEvent(this, WindowEvent.WINDOW_CLOSING);\r\n                    Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);\r\n            }\r\n        }\r\n    \r\n    // Here&#39;s how that would be employed from elsewhere -\r\n\r\n        // someplace the window gets created ..\r\n        FooWindow fooey = new FooWindow();\r\n        ...\r\n        // and someplace else, you can close it thusly\r\n        fooey.pullThePlug();","title":"How to programmatically close a JFrame?","body":"<p>Posting what was in the question body as CW answer.</p>\n\n<p>Wanted to share the results, mainly derived from following camickr's link.  Basically I need to throw a <code>WindowEvent.WINDOW_CLOSING</code> at the application's event queue. Here's a synopsis of what the solution looks like</p>\n\n<pre><code>// closing down the window makes sense as a method, so here are\n// the salient parts of what happens with the JFrame extending class ..\n\n    public class FooWindow extends JFrame {\n        public FooWindow() {\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            setBounds(5, 5, 400, 300);  // yeah yeah, this is an example ;P\n            setVisible(true);\n        }\n        public void pullThePlug() {\n                WindowEvent wev = new WindowEvent(this, WindowEvent.WINDOW_CLOSING);\n                Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);\n        }\n    }\n\n// Here's how that would be employed from elsewhere -\n\n    // someplace the window gets created ..\n    FooWindow fooey = new FooWindow();\n    ...\n    // and someplace else, you can close it thusly\n    fooey.pullThePlug();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1676379100,"post_id":28097851,"comment_id":133121566,"body_markdown":"Code after `System.exit` will never execute. It immediately terminates the process.","body":"Code after <code>System.exit</code> will never execute. It immediately terminates the process."},{"owner":{"account_id":4526333,"reputation":1103,"user_id":3678023,"accept_rate":86,"display_name":"Aaron Esau"},"score":0,"creation_date":1676400354,"post_id":28097851,"comment_id":133128304,"body_markdown":"@TWiStErRob Lol edited my post to clear up this misunderstanding","body":"@TWiStErRob Lol edited my post to clear up this misunderstanding"}],"tags":[],"owner":{"account_id":4526333,"reputation":1103,"user_id":3678023,"accept_rate":86,"display_name":"Aaron Esau"},"comment_count":2,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1676400339,"creation_date":1421957641,"answer_id":28097851,"question_id":1234912,"body_markdown":"Stop the program:\r\n\r\n    System.exit(0);\r\n\r\nClose the window:\r\n\r\n    frame.dispose();\r\n\r\nHide the window:\r\n\r\n    frame.setVisible(false);","title":"How to programmatically close a JFrame?","body":"<p>Stop the program:</p>\n<pre><code>System.exit(0);\n</code></pre>\n<p>Close the window:</p>\n<pre><code>frame.dispose();\n</code></pre>\n<p>Hide the window:</p>\n<pre><code>frame.setVisible(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4670307,"reputation":11,"user_id":3782247,"display_name":"Mena Nashaat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437824833,"creation_date":1437824833,"answer_id":31626144,"question_id":1234912,"body_markdown":"If you do not want your application to terminate when a JFrame is closed, \r\nuse:\r\n    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE)\r\n\r\ninstead of:\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\nFrom the documentation:\r\n\r\n`DO_NOTHING_ON_CLOSE (defined in WindowConstants)`: Don&#39;t do anything; require the program to handle the operation in the windowClosing method of a registered WindowListener object.\r\n\r\n`HIDE_ON_CLOSE (defined in WindowConstants)`: Automatically hide the frame after invoking any registered WindowListener objects.\r\n\r\n`DISPOSE_ON_CLOSE (defined in WindowConstants)`: Automatically hide and dispose the frame after invoking any registered WindowListener objects.\r\n\r\n`EXIT_ON_CLOSE (defined in JFrame)`: Exit the application using the System exit method. Use this only in applications.\r\n\r\nmight still be useful:\r\nYou can use `setVisible(false)` on your JFrame if you want to display the same frame again.\r\nOtherwise call `dispose()` to remove all of the native screen resources.\r\n\r\n#copied from Peter Lang\r\nhttps://stackoverflow.com/a/1944474/3782247","title":"How to programmatically close a JFrame?","body":"<p>If you do not want your application to terminate when a JFrame is closed, \nuse:\n    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE)</p>\n\n<p>instead of:\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</p>\n\n<p>From the documentation:</p>\n\n<p><code>DO_NOTHING_ON_CLOSE (defined in WindowConstants)</code>: Don't do anything; require the program to handle the operation in the windowClosing method of a registered WindowListener object.</p>\n\n<p><code>HIDE_ON_CLOSE (defined in WindowConstants)</code>: Automatically hide the frame after invoking any registered WindowListener objects.</p>\n\n<p><code>DISPOSE_ON_CLOSE (defined in WindowConstants)</code>: Automatically hide and dispose the frame after invoking any registered WindowListener objects.</p>\n\n<p><code>EXIT_ON_CLOSE (defined in JFrame)</code>: Exit the application using the System exit method. Use this only in applications.</p>\n\n<p>might still be useful:\nYou can use <code>setVisible(false)</code> on your JFrame if you want to display the same frame again.\nOtherwise call <code>dispose()</code> to remove all of the native screen resources.</p>\n\n<h1>copied from Peter Lang</h1>\n\n<p><a href=\"https://stackoverflow.com/a/1944474/3782247\">https://stackoverflow.com/a/1944474/3782247</a></p>\n"},{"tags":[],"owner":{"account_id":4141733,"reputation":4569,"user_id":3396808,"display_name":"Jaimin Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1517983982,"creation_date":1457432009,"answer_id":35864536,"question_id":1234912,"body_markdown":"Exiting from Java running process is very easy, basically you need to do just two simple things: \r\n\r\n1. Call java method `System.exit(...)` at at application&#39;s quit point. \r\nFor example, if your application is frame based, you can add listener `WindowAdapter` and and call `System.exit(...)` inside its method `windowClosing(WindowEvent e)`. \r\n\r\n\r\nNote: you must call `System.exit(...)` otherwise your program is error involved.\r\n\r\n2. Avoiding unexpected java exceptions to make sure the exit method can be called always. \r\nIf you add `System.exit(...)` at right point, but It does not mean that the method can be called always, because unexpected java exceptions may prevent the method from been called. \r\n\r\nThis is strongly related to your programming skills. \r\n\r\n\r\n** Following is a simplest sample (`JFrame` based) which shows you how to call exit method \r\n\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n     \r\n    public class ExitApp extends JFrame\r\n    {\r\n       public ExitApp()\r\n       {\r\n          addWindowListener(new WindowAdapter()\r\n          {\r\n             public void windowClosing(WindowEvent e)\r\n             {\r\n               dispose();\r\n               System.exit(0); //calling the method is a must\r\n             }\r\n          });\r\n       }\r\n     \r\n       public static void main(String[] args)\r\n       {\r\n          ExitApp app=new ExitApp();\r\n          app.setBounds(133,100,532,400);\r\n          app.setVisible(true);\r\n       }\r\n    }","title":"How to programmatically close a JFrame?","body":"<p>Exiting from Java running process is very easy, basically you need to do just two simple things: </p>\n\n<ol>\n<li>Call java method <code>System.exit(...)</code> at at application's quit point. \nFor example, if your application is frame based, you can add listener <code>WindowAdapter</code> and and call <code>System.exit(...)</code> inside its method <code>windowClosing(WindowEvent e)</code>. </li>\n</ol>\n\n<p>Note: you must call <code>System.exit(...)</code> otherwise your program is error involved.</p>\n\n<ol start=\"2\">\n<li>Avoiding unexpected java exceptions to make sure the exit method can be called always. \nIf you add <code>System.exit(...)</code> at right point, but It does not mean that the method can be called always, because unexpected java exceptions may prevent the method from been called. </li>\n</ol>\n\n<p>This is strongly related to your programming skills. </p>\n\n<p>** Following is a simplest sample (<code>JFrame</code> based) which shows you how to call exit method </p>\n\n<pre><code>import java.awt.event.*;\nimport javax.swing.*;\n\npublic class ExitApp extends JFrame\n{\n   public ExitApp()\n   {\n      addWindowListener(new WindowAdapter()\n      {\n         public void windowClosing(WindowEvent e)\n         {\n           dispose();\n           System.exit(0); //calling the method is a must\n         }\n      });\n   }\n\n   public static void main(String[] args)\n   {\n      ExitApp app=new ExitApp();\n      app.setBounds(133,100,532,400);\n      app.setVisible(true);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8993422,"reputation":119,"user_id":6704626,"display_name":"Harita M"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472709717,"creation_date":1470915785,"answer_id":38895421,"question_id":1234912,"body_markdown":"If you really do not want your application to terminate when a JFrame is closed then,\r\n \r\nuse : `setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);`\r\n\r\ninstead of : `setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);`\r\n\r\n*Here&#39;s a synopsis of what the solution looks like,*\r\n\r\n     myFrame.dispatchEvent(new WindowEvent(myFrame, WindowEvent.WINDOW_CLOSING));","title":"How to programmatically close a JFrame?","body":"<p>If you really do not want your application to terminate when a JFrame is closed then,</p>\n\n<p>use : <code>setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</code></p>\n\n<p>instead of : <code>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</code></p>\n\n<p><em>Here's a synopsis of what the solution looks like,</em></p>\n\n<pre><code> myFrame.dispatchEvent(new WindowEvent(myFrame, WindowEvent.WINDOW_CLOSING));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8886612,"reputation":588,"user_id":6634682,"display_name":"r_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500315362,"creation_date":1472728492,"answer_id":39270054,"question_id":1234912,"body_markdown":"I have tried this, write your own code for **formWindowClosing()** event.\r\n\r\n     private void formWindowClosing(java.awt.event.WindowEvent evt) {                                   \r\n        int selectedOption = JOptionPane.showConfirmDialog(null,\r\n                &quot;Do you want to exit?&quot;,\r\n                &quot;FrameToClose&quot;,\r\n                JOptionPane.YES_NO_OPTION);\r\n        if (selectedOption == JOptionPane.YES_OPTION) {\r\n            setVisible(false);\r\n            dispose();\r\n        } else {\r\n            setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);\r\n        }\r\n    }    \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis asks user whether he want to exit the Frame or Application.","title":"How to programmatically close a JFrame?","body":"<p>I have tried this, write your own code for <strong>formWindowClosing()</strong> event.</p>\n\n<pre><code> private void formWindowClosing(java.awt.event.WindowEvent evt) {                                   \n    int selectedOption = JOptionPane.showConfirmDialog(null,\n            \"Do you want to exit?\",\n            \"FrameToClose\",\n            JOptionPane.YES_NO_OPTION);\n    if (selectedOption == JOptionPane.YES_OPTION) {\n        setVisible(false);\n        dispose();\n    } else {\n        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);\n    }\n}    \n</code></pre>\n\n\n\n<p>This asks user whether he want to exit the Frame or Application.</p>\n"}],"owner":{"account_id":39758,"reputation":12690,"user_id":114847,"accept_rate":85,"display_name":"JustJeff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693141,"favorite_count":0,"down_vote_count":0,"up_vote_count":292,"accepted_answer_id":1235994,"answer_count":16,"score":292,"last_activity_date":1682183058,"creation_date":1249496670,"question_id":1234912,"body_markdown":"What&#39;s the correct way to get a `JFrame` to close, the same as if the user had hit the `X` close button, or pressed &lt;kbd&gt;Alt + F4&lt;/kbd&gt; (on Windows)?\r\n\r\nI have my default close operation set the way I want, via:\r\n\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\nIt does exactly what I want with the aforementioned controls.  This question isn&#39;t about that.\r\n\r\nWhat I really want to do is cause the GUI to behave in the same way as a press of `X` close button would cause it to behave.\r\n\r\nSuppose I were to extend `WindowAdaptor`, then add an instance of my adapter as a listener via `addWindowListener()`.  I would like to see the same sequence of calls through `windowDeactivated()`, `windowClosing()`, and `windowClosed()` as would occur with the `X` close button.  Not so much tearing up the window as telling it to tear itself up, so to speak.","title":"How to programmatically close a JFrame?","body":"<p>What's the correct way to get a <code>JFrame</code> to close, the same as if the user had hit the <code>X</code> close button, or pressed <kbd>Alt + F4</kbd> (on Windows)?</p>\n<p>I have my default close operation set the way I want, via:</p>\n<pre><code>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n</code></pre>\n<p>It does exactly what I want with the aforementioned controls.  This question isn't about that.</p>\n<p>What I really want to do is cause the GUI to behave in the same way as a press of <code>X</code> close button would cause it to behave.</p>\n<p>Suppose I were to extend <code>WindowAdaptor</code>, then add an instance of my adapter as a listener via <code>addWindowListener()</code>.  I would like to see the same sequence of calls through <code>windowDeactivated()</code>, <code>windowClosing()</code>, and <code>windowClosed()</code> as would occur with the <code>X</code> close button.  Not so much tearing up the window as telling it to tear itself up, so to speak.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":2,"creation_date":1682177904,"post_id":76080329,"comment_id":134175953,"body_markdown":"This `start([^stop]*)` you tried would be [`start((?:(?!stop).)*)`](https://regex101.com/r/SlnQ4b/1) and known as [tempered greedy token](http://www.rexegg.com/regex-quantifiers.html#tempered_greed) (at least at *rexegg.com*). Pretty sure, this question is a dupe.","body":"This <code>start([^stop]*)</code> you tried would be <a href=\"https://regex101.com/r/SlnQ4b/1\" rel=\"nofollow noreferrer\"><code>start((?:(?!stop).)*)</code></a> and known as <a href=\"http://www.rexegg.com/regex-quantifiers.html#tempered_greed\" rel=\"nofollow noreferrer\">tempered greedy token</a> (at least at <i>rexegg.com</i>). Pretty sure, this question is a dupe."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1682176516,"creation_date":1682176516,"answer_id":76080359,"question_id":76080329,"body_markdown":"You can use lookaround assertions to mark the beginning and end of the match. Making `.*` lazy, the first possible opportunity to end the match will be taken:\r\n\r\n    (?&lt;=start).*?(?=stop|$)\r\n\r\nThe `$` matches with the end-of-input, which will occur when there is no `stop` following.","title":"Regex in Java which matches everything except a certain substring","body":"<p>You can use lookaround assertions to mark the beginning and end of the match. Making <code>.*</code> lazy, the first possible opportunity to end the match will be taken:</p>\n<pre><code>(?&lt;=start).*?(?=stop|$)\n</code></pre>\n<p>The <code>$</code> matches with the end-of-input, which will occur when there is no <code>stop</code> following.</p>\n"}],"owner":{"account_id":3205177,"reputation":4088,"user_id":2706344,"accept_rate":46,"display_name":"principal-ideal-domain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682182909,"creation_date":1682176202,"question_id":76080329,"body_markdown":"I&#39;m looking for a regular expression which matches as much as possible without a certain substring. For example in &quot;19weojustartspdfoj0u23stop308rstop23ij&quot; I want to match with a expression like &quot;start([^stop]*)&quot; the substring &quot;spdfoj0u23&quot;. The same expression should match &quot;q039sdfkjfds&quot; in &quot;12ejipstartq039sdfkjfds&quot; (here we have no stop, therefore we get everyting after &quot;start&quot;.","title":"Regex in Java which matches everything except a certain substring","body":"<p>I'm looking for a regular expression which matches as much as possible without a certain substring. For example in &quot;19weojustartspdfoj0u23stop308rstop23ij&quot; I want to match with a expression like &quot;start([^stop]*)&quot; the substring &quot;spdfoj0u23&quot;. The same expression should match &quot;q039sdfkjfds&quot; in &quot;12ejipstartq039sdfkjfds&quot; (here we have no stop, therefore we get everyting after &quot;start&quot;.</p>\n"},{"tags":["java","gradle","micronaut","junit-jupiter"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1682627139,"post_id":76080853,"comment_id":134249956,"body_markdown":"Maybe you should read up on MN test: https://micronaut-projects.github.io/micronaut-test/latest/guide/index.html \n\nUsing http://127.0.0.1:8080/  in a MN test is new to me.","body":"Maybe you should read up on MN test: <a href=\"https://micronaut-projects.github.io/micronaut-test/latest/guide/index.html\" rel=\"nofollow noreferrer\">micronaut-projects.github.io/micronaut-test/latest/guide/&hellip;</a>   Using <a href=\"http://127.0.0.1:8080/\" rel=\"nofollow noreferrer\">127.0.0.1:8080</a>  in a MN test is new to me."}],"owner":{"account_id":992808,"reputation":1157,"user_id":1009577,"accept_rate":85,"display_name":"Friso Kluitenberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682182701,"creation_date":1682182701,"question_id":76080853,"body_markdown":"Recently I am using micronaut libraries to move some controllers which are meant to be reused. However, i cant figure out how to test those controllers. The get included in the application just fine, but on there own the tests case timesout. How can i fix this?\r\n\r\n```groovy\r\n# build.gradle\r\napply plugin: &quot;io.micronaut.library&quot;\r\n\r\n\r\nmicronaut {\r\n    runtime(&quot;netty&quot;)\r\n    testRuntime(&quot;junit5&quot;)\r\n}\r\n\r\n\r\ndependencies {\r\n    api(&quot;io.micronaut:micronaut-http&quot;)\r\n    api(&quot;io.micronaut:micronaut-http-server&quot;)\r\n    testImplementation(&quot;io.micronaut:micronaut-http-server&quot;)\r\n    testImplementation(&quot;io.micronaut:micronaut-http-client&quot;)\r\n\r\n...\r\n\r\n```\r\n\r\nHumanController.java\r\n```java\r\npackage fri.so.common;\r\n\r\n\r\nimport io.micronaut.core.io.ResourceLoader;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Get;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\n@Controller\r\npublic class HumansController {\r\n\r\n  private final ResourceLoader resourceLoader;\r\n\r\n  public HumansController(ResourceLoader resourceLoader) {\r\n    this.resourceLoader = resourceLoader;\r\n  }\r\n\r\n  @Get(&quot;/humans.txt&quot;)\r\n  public InputStream humans() throws IOException {\r\n\r\n    return resourceLoader.getResourceAsStream(&quot;classpath:humans.txt&quot;)\r\n            .orElseThrow(() -&gt; new IOException(&quot;Could not load humans.txt file&quot;));\r\n  }\r\n}\r\n```\r\n\r\nHumanControllerTest.java\r\n```java\r\npackage fri.so.common;\r\n\r\nimport io.micronaut.http.client.HttpClient;\r\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\n@MicronautTest\r\nclass HumansControllerTest {\r\n\r\n    @Test\r\n    void testHumans() throws MalformedURLException {\r\n        Assertions.assertTrue(true);\r\n        String response = HttpClient.create(new URL(&quot;http://127.0.0.1:8080/&quot;)).toBlocking().retrieve(&quot;humans.txt&quot;);\r\n\r\n    }\r\n}\r\n```\r\n","title":"Testing a micronaut library","body":"<p>Recently I am using micronaut libraries to move some controllers which are meant to be reused. However, i cant figure out how to test those controllers. The get included in the application just fine, but on there own the tests case timesout. How can i fix this?</p>\n<pre><code># build.gradle\napply plugin: &quot;io.micronaut.library&quot;\n\n\nmicronaut {\n    runtime(&quot;netty&quot;)\n    testRuntime(&quot;junit5&quot;)\n}\n\n\ndependencies {\n    api(&quot;io.micronaut:micronaut-http&quot;)\n    api(&quot;io.micronaut:micronaut-http-server&quot;)\n    testImplementation(&quot;io.micronaut:micronaut-http-server&quot;)\n    testImplementation(&quot;io.micronaut:micronaut-http-client&quot;)\n\n...\n\n</code></pre>\n<p>HumanController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fri.so.common;\n\n\nimport io.micronaut.core.io.ResourceLoader;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Controller\npublic class HumansController {\n\n  private final ResourceLoader resourceLoader;\n\n  public HumansController(ResourceLoader resourceLoader) {\n    this.resourceLoader = resourceLoader;\n  }\n\n  @Get(&quot;/humans.txt&quot;)\n  public InputStream humans() throws IOException {\n\n    return resourceLoader.getResourceAsStream(&quot;classpath:humans.txt&quot;)\n            .orElseThrow(() -&gt; new IOException(&quot;Could not load humans.txt file&quot;));\n  }\n}\n</code></pre>\n<p>HumanControllerTest.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fri.so.common;\n\nimport io.micronaut.http.client.HttpClient;\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n@MicronautTest\nclass HumansControllerTest {\n\n    @Test\n    void testHumans() throws MalformedURLException {\n        Assertions.assertTrue(true);\n        String response = HttpClient.create(new URL(&quot;http://127.0.0.1:8080/&quot;)).toBlocking().retrieve(&quot;humans.txt&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","google-chrome","zooming","selenium4"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":1,"creation_date":1682082402,"post_id":76072471,"comment_id":134163966,"body_markdown":"I just tried code #1 above  and it works , Please note that the zoom setting in Chrome will still show 100% even though the page has actually zoomed out. You can test this by increasing the zoom level to 50%, which should make it more obvious that the page has indeed zoomed out.","body":"I just tried code #1 above  and it works , Please note that the zoom setting in Chrome will still show 100% even though the page has actually zoomed out. You can test this by increasing the zoom level to 50%, which should make it more obvious that the page has indeed zoomed out."},{"owner":{"account_id":9616958,"reputation":104,"user_id":12843029,"display_name":"Jagruuti"},"score":0,"creation_date":1682085628,"post_id":76072471,"comment_id":134164811,"body_markdown":"I just zoomed out to 50% and can see that it has indeed zoomed out. But now for me it appears to be the issue with the screen resolution and display.\nThanks for the reply. I will mark this as an answer.\nAlso, can you just copy paste the answer in the Answer section so that I can mark it?","body":"I just zoomed out to 50% and can see that it has indeed zoomed out. But now for me it appears to be the issue with the screen resolution and display. Thanks for the reply. I will mark this as an answer. Also, can you just copy paste the answer in the Answer section so that I can mark it?"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1682182597,"post_id":76072471,"comment_id":134176577,"body_markdown":"Great ! i have added it as an answer below","body":"Great ! i have added it as an answer below"}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682182572,"creation_date":1682182572,"answer_id":76080843,"question_id":76072471,"body_markdown":"I just tried code #1 above and it works , Please note that the zoom setting in Chrome will still show 100% even though the page has actually zoomed out. You can test this by increasing the zoom level to 50%, which should make it more obvious that the page has indeed zoomed out.\r\n\r\n    JavascriptExecutor jse= (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;document.body.style.zoom=&#39;50%&#39;&quot;);","title":"Unable to change the zoom level in Selenium 4","body":"<p>I just tried code #1 above and it works , Please note that the zoom setting in Chrome will still show 100% even though the page has actually zoomed out. You can test this by increasing the zoom level to 50%, which should make it more obvious that the page has indeed zoomed out.</p>\n<pre><code>JavascriptExecutor jse= (JavascriptExecutor)driver;\njse.executeScript(&quot;document.body.style.zoom='50%'&quot;);\n</code></pre>\n"}],"owner":{"account_id":9616958,"reputation":104,"user_id":12843029,"display_name":"Jagruuti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76080843,"answer_count":1,"score":0,"last_activity_date":1682182572,"creation_date":1682074632,"question_id":76072471,"body_markdown":"I have just migrated my existing code to selenium4.Disable of automation information bar has been made mandate in the latest browser versions so I&#39;m trying to change the zoom level for a particular page through scripting, but it does not seem to work on my machine. \r\nI have tried below piece of codes-\r\n\r\n1) \r\n```\r\nJavascriptExecutor jse= (JavascriptExecutor)driver;\r\njse.executeScript(&quot;document.body.style.zoom=&#39;90%&#39;&quot;);\r\n```\r\n2) \r\n```\r\nWebElement html= driver.findElement(By.tagName(&quot;html&quot;));\r\nhtml.sendKeys(Keys.chord(Keys.CONTROL,Keys.SUBTRACT));\r\n```\r\n\r\nBoth of them are **not** working. After trying to evaluate the expression in Intellij during runtime, I&#39;m getting *null* for the second line of code in the 1st code whereas it is coming as *undefined* in the second line of code for the 2nd code.\r\n\r\nI cannot share the complete code snippet or application image considering I&#39;m working on VDI.\r\n\r\nI&#39;m trying to understand the cause of these piece of codes not working on my machine. Has anyone faced a similar issue or knows about this?\r\n\r\nLet me know for any more details.","title":"Unable to change the zoom level in Selenium 4","body":"<p>I have just migrated my existing code to selenium4.Disable of automation information bar has been made mandate in the latest browser versions so I'm trying to change the zoom level for a particular page through scripting, but it does not seem to work on my machine.\nI have tried below piece of codes-</p>\n<p>1)</p>\n<pre><code>JavascriptExecutor jse= (JavascriptExecutor)driver;\njse.executeScript(&quot;document.body.style.zoom='90%'&quot;);\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>WebElement html= driver.findElement(By.tagName(&quot;html&quot;));\nhtml.sendKeys(Keys.chord(Keys.CONTROL,Keys.SUBTRACT));\n</code></pre>\n<p>Both of them are <strong>not</strong> working. After trying to evaluate the expression in Intellij during runtime, I'm getting <em>null</em> for the second line of code in the 1st code whereas it is coming as <em>undefined</em> in the second line of code for the 2nd code.</p>\n<p>I cannot share the complete code snippet or application image considering I'm working on VDI.</p>\n<p>I'm trying to understand the cause of these piece of codes not working on my machine. Has anyone faced a similar issue or knows about this?</p>\n<p>Let me know for any more details.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":80110,"reputation":905,"user_id":226733,"accept_rate":100,"display_name":"Nick Hristov"},"score":1,"creation_date":1513006253,"post_id":47756049,"comment_id":82473250,"body_markdown":"Why do you do the modulus operation on vouchers? That does not seem useful at all.","body":"Why do you do the modulus operation on vouchers? That does not seem useful at all."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1513006314,"post_id":47756049,"comment_id":82473289,"body_markdown":"Because of their similar spelling, I suspect that by &quot;cicle&quot; you mean &quot;cycle&quot;. From there and context, I am inclined to think that the English word you actually want is &quot;loop&quot;.","body":"Because of their similar spelling, I suspect that by &quot;cicle&quot; you mean &quot;cycle&quot;. From there and context, I am inclined to think that the English word you actually want is &quot;loop&quot;."},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513006331,"post_id":47756049,"comment_id":82473304,"body_markdown":"what i can do ?","body":"what i can do ?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1513006519,"post_id":47756049,"comment_id":82473421,"body_markdown":"I&#39;m not talking about your variable naming, though we do prefer code written in English here.  Rather, I&#39;m talking about the problem description.  That&#39;s rather more important from the perspective of answering the question.","body":"I&#39;m not talking about your variable naming, though we do prefer code written in English here.  Rather, I&#39;m talking about the problem description.  That&#39;s rather more important from the perspective of answering the question."},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513006741,"post_id":47756049,"comment_id":82473581,"body_markdown":"i want a loop, every time people insert money the program print how much piece of chocolate he can get and also how much voucher get. If he has 6 voucher he can get 1 piece of chocolate for free. So for example first i time i have 6$ i get 7 piece of chocolate. Second time i have 8$ i get 8 piece of chocolate and remains to me 3 voucher. Third time i insert 13$ i get 14 piece of chocolate and exc ...","body":"i want a loop, every time people insert money the program print how much piece of chocolate he can get and also how much voucher get. If he has 6 voucher he can get 1 piece of chocolate for free. So for example first i time i have 6$ i get 7 piece of chocolate. Second time i have 8$ i get 8 piece of chocolate and remains to me 3 voucher. Third time i insert 13$ i get 14 piece of chocolate and exc ..."},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513007059,"post_id":47756049,"comment_id":82473802,"body_markdown":"nobody can help me ?","body":"nobody can help me ?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1513007355,"post_id":47756049,"comment_id":82473997,"body_markdown":"Seriously?  No answer in 22 minutes and it&#39;s &quot;nobody can help me?&quot;","body":"Seriously?  No answer in 22 minutes and it&#39;s &quot;nobody can help me?&quot;"},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513007476,"post_id":47756049,"comment_id":82474081,"body_markdown":"@JohnBollinger which answer ?","body":"@JohnBollinger which answer ?"},{"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"score":0,"creation_date":1513007669,"post_id":47756049,"comment_id":82474206,"body_markdown":"the first question which @NickHristov made i can&#39;t answer because i don&#39;t now the answer","body":"the first question which @NickHristov made i can&#39;t answer because i don&#39;t now the answer"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513008481,"creation_date":1513008128,"answer_id":47756743,"question_id":47756049,"body_markdown":"The problem statement is:\r\n\r\n&gt; Write a program wich receive an N value and print how much piece of\r\n&gt; chocolate you can eat and how much valid voucher remains to you at the\r\n&gt; end. Use a cicle wich change chocolate and voucher every time that\r\n&gt; there are to much voucher for get 1 piece of chocolate for free. [sic]\r\n\r\nThe English translation is a bit tricky to follow, but what I think it asks for is rather different from what your code actually does.  Your program loops to perform multiple runs in which it requests an amount of money and attempts to directly compute the amount of chocolate and vouchers that can be obtained by spending all the money in the candy machine.\r\n\r\nWhat the problem actually seems to be asking for, however, is a loop wherein at each iteration you reduce the number of vouchers by six if that many are available, otherwise you reduce the amount of money by one unit if any remains, else you quit the loop.  In each iteration you increase the number of chocolates purchased and the number of vouchers available by one each.  At the end, you then report the number of chocolates purchased and the number of vouchers left.  Doing that will not require any division or modular arithmetic.\r\n\r\n----\r\n\r\nDoing that is also inefficient, as you seem to recognize, but your approach to performing the computation more directly breaks down for large amounts of money.  If you really want to do it that way, contrary to the seeming intent of the assignment, then consider this approach:\r\n\r\n - each dollar gets you one chocolate and one voucher\r\n - each six vouchers gets you one chocolate and one voucher, for a *net* cost of five vouchers per chocolate\r\n - but unless you started with 0 dollars, you must end with at least one voucher, because every purchase provides one.  (In other words, you cannot buy a chocolate with your last five vouchers.)\r\n\r\nThus, if you want to do it this way then the formulae would be\r\n\r\n    chocolate =\r\n        dollars               // purchases for dollars\r\n        + (dollars - 1) / 5;  // purchases for vouchers\r\n\r\nand\r\n\r\n    vouchers = (dollars - 1) % 5 + 1;\r\n\r\nRemember to account for the special case where you start with 0 dollars, and therefore end with 0 chocolate and 0 vouchers.\r\n","title":"Java program, cycle works only 2 times","body":"<p>The problem statement is:</p>\n\n<blockquote>\n  <p>Write a program wich receive an N value and print how much piece of\n  chocolate you can eat and how much valid voucher remains to you at the\n  end. Use a cicle wich change chocolate and voucher every time that\n  there are to much voucher for get 1 piece of chocolate for free. [sic]</p>\n</blockquote>\n\n<p>The English translation is a bit tricky to follow, but what I think it asks for is rather different from what your code actually does.  Your program loops to perform multiple runs in which it requests an amount of money and attempts to directly compute the amount of chocolate and vouchers that can be obtained by spending all the money in the candy machine.</p>\n\n<p>What the problem actually seems to be asking for, however, is a loop wherein at each iteration you reduce the number of vouchers by six if that many are available, otherwise you reduce the amount of money by one unit if any remains, else you quit the loop.  In each iteration you increase the number of chocolates purchased and the number of vouchers available by one each.  At the end, you then report the number of chocolates purchased and the number of vouchers left.  Doing that will not require any division or modular arithmetic.</p>\n\n<hr>\n\n<p>Doing that is also inefficient, as you seem to recognize, but your approach to performing the computation more directly breaks down for large amounts of money.  If you really want to do it that way, contrary to the seeming intent of the assignment, then consider this approach:</p>\n\n<ul>\n<li>each dollar gets you one chocolate and one voucher</li>\n<li>each six vouchers gets you one chocolate and one voucher, for a <em>net</em> cost of five vouchers per chocolate</li>\n<li>but unless you started with 0 dollars, you must end with at least one voucher, because every purchase provides one.  (In other words, you cannot buy a chocolate with your last five vouchers.)</li>\n</ul>\n\n<p>Thus, if you want to do it this way then the formulae would be</p>\n\n<pre><code>chocolate =\n    dollars               // purchases for dollars\n    + (dollars - 1) / 5;  // purchases for vouchers\n</code></pre>\n\n<p>and</p>\n\n<pre><code>vouchers = (dollars - 1) % 5 + 1;\n</code></pre>\n\n<p>Remember to account for the special case where you start with 0 dollars, and therefore end with 0 chocolate and 0 vouchers.</p>\n"},{"comments":[{"owner":{"account_id":6242532,"reputation":622,"user_id":4855672,"accept_rate":30,"display_name":"Safi Ullah Ibne Sultan"},"score":0,"creation_date":1513009825,"post_id":47756952,"comment_id":82475552,"body_markdown":"Is this programs not working in your system?It theres any problem, let me know","body":"Is this programs not working in your system?It theres any problem, let me know"}],"tags":[],"owner":{"account_id":6242532,"reputation":622,"user_id":4855672,"accept_rate":30,"display_name":"Safi Ullah Ibne Sultan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1513008875,"creation_date":1513008875,"answer_id":47756952,"question_id":47756049,"body_markdown":"I think this program meet your demand\r\n  \r\n\r\n    int dollar,pieceOfChocolate,voucher,dollar2,voucher2,pieceOfChocolate2;\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;How much dollar do you have&quot;);\r\n    \r\n         dollar = in.nextInt();\r\n    \t// voucher=\r\n    \t pieceOfChocolate=dollar;\r\n    \t voucher=pieceOfChocolate;\r\n    \t pieceOfChocolate=dollar+voucher/6;\r\n    \t voucher = voucher%6;\r\n        System.out.println(&quot;you have  &quot;+pieceOfChocolate+&quot; chocolates and remaining voucher &quot;+voucher);\r\n    \r\n        boolean ciclo = true;\r\n    \r\n        while(ciclo){\r\n    \r\n            System.out.println(&quot;How much dollar do you have&quot;);\r\n    \r\n            dollar2 = in.nextInt();\r\n    \t\tpieceOfChocolate=dollar2;\r\n    \t voucher = voucher+pieceOfChocolate;\r\n    \t pieceOfChocolate=dollar2+voucher/6;\r\n    \t voucher = voucher%6;\r\n    \t \r\n         if(voucher==0)\r\n    \t\t break;\r\n    \r\n           System.out.println(&quot;you have  &quot;+pieceOfChocolate+&quot; chocolates and  remaining voucher &quot;+voucher);\r\n           }","title":"Java program, cycle works only 2 times","body":"<p>I think this program meet your demand</p>\n\n<pre><code>int dollar,pieceOfChocolate,voucher,dollar2,voucher2,pieceOfChocolate2;\n    Scanner in = new Scanner(System.in);\n    System.out.println(\"How much dollar do you have\");\n\n     dollar = in.nextInt();\n    // voucher=\n     pieceOfChocolate=dollar;\n     voucher=pieceOfChocolate;\n     pieceOfChocolate=dollar+voucher/6;\n     voucher = voucher%6;\n    System.out.println(\"you have  \"+pieceOfChocolate+\" chocolates and remaining voucher \"+voucher);\n\n    boolean ciclo = true;\n\n    while(ciclo){\n\n        System.out.println(\"How much dollar do you have\");\n\n        dollar2 = in.nextInt();\n        pieceOfChocolate=dollar2;\n     voucher = voucher+pieceOfChocolate;\n     pieceOfChocolate=dollar2+voucher/6;\n     voucher = voucher%6;\n\n     if(voucher==0)\n         break;\n\n       System.out.println(\"you have  \"+pieceOfChocolate+\" chocolates and  remaining voucher \"+voucher);\n       }\n</code></pre>\n"}],"owner":{"account_id":12478909,"reputation":3,"user_id":9084369,"display_name":"bob tuto"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":47756952,"answer_count":2,"score":-1,"last_activity_date":1682181837,"creation_date":1513005767,"question_id":47756049,"body_markdown":"I&#39;m making an exercise that asked me to make a program in java which does these things: \r\n\r\nSuppose that you can buy from an automatic machine at school 1 piece of chocolate for 1$.  \r\nInside the chocolate is a voucher. If you have 6 voucher you can get 1 piece of chocolate for free.  \r\nSuppose that you have N $ and you want to buy some chocolate. For example if you have 6$ you can get 7 piece of chocolate (because you have 6 voucher that are inside the 6 piece of chocolate and wit this 6 voucher you can get 1 piece of chocolate for free). Now you have only 1 voucher valid which is the voucher of the 7&#176; piece of chocolate. For example with 12 $ you can get 14 piece of chocolate and remains to you 2 voucher.\r\n\r\nWrite a program which receives an N value and prints how many pieces of chocolate you can eat and how much valid voucher remains to you at the end. Use a cycle which change chocolate and voucher every time that \r\nthere are too much voucher for get 1 piece of chocolate for free. \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Ripasso {\r\n\t\r\n\tpublic static void main (String [] args) {\r\n\t\t\r\n\t\t\tString risposta;\r\n\t\t\tint dollar,pieceOfChocolate,voucher,dollar2,voucher2,pieceOfChocolate2;\r\n\t\t\tScanner tastiera = new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;How much dollar do you have&quot;);\r\n\t\t\t\r\n\t\t\tdollar = tastiera.nextInt();\r\n\t\t\tpieceOfChocolate = dollar;\r\n\t\t\tvoucher = pieceOfChocolate;\r\n           \r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;You insert &quot; + dollar + &quot; dollar which gives you &quot; + pieceOfChocolate + &quot; piece of Chocolate&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;You also have &quot; + voucher + &quot; voucher&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;Every time you have 6 valid voucher you can get 1 piece of chocolate for free&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;You can get &quot; + (dollar/6) + &quot; piece of Chocolate for free&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tSystem.out.println(&quot;Now you have &quot; + (pieceOfChocolate = (dollar/6) + pieceOfChocolate) +  &quot; piece of Chocolate&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\t\r\n            voucher = dollar%6;\r\n\t\t\tSystem.out.println(&quot;And you also have &quot; + voucher + &quot; voucher&quot;);\r\n\t\t\t\r\n\t\t\tboolean ciclo = true;\r\n\t\t\t\r\n\t\t\twhile(ciclo){\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;How much dollar do you have&quot;);\r\n\t\t\t\t\r\n\t\t\t\tdollar2 = tastiera.nextInt();\r\n\t\t\t\tvoucher = dollar%6;\r\n\t\t\t\tvoucher2 = dollar2%6;\r\n\t\t\t\tpieceOfChocolate = dollar2;\r\n                pieceOfChocolate2 = (voucher2+voucher)/6;\r\n\t\t\t\t\r\n\t\t\t\tif (((voucher2+voucher)%6)&lt;0){\r\n\t\t\t\t\tciclo = false;\r\n\t\t\t\t} \r\n\t\t\t\t\r\n                System.out.println(&quot;&quot;);\r\n\t\t\t\tSystem.out.println(&quot;You can get &quot; + (dollar2/6) + &quot; piece of Chocolate for free&quot;);\r\n\t\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Now you have &quot; + (pieceOfChocolate = (dollar2/6) + pieceOfChocolate2 + pieceOfChocolate ) +  &quot; piece of Chocolate&quot;);\r\n\t\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\tSystem.out.println(&quot;And also you have &quot; + ((voucher2+voucher)%6) + &quot; voucher&quot;);\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\r\n\t} \r\n\r\n    }\r\n\t\r\nIf I want to insert for 3 time money, and calculate how many pieces of chocolate have and also valid voucher this program not work, only 2 time works. The third time shows the value of the 2 time.\r\n\r\nThank you for help.\t","title":"Java program, cycle works only 2 times","body":"<p>I'm making an exercise that asked me to make a program in java which does these things:</p>\n<p>Suppose that you can buy from an automatic machine at school 1 piece of chocolate for 1$.<br />\nInside the chocolate is a voucher. If you have 6 voucher you can get 1 piece of chocolate for free.<br />\nSuppose that you have N $ and you want to buy some chocolate. For example if you have 6$ you can get 7 piece of chocolate (because you have 6 voucher that are inside the 6 piece of chocolate and wit this 6 voucher you can get 1 piece of chocolate for free). Now you have only 1 voucher valid which is the voucher of the 7° piece of chocolate. For example with 12 $ you can get 14 piece of chocolate and remains to you 2 voucher.</p>\n<p>Write a program which receives an N value and prints how many pieces of chocolate you can eat and how much valid voucher remains to you at the end. Use a cycle which change chocolate and voucher every time that\nthere are too much voucher for get 1 piece of chocolate for free.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Ripasso {\n\npublic static void main (String [] args) {\n    \n        String risposta;\n        int dollar,pieceOfChocolate,voucher,dollar2,voucher2,pieceOfChocolate2;\n        Scanner tastiera = new Scanner(System.in);\n        System.out.println(&quot;How much dollar do you have&quot;);\n        \n        dollar = tastiera.nextInt();\n        pieceOfChocolate = dollar;\n        voucher = pieceOfChocolate;\n       \n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;You insert &quot; + dollar + &quot; dollar which gives you &quot; + pieceOfChocolate + &quot; piece of Chocolate&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;You also have &quot; + voucher + &quot; voucher&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Every time you have 6 valid voucher you can get 1 piece of chocolate for free&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;You can get &quot; + (dollar/6) + &quot; piece of Chocolate for free&quot;);\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Now you have &quot; + (pieceOfChocolate = (dollar/6) + pieceOfChocolate) +  &quot; piece of Chocolate&quot;);\n        System.out.println(&quot;&quot;); \n        voucher = dollar%6;\n        System.out.println(&quot;And you also have &quot; + voucher + &quot; voucher&quot;);\n        \n        boolean ciclo = true;\n        \n        while(ciclo){\n            \n            System.out.println(&quot;How much dollar do you have&quot;);\n            \n            dollar2 = tastiera.nextInt();\n            voucher = dollar%6;\n            voucher2 = dollar2%6;\n            pieceOfChocolate = dollar2;\n            pieceOfChocolate2 = (voucher2+voucher)/6;\n            \n            if (((voucher2+voucher)%6)&lt;0){\n                ciclo = false;\n            } \n            \n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;You can get &quot; + (dollar2/6) + &quot; piece of Chocolate for free&quot;);\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Now you have &quot; + (pieceOfChocolate = (dollar2/6) + pieceOfChocolate2 + pieceOfChocolate ) +  &quot; piece of Chocolate&quot;);\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;And also you have &quot; + ((voucher2+voucher)%6) + &quot; voucher&quot;);\n            \n            }\n\n} \n\n}\n</code></pre>\n<p>If I want to insert for 3 time money, and calculate how many pieces of chocolate have and also valid voucher this program not work, only 2 time works. The third time shows the value of the 2 time.</p>\n<p>Thank you for help.</p>\n"},{"tags":["java","swing","jframe","action","jbutton"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1682079929,"post_id":76073092,"comment_id":134163346,"body_markdown":"Set visible should work. The most obvious error is that you&#39;re calling `setVisible(false);` on the wrong object. You need to make a complete example because right now there are a lot of things missing. Also please stick to java naming conventions.","body":"Set visible should work. The most obvious error is that you&#39;re calling <code>setVisible(false);</code> on the wrong object. You need to make a complete example because right now there are a lot of things missing. Also please stick to java naming conventions."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682080205,"post_id":76073092,"comment_id":134163423,"body_markdown":"`JFrame NavigationGUITest = new JFrame()` is creating a frame that is not the same as  `class NavigationGUITest extends JFrame`; first one is being displayed, but `setVisisble(false)` is being called on second one - but, since missing some code, no idea what is happening with second frame (`NavigationGUITest` instance)","body":"<code>JFrame NavigationGUITest = new JFrame()</code> is creating a frame that is not the same as  <code>class NavigationGUITest extends JFrame</code>; first one is being displayed, but <code>setVisisble(false)</code> is being called on second one - but, since missing some code, no idea what is happening with second frame (<code>NavigationGUITest</code> instance)"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1682081252,"post_id":76073092,"comment_id":134163688,"body_markdown":"@matt: Thanks very much for taking an interest! I&#39;ve edited the question to include my NavigationGUITest.form. That is all the code present in my src directory.  I&#39;m using intellij.\n\nI&#39;ll take a look at the main Java naming conventions and edit the code accordingly.","body":"@matt: Thanks very much for taking an interest! I&#39;ve edited the question to include my NavigationGUITest.form. That is all the code present in my src directory.  I&#39;m using intellij.  I&#39;ll take a look at the main Java naming conventions and edit the code accordingly."},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1682082797,"post_id":76073092,"comment_id":134164062,"body_markdown":"@user16320675: Thanks very much for your help! I now realise I created two separate JFrames and my setVisible(false) function was only hiding one of them!","body":"@user16320675: Thanks very much for your help! I now realise I created two separate JFrames and my setVisible(false) function was only hiding one of them!"}],"answers":[{"comments":[{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1682082326,"post_id":76073347,"comment_id":134163947,"body_markdown":"I see! Thank you. I appear to be creating more than one NavigationGUITest JFrame.","body":"I see! Thank you. I appear to be creating more than one NavigationGUITest JFrame."},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1682082391,"post_id":76073347,"comment_id":134163963,"body_markdown":"I&#39;ve changed the code as suggested and replaced the names of my class instances with names starting with a lower case letter!","body":"I&#39;ve changed the code as suggested and replaced the names of my class instances with names starting with a lower case letter!"},{"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"score":0,"creation_date":1682082579,"post_id":76073347,"comment_id":134164007,"body_markdown":"Many, many thanks to you for your speed of response, patience and clarity with me!\n I&#39;ve proven to myself once more that &quot;Everyday&#39;s a schoolday&quot; and I&#39;m very grateful for you contribution to my learning!","body":"Many, many thanks to you for your speed of response, patience and clarity with me!  I&#39;ve proven to myself once more that &quot;Everyday&#39;s a schoolday&quot; and I&#39;m very grateful for you contribution to my learning!"}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682081549,"creation_date":1682081549,"answer_id":76073347,"question_id":76073092,"body_markdown":"You&#39;re making this mistake a couple times.\r\n\r\n    JFrame NavigationGUITest = new JFrame();\r\n    NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\r\n\r\nWhy would you use `setContentPane`? Just try.\r\n\r\n    NavigationGUITest navigationGUITest = new NavigationGUITest(); \r\n\r\nThen if you must.\r\n\r\n    navigationGUITest.setContentPane( navigationGUITest.NavigationButtonsPanel );\r\n\r\n","title":"The setVisible(false) function for a JFrame does not make the JFrame disappear","body":"<p>You're making this mistake a couple times.</p>\n<pre><code>JFrame NavigationGUITest = new JFrame();\nNavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\n</code></pre>\n<p>Why would you use <code>setContentPane</code>? Just try.</p>\n<pre><code>NavigationGUITest navigationGUITest = new NavigationGUITest(); \n</code></pre>\n<p>Then if you must.</p>\n<pre><code>navigationGUITest.setContentPane( navigationGUITest.NavigationButtonsPanel );\n</code></pre>\n"}],"owner":{"account_id":22739063,"reputation":113,"user_id":21042950,"display_name":"Jaime"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76073347,"answer_count":1,"score":-1,"last_activity_date":1682180623,"creation_date":1682079486,"question_id":76073092,"body_markdown":"I&#39;m trying to make a button on a JFrame cause that JFrame to disappear and call another JFrame. It should reappear in the same state later when the new JFrame is dismissed. I can call the new JFrame successfully, but the setVisible(false) function appears to do nothing.\r\n\r\nHere&#39;s the code for the JFrame I want to make disappear temporarily.\r\n\r\nFirst the Main class:\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run () {\r\n                JFrame NavigationGUITest = new JFrame();\r\n                NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\r\n                NavigationGUITest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                NavigationGUITest.pack();\r\n                NavigationGUITest.setSize(300,400);\r\n                NavigationGUITest.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThen the JFrame class for the Frame I want to make disappear (but that refuses to disappear):\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run () {\r\n                JFrame NavigationGUITest = new JFrame();\r\n                NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\r\n                NavigationGUITest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                NavigationGUITest.pack();\r\n                NavigationGUITest.setSize(300,400);\r\n                NavigationGUITest.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve used a different syntax for each of the action listeners to illustrate how my problem turns up in both cases.\r\n\r\nFinally, here&#39;s my navigationGUITest.form:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;form xmlns=&quot;http://www.intellij.com/uidesigner/form/&quot; version=&quot;1&quot; bind-to-class=&quot;NavigationGUITest&quot;&gt;\r\n  &lt;grid id=&quot;27dc6&quot; binding=&quot;NavigationButtonsPanel&quot; layout-manager=&quot;GridLayoutManager&quot; row-count=&quot;2&quot; column-count=&quot;1&quot; same-size-horizontally=&quot;false&quot; same-size-vertically=&quot;false&quot; hgap=&quot;-1&quot; vgap=&quot;-1&quot;&gt;\r\n    &lt;margin top=&quot;0&quot; left=&quot;0&quot; bottom=&quot;0&quot; right=&quot;0&quot;/&gt;\r\n    &lt;constraints&gt;\r\n      &lt;xy x=&quot;20&quot; y=&quot;20&quot; width=&quot;500&quot; height=&quot;400&quot;/&gt;\r\n    &lt;/constraints&gt;\r\n    &lt;properties/&gt;\r\n    &lt;border type=&quot;none&quot;/&gt;\r\n    &lt;children&gt;\r\n      &lt;component id=&quot;9b808&quot; class=&quot;javax.swing.JButton&quot; binding=&quot;CreateNewRecordBtn&quot;&gt;\r\n        &lt;constraints&gt;\r\n          &lt;grid row=&quot;0&quot; column=&quot;0&quot; row-span=&quot;1&quot; col-span=&quot;1&quot; vsize-policy=&quot;0&quot; hsize-policy=&quot;3&quot; anchor=&quot;0&quot; fill=&quot;1&quot; indent=&quot;0&quot; use-parent-layout=&quot;false&quot;/&gt;\r\n        &lt;/constraints&gt;\r\n        &lt;properties&gt;\r\n          &lt;text value=&quot;Create a new record&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/component&gt;\r\n      &lt;component id=&quot;dbdac&quot; class=&quot;javax.swing.JButton&quot; binding=&quot;EditRecordBtn&quot;&gt;\r\n        &lt;constraints&gt;\r\n          &lt;grid row=&quot;1&quot; column=&quot;0&quot; row-span=&quot;1&quot; col-span=&quot;1&quot; vsize-policy=&quot;0&quot; hsize-policy=&quot;3&quot; anchor=&quot;0&quot; fill=&quot;1&quot; indent=&quot;0&quot; use-parent-layout=&quot;false&quot;/&gt;\r\n        &lt;/constraints&gt;\r\n        &lt;properties&gt;\r\n          &lt;text value=&quot;Edit an existing record&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/component&gt;\r\n    &lt;/children&gt;\r\n  &lt;/grid&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nTo recap. my question is: why doesn&#39;t setVisible(false) in the actionlistener clauses for the buttons cause the Navigation JFrame to disappear?\r\n\r\nI&#39;m perfectly sure I&#39;m missing something pretty obvious, but for the life of me I can&#39;t identify what it is.\r\n\r\n","title":"The setVisible(false) function for a JFrame does not make the JFrame disappear","body":"<p>I'm trying to make a button on a JFrame cause that JFrame to disappear and call another JFrame. It should reappear in the same state later when the new JFrame is dismissed. I can call the new JFrame successfully, but the setVisible(false) function appears to do nothing.</p>\n<p>Here's the code for the JFrame I want to make disappear temporarily.</p>\n<p>First the Main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run () {\n                JFrame NavigationGUITest = new JFrame();\n                NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\n                NavigationGUITest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                NavigationGUITest.pack();\n                NavigationGUITest.setSize(300,400);\n                NavigationGUITest.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n<p>Then the JFrame class for the Frame I want to make disappear (but that refuses to disappear):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run () {\n                JFrame NavigationGUITest = new JFrame();\n                NavigationGUITest.setContentPane(new NavigationGUITest().NavigationButtonsPanel);\n                NavigationGUITest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                NavigationGUITest.pack();\n                NavigationGUITest.setSize(300,400);\n                NavigationGUITest.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n<p>I've used a different syntax for each of the action listeners to illustrate how my problem turns up in both cases.</p>\n<p>Finally, here's my navigationGUITest.form:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;form xmlns=&quot;http://www.intellij.com/uidesigner/form/&quot; version=&quot;1&quot; bind-to-class=&quot;NavigationGUITest&quot;&gt;\n  &lt;grid id=&quot;27dc6&quot; binding=&quot;NavigationButtonsPanel&quot; layout-manager=&quot;GridLayoutManager&quot; row-count=&quot;2&quot; column-count=&quot;1&quot; same-size-horizontally=&quot;false&quot; same-size-vertically=&quot;false&quot; hgap=&quot;-1&quot; vgap=&quot;-1&quot;&gt;\n    &lt;margin top=&quot;0&quot; left=&quot;0&quot; bottom=&quot;0&quot; right=&quot;0&quot;/&gt;\n    &lt;constraints&gt;\n      &lt;xy x=&quot;20&quot; y=&quot;20&quot; width=&quot;500&quot; height=&quot;400&quot;/&gt;\n    &lt;/constraints&gt;\n    &lt;properties/&gt;\n    &lt;border type=&quot;none&quot;/&gt;\n    &lt;children&gt;\n      &lt;component id=&quot;9b808&quot; class=&quot;javax.swing.JButton&quot; binding=&quot;CreateNewRecordBtn&quot;&gt;\n        &lt;constraints&gt;\n          &lt;grid row=&quot;0&quot; column=&quot;0&quot; row-span=&quot;1&quot; col-span=&quot;1&quot; vsize-policy=&quot;0&quot; hsize-policy=&quot;3&quot; anchor=&quot;0&quot; fill=&quot;1&quot; indent=&quot;0&quot; use-parent-layout=&quot;false&quot;/&gt;\n        &lt;/constraints&gt;\n        &lt;properties&gt;\n          &lt;text value=&quot;Create a new record&quot;/&gt;\n        &lt;/properties&gt;\n      &lt;/component&gt;\n      &lt;component id=&quot;dbdac&quot; class=&quot;javax.swing.JButton&quot; binding=&quot;EditRecordBtn&quot;&gt;\n        &lt;constraints&gt;\n          &lt;grid row=&quot;1&quot; column=&quot;0&quot; row-span=&quot;1&quot; col-span=&quot;1&quot; vsize-policy=&quot;0&quot; hsize-policy=&quot;3&quot; anchor=&quot;0&quot; fill=&quot;1&quot; indent=&quot;0&quot; use-parent-layout=&quot;false&quot;/&gt;\n        &lt;/constraints&gt;\n        &lt;properties&gt;\n          &lt;text value=&quot;Edit an existing record&quot;/&gt;\n        &lt;/properties&gt;\n      &lt;/component&gt;\n    &lt;/children&gt;\n  &lt;/grid&gt;\n&lt;/form&gt;\n</code></pre>\n<p>To recap. my question is: why doesn't setVisible(false) in the actionlistener clauses for the buttons cause the Navigation JFrame to disappear?</p>\n<p>I'm perfectly sure I'm missing something pretty obvious, but for the life of me I can't identify what it is.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1681654046,"post_id":76003921,"comment_id":134087877,"body_markdown":"what do you mean under &quot;reuse&quot;? Do you want to define JPA annotations in MappedSuperClass and define particular sequence in child classes?","body":"what do you mean under &quot;reuse&quot;? Do you want to define JPA annotations in MappedSuperClass and define particular sequence in child classes?"},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1681658634,"post_id":76003921,"comment_id":134088570,"body_markdown":"yes, I want to reuse the Counter definition but pass in the variable sequence_name and other values as dynamic parameter from extended child classes","body":"yes, I want to reuse the Counter definition but pass in the variable sequence_name and other values as dynamic parameter from extended child classes"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1681768644,"post_id":76003921,"comment_id":134107454,"body_markdown":"what db engine you use oracle or mysql etc..?","body":"what db engine you use oracle or mysql etc..?"},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":2,"creation_date":1681805345,"post_id":76003921,"comment_id":134111709,"body_markdown":"why do you need this? Having static sequences defined for you db and inside your entities is way easier to understand also way easier to do. There is no point I can think of where this will come in handy and fix a problem you might face. And even speaking of that: Do not fix problems which are not there!","body":"why do you need this? Having static sequences defined for you db and inside your entities is way easier to understand also way easier to do. There is no point I can think of where this will come in handy and fix a problem you might face. And even speaking of that: Do not fix problems which are not there!"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681660435,"creation_date":1681660435,"answer_id":76028793,"question_id":76003921,"body_markdown":"The main idea could be override `org.hibernate.id.enhanced.SequenceStyleGenerator` in the following way:\r\n\r\n\r\n```java\r\n@Target(TYPE)\r\n@Retention(RUNTIME)\r\n@Inherited\r\npublic @interface EntityAwareGeneratorParams {\r\n\r\n    String sequence();\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class EntityAwareGenerator extends SequenceStyleGenerator {\r\n\r\n    public static final String NAME = EntityAwareGenerator.class.getName();\r\n\r\n    @Override\r\n    public void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\r\n        String entityName = params.getProperty(ENTITY_NAME);\r\n        if (entityName == null) {\r\n            throw new IllegalStateException(&quot;Entity name must not be null&quot;);\r\n        }\r\n\r\n        Class&lt;?&gt; entityClass = serviceRegistry.requireService(ClassLoaderService.class)\r\n                .classForName(entityName);\r\n\r\n        EntityAwareGeneratorParams generatorParams = entityClass.getAnnotation(EntityAwareGeneratorParams.class);\r\n        if (generatorParams == null) {\r\n            throw new IllegalStateException(String.format(\r\n                    &quot;Annotation @%s is not present for class %s&quot;,\r\n                    EntityAwareGeneratorParams.class.getName(),\r\n                    entityClass.getName()\r\n            ));\r\n        }\r\n\r\n        params.setProperty(SEQUENCE_PARAM, generatorParams.sequence());\r\n\r\n        super.configure(type, params, serviceRegistry);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMappedSuperClass:\r\n\r\n```java\r\n@Id\r\n@GeneratedValue(generator = &quot;entity-aware-generator&quot;, strategy = GenerationType.SEQUENCE)\r\n@GenericGenerator(name = &quot;entity-aware-generator&quot;, strategy = EntityAwareGenerator.NAME, ...)\r\nprivate Long id;\r\n```\r\n\r\nChild classes:\r\n\r\n```\r\n@Entity\r\n@EntityAwareGeneratorParams(sequence=&quot;another sequence&quot;)\r\n```","title":"How to dynamically create sequence generators in JPA","body":"<p>The main idea could be override <code>org.hibernate.id.enhanced.SequenceStyleGenerator</code> in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(TYPE)\n@Retention(RUNTIME)\n@Inherited\npublic @interface EntityAwareGeneratorParams {\n\n    String sequence();\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class EntityAwareGenerator extends SequenceStyleGenerator {\n\n    public static final String NAME = EntityAwareGenerator.class.getName();\n\n    @Override\n    public void configure(Type type, Properties params, ServiceRegistry serviceRegistry) throws MappingException {\n        String entityName = params.getProperty(ENTITY_NAME);\n        if (entityName == null) {\n            throw new IllegalStateException(&quot;Entity name must not be null&quot;);\n        }\n\n        Class&lt;?&gt; entityClass = serviceRegistry.requireService(ClassLoaderService.class)\n                .classForName(entityName);\n\n        EntityAwareGeneratorParams generatorParams = entityClass.getAnnotation(EntityAwareGeneratorParams.class);\n        if (generatorParams == null) {\n            throw new IllegalStateException(String.format(\n                    &quot;Annotation @%s is not present for class %s&quot;,\n                    EntityAwareGeneratorParams.class.getName(),\n                    entityClass.getName()\n            ));\n        }\n\n        params.setProperty(SEQUENCE_PARAM, generatorParams.sequence());\n\n        super.configure(type, params, serviceRegistry);\n    }\n\n}\n</code></pre>\n<p>MappedSuperClass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(generator = &quot;entity-aware-generator&quot;, strategy = GenerationType.SEQUENCE)\n@GenericGenerator(name = &quot;entity-aware-generator&quot;, strategy = EntityAwareGenerator.NAME, ...)\nprivate Long id;\n</code></pre>\n<p>Child classes:</p>\n<pre><code>@Entity\n@EntityAwareGeneratorParams(sequence=&quot;another sequence&quot;)\n</code></pre>\n"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1682180122,"creation_date":1681378603,"question_id":76003921,"body_markdown":"I want to reuse Counter by passing the sequence name `order_sequence` dynamically to this class, how can this be achieved\r\n\r\n    public class Counter  {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(generator = &quot;sequence-generator&quot;)\r\n    \t@GenericGenerator(name = &quot;sequence-generator&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\r\n    \t\t\t@Parameter(name = &quot;sequence_name&quot;, value = &quot;order_sequence&quot;),\r\n    \t\t\t@Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;), @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;) })\r\n    \tprivate Long counter;\r\n    \r\n    }","title":"How to dynamically create sequence generators in JPA","body":"<p>I want to reuse Counter by passing the sequence name <code>order_sequence</code> dynamically to this class, how can this be achieved</p>\n<pre><code>public class Counter  {\n    \n    @Id\n    @GeneratedValue(generator = &quot;sequence-generator&quot;)\n    @GenericGenerator(name = &quot;sequence-generator&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\n            @Parameter(name = &quot;sequence_name&quot;, value = &quot;order_sequence&quot;),\n            @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;), @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;) })\n    private Long counter;\n\n}\n</code></pre>\n"},{"tags":["java","generics","abstract-class"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1682131322,"post_id":76076964,"comment_id":134171631,"body_markdown":"You can&#39;t, but you shouldn&#39;t need to.","body":"You can&#39;t, but you shouldn&#39;t need to."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682116880,"creation_date":1682116880,"answer_id":76077153,"question_id":76076964,"body_markdown":"Make the method generic:\r\n\r\n```\r\nprivate &lt;T&gt; List&lt;Pair&lt;String, T&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, T&gt;&gt; list) {\r\n   List&lt;Pair&lt;String, T&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n   list.forEach(item-&gt; {\r\n     //do something\r\n     deduplicatedItems.add(item);\r\n   });\r\n   return deduplicatedItems;\r\n}\r\n```\r\n\r\nIf A and B both implement the same interface or extend a common parent class, and you want &quot;do something&quot; to interact with the elements in that way, put a bound on T:\r\n\r\n```\r\nprivate &lt;T extends MyCommonType&gt; List&lt;Pair&lt;String, T&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, T&gt;&gt; list) {\r\n```\r\n\r\n","title":"Java determine the type of class for a list in generic class","body":"<p>Make the method generic:</p>\n<pre><code>private &lt;T&gt; List&lt;Pair&lt;String, T&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, T&gt;&gt; list) {\n   List&lt;Pair&lt;String, T&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n   list.forEach(item-&gt; {\n     //do something\n     deduplicatedItems.add(item);\n   });\n   return deduplicatedItems;\n}\n</code></pre>\n<p>If A and B both implement the same interface or extend a common parent class, and you want &quot;do something&quot; to interact with the elements in that way, put a bound on T:</p>\n<pre><code>private &lt;T extends MyCommonType&gt; List&lt;Pair&lt;String, T&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, T&gt;&gt; list) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682180113,"creation_date":1682180113,"answer_id":76080647,"question_id":76076964,"body_markdown":"You should not be checking the type.  You definitely should not write something like `if (element instanceof A) { } else if (element instanceof B) { } else if` etc.\r\n\r\nThe problem is that your method doesn’t know how to check two instances of type V for equality.  Since your method doesn’t have that information, you should force callers to provide that information:\r\n\r\n    private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(\r\n                        List&lt;Pair&lt;String, V&gt;&gt; list,\r\n                        BiPredicate&lt;? super V, ? super V&gt; equalityChecker) {\r\n\r\n        List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n        List&lt;V&gt; existingValues = new ArrayList&lt;&gt;();\r\n\r\n        for (Pair&lt;String, V&gt;&gt; pair : list) {\r\n            V value = pair.getValue();\r\n            if (existingValues.stream().noneMatch(\r\n                v -&gt; equalityChecker.test(v, value)) {\r\n\r\n                existingValues.add(value);\r\n                deduplicatedItems.add(pair);\r\n            }\r\n        }\r\n\r\n        return deduplicatedItems;\r\n    }\r\n\r\n[BiPredicate](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/BiPredicate.html) is an interface that tests two values and returns a boolean based on them.  An example usage might be:\r\n\r\n    List&lt;Pair&lt;String, String&gt;&gt; numbers = new ArrayList&lt;&gt;();\r\n    numbers.add(Pair.of(&quot;1&quot;, &quot;ONE&quot;));\r\n    numbers.add(Pair.of(&quot;1&quot;, &quot;one&quot;));\r\n    numbers.add(Pair.of(&quot;2&quot;, &quot;TWO&quot;));\r\n    numbers.add(Pair.of(&quot;2&quot;, &quot;two&quot;));\r\n    numbers.add(Pair.of(&quot;3&quot;, &quot;THREE&quot;));\r\n    numbers.add(Pair.of(&quot;3&quot;, &quot;three&quot;));\r\n\r\n    List&lt;Pair&lt;String, String&gt;&gt; uniqueNumbers =\r\n        deduplicateItems(numbers, String::equalsIgnoreCase);\r\n\r\nIf every class that V will ever represent has a reliable [equals](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method defined, you don’t need the second argument, and you can use a Set to make checking for duplicate values more efficient:\r\n\r\n    private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, V&gt;&gt; list) {\r\n\r\n        List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n        Set&lt;V&gt; existingValues = new HashSet&lt;&gt;();\r\n\r\n        for (Pair&lt;String, V&gt;&gt; pair : list) {\r\n            if (existingValues.add(pair.getValue())) {\r\n                deduplicatedItems.add(pair);\r\n            }\r\n        }\r\n\r\n        return deduplicatedItems;\r\n    }\r\n\r\nThe above works because the [Set.add method](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#add(E)) makes this guarantee:\r\n\r\n&gt; **Returns:**\r\n&gt;\r\n&gt; `true` if this set did not already contain the specified element\r\n\r\nOf course, you can also define both of the above deduplicateItems methods, and let calling code decide which is appropriate in a given situation.\r\n","title":"Java determine the type of class for a list in generic class","body":"<p>You should not be checking the type.  You definitely should not write something like <code>if (element instanceof A) { } else if (element instanceof B) { } else if</code> etc.</p>\n<p>The problem is that your method doesn’t know how to check two instances of type V for equality.  Since your method doesn’t have that information, you should force callers to provide that information:</p>\n<pre><code>private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(\n                    List&lt;Pair&lt;String, V&gt;&gt; list,\n                    BiPredicate&lt;? super V, ? super V&gt; equalityChecker) {\n\n    List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n    List&lt;V&gt; existingValues = new ArrayList&lt;&gt;();\n\n    for (Pair&lt;String, V&gt;&gt; pair : list) {\n        V value = pair.getValue();\n        if (existingValues.stream().noneMatch(\n            v -&gt; equalityChecker.test(v, value)) {\n\n            existingValues.add(value);\n            deduplicatedItems.add(pair);\n        }\n    }\n\n    return deduplicatedItems;\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/BiPredicate.html\" rel=\"nofollow noreferrer\">BiPredicate</a> is an interface that tests two values and returns a boolean based on them.  An example usage might be:</p>\n<pre><code>List&lt;Pair&lt;String, String&gt;&gt; numbers = new ArrayList&lt;&gt;();\nnumbers.add(Pair.of(&quot;1&quot;, &quot;ONE&quot;));\nnumbers.add(Pair.of(&quot;1&quot;, &quot;one&quot;));\nnumbers.add(Pair.of(&quot;2&quot;, &quot;TWO&quot;));\nnumbers.add(Pair.of(&quot;2&quot;, &quot;two&quot;));\nnumbers.add(Pair.of(&quot;3&quot;, &quot;THREE&quot;));\nnumbers.add(Pair.of(&quot;3&quot;, &quot;three&quot;));\n\nList&lt;Pair&lt;String, String&gt;&gt; uniqueNumbers =\n    deduplicateItems(numbers, String::equalsIgnoreCase);\n</code></pre>\n<p>If every class that V will ever represent has a reliable <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">equals</a> method defined, you don’t need the second argument, and you can use a Set to make checking for duplicate values more efficient:</p>\n<pre><code>private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, V&gt;&gt; list) {\n\n    List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n    Set&lt;V&gt; existingValues = new HashSet&lt;&gt;();\n\n    for (Pair&lt;String, V&gt;&gt; pair : list) {\n        if (existingValues.add(pair.getValue())) {\n            deduplicatedItems.add(pair);\n        }\n    }\n\n    return deduplicatedItems;\n}\n</code></pre>\n<p>The above works because the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#add(E)\" rel=\"nofollow noreferrer\">Set.add method</a> makes this guarantee:</p>\n<blockquote>\n<p><strong>Returns:</strong></p>\n<p><code>true</code> if this set did not already contain the specified element</p>\n</blockquote>\n<p>Of course, you can also define both of the above deduplicateItems methods, and let calling code decide which is appropriate in a given situation.</p>\n"}],"owner":{"account_id":15757876,"reputation":119,"user_id":11370492,"display_name":"underachiever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682180113,"creation_date":1682114395,"question_id":76076964,"body_markdown":"I&#39;m new to Java generics and I&#39;m currently stuck with determining the type of Pair object (apache&#39;s) in a list.\r\n\r\nI have two classes A and B and both have a method that&#39;s doing the exact same operation (code duplication). \r\n\r\nThe method is something like this:\r\n\r\n```\r\nprivate List&lt;Pair&lt;String, A&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, A&gt;&gt; list) {\r\n   \r\n   List&lt;Pair&lt;String, A&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n   list.forEach(item-&gt; {\r\n     //do something\r\n     deduplicatedItems.add(item);\r\n   });\r\n\r\n}\r\n```\r\nThe same exact method is in class B (the type of Value in Pair is B).\r\n\r\nI would like to create a generic abstract class that can handle this operation.\r\n\r\nI have so far:\r\n\r\n```\r\npublic abstract class AbstractHelper&lt;V&gt; {\r\n     \r\n      private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, V&gt;&gt; list) {\r\n      \r\n      List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\r\n    \r\n      //problem here determining the type of class for this generic\r\n   });\r\n\r\n      }\r\n}\r\n```\r\n\r\nI would like to determine the type of V and cast that to be able to access the get() methods.\r\n\r\nIs using `list.get(0) instanceof A` the right way to do? I feel like that maybe too naive but I could be wrong here.","title":"Java determine the type of class for a list in generic class","body":"<p>I'm new to Java generics and I'm currently stuck with determining the type of Pair object (apache's) in a list.</p>\n<p>I have two classes A and B and both have a method that's doing the exact same operation (code duplication).</p>\n<p>The method is something like this:</p>\n<pre><code>private List&lt;Pair&lt;String, A&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, A&gt;&gt; list) {\n   \n   List&lt;Pair&lt;String, A&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n   list.forEach(item-&gt; {\n     //do something\n     deduplicatedItems.add(item);\n   });\n\n}\n</code></pre>\n<p>The same exact method is in class B (the type of Value in Pair is B).</p>\n<p>I would like to create a generic abstract class that can handle this operation.</p>\n<p>I have so far:</p>\n<pre><code>public abstract class AbstractHelper&lt;V&gt; {\n     \n      private List&lt;Pair&lt;String, V&gt;&gt; deduplicateItems(List&lt;Pair&lt;String, V&gt;&gt; list) {\n      \n      List&lt;Pair&lt;String, V&gt;&gt; deduplicatedItems = new ArrayList&lt;&gt;();\n    \n      //problem here determining the type of class for this generic\n   });\n\n      }\n}\n</code></pre>\n<p>I would like to determine the type of V and cast that to be able to access the get() methods.</p>\n<p>Is using <code>list.get(0) instanceof A</code> the right way to do? I feel like that maybe too naive but I could be wrong here.</p>\n"},{"tags":["java","spring","maven","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681561205,"post_id":76022157,"comment_id":134078320,"body_markdown":"How is this inconvenient?","body":"How is this inconvenient?"}],"answers":[{"tags":[],"owner":{"account_id":11563256,"reputation":401,"user_id":8472357,"display_name":"Hasan Kaan TURAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681561767,"creation_date":1681561767,"answer_id":76022279,"question_id":76022157,"body_markdown":"I think it&#39;s close to impossible. Because the generate menu is actually a basic plugin of intellij. So you may need to develop a plugin to remove it.","title":"How to disable Add Dependency in Generate menu","body":"<p>I think it's close to impossible. Because the generate menu is actually a basic plugin of intellij. So you may need to develop a plugin to remove it.</p>\n"},{"tags":[],"owner":{"account_id":5493520,"reputation":9833,"user_id":4365460,"accept_rate":90,"display_name":"Roland Weisleder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681571241,"creation_date":1681571241,"answer_id":76023087,"question_id":76022157,"body_markdown":"This seems to be a regression bug in IntelliJ 2023.1 and will be fixed with 2023.1.1 and 2023.2, see [IDEA-314227][1]. Once these versions have been released, consider updating.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-314227","title":"How to disable Add Dependency in Generate menu","body":"<p>This seems to be a regression bug in IntelliJ 2023.1 and will be fixed with 2023.1.1 and 2023.2, see <a href=\"https://youtrack.jetbrains.com/issue/IDEA-314227\" rel=\"nofollow noreferrer\">IDEA-314227</a>. Once these versions have been released, consider updating.</p>\n"}],"owner":{"account_id":27145220,"reputation":1,"user_id":20685545,"display_name":"pedri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682179924,"creation_date":1681560371,"question_id":76022157,"body_markdown":"I configure one project in Spring and later I open new Project in Maven and when I press Alt+Insert, I have new options like _Add Dependency..._. It&#39;s very inconvenient. How to disable this?\r\n\r\n[Problem](https://i.stack.imgur.com/r4n3V.png)","title":"How to disable Add Dependency in Generate menu","body":"<p>I configure one project in Spring and later I open new Project in Maven and when I press Alt+Insert, I have new options like <em>Add Dependency...</em>. It's very inconvenient. How to disable this?</p>\n<p><a href=\"https://i.stack.imgur.com/r4n3V.png\" rel=\"nofollow noreferrer\">Problem</a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1682087307,"post_id":76074103,"comment_id":134165225,"body_markdown":"Components don&#39;t have &quot;names&quot;, but really what you need to do first and foremost is to fix this broken code by getting all that code out of the main method. It has no business there and its placement there is harming you and your ability to move forward. Instead, GUI code should be OOP-complaint code, just like non-GUI code, with instance methods and fields, and by doing this, you can gain references to your GUI components and solve your problem. The static main method should be used only to create your main objects and set them in motion, that&#39;s it.","body":"Components don&#39;t have &quot;names&quot;, but really what you need to do first and foremost is to fix this broken code by getting all that code out of the main method. It has no business there and its placement there is harming you and your ability to move forward. Instead, GUI code should be OOP-complaint code, just like non-GUI code, with instance methods and fields, and by doing this, you can gain references to your GUI components and solve your problem. The static main method should be used only to create your main objects and set them in motion, that&#39;s it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1682087400,"post_id":76074103,"comment_id":134165245,"body_markdown":"Also, don&#39;t create your key components inline, like you&#39;re doing here: `jPanel.add(new TextField(attributeName));`. Instead, if you need access to that text field (which should be a JTextField, by the way), make it an instance field.","body":"Also, don&#39;t create your key components inline, like you&#39;re doing here: <code>jPanel.add(new TextField(attributeName));</code>. Instead, if you need access to that text field (which should be a JTextField, by the way), make it an instance field."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1682088088,"post_id":76074103,"comment_id":134165400,"body_markdown":"`// need generate this component programmatically` If this is what you are asking (I honestly can&#39;t tell, the question is a little all over the place), then we&#39;d need to see the DB data and how you read it.  I think you&#39;re going to need a lot more code than you have, but let&#39;s get the basic question correct first.  Can you show us how the data is read from the database so we can see how perhaps you might generate that field?","body":"<code>&#47;&#47; need generate this component programmatically</code> If this is what you are asking (I honestly can&#39;t tell, the question is a little all over the place), then we&#39;d need to see the DB data and how you read it.  I think you&#39;re going to need a lot more code than you have, but let&#39;s get the basic question correct first.  Can you show us how the data is read from the database so we can see how perhaps you might generate that field?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1682088188,"post_id":76074103,"comment_id":134165426,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682090802,"post_id":76074103,"comment_id":134166017,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682089200,"creation_date":1682088231,"answer_id":76074255,"question_id":76074103,"body_markdown":"What you need to do first and foremost is to fix this broken code by getting all that code out of the main method. It has no business there and its placement there is harming you and your ability to move forward by \r\n1. Limiting an object&#39;s visibility by declaring its variable in a restricted scope as per Java&#39;s scoping rules, and\r\n2. By restricting your important code to the static world where you lose all advantages of OOPs that Java has to offer.\r\n\r\nInstead, GUI code should be OOP-complaint code, just like non-GUI code, with instance methods and fields, and by doing this, you can gain references to your GUI components and solve your problem. The static main method should be used only to create your main objects and set them in motion, that&#39;s it.\r\n\r\nAlso, don&#39;t create your key components inline, like you&#39;re doing here: `jPanel.add(new TextField(attributeName));`. Instead, if you need access to that text field (which should be a JTextField, by the way), make it an instance field.\r\n\r\nSo, you look to be tying a collection of String attributes to JTextFields. One way to do this is to use a JTable. Another is to create a HashMap that uses the attribute name String as a key and a JTextField as a value. This way the text field&#39;s text can be obtained and also set via the the attribute key value:\r\n\r\n```\r\n// here ATTRIBUTES is a constant String array, but it represents a list of attributes\r\n// that can be obtained however you want\r\npublic static final String[] ATTRIBUTES = {&quot;Name&quot;, &quot;Age&quot;, &quot;Address&quot;};\r\n\r\nprivate Map&lt;String, JTextField&gt; attributeMap = new HashMap&lt;&gt;();\r\n```\r\n\r\nFor example:\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.GridLayout;\r\nimport javax.swing.*;\r\n\r\npublic class GuiFoo01 extends JPanel {\r\n    // here ATTRIBUTES is a constant String array, but it represents a list of attributes\r\n    // that can be obtained however you want\r\n    public static final String[] ATTRIBUTES = {&quot;Name&quot;, &quot;Age&quot;, &quot;Address&quot;};\r\n\r\n    private JButton button = new JButton(&quot;Save&quot;);\r\n\r\n    // this is a map that ties attribute Strings to text fields\r\n    private Map&lt;String, JTextField&gt; attributeMap = new HashMap&lt;&gt;();\r\n\r\n    public GuiFoo01() {\r\n        JPanel attributePanel = new JPanel(new GridLayout(0, 2));\r\n        for (String attribute : ATTRIBUTES) {\r\n            JTextField textField = new JTextField(10);\r\n            attributePanel.add(new JLabel(attribute));\r\n            attributePanel.add(textField);\r\n            attributeMap.put(attribute, textField);\r\n        }\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.add(button);        \r\n\r\n        setLayout(new BorderLayout());\r\n        add(attributePanel, BorderLayout.CENTER);\r\n        add(buttonPanel, BorderLayout.PAGE_END);\r\n\r\n        button.addActionListener(e -&gt; {\r\n            // do something\r\n        });\r\n    }\r\n\r\n    public void setAttribute(String attribute, String value) {\r\n        JTextField textField = attributeMap.get(attribute);\r\n        if (textField != null) {\r\n            textField.setText(value);\r\n        }\r\n    }\r\n\r\n    public String getAttribute(String attribute) {\r\n        JTextField textField = attributeMap.get(attribute);\r\n        if (textField != null) {\r\n            return textField.getText();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(new GuiFoo01());\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```","title":"How can I get the UI component name so I can set and get the values from and to DB?","body":"<p>What you need to do first and foremost is to fix this broken code by getting all that code out of the main method. It has no business there and its placement there is harming you and your ability to move forward by</p>\n<ol>\n<li>Limiting an object's visibility by declaring its variable in a restricted scope as per Java's scoping rules, and</li>\n<li>By restricting your important code to the static world where you lose all advantages of OOPs that Java has to offer.</li>\n</ol>\n<p>Instead, GUI code should be OOP-complaint code, just like non-GUI code, with instance methods and fields, and by doing this, you can gain references to your GUI components and solve your problem. The static main method should be used only to create your main objects and set them in motion, that's it.</p>\n<p>Also, don't create your key components inline, like you're doing here: <code>jPanel.add(new TextField(attributeName));</code>. Instead, if you need access to that text field (which should be a JTextField, by the way), make it an instance field.</p>\n<p>So, you look to be tying a collection of String attributes to JTextFields. One way to do this is to use a JTable. Another is to create a HashMap that uses the attribute name String as a key and a JTextField as a value. This way the text field's text can be obtained and also set via the the attribute key value:</p>\n<pre><code>// here ATTRIBUTES is a constant String array, but it represents a list of attributes\n// that can be obtained however you want\npublic static final String[] ATTRIBUTES = {&quot;Name&quot;, &quot;Age&quot;, &quot;Address&quot;};\n\nprivate Map&lt;String, JTextField&gt; attributeMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>For example:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.awt.BorderLayout;\nimport java.awt.GridLayout;\nimport javax.swing.*;\n\npublic class GuiFoo01 extends JPanel {\n    // here ATTRIBUTES is a constant String array, but it represents a list of attributes\n    // that can be obtained however you want\n    public static final String[] ATTRIBUTES = {&quot;Name&quot;, &quot;Age&quot;, &quot;Address&quot;};\n\n    private JButton button = new JButton(&quot;Save&quot;);\n\n    // this is a map that ties attribute Strings to text fields\n    private Map&lt;String, JTextField&gt; attributeMap = new HashMap&lt;&gt;();\n\n    public GuiFoo01() {\n        JPanel attributePanel = new JPanel(new GridLayout(0, 2));\n        for (String attribute : ATTRIBUTES) {\n            JTextField textField = new JTextField(10);\n            attributePanel.add(new JLabel(attribute));\n            attributePanel.add(textField);\n            attributeMap.put(attribute, textField);\n        }\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.add(button);        \n\n        setLayout(new BorderLayout());\n        add(attributePanel, BorderLayout.CENTER);\n        add(buttonPanel, BorderLayout.PAGE_END);\n\n        button.addActionListener(e -&gt; {\n            // do something\n        });\n    }\n\n    public void setAttribute(String attribute, String value) {\n        JTextField textField = attributeMap.get(attribute);\n        if (textField != null) {\n            textField.setText(value);\n        }\n    }\n\n    public String getAttribute(String attribute) {\n        JTextField textField = attributeMap.get(attribute);\n        if (textField != null) {\n            return textField.getText();\n        }\n        return null;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(new GuiFoo01());\n            frame.pack();\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28169604,"reputation":3,"user_id":21528347,"display_name":"user21528347"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76074255,"answer_count":1,"score":0,"last_activity_date":1682179774,"creation_date":1682087039,"question_id":76074103,"body_markdown":"I am trying to develop a Java Swing UI. We have a simple employee details application where we take input from the user and store it in a database. \r\n\r\nThis my table structure:\r\n\r\n[DB Table Structure ](https://i.stack.imgur.com/JFGs8.png)\r\n\r\nI am able to store the data successfully in db table. We are restricting the user to only a few fields (again it is based on admin choice), where admin will maintain some configuration in somewhere (like in filesystem).\r\n\r\n[Allowed Field](https://i.stack.imgur.com/RHEIC.png) \r\n\r\nCurrently, we are allowing two fields the user can update. So, when this form is opened, it will populate previous value from db. Once we press the save button it should get persist in db by catching ActionListener event of Jbutton. With below program I can generate component.\r\n\r\n```java\r\npublic class TextFieldDemo extends JFrame {\r\n\r\n    static JFrame jframe;\r\n    static JButton jButton;\r\n\r\n    public static void main(String[] args) {\r\n        jframe = new JFrame(&quot;JText Field Demo&quot;);\r\n        String allowedUpdateField = &quot;Name, Adress&quot;; // reading from DB/FS\r\n        JPanel jPanel = new JPanel(new GridLayout(0, 1));\r\n\r\n        List&lt;String&gt; attributeList = new ArrayList&lt;String&gt;(Arrays.asList(allowedUpdateField.split(&quot;,&quot;)));\r\n        for (String attributeName : attributeList) {\r\n            jPanel.add(new JLabel(attributeName));\r\n            jPanel.add(new TextField(attributeName)); // need generate this component programmatically \r\n        }\r\n        jButton = new JButton(&quot;Save&quot;);\r\n        jPanel.add(jButton);\r\n        jframe.add(jPanel);\r\n        jframe.setSize(300, 300);\r\n        jframe.show(true);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand the output it generate (ignore the layout which I need to work):\r\n[Swing UI Output](https://i.stack.imgur.com/t2Ti1.png)\r\n\r\nHow can I get the component name so I can set and get the values from and to DB?\r\n","title":"How can I get the UI component name so I can set and get the values from and to DB?","body":"<p>I am trying to develop a Java Swing UI. We have a simple employee details application where we take input from the user and store it in a database.</p>\n<p>This my table structure:</p>\n<p><a href=\"https://i.stack.imgur.com/JFGs8.png\" rel=\"nofollow noreferrer\">DB Table Structure </a></p>\n<p>I am able to store the data successfully in db table. We are restricting the user to only a few fields (again it is based on admin choice), where admin will maintain some configuration in somewhere (like in filesystem).</p>\n<p><a href=\"https://i.stack.imgur.com/RHEIC.png\" rel=\"nofollow noreferrer\">Allowed Field</a></p>\n<p>Currently, we are allowing two fields the user can update. So, when this form is opened, it will populate previous value from db. Once we press the save button it should get persist in db by catching ActionListener event of Jbutton. With below program I can generate component.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TextFieldDemo extends JFrame {\n\n    static JFrame jframe;\n    static JButton jButton;\n\n    public static void main(String[] args) {\n        jframe = new JFrame(&quot;JText Field Demo&quot;);\n        String allowedUpdateField = &quot;Name, Adress&quot;; // reading from DB/FS\n        JPanel jPanel = new JPanel(new GridLayout(0, 1));\n\n        List&lt;String&gt; attributeList = new ArrayList&lt;String&gt;(Arrays.asList(allowedUpdateField.split(&quot;,&quot;)));\n        for (String attributeName : attributeList) {\n            jPanel.add(new JLabel(attributeName));\n            jPanel.add(new TextField(attributeName)); // need generate this component programmatically \n        }\n        jButton = new JButton(&quot;Save&quot;);\n        jPanel.add(jButton);\n        jframe.add(jPanel);\n        jframe.setSize(300, 300);\n        jframe.show(true);\n    }\n\n}\n</code></pre>\n<p>and the output it generate (ignore the layout which I need to work):\n<a href=\"https://i.stack.imgur.com/t2Ti1.png\" rel=\"nofollow noreferrer\">Swing UI Output</a></p>\n<p>How can I get the component name so I can set and get the values from and to DB?</p>\n"},{"tags":["java","list","removeall"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":4,"creation_date":1270996757,"post_id":2617369,"comment_id":2629189,"body_markdown":"for a start, give some code so that we don&#39;t guess","body":"for a start, give some code so that we don&#39;t guess"},{"owner":{"account_id":102191,"reputation":40009,"user_id":274466,"display_name":"ig0774"},"score":0,"creation_date":1270997255,"post_id":2617369,"comment_id":2629219,"body_markdown":"I think the question might be clearer if you could show the code for what you are trying to do.","body":"I think the question might be clearer if you could show the code for what you are trying to do."},{"owner":{"account_id":76705,"reputation":8914,"user_id":219394,"display_name":"Kevin Brock"},"score":0,"creation_date":1271005658,"post_id":2617369,"comment_id":2629742,"body_markdown":"It&#39;s been suggested here and below, but specifically please post the code for your `equals` and `hashCode` methods. You probably tried these but wrote them incorrectly. This is the correct approach and will work with `removeAll()` if done right.","body":"It&#39;s been suggested here and below, but specifically please post the code for your <code>equals</code> and <code>hashCode</code> methods. You probably tried these but wrote them incorrectly. This is the correct approach and will work with <code>removeAll()</code> if done right."}],"answers":[{"comments":[{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1270996860,"post_id":2617380,"comment_id":2629197,"body_markdown":"@Cletus: he actually says (a little below) that he tried and it didn&#39;t work for him.","body":"@Cletus: he actually says (a little below) that he tried and it didn&#39;t work for him."},{"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":9,"creation_date":1270997048,"post_id":2617380,"comment_id":2629207,"body_markdown":"@Roman until he posts some code I don&#39;t believe it. More than likely it will come down to something like incorrect use of the API or violating the equals/hashCode contract, etc.","body":"@Roman until he posts some code I don&#39;t believe it. More than likely it will come down to something like incorrect use of the API or violating the equals/hashCode contract, etc."},{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":0,"creation_date":1400583343,"post_id":2617380,"comment_id":36528511,"body_markdown":"This sure was my problem. Regenerated equals and hashCode then things started working again. Thanks :-)","body":"This sure was my problem. Regenerated equals and hashCode then things started working again. Thanks :-)"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1682147355,"creation_date":1270996806,"answer_id":2617380,"question_id":2617369,"body_markdown":"Java Collections already cater for your scenario. Call [`Collection.removeAll(Collection)`][1] and it&#39;ll remove all the items from the passed in collection using the `equals()` method to test for equality.\r\n\r\n    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    Collections.addAll(list1, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\r\n    List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n    Collections.addAll(list2, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;);\r\n    list1.removeAll(list2); // now contains &quot;one&quot;, &quot;two&quot;\r\n\r\nTo make this work the objects you&#39;re storing just need to properly implement the equals/hashCode contract, which is: given any two objects `a` and `b`:\r\n\r\n    a.equals(b) == b.equals(a)\r\n\r\nand:\r\n\r\n    a.hashCode() == b.hashCode() if a.equals(b)\r\n\r\nImproperly defined equals and hashCode methods create undefined behaviour and are the common cause of collections related issues.\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#removeAll(java.util.Collection)\r\n\r\n\r\n","title":"Problem with implementing removeAll for List of custom object","body":"<p>Java Collections already cater for your scenario. Call <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#removeAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collection.removeAll(Collection)</code></a> and it'll remove all the items from the passed in collection using the <code>equals()</code> method to test for equality.</p>\n<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\nCollections.addAll(list1, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\nList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\nCollections.addAll(list2, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;);\nlist1.removeAll(list2); // now contains &quot;one&quot;, &quot;two&quot;\n</code></pre>\n<p>To make this work the objects you're storing just need to properly implement the equals/hashCode contract, which is: given any two objects <code>a</code> and <code>b</code>:</p>\n<pre><code>a.equals(b) == b.equals(a)\n</code></pre>\n<p>and:</p>\n<pre><code>a.hashCode() == b.hashCode() if a.equals(b)\n</code></pre>\n<p>Improperly defined equals and hashCode methods create undefined behaviour and are the common cause of collections related issues.</p>\n"},{"comments":[{"owner":{"account_id":2895641,"reputation":1564,"user_id":2483484,"accept_rate":53,"display_name":"StarWind0"},"score":0,"creation_date":1549659560,"post_id":2617389,"comment_id":95996610,"body_markdown":"More detail please?","body":"More detail please?"}],"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1270997049,"creation_date":1270997049,"answer_id":2617389,"question_id":2617369,"body_markdown":"Overriding `equals` and `hashCode` methods is enough to make method `removeAll` work on custom objects. \r\n\r\nIt&#39;s likely that you didn&#39;t override them in a proper way. Some code will help us a lot.","title":"Problem with implementing removeAll for List of custom object","body":"<p>Overriding <code>equals</code> and <code>hashCode</code> methods is enough to make method <code>removeAll</code> work on custom objects. </p>\n\n<p>It's likely that you didn't override them in a proper way. Some code will help us a lot.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270999250,"creation_date":1270999250,"answer_id":2617507,"question_id":2617369,"body_markdown":"You said:\n\n&gt; ... Since my List is created on a custom object, the removeAll method won&#39;t work for me.\n\nAs others have stated, .removeAll() should work for the scenario you described, even for custom objects, as long as the custom objects obey the contracts that Java Collections expects of its objects, including a properly implement equals() and hashCode() method.\n\n&gt; I have tried various methods to make this work: - implemented equals() and hashCode for the custom object comprising the list - implemented the Comparable Interface for the custom object - implemented the Comparator Interface for the custom object ...\n\nIt sounds like your are shot-gunning different approaches: coding one, trying it, quickly coding another, trying it, coding yet another, ... It make be worthwhile to slow down and try to understand why each approach failed and/or determine why that approach won&#39;t work for your situation, before moving on to the next.  If you&#39;ve already investigated and determined why each approach won&#39;t work, please explain in your question.  If you haven&#39;t, then let us help by posting code.\n\nSince most people agree the first approach (.removeall()) should have work and since custom objects are involved, why not take a quick review of this StackOverflow question to see if anything jumps out of you:\n\n&gt; [Overriding equals and hashCode in Java][1]\n&gt;\n&gt; &quot;What issues / pitfalls do I need to consider when overriding equals and hashCode in a java class?&quot;\n\n\n  [1]: https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\n","title":"Problem with implementing removeAll for List of custom object","body":"<p>You said:</p>\n<blockquote>\n<p>... Since my List is created on a custom object, the removeAll method won't work for me.</p>\n</blockquote>\n<p>As others have stated, .removeAll() should work for the scenario you described, even for custom objects, as long as the custom objects obey the contracts that Java Collections expects of its objects, including a properly implement equals() and hashCode() method.</p>\n<blockquote>\n<p>I have tried various methods to make this work: - implemented equals() and hashCode for the custom object comprising the list - implemented the Comparable Interface for the custom object - implemented the Comparator Interface for the custom object ...</p>\n</blockquote>\n<p>It sounds like your are shot-gunning different approaches: coding one, trying it, quickly coding another, trying it, coding yet another, ... It make be worthwhile to slow down and try to understand why each approach failed and/or determine why that approach won't work for your situation, before moving on to the next.  If you've already investigated and determined why each approach won't work, please explain in your question.  If you haven't, then let us help by posting code.</p>\n<p>Since most people agree the first approach (.removeall()) should have work and since custom objects are involved, why not take a quick review of this StackOverflow question to see if anything jumps out of you:</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\">Overriding equals and hashCode in Java</a></p>\n<p>&quot;What issues / pitfalls do I need to consider when overriding equals and hashCode in a java class?&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3432379,"reputation":1,"user_id":2876419,"display_name":"sharonD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381679378,"creation_date":1381679378,"answer_id":19347078,"question_id":2617369,"body_markdown":"I have found that his original statement it true. removeAll works automatically only if you override the remove in the iterator. Just overriding the remove in the Collection is not enough because the removeAll (and clear and retainAll) all use the iterator to work. Since you should not change the underlying collection while using the iterator except for the remove in the iterator, if you do not override the remove in the iterator, the removeAll, clear and retainAll will not work. If you throw an UnsupportedOperationException in the remove method inside the iterator, that is what you will see if you call one of the three methods discussed.","title":"Problem with implementing removeAll for List of custom object","body":"<p>I have found that his original statement it true. removeAll works automatically only if you override the remove in the iterator. Just overriding the remove in the Collection is not enough because the removeAll (and clear and retainAll) all use the iterator to work. Since you should not change the underlying collection while using the iterator except for the remove in the iterator, if you do not override the remove in the iterator, the removeAll, clear and retainAll will not work. If you throw an UnsupportedOperationException in the remove method inside the iterator, that is what you will see if you call one of the three methods discussed.</p>\n"}],"owner":{"account_id":607124,"reputation":59,"user_id":313938,"display_name":"Jay "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20144,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1682248543,"answer_count":4,"score":5,"last_activity_date":1682179264,"creation_date":1270996570,"question_id":2617369,"body_markdown":"I have a scenario in my code where I need to compare two lists and remove from the first list, objects which are present in the second list. Akin to how the &quot;removeAll&quot; object works for List. Since my list is created on a custom object, the removeAll method won&#39;t work for me.\r\n\r\nI have tried various methods to make this work:\r\n- implemented equals() and hashCode for the custom object comprising the list\r\n- implemented the Comparable Interface for the custom object\r\n- implemented the Comparator Interface for the custom object\r\n\r\nI&#39;ve even tried using the Apache Common&#39;s CollectionUtils and ListUtils methods (subtract, intersect, removeAll). None seem to work.\r\n\r\nI understand I will perhaps need to write some custom removal code. But not sure how to go about doing that. Any pointers helping me move in the right direction will be really appreciated.\r\n\r\n","title":"Problem with implementing removeAll for List of custom object","body":"<p>I have a scenario in my code where I need to compare two lists and remove from the first list, objects which are present in the second list. Akin to how the &quot;removeAll&quot; object works for List. Since my list is created on a custom object, the removeAll method won't work for me.</p>\n<p>I have tried various methods to make this work:</p>\n<ul>\n<li>implemented equals() and hashCode for the custom object comprising the list</li>\n<li>implemented the Comparable Interface for the custom object</li>\n<li>implemented the Comparator Interface for the custom object</li>\n</ul>\n<p>I've even tried using the Apache Common's CollectionUtils and ListUtils methods (subtract, intersect, removeAll). None seem to work.</p>\n<p>I understand I will perhaps need to write some custom removal code. But not sure how to go about doing that. Any pointers helping me move in the right direction will be really appreciated.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":8027216,"reputation":31,"user_id":6053671,"display_name":"Aniruddha Kumbhar"},"score":0,"creation_date":1682181272,"post_id":76080573,"comment_id":134176402,"body_markdown":"@OneToOne(fetch = FetchType.EAGER, optional = false) --&gt; helped to form inner join query as below but error still persists","body":"@OneToOne(fetch = FetchType.EAGER, optional = false) --&gt; helped to form inner join query as below but error still persists"},{"owner":{"account_id":8027216,"reputation":31,"user_id":6053671,"display_name":"Aniruddha Kumbhar"},"score":0,"creation_date":1682181370,"post_id":76080573,"comment_id":134176412,"body_markdown":"select e0_.expenseid as expensei1_1_2_, e0_.amount as amount2_1_2_, e0_.categoryid as category6_1_2_, e0_.comment as comment3_1_2_, e0_.createddate as createdd4_1_2_, e0_.expensedetails as expensed5_1_2_, e0_.paymenttypeid as paymentt7_1_2_, c1_.categoryid as c1_0_0_, c1_.categoryname as category2_0_0_, c1_.categorytype as category3_0_0_, p2_.paymenttypeid as paymentt1_3_1_, p2_.paymenttype as paymentt2_3_1_ from expense e0_ inner join category c1_ on e0_.categoryid=c1_.categoryid inner join payment p2_ on e0_.paymenttypeid=p2_.paymenttypeid where e0_.categoryid=?","body":"select e0_.expenseid as expensei1_1_2_, e0_.amount as amount2_1_2_, e0_.categoryid as category6_1_2_, e0_.comment as comment3_1_2_, e0_.createddate as createdd4_1_2_, e0_.expensedetails as expensed5_1_2_, e0_.paymenttypeid as paymentt7_1_2_, c1_.categoryid as c1_0_0_, c1_.categoryname as category2_0_0_, c1_.categorytype as category3_0_0_, p2_.paymenttypeid as paymentt1_3_1_, p2_.paymenttype as paymentt2_3_1_ from expense e0_ inner join category c1_ on e0_.categoryid=c1_.categoryid inner join payment p2_ on e0_.paymenttypeid=p2_.paymenttypeid where e0_.categoryid=?"}],"owner":{"account_id":8027216,"reputation":31,"user_id":6053671,"display_name":"Aniruddha Kumbhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682179205,"creation_date":1682179205,"question_id":76080573,"body_markdown":"Below query is not getting applied -\r\n```\r\n@Query(nativeQuery = true, value = &quot;select e.expenseid, e.expensedetails, e.amount, e.createddate,e.comment, c.*, p.* from Expense e inner join Category c on e.categoryid = c.categoryid inner join Payment p on e.paymenttypeid = p.paymenttypeid where c.categorytype = &#39;Expense&#39;&quot;)\r\n    List&lt;Expense&gt; findAllRecords();\r\n```\r\n\r\nJPA returning below query -\r\n```\r\nselect expense0_.expenseid as expensei1_1_2_, expense0_.amount as amount2_1_2_, expense0_.categoryid as category6_1_2_, expense0_.comment as comment3_1_2_, expense0_.createddate as createdd4_1_2_, expense0_.expensedetails as expensed5_1_2_, expense0_.paymenttypeid as paymentt7_1_2_, category1_.categoryid as category1_0_0_, category1_.categoryname as category2_0_0_, category1_.categorytype as category3_0_0_, payment2_.paymenttypeid as paymentt1_3_1_, payment2_.paymenttype as paymentt2_3_1_ from expense expense0_ left outer join category category1_ on expense0_.categoryid=category1_.categoryid left outer join payment payment2_ on expense0_.paymenttypeid=payment2_.paymenttypeid where expense0_.categoryid=?\r\n```\r\n\r\nExpense pojo -\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;expense&quot;)\r\npublic class Expense {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int expenseid;\r\n    @Column(nullable = true)\r\n    private String expensedetails;\r\n    private Double amount;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JsonManagedReference(value = &quot;expense&quot;)\r\n    @JoinColumn(name=&quot;categoryid&quot;)\r\n    private Category categoryExpense;\r\n\r\n    private String comment;\r\n    private Date createddate;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JsonManagedReference(value = &quot;expense&quot;)\r\n    @JoinColumn(name=&quot;paymenttypeid&quot;)\r\n    private Payment paymentExpense;\r\n\r\n}\r\n```\r\n\r\nHow the native query mentioned inside @Query annotation will be applied? As per my understanding that query will resolve the runtime exception","title":"JPA Exception - More than one row with the given identifier was found: 4, for class: com.study.expensecalculator.entity.Expense","body":"<p>Below query is not getting applied -</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select e.expenseid, e.expensedetails, e.amount, e.createddate,e.comment, c.*, p.* from Expense e inner join Category c on e.categoryid = c.categoryid inner join Payment p on e.paymenttypeid = p.paymenttypeid where c.categorytype = 'Expense'&quot;)\n    List&lt;Expense&gt; findAllRecords();\n</code></pre>\n<p>JPA returning below query -</p>\n<pre><code>select expense0_.expenseid as expensei1_1_2_, expense0_.amount as amount2_1_2_, expense0_.categoryid as category6_1_2_, expense0_.comment as comment3_1_2_, expense0_.createddate as createdd4_1_2_, expense0_.expensedetails as expensed5_1_2_, expense0_.paymenttypeid as paymentt7_1_2_, category1_.categoryid as category1_0_0_, category1_.categoryname as category2_0_0_, category1_.categorytype as category3_0_0_, payment2_.paymenttypeid as paymentt1_3_1_, payment2_.paymenttype as paymentt2_3_1_ from expense expense0_ left outer join category category1_ on expense0_.categoryid=category1_.categoryid left outer join payment payment2_ on expense0_.paymenttypeid=payment2_.paymenttypeid where expense0_.categoryid=?\n</code></pre>\n<p>Expense pojo -</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;expense&quot;)\npublic class Expense {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int expenseid;\n    @Column(nullable = true)\n    private String expensedetails;\n    private Double amount;\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JsonManagedReference(value = &quot;expense&quot;)\n    @JoinColumn(name=&quot;categoryid&quot;)\n    private Category categoryExpense;\n\n    private String comment;\n    private Date createddate;\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JsonManagedReference(value = &quot;expense&quot;)\n    @JoinColumn(name=&quot;paymenttypeid&quot;)\n    private Payment paymentExpense;\n\n}\n</code></pre>\n<p>How the native query mentioned inside @Query annotation will be applied? As per my understanding that query will resolve the runtime exception</p>\n"},{"tags":["java","rest","tcp","resttemplate"],"comments":[{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1682180933,"post_id":76080548,"comment_id":134176355,"body_markdown":"Maybe you can use Spring Boot Actuator to get the detail information.","body":"Maybe you can use Spring Boot Actuator to get the detail information."},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1682183951,"post_id":76080548,"comment_id":134176763,"body_markdown":"use AOP e.g. interceptor (PerformanceMonitorInterceptor )","body":"use AOP e.g. interceptor (PerformanceMonitorInterceptor )"}],"owner":{"account_id":19125803,"reputation":3,"user_id":13968807,"display_name":"王纾林"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682178824,"creation_date":1682178824,"question_id":76080548,"body_markdown":"this is my code,but i know it&#39;s not accurate because it called function,so how can i get the accurate response time which consists of tcp handshack,transfer time and so on .thank you very much.\r\n```java\r\n        long startTime = System.currentTimeMillis();\r\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, requestEntity, String.class);\r\n        long endTime = System.currentTimeMillis();\r\n        System.out.println(endTime-startTime+&quot;ms&quot;);\r\n```","title":"how to get Response time when I ues resttemplate","body":"<p>this is my code,but i know it's not accurate because it called function,so how can i get the accurate response time which consists of tcp handshack,transfer time and so on .thank you very much.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        long startTime = System.currentTimeMillis();\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, requestEntity, String.class);\n        long endTime = System.currentTimeMillis();\n        System.out.println(endTime-startTime+&quot;ms&quot;);\n</code></pre>\n"},{"tags":["java","android","string","class"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1682178460,"post_id":76080197,"comment_id":134176027,"body_markdown":"`MainActivity MainAct = new MainActivity();` you should *never* create an activity instance like this. This will make a whole new activity (not the same as the one that was shown previously) and it will not be correctly bound to its lifecycle, so many things will be null and crash if you try to use it. You should use an intent to pass data from one activity to another. Have a look [here](https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application).","body":"<code>MainActivity MainAct = new MainActivity();</code> you should <i>never</i> create an activity instance like this. This will make a whole new activity (not the same as the one that was shown previously) and it will not be correctly bound to its lifecycle, so many things will be null and crash if you try to use it. You should use an intent to pass data from one activity to another. Have a look <a href=\"https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":28379979,"reputation":3,"user_id":21707408,"display_name":"AsianOnCode"},"score":0,"creation_date":1682237804,"post_id":76080545,"comment_id":134181218,"body_markdown":"Thanks dude! helped me quite alot! adding the new Intent inside the classify image just seem to crash after switching to the new activity. though it took me an hour but i managed to figure it out. adding the intent code inside the button that switches to the other activity worked.","body":"Thanks dude! helped me quite alot! adding the new Intent inside the classify image just seem to crash after switching to the new activity. though it took me an hour but i managed to figure it out. adding the intent code inside the button that switches to the other activity worked."}],"tags":[],"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682178794,"creation_date":1682178794,"answer_id":76080545,"question_id":76080197,"body_markdown":"You can&#39;t just reference one activity view&#39;s data in the other activity. Pass the data with the Intent when you switch activities as you have done here.\r\n\r\n    Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\r\n                intent.putExtra(&quot;image&quot;, image);\r\n\r\nPass the value of content of &#39;result&#39; with the intent when you switch activities. That should solve the problem.","title":"I cant seem to get one of the String Value in a Method from another java class","body":"<p>You can't just reference one activity view's data in the other activity. Pass the data with the Intent when you switch activities as you have done here.</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\n            intent.putExtra(&quot;image&quot;, image);\n</code></pre>\n<p>Pass the value of content of 'result' with the intent when you switch activities. That should solve the problem.</p>\n"}],"owner":{"account_id":28379979,"reputation":3,"user_id":21707408,"display_name":"AsianOnCode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76080545,"answer_count":1,"score":0,"last_activity_date":1682178794,"creation_date":1682174369,"question_id":76080197,"body_markdown":"The whole code works fine and the application runs completely fine, But my problem is getting the string value of the result TextView from another java class.\r\n\r\nIn the classifyImage() method, the &quot; result.setText(classes[maxPos]); &quot; works and it changes the Text of the result TextView, but I cant seem to get the text value of result from another java class. it just returns blank.\r\n \r\n\r\nIm gonna put my whole MainActivity below, but just skip to the classifyImage() method the part where result.setText(classes[maxPos]); is located, since that&#39;s where my problem is focusing. and I also pasted my 2nd Java class below.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView result, confidence;\r\n    ImageView imageView;\r\n    Button picture, gallery, guides;\r\n    int imageSize = 224;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        result = findViewById(R.id.result);\r\n        confidence = findViewById(R.id.confidence);\r\n        imageView = findViewById(R.id.imageView);\r\n        picture = findViewById(R.id.button);\r\n        gallery = findViewById(R.id.button2);\r\n        guides = findViewById(R.id.button3);\r\n\r\n        picture.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Launch camera if we have permission\r\n                if (checkSelfPermission(Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n                    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                    startActivityForResult(cameraIntent, 3);\r\n                } else {\r\n                    //Request camera permission if we don&#39;t have it.\r\n                    requestPermissions(new String[]{Manifest.permission.CAMERA}, 100);\r\n                }\r\n            }\r\n        });\r\n\r\n        gallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent cameraIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(cameraIntent, 1);\r\n            }\r\n        });\r\n\r\n        guides.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                startActivity(new Intent(MainActivity.this, PlantInfoActivity.class));\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public void classifyImage(Bitmap image) {\r\n\r\n        PlantClasses PlantClass = new PlantClasses();\r\n        PlantInfoActivity PlantInfo = new PlantInfoActivity();\r\n\r\n        try {\r\n            Model model = Model.newInstance(getApplicationContext());\r\n\r\n            // Creates inputs for reference.\r\n            TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\r\n            ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\r\n            byteBuffer.order(ByteOrder.nativeOrder());\r\n\r\n            // get 1D array of 224 * 224 pixels in image\r\n            int[] intValues = new int[imageSize * imageSize];\r\n            image.getPixels(intValues, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\r\n\r\n            // iterate over pixels and extract R, G, and B values. Add to bytebuffer.\r\n            int pixel = 0;\r\n            for (int i = 0; i &lt; imageSize; i++) {\r\n                for (int j = 0; j &lt; imageSize; j++) {\r\n                    int val = intValues[pixel++]; // RGB\r\n                    byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 255.f));\r\n                    byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 255.f));\r\n                    byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 255.f));\r\n                }\r\n            }\r\n\r\n            inputFeature0.loadBuffer(byteBuffer);\r\n\r\n            // Runs model inference and gets result.\r\n            Model.Outputs outputs = model.process(inputFeature0);\r\n            TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n\r\n            float[] confidences = outputFeature0.getFloatArray();\r\n            // find the index of the class with the biggest confidence.\r\n            int maxPos = 0;\r\n            float maxConfidence = 0;\r\n            for (int i = 0; i &lt; confidences.length; i++) {\r\n                if (confidences[i] &gt; maxConfidence) {\r\n                    maxConfidence = confidences[i];\r\n                    maxPos = i;\r\n                }\r\n            }\r\n\r\n            String[] classes = PlantClass.plantclass;\r\n\r\n            result.setText(classes[maxPos]);\r\n            confidence.setText(String.format(&quot;%.1f%%&quot;, maxConfidence * 100));\r\n            guides.setVisibility(View.VISIBLE);\r\n\r\n            // Releases model resources if no longer used.\r\n            model.close();\r\n\r\n        } catch (IOException e) {\r\n            // TODO Handle the exception\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if(resultCode == RESULT_OK){\r\n            if(requestCode == 3){\r\n                Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                int dimension = Math.min(image.getWidth(), image.getHeight());\r\n                image = ThumbnailUtils.extractThumbnail(image, dimension, dimension);\r\n                imageView.setImageBitmap(image);\r\n\r\n\r\n                image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\r\n                Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\r\n                intent.putExtra(&quot;image&quot;, image);\r\n\r\n                classifyImage(image);\r\n\r\n            }else{\r\n                Uri dat = data.getData();\r\n                Bitmap image = null;\r\n                try {\r\n                    image = MediaStore.Images.Media.getBitmap(this.getContentResolver(), dat);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                imageView.setImageBitmap(image);\r\n\r\n                image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\r\n                Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\r\n                intent.putExtra(&quot;image&quot;, image);\r\n\r\n                classifyImage(image);\r\n            }\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n}\r\n```\r\n\r\n\r\nBelow is the 2nd class where I want to use the value of result. I aim to change the value of plantname2 to the same value of result. specifically i want to set the Text of plantname2 to the same Text as result. but i still cant seem to retrieve the string value of result in the main activity.\r\n\r\n\r\n```\r\npublic class PlantInfoActivity extends AppCompatActivity {\r\n\r\n    MainActivity MainAct = new MainActivity();\r\n\r\n\r\n    Button backbutton;\r\n    ImageView imageView2;\r\n    TextView plantname2;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_plant_info);\r\n\r\n        plantname2 = findViewById(R.id.plantname2);\r\n        backbutton = findViewById(R.id.backbutton);\r\n        imageView2 = findViewById(R.id.imageView2);\r\n\r\n        backbutton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nContext of the program. it uses image recognition to identify plants, after selecting a photo from the gallery or taking a picture, it identifies the plants by outputting the image of the plant above and outputting the name of plant which is the result. and the confidence rate value of the plant.\r\n\r\nTHEN THIS IS WHERE THE PROBLEM BEGINS\r\nthere is a button that switches to a new activity to show more texts/information about the plant.\r\nthere is a TextView in that new activity where it should suppose to display the same Value of the result.\r\n\r\n\r\nI&#39;ve tried adding this to my 2nd java class in the onCreate method.\r\n\r\n```\r\nString resultString = MainAct.result.getText().toString();\r\n        plantname2.setText(resultString);\r\n```\r\n\r\nBut it just seems to crash after switching to the other activity.\r\n\r\nI&#39;ve also tried using the MainActivity&#39;s classifyImage() method to change the TextView of the 2nd Activity. but it just crashes after selecting a photo.\r\n\r\n```\r\n            result.setText(classes[maxPos]);\r\n            confidence.setText(String.format(&quot;%.1f%%&quot;, maxConfidence * 100));\r\n            guides.setVisibility(View.VISIBLE);\r\n\r\n            PlantInfo.plantname2.setText(classes[maxPos]);\r\n```\r\n\r\nI&#39;ve Tried testing and declaring public strings outside the onCreate method. and setting the string to a fixed value just to test. like\r\n```\r\nString plantname = &quot;test&quot;\r\n```\r\nand use that call that variable in the 2nd class and use it to set the text. IT WORKS but when i try to change it to a value from the result. it just crashes. \r\n\r\nplease Bear with me and my problems, im still learning Java and im at lost now, i hope you guys can help me. thanks in advance.","title":"I cant seem to get one of the String Value in a Method from another java class","body":"<p>The whole code works fine and the application runs completely fine, But my problem is getting the string value of the result TextView from another java class.</p>\n<p>In the classifyImage() method, the &quot; result.setText(classes[maxPos]); &quot; works and it changes the Text of the result TextView, but I cant seem to get the text value of result from another java class. it just returns blank.</p>\n<p>Im gonna put my whole MainActivity below, but just skip to the classifyImage() method the part where result.setText(classes[maxPos]); is located, since that's where my problem is focusing. and I also pasted my 2nd Java class below.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView result, confidence;\n    ImageView imageView;\n    Button picture, gallery, guides;\n    int imageSize = 224;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        result = findViewById(R.id.result);\n        confidence = findViewById(R.id.confidence);\n        imageView = findViewById(R.id.imageView);\n        picture = findViewById(R.id.button);\n        gallery = findViewById(R.id.button2);\n        guides = findViewById(R.id.button3);\n\n        picture.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Launch camera if we have permission\n                if (checkSelfPermission(Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n                    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                    startActivityForResult(cameraIntent, 3);\n                } else {\n                    //Request camera permission if we don't have it.\n                    requestPermissions(new String[]{Manifest.permission.CAMERA}, 100);\n                }\n            }\n        });\n\n        gallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent cameraIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                startActivityForResult(cameraIntent, 1);\n            }\n        });\n\n        guides.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view) {\n\n                startActivity(new Intent(MainActivity.this, PlantInfoActivity.class));\n\n            }\n        });\n    }\n\n\n    public void classifyImage(Bitmap image) {\n\n        PlantClasses PlantClass = new PlantClasses();\n        PlantInfoActivity PlantInfo = new PlantInfoActivity();\n\n        try {\n            Model model = Model.newInstance(getApplicationContext());\n\n            // Creates inputs for reference.\n            TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\n            ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\n            byteBuffer.order(ByteOrder.nativeOrder());\n\n            // get 1D array of 224 * 224 pixels in image\n            int[] intValues = new int[imageSize * imageSize];\n            image.getPixels(intValues, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\n\n            // iterate over pixels and extract R, G, and B values. Add to bytebuffer.\n            int pixel = 0;\n            for (int i = 0; i &lt; imageSize; i++) {\n                for (int j = 0; j &lt; imageSize; j++) {\n                    int val = intValues[pixel++]; // RGB\n                    byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 255.f));\n                    byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 255.f));\n                    byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 255.f));\n                }\n            }\n\n            inputFeature0.loadBuffer(byteBuffer);\n\n            // Runs model inference and gets result.\n            Model.Outputs outputs = model.process(inputFeature0);\n            TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n\n            float[] confidences = outputFeature0.getFloatArray();\n            // find the index of the class with the biggest confidence.\n            int maxPos = 0;\n            float maxConfidence = 0;\n            for (int i = 0; i &lt; confidences.length; i++) {\n                if (confidences[i] &gt; maxConfidence) {\n                    maxConfidence = confidences[i];\n                    maxPos = i;\n                }\n            }\n\n            String[] classes = PlantClass.plantclass;\n\n            result.setText(classes[maxPos]);\n            confidence.setText(String.format(&quot;%.1f%%&quot;, maxConfidence * 100));\n            guides.setVisibility(View.VISIBLE);\n\n            // Releases model resources if no longer used.\n            model.close();\n\n        } catch (IOException e) {\n            // TODO Handle the exception\n        }\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if(resultCode == RESULT_OK){\n            if(requestCode == 3){\n                Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                int dimension = Math.min(image.getWidth(), image.getHeight());\n                image = ThumbnailUtils.extractThumbnail(image, dimension, dimension);\n                imageView.setImageBitmap(image);\n\n\n                image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\n                Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\n                intent.putExtra(&quot;image&quot;, image);\n\n                classifyImage(image);\n\n            }else{\n                Uri dat = data.getData();\n                Bitmap image = null;\n                try {\n                    image = MediaStore.Images.Media.getBitmap(this.getContentResolver(), dat);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                imageView.setImageBitmap(image);\n\n                image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\n                Intent intent = new Intent(MainActivity.this, PlantInfoActivity.class);\n                intent.putExtra(&quot;image&quot;, image);\n\n                classifyImage(image);\n            }\n        }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n}\n</code></pre>\n<p>Below is the 2nd class where I want to use the value of result. I aim to change the value of plantname2 to the same value of result. specifically i want to set the Text of plantname2 to the same Text as result. but i still cant seem to retrieve the string value of result in the main activity.</p>\n<pre><code>public class PlantInfoActivity extends AppCompatActivity {\n\n    MainActivity MainAct = new MainActivity();\n\n\n    Button backbutton;\n    ImageView imageView2;\n    TextView plantname2;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_plant_info);\n\n        plantname2 = findViewById(R.id.plantname2);\n        backbutton = findViewById(R.id.backbutton);\n        imageView2 = findViewById(R.id.imageView2);\n\n        backbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                finish();\n            }\n        });\n\n    }\n\n}\n</code></pre>\n<p>Context of the program. it uses image recognition to identify plants, after selecting a photo from the gallery or taking a picture, it identifies the plants by outputting the image of the plant above and outputting the name of plant which is the result. and the confidence rate value of the plant.</p>\n<p>THEN THIS IS WHERE THE PROBLEM BEGINS\nthere is a button that switches to a new activity to show more texts/information about the plant.\nthere is a TextView in that new activity where it should suppose to display the same Value of the result.</p>\n<p>I've tried adding this to my 2nd java class in the onCreate method.</p>\n<pre><code>String resultString = MainAct.result.getText().toString();\n        plantname2.setText(resultString);\n</code></pre>\n<p>But it just seems to crash after switching to the other activity.</p>\n<p>I've also tried using the MainActivity's classifyImage() method to change the TextView of the 2nd Activity. but it just crashes after selecting a photo.</p>\n<pre><code>            result.setText(classes[maxPos]);\n            confidence.setText(String.format(&quot;%.1f%%&quot;, maxConfidence * 100));\n            guides.setVisibility(View.VISIBLE);\n\n            PlantInfo.plantname2.setText(classes[maxPos]);\n</code></pre>\n<p>I've Tried testing and declaring public strings outside the onCreate method. and setting the string to a fixed value just to test. like</p>\n<pre><code>String plantname = &quot;test&quot;\n</code></pre>\n<p>and use that call that variable in the 2nd class and use it to set the text. IT WORKS but when i try to change it to a value from the result. it just crashes.</p>\n<p>please Bear with me and my problems, im still learning Java and im at lost now, i hope you guys can help me. thanks in advance.</p>\n"},{"tags":["java","ocr","tesseract","asprise-ocr-api"],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682176979,"creation_date":1682173267,"question_id":76080121,"body_markdown":"I have this image:\r\n\r\n[![image][1]][1]\r\n\r\nAnd I try to read all of these numbers.\r\n\r\nI was trying with \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.asprise.ocr&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-ocr-api&lt;/artifactId&gt;\r\n    &lt;version&gt;15.3.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nOcr.setUp();\r\nOcr ocr = new Ocr();\r\nocr.startEngine(&quot;eng&quot;, Ocr.SPEED_SLOW);\r\nString s = ocr.recognize(new File[]{new File(&quot;img.png&quot;)}, Ocr.RECOGNIZE_TYPE_TEXT, Ocr.OUTPUT_FORMAT_PLAINTEXT);\r\nSystem.out.println(&quot;Result: &quot; + s);\r\nocr.stopEngine();\r\n```\r\nAnd \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n    &lt;version&gt;5.7.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n//+ installed tesseract-ocr - 5.3.1.20230401\r\n\r\nTesseract tesseract = new Tesseract();\r\ntesseract.setDatapath(&quot;D:\\\\programming\\\\tessaract-ocr\\\\tessdata&quot;);\r\nString text = tesseract.doOCR(new File(&quot;img.png&quot;));\r\nSystem.out.print(text);\r\n```\r\n\r\nBut in both cases the output is just some random chars.\r\n\r\nThere is a way that I can read the numbers from image?\r\n\r\nEdit1: I tried with bigger numbers, and still the same problem: \r\n\r\n[![bigger numbers][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/M9PDH.png\r\n  [2]: https://i.stack.imgur.com/7AGYz.png","title":"Read all numbers from image","body":"<p>I have this image:</p>\n<p><a href=\"https://i.stack.imgur.com/M9PDH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9PDH.png\" alt=\"image\" /></a></p>\n<p>And I try to read all of these numbers.</p>\n<p>I was trying with</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.asprise.ocr&lt;/groupId&gt;\n    &lt;artifactId&gt;java-ocr-api&lt;/artifactId&gt;\n    &lt;version&gt;15.3.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n\nOcr.setUp();\nOcr ocr = new Ocr();\nocr.startEngine(&quot;eng&quot;, Ocr.SPEED_SLOW);\nString s = ocr.recognize(new File[]{new File(&quot;img.png&quot;)}, Ocr.RECOGNIZE_TYPE_TEXT, Ocr.OUTPUT_FORMAT_PLAINTEXT);\nSystem.out.println(&quot;Result: &quot; + s);\nocr.stopEngine();\n</code></pre>\n<p>And</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n    &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n    &lt;version&gt;5.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n//+ installed tesseract-ocr - 5.3.1.20230401\n\nTesseract tesseract = new Tesseract();\ntesseract.setDatapath(&quot;D:\\\\programming\\\\tessaract-ocr\\\\tessdata&quot;);\nString text = tesseract.doOCR(new File(&quot;img.png&quot;));\nSystem.out.print(text);\n</code></pre>\n<p>But in both cases the output is just some random chars.</p>\n<p>There is a way that I can read the numbers from image?</p>\n<p>Edit1: I tried with bigger numbers, and still the same problem:</p>\n<p><a href=\"https://i.stack.imgur.com/7AGYz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7AGYz.png\" alt=\"bigger numbers\" /></a></p>\n"},{"tags":["java","spring","dependency-inversion"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1681770260,"post_id":76039575,"comment_id":134107679,"body_markdown":"Try removing @Repository from the interface.  Or add @Primary to `DefaultFooBarRepository`.  And see @Conditional when there are multiple instances to choose from.","body":"Try removing @Repository from the interface.  Or add @Primary to <code>DefaultFooBarRepository</code>.  And see @Conditional when there are multiple instances to choose from."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681799190,"post_id":76039575,"comment_id":134110448,"body_markdown":"Hi G. &#128075;, Same reason/issue as with [other question](https://stackoverflow.com/q/75860160/592355): While it is *theoretically* possible to `@Autowire` &quot;methods&quot; (im- vs. ex-plicitly!) ...&quot;I never saw this&quot; except for -getter/setter, -`@Configuration#Bean`, -&quot;constructor&quot; &quot;methods&quot;… With &quot;handler methods&quot; you create an ambiguity (for the handling of method parameters) So &quot;implicit autowiring&quot; is no option (for &quot;handler methods&quot;) at all! ..I will/can try/test &quot;explicit auto wiring&quot;, but have few hope.. :)","body":"Hi G. 👋, Same reason/issue as with <a href=\"https://stackoverflow.com/q/75860160/592355\">other question</a>: While it is <i>theoretically</i> possible to <code>@Autowire</code> &quot;methods&quot; (im- vs. ex-plicitly!) ...&quot;I never saw this&quot; except for -getter/setter, -<code>@Configuration#Bean</code>, -&quot;constructor&quot; &quot;methods&quot;… With &quot;handler methods&quot; you create an ambiguity (for the handling of method parameters) So &quot;implicit autowiring&quot; is no option (for &quot;handler methods&quot;) at all! ..I will/can try/test &quot;explicit auto wiring&quot;, but have few hope.. :)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1681799391,"post_id":76039575,"comment_id":134110491,"body_markdown":"Also when (trying to) doing so, you have to make (at least few) considerations about &quot;scope&quot;.... While a &quot;controller/repository/service/...&quot; is &quot;singleton&quot; by default... A &quot;handler method&quot; is &quot;request[-session]-scopable&quot; ;)","body":"Also when (trying to) doing so, you have to make (at least few) considerations about &quot;scope&quot;.... While a &quot;controller/repository/service/...&quot; is &quot;singleton&quot; by default... A &quot;handler method&quot; is &quot;request[-session]-scopable&quot; ;)"}],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681770555,"creation_date":1681770555,"answer_id":76039741,"question_id":76039575,"body_markdown":"I think the problem here is the same one in https://stackoverflow.com/q/75860160 : Spring doesn&#39;t do normal injection in the controller request handlers, but instead only supports a limited number of objects. Full dependency injection only works in the constructor.\r\n\r\nSo I moved the injection to the controller constructor, and it worked fine, even for the interface:\r\n\r\n```java\r\npublic FooBarController(FooBarRepository fooBarRepository) {\r\n  …\r\n}\r\n```","title":"Spring inject interface in controller request handler method when implementation annotated","body":"<p>I think the problem here is the same one in <a href=\"https://stackoverflow.com/q/75860160\">Spring MVC inject `Environment` in constructor but not in request handler method</a> : Spring doesn't do normal injection in the controller request handlers, but instead only supports a limited number of objects. Full dependency injection only works in the constructor.</p>\n<p>So I moved the injection to the controller constructor, and it worked fine, even for the interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public FooBarController(FooBarRepository fooBarRepository) {\n  …\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682176681,"creation_date":1681804709,"answer_id":76042127,"question_id":76039575,"body_markdown":"Hmhmh, &quot;explicit auto-wiring&quot; (so *using* the `@Autowired` annotation) seems NOT to help!\r\n\r\n- [https://start.spring.io](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.5&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web)\r\n- and very basic sample:\r\n\r\n   ```lang-java\r\n   package com.example.demo;\r\n\r\n   /* import org.springframework...*/\r\n\r\n   @SpringBootApplication\r\n   public class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n     SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Component\r\n    static class SomeBean {\r\n\r\n    }\r\n\r\n    @Controller\r\n    static class DemoController {\r\n     @GetMapping(&quot;/hello&quot;)\r\n     public @ResponseBody String hello(@Autowired SomeBean someBean, String q) {\r\n      System.err.println(someBean);\r\n      return &quot;Hello, &quot; + q;\r\n     }\r\n    }\r\n   }\r\n   ```\r\n... works NOT as expected! (`someBean` reference changes with every request ;(;(\r\n\r\n... &quot;SomeBean&quot; is treated as [&quot;Controller method argument&quot;][1], and corresponds with (last row/entry):\r\n\r\n&gt;Any other argument\r\n\r\n&gt;If a method argument is not matched to any of the earlier values in this table and it is a simple type (as determined by `BeanUtils#isSimpleProperty`), it is resolved as a `@RequestParam`. Otherwise, it is resolved as a `@ModelAttribute`.\r\n\r\n(spring-web populates this &quot;param/attrib&quot; via existing default/resolvable constructor)\r\n\r\n\r\n----------\r\n\r\nDoing (e.g.) so:\r\n\r\n```lang-java\r\n@Controller\r\nstatic class DemoController {\r\n\r\n  @Autowired SomeBean someBean;\r\n\r\n  @GetMapping(&quot;/hello&quot;)\r\n  public @ResponseBody String hello(String q) {\r\n    System.err.println(someBean);\r\n\treturn &quot;Hello, &quot; + q;\r\n  }\r\n}\r\n```\r\n(moving `someBean` to an  &quot;autowired field&quot;,) &quot;fix-/changes everything&quot;/works as expected.\r\n\r\n\r\n----------\r\n\r\n### Overall Scenario\r\n\r\n&gt; Accessing a (rarely changing) &quot;list of values&quot; via thymeleaf:spring-mvc\r\n\r\n[`@ModelAttribute`][2] (on controller(!)/method level) is documented/recommended by both, [spring][3] and [thymeleaf][4].\r\n\r\n```lang-java\r\n// in your @[Rest]Controller (annotated) class (to be tested with: @ControllerAdvice!=;)\r\n@ModelAttribute(&quot;fooBars&quot;)\r\npublic List&lt;FooBarVO&gt; fooBars(/* also with arguments like @PathVariable, @RequestParam, ...*/) {\r\n  return fooRepository.findAll(); // or even fooService.findAllCached()... fooRepository/-Service comes through &quot;normal&quot; spring dependency injection (of your choice... manual/auto/exotic ((final/)field/accessor/(constuctor/)parameter...)\r\n}\r\n```\r\n\r\nTo access (in all templates rendered by this controller class) like:\r\n```lang-html\r\n&lt;xx th:each=&quot;foo : ${fooBars}&quot;&gt;\r\n  ...\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ModelAttribute.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-method-args\r\n  [4]: https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html","title":"Spring inject interface in controller request handler method when implementation annotated","body":"<p>Hmhmh, &quot;explicit auto-wiring&quot; (so <em>using</em> the <code>@Autowired</code> annotation) seems NOT to help!</p>\n<ul>\n<li><p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.5&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web\" rel=\"nofollow noreferrer\">https://start.spring.io</a></p>\n</li>\n<li><p>and very basic sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\n/* import org.springframework...*/\n\n@SpringBootApplication\npublic class DemoApplication {\n\n  public static void main(String[] args) {\n   SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @Component\n  static class SomeBean {\n\n  }\n\n  @Controller\n  static class DemoController {\n   @GetMapping(&quot;/hello&quot;)\n   public @ResponseBody String hello(@Autowired SomeBean someBean, String q) {\n    System.err.println(someBean);\n    return &quot;Hello, &quot; + q;\n   }\n  }\n}\n</code></pre>\n</li>\n</ul>\n<p>... works NOT as expected! (<code>someBean</code> reference changes with every request ;(;(</p>\n<p>... &quot;SomeBean&quot; is treated as <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments\" rel=\"nofollow noreferrer\">&quot;Controller method argument&quot;</a>, and corresponds with (last row/entry):</p>\n<blockquote>\n<p>Any other argument</p>\n</blockquote>\n<blockquote>\n<p>If a method argument is not matched to any of the earlier values in this table and it is a simple type (as determined by <code>BeanUtils#isSimpleProperty</code>), it is resolved as a <code>@RequestParam</code>. Otherwise, it is resolved as a <code>@ModelAttribute</code>.</p>\n</blockquote>\n<p>(spring-web populates this &quot;param/attrib&quot; via existing default/resolvable constructor)</p>\n<hr />\n<p>Doing (e.g.) so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\nstatic class DemoController {\n\n  @Autowired SomeBean someBean;\n\n  @GetMapping(&quot;/hello&quot;)\n  public @ResponseBody String hello(String q) {\n    System.err.println(someBean);\n    return &quot;Hello, &quot; + q;\n  }\n}\n</code></pre>\n<p>(moving <code>someBean</code> to an  &quot;autowired field&quot;,) &quot;fix-/changes everything&quot;/works as expected.</p>\n<hr />\n<h3>Overall Scenario</h3>\n<blockquote>\n<p>Accessing a (rarely changing) &quot;list of values&quot; via thymeleaf:spring-mvc</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ModelAttribute.html\" rel=\"nofollow noreferrer\"><code>@ModelAttribute</code></a> (on controller(!)/method level) is documented/recommended by both, <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-modelattrib-method-args\" rel=\"nofollow noreferrer\">spring</a> and <a href=\"https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html\" rel=\"nofollow noreferrer\">thymeleaf</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// in your @[Rest]Controller (annotated) class (to be tested with: @ControllerAdvice!=;)\n@ModelAttribute(&quot;fooBars&quot;)\npublic List&lt;FooBarVO&gt; fooBars(/* also with arguments like @PathVariable, @RequestParam, ...*/) {\n  return fooRepository.findAll(); // or even fooService.findAllCached()... fooRepository/-Service comes through &quot;normal&quot; spring dependency injection (of your choice... manual/auto/exotic ((final/)field/accessor/(constuctor/)parameter...)\n}\n</code></pre>\n<p>To access (in all templates rendered by this controller class) like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;xx th:each=&quot;foo : ${fooBars}&quot;&gt;\n  ...\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682176681,"creation_date":1681768502,"question_id":76039575,"body_markdown":"I have a simple `FooBarRepository` interface. I have a single implementation called `DefaultFooBarRespository`, which looks like this:\r\n\r\n```java\r\n@Repository(&quot;fooBarRepository&quot;)\r\npublic class DefaultFooBarRepository implements FooBarRepository {\r\n  …\r\n}\r\n```\r\n\r\nI know that Spring is instantiating `DefaultFooBarRepository` and giving it a bean name of `fooBarRepository`, because in my Thymeleaf view I can do something like:\r\n\r\n```html\r\n&lt;li th:each=&quot;fooBar: ${@fooBarRepository.getFooBars()}&quot; …\r\n```\r\n\r\nAs we all know, it&#39;s best to program to interfaces. After all I might want to wire up a different implementation of `FooBarRepository` at some point. So in my MVC controller `FooBarController` I try to inject the interface:\r\n\r\n```\r\n@GetMapping\r\npublic String getFooBars(FooBarRepository repository) {\r\n  …\r\n}\r\n```\r\n\r\nThat results in an error:\r\n\r\n&gt; `java.lang.IllegalStateException: No primary or single unique constructor found for interface ….FooBarRepository`\r\n\r\nSpring I suppose is trying to create an instance of `FooBarRepository`, not realizing that the `DefaultFooBarRepository` it already created is an instance of `FooBarRepository`.\r\n\r\nI imagine I could create a separate class annotated with `@Configuration` and have a method that returns an `FooBarRepository`. I could even probably inject the `DefaultFooBarRepository` instance into this method and return it as the `FooBarRepository`.\r\n\r\nBut why should I have to do all that? Spring is already creating a `DefaultFooBarRepository`, adding it to the context, giving it a bean name, etc. How can I tell Spring simply to register the `DefaultFooBarRepository` with the `FooBarRepository` interface rather than the `DefaultFooBarRepository` implementation? Is there another annotation or an annotation parameter I can add to `DefaultFooBarRepository` or something?\r\n\r\n_Update:_ And this is even stranger: in `FooBarController` I tried to inject `DefaultFooBarRepository`:\r\n\r\n```\r\n@GetMapping\r\npublic String getFooBars(DefaultFooBarRepository repository) {\r\n  …\r\n}\r\n```\r\n\r\nThen I get another error saying that one of the parameters of the `DefaultFooBarRepository` constructor is `null`—specifically a `@ConfigurationProperties` annotated class `AppProperties`. It appears that in the controller `GET` handler it&#39;s trying to create an instance of `DefaultFooBarRepository`. But Spring should have already scanned the classes and instantiated both `AppProperties` and `DefaultFooBarRepository`. And we know it did, because as I mentioned the Thymeleaf view can access `@fooBarRepository.getFooBars()`. What am I missing here? Why can&#39;t the controller see any of the bean classes the the view can see?","title":"Spring inject interface in controller request handler method when implementation annotated","body":"<p>I have a simple <code>FooBarRepository</code> interface. I have a single implementation called <code>DefaultFooBarRespository</code>, which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository(&quot;fooBarRepository&quot;)\npublic class DefaultFooBarRepository implements FooBarRepository {\n  …\n}\n</code></pre>\n<p>I know that Spring is instantiating <code>DefaultFooBarRepository</code> and giving it a bean name of <code>fooBarRepository</code>, because in my Thymeleaf view I can do something like:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;li th:each=&quot;fooBar: ${@fooBarRepository.getFooBars()}&quot; …\n</code></pre>\n<p>As we all know, it's best to program to interfaces. After all I might want to wire up a different implementation of <code>FooBarRepository</code> at some point. So in my MVC controller <code>FooBarController</code> I try to inject the interface:</p>\n<pre><code>@GetMapping\npublic String getFooBars(FooBarRepository repository) {\n  …\n}\n</code></pre>\n<p>That results in an error:</p>\n<blockquote>\n<p><code>java.lang.IllegalStateException: No primary or single unique constructor found for interface ….FooBarRepository</code></p>\n</blockquote>\n<p>Spring I suppose is trying to create an instance of <code>FooBarRepository</code>, not realizing that the <code>DefaultFooBarRepository</code> it already created is an instance of <code>FooBarRepository</code>.</p>\n<p>I imagine I could create a separate class annotated with <code>@Configuration</code> and have a method that returns an <code>FooBarRepository</code>. I could even probably inject the <code>DefaultFooBarRepository</code> instance into this method and return it as the <code>FooBarRepository</code>.</p>\n<p>But why should I have to do all that? Spring is already creating a <code>DefaultFooBarRepository</code>, adding it to the context, giving it a bean name, etc. How can I tell Spring simply to register the <code>DefaultFooBarRepository</code> with the <code>FooBarRepository</code> interface rather than the <code>DefaultFooBarRepository</code> implementation? Is there another annotation or an annotation parameter I can add to <code>DefaultFooBarRepository</code> or something?</p>\n<p><em>Update:</em> And this is even stranger: in <code>FooBarController</code> I tried to inject <code>DefaultFooBarRepository</code>:</p>\n<pre><code>@GetMapping\npublic String getFooBars(DefaultFooBarRepository repository) {\n  …\n}\n</code></pre>\n<p>Then I get another error saying that one of the parameters of the <code>DefaultFooBarRepository</code> constructor is <code>null</code>—specifically a <code>@ConfigurationProperties</code> annotated class <code>AppProperties</code>. It appears that in the controller <code>GET</code> handler it's trying to create an instance of <code>DefaultFooBarRepository</code>. But Spring should have already scanned the classes and instantiated both <code>AppProperties</code> and <code>DefaultFooBarRepository</code>. And we know it did, because as I mentioned the Thymeleaf view can access <code>@fooBarRepository.getFooBars()</code>. What am I missing here? Why can't the controller see any of the bean classes the the view can see?</p>\n"},{"tags":["java","json","spring-boot","jackson","deserialization"],"comments":[{"owner":{"account_id":20575533,"reputation":21,"user_id":15102806,"display_name":"Bharadwaj Joshi"},"score":0,"creation_date":1682092168,"post_id":76074747,"comment_id":134166312,"body_markdown":"EDIT: I want to take this JSON and convert it back to the Sale Object using Jackson ObjectMapper.readValue(json, Sale.class);","body":"EDIT: I want to take this JSON and convert it back to the Sale Object using Jackson ObjectMapper.readValue(json, Sale.class);"},{"owner":{"account_id":20575533,"reputation":21,"user_id":15102806,"display_name":"Bharadwaj Joshi"},"score":0,"creation_date":1682096879,"post_id":76074747,"comment_id":134167373,"body_markdown":"@OleV.V. yes, that was a typo. I&#39;m using com.fasterxml.jackson.annotation.JsonFormat (capital F)","body":"@OleV.V. yes, that was a typo. I&#39;m using com.fasterxml.jackson.annotation.JsonFormat (capital F)"},{"owner":{"account_id":20575533,"reputation":21,"user_id":15102806,"display_name":"Bharadwaj Joshi"},"score":0,"creation_date":1682097279,"post_id":76074747,"comment_id":134167436,"body_markdown":"@OleV.V. yes, you will be able to deserialize it because the format was : &quot;saleDateTime&quot;:&quot;2023-04-04T16:28:45&quot; after serializing. Now, how will you deserialize it if the format was what I&#39;ve shown in my main question? Bcoz that&#39;s how I am getting it from my DB. I want to be able to write a custom deserializer for that format of date data because we have a lot of production data like that. I will have to find a way to deserialize objects given a date like that. I hope it made sense.","body":"@OleV.V. yes, you will be able to deserialize it because the format was : &quot;saleDateTime&quot;:&quot;2023-04-04T16:28:45&quot; after serializing. Now, how will you deserialize it if the format was what I&#39;ve shown in my main question? Bcoz that&#39;s how I am getting it from my DB. I want to be able to write a custom deserializer for that format of date data because we have a lot of production data like that. I will have to find a way to deserialize objects given a date like that. I hope it made sense."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682157447,"post_id":76074747,"comment_id":134173520,"body_markdown":"Are you storing JSON in your database? In one of my previous projects we did that, partly because we were required to document what JSON we had sent to some other party. It gave us a lot of problems.","body":"Are you storing JSON in your database? In one of my previous projects we did that, partly because we were required to document what JSON we had sent to some other party. It gave us a lot of problems."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682157602,"post_id":76074747,"comment_id":134173530,"body_markdown":"Preferred solution: If the JSON was generated from Java (which it probably is since the date and time can probably only be a serialized `LocalDateTime`), find the library and settings used for that, and it will probably be able to deserialize back. Could even be a Jackson version from before your organization started using jackson-datatype-jr310.","body":"Preferred solution: If the JSON was generated from Java (which it probably is since the date and time can probably only be a serialized <code>LocalDateTime</code>), find the library and settings used for that, and it will probably be able to deserialize back. Could even be a Jackson version from before your organization started using jackson-datatype-jr310."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682160039,"post_id":76074747,"comment_id":134173799,"body_markdown":"If the preferred solution in my previous comment cannot work, there’s the more handheld solution: Fit your `Sale` class with a method for unpacking the sales datetime structure into a `LocalDateTime` as described [on Baeldung](https://www.baeldung.com/jackson-nested-values), section 5 (and definitely other places too). Your method will receive a map of maps of `Integer` with the numbers from JSON.","body":"If the preferred solution in my previous comment cannot work, there’s the more handheld solution: Fit your <code>Sale</code> class with a method for unpacking the sales datetime structure into a <code>LocalDateTime</code> as described <a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">on Baeldung</a>, section 5 (and definitely other places too). Your method will receive a map of maps of <code>Integer</code> with the numbers from JSON."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682160049,"post_id":76074747,"comment_id":134173801,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253282/discussion-between-ole-v-v-and-bharadwaj-joshi).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253282/discussion-between-ole-v-v-and-bharadwaj-joshi\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682176356,"creation_date":1682176356,"answer_id":76080345,"question_id":76074747,"body_markdown":"The following works. Essentially it&#39;s your third option - not sure what you missed.\r\n\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.time.LocalDateTime;\r\n    \r\n    import com.example.demo.model.Sale;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.node.IntNode;\r\n    \r\n    public class CustomLocalDateTimeDeserializer extends StdDeserializer&lt;LocalDateTime&gt; { \r\n    public CustomLocalDateTimeDeserializer() { \r\n        this(null); \r\n    } \r\n\r\n    public CustomLocalDateTimeDeserializer(Class&lt;?&gt; vc) { \r\n        super(vc); \r\n    }\r\n\r\n    @Override\r\n    public LocalDateTime deserialize(JsonParser jp, DeserializationContext ctxt) \r\n      throws IOException, JsonProcessingException {\r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        \r\n        JsonNode date = node.get(&quot;date&quot;);\r\n        int year = (Integer) ((IntNode) date.get(&quot;year&quot;)).numberValue();\r\n\t\tint month = (Integer) ((IntNode) date.get(&quot;month&quot;)).numberValue();\r\n\t\tint dayOfMonth = (Integer) ((IntNode) date.get(&quot;day&quot;)).numberValue();\r\n        \r\n        \r\n        JsonNode time = node.get(&quot;time&quot;);\r\n \t\tint hour = (Integer) ((IntNode) time.get(&quot;hour&quot;)).numberValue();\r\n\t\tint minute = (Integer) ((IntNode) time.get(&quot;minute&quot;)).numberValue();\r\n\t\tint second = (Integer) ((IntNode) time.get(&quot;second&quot;)).numberValue();\r\n\t\tint nanoOfSecond = (Integer) ((IntNode) time.get(&quot;nano&quot;)).numberValue();\r\n       \t\r\n\t\treturn LocalDateTime.of(year, month, dayOfMonth, hour, minute, second, nanoOfSecond);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n    \tObjectMapper mapper = new ObjectMapper();\r\n    \tSimpleModule module = new SimpleModule();\r\n    \tmodule.addDeserializer(LocalDateTime.class, new CustomLocalDateTimeDeserializer());\r\n    \tmapper.registerModule(module);\r\n    \t\r\n    \t\r\n    \tString json = &quot;{\\r\\n&quot; + \r\n    \t\t\t&quot;   \\&quot;storeNumber\\&quot;: \\&quot;023\\&quot;,\\r\\n&quot; + \r\n    \t\t\t&quot;   \\&quot;saleDateTime\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t&quot;     \\&quot;date\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;year\\&quot; : 2023,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;month\\&quot; : 4,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;day\\&quot; : 4\\r\\n&quot; + \r\n    \t\t\t&quot;     },\\r\\n&quot; + \r\n    \t\t\t&quot;     \\&quot;time\\&quot;: {\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;hour\\&quot; : 16,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;minute\\&quot; : 28,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;second\\&quot; : 45,\\r\\n&quot; + \r\n    \t\t\t&quot;      \\&quot;nano\\&quot; : 0\\r\\n&quot; + \r\n    \t\t\t&quot;     }\\r\\n&quot; + \r\n    \t\t\t&quot;  }\\r\\n&quot; + \r\n    \t\t\t&quot;}&quot;;\r\n    \t\r\n\r\n    \tSale readValue = mapper.readValue(json, Sale.class);\r\n    \t\r\n    \tSystem.out.println(readValue);\r\n    }\r\n\r\n    }\r\n\r\nOutput is as follows:\r\n\r\n    Sale(storeNumber=023, saleDateTime=2023-04-04T16:28:45)\r\n\r\nDependencies - nothing special\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Deserialize JSON Date which is in timestamp format to Java Object which has LocalDatetime","body":"<p>The following works. Essentially it's your third option - not sure what you missed.</p>\n<pre><code>import java.io.IOException;\nimport java.time.LocalDateTime;\n\nimport com.example.demo.model.Sale;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.node.IntNode;\n\npublic class CustomLocalDateTimeDeserializer extends StdDeserializer&lt;LocalDateTime&gt; { \npublic CustomLocalDateTimeDeserializer() { \n    this(null); \n} \n\npublic CustomLocalDateTimeDeserializer(Class&lt;?&gt; vc) { \n    super(vc); \n}\n\n@Override\npublic LocalDateTime deserialize(JsonParser jp, DeserializationContext ctxt) \n  throws IOException, JsonProcessingException {\n    JsonNode node = jp.getCodec().readTree(jp);\n    \n    JsonNode date = node.get(&quot;date&quot;);\n    int year = (Integer) ((IntNode) date.get(&quot;year&quot;)).numberValue();\n    int month = (Integer) ((IntNode) date.get(&quot;month&quot;)).numberValue();\n    int dayOfMonth = (Integer) ((IntNode) date.get(&quot;day&quot;)).numberValue();\n    \n    \n    JsonNode time = node.get(&quot;time&quot;);\n    int hour = (Integer) ((IntNode) time.get(&quot;hour&quot;)).numberValue();\n    int minute = (Integer) ((IntNode) time.get(&quot;minute&quot;)).numberValue();\n    int second = (Integer) ((IntNode) time.get(&quot;second&quot;)).numberValue();\n    int nanoOfSecond = (Integer) ((IntNode) time.get(&quot;nano&quot;)).numberValue();\n    \n    return LocalDateTime.of(year, month, dayOfMonth, hour, minute, second, nanoOfSecond);\n}\n\npublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(LocalDateTime.class, new CustomLocalDateTimeDeserializer());\n    mapper.registerModule(module);\n    \n    \n    String json = &quot;{\\r\\n&quot; + \n            &quot;   \\&quot;storeNumber\\&quot;: \\&quot;023\\&quot;,\\r\\n&quot; + \n            &quot;   \\&quot;saleDateTime\\&quot;: {\\r\\n&quot; + \n            &quot;     \\&quot;date\\&quot;: {\\r\\n&quot; + \n            &quot;      \\&quot;year\\&quot; : 2023,\\r\\n&quot; + \n            &quot;      \\&quot;month\\&quot; : 4,\\r\\n&quot; + \n            &quot;      \\&quot;day\\&quot; : 4\\r\\n&quot; + \n            &quot;     },\\r\\n&quot; + \n            &quot;     \\&quot;time\\&quot;: {\\r\\n&quot; + \n            &quot;      \\&quot;hour\\&quot; : 16,\\r\\n&quot; + \n            &quot;      \\&quot;minute\\&quot; : 28,\\r\\n&quot; + \n            &quot;      \\&quot;second\\&quot; : 45,\\r\\n&quot; + \n            &quot;      \\&quot;nano\\&quot; : 0\\r\\n&quot; + \n            &quot;     }\\r\\n&quot; + \n            &quot;  }\\r\\n&quot; + \n            &quot;}&quot;;\n    \n\n    Sale readValue = mapper.readValue(json, Sale.class);\n    \n    System.out.println(readValue);\n}\n\n}\n</code></pre>\n<p>Output is as follows:</p>\n<pre><code>Sale(storeNumber=023, saleDateTime=2023-04-04T16:28:45)\n</code></pre>\n<p>Dependencies - nothing special</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":20575533,"reputation":21,"user_id":15102806,"display_name":"Bharadwaj Joshi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682176356,"creation_date":1682091923,"question_id":76074747,"body_markdown":"Project Details:\r\nSpring Boot with Gradle\r\n\r\nMy java class:\r\n```\r\npublic class Sale{\r\n   private String storeNumber;\r\n   @JsonFormat(pattern  = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n   private LocalDateTime saleDateTime;\r\n   // getter, setter\r\n}\r\n```\r\n\r\nThis object gets serialized as JSON and looks like:\r\n```\r\n{\r\n   &quot;storeNumber&quot;: &quot;023&quot;,\r\n   &quot;saleDateTime&quot;: {\r\n     &quot;date&quot;: {\r\n      &quot;year&quot; : 2023,\r\n      &quot;month&quot; : 4,\r\n      &quot;day&quot; : 4\r\n     },\r\n     &quot;time&quot;: {\r\n      &quot;hour&quot; : 16,\r\n      &quot;minute&quot; : 28,\r\n      &quot;second&quot; : 45,\r\n      &quot;nano&quot; : 0\r\n     }\r\n  }\r\n}\r\n```\r\n\r\nI want to take this JSON and convert it back to the Sale Object using Jackson ObjectMapper.readValue(json, Sale.class);\r\nHow will you deserialize it from format shown? Because that&#39;s how I am getting it from my DB. I want to be able to write a custom deserializer for that format of date data because we have a lot of production data like that. I will have to find a way to deserialize objects given a date like that. \r\n\r\nWhat I have tried so far:\r\n- added gradle dependency of jackson-datatype-jr310\r\n- registered JavaTimeModule as mapper.registerModule(new JavaTimeModule());\r\n- made a custom deserializer extending JsonDeserializer&lt;LocalDateTime&gt; and Overriding public LocalDateTime deserialize(JsonParser p, DeserializationContext context) and registering the same with ObjectMapper as mapper.registerModule(LocalDateTime.class, new CustomDeserializer())\r\n\r\nBut it&#39;s not working. I get the Jackon MismatchedInputException: Cannot deserialize value of type &#39;java.time.LocalDateTime&#39; from Object value (token &#39;JsonToken.START_OBJECT&#39;)\r\n","title":"Deserialize JSON Date which is in timestamp format to Java Object which has LocalDatetime","body":"<p>Project Details:\nSpring Boot with Gradle</p>\n<p>My java class:</p>\n<pre><code>public class Sale{\n   private String storeNumber;\n   @JsonFormat(pattern  = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n   private LocalDateTime saleDateTime;\n   // getter, setter\n}\n</code></pre>\n<p>This object gets serialized as JSON and looks like:</p>\n<pre><code>{\n   &quot;storeNumber&quot;: &quot;023&quot;,\n   &quot;saleDateTime&quot;: {\n     &quot;date&quot;: {\n      &quot;year&quot; : 2023,\n      &quot;month&quot; : 4,\n      &quot;day&quot; : 4\n     },\n     &quot;time&quot;: {\n      &quot;hour&quot; : 16,\n      &quot;minute&quot; : 28,\n      &quot;second&quot; : 45,\n      &quot;nano&quot; : 0\n     }\n  }\n}\n</code></pre>\n<p>I want to take this JSON and convert it back to the Sale Object using Jackson ObjectMapper.readValue(json, Sale.class);\nHow will you deserialize it from format shown? Because that's how I am getting it from my DB. I want to be able to write a custom deserializer for that format of date data because we have a lot of production data like that. I will have to find a way to deserialize objects given a date like that.</p>\n<p>What I have tried so far:</p>\n<ul>\n<li>added gradle dependency of jackson-datatype-jr310</li>\n<li>registered JavaTimeModule as mapper.registerModule(new JavaTimeModule());</li>\n<li>made a custom deserializer extending JsonDeserializer and Overriding public LocalDateTime deserialize(JsonParser p, DeserializationContext context) and registering the same with ObjectMapper as mapper.registerModule(LocalDateTime.class, new CustomDeserializer())</li>\n</ul>\n<p>But it's not working. I get the Jackon MismatchedInputException: Cannot deserialize value of type 'java.time.LocalDateTime' from Object value (token 'JsonToken.START_OBJECT')</p>\n"},{"tags":["java","apache-kafka","spring-webflux","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682170588,"creation_date":1682170588,"answer_id":76079926,"question_id":76078612,"body_markdown":"You don&#39;t provide topics to consume from.\r\nSee these options of the `ReceiverOptions`:\r\n\r\n    /**\r\n     * Sets subscription using manual assignment to the specified partitions.\r\n     * This assignment is enabled when the receive Flux of a {@link KafkaReceiver} using this\r\n     * options instance is subscribed to. Any existing subscriptions or assignments on this\r\n     * option are deleted.\r\n     * @return options instance with new partition assignment\r\n     */\r\n    @NonNull\r\n    ReceiverOptions&lt;K, V&gt; assignment(Collection&lt;TopicPartition&gt; partitions);\r\n\r\n    /**\r\n     * Sets subscription using group management to the specified collection of topics.\r\n     * This subscription is enabled when the receive Flux of a {@link KafkaReceiver} using this\r\n     * options instance is subscribed to. Any existing subscriptions or assignments on this\r\n     * option are deleted.\r\n     * @return options instance with new subscription\r\n     */\r\n    @NonNull\r\n    ReceiverOptions&lt;K, V&gt; subscription(Collection&lt;String&gt; topics);\r\n\r\n    /**\r\n     * Sets subscription using group management to the specified pattern.\r\n     * This subscription is enabled when the receive Flux of a {@link KafkaReceiver} using this\r\n     * options instance is subscribed to. Any existing subscriptions or assignments on this\r\n     * option are deleted. Topics are dynamically assigned or removed when topics\r\n     * matching the pattern are created or deleted.\r\n     * @return options instance with new subscription\r\n     */\r\n    @NonNull\r\n    ReceiverOptions&lt;K, V&gt; subscription(Pattern pattern);","title":"Spring webFlux No subscriptions have been created for Kafka Streams","body":"<p>You don't provide topics to consume from.\nSee these options of the <code>ReceiverOptions</code>:</p>\n<pre><code>/**\n * Sets subscription using manual assignment to the specified partitions.\n * This assignment is enabled when the receive Flux of a {@link KafkaReceiver} using this\n * options instance is subscribed to. Any existing subscriptions or assignments on this\n * option are deleted.\n * @return options instance with new partition assignment\n */\n@NonNull\nReceiverOptions&lt;K, V&gt; assignment(Collection&lt;TopicPartition&gt; partitions);\n\n/**\n * Sets subscription using group management to the specified collection of topics.\n * This subscription is enabled when the receive Flux of a {@link KafkaReceiver} using this\n * options instance is subscribed to. Any existing subscriptions or assignments on this\n * option are deleted.\n * @return options instance with new subscription\n */\n@NonNull\nReceiverOptions&lt;K, V&gt; subscription(Collection&lt;String&gt; topics);\n\n/**\n * Sets subscription using group management to the specified pattern.\n * This subscription is enabled when the receive Flux of a {@link KafkaReceiver} using this\n * options instance is subscribed to. Any existing subscriptions or assignments on this\n * option are deleted. Topics are dynamically assigned or removed when topics\n * matching the pattern are created or deleted.\n * @return options instance with new subscription\n */\n@NonNull\nReceiverOptions&lt;K, V&gt; subscription(Pattern pattern);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4801578,"reputation":81,"user_id":3878073,"display_name":"user3878073"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682176257,"creation_date":1682176257,"answer_id":76080338,"question_id":76078612,"body_markdown":"for streaming we need to add receiver options so in the configuration i made the following changes \r\n\r\n    @Bean\r\n        public ReceiverOptions&lt;String, String&gt; \r\n\r\n    kafkaReceiverOptions(KafkaProperties kafkaProperties) {\r\n            ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(kafkaProperties.buildConsumerProperties());\r\n            return basicReceiverOptions.subscription(Collections.singletonList(&quot;topic_name&quot;))\r\n                    .addAssignListener(receiverPartitions -&gt; System.out.println(&quot;onPartitionAssigned &quot;+ receiverPartitions))\r\n                    .addRevokeListener(receiverPartitions -&gt; System.out.println(&quot;onPartitionsRevoked &quot;+ receiverPartitions));\r\n        }\r\n\r\n\r\nand in the consumerTemplate \r\n\r\n \r\n\r\n    @Bean\r\n        public ReactiveKafkaConsumerTemplate&lt;String, String&gt; reactiveKafkaConsumerTemplateTemplate(\r\n                ReceiverOptions&lt;String, String&gt; kafkaReceiverOptions) {\r\n            return new ReactiveKafkaConsumerTemplate&lt;&gt;(kafkaReceiverOptions);\r\n        }\r\n\r\n","title":"Spring webFlux No subscriptions have been created for Kafka Streams","body":"<p>for streaming we need to add receiver options so in the configuration i made the following changes</p>\n<pre><code>@Bean\n    public ReceiverOptions&lt;String, String&gt; \n\nkafkaReceiverOptions(KafkaProperties kafkaProperties) {\n        ReceiverOptions&lt;String, String&gt; basicReceiverOptions = ReceiverOptions.create(kafkaProperties.buildConsumerProperties());\n        return basicReceiverOptions.subscription(Collections.singletonList(&quot;topic_name&quot;))\n                .addAssignListener(receiverPartitions -&gt; System.out.println(&quot;onPartitionAssigned &quot;+ receiverPartitions))\n                .addRevokeListener(receiverPartitions -&gt; System.out.println(&quot;onPartitionsRevoked &quot;+ receiverPartitions));\n    }\n</code></pre>\n<p>and in the consumerTemplate</p>\n<pre><code>@Bean\n    public ReactiveKafkaConsumerTemplate&lt;String, String&gt; reactiveKafkaConsumerTemplateTemplate(\n            ReceiverOptions&lt;String, String&gt; kafkaReceiverOptions) {\n        return new ReactiveKafkaConsumerTemplate&lt;&gt;(kafkaReceiverOptions);\n    }\n</code></pre>\n"}],"owner":{"account_id":4801578,"reputation":81,"user_id":3878073,"display_name":"user3878073"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76079926,"answer_count":2,"score":0,"last_activity_date":1682176257,"creation_date":1682150678,"question_id":76078612,"body_markdown":"i&#39;m trying to publish message to a Kafka topic using spring web-flux, these are the configurations \r\n\r\n\r\n    @Bean\r\n        public ReactiveKafkaProducerTemplate&lt;String, String&gt; reactiveKafkaProducerTemplate(\r\n                KafkaProperties properties) {\r\n            Map&lt;String, Object&gt; props = properties.buildProducerProperties();\r\n            return new ReactiveKafkaProducerTemplate&lt;String, String&gt;(SenderOptions.create(props));\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    @Bean\r\n        public ReactiveKafkaConsumerTemplate&lt;String, String&gt; reactiveKafkaConsumerTemplateTemplate(\r\n                KafkaProperties properties) {\r\n            Map&lt;String, Object&gt; props = properties.buildConsumerProperties();\r\n            return new ReactiveKafkaConsumerTemplate&lt;&gt;(ReceiverOptions.create(props));\r\n        }\r\n\r\n\r\nThen i try to stream all the values present in the topic\r\n\r\n     @GetMapping(value = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;String&gt; postToKafka() {\r\n        return consumerTemplate.receiveAtMostOnce().map(rec -&gt; rec.value()).doOnNext(System.out::println);\r\n    \r\n    \r\n    }\r\n\r\nbut instead of getting data present in the topics i&#39;m getting these error \r\n\r\njava.lang.IllegalStateException: No subscriptions have been created\r\n\tat reactor.kafka.receiver.ReceiverOptions.subscriber(ReceiverOptions.java:385) ~[reactor-kafka-1.3.3.jar:1.3.3]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ Handler \r\n\r\n","title":"Spring webFlux No subscriptions have been created for Kafka Streams","body":"<p>i'm trying to publish message to a Kafka topic using spring web-flux, these are the configurations</p>\n<pre><code>@Bean\n    public ReactiveKafkaProducerTemplate&lt;String, String&gt; reactiveKafkaProducerTemplate(\n            KafkaProperties properties) {\n        Map&lt;String, Object&gt; props = properties.buildProducerProperties();\n        return new ReactiveKafkaProducerTemplate&lt;String, String&gt;(SenderOptions.create(props));\n\n\n\n    }\n\n\n@Bean\n    public ReactiveKafkaConsumerTemplate&lt;String, String&gt; reactiveKafkaConsumerTemplateTemplate(\n            KafkaProperties properties) {\n        Map&lt;String, Object&gt; props = properties.buildConsumerProperties();\n        return new ReactiveKafkaConsumerTemplate&lt;&gt;(ReceiverOptions.create(props));\n    }\n</code></pre>\n<p>Then i try to stream all the values present in the topic</p>\n<pre><code> @GetMapping(value = &quot;/stream&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;String&gt; postToKafka() {\n    return consumerTemplate.receiveAtMostOnce().map(rec -&gt; rec.value()).doOnNext(System.out::println);\n\n\n}\n</code></pre>\n<p>but instead of getting data present in the topics i'm getting these error</p>\n<p>java.lang.IllegalStateException: No subscriptions have been created\nat reactor.kafka.receiver.ReceiverOptions.subscriber(ReceiverOptions.java:385) ~[reactor-kafka-1.3.3.jar:1.3.3]\nSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nError has been observed at the following site(s):\n*__checkpoint ⇢ Handler</p>\n"},{"tags":["javascript","java","vue.js","cors"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1682184153,"post_id":76080282,"comment_id":134176791,"body_markdown":"check here: https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application","body":"check here: <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\" title=\"how to configure cors in a spring boot spring security application\">stackoverflow.com/questions/36968963/&hellip;</a>"}],"owner":{"account_id":24698282,"reputation":81,"user_id":18589924,"display_name":"4SadMemeXD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682175480,"creation_date":1682175480,"question_id":76080282,"body_markdown":"I have controller like this\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/country/&quot;)\r\n    @RequiredArgsConstructor\r\n    @CrossOrigin(origins = &quot;http://localhost:8082&quot;)\r\n    public class CountryController {\r\n        private final CountryService countryService;\r\n    \r\n        @GetMapping(&quot;getAll&quot;)\r\n        public ResponseEntity&lt;GetAllCountriesResponse&gt; getAllCountries() {\r\n            return ResponseEntity.ok(countryService.getAllCountriesResponse());\r\n        }\r\n    }\r\n\r\nand i&#39;m trying to send request from vue js app on http://localhost:8082/ to server on http://localhost:8081/\r\n\r\nlike so \r\n\r\naxios(&quot;http://localhost:8081/api/v1/country/getAll&quot;)\r\n\r\nwhen i&#39;m using postman everything is fine, but when i try to do this in vue js i get \r\n\r\nAcess to XMLHttpRequest at &#39;http://localhost:8081/api/v1/country/getAll&#39; from origin &#39;http://localhost:8082&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nHow can i configure this on spring v3.0.1\r\n","title":"Can&#39;t configure Cors on java spring / vue js","body":"<p>I have controller like this</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/country/&quot;)\n@RequiredArgsConstructor\n@CrossOrigin(origins = &quot;http://localhost:8082&quot;)\npublic class CountryController {\n    private final CountryService countryService;\n\n    @GetMapping(&quot;getAll&quot;)\n    public ResponseEntity&lt;GetAllCountriesResponse&gt; getAllCountries() {\n        return ResponseEntity.ok(countryService.getAllCountriesResponse());\n    }\n}\n</code></pre>\n<p>and i'm trying to send request from vue js app on http://localhost:8082/ to server on http://localhost:8081/</p>\n<p>like so</p>\n<p>axios(&quot;http://localhost:8081/api/v1/country/getAll&quot;)</p>\n<p>when i'm using postman everything is fine, but when i try to do this in vue js i get</p>\n<p>Acess to XMLHttpRequest at 'http://localhost:8081/api/v1/country/getAll' from origin 'http://localhost:8082' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>How can i configure this on spring v3.0.1</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682165724,"post_id":75880081,"comment_id":134174366,"body_markdown":"I have updated my answer with good news.","body":"I have updated my answer with good news."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682174223,"creation_date":1680185942,"answer_id":75889411,"question_id":75880081,"body_markdown":"I suspect the issue is the use of `consumes = MediaType.APPLICATION_JSON_VALUE`. It should be `consumes = {MediaType.APPLICATION_NDJSON_VALUE}`. Similarly, on the client `.contentType(MediaType.APPLICATION_JSON)` should be `.contentType(MediaType.APPLICATION_NDJSON)`\r\n\r\nHere is a complete example (client &amp; server) of passing a `Flux&lt;Integer&gt;` as body *and* receiving one as a response.\r\n\r\n**Controller**\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import reactor.core.publisher.Flux;\r\n    \r\n    @RestController\r\n    public class MyController {\r\n    \r\n    \t@PostMapping(path = &quot;/post&quot;, consumes = {MediaType.APPLICATION_NDJSON_VALUE})\r\n    \tFlux&lt;Integer&gt; create(@RequestBody Flux&lt;Integer&gt; integerStream) {\r\n    \t\tintegerStream.log().subscribe(i -&gt; {\r\n    \t\t\tSystem.out.println(i);\r\n    \t\t});\r\n    \r\n    \t\treturn Flux.just(5, 6, 7);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Client**\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    import reactor.core.publisher.Flux;\r\n    \r\n    public class PostFlux {\r\n    \r\n        private static WebClient webClient = WebClient.create(&quot;http://localhost:8080&quot;);\r\n    \r\n        public static void main(String[] args) {\r\n    \t\r\n    \t    Flux&lt;Integer&gt; integerFlux = Flux.just(1, 2, 3, 4, 5);\r\n    \r\n    \t    Flux&lt;Integer&gt; result = webClient.post().uri(&quot;/post&quot;).contentType(MediaType.APPLICATION_NDJSON)\r\n    \t\t\t.body(integerFlux, Integer.class).retrieve().bodyToFlux(Integer.class);\r\n    \t\t\t\r\n    \t    List&lt;Integer&gt; list = result.collectList().block();\r\n    \t\r\n    \t    System.out.println(list);\r\n        }\r\n    \r\n    }\r\n\r\nDependencies\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt; &lt;!--or 2.7.10 --&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;monostuff&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;monostuff&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;&lt;!--or 11 --&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nThe server can also be tested with a curl as follows. Note how a Flux is posted using newlines between each value.\r\n\r\nWindows: `curl http://localhost:8080/post -H &quot;Content-type: application/x-ndjson&quot; --data &quot;1\\n2\\n3\\n4\\n&quot;`\r\n\r\nUnix: curl `&#39;http://localhost:8080/post&#39; --header &#39;Content-type: application/x-ndjson&#39; --data &#39;1\\n2\\n3\\n4\\n&#39;`\r\n\r\nThe server can be tested with Postman by following the accepted answer [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45437217/how-to-send-elasticsearch-multi-search-request-in-postman\r\n\r\n\r\n","title":"How to send a flux of integers from one microservice to another","body":"<p>I suspect the issue is the use of <code>consumes = MediaType.APPLICATION_JSON_VALUE</code>. It should be <code>consumes = {MediaType.APPLICATION_NDJSON_VALUE}</code>. Similarly, on the client <code>.contentType(MediaType.APPLICATION_JSON)</code> should be <code>.contentType(MediaType.APPLICATION_NDJSON)</code></p>\n<p>Here is a complete example (client &amp; server) of passing a <code>Flux&lt;Integer&gt;</code> as body <em>and</em> receiving one as a response.</p>\n<p><strong>Controller</strong></p>\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport reactor.core.publisher.Flux;\n\n@RestController\npublic class MyController {\n\n    @PostMapping(path = &quot;/post&quot;, consumes = {MediaType.APPLICATION_NDJSON_VALUE})\n    Flux&lt;Integer&gt; create(@RequestBody Flux&lt;Integer&gt; integerStream) {\n        integerStream.log().subscribe(i -&gt; {\n            System.out.println(i);\n        });\n\n        return Flux.just(5, 6, 7);\n    }\n\n}\n</code></pre>\n<p><strong>Client</strong></p>\n<pre><code>import java.util.List;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport reactor.core.publisher.Flux;\n\npublic class PostFlux {\n\n    private static WebClient webClient = WebClient.create(&quot;http://localhost:8080&quot;);\n\n    public static void main(String[] args) {\n    \n        Flux&lt;Integer&gt; integerFlux = Flux.just(1, 2, 3, 4, 5);\n\n        Flux&lt;Integer&gt; result = webClient.post().uri(&quot;/post&quot;).contentType(MediaType.APPLICATION_NDJSON)\n            .body(integerFlux, Integer.class).retrieve().bodyToFlux(Integer.class);\n            \n        List&lt;Integer&gt; list = result.collectList().block();\n    \n        System.out.println(list);\n    }\n\n}\n</code></pre>\n<p>Dependencies</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt; &lt;!--or 2.7.10 --&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;monostuff&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;monostuff&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;&lt;!--or 11 --&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The server can also be tested with a curl as follows. Note how a Flux is posted using newlines between each value.</p>\n<p>Windows: <code>curl http://localhost:8080/post -H &quot;Content-type: application/x-ndjson&quot; --data &quot;1\\n2\\n3\\n4\\n&quot;</code></p>\n<p>Unix: curl <code>'http://localhost:8080/post' --header 'Content-type: application/x-ndjson' --data '1\\n2\\n3\\n4\\n'</code></p>\n<p>The server can be tested with Postman by following the accepted answer <a href=\"https://stackoverflow.com/questions/45437217/how-to-send-elasticsearch-multi-search-request-in-postman\">here</a>.</p>\n"}],"owner":{"account_id":11387612,"reputation":51,"user_id":8348819,"display_name":"Ronit Nath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1682174223,"creation_date":1680109054,"question_id":75880081,"body_markdown":"I am new to Spring WebFlux and WebClient. I am working on a PoC where I have designed two microservices. I am trying to send a flux of integers using a post request from service A which I intend to consume in service B. I took help from the [link][1] to develop the  the sender (A) and the receiver (B) code.\r\n\r\n**Service A:**\r\n\r\n```\r\n Flux&lt;Integer&gt; integerFlux = Flux.just(1,2,3,4,5);\r\n WebClient.create(&quot;http://localhost:9002/registry&quot;)\r\n          .post()\r\n          .uri(&quot;/packages&quot;)\r\n          .contentType(MediaType.APPLICATION_JSON)\r\n          .body(integerFlux, Integer.class)\r\n          .retrieve()\r\n          .bodyToMono(Void.class)\r\n          .block();\r\n```\r\n\r\n**Service B:**\r\n\r\n```\r\n    @PostMapping(value = &quot;/packages&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Void&gt; createPackage(@RequestBody Flux&lt;Integer&gt; integerFlux) {\r\n        this.registryService.createPackage(integerFlux);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nWhen I execute the post request from service A, I get the following error logs:\r\n\r\n**Service A:**\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://localhost:9002/registry/packages\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:239) ~[spring-webflux-5.3.24.jar:5.3.24]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ 500 from POST http://localhost:9002/registry/packages [DefaultWebClient]\r\n```\r\n\r\n**Service B:**\r\n\r\n```\r\n Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class reactor.core.publisher.Flux]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `reactor.core.publisher.Flux` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `reactor.core.publisher.Flux` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n```\r\n\r\n\r\nI also tried changing the content-type to **application/nd-json**, but in that case I am getting a **415 Unsupported Media Type Error**. The fix in this [link][2] did not help me either.\r\n\r\nCan anyone help me understand where am I going wrong?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69142662/is-it-possible-to-pass-flux-to-the-body-of-webclient-post\r\n  [2]: https://stackoverflow.com/questions/49299224/cannot-construct-instance-of-reactor-core-publisher-mono-spring-cloud-openfeig","title":"How to send a flux of integers from one microservice to another","body":"<p>I am new to Spring WebFlux and WebClient. I am working on a PoC where I have designed two microservices. I am trying to send a flux of integers using a post request from service A which I intend to consume in service B. I took help from the <a href=\"https://stackoverflow.com/questions/69142662/is-it-possible-to-pass-flux-to-the-body-of-webclient-post\">link</a> to develop the  the sender (A) and the receiver (B) code.</p>\n<p><strong>Service A:</strong></p>\n<pre><code> Flux&lt;Integer&gt; integerFlux = Flux.just(1,2,3,4,5);\n WebClient.create(&quot;http://localhost:9002/registry&quot;)\n          .post()\n          .uri(&quot;/packages&quot;)\n          .contentType(MediaType.APPLICATION_JSON)\n          .body(integerFlux, Integer.class)\n          .retrieve()\n          .bodyToMono(Void.class)\n          .block();\n</code></pre>\n<p><strong>Service B:</strong></p>\n<pre><code>    @PostMapping(value = &quot;/packages&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Void&gt; createPackage(@RequestBody Flux&lt;Integer&gt; integerFlux) {\n        this.registryService.createPackage(integerFlux);\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n    }\n</code></pre>\n<p>When I execute the post request from service A, I get the following error logs:</p>\n<p><strong>Service A:</strong></p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException$InternalServerError: 500 Internal Server Error from POST http://localhost:9002/registry/packages\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:239) ~[spring-webflux-5.3.24.jar:5.3.24]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ 500 from POST http://localhost:9002/registry/packages [DefaultWebClient]\n</code></pre>\n<p><strong>Service B:</strong></p>\n<pre><code> Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class reactor.core.publisher.Flux]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `reactor.core.publisher.Flux` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `reactor.core.publisher.Flux` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n</code></pre>\n<p>I also tried changing the content-type to <strong>application/nd-json</strong>, but in that case I am getting a <strong>415 Unsupported Media Type Error</strong>. The fix in this <a href=\"https://stackoverflow.com/questions/49299224/cannot-construct-instance-of-reactor-core-publisher-mono-spring-cloud-openfeig\">link</a> did not help me either.</p>\n<p>Can anyone help me understand where am I going wrong?</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682173637,"creation_date":1682173637,"answer_id":76080152,"question_id":76079492,"body_markdown":"I think you have some issue here in this part of code. Check again as to which layout you want to inflate with which view.\r\n\r\n    binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();`\r\n\r\n\r\nI have a feeling that binding.getRoot() is not returning FirstFragment as it should. Why dont you debug and verify if its indeed returning &#39;FirstFragment&#39;.","title":"Cannot resolve symbol &quot;editText&quot; android | binding","body":"<p>I think you have some issue here in this part of code. Check again as to which layout you want to inflate with which view.</p>\n<pre><code>binding = FragmentFirstBinding.inflate(inflater, container, false);\n    return binding.getRoot();`\n</code></pre>\n<p>I have a feeling that binding.getRoot() is not returning FirstFragment as it should. Why dont you debug and verify if its indeed returning 'FirstFragment'.</p>\n"}],"owner":{"account_id":23873359,"reputation":175,"user_id":17874799,"display_name":"User1986"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682173637,"creation_date":1682164308,"question_id":76079492,"body_markdown":"I&#39;m currently making an android app, and it all works. Here is my code for the first fragment:\r\n```\r\npackage com.example.matha;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\n\r\nimport com.example.matha.databinding.FragmentFirstBinding;\r\n\r\npublic class FirstFragment extends Fragment {\r\n    int correct_answer;\r\n    private FragmentFirstBinding binding;\r\n    private MathQuiz mathQuiz;\r\n\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        mathQuiz = new MathQuiz();\r\n        askQuestion();\r\n\r\n\r\n        /*\r\n        binding.answerEt.setOnEditorActionListener(new EditText.OnEditorActionListener() {\r\n            @Override\r\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                    String answerString = binding.answerEt.getText().toString();\r\n                    int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\r\n                    System.out.println(&quot;USER SAID: &quot; + answer);\r\n\r\n                    boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\r\n                    if (correct) {\r\n                        askQuestion();\r\n                    } else {\r\n                        //updateLives();\r\n                        askQuestion();\r\n                    }\r\n                    binding.answerEt.setText(&quot;&quot;);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        */\r\n\r\n\r\n\r\n        binding.submitButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String answerString = binding.answerEt.getText().toString();\r\n                int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\r\n                System.out.println(&quot;USER SAID: &quot;+answer);\r\n\r\n                boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\r\n                if (correct) {\r\n                    askQuestion();\r\n                } else {\r\n                    //updateLives();\r\n                    askQuestion();\r\n\r\n                }\r\n                binding.answerEt.setText(&quot;&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void askQuestion() {\r\n        MathQuiz.MyQuestion question = mathQuiz.generateQuestion();\r\n        correct_answer = question.correct;\r\n        binding.questionTw.setText(String.valueOf(question.string));\r\n\r\n    }\r\n\r\n    private void updateLives() {\r\n        int lives = mathQuiz.getLives();\r\n        if (lives &lt;= 0) {\r\n\r\n        }}}\r\n```\r\n\r\nand here is my MathQuiz:\r\n```\r\npackage com.example.matha;\r\nimport java.util.Random;\r\n\r\npublic class MathQuiz {\r\n    int xmin = 1;\r\n    int xmax = 25;\r\n    int ymin = 1;\r\n    int ymax = 25;\r\n    int score = 0;\r\n\r\n    int allowed_fails = 3;\r\n    int allowed_corrects = 10;\r\n\r\n    int correct_answer = 0;\r\n    int x = 0;\r\n    int y = 0;\r\n    int questions_correct = 0;\r\n    int questions_wrong = 0;\r\n    private Random random;\r\n\r\n    private int lives;\r\n    private int numQuestions;\r\n\r\n    public MathQuiz() {\r\n        random = new Random();\r\n        score = 0;\r\n        lives = 3;\r\n        numQuestions = 0;\r\n    }\r\n\r\n    public MyQuestion generateQuestion() {\r\n        x = (int) (Math.random() * (xmax - xmin + 1)) + xmin;\r\n        y = (int) (Math.random() * (ymax - ymin + 1)) + ymin;\r\n        MyQuestion question = new MyQuestion();\r\n        question.correct = x * y;\r\n        question.string = x +&quot;*&quot;+y;\r\n        return question;\r\n    }\r\n    public class MyQuestion {\r\n        public String string;\r\n        public int correct;\r\n    }\r\n    public boolean checkAnswer(int answer, int correct_answer) {\r\n        boolean correct = answer == correct_answer;\r\n        if (correct) {\r\n            score++;\r\n        } else {\r\n            lives--;\r\n        }\r\n        numQuestions++;\r\n        return correct;\r\n    }\r\n\r\n    public int getScore() {\r\n        return score;\r\n    }\r\n\r\n    public int getLives() {\r\n        return lives;\r\n    }\r\n\r\n    public int getNumQuestions() {\r\n        return numQuestions;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHere is my xml:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/answer_et&quot;\r\n        android:layout_width=&quot;300sp&quot;\r\n        android:layout_height=&quot;100sp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;numberDecimal&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.412&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/question_tw&quot;\r\n        android:layout_width=&quot;248dp&quot;\r\n        android:layout_height=&quot;73dp&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:layout_marginBottom=&quot;78dp&quot;\r\n        android:text=&quot;x * y&quot;\r\n        android:textSize=&quot;34sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/answer_et&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.291&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/score_tw&quot;\r\n        android:layout_width=&quot;92dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:text=&quot;Score:&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/lives_tw&quot;\r\n        android:layout_width=&quot;92dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_marginStart=&quot;210dp&quot;\r\n        android:text=&quot;Lives:&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/score_tw&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/submitButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Submit&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/answer_et&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\nI&#39;m trying to make the function that gets executed when the &quot;submit button&quot; is pressed get executed when this little check icon gets pressed (bottom left):\r\n[![enter image description here][1]][1]\r\n\r\nI tried the following:\r\n```\r\nbinding.answerEt.setOnEditorActionListener(new EditText.OnEditorActionListener() {\r\n            @Override\r\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\r\n                    String answerString = binding.answerEt.getText().toString();\r\n                    int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\r\n                    System.out.println(&quot;USER SAID: &quot; + answer);\r\n\r\n                    boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\r\n                    if (correct) {\r\n                        askQuestion();\r\n                    } else {\r\n                        //updateLives();\r\n                        askQuestion();\r\n                    }\r\n                    binding.answerEt.setText(&quot;&quot;);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n   ```\r\n\r\n\r\nBut it wont work and gives 5 errors:\r\nCannot resolve symbol &#39;EditText&#39;\r\nMethod does not override method from its superclass\r\nCannot resolve symbol &#39;TextView&#39;\r\nCannot resolve symbol &#39;KeyEvent&#39;\r\nCannot resolve symbol &#39;EditorInfo&#39;\r\n\r\nI tried a lot but i don&#39;t know how to fix this. Does anybody know a resource where the stuff like buttons, and edittext gets teached?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/egVko.png","title":"Cannot resolve symbol &quot;editText&quot; android | binding","body":"<p>I'm currently making an android app, and it all works. Here is my code for the first fragment:</p>\n<pre><code>package com.example.matha;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.fragment.NavHostFragment;\n\nimport com.example.matha.databinding.FragmentFirstBinding;\n\npublic class FirstFragment extends Fragment {\n    int correct_answer;\n    private FragmentFirstBinding binding;\n    private MathQuiz mathQuiz;\n\n    @Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        binding = FragmentFirstBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        mathQuiz = new MathQuiz();\n        askQuestion();\n\n\n        /*\n        binding.answerEt.setOnEditorActionListener(new EditText.OnEditorActionListener() {\n            @Override\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\n                    String answerString = binding.answerEt.getText().toString();\n                    int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\n                    System.out.println(&quot;USER SAID: &quot; + answer);\n\n                    boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\n                    if (correct) {\n                        askQuestion();\n                    } else {\n                        //updateLives();\n                        askQuestion();\n                    }\n                    binding.answerEt.setText(&quot;&quot;);\n                    return true;\n                }\n                return false;\n            }\n        });\n        */\n\n\n\n        binding.submitButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String answerString = binding.answerEt.getText().toString();\n                int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\n                System.out.println(&quot;USER SAID: &quot;+answer);\n\n                boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\n                if (correct) {\n                    askQuestion();\n                } else {\n                    //updateLives();\n                    askQuestion();\n\n                }\n                binding.answerEt.setText(&quot;&quot;);\n            }\n        });\n    }\n\n    private void askQuestion() {\n        MathQuiz.MyQuestion question = mathQuiz.generateQuestion();\n        correct_answer = question.correct;\n        binding.questionTw.setText(String.valueOf(question.string));\n\n    }\n\n    private void updateLives() {\n        int lives = mathQuiz.getLives();\n        if (lives &lt;= 0) {\n\n        }}}\n</code></pre>\n<p>and here is my MathQuiz:</p>\n<pre><code>package com.example.matha;\nimport java.util.Random;\n\npublic class MathQuiz {\n    int xmin = 1;\n    int xmax = 25;\n    int ymin = 1;\n    int ymax = 25;\n    int score = 0;\n\n    int allowed_fails = 3;\n    int allowed_corrects = 10;\n\n    int correct_answer = 0;\n    int x = 0;\n    int y = 0;\n    int questions_correct = 0;\n    int questions_wrong = 0;\n    private Random random;\n\n    private int lives;\n    private int numQuestions;\n\n    public MathQuiz() {\n        random = new Random();\n        score = 0;\n        lives = 3;\n        numQuestions = 0;\n    }\n\n    public MyQuestion generateQuestion() {\n        x = (int) (Math.random() * (xmax - xmin + 1)) + xmin;\n        y = (int) (Math.random() * (ymax - ymin + 1)) + ymin;\n        MyQuestion question = new MyQuestion();\n        question.correct = x * y;\n        question.string = x +&quot;*&quot;+y;\n        return question;\n    }\n    public class MyQuestion {\n        public String string;\n        public int correct;\n    }\n    public boolean checkAnswer(int answer, int correct_answer) {\n        boolean correct = answer == correct_answer;\n        if (correct) {\n            score++;\n        } else {\n            lives--;\n        }\n        numQuestions++;\n        return correct;\n    }\n\n    public int getScore() {\n        return score;\n    }\n\n    public int getLives() {\n        return lives;\n    }\n\n    public int getNumQuestions() {\n        return numQuestions;\n    }\n\n}\n\n</code></pre>\n<p>Here is my xml:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.FirstFragment&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/answer_et&quot;\n        android:layout_width=&quot;300sp&quot;\n        android:layout_height=&quot;100sp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;numberDecimal&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.412&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/question_tw&quot;\n        android:layout_width=&quot;248dp&quot;\n        android:layout_height=&quot;73dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:layout_marginBottom=&quot;78dp&quot;\n        android:text=&quot;x * y&quot;\n        android:textSize=&quot;34sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/answer_et&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.291&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/score_tw&quot;\n        android:layout_width=&quot;92dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:text=&quot;Score:&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/lives_tw&quot;\n        android:layout_width=&quot;92dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_marginStart=&quot;210dp&quot;\n        android:text=&quot;Lives:&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/score_tw&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.022&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/submitButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Submit&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/answer_et&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I'm trying to make the function that gets executed when the &quot;submit button&quot; is pressed get executed when this little check icon gets pressed (bottom left):\n<a href=\"https://i.stack.imgur.com/egVko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/egVko.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried the following:</p>\n<pre><code>binding.answerEt.setOnEditorActionListener(new EditText.OnEditorActionListener() {\n            @Override\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n                if (actionId == EditorInfo.IME_ACTION_DONE) {\n                    String answerString = binding.answerEt.getText().toString();\n                    int answer = answerString.isEmpty() ? 0 : Integer.parseInt(answerString);\n                    System.out.println(&quot;USER SAID: &quot; + answer);\n\n                    boolean correct = mathQuiz.checkAnswer(answer, correct_answer);\n                    if (correct) {\n                        askQuestion();\n                    } else {\n                        //updateLives();\n                        askQuestion();\n                    }\n                    binding.answerEt.setText(&quot;&quot;);\n                    return true;\n                }\n                return false;\n            }\n        });\n</code></pre>\n<p>But it wont work and gives 5 errors:\nCannot resolve symbol 'EditText'\nMethod does not override method from its superclass\nCannot resolve symbol 'TextView'\nCannot resolve symbol 'KeyEvent'\nCannot resolve symbol 'EditorInfo'</p>\n<p>I tried a lot but i don't know how to fix this. Does anybody know a resource where the stuff like buttons, and edittext gets teached?</p>\n"},{"tags":["java","android","mongodb","android-studio","realm"],"answers":[{"tags":[],"owner":{"account_id":28380102,"reputation":26,"user_id":21707509,"display_name":"3speedy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682173626,"creation_date":1682173626,"answer_id":76080151,"question_id":76067151,"body_markdown":"I&#39;ve had the same problem.\r\n\r\nI updated the Realm Gradle plugin to version 10.15.1:\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.0.0&#39;\r\n        classpath &#39;io.realm:realm-gradle-plugin:10.15.1&#39;\r\n    }\r\n\r\nThe error disappeared after a sync and rebuild of the project.\r\n\r\nMy Android studio Grandle JDK are 17.0.6.\r\n\r\nI hope these tips are helpful to you.","title":"Realm Local Database not working with Android Studio (Java)","body":"<p>I've had the same problem.</p>\n<p>I updated the Realm Gradle plugin to version 10.15.1:</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:8.0.0'\n    classpath 'io.realm:realm-gradle-plugin:10.15.1'\n}\n</code></pre>\n<p>The error disappeared after a sync and rebuild of the project.</p>\n<p>My Android studio Grandle JDK are 17.0.6.</p>\n<p>I hope these tips are helpful to you.</p>\n"}],"owner":{"account_id":18052367,"reputation":25,"user_id":13121718,"display_name":"Dushyant Kumar Behera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76080151,"answer_count":1,"score":1,"last_activity_date":1682173626,"creation_date":1682014768,"question_id":76067151,"body_markdown":"This is added to my build.gradle Project file:\r\n\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;io.realm:realm-gradle-plugin:10.15.0&quot;\r\n    }\r\n}\r\n```\r\n\r\nThis is added to my build.gradle Application file:\r\n\r\n```\r\napply plugin: &quot;realm-android&quot;\r\n\r\nimplementation &#39;io.realm:realm-gradle-plugin:10.15.0&#39;\r\n```\r\n\r\nError is:\r\n\r\n```\r\n&gt; java.lang.IllegalAccessError: class io.realm.processor.Utils (in unnamed module @0x319c63c6) cannot access class com.sun.tools.javac.code.Symbol$ClassSymbol (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.code to unnamed module @0x319c63c6\r\n```\r\n\r\n\r\nGradle Sync is successful but Build fails with error described. I am using AGP 8.0.0 and Gradle version 8.1 with Java version VERSION_11 and min sdk 24 and target sdk 33.","title":"Realm Local Database not working with Android Studio (Java)","body":"<p>This is added to my build.gradle Project file:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;io.realm:realm-gradle-plugin:10.15.0&quot;\n    }\n}\n</code></pre>\n<p>This is added to my build.gradle Application file:</p>\n<pre><code>apply plugin: &quot;realm-android&quot;\n\nimplementation 'io.realm:realm-gradle-plugin:10.15.0'\n</code></pre>\n<p>Error is:</p>\n<pre><code>&gt; java.lang.IllegalAccessError: class io.realm.processor.Utils (in unnamed module @0x319c63c6) cannot access class com.sun.tools.javac.code.Symbol$ClassSymbol (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.code to unnamed module @0x319c63c6\n</code></pre>\n<p>Gradle Sync is successful but Build fails with error described. I am using AGP 8.0.0 and Gradle version 8.1 with Java version VERSION_11 and min sdk 24 and target sdk 33.</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":271918,"reputation":839,"user_id":562714,"accept_rate":25,"display_name":"Harsha"},"score":0,"creation_date":1682175144,"post_id":76080148,"comment_id":134175630,"body_markdown":"Another question on the same, why there is no thread switching ? Is it the developers responsibility to specify the scheduler? When using any async based third party api&#39;s like r2dbc or some file based api&#39;s do they have some internal mechanism to switch the thread ?","body":"Another question on the same, why there is no thread switching ? Is it the developers responsibility to specify the scheduler? When using any async based third party api&#39;s like r2dbc or some file based api&#39;s do they have some internal mechanism to switch the thread ?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1682176741,"post_id":76080148,"comment_id":134175836,"body_markdown":"@Harsha Question about the threading mechanic would be a completely different question than this one. The documentation of the library you are using explain if they are using threads or not.","body":"@Harsha Question about the threading mechanic would be a completely different question than this one. The documentation of the library you are using explain if they are using threads or not."}],"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682173619,"creation_date":1682173619,"answer_id":76080148,"question_id":76079957,"body_markdown":"Regardless of using reactive programming via Mono or not, when a method it called, the code it contains will be executed. So when your method\r\n\r\n    public Mono&lt;Void&gt; getMono3() {\r\n\r\n        log.info(&quot;Message from thread: {} and method mono3&quot;, Thread.currentThread().getId());\r\n        return Mono.empty();\r\n    }\r\n\r\nis called, it will generate the log entry.\r\n\r\nWhen you have the following line\r\n\r\n    fromRunnable2.then(getMono3()).then(getMono4()).subscribe();\r\n\r\nthe methods `getMono3()` and `getMono4()` have to be called to evaluate this statement. **But** they have to be called. This means you get the log entries\r\n\r\n    19:07:10.980 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono3\r\n    19:07:10.981 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono4\r\n\r\nbecause java will evaluate your expression to finally something like\r\n\r\n    fromRunnable2.then(Mono.empty()).then(Mono.empty()).subscribe();\r\n\r\nAfter that, when the log entries are already generated, your subscription will run and you get the `message from main2` message from the \r\n\r\n    Mono&lt;Void&gt; fromRunnable2 = Mono.fromRunnable(() -&gt; log.info(&quot;message from main2&quot;);\r\n\r\nrunnable. That&#39;s why you get the log entries from `mono3` and `mono4` &quot;first&quot;, and then the log entry &quot;message from main2&quot;.\r\n\r\nBasically, your `log.info()` calls are not &quot;in the chain&quot; of the Mono subscription (like in `getMono1()` and `getMono2()`).","title":"What&#39;s the difference between the following code blocks","body":"<p>Regardless of using reactive programming via Mono or not, when a method it called, the code it contains will be executed. So when your method</p>\n<pre><code>public Mono&lt;Void&gt; getMono3() {\n\n    log.info(&quot;Message from thread: {} and method mono3&quot;, Thread.currentThread().getId());\n    return Mono.empty();\n}\n</code></pre>\n<p>is called, it will generate the log entry.</p>\n<p>When you have the following line</p>\n<pre><code>fromRunnable2.then(getMono3()).then(getMono4()).subscribe();\n</code></pre>\n<p>the methods <code>getMono3()</code> and <code>getMono4()</code> have to be called to evaluate this statement. <strong>But</strong> they have to be called. This means you get the log entries</p>\n<pre><code>19:07:10.980 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono3\n19:07:10.981 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono4\n</code></pre>\n<p>because java will evaluate your expression to finally something like</p>\n<pre><code>fromRunnable2.then(Mono.empty()).then(Mono.empty()).subscribe();\n</code></pre>\n<p>After that, when the log entries are already generated, your subscription will run and you get the <code>message from main2</code> message from the</p>\n<pre><code>Mono&lt;Void&gt; fromRunnable2 = Mono.fromRunnable(() -&gt; log.info(&quot;message from main2&quot;);\n</code></pre>\n<p>runnable. That's why you get the log entries from <code>mono3</code> and <code>mono4</code> &quot;first&quot;, and then the log entry &quot;message from main2&quot;.</p>\n<p>Basically, your <code>log.info()</code> calls are not &quot;in the chain&quot; of the Mono subscription (like in <code>getMono1()</code> and <code>getMono2()</code>).</p>\n"}],"owner":{"account_id":271918,"reputation":839,"user_id":562714,"accept_rate":25,"display_name":"Harsha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76080148,"answer_count":1,"score":0,"last_activity_date":1682173619,"creation_date":1682171089,"question_id":76079957,"body_markdown":"I am new to reactive programming and want to understand some of the basics.\r\n\r\n     @Test\r\n        public void testMonoThen() {\r\n            Mono&lt;Void&gt; fromRunnable = Mono.fromRunnable(() -&gt; log.info(&quot;message from main&quot;));\r\n            fromRunnable.then(getMono1()).then(getMono2()).subscribe();\r\n    \r\n            //vs\r\n    \r\n            Mono&lt;Void&gt; fromRunnable2 = Mono.fromRunnable(() -&gt; log.info(&quot;message from main2&quot;));\r\n            fromRunnable2.then(getMono3()).then(getMono4()).subscribe();\r\n            \r\n        }\r\n    \r\n        public Mono&lt;Void&gt; getMono1() {\r\n    \r\n            return Mono.fromRunnable(\r\n                    () -&gt; log.info(&quot;Message from thread: {} and method mono1&quot;, Thread.currentThread().getId()));\r\n        }\r\n    \r\n        public Mono&lt;Void&gt; getMono2() {\r\n    \r\n            return Mono.fromRunnable(\r\n                    () -&gt; log.info(&quot;Message from thread: {} and method mono2&quot;, Thread.currentThread().getId()));\r\n        }\r\n    \r\n        public Mono&lt;Void&gt; getMono3() {\r\n    \r\n            log.info(&quot;Message from thread: {} and method mono3&quot;, Thread.currentThread().getId());\r\n            return Mono.empty();\r\n        }\r\n    \r\n        public Mono&lt;Void&gt; getMono4() {\r\n            log.info(&quot;Message from thread: {} and method mono4&quot;, Thread.currentThread().getId());\r\n            return Mono.empty();\r\n        }\r\n\r\nIs there any difference between getMono3 and getMono1 functions from the execution perspective. Why the order of log message is not the same i.e. message from main is not printed in the same order.\r\n\r\noutput:\r\n\r\n    19:07:10.971 [main] DEBUG reactor.util.Loggers - Using Slf4j logging framework\r\n    19:07:10.977 [main] INFO com.reactivetests.SampleTest - message from main\r\n    19:07:10.977 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono1\r\n    19:07:10.979 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono2\r\n    19:07:10.980 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono3\r\n    19:07:10.981 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono4\r\n    19:07:10.981 [main] INFO com.reactivetests.SampleTest - message from main2\r\n\r\n","title":"What&#39;s the difference between the following code blocks","body":"<p>I am new to reactive programming and want to understand some of the basics.</p>\n<pre><code> @Test\n    public void testMonoThen() {\n        Mono&lt;Void&gt; fromRunnable = Mono.fromRunnable(() -&gt; log.info(&quot;message from main&quot;));\n        fromRunnable.then(getMono1()).then(getMono2()).subscribe();\n\n        //vs\n\n        Mono&lt;Void&gt; fromRunnable2 = Mono.fromRunnable(() -&gt; log.info(&quot;message from main2&quot;));\n        fromRunnable2.then(getMono3()).then(getMono4()).subscribe();\n        \n    }\n\n    public Mono&lt;Void&gt; getMono1() {\n\n        return Mono.fromRunnable(\n                () -&gt; log.info(&quot;Message from thread: {} and method mono1&quot;, Thread.currentThread().getId()));\n    }\n\n    public Mono&lt;Void&gt; getMono2() {\n\n        return Mono.fromRunnable(\n                () -&gt; log.info(&quot;Message from thread: {} and method mono2&quot;, Thread.currentThread().getId()));\n    }\n\n    public Mono&lt;Void&gt; getMono3() {\n\n        log.info(&quot;Message from thread: {} and method mono3&quot;, Thread.currentThread().getId());\n        return Mono.empty();\n    }\n\n    public Mono&lt;Void&gt; getMono4() {\n        log.info(&quot;Message from thread: {} and method mono4&quot;, Thread.currentThread().getId());\n        return Mono.empty();\n    }\n</code></pre>\n<p>Is there any difference between getMono3 and getMono1 functions from the execution perspective. Why the order of log message is not the same i.e. message from main is not printed in the same order.</p>\n<p>output:</p>\n<pre><code>19:07:10.971 [main] DEBUG reactor.util.Loggers - Using Slf4j logging framework\n19:07:10.977 [main] INFO com.reactivetests.SampleTest - message from main\n19:07:10.977 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono1\n19:07:10.979 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono2\n19:07:10.980 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono3\n19:07:10.981 [main] INFO com.reactivetests.SampleTest - Message from thread: 1 and method mono4\n19:07:10.981 [main] INFO com.reactivetests.SampleTest - message from main2\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":2252789,"reputation":6208,"user_id":1984680,"accept_rate":99,"display_name":"minerals"},"score":0,"creation_date":1695110718,"post_id":75640395,"comment_id":135976827,"body_markdown":"Rename your `libs` to `rootProject.libs`. The answer was given here: Here is a dup with the answer: https://stackoverflow.com/questions/75547262/gradle-use-central-declaration-of-dependencies-in-subprojects-block","body":"Rename your <code>libs</code> to <code>rootProject.libs</code>. The answer was given here: Here is a dup with the answer: <a href=\"https://stackoverflow.com/questions/75547262/gradle-use-central-declaration-of-dependencies-in-subprojects-block\" title=\"gradle use central declaration of dependencies in subprojects block\">stackoverflow.com/questions/75547262/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4144906,"reputation":1342,"user_id":3795691,"accept_rate":53,"display_name":"Mattia Righetti"},"score":1,"creation_date":1682452301,"post_id":76080144,"comment_id":134217409,"body_markdown":"You might want to be a little more specific with your answer","body":"You might want to be a little more specific with your answer"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682452309,"post_id":76080144,"comment_id":134217412,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76080144/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25620024,"reputation":15,"user_id":19392086,"display_name":"DaVaMu"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1682173579,"creation_date":1682173579,"answer_id":76080144,"question_id":75640395,"body_markdown":"Gradle recommends using this:\r\n\r\n[Convention Plugins][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html#sec:convention_plugins","title":"Why does the dependency declared in libs.versions.toml not work in subprojects?","body":"<p>Gradle recommends using this:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html#sec:convention_plugins\" rel=\"nofollow noreferrer\">Convention Plugins</a></p>\n"}],"owner":{"account_id":23353633,"reputation":61,"user_id":17426905,"display_name":"CoolLoong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682173579,"creation_date":1677994429,"question_id":75640395,"body_markdown":"I&#39;m writing a build script for a multi-module project using gradle 8.0.2, declaring some dependencies in the libs.versions.toml file, and my build script is as follows\r\n```\r\nbuildscript {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        maven {\r\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath(&quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;)\r\n    }\r\n\r\n}\r\n\r\nplugins{\r\n    `kotlin-dsl`\r\n}\r\n\r\ngroup = &quot;xxx&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_19\r\n\r\nsubprojects {\r\n    apply(plugin = &quot;java&quot;)\r\n    apply(plugin = &quot;checkstyle&quot;)\r\n    apply(plugin = &quot;maven-publish&quot;)\r\n    apply(plugin = &quot;com.github.johnrengelman.shadow&quot;)\r\n    // common deps + repos\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        api(libs.jsr305)\r\n        testImplementation(libs.bundles.junit)\r\n\r\n        compileOnly(libs.lombok)\r\n        annotationProcessor(libs.lombok)\r\n\r\n        testCompileOnly(libs.lombok)\r\n        testAnnotationProcessor(libs.lombok)\r\n    }\r\n\r\n    java {\r\n        withSourcesJar()\r\n    }\r\n\r\n    tasks.named&lt;Test&gt;(&quot;test&quot;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n    tasks.withType&lt;JavaCompile&gt;() {\r\n        options.encoding = &quot;UTF-8&quot;\r\n    }\r\n\r\n    tasks.withType&lt;Javadoc&gt;() {\r\n        options.encoding = &quot;UTF-8&quot;\r\n    }\r\n}\r\n```\r\n\r\nI want to apply these common dependencies in each subproject, which are defined in libs.versions.toml, and I can guarantee that libs.versions.toml is written without problems, but I can&#39;t get it to work in subprojects\r\n\r\nError:\r\n```\r\nExtension with name &#39;libs&#39; does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing, checkstyle, publishing, shadow]\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.UnknownDomainObjectException: Extension with name &#39;libs&#39; does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing, checkstyle, publishing, shadow]\r\n```","title":"Why does the dependency declared in libs.versions.toml not work in subprojects?","body":"<p>I'm writing a build script for a multi-module project using gradle 8.0.2, declaring some dependencies in the libs.versions.toml file, and my build script is as follows</p>\n<pre><code>buildscript {\n    repositories {\n        gradlePluginPortal()\n        maven {\n            url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\n        }\n    }\n    dependencies {\n        classpath(&quot;gradle.plugin.com.github.johnrengelman:shadow:7.1.2&quot;)\n    }\n\n}\n\nplugins{\n    `kotlin-dsl`\n}\n\ngroup = &quot;xxx&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_19\n\nsubprojects {\n    apply(plugin = &quot;java&quot;)\n    apply(plugin = &quot;checkstyle&quot;)\n    apply(plugin = &quot;maven-publish&quot;)\n    apply(plugin = &quot;com.github.johnrengelman.shadow&quot;)\n    // common deps + repos\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        api(libs.jsr305)\n        testImplementation(libs.bundles.junit)\n\n        compileOnly(libs.lombok)\n        annotationProcessor(libs.lombok)\n\n        testCompileOnly(libs.lombok)\n        testAnnotationProcessor(libs.lombok)\n    }\n\n    java {\n        withSourcesJar()\n    }\n\n    tasks.named&lt;Test&gt;(&quot;test&quot;) {\n        useJUnitPlatform()\n    }\n\n    tasks.withType&lt;JavaCompile&gt;() {\n        options.encoding = &quot;UTF-8&quot;\n    }\n\n    tasks.withType&lt;Javadoc&gt;() {\n        options.encoding = &quot;UTF-8&quot;\n    }\n}\n</code></pre>\n<p>I want to apply these common dependencies in each subproject, which are defined in libs.versions.toml, and I can guarantee that libs.versions.toml is written without problems, but I can't get it to work in subprojects</p>\n<p>Error:</p>\n<pre><code>Extension with name 'libs' does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing, checkstyle, publishing, shadow]\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.UnknownDomainObjectException: Extension with name 'libs' does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing, checkstyle, publishing, shadow]\n</code></pre>\n"},{"tags":["java","swagger","openapi"],"answers":[{"comments":[{"owner":{"account_id":8572630,"reputation":1229,"user_id":6422944,"display_name":"geeekfa"},"score":1,"creation_date":1604329453,"post_id":64646458,"comment_id":114307253,"body_markdown":"@RequestBody does not have description property.it just have required property.","body":"@RequestBody does not have description property.it just have required property."},{"owner":{"account_id":19879560,"reputation":196,"user_id":14563862,"display_name":"Gabriel Frassl"},"score":1,"creation_date":1604331158,"post_id":64646458,"comment_id":114308064,"body_markdown":"Are you using the right Annotation ? https://docs.swagger.io/swagger-core/v2.1.5/apidocs/io/swagger/v3/oas/annotations/parameters/RequestBody.html\nMaybe you are using the springframework.web... Annotation.\nMaybe your dependency to swagger-annotations points to an outdated version.","body":"Are you using the right Annotation ? <a href=\"https://docs.swagger.io/swagger-core/v2.1.5/apidocs/io/swagger/v3/oas/annotations/parameters/RequestBody.html\" rel=\"nofollow noreferrer\">docs.swagger.io/swagger-core/v2.1.5/apidocs/io/swagger/v3/oa&zwnj;&#8203;s/&hellip;</a> Maybe you are using the springframework.web... Annotation. Maybe your dependency to swagger-annotations points to an outdated version."},{"owner":{"account_id":8572630,"reputation":1229,"user_id":6422944,"display_name":"geeekfa"},"score":3,"creation_date":1604393732,"post_id":64646458,"comment_id":114327206,"body_markdown":"yes my friend . thanks alot . we have two RequestBody.   1) io.swagger.v3.oas.annotations.parameters.RequestBody and 2) org.springframework.web.bind.annotation.RequestBody . I should use io.swagger.v3.oas.annotations.parameters.RequestBody","body":"yes my friend . thanks alot . we have two RequestBody.   1) io.swagger.v3.oas.annotations.parameters.RequestBody and 2) org.springframework.web.bind.annotation.RequestBody . I should use io.swagger.v3.oas.annotations.parameters.RequestBody"}],"tags":[],"owner":{"account_id":19879560,"reputation":196,"user_id":14563862,"display_name":"Gabriel Frassl"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1604323543,"creation_date":1604323543,"answer_id":64646458,"question_id":64645528,"body_markdown":"From your Code Snippet it seems to me as if your description actually belongs into the @RequestBody Annotation instead of the @Schema Annotation.\r\n\r\nWith @Schema you define and describe your Models but what you actually want to do is to describe the parameter in the context of your operation.\r\n\r\nTry something along the lines of:\r\n\r\n    @PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\r\n        public ResponseEntity&lt;Book&gt; addBook(\r\n                @RequestBody(description = &quot;Book to add.&quot;, required = true,\r\n                            content = @Content(\r\n                                    schema=@Schema(implementation = Book.class)))\t\r\n                @Valid Book book\r\n        ) {\r\n            return ResponseEntity.ok(bookRepository.add(Book));\r\n    }","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<p>From your Code Snippet it seems to me as if your description actually belongs into the @RequestBody Annotation instead of the @Schema Annotation.</p>\n<p>With @Schema you define and describe your Models but what you actually want to do is to describe the parameter in the context of your operation.</p>\n<p>Try something along the lines of:</p>\n<pre><code>@PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\n    public ResponseEntity&lt;Book&gt; addBook(\n            @RequestBody(description = &quot;Book to add.&quot;, required = true,\n                        content = @Content(\n                                schema=@Schema(implementation = Book.class)))   \n            @Valid Book book\n    ) {\n        return ResponseEntity.ok(bookRepository.add(Book));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5416397,"reputation":1423,"user_id":4311428,"display_name":"maxeh"},"score":4,"creation_date":1622022637,"post_id":64659696,"comment_id":119668054,"body_markdown":"But when you use the @RequestBody from swagger the JSON mapping does not work anymore, the properties are just null in the controller, do you have a solution for this?","body":"But when you use the @RequestBody from swagger the JSON mapping does not work anymore, the properties are just null in the controller, do you have a solution for this?"},{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":4,"creation_date":1648479537,"post_id":64659696,"comment_id":126628129,"body_markdown":"Use both of them together: `@io.swagger.v3.oas.annotations.parameters.RequestBody(description = &quot;&quot;, required = true, content = @Content(schema = @Schema(implementation = MyClass.class))) @RequestBody MyClass body`","body":"Use both of them together: <code>@io.swagger.v3.oas.annotations.parameters.RequestBody(descri&zwnj;&#8203;ption = &quot;&quot;, required = true, content = @Content(schema = @Schema(implementation = MyClass.class))) @RequestBody MyClass body</code>"}],"tags":[],"owner":{"account_id":8572630,"reputation":1229,"user_id":6422944,"display_name":"geeekfa"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1604394355,"creation_date":1604394355,"answer_id":64659696,"question_id":64645528,"body_markdown":"Thanks to Gabriel Frassl.\r\n\r\nwe should use \r\n\r\n&gt; `io.swagger.v3.oas.annotations.parameters.RequestBody`\r\n\r\n\r\ninstead of \r\n\r\n&gt; `org.springframework.web.bind.annotation.RequestBody`\r\n\r\n\r\n&lt;/br&gt;\r\n\r\n\r\nso we have good stuffs like `description` , `content` , ...\r\n\r\n","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<p>Thanks to Gabriel Frassl.</p>\n<p>we should use</p>\n<blockquote>\n<p><code>io.swagger.v3.oas.annotations.parameters.RequestBody</code></p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p><code>org.springframework.web.bind.annotation.RequestBody</code></p>\n</blockquote>\n\n<p>so we have good stuffs like <code>description</code> , <code>content</code> , ...</p>\n"},{"tags":[],"owner":{"account_id":20717968,"reputation":19,"user_id":15212976,"display_name":"FiveFingers"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1637565760,"creation_date":1637563791,"answer_id":70061879,"question_id":64645528,"body_markdown":"    @PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;Book&gt; addBook(\r\n            @RequestBody(description = &quot;Book to add.&quot;, required = true,\r\n                        content = @Content(\r\n                                schema=@Schema(implementation = Book.class)))   \r\n            @Valid @org.springframework.web.bind.annotation.RequestBody Book book\r\n    ) {\r\n        return ResponseEntity.ok(bookRepository.add(Book));\r\n    }\r\n\r\nFor that I add @RequestBody from springframework. It works to me.","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<pre><code>@PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\npublic ResponseEntity&lt;Book&gt; addBook(\n        @RequestBody(description = &quot;Book to add.&quot;, required = true,\n                    content = @Content(\n                            schema=@Schema(implementation = Book.class)))   \n        @Valid @org.springframework.web.bind.annotation.RequestBody Book book\n) {\n    return ResponseEntity.ok(bookRepository.add(Book));\n}\n</code></pre>\n<p>For that I add @RequestBody from springframework. It works to me.</p>\n"},{"tags":[],"owner":{"account_id":4390305,"reputation":795,"user_id":3586021,"display_name":"Echsecutor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682173279,"creation_date":1682172668,"answer_id":76080079,"question_id":64645528,"body_markdown":"To add to the `io.swagger.v3.oas.annotations.parameters.RequestBody` solution that was pointed out in other answers:\r\n\r\n- Mind that you do not want to remove the `org.springframework.web.bind.annotation` RequestBody Annotation when you add the swagger annotation. This might break the endpoint&#39;s boddy binding.\r\n\r\n- You can also add a `@Parameter(description = &quot;...&quot;)` (i.e. `io.swagger.v3.oas.annotations.Parameter`) to **any** parameter of your endpoint. This works also for `@RequestHeader`, `@PathVariable`,... which might not come with a handy `io.swagger.v3.oas.annotations.parameters` version like `RequestBody`.","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<p>To add to the <code>io.swagger.v3.oas.annotations.parameters.RequestBody</code> solution that was pointed out in other answers:</p>\n<ul>\n<li><p>Mind that you do not want to remove the <code>org.springframework.web.bind.annotation</code> RequestBody Annotation when you add the swagger annotation. This might break the endpoint's boddy binding.</p>\n</li>\n<li><p>You can also add a <code>@Parameter(description = &quot;...&quot;)</code> (i.e. <code>io.swagger.v3.oas.annotations.Parameter</code>) to <strong>any</strong> parameter of your endpoint. This works also for <code>@RequestHeader</code>, <code>@PathVariable</code>,... which might not come with a handy <code>io.swagger.v3.oas.annotations.parameters</code> version like <code>RequestBody</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":8572630,"reputation":1229,"user_id":6422944,"display_name":"geeekfa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26624,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":64646458,"answer_count":4,"score":12,"last_activity_date":1682173279,"creation_date":1604319679,"question_id":64645528,"body_markdown":"I want to have a **description** for ```RequestBody``` in spring boot openapi 3 .\r\nso i make my code like this :\r\n\r\n```javascript\r\n@PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;Book&gt; addBook(\r\n            @Schema(\r\n                    description = &quot;Book to add.&quot;,\r\n                    required=true,\r\n                    schema=@Schema(implementation = Book.class))\r\n            @Valid @RequestBody Book book\r\n    ) {\r\n        return ResponseEntity.ok(bookRepository.add(Book));\r\n}\r\n```\r\n\r\n```RequestBody``` **description** is ```Book to add.```\r\nMy desire UI is like this :\r\n\r\n[![desire][1]][1]\r\n\r\n\r\nBut nothings happen ! There is no **description** in my UI.\r\n\r\n**description** was added to ```Schemas``` panel ```Book``` entity !!!\r\n[![result][2]][2]\r\n\r\nWhat is the problem ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wCe7v.png\r\n  [2]: https://i.stack.imgur.com/iKP7O.png","title":"Java Spring Boot OpenApi 3 - How to add description for RequestBody?","body":"<p>I want to have a <strong>description</strong> for <code>RequestBody</code> in spring boot openapi 3 .\nso i make my code like this :</p>\n<pre class=\"lang-js prettyprint-override\"><code>@PostMapping(produces = &quot;application/json&quot;, consumes = &quot;application/json&quot;)\n    public ResponseEntity&lt;Book&gt; addBook(\n            @Schema(\n                    description = &quot;Book to add.&quot;,\n                    required=true,\n                    schema=@Schema(implementation = Book.class))\n            @Valid @RequestBody Book book\n    ) {\n        return ResponseEntity.ok(bookRepository.add(Book));\n}\n</code></pre>\n<p><code>RequestBody</code> <strong>description</strong> is <code>Book to add.</code>\nMy desire UI is like this :</p>\n<p><a href=\"https://i.stack.imgur.com/wCe7v.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wCe7v.png\" alt=\"desire\" /></a></p>\n<p>But nothings happen ! There is no <strong>description</strong> in my UI.</p>\n<p><strong>description</strong> was added to <code>Schemas</code> panel <code>Book</code> entity !!!\n<a href=\"https://i.stack.imgur.com/iKP7O.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iKP7O.png\" alt=\"result\" /></a></p>\n<p>What is the problem ?</p>\n"},{"tags":["java","spring-mvc","configuration"],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682173278,"creation_date":1682173278,"question_id":76080124,"body_markdown":"I use &quot;CommonsMultipartResolver&quot; to work with file upload but when I configure the bean it gives an error: &quot;Cannot find class [org.springframework.web.multipart.commons.CommonsMultipartResolver] for bean with name &#39;multipartResolver&#39; defined in ServletContext resource [/ WEB-INF/PhoneAccessories-servlet.xml]&quot; please help me:\r\n[![here is the picture](https://i.stack.imgur.com/TaklF.png)](https://i.stack.imgur.com/TaklF.png)\r\nthis is my file.xml:\r\n```\r\n?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txm&lt;lns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\r\n\t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\r\n\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.dth.Controller&quot;&gt;&lt;/context:component-scan&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.dth.DAO&quot;&gt;&lt;/context:component-scan&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.dth.Service&quot;&gt;&lt;/context:component-scan&gt;\r\n\t&lt;import resource=&quot;classpath:IoC.xml&quot; /&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t\r\n\t&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;&lt;/bean&gt;\r\n\t\r\n\t\r\n\t&lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\r\n\t&lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\r\n\t\r\n&lt;/beans&gt;\r\n````\r\n\r\n\r\nthis is my pom.xml:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.dth&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PhoneAccessories&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;finalName&gt;project name&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Cannot find class [org.springframework.web.multipart.commons.CommonsMultipartResolver]","body":"<p>I use &quot;CommonsMultipartResolver&quot; to work with file upload but when I configure the bean it gives an error: &quot;Cannot find class [org.springframework.web.multipart.commons.CommonsMultipartResolver] for bean with name 'multipartResolver' defined in ServletContext resource [/ WEB-INF/PhoneAccessories-servlet.xml]&quot; please help me:\n<a href=\"https://i.stack.imgur.com/TaklF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TaklF.png\" alt=\"here is the picture\" /></a>\nthis is my file.xml:</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xm&lt;lns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-4.3.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd\n        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.3.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd&quot;&gt;\n\n\n    &lt;context:component-scan base-package=&quot;com.dth.Controller&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;context:component-scan base-package=&quot;com.dth.DAO&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;context:component-scan base-package=&quot;com.dth.Service&quot;&gt;&lt;/context:component-scan&gt;\n    &lt;import resource=&quot;classpath:IoC.xml&quot; /&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n    \n    \n    &lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt;&lt;/bean&gt;\n    \n    \n    &lt;mvc:resources location=&quot;/resources/&quot; mapping=&quot;/resources/**&quot;&gt;&lt;/mvc:resources&gt;\n    &lt;mvc:annotation-driven enable-matrix-variables=&quot;true&quot;/&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>this is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.dth&lt;/groupId&gt;\n    &lt;artifactId&gt;PhoneAccessories&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-tx --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n    &lt;version&gt;1.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;project name&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"owner":{"account_id":28354792,"reputation":3,"user_id":21685708,"display_name":"L Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682173225,"creation_date":1682173225,"question_id":76080118,"body_markdown":"Im trying to generate new fragment and pull the data he hold but I get a nullObject exception\r\n\r\ncall to generate a new fragment:\r\n\r\n```\r\n    private void initializeBuyFragment(CardFragment cardFragment, View view) {\r\n        Card card;\r\n        if (random.nextInt(51) == 0)\r\n            card = new WildCard();\r\n        else card = new Card();\r\n\r\n        Bundle args = new Bundle();\r\n        cardFragment = CardFragment.newInstance(card);\r\n        args.putSerializable(&quot;key&quot;,card);\r\n        cardFragment.setArguments(args);\r\n        makeFragment(cardFragment, view);\r\n    }\r\n    \r\n    private void makeFragment(CardFragment cardFragment, View view) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .setReorderingAllowed(true)\r\n                .replace(view.getId(), cardFragment)\r\n                .commit();\r\n\r\n    }\r\n```\r\nfragment implementation:\r\n\r\n```\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        card = (Card) getActivity().getIntent().getSerializableExtra(KEY);\r\n        }\r\n\r\npublic static CardFragment newInstance(Card card) {\r\n        CardFragment fragment = new CardFragment();\r\n        Bundle bundle = new Bundle();\r\n        bundle.putSerializable(KEY, card);\r\n        fragment.setArguments(bundle);\r\n        return fragment;\r\n    }\r\n```\r\n\r\n\r\n\r\nI tried manually setting cardFragments card in initializeBuyFragment but when I debugged once it got to makeFragment it his card was once again null\r\n\r\nhow do I fix this?","title":"fragment hold null object when replacing","body":"<p>Im trying to generate new fragment and pull the data he hold but I get a nullObject exception</p>\n<p>call to generate a new fragment:</p>\n<pre><code>    private void initializeBuyFragment(CardFragment cardFragment, View view) {\n        Card card;\n        if (random.nextInt(51) == 0)\n            card = new WildCard();\n        else card = new Card();\n\n        Bundle args = new Bundle();\n        cardFragment = CardFragment.newInstance(card);\n        args.putSerializable(&quot;key&quot;,card);\n        cardFragment.setArguments(args);\n        makeFragment(cardFragment, view);\n    }\n    \n    private void makeFragment(CardFragment cardFragment, View view) {\n        getSupportFragmentManager().beginTransaction()\n                .setReorderingAllowed(true)\n                .replace(view.getId(), cardFragment)\n                .commit();\n\n    }\n</code></pre>\n<p>fragment implementation:</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        card = (Card) getActivity().getIntent().getSerializableExtra(KEY);\n        }\n\npublic static CardFragment newInstance(Card card) {\n        CardFragment fragment = new CardFragment();\n        Bundle bundle = new Bundle();\n        bundle.putSerializable(KEY, card);\n        fragment.setArguments(bundle);\n        return fragment;\n    }\n</code></pre>\n<p>I tried manually setting cardFragments card in initializeBuyFragment but when I debugged once it got to makeFragment it his card was once again null</p>\n<p>how do I fix this?</p>\n"},{"tags":["java","android","android-studio","mobile","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681852742,"post_id":76048906,"comment_id":134123219,"body_markdown":"What is the Android version of the device you use for testing? The two Bluetooth permission you have mentioned are Android 12+ only.","body":"What is the Android version of the device you use for testing? The two Bluetooth permission you have mentioned are Android 12+ only."},{"owner":{"account_id":28342978,"reputation":11,"user_id":21675664,"display_name":"Volt"},"score":0,"creation_date":1681895943,"post_id":76048906,"comment_id":134129396,"body_markdown":"My phone is on android 8. I removed these permissions and the program &quot;works&quot; as mentionned before (connecting to GATT is ok, but discovering devices gets me the same logs as [gatt.discoverServices() log](https://i.stack.imgur.com/XflMu.png)). I found an exemple program [(See BluetoothLeGatt project)](https://github.com/VoltXd/connectivity-samples) which works well and seems to work approximatly like [my project](https://github.com/VoltXd/MyFirstApp). Any idea ?","body":"My phone is on android 8. I removed these permissions and the program &quot;works&quot; as mentionned before (connecting to GATT is ok, but discovering devices gets me the same logs as <a href=\"https://i.stack.imgur.com/XflMu.png\" rel=\"nofollow noreferrer\">gatt.discoverServices() log</a>). I found an exemple program <a href=\"https://github.com/VoltXd/connectivity-samples\" rel=\"nofollow noreferrer\">(See BluetoothLeGatt project)</a> which works well and seems to work approximatly like <a href=\"https://github.com/VoltXd/MyFirstApp\" rel=\"nofollow noreferrer\">my project</a>. Any idea ?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681896679,"post_id":76048906,"comment_id":134129571,"body_markdown":"The permissions you use are exclusive to Android 12+ devices. So on Android below 12 you have to query different permissions: https://stackoverflow.com/q/67722950/150978","body":"The permissions you use are exclusive to Android 12+ devices. So on Android below 12 you have to query different permissions: <a href=\"https://stackoverflow.com/q/67722950/150978\">stackoverflow.com/q/67722950/150978</a>"}],"answers":[{"tags":[],"owner":{"account_id":28342978,"reputation":11,"user_id":21675664,"display_name":"Volt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682173156,"creation_date":1682173156,"answer_id":76080114,"question_id":76048906,"body_markdown":"More debug allow me to see that `onServicesDiscovered()` was called, the real issue was with the `BroadcastReceiver`. Before calling the function `registerReceiver`, I forgot to add the action `ACTION_GATT_SERVICES_DISCOVERED` in the IntentFilter. Adding this action fixed the problem.","title":"BLE gatt.discoverServices() returns true but onServicesDiscovered is never called","body":"<p>More debug allow me to see that <code>onServicesDiscovered()</code> was called, the real issue was with the <code>BroadcastReceiver</code>. Before calling the function <code>registerReceiver</code>, I forgot to add the action <code>ACTION_GATT_SERVICES_DISCOVERED</code> in the IntentFilter. Adding this action fixed the problem.</p>\n"}],"owner":{"account_id":28342978,"reputation":11,"user_id":21675664,"display_name":"Volt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76080114,"answer_count":1,"score":0,"last_activity_date":1682173156,"creation_date":1681850789,"question_id":76048906,"body_markdown":"I am making an Android app for a school project, I just need to be able to communicate with a device using BLE. \r\n\r\nI am at the point where I am connected to the GATT server of my device, but i can&#39;t find any services as `onServicesDiscovered` callback is never called.\r\nI have followed the instructions of [android - BLE gatt.discoverServices() returns true but Callback never fires - Stack Overflow](https://stackoverflow.com/questions/48764878/ble-gatt-discoverservices-returns-true-but-callback-never-fires/76048704#76048704) and [android - onServicesDiscovered never called while connecting to GATT Server - Stack Overflow](https://stackoverflow.com/questions/41434555/onservicesdiscovered-never-called-while-connecting-to-gatt-server) but it doesn&#39;t makes it work... \r\n\r\nI also replied to one of these posts, here is my message : \r\n&gt;I am currently getting the same issue, without beeing able to correct it with a delay. I even called `gatt.discoverServices()` using a button to ensure the connection to be done before searching for services but doesn&#39;t work either.\\\r\n&gt;When I press this button, I get this [`gatt.discoverServices()` log][1].\\\r\n&gt;Have you got any idea on how to deal with it ?\\\r\n&gt;**Edit**: the following two permissions are in my manifest but I can&#39;t manage to let the user enable them, they seem to be not granted at start. **BUT**, all the methods that seemed to need these permissions at this point are working fine (`bluetoothAdapter.startDiscovery()` or `device.getName()` for instance).\r\n```java\r\nManifest.permissions.BLUETOOTH_CONNECT\r\nManifest.permissions.BLUETOOTH_SCAN\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/XflMu.png\r\n\r\nAny idea on how to deal with it ?","title":"BLE gatt.discoverServices() returns true but onServicesDiscovered is never called","body":"<p>I am making an Android app for a school project, I just need to be able to communicate with a device using BLE.</p>\n<p>I am at the point where I am connected to the GATT server of my device, but i can't find any services as <code>onServicesDiscovered</code> callback is never called.\nI have followed the instructions of <a href=\"https://stackoverflow.com/questions/48764878/ble-gatt-discoverservices-returns-true-but-callback-never-fires/76048704#76048704\">android - BLE gatt.discoverServices() returns true but Callback never fires - Stack Overflow</a> and <a href=\"https://stackoverflow.com/questions/41434555/onservicesdiscovered-never-called-while-connecting-to-gatt-server\">android - onServicesDiscovered never called while connecting to GATT Server - Stack Overflow</a> but it doesn't makes it work...</p>\n<p>I also replied to one of these posts, here is my message :</p>\n<blockquote>\n<p>I am currently getting the same issue, without beeing able to correct it with a delay. I even called <code>gatt.discoverServices()</code> using a button to ensure the connection to be done before searching for services but doesn't work either.<br />\nWhen I press this button, I get this <a href=\"https://i.stack.imgur.com/XflMu.png\" rel=\"nofollow noreferrer\"><code>gatt.discoverServices()</code> log</a>.<br />\nHave you got any idea on how to deal with it ?<br />\n<strong>Edit</strong>: the following two permissions are in my manifest but I can't manage to let the user enable them, they seem to be not granted at start. <strong>BUT</strong>, all the methods that seemed to need these permissions at this point are working fine (<code>bluetoothAdapter.startDiscovery()</code> or <code>device.getName()</code> for instance).</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Manifest.permissions.BLUETOOTH_CONNECT\nManifest.permissions.BLUETOOTH_SCAN\n</code></pre>\n<p>Any idea on how to deal with it ?</p>\n"},{"tags":["java","configuration","spring-boot","servlet-filters"],"comments":[{"owner":{"account_id":223472,"reputation":3596,"user_id":482702,"accept_rate":82,"display_name":"lrxw"},"score":1,"creation_date":1528201953,"post_id":19825946,"comment_id":88409622,"body_markdown":"Note, that the Filter added with @WebFilter does not behave like a real filter in Servlet spec. It will be a spring bean called after a lot of other spring beans and not like real filters before any servlet code.","body":"Note, that the Filter added with @WebFilter does not behave like a real filter in Servlet spec. It will be a spring bean called after a lot of other spring beans and not like real filters before any servlet code."},{"owner":{"account_id":2310465,"reputation":975,"user_id":2028705,"display_name":"Keaz"},"score":0,"creation_date":1529740607,"post_id":19825946,"comment_id":88992354,"body_markdown":"can you tell me you exact requirement. If you want filter classes for ComponentScan then there is an annotation for that &quot;@ComponentScan.Filter&quot;","body":"can you tell me you exact requirement. If you want filter classes for ComponentScan then there is an annotation for that &quot;@ComponentScan.Filter&quot;"},{"owner":{"account_id":12807728,"reputation":311,"user_id":10891247,"display_name":"ZahraAsgharzade"},"score":0,"creation_date":1618375648,"post_id":19825946,"comment_id":118579476,"body_markdown":"you should write more detail, we have different type of filter, ex: filter for requests , client side filter to filter from a list and so on","body":"you should write more detail, we have different type of filter, ex: filter for requests , client side filter to filter from a list and so on"}],"answers":[{"comments":[{"owner":{"account_id":42992,"reputation":8592,"user_id":125470,"accept_rate":44,"display_name":"janetsmith"},"score":0,"creation_date":1383851618,"post_id":19830906,"comment_id":29511407,"body_markdown":"Would you mind to tell me how to include corresponding entry in build.gradle?\nI added the following, but it doesn&#39;t get compiled:\nprovidedCompile(&#39;javax.servlet:servlet-api:2.5&#39;)\nruntime(&#39;javax.servlet:jstl:1.1.2&#39;)","body":"Would you mind to tell me how to include corresponding entry in build.gradle? I added the following, but it doesn&#39;t get compiled: providedCompile(&#39;javax.servlet:servlet-api:2.5&#39;) runtime(&#39;javax.servlet:jstl:1.1.2&#39;)"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":3,"creation_date":1383909848,"post_id":19830906,"comment_id":29534378,"body_markdown":"Spring Boot isn&#39;t going to work with Servlet 2.5, and there isn&#39;t really much support for JSP yet. I&#39;m not really a gradler, so I don&#39;t know what you are trying to do. What&#39;s wrong with &quot;compile&quot;? Does it work if you just depend on &quot;spring-boot-starter-web&quot;? (I don&#39;t think these questions are related to the original question though, so maybe you should post again with the new questions?)","body":"Spring Boot isn&#39;t going to work with Servlet 2.5, and there isn&#39;t really much support for JSP yet. I&#39;m not really a gradler, so I don&#39;t know what you are trying to do. What&#39;s wrong with &quot;compile&quot;? Does it work if you just depend on &quot;spring-boot-starter-web&quot;? (I don&#39;t think these questions are related to the original question though, so maybe you should post again with the new questions?)"},{"owner":{"account_id":42992,"reputation":8592,"user_id":125470,"accept_rate":44,"display_name":"janetsmith"},"score":0,"creation_date":1383934755,"post_id":19830906,"comment_id":29548331,"body_markdown":"I added a filter by implementing Filter interface, however Eclipse is unable to find the interface. So I am trying to figure out how to add it to classpath for compiling.","body":"I added a filter by implementing Filter interface, however Eclipse is unable to find the interface. So I am trying to figure out how to add it to classpath for compiling."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1384264693,"post_id":19830906,"comment_id":29658957,"body_markdown":"Yes, of course you need to have `Filter` on your classpath. Normally I would just use the `spring-boot-starter-web` to pull in all the relevant depdendencies (e.g. [here](https://github.com/spring-guides/gs-rest-service/blob/master/complete/pom.xml#L18)).","body":"Yes, of course you need to have <code>Filter</code> on your classpath. Normally I would just use the <code>spring-boot-starter-web</code> to pull in all the relevant depdendencies (e.g. <a href=\"https://github.com/spring-guides/gs-rest-service/blob/master/complete/pom.xml#L18\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":70406,"reputation":6079,"user_id":204205,"display_name":"Jakub Hol&#253;"},"score":0,"creation_date":1582314093,"post_id":19830906,"comment_id":106748227,"body_markdown":"As other responses detail, you can also just annotate your Filter class with @Component and it will be automatically registered (for all URLs).","body":"As other responses detail, you can also just annotate your Filter class with @Component and it will be automatically registered (for all URLs)."}],"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"comment_count":5,"down_vote_count":1,"up_vote_count":86,"is_accepted":false,"score":85,"last_activity_date":1505888047,"creation_date":1383812255,"answer_id":19830906,"question_id":19825946,"body_markdown":"There isn&#39;t a special annotation to denote a servlet filter. You just declare a `@Bean` of type `Filter` (or `FilterRegistrationBean`). An example (adding a custom header to all responses) is in Boot&#39;s own [EndpointWebMvcAutoConfiguration](https://github.com/spring-projects/spring-boot/blob/1.5.x/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcAutoConfiguration.java);\r\n\r\nIf you only declare a `Filter` it will be applied to all requests. If you also add a `FilterRegistrationBean` you can additionally specify individual servlets and url patterns to apply.\r\n\r\n**Note:**\r\n\r\nAs of Spring Boot 1.4, `FilterRegistrationBean` is not deprecated and simply moved packages from `org.springframework.boot.context.embedded.FilterRegistrationBean` to `org.springframework.boot.web.servlet.FilterRegistrationBean`","title":"How can I add a filter class in Spring Boot?","body":"<p>There isn't a special annotation to denote a servlet filter. You just declare a <code>@Bean</code> of type <code>Filter</code> (or <code>FilterRegistrationBean</code>). An example (adding a custom header to all responses) is in Boot's own <a href=\"https://github.com/spring-projects/spring-boot/blob/1.5.x/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/autoconfigure/EndpointWebMvcAutoConfiguration.java\" rel=\"noreferrer\">EndpointWebMvcAutoConfiguration</a>;</p>\n\n<p>If you only declare a <code>Filter</code> it will be applied to all requests. If you also add a <code>FilterRegistrationBean</code> you can additionally specify individual servlets and url patterns to apply.</p>\n\n<p><strong>Note:</strong></p>\n\n<p>As of Spring Boot 1.4, <code>FilterRegistrationBean</code> is not deprecated and simply moved packages from <code>org.springframework.boot.context.embedded.FilterRegistrationBean</code> to <code>org.springframework.boot.web.servlet.FilterRegistrationBean</code></p>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":8,"creation_date":1441231796,"post_id":29198075,"comment_id":52600458,"body_markdown":"Should filter be registered somewhere?","body":"Should filter be registered somewhere?"},{"owner":{"display_name":"user2104560"},"score":1,"creation_date":1463569108,"post_id":29198075,"comment_id":62117853,"body_markdown":"When I tried that approach, Filter was created as bean and even was injected to other class **but init() method didn&#39;t run**. Probably, init() works only in &#39;normal&#39; registering not by spring container. I think, one may use PostConstruct instead of init() but I didn&#39;t try that as I refused declaring Filter as Spring bean.","body":"When I tried that approach, Filter was created as bean and even was injected to other class <b>but init() method didn&#39;t run</b>. Probably, init() works only in &#39;normal&#39; registering not by spring container. I think, one may use PostConstruct instead of init() but I didn&#39;t try that as I refused declaring Filter as Spring bean."},{"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"score":0,"creation_date":1504889418,"post_id":29198075,"comment_id":79204973,"body_markdown":"What about filter ordering using this approach?","body":"What about filter ordering using this approach?"},{"owner":{"account_id":3072521,"reputation":1252,"user_id":2602807,"accept_rate":41,"display_name":"user2602807"},"score":0,"creation_date":1507901797,"post_id":29198075,"comment_id":80408548,"body_markdown":"How can we get RS body from ServletResponse?","body":"How can we get RS body from ServletResponse?"},{"owner":{"account_id":1496516,"reputation":2066,"user_id":2422278,"accept_rate":86,"display_name":"kinbiko"},"score":5,"creation_date":1510141842,"post_id":29198075,"comment_id":81306843,"body_markdown":"One important thing to note is that the name of your bean (based on your class name) should not be the same as a Spring bean. For instance, you might be tempted to create a `MetricsFilter`, but this bean will be overshadowed by the Spring actuator bean of the same name. Learned this the hard way...","body":"One important thing to note is that the name of your bean (based on your class name) should not be the same as a Spring bean. For instance, you might be tempted to create a <code>MetricsFilter</code>, but this bean will be overshadowed by the Spring actuator bean of the same name. Learned this the hard way..."},{"owner":{"account_id":70406,"reputation":6079,"user_id":204205,"display_name":"Jakub Hol&#253;"},"score":0,"creation_date":1582314119,"post_id":29198075,"comment_id":106748238,"body_markdown":"Perhaps better to extend `org.springframework.web.filter.GenericFilterBean`?","body":"Perhaps better to extend <code>org.springframework.web.filter.GenericFilterBean</code>?"}],"tags":[],"owner":{"account_id":5981642,"reputation":1381,"user_id":4700488,"display_name":"tegatai"},"comment_count":6,"down_vote_count":0,"up_vote_count":132,"is_accepted":false,"score":132,"last_activity_date":1469600693,"creation_date":1427048313,"answer_id":29198075,"question_id":19825946,"body_markdown":"Here is an example of one method of including a custom filter in a Spring Boot MVC application.  Be sure to include the package in a component scan:\r\n\r\n    package com.dearheart.gtsc.filters;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.context.annotation.Profile;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class XClacksOverhead implements Filter {\r\n    \r\n      public static final String X_CLACKS_OVERHEAD = &quot;X-Clacks-Overhead&quot;;\r\n      \r\n      @Override\r\n      public void doFilter(ServletRequest req, ServletResponse res,\r\n          FilterChain chain) throws IOException, ServletException {\r\n        \r\n        HttpServletResponse response = (HttpServletResponse) res;\r\n        response.setHeader(X_CLACKS_OVERHEAD, &quot;GNU Terry Pratchett&quot;);\r\n        chain.doFilter(req, res);\r\n      }\r\n    \r\n      @Override\r\n      public void destroy() {}\r\n      \r\n      @Override\r\n      public void init(FilterConfig arg0) throws ServletException {}\r\n    \r\n    }\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Here is an example of one method of including a custom filter in a Spring Boot MVC application.  Be sure to include the package in a component scan:</p>\n\n<pre><code>package com.dearheart.gtsc.filters;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class XClacksOverhead implements Filter {\n\n  public static final String X_CLACKS_OVERHEAD = \"X-Clacks-Overhead\";\n\n  @Override\n  public void doFilter(ServletRequest req, ServletResponse res,\n      FilterChain chain) throws IOException, ServletException {\n\n    HttpServletResponse response = (HttpServletResponse) res;\n    response.setHeader(X_CLACKS_OVERHEAD, \"GNU Terry Pratchett\");\n    chain.doFilter(req, res);\n  }\n\n  @Override\n  public void destroy() {}\n\n  @Override\n  public void init(FilterConfig arg0) throws ServletException {}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1180356,"reputation":3831,"user_id":1155409,"accept_rate":46,"display_name":"verystrongjoe"},"score":2,"creation_date":1442281021,"post_id":30658752,"comment_id":53007630,"body_markdown":"what if i want to add multiple filters? @Opal","body":"what if i want to add multiple filters? @Opal"},{"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":10,"creation_date":1442402177,"post_id":30658752,"comment_id":53065083,"body_markdown":"Just add an additional   \n@Bean\n  public FilterRegistrationBean additionalFilterRegistration()","body":"Just add an additional    @Bean   public FilterRegistrationBean additionalFilterRegistration()"},{"owner":{"account_id":186093,"reputation":5016,"user_id":423218,"accept_rate":75,"display_name":"BeepDog"},"score":0,"creation_date":1464297047,"post_id":30658752,"comment_id":62440770,"body_markdown":"How does one know the order in which the filters are applied?","body":"How does one know the order in which the filters are applied?"},{"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":7,"creation_date":1464494558,"post_id":30658752,"comment_id":62506718,"body_markdown":"FilterRegistrationBean.setOrder","body":"FilterRegistrationBean.setOrder"},{"owner":{"account_id":334868,"reputation":4088,"user_id":661598,"accept_rate":100,"display_name":"wst"},"score":0,"creation_date":1489478277,"post_id":30658752,"comment_id":72675202,"body_markdown":"You don&#39;t need filter bean when you call the method `someFilter()` directly.","body":"You don&#39;t need filter bean when you call the method <code>someFilter()</code> directly."},{"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"score":2,"creation_date":1504903848,"post_id":30658752,"comment_id":79211403,"body_markdown":"The sample misses `@Bean` onto `someFilter()`.","body":"The sample misses <code>@Bean</code> onto <code>someFilter()</code>."},{"owner":{"account_id":1936900,"reputation":549,"user_id":1744146,"accept_rate":56,"display_name":"MrSham"},"score":0,"creation_date":1544827419,"post_id":30658752,"comment_id":94427211,"body_markdown":"@HaimRaman HI! do you have any solution for his issue : https://stackoverflow.com/questions/53774909/how-to-bypass-or-skip-customfilter-in-mockito-with-springboot-applicaiton .      any help will be appreciated.","body":"@HaimRaman HI! do you have any solution for his issue : <a href=\"https://stackoverflow.com/questions/53774909/how-to-bypass-or-skip-customfilter-in-mockito-with-springboot-applicaiton\" title=\"how to bypass or skip customfilter in mockito with springboot applicaiton\">stackoverflow.com/questions/53774909/&hellip;</a> .      any help will be appreciated."},{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1553839988,"post_id":30658752,"comment_id":97542550,"body_markdown":"@Haim Need some help over here https://stackoverflow.com/q/55411311/7538821","body":"@Haim Need some help over here <a href=\"https://stackoverflow.com/q/55411311/7538821\">stackoverflow.com/q/55411311/7538821</a>"},{"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"score":0,"creation_date":1560273920,"post_id":30658752,"comment_id":99679528,"body_markdown":"What about *WebMvcConfigurer*?","body":"What about <i>WebMvcConfigurer</i>?"},{"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":0,"creation_date":1560315249,"post_id":30658752,"comment_id":99690605,"body_markdown":"You can&#39;t use WebMvcConfigurer to configure servlet filters. see https://stackoverflow.com/questions/33463918/how-to-add-a-filter-with-webmvcconfigureradapter-in-spring","body":"You can&#39;t use WebMvcConfigurer to configure servlet filters. see <a href=\"https://stackoverflow.com/questions/33463918/how-to-add-a-filter-with-webmvcconfigureradapter-in-spring\" title=\"how to add a filter with webmvcconfigureradapter in spring\">stackoverflow.com/questions/33463918/&hellip;</a>"},{"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"score":2,"creation_date":1619650385,"post_id":30658752,"comment_id":118972873,"body_markdown":"What package is `Filter` in? I&#39;m seeing over 24 possible matches. Maybe include an import statement snippet.","body":"What package is <code>Filter</code> in? I&#39;m seeing over 24 possible matches. Maybe include an import statement snippet."},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1643974400,"post_id":30658752,"comment_id":125487379,"body_markdown":"how doe i add the FilterRegistrationBean to the web security? Does it automaticly looks for beans of FilterRegistrationBean ?","body":"how doe i add the FilterRegistrationBean to the web security? Does it automaticly looks for beans of FilterRegistrationBean ?"},{"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":0,"creation_date":1644245912,"post_id":30658752,"comment_id":125547142,"body_markdown":"I suggest that you add this on a question of it&#39;s own","body":"I suggest that you add this on a question of it&#39;s own"}],"tags":[],"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"comment_count":13,"down_vote_count":0,"up_vote_count":186,"is_accepted":false,"score":186,"last_activity_date":1620806749,"creation_date":1433480956,"answer_id":30658752,"question_id":19825946,"body_markdown":"If you want to setup a third-party filter you can use `FilterRegistrationBean`.\r\n\r\nFor example, the equivalent of *web.xml*:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n         &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;com.somecompany.SomeFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/url/*&lt;/url-pattern&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;paramName&lt;/param-name&gt;\r\n            &lt;param-value&gt;paramValue&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nThese will be the two beans in your `@Configuration` file:\r\n\r\n    @Bean\r\n    public FilterRegistrationBean someFilterRegistration() {\r\n\r\n        FilterRegistrationBean registration = new FilterRegistrationBean();\r\n        registration.setFilter(someFilter());\r\n        registration.addUrlPatterns(&quot;/url/*&quot;);\r\n        registration.addInitParameter(&quot;paramName&quot;, &quot;paramValue&quot;);\r\n        registration.setName(&quot;someFilter&quot;);\r\n        registration.setOrder(1);\r\n        return registration;\r\n    }\r\n\r\n    public Filter someFilter() {\r\n        return new SomeFilter();\r\n    }\r\n\r\nThe above was tested with Spring Boot 1.2.3.\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>If you want to setup a third-party filter you can use <code>FilterRegistrationBean</code>.</p>\n<p>For example, the equivalent of <em>web.xml</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n     &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.somecompany.SomeFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SomeFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/url/*&lt;/url-pattern&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;paramName&lt;/param-name&gt;\n        &lt;param-value&gt;paramValue&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>These will be the two beans in your <code>@Configuration</code> file:</p>\n<pre><code>@Bean\npublic FilterRegistrationBean someFilterRegistration() {\n\n    FilterRegistrationBean registration = new FilterRegistrationBean();\n    registration.setFilter(someFilter());\n    registration.addUrlPatterns(&quot;/url/*&quot;);\n    registration.addInitParameter(&quot;paramName&quot;, &quot;paramValue&quot;);\n    registration.setName(&quot;someFilter&quot;);\n    registration.setOrder(1);\n    return registration;\n}\n\npublic Filter someFilter() {\n    return new SomeFilter();\n}\n</code></pre>\n<p>The above was tested with Spring Boot 1.2.3.</p>\n"},{"comments":[{"owner":{"account_id":1086182,"reputation":3886,"user_id":1081849,"display_name":"sbk"},"score":1,"creation_date":1494572496,"post_id":34302505,"comment_id":74895117,"body_markdown":"Excellent answer.  Thanks for detailing all the options and also covering how to autowire your `Filter` while using `FilterRegistrationBean`","body":"Excellent answer.  Thanks for detailing all the options and also covering how to autowire your <code>Filter</code> while using <code>FilterRegistrationBean</code>"},{"owner":{"account_id":70406,"reputation":6079,"user_id":204205,"display_name":"Jakub Hol&#253;"},"score":1,"creation_date":1582314036,"post_id":34302505,"comment_id":106748209,"body_markdown":"This is also described here: https://www.baeldung.com/spring-boot-add-filter","body":"This is also described here: <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-add-filter</a>"}],"tags":[],"owner":{"account_id":214378,"reputation":2516,"user_id":468315,"accept_rate":33,"display_name":"barryku"},"comment_count":2,"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1505081810,"creation_date":1450229090,"answer_id":34302505,"question_id":19825946,"body_markdown":"There are three ways to add your filter,\r\n\r\n 1. Annotate your filter with one of the Spring stereotypes such as `@Component` \r\n 2. Register a `@Bean` with `Filter` type in Spring `@Configuration`\r\n 3. Register a `@Bean` with `FilterRegistrationBean` type in Spring `@Configuration`\r\n\r\nEither #1 or #2 will do if you want your filter applies to all requests without customization, use #3 otherwise. You don&#39;t need to specify component scan for #1 to work as long as you place your filter class in the same or sub-package of your `SpringApplication` class.  For #3, use along with #2 is only necessary when you want Spring to manage your filter class such as have it auto wired dependencies.  It works just fine for me to new my filter which doesn&#39;t need any dependency autowiring/injection. \r\n\r\nAlthough combining #2 and #3 works fine, I was surprised it doesn&#39;t end up with two filters applying twice.  My guess is that Spring combines the two beans as one when it calls the same method to create both of them.  In case you want to use #3 alone with authowiring, you can `AutowireCapableBeanFactory`. The following is an example, \r\n\r\n    private @Autowired AutowireCapableBeanFactory beanFactory;\r\n    \t\r\n    \t@Bean\r\n        public FilterRegistrationBean myFilter() {\r\n            FilterRegistrationBean registration = new FilterRegistrationBean();\r\n            Filter myFilter = new MyFilter();\r\n            beanFactory.autowireBean(myFilter);\r\n            registration.setFilter(myFilter);\r\n            registration.addUrlPatterns(&quot;/myfilterpath/*&quot;);\r\n            return registration;\r\n        }\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>There are three ways to add your filter,</p>\n\n<ol>\n<li>Annotate your filter with one of the Spring stereotypes such as <code>@Component</code> </li>\n<li>Register a <code>@Bean</code> with <code>Filter</code> type in Spring <code>@Configuration</code></li>\n<li>Register a <code>@Bean</code> with <code>FilterRegistrationBean</code> type in Spring <code>@Configuration</code></li>\n</ol>\n\n<p>Either #1 or #2 will do if you want your filter applies to all requests without customization, use #3 otherwise. You don't need to specify component scan for #1 to work as long as you place your filter class in the same or sub-package of your <code>SpringApplication</code> class.  For #3, use along with #2 is only necessary when you want Spring to manage your filter class such as have it auto wired dependencies.  It works just fine for me to new my filter which doesn't need any dependency autowiring/injection. </p>\n\n<p>Although combining #2 and #3 works fine, I was surprised it doesn't end up with two filters applying twice.  My guess is that Spring combines the two beans as one when it calls the same method to create both of them.  In case you want to use #3 alone with authowiring, you can <code>AutowireCapableBeanFactory</code>. The following is an example, </p>\n\n<pre><code>private @Autowired AutowireCapableBeanFactory beanFactory;\n\n    @Bean\n    public FilterRegistrationBean myFilter() {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        Filter myFilter = new MyFilter();\n        beanFactory.autowireBean(myFilter);\n        registration.setFilter(myFilter);\n        registration.addUrlPatterns(\"/myfilterpath/*\");\n        return registration;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":0,"creation_date":1521792077,"post_id":38830715,"comment_id":85891288,"body_markdown":"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html#howto-add-a-servlet-filter-or-listener didn&#39;t work for me but https://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/html/howto-embedded-servlet-containers.html worked for me.","body":"<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-servlet-containers.html#howto-add-a-servlet-filter-or-listener\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> didn&#39;t work for me but <a href=\"https://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/html/howto-embedded-servlet-containers.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a> worked for me."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1620807117,"post_id":38830715,"comment_id":119307077,"body_markdown":"The link is broken (404).","body":"The link is broken (404)."}],"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1621855106,"creation_date":1470663472,"answer_id":38830715,"question_id":19825946,"body_markdown":"From the Spring documentation,\r\n\r\n[Embedded servlet containers - Add a Servlet, Filter or Listener to an application][1]\r\n\r\n&gt; To add a Servlet, Filter, or Servlet *Listener provide a **@Bean**\r\n&gt; definition for it.\r\n\r\nFor example:\r\n\r\n    @Bean\r\n    public Filter compressFilter() {\r\n        CompressingFilter compressFilter = new CompressingFilter();\r\n        return compressFilter;\r\n    }\r\n\r\nAdd this `@Bean` configuration to your `@Configuration` class and the filter will be registered on startup.\r\n\r\nAlso you can add Servlets, Filters, and Listeners using classpath scanning,\r\n\r\n&gt; @WebServlet, @WebFilter, and @WebListener annotated classes can be\r\n&gt; automatically registered with an embedded servlet container by\r\n&gt; annotating a @Configuration class with @ServletComponentScan and\r\n&gt; specifying the package(s) containing the components that you want to\r\n&gt; register. By default, @ServletComponentScan will scan from the package\r\n&gt; of the annotated class.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/html/howto-embedded-servlet-containers.html\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>From the Spring documentation,</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/html/howto-embedded-servlet-containers.html\" rel=\"nofollow noreferrer\">Embedded servlet containers - Add a Servlet, Filter or Listener to an application</a></p>\n<blockquote>\n<p>To add a Servlet, Filter, or Servlet *Listener provide a <strong>@Bean</strong>\ndefinition for it.</p>\n</blockquote>\n<p>For example:</p>\n<pre><code>@Bean\npublic Filter compressFilter() {\n    CompressingFilter compressFilter = new CompressingFilter();\n    return compressFilter;\n}\n</code></pre>\n<p>Add this <code>@Bean</code> configuration to your <code>@Configuration</code> class and the filter will be registered on startup.</p>\n<p>Also you can add Servlets, Filters, and Listeners using classpath scanning,</p>\n<blockquote>\n<p>@WebServlet, @WebFilter, and @WebListener annotated classes can be\nautomatically registered with an embedded servlet container by\nannotating a @Configuration class with @ServletComponentScan and\nspecifying the package(s) containing the components that you want to\nregister. By default, @ServletComponentScan will scan from the package\nof the annotated class.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5663754,"reputation":597,"user_id":4480554,"display_name":"DPancs"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1620807229,"creation_date":1493747230,"answer_id":43744163,"question_id":19825946,"body_markdown":"Here is an example of my custom Filter class:\r\n\r\n    package com.dawson.controller.filter;\r\n\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.GenericFilterBean;\r\n\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n\r\n\r\n    @Component\r\n    public class DawsonApiFilter extends GenericFilterBean {\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest req = (HttpServletRequest) request;\r\n            if (req.getHeader(&quot;x-dawson-nonce&quot;) == null || req.getHeader(&quot;x-dawson-signature&quot;) == null) {\r\n                HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n                httpResponse.setContentType(&quot;application/json&quot;);\r\n                httpResponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Required headers not specified in the request&quot;);\r\n                return;\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nAnd I added it to the Spring Boot configuration by adding it to Configuration class as follows:\r\n\r\n    package com.dawson.configuration;\r\n\r\n    import com.fasterxml.jackson.datatype.hibernate5.Hibernate5Module;\r\n    import com.dawson.controller.filter.DawsonApiFilter;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\r\n\r\n    @SpringBootApplication\r\n    public class ApplicationConfiguration {\r\n        @Bean\r\n        public FilterRegistrationBean dawsonApiFilter() {\r\n            FilterRegistrationBean registration = new FilterRegistrationBean();\r\n            registration.setFilter(new DawsonApiFilter());\r\n\r\n            // In case you want the filter to apply to specific URL patterns only\r\n            registration.addUrlPatterns(&quot;/dawson/*&quot;);\r\n            return registration;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Here is an example of my custom Filter class:</p>\n<pre><code>package com.dawson.controller.filter;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.GenericFilterBean;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n\n@Component\npublic class DawsonApiFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        if (req.getHeader(&quot;x-dawson-nonce&quot;) == null || req.getHeader(&quot;x-dawson-signature&quot;) == null) {\n            HttpServletResponse httpResponse = (HttpServletResponse) response;\n            httpResponse.setContentType(&quot;application/json&quot;);\n            httpResponse.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Required headers not specified in the request&quot;);\n            return;\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>And I added it to the Spring Boot configuration by adding it to Configuration class as follows:</p>\n<pre><code>package com.dawson.configuration;\n\nimport com.fasterxml.jackson.datatype.hibernate5.Hibernate5Module;\nimport com.dawson.controller.filter.DawsonApiFilter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\n\n@SpringBootApplication\npublic class ApplicationConfiguration {\n    @Bean\n    public FilterRegistrationBean dawsonApiFilter() {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        registration.setFilter(new DawsonApiFilter());\n\n        // In case you want the filter to apply to specific URL patterns only\n        registration.addUrlPatterns(&quot;/dawson/*&quot;);\n        return registration;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2611247,"reputation":1756,"user_id":2261315,"accept_rate":60,"display_name":"Andrei Epure"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1620807316,"creation_date":1499337617,"answer_id":44946652,"question_id":19825946,"body_markdown":"If you use Spring Boot + Spring Security, you can do that in the security configuration.\r\n\r\nIn the below example, I&#39;m adding a custom filter before the UsernamePasswordAuthenticationFilter (see [all the default Spring Security filters and their order][1]).\r\n\r\n&lt;!-- language-java --&gt;\r\n\r\n    @EnableWebSecurity\r\n    class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired FilterDependency filterDependency;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .addFilterBefore(\r\n                    new MyFilter(filterDependency),\r\n                    UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    }\r\n\r\nAnd the filter class\r\n\r\n&lt;!-- language-java --&gt;\r\n\r\n    class MyFilter extends OncePerRequestFilter  {\r\n        private final FilterDependency filterDependency;\r\n\r\n        public MyFilter(FilterDependency filterDependency) {\r\n            this.filterDependency = filterDependency;\r\n        }\r\n\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n\r\n            // Filter\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#filter-ordering\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>If you use Spring Boot + Spring Security, you can do that in the security configuration.</p>\n<p>In the below example, I'm adding a custom filter before the UsernamePasswordAuthenticationFilter (see <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#filter-ordering\" rel=\"nofollow noreferrer\">all the default Spring Security filters and their order</a>).</p>\n\n<pre><code>@EnableWebSecurity\nclass SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired FilterDependency filterDependency;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .addFilterBefore(\n                new MyFilter(filterDependency),\n                UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>And the filter class</p>\n\n<pre><code>class MyFilter extends OncePerRequestFilter  {\n    private final FilterDependency filterDependency;\n\n    public MyFilter(FilterDependency filterDependency) {\n        this.filterDependency = filterDependency;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n        HttpServletResponse response,\n        FilterChain filterChain)\n        throws ServletException, IOException {\n\n        // Filter\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2038924,"reputation":324,"user_id":1820592,"display_name":"Cwrwhaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620807479,"creation_date":1500374512,"answer_id":45164472,"question_id":19825946,"body_markdown":"You can use @WebFilter javax.servlet.annotation.WebFilter on a class that implements javax.servlet.Filter:\r\n\r\n    @WebFilter(urlPatterns = &quot;/*&quot;)\r\n    public class MyFilter implements Filter {\r\n    }\r\n\r\nThen use @ServletComponentScan to register.\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>You can use @WebFilter javax.servlet.annotation.WebFilter on a class that implements javax.servlet.Filter:</p>\n<pre><code>@WebFilter(urlPatterns = &quot;/*&quot;)\npublic class MyFilter implements Filter {\n}\n</code></pre>\n<p>Then use @ServletComponentScan to register.</p>\n"},{"comments":[{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":4,"creation_date":1503498722,"post_id":45833337,"comment_id":78642896,"body_markdown":"Also add @ServletComponentScan","body":"Also add @ServletComponentScan"}],"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1549820530,"creation_date":1503473481,"answer_id":45833337,"question_id":19825946,"body_markdown":"Using the @WebFilter annotation, it can be done as follows:\r\n\r\n    @WebFilter(urlPatterns = {&quot;/*&quot; })\r\n    public class AuthenticationFilter implements Filter{\r\n\r\n        private static Logger logger = Logger.getLogger(AuthenticationFilter.class);\r\n    \t\r\n        @Override\r\n        public void destroy() {\r\n            // TODO Auto-generated method stub\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest arg0, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException {\r\n    \r\n             logger.info(&quot;checking client id in filter&quot;);\r\n            HttpServletRequest request = (HttpServletRequest) arg0;\r\n            String clientId = request.getHeader(&quot;clientId&quot;);\r\n            if (StringUtils.isNotEmpty(clientId)) {\r\n                chain.doFilter(request, response);\r\n            } else {\r\n                logger.error(&quot;client id missing.&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void init(FilterConfig arg0) throws ServletException {\r\n            // TODO Auto-generated method stub\r\n    \r\n        }\r\n\r\n    }\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Using the @WebFilter annotation, it can be done as follows:</p>\n\n<pre><code>@WebFilter(urlPatterns = {\"/*\" })\npublic class AuthenticationFilter implements Filter{\n\n    private static Logger logger = Logger.getLogger(AuthenticationFilter.class);\n\n    @Override\n    public void destroy() {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest arg0, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n         logger.info(\"checking client id in filter\");\n        HttpServletRequest request = (HttpServletRequest) arg0;\n        String clientId = request.getHeader(\"clientId\");\n        if (StringUtils.isNotEmpty(clientId)) {\n            chain.doFilter(request, response);\n        } else {\n            logger.error(\"client id missing.\");\n        }\n    }\n\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":432071,"reputation":5380,"user_id":816584,"accept_rate":73,"display_name":"Steve Buzonas"},"score":1,"creation_date":1521430630,"post_id":47223428,"comment_id":85711095,"body_markdown":"`FilterRegistrationBean` as mentioned in the question is for `javax.servlet.Filter`, this answer talks about `org.apache.logging.log4j.core.Filter`","body":"<code>FilterRegistrationBean</code> as mentioned in the question is for <code>javax.servlet.Filter</code>, this answer talks about <code>org.apache.logging.log4j.core.Filter</code>"}],"tags":[],"owner":{"account_id":11905801,"reputation":10,"user_id":8712383,"display_name":"Saravanan"},"comment_count":1,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1620807642,"creation_date":1510319026,"answer_id":47223428,"question_id":19825946,"body_markdown":"Filters are mostly used in logger files. It varies according to the logger you using in the project.\r\n\r\nLet me explain for log4j2:\r\n\r\n    &lt;Filters&gt;\r\n        &lt;!-- It prevents an error --&gt;\r\n        &lt;ThresholdFilter level=&quot;error&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n\r\n        &lt;!-- It prevents debug --&gt;\r\n        &lt;ThresholdFilter level=&quot;debug&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; /&gt;\r\n\r\n        &lt;!-- It allows all levels except debug/trace --&gt;\r\n        &lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\r\n    &lt;/Filters&gt;\r\n\r\nFilters are used to restrict the data and I used the threshold filter further to restrict the levels of data in the flow. I mentioned the levels that can be restricted over there.\r\n\r\nFor your further reference, see the level order of log4j2 - Log4J Levels: ALL &gt; TRACE &gt; DEBUG &gt; INFO &gt; WARN &gt; ERROR &gt; FATAL &gt; OFF\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Filters are mostly used in logger files. It varies according to the logger you using in the project.</p>\n<p>Let me explain for log4j2:</p>\n<pre><code>&lt;Filters&gt;\n    &lt;!-- It prevents an error --&gt;\n    &lt;ThresholdFilter level=&quot;error&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\n\n    &lt;!-- It prevents debug --&gt;\n    &lt;ThresholdFilter level=&quot;debug&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; /&gt;\n\n    &lt;!-- It allows all levels except debug/trace --&gt;\n    &lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\n&lt;/Filters&gt;\n</code></pre>\n<p>Filters are used to restrict the data and I used the threshold filter further to restrict the levels of data in the flow. I mentioned the levels that can be restricted over there.</p>\n<p>For your further reference, see the level order of log4j2 - Log4J Levels: ALL &gt; TRACE &gt; DEBUG &gt; INFO &gt; WARN &gt; ERROR &gt; FATAL &gt; OFF</p>\n"},{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1565342684,"post_id":47846023,"comment_id":101332398,"body_markdown":"I&#39;ve seen `Filter` interface getting called numerous times during the launch of the applicationContext. Is there any way to execute it only once ?","body":"I&#39;ve seen <code>Filter</code> interface getting called numerous times during the launch of the applicationContext. Is there any way to execute it only once ?"},{"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"score":0,"creation_date":1565348678,"post_id":47846023,"comment_id":101335329,"body_markdown":"@PAA you mean from my examples ?","body":"@PAA you mean from my examples ?"},{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":0,"creation_date":1600494114,"post_id":47846023,"comment_id":113111837,"body_markdown":"@Surasin : Great articles on your blog. Question - Instead of \\@ServletComponentScan, won&#39;t mentioning \\@ComponentScan on the filter class along with \\@WebFilter be enough for Spring App context to pick it up?","body":"@Surasin : Great articles on your blog. Question - Instead of \\@ServletComponentScan, won&#39;t mentioning \\@ComponentScan on the filter class along with \\@WebFilter be enough for Spring App context to pick it up?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1620808021,"post_id":47846023,"comment_id":119307491,"body_markdown":"All the ***www.surasint.com*** links are broken (*&quot;Hmm. We’re having trouble finding that site. We can’t connect to the server at www.surasint.com.&quot;*).","body":"All the <b><i>www.surasint.com</i></b> links are broken (<i>&quot;Hmm. We’re having trouble finding that site. We can’t connect to the server at www.surasint.com.&quot;</i>)."},{"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"score":0,"creation_date":1620826912,"post_id":47846023,"comment_id":119316142,"body_markdown":"@PeterMortensen it is gone. Gcloud has completely destroyed it.  And I don&#39;t have backup anywhere T-T","body":"@PeterMortensen it is gone. Gcloud has completely destroyed it.  And I don&#39;t have backup anywhere T-T"},{"owner":{"account_id":3079492,"reputation":1027,"user_id":2608063,"accept_rate":94,"display_name":"tomtomssi"},"score":0,"creation_date":1671537421,"post_id":47846023,"comment_id":132116151,"body_markdown":"You can use \\@Component on the filter instead of using \\@ServletComponentScan on the App class","body":"You can use \\@Component on the filter instead of using \\@ServletComponentScan on the App class"}],"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"comment_count":6,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1653831081,"creation_date":1513429821,"answer_id":47846023,"question_id":19825946,"body_markdown":"**UPDATE: 2022-05-29:**\r\n\r\nThere are two simple ways to do this in Spring Boot 1.5.8.RELEASE and there isn&#39;t any need for XML.\r\n\r\n**First way:**\r\n\r\nIf you do not have any specific URL pattern, you can use @Component like this (full code and details are here https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/3_spring-boot-filter , look at README.txt to start):\r\n\r\n    @Component\r\n    public class ExampleFilter implements Filter {\r\n        ...\r\n    }\r\n\r\n**Second way:**\r\n\r\nIf you want to use URL patterns, you can use @WebFilter like this (full code and details are here https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/4_spring-boot-filter-urlpattern , look at README.txt to start):\r\n\r\n    @WebFilter(urlPatterns = &quot;/api/count&quot;)\r\n    public class ExampleFilter implements Filter {\r\n        ...\r\n    }\r\n\r\nBut you also need to add @ServletComponentScan annotation in your @SpringBootApplication class:\r\n\r\n    @ServletComponentScan\r\n    @SpringBootApplication\r\n    public class MyApplication extends SpringBootServletInitializer {\r\n        ...\r\n    }\r\n\r\nNote that @Component is Spring&#39;s annotation, but @WebFilter is not. @WebFilter is Servlet 3 annotation.\r\n\r\nBoth ways, you just need a basic Spring Boot dependency in *pom.xml* (there isn&#39;t any need for an explicit Tomcat embedded jasper)\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;groupId&gt;com.surasint.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-04&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**WARNING:** The first way, if the Controller in Spring Boot returns to a JSP file, the request will pass the filter twice.\r\n\r\nWhile, in the second way, the request will pass the filter only once.\r\n\r\nI prefer the second way, because it is more similar to default behavior in [the Servlet specification][1].\r\n\r\n  [1]: https://docs.oracle.com/cd/E19879-01/819-3669/6n5sg7b0b/index.html\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p><strong>UPDATE: 2022-05-29:</strong></p>\n<p>There are two simple ways to do this in Spring Boot 1.5.8.RELEASE and there isn't any need for XML.</p>\n<p><strong>First way:</strong></p>\n<p>If you do not have any specific URL pattern, you can use @Component like this (full code and details are here <a href=\"https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/3_spring-boot-filter\" rel=\"noreferrer\">https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/3_spring-boot-filter</a> , look at README.txt to start):</p>\n<pre><code>@Component\npublic class ExampleFilter implements Filter {\n    ...\n}\n</code></pre>\n<p><strong>Second way:</strong></p>\n<p>If you want to use URL patterns, you can use @WebFilter like this (full code and details are here <a href=\"https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/4_spring-boot-filter-urlpattern\" rel=\"noreferrer\">https://github.com/surasint/surasint-examples/tree/master/spring-boot-jdbi/4_spring-boot-filter-urlpattern</a> , look at README.txt to start):</p>\n<pre><code>@WebFilter(urlPatterns = &quot;/api/count&quot;)\npublic class ExampleFilter implements Filter {\n    ...\n}\n</code></pre>\n<p>But you also need to add @ServletComponentScan annotation in your @SpringBootApplication class:</p>\n<pre><code>@ServletComponentScan\n@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n    ...\n}\n</code></pre>\n<p>Note that @Component is Spring's annotation, but @WebFilter is not. @WebFilter is Servlet 3 annotation.</p>\n<p>Both ways, you just need a basic Spring Boot dependency in <em>pom.xml</em> (there isn't any need for an explicit Tomcat embedded jasper)</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.surasint.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-04&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>WARNING:</strong> The first way, if the Controller in Spring Boot returns to a JSP file, the request will pass the filter twice.</p>\n<p>While, in the second way, the request will pass the filter only once.</p>\n<p>I prefer the second way, because it is more similar to default behavior in <a href=\"https://docs.oracle.com/cd/E19879-01/819-3669/6n5sg7b0b/index.html\" rel=\"noreferrer\">the Servlet specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":3583904,"reputation":53,"user_id":2991480,"display_name":"Muni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620808186,"creation_date":1515143231,"answer_id":48110321,"question_id":19825946,"body_markdown":"You can also make a filter by using `@WebFilter` and implementing `Filter`. It will do.\r\n\r\n    @Configuration\r\n    public class AppInConfig\r\n    {\r\n        @Bean\r\n        @Order(1)\r\n        public FilterRegistrationBean aiFilterRegistration()\r\n        {\r\n            FilterRegistrationBean registration = new FilterRegistrationBean();\r\n            registration.setFilter(new TrackingFilter());\r\n            registration.addUrlPatterns(&quot;/**&quot;);\r\n            registration.setOrder(1);\r\n            return registration;\r\n        }\r\n\r\n        @Bean(name = &quot;TrackingFilter&quot;)\r\n        public Filter TrackingFilter()\r\n        {\r\n            return new TrackingFilter();\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>You can also make a filter by using <code>@WebFilter</code> and implementing <code>Filter</code>. It will do.</p>\n<pre><code>@Configuration\npublic class AppInConfig\n{\n    @Bean\n    @Order(1)\n    public FilterRegistrationBean aiFilterRegistration()\n    {\n        FilterRegistrationBean registration = new FilterRegistrationBean();\n        registration.setFilter(new TrackingFilter());\n        registration.addUrlPatterns(&quot;/**&quot;);\n        registration.setOrder(1);\n        return registration;\n    }\n\n    @Bean(name = &quot;TrackingFilter&quot;)\n    public Filter TrackingFilter()\n    {\n        return new TrackingFilter();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12839136,"reputation":1,"user_id":9287696,"display_name":"oaoit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520514477,"creation_date":1517896496,"answer_id":48636339,"question_id":19825946,"body_markdown":"First, add `@ServletComponentScan` to your SpringBootApplication class.\r\n\r\n    @ServletComponentScan\r\n    public class Application {\r\n\r\nSecond, create a filter file extending Filter or third-party filter class and add `@WebFilter` to this file like this:\r\n\r\n    @Order(1) //optional\r\n    @WebFilter(filterName = &quot;XXXFilter&quot;, urlPatterns = &quot;/*&quot;,\r\n        dispatcherTypes = {DispatcherType.REQUEST, DispatcherType.FORWARD},\r\n        initParams = {@WebInitParam(name = &quot;confPath&quot;, value = &quot;classpath:/xxx.xml&quot;)})\r\n    public class XXXFilter extends Filter{\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>First, add <code>@ServletComponentScan</code> to your SpringBootApplication class.</p>\n\n<pre><code>@ServletComponentScan\npublic class Application {\n</code></pre>\n\n<p>Second, create a filter file extending Filter or third-party filter class and add <code>@WebFilter</code> to this file like this:</p>\n\n<pre><code>@Order(1) //optional\n@WebFilter(filterName = \"XXXFilter\", urlPatterns = \"/*\",\n    dispatcherTypes = {DispatcherType.REQUEST, DispatcherType.FORWARD},\n    initParams = {@WebInitParam(name = \"confPath\", value = \"classpath:/xxx.xml\")})\npublic class XXXFilter extends Filter{\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4239064,"reputation":10026,"user_id":3469489,"accept_rate":43,"display_name":"Shaaban Ebrahim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620808440,"creation_date":1519672529,"answer_id":48995554,"question_id":19825946,"body_markdown":"I saw a lot of answers here, but I didn&#39;t try any of them. I&#39;ve just created the filter as in the following code.\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import javax.servlet.*;\r\n    import javax.servlet.annotation.WebFilter;\r\n    import java.io.IOException;\r\n\r\n    @WebFilter(urlPatterns = &quot;/Admin&quot;)\r\n    @Configuration\r\n    public class AdminFilter implements Filter{\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse  servletResponse, FilterChain filterChain) throws IOException, ServletException      {\r\n        System.out.println(&quot;happened&quot;);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n\r\n        }\r\n    }\r\n\r\nAnd I left the remaining Spring Boot application as it was.\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>I saw a lot of answers here, but I didn't try any of them. I've just created the filter as in the following code.</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport javax.servlet.*;\nimport javax.servlet.annotation.WebFilter;\nimport java.io.IOException;\n\n@WebFilter(urlPatterns = &quot;/Admin&quot;)\n@Configuration\npublic class AdminFilter implements Filter{\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse  servletResponse, FilterChain filterChain) throws IOException, ServletException      {\n    System.out.println(&quot;happened&quot;);\n\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n<p>And I left the remaining Spring Boot application as it was.</p>\n"},{"comments":[{"owner":{"account_id":2024739,"reputation":11716,"user_id":3294396,"accept_rate":98,"display_name":"Benjamin RD"},"score":0,"creation_date":1565146060,"post_id":49610652,"comment_id":101256147,"body_markdown":"Simple and elegant! Thanks","body":"Simple and elegant! Thanks"}],"tags":[],"owner":{"account_id":1379003,"reputation":1405,"user_id":1312410,"display_name":"Vasily Komarov"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620808608,"creation_date":1522669414,"answer_id":49610652,"question_id":19825946,"body_markdown":"It&#39;s more an advice than an answer, but if you are using a Spring MVC in your web application the good idea is to use Spring HandlerInterceptor instead of Filter.\r\n\r\nIt can do the same job, but also\r\n - Can work with ModelAndView\r\n - Its methods can be called before and after request processing, or after request completion.\r\n - It can be easily tested\r\n\r\n### 1. Implement HandlerInterceptor interface and add a @Component annotation to your class\r\n\r\n    @Component\r\n    public class SecurityInterceptor implements HandlerInterceptor {\r\n\r\n        private static Logger log = LoggerFactory.getLogger(SecurityInterceptor.class);\r\n\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n            request.getSession(true);\r\n            if(isLoggedIn(request))\r\n                return true;\r\n\r\n            response.getWriter().write(&quot;{\\&quot;loggedIn\\&quot;:false}&quot;);\r\n            return false;\r\n        }\r\n\r\n        private boolean isLoggedIn(HttpServletRequest request) {\r\n            try {\r\n                UserSession userSession = (UserSession) request.getSession(true).getAttribute(&quot;userSession&quot;);\r\n                return userSession != null &amp;&amp; userSession.isLoggedIn();\r\n            } catch(IllegalStateException ex) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {\r\n\r\n        }\r\n    }\r\n\r\n### 2. Configure your Interceptor\r\n\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n\r\n        private HandlerInterceptor securityInterceptor;\r\n\r\n        @Autowired\r\n        public void setSecurityInterceptor(HandlerInterceptor securityInterceptor) {\r\n            this.securityInterceptor = securityInterceptor;\r\n        }\r\n\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(securityInterceptor).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/login&quot;, &quot;/logout&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>It's more an advice than an answer, but if you are using a Spring MVC in your web application the good idea is to use Spring HandlerInterceptor instead of Filter.</p>\n<p>It can do the same job, but also</p>\n<ul>\n<li>Can work with ModelAndView</li>\n<li>Its methods can be called before and after request processing, or after request completion.</li>\n<li>It can be easily tested</li>\n</ul>\n<h3>1. Implement HandlerInterceptor interface and add a @Component annotation to your class</h3>\n<pre><code>@Component\npublic class SecurityInterceptor implements HandlerInterceptor {\n\n    private static Logger log = LoggerFactory.getLogger(SecurityInterceptor.class);\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        request.getSession(true);\n        if(isLoggedIn(request))\n            return true;\n\n        response.getWriter().write(&quot;{\\&quot;loggedIn\\&quot;:false}&quot;);\n        return false;\n    }\n\n    private boolean isLoggedIn(HttpServletRequest request) {\n        try {\n            UserSession userSession = (UserSession) request.getSession(true).getAttribute(&quot;userSession&quot;);\n            return userSession != null &amp;&amp; userSession.isLoggedIn();\n        } catch(IllegalStateException ex) {\n            return false;\n        }\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception {\n\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {\n\n    }\n}\n</code></pre>\n<h3>2. Configure your Interceptor</h3>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    private HandlerInterceptor securityInterceptor;\n\n    @Autowired\n    public void setSecurityInterceptor(HandlerInterceptor securityInterceptor) {\n        this.securityInterceptor = securityInterceptor;\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(securityInterceptor).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/login&quot;, &quot;/logout&quot;);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1575852856,"post_id":50719356,"comment_id":104693916,"body_markdown":"This `@WebFilter` is only since Servlet 3.0. So it might not work properly for 2.5","body":"This <code>@WebFilter</code> is only since Servlet 3.0. So it might not work properly for 2.5"}],"tags":[],"owner":{"account_id":10635104,"reputation":165,"user_id":7832049,"display_name":"Rahul Anand"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650899392,"creation_date":1528284664,"answer_id":50719356,"question_id":19825946,"body_markdown":"Use:\r\n\r\n```java\r\n@WebFilter(urlPatterns=&quot;/*&quot;)\r\npublic class XSSFilter implements Filter {\r\n\r\n    private static final org.apache.log4j.Logger LOGGER = LogManager.getLogger(XSSFilter.class);\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n        LOGGER.info(&quot;Initiating XSSFilter... &quot;);\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n            throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n        HttpRequestWrapper requestWrapper = new HttpRequestWrapper(req);\r\n        chain.doFilter(requestWrapper, response);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n        LOGGER.info(&quot;Destroying XSSFilter... &quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou need to implement Filter, and it needs to be annotated with `@WebFilter(urlPatterns=&quot;/*&quot;)`.\r\n\r\nAnd in the Application or Configuration classes, you need to add `@ServletComponentScan`. By this, your filter will get registered.\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebFilter(urlPatterns=&quot;/*&quot;)\npublic class XSSFilter implements Filter {\n\n    private static final org.apache.log4j.Logger LOGGER = LogManager.getLogger(XSSFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        LOGGER.info(&quot;Initiating XSSFilter... &quot;);\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpRequestWrapper requestWrapper = new HttpRequestWrapper(req);\n        chain.doFilter(requestWrapper, response);\n    }\n\n    @Override\n    public void destroy() {\n        LOGGER.info(&quot;Destroying XSSFilter... &quot;);\n    }\n\n}\n</code></pre>\n<p>You need to implement Filter, and it needs to be annotated with <code>@WebFilter(urlPatterns=&quot;/*&quot;)</code>.</p>\n<p>And in the Application or Configuration classes, you need to add <code>@ServletComponentScan</code>. By this, your filter will get registered.</p>\n"},{"tags":[],"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620808856,"creation_date":1528869332,"answer_id":50829937,"question_id":19825946,"body_markdown":"I saw the answer [by Vasily Komarov][1]. Here is a similar approach, but using abstract _HandlerInterceptorAdapter_ class instead of using _HandlerInterceptor_.\r\n\r\nHere is an example...\r\n\r\n    @Component\r\n    public class CustomInterceptor extends HandlerInterceptorAdapter {\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n            throws Exception {\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    public class InterceptorConfig extends WebMvcConfigurerAdapter {\r\n\r\n        @Autowired\r\n        private CustomInterceptor customInterceptor ;\r\n\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(customInterceptor );\r\n        }\r\n\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/19825946/how-can-i-add-a-filter-class-in-spring-boot/49610652#49610652\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>I saw the answer <a href=\"https://stackoverflow.com/questions/19825946/how-can-i-add-a-filter-class-in-spring-boot/49610652#49610652\">by Vasily Komarov</a>. Here is a similar approach, but using abstract <em>HandlerInterceptorAdapter</em> class instead of using <em>HandlerInterceptor</em>.</p>\n<p>Here is an example...</p>\n<pre><code>@Component\npublic class CustomInterceptor extends HandlerInterceptorAdapter {\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n        throws Exception {\n    }\n}\n\n@Configuration\npublic class InterceptorConfig extends WebMvcConfigurerAdapter {\n\n    @Autowired\n    private CustomInterceptor customInterceptor ;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(customInterceptor );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13715324,"reputation":191,"user_id":9896584,"display_name":"Philip Dilip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620809250,"creation_date":1554632572,"answer_id":55557895,"question_id":19825946,"body_markdown":"As you all know, Spring Boot is a wonderful way of developing a web application or stand-alone application with minimum configuration and opinionated setup.\r\n\r\nThis is how I have achieved a web filter development in a Spring Boot application\r\n\r\nMy SpringBootApp specifications:\r\n\r\nSpring Boot version: 2.0.4.RELEASE &lt;br/&gt;\r\nJava version: 8.0 &lt;br/&gt;\r\nServlet specification: Servlet 3.0 (Mandatory and Important)\r\n\r\nI declared my web filter in the following manner, adhering to the Servlet specification 3.0\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nThis is the *programmatic* way of defining a filter as a replacement to *web.xml*-based definitions.\r\n\r\nThe &quot;@Webfilter&quot; annotation will be processed by the container during deployment. The Filter class, in which it is found, will be created as per the configuration and applied to the URL patterns, javax.servlet.Servlets and javax.servlet.DispatcherTypes.\r\n\r\nTo avoid Web.xml completely and to achieve &quot;Deployable&quot; WebApp:\r\n\r\nTo deploy a Spring Boot application as &quot;Traditional WAR&quot;, the application class should extend SpringBootServletInitializer.\r\n\r\n**NOTE:**\r\n\r\nSpringBootServletInitializer is a &quot;programmatic implementation&quot; of *web.xml* with reference to the Servlet 3.0+ specifications, which requires an implementation of WebApplicationInitializer.\r\n\r\nThus, SpringBootApplication doesn&#39;t require &quot;web.xml&quot; as its application class (after extending SpringBootServletInitializer). It scans for\r\n\r\n - @WebFilter,\r\n - @WebListener and\r\n - @WebServlet.\r\n\r\n&gt; Annotation @ServletComponentScan\r\n\r\nThis annotation enables scanning base packages for the web components annotated with @WebFilter, @WebListener and @WebServlet.\r\n\r\nDue to the fact that embedded containers do not support @WebServlet, @WebFilter and @WebListener annotations, Spring Boot, relying greatly on embedded containers, introduced this new annotation @ServletComponentScan to support some dependent JAR files that use these three annotations.\r\n\r\nScanning is only performed when using an embedded Servlet container.\r\n\r\n&gt; The following is my Spring Boot application class definition:\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nCustom Servlet Initializer:\r\n\r\nHere: I have defined a *custom class*: &quot;ServletInitializer&quot; which extends Class: SpringBootServletInitializer.\r\n\r\nAs explained earlier, SpringBootServletInitializer is responsible for scanning annotations:\r\n\r\n - @WebFilter,\r\n - @WebListener and\r\n - @WebServlet.\r\n\r\nAnd hence the Spring Boot application class should\r\n\r\n - Either extend the class: SpringBootServletInitializer *or*\r\n - extend the custom class which extends the class: SpringBootServletInitializer\r\n\r\n[![Enter image description here][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/Z5OIM.png\r\n  [2]: https://i.stack.imgur.com/DmnKu.png\r\n  [3]: https://i.stack.imgur.com/p3y1K.png\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>As you all know, Spring Boot is a wonderful way of developing a web application or stand-alone application with minimum configuration and opinionated setup.</p>\n<p>This is how I have achieved a web filter development in a Spring Boot application</p>\n<p>My SpringBootApp specifications:</p>\n<p>Spring Boot version: 2.0.4.RELEASE <br/>\nJava version: 8.0 <br/>\nServlet specification: Servlet 3.0 (Mandatory and Important)</p>\n<p>I declared my web filter in the following manner, adhering to the Servlet specification 3.0</p>\n<p><a href=\"https://i.stack.imgur.com/Z5OIM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z5OIM.png\" alt=\"Enter image description here\" /></a></p>\n<p>This is the <em>programmatic</em> way of defining a filter as a replacement to <em>web.xml</em>-based definitions.</p>\n<p>The &quot;@Webfilter&quot; annotation will be processed by the container during deployment. The Filter class, in which it is found, will be created as per the configuration and applied to the URL patterns, javax.servlet.Servlets and javax.servlet.DispatcherTypes.</p>\n<p>To avoid Web.xml completely and to achieve &quot;Deployable&quot; WebApp:</p>\n<p>To deploy a Spring Boot application as &quot;Traditional WAR&quot;, the application class should extend SpringBootServletInitializer.</p>\n<p><strong>NOTE:</strong></p>\n<p>SpringBootServletInitializer is a &quot;programmatic implementation&quot; of <em>web.xml</em> with reference to the Servlet 3.0+ specifications, which requires an implementation of WebApplicationInitializer.</p>\n<p>Thus, SpringBootApplication doesn't require &quot;web.xml&quot; as its application class (after extending SpringBootServletInitializer). It scans for</p>\n<ul>\n<li>@WebFilter,</li>\n<li>@WebListener and</li>\n<li>@WebServlet.</li>\n</ul>\n<blockquote>\n<p>Annotation @ServletComponentScan</p>\n</blockquote>\n<p>This annotation enables scanning base packages for the web components annotated with @WebFilter, @WebListener and @WebServlet.</p>\n<p>Due to the fact that embedded containers do not support @WebServlet, @WebFilter and @WebListener annotations, Spring Boot, relying greatly on embedded containers, introduced this new annotation @ServletComponentScan to support some dependent JAR files that use these three annotations.</p>\n<p>Scanning is only performed when using an embedded Servlet container.</p>\n<blockquote>\n<p>The following is my Spring Boot application class definition:</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/DmnKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DmnKu.png\" alt=\"Enter image description here\" /></a></p>\n<p>Custom Servlet Initializer:</p>\n<p>Here: I have defined a <em>custom class</em>: &quot;ServletInitializer&quot; which extends Class: SpringBootServletInitializer.</p>\n<p>As explained earlier, SpringBootServletInitializer is responsible for scanning annotations:</p>\n<ul>\n<li>@WebFilter,</li>\n<li>@WebListener and</li>\n<li>@WebServlet.</li>\n</ul>\n<p>And hence the Spring Boot application class should</p>\n<ul>\n<li>Either extend the class: SpringBootServletInitializer <em>or</em></li>\n<li>extend the custom class which extends the class: SpringBootServletInitializer</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/p3y1K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p3y1K.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2820277,"reputation":470,"user_id":2424178,"display_name":"Yogesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620809505,"creation_date":1559128152,"answer_id":56359179,"question_id":19825946,"body_markdown":"Filters, as the name suggest, used to perform filtering on either the request to a resource or on the response from a resource, or both. Spring Boot provides a few options to register custom filters in the Spring Boot application. Let’s look at the different options.\r\n\r\n**1. Define Spring Boot filter and invocation order**\r\n\r\nImplement the *Filter* interface to create a new filter in Spring Boot.\r\n\r\n    @Configuration\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class CustomFilter implements Filter {\r\n\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(CustomFilter.class);\r\n\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            LOGGER.info(&quot;########## Initiating Custom filter ##########&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest,\r\n                             ServletResponse servletResponse,\r\n                             FilterChain filterChain)\r\n                             throws IOException, ServletException {\r\n\r\n            HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n\r\n            LOGGER.info(&quot;Logging Request  {} : {}&quot;, request.getMethod(), request.getRequestURI());\r\n\r\n            // Call next filter in the filter chain\r\n            filterChain.doFilter(request, response);\r\n\r\n            LOGGER.info(&quot;Logging Response :{}&quot;, response.getContentType());\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n            // TODO: 7/4/2018\r\n        }\r\n    }\r\n\r\nLet’s quickly look at some important points in the above code\r\n\r\n - The filter registered by the ***@Component*** annotation.\r\n - To fire filters in the right order, we needed to use the ***@Order*** annotation.\r\n\r\n        @Component\r\n        @Order(1)\r\n        public class CustomFirstFilter implements Filter {\r\n\r\n        }\r\n\r\n        @Component\r\n        @Order(2)\r\n        public class CustomSecondFilter implements Filter {\r\n\r\n        }\r\n\r\nIn the above code, CustomFirstFilter will run before the CustomSecondFilter.\r\n\r\n&gt; The lower the number, the higher the precedence\r\n\r\n**2. URL Pattern**\r\n\r\nIf the convention-based mapping is not flexible enough, we can use ***FilterRegistrationBean*** for the complete control of the application. Here, don’t use ***@Component*** annotation for the filter class but register the filter using a ***FilterRegistrationBean***.\r\n\r\n    public class CustomURLFilter implements Filter {\r\n\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(CustomURLFilter.class);\r\n\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            LOGGER.info(&quot;########## Initiating CustomURLFilter filter ##########&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n\r\n            HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n\r\n            LOGGER.info(&quot;This Filter is only called when request is mapped for /customer resource&quot;);\r\n\r\n            // Call the next filter in the filter chain\r\n            filterChain.doFilter(request, response);\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n\r\n        }\r\n    }\r\n\r\nRegister the custom Filter using ***FilterRegistrationBean***.\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n        @Bean\r\n        public FilterRegistrationBean &lt; CustomURLFilter &gt; filterRegistrationBean() {\r\n            FilterRegistrationBean &lt; CustomURLFilter &gt; registrationBean = new FilterRegistrationBean();\r\n            CustomURLFilter customURLFilter = new CustomURLFilter();\r\n\r\n            registrationBean.setFilter(customURLFilter);\r\n            registrationBean.addUrlPatterns(&quot;/greeting/*&quot;);\r\n            registrationBean.setOrder(2); // Set precedence\r\n            return registrationBean;\r\n        }\r\n    }\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Filters, as the name suggest, used to perform filtering on either the request to a resource or on the response from a resource, or both. Spring Boot provides a few options to register custom filters in the Spring Boot application. Let’s look at the different options.</p>\n<p><strong>1. Define Spring Boot filter and invocation order</strong></p>\n<p>Implement the <em>Filter</em> interface to create a new filter in Spring Boot.</p>\n<pre><code>@Configuration\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CustomFilter implements Filter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(CustomFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        LOGGER.info(&quot;########## Initiating Custom filter ##########&quot;);\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest,\n                         ServletResponse servletResponse,\n                         FilterChain filterChain)\n                         throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n\n        LOGGER.info(&quot;Logging Request  {} : {}&quot;, request.getMethod(), request.getRequestURI());\n\n        // Call next filter in the filter chain\n        filterChain.doFilter(request, response);\n\n        LOGGER.info(&quot;Logging Response :{}&quot;, response.getContentType());\n    }\n\n    @Override\n    public void destroy() {\n        // TODO: 7/4/2018\n    }\n}\n</code></pre>\n<p>Let’s quickly look at some important points in the above code</p>\n<ul>\n<li><p>The filter registered by the <em><strong>@Component</strong></em> annotation.</p>\n</li>\n<li><p>To fire filters in the right order, we needed to use the <em><strong>@Order</strong></em> annotation.</p>\n<pre><code> @Component\n @Order(1)\n public class CustomFirstFilter implements Filter {\n\n }\n\n @Component\n @Order(2)\n public class CustomSecondFilter implements Filter {\n\n }\n</code></pre>\n</li>\n</ul>\n<p>In the above code, CustomFirstFilter will run before the CustomSecondFilter.</p>\n<blockquote>\n<p>The lower the number, the higher the precedence</p>\n</blockquote>\n<p><strong>2. URL Pattern</strong></p>\n<p>If the convention-based mapping is not flexible enough, we can use <em><strong>FilterRegistrationBean</strong></em> for the complete control of the application. Here, don’t use <em><strong>@Component</strong></em> annotation for the filter class but register the filter using a <em><strong>FilterRegistrationBean</strong></em>.</p>\n<pre><code>public class CustomURLFilter implements Filter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(CustomURLFilter.class);\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        LOGGER.info(&quot;########## Initiating CustomURLFilter filter ##########&quot;);\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n\n        LOGGER.info(&quot;This Filter is only called when request is mapped for /customer resource&quot;);\n\n        // Call the next filter in the filter chain\n        filterChain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n<p>Register the custom Filter using <em><strong>FilterRegistrationBean</strong></em>.</p>\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public FilterRegistrationBean &lt; CustomURLFilter &gt; filterRegistrationBean() {\n        FilterRegistrationBean &lt; CustomURLFilter &gt; registrationBean = new FilterRegistrationBean();\n        CustomURLFilter customURLFilter = new CustomURLFilter();\n\n        registrationBean.setFilter(customURLFilter);\n        registrationBean.addUrlPatterns(&quot;/greeting/*&quot;);\n        registrationBean.setOrder(2); // Set precedence\n        return registrationBean;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16029896,"reputation":160,"user_id":11569124,"display_name":"Ghulam Murtaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563973218,"creation_date":1563972634,"answer_id":57183382,"question_id":19825946,"body_markdown":"This filter will also help you to allow cross origin access\r\n\r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class SimpleCORSFilter implements Filter {\r\n    \r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n    \t\t\r\n    \t\t \tHttpServletResponse response = (HttpServletResponse) res;\r\n    \t\t    HttpServletRequest request = (HttpServletRequest) req;\r\n    \t\t    response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    \t\t    response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n    \t\t    response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;20000&quot;);\r\n    \t\t    response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with, authorization, Content-Type, Authorization, credential, X-XSRF-TOKEN&quot;);\r\n      \r\n    \t\t    if(&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n    \t\t        response.setStatus(HttpServletResponse.SC_OK);\r\n    \t\t    } else {\r\n    \t\t        chain.doFilter(req, res);\r\n    \t\t    }\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic void destroy() {}\r\n    \r\n    \t@Override\r\n    \tpublic void init(FilterConfig arg0) throws ServletException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"How can I add a filter class in Spring Boot?","body":"<p>This filter will also help you to allow cross origin access</p>\n\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class SimpleCORSFilter implements Filter {\n\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n            HttpServletResponse response = (HttpServletResponse) res;\n            HttpServletRequest request = (HttpServletRequest) req;\n            response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n            response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n            response.setHeader(\"Access-Control-Max-Age\", \"20000\");\n            response.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with, authorization, Content-Type, Authorization, credential, X-XSRF-TOKEN\");\n\n            if(\"OPTIONS\".equalsIgnoreCase(request.getMethod())) {\n                response.setStatus(HttpServletResponse.SC_OK);\n            } else {\n                chain.doFilter(req, res);\n            }\n    }\n\n\n    public void destroy() {}\n\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":1,"creation_date":1565334222,"post_id":57230193,"comment_id":101328262,"body_markdown":"Which filter to use and why ?","body":"Which filter to use and why ?"}],"tags":[],"owner":{"account_id":1329420,"reputation":1035,"user_id":1273619,"display_name":"isaolmez"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1564213570,"creation_date":1564213570,"answer_id":57230193,"question_id":19825946,"body_markdown":"We have roughly four different options to [register a filter using Spring][1].\r\n\r\nFirstly, we can create a Spring bean implementing *Filter* or extending *HttpFilter*:\r\n\r\n    @Component\r\n    public class MyFilter extends HttpFilter {\r\n\r\n        @Override\r\n        protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) \r\n            throws IOException, ServletException {\r\n            // Implementation details...\r\n\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nSecondly, we can create a Spring bean extending *GenericFilterBean*:\r\n\r\n    @Component\r\n    public class MyFilter extends GenericFilterBean {\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain)\r\n      throws IOException, ServletException {\r\n        //Implementation details...\r\n\r\n            chain.doFilter(currentRequest, servletResponse);\r\n        }\r\n    }\r\nAlternatively we can use the *FilterRegistrationBean* class:\r\n\r\n    @Configuration\r\n    public class FilterConfiguration {\r\n\r\n        private final MyFilter myFilter;\r\n\r\n        @Autowired\r\n        public FilterConfiguration(MyFilter myFilter) {\r\n            this.myFilter = myFilter;\r\n        }\r\n\r\n        @Bean\r\n        public FilterRegistrationBean&lt;MyFilter&gt; myFilterRegistration() {\r\n            FilterRegistrationBean&lt;DateLoggingFilter&gt; filterRegistrationBean = new FilterRegistrationBean&lt;&gt;();\r\n            filterRegistrationBean.setFilter(myFilter);\r\n            filterRegistrationBean.setUrlPatterns(Collections.singletonList(&quot;/*&quot;));\r\n            filterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST);\r\n            filterRegistrationBean.setOrder(Ordered.LOWEST_PRECEDENCE - 1);\r\n            return filterRegistrationBean;\r\n        }\r\n    }\r\n\r\nAnd lastly we can use the *@WebFilter* annotation with *@ServletComponentScan*:\r\n\r\n    @WebFilter(urlPatterns = &quot;/*&quot;, dispatcherTypes = {DispatcherType.REQUEST})\r\n    public class MyFilter extends HttpFilter {\r\n\r\n        @Override\r\n        protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n      throws IOException, ServletException {\r\n            // Implementation details...\r\n\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.javabyexamples.com/creating-filter-using-spring-mvc/","title":"How can I add a filter class in Spring Boot?","body":"<p>We have roughly four different options to <a href=\"http://www.javabyexamples.com/creating-filter-using-spring-mvc/\" rel=\"noreferrer\">register a filter using Spring</a>.</p>\n\n<p>Firstly, we can create a Spring bean implementing <em>Filter</em> or extending <em>HttpFilter</em>:</p>\n\n<pre><code>@Component\npublic class MyFilter extends HttpFilter {\n\n    @Override\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) \n        throws IOException, ServletException {\n        // Implementation details...\n\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n\n<p>Secondly, we can create a Spring bean extending <em>GenericFilterBean</em>:</p>\n\n<pre><code>@Component\npublic class MyFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain)\n  throws IOException, ServletException {\n    //Implementation details...\n\n        chain.doFilter(currentRequest, servletResponse);\n    }\n}\n</code></pre>\n\n<p>Alternatively we can use the <em>FilterRegistrationBean</em> class:</p>\n\n<pre><code>@Configuration\npublic class FilterConfiguration {\n\n    private final MyFilter myFilter;\n\n    @Autowired\n    public FilterConfiguration(MyFilter myFilter) {\n        this.myFilter = myFilter;\n    }\n\n    @Bean\n    public FilterRegistrationBean&lt;MyFilter&gt; myFilterRegistration() {\n        FilterRegistrationBean&lt;DateLoggingFilter&gt; filterRegistrationBean = new FilterRegistrationBean&lt;&gt;();\n        filterRegistrationBean.setFilter(myFilter);\n        filterRegistrationBean.setUrlPatterns(Collections.singletonList(\"/*\"));\n        filterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST);\n        filterRegistrationBean.setOrder(Ordered.LOWEST_PRECEDENCE - 1);\n        return filterRegistrationBean;\n    }\n}\n</code></pre>\n\n<p>And lastly we can use the <em>@WebFilter</em> annotation with <em>@ServletComponentScan</em>:</p>\n\n<pre><code>@WebFilter(urlPatterns = \"/*\", dispatcherTypes = {DispatcherType.REQUEST})\npublic class MyFilter extends HttpFilter {\n\n    @Override\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n  throws IOException, ServletException {\n        // Implementation details...\n\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8074479,"reputation":193,"user_id":6222252,"display_name":"Slimane Deb"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620809639,"creation_date":1566340169,"answer_id":57582283,"question_id":19825946,"body_markdown":"You need two main things:\r\n\r\n- Add `@ServletComponentScan` to your Main Class\r\n- You may add a package named filter inside it. You create a `Filter` class that has the following:\r\n\r\n        @Component\r\n        @Order(Ordered.HIGHEST_PRECEDENCE)\r\n        public class RequestFilter implements Filter {\r\n\r\n            // whatever field you have\r\n\r\n            public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) {\r\n                HttpServletResponse response = (HttpServletResponse) res;\r\n                HttpServletRequest request = (HttpServletRequest) req;\r\n\r\n                // Whatever implementation you want\r\n\r\n                try {\r\n                    chain.doFilter(req, res);\r\n                } catch(Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            public void init(FilterConfig filterConfig) {\r\n            }\r\n\r\n            public void destroy() {\r\n            }\r\n        }\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>You need two main things:</p>\n<ul>\n<li><p>Add <code>@ServletComponentScan</code> to your Main Class</p>\n</li>\n<li><p>You may add a package named filter inside it. You create a <code>Filter</code> class that has the following:</p>\n<pre><code>  @Component\n  @Order(Ordered.HIGHEST_PRECEDENCE)\n  public class RequestFilter implements Filter {\n\n      // whatever field you have\n\n      public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) {\n          HttpServletResponse response = (HttpServletResponse) res;\n          HttpServletRequest request = (HttpServletRequest) req;\n\n          // Whatever implementation you want\n\n          try {\n              chain.doFilter(req, res);\n          } catch(Exception e) {\n              e.printStackTrace();\n          }\n      }\n\n      public void init(FilterConfig filterConfig) {\n      }\n\n      public void destroy() {\n      }\n  }\n</code></pre>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2794245,"reputation":579,"user_id":2403791,"display_name":"TomasMolina"},"score":0,"creation_date":1653453388,"post_id":59675880,"comment_id":127853352,"body_markdown":"Straightforward answer but using springboot the second step is not needed at least you want to add the filter for a specific patter. Visit https://www.baeldung.com/spring-boot-add-filter for similar brief example.","body":"Straightforward answer but using springboot the second step is not needed at least you want to add the filter for a specific patter. Visit <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-add-filter</a> for similar brief example."}],"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620809749,"creation_date":1578633624,"answer_id":59675880,"question_id":19825946,"body_markdown":"Step 1: Create a filter component by implementing the *Filter* interface.\r\n\r\n    @Component\r\n    public class PerformanceFilter implements Filter {\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException {\r\n\r\n            ...\r\n            ...\r\n        }\r\n\r\n    }\r\n\r\nStep 2: Set this filter to the URI patterns using FilterRegistrationBean.\r\n\r\n    @Configuration\r\n    public class FilterConfig {\r\n        @Bean\r\n        public FilterRegistrationBean&lt;PerformanceFilter&gt; perfFilter() {\r\n            FilterRegistrationBean&lt;PerformanceFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\r\n            registration.setFilter(new PerformanceFilter());\r\n            registration.addUrlPatterns(&quot;/*&quot;);\r\n            return registration;\r\n        }\r\n    }\r\n\r\nYou can refer to [this link][1] for a complete application.\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2019/09/how-to-add-filter-to-spring-boot.html\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Step 1: Create a filter component by implementing the <em>Filter</em> interface.</p>\n<pre><code>@Component\npublic class PerformanceFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        ...\n        ...\n    }\n\n}\n</code></pre>\n<p>Step 2: Set this filter to the URI patterns using FilterRegistrationBean.</p>\n<pre><code>@Configuration\npublic class FilterConfig {\n    @Bean\n    public FilterRegistrationBean&lt;PerformanceFilter&gt; perfFilter() {\n        FilterRegistrationBean&lt;PerformanceFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\n        registration.setFilter(new PerformanceFilter());\n        registration.addUrlPatterns(&quot;/*&quot;);\n        return registration;\n    }\n}\n</code></pre>\n<p>You can refer to <a href=\"https://self-learning-java-tutorial.blogspot.com/2019/09/how-to-add-filter-to-spring-boot.html\" rel=\"nofollow noreferrer\">this link</a> for a complete application.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633777739,"creation_date":1633777739,"answer_id":69506160,"question_id":19825946,"body_markdown":"For Spring Boot in any configuration class I&#39;ve done:\r\n\r\n    @Bean\r\n    public OncePerRequestFilter myFilter() {\r\n        return new OncePerRequestFilter() {\r\n            @Override\r\n            protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n                AuthUser authUser = SecurityUtil.safeGet(); // applied after secutiry filters\r\n                ...\r\n                filterChain.doFilter(request, response);\r\n            }\r\n        };\r\n    }\r\n\r\nThat&#39;s all, no any registration needed. See also https://stackoverflow.com/questions/13152946/what-is-onceperrequestfilter","title":"How can I add a filter class in Spring Boot?","body":"<p>For Spring Boot in any configuration class I've done:</p>\n<pre><code>@Bean\npublic OncePerRequestFilter myFilter() {\n    return new OncePerRequestFilter() {\n        @Override\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n            AuthUser authUser = SecurityUtil.safeGet(); // applied after secutiry filters\n            ...\n            filterChain.doFilter(request, response);\n        }\n    };\n}\n</code></pre>\n<p>That's all, no any registration needed. See also <a href=\"https://stackoverflow.com/questions/13152946/what-is-onceperrequestfilter\">What is OncePerRequestFilter?</a></p>\n"},{"tags":[],"owner":{"account_id":8594459,"reputation":814,"user_id":6437920,"display_name":"Joel Wembo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662983503,"creation_date":1662983503,"answer_id":73688863,"question_id":19825946,"body_markdown":" Annotate your filter with one of the Spring stereotypes such as @Component. Register a @Bean with Filter type in Spring @Configuration. Register a @Bean with FilterRegistrationBean type in Spring @Configuration.","title":"How can I add a filter class in Spring Boot?","body":"<p>Annotate your filter with one of the Spring stereotypes such as @Component. Register a @Bean with Filter type in Spring @Configuration. Register a @Bean with FilterRegistrationBean type in Spring @Configuration.</p>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672947011,"creation_date":1672947011,"answer_id":75023479,"question_id":19825946,"body_markdown":"For filtering based on any criteria and for any list in spring boot, **query language** is more flexible and allows us to filter down to exactly the resources we need.\r\nFor instance, if we have simple entity like User and define it like this.\r\n\r\n    @Entity\r\n    public class User {\r\n    @Id\r\n    @GeneratedValue(strategy = \r\n    GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n\r\n    private int age;\r\n    \r\n    //Setter and getter as usual\r\n\r\nThen we create a UserSpecification that implements the Specification interface, and we&#39;re going to pass in our own constraint to construct the actual query. In this part methods related to **criteria** and **builder** as defined are very useful and flexible.\r\n\r\n    public class UserSpecification implements Specification&lt;User&gt; {\r\n\r\n    private SearchCriteria criteria;\r\n\r\n    @Override\r\n    public Predicate toPredicate\r\n      (Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n \r\n        if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\r\n            return builder.greaterThanOrEqualTo(\r\n              root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n        } \r\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\r\n            return builder.lessThanOrEqualTo(\r\n              root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\r\n        } \r\n        else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\r\n            if (root.get(criteria.getKey()).getJavaType() == String.class) {\r\n                return builder.like(\r\n                  root.&lt;String&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\r\n            } else {\r\n                return builder.equal(root.get(criteria.getKey()), criteria.getValue());\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    }\r\n\r\nAnd beside we create a Specification based on some simple constraints that represented in the following SearchCriteria class, any criteria can be create like this:\r\n\r\n    public class SearchCriteria {\r\n    private String key;\r\n    private String operation;\r\n    private Object value;\r\n     }\r\n\r\nAt the end define UserRepository and extend JpaSpecificationExecutor,\r\n\r\n    public interface UserRepository \r\n    extends JpaRepository&lt;User, Long&gt;, \r\n    JpaSpecificationExecutor&lt;User&gt; {}\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>For filtering based on any criteria and for any list in spring boot, <strong>query language</strong> is more flexible and allows us to filter down to exactly the resources we need.\nFor instance, if we have simple entity like User and define it like this.</p>\n<pre><code>@Entity\npublic class User {\n@Id\n@GeneratedValue(strategy = \nGenerationType.AUTO)\nprivate Long id;\n\nprivate String firstName;\nprivate String lastName;\nprivate String email;\n\nprivate int age;\n\n//Setter and getter as usual\n</code></pre>\n<p>Then we create a UserSpecification that implements the Specification interface, and we're going to pass in our own constraint to construct the actual query. In this part methods related to <strong>criteria</strong> and <strong>builder</strong> as defined are very useful and flexible.</p>\n<pre><code>public class UserSpecification implements Specification&lt;User&gt; {\n\nprivate SearchCriteria criteria;\n\n@Override\npublic Predicate toPredicate\n  (Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n\n    if (criteria.getOperation().equalsIgnoreCase(&quot;&gt;&quot;)) {\n        return builder.greaterThanOrEqualTo(\n          root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\n    } \n    else if (criteria.getOperation().equalsIgnoreCase(&quot;&lt;&quot;)) {\n        return builder.lessThanOrEqualTo(\n          root.&lt;String&gt; get(criteria.getKey()), criteria.getValue().toString());\n    } \n    else if (criteria.getOperation().equalsIgnoreCase(&quot;:&quot;)) {\n        if (root.get(criteria.getKey()).getJavaType() == String.class) {\n            return builder.like(\n              root.&lt;String&gt;get(criteria.getKey()), &quot;%&quot; + criteria.getValue() + &quot;%&quot;);\n        } else {\n            return builder.equal(root.get(criteria.getKey()), criteria.getValue());\n        }\n    }\n    return null;\n}\n}\n</code></pre>\n<p>And beside we create a Specification based on some simple constraints that represented in the following SearchCriteria class, any criteria can be create like this:</p>\n<pre><code>public class SearchCriteria {\nprivate String key;\nprivate String operation;\nprivate Object value;\n }\n</code></pre>\n<p>At the end define UserRepository and extend JpaSpecificationExecutor,</p>\n<pre><code>public interface UserRepository \nextends JpaRepository&lt;User, Long&gt;, \nJpaSpecificationExecutor&lt;User&gt; {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12046249,"reputation":479,"user_id":8811143,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680773971,"creation_date":1680773971,"answer_id":75948031,"question_id":19825946,"body_markdown":"Here is pretty simple way of defining Filter:\r\n\r\n    @Component\r\n    @Order(1)\r\n    public class SampleFilter implements Filter {\r\n    \r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n    \r\n            System.out.println(&quot;Sample Filter initialized&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            // with Spring Dependency Injection this method will not be invoked\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\r\n    \r\n        \r\n    \r\n            chain.doFilter(servletRequest, servletResponse);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n    \r\n        }\r\n    }","title":"How can I add a filter class in Spring Boot?","body":"<p>Here is pretty simple way of defining Filter:</p>\n<pre><code>@Component\n@Order(1)\npublic class SampleFilter implements Filter {\n\n\n    @PostConstruct\n    public void init() {\n\n        System.out.println(&quot;Sample Filter initialized&quot;);\n\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        // with Spring Dependency Injection this method will not be invoked\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\n\n    \n\n        chain.doFilter(servletRequest, servletResponse);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15773347"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680774659,"creation_date":1680774659,"answer_id":75948129,"question_id":19825946,"body_markdown":"Here is a simple Example how to use `FilterRegistrationBean`:\r\n\r\n    import javax.servlet.*;\r\n    import java.io.IOException;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class MySpringBootApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MySpringBootApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean&lt;MyCustomFilter&gt; myCustomFilterRegistrationBean() {\r\n            FilterRegistrationBean&lt;MyCustomFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n            registrationBean.setFilter(new MyCustomFilter());\r\n            registrationBean.addUrlPatterns(&quot;/*&quot;); /\r\n            return registrationBean;\r\n        }\r\n    \r\n        public static class MyCustomFilter implements Filter {\r\n    \r\n            @Override\r\n            public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n                    throws IOException, ServletException {\r\n                // Your filter logic comes here\r\n            \r\n                filterChain.doFilter(servletRequest, servletResponse);\r\n            }\r\n        }\r\n    }\r\n\r\nHere are some useful resources:\r\n\r\n* https://spring.io/guides\r\n* https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#boot-features-registering-filters\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Here is a simple Example how to use <code>FilterRegistrationBean</code>:</p>\n<pre><code>import javax.servlet.*;\nimport java.io.IOException;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class MySpringBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MySpringBootApplication.class, args);\n    }\n\n    @Bean\n    public FilterRegistrationBean&lt;MyCustomFilter&gt; myCustomFilterRegistrationBean() {\n        FilterRegistrationBean&lt;MyCustomFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new MyCustomFilter());\n        registrationBean.addUrlPatterns(&quot;/*&quot;); /\n        return registrationBean;\n    }\n\n    public static class MyCustomFilter implements Filter {\n\n        @Override\n        public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n                throws IOException, ServletException {\n            // Your filter logic comes here\n        \n            filterChain.doFilter(servletRequest, servletResponse);\n        }\n    }\n}\n</code></pre>\n<p>Here are some useful resources:</p>\n<ul>\n<li><a href=\"https://spring.io/guides\" rel=\"nofollow noreferrer\">https://spring.io/guides</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#boot-features-registering-filters\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#boot-features-registering-filters</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682172645,"creation_date":1682172645,"answer_id":76080076,"question_id":19825946,"body_markdown":"## Short answer to your question:  \r\n```kotlin\r\n@Component\r\nclass MyCustomFilter : OncePerRequestFilter() {\r\n    override fun doFilterInternal(\r\n        request: HttpServletRequest,\r\n        response: HttpServletResponse,\r\n        filterChain: FilterChain\r\n    ) {\r\n        //some work: adding headers, working with authentication or something else\r\n        filterChain.doFilter(request, response)\r\n    }\r\n}\r\n```\r\n\r\n## More details below:\r\nLet&#39;s say we have the following chain:\r\n\r\n```kotlin\r\n@Bean\r\n@Throws(Exception::class)\r\nfun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n    http.authorizeRequests()\r\n        .antMatchers(HttpMethod.POST, &quot;/first&quot;, &quot;/second&quot;)\r\n        .authenticated()\r\n        .anyRequest()\r\n        .permitAll()\r\n        .and()\r\n        .httpBasic()\r\n        .authenticationEntryPoint(auditAuthenticationEntryPoint)\r\n        .and()\r\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and().formLogin().disable()\r\n        .csrf().disable()\r\n        .cors().configurationSource(corsConfigurationSource())\r\n    return http.build()\r\n}\r\n```\r\n\r\nAnd we want to add the following filter to this chain between some specific filters.\r\n\r\nHere are a few ways to add our filter to the chain:  \r\n#### 1) adding the @Order annotation to the filter:  \r\n```kotlin\r\n@Component\r\n@Order(5)\r\nclass MyCustomFilter : OncePerRequestFilter()\r\n```\r\n*Note that:*\r\n* If you do not specify an order in the annotation, then the default order is: ```Ordered.LOWEST_PRECEDENCE``` - your filter will be the last one in the chain.\r\n* If you are working with Authentication in your filter (through authentication providers) then ```Ordered.LOWEST_PRECEDENCE``` and ```Ordered.HIGHEST_PRECEDENCE```\r\nnot suitable for your case because:\r\n  * in case ```Ordered.HIGHEST_PRECEDENCE``` filter```SecurityContextPersistenceFilter``` which will be executed after your \r\n  filter will clear the SecurityContext even if your filter added an Authentication object to the SecurityContext\r\n  * in the case of ```Ordered.LOWEST_PRECEDENCE``` your filter will not be called at all: AnonymousAuthenticationFilter will set the Authentication object to\r\n  Anonymous and you will receive a 401 or 403 response before the chain calls your filter\r\n  * In this case, you need to get the chain and determine the specific order of your filter\r\n  via the ```FilterChainProxy``` and the ```doFilter(ServletRequest request, ServletResponse response)``` method, getting ```this.additionalFilters```. For example, ```5```.\r\n  But this is not the best way to determine the order\r\n#### 2) The standard (and best) way is through setting up the filter chain itself:\r\n```kotlin\r\n    @Bean\r\n    @Throws(Exception::class)\r\n    fun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n        http.authorizeRequests()\r\n            ...\r\n            .addFilterBefore(MyCustomFulter(), BasicAuthenticationFilter::class.java)\r\n            ...\r\n        return http.build()\r\n    }\r\n```\r\n### 3) Injecting a filter into a chain in @PostConstruct\r\nIn my case, .addFilterBefore() was not possible due to the fact that \r\nthe filter was added from the starter. My starter needs to add a filter \r\nto each chain after the LogoutFilter. Since there can be multiple chains in \r\na context, I add a filter to each one. Thus, when adding my starter to the application\r\n, the filter is added to the required place without any additional configuration:\r\n```kotlin\r\n@Configuration\r\n@ComponentScan\r\n@ConfigurationPropertiesScan\r\nclass CommonConfig {\r\n    @Autowired\r\n    lateinit var chains: List&lt;SecurityFilterChain&gt;\r\n\r\n    @Autowired\r\n    lateinit var myCustomFilter: MyCustomFilter\r\n\r\n    @PostConstruct\r\n    fun post() {\r\n        chains.forEach {\r\n            for (i in it.filters.indices){\r\n                if (it.filters[i] is LogoutFilter) {\r\n                    it.filters.add(i + 1, myCustomFilter)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How can I add a filter class in Spring Boot?","body":"<h2>Short answer to your question:</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass MyCustomFilter : OncePerRequestFilter() {\n    override fun doFilterInternal(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        filterChain: FilterChain\n    ) {\n        //some work: adding headers, working with authentication or something else\n        filterChain.doFilter(request, response)\n    }\n}\n</code></pre>\n<h2>More details below:</h2>\n<p>Let's say we have the following chain:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\n@Throws(Exception::class)\nfun filterChain(http: HttpSecurity): SecurityFilterChain {\n    http.authorizeRequests()\n        .antMatchers(HttpMethod.POST, &quot;/first&quot;, &quot;/second&quot;)\n        .authenticated()\n        .anyRequest()\n        .permitAll()\n        .and()\n        .httpBasic()\n        .authenticationEntryPoint(auditAuthenticationEntryPoint)\n        .and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and().formLogin().disable()\n        .csrf().disable()\n        .cors().configurationSource(corsConfigurationSource())\n    return http.build()\n}\n</code></pre>\n<p>And we want to add the following filter to this chain between some specific filters.</p>\n<p>Here are a few ways to add our filter to the chain:</p>\n<h4>1) adding the @Order annotation to the filter:</h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Order(5)\nclass MyCustomFilter : OncePerRequestFilter()\n</code></pre>\n<p><em>Note that:</em></p>\n<ul>\n<li>If you do not specify an order in the annotation, then the default order is: <code>Ordered.LOWEST_PRECEDENCE</code> - your filter will be the last one in the chain.</li>\n<li>If you are working with Authentication in your filter (through authentication providers) then <code>Ordered.LOWEST_PRECEDENCE</code> and <code>Ordered.HIGHEST_PRECEDENCE</code>\nnot suitable for your case because:\n<ul>\n<li>in case <code>Ordered.HIGHEST_PRECEDENCE</code> filter<code>SecurityContextPersistenceFilter</code> which will be executed after your\nfilter will clear the SecurityContext even if your filter added an Authentication object to the SecurityContext</li>\n<li>in the case of <code>Ordered.LOWEST_PRECEDENCE</code> your filter will not be called at all: AnonymousAuthenticationFilter will set the Authentication object to\nAnonymous and you will receive a 401 or 403 response before the chain calls your filter</li>\n<li>In this case, you need to get the chain and determine the specific order of your filter\nvia the <code>FilterChainProxy</code> and the <code>doFilter(ServletRequest request, ServletResponse response)</code> method, getting <code>this.additionalFilters</code>. For example, <code>5</code>.\nBut this is not the best way to determine the order</li>\n</ul>\n</li>\n</ul>\n<h4>2) The standard (and best) way is through setting up the filter chain itself:</h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Bean\n    @Throws(Exception::class)\n    fun filterChain(http: HttpSecurity): SecurityFilterChain {\n        http.authorizeRequests()\n            ...\n            .addFilterBefore(MyCustomFulter(), BasicAuthenticationFilter::class.java)\n            ...\n        return http.build()\n    }\n</code></pre>\n<h3>3) Injecting a filter into a chain in @PostConstruct</h3>\n<p>In my case, .addFilterBefore() was not possible due to the fact that\nthe filter was added from the starter. My starter needs to add a filter\nto each chain after the LogoutFilter. Since there can be multiple chains in\na context, I add a filter to each one. Thus, when adding my starter to the application\n, the filter is added to the required place without any additional configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\n@ComponentScan\n@ConfigurationPropertiesScan\nclass CommonConfig {\n    @Autowired\n    lateinit var chains: List&lt;SecurityFilterChain&gt;\n\n    @Autowired\n    lateinit var myCustomFilter: MyCustomFilter\n\n    @PostConstruct\n    fun post() {\n        chains.forEach {\n            for (i in it.filters.indices){\n                if (it.filters[i] is LogoutFilter) {\n                    it.filters.add(i + 1, myCustomFilter)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":42992,"reputation":8592,"user_id":125470,"accept_rate":44,"display_name":"janetsmith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414117,"favorite_count":0,"down_vote_count":1,"up_vote_count":287,"answer_count":29,"score":286,"last_activity_date":1682172645,"creation_date":1383785536,"question_id":19825946,"body_markdown":"Is there any annotation for a `Filter` class (for web applications) in Spring Boot? Perhaps `@Filter`?\r\n\r\nI want to add a custom filter in my project.\r\n\r\n[The Spring Boot Reference Guide][0] mentioned about\r\n`FilterRegistrationBean`, but I am not sure how to use it.\r\n\r\n  [0]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\r\n\r\n","title":"How can I add a filter class in Spring Boot?","body":"<p>Is there any annotation for a <code>Filter</code> class (for web applications) in Spring Boot? Perhaps <code>@Filter</code>?</p>\n<p>I want to add a custom filter in my project.</p>\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/\" rel=\"noreferrer\">The Spring Boot Reference Guide</a> mentioned about\n<code>FilterRegistrationBean</code>, but I am not sure how to use it.</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1682175969,"post_id":76080040,"comment_id":134175742,"body_markdown":"Did you compile the controller? Does a file `sample/Controller.class` exist? `javac --module-path lib --add-modules=javafx.controls,javafx.fxml sample/Controller.java`","body":"Did you compile the controller? Does a file <code>sample&#47;Controller.class</code> exist? <code>javac --module-path lib --add-modules=javafx.controls,javafx.fxml sample&#47;Controller.java</code>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1682176016,"post_id":76080040,"comment_id":134175749,"body_markdown":"In general, IMO, it is easier to develop with build tools (e.g. Maven).","body":"In general, IMO, it is easier to develop with build tools (e.g. Maven)."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682180984,"post_id":76080040,"comment_id":134176361,"body_markdown":"Are you using an IDE? It will simplify this type of stuff.","body":"Are you using an IDE? It will simplify this type of stuff."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682181067,"post_id":76080040,"comment_id":134176372,"body_markdown":"I like `Netbeans` `Modular` with  `Maven`. https://openjfx.io/openjfx-docs/","body":"I like <code>Netbeans</code> <code>Modular</code> with  <code>Maven</code>. <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1682181230,"post_id":76080040,"comment_id":134176394,"body_markdown":"I see `fx:root`; are you developing [_Custom Components_](https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components)?","body":"I see <code>fx:root</code>; are you developing <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#custom_components\" rel=\"nofollow noreferrer\"><i>Custom Components</i></a>?"}],"owner":{"account_id":27909933,"reputation":11,"user_id":21312346,"display_name":"Awc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682172058,"creation_date":1682172058,"question_id":76080040,"body_markdown":"I am trying to link my controller Controller.java to my sample.fxml , however whatever I try it seems that it cannot find my controller class. The game works just fine when I do not include the controller.\r\n\r\nPartial stack trace:\r\n\r\n```\r\n    Exception in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: javafx.fxml.LoadException: \r\n/Users/awc/GitRepos/comp16412-coursework-2__z78295ac/src/main/sample/sample.fxml:12\r\n\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:935)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$RootElement.processAttribute(FXMLLoader.java:1302)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:757)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n\tat sample.Main.start(Main.java:26)\r\n\tat javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n\tat javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\nCaused by: java.lang.ClassNotFoundException: sample.Controller\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:933)\r\n\t... 14 more \r\n```\r\nI have read many different forums and tried several different things, such as making a package, running the command from different directories, and adding fx:root tag. I have tried using absolute and relative file paths. I am also stating the package name when declaring the controller in sample.fxml: \r\n```fx:controller=&quot;sample.Controller&quot;```\r\nMy controller is also public. \r\n\r\nThis is the [file hierachy][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S0yFS.png\r\n\r\n\r\nI am running from the main directory, with commands:\r\n\r\n```\r\njavac --module-path lib --add-modules=javafx.controls,javafx.fxml sample/Main.java\r\njava --module-path lib --add-modules=javafx.controls,javafx.fxml sample.Main\r\n\r\n```\r\n\r\n**Controller.java**\r\n```\r\npackage sample;\r\n\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class Controller {\r\n\r\n    public Button startButton;\r\n    public VBox playerNames;\r\n\r\n    public void startGame(){\r\n\r\n        for (Node node : playerNames.getChildren()) {\r\n            System.out.println(&quot;Id: &quot; + node.getId());\r\n            if (node instanceof TextField) {\r\n                // clear\r\n                ((TextField)node).setText(&quot;&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n**Main.java**\r\n\r\n```\r\npackage sample;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\n\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n    \r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;sample.fxml&quot;));\r\n        loader.setRoot(this);\r\n        // loader.setController(this);\r\n        loader.setClassLoader(getClass().getClassLoader()); // set the plugin&#39;s class loader\r\n\r\n        // Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n        \r\n        Parent root = (Parent) loader.load();\r\n        primaryStage.setTitle((&quot;Hello world&quot;));\r\n        primaryStage.setScene(new Scene(root, 1000, 500));\r\n        primaryStage.show();\r\n\r\n    }\r\n\r\n    \r\n}\r\n\r\n```\r\n**sample.fxml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n&lt;?import sample.*?&gt;\r\n\r\n&lt;fx:root maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-background-color: black;&quot; type=&quot;BorderPane&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sample.Controller&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;VBox fx:id=&quot;playerNames&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; style=&quot;-fx-padding: 30;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;TextField prefHeight=&quot;26.0&quot; prefWidth=&quot;541.0&quot; promptText=&quot;Player 1&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField promptText=&quot;Player 2&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField promptText=&quot;Player 3&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField promptText=&quot;Player 4&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField prefHeight=&quot;26.0&quot; prefWidth=&quot;363.0&quot; promptText=&quot;Player 5&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n         &lt;/children&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n      &lt;/VBox&gt;\r\n   &lt;/center&gt;\r\n   &lt;right&gt;\r\n      &lt;Text fill=&quot;WHITE&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Selfish Space Game - Original Implementation by Ridleys Games&quot; wrappingWidth=&quot;124.04833984375&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets right=&quot;50.0&quot; /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Text&gt;\r\n   &lt;/right&gt;\r\n   &lt;padding&gt;\r\n      &lt;Insets right=&quot;20.0&quot; /&gt;\r\n   &lt;/padding&gt;\r\n   &lt;top&gt;\r\n      &lt;HBox prefHeight=&quot;26.0&quot; prefWidth=&quot;607.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Rules&quot;&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;30.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Load Saved Game&quot;&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;30.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets top=&quot;10.0&quot; /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n      &lt;/HBox&gt;\r\n   &lt;/top&gt;\r\n   &lt;bottom&gt;\r\n      &lt;Button fx:id=&quot;startButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#startGame&quot; text=&quot;Start Game!&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;BorderPane.margin&gt;\r\n            &lt;Insets bottom=&quot;50.0&quot; /&gt;\r\n         &lt;/BorderPane.margin&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;22.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/bottom&gt;\r\n&lt;/fx:root&gt;\r\n```\r\n\r\nAny help is much appreciated. Thank you.","title":"Java FXML Cannot find controller class","body":"<p>I am trying to link my controller Controller.java to my sample.fxml , however whatever I try it seems that it cannot find my controller class. The game works just fine when I do not include the controller.</p>\n<p>Partial stack trace:</p>\n<pre><code>    Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: javafx.fxml.LoadException: \n/Users/awc/GitRepos/comp16412-coursework-2__z78295ac/src/main/sample/sample.fxml:12\n\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:935)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$RootElement.processAttribute(FXMLLoader.java:1302)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:757)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n    at sample.Main.start(Main.java:26)\n    at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics@20/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\nCaused by: java.lang.ClassNotFoundException: sample.Controller\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at javafx.fxml@20/javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:933)\n    ... 14 more \n</code></pre>\n<p>I have read many different forums and tried several different things, such as making a package, running the command from different directories, and adding fx:root tag. I have tried using absolute and relative file paths. I am also stating the package name when declaring the controller in sample.fxml:\n<code>fx:controller=&quot;sample.Controller&quot;</code>\nMy controller is also public.</p>\n<p>This is the <a href=\"https://i.stack.imgur.com/S0yFS.png\" rel=\"nofollow noreferrer\">file hierachy</a></p>\n<p>I am running from the main directory, with commands:</p>\n<pre><code>javac --module-path lib --add-modules=javafx.controls,javafx.fxml sample/Main.java\njava --module-path lib --add-modules=javafx.controls,javafx.fxml sample.Main\n\n</code></pre>\n<p><strong>Controller.java</strong></p>\n<pre><code>package sample;\n\nimport javafx.scene.Node;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\n\npublic class Controller {\n\n    public Button startButton;\n    public VBox playerNames;\n\n    public void startGame(){\n\n        for (Node node : playerNames.getChildren()) {\n            System.out.println(&quot;Id: &quot; + node.getId());\n            if (node instanceof TextField) {\n                // clear\n                ((TextField)node).setText(&quot;&quot;);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\n\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n    \n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;sample.fxml&quot;));\n        loader.setRoot(this);\n        // loader.setController(this);\n        loader.setClassLoader(getClass().getClassLoader()); // set the plugin's class loader\n\n        // Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\n        \n        Parent root = (Parent) loader.load();\n        primaryStage.setTitle((&quot;Hello world&quot;));\n        primaryStage.setScene(new Scene(root, 1000, 500));\n        primaryStage.show();\n\n    }\n\n    \n}\n\n</code></pre>\n<p><strong>sample.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n&lt;?import sample.*?&gt;\n\n&lt;fx:root maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; style=&quot;-fx-background-color: black;&quot; type=&quot;BorderPane&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sample.Controller&quot;&gt;\n   &lt;center&gt;\n      &lt;VBox fx:id=&quot;playerNames&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; style=&quot;-fx-padding: 30;&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;TextField prefHeight=&quot;26.0&quot; prefWidth=&quot;541.0&quot; promptText=&quot;Player 1&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField promptText=&quot;Player 2&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField promptText=&quot;Player 3&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField promptText=&quot;Player 4&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField prefHeight=&quot;26.0&quot; prefWidth=&quot;363.0&quot; promptText=&quot;Player 5&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n         &lt;/children&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets /&gt;\n         &lt;/BorderPane.margin&gt;\n      &lt;/VBox&gt;\n   &lt;/center&gt;\n   &lt;right&gt;\n      &lt;Text fill=&quot;WHITE&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Selfish Space Game - Original Implementation by Ridleys Games&quot; wrappingWidth=&quot;124.04833984375&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets right=&quot;50.0&quot; /&gt;\n         &lt;/BorderPane.margin&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Text&gt;\n   &lt;/right&gt;\n   &lt;padding&gt;\n      &lt;Insets right=&quot;20.0&quot; /&gt;\n   &lt;/padding&gt;\n   &lt;top&gt;\n      &lt;HBox prefHeight=&quot;26.0&quot; prefWidth=&quot;607.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Rules&quot;&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;30.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n            &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Load Saved Game&quot;&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;30.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets top=&quot;10.0&quot; /&gt;\n         &lt;/BorderPane.margin&gt;\n      &lt;/HBox&gt;\n   &lt;/top&gt;\n   &lt;bottom&gt;\n      &lt;Button fx:id=&quot;startButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#startGame&quot; text=&quot;Start Game!&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;BorderPane.margin&gt;\n            &lt;Insets bottom=&quot;50.0&quot; /&gt;\n         &lt;/BorderPane.margin&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;22.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/bottom&gt;\n&lt;/fx:root&gt;\n</code></pre>\n<p>Any help is much appreciated. Thank you.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","arraylist"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1682150953,"post_id":76078476,"comment_id":134172937,"body_markdown":"Aside from my answer, if you understand Kotlin, this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) will help. Here is the corresponding [repo](https://github.com/alexmamo/RealtimeDatabase).","body":"Aside from my answer, if you understand Kotlin, this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/RealtimeDatabase\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"comments":[{"owner":{"account_id":28266281,"reputation":3,"user_id":21610190,"display_name":"settipalli sudheendra"},"score":1,"creation_date":1682180165,"post_id":76078627,"comment_id":134176240,"body_markdown":"Thanks a lot this really helped. Thanks for not just giving the solution but also explaining it.","body":"Thanks a lot this really helped. Thanks for not just giving the solution but also explaining it."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682150920,"creation_date":1682150920,"answer_id":76078627,"question_id":76078476,"body_markdown":"Data is loaded from Firebase Realtime Database asynchronous. So there is no way you can calculate the size of the `questionlists` before the data is loaded completely. The solution is always the same. Any code that needs to use data that comes from a Realtime Database, needs to be inside the `onDataChange()` method or be called from there.\r\n\r\nSo in your particular case, you should call the `loadnewquestion()` method from within the `onDataChange()`, in order to see the size of the list. To solve this, please move the following line of code:\r\n\r\n    loadnewquestion();\r\n\r\nBefore:\r\n\r\n    progressDialog.hide();\r\n\r\nOne more thing, stop ignoring errors. At a minimum, please add:\r\n\r\n    Log.d(TAG, error.getMessage());\r\n\r\nInside the `onCancelled()`. If you don&#39;t and your request fails, you&#39;ll never know why.","title":"I am not able to get the size of the arraylist on creation of the activity","body":"<p>Data is loaded from Firebase Realtime Database asynchronous. So there is no way you can calculate the size of the <code>questionlists</code> before the data is loaded completely. The solution is always the same. Any code that needs to use data that comes from a Realtime Database, needs to be inside the <code>onDataChange()</code> method or be called from there.</p>\n<p>So in your particular case, you should call the <code>loadnewquestion()</code> method from within the <code>onDataChange()</code>, in order to see the size of the list. To solve this, please move the following line of code:</p>\n<pre><code>loadnewquestion();\n</code></pre>\n<p>Before:</p>\n<pre><code>progressDialog.hide();\n</code></pre>\n<p>One more thing, stop ignoring errors. At a minimum, please add:</p>\n<pre><code>Log.d(TAG, error.getMessage());\n</code></pre>\n<p>Inside the <code>onCancelled()</code>. If you don't and your request fails, you'll never know why.</p>\n"}],"owner":{"account_id":28266281,"reputation":3,"user_id":21610190,"display_name":"settipalli sudheendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76078627,"answer_count":1,"score":0,"last_activity_date":1682172017,"creation_date":1682148107,"question_id":76078476,"body_markdown":"I am a real beginner with Android and I have been trying to make a simple quiz app using Firebase but when I want to get the size of the ArrayList which contains the questions, the size of the array list is zero on the creation of the activity but when I restart the quiz from the alert dialog box everything works fine. I am not able to find out what the problem is. Any suggestion would be really helpful\r\n\r\nThis is my code\r\n```\r\nTextView totalquestions,question;\r\n    Button ansa,ansb,ansc,ansd,submit;\r\n\r\n    int score=0;\r\n\r\n    int currentquestionindex=0;\r\n    String selectedanswer=&quot;&quot;;\r\n    private final List&lt;Questionlist&gt; questionlists= new ArrayList&lt;&gt;();\r\n    int tq;\r\n    int testno=0;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_python);\r\n        Swipetorefresh();\r\n\r\n\r\n        totalquestions=findViewById(R.id.totalquestions3_python);\r\n        question=findViewById(R.id.python_q);\r\n        ansa=findViewById(R.id.py_ansa);\r\n        ansb=findViewById(R.id.py_ansb);\r\n        ansc=findViewById(R.id.py_ansc);\r\n        ansd=findViewById(R.id.py_ansd);\r\n        submit=findViewById(R.id.py_submit);\r\n\r\n        ProgressDialog progressDialog = new ProgressDialog(Python.this);\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.setMessage(&quot;Loading....&quot;);\r\n        progressDialog.show();\r\n\r\n        DatabaseReference databaseReference= FirebaseDatabase.getInstance().getReference();\r\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for(DataSnapshot dataSnapshot : snapshot.child(&quot;Python&quot;).getChildren()){\r\n                    String questions=dataSnapshot.child(&quot;question&quot;).getValue(String.class);\r\n                    String getansa = dataSnapshot.child(&quot;option1&quot;).getValue(String.class);\r\n                    String getansb = dataSnapshot.child(&quot;option2&quot;).getValue(String.class);\r\n                    String getansc = dataSnapshot.child(&quot;option3&quot;).getValue(String.class);\r\n                    String getansd = dataSnapshot.child(&quot;option4&quot;).getValue(String.class);\r\n                    String getans = dataSnapshot.child(&quot;answer&quot;).getValue(String.class);\r\n\r\n\r\n\r\n                    Questionlist questionlist = new Questionlist(questions,getansa,getansb,getansc,getansd,getans);\r\n                    questionlists.add(questionlist);\r\n\r\n                }\r\n\r\n                progressDialog.hide();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        ansa.setOnClickListener(this);\r\n        ansb.setOnClickListener(this);\r\n        ansc.setOnClickListener(this);\r\n        ansd.setOnClickListener(this);\r\n        submit.setOnClickListener(this);\r\n loadnewquestion();\r\n\r\n\r\n    }\r\n\r\n   private void loadnewquestion() {\r\n       tq=questionlists.size();\r\n\r\n       totalquestions.setText(&quot;Total Questions: &quot;+tq);\r\n\r\n        if(currentquestionindex == tq){\r\n            \r\n            finishquiz();\r\n            return;\r\n\r\n        }\r\n\r\n        question.setText(questionlists.get(currentquestionindex).getQuestion());\r\n        ansa.setText(questionlists.get(currentquestionindex).getOption1());\r\n       ansb.setText(questionlists.get(currentquestionindex).getOption2());\r\n       ansc.setText(questionlists.get(currentquestionindex).getOption3());\r\n       ansd.setText(questionlists.get(currentquestionindex).getOption4());\r\n\r\n\r\n      \r\n    }\r\n private void finishquiz() {\r\n       \r\n        String passstatus=&quot;&quot;;\r\n        if(score&gt;tq*0.60){\r\n            passstatus=&quot;passed&quot;;\r\n        }\r\n        else{\r\n            passstatus=&quot;failed&quot;;\r\n        }\r\n\r\n        new AlertDialog.Builder(this)\r\n                .setTitle(passstatus)\r\n                .setMessage(&quot;score is &quot;+ score+&quot; out of &quot;+tq)\r\n                .setPositiveButton(&quot;restart&quot;,((dialogInterface, i) -&gt; restartquiz()))\r\n                .setNegativeButton(&quot;go back&quot;,((dialogInterface, i) -&gt; goback()))\r\n                .setCancelable(false)\r\n                .show();\r\n    }\r\n\r\n    private void goback() {\r\n        startActivity(new Intent(Python.this,daily_quiz.class));\r\n    }\r\n\r\n    private void restartquiz() {\r\n        score=0;\r\n        currentquestionindex=0;\r\n        loadnewquestion();\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        ansa.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\r\n        ansb.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\r\n        ansc.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\r\n        ansd.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\r\n\r\n        Button clickedbutton = (Button) view;\r\n        if (clickedbutton.getId() == R.id.py_submit) {\r\n\r\n\r\n\r\n\r\n                String getanswer = questionlists.get(currentquestionindex).getAnswer();\r\n                if (selectedanswer.equals(getanswer)) {\r\n                    score++;\r\n\r\n                }\r\n                currentquestionindex++;\r\n                loadnewquestion();\r\n\r\n        }\r\n\r\n             else {\r\n                    selectedanswer = clickedbutton.getText().toString();\r\n                    clickedbutton.setBackgroundDrawable(getDrawable(R.drawable.selected_ans));\r\n                }\r\n            }\r\n}\r\n\r\n```\r\n\r\nThis is the image of my database:\r\n\r\n![enter image description here](https://i.stack.imgur.com/kBKel.png)\r\n\r\n \r\n\r\nI tried it the static way by just writing the questions in another java class and then calling it in the main class, this way the size of the array is found on the creation of the activity but when I call it from the database it is creating problems.","title":"I am not able to get the size of the arraylist on creation of the activity","body":"<p>I am a real beginner with Android and I have been trying to make a simple quiz app using Firebase but when I want to get the size of the ArrayList which contains the questions, the size of the array list is zero on the creation of the activity but when I restart the quiz from the alert dialog box everything works fine. I am not able to find out what the problem is. Any suggestion would be really helpful</p>\n<p>This is my code</p>\n<pre><code>TextView totalquestions,question;\n    Button ansa,ansb,ansc,ansd,submit;\n\n    int score=0;\n\n    int currentquestionindex=0;\n    String selectedanswer=&quot;&quot;;\n    private final List&lt;Questionlist&gt; questionlists= new ArrayList&lt;&gt;();\n    int tq;\n    int testno=0;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_python);\n        Swipetorefresh();\n\n\n        totalquestions=findViewById(R.id.totalquestions3_python);\n        question=findViewById(R.id.python_q);\n        ansa=findViewById(R.id.py_ansa);\n        ansb=findViewById(R.id.py_ansb);\n        ansc=findViewById(R.id.py_ansc);\n        ansd=findViewById(R.id.py_ansd);\n        submit=findViewById(R.id.py_submit);\n\n        ProgressDialog progressDialog = new ProgressDialog(Python.this);\n        progressDialog.setCancelable(false);\n        progressDialog.setMessage(&quot;Loading....&quot;);\n        progressDialog.show();\n\n        DatabaseReference databaseReference= FirebaseDatabase.getInstance().getReference();\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot dataSnapshot : snapshot.child(&quot;Python&quot;).getChildren()){\n                    String questions=dataSnapshot.child(&quot;question&quot;).getValue(String.class);\n                    String getansa = dataSnapshot.child(&quot;option1&quot;).getValue(String.class);\n                    String getansb = dataSnapshot.child(&quot;option2&quot;).getValue(String.class);\n                    String getansc = dataSnapshot.child(&quot;option3&quot;).getValue(String.class);\n                    String getansd = dataSnapshot.child(&quot;option4&quot;).getValue(String.class);\n                    String getans = dataSnapshot.child(&quot;answer&quot;).getValue(String.class);\n\n\n\n                    Questionlist questionlist = new Questionlist(questions,getansa,getansb,getansc,getansd,getans);\n                    questionlists.add(questionlist);\n\n                }\n\n                progressDialog.hide();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        ansa.setOnClickListener(this);\n        ansb.setOnClickListener(this);\n        ansc.setOnClickListener(this);\n        ansd.setOnClickListener(this);\n        submit.setOnClickListener(this);\n loadnewquestion();\n\n\n    }\n\n   private void loadnewquestion() {\n       tq=questionlists.size();\n\n       totalquestions.setText(&quot;Total Questions: &quot;+tq);\n\n        if(currentquestionindex == tq){\n            \n            finishquiz();\n            return;\n\n        }\n\n        question.setText(questionlists.get(currentquestionindex).getQuestion());\n        ansa.setText(questionlists.get(currentquestionindex).getOption1());\n       ansb.setText(questionlists.get(currentquestionindex).getOption2());\n       ansc.setText(questionlists.get(currentquestionindex).getOption3());\n       ansd.setText(questionlists.get(currentquestionindex).getOption4());\n\n\n      \n    }\n private void finishquiz() {\n       \n        String passstatus=&quot;&quot;;\n        if(score&gt;tq*0.60){\n            passstatus=&quot;passed&quot;;\n        }\n        else{\n            passstatus=&quot;failed&quot;;\n        }\n\n        new AlertDialog.Builder(this)\n                .setTitle(passstatus)\n                .setMessage(&quot;score is &quot;+ score+&quot; out of &quot;+tq)\n                .setPositiveButton(&quot;restart&quot;,((dialogInterface, i) -&gt; restartquiz()))\n                .setNegativeButton(&quot;go back&quot;,((dialogInterface, i) -&gt; goback()))\n                .setCancelable(false)\n                .show();\n    }\n\n    private void goback() {\n        startActivity(new Intent(Python.this,daily_quiz.class));\n    }\n\n    private void restartquiz() {\n        score=0;\n        currentquestionindex=0;\n        loadnewquestion();\n    }\n\n    @Override\n    public void onClick(View view) {\n        ansa.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\n        ansb.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\n        ansc.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\n        ansd.setBackgroundDrawable(getDrawable(R.drawable.button_qa));\n\n        Button clickedbutton = (Button) view;\n        if (clickedbutton.getId() == R.id.py_submit) {\n\n\n\n\n                String getanswer = questionlists.get(currentquestionindex).getAnswer();\n                if (selectedanswer.equals(getanswer)) {\n                    score++;\n\n                }\n                currentquestionindex++;\n                loadnewquestion();\n\n        }\n\n             else {\n                    selectedanswer = clickedbutton.getText().toString();\n                    clickedbutton.setBackgroundDrawable(getDrawable(R.drawable.selected_ans));\n                }\n            }\n}\n\n</code></pre>\n<p>This is the image of my database:</p>\n<p><img src=\"https://i.stack.imgur.com/kBKel.png\" alt=\"enter image description here\" /></p>\n<p>I tried it the static way by just writing the questions in another java class and then calling it in the main class, this way the size of the array is found on the creation of the activity but when I call it from the database it is creating problems.</p>\n"},{"tags":["java","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682171829,"creation_date":1682171829,"answer_id":76080022,"question_id":76079077,"body_markdown":"It appears that there is an error in the birthday parameter you are trying to send. The format is not correct. It should be something like this:\r\n\r\n    { &#39;nickname&#39;: &#39;bob&#39;, &#39;kind&#39;: &#39;cat&#39;, &#39;birthday&#39;: &#39;2023-04-22T15:00:00Z&#39; }\r\n\r\nIf you only want to store just the year, month, and day, please refer to https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html.\r\n","title":"Failed to read post request in Spring Boot app (400)","body":"<p>It appears that there is an error in the birthday parameter you are trying to send. The format is not correct. It should be something like this:</p>\n<pre><code>{ 'nickname': 'bob', 'kind': 'cat', 'birthday': '2023-04-22T15:00:00Z' }\n</code></pre>\n<p>If you only want to store just the year, month, and day, please refer to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html</a>.</p>\n"}],"owner":{"account_id":28332188,"reputation":1,"user_id":21666290,"display_name":"Jan Potarski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1677,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682171829,"creation_date":1682158187,"question_id":76079077,"body_markdown":"I wrote simple CRUD Spring Boot app, but the POST endpoints don&#39;t work for some reason. I send the correct set of key-value pairs, \r\nBut I get the same error every time:\r\n\r\n\r\n```\r\n{\r\n    &quot;nickname&quot;: &quot;bob&quot;,\r\n    &quot;kind&quot;: &quot;cat&quot;,\r\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\r\n    &quot;vetRecords&quot;: null\r\n}\r\n\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\r\n    &quot;instance&quot;: &quot;/api/v1/users/4/animals&quot;\r\n}\r\n\r\n```\r\n\r\n\r\nI tried sending same request with debugger, but it doesn&#39;t stop in moment when I provide request. CommonsRequestLoggingFilter also shows only this: \r\n\r\n\r\n```\r\n2023-04-22T13:59:47.087+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /api/v1/users/4/animals]\r\n2023-04-22T13:59:47.344+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA: POST /api/v1/users/4/animals, payload=\r\n{\r\n    &quot;nickname&quot;: &quot;bob&quot;,\r\n    &quot;kind&quot;: &quot;cat&quot;,\r\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\r\n    &quot;vetRecords&quot;: null\r\n}]\r\n```\r\n\r\n\r\nController:\r\n\r\n\r\n```\r\n@PostMapping(&quot;{id}/animals&quot;)\r\n    public AnimalDto createAnimal(@PathVariable Long id,\r\n                                  @Validated(OnCreate.class) @RequestBody AnimalDto animalDto) {\r\n        Animal animal = animalMapper.toEntity(animalDto);\r\n        Animal createdAnimal = animalService.create(animal, id);\r\n        return animalMapper.toDto(createdAnimal);\r\n    }\r\n```\r\n\r\nDTO:\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class AnimalDto {\r\n    @NotNull(message = &quot;Id must be not null&quot;, groups = OnUpdate.class)\r\n    private Long id;\r\n\r\n    @NotNull(message = &quot;Animal name must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    @Length(max = 256, message = &quot;Animal name must be less than 256 symbols&quot;)\r\n    private String nickname;\r\n\r\n    @NotNull(message = &quot;Animal kind must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    @Length(max = 256, message = &quot;Animal kind must be less than 256 symbols&quot;)\r\n    private String kind;\r\n\r\n    @NotNull(message = &quot;Animal age must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\r\n    private Date birthday;\r\n\r\n    private List&lt;VetRecord&gt; vetRecords;\r\n}\r\n```\r\n\r\nEntity:\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Animal {\r\n\r\n    private Long id;\r\n    private String nickname;\r\n    private String kind;\r\n    private Date birthday;\r\n    private List&lt;VetRecord&gt; vetRecords;\r\n}\r\n```\r\n\r\nMapper (MapStruct):\r\n\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface AnimalMapper {\r\n\r\n    AnimalDto toDto(Animal animal);\r\n\r\n    List&lt;AnimalDto&gt; toDto(List&lt;Animal&gt; animals);\r\n\r\n    Animal toEntity(AnimalDto animalDto);\r\n}\r\n```\r\n\r\n","title":"Failed to read post request in Spring Boot app (400)","body":"<p>I wrote simple CRUD Spring Boot app, but the POST endpoints don't work for some reason. I send the correct set of key-value pairs,\nBut I get the same error every time:</p>\n<pre><code>{\n    &quot;nickname&quot;: &quot;bob&quot;,\n    &quot;kind&quot;: &quot;cat&quot;,\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\n    &quot;vetRecords&quot;: null\n}\n\n{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\n    &quot;instance&quot;: &quot;/api/v1/users/4/animals&quot;\n}\n\n</code></pre>\n<p>I tried sending same request with debugger, but it doesn't stop in moment when I provide request. CommonsRequestLoggingFilter also shows only this:</p>\n<pre><code>2023-04-22T13:59:47.087+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : Before request [POST /api/v1/users/4/animals]\n2023-04-22T13:59:47.344+04:00 DEBUG 22330 --- [nio-8080-exec-1] o.s.w.f.CommonsRequestLoggingFilter      : REQUEST DATA: POST /api/v1/users/4/animals, payload=\n{\n    &quot;nickname&quot;: &quot;bob&quot;,\n    &quot;kind&quot;: &quot;cat&quot;,\n    &quot;birthday&quot;: &quot;12.02.2020&quot;,\n    &quot;vetRecords&quot;: null\n}]\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;{id}/animals&quot;)\n    public AnimalDto createAnimal(@PathVariable Long id,\n                                  @Validated(OnCreate.class) @RequestBody AnimalDto animalDto) {\n        Animal animal = animalMapper.toEntity(animalDto);\n        Animal createdAnimal = animalService.create(animal, id);\n        return animalMapper.toDto(createdAnimal);\n    }\n</code></pre>\n<p>DTO:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AnimalDto {\n    @NotNull(message = &quot;Id must be not null&quot;, groups = OnUpdate.class)\n    private Long id;\n\n    @NotNull(message = &quot;Animal name must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    @Length(max = 256, message = &quot;Animal name must be less than 256 symbols&quot;)\n    private String nickname;\n\n    @NotNull(message = &quot;Animal kind must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    @Length(max = 256, message = &quot;Animal kind must be less than 256 symbols&quot;)\n    private String kind;\n\n    @NotNull(message = &quot;Animal age must not be null&quot;, groups = {OnUpdate.class, OnCreate.class})\n    private Date birthday;\n\n    private List&lt;VetRecord&gt; vetRecords;\n}\n</code></pre>\n<p>Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Animal {\n\n    private Long id;\n    private String nickname;\n    private String kind;\n    private Date birthday;\n    private List&lt;VetRecord&gt; vetRecords;\n}\n</code></pre>\n<p>Mapper (MapStruct):</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface AnimalMapper {\n\n    AnimalDto toDto(Animal animal);\n\n    List&lt;AnimalDto&gt; toDto(List&lt;Animal&gt; animals);\n\n    Animal toEntity(AnimalDto animalDto);\n}\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":104665,"reputation":15134,"user_id":279691,"accept_rate":83,"display_name":"Betamoo"},"score":0,"creation_date":1275995994,"post_id":408820,"comment_id":3060420,"body_markdown":"Related: http://stackoverflow.com/questions/2994304/is-java-swing-still-in-use/2994324#2994324","body":"Related: <a href=\"http://stackoverflow.com/questions/2994304/is-java-swing-still-in-use/2994324#2994324\" title=\"is java swing still in use\">stackoverflow.com/questions/2994304/is-java-swing-still-in-u&zwnj;&#8203;se/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":14374,"reputation":6122,"user_id":29515,"accept_rate":72,"display_name":"Samiksha"},"score":2,"creation_date":1230976243,"post_id":408828,"comment_id":233854,"body_markdown":"are there any cases where awt is more useful/ advised to use then swing?","body":"are there any cases where awt is more useful/ advised to use then swing?"},{"owner":{"account_id":10538,"reputation":7640,"user_id":19966,"display_name":"bart"},"score":3,"creation_date":1231002845,"post_id":408828,"comment_id":234343,"body_markdown":"It used to be relevant... 10 years ago.","body":"It used to be relevant... 10 years ago."},{"owner":{"display_name":"user1881400"},"score":0,"creation_date":1390080033,"post_id":408828,"comment_id":31941344,"body_markdown":"@Pacerier he was talking about AWT, not SWT","body":"@Pacerier he was talking about AWT, not SWT"},{"owner":{"account_id":4182650,"reputation":521,"user_id":3427178,"display_name":"jkmartindale"},"score":0,"creation_date":1632437321,"post_id":408828,"comment_id":122499358,"body_markdown":"Unbroken article link https://edn.embarcadero.com/article/26970","body":"Unbroken article link <a href=\"https://edn.embarcadero.com/article/26970\" rel=\"nofollow noreferrer\">edn.embarcadero.com/article/26970</a>"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":4,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1230976138,"creation_date":1230976138,"answer_id":408828,"question_id":408820,"body_markdown":"[Swing vs AWT][1].  Basically AWT came first and is a set of heavyweight UI components (meaning they are wrappers for operating system objects) whereas Swing built on top of AWT with a richer set of lightweight components.\r\n\r\nAny serious Java UI work is done in Swing not AWT, which was primarily used for applets.\r\n\r\n\r\n  [1]: http://dn.codegear.com/article/26970","title":"What is the difference between Swing and AWT?","body":"<p><a href=\"http://dn.codegear.com/article/26970\" rel=\"noreferrer\">Swing vs AWT</a>.  Basically AWT came first and is a set of heavyweight UI components (meaning they are wrappers for operating system objects) whereas Swing built on top of AWT with a richer set of lightweight components.</p>\n\n<p>Any serious Java UI work is done in Swing not AWT, which was primarily used for applets.</p>\n"},{"comments":[{"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":1,"creation_date":1230976532,"post_id":408830,"comment_id":233863,"body_markdown":"Um... having done some pretty extensive Swing across multiple platforms, I can tell you that it very much is not the same across platforms.  Similar?  Sure.  Same?  No way.","body":"Um... having done some pretty extensive Swing across multiple platforms, I can tell you that it very much is not the same across platforms.  Similar?  Sure.  Same?  No way."},{"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"score":2,"creation_date":1230983214,"post_id":408830,"comment_id":233973,"body_markdown":"The heavyweight/leightweight problems will disappear with Java 6 update 12 (see http://java.dzone.com/news/a-farewell-heavyweightlightwei).","body":"The heavyweight/leightweight problems will disappear with Java 6 update 12 (see <a href=\"http://java.dzone.com/news/a-farewell-heavyweightlightwei\" rel=\"nofollow noreferrer\">java.dzone.com/news/a-farewell-heavyweightlightwei</a>)."},{"owner":{"account_id":9733,"reputation":98826,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"score":1,"creation_date":1230994026,"post_id":408830,"comment_id":234128,"body_markdown":"Wow.  I can&#39;t believe they can fix it, and I still can&#39;t believe mixing lightweight and heavyweight components would ever be desirable.  But it&#39;s incredible that they can fix it.","body":"Wow.  I can&#39;t believe they can fix it, and I still can&#39;t believe mixing lightweight and heavyweight components would ever be desirable.  But it&#39;s incredible that they can fix it."},{"owner":{"account_id":32387,"reputation":1393,"user_id":89841,"accept_rate":71,"display_name":"Alper"},"score":1,"creation_date":1262209308,"post_id":408830,"comment_id":1898535,"body_markdown":"Just forget about both. Have a look at WPF. :)","body":"Just forget about both. Have a look at WPF. :)"},{"owner":{"account_id":3408377,"reputation":8069,"user_id":2891365,"accept_rate":64,"display_name":"user193130"},"score":3,"creation_date":1428890422,"post_id":408830,"comment_id":47340459,"body_markdown":"Here&#39;s an official Java article confirming that mixing is fixed: http://www.oracle.com/technetwork/articles/java/mixing-components-433992.html","body":"Here&#39;s an official Java article confirming that mixing is fixed: <a href=\"http://www.oracle.com/technetwork/articles/java/mixing-components-433992.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/articles/java/&hellip;</a>"}],"tags":[],"owner":{"account_id":9733,"reputation":98826,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"comment_count":5,"down_vote_count":0,"up_vote_count":256,"is_accepted":true,"score":256,"last_activity_date":1375212200,"creation_date":1230976291,"answer_id":408830,"question_id":408820,"body_markdown":"AWT is a Java interface to native system GUI code present in your OS. It will not work the same on every system, although it tries.\r\n\r\nSwing is a more-or-less pure-Java GUI. It uses AWT to create an operating system window and then paints pictures of buttons, labels, text, checkboxes, etc., into that window and responds to all of your mouse-clicks, key entries, etc., deciding for itself what to do instead of letting the operating system handle it. Thus Swing is 100% portable and is the same across platforms (although it is skinnable and has a &quot;pluggable look and feel&quot; that can make it look more or less like how the native windows and widgets would look).\r\n\r\nThese are vastly different approaches to GUI toolkits and have a lot of consequences. A full answer to your question would try to explore all of those. :)  Here are a couple:\r\n\r\nAWT is a cross-platform interface, so even though it uses the underlying OS or native GUI toolkit for its functionality, it doesn&#39;t provide access to everything that those toolkits can do. Advanced or newer AWT widgets that might exist on one platform might not be supported on another. Features of widgets that aren&#39;t the same on every platform might not be supported, or worse, they might work differently on each platform. People used to invest lots of effort to get their AWT applications to work consistently across platforms - for instance, they may try to make calls into native code from Java.\r\n\r\nBecause AWT uses native GUI widgets, your OS knows about them and handles putting them in front of each other, etc., whereas Swing widgets are meaningless pixels within a window from your OS&#39;s point of view. Swing itself handles your widgets&#39; layout and stacking.  Mixing AWT and Swing is highly unsupported and can lead to ridiculous results, such as native buttons that obscure everything else in the dialog box in which they reside because everything else was created with Swing.\r\n\r\nBecause Swing tries to do everything possible in Java other than the very raw graphics routines provided by a native GUI window, it used to incur quite a performance penalty compared to AWT. This made Swing unfortunately slow to catch on. However, this has shrunk dramatically over the last several years due to more optimized JVMs, faster machines, and (I presume) optimization of the Swing internals. Today a Swing application can run fast enough to be serviceable or even zippy, and almost indistinguishable from an application using native widgets. Some will say it took far too long to get to this point, but most will say that it is well worth it.\r\n\r\nFinally, you might also want to check out SWT (the GUI toolkit used for Eclipse, and an alternative to both AWT and Swing), which is somewhat of a return to the AWT idea of accessing native Widgets through Java.","title":"What is the difference between Swing and AWT?","body":"<p>AWT is a Java interface to native system GUI code present in your OS. It will not work the same on every system, although it tries.</p>\n\n<p>Swing is a more-or-less pure-Java GUI. It uses AWT to create an operating system window and then paints pictures of buttons, labels, text, checkboxes, etc., into that window and responds to all of your mouse-clicks, key entries, etc., deciding for itself what to do instead of letting the operating system handle it. Thus Swing is 100% portable and is the same across platforms (although it is skinnable and has a \"pluggable look and feel\" that can make it look more or less like how the native windows and widgets would look).</p>\n\n<p>These are vastly different approaches to GUI toolkits and have a lot of consequences. A full answer to your question would try to explore all of those. :)  Here are a couple:</p>\n\n<p>AWT is a cross-platform interface, so even though it uses the underlying OS or native GUI toolkit for its functionality, it doesn't provide access to everything that those toolkits can do. Advanced or newer AWT widgets that might exist on one platform might not be supported on another. Features of widgets that aren't the same on every platform might not be supported, or worse, they might work differently on each platform. People used to invest lots of effort to get their AWT applications to work consistently across platforms - for instance, they may try to make calls into native code from Java.</p>\n\n<p>Because AWT uses native GUI widgets, your OS knows about them and handles putting them in front of each other, etc., whereas Swing widgets are meaningless pixels within a window from your OS's point of view. Swing itself handles your widgets' layout and stacking.  Mixing AWT and Swing is highly unsupported and can lead to ridiculous results, such as native buttons that obscure everything else in the dialog box in which they reside because everything else was created with Swing.</p>\n\n<p>Because Swing tries to do everything possible in Java other than the very raw graphics routines provided by a native GUI window, it used to incur quite a performance penalty compared to AWT. This made Swing unfortunately slow to catch on. However, this has shrunk dramatically over the last several years due to more optimized JVMs, faster machines, and (I presume) optimization of the Swing internals. Today a Swing application can run fast enough to be serviceable or even zippy, and almost indistinguishable from an application using native widgets. Some will say it took far too long to get to this point, but most will say that it is well worth it.</p>\n\n<p>Finally, you might also want to check out SWT (the GUI toolkit used for Eclipse, and an alternative to both AWT and Swing), which is somewhat of a return to the AWT idea of accessing native Widgets through Java.</p>\n"},{"comments":[{"owner":{"account_id":962298,"reputation":624,"user_id":997102,"accept_rate":74,"display_name":"Purushottam"},"score":16,"creation_date":1328426281,"post_id":408884,"comment_id":11501217,"body_markdown":"actually Swing uses a Model-Delegate approach, which is derived from the MVC approach, where in the View and Controller are combined for a Delegate structure","body":"actually Swing uses a Model-Delegate approach, which is derived from the MVC approach, where in the View and Controller are combined for a Delegate structure"}],"tags":[],"owner":{"account_id":19561,"reputation":886,"user_id":45934,"accept_rate":100,"display_name":"Access Denied"},"comment_count":1,"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1467815582,"creation_date":1230979699,"answer_id":408884,"question_id":408820,"body_markdown":" The base difference that which already everyone mentioned is that one is **heavy weight** and other is **light weight**. Let me explain, basically what the term heavy weight means is that when you&#39;re using the awt components the native code used for getting the view component **is generated by the Operating System**, thats why it the look and feel changes **from OS to OS.** Where as in swing components its the responsibility of **JVM to generate the view for the components.** Another statement which i saw is that **swing is MVC based and awt is not.**\r\n","title":"What is the difference between Swing and AWT?","body":"<p>The base difference that which already everyone mentioned is that one is <strong>heavy weight</strong> and other is <strong>light weight</strong>. Let me explain, basically what the term heavy weight means is that when you're using the awt components the native code used for getting the view component <strong>is generated by the Operating System</strong>, thats why it the look and feel changes <strong>from OS to OS.</strong> Where as in swing components its the responsibility of <strong>JVM to generate the view for the components.</strong> Another statement which i saw is that <strong>swing is MVC based and awt is not.</strong></p>\n"},{"comments":[{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":2,"creation_date":1391752820,"post_id":1090158,"comment_id":32669254,"body_markdown":"But for the last one, we can also create a FileChooser that pretty much looks like windows file dialog (but with no autocomplete) http://stackoverflow.com/q/17630055/2534090","body":"But for the last one, we can also create a FileChooser that pretty much looks like windows file dialog (but with no autocomplete) <a href=\"http://stackoverflow.com/q/17630055/2534090\">stackoverflow.com/q/17630055/2534090</a>"}],"tags":[],"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1246935410,"creation_date":1246935410,"answer_id":1090158,"question_id":408820,"body_markdown":"As far as when AWT may be more useful than Swing -\r\n\r\n - you may be targeting an older JVM or platform that doesn&#39;t support Swing. This used to really come into play if you were building Applets - you wanted to target the lowest common denominator so people wouldn&#39;t have to install a newer Java plugin.  I&#39;m not sure what the current most widely installed version of the Java plugin is - this may be different today.\r\n - some people prefer the native look of AWT over Swing&#39;s &#39;not quite there&#39; platform skins. (There are better 3rd party native looking skins than Swing&#39;s implementations BTW) Lots of people preferred using AWT&#39;s FileDialog over Swing&#39;s FileChooser because it gave the platform file dialog most people were used to rather than the &#39;weird&#39; custom Swing one.","title":"What is the difference between Swing and AWT?","body":"<p>As far as when AWT may be more useful than Swing -</p>\n\n<ul>\n<li>you may be targeting an older JVM or platform that doesn't support Swing. This used to really come into play if you were building Applets - you wanted to target the lowest common denominator so people wouldn't have to install a newer Java plugin.  I'm not sure what the current most widely installed version of the Java plugin is - this may be different today.</li>\n<li>some people prefer the native look of AWT over Swing's 'not quite there' platform skins. (There are better 3rd party native looking skins than Swing's implementations BTW) Lots of people preferred using AWT's FileDialog over Swing's FileChooser because it gave the platform file dialog most people were used to rather than the 'weird' custom Swing one.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":10,"creation_date":1391753022,"post_id":14627362,"comment_id":32669321,"body_markdown":"I don&#39;t think swing works faster than AWT because AWT uses native code (the gui code) that was already there in the OS but swing builds every component from the scratch. So AWT might be faster. Could you say me what is your point of view in saying **swing works faster**? Thanks.","body":"I don&#39;t think swing works faster than AWT because AWT uses native code (the gui code) that was already there in the OS but swing builds every component from the scratch. So AWT might be faster. Could you say me what is your point of view in saying <b>swing works faster</b>? Thanks."}],"tags":[],"owner":{"account_id":2311193,"reputation":67,"user_id":2029285,"display_name":"arsh"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1536853411,"creation_date":1359640290,"answer_id":14627362,"question_id":408820,"body_markdown":" - swing component provide much flexible user interface because it\r\n   follow model view controller(mvc).\r\n - awt is not mvc based.\r\n - swing works faster.\r\n - awt does not work faster.\r\n - swing components are light weight.\r\n - awt components are heavy weight.\r\n - swing occupies less memory space.\r\n - awt occupies more memory space.\r\n - swing component is platform independent.\r\n - awt is platform dependent.\r\n - swing require javax.swing package.\r\n - awt require javax.awt package.","title":"What is the difference between Swing and AWT?","body":"<ul>\n<li>swing component provide much flexible user interface because it\nfollow model view controller(mvc).</li>\n<li>awt is not mvc based.</li>\n<li>swing works faster.</li>\n<li>awt does not work faster.</li>\n<li>swing components are light weight.</li>\n<li>awt components are heavy weight.</li>\n<li>swing occupies less memory space.</li>\n<li>awt occupies more memory space.</li>\n<li>swing component is platform independent.</li>\n<li>awt is platform dependent.</li>\n<li>swing require javax.swing package.</li>\n<li>awt require javax.awt package.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2397493,"reputation":81,"user_id":2096024,"display_name":"deepika"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1390080290,"creation_date":1361459937,"answer_id":15005785,"question_id":408820,"body_markdown":"**Swing:**\r\n\r\n1. Swing is part of the java foundation classes.\r\n2. Swing components are platform-independent.\r\n3. Swing components are lightweight components because swing sits on the top of awt.\r\n\r\n**AWT:**\r\n\r\n1. AWT is called the abstract window tool.\r\n2. AWT components are platform-dependent.\r\n3. AWT components are heavyweight components.","title":"What is the difference between Swing and AWT?","body":"<p><strong>Swing:</strong></p>\n\n<ol>\n<li>Swing is part of the java foundation classes.</li>\n<li>Swing components are platform-independent.</li>\n<li>Swing components are lightweight components because swing sits on the top of awt.</li>\n</ol>\n\n<p><strong>AWT:</strong></p>\n\n<ol>\n<li>AWT is called the abstract window tool.</li>\n<li>AWT components are platform-dependent.</li>\n<li>AWT components are heavyweight components.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":1,"creation_date":1391752890,"post_id":15950286,"comment_id":32669275,"body_markdown":"Could you say me how does AWT occupies more memory space? Because it uses native code?","body":"Could you say me how does AWT occupies more memory space? Because it uses native code?"},{"owner":{"account_id":1048514,"reputation":4918,"user_id":1262108,"accept_rate":75,"display_name":"abhisekp"},"score":0,"creation_date":1392446177,"post_id":15950286,"comment_id":32976924,"body_markdown":"awt requires java.awt.*","body":"awt requires java.awt.*"}],"tags":[],"owner":{"account_id":2622856,"reputation":39,"user_id":2270515,"display_name":"B.DastagiriReddy"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1365687465,"creation_date":1365687465,"answer_id":15950286,"question_id":408820,"body_markdown":"**AWT**\r\n1 . AWT occupies more memory space\r\n2 . AWT is platform dependent\r\n3 . AWT require javax.awt package\r\n\r\n**swings**\r\n1 . Swing occupies less memory space\r\n2 . Swing component is platform independent\r\n3 . Swing requires javax.swing package\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p><strong>AWT</strong>\n1 . AWT occupies more memory space\n2 . AWT is platform dependent\n3 . AWT require javax.awt package</p>\n\n<p><strong>swings</strong>\n1 . Swing occupies less memory space\n2 . Swing component is platform independent\n3 . Swing requires javax.swing package</p>\n"},{"tags":[],"owner":{"account_id":2830118,"reputation":101,"user_id":2431861,"display_name":"Surendra Bharadwaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1391753405,"creation_date":1369820121,"answer_id":16810355,"question_id":408820,"body_markdown":"Several consequences result from this difference between AWT and Swing.\r\n\r\nAWT is a thin layer of code on top of the OS, whereas Swing is much larger.\r\nSwing also has very much richer functionality. Using AWT, you have to\r\nimplement a lot of things yourself, while Swing has them built in. For\r\nGUI-intensive work, AWT feels very primitive to work with compared to Swing.\r\nBecause Swing implements GUI functionality itself rather than relying on the\r\nhost OS, it can offer a richer environment on all platforms Java runs on.\r\nAWT is more limited in supplying the same functionality on all platforms\r\nbecause not all platforms implement the same-looking controls in the same\r\nways.\r\n\r\nSwing components are called &quot;lightweight&quot; because they do not require a\r\nnative OS object to implement their functionality. `JDialog` and `JFrame` are\r\nheavyweight, because they do have a peer. So components like `JButton`,\r\n`JTextArea`, etc., are lightweight because they do not have an OS peer.\r\n\r\n\r\n\r\n&gt; A **peer** is a widget provided by the operating system, such as a\r\n&gt; button object or an entry field object.\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p>Several consequences result from this difference between AWT and Swing.</p>\n\n<p>AWT is a thin layer of code on top of the OS, whereas Swing is much larger.\nSwing also has very much richer functionality. Using AWT, you have to\nimplement a lot of things yourself, while Swing has them built in. For\nGUI-intensive work, AWT feels very primitive to work with compared to Swing.\nBecause Swing implements GUI functionality itself rather than relying on the\nhost OS, it can offer a richer environment on all platforms Java runs on.\nAWT is more limited in supplying the same functionality on all platforms\nbecause not all platforms implement the same-looking controls in the same\nways.</p>\n\n<p>Swing components are called \"lightweight\" because they do not require a\nnative OS object to implement their functionality. <code>JDialog</code> and <code>JFrame</code> are\nheavyweight, because they do have a peer. So components like <code>JButton</code>,\n<code>JTextArea</code>, etc., are lightweight because they do not have an OS peer.</p>\n\n<blockquote>\n  <p>A <strong>peer</strong> is a widget provided by the operating system, such as a\n  button object or an entry field object.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18572672,"reputation":378,"user_id":14229006,"display_name":"Nine Tails"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606483098,"creation_date":1606482745,"answer_id":65037967,"question_id":408820,"body_markdown":"Java 8\r\n# Swing\r\n\r\n - It is a part of Java Foundation Classes\r\n - Swing is built on AWT\r\n - Swing components are lightweight\r\n - Swing supports pluggable look and feel\r\n - Platform independent\r\n - Uses MVC : Model-View-Controller architecture\r\n - package : javax.swing\r\n - Unlike Swing’s other components,\r\nwhich are lightweight, the top-level containers are heavyweight.\r\n\r\n# AWT - Abstract Window Toolkit\r\n\r\n - Platform dependent\r\n - AWT components are heavyweight\r\n - package java.awt\r\n\r\n","title":"What is the difference between Swing and AWT?","body":"<p>Java 8</p>\n<h1>Swing</h1>\n<ul>\n<li>It is a part of Java Foundation Classes</li>\n<li>Swing is built on AWT</li>\n<li>Swing components are lightweight</li>\n<li>Swing supports pluggable look and feel</li>\n<li>Platform independent</li>\n<li>Uses MVC : Model-View-Controller architecture</li>\n<li>package : javax.swing</li>\n<li>Unlike Swing’s other components,\nwhich are lightweight, the top-level containers are heavyweight.</li>\n</ul>\n<h1>AWT - Abstract Window Toolkit</h1>\n<ul>\n<li>Platform dependent</li>\n<li>AWT components are heavyweight</li>\n<li>package java.awt</li>\n</ul>\n"}],"owner":{"account_id":14374,"reputation":6122,"user_id":29515,"accept_rate":72,"display_name":"Samiksha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232770,"favorite_count":0,"down_vote_count":2,"up_vote_count":248,"accepted_answer_id":408830,"answer_count":9,"score":246,"last_activity_date":1682170223,"creation_date":1230975785,"question_id":408820,"body_markdown":"Can someone please explain me what&#39;s the difference between Swing and AWT?\r\n\r\nAre there any cases where AWT is more useful/advised to use than swing or vice-versa?","title":"What is the difference between Swing and AWT?","body":"<p>Can someone please explain me what's the difference between Swing and AWT?</p>\n\n<p>Are there any cases where AWT is more useful/advised to use than swing or vice-versa?</p>\n"},{"tags":["java","maven","maven-archetype"],"comments":[{"owner":{"account_id":5011487,"reputation":1319,"user_id":4027644,"display_name":"Niveathika"},"score":0,"creation_date":1556216646,"post_id":47346613,"comment_id":98372358,"body_markdown":"Did you find a solution for this?","body":"Did you find a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":15208882,"reputation":395,"user_id":10974363,"display_name":"Squake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560523222,"creation_date":1560523222,"answer_id":56600391,"question_id":47346613,"body_markdown":"It does not seem you can actually do that: https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty\r\n\r\nAccording the documentation you can specify a default or a validation regex. If they are declared you will be prompted with de default value.","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>It does not seem you can actually do that: <a href=\"https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty\" rel=\"nofollow noreferrer\">https://maven.apache.org/archetype/archetype-models/archetype-descriptor/archetype-descriptor.html#class_requiredProperty</a></p>\n\n<p>According the documentation you can specify a default or a validation regex. If they are declared you will be prompted with de default value.</p>\n"},{"tags":[],"owner":{"account_id":5697859,"reputation":1,"user_id":4503843,"display_name":"DavidH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682169142,"creation_date":1681828036,"answer_id":76045820,"question_id":47346613,"body_markdown":"It looks like this functionality is now supported.\r\n\r\nIf you specify a default value, it will not be prompted for unless you specify \r\n\r\n`-DaskForDefaultPropertyValues`\r\n\r\nFound a reference to it in the source code:\r\n\r\nhttps://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\r\n\r\nAlso in the documentation :\r\n\r\nhttps://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>It looks like this functionality is now supported.</p>\n<p>If you specify a default value, it will not be prompted for unless you specify</p>\n<p><code>-DaskForDefaultPropertyValues</code></p>\n<p>Found a reference to it in the source code:</p>\n<p><a href=\"https://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-archetype/blob/master/maven-archetype-plugin/src/main/java/org/apache/maven/archetype/mojos/CreateProjectFromArchetypeMojo.java</a></p>\n<p>Also in the documentation :</p>\n<p><a href=\"https://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html</a></p>\n"}],"owner":{"account_id":10934050,"reputation":31,"user_id":8036322,"display_name":"Pablo Portillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1682169142,"creation_date":1510908834,"question_id":47346613,"body_markdown":"So I am doing an archetype and I want to use some properties but don&#180;t want them to be prompted to the user.\r\n\r\nSo for example, I have this code:\r\n\r\n        \t \r\n        &lt;requiredProperty key=&quot;grupo&quot;&gt;\r\n        \t&lt;defaultValue&gt;${artifactId.substring(0,8).toLowerCase()}&lt;/defaultValue&gt;\r\n    \t&lt;/requiredProperty&gt;\r\n\r\nAnd I want to use the defaultValue for the parameter grupo WITHOUT asking the user to accept it as the default value.\r\n\r\nThis question was already asked: https://stackoverflow.com/questions/34021316/maven-create-archetype-is-there-a-way-to-declare-properties-defaulted-to-a-val But it was not answered.\r\n\r\nThank you very much for your time","title":"Maven custom archetype: Is there a way to have properties not prompted to the user?","body":"<p>So I am doing an archetype and I want to use some properties but don´t want them to be prompted to the user.</p>\n\n<p>So for example, I have this code:</p>\n\n<pre><code>    &lt;requiredProperty key=\"grupo\"&gt;\n        &lt;defaultValue&gt;${artifactId.substring(0,8).toLowerCase()}&lt;/defaultValue&gt;\n    &lt;/requiredProperty&gt;\n</code></pre>\n\n<p>And I want to use the defaultValue for the parameter grupo WITHOUT asking the user to accept it as the default value.</p>\n\n<p>This question was already asked: <a href=\"https://stackoverflow.com/questions/34021316/maven-create-archetype-is-there-a-way-to-declare-properties-defaulted-to-a-val\">Maven create archetype: Is there a way to declare properties (defaulted to a value) so as not to have them prompted?</a> But it was not answered.</p>\n\n<p>Thank you very much for your time</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682164959,"creation_date":1682164959,"answer_id":76079528,"question_id":76079496,"body_markdown":"As per my understanding, Lombok `@NoArgsConstructor` will generate a `no arguments/default constructor`, by default generated constructor will be `public`.\r\n\r\n    @NoArgsConstructor\r\n    public class NoArgsDemo {\r\n    \r\n      private Long id; \r\n      private String username;\r\n    }\r\n\r\nFrom the docs, \r\n\r\n&gt; @NoArgsConstructor will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless @NoArgsConstructor(force = true) is used, then all final fields are initialized with 0 / false / null.\r\n\r\nReference link: [Lombok NoArgsConstructor][1]\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"Lombok @Value with public no-args constructor","body":"<p>As per my understanding, Lombok <code>@NoArgsConstructor</code> will generate a <code>no arguments/default constructor</code>, by default generated constructor will be <code>public</code>.</p>\n<pre><code>@NoArgsConstructor\npublic class NoArgsDemo {\n\n  private Long id; \n  private String username;\n}\n</code></pre>\n<p>From the docs,</p>\n<blockquote>\n<p>@NoArgsConstructor will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless @NoArgsConstructor(force = true) is used, then all final fields are initialized with 0 / false / null.</p>\n</blockquote>\n<p>Reference link: <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">Lombok NoArgsConstructor</a></p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682167766,"creation_date":1682167766,"answer_id":76079721,"question_id":76079496,"body_markdown":"You should annotate the class `@NoArgsConstructor(force = true)`. Using just `@NoArgsConstructor` will cause a compiler error, because `@Value` makes the fields final.\r\n\r\nFrom the [documentation][1]. \r\n\r\n&gt; `@NoArgsConstructor` will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless `@NoArgsConstructor(force = true)` is used, then all final fields are initialized with 0 / false / null. \r\n\r\nAlso note that:\r\n\r\n&gt; For fields with constraints, such as `@NonNull` fields, no check is generated, so be aware that these constraints will generally not be fulfilled until those fields are properly initialized later.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/constructor","title":"Lombok @Value with public no-args constructor","body":"<p>You should annotate the class <code>@NoArgsConstructor(force = true)</code>. Using just <code>@NoArgsConstructor</code> will cause a compiler error, because <code>@Value</code> makes the fields final.</p>\n<p>From the <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<blockquote>\n<p><code>@NoArgsConstructor</code> will generate a constructor with no parameters. If this is not possible (because of final fields), a compiler error will result instead, unless <code>@NoArgsConstructor(force = true)</code> is used, then all final fields are initialized with 0 / false / null.</p>\n</blockquote>\n<p>Also note that:</p>\n<blockquote>\n<p>For fields with constraints, such as <code>@NonNull</code> fields, no check is generated, so be aware that these constraints will generally not be fulfilled until those fields are properly initialized later.</p>\n</blockquote>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682167766,"creation_date":1682164446,"question_id":76079496,"body_markdown":"I have the below `Occurrence` class, i added the `@Value` annotation to make it immutable, and i set extraPrivate to true for to add a private no-args constructor.\r\n\r\n    @Builder\r\n    @Value\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    public class Occurrence {\r\n      .....\r\n    }\r\n\r\n**lombok.config**\r\n\r\n    config.stopBubbling = true\r\n    lombok.getter.noIsPrefix = true\r\n    lombok.noArgsConstructor.extraPrivate = true\r\n\r\nIs there a way to add a **public no-args constructor** ?","title":"Lombok @Value with public no-args constructor","body":"<p>I have the below <code>Occurrence</code> class, i added the <code>@Value</code> annotation to make it immutable, and i set extraPrivate to true for to add a private no-args constructor.</p>\n<pre><code>@Builder\n@Value\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\npublic class Occurrence {\n  .....\n}\n</code></pre>\n<p><strong>lombok.config</strong></p>\n<pre><code>config.stopBubbling = true\nlombok.getter.noIsPrefix = true\nlombok.noArgsConstructor.extraPrivate = true\n</code></pre>\n<p>Is there a way to add a <strong>public no-args constructor</strong> ?</p>\n"},{"tags":["java","decrement"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682167142,"post_id":76079657,"comment_id":134174530,"body_markdown":"&quot;the value is used before getting change&quot; exactly - the value still changes. Why did you expect the value to stay at 10, when the second `a--` is run?","body":"&quot;the value is used before getting change&quot; exactly - the value still changes. Why did you expect the value to stay at 10, when the second <code>a--</code> is run?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1682167617,"post_id":76079657,"comment_id":134174593,"body_markdown":"The real-world output is &quot;your pull request is rejected; reformulate that expression for clarity&quot;.","body":"The real-world output is &quot;your pull request is rejected; reformulate that expression for clarity&quot;."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682168929,"post_id":76079657,"comment_id":134174793,"body_markdown":"The operands used in a multiplication are evaluated left to right. Evaluating the left `a--` yields 10 as you expected and decrements `a` to 9. Now I leave to you what happens when the right operands is evaluated. :-)","body":"The operands used in a multiplication are evaluated left to right. Evaluating the left <code>a--</code> yields 10 as you expected and decrements <code>a</code> to 9. Now I leave to you what happens when the right operands is evaluated. :-)"}],"answers":[{"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682173919,"post_id":76079688,"comment_id":134175476,"body_markdown":"&quot;_but **returning** the value it had before_&quot; - Should that read &quot;_but **using** the value it had before_&quot;? As in the value _used_ in the multiplication is `10`.","body":"&quot;<i>but <b>returning</b> the value it had before</i>&quot; - Should that read &quot;<i>but <b>using</b> the value it had before</i>&quot;? As in the value <i>used</i> in the multiplication is <code>10</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682174267,"post_id":76079688,"comment_id":134175518,"body_markdown":"Never mind. It&#39;s returned so it can be used.","body":"Never mind. It&#39;s returned so it can be used."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1682175040,"post_id":76079688,"comment_id":134175613,"body_markdown":"Essentially, the expression `a--` (with a = 10), has the side-effect of making `a = 9` and then evaluating to `10`. While `--a` has the same side-effect, but evaluates to `9`.","body":"Essentially, the expression <code>a--</code> (with a = 10), has the side-effect of making <code>a = 9</code> and then evaluating to <code>10</code>. While <code>--a</code> has the same side-effect, but evaluates to <code>9</code>."}],"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682167366,"creation_date":1682167366,"answer_id":76079688,"question_id":76079657,"body_markdown":"Java sees `A * B`, so it first needs to compute both arguments, A and B.\r\n\r\nThe left operand (A) `a--` is executed, making `a = 9`, but **returning the value it had before**, so `10`.\r\n\r\nWe now have `10 * a--`. Next, Java executes the right operand (B) and we get `a = 8`, but we use the value it had before the decrement, so `9`.\r\n\r\nWe get `10 * 9`, which is `90`. And `a = 8`.","title":"Post decrement, what is a-- * a--?","body":"<p>Java sees <code>A * B</code>, so it first needs to compute both arguments, A and B.</p>\n<p>The left operand (A) <code>a--</code> is executed, making <code>a = 9</code>, but <strong>returning the value it had before</strong>, so <code>10</code>.</p>\n<p>We now have <code>10 * a--</code>. Next, Java executes the right operand (B) and we get <code>a = 8</code>, but we use the value it had before the decrement, so <code>9</code>.</p>\n<p>We get <code>10 * 9</code>, which is <code>90</code>. And <code>a = 8</code>.</p>\n"}],"owner":{"account_id":28327547,"reputation":1,"user_id":21662339,"display_name":"rahul7214"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1682168152,"answer_count":1,"score":-6,"last_activity_date":1682167510,"creation_date":1682166958,"question_id":76079657,"body_markdown":"&gt; ```java\r\n&gt; int a = 10;\r\n&gt; System.out.println(a-- * a--);\r\n&gt; ```\r\n&gt;\r\n&gt; what will be the output of these print statement and why??\r\n\r\nin post decrement we actually observe that \r\n* the value is used before getting change\r\n\r\nbut here I am getting in one of the operator (a--) is  10 and in another operator (a--) with which we are multiplying is getting 9.\r\n\r\noverall the output which I came across is 100 but the actual output is 90 \r\n\r\nplease explain how?","title":"Post decrement, what is a-- * a--?","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>int a = 10;\nSystem.out.println(a-- * a--);\n</code></pre>\n<p>what will be the output of these print statement and why??</p>\n</blockquote>\n<p>in post decrement we actually observe that</p>\n<ul>\n<li>the value is used before getting change</li>\n</ul>\n<p>but here I am getting in one of the operator (a--) is  10 and in another operator (a--) with which we are multiplying is getting 9.</p>\n<p>overall the output which I came across is 100 but the actual output is 90</p>\n<p>please explain how?</p>\n"},{"tags":["java","docker","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"score":0,"creation_date":1510752706,"post_id":47299204,"comment_id":81567756,"body_markdown":"Btw, i use zookeeper and kafka in docker containers","body":"Btw, i use zookeeper and kafka in docker containers"},{"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"score":5,"creation_date":1511206359,"post_id":47299204,"comment_id":81752697,"body_markdown":"I found my error. When using kafka inside a Docker container, you need to specify the KAFKA_ADVERTISED_HOST_NAME in the yml file. This enables producers and consumers outside of the container to interact with kafka.","body":"I found my error. When using kafka inside a Docker container, you need to specify the KAFKA_ADVERTISED_HOST_NAME in the yml file. This enables producers and consumers outside of the container to interact with kafka."},{"owner":{"account_id":126503,"reputation":2554,"user_id":323044,"accept_rate":26,"display_name":"Alessandro Dionisi"},"score":0,"creation_date":1519224675,"post_id":47299204,"comment_id":84823635,"body_markdown":"Which value did you use?","body":"Which value did you use?"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682167135,"post_id":51071495,"comment_id":134174529,"body_markdown":"Question never mentioned Docker. The error still happens with Kafka in Docker if producer ever expires records","body":"Question never mentioned Docker. The error still happens with Kafka in Docker if producer ever expires records"}],"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682167047,"creation_date":1530133987,"answer_id":51071495,"question_id":47299204,"body_markdown":"Using Docker and with Kafka image you need to add the following environment parameters to the container:\r\n\r\n&gt; KAFKA_ZOOKEEPER_CONNECT = X.X.X.X:XXXX (your zookeeper IP or domain : PORT default 2181)\r\n&gt;\r\n&gt; KAFKA_ADVERTISED_HOST_NAME = X.X.X.X (your kafka IP or domain)\r\n&gt;\r\n&gt; KAFKA_ADVERTISED_PORT = XXXX (your kafka PORT number default 9092)\r\n\r\nOptionally:\r\n\r\n&gt; KAFKA_BROKER_ID = 999 (some value) \r\n&gt;\r\n&gt; KAFKA_CREATE_TOPICS=test:1:1 (some topic name to create at start)\r\n\r\nIf it doesn&#39;t work and you still get same message (&quot;Expiring X record(s) for xxxxx: XXXXX ms has passed since batch creation plus linger time&quot;) you can try cleaning the kafka data from zookeeper.","title":"Expiring 1 record(s) for xxxxx: 30030 ms has passed since batch creation plus linger time","body":"<p>Using Docker and with Kafka image you need to add the following environment parameters to the container:</p>\n<blockquote>\n<p>KAFKA_ZOOKEEPER_CONNECT = X.X.X.X:XXXX (your zookeeper IP or domain : PORT default 2181)</p>\n<p>KAFKA_ADVERTISED_HOST_NAME = X.X.X.X (your kafka IP or domain)</p>\n<p>KAFKA_ADVERTISED_PORT = XXXX (your kafka PORT number default 9092)</p>\n</blockquote>\n<p>Optionally:</p>\n<blockquote>\n<p>KAFKA_BROKER_ID = 999 (some value)</p>\n<p>KAFKA_CREATE_TOPICS=test:1:1 (some topic name to create at start)</p>\n</blockquote>\n<p>If it doesn't work and you still get same message (&quot;Expiring X record(s) for xxxxx: XXXXX ms has passed since batch creation plus linger time&quot;) you can try cleaning the kafka data from zookeeper.</p>\n"}],"owner":{"account_id":287912,"reputation":346,"user_id":588018,"display_name":"Erick Audet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8042,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1682167047,"creation_date":1510718756,"question_id":47299204,"body_markdown":"**My use case:**\r\nUsing Postman, I call a Spring boot soap endpoint. The endpoint creates a KafkaProducer and send a message to a specific topic. I also have a TaskScheduler to consume the topic.\r\n\r\n**The problem:**\r\nWhen calling soap to push a message to a topic, I get this error:\r\n\r\n&gt; 2017-11-14 21:29:31.463 ERROR 6389 --- [ad | producer-3]\r\n&gt; DomainEntityProducer                     : Expiring 1 record(s) for\r\n&gt; DomainEntityCommandStream-0: 30030 ms has passed since batch creation\r\n&gt; plus linger time 2017-11-14 21:29:31.464 ERROR 6389 ---\r\n&gt; [nio-8080-exec-6] DomainEntityProducer                     :\r\n&gt; org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s)\r\n&gt; for DomainEntityCommandStream-0: 30030 ms has passed since batch\r\n&gt; creation plus linger time\r\n\r\nHere’s the method I use to push to the topic:\r\n\r\n    public DomainEntity push(DomainEntity pDomainEntity) throws Exception {\r\n        logger.log(Level.INFO, &quot;streaming...&quot;);\r\n        wKafkaProperties.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        wKafkaProperties.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        wKafkaProperties.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        KafkaProducer wKafkaProducer = new KafkaProducer(wKafkaProperties);\r\n        ProducerRecord wProducerRecord = new ProducerRecord(&quot;DomainEntityCommandStream&quot;, getJSON(pDomainEntity));\r\n        wKafkaProducer.send(wProducerRecord, (RecordMetadata r, Exception e) -&gt; {\r\n            if (e != null) {\r\n                logger.log(Level.SEVERE, e.getMessage());\r\n            }\r\n        }).get();\r\n        return pDomainEntity;\r\n    }\r\n\r\n\r\nUsing command shell scripts \r\n\r\n&gt; ./kafka-console-producer.sh --broker-list 10.0.1.15:9092 --topic\r\n&gt; DomainEntityCommandStream\r\n\r\nand \r\n\r\n&gt; ./kafka-console-consumer.sh --boostrap-server 10.0.1.15:9092 --topic\r\n&gt; DomainEntityCommandStream --from-beginning\r\n\r\nworks very well.\r\n\r\nGoing through some related problems on Stackoverflow, I have tried to purge the topic:\r\n\r\n&gt; ./kafka-topics.sh --zookeeper 10.0.1.15:9092 --alter --topic\r\n&gt; DomainEntityCommandStream --config retention.ms=1000\r\n\r\nLooking at kafka logs, I see that retention time was altered.\r\n\r\nBut, no luck, I get the same error.\r\n\r\nThe payload is ridiculously small, so why should I change batch.size?\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n    \t\t\t\t  xmlns:gs=&quot;http://soap.problem.com&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;gs:streamDomainEntityRequest&gt;\r\n             &lt;gs:domainEntity&gt;\r\n                    &lt;gs:name&gt;12345&lt;/gs:name&gt;\r\n                    &lt;gs:value&gt;Quebec&lt;/gs:value&gt;\r\n                    &lt;gs:version&gt;666&lt;/gs:version&gt;\r\n                &lt;/gs:domainEntity&gt;\r\n          &lt;/gs:streamDomainEntityRequest&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\n","title":"Expiring 1 record(s) for xxxxx: 30030 ms has passed since batch creation plus linger time","body":"<p><strong>My use case:</strong>\nUsing Postman, I call a Spring boot soap endpoint. The endpoint creates a KafkaProducer and send a message to a specific topic. I also have a TaskScheduler to consume the topic.</p>\n\n<p><strong>The problem:</strong>\nWhen calling soap to push a message to a topic, I get this error:</p>\n\n<blockquote>\n  <p>2017-11-14 21:29:31.463 ERROR 6389 --- [ad | producer-3]\n  DomainEntityProducer                     : Expiring 1 record(s) for\n  DomainEntityCommandStream-0: 30030 ms has passed since batch creation\n  plus linger time 2017-11-14 21:29:31.464 ERROR 6389 ---\n  [nio-8080-exec-6] DomainEntityProducer                     :\n  org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s)\n  for DomainEntityCommandStream-0: 30030 ms has passed since batch\n  creation plus linger time</p>\n</blockquote>\n\n<p>Here’s the method I use to push to the topic:</p>\n\n<pre><code>public DomainEntity push(DomainEntity pDomainEntity) throws Exception {\n    logger.log(Level.INFO, \"streaming...\");\n    wKafkaProperties.put(\"bootstrap.servers\", \"localhost:9092\");\n    wKafkaProperties.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n    wKafkaProperties.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n    KafkaProducer wKafkaProducer = new KafkaProducer(wKafkaProperties);\n    ProducerRecord wProducerRecord = new ProducerRecord(\"DomainEntityCommandStream\", getJSON(pDomainEntity));\n    wKafkaProducer.send(wProducerRecord, (RecordMetadata r, Exception e) -&gt; {\n        if (e != null) {\n            logger.log(Level.SEVERE, e.getMessage());\n        }\n    }).get();\n    return pDomainEntity;\n}\n</code></pre>\n\n<p>Using command shell scripts </p>\n\n<blockquote>\n  <p>./kafka-console-producer.sh --broker-list 10.0.1.15:9092 --topic\n  DomainEntityCommandStream</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>./kafka-console-consumer.sh --boostrap-server 10.0.1.15:9092 --topic\n  DomainEntityCommandStream --from-beginning</p>\n</blockquote>\n\n<p>works very well.</p>\n\n<p>Going through some related problems on Stackoverflow, I have tried to purge the topic:</p>\n\n<blockquote>\n  <p>./kafka-topics.sh --zookeeper 10.0.1.15:9092 --alter --topic\n  DomainEntityCommandStream --config retention.ms=1000</p>\n</blockquote>\n\n<p>Looking at kafka logs, I see that retention time was altered.</p>\n\n<p>But, no luck, I get the same error.</p>\n\n<p>The payload is ridiculously small, so why should I change batch.size?</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\n                  xmlns:gs=\"http://soap.problem.com\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;gs:streamDomainEntityRequest&gt;\n         &lt;gs:domainEntity&gt;\n                &lt;gs:name&gt;12345&lt;/gs:name&gt;\n                &lt;gs:value&gt;Quebec&lt;/gs:value&gt;\n                &lt;gs:version&gt;666&lt;/gs:version&gt;\n            &lt;/gs:domainEntity&gt;\n      &lt;/gs:streamDomainEntityRequest&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":["java","generics","inheritance"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1682166973,"post_id":76079640,"comment_id":134174505,"body_markdown":"Just declare one type parameter, not two, when declaring the subclass then. Is `public abstract class SubClass1&lt;T&gt; extends BaseClass &lt;T, String&gt;{}` what you are looking for?","body":"Just declare one type parameter, not two, when declaring the subclass then. Is <code>public abstract class SubClass1&lt;T&gt; extends BaseClass &lt;T, String&gt;{}</code> what you are looking for?"}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682167018,"creation_date":1682167018,"answer_id":76079664,"question_id":76079640,"body_markdown":"Sure. The syntax for `SubClass1` would be:\r\n\r\n```java\r\npublic abstract class SubClass1&lt;T&gt; extends BaseClass&lt;T, String&gt; {}\r\n```\r\n\r\nSo not `SubClass1&lt;T, String&gt;`, just `SubClass1&lt;T&gt;`, since that is the only generic parameter for this particular class.","title":"Is it possible define a Java generic class with &lt;T, Class&gt; parameters?","body":"<p>Sure. The syntax for <code>SubClass1</code> would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class SubClass1&lt;T&gt; extends BaseClass&lt;T, String&gt; {}\n</code></pre>\n<p>So not <code>SubClass1&lt;T, String&gt;</code>, just <code>SubClass1&lt;T&gt;</code>, since that is the only generic parameter for this particular class.</p>\n"}],"owner":{"account_id":10052937,"reputation":825,"user_id":7432133,"accept_rate":83,"display_name":"Tahjid Ashfaque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76079664,"answer_count":1,"score":1,"last_activity_date":1682167018,"creation_date":1682166698,"question_id":76079640,"body_markdown":"I am trying to define a base class as:\r\n\r\n    public abstract class BaseClass &lt;T, R&gt; implements Interface1 &lt;T&gt;, Interface2 &lt;R&gt;{}\r\nand in a subclass do \r\n\r\n    public abstract class SubClass1 &lt;T, String&gt;extends BaseClass &lt;T, String&gt;{}\r\n\r\nBasically fix one parameter type and keep the other 1 generic for whoever extends SubClass1.\r\nIs it possible to do so?","title":"Is it possible define a Java generic class with &lt;T, Class&gt; parameters?","body":"<p>I am trying to define a base class as:</p>\n<pre><code>public abstract class BaseClass &lt;T, R&gt; implements Interface1 &lt;T&gt;, Interface2 &lt;R&gt;{}\n</code></pre>\n<p>and in a subclass do</p>\n<pre><code>public abstract class SubClass1 &lt;T, String&gt;extends BaseClass &lt;T, String&gt;{}\n</code></pre>\n<p>Basically fix one parameter type and keep the other 1 generic for whoever extends SubClass1.\nIs it possible to do so?</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"owner":{"account_id":28363017,"reputation":11,"user_id":21692743,"display_name":"Dhruv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682166885,"creation_date":1682150051,"question_id":76078582,"body_markdown":"I am using Spring Kafka in my application, and when the load is too high, it throws the timeout exception:\r\n\r\n```\r\nException: Expiring XX record(s) for topic_name: 600904 ms has passed since batch creation plus linger time at org.springframework.kafka.core.KafkaTemplate.lambda\r\norg.apache.kafka.common.errors.TimeoutException: Expiring 54 record(s) for topic_name: 600904 ms has passed since batch creation plus linger time\r\n```\r\n\r\nI have tried with multiple producer configurations.\r\n\r\n`Changed linger.ms to 0,10,100 and 1000.\r\nChanged batch.size to 131072 and 65000\r\nIncreased the request.timeout.ms to 100000 and 600000`\r\nRest, all the configs are mostly the default ones.\r\n\r\nBy changing these properties, we are reducing or delaying the errors a bit, but still not completely eliminating them.\r\n\r\nI am using the Kafka send() method with a callback. I have tried calling this method async as well, but still no luck.\r\n\r\nEach message would be around 4-6 KB. And 2-3 millions of messages are sent in a short span of time. We have a total of 10 partitions.\r\n\r\nI have seen that calling flush() can help in this case, but that will reduce the performance and increase the sending time.\r\n\r\nIs there anything else apart the configurations which can be done to fix this issue ? \r\nOr if there is any other configuration which needs to be changed ?","title":"Kafka throwing timeout error on high load with error : org.apache.kafka.common.errors.TimeoutException","body":"<p>I am using Spring Kafka in my application, and when the load is too high, it throws the timeout exception:</p>\n<pre><code>Exception: Expiring XX record(s) for topic_name: 600904 ms has passed since batch creation plus linger time at org.springframework.kafka.core.KafkaTemplate.lambda\norg.apache.kafka.common.errors.TimeoutException: Expiring 54 record(s) for topic_name: 600904 ms has passed since batch creation plus linger time\n</code></pre>\n<p>I have tried with multiple producer configurations.</p>\n<p><code>Changed linger.ms to 0,10,100 and 1000. Changed batch.size to 131072 and 65000 Increased the request.timeout.ms to 100000 and 600000</code>\nRest, all the configs are mostly the default ones.</p>\n<p>By changing these properties, we are reducing or delaying the errors a bit, but still not completely eliminating them.</p>\n<p>I am using the Kafka send() method with a callback. I have tried calling this method async as well, but still no luck.</p>\n<p>Each message would be around 4-6 KB. And 2-3 millions of messages are sent in a short span of time. We have a total of 10 partitions.</p>\n<p>I have seen that calling flush() can help in this case, but that will reduce the performance and increase the sending time.</p>\n<p>Is there anything else apart the configurations which can be done to fix this issue ?\nOr if there is any other configuration which needs to be changed ?</p>\n"},{"tags":["java","sql","postgresql"],"comments":[{"owner":{"account_id":403207,"reputation":32989,"user_id":770830,"accept_rate":71,"display_name":"bereal"},"score":3,"creation_date":1679474018,"post_id":75809898,"comment_id":133726641,"body_markdown":"It is likely a parameterized query, what library/language are you using?","body":"It is likely a parameterized query, what library/language are you using?"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679476545,"creation_date":1679476545,"answer_id":75810309,"question_id":75809898,"body_markdown":"This is a parameterized query. `?1` is a parameter that need to be provided when executing the query.\r\n\r\nSince it is a delete query it doesn&#39;t fetch anything.\r\nThe expression `region = ?1` matches those rows where the value of region is the same as the value provided for the parameter.\r\n\r\nHow you provide the parameter depends on the environment you are working in. \r\nMost of the time you encounter this kind of construct when using SQL in other general purpose languages like C, Python, or Java.\r\n","title":"Delete from stu where region = ?1","body":"<p>This is a parameterized query. <code>?1</code> is a parameter that need to be provided when executing the query.</p>\n<p>Since it is a delete query it doesn't fetch anything.\nThe expression <code>region = ?1</code> matches those rows where the value of region is the same as the value provided for the parameter.</p>\n<p>How you provide the parameter depends on the environment you are working in.\nMost of the time you encounter this kind of construct when using SQL in other general purpose languages like C, Python, or Java.</p>\n"}],"owner":{"account_id":24863817,"reputation":21,"user_id":18739201,"display_name":"chandana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75810309,"answer_count":1,"score":0,"last_activity_date":1682166714,"creation_date":1679473788,"question_id":75809898,"body_markdown":"`delete from stu where region = ?1`\r\n\r\nCan anyone help me to understand this query?\r\n\r\n\r\n`=?` (what type of data,it will fetch)","title":"Delete from stu where region = ?1","body":"<p><code>delete from stu where region = ?1</code></p>\n<p>Can anyone help me to understand this query?</p>\n<p><code>=?</code> (what type of data,it will fetch)</p>\n"},{"tags":["java","loops","filter","foreach","stream"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682163490,"post_id":76079404,"comment_id":134174133,"body_markdown":"What is the criterion for a cart item to match a master list item? Are there any matches in your example data?","body":"What is the criterion for a cart item to match a master list item? Are there any matches in your example data?"},{"owner":{"account_id":28378885,"reputation":1,"user_id":21706482,"display_name":"Sandy Java "},"score":0,"creation_date":1682163638,"post_id":76079404,"comment_id":134174148,"body_markdown":"The item name in master list should match the name in the itemId and the price should match. There are other attributes in the cart items, but they are not used in comparison. Hence I have not shown them. In the example, the customer ID 123 matches with the master list.","body":"The item name in master list should match the name in the itemId and the price should match. There are other attributes in the cart items, but they are not used in comparison. Hence I have not shown them. In the example, the customer ID 123 matches with the master list."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682165394,"post_id":76079404,"comment_id":134174330,"body_markdown":"Ah, so `itemId` is the concatenation of `customerId` and `itemName` with a hyphen in between. I understand why I didn’t see this readily. I recommend you edit your question and explain.","body":"Ah, so <code>itemId</code> is the concatenation of <code>customerId</code> and <code>itemName</code> with a hyphen in between. I understand why I didn’t see this readily. I recommend you edit your question and explain."}],"answers":[{"comments":[{"owner":{"account_id":28378885,"reputation":1,"user_id":21706482,"display_name":"Sandy Java "},"score":0,"creation_date":1682166314,"post_id":76079461,"comment_id":134174438,"body_markdown":"Is there anyway to match the price as well?","body":"Is there anyway to match the price as well?"}],"tags":[],"owner":{"account_id":21985741,"reputation":104,"user_id":16260040,"display_name":"Swapnil"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682163795,"creation_date":1682163795,"answer_id":76079461,"question_id":76079404,"body_markdown":"Yes, You can use Java streams to solve this, Try this code in your code :\r\n\r\n    List&lt;Customer&gt; customersWithAllItems = customers.stream()\r\n                .filter(customer -&gt; {\r\n            List&lt;String&gt; customerItemNames = customer.getCartItems().stream()\r\n                .map(item -&gt; item.getItemId().split(&quot;-&quot;)[1]) \r\n                .collect(Collectors.toList());\r\n            List&lt;String&gt; masterItemNames = masterListItems.stream()\r\n                .map(Item::getItemName)\r\n                .collect(Collectors.toList());\r\n            return masterItemNames.containsAll(customerItemNames);\r\n        })\r\n                .collect(Collectors.toList());\r\n\r\n ","title":"Java stream to compare elements of two lists and find matches","body":"<p>Yes, You can use Java streams to solve this, Try this code in your code :</p>\n<pre><code>List&lt;Customer&gt; customersWithAllItems = customers.stream()\n            .filter(customer -&gt; {\n        List&lt;String&gt; customerItemNames = customer.getCartItems().stream()\n            .map(item -&gt; item.getItemId().split(&quot;-&quot;)[1]) \n            .collect(Collectors.toList());\n        List&lt;String&gt; masterItemNames = masterListItems.stream()\n            .map(Item::getItemName)\n            .collect(Collectors.toList());\n        return masterItemNames.containsAll(customerItemNames);\n    })\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":28378885,"reputation":1,"user_id":21706482,"display_name":"Sandy Java "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682166376,"creation_date":1682162931,"question_id":76079404,"body_markdown":"New to java.\r\nI have two lists - the list of customers with all the items in their cart and the master list of items. The following are the example of the two objects\r\n\r\nCustomer\r\n```\r\n[\r\n{\r\n    &quot;customerId&quot;: 123,\r\n    &quot;cartItems&quot;: [\r\n        {\r\n            &quot;itemId&quot;: &quot;123-XYZ&quot;,\r\n            &quot;itemPrice&quot;: 200\r\n        }, \r\n        {\r\n            &quot;itemId&quot;: &quot;123-ABC&quot;,\r\n            &quot;itemPrice&quot;: 100\r\n        }\r\n    ]\r\n},\r\n{\r\n    &quot;customerId&quot;: 987,\r\n    &quot;cartItems&quot;: [\r\n        {\r\n            &quot;itemId&quot;: &quot;987-XYZ&quot;,\r\n            &quot;itemPrice&quot;: 200\r\n        }\r\n    ]\r\n}\r\n]\r\n```\r\nThe itemID in the customer object contains the customer ID and the item name separated by &quot;-&quot;. \r\n\r\n\r\nMaster list of items\r\n```\r\n[\r\n    {\r\n        &quot;itemName&quot;: &quot;XYZ&quot;,\r\n        &quot;itemPrice&quot;: 200\r\n    },\r\n    {\r\n        &quot;itemName&quot;: &quot;ABC&quot;,\r\n        &quot;itemPrice&quot;: 100\r\n    }\r\n]\r\n```\r\n\r\nI want to compare the two lists and find the customer who has all the items from the master list. The master list is dynamic and can change from time to time. \r\nI am able to execute this using simple for loop with two items in the master list. Kindly suggest if stream function can be used to solve this correctly.\r\n\r\n\r\n```\r\nfor(Customer customer: customers) {\r\n    List&lt;Item&gt; items = customer.getItems();\r\n\r\n    for(Item item: items) {\r\n        if(item.getItemId().contains(masterListItems.getItemName()) &amp; item.getItemPrice().equals(masterListItems.getItemPrice()) {\r\n            System.out.println(&quot;Item found&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Java stream to compare elements of two lists and find matches","body":"<p>New to java.\nI have two lists - the list of customers with all the items in their cart and the master list of items. The following are the example of the two objects</p>\n<p>Customer</p>\n<pre><code>[\n{\n    &quot;customerId&quot;: 123,\n    &quot;cartItems&quot;: [\n        {\n            &quot;itemId&quot;: &quot;123-XYZ&quot;,\n            &quot;itemPrice&quot;: 200\n        }, \n        {\n            &quot;itemId&quot;: &quot;123-ABC&quot;,\n            &quot;itemPrice&quot;: 100\n        }\n    ]\n},\n{\n    &quot;customerId&quot;: 987,\n    &quot;cartItems&quot;: [\n        {\n            &quot;itemId&quot;: &quot;987-XYZ&quot;,\n            &quot;itemPrice&quot;: 200\n        }\n    ]\n}\n]\n</code></pre>\n<p>The itemID in the customer object contains the customer ID and the item name separated by &quot;-&quot;.</p>\n<p>Master list of items</p>\n<pre><code>[\n    {\n        &quot;itemName&quot;: &quot;XYZ&quot;,\n        &quot;itemPrice&quot;: 200\n    },\n    {\n        &quot;itemName&quot;: &quot;ABC&quot;,\n        &quot;itemPrice&quot;: 100\n    }\n]\n</code></pre>\n<p>I want to compare the two lists and find the customer who has all the items from the master list. The master list is dynamic and can change from time to time.\nI am able to execute this using simple for loop with two items in the master list. Kindly suggest if stream function can be used to solve this correctly.</p>\n<pre><code>for(Customer customer: customers) {\n    List&lt;Item&gt; items = customer.getItems();\n\n    for(Item item: items) {\n        if(item.getItemId().contains(masterListItems.getItemName()) &amp; item.getItemPrice().equals(masterListItems.getItemPrice()) {\n            System.out.println(&quot;Item found&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-camel","camel-rest"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1682185366,"post_id":76078350,"comment_id":134176941,"body_markdown":"You should maybe add (in ExceptionProcessor ) a &quot;Content-Type&quot; header with &quot;application/json&quot;","body":"You should maybe add (in ExceptionProcessor ) a &quot;Content-Type&quot; header with &quot;application/json&quot;"}],"owner":{"account_id":9886087,"reputation":51,"user_id":7320571,"display_name":"nik123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682165045,"creation_date":1682145517,"question_id":76078350,"body_markdown":"I am using apache camel to expose rest endpoint from my application.\r\nWhen rest endpoint is successfully executed it is returning expected JSON response like below.\r\n\r\n    {\r\n      &quot;key1&quot;: &quot;value1&quot;,\r\n      &quot;key2&quot;: 123\r\n    }\r\n\r\nwhen there is an exception, onException camel clause get executed and in that case its not returning json response, instead it return java object representation like below\r\n\r\n    com.mypackage.Response@27f674d\r\n\r\nSample route definition as below.\r\n\r\n        rest(&quot;&quot;)\r\n        .consumes(&quot;application/json&quot;)\r\n        .produces(&quot;application/json&quot;)    \r\n        .post(&quot;/endpoint&quot;)\r\n        .bindingMode(RestBindingMode.json)\r\n        .type(Request.class)\r\n        .outType(Response.class)\r\n        .to(&quot;direct:endpoint&quot;)\r\n\r\nRoute endpoint defination\r\n\r\n    onException(Exception.class)\r\n    .process(new ExceptionProcessor())\r\n    .convertBodyTo(Response.class)\r\n    .handled(true);\r\n\r\n    from(&quot;direct:endpoint&quot;)\r\n    .streamCaching()\r\n    .process(...)\r\n    .process(...)\r\n    .end()\r\n\r\nExceptionProcessor sample implementation.\r\n\r\n    public class ExceptionProcessor implements Processor{\r\n        public void process(Exchange exchange) throws Exception{\r\n            Response res = new Response();\r\n            res.setKey1(&quot;value1&quot;);\r\n            res.setKey2(123);\r\n            exchange.getMessage().setBody(res);\r\n        }\r\n    }\r\n\r\nWhy onException is returning response as java object string representation?\r\nHow can it return JSON response in case of exception?\r\n","title":"Apache camel &quot;onException&quot; not returning JSON response","body":"<p>I am using apache camel to expose rest endpoint from my application.\nWhen rest endpoint is successfully executed it is returning expected JSON response like below.</p>\n<pre><code>{\n  &quot;key1&quot;: &quot;value1&quot;,\n  &quot;key2&quot;: 123\n}\n</code></pre>\n<p>when there is an exception, onException camel clause get executed and in that case its not returning json response, instead it return java object representation like below</p>\n<pre><code>com.mypackage.Response@27f674d\n</code></pre>\n<p>Sample route definition as below.</p>\n<pre><code>    rest(&quot;&quot;)\n    .consumes(&quot;application/json&quot;)\n    .produces(&quot;application/json&quot;)    \n    .post(&quot;/endpoint&quot;)\n    .bindingMode(RestBindingMode.json)\n    .type(Request.class)\n    .outType(Response.class)\n    .to(&quot;direct:endpoint&quot;)\n</code></pre>\n<p>Route endpoint defination</p>\n<pre><code>onException(Exception.class)\n.process(new ExceptionProcessor())\n.convertBodyTo(Response.class)\n.handled(true);\n\nfrom(&quot;direct:endpoint&quot;)\n.streamCaching()\n.process(...)\n.process(...)\n.end()\n</code></pre>\n<p>ExceptionProcessor sample implementation.</p>\n<pre><code>public class ExceptionProcessor implements Processor{\n    public void process(Exchange exchange) throws Exception{\n        Response res = new Response();\n        res.setKey1(&quot;value1&quot;);\n        res.setKey2(123);\n        exchange.getMessage().setBody(res);\n    }\n}\n</code></pre>\n<p>Why onException is returning response as java object string representation?\nHow can it return JSON response in case of exception?</p>\n"},{"tags":["java","eclipse","intellij-idea","kotlin","jetbrains-ide"],"answers":[{"comments":[{"owner":{"account_id":50430,"reputation":2241,"user_id":150435,"accept_rate":75,"display_name":"Travis Spencer"},"score":0,"creation_date":1437289230,"post_id":31498603,"comment_id":50960959,"body_markdown":"Thanks for answer and the the pointer to the code, @hotkey. Much appreciated.","body":"Thanks for answer and the the pointer to the code, @hotkey. Much appreciated."},{"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"score":0,"creation_date":1437305538,"post_id":31498603,"comment_id":50964470,"body_markdown":"@TravisSpencer, you&#39;re welcome. If the answer satisfied you could you please accept it to move question to the answered?","body":"@TravisSpencer, you&#39;re welcome. If the answer satisfied you could you please accept it to move question to the answered?"},{"owner":{"account_id":1299128,"reputation":945,"user_id":1249407,"display_name":"Alexander Poleschuk"},"score":0,"creation_date":1633711673,"post_id":31498603,"comment_id":122841384,"body_markdown":"@hotkey the links in your answer are broken. Do you know if something like that exists anywhere?","body":"@hotkey the links in your answer are broken. Do you know if something like that exists anywhere?"}],"tags":[],"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1682164686,"creation_date":1437287433,"answer_id":31498603,"question_id":31494013,"body_markdown":"It seems that it&#39;s possible, but there&#39;s no tool for that, just code. There are tests in [j2k module](https://github.com/JetBrains/intellij-community/tree/idea/231.8770.17/plugins/kotlin/j2k) in Kotlin Github repository, the example below is taken from the [tests (AbstractJavaToKotlinConverterSingleFileTest)](https://github.com/JetBrains/intellij-community/blob/idea/231.8770.17/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt):\r\n\r\n    private fun fileToKotlin(text: String, settings: ConverterSettings, project: Project): String {\r\n        val file = createJavaFile(text)\r\n        val converter = JavaToKotlinConverter(project, settings,\r\n                                              IdeaReferenceSearcher, IdeaResolverForConverter)\r\n        return converter.filesToKotlin(listOf(file), J2kPostProcessor(formatCode = true)).results.single()\r\n    }\r\n\r\nI suppose, you can make a .jar of that module and write your own simple wrapper for `JavaToKotlinConverter` to make it work on files.\r\n\r\n---\r\nUPD: the code has migrated to the `intellij-community` repository, you can find relevant tests here: https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt","title":"Run Java to Kotlin converter from the command line?","body":"<p>It seems that it's possible, but there's no tool for that, just code. There are tests in <a href=\"https://github.com/JetBrains/intellij-community/tree/idea/231.8770.17/plugins/kotlin/j2k\" rel=\"nofollow noreferrer\">j2k module</a> in Kotlin Github repository, the example below is taken from the <a href=\"https://github.com/JetBrains/intellij-community/blob/idea/231.8770.17/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt\" rel=\"nofollow noreferrer\">tests (AbstractJavaToKotlinConverterSingleFileTest)</a>:</p>\n<pre><code>private fun fileToKotlin(text: String, settings: ConverterSettings, project: Project): String {\n    val file = createJavaFile(text)\n    val converter = JavaToKotlinConverter(project, settings,\n                                          IdeaReferenceSearcher, IdeaResolverForConverter)\n    return converter.filesToKotlin(listOf(file), J2kPostProcessor(formatCode = true)).results.single()\n}\n</code></pre>\n<p>I suppose, you can make a .jar of that module and write your own simple wrapper for <code>JavaToKotlinConverter</code> to make it work on files.</p>\n<hr />\n<p>UPD: the code has migrated to the <code>intellij-community</code> repository, you can find relevant tests here: <a href=\"https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-community/blob/2382372993bee233bc6fce95c3917a68a33da111/plugins/kotlin/j2k/new/tests/test/org/jetbrains/kotlin/nj2k/AbstractNewJavaToKotlinConverterSingleFileTest.kt</a></p>\n"}],"owner":{"account_id":50430,"reputation":2241,"user_id":150435,"accept_rate":75,"display_name":"Travis Spencer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2717,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":31498603,"answer_count":1,"score":15,"last_activity_date":1682164686,"creation_date":1437242725,"question_id":31494013,"body_markdown":"You can use the Kotlin plug-ins for Intellij and Eclipse to convert Java files to Kotlin. Can this conversion be done from the command line some how without either of these IDEs?","title":"Run Java to Kotlin converter from the command line?","body":"<p>You can use the Kotlin plug-ins for Intellij and Eclipse to convert Java files to Kotlin. Can this conversion be done from the command line some how without either of these IDEs?</p>\n"},{"tags":["java","xml","logging","logback"],"comments":[{"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"score":1,"creation_date":1392728259,"post_id":21831815,"comment_id":33082967,"body_markdown":"How are you running the code? You can try by replacing the \\ by / for file path. Sometimes it doesn&#39;t work","body":"How are you running the code? You can try by replacing the \\ by / for file path. Sometimes it doesn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1550165667,"post_id":21898643,"comment_id":96179604,"body_markdown":"If groovy gets checked first why does my log say...\n\n11:29:34,847 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\n11:29:34,847 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\n\nSouldn&#39;t that order be reversed?","body":"If groovy gets checked first why does my log say...  11:29:34,847 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml] 11:29:34,847 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]  Souldn&#39;t that order be reversed?"},{"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"score":1,"creation_date":1550563420,"post_id":21898643,"comment_id":96303338,"body_markdown":"@JGleason the order in which they are written might not necessarily depict in what they are executed https://stackoverflow.com/a/4959696/40570","body":"@JGleason the order in which they are written might not necessarily depict in what they are executed <a href=\"https://stackoverflow.com/a/4959696/40570\">stackoverflow.com/a/4959696/40570</a>"},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":0,"creation_date":1585920788,"post_id":21898643,"comment_id":107941584,"body_markdown":"@JGleason the order is correct with `logback-test.xml` first. So in a test execution scenario, where both are likely in the classpath, the test setup is preferred. in production the test stuff should not be present and the `logback.xml` will be preferred instead.","body":"@JGleason the order is correct with <code>logback-test.xml</code> first. So in a test execution scenario, where both are likely in the classpath, the test setup is preferred. in production the test stuff should not be present and the <code>logback.xml</code> will be preferred instead."}],"tags":[],"owner":{"account_id":17912,"reputation":3052,"user_id":40570,"accept_rate":60,"display_name":"shabby"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1392873148,"creation_date":1392872886,"answer_id":21898643,"question_id":21831815,"body_markdown":"    And I&#39;ve copied it into the root of several locations in my classpath\r\n\r\nlogback has a default way of finding the configuration file here is how the documentation goes:\r\n\r\n&gt;Let us begin by discussing the initialization steps that logback follows to try to configure itself:\r\n    \r\n&gt;1. Logback tries to find a file called logback.groovy in the classpath.\r\n    \r\n&gt;2. If no such file is found, logback tries to find a file called logback-test.xml in the classpath.\r\n\r\n&gt;3. If no such file is found, it checks for the file logback.xml in the classpath..\r\n\r\n&gt;4. If neither file is found, logback configures itself automatically using the BasicConfigurator which will cause logging output to be directed to the console.\r\n\r\n\r\nso probably in your case it is loading the basic configuration when you are seeing the output in console. You can try specifying the path in class-path or do it programatically like [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21885787/setting-logback-xml-path-programatically","title":"Logback Could NOT find resource logback.xml","body":"<pre><code>And I've copied it into the root of several locations in my classpath\n</code></pre>\n\n<p>logback has a default way of finding the configuration file here is how the documentation goes:</p>\n\n<blockquote>\n  <p>Let us begin by discussing the initialization steps that logback follows to try to configure itself:</p>\n  \n  <ol>\n  <li><p>Logback tries to find a file called logback.groovy in the classpath.</p></li>\n  <li><p>If no such file is found, logback tries to find a file called logback-test.xml in the classpath.</p></li>\n  <li><p>If no such file is found, it checks for the file logback.xml in the classpath..</p></li>\n  <li><p>If neither file is found, logback configures itself automatically using the BasicConfigurator which will cause logging output to be directed to the console.</p></li>\n  </ol>\n</blockquote>\n\n<p>so probably in your case it is loading the basic configuration when you are seeing the output in console. You can try specifying the path in class-path or do it programatically like <a href=\"https://stackoverflow.com/questions/21885787/setting-logback-xml-path-programatically\">this</a></p>\n"},{"tags":[],"owner":{"account_id":16904937,"reputation":1,"user_id":12225425,"display_name":"rishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644072515,"creation_date":1644072515,"answer_id":70999078,"question_id":21831815,"body_markdown":"One short and quick solution that works for me for this particular problem is to delete that logback.xml and maven update the project","title":"Logback Could NOT find resource logback.xml","body":"<p>One short and quick solution that works for me for this particular problem is to delete that logback.xml and maven update the project</p>\n"},{"tags":[],"owner":{"account_id":22089978,"reputation":142,"user_id":16348170,"display_name":"hidden_machine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662368994,"creation_date":1662368994,"answer_id":73606997,"question_id":21831815,"body_markdown":"For me the problem arose due to mistakenly having 2 slf4j-api libraries on the classpath. Removing one of them did the trick.","title":"Logback Could NOT find resource logback.xml","body":"<p>For me the problem arose due to mistakenly having 2 slf4j-api libraries on the classpath. Removing one of them did the trick.</p>\n"},{"tags":[],"owner":{"account_id":3159500,"reputation":1541,"user_id":8919607,"display_name":"Pradeep Anchan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682163529,"creation_date":1682163529,"answer_id":76079439,"question_id":21831815,"body_markdown":"For me, the problem got resolved when i restarted my IDE (Intellij-Idea).\\\r\nIt somehow had cached the java-util-logging library and no amount of tweaking was fixing the issue.\\\r\nFinally the restart did the trick.","title":"Logback Could NOT find resource logback.xml","body":"<p>For me, the problem got resolved when i restarted my IDE (Intellij-Idea).<br />\nIt somehow had cached the java-util-logging library and no amount of tweaking was fixing the issue.<br />\nFinally the restart did the trick.</p>\n"}],"owner":{"account_id":3221258,"reputation":340,"user_id":2718665,"accept_rate":38,"display_name":"M_Tech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43280,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1682163529,"creation_date":1392647808,"question_id":21831815,"body_markdown":"It&#39;s working to output to console.\r\nlogger.info(&quot;Hello world info.&quot;); //works just fine...\r\n\r\nHowever the following code returns &#39;Could NOT find resource&#39; error:\r\n\r\n    Logger logger = LoggerFactory.getLogger(&quot;framework.Utilities._Test&quot;);\r\n    LoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n    StatusPrinter.print(lc);\r\n\r\nI&#39;m using the following XML:\r\n\r\n    &lt;configuration&gt;\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;C:\\Reports\\logBack.log&lt;/file&gt;\r\n        &lt;!-- encoders are assigned by default the type\r\n             ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAnd I&#39;ve copied it into the root of several locations in my classpath (Windows7\\Environment Variables\\System Variables\\Path) but I still get the error &#39;resource not found&#39;. Any ideas? \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Logback Could NOT find resource logback.xml","body":"<p>It's working to output to console.\nlogger.info(\"Hello world info.\"); //works just fine...</p>\n\n<p>However the following code returns 'Could NOT find resource' error:</p>\n\n<pre><code>Logger logger = LoggerFactory.getLogger(\"framework.Utilities._Test\");\nLoggerContext lc = (LoggerContext) LoggerFactory.getILoggerFactory();\nStatusPrinter.print(lc);\n</code></pre>\n\n<p>I'm using the following XML:</p>\n\n<pre><code>&lt;configuration&gt;\n&lt;appender name=\"FILE\" class=\"ch.qos.logback.core.FileAppender\"&gt;\n    &lt;file&gt;C:\\Reports\\logBack.log&lt;/file&gt;\n    &lt;!-- encoders are assigned by default the type\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder --&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%date %level [%thread] %logger{10} [%file:%line] %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=\"debug\"&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>And I've copied it into the root of several locations in my classpath (Windows7\\Environment Variables\\System Variables\\Path) but I still get the error 'resource not found'. Any ideas? </p>\n"},{"tags":["java","text","utf-8","codepages","windows-1256"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405425125,"post_id":24757262,"comment_id":38412208,"body_markdown":"You mean ASCII, rather than ANSI?","body":"You mean ASCII, rather than ANSI?"},{"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"score":0,"creation_date":1405426315,"post_id":24757262,"comment_id":38412967,"body_markdown":"yes i&#39;m using the windows 1256 encoding","body":"yes i&#39;m using the windows 1256 encoding"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1405429505,"post_id":24757262,"comment_id":38415161,"body_markdown":"... which is not ASCII","body":"... which is not ASCII"},{"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"score":1,"creation_date":1405481390,"post_id":24757262,"comment_id":38439331,"body_markdown":"Windows-1256 is the ANSI code page if the system locale is set to Arabic.","body":"Windows-1256 is the ANSI code page if the system locale is set to Arabic."}],"answers":[{"comments":[{"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"score":0,"creation_date":1405425959,"post_id":24757429,"comment_id":38412751,"body_markdown":"i sent the file to the printer that supports only windows 1256 encoding, i need this right to left character in this encoding","body":"i sent the file to the printer that supports only windows 1256 encoding, i need this right to left character in this encoding"},{"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"score":0,"creation_date":1405433378,"post_id":24757429,"comment_id":38418030,"body_markdown":"any suggestions please?","body":"any suggestions please?"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1405497016,"post_id":24757429,"comment_id":38445618,"body_markdown":"What&#39;s stopping you from parsing the file and reordering the characters to get the output you want?","body":"What&#39;s stopping you from parsing the file and reordering the characters to get the output you want?"},{"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"score":0,"creation_date":1405498876,"post_id":24757429,"comment_id":38446775,"body_markdown":"i tried to read the file line by line and split on the space then reorder the file but i didn&#39;t get the right output always still a problem in the order, the text changing the direction","body":"i tried to read the file line by line and split on the space then reorder the file but i didn&#39;t get the right output always still a problem in the order, the text changing the direction"}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405426635,"creation_date":1405424827,"answer_id":24757429,"question_id":24757262,"body_markdown":"There isn&#39;t one. ANSI is a pretty old standard by the [American National Standards Institute][1]. It doesn&#39;t support RTL languages like Arabic or Hebrew.\r\n\r\nThe Wikipedia Article &quot;[ANSI escape code][2]&quot; lists all the codes that it supports.\r\n\r\nThe workaround is to use a font which renders the glyphs (characters) you need, print them in the opposite order and use cursor movement commands to right align the text.\r\n\r\n**[EDIT]** You&#39;re confusing a couple of things. First of all, ANSI is a set of escape sequences to control your terminal.\r\n\r\nASCII, Windows 1256 and UTF-8 are character encodings (i.e. ways to represent text as sequences of octets or bytes).\r\n\r\nUnicode is a library of glyphs. It tries to contain each and every glyph that you need to display text in any language. You can encode Unicode data using UTF-8, -16, etc. to serialize it.\r\n\r\nThe special Unicode Character `RIGHT-TO-LEFT EMBEDDING` (U+202B) has no representation in any other character encoding.\r\n\r\nYou will have to write a program to parse the input and then you will have to output the text to the printer, sorting the characters in the correct order. There is no shortcut to do this.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/American_National_Standards_Institute\r\n  [2]: http://en.wikipedia.org/wiki/ANSI_escape_code","title":"ANSI value of RTL character","body":"<p>There isn't one. ANSI is a pretty old standard by the <a href=\"http://en.wikipedia.org/wiki/American_National_Standards_Institute\" rel=\"nofollow\">American National Standards Institute</a>. It doesn't support RTL languages like Arabic or Hebrew.</p>\n\n<p>The Wikipedia Article \"<a href=\"http://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow\">ANSI escape code</a>\" lists all the codes that it supports.</p>\n\n<p>The workaround is to use a font which renders the glyphs (characters) you need, print them in the opposite order and use cursor movement commands to right align the text.</p>\n\n<p><strong>[EDIT]</strong> You're confusing a couple of things. First of all, ANSI is a set of escape sequences to control your terminal.</p>\n\n<p>ASCII, Windows 1256 and UTF-8 are character encodings (i.e. ways to represent text as sequences of octets or bytes).</p>\n\n<p>Unicode is a library of glyphs. It tries to contain each and every glyph that you need to display text in any language. You can encode Unicode data using UTF-8, -16, etc. to serialize it.</p>\n\n<p>The special Unicode Character <code>RIGHT-TO-LEFT EMBEDDING</code> (U+202B) has no representation in any other character encoding.</p>\n\n<p>You will have to write a program to parse the input and then you will have to output the text to the printer, sorting the characters in the correct order. There is no shortcut to do this.</p>\n"},{"comments":[{"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"score":0,"creation_date":1405498991,"post_id":24771753,"comment_id":38446852,"body_markdown":"how can i write this character in the text file using java, shall i use &quot;0XFE&quot; or &quot;\\u0XFE&quot; ? i&#39;ve tried a lot but the character appear like that don&#39;t map to the RIGHT-TO-LEFT MARK","body":"how can i write this character in the text file using java, shall i use &quot;0XFE&quot; or &quot;\\u0XFE&quot; ? i&#39;ve tried a lot but the character appear like that don&#39;t map to the RIGHT-TO-LEFT MARK"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1405505983,"post_id":24771753,"comment_id":38451277,"body_markdown":"Use `\\xFE`. Make sure you work on byte arrays and not Strings - If you use Strings, then these special characters will get lost when you convert the String to bytes.","body":"Use <code>\\xFE</code>. Make sure you work on byte arrays and not Strings - If you use Strings, then these special characters will get lost when you convert the String to bytes."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1405506075,"post_id":24771753,"comment_id":38451339,"body_markdown":"This might also work: `new String(&quot;\\u200e&quot;).getBytes(&quot;Windows-1256&quot;)` should give you a byte array of size 1 with the single byte `0xFE` (or `-2`) in it.","body":"This might also work: <code>new String(&quot;\\u200e&quot;).getBytes(&quot;Windows-1256&quot;)</code> should give you a byte array of size 1 with the single byte <code>0xFE</code> (or <code>-2</code>) in it."}],"tags":[],"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1405481587,"creation_date":1405481587,"answer_id":24771753,"question_id":24757262,"body_markdown":"Windows-1256 is the &quot;ANSI code page&quot; if the system locale is set to Arabic.\r\nA misnomer, but that what is called by all MS documentation...\r\nIn the Windows world &quot;ANSI code page&quot; should read &quot;system code page&quot;\r\n\r\nAnyway, U+202B has no equivalent in  in windows-1256.\r\nYou can probably achieve what you need with\r\n\r\n    U+200E\tLEFT-TO-RIGHT MARK    0xFD in windows-1256\r\n    U+200F\tRIGHT-TO-LEFT MARK    0xFE in windows-1256\t\r\n","title":"ANSI value of RTL character","body":"<p>Windows-1256 is the \"ANSI code page\" if the system locale is set to Arabic.\nA misnomer, but that what is called by all MS documentation...\nIn the Windows world \"ANSI code page\" should read \"system code page\"</p>\n\n<p>Anyway, U+202B has no equivalent in  in windows-1256.\nYou can probably achieve what you need with</p>\n\n<pre><code>U+200E  LEFT-TO-RIGHT MARK    0xFD in windows-1256\nU+200F  RIGHT-TO-LEFT MARK    0xFE in windows-1256  \n</code></pre>\n"}],"owner":{"account_id":1491552,"reputation":187,"user_id":1398528,"accept_rate":12,"display_name":"Mahmoud Ismail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":24771753,"answer_count":2,"score":-1,"last_activity_date":1682162850,"creation_date":1405424349,"question_id":24757262,"body_markdown":"I want to know the ANSI value of the character &quot;\\u202B&quot; that make RTL alignment in the text file, the problem that I&#39;ve used it in UTF8 file and it makes the text RTL but when the text file is ANSI it shows marks &quot;???&quot; that means that this character not identified, so any one can know what&#39;s the opposite code for this character in ANSI?","title":"ANSI value of RTL character","body":"<p>I want to know the ANSI value of the character \"\\u202B\" that make RTL alignment in the text file, the problem that I've used it in UTF8 file and it makes the text RTL but when the text file is ANSI it shows marks \"???\" that means that this character not identified, so any one can know what's the opposite code for this character in ANSI?</p>\n"},{"tags":["java","android","multithreading","surfaceview"],"answers":[{"comments":[{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1681841406,"post_id":76047639,"comment_id":134120971,"body_markdown":"Thank you for your answer but your code does not draw those bitmaps[] at all :(. None of the bitmaps is drawn","body":"Thank you for your answer but your code does not draw those bitmaps[] at all :(. None of the bitmaps is drawn"},{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1681849030,"post_id":76047639,"comment_id":134122552,"body_markdown":"Maybe I should also modify something in MyThread?","body":"Maybe I should also modify something in MyThread?"},{"owner":{"account_id":26533325,"reputation":164,"user_id":20165200,"display_name":"Harshavardhan"},"score":0,"creation_date":1682005389,"post_id":76047639,"comment_id":134151091,"body_markdown":"Hope the edited answer will help you","body":"Hope the edited answer will help you"},{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1682023253,"post_id":76047639,"comment_id":134154891,"body_markdown":"so great so see you remember me :). Tommorow I will test it out, but write me how exactly should MyThread looks like?","body":"so great so see you remember me :). Tommorow I will test it out, but write me how exactly should MyThread looks like?"}],"tags":[],"owner":{"account_id":26533325,"reputation":164,"user_id":20165200,"display_name":"Harshavardhan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682005316,"creation_date":1681839943,"answer_id":76047639,"question_id":76044923,"body_markdown":"Your **&#39;MyThread&#39;** class appears to be drawing everything on the main UI thread. As a result, the UI freezes due to more work.\r\n\r\nThe best way to avoid this is to create a **&#39;Runnable&#39;** that performs the drawing and forwards it to the **&#39;Handler&#39;** on its own thread.\r\n\r\nHere is how you can modify your code to accomplish this:\r\n\r\nLoader.java\r\n\r\n        public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        Canvas[] canvases = differentCanvasesMap.get(0);\r\n        Bitmap[] bitmaps = differentFramesMap.get(0);\r\n        for (int i = 0; i &lt; canvases.length; i++) {\r\n            canvases[i].drawBitmap(bitmaps[i], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        }\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n    \r\n    private static void iterTmxFrames() {\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                framesFirstAnimIter++;\r\n                framesSecondAnimIter++;\r\n                framesThirdAnimIter++;\r\n                if (framesFirstAnimIter == 3) {\r\n                    framesFirstAnimIter = 0;\r\n                }\r\n                if (framesSecondAnimIter == 2) {\r\n                    framesSecondAnimIter = 0;\r\n                }\r\n                if (framesThirdAnimIter == 2) {\r\n                    framesThirdAnimIter = 0;\r\n                }\r\n    \r\n                // Post the drawing to a handler on a separate thread\r\n                handler.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Canvas[] canvases = differentCanvasesMap.get(0);\r\n                        Bitmap[] bitmaps = differentFramesMap.get(0);\r\n                        for (int i = 0; i &lt; canvases.length; i++) {\r\n                            canvases[i].drawBitmap(bitmaps[i], 0, 0, null);\r\n                        }\r\n                    }\r\n                });\r\n    \r\n                handler.postDelayed(runnable, 1000);\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n\r\nIn the **&#39;drawTmxMaps()&#39;** method, a loop is created to iterate over each canvas and bitmap and draw them all at one time.\r\n\r\nIn the **&#39;iterTmxFrames()&#39;** method, we use a **&#39;Handler&#39;** to post a **&#39;Runnable&#39;** where it separates the threads every 1000ms.\r\n\r\nThe **&#39;Runnable&#39;** performs the actual drawing on the canvas utilizing the bitmaps from **&#39;differentFramesMap&#39;**\r\n\r\nIn the **&#39;MyThread&#39;** class, call **&#39;Loader.drawTmxMaps()&#39;** to draw the bitmaps. Following this, **&#39;surfaceHolder.unlockCanvasAndPost(canvas)**&#39; can be used to post the resulting **&#39;Canvas&#39;** objects to the **&#39;SurfaceHolder&#39;**.\r\n\r\nAfter this, **&#39;SurfaceView&#39;** should no longer freeze or lag when scrolling.\r\n\r\n\r\nIn fact, SurfaceView should be moved from the main UI thread to a separate thread\r\n\r\n1. Create a new thread to handle the surfaceView movement.\r\n\r\n    private class MoveSurfaceViewThread extends Thread {\r\n    private final SurfaceView surfaceView;\r\n    private final float moveX;\r\n    private final float moveY;\r\n \r\n    public MoveSurfaceViewThread(SurfaceView surfaceView, float moveX, float moveY) {\r\n        this.surfaceView = surfaceView;\r\n        this.moveX = moveX;\r\n        this.moveY = moveY;\r\n    }\r\n \r\n    @Override\r\n    public void run() {\r\n        surfaceView.setX(moveX);\r\n        surfaceView.setY(moveY);\r\n    }\r\n    }\r\n\r\n2. In your custom GestureDetector, create an instance of the \r\n   MoveSurfaceViewThread and start it on scroll\r\n\r\n   \r\n\r\n        public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, \r\n        float distanceY) {\r\n        float moveX = gameSurface.getX() - distanceX;\r\n        float moveY = gameSurface.getY() - distanceY;\r\n     \r\n        // Create a new thread to move the surfaceView\r\n        MoveSurfaceViewThread moveSurfaceViewThread = new \r\n        MoveSurfaceViewThread(gameSurface, moveX, moveY);\r\n        moveSurfaceViewThread.start();\r\n        return true;\r\n        }\r\n\r\n\r\nPutting SurfaceView on a separate thread will make the app more responsive and prevent the UI thread from being blocked.\r\n\r\n\r\n\r\n","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>Your <strong>'MyThread'</strong> class appears to be drawing everything on the main UI thread. As a result, the UI freezes due to more work.</p>\n<p>The best way to avoid this is to create a <strong>'Runnable'</strong> that performs the drawing and forwards it to the <strong>'Handler'</strong> on its own thread.</p>\n<p>Here is how you can modify your code to accomplish this:</p>\n<p>Loader.java</p>\n<pre><code>    public static void drawTmxMaps(Canvas canvas, Context context) {\n    Canvas[] canvases = differentCanvasesMap.get(0);\n    Bitmap[] bitmaps = differentFramesMap.get(0);\n    for (int i = 0; i &lt; canvases.length; i++) {\n        canvases[i].drawBitmap(bitmaps[i], 0, 0, PaintTemplates.getInstance(context).pMap);\n    }\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = new Runnable() {\n        @Override\n        public void run() {\n            framesFirstAnimIter++;\n            framesSecondAnimIter++;\n            framesThirdAnimIter++;\n            if (framesFirstAnimIter == 3) {\n                framesFirstAnimIter = 0;\n            }\n            if (framesSecondAnimIter == 2) {\n                framesSecondAnimIter = 0;\n            }\n            if (framesThirdAnimIter == 2) {\n                framesThirdAnimIter = 0;\n            }\n\n            // Post the drawing to a handler on a separate thread\n            handler.post(new Runnable() {\n                @Override\n                public void run() {\n                    Canvas[] canvases = differentCanvasesMap.get(0);\n                    Bitmap[] bitmaps = differentFramesMap.get(0);\n                    for (int i = 0; i &lt; canvases.length; i++) {\n                        canvases[i].drawBitmap(bitmaps[i], 0, 0, null);\n                    }\n                }\n            });\n\n            handler.postDelayed(runnable, 1000);\n        }\n    };\n    handler.postDelayed(runnable, 1000);\n}\n</code></pre>\n<p>In the <strong>'drawTmxMaps()'</strong> method, a loop is created to iterate over each canvas and bitmap and draw them all at one time.</p>\n<p>In the <strong>'iterTmxFrames()'</strong> method, we use a <strong>'Handler'</strong> to post a <strong>'Runnable'</strong> where it separates the threads every 1000ms.</p>\n<p>The <strong>'Runnable'</strong> performs the actual drawing on the canvas utilizing the bitmaps from <strong>'differentFramesMap'</strong></p>\n<p>In the <strong>'MyThread'</strong> class, call <strong>'Loader.drawTmxMaps()'</strong> to draw the bitmaps. Following this, <strong>'surfaceHolder.unlockCanvasAndPost(canvas)</strong>' can be used to post the resulting <strong>'Canvas'</strong> objects to the <strong>'SurfaceHolder'</strong>.</p>\n<p>After this, <strong>'SurfaceView'</strong> should no longer freeze or lag when scrolling.</p>\n<p>In fact, SurfaceView should be moved from the main UI thread to a separate thread</p>\n<ol>\n<li><p>Create a new thread to handle the surfaceView movement.</p>\n<p>private class MoveSurfaceViewThread extends Thread {\nprivate final SurfaceView surfaceView;\nprivate final float moveX;\nprivate final float moveY;</p>\n<p>public MoveSurfaceViewThread(SurfaceView surfaceView, float moveX, float moveY) {\nthis.surfaceView = surfaceView;\nthis.moveX = moveX;\nthis.moveY = moveY;\n}</p>\n<p>@Override\npublic void run() {\nsurfaceView.setX(moveX);\nsurfaceView.setY(moveY);\n}\n}</p>\n</li>\n<li><p>In your custom GestureDetector, create an instance of the\nMoveSurfaceViewThread and start it on scroll</p>\n<pre><code> public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, \n float distanceY) {\n float moveX = gameSurface.getX() - distanceX;\n float moveY = gameSurface.getY() - distanceY;\n\n // Create a new thread to move the surfaceView\n MoveSurfaceViewThread moveSurfaceViewThread = new \n MoveSurfaceViewThread(gameSurface, moveX, moveY);\n moveSurfaceViewThread.start();\n return true;\n }\n</code></pre>\n</li>\n</ol>\n<p>Putting SurfaceView on a separate thread will make the app more responsive and prevent the UI thread from being blocked.</p>\n"},{"comments":[{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1682160919,"post_id":76065927,"comment_id":134173888,"body_markdown":"Thank you, there is a progress hehe, no ANR but I added my current screenshot when I move canvas, what happen then.","body":"Thank you, there is a progress hehe, no ANR but I added my current screenshot when I move canvas, what happen then."}],"tags":[],"owner":{"account_id":26533325,"reputation":164,"user_id":20165200,"display_name":"Harshavardhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682059514,"creation_date":1682005212,"answer_id":76065927,"question_id":76044923,"body_markdown":"Your code should look like this:\r\n\r\n**Loader.java:**\r\n\r\n    public class Loader {\r\n    private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\r\n    private static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\r\n    private static boolean isIterStarted = false;\r\n    private static int framesFirstAnimIter = 0;\r\n    private static int framesSecondAnimIter = 0;\r\n    private static int framesThirdAnimIter = 0;\r\n    private static Handler handler = new Handler(Looper.getMainLooper());\r\n    private static Runnable runnable;\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n    private static void iterTmxFrames() {\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                framesFirstAnimIter++;\r\n                framesSecondAnimIter++;\r\n                framesThirdAnimIter++;\r\n                if (framesFirstAnimIter == 3)\r\n                    framesFirstAnimIter = 0;\r\n                if (framesSecondAnimIter == 2)\r\n                    framesSecondAnimIter = 0;\r\n                if (framesThirdAnimIter == 2)\r\n                    framesThirdAnimIter = 0;\r\n                handler.postDelayed(runnable, 1000);\r\n            }\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n    }\r\n\r\n**MyThread.java:**\r\n\r\n    public class MyThread extends Thread {\r\n    private final SurfaceHolder surfaceHolder;\r\n    private final GameSurface gameSurface;\r\n    private boolean isRunning;\r\n    private long delay = 33; // 30 FPS\r\n    private long startTime;\r\n    private long loopTime;\r\n    private float scrollX;\r\n    private float scrollY;\r\n\r\n    public MyThread(SurfaceHolder surfaceHolder, GameSurface gameSurface) {\r\n        this.surfaceHolder = surfaceHolder;\r\n        this.gameSurface = gameSurface;\r\n    }\r\n\r\n    public void setRunning(boolean running) {\r\n        isRunning = running;\r\n    }\r\n\r\n    public void setScroll(float scrollX, float scrollY) {\r\n        this.scrollX = scrollX;\r\n        this.scrollY = scrollY;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (isRunning) {\r\n            startTime = SystemClock.uptimeMillis();\r\n            Canvas canvas = surfaceHolder.lockCanvas(null);\r\n            if (canvas != null) {\r\n                synchronized (surfaceHolder) {\r\n                    canvas.translate(-scrollX, -scrollY);\r\n                    Loader.drawTmxMaps(canvas, gameSurface.getContext());\r\n                    surfaceHolder.unlockCanvasAndPost(canvas);\r\n                }\r\n            }\r\n            loopTime = SystemClock.uptimeMillis() - startTime;\r\n            if (loopTime &lt; delay) {\r\n                try {\r\n                    Thread.sleep(delay - loopTime);\r\n                } catch (InterruptedException e) {\r\n                    Log.e(&quot;Interrupted ex&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>Your code should look like this:</p>\n<p><strong>Loader.java:</strong></p>\n<pre><code>public class Loader {\nprivate static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\nprivate static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\nprivate static boolean isIterStarted = false;\nprivate static int framesFirstAnimIter = 0;\nprivate static int framesSecondAnimIter = 0;\nprivate static int framesThirdAnimIter = 0;\nprivate static Handler handler = new Handler(Looper.getMainLooper());\nprivate static Runnable runnable;\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = new Runnable() {\n        @Override\n        public void run() {\n            framesFirstAnimIter++;\n            framesSecondAnimIter++;\n            framesThirdAnimIter++;\n            if (framesFirstAnimIter == 3)\n                framesFirstAnimIter = 0;\n            if (framesSecondAnimIter == 2)\n                framesSecondAnimIter = 0;\n            if (framesThirdAnimIter == 2)\n                framesThirdAnimIter = 0;\n            handler.postDelayed(runnable, 1000);\n        }\n    };\n    handler.postDelayed(runnable, 1000);\n}\n}\n</code></pre>\n<p><strong>MyThread.java:</strong></p>\n<pre><code>public class MyThread extends Thread {\nprivate final SurfaceHolder surfaceHolder;\nprivate final GameSurface gameSurface;\nprivate boolean isRunning;\nprivate long delay = 33; // 30 FPS\nprivate long startTime;\nprivate long loopTime;\nprivate float scrollX;\nprivate float scrollY;\n\npublic MyThread(SurfaceHolder surfaceHolder, GameSurface gameSurface) {\n    this.surfaceHolder = surfaceHolder;\n    this.gameSurface = gameSurface;\n}\n\npublic void setRunning(boolean running) {\n    isRunning = running;\n}\n\npublic void setScroll(float scrollX, float scrollY) {\n    this.scrollX = scrollX;\n    this.scrollY = scrollY;\n}\n\n@Override\npublic void run() {\n    while (isRunning) {\n        startTime = SystemClock.uptimeMillis();\n        Canvas canvas = surfaceHolder.lockCanvas(null);\n        if (canvas != null) {\n            synchronized (surfaceHolder) {\n                canvas.translate(-scrollX, -scrollY);\n                Loader.drawTmxMaps(canvas, gameSurface.getContext());\n                surfaceHolder.unlockCanvasAndPost(canvas);\n            }\n        }\n        loopTime = SystemClock.uptimeMillis() - startTime;\n        if (loopTime &lt; delay) {\n            try {\n                Thread.sleep(delay - loopTime);\n            } catch (InterruptedException e) {\n                Log.e(&quot;Interrupted ex&quot;, e.getMessage());\n            }\n        }\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76065927,"answer_count":2,"score":0,"last_activity_date":1682162456,"creation_date":1681822697,"question_id":76044923,"body_markdown":"I want to do `canvas.drawBitmap(...)` multiple times but now app freezes (ANR) once I move my SurfaceView (call         `surfaceView.setX(gs.moveX); surfaceView.setY(gs.moveY); ` in `onScroll(...)`) in my SurfaceView class with custom GestureDetector. This SurfaceView flow is controlled by GameThread in which I draw 3 times `canvas.drawBitmap(...)`. What is worth noticing is that when I comment out second or third `canvas.drawBitmap(...)` from `drawTmxMaps(...)` then app scrolls almost correctly - almost because it works but scrolling is laggy. \r\n\r\nSo how to solve my problem?\r\n\r\nHere is my code.\r\n\r\nLoader.java\r\n\r\n    private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\r\n    private static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\r\n\r\n    (...)\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n        canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n    private static void iterTmxFrames() {\r\n        runnable = () -&gt; {\r\n            framesFirstAnimIter++;\r\n            framesSecondAnimIter++;\r\n            framesThirdAnimIter++;\r\n            if (framesFirstAnimIter == 3)\r\n                framesFirstAnimIter = 0;\r\n            if (framesSecondAnimIter == 2)\r\n                framesSecondAnimIter = 0;\r\n            if (framesThirdAnimIter == 2)\r\n                framesThirdAnimIter = 0;\r\n            handler.postDelayed(runnable, 1000);\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n\r\n\r\n\r\nMyThread.java\r\n\r\n        @Override\r\n    public void run() {\r\n        while (isRunning) {\r\n            startTime = SystemClock.uptimeMillis();\r\n            Canvas canvas = surfaceHolder.lockCanvas(null);\r\n            if (canvas != null) {\r\n                synchronized (surfaceHolder) {\r\n\r\n                    TmxLoader.drawTmxMaps(canvas, gameSurface.getContext());\r\n\r\n                    surfaceHolder.unlockCanvasAndPost(canvas);\r\n                }\r\n            }\r\n\r\n            loopTime = SystemClock.uptimeMillis() - startTime;\r\n\r\n            if (loopTime &lt; delay) {\r\n                try {\r\n                    Thread.sleep(delay - loopTime);\r\n                } catch (InterruptedException e) {\r\n                    Log.e(&quot;Interupted ex&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**EDIT after answer**\r\n\r\nNow there is no ANR but the surface seems not to refresh because thre are old positions of canvas on the screen. It looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSolved by simply adding `canvas.drawARGB(255, 0, 0, 0);` as a first method in GameThread run().\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KGlQx.jpg","title":"Android drawing bitmap multiple times and then onScroll causes ANR","body":"<p>I want to do <code>canvas.drawBitmap(...)</code> multiple times but now app freezes (ANR) once I move my SurfaceView (call         <code>surfaceView.setX(gs.moveX); surfaceView.setY(gs.moveY); </code> in <code>onScroll(...)</code>) in my SurfaceView class with custom GestureDetector. This SurfaceView flow is controlled by GameThread in which I draw 3 times <code>canvas.drawBitmap(...)</code>. What is worth noticing is that when I comment out second or third <code>canvas.drawBitmap(...)</code> from <code>drawTmxMaps(...)</code> then app scrolls almost correctly - almost because it works but scrolling is laggy.</p>\n<p>So how to solve my problem?</p>\n<p>Here is my code.</p>\n<p>Loader.java</p>\n<pre><code>private static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\nprivate static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\n\n(...)\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n    canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, PaintTemplates.getInstance(context).pMap);\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\nprivate static void iterTmxFrames() {\n    runnable = () -&gt; {\n        framesFirstAnimIter++;\n        framesSecondAnimIter++;\n        framesThirdAnimIter++;\n        if (framesFirstAnimIter == 3)\n            framesFirstAnimIter = 0;\n        if (framesSecondAnimIter == 2)\n            framesSecondAnimIter = 0;\n        if (framesThirdAnimIter == 2)\n            framesThirdAnimIter = 0;\n        handler.postDelayed(runnable, 1000);\n    };\n    handler.postDelayed(runnable, 1000);\n}\n</code></pre>\n<p>MyThread.java</p>\n<pre><code>    @Override\npublic void run() {\n    while (isRunning) {\n        startTime = SystemClock.uptimeMillis();\n        Canvas canvas = surfaceHolder.lockCanvas(null);\n        if (canvas != null) {\n            synchronized (surfaceHolder) {\n\n                TmxLoader.drawTmxMaps(canvas, gameSurface.getContext());\n\n                surfaceHolder.unlockCanvasAndPost(canvas);\n            }\n        }\n\n        loopTime = SystemClock.uptimeMillis() - startTime;\n\n        if (loopTime &lt; delay) {\n            try {\n                Thread.sleep(delay - loopTime);\n            } catch (InterruptedException e) {\n                Log.e(&quot;Interupted ex&quot;, e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>EDIT after answer</strong></p>\n<p>Now there is no ANR but the surface seems not to refresh because thre are old positions of canvas on the screen. It looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/KGlQx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KGlQx.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Solved by simply adding <code>canvas.drawARGB(255, 0, 0, 0);</code> as a first method in GameThread run().</p>\n"},{"tags":["java","logging","stream","log4j"],"answers":[{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1347346622,"creation_date":1347345886,"answer_id":12364125,"question_id":12363027,"body_markdown":"Simple solution would be to write your own inputStream wrapper\r\n\r\nSomething like:\r\n\r\n    class LogingInputStream extends BufferedStream {\r\n        ByteArrayOutputStream copy4log = new ByteArrayOutputStream();\r\n        InputStream source;\r\n\r\n        public LogingInputStream( InputStream source ) { this.source = source; }\r\n        \r\n        public int read() {\r\n            int value = source.read()\r\n            logCopy.write( value );\r\n            return value;\r\n        }\r\n\r\n        public void close() {\r\n            source.close();\r\n            StreamUtils.copy(xml, new LogOutputStreamUtil(copy4log, Level.INFO));\r\n            copy4log.close();\r\n        }\r\n\r\n        .....more code here\r\n    }\r\n\r\nAnyway, general idea is that you need to intercept inputstream read methods.\r\n\r\nThere are other ways to accomplish this like copying source inputStream into a buffer (bytearray, string or whatever suits you), logging that buffer, and creating another inputStream around buffer and returning it to a caller instead source inputStream. It is simpler to do, but is it right solution depends on your usecase.","title":"Log Stream data using log4j","body":"<p>Simple solution would be to write your own inputStream wrapper</p>\n\n<p>Something like:</p>\n\n<pre><code>class LogingInputStream extends BufferedStream {\n    ByteArrayOutputStream copy4log = new ByteArrayOutputStream();\n    InputStream source;\n\n    public LogingInputStream( InputStream source ) { this.source = source; }\n\n    public int read() {\n        int value = source.read()\n        logCopy.write( value );\n        return value;\n    }\n\n    public void close() {\n        source.close();\n        StreamUtils.copy(xml, new LogOutputStreamUtil(copy4log, Level.INFO));\n        copy4log.close();\n    }\n\n    .....more code here\n}\n</code></pre>\n\n<p>Anyway, general idea is that you need to intercept inputstream read methods.</p>\n\n<p>There are other ways to accomplish this like copying source inputStream into a buffer (bytearray, string or whatever suits you), logging that buffer, and creating another inputStream around buffer and returning it to a caller instead source inputStream. It is simpler to do, but is it right solution depends on your usecase.</p>\n"},{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682159248,"creation_date":1576106262,"answer_id":59295556,"question_id":12363027,"body_markdown":"This is a very old question, however the other option to doing this these days would be to use the [log4J IOStreams](https://logging.apache.org/log4j/2.x/log4j-iostreams.html) classes. These allow you to present a Streaming interface, but have the results go to a log file of your choice.","title":"Log Stream data using log4j","body":"<p>This is a very old question, however the other option to doing this these days would be to use the <a href=\"https://logging.apache.org/log4j/2.x/log4j-iostreams.html\" rel=\"nofollow noreferrer\">log4J IOStreams</a> classes. These allow you to present a Streaming interface, but have the results go to a log file of your choice.</p>\n"}],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12364125,"answer_count":2,"score":0,"last_activity_date":1682159248,"creation_date":1347339671,"question_id":12363027,"body_markdown":"I am getting stream data from an http connection.\r\nI want to log the stream to log files using log4j.\r\n\r\nI need this stream further to do some other operations (must be retained)\r\n\r\nHow can I do that?\r\n\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n    connection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n    InputStream xml = connection.getInputStream();\r\n\r\nI tried this one:\r\n\r\n`StreamUtils.copy(xml, new LogOutputStreamUtil(log, Level.INFO));`\r\n\r\nwhere LogOutputStreamUtil from http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm\r\n\r\n\r\nBut as soon as it got logged. Stream is getting closed :(","title":"Log Stream data using log4j","body":"<p>I am getting stream data from an http connection.\nI want to log the stream to log files using log4j.</p>\n\n<p>I need this stream further to do some other operations (must be retained)</p>\n\n<p>How can I do that?</p>\n\n<pre><code>HttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestMethod(\"GET\");\nconnection.setRequestProperty(\"Accept\", \"application/xml\");\nInputStream xml = connection.getInputStream();\n</code></pre>\n\n<p>I tried this one:</p>\n\n<p><code>StreamUtils.copy(xml, new LogOutputStreamUtil(log, Level.INFO));</code></p>\n\n<p>where LogOutputStreamUtil from <a href=\"http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm\" rel=\"nofollow\">http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm</a></p>\n\n<p>But as soon as it got logged. Stream is getting closed :(</p>\n"},{"tags":["java","spring","spring-cloud","completable-future","spring-cloud-sleuth"],"answers":[{"comments":[{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1612534214,"post_id":66064406,"comment_id":116804141,"body_markdown":"Thanks very much! So should I do this for **every** callback like handle/whenCompleete/...? Or, can Sleuth automatically do some magic, like LazyTraceExecutor or even instrumentation? Thanks!","body":"Thanks very much! So should I do this for <b>every</b> callback like handle/whenCompleete/...? Or, can Sleuth automatically do some magic, like LazyTraceExecutor or even instrumentation? Thanks!"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1612544662,"post_id":66064406,"comment_id":116808955,"body_markdown":"@ch271828n open-telemetry does this via instrumentation.","body":"@ch271828n open-telemetry does this via instrumentation."},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1612571133,"post_id":66064406,"comment_id":116817416,"body_markdown":"@Eugene Thanks very much! It seems that this is not supported to spring yet (?) so I will just do it manually as you have provided","body":"@Eugene Thanks very much! It seems that this is not supported to spring yet (?) so I will just do it manually as you have provided"},{"owner":{"account_id":5590810,"reputation":574,"user_id":4430087,"display_name":"ciostek223"},"score":0,"creation_date":1647932106,"post_id":66064406,"comment_id":126488909,"body_markdown":"@Marcin Grzejszczak  Do we need to close `SpanInScope` or no? I would like to propagate traceId into completableFuture returned from asyncRabbitTemplate and I don&#39;t known when to invoke `close`","body":"@Marcin Grzejszczak  Do we need to close <code>SpanInScope</code> or no? I would like to propagate traceId into completableFuture returned from asyncRabbitTemplate and I don&#39;t known when to invoke <code>close</code>"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1647946597,"post_id":66064406,"comment_id":126493680,"body_markdown":"As you can see we did try with resources on withSpanInScope which means that the scope is only opened when log.info happens. You should close the scope before you get out of the thread","body":"As you can see we did try with resources on withSpanInScope which means that the scope is only opened when log.info happens. You should close the scope before you get out of the thread"},{"owner":{"account_id":6968463,"reputation":4314,"user_id":5345646,"accept_rate":95,"display_name":"Mooncrater"},"score":0,"creation_date":1688388157,"post_id":66064406,"comment_id":135063374,"body_markdown":"@Eugene Can you provide details on how this is being manually or auto instrumented in Opentelemetry?","body":"@Eugene Can you provide details on how this is being manually or auto instrumented in Opentelemetry?"}],"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682159116,"creation_date":1612532690,"answer_id":66064406,"question_id":66064271,"body_markdown":"What you can do is retrieve the span (e.g. via `tracer.currentSpan()`) before `log.info(&quot;first&quot;)`, pass the span to the lambda with `log.info(&quot;second&quot;)` and manually continue the trace via `tracer.withSpanInScope(span)`. It would look like this:\r\n\r\n    Span span = tracer.currentSpan();\r\n    log.info(&quot;first&quot;);\r\n    apnsClient.sendNotification(...).handle((response, cause) -&gt; {\r\n         try (SpanInScope ws = tracer.withSpanInScope(span)) {\r\n             log.info(&quot;second&quot;);\r\n         }\r\n    });","title":"Keep trace/span across CompletableFuture in Spring Cloud Sleuth","body":"<p>What you can do is retrieve the span (e.g. via <code>tracer.currentSpan()</code>) before <code>log.info(&quot;first&quot;)</code>, pass the span to the lambda with <code>log.info(&quot;second&quot;)</code> and manually continue the trace via <code>tracer.withSpanInScope(span)</code>. It would look like this:</p>\n<pre><code>Span span = tracer.currentSpan();\nlog.info(&quot;first&quot;);\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\n     try (SpanInScope ws = tracer.withSpanInScope(span)) {\n         log.info(&quot;second&quot;);\n     }\n});\n</code></pre>\n"}],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66064406,"answer_count":1,"score":2,"last_activity_date":1682159116,"creation_date":1612532275,"question_id":66064271,"body_markdown":"I am using Sleuth with `CompletableFuture.handle`. Example:\r\n\r\n```\r\nlog.info(&quot;first&quot;);\r\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\r\n     log.info(&quot;second&quot;);\r\n});\r\n```\r\n\r\nI want the `second` log to have the same trace id as the `first` log. However, it does not. Thus I wonder what to do? Thanks!\r\n\r\nP.S. I cannot control how `apnsClient.sendNotification` manage threads (since that is from [Pushy](https://github.com/jchambers/pushy)), so there is no way to use things like [LazyTraceExecutor](https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/integrations.html#sleuth-async-executor-service-integration).","title":"Keep trace/span across CompletableFuture in Spring Cloud Sleuth","body":"<p>I am using Sleuth with <code>CompletableFuture.handle</code>. Example:</p>\n<pre><code>log.info(&quot;first&quot;);\napnsClient.sendNotification(...).handle((response, cause) -&gt; {\n     log.info(&quot;second&quot;);\n});\n</code></pre>\n<p>I want the <code>second</code> log to have the same trace id as the <code>first</code> log. However, it does not. Thus I wonder what to do? Thanks!</p>\n<p>P.S. I cannot control how <code>apnsClient.sendNotification</code> manage threads (since that is from <a href=\"https://github.com/jchambers/pushy\" rel=\"nofollow noreferrer\">Pushy</a>), so there is no way to use things like <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/integrations.html#sleuth-async-executor-service-integration\" rel=\"nofollow noreferrer\">LazyTraceExecutor</a>.</p>\n"},{"tags":["java","arrays","for-loop","object"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1682156241,"post_id":76078884,"comment_id":134173417,"body_markdown":"What do you think that `for(int i=0; i &lt; arrFast.length;i++) { arrFast[i] = charg1; }` does? (A) set some entry of `arrFast` to `charg1`, (B) set all entries of `arrFast` to `charg1`?","body":"What do you think that <code>for(int i=0; i &lt; arrFast.length;i++) { arrFast[i] = charg1; }</code> does? (A) set some entry of <code>arrFast</code> to <code>charg1</code>, (B) set all entries of <code>arrFast</code> to <code>charg1</code>?"},{"owner":{"account_id":28378324,"reputation":1,"user_id":21706014,"display_name":"liraz"},"score":0,"creation_date":1682156604,"post_id":76078884,"comment_id":134173446,"body_markdown":"so how can i refer each time to a diffrent object?","body":"so how can i refer each time to a diffrent object?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682157601,"post_id":76078884,"comment_id":134173529,"body_markdown":"You could for example use an additional field per array that contains the first free index (`int arrFastFirstFree` and `int arrUsFirstFree`). Or your for loop could check the entry in the array and if it is null then store the object at that position and stop the loop. Or you could use a pre-made helper class like `java.util.ArrayList`","body":"You could for example use an additional field per array that contains the first free index (<code>int arrFastFirstFree</code> and <code>int arrUsFirstFree</code>). Or your for loop could check the entry in the array and if it is null then store the object at that position and stop the loop. Or you could use a pre-made helper class like <code>java.util.ArrayList</code>"},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1682157844,"post_id":76078884,"comment_id":134173554,"body_markdown":"Instead of filling the array completely with the current value each time (which is exactly what the `For loop` does) you should write the current value into the current array element! So eg `arrUs[currentUs++] = charg1;` ... btw write `If (highway == true)` or better `if (highway)` but not `if (highway = true)`","body":"Instead of filling the array completely with the current value each time (which is exactly what the <code>For loop</code> does) you should write the current value into the current array element! So eg <code>arrUs[currentUs++] = charg1;</code> ... btw write <code>If (highway == true)</code> or better <code>if (highway)</code> but not <code>if (highway = true)</code>"}],"answers":[{"comments":[{"owner":{"account_id":28378324,"reputation":1,"user_id":21706014,"display_name":"liraz"},"score":0,"creation_date":1682163758,"post_id":76079085,"comment_id":134174155,"body_markdown":"i tried both ways but it still showing me the same problem, what can possibly be wrong?","body":"i tried both ways but it still showing me the same problem, what can possibly be wrong?"}],"tags":[],"owner":{"account_id":28378609,"reputation":1,"user_id":21706249,"display_name":"Cauterium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682158292,"creation_date":1682158292,"answer_id":76079085,"question_id":76078884,"body_markdown":"The problem is, that you are setting every entry in your array to charg1 inside the for loops.\r\nIf you want to use an array here you could do something like this:\r\n\r\n    for(int i = 0, i &lt; arrFast.length(); i++) {\r\n        if (arrFast[i] == null) {\r\n            arrFast[i] = charg1;\r\n            break;\r\n        }\r\n    }\r\n\r\nHere you iterate through the array, check for each entry, if it is free and set the first free entry to charg1, but there might still be the case, that the array is full, in which case it would remain unchanged.\r\n\r\nWhat I&#39;d rather suggest, is that you use an ArrayList instead:\r\n\r\n    private ArrayList&lt;ChargingPoint&gt; listFast = new ArrayList&lt;ChargingPoint&gt;(); // Create a new ArrayList to store your ChargingPoints\r\n    listFast.add(charg1) // Add a new ChargingPoint to the ArrayList\r\n\r\nThat way you don&#39;t have to worry about the list getting full. You can also remove entries from the list using .remove() and some other useful stuff.","title":"Adding an object to object array in java","body":"<p>The problem is, that you are setting every entry in your array to charg1 inside the for loops.\nIf you want to use an array here you could do something like this:</p>\n<pre><code>for(int i = 0, i &lt; arrFast.length(); i++) {\n    if (arrFast[i] == null) {\n        arrFast[i] = charg1;\n        break;\n    }\n}\n</code></pre>\n<p>Here you iterate through the array, check for each entry, if it is free and set the first free entry to charg1, but there might still be the case, that the array is full, in which case it would remain unchanged.</p>\n<p>What I'd rather suggest, is that you use an ArrayList instead:</p>\n<pre><code>private ArrayList&lt;ChargingPoint&gt; listFast = new ArrayList&lt;ChargingPoint&gt;(); // Create a new ArrayList to store your ChargingPoints\nlistFast.add(charg1) // Add a new ChargingPoint to the ArrayList\n</code></pre>\n<p>That way you don't have to worry about the list getting full. You can also remove entries from the list using .remove() and some other useful stuff.</p>\n"}],"owner":{"account_id":28378324,"reputation":1,"user_id":21706014,"display_name":"liraz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682158292,"creation_date":1682155140,"question_id":76078884,"body_markdown":"i have a class named ChargingPoint and i created a 2 objects arrays of ChargingPoint in a class named fuelSt\r\nIn the class FuelSt i created an object named charg1 so that i can add objects to the arrays \r\nIn the main im creating 4 ChargingPoints\r\n2 that have the letter f and needs to be added to the array arrFast \r\n2 who have the letter u and needs to be added to the array arrUs\r\n\r\nsomehow its showing me only the last element multiple times and i dont understand why\r\nthank u in advance\r\n \r\n\r\nim trying the put 2 objects in arrFast\r\nand 2 objects in arrUs\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n**ChargingPoint class=**\r\npublic class ChargingPoint {\r\n\r\n\tprivate double kw;\r\n\tprivate double trf;\r\n    private char isFast;\r\n    private String code;\r\n    \r\n   \r\n    \r\n    \r\n    public ChargingPoint (String code,char isFast) {\r\n    this.code = code;\r\n    this.isFast = isFast;\r\n    trf = 1.5;\r\n    \r\n    \r\n    }\r\n    public void setTRF(double trf ) {\r\n    \tif(trf &gt;=0) {\r\n    \t\tthis.trf = trf;\r\n    \t\t\r\n    \t}\r\n    \telse{\r\n    \t\tSystem.out.println(&quot;Error,invaild input&quot;);\r\n    \t}\r\n    }\r\n    public void setKW(double kw) {\r\n    \tif(kw &gt;=0) {\r\n    \t\tthis.kw= kw;\r\n    \t\t\r\n    \t}\r\n    \telse {\r\n    \t\tSystem.out.println(&quot;Error,invaild input&quot;);\r\n    \t\r\n    \t}\r\n    \t}\r\n\r\n    public double getKW() {\r\n    \treturn kw;\r\n    }\r\n    public double getTRF() {\r\n    \treturn trf;\r\n    }\r\n    public char getISFAST() {\r\n    return isFast;\r\n    }\r\n    public String getCODE() {\r\n    \treturn code;\r\n    }\r\n    public double consumptionTotal(double KW,double TRF) {\r\n    \tdouble sum;\r\n    \tthis.kw = KW;\r\n    \tthis.trf = TRF;\r\n    \tsum = (TRF*KW);\r\n    \treturn sum;\r\n    }\r\n    public void print(){\r\n    \tSystem.out.println(&quot;kw =&quot; + kw + &quot;, trf =&quot; + trf + &quot;, isFast =&quot; + isFast + &quot;, code =&quot; + code);\r\n    \t\r\n    }\r\n    public ChargingPoint() {\r\n    }\r\n    public char getIsFast() {\r\n    \treturn isFast;\r\n    \t\r\n    }\r\n    \r\n    public double consumptionTotal() {\r\n\t\treturn (trf*kw);\r\n\t}\r\n   public String toString() {\r\n        return &quot;kw: &quot;+this.kw+&quot; &quot;+&quot;isfast: &quot;+this.isFast + &quot; &quot;+&quot;code: &quot;+this.code;\r\n     }\r\n```\r\n\r\n \r\n   \r\n    \r\n   \r\n\r\n\r\n\r\n```\r\n**FuelSt class=**\r\npublic class FuelSt {\r\n\t\r\n\tprivate ChargingPoint[] arrUs;\r\n\tprivate int currentUs ;\r\n    private ChargingPoint[] arrFast;\r\n\tprivate int currentFt ;\r\n    private boolean highway = true;\r\n    ChargingPoint charg1 = new ChargingPoint();\r\n    ChargingPoint charg2 = new ChargingPoint();\r\n    \r\n \r\n   \r\n    \r\n    public FuelSt (boolean highway) {\r\n    \tif(highway = true) {\r\n    \t\tthis.highway = highway;\r\n    \t\tdouble c;\r\n    \t\tc = charg1.consumptionTotal();\r\n    \t\tc = c -((c*13)/100);\r\n    \t}\r\n    \telse {\r\n    \t\tthis.highway =false;\r\n    \t}\r\n    \t\r\n\r\n    }\r\n    \r\n   \r\n\tpublic boolean addChargingPoint (ChargingPoint charg1){\r\n    \t//ChargingPoint[] arrFast = new ChargingPoint[30];\r\n    \t//ChargingPoint[] arrUs = new ChargingPoint[30];\r\n\t\r\n    \tif(charg1.getIsFast() == &#39;f&#39;) {\r\n    \t\tif(arrFast == null) {\r\n    \t\tarrFast = new ChargingPoint[30];\r\n    \t\t}\r\n    \t\telse {\r\n\r\n    \t\tfor(int i=0; i &lt; arrFast.length;i++) {\r\n    \t\t\t  arrFast[i] = charg1; \r\n    \t\t\t \r\n    \t\t\t\r\n\r\n    \t        \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t}\r\n            else if (charg1.getIsFast() == &#39;u&#39;) {\r\n    \t\tif(arrUs == null) {\r\n        \t\tarrUs = new ChargingPoint[30];\r\n        \t\t}\r\n    \t\telse {\r\n    \t\tfor(int i=0; i &lt; arrUs.length;i++) {\r\n    \t\t\tarrUs[i] = charg1;\r\n    \t\t\tcurrentUs++;\r\n    \t\t\t\r\n    \t }\r\n            }\r\n            }\r\n            \r\n\r\n\r\n\r\n    \t\t\r\n        return false;\r\n}\r\n```\r\n\r\n\t\t\t\r\n```\r\n**Main=**\r\npublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t System.out.print(&quot;is the fuel next to a highway?&quot;);  \r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tboolean yes = in.nextBoolean();\r\n\t\t \r\n\t    FuelSt fuelroad = new FuelSt(yes);\r\n\t    \r\n\t \r\n\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\tdouble kw = in.nextDouble();\r\n\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\tchar isFast = (char)System.in.read();\r\n\t    System.out.println(&quot;type code&quot;);\r\n\t\tString code = in.next();\r\n\t\tChargingPoint chargF= new ChargingPoint(code,isFast);\r\n\t\tchargF.setKW(kw);\r\n\t\tfuelroad.addChargingPoint(chargF);\r\n\t\tchargF.print();\r\n\t\t\r\n\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\tdouble kw1 = in.nextDouble();\r\n\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\tchar isFast1 = (char)System.in.read();\r\n\t    System.out.println(&quot;type code&quot;);\r\n\t\tString code1 = in.next();\r\n\t\tChargingPoint chargF1= new ChargingPoint(code1,isFast1);\r\n\t\tchargF1.setKW(kw1);\r\n\t\tfuelroad.addChargingPoint(chargF1);\r\n\t\t\r\n\t\tchargF1.print();\r\n\t\tSystem.out.println(Arrays.toString(fuelroad.getarrFast()));\r\n\t\t//System.out.println(fuelroad.getarrFast());\r\n\t\t\r\n\t\r\n\t\r\n\t\t\r\n\t\t  \r\n\t\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\t\tdouble kw2 = in.nextDouble();\r\n\t\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\t\tchar isFast2 = (char)System.in.read();\r\n\t\t    System.out.println(&quot;type code&quot;);\r\n\t\t\tString code2 = in.next();\r\n\t\t\tChargingPoint chargU = new ChargingPoint(code2,isFast2);\r\n\t\t\tchargU.setKW(kw2);\r\n\t\t    fuelroad.addChargingPoint(chargU);\r\n\t\t\tchargU.print();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;type kw&quot;);\r\n\t\t\tdouble kw3 = in.nextDouble();\r\n\t\t\tSystem.out.println(&quot;type u/f&quot;);\r\n\t\t\tchar isFast3 = (char)System.in.read();\r\n\t\t    System.out.println(&quot;type code&quot;);\r\n\t\t\tString code3 = in.next();\r\n\t\t    ChargingPoint chargU1 = new ChargingPoint(code3,isFast3);\r\n\t\t    chargU1.setKW(kw3);\r\n\t\t\tfuelroad.addChargingPoint(chargU1);\r\n\t\t\tchargU1.print();\r\n\t\t\t\r\n```\r\n","title":"Adding an object to object array in java","body":"<p>i have a class named ChargingPoint and i created a 2 objects arrays of ChargingPoint in a class named fuelSt\nIn the class FuelSt i created an object named charg1 so that i can add objects to the arrays\nIn the main im creating 4 ChargingPoints\n2 that have the letter f and needs to be added to the array arrFast\n2 who have the letter u and needs to be added to the array arrUs</p>\n<p>somehow its showing me only the last element multiple times and i dont understand why\nthank u in advance</p>\n<p>im trying the put 2 objects in arrFast\nand 2 objects in arrUs</p>\n<pre><code>**ChargingPoint class=**\npublic class ChargingPoint {\n\n    private double kw;\n    private double trf;\n    private char isFast;\n    private String code;\n    \n   \n    \n    \n    public ChargingPoint (String code,char isFast) {\n    this.code = code;\n    this.isFast = isFast;\n    trf = 1.5;\n    \n    \n    }\n    public void setTRF(double trf ) {\n        if(trf &gt;=0) {\n            this.trf = trf;\n            \n        }\n        else{\n            System.out.println(&quot;Error,invaild input&quot;);\n        }\n    }\n    public void setKW(double kw) {\n        if(kw &gt;=0) {\n            this.kw= kw;\n            \n        }\n        else {\n            System.out.println(&quot;Error,invaild input&quot;);\n        \n        }\n        }\n\n    public double getKW() {\n        return kw;\n    }\n    public double getTRF() {\n        return trf;\n    }\n    public char getISFAST() {\n    return isFast;\n    }\n    public String getCODE() {\n        return code;\n    }\n    public double consumptionTotal(double KW,double TRF) {\n        double sum;\n        this.kw = KW;\n        this.trf = TRF;\n        sum = (TRF*KW);\n        return sum;\n    }\n    public void print(){\n        System.out.println(&quot;kw =&quot; + kw + &quot;, trf =&quot; + trf + &quot;, isFast =&quot; + isFast + &quot;, code =&quot; + code);\n        \n    }\n    public ChargingPoint() {\n    }\n    public char getIsFast() {\n        return isFast;\n        \n    }\n    \n    public double consumptionTotal() {\n        return (trf*kw);\n    }\n   public String toString() {\n        return &quot;kw: &quot;+this.kw+&quot; &quot;+&quot;isfast: &quot;+this.isFast + &quot; &quot;+&quot;code: &quot;+this.code;\n     }\n</code></pre>\n<pre><code>**FuelSt class=**\npublic class FuelSt {\n    \n    private ChargingPoint[] arrUs;\n    private int currentUs ;\n    private ChargingPoint[] arrFast;\n    private int currentFt ;\n    private boolean highway = true;\n    ChargingPoint charg1 = new ChargingPoint();\n    ChargingPoint charg2 = new ChargingPoint();\n    \n \n   \n    \n    public FuelSt (boolean highway) {\n        if(highway = true) {\n            this.highway = highway;\n            double c;\n            c = charg1.consumptionTotal();\n            c = c -((c*13)/100);\n        }\n        else {\n            this.highway =false;\n        }\n        \n\n    }\n    \n   \n    public boolean addChargingPoint (ChargingPoint charg1){\n        //ChargingPoint[] arrFast = new ChargingPoint[30];\n        //ChargingPoint[] arrUs = new ChargingPoint[30];\n    \n        if(charg1.getIsFast() == 'f') {\n            if(arrFast == null) {\n            arrFast = new ChargingPoint[30];\n            }\n            else {\n\n            for(int i=0; i &lt; arrFast.length;i++) {\n                  arrFast[i] = charg1; \n                 \n                \n\n                \n                }\n            }\n            }\n            else if (charg1.getIsFast() == 'u') {\n            if(arrUs == null) {\n                arrUs = new ChargingPoint[30];\n                }\n            else {\n            for(int i=0; i &lt; arrUs.length;i++) {\n                arrUs[i] = charg1;\n                currentUs++;\n                \n         }\n            }\n            }\n            \n\n\n\n            \n        return false;\n}\n</code></pre>\n<pre><code>**Main=**\npublic static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n         System.out.print(&quot;is the fuel next to a highway?&quot;);  \n        Scanner in = new Scanner(System.in);\n        boolean yes = in.nextBoolean();\n         \n        FuelSt fuelroad = new FuelSt(yes);\n        \n     \n        System.out.println(&quot;type kw&quot;);\n        double kw = in.nextDouble();\n        System.out.println(&quot;type u/f&quot;);\n        char isFast = (char)System.in.read();\n        System.out.println(&quot;type code&quot;);\n        String code = in.next();\n        ChargingPoint chargF= new ChargingPoint(code,isFast);\n        chargF.setKW(kw);\n        fuelroad.addChargingPoint(chargF);\n        chargF.print();\n        \n        System.out.println(&quot;type kw&quot;);\n        double kw1 = in.nextDouble();\n        System.out.println(&quot;type u/f&quot;);\n        char isFast1 = (char)System.in.read();\n        System.out.println(&quot;type code&quot;);\n        String code1 = in.next();\n        ChargingPoint chargF1= new ChargingPoint(code1,isFast1);\n        chargF1.setKW(kw1);\n        fuelroad.addChargingPoint(chargF1);\n        \n        chargF1.print();\n        System.out.println(Arrays.toString(fuelroad.getarrFast()));\n        //System.out.println(fuelroad.getarrFast());\n        \n    \n    \n        \n          \n            System.out.println(&quot;type kw&quot;);\n            double kw2 = in.nextDouble();\n            System.out.println(&quot;type u/f&quot;);\n            char isFast2 = (char)System.in.read();\n            System.out.println(&quot;type code&quot;);\n            String code2 = in.next();\n            ChargingPoint chargU = new ChargingPoint(code2,isFast2);\n            chargU.setKW(kw2);\n            fuelroad.addChargingPoint(chargU);\n            chargU.print();\n            \n            \n            System.out.println(&quot;type kw&quot;);\n            double kw3 = in.nextDouble();\n            System.out.println(&quot;type u/f&quot;);\n            char isFast3 = (char)System.in.read();\n            System.out.println(&quot;type code&quot;);\n            String code3 = in.next();\n            ChargingPoint chargU1 = new ChargingPoint(code3,isFast3);\n            chargU1.setKW(kw3);\n            fuelroad.addChargingPoint(chargU1);\n            chargU1.print();\n            \n</code></pre>\n"},{"tags":["java","spring-boot","testing","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597776741,"post_id":63471868,"comment_id":112243070,"body_markdown":"its is quite simple, you are blocking a reactive application, and blocking is not allowed. If you wish to test reactive return types use the `StepVerifier` and not `assert` https://projectreactor.io/docs/core/release/reference/#_testing_a_scenario_with_stepverifier","body":"its is quite simple, you are blocking a reactive application, and blocking is not allowed. If you wish to test reactive return types use the <code>StepVerifier</code> and not <code>assert</code> <a href=\"https://projectreactor.io/docs/core/release/reference/#_testing_a_scenario_with_stepverifier\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/&hellip;</a>"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597787001,"post_id":63471868,"comment_id":112246820,"body_markdown":"@ThomasAndolf - Unfortunately doesn&#39;t seem that simple.  I tried with StepVerifier and the result is the same only the error message end changes to ` [Context0{}] and the name is [stepVerifier ]` instead of the current one posted in the question.","body":"@ThomasAndolf - Unfortunately doesn&#39;t seem that simple.  I tried with StepVerifier and the result is the same only the error message end changes to ` [Context0{}] and the name is [stepVerifier ]` instead of the current one posted in the question."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597817901,"post_id":63471868,"comment_id":112253648,"body_markdown":"Dont explain your code, post what you have tried because it is the solution and you are probably implementing it wrong.","body":"Dont explain your code, post what you have tried because it is the solution and you are probably implementing it wrong."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597818806,"post_id":63471868,"comment_id":112253944,"body_markdown":"@ThomasAndolf - sure mate. I have updated the question with the StepVerifier implementation and the error which seems still same issue.","body":"@ThomasAndolf - sure mate. I have updated the question with the StepVerifier implementation and the error which seems still same issue."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597822143,"post_id":63471868,"comment_id":112255219,"body_markdown":"i read up a bit on the exception and it has somerthing to do when you are not registering beans correctly in the spring context. i dont like the usage of `@DirtiesContext` can you please produce a small reproducible example.","body":"i read up a bit on the exception and it has somerthing to do when you are not registering beans correctly in the spring context. i dont like the usage of <code>@DirtiesContext</code> can you please produce a small reproducible example."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597824536,"post_id":63471868,"comment_id":112256342,"body_markdown":"Hi, thanks for the support, I will try to do that. Also, I noticed that if I run those same tests directly from IntelliJ they actually pass, but not when running from the command line, or in the pipeline, so I am more puzzled by it now.","body":"Hi, thanks for the support, I will try to do that. Also, I noticed that if I run those same tests directly from IntelliJ they actually pass, but not when running from the command line, or in the pipeline, so I am more puzzled by it now."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597831160,"post_id":63471868,"comment_id":112259498,"body_markdown":"Then check your java versions could be that","body":"Then check your java versions could be that"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597831373,"post_id":63471868,"comment_id":112259596,"body_markdown":"Yep, sure. First thing I did. They&#39;re exactly the same. What I noticed is that if I run the tests in isolation they always pass, but when running all tests(even from IntelliJ) the reactive ones fail with this error.","body":"Yep, sure. First thing I did. They&#39;re exactly the same. What I noticed is that if I run the tests in isolation they always pass, but when running all tests(even from IntelliJ) the reactive ones fail with this error."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597832349,"post_id":63471868,"comment_id":112260026,"body_markdown":"Then you have what is called overbleeding between tests and in pretty sure the `@DirtiesContext` has something to do with it. If you declare it, it will destroy the entire context between tests. You should avoid using it because it slows down tests. Instead try with the aproach, clean up, set up test data, assert for each test using a combination of `@Before` and such to avoid test overbleeding.","body":"Then you have what is called overbleeding between tests and in pretty sure the <code>@DirtiesContext</code> has something to do with it. If you declare it, it will destroy the entire context between tests. You should avoid using it because it slows down tests. Instead try with the aproach, clean up, set up test data, assert for each test using a combination of <code>@Before</code> and such to avoid test overbleeding."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597832546,"post_id":63471868,"comment_id":112260114,"body_markdown":"Many think that `@DirtiesContext` is a simple way to just &quot;reset&quot; your application, but its not, destroying and rebuilding the context takes time. Only reason to use it is if you are doing something that makes the context irreparable for instance changing the state of something etc.","body":"Many think that <code>@DirtiesContext</code> is a simple way to just &quot;reset&quot; your application, but its not, destroying and rebuilding the context takes time. Only reason to use it is if you are doing something that makes the context irreparable for instance changing the state of something etc."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597833106,"post_id":63471868,"comment_id":112260364,"body_markdown":"but it is hard to give any more advice without seeing your full source code.","body":"but it is hard to give any more advice without seeing your full source code."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597845077,"post_id":63471868,"comment_id":112266367,"body_markdown":"Hi, I finally manage to sort it out. I will publish an answer for what solved in my case. relevant to notice that this project uses a combination of Spring MVC and WebFlux so it&#39;s running in Tomcat.","body":"Hi, I finally manage to sort it out. I will publish an answer for what solved in my case. relevant to notice that this project uses a combination of Spring MVC and WebFlux so it&#39;s running in Tomcat."}],"answers":[{"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1597850429,"post_id":63488585,"comment_id":112269453,"body_markdown":"Hmm, there is something i dont like, in your orginal post this `org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext` is mentioned. This clearly says `servlet` which should not ne part of a reactive application...","body":"Hmm, there is something i dont like, in your orginal post this <code>org.springframework.boot.web.servlet.context.AnnotationConfi&zwnj;&#8203;gServletWebServerApp&zwnj;&#8203;licationContext</code> is mentioned. This clearly says <code>servlet</code> which should not ne part of a reactive application..."},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1597905950,"post_id":63488585,"comment_id":112285826,"body_markdown":"As far as I know they&#39;re working hard to make Spring Web MVC and Spring WebFlux (reactive and non-reactive) co-exist in applications as this is definitely a requirement for many, many projects.","body":"As far as I know they&#39;re working hard to make Spring Web MVC and Spring WebFlux (reactive and non-reactive) co-exist in applications as this is definitely a requirement for many, many projects."}],"tags":[],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597845331,"creation_date":1597845331,"answer_id":63488585,"question_id":63471868,"body_markdown":"I finally manage to sort it out, unfortunately not sure of the root cause but what fixed it was removing the properties from the @SpringBootTest annotation and using it&#39;s defaults. Clearly something has changed in there with the upgrade of the dependencies which caused the issue. \r\n\r\nSo it works when like this: \r\n\r\n    ...\r\n    @RunWith(SpringRunner.class)\r\n\r\n    // below annotation properties were removed which fixed the tests...\r\n    @SpringBootTest\r\n\r\n    @Import({AccountApiClient.class,...})\r\n    @DirtiesContext\r\n    @AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\r\n     ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\r\n     consumerName = &quot;AccountServiceV2&quot;,\r\n     stubsPerConsumer = true)\r\n    public class AccountsClientTest {","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I finally manage to sort it out, unfortunately not sure of the root cause but what fixed it was removing the properties from the @SpringBootTest annotation and using it's defaults. Clearly something has changed in there with the upgrade of the dependencies which caused the issue.</p>\n<p>So it works when like this:</p>\n<pre><code>...\n@RunWith(SpringRunner.class)\n\n// below annotation properties were removed which fixed the tests...\n@SpringBootTest\n\n@Import({AccountApiClient.class,...})\n@DirtiesContext\n@AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\n ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\n consumerName = &quot;AccountServiceV2&quot;,\n stubsPerConsumer = true)\npublic class AccountsClientTest {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1598544868,"post_id":63619608,"comment_id":112500487,"body_markdown":"Hi, good to know. I tried removing the @DirtiesContext annotation and it didn&#39;t solve it in my case.","body":"Hi, good to know. I tried removing the @DirtiesContext annotation and it didn&#39;t solve it in my case."}],"tags":[],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598542950,"creation_date":1598542950,"answer_id":63619608,"question_id":63471868,"body_markdown":"I have a similar issue after adding \r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI solved this by removing @DirtiesContext","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I have a similar issue after adding</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I solved this by removing @DirtiesContext</p>\n"}],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63488585,"answer_count":2,"score":0,"last_activity_date":1682158139,"creation_date":1597764567,"question_id":63471868,"body_markdown":"I have some Spring Boot integration tests which worked fine in Spring Boot 2.1 but now that I have upgraded to Spring Boot 2.2 they&#39;re failing. Using default spring-boot parent dependency management. Some failing tests which used to work are as simple as this example: \r\n\r\n    ...\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(\r\n     webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n     properties = {&quot;spring.sleuth.enabled=false&quot;})\r\n    @Import({AccountApiClient.class,...})\r\n    @DirtiesContext\r\n    @AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\r\n     ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\r\n     consumerName = &quot;AccountServiceV2&quot;,\r\n     stubsPerConsumer = true)\r\n    public class AccountsClientTest {\r\n    \r\n    @Autowired\r\n    AccountService accountService;\r\n\r\n    @Test\r\n    public void verifyAccountsShouldReturnEmpty() {\r\n        Mono&lt;List&lt;Accounts&gt;&gt; acc = accountService.getAccounts(new AccountId(ACC_ID));\r\n        assertThat(acc.block(), hasSize(0));\r\n     }\r\n     ...\r\n\r\nBefore the upgrade, this test passes as expected but after the upgrade, it fails with the following error: \r\n\r\n```\r\n[ERROR] verifyAccountsShouldReturnEmpty  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\r\nreactor.core.Exceptions$ReactiveException: java.lang.AssertionError: Spring Context [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d605944, started on Tue Aug 18 10:00:09 CEST 2020, parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a035db9] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [blocking]\r\n```\r\n\r\nI have many tests with similar behaviour after upgrading. It fails on line `assertThat(acc.block(), hasSize(0));` \r\n\r\nWhat might be causing this?\r\n\r\nUpdate\r\n---\r\n\r\nI&#39;ve tried changing the test to use StepVerifier as suggested in comments but didn&#39;t work: \r\n\r\n    @Test\r\n    public void verifyAccountsShouldReturnEmpty() {\r\n      StepVerifier.create(\r\n          accountService.getAccounts(new AccountId(ACC_ID)))\r\n          .expectNext(Collections.emptyList())\r\n          .verifyComplete();\r\n    }\r\n\r\nThe end of the error just changed to: `parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@985b9f6] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [stepVerifier ]))` which seems the same issue as using block but now with StepVerifier.\r\n","title":"Spring Boot WebFlux tests failing after upgrade to Spring Boot 2.2","body":"<p>I have some Spring Boot integration tests which worked fine in Spring Boot 2.1 but now that I have upgraded to Spring Boot 2.2 they're failing. Using default spring-boot parent dependency management. Some failing tests which used to work are as simple as this example:</p>\n<pre><code>...\n@RunWith(SpringRunner.class)\n@SpringBootTest(\n webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n properties = {&quot;spring.sleuth.enabled=false&quot;})\n@Import({AccountApiClient.class,...})\n@DirtiesContext\n@AutoConfigureStubRunner(stubsMode = StubRunnerProperties.StubsMode.CLASSPATH,\n ids = {&quot;my.org.com:account-service:+:stubs:9021&quot;},\n consumerName = &quot;AccountServiceV2&quot;,\n stubsPerConsumer = true)\npublic class AccountsClientTest {\n\n@Autowired\nAccountService accountService;\n\n@Test\npublic void verifyAccountsShouldReturnEmpty() {\n    Mono&lt;List&lt;Accounts&gt;&gt; acc = accountService.getAccounts(new AccountId(ACC_ID));\n    assertThat(acc.block(), hasSize(0));\n }\n ...\n</code></pre>\n<p>Before the upgrade, this test passes as expected but after the upgrade, it fails with the following error:</p>\n<pre><code>[ERROR] verifyAccountsShouldReturnEmpty  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\nreactor.core.Exceptions$ReactiveException: java.lang.AssertionError: Spring Context [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7d605944, started on Tue Aug 18 10:00:09 CEST 2020, parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@a035db9] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [blocking]\n</code></pre>\n<p>I have many tests with similar behaviour after upgrading. It fails on line <code>assertThat(acc.block(), hasSize(0));</code></p>\n<p>What might be causing this?</p>\n<h2>Update</h2>\n<p>I've tried changing the test to use StepVerifier as suggested in comments but didn't work:</p>\n<pre><code>@Test\npublic void verifyAccountsShouldReturnEmpty() {\n  StepVerifier.create(\n      accountService.getAccounts(new AccountId(ACC_ID)))\n      .expectNext(Collections.emptyList())\n      .verifyComplete();\n}\n</code></pre>\n<p>The end of the error just changed to: <code>parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@985b9f6] is not yet refreshed. This is unexpected. Reactor Context is [Context0{}] and name is [stepVerifier ]))</code> which seems the same issue as using block but now with StepVerifier.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682167346,"post_id":76078960,"comment_id":134174557,"body_markdown":"Why: `Each project need to pick up the maven_setting.xml ` is this neccesary???","body":"Why: <code>Each project need to pick up the maven_setting.xml </code> is this neccesary???"}],"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682157539,"creation_date":1682156441,"question_id":76078960,"body_markdown":"I have around 25 project. Right now, I am building manually one by one. I thought of using maven reactor module.\r\n\r\nEach project what I have I run manually with following commands\r\n\r\n    mvn clean install -s devops/ci/maven_setting.xml.\r\n\r\nThis maven_setting.xml have the activeProfiles. Each project will have different activeProfiles.\r\n\r\n\r\nNow the problem is I am try to run all the projects together by creating maven reactor.\r\n\r\nBelow is the pom.xml file where I have included all projects.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n     &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mt.pom&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mt-base-retail-pom&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;mt-base-retail-pom&lt;/name&gt;\r\n     &lt;profiles&gt;\r\n       &lt;profile&gt;\r\n          &lt;id&gt;all-parent-pom&lt;/id&gt;\r\n          &lt;modules&gt;\r\n\t\t     &lt;module&gt;../mt-base-parent-pom&lt;/module&gt;&gt;\r\n\t\t     &lt;module&gt;../mt-functional-service-pom&lt;/module&gt; etc\r\n\t      &lt;/modules&gt;\r\n\t   &lt;/profile&gt;\r\n\t   &lt;profile&gt;\r\n          &lt;id&gt;all-common-sdk&lt;/id&gt;\r\n          &lt;modules&gt;\r\n\t\t     &lt;module&gt;../mt-elasticsearch-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-entity-annotation-processor&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-mongodb-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-neo4j-starter&lt;/module&gt;\r\n\t\t     &lt;module&gt;../mt-sql-starter&lt;/module&gt;  etc\r\n\t      &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n\t   &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nNow when I try to build all-common-sdk projects with \r\n\r\n    mvn clean install -P all-common-sdk\r\n\r\nEach project need to pick up the maven_setting.xml from its own subfolder which is not happening.\r\n\r\nHow to make the maven_setting.xml as part of maven modules.\r\n\r\nNote: This maven_settings.xml will have different active profiles for each project.\r\n\r\nPlease let me if there is any other way as well so that I can build all projects at a time in single shot.\r\n\r\n","title":"How do I run each module with different commands in maven reactor","body":"<p>I have around 25 project. Right now, I am building manually one by one. I thought of using maven reactor module.</p>\n<p>Each project what I have I run manually with following commands</p>\n<pre><code>mvn clean install -s devops/ci/maven_setting.xml.\n</code></pre>\n<p>This maven_setting.xml have the activeProfiles. Each project will have different activeProfiles.</p>\n<p>Now the problem is I am try to run all the projects together by creating maven reactor.</p>\n<p>Below is the pom.xml file where I have included all projects.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.mt.pom&lt;/groupId&gt;\n&lt;artifactId&gt;mt-base-retail-pom&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;name&gt;mt-base-retail-pom&lt;/name&gt;\n &lt;profiles&gt;\n   &lt;profile&gt;\n      &lt;id&gt;all-parent-pom&lt;/id&gt;\n      &lt;modules&gt;\n         &lt;module&gt;../mt-base-parent-pom&lt;/module&gt;&gt;\n         &lt;module&gt;../mt-functional-service-pom&lt;/module&gt; etc\n      &lt;/modules&gt;\n   &lt;/profile&gt;\n   &lt;profile&gt;\n      &lt;id&gt;all-common-sdk&lt;/id&gt;\n      &lt;modules&gt;\n         &lt;module&gt;../mt-elasticsearch-starter&lt;/module&gt;\n         &lt;module&gt;../mt-entity-annotation-processor&lt;/module&gt;\n         &lt;module&gt;../mt-mongodb-starter&lt;/module&gt;\n         &lt;module&gt;../mt-neo4j-starter&lt;/module&gt;\n         &lt;module&gt;../mt-sql-starter&lt;/module&gt;  etc\n      &lt;/modules&gt;\n    &lt;/profile&gt;\n   &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Now when I try to build all-common-sdk projects with</p>\n<pre><code>mvn clean install -P all-common-sdk\n</code></pre>\n<p>Each project need to pick up the maven_setting.xml from its own subfolder which is not happening.</p>\n<p>How to make the maven_setting.xml as part of maven modules.</p>\n<p>Note: This maven_settings.xml will have different active profiles for each project.</p>\n<p>Please let me if there is any other way as well so that I can build all projects at a time in single shot.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5712315,"reputation":260,"user_id":4513858,"accept_rate":9,"display_name":"localplutonium"},"score":3,"creation_date":1461395595,"post_id":36807712,"comment_id":61188967,"body_markdown":"just make a new array that is +1 size of the old one put the new item at the first index and then fill in the rest with the old","body":"just make a new array that is +1 size of the old one put the new item at the first index and then fill in the rest with the old"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1461396076,"post_id":36807712,"comment_id":61189078,"body_markdown":"Make a `StackArray` that wraps an `Array`.","body":"Make a <code>StackArray</code> that wraps an <code>Array</code>."}],"answers":[{"comments":[{"owner":{"account_id":253349,"reputation":7254,"user_id":531984,"accept_rate":67,"display_name":"Eminem"},"score":0,"creation_date":1461396494,"post_id":36807842,"comment_id":61189196,"body_markdown":"Unfortunately its a requirement. I basically need to shift items &#39;down&#39; when inserting items at the front","body":"Unfortunately its a requirement. I basically need to shift items &#39;down&#39; when inserting items at the front"},{"owner":{"account_id":4490621,"reputation":3759,"user_id":3651800,"display_name":"Matt Coubrough"},"score":2,"creation_date":1461397249,"post_id":36807842,"comment_id":61189381,"body_markdown":"If it is a requirement - then find another employer! Programming is hard enough without having to met absurd arbitrary restrictions. If it is for an assignment or educational purposes then creating a new array 1 larger is the *simplest* solution, but certainly not the most efficient.","body":"If it is a requirement - then find another employer! Programming is hard enough without having to met absurd arbitrary restrictions. If it is for an assignment or educational purposes then creating a new array 1 larger is the <i>simplest</i> solution, but certainly not the most efficient."},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1461397250,"post_id":36807842,"comment_id":61189383,"body_markdown":"@Eminem, sounds like you just answered your own question then.","body":"@Eminem, sounds like you just answered your own question then."},{"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"score":0,"creation_date":1553194631,"post_id":36807842,"comment_id":97304583,"body_markdown":"@MattCoubrough Here&#39;s a valid reason:  `Throwable.getStackTrace()` returns an array of `StackTraceElement`. You might want to catch that exception, add the trace element for the method that caught it to the beginning of that array, and then put it back in the exception with `setStackTrace (StackTraceElement[])`.","body":"@MattCoubrough Here&#39;s a valid reason:  <code>Throwable.getStackTrace()</code> returns an array of <code>StackTraceElement</code>. You might want to catch that exception, add the trace element for the method that caught it to the beginning of that array, and then put it back in the exception with <code>setStackTrace (StackTraceElement[])</code>."}],"tags":[],"owner":{"account_id":4490621,"reputation":3759,"user_id":3651800,"display_name":"Matt Coubrough"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461395562,"creation_date":1461395562,"answer_id":36807842,"question_id":36807712,"body_markdown":"As per the [Java tutorials][1] (which I thoroughly recommend beginners to work through)\r\n\r\n&gt; An *array* is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed. \r\n\r\nBecause arrays cannot be resized - you can *overwrite* the first element, but to perform an *insert* you must create a new array 1 larger than the previous one, put your new element in the first position and fill the rest of the array with the existing elements.\r\n\r\n**Of course, in practice don&#39;t do this. Instead use a collection that suits your actual use-case.**\r\n\r\nSo the actual answer to your question is: The simplest way to add an item to front of a java array is to use a better collection type such as a [Deque][2].\r\n\r\nI cannot think of *any* valid reason in Java to not use a more appropriate collection than a raw array if inserting to the front is required. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>As per the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow\">Java tutorials</a> (which I thoroughly recommend beginners to work through)</p>\n\n<blockquote>\n  <p>An <em>array</em> is a container object that holds a fixed number of values of a single type. The length of an array is established when the array is created. After creation, its length is fixed. </p>\n</blockquote>\n\n<p>Because arrays cannot be resized - you can <em>overwrite</em> the first element, but to perform an <em>insert</em> you must create a new array 1 larger than the previous one, put your new element in the first position and fill the rest of the array with the existing elements.</p>\n\n<p><strong>Of course, in practice don't do this. Instead use a collection that suits your actual use-case.</strong></p>\n\n<p>So the actual answer to your question is: The simplest way to add an item to front of a java array is to use a better collection type such as a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html\" rel=\"nofollow\">Deque</a>.</p>\n\n<p>I cannot think of <em>any</em> valid reason in Java to not use a more appropriate collection than a raw array if inserting to the front is required. </p>\n"},{"comments":[{"owner":{"account_id":253349,"reputation":7254,"user_id":531984,"accept_rate":67,"display_name":"Eminem"},"score":0,"creation_date":1461396454,"post_id":36807950,"comment_id":61189183,"body_markdown":"Because I was asked NOT to use an arraylist","body":"Because I was asked NOT to use an arraylist"},{"owner":{"account_id":8157508,"reputation":1007,"user_id":6142587,"display_name":"Carlos Parra"},"score":0,"creation_date":1461396912,"post_id":36807950,"comment_id":61189300,"body_markdown":"Well, I think one way you could do that is creating another array with size: oldArray+elementsToInsert, so that you could add the new elements at the front and the others at the end.","body":"Well, I think one way you could do that is creating another array with size: oldArray+elementsToInsert, so that you could add the new elements at the front and the others at the end."},{"owner":{"account_id":9462758,"reputation":139,"user_id":7036065,"display_name":"Vincent Engel"},"score":0,"creation_date":1568987399,"post_id":36807950,"comment_id":102461757,"body_markdown":"Have you tried out your code? The ArrayList used by the Arrays::asList method doesn&#39;t override the default implementation of AbstractList::add(int, T) and therefore automatically throws an UnimplementedException.","body":"Have you tried out your code? The ArrayList used by the Arrays::asList method doesn&#39;t override the default implementation of AbstractList::add(int, T) and therefore automatically throws an UnimplementedException."},{"owner":{"account_id":1819366,"reputation":195,"user_id":2301694,"accept_rate":100,"display_name":"Sam"},"score":0,"creation_date":1688565465,"post_id":36807950,"comment_id":135090601,"body_markdown":"Arrays.asList generates an immutable list, which means you can&#39;t add an element at the beginning. This is not valid code.","body":"Arrays.asList generates an immutable list, which means you can&#39;t add an element at the beginning. This is not valid code."}],"tags":[],"owner":{"account_id":8157508,"reputation":1007,"user_id":6142587,"display_name":"Carlos Parra"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461396300,"creation_date":1461396300,"answer_id":36807950,"question_id":36807712,"body_markdown":"Why not just use an ArrayList?\r\n\r\nYou could use an Array convert it to a List as follows:\r\n\r\n    List&lt;Integer&gt; myList = Arrays.asList(1,2,3); \r\n    //Instead of 1,2,3 you could create an Integer array: Integer[] myArray = {1,2,3};\r\n    \r\n    myList.add(0, 25);\r\n\r\n\r\nIf you decide doing this way, you could check the answers of this question:\r\n\r\nhttps://stackoverflow.com/questions/12949690/java-arrays-how-to-add-elements-at-the-beginning\r\n\r\nor just check out the documentation:\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Why not just use an ArrayList?</p>\n\n<p>You could use an Array convert it to a List as follows:</p>\n\n<pre><code>List&lt;Integer&gt; myList = Arrays.asList(1,2,3); \n//Instead of 1,2,3 you could create an Integer array: Integer[] myArray = {1,2,3};\n\nmyList.add(0, 25);\n</code></pre>\n\n<p>If you decide doing this way, you could check the answers of this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12949690/java-arrays-how-to-add-elements-at-the-beginning\">Java Arrays how to add elements at the beginning</a></p>\n\n<p>or just check out the documentation:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html</a></p>\n"},{"comments":[{"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"score":3,"creation_date":1461412862,"post_id":36808293,"comment_id":61193935,"body_markdown":"Please explain what your code is actually doing (I don&#39;t thinks that this correctly answers the _unclear_ question or is only one solution to alt least two)","body":"Please explain what your code is actually doing (I don&#39;t thinks that this correctly answers the <i>unclear</i> question or is only one solution to alt least two)"}],"tags":[],"owner":{"account_id":253349,"reputation":7254,"user_id":531984,"accept_rate":67,"display_name":"Eminem"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461398838,"creation_date":1461398838,"answer_id":36808293,"question_id":36807712,"body_markdown":"    for(int i = roadVehicles.length; i &gt; 0; i--) {\r\n        if (roadVehicles[i-1] != null) {\r\n            roadVehicles[i] = roadVehicles[i-1];                \r\n        }\r\n    }\r\n    roadVehicles[0] = car;","title":"Simplest way to add an item to beginning of an array in Java","body":"<pre><code>for(int i = roadVehicles.length; i &gt; 0; i--) {\n    if (roadVehicles[i-1] != null) {\n        roadVehicles[i] = roadVehicles[i-1];                \n    }\n}\nroadVehicles[0] = car;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8307126,"reputation":76,"user_id":6243715,"display_name":"Dario Corsetti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461399452,"creation_date":1461399452,"answer_id":36808389,"question_id":36807712,"body_markdown":"Once created an array cannot be resized. If you have to add an element you&#39;ll need to create a new array.\r\nIf you know the array type it&#39;s trivial, but a nicer solution will work with any array type, using the `java.lang.reflect.Array`\r\n\r\nExample code:\r\n\r\n    public static Object addElementInFrontOfArray(Object array, Object element) {\r\n         int newArraySize = Array.getLength(array)+1;\r\n         Object newArray = Array.newInstance(element.getClass(), newArraySize);\r\n         //Add first element\r\n         Array.set(newArray, 0, element);\r\n         for (int i=1 ; i&lt;newArraySize; i++) {\r\n             Array.set(newArray, i, Array.get(array, i-1));\r\n         }\r\n         return newArray;\r\n    }\r\n\r\nConsider that you can pass a int[] array as parameter but a Integer[] arrary will be returned","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Once created an array cannot be resized. If you have to add an element you'll need to create a new array.\nIf you know the array type it's trivial, but a nicer solution will work with any array type, using the <code>java.lang.reflect.Array</code></p>\n\n<p>Example code:</p>\n\n<pre><code>public static Object addElementInFrontOfArray(Object array, Object element) {\n     int newArraySize = Array.getLength(array)+1;\n     Object newArray = Array.newInstance(element.getClass(), newArraySize);\n     //Add first element\n     Array.set(newArray, 0, element);\n     for (int i=1 ; i&lt;newArraySize; i++) {\n         Array.set(newArray, i, Array.get(array, i-1));\n     }\n     return newArray;\n}\n</code></pre>\n\n<p>Consider that you can pass a int[] array as parameter but a Integer[] arrary will be returned</p>\n"},{"tags":[],"owner":{"account_id":7008272,"reputation":7615,"user_id":5372008,"display_name":"Teocci"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1615236803,"creation_date":1537509185,"answer_id":52437408,"question_id":36807712,"body_markdown":"There are two ways to do this. One, using `Objects` or another using `generics`. I recommend you to use `generics` because gives you more flexibility as you gonna see in these examples.\r\n\r\nIn this first implementation the function `add2BeginningOfArray` is using `generics`:\r\n\r\n```java\r\npublic static &lt;T&gt; T[] add2BeginningOfArray(T[] elements, T element)\r\n{\r\n    T[] newArray = Arrays.copyOf(elements, elements.length + 1);\r\n    newArray[0] = element;\r\n    System.arraycopy(elements, 0, newArray, 1, elements.length);\r\n\r\n    return newArray;\r\n}\r\n```\r\n\r\nCalling this function is really simple. For instance, if you have a class `Dot` and you want to add an element to the beginning of an array of `Dot` objects you just need to do this:\r\n\r\n```java\r\nint size = 20;\r\nDot[] dots = new Dot[size];\r\nfor (int i = 0; i &lt; size; i++) {\r\n    dots[i] = new Dot(&quot;This is a dot&quot;);\r\n}\r\n\r\nDot goal = new Dot(&quot;This is a goal&quot;);\r\n\r\nSystem.out.println(Arrays.toString(add2BeginningOfArray(dots, goal)));\r\n```\r\nYou can also implement a function declaring the function parameters as `Object` as shown in this example:\r\n\r\n```java\r\npublic static Object[] add2BeginningOfArray(Object[] elements, Object element){\r\n    Object[] tempArr = new Object[elements.length + 1];\r\n    tempArr[0] = element;\r\n    System.arraycopy(elements, 0, tempArr, 1, elements.length);\r\n}\r\n```\r\n\r\nNow, what is the problem?  Well, not a big problem but now you need to declare your array as `Object[]` and use this kind of declaration to work with it.\r\n\r\n```java\r\nObject[] foo = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;};\r\n\r\n//adding an element to the beginning array\r\nObject[] numbers = add2BeginningOfArray(foo, &quot;1&quot;);\r\nSystem.out.println(Arrays.toString(numbers));\r\n```\r\n\r\nFor me the `generics` approach is cleaner and more scalable, so I really recommend it over the `Object` approach. \r\n","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>There are two ways to do this. One, using <code>Objects</code> or another using <code>generics</code>. I recommend you to use <code>generics</code> because gives you more flexibility as you gonna see in these examples.</p>\n<p>In this first implementation the function <code>add2BeginningOfArray</code> is using <code>generics</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T[] add2BeginningOfArray(T[] elements, T element)\n{\n    T[] newArray = Arrays.copyOf(elements, elements.length + 1);\n    newArray[0] = element;\n    System.arraycopy(elements, 0, newArray, 1, elements.length);\n\n    return newArray;\n}\n</code></pre>\n<p>Calling this function is really simple. For instance, if you have a class <code>Dot</code> and you want to add an element to the beginning of an array of <code>Dot</code> objects you just need to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int size = 20;\nDot[] dots = new Dot[size];\nfor (int i = 0; i &lt; size; i++) {\n    dots[i] = new Dot(&quot;This is a dot&quot;);\n}\n\nDot goal = new Dot(&quot;This is a goal&quot;);\n\nSystem.out.println(Arrays.toString(add2BeginningOfArray(dots, goal)));\n</code></pre>\n<p>You can also implement a function declaring the function parameters as <code>Object</code> as shown in this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Object[] add2BeginningOfArray(Object[] elements, Object element){\n    Object[] tempArr = new Object[elements.length + 1];\n    tempArr[0] = element;\n    System.arraycopy(elements, 0, tempArr, 1, elements.length);\n}\n</code></pre>\n<p>Now, what is the problem?  Well, not a big problem but now you need to declare your array as <code>Object[]</code> and use this kind of declaration to work with it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object[] foo = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;};\n\n//adding an element to the beginning array\nObject[] numbers = add2BeginningOfArray(foo, &quot;1&quot;);\nSystem.out.println(Arrays.toString(numbers));\n</code></pre>\n<p>For me the <code>generics</code> approach is cleaner and more scalable, so I really recommend it over the <code>Object</code> approach.</p>\n"},{"tags":[],"owner":{"account_id":8434780,"reputation":669,"user_id":6329250,"display_name":"Manuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546859031,"creation_date":1543571612,"answer_id":53555082,"question_id":36807712,"body_markdown":"Apache Commons Lang class &#39;ArrayUtils&#39; makes this very easy, if that is an option for you:\r\n\r\n    char[] arrayA = {&#39;b&#39;, &#39;c&#39;};\r\n\tchar[] arrayB = ArrayUtils.add(arrayA, 0, &#39;a&#39;);\r\n    // arrayB: [a, b, c]","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Apache Commons Lang class 'ArrayUtils' makes this very easy, if that is an option for you:</p>\n\n<pre><code>char[] arrayA = {'b', 'c'};\nchar[] arrayB = ArrayUtils.add(arrayA, 0, 'a');\n// arrayB: [a, b, c]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4020618,"reputation":46,"user_id":3311110,"display_name":"user3311110"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545851695,"creation_date":1545851695,"answer_id":53936189,"question_id":36807712,"body_markdown":"Considering this source\r\n\r\nhttps://www.journaldev.com/763/java-array-add-elements\r\n\r\nyou can add new elements at the beginning of you array by doing this:\r\n\r\n        public static Object[] add(Object[] arr, Object... elements){\r\n        Object[] tempArr = new Object[arr.length+elements.length];\r\n        System.arraycopy(arr, 0, tempArr, elements.length, arr.length);\r\n\r\n        for(int i=0; i &lt; elements.length; i++)\r\n            tempArr[i] = elements[i];\r\n        return tempArr;\r\n\r\n    }","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Considering this source</p>\n\n<p><a href=\"https://www.journaldev.com/763/java-array-add-elements\" rel=\"nofollow noreferrer\">https://www.journaldev.com/763/java-array-add-elements</a></p>\n\n<p>you can add new elements at the beginning of you array by doing this:</p>\n\n<pre><code>    public static Object[] add(Object[] arr, Object... elements){\n    Object[] tempArr = new Object[arr.length+elements.length];\n    System.arraycopy(arr, 0, tempArr, elements.length, arr.length);\n\n    for(int i=0; i &lt; elements.length; i++)\n        tempArr[i] = elements[i];\n    return tempArr;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553195172,"creation_date":1553195172,"answer_id":55287614,"question_id":36807712,"body_markdown":"here&#39;s a concrete example of the simplest way I could find:\r\n\r\n    \tList&lt;StackTraceElement&gt; stack = new ArrayList&lt;StackTraceElement&gt; (Arrays.asList (e.getStackTrace()));\r\n\t\tstack.add (0, new StackTraceElement (&quot;class&quot;, &quot;method&quot;, &quot;file&quot;, 25439));\r\n\t\tStackTraceElement[] newStack = new StackTraceElement[stack.size()];\r\n\t\tnewStack = stack.toArray (newStack);  \r\n\t\te.setStackTrace (newStack);\r\n\r\nBasically it uses `java.util.Arrays.asList()` to turn the array into a `List`, adds to the list and then turns the list back into an array with `List.toArray()`.\r\n\r\nAs everybody has said, you can&#39;t really add to the beginning of an array unless you shift all the elements by one first, or as in my solution, you make a new array.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>here's a concrete example of the simplest way I could find:</p>\n\n<pre><code>    List&lt;StackTraceElement&gt; stack = new ArrayList&lt;StackTraceElement&gt; (Arrays.asList (e.getStackTrace()));\n    stack.add (0, new StackTraceElement (\"class\", \"method\", \"file\", 25439));\n    StackTraceElement[] newStack = new StackTraceElement[stack.size()];\n    newStack = stack.toArray (newStack);  \n    e.setStackTrace (newStack);\n</code></pre>\n\n<p>Basically it uses <code>java.util.Arrays.asList()</code> to turn the array into a <code>List</code>, adds to the list and then turns the list back into an array with <code>List.toArray()</code>.</p>\n\n<p>As everybody has said, you can't really add to the beginning of an array unless you shift all the elements by one first, or as in my solution, you make a new array.</p>\n"},{"comments":[{"owner":{"account_id":7572006,"reputation":597,"user_id":5745575,"display_name":"Tyler Tian"},"score":2,"creation_date":1618347891,"post_id":67080054,"comment_id":118574099,"body_markdown":"`unshift()` is a *JavaScript* array method. It does not exist in Java.","body":"<code>unshift()</code> is a <i>JavaScript</i> array method. It does not exist in Java."}],"tags":[],"owner":{"account_id":21242194,"reputation":11,"user_id":15625474,"display_name":"Lukas"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1618336566,"creation_date":1618336566,"answer_id":67080054,"question_id":36807712,"body_markdown":"Just .unshift()\r\n\r\nThis adds an element to the beginning of an array.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>Just .unshift()</p>\n<p>This adds an element to the beginning of an array.</p>\n"},{"tags":[],"owner":{"account_id":9269537,"reputation":722,"user_id":6883983,"display_name":"Roman Lototskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682155462,"creation_date":1682154605,"answer_id":76078855,"question_id":36807712,"body_markdown":"I used this method:\r\n\r\n    public void addFront(Item item) { //add item to the front\r\n        Item temp = arr[0];\r\n        arr[0] = item;\r\n        for (int i = 1; i &lt; arr.length - 1; i++) {\r\n            Item temp2 = arr[i];\r\n            arr[i] = temp;\r\n            temp = temp2;\r\n        }\r\n    }\r\n\r\nStill you shoud manage resising or ArrayIndexOutOfBoundsException in case you add more elements than initially predifined length of your array. \r\nIt was exercise 3.5.27 from &quot;Algorithms&quot; fourth edition from Robert Sedgewick &amp; Kevin Wayne.\r\n","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>I used this method:</p>\n<pre><code>public void addFront(Item item) { //add item to the front\n    Item temp = arr[0];\n    arr[0] = item;\n    for (int i = 1; i &lt; arr.length - 1; i++) {\n        Item temp2 = arr[i];\n        arr[i] = temp;\n        temp = temp2;\n    }\n}\n</code></pre>\n<p>Still you shoud manage resising or ArrayIndexOutOfBoundsException in case you add more elements than initially predifined length of your array.\nIt was exercise 3.5.27 from &quot;Algorithms&quot; fourth edition from Robert Sedgewick &amp; Kevin Wayne.</p>\n"}],"owner":{"account_id":253349,"reputation":7254,"user_id":531984,"accept_rate":67,"display_name":"Eminem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43103,"favorite_count":0,"down_vote_count":6,"up_vote_count":16,"accepted_answer_id":36808293,"answer_count":10,"score":10,"last_activity_date":1682155462,"creation_date":1461394745,"question_id":36807712,"body_markdown":"I need the **simplest** way to add an item to the front of an Java array.  \r\nI need the Java array NOT the ArrayList.","title":"Simplest way to add an item to beginning of an array in Java","body":"<p>I need the <strong>simplest</strong> way to add an item to the front of an Java array.<br />\nI need the Java array NOT the ArrayList.</p>\n"},{"tags":["java","file-io","iostream","inputstream","outputstream"],"comments":[{"owner":{"account_id":10448,"reputation":91694,"user_id":19746,"accept_rate":91,"display_name":"Piskvor left the building"},"score":0,"creation_date":1303564172,"post_id":5764323,"comment_id":6601478,"body_markdown":"Could you read the whole file as a byte stream, then find your delimiters in there, put the parts into byte arrays and read those as the respective streams?","body":"Could you read the whole file as a byte stream, then find your delimiters in there, put the parts into byte arrays and read those as the respective streams?"},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303564578,"post_id":5764323,"comment_id":6601515,"body_markdown":"That may work up until the object that needs to be read, but I feel there might be a more direct way.","body":"That may work up until the object that needs to be read, but I feel there might be a more direct way."}],"answers":[{"comments":[{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303566666,"post_id":5764422,"comment_id":6601736,"body_markdown":"So I dump everything in the file as an object how will I read it back in?","body":"So I dump everything in the file as an object how will I read it back in?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1303597975,"post_id":5764422,"comment_id":6605837,"body_markdown":"@Trevor Arjeski Write with writeObject(), read with readObject() and cast to byte[], char[], your class, etc. Couldn&#39;t be simpler.","body":"@Trevor Arjeski Write with writeObject(), read with readObject() and cast to byte[], char[], your class, etc. Couldn&#39;t be simpler."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303565249,"creation_date":1303565249,"answer_id":5764422,"question_id":5764323,"body_markdown":"Redesign the file. There is no sensible way of implementing it as presently designed. For example the object presupposes an ObjectOutputStream, which has a header - where&#39;s that going to go? And how are you going to know where to switch from bytes to chars?\r\n\r\nI would probably use an ObjectOutputStream for the whole thing and write everything as objects. Then Serialization solves all those problems for you. After all you don&#39;t actually care what&#39;s in the file, only how to read and write it.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Redesign the file. There is no sensible way of implementing it as presently designed. For example the object presupposes an ObjectOutputStream, which has a header - where's that going to go? And how are you going to know where to switch from bytes to chars?</p>\n\n<p>I would probably use an ObjectOutputStream for the whole thing and write everything as objects. Then Serialization solves all those problems for you. After all you don't actually care what's in the file, only how to read and write it.</p>\n"},{"comments":[{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303572436,"post_id":5765000,"comment_id":6602439,"body_markdown":"My mistake, I do have control over the structure of the file","body":"My mistake, I do have control over the structure of the file"}],"tags":[],"owner":{"account_id":325673,"reputation":1405,"user_id":646998,"accept_rate":83,"display_name":"Christopher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303571781,"creation_date":1303571781,"answer_id":5765000,"question_id":5764323,"body_markdown":"Can you change the structure of the file? It is unclear because the first sentence of your question contradicts being able to add delineators. If you &lt;b&gt;can&lt;/b&gt; change the file structure you could output the different data types into separate files. I would consider this the &#39;proper&#39; way to delineate the data streams.\r\n\r\nIf you are stuck with the file the way it is then you will need to write an interface to the file&#39;s structure which in practice is a shopping list of read operations and a lot of exception handling. A hackish way to program because it will require a hex editor and a lot of trial and error but it works in certain cases.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Can you change the structure of the file? It is unclear because the first sentence of your question contradicts being able to add delineators. If you <b>can</b> change the file structure you could output the different data types into separate files. I would consider this the 'proper' way to delineate the data streams.</p>\n\n<p>If you are stuck with the file the way it is then you will need to write an interface to the file's structure which in practice is a shopping list of read operations and a lot of exception handling. A hackish way to program because it will require a hex editor and a lot of trial and error but it works in certain cases.</p>\n"},{"tags":[],"owner":{"account_id":106190,"reputation":9362,"user_id":282968,"accept_rate":73,"display_name":"MJB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303583545,"creation_date":1303583545,"answer_id":5766087,"question_id":5764323,"body_markdown":"Why not write the file as XML, possibly with a nice simple library like XSTream. If you are concerned about space, wrap it in gzip compression.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>Why not write the file as XML, possibly with a nice simple library like XSTream. If you are concerned about space, wrap it in gzip compression.</p>\n"},{"tags":[],"owner":{"account_id":211113,"reputation":376,"user_id":463100,"display_name":"Noah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303596631,"creation_date":1303596631,"answer_id":5767287,"question_id":5764323,"body_markdown":"If you have control over the file format, and it&#39;s not an exceptionally large file (i.e. &lt; 1 GiB), have you thought about using Google&#39;s Protocol Buffers?\r\n\r\nThey generate code that parses (and serializes) file/byte[] content. Protocol buffers use a tagging approach on every value that includes (1) field number and (2) a type, so they have nice properties such as forward/backward compatability with optional fields etc. They are fairly well optimized for both speed and file size, adding only ~2 bytes of overhead for a short byte[], with ~2-4 additional bytes to encode the length on larger byte[] fields (VarInt encoded lengths).\r\n\r\nThis could be overkill, but if you have a bunch of different fields &amp; types, protobuf is really helpful. See: http://code.google.com/p/protobuf/.\r\n\r\nAn alternative is Thrift by Facebook, with support for a few more languages although possibly less use in the wild last I checked.","title":"What is the proper way to write/read a file with different IO streams","body":"<p>If you have control over the file format, and it's not an exceptionally large file (i.e. &lt; 1 GiB), have you thought about using Google's Protocol Buffers?</p>\n\n<p>They generate code that parses (and serializes) file/byte[] content. Protocol buffers use a tagging approach on every value that includes (1) field number and (2) a type, so they have nice properties such as forward/backward compatability with optional fields etc. They are fairly well optimized for both speed and file size, adding only ~2 bytes of overhead for a short byte[], with ~2-4 additional bytes to encode the length on larger byte[] fields (VarInt encoded lengths).</p>\n\n<p>This could be overkill, but if you have a bunch of different fields &amp; types, protobuf is really helpful. See: <a href=\"http://code.google.com/p/protobuf/\" rel=\"nofollow\">http://code.google.com/p/protobuf/</a>.</p>\n\n<p>An alternative is Thrift by Facebook, with support for a few more languages although possibly less use in the wild last I checked.</p>\n"},{"comments":[{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303618269,"post_id":5767410,"comment_id":6607510,"body_markdown":"This is a good example of how to read and write objects, but it fails to address the fact that I also have primitives in the file that have to be differentiated from the object.","body":"This is a good example of how to read and write objects, but it fails to address the fact that I also have primitives in the file that have to be differentiated from the object."},{"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":0,"creation_date":1303625475,"post_id":5767410,"comment_id":6608206,"body_markdown":"@Trevor Arjeski - It is exactly what it shows - You wrap the primitives in an object of &quot;MyWrapedData&quot;. I included only Strings and char, bur it could be any other primitive as well. The you save the object that wraps them in a file, later you read the object and extract the primitives in the same way.","body":"@Trevor Arjeski - It is exactly what it shows - You wrap the primitives in an object of &quot;MyWrapedData&quot;. I included only Strings and char, bur it could be any other primitive as well. The you save the object that wraps them in a file, later you read the object and extract the primitives in the same way."},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303651662,"post_id":5767410,"comment_id":6610566,"body_markdown":"Oh sorry, I didn&#39;t even look at the object.  Now I get it! Thanks","body":"Oh sorry, I didn&#39;t even look at the object.  Now I get it! Thanks"},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1303654931,"post_id":5767410,"comment_id":6611005,"body_markdown":"would it be possible to put an object inside the wrappedData object?","body":"would it be possible to put an object inside the wrappedData object?"},{"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":0,"creation_date":1303770819,"post_id":5767410,"comment_id":6629183,"body_markdown":"@Trevor - sure, the same way you put any other object in a class.","body":"@Trevor - sure, the same way you put any other object in a class."}],"tags":[],"owner":{"account_id":212263,"reputation":136304,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1303597962,"creation_date":1303597962,"answer_id":5767410,"question_id":5764323,"body_markdown":"As **EJP** already suggested, use ObjectOutputStream and ObjectInputStream an0d wrap your other elements as an object(s). I&#39;m giving as an answer so I could show an example (it&#39;s hard to do it in comment) EJP - if you want to embed it in your question, please do and I&#39;ll delete the answer.\r\n\r\n    class MyWrapedData implements serializeable{\r\n        private String string1;\r\n        private String string2;\r\n        private char   char1;\r\n        // constructors\r\n        // getters setters\r\n    }\r\n\r\nWrite to file:\r\n\r\n    ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(fileName));\r\n    out.writeObject(myWrappedDataInstance);\r\n    out.flush();\r\n\r\nRead from file\r\n\r\n    ObjectInputStream in = new ObjectInputStream(new FileInputStream(fileName));\r\n    Object obj = in.readObject();\r\n    MyWrapedData wraped = null;\r\n    if ((obj != null) &amp;&amp; (obj instanceof MyWrappedData))\r\n        wraped = (MyWrapedData)obj;\r\n    // get the specific elements from the wraped object\r\n\r\nsee very clear example here: [Read][1] and [Write][2]\r\n\r\n\r\n  [1]: http://www.javadb.com/reading-objects-from-file-using-objectinputstream\r\n  [2]: http://www.javadb.com/writing-objects-to-file-with-objectoutputstream","title":"What is the proper way to write/read a file with different IO streams","body":"<p>As <strong>EJP</strong> already suggested, use ObjectOutputStream and ObjectInputStream an0d wrap your other elements as an object(s). I'm giving as an answer so I could show an example (it's hard to do it in comment) EJP - if you want to embed it in your question, please do and I'll delete the answer.</p>\n\n<pre><code>class MyWrapedData implements serializeable{\n    private String string1;\n    private String string2;\n    private char   char1;\n    // constructors\n    // getters setters\n}\n</code></pre>\n\n<p>Write to file:</p>\n\n<pre><code>ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(fileName));\nout.writeObject(myWrappedDataInstance);\nout.flush();\n</code></pre>\n\n<p>Read from file</p>\n\n<pre><code>ObjectInputStream in = new ObjectInputStream(new FileInputStream(fileName));\nObject obj = in.readObject();\nMyWrapedData wraped = null;\nif ((obj != null) &amp;&amp; (obj instanceof MyWrappedData))\n    wraped = (MyWrapedData)obj;\n// get the specific elements from the wraped object\n</code></pre>\n\n<p>see very clear example here: <a href=\"http://www.javadb.com/reading-objects-from-file-using-objectinputstream\" rel=\"nofollow\">Read</a> and <a href=\"http://www.javadb.com/writing-objects-to-file-with-objectoutputstream\" rel=\"nofollow\">Write</a></p>\n"},{"tags":[],"owner":{"account_id":327864,"reputation":51,"user_id":650483,"display_name":"Thiago Veronezi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306861141,"creation_date":1306861141,"answer_id":6190945,"question_id":5764323,"body_markdown":"If the structure of your file is not fixed, consider using a wrapper per type. First you need to create the interface of your wrapper classes….\r\n\r\n&lt;pre&gt;\r\ninterface MyWrapper extends Serializable {\r\n\tvoid accept(MyWrapperVisitor visitor);\r\n}\r\n&lt;/pre&gt;\r\n\r\nThen you create the MyWrapperVisitor interface…\r\n\r\n&lt;pre&gt;\r\ninterface MyWrapperVisitor {\r\n\tvoid visit(MyString wrapper);\r\n\tvoid visit(MyChar wrapper);\r\n\tvoid visit(MyLong wrapper);\r\n\tvoid visit(MyCustomObject wrapper);\r\n}\r\n&lt;/pre&gt;\r\n\r\nThen you create your wrapper classes…\r\n\r\n&lt;pre&gt;\r\nclass MyString implements MyWrapper {\r\n\tpublic final String value;\r\n\r\n\tpublic MyString(String value) {\r\n\t\tsuper();\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void accept(MyWrapperVisitor visitor) {\r\n\t\tvisitor.visit(this);\r\n\t\t\r\n\t}\r\n}\r\n.\r\n.\r\n.\r\n&lt;/pre&gt;\r\n\r\nAnd finally you read your objects…\r\n\r\n&lt;pre&gt;\r\nfinal InputStream in = new FileInputStream(myfile);\r\nfinal ObjectInputStream objIn = new ObjectInputStream(in);\r\nfinal MyWrapperVisitor visitor = new MyWrapperVisitor() {\r\n\t@Override\r\n\tpublic void visit(MyString wrapper) {\r\n\t\t//your logic here\r\n\t\t\r\n\t}\r\n\t.\r\n\t.\r\n\t.\r\n};\r\n\r\n//loop over all your objects here\r\nfinal MyWrapper wrapper = (MyWrapper) objIn.readObject();\r\nwrapper.accept(visitor);\r\n&lt;/pre&gt;","title":"What is the proper way to write/read a file with different IO streams","body":"<p>If the structure of your file is not fixed, consider using a wrapper per type. First you need to create the interface of your wrapper classes….</p>\n\n<pre>\ninterface MyWrapper extends Serializable {\n    void accept(MyWrapperVisitor visitor);\n}\n</pre>\n\n<p>Then you create the MyWrapperVisitor interface…</p>\n\n<pre>\ninterface MyWrapperVisitor {\n    void visit(MyString wrapper);\n    void visit(MyChar wrapper);\n    void visit(MyLong wrapper);\n    void visit(MyCustomObject wrapper);\n}\n</pre>\n\n<p>Then you create your wrapper classes…</p>\n\n<pre>\nclass MyString implements MyWrapper {\n    public final String value;\n\n    public MyString(String value) {\n        super();\n        this.value = value;\n    }\n\n    @Override\n    public void accept(MyWrapperVisitor visitor) {\n        visitor.visit(this);\n\n    }\n}\n.\n.\n.\n</pre>\n\n<p>And finally you read your objects…</p>\n\n<pre>\nfinal InputStream in = new FileInputStream(myfile);\nfinal ObjectInputStream objIn = new ObjectInputStream(in);\nfinal MyWrapperVisitor visitor = new MyWrapperVisitor() {\n    @Override\n    public void visit(MyString wrapper) {\n        //your logic here\n\n    }\n    .\n    .\n    .\n};\n\n//loop over all your objects here\nfinal MyWrapper wrapper = (MyWrapper) objIn.readObject();\nwrapper.accept(visitor);\n</pre>\n"}],"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5767410,"answer_count":6,"score":2,"last_activity_date":1682154308,"creation_date":1303563898,"question_id":5764323,"body_markdown":"I have a file that contains bytes, chars, and an object, all of which need to be written then read.  What would be the best way to utilize Java&#39;s different IO streams for writing and reading these data types?  \r\n\r\nMore specifically, is there a proper way to add delimiters and recognize those delimiters, then triggering what stream should be used?  I believe I need some clarification on using multiple streams in the same file, something I have never studied before.  A thorough explanation would be a sufficient answer.\r\n","title":"What is the proper way to write/read a file with different IO streams","body":"<p>I have a file that contains bytes, chars, and an object, all of which need to be written then read.  What would be the best way to utilize Java's different IO streams for writing and reading these data types?</p>\n<p>More specifically, is there a proper way to add delimiters and recognize those delimiters, then triggering what stream should be used?  I believe I need some clarification on using multiple streams in the same file, something I have never studied before.  A thorough explanation would be a sufficient answer.</p>\n"},{"tags":["java","android","kotlin","gradle","build"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1682151321,"post_id":76078578,"comment_id":134172962,"body_markdown":"`None of us have ever worked with android before` ?? I think you mean: `None of us have ever worked with Android Studio before`. Add that tag. You have problems with Android Studio. Not with Android.","body":"<code>None of us have ever worked with android before</code> ?? I think you mean: <code>None of us have ever worked with Android Studio before</code>. Add that tag. You have problems with Android Studio. Not with Android."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1682152794,"post_id":76078578,"comment_id":134173084,"body_markdown":"I disagree. The issue is with the Gradle build, and has nothing to do with the IDE. It would be exactly the same on the command line. Nothing in this question is specific to Android Studio, so it would be an inappropriate tag for this question.","body":"I disagree. The issue is with the Gradle build, and has nothing to do with the IDE. It would be exactly the same on the command line. Nothing in this question is specific to Android Studio, so it would be an inappropriate tag for this question."}],"answers":[{"comments":[{"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1682153865,"post_id":76078690,"comment_id":134173182,"body_markdown":"Interesting, where did you find it? Google&#39;s maven repository only lists versions up to 1.1.1.","body":"Interesting, where did you find it? Google&#39;s maven repository only lists versions up to 1.1.1."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1682156214,"post_id":76078690,"comment_id":134173410,"body_markdown":"I didn’t. I just saw the note in the changelog. See here: https://developer.android.com/jetpack/androidx/releases/lifecycle#2.2.0","body":"I didn’t. I just saw the note in the changelog. See here: <a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle#2.2.0\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/lifecycle#2.&zwnj;&#8203;2.0</a>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1682157025,"post_id":76078690,"comment_id":134173487,"body_markdown":"It’s there: https://maven.google.com/web/m_index.html#androidx.lifecycle:lifecycle-extensions:2.2.0","body":"It’s there: <a href=\"https://maven.google.com/web/m_index.html#androidx.lifecycle:lifecycle-extensions:2.2.0\" rel=\"nofollow noreferrer\">maven.google.com/web/&hellip;</a>"},{"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1682161998,"post_id":76078690,"comment_id":134173994,"body_markdown":"@Tenfour4 Ah, OK. OP is using the non androidx variant which has a max version of 1.1.1. The AndroidX version goes to 2.2.0.","body":"@Tenfour4 Ah, OK. OP is using the non androidx variant which has a max version of 1.1.1. The AndroidX version goes to 2.2.0."}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682151984,"creation_date":1682151984,"answer_id":76078690,"question_id":76078578,"body_markdown":"`lifecycle-extensions` was discontinued after version 2.2.0, but you are specifying version 2.6.1. You can remove this line:\r\n\r\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\r\n\r\nYou are already using the various `-ktx` versions of the lifecycle libraries, which is now the correct way to get the extensions.\r\n\r\nIn your `buildscript` block in the other file, you should replace `jcenter()` with `mavenCentral()` and you can remove the following, since it is redundant to using `google()`:\r\n\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p><code>lifecycle-extensions</code> was discontinued after version 2.2.0, but you are specifying version 2.6.1. You can remove this line:</p>\n<pre><code>implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\n</code></pre>\n<p>You are already using the various <code>-ktx</code> versions of the lifecycle libraries, which is now the correct way to get the extensions.</p>\n<p>In your <code>buildscript</code> block in the other file, you should replace <code>jcenter()</code> with <code>mavenCentral()</code> and you can remove the following, since it is redundant to using <code>google()</code>:</p>\n<pre><code>    maven {\n        url &quot;https://maven.google.com&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682153811,"creation_date":1682153811,"answer_id":76078802,"question_id":76078578,"body_markdown":"You are trying to import version 2.6.1 of the `android.arch.lifecycle:extensions` library which does not exist.\r\n\r\nAccording to the [Google maven repository](https://maven.google.com/web/m_index.html#android.arch.lifecycle:extensions:1.1.1) the latest version is 1.1.1. ","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p>You are trying to import version 2.6.1 of the <code>android.arch.lifecycle:extensions</code> library which does not exist.</p>\n<p>According to the <a href=\"https://maven.google.com/web/m_index.html#android.arch.lifecycle:extensions:1.1.1\" rel=\"nofollow noreferrer\">Google maven repository</a> the latest version is 1.1.1.</p>\n"}],"owner":{"account_id":28377965,"reputation":13,"user_id":21705710,"display_name":"epicobadah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76078690,"answer_count":2,"score":1,"last_activity_date":1682153811,"creation_date":1682150001,"question_id":76078578,"body_markdown":"So I have a group project I am working on in which we are developing an android app. None of us have ever worked with android before, and have been largely learning off of youtube tutorials. We&#39;ve been having success, but as I finished with my component, I started getting errors on build and I have no idea what they mean.[Build errors, therest of which just saying the debug failed.](https://i.stack.imgur.com/jIibH.png) it seems like it may just be dependencies or gradle issues, but most of the project is in java and I did this in kotlin so maybe that&#39;s an issue, but I am not sure what to do. \r\n\r\n\r\nBelow are the dependencies in my build.gradle(Module:app)\r\n\r\n```\r\ndependencies {\r\n\r\n    def lifecycle_version = &quot;2.6.1&quot;\r\n    def nav_version = &quot;2.5.3&quot;\r\n    def recyclerview_version = &quot;1.3.0&quot;\r\n    def material_version = &quot;1.4.0-alpha01&quot;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.5.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-firestore:8.0.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    // ViewModel\r\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\r\n    // LiveData\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\r\n\r\n    // Navigation\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n\r\n    // recyclerview\r\n    implementation &quot;androidx.recyclerview:recyclerview:$recyclerview_version&quot;\r\n\r\n    // material\r\n    implementation &quot;com.google.android.material:material:$material_version&quot;\r\n\r\n\r\n    //OTP PIN\r\n}\r\n```\r\n\r\nand below here is my entire build.gradle(project)\r\n\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.4.31&quot;\r\n    repositories{\r\n        google()\r\n        jcenter()\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        def nav_version = &quot;2.5.3&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\r\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n}\r\n```\r\n\r\n\r\n\r\nI wasn&#39;t really sure what to try, but I went and tried to update the versions of implementations like lifecycle, navigation, recyclerview and material. None of these seemed to have worked though. I also tried adding maven to my repositories, but seemingly to no success. I am not sure if this is an error with my actual code, as the project is mostly java but I did my component in kotlin, but I didn&#39;t think that should be an issue, and the errors seem to be build/gradle related. Any help/ideas is appreciated.","title":"Bunch of errors when trying to build app on android studio. How to fix?","body":"<p>So I have a group project I am working on in which we are developing an android app. None of us have ever worked with android before, and have been largely learning off of youtube tutorials. We've been having success, but as I finished with my component, I started getting errors on build and I have no idea what they mean.<a href=\"https://i.stack.imgur.com/jIibH.png\" rel=\"nofollow noreferrer\">Build errors, therest of which just saying the debug failed.</a> it seems like it may just be dependencies or gradle issues, but most of the project is in java and I did this in kotlin so maybe that's an issue, but I am not sure what to do.</p>\n<p>Below are the dependencies in my build.gradle(Module:app)</p>\n<pre><code>dependencies {\n\n    def lifecycle_version = &quot;2.6.1&quot;\n    def nav_version = &quot;2.5.3&quot;\n    def recyclerview_version = &quot;1.3.0&quot;\n    def material_version = &quot;1.4.0-alpha01&quot;\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth-ktx:21.3.0'\n    implementation 'com.google.firebase:firebase-auth:21.3.0'\n    implementation 'com.google.firebase:firebase-firestore:24.5.0'\n    implementation 'com.firebaseui:firebase-ui-firestore:8.0.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    // ViewModel\n    implementation &quot;android.arch.lifecycle:extensions:$lifecycle_version&quot;\n    // LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycle_version&quot;\n\n    // Navigation\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n    // recyclerview\n    implementation &quot;androidx.recyclerview:recyclerview:$recyclerview_version&quot;\n\n    // material\n    implementation &quot;com.google.android.material:material:$material_version&quot;\n\n\n    //OTP PIN\n}\n</code></pre>\n<p>and below here is my entire build.gradle(project)</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.4.31&quot;\n    repositories{\n        google()\n        jcenter()\n        maven {\n            url &quot;https://maven.google.com&quot;\n        }\n    }\n    dependencies {\n        def nav_version = &quot;2.5.3&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.5.3&quot;\n        classpath &quot;com.android.tools.build:gradle:4.1.3&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n<p>I wasn't really sure what to try, but I went and tried to update the versions of implementations like lifecycle, navigation, recyclerview and material. None of these seemed to have worked though. I also tried adding maven to my repositories, but seemingly to no success. I am not sure if this is an error with my actual code, as the project is mostly java but I did my component in kotlin, but I didn't think that should be an issue, and the errors seem to be build/gradle related. Any help/ideas is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jackson","java-17"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1682157626,"post_id":76078716,"comment_id":134173532,"body_markdown":"Can&#39;t test right now, but if I remember correctly you need to use `@JsonProperty` on every parameter in the constructor.","body":"Can&#39;t test right now, but if I remember correctly you need to use <code>@JsonProperty</code> on every parameter in the constructor."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1682157661,"post_id":76078716,"comment_id":134173540,"body_markdown":"Which version of Jackson are you using? https://github.com/FasterXML/jackson-databind/issues/2709","body":"Which version of Jackson are you using? <a href=\"https://github.com/FasterXML/jackson-databind/issues/2709\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/2709</a>"},{"owner":{"account_id":12672203,"reputation":27,"user_id":9209365,"display_name":"Binary"},"score":0,"creation_date":1682163063,"post_id":76078716,"comment_id":134174091,"body_markdown":"Adding `@JsonProperty` fixed it for me. Strange how it works without it in 2 other dtos I have, but it doesn&#39;t on this one. thanks, @chaosfire","body":"Adding <code>@JsonProperty</code> fixed it for me. Strange how it works without it in 2 other dtos I have, but it doesn&#39;t on this one. thanks, @chaosfire"}],"owner":{"account_id":12672203,"reputation":27,"user_id":9209365,"display_name":"Binary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682153190,"creation_date":1682152407,"question_id":76078716,"body_markdown":"I have a method in a rest controller that takes a JSON request body and should deserialize it into a record called TransactionDTO, but it keeps giving me the error: `Could not resolve parameter [0] in private org.springframework.http.ResponseEntity&lt;com.web.store.app.backend.dto.TransactionDTO&gt; com.web.store.app.backend.controller.TransactionController.saveTransaction(com.web.store.app.backend.dto.TransactionDTO): JSON parse error: Can not set final java.util.List field com.web.store.app.backend.dto.TransactionDTO.productIds to java.util.ArrayList`\r\n\r\nI know that the problem is because I am using a record. When I change it to a class and remove the final from the parameters it works, but I want to avoid using a class as a DTO if possible.\r\n\r\nthe method:\r\n\r\n```\r\n    @PostMapping(value = &quot;add&quot;)\r\n    private ResponseEntity&lt;TransactionDTO&gt; saveTransaction(@Valid @RequestBody TransactionDTO transactionDTO) {\r\n\r\n        return transactionService.saveTransaction(transactionDTO).map(\r\n                transaction -&gt; ResponseEntity.status(HttpStatus.CREATED).body(transaction)).orElseGet(\r\n                () -&gt; ResponseEntity\r\n                        .status(HttpStatus.BAD_REQUEST)\r\n                        .build());\r\n    }\r\n```\r\n\r\nTransactionDTO:\r\n\r\n```\r\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\npublic record TransactionDTO(String id, Long userId,\r\n                             @JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mmXXX&quot;, shape = JsonFormat.Shape.STRING)\r\n                             ZonedDateTime createdAt, List&lt;String&gt; productIds) {}\r\n```\r\n\r\nThe request used:\r\n\r\n`curl --location &#39;localhost:8080/transaction/api/add&#39; \\ --header &#39;Content-Type: application/json&#39; \\ --data &#39;{     &quot;id&quot;: &quot;TRNS03&quot;,     &quot;user_id&quot;: 1,     &quot;created_at&quot;:&quot;2023-03-19T06:33-06:00&quot;,     &quot;product_ids&quot;:[&quot;PRD003&quot;] }&#39;`\r\n\r\n","title":"Deserializing a JSON into a record causes JSON parse error","body":"<p>I have a method in a rest controller that takes a JSON request body and should deserialize it into a record called TransactionDTO, but it keeps giving me the error: <code>Could not resolve parameter [0] in private org.springframework.http.ResponseEntity&lt;com.web.store.app.backend.dto.TransactionDTO&gt; com.web.store.app.backend.controller.TransactionController.saveTransaction(com.web.store.app.backend.dto.TransactionDTO): JSON parse error: Can not set final java.util.List field com.web.store.app.backend.dto.TransactionDTO.productIds to java.util.ArrayList</code></p>\n<p>I know that the problem is because I am using a record. When I change it to a class and remove the final from the parameters it works, but I want to avoid using a class as a DTO if possible.</p>\n<p>the method:</p>\n<pre><code>    @PostMapping(value = &quot;add&quot;)\n    private ResponseEntity&lt;TransactionDTO&gt; saveTransaction(@Valid @RequestBody TransactionDTO transactionDTO) {\n\n        return transactionService.saveTransaction(transactionDTO).map(\n                transaction -&gt; ResponseEntity.status(HttpStatus.CREATED).body(transaction)).orElseGet(\n                () -&gt; ResponseEntity\n                        .status(HttpStatus.BAD_REQUEST)\n                        .build());\n    }\n</code></pre>\n<p>TransactionDTO:</p>\n<pre><code>@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic record TransactionDTO(String id, Long userId,\n                             @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mmXXX&quot;, shape = JsonFormat.Shape.STRING)\n                             ZonedDateTime createdAt, List&lt;String&gt; productIds) {}\n</code></pre>\n<p>The request used:</p>\n<p><code>curl --location 'localhost:8080/transaction/api/add' \\ --header 'Content-Type: application/json' \\ --data '{     &quot;id&quot;: &quot;TRNS03&quot;,     &quot;user_id&quot;: 1,     &quot;created_at&quot;:&quot;2023-03-19T06:33-06:00&quot;,     &quot;product_ids&quot;:[&quot;PRD003&quot;] }'</code></p>\n"},{"tags":["java","date","enums","java.util.scanner"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682151950,"post_id":76078060,"comment_id":134173016,"body_markdown":"Using enums is a good idea. You need not create your own `Month` enum, it is built in already, and it’s better not to &quot;reinvent the wheel&quot;. Inport `java.time.Month`. You may consider an enum for the astrological signs too. Inside each of the cases of your switch statement you will still need if-else for choosing between the two possible Zodiac sings for that month.","body":"Using enums is a good idea. You need not create your own <code>Month</code> enum, it is built in already, and it’s better not to &quot;reinvent the wheel&quot;. Inport <code>java.time.Month</code>. You may consider an enum for the astrological signs too. Inside each of the cases of your switch statement you will still need if-else for choosing between the two possible Zodiac sings for that month."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682152336,"post_id":76078060,"comment_id":134173043,"body_markdown":"It may not be what your mentor intended, but for production code one would use a `DateTimeFormatter.ofPattern(&quot;MMMM&quot;, Locale.ENGLISH)` and convert into a `Month` enum value using `Month.from(yourDateTimeFormatter.parse(userInputString))`.","body":"It may not be what your mentor intended, but for production code one would use a <code>DateTimeFormatter.ofPattern(&quot;MMMM&quot;, Locale.ENGLISH)</code> and convert into a <code>Month</code> enum value using <code>Month.from(yourDateTimeFormatter.parse(userInputString))</code>."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682181547,"post_id":76078060,"comment_id":134176439,"body_markdown":"I think what I&#39;m confused on is how I implement this with my scanner input, I&#39;m not sure If the way I&#39;ve constructed the program makes it out of scope or not","body":"I think what I&#39;m confused on is how I implement this with my scanner input, I&#39;m not sure If the way I&#39;ve constructed the program makes it out of scope or not"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682191087,"post_id":76078060,"comment_id":134177601,"body_markdown":"I had intended `userInputString` to be the string read from the user through your scanner -- what is caled  `birthMonth` in your code, yes, sorry, using a different name was confusing.","body":"I had intended <code>userInputString</code> to be the string read from the user through your scanner -- what is caled  <code>birthMonth</code> in your code, yes, sorry, using a different name was confusing."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682192936,"post_id":76078060,"comment_id":134177822,"body_markdown":"Thank you. I think another issue I&#39;m having Is I&#39;m not sure if these methods should be in the main method or outside of it. When It&#39;s outside the main method I&#39;m struggling to understand what&#39;s actually supposed to be in my main method. This challenge is really exposing what I do and don&#39;t know lol","body":"Thank you. I think another issue I&#39;m having Is I&#39;m not sure if these methods should be in the main method or outside of it. When It&#39;s outside the main method I&#39;m struggling to understand what&#39;s actually supposed to be in my main method. This challenge is really exposing what I do and don&#39;t know lol"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682193409,"post_id":76078060,"comment_id":134177883,"body_markdown":"I understand. It’s a design decision what to put where, so there isn’t just one correct answer. Options include: (1) Put it in the `main` method and pass the `Month` object obtained as argument to the method you are calling. (2) Pass the string from the user to the method and convert to `Month` inside the method. (3) Code a separate method for reading the user input and converting it. This method would then return a `Month` object after having read the input through the scanner and converted.","body":"I understand. It’s a design decision what to put where, so there isn’t just one correct answer. Options include: (1) Put it in the <code>main</code> method and pass the <code>Month</code> object obtained as argument to the method you are calling. (2) Pass the string from the user to the method and convert to <code>Month</code> inside the method. (3) Code a separate method for reading the user input and converting it. This method would then return a <code>Month</code> object after having read the input through the scanner and converted."},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682194831,"post_id":76078060,"comment_id":134178029,"body_markdown":"also I&#39;m having a problem where im trying to switch for each case, but i keep getting &quot;January cannot be resolved to a variable&quot; when trying to pass in the user input for each case. I&#39;m using switch(Month.valueOf(birthMonth)) and I&#39;m unsure why this doesn&#39;t work","body":"also I&#39;m having a problem where im trying to switch for each case, but i keep getting &quot;January cannot be resolved to a variable&quot; when trying to pass in the user input for each case. I&#39;m using switch(Month.valueOf(birthMonth)) and I&#39;m unsure why this doesn&#39;t work"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682198644,"post_id":76078060,"comment_id":134178458,"body_markdown":"If you are using the built-in `Month` enum, the constants are named `JANUARY`, etc., in all uppercase (this follows the Java naming conventions). So you need `switch (Month.valueOf(birthMonth.toUpperCase()))` and then `case Month.JANUARY:`,, etc.","body":"If you are using the built-in <code>Month</code> enum, the constants are named <code>JANUARY</code>, etc., in all uppercase (this follows the Java naming conventions). So you need <code>switch (Month.valueOf(birthMonth.toUpperCase()))</code> and then <code>case Month.JANUARY:</code>,, etc."}],"answers":[{"comments":[{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682139320,"post_id":76078076,"comment_id":134172119,"body_markdown":"Thank you friend you just put together the two concepts I&#39;ve been reading about all night","body":"Thank you friend you just put together the two concepts I&#39;ve been reading about all night"},{"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"score":0,"creation_date":1682139709,"post_id":76078076,"comment_id":134172141,"body_markdown":"though when I do use the valueOf method to convert a string to the corresponding enum, it seems like that is causing an issue where my months are now in white text on VSC and I&#39;m not exactly sure why","body":"though when I do use the valueOf method to convert a string to the corresponding enum, it seems like that is causing an issue where my months are now in white text on VSC and I&#39;m not exactly sure why"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682152625,"post_id":76078076,"comment_id":134173069,"body_markdown":"Not knowing Visual Studio Code that doesn’t necessarily sound like a bad sign to me.","body":"Not knowing Visual Studio Code that doesn’t necessarily sound like a bad sign to me."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682139114,"creation_date":1682139114,"answer_id":76078076,"question_id":76078060,"body_markdown":"You can use the `valueOf` method on the `enum` type to convert a `String` to the corresponding enum.\r\n\r\n```java\r\nswitch (Month.valueOf(birthMonth)) {\r\ncase January -&gt; System.out.println(&quot;January&quot;); // or do something else...\r\n// etc...\r\n}\r\n```\r\n\r\nYou might also want to catch `IllegalArgumentException` in case the user enters an invalid month.","title":"How to combine scanner input and enum for months of the year?","body":"<p>You can use the <code>valueOf</code> method on the <code>enum</code> type to convert a <code>String</code> to the corresponding enum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (Month.valueOf(birthMonth)) {\ncase January -&gt; System.out.println(&quot;January&quot;); // or do something else...\n// etc...\n}\n</code></pre>\n<p>You might also want to catch <code>IllegalArgumentException</code> in case the user enters an invalid month.</p>\n"}],"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682152393,"creation_date":1682138643,"question_id":76078060,"body_markdown":"I&#39;m trying to play around with a program I made to tell you what your zodiac sign is and previously I was just running scannner inuput through if statements to determine the sign given birth month and birth day. Now my mentor has challenged me to use enum and switching between months of the year. My problem is conceptually I&#39;m very confused as to how to bring these two concepts together\r\n\r\nHere&#39;s my code below so far but I&#39;m really just shooting in the dark here\r\n```\r\nimport java.util.Scanner;\r\n\r\nenum Month {\r\n    \r\nJanuary,\r\nFebruary,\r\nMarch,\r\nApril,\r\nMay,\r\nJune,\r\nJuly,\r\nAugust,\r\nSeptember,\r\nOctober,\r\nNovember,\r\nDecember\r\n}\r\n\r\nclass MyStarSign3 {\r\n\r\n    Month month;\r\n\r\n    public EnumTest(Month month) {\r\n\r\n        this.month = month;\r\n    }\r\n\r\n    public void monthBorn() {\r\n        switch (month) {\r\n\r\n            case January:\r\n\r\n\r\n            case February:\r\n\r\n\r\n            case March:\r\n\r\n\r\n            case April:\r\n\r\n\r\n            case May:\r\n\r\n\r\n            case June: \r\n\r\n\r\n            case July:\r\n\r\n\r\n            case August:\r\n\r\n\r\n            case September:\r\n\r\n\r\n            case October:\r\n\r\n\r\n            case November:\r\n\r\n\r\n            case December:\r\n\r\n\r\n            default:\r\n\r\n\r\n                \r\n        }\r\n    }\r\n\r\n\r\n                public static void main(String[] args) {\r\n\r\n                        Scanner monthInput = new Scanner(System.in);\r\n\r\n                        String birthMonth = monthInput.nextLine();\r\n\r\n                }\r\n\r\n}\r\n```","title":"How to combine scanner input and enum for months of the year?","body":"<p>I'm trying to play around with a program I made to tell you what your zodiac sign is and previously I was just running scannner inuput through if statements to determine the sign given birth month and birth day. Now my mentor has challenged me to use enum and switching between months of the year. My problem is conceptually I'm very confused as to how to bring these two concepts together</p>\n<p>Here's my code below so far but I'm really just shooting in the dark here</p>\n<pre><code>import java.util.Scanner;\n\nenum Month {\n    \nJanuary,\nFebruary,\nMarch,\nApril,\nMay,\nJune,\nJuly,\nAugust,\nSeptember,\nOctober,\nNovember,\nDecember\n}\n\nclass MyStarSign3 {\n\n    Month month;\n\n    public EnumTest(Month month) {\n\n        this.month = month;\n    }\n\n    public void monthBorn() {\n        switch (month) {\n\n            case January:\n\n\n            case February:\n\n\n            case March:\n\n\n            case April:\n\n\n            case May:\n\n\n            case June: \n\n\n            case July:\n\n\n            case August:\n\n\n            case September:\n\n\n            case October:\n\n\n            case November:\n\n\n            case December:\n\n\n            default:\n\n\n                \n        }\n    }\n\n\n                public static void main(String[] args) {\n\n                        Scanner monthInput = new Scanner(System.in);\n\n                        String birthMonth = monthInput.nextLine();\n\n                }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"score":0,"creation_date":1439671193,"post_id":32029018,"comment_id":51959782,"body_markdown":"Why would you rather use Visual Studio?","body":"Why would you rather use Visual Studio?"},{"owner":{"account_id":3768276,"reputation":16542,"user_id":3131147,"accept_rate":84,"display_name":"AdamMc331"},"score":0,"creation_date":1439671338,"post_id":32029018,"comment_id":51959816,"body_markdown":"While your question is about importing an already existing project, there is a question regarding Android development in VS: http://stackoverflow.com/questions/1371939/how-can-i-use-ms-visual-studio-for-android-development","body":"While your question is about importing an already existing project, there is a question regarding Android development in VS: <a href=\"http://stackoverflow.com/questions/1371939/how-can-i-use-ms-visual-studio-for-android-development\" title=\"how can i use ms visual studio for android development\">stackoverflow.com/questions/1371939/&hellip;</a>"},{"owner":{"account_id":226622,"reputation":173,"user_id":487770,"display_name":"Joe&#39;s Morgue"},"score":0,"creation_date":1439681547,"post_id":32029018,"comment_id":51962342,"body_markdown":"I want to use VS because it can do cross platform development, which would be a definite bonus.  The first app I want to release is almost done in Java, and if I want to release it on an iDevice, most of my work should be done...","body":"I want to use VS because it can do cross platform development, which would be a definite bonus.  The first app I want to release is almost done in Java, and if I want to release it on an iDevice, most of my work should be done..."},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":3,"creation_date":1439788558,"post_id":32029018,"comment_id":51986412,"body_markdown":"You almost certainly have a fundamental misunderstanding about how this all works.","body":"You almost certainly have a fundamental misunderstanding about how this all works."},{"owner":{"account_id":3710243,"reputation":1642,"user_id":3087778,"accept_rate":75,"display_name":"neferpitou"},"score":0,"creation_date":1439816467,"post_id":32029018,"comment_id":52001399,"body_markdown":"Using Cross-platform is a nightmare in the long run, you cant even utilize the full potential of each device and you are only limited to some API&#39;s.","body":"Using Cross-platform is a nightmare in the long run, you cant even utilize the full potential of each device and you are only limited to some API&#39;s."},{"owner":{"account_id":141690,"reputation":1319,"user_id":2747755,"accept_rate":80,"display_name":"Andy Krouwel"},"score":0,"creation_date":1506958380,"post_id":32029018,"comment_id":80011882,"body_markdown":"Any advance on this? VS2015 and VS2017 support importing Eclipse projects, but not Android Studio so far as I can tell.","body":"Any advance on this? VS2015 and VS2017 support importing Eclipse projects, but not Android Studio so far as I can tell."}],"answers":[{"comments":[{"owner":{"account_id":18227467,"reputation":2156,"user_id":13266974,"display_name":"corn on the cob"},"score":0,"creation_date":1610039870,"post_id":65615052,"comment_id":116013116,"body_markdown":"can you provide more details?","body":"can you provide more details?"},{"owner":{"account_id":18148013,"reputation":81,"user_id":13201106,"display_name":"Maurice"},"score":0,"creation_date":1610040312,"post_id":65615052,"comment_id":116013321,"body_markdown":"Android Studio only supports IntelliJ and not Visual Studio, but you could rewrite the project in xamarin which is supported by visual studio.","body":"Android Studio only supports IntelliJ and not Visual Studio, but you could rewrite the project in xamarin which is supported by visual studio."},{"owner":{"account_id":18148013,"reputation":81,"user_id":13201106,"display_name":"Maurice"},"score":0,"creation_date":1610042051,"post_id":65615052,"comment_id":116014115,"body_markdown":"But it was the answer of the question","body":"But it was the answer of the question"}],"tags":[],"owner":{"account_id":18148013,"reputation":81,"user_id":13201106,"display_name":"Maurice"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610067088,"creation_date":1610032597,"answer_id":65615052,"question_id":32029018,"body_markdown":"No there is no way to convert it. Android Studio only supports IntelliJ and not Visual Studio, but you could rewrite the project in xamarin which is supported by visual studio. ","title":"Port android app from Android Studio to Microsoft Visual Studio","body":"<p>No there is no way to convert it. Android Studio only supports IntelliJ and not Visual Studio, but you could rewrite the project in xamarin which is supported by visual studio.</p>\n"},{"tags":[],"owner":{"account_id":25065837,"reputation":1,"user_id":18920181,"display_name":"Vic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650727383,"creation_date":1650727383,"answer_id":71980998,"question_id":32029018,"body_markdown":"Try VisualStudio Community, it&#39;s designed for cross-platform development. Use your &quot;gradlew&quot; files for project configuration.","title":"Port android app from Android Studio to Microsoft Visual Studio","body":"<p>Try VisualStudio Community, it's designed for cross-platform development. Use your &quot;gradlew&quot; files for project configuration.</p>\n"},{"tags":[],"owner":{"account_id":28199084,"reputation":11,"user_id":21553185,"display_name":"App Rank Portal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682152285,"creation_date":1682152285,"answer_id":76078706,"question_id":32029018,"body_markdown":"You can try transcoding it. However, to publish apps on different platforms, you need to sign up for app development accounts on those platforms and use the respective tools to publish apps. For example, if you want to publish your app on the Microsoft Store, you need to sign up for an app development account on Microsoft and use Visual Studio to publish the app.","title":"Port android app from Android Studio to Microsoft Visual Studio","body":"<p>You can try transcoding it. However, to publish apps on different platforms, you need to sign up for app development accounts on those platforms and use the respective tools to publish apps. For example, if you want to publish your app on the Microsoft Store, you need to sign up for an app development account on Microsoft and use Visual Studio to publish the app.</p>\n"}],"owner":{"account_id":226622,"reputation":173,"user_id":487770,"display_name":"Joe&#39;s Morgue"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2731,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1682152285,"creation_date":1439670306,"question_id":32029018,"body_markdown":"I have an app written in Android Studio, that I want to work on using Visual Studio.\r\n\r\nIs there a way to import my project into Visual Studio?","title":"Port android app from Android Studio to Microsoft Visual Studio","body":"<p>I have an app written in Android Studio, that I want to work on using Visual Studio.</p>\n\n<p>Is there a way to import my project into Visual Studio?</p>\n"},{"tags":["java","spring-boot","reflection","jdbctemplate"],"comments":[{"owner":{"account_id":229445,"reputation":22393,"user_id":492410,"accept_rate":57,"display_name":"ddewaele"},"score":0,"creation_date":1682150998,"post_id":76078587,"comment_id":134172942,"body_markdown":"It&#39;s unclear where you suffer performance and unclear what your use-case is (you want to dynamically select a number of attributes (between 1-160) and return a generic response object (like a map or something ?). Are these attributes simple @Column methods / do you have relationships on your entity ? What are the requirements for the response object ?","body":"It&#39;s unclear where you suffer performance and unclear what your use-case is (you want to dynamically select a number of attributes (between 1-160) and return a generic response object (like a map or something ?). Are these attributes simple @Column methods / do you have relationships on your entity ? What are the requirements for the response object ?"},{"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"score":0,"creation_date":1682151643,"post_id":76078587,"comment_id":134172984,"body_markdown":"Basically from the query output how can I construct a object Dynamially. Modified the input","body":"Basically from the query output how can I construct a object Dynamially. Modified the input"},{"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"score":0,"creation_date":1682152354,"post_id":76078587,"comment_id":134173047,"body_markdown":"HI @ddewaele\nI have modified the question for it to be more clear.","body":"HI @ddewaele I have modified the question for it to be more clear."},{"owner":{"account_id":229445,"reputation":22393,"user_id":492410,"accept_rate":57,"display_name":"ddewaele"},"score":0,"creation_date":1682233914,"post_id":76078587,"comment_id":134180897,"body_markdown":"and what&#39;s wrong with just returning a response object DTO where some of the fields are null ? how will you (or the client) decide what fields you are interested in ?. Seems like you are mixing 2 concepts here ... an ORM solution with a relatively tight coupling between the domain entities and the table, versus a standard SQL solution where you would just return a Map of key/value pairs","body":"and what&#39;s wrong with just returning a response object DTO where some of the fields are null ? how will you (or the client) decide what fields you are interested in ?. Seems like you are mixing 2 concepts here ... an ORM solution with a relatively tight coupling between the domain entities and the table, versus a standard SQL solution where you would just return a Map of key/value pairs"}],"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682152160,"creation_date":1682150253,"question_id":76078587,"body_markdown":"Below is my DTO object and I  am constructing SQL query based on the user selection.So,it can be having any set of properties from the DTO class.\r\n\r\n\r\n    Eg: Sample SQL queries: (Any combination)\r\n    select res.NAME from RESPONSE res ;\r\n    select res.NAME , res.CITY from RESPONSE res ; \r\n    select res.NAME , res.PRICE from RESPONSE res ;\r\n    ....\r\n    select res.* from RESPONSE res ; \r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;RESPONSE&quot;)    \r\n    public class Response{\r\n        \r\n        @Cloumn(&quot;NAME&quot;)\r\n        private String name;\r\n        @Cloumn(&quot;CITY&quot;)\r\n        private String city;\r\n        @Cloumn(&quot;AMOUNT&quot;)\r\n        private BigDecimal amount;\r\n        ...\r\n        @Cloumn(&quot;PRICE&quot;)\r\n        private BigDecimal price;\r\n        }\r\n        \r\n        List&lt;String&gt; userSelectionList=getUserSelectionList();\r\n        String sql=generateSqlBasedOnUserSelection();\r\n        List&lt;Response&gt; responseList=new ArrayList();\r\n        jdbcTemplate.query(sql,new RowCallBackHandler(){\r\n        \r\n        public void processRows(ResultSet resultSet) throws SqlException{\r\n         Response response=new Response();\r\n        //How will set the properties in Response object from ResultSet.\r\n    \r\n         responseList.add(response);\r\n    \r\n        }","title":"Set up properties dynamically in DTO object from the output of RowCallBackHandler in spring-boot application","body":"<p>Below is my DTO object and I  am constructing SQL query based on the user selection.So,it can be having any set of properties from the DTO class.</p>\n<pre><code>Eg: Sample SQL queries: (Any combination)\nselect res.NAME from RESPONSE res ;\nselect res.NAME , res.CITY from RESPONSE res ; \nselect res.NAME , res.PRICE from RESPONSE res ;\n....\nselect res.* from RESPONSE res ; \n\n\n@Entity\n@Table(name=&quot;RESPONSE&quot;)    \npublic class Response{\n    \n    @Cloumn(&quot;NAME&quot;)\n    private String name;\n    @Cloumn(&quot;CITY&quot;)\n    private String city;\n    @Cloumn(&quot;AMOUNT&quot;)\n    private BigDecimal amount;\n    ...\n    @Cloumn(&quot;PRICE&quot;)\n    private BigDecimal price;\n    }\n    \n    List&lt;String&gt; userSelectionList=getUserSelectionList();\n    String sql=generateSqlBasedOnUserSelection();\n    List&lt;Response&gt; responseList=new ArrayList();\n    jdbcTemplate.query(sql,new RowCallBackHandler(){\n    \n    public void processRows(ResultSet resultSet) throws SqlException{\n     Response response=new Response();\n    //How will set the properties in Response object from ResultSet.\n\n     responseList.add(response);\n\n    }\n</code></pre>\n"},{"tags":["java","database","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682016550,"post_id":76066897,"comment_id":134153617,"body_markdown":"Hello, please share the code of entity class Alumnos.","body":"Hello, please share the code of entity class Alumnos."},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682016997,"post_id":76066897,"comment_id":134153699,"body_markdown":"Added the class to the post, thank you.","body":"Added the class to the post, thank you."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682018765,"post_id":76066897,"comment_id":134154051,"body_markdown":"Entity class looks good. The table name is defined as &#39;alumnos&#39; lowercase. I wonder why HSQL says in the error message &#39;ALUMNOS&#39; uppercase. Maybe somewhere in persistence.xml this uppercase name is used?","body":"Entity class looks good. The table name is defined as &#39;alumnos&#39; lowercase. I wonder why HSQL says in the error message &#39;ALUMNOS&#39; uppercase. Maybe somewhere in persistence.xml this uppercase name is used?"},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682025965,"post_id":76066897,"comment_id":134155367,"body_markdown":"No, there isn&#39;t any. Added it to the post as well, for reference.","body":"No, there isn&#39;t any. Added it to the post as well, for reference."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682059596,"post_id":76066897,"comment_id":134159052,"body_markdown":"Which user has created the table &#39;alumnos&#39;? Was it &#39;root&#39;? If not then use the same user for connection. Or grant permission to root user for access to your tables. And also - is any specific schema defined?","body":"Which user has created the table &#39;alumnos&#39;? Was it &#39;root&#39;? If not then use the same user for connection. Or grant permission to root user for access to your tables. And also - is any specific schema defined?"},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682064467,"post_id":76066897,"comment_id":134160060,"body_markdown":"Yes, it&#39;s user root. I&#39;ve just given all privileges to root for the schema I&#39;m using but I keep getting the same exception.","body":"Yes, it&#39;s user root. I&#39;ve just given all privileges to root for the schema I&#39;m using but I keep getting the same exception."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1682077908,"post_id":76066897,"comment_id":134162914,"body_markdown":"OK. So the table is define in a schema. Please add schema as property hibernate.default_schema. Otherwise Hibernate uses the default - without schema.","body":"OK. So the table is define in a schema. Please add schema as property hibernate.default_schema. Otherwise Hibernate uses the default - without schema."},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682103391,"post_id":76066897,"comment_id":134168566,"body_markdown":"This is being tough! I basically broke my project and had to redo everything. I&#39;ve updated the code in my post. I noticed that I (previously) had 2 persistence units, and the name didn&#39;t match in my persistence.xml. I thought that fixing that would fix the problem, but I&#39;m getting the same exception. Right now, I only have 1 persistence unit.  and I (think) I am using the correct name. I&#39;ve also added the schema property as you said.","body":"This is being tough! I basically broke my project and had to redo everything. I&#39;ve updated the code in my post. I noticed that I (previously) had 2 persistence units, and the name didn&#39;t match in my persistence.xml. I thought that fixing that would fix the problem, but I&#39;m getting the same exception. Right now, I only have 1 persistence unit.  and I (think) I am using the correct name. I&#39;ve also added the schema property as you said."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1682103760,"post_id":76066897,"comment_id":134168627,"body_markdown":"HQSLDB is case sensitive, so `ALUMNOS` doesn&#39;t equal to alumnos. All table names must be exactly the same as the name in `@Table` annotation. Please, check it.","body":"HQSLDB is case sensitive, so <code>ALUMNOS</code> doesn&#39;t equal to alumnos. All table names must be exactly the same as the name in <code>@Table</code> annotation. Please, check it."},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682104220,"post_id":76066897,"comment_id":134168714,"body_markdown":"My @Table annotation specifies name=&quot;alumnos&quot; and my database table is &quot;alumnos&quot;.","body":"My @Table annotation specifies name=&quot;alumnos&quot; and my database table is &quot;alumnos&quot;."},{"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"score":0,"creation_date":1682126426,"post_id":76066897,"comment_id":134171371,"body_markdown":"Using the same query in the JPA console works perfectly fine, also.","body":"Using the same query in the JPA console works perfectly fine, also."}],"answers":[{"tags":[],"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682151104,"creation_date":1682151104,"answer_id":76078638,"question_id":76066897,"body_markdown":"Finally solved it.\r\n\r\nI was missing the datasource for the persistence unit, so tomee (obviously, but not so obvious to me 2 days ago) wasn&#39;t being able to find it. So I added to the persistence unit properties in persistence.xml\r\n\r\n    &lt;jta-data-source&gt;jdbc/dataresource&lt;/jta-data-source&gt;\r\n\r\nAnd added the datasource to tomee.xml in the conf folder of the tomee directory\r\n\r\n    &lt;Resource id=&quot;jdbc/dataresource&quot; type=&quot;javax.sql.DataSource&quot;&gt;\r\n    JdbcDriver = com.mysql.jdbc.Driver\r\n    JdbcUrl = jdbc:mysql://localhost:3306/notasexample\r\n    UserName = root\r\n    Password = \r\n    JtaManaged = true\r\n    &lt;/Resource&gt;\r\n\r\nI also needed to add the mysql connector jar in the lib folder of the tomee directory.\r\n\r\n","title":"org.hsqldb.HsqlException: user lacks privilege or object not found: ALUMNOS","body":"<p>Finally solved it.</p>\n<p>I was missing the datasource for the persistence unit, so tomee (obviously, but not so obvious to me 2 days ago) wasn't being able to find it. So I added to the persistence unit properties in persistence.xml</p>\n<pre><code>&lt;jta-data-source&gt;jdbc/dataresource&lt;/jta-data-source&gt;\n</code></pre>\n<p>And added the datasource to tomee.xml in the conf folder of the tomee directory</p>\n<pre><code>&lt;Resource id=&quot;jdbc/dataresource&quot; type=&quot;javax.sql.DataSource&quot;&gt;\nJdbcDriver = com.mysql.jdbc.Driver\nJdbcUrl = jdbc:mysql://localhost:3306/notasexample\nUserName = root\nPassword = \nJtaManaged = true\n&lt;/Resource&gt;\n</code></pre>\n<p>I also needed to add the mysql connector jar in the lib folder of the tomee directory.</p>\n"}],"owner":{"account_id":28362271,"reputation":11,"user_id":21692095,"display_name":"Kokomo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76078638,"answer_count":1,"score":0,"last_activity_date":1682151104,"creation_date":1682012569,"question_id":76066897,"body_markdown":"I am a student trying to build a simple web app using EJB and JPA in IntelliJ. Right now I&#39;m just trying to print the list of &quot;alumnos&quot; contained in my mysql db. This is my EJB\r\n\r\n```\r\n@Stateless\r\npublic class AlumnosBean {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public List&lt;Alumnos&gt; getAlumnos() {\r\n        Query query = entityManager.createQuery(&quot;SELECT a FROM Alumnos a&quot;);\r\n        List&lt;Alumnos&gt; resultList = query.getResultList();\r\n        return resultList;\r\n    }\r\n}\r\n```\r\n\r\nAnd my servlet\r\n\r\n\r\n```\r\n@WebServlet(name = &quot;ListAlumnos&quot;, value = &quot;/ListAlumnos&quot;)\r\npublic class ListAlumnos extends HttpServlet {\r\n    @EJB\r\n    private AlumnosBean alumnosBean;\r\n\r\n    public void init() {\r\n       \r\n    }\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        List&lt;Alumnos&gt; alumnos = alumnosBean.getAlumnos();\r\n        request.setAttribute(&quot;alumnos&quot;, alumnos);\r\n        request.getRequestDispatcher(&quot;/alumnos.jsp&quot;).forward(request, response);\r\n    }\r\n\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\nclass Alumnos\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;alumnos&quot;, schema = &quot;notasexample&quot;)\r\npublic class Alumnos {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Size(max = 25)\r\n    @NotNull\r\n    @Column(name = &quot;nombre&quot;, nullable = false, length = 25)\r\n    private String nombre;\r\n\r\n    @Size(max = 25)\r\n    @NotNull\r\n    @Column(name = &quot;nom_user&quot;, nullable = false, length = 25)\r\n    private String nomUser;\r\n\r\n    @Size(max = 25)\r\n    @NotNull\r\n    @Column(name = &quot;password&quot;, nullable = false, length = 25)\r\n    private String password;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;nota&quot;, nullable = false)\r\n    private Float nota;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;modulo&quot;, nullable = false)\r\n    private Integer modulo;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNombre() {\r\n        return nombre;\r\n    }\r\n\r\n    public void setNombre(String nombre) {\r\n        this.nombre = nombre;\r\n    }\r\n\r\n    public String getNomUser() {\r\n        return nomUser;\r\n    }\r\n\r\n    public void setNomUser(String nomUser) {\r\n        this.nomUser = nomUser;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Float getNota() {\r\n        return nota;\r\n    }\r\n\r\n    public void setNota(Float nota) {\r\n        this.nota = nota;\r\n    }\r\n\r\n    public Integer getModulo() {\r\n        return modulo;\r\n    }\r\n\r\n    public void setModulo(Integer modulo) {\r\n        this.modulo = modulo;\r\n    }\r\n\r\n}\r\n```\r\npersistence.xml\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;CRUDWeb&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.car.crudweb.entities.Alumnos&lt;/class&gt;\r\n        &lt;class&gt;com.car.crudweb.entities.Historial&lt;/class&gt;\r\n        &lt;class&gt;com.car.crudweb.entities.Modulos&lt;/class&gt;\r\n        &lt;class&gt;com.car.crudweb.entities.Profesores&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/notasexample&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;none&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;notasexample&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nI get a nested exception \r\n&gt; jakarta.ejb.EJBException: The bean encountered a non-application exception; nested exception is: \r\n\tjakarta.persistence.PersistenceException: Converting `org.hibernate.exception.SQLGrammarException` to JPA `PersistenceException` : could not prepare statement\r\n\r\nroot cause\r\n&gt; org.hsqldb.HsqlException: user lacks privilege or object not found: ALUMNOS\r\n\r\nI do have a table called &quot;alumnos&quot; in my database and my persistence.xml file gives root access. I&#39;ve granted all privileges to root. \r\n\r\nI&#39;ve also used the JPA console to execute the same query I&#39;m using in the EJB and it works perfectly fine. It returns the alumnos contained in my db.\r\n\r\nI don&#39;t know what&#39;s wrong. I&#39;ve been searching online for similar problems but haven&#39;t found anything that works for me. \r\n","title":"org.hsqldb.HsqlException: user lacks privilege or object not found: ALUMNOS","body":"<p>I am a student trying to build a simple web app using EJB and JPA in IntelliJ. Right now I'm just trying to print the list of &quot;alumnos&quot; contained in my mysql db. This is my EJB</p>\n<pre><code>@Stateless\npublic class AlumnosBean {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public List&lt;Alumnos&gt; getAlumnos() {\n        Query query = entityManager.createQuery(&quot;SELECT a FROM Alumnos a&quot;);\n        List&lt;Alumnos&gt; resultList = query.getResultList();\n        return resultList;\n    }\n}\n</code></pre>\n<p>And my servlet</p>\n<pre><code>@WebServlet(name = &quot;ListAlumnos&quot;, value = &quot;/ListAlumnos&quot;)\npublic class ListAlumnos extends HttpServlet {\n    @EJB\n    private AlumnosBean alumnosBean;\n\n    public void init() {\n       \n    }\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        List&lt;Alumnos&gt; alumnos = alumnosBean.getAlumnos();\n        request.setAttribute(&quot;alumnos&quot;, alumnos);\n        request.getRequestDispatcher(&quot;/alumnos.jsp&quot;).forward(request, response);\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>class Alumnos</p>\n<pre><code>@Entity\n@Table(name = &quot;alumnos&quot;, schema = &quot;notasexample&quot;)\npublic class Alumnos {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @Size(max = 25)\n    @NotNull\n    @Column(name = &quot;nombre&quot;, nullable = false, length = 25)\n    private String nombre;\n\n    @Size(max = 25)\n    @NotNull\n    @Column(name = &quot;nom_user&quot;, nullable = false, length = 25)\n    private String nomUser;\n\n    @Size(max = 25)\n    @NotNull\n    @Column(name = &quot;password&quot;, nullable = false, length = 25)\n    private String password;\n\n    @NotNull\n    @Column(name = &quot;nota&quot;, nullable = false)\n    private Float nota;\n\n    @NotNull\n    @Column(name = &quot;modulo&quot;, nullable = false)\n    private Integer modulo;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public String getNomUser() {\n        return nomUser;\n    }\n\n    public void setNomUser(String nomUser) {\n        this.nomUser = nomUser;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Float getNota() {\n        return nota;\n    }\n\n    public void setNota(Float nota) {\n        this.nota = nota;\n    }\n\n    public Integer getModulo() {\n        return modulo;\n    }\n\n    public void setModulo(Integer modulo) {\n        this.modulo = modulo;\n    }\n\n}\n</code></pre>\n<p>persistence.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n    &lt;persistence-unit name=&quot;CRUDWeb&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.car.crudweb.entities.Alumnos&lt;/class&gt;\n        &lt;class&gt;com.car.crudweb.entities.Historial&lt;/class&gt;\n        &lt;class&gt;com.car.crudweb.entities.Modulos&lt;/class&gt;\n        &lt;class&gt;com.car.crudweb.entities.Profesores&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/notasexample&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.scripts.action&quot; value=&quot;none&quot;/&gt;\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;notasexample&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I get a nested exception</p>\n<blockquote>\n<p>jakarta.ejb.EJBException: The bean encountered a non-application exception; nested exception is:\njakarta.persistence.PersistenceException: Converting <code>org.hibernate.exception.SQLGrammarException</code> to JPA <code>PersistenceException</code> : could not prepare statement</p>\n</blockquote>\n<p>root cause</p>\n<blockquote>\n<p>org.hsqldb.HsqlException: user lacks privilege or object not found: ALUMNOS</p>\n</blockquote>\n<p>I do have a table called &quot;alumnos&quot; in my database and my persistence.xml file gives root access. I've granted all privileges to root.</p>\n<p>I've also used the JPA console to execute the same query I'm using in the EJB and it works perfectly fine. It returns the alumnos contained in my db.</p>\n<p>I don't know what's wrong. I've been searching online for similar problems but haven't found anything that works for me.</p>\n"},{"tags":["java","spring","file","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682150984,"creation_date":1682150984,"answer_id":76078632,"question_id":76078021,"body_markdown":"According to the error stack message , there are may be some potential issues \r\n- pls ensure class ```File```  which in your code snippet is localated at  package path ``` java.io ```, Noticed that the message ```The PluginProtos.CodeGeneratorResponse.File(String)``` , it seems like you had been a wrong way in import ```File``` package .\r\n- Checkout the ```File path```,make sure the path ```PathToProducts + imageFile.getOriginalFilename()``` is available ; \r\n\r\nProvided more infomation or minimum operational demo will be more efficient and accurate  for yout issue!","title":"The constructor PluginProtos.CodeGeneratorResponse.File(String) is undefined","body":"<p>According to the error stack message , there are may be some potential issues</p>\n<ul>\n<li>pls ensure class <code>File</code>  which in your code snippet is localated at  package path <code>java.io</code>, Noticed that the message <code>The PluginProtos.CodeGeneratorResponse.File(String)</code> , it seems like you had been a wrong way in import <code>File</code> package .</li>\n<li>Checkout the <code>File path</code>,make sure the path <code>PathToProducts + imageFile.getOriginalFilename()</code> is available ;</li>\n</ul>\n<p>Provided more infomation or minimum operational demo will be more efficient and accurate  for yout issue!</p>\n"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76078632,"answer_count":1,"score":0,"last_activity_date":1682150984,"creation_date":1682137560,"question_id":76078021,"body_markdown":"i have an error when i try to create &quot;File fileSave = new File()&quot; I get the error:\r\n&quot;The PluginProtos.CodeGeneratorResponse.File(String) constructor is undefined&quot;. please help me:\r\n\r\n\r\n\r\nthis is my code:\r\n```\r\n    public String UpLoadFile(MultipartHttpServletRequest request) {\r\n    \tString PathToProducts = servletContext.getRealPath(&quot;/resources/Image/products/&quot;);\r\n    \tIterator&lt;String&gt; imageName = request.getFileNames();\r\n    \tMultipartFile imageFile =request.getFile(imageName.next());\r\n    \t\r\n    \tFile fileSave = new File(PathToProducts + imageFile.getOriginalFilename());\r\n    \t\r\n    \t\r\n    \treturn&quot;&quot;;\r\n    }\r\n```","title":"The constructor PluginProtos.CodeGeneratorResponse.File(String) is undefined","body":"<p>i have an error when i try to create &quot;File fileSave = new File()&quot; I get the error:\n&quot;The PluginProtos.CodeGeneratorResponse.File(String) constructor is undefined&quot;. please help me:</p>\n<p>this is my code:</p>\n<pre><code>    public String UpLoadFile(MultipartHttpServletRequest request) {\n        String PathToProducts = servletContext.getRealPath(&quot;/resources/Image/products/&quot;);\n        Iterator&lt;String&gt; imageName = request.getFileNames();\n        MultipartFile imageFile =request.getFile(imageName.next());\n        \n        File fileSave = new File(PathToProducts + imageFile.getOriginalFilename());\n        \n        \n        return&quot;&quot;;\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","amazon-cloudwatch"],"owner":{"account_id":10290120,"reputation":158,"user_id":7592111,"accept_rate":83,"display_name":"A.Learn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682150019,"creation_date":1682150019,"question_id":76078581,"body_markdown":"I used to save my LogStreamId of lambda in database for co-relation of logStreamId with a business event.\r\nWhen I started using AWS Snap_Start feature of AWS lambda logStreamId is set to null and I guess reason is following -\r\n\r\n&gt; AWS_LAMBDA_LOG_GROUP_NAME, AWS_LAMBDA_LOG_STREAM_NAME – The name of\r\n&gt; the Amazon CloudWatch Logs group and stream for the function. The\r\n&gt; AWS_LAMBDA_LOG_GROUP_NAME and AWS_LAMBDA_LOG_STREAM_NAME environment\r\n&gt; variables are not available in Lambda SnapStart functions.\r\n\r\nSo my question is how do I get cloudwatch logStreamId in SnapStart lambda functions ","title":"How do I get LogStreamId in snap_start AWS lambda functions","body":"<p>I used to save my LogStreamId of lambda in database for co-relation of logStreamId with a business event.\nWhen I started using AWS Snap_Start feature of AWS lambda logStreamId is set to null and I guess reason is following -</p>\n<blockquote>\n<p>AWS_LAMBDA_LOG_GROUP_NAME, AWS_LAMBDA_LOG_STREAM_NAME – The name of\nthe Amazon CloudWatch Logs group and stream for the function. The\nAWS_LAMBDA_LOG_GROUP_NAME and AWS_LAMBDA_LOG_STREAM_NAME environment\nvariables are not available in Lambda SnapStart functions.</p>\n</blockquote>\n<p>So my question is how do I get cloudwatch logStreamId in SnapStart lambda functions</p>\n"},{"tags":["java","parsing","exception","numberformatexception"],"comments":[{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":0,"creation_date":1340392554,"post_id":11162671,"comment_id":14640025,"body_markdown":"This isn&#39;t necessarily bad practice, but it may help to show us what the input looks like. IMO, you can **never** do enough error checking.","body":"This isn&#39;t necessarily bad practice, but it may help to show us what the input looks like. IMO, you can <b>never</b> do enough error checking."},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1340392558,"post_id":11162671,"comment_id":14640028,"body_markdown":"I think it&#39;s ugly and difficult to read, but there isn&#39;t a better solution. That&#39;s one of the reasons I don&#39;t like checked exceptions http://c2.com/cgi/wiki?TheProblemWithCheckedExceptions","body":"I think it&#39;s ugly and difficult to read, but there isn&#39;t a better solution. That&#39;s one of the reasons I don&#39;t like checked exceptions <a href=\"http://c2.com/cgi/wiki?TheProblemWithCheckedExceptions\" rel=\"nofollow noreferrer\">c2.com/cgi/wiki?TheProblemWithCheckedExceptions</a>"},{"owner":{"account_id":164832,"reputation":6558,"user_id":387852,"accept_rate":71,"display_name":"Michael McGowan"},"score":1,"creation_date":1340393927,"post_id":11162671,"comment_id":14640529,"body_markdown":"You might find [this question](http://stackoverflow.com/q/5378005/387852) is relevant.","body":"You might find <a href=\"http://stackoverflow.com/q/5378005/387852\">this question</a> is relevant."},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1340723317,"post_id":11162671,"comment_id":14718784,"body_markdown":"Did you ever resolve this issue?","body":"Did you ever resolve this issue?"},{"owner":{"display_name":"user1266094"},"score":0,"creation_date":1340831265,"post_id":11162671,"comment_id":14759990,"body_markdown":"@AlexLockwood I was still hoping for new answers...with no luck :) So i will wrap the exception in a method boolean isHex(String str), just for clarity :)","body":"@AlexLockwood I was still hoping for new answers...with no luck :) So i will wrap the exception in a method boolean isHex(String str), just for clarity :)"},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1340831326,"post_id":11162671,"comment_id":14760011,"body_markdown":"@integeruser sounds good. this sounds like something you don&#39;t have to worry too much about anyway... just do it whichever way you think looks best :)","body":"@integeruser sounds good. this sounds like something you don&#39;t have to worry too much about anyway... just do it whichever way you think looks best :)"}],"answers":[{"tags":[],"owner":{"account_id":189531,"reputation":22741,"user_id":428916,"accept_rate":69,"display_name":"Rocky Pulley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340392489,"creation_date":1340392489,"answer_id":11162698,"question_id":11162671,"body_markdown":"It depends on the context, in many cases it&#39;s bad but if it&#39;s going to be a place that&#39;s very likely to have bad input and you have a default to set it to then you would want to catch it.","title":"Is catching NumberFormatException a bad practice?","body":"<p>It depends on the context, in many cases it's bad but if it's going to be a place that's very likely to have bad input and you have a default to set it to then you would want to catch it.</p>\n"},{"comments":[{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1340393434,"post_id":11162704,"comment_id":14640337,"body_markdown":"I don&#39;t agree that it&#39;s &#39;definitely&#39; better to catch more explicit exceptions.  If some method can throw a number of exceptions and you can&#39;t adequately recover from any of them, then why bother with anything other than catching &#39;Exception&#39; (or whatever) and logging it.  I do agree with the 2nd quoted item, &quot;a method should only catch an exception...&quot;","body":"I don&#39;t agree that it&#39;s &#39;definitely&#39; better to catch more explicit exceptions.  If some method can throw a number of exceptions and you can&#39;t adequately recover from any of them, then why bother with anything other than catching &#39;Exception&#39; (or whatever) and logging it.  I do agree with the 2nd quoted item, &quot;a method should only catch an exception...&quot;"},{"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"score":0,"creation_date":1340394690,"post_id":11162704,"comment_id":14640791,"body_markdown":"I don&#39;t think that your answer really addresses the question, which **isn&#39;t** about _how/when should I use exceptions_, but about using Exceptions when it might be more appropriate to use e.g. if/else.","body":"I don&#39;t think that your answer really addresses the question, which <b>isn&#39;t</b> about <i>how/when should I use exceptions</i>, but about using Exceptions when it might be more appropriate to use e.g. if/else."}],"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1340392537,"creation_date":1340392537,"answer_id":11162704,"question_id":11162671,"body_markdown":"Yours is the second question I&#39;ve seen today asking about this.\r\n\r\nNo, it&#39;s perfectly appropriate to catch this exception.\r\n\r\nAnd it&#39;s *definitely* better form to catch a *more explicit* exception (like &quot;NumberFormatException&quot;) than a generic &quot;Exception&quot;.\r\n\r\nIMHO...\r\n\r\nPS:\r\n*Where* you put the exception: at this level, or higher-up, is a different question.\r\n\r\nThe rule of thumb is &quot;the lowest level where you know what happened, and how best to recover.&quot;\r\n\r\nOr, to put it differently (quoting from a link below):\r\n\r\n  &quot;A method should only catch an exception when it can handle it in some sensible way.&quot;\r\n\r\nHere&#39;s some discussion:\r\n\r\n  * https://stackoverflow.com/questions/10977482/at-what-level-and-how-is-appropriate-to-catch-exceptions\r\n\r\n  * https://stackoverflow.com/questions/2737328/why-should-i-not-wrap-every-block-in-try-catch\r\n\r\n","title":"Is catching NumberFormatException a bad practice?","body":"<p>Yours is the second question I've seen today asking about this.</p>\n\n<p>No, it's perfectly appropriate to catch this exception.</p>\n\n<p>And it's <em>definitely</em> better form to catch a <em>more explicit</em> exception (like \"NumberFormatException\") than a generic \"Exception\".</p>\n\n<p>IMHO...</p>\n\n<p>PS:\n<em>Where</em> you put the exception: at this level, or higher-up, is a different question.</p>\n\n<p>The rule of thumb is \"the lowest level where you know what happened, and how best to recover.\"</p>\n\n<p>Or, to put it differently (quoting from a link below):</p>\n\n<p>\"A method should only catch an exception when it can handle it in some sensible way.\"</p>\n\n<p>Here's some discussion:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/10977482/at-what-level-and-how-is-appropriate-to-catch-exceptions\">At what level and how is appropriate to catch exceptions</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/2737328/why-should-i-not-wrap-every-block-in-try-catch\">Why should I not wrap every block in &quot;try&quot;-&quot;catch&quot;?</a></p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1340392725,"post_id":11162731,"comment_id":14640094,"body_markdown":"By the way, for those of you who develop for Android, I know you should use the `android:inputType` attribute instead... don&#39;t hate.","body":"By the way, for those of you who develop for Android, I know you should use the <code>android:inputType</code> attribute instead... don&#39;t hate."}],"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340395345,"creation_date":1340392681,"answer_id":11162731,"question_id":11162671,"body_markdown":"No, it&#39;s not &quot;bad practice&quot;. It just depends on the situation. \r\n\r\nFor example, as an Android, if the user inputs a string &quot;123a&quot; into a text box that is only supposed to accept integers, and is subsequently parsed, an exception will be thrown causing the application to crash. In this case, it would make perfect sense to catch the exception and prompt the user to re-enter the text.","title":"Is catching NumberFormatException a bad practice?","body":"<p>No, it's not \"bad practice\". It just depends on the situation. </p>\n\n<p>For example, as an Android, if the user inputs a string \"123a\" into a text box that is only supposed to accept integers, and is subsequently parsed, an exception will be thrown causing the application to crash. In this case, it would make perfect sense to catch the exception and prompt the user to re-enter the text.</p>\n"},{"comments":[{"owner":{"account_id":395472,"reputation":12714,"user_id":758446,"accept_rate":93,"display_name":"BlackVegetable"},"score":1,"creation_date":1340393301,"post_id":11162838,"comment_id":14640285,"body_markdown":"I suppose your first statement is true, however, almost all code used in a professional environment will have bugs either initially, or as it is added to.  Thus, how good your code looks does matter, or rather, how *readable* your code is matters.","body":"I suppose your first statement is true, however, almost all code used in a professional environment will have bugs either initially, or as it is added to.  Thus, how good your code looks does matter, or rather, how <i>readable</i> your code is matters."}],"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340393557,"creation_date":1340393126,"answer_id":11162838,"question_id":11162671,"body_markdown":"Its `Not about how good you code looks`, but `how good your code works`..........\r\n`Ya offcourse it should be readable,` **As famously said...**\r\n\r\n**Any fool can write a code that computer can understand, but only great programmers write codes that humans can understand.**\r\n\r\nIts perfectly fine in some cases where, you need to have such kind of exceptions in place.\r\n\r\n  `When you want to catch multiple exceptions which belong to the same inheritance tree,` ` then create a try block, and multiple catch blocks from more specific to more ` `abstract.`\r\n\r\n\r\neg:\r\n\r\n    `Animal &lt;--- Carnivores &lt;--- Dog`\r\n\r\n  Now suppose there is a **DogException, CarnivoresException, AnimalException**.\r\n\r\n  Then it must be like this,\r\n\r\n   \r\n\r\n    try{\r\n    \r\n               // your code \r\n    \r\n         }\r\n          catch(DogException d){}\r\n          catch(CarnivoresException c){}\r\n          catch( AnimalException a){}\r\n\r\n**Above catches has been cascaded from more specific to more abstract so that the exception is caught to it very cause.**\r\n  \r\n**If there is no inheritance, then catch can be in any order...**\r\n\r\n\r\n\r\n","title":"Is catching NumberFormatException a bad practice?","body":"<p>Its <code>Not about how good you code looks</code>, but <code>how good your code works</code>..........\n<code>Ya offcourse it should be readable,</code> <strong>As famously said...</strong></p>\n\n<p><strong>Any fool can write a code that computer can understand, but only great programmers write codes that humans can understand.</strong></p>\n\n<p>Its perfectly fine in some cases where, you need to have such kind of exceptions in place.</p>\n\n<p><code>When you want to catch multiple exceptions which belong to the same inheritance tree,</code> <code>then create a try block, and multiple catch blocks from more specific to more</code> <code>abstract.</code></p>\n\n<p>eg:</p>\n\n<pre><code>`Animal &lt;--- Carnivores &lt;--- Dog`\n</code></pre>\n\n<p>Now suppose there is a <strong>DogException, CarnivoresException, AnimalException</strong>.</p>\n\n<p>Then it must be like this,</p>\n\n<pre><code>try{\n\n           // your code \n\n     }\n      catch(DogException d){}\n      catch(CarnivoresException c){}\n      catch( AnimalException a){}\n</code></pre>\n\n<p><strong>Above catches has been cascaded from more specific to more abstract so that the exception is caught to it very cause.</strong></p>\n\n<p><strong>If there is no inheritance, then catch can be in any order...</strong></p>\n"},{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1340395182,"post_id":11163057,"comment_id":14640971,"body_markdown":"&quot;Exception handling is Good&quot;.  The other person who asked earlier today explictly asked if simply having a try/catch block could be considered &quot;ugly&quot;.  No!  Nothing could be further from the truth.  In this particular case, I strongly believe an exception handler is both appropriate ... and ideal.  For several different reasons. IMHO...","body":"&quot;Exception handling is Good&quot;.  The other person who asked earlier today explictly asked if simply having a try/catch block could be considered &quot;ugly&quot;.  No!  Nothing could be further from the truth.  In this particular case, I strongly believe an exception handler is both appropriate ... and ideal.  For several different reasons. IMHO..."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1340395335,"post_id":11163057,"comment_id":14641015,"body_markdown":"PS: I agree with your statement about &quot;exceptional conditions&quot;.  Some people think exceptions should only be used for &quot;errors&quot;.  No: they can usefully be used in *any* scenario that doesn&#39;t conform to &quot;the standard flow&quot;.  Good point ;)!","body":"PS: I agree with your statement about &quot;exceptional conditions&quot;.  Some people think exceptions should only be used for &quot;errors&quot;.  No: they can usefully be used in <i>any</i> scenario that doesn&#39;t conform to &quot;the standard flow&quot;.  Good point ;)!"}],"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1340831547,"creation_date":1340394286,"answer_id":11163057,"question_id":11162671,"body_markdown":"In your case I would prefer something like an `isHexDigit` method to using `NumberFormatException`, unless there are some assumptions that you can make about the format of your data - from your description it seems that there aren&#39;t such assumptions about when you&#39;ll encounter hex numbers vs. non-hex numbers.\r\n\r\nThis is because exceptions should be used to handle _exceptional conditions_, and if the expectation from your data is: _either hex digits or non-hex digits, separated by spaces_, then there&#39;s nothing exceptional about encountering a token that is other than a hex digit. \r\n\r\nFurthermore using the Exception _does_ make the code less readable: without comments about the data, it hides the fact that interspersed non-hex digits are acceptable and expected input.\r\n\r\nHaving stated that preference, I might use exception handling to handle this case, and I certainly see plenty of code that does so. Lots of good functionality is wrapped up for you in that combination of decode/parseInt/NumberFormatException. I wouldn&#39;t use this without an explicit comment that clearly explains what I&#39;m doing.","title":"Is catching NumberFormatException a bad practice?","body":"<p>In your case I would prefer something like an <code>isHexDigit</code> method to using <code>NumberFormatException</code>, unless there are some assumptions that you can make about the format of your data - from your description it seems that there aren't such assumptions about when you'll encounter hex numbers vs. non-hex numbers.</p>\n\n<p>This is because exceptions should be used to handle <em>exceptional conditions</em>, and if the expectation from your data is: <em>either hex digits or non-hex digits, separated by spaces</em>, then there's nothing exceptional about encountering a token that is other than a hex digit. </p>\n\n<p>Furthermore using the Exception <em>does</em> make the code less readable: without comments about the data, it hides the fact that interspersed non-hex digits are acceptable and expected input.</p>\n\n<p>Having stated that preference, I might use exception handling to handle this case, and I certainly see plenty of code that does so. Lots of good functionality is wrapped up for you in that combination of decode/parseInt/NumberFormatException. I wouldn't use this without an explicit comment that clearly explains what I'm doing.</p>\n"},{"comments":[{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1340464354,"post_id":11163309,"comment_id":14653288,"body_markdown":"@integeruser, if a wrong input doesn&#39;t exist, then of course your code is ok as written above... in fact, i don&#39;t believe there is any other possible way you can avoid a program crash without handling the `NumberFormatException`... can you please clarify what the problem is?","body":"@integeruser, if a wrong input doesn&#39;t exist, then of course your code is ok as written above... in fact, i don&#39;t believe there is any other possible way you can avoid a program crash without handling the <code>NumberFormatException</code>... can you please clarify what the problem is?"},{"owner":{"display_name":"user1266094"},"score":0,"creation_date":1340466663,"post_id":11163309,"comment_id":14653796,"body_markdown":"i have to check if a string is a hex number or not. Yes my code works, but i find it ugly and i don&#39;t think it is the best approach. See pb2q&#39;s answer.","body":"i have to check if a string is a hex number or not. Yes my code works, but i find it ugly and i don&#39;t think it is the best approach. See pb2q&#39;s answer."},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1340467112,"post_id":11163309,"comment_id":14653915,"body_markdown":"@integeruser, I agree with you in that the &quot;exception handling&quot; aspect of it is can look ugly, but there is no way to avoid it in most situations. one way you *can* make your code a bit prettier (as pp2q described as well) is by wrapping your code in a helper method of some sorts. that way you separate the functionality of your methods... methods that serve one purpose won&#39;t be all cluttered up with exception catching/handling. not sure if i am making sense right now, but hopefully im getting my point across haha","body":"@integeruser, I agree with you in that the &quot;exception handling&quot; aspect of it is can look ugly, but there is no way to avoid it in most situations. one way you <i>can</i> make your code a bit prettier (as pp2q described as well) is by wrapping your code in a helper method of some sorts. that way you separate the functionality of your methods... methods that serve one purpose won&#39;t be all cluttered up with exception catching/handling. not sure if i am making sense right now, but hopefully im getting my point across haha"},{"owner":{"display_name":"user1266094"},"score":0,"creation_date":1340469462,"post_id":11163309,"comment_id":14654421,"body_markdown":"i agree with you :) and i think i will wrapper the exception in a method. What i find unreasonable is that these methods like isInt or isHex aren&#39;t already included in some Java classes :P","body":"i agree with you :) and i think i will wrapper the exception in a method. What i find unreasonable is that these methods like isInt or isHex aren&#39;t already included in some Java classes :P"},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1340469570,"post_id":11163309,"comment_id":14654438,"body_markdown":"Yes, well... fortunately for you the methods provided in the `NumberUtils` class are extremely simple, for the most part. I wouldn&#39;t even go as far as importing these classes into your project... I&#39;d just copy and paste the methods you need directly into your code, or in some sort of utility class, etc. Let me know what you end up doing :)","body":"Yes, well... fortunately for you the methods provided in the <code>NumberUtils</code> class are extremely simple, for the most part. I wouldn&#39;t even go as far as importing these classes into your project... I&#39;d just copy and paste the methods you need directly into your code, or in some sort of utility class, etc. Let me know what you end up doing :)"}],"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1682149560,"creation_date":1340395334,"answer_id":11163309,"question_id":11162671,"body_markdown":"Exception handling is an integral part (and one of the design goals) of the Java programming language... you shouldn&#39;t cast them off just because you think they are &quot;ugly&quot;.\r\n\r\nThat said, if you want a simple and readable way to handle `NumberFormatException`s, you might consider using the [`NumberUtils`](http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/math/NumberUtils.html#toInt(java.lang.String,%20int)) class instead. \r\n\r\nThe `toInt(String str, int defaultValue)` method converts a `String` to an `int`, returning a default value if the conversion fails. If the string is `null`, the default value is returned.\r\n\r\n     NumberUtils.toInt(null, 1) = 1\r\n     NumberUtils.toInt(&quot;&quot;, 1)   = 1\r\n     NumberUtils.toInt(&quot;1&quot;, 0)  = 1\r\n\r\nThe method encapsulates exception catching and handling, as seen in the [source code](http://grepcode.com/file/repo1.maven.org/maven2/commons-lang/commons-lang/2.3/org/apache/commons/lang/math/NumberUtils.java#NumberUtils.toInt%28java.lang.String%2Cint%29) below. As a result, the client only needs to make a single method call.\r\n\r\n    public static int toInt(String str, int defaultValue) {         \r\n        if(str == null) {\r\n            return defaultValue;\r\n        }\r\n        try {\r\n            return Integer.parseInt(str);\r\n        } catch (NumberFormatException nfe) {\r\n            return defaultValue;\r\n        }\r\n    }","title":"Is catching NumberFormatException a bad practice?","body":"<p>Exception handling is an integral part (and one of the design goals) of the Java programming language... you shouldn't cast them off just because you think they are &quot;ugly&quot;.</p>\n<p>That said, if you want a simple and readable way to handle <code>NumberFormatException</code>s, you might consider using the <a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/math/NumberUtils.html#toInt(java.lang.String,%20int)\" rel=\"nofollow noreferrer\"><code>NumberUtils</code></a> class instead.</p>\n<p>The <code>toInt(String str, int defaultValue)</code> method converts a <code>String</code> to an <code>int</code>, returning a default value if the conversion fails. If the string is <code>null</code>, the default value is returned.</p>\n<pre><code> NumberUtils.toInt(null, 1) = 1\n NumberUtils.toInt(&quot;&quot;, 1)   = 1\n NumberUtils.toInt(&quot;1&quot;, 0)  = 1\n</code></pre>\n<p>The method encapsulates exception catching and handling, as seen in the <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/commons-lang/commons-lang/2.3/org/apache/commons/lang/math/NumberUtils.java#NumberUtils.toInt%28java.lang.String%2Cint%29\" rel=\"nofollow noreferrer\">source code</a> below. As a result, the client only needs to make a single method call.</p>\n<pre><code>public static int toInt(String str, int defaultValue) {         \n    if(str == null) {\n        return defaultValue;\n    }\n    try {\n        return Integer.parseInt(str);\n    } catch (NumberFormatException nfe) {\n        return defaultValue;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":419305,"reputation":3118,"user_id":796401,"display_name":"RalphChapin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340395765,"creation_date":1340395765,"answer_id":11163398,"question_id":11162671,"body_markdown":"It&#39;s the best you can do.  A method is either going to return some kind of success/error indicator or its going to throw an exception, it&#39;s just a question of which is most convenient.  Here Sun&#39;s made the decision for us, so no need for a debate.\r\n\r\nWhat does rather bug me about this is that the exception is going to include a full stack trace!  In your particular case, if you are reading millions of these strings, you _will_ notice the (completely unnecessary) poor performance.  If it matters to you, you might want to consider writing your own method (you can use the Sun code as a guide.)  Then you can decide for yourself whether you want to use an exception or not.  If you do, keep a static copy of the exception handy and always throw that to save allocation time.  And override `fillInStackTrace` so it does nothing and you don&#39;t have a meaningless stack trace in your exception.","title":"Is catching NumberFormatException a bad practice?","body":"<p>It's the best you can do.  A method is either going to return some kind of success/error indicator or its going to throw an exception, it's just a question of which is most convenient.  Here Sun's made the decision for us, so no need for a debate.</p>\n\n<p>What does rather bug me about this is that the exception is going to include a full stack trace!  In your particular case, if you are reading millions of these strings, you <em>will</em> notice the (completely unnecessary) poor performance.  If it matters to you, you might want to consider writing your own method (you can use the Sun code as a guide.)  Then you can decide for yourself whether you want to use an exception or not.  If you do, keep a static copy of the exception handy and always throw that to save allocation time.  And override <code>fillInStackTrace</code> so it does nothing and you don't have a meaningless stack trace in your exception.</p>\n"}],"owner":{"display_name":"user1266094"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2508,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":11163309,"answer_count":7,"score":10,"last_activity_date":1682149560,"creation_date":1340392356,"question_id":11162671,"body_markdown":"I have to parse a String that can assume hex values or other non-hex values\r\n \r\n`0xff`, `0x31` or `A`, `PC`, `label`, and so on.\r\n\r\nI use this code to divide the two cases:\r\n\r\n    String input = readInput();\r\n    \r\n    try {\r\n        int hex = Integer.decode(input);\t\t\t\r\n        // use hex ...\r\n      \r\n    } catch (NumberFormatException e) {\r\n       // input is not a hex, continue parsing\r\n    }\r\n\r\nCan this code be considered &quot;ugly&quot; or difficult to read? Are there other (maybe more elegant) solutions?\r\n\r\nEDIT : I want to clarify that (in my case) **a wrong input doesn&#39;t exist**: i just need to distinguish if it is a hex number, or not.\r\nAnd just for completeness, i&#39;m making a simple assebler for [DCPU-16][1].\r\n\r\n\r\n  [1]: http://0x10c.com/doc/dcpu-16.txt","title":"Is catching NumberFormatException a bad practice?","body":"<p>I have to parse a String that can assume hex values or other non-hex values</p>\n\n<p><code>0xff</code>, <code>0x31</code> or <code>A</code>, <code>PC</code>, <code>label</code>, and so on.</p>\n\n<p>I use this code to divide the two cases:</p>\n\n<pre><code>String input = readInput();\n\ntry {\n    int hex = Integer.decode(input);            \n    // use hex ...\n\n} catch (NumberFormatException e) {\n   // input is not a hex, continue parsing\n}\n</code></pre>\n\n<p>Can this code be considered \"ugly\" or difficult to read? Are there other (maybe more elegant) solutions?</p>\n\n<p>EDIT : I want to clarify that (in my case) <strong>a wrong input doesn't exist</strong>: i just need to distinguish if it is a hex number, or not.\nAnd just for completeness, i'm making a simple assebler for <a href=\"http://0x10c.com/doc/dcpu-16.txt\" rel=\"nofollow\">DCPU-16</a>.</p>\n"},{"tags":["c#","java","generics"],"answers":[{"comments":[{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":2,"creation_date":1271037339,"post_id":2619436,"comment_id":2631669,"body_markdown":"I certainly didn&#39;t downvote, but while this is the best you can do in Java with generics, there is no runtime type safety. Nothing stops the type being passed in from being an interface itself or lacking a public default constructor.","body":"I certainly didn&#39;t downvote, but while this is the best you can do in Java with generics, there is no runtime type safety. Nothing stops the type being passed in from being an interface itself or lacking a public default constructor."}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1682149458,"creation_date":1271036305,"answer_id":2619436,"question_id":2619429,"body_markdown":"You can&#39;t replicate that in Java because generics are fundamentally different between C# and Java. Java uses type erasure so generic type arguments aren&#39;t (mostly) retained at runtime. If you want to construct elements of your generic type argument then you&#39;ll need to pass in a class instance:\r\n\r\n    public class Bar&lt;T extends Foo&gt; {\r\n      private final Class&lt;T&gt; clazz;\r\n    \r\n      public class Bar(Class&lt;T&gt; clazz) {\r\n        this.clazz = clazz;\r\n      }\r\n    \r\n      public T newInstance() {\r\n        return clazz.newInstance(); // this will throw checked exceptions\r\n      }\r\n    }\r\n\r\n**Edit:** Just to cover the issue of runtime type safety of generic type arguments: clearly Java doesn&#39;t *natively* have it because of type erasure: there are no runtime types for generic type arguments. There is a solution however. You use [`Collections.checkedList()`][1]:\r\n\r\n    List&lt;String&gt; list = Collections.checkedList(new ArrayList&lt;String&gt;(),\r\n                          String.class);\r\n\r\nThis collection will now throw an exception if you try to insert something that isn&#39;t a `String`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#checkedList(java.util.List,%20java.lang.Class)\r\n","title":"C# to Java: where T : new() Syntax","body":"<p>You can't replicate that in Java because generics are fundamentally different between C# and Java. Java uses type erasure so generic type arguments aren't (mostly) retained at runtime. If you want to construct elements of your generic type argument then you'll need to pass in a class instance:</p>\n<pre><code>public class Bar&lt;T extends Foo&gt; {\n  private final Class&lt;T&gt; clazz;\n\n  public class Bar(Class&lt;T&gt; clazz) {\n    this.clazz = clazz;\n  }\n\n  public T newInstance() {\n    return clazz.newInstance(); // this will throw checked exceptions\n  }\n}\n</code></pre>\n<p><strong>Edit:</strong> Just to cover the issue of runtime type safety of generic type arguments: clearly Java doesn't <em>natively</em> have it because of type erasure: there are no runtime types for generic type arguments. There is a solution however. You use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#checkedList(java.util.List,%20java.lang.Class)\" rel=\"nofollow noreferrer\"><code>Collections.checkedList()</code></a>:</p>\n<pre><code>List&lt;String&gt; list = Collections.checkedList(new ArrayList&lt;String&gt;(),\n                      String.class);\n</code></pre>\n<p>This collection will now throw an exception if you try to insert something that isn't a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271036338,"creation_date":1271036338,"answer_id":2619438,"question_id":2619429,"body_markdown":"You cannot. Java implements generic type safety with erasure and does not support the typing based on the signature of a constructor, so there is no way to do exactly that and have a static type check.","title":"C# to Java: where T : new() Syntax","body":"<p>You cannot. Java implements generic type safety with erasure and does not support the typing based on the signature of a constructor, so there is no way to do exactly that and have a static type check.</p>\n"},{"tags":[],"owner":{"account_id":65554,"reputation":14672,"user_id":192819,"accept_rate":76,"display_name":"jpswain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271046833,"creation_date":1271046833,"answer_id":2619899,"question_id":2619429,"body_markdown":"Hope this helps.  Please note, this requires a no-arg constructor be present in the you are creating a new instance of.\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\npublic class TypeStuff {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    // *** PUBLIC STATIC VOID MAIN ***\r\n    public static void main(String[] args) {\r\n        TypeStuff ts = new TypeStuff();\r\n        ts.run();\r\n    }\r\n\r\n    // *** CONSTRUCTOR ***\r\n    public TypeStuff () {\r\n    }\r\n\r\n    public void run() {\r\n        Fruit banana = new Banana();\r\n\r\n        Fruit dupe = newT(banana);\r\n        System.out.println(&quot;dupe.getColor()=&quot; + dupe.getColor());\r\n\r\n        Fruit orange = new Orange();\r\n        Fruit dupe2 = newT(orange);\r\n        System.out.println(&quot;dupe2.getColor()=&quot; + dupe2.getColor());\r\n    }\r\n\r\n    public &amp;lt;T extends Fruit&amp;gt; T newT(T fruit) {\r\n        T dupe = null;\r\n        try {\r\n            Class clazz = fruit.getClass();\r\n            dupe = (T) clazz.newInstance();\r\n        } catch (Exception ex) {\r\n        } finally {\r\n            return dupe;\r\n        }\r\n    }\r\n\r\n    interface Fruit {\r\n        String getColor();\r\n    }\r\n    static class Banana implements Fruit {\r\n        public Banana() {\r\n        }\r\n        @Override\r\n        public String getColor() {\r\n            return &quot;Yellow&quot;;\r\n        }\r\n    }\r\n    static class Orange implements Fruit {\r\n        public Orange() {\r\n        }\r\n        @Override\r\n        public String getColor() {\r\n            return &quot;Orange&quot;;\r\n        }\r\n    }\r\n\r\n\r\n} // CLOSE CLASS.\r\n\r\n&lt;/code&gt;\r\n&lt;/pre&gt;","title":"C# to Java: where T : new() Syntax","body":"<p>Hope this helps.  Please note, this requires a no-arg constructor be present in the you are creating a new instance of.</p>\n\n<pre>\n<code>\npublic class TypeStuff {\n\n    private static final long serialVersionUID = 1L;\n\n    // *** PUBLIC STATIC VOID MAIN ***\n    public static void main(String[] args) {\n        TypeStuff ts = new TypeStuff();\n        ts.run();\n    }\n\n    // *** CONSTRUCTOR ***\n    public TypeStuff () {\n    }\n\n    public void run() {\n        Fruit banana = new Banana();\n\n        Fruit dupe = newT(banana);\n        System.out.println(\"dupe.getColor()=\" + dupe.getColor());\n\n        Fruit orange = new Orange();\n        Fruit dupe2 = newT(orange);\n        System.out.println(\"dupe2.getColor()=\" + dupe2.getColor());\n    }\n\n    public &lt;T extends Fruit&gt; T newT(T fruit) {\n        T dupe = null;\n        try {\n            Class clazz = fruit.getClass();\n            dupe = (T) clazz.newInstance();\n        } catch (Exception ex) {\n        } finally {\n            return dupe;\n        }\n    }\n\n    interface Fruit {\n        String getColor();\n    }\n    static class Banana implements Fruit {\n        public Banana() {\n        }\n        @Override\n        public String getColor() {\n            return \"Yellow\";\n        }\n    }\n    static class Orange implements Fruit {\n        public Orange() {\n        }\n        @Override\n        public String getColor() {\n            return \"Orange\";\n        }\n    }\n\n\n} // CLOSE CLASS.\n\n</code>\n</pre>\n"}],"owner":{"display_name":"user295190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2967,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":2619436,"answer_count":3,"score":4,"last_activity_date":1682149458,"creation_date":1271036135,"question_id":2619429,"body_markdown":"I am porting some C# code over to Java. I am having trouble with the where Syntax, specifically new(). I understand that where is similar to Java&#39;s generic: T extends FOO. \r\n\r\n**How I can replicate the new() argument in Java?**\r\n\r\n[&quot;The new() Constraint lets the compiler know that any type argument supplied must have an accessible parameterless--or default-- constructor.&quot; - MSDN][1]\r\n\r\nie:\r\n\r\n    public class BAR&lt;T&gt; : BAR\r\n           where T : FOO, new()\r\n\r\nHere is how I implemented cletus&#39;s solution:\r\n\r\n    public class BAR&lt;T extends FOO&gt; extends ABSTRACTBAR {\r\n        public BAR(T t) throws InstantiationException, IllegalAccessException{ \r\n            t.getClass().newInstance();\r\n            this.value = t;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/6b0scde8(VS.80).aspx","title":"C# to Java: where T : new() Syntax","body":"<p>I am porting some C# code over to Java. I am having trouble with the where Syntax, specifically new(). I understand that where is similar to Java's generic: T extends FOO. </p>\n\n<p><strong>How I can replicate the new() argument in Java?</strong></p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/6b0scde8(VS.80).aspx\" rel=\"nofollow noreferrer\">\"The new() Constraint lets the compiler know that any type argument supplied must have an accessible parameterless--or default-- constructor.\" - MSDN</a></p>\n\n<p>ie:</p>\n\n<pre><code>public class BAR&lt;T&gt; : BAR\n       where T : FOO, new()\n</code></pre>\n\n<p>Here is how I implemented cletus's solution:</p>\n\n<pre><code>public class BAR&lt;T extends FOO&gt; extends ABSTRACTBAR {\n    public BAR(T t) throws InstantiationException, IllegalAccessException{ \n        t.getClass().newInstance();\n        this.value = t;\n    }\n}\n</code></pre>\n"},{"tags":["java","indexing","neo4j"],"answers":[{"comments":[{"owner":{"account_id":370721,"reputation":157876,"user_id":942852,"accept_rate":62,"display_name":"Nitzan Tomer"},"score":0,"creation_date":1335517023,"post_id":10345647,"comment_id":13329437,"body_markdown":"Oh wow, a console! Thanks for that, wasn&#39;t aware of it&#39;s existence. I&#39;m very new with this, I&#39;ll check it out.","body":"Oh wow, a console! Thanks for that, wasn&#39;t aware of it&#39;s existence. I&#39;m very new with this, I&#39;ll check it out."}],"tags":[],"owner":{"account_id":376992,"reputation":41434,"user_id":728812,"display_name":"Michael Hunger"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1682149379,"creation_date":1335507253,"answer_id":10345647,"question_id":10342934,"body_markdown":"Your approach is perfectly valid.\r\nIf you want to query all students of a school you can use:\r\n\r\n    Iterable&lt;Node&gt; pupils = index.query(schoolName + &quot;:*&quot;);\r\n\r\n\r\nYou can also just add both fields to the index:\r\n\r\n    index.add(node, &quot;schoolName&quot;, studentId);\r\n    index.add(node, &quot;id&quot;, studentId);\r\n\r\nand then query them by a combined query\r\n\r\n    Iterable&lt;Node&gt; pupils = index.query(&quot;schoolName:&quot;+schoolName + &quot; AND id:&quot;+id);\r\n\r\nThe first one is smaller in index size but the second one is more powerful.\r\nPerformance wise it won&#39;t make such a big difference (but you can test it and report back).\r\n\r\nYou could also use an structure in the graph where a school is a node and the pupils are attached to it by a `LEARNS_AT` relationship which can also have a `start` and `end` temporal property, so it is easier to model your domain. See this [demo graph][1]\r\n\r\n\r\n  [1]: http://console.neo4j.org/?init=(1)%20%7B%22name%22%20%3A%20%22MIT%22%7D%0A(2)%20%7B%22name%22%3A%22you%22%7D%0A(3)%20%7B%22name%22%3A%22me%22%7D%0A(1)%3C-%5B%3ALEARNS_AT%5D-(2)%20%7B%20%22start%22%20%3A%2019980101%2C%20%22end%22%20%3A%2020053112%20%7D%20%0A(1)%3C-%5B%3ALEARNS_AT%5D-(3)%20%7B%20%22start%22%20%3A%2020000101%7D%20%0A&amp;query=start%20school%3Dnode(1)%20match%20school-%5Br%5D-pupil%20return%20school%2Cr%2C%20pupil%0A&amp;no_root=true","title":"Indexing in Neo4j","body":"<p>Your approach is perfectly valid.\nIf you want to query all students of a school you can use:</p>\n<pre><code>Iterable&lt;Node&gt; pupils = index.query(schoolName + &quot;:*&quot;);\n</code></pre>\n<p>You can also just add both fields to the index:</p>\n<pre><code>index.add(node, &quot;schoolName&quot;, studentId);\nindex.add(node, &quot;id&quot;, studentId);\n</code></pre>\n<p>and then query them by a combined query</p>\n<pre><code>Iterable&lt;Node&gt; pupils = index.query(&quot;schoolName:&quot;+schoolName + &quot; AND id:&quot;+id);\n</code></pre>\n<p>The first one is smaller in index size but the second one is more powerful.\nPerformance wise it won't make such a big difference (but you can test it and report back).</p>\n<p>You could also use an structure in the graph where a school is a node and the pupils are attached to it by a <code>LEARNS_AT</code> relationship which can also have a <code>start</code> and <code>end</code> temporal property, so it is easier to model your domain. See this <a href=\"http://console.neo4j.org/?init=(1)%20%7B%22name%22%20%3A%20%22MIT%22%7D%0A(2)%20%7B%22name%22%3A%22you%22%7D%0A(3)%20%7B%22name%22%3A%22me%22%7D%0A(1)%3C-%5B%3ALEARNS_AT%5D-(2)%20%7B%20%22start%22%20%3A%2019980101%2C%20%22end%22%20%3A%2020053112%20%7D%20%0A(1)%3C-%5B%3ALEARNS_AT%5D-(3)%20%7B%20%22start%22%20%3A%2020000101%7D%20%0A&amp;query=start%20school%3Dnode(1)%20match%20school-%5Br%5D-pupil%20return%20school%2Cr%2C%20pupil%0A&amp;no_root=true\" rel=\"nofollow noreferrer\">demo graph</a></p>\n"}],"owner":{"account_id":370721,"reputation":157876,"user_id":942852,"accept_rate":62,"display_name":"Nitzan Tomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3252,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":10345647,"answer_count":1,"score":4,"last_activity_date":1682149379,"creation_date":1335483798,"question_id":10342934,"body_markdown":"I&#39;m wonderring what&#39;s a better approach when needing to have multiple indecies based on some node type or field.\r\nFor example, let&#39;s say I want to have a graph of students and want to index them by their school and id.\r\n\r\nAs I understand I can have an index per school like this:\r\n\r\n    // add student\r\n    Index&lt;Node&gt; index = this.graphDb.index().forNodes(schoolName);\r\n    Node node = this.graphDb.createNode();\r\n    node.setProperty(&quot;id&quot;, studentId);\r\n    index.add(node, &quot;id&quot;, studentId);\r\n    \r\n    // get student\r\n    Index&lt;Node&gt; index = this.graphDb.index().forNodes(schoolName);\r\n    Node node = index.get(&quot;id&quot;, studentId).getSingle();\r\n\r\nI can on the other hand use one index and do something like:\r\n\r\n    // add student\r\n    Index&lt;Node&gt; index = this.graphDb.index().forNodes(&quot;schools&quot;);\r\n    Node node = this.graphDb.createNode();\r\n    node.setProperty(&quot;id&quot;, studentId);\r\n    index.add(node, schoolName + &quot;:id&quot;, studentId);\r\n    \r\n    // get student\r\n    Index&lt;Node&gt; index = this.graphDb.index().forNodes(&quot;schools&quot;);\r\n    Node node = index.get(schoolName + &quot;:id&quot;, studentId).getSingle();\r\n\r\nWhat is a better approach?\r\nAny advantages to one over the other?\r\nEspecially performance wise or storage wise, when there are a lot of nodes involved.\r\n\r\nThanks","title":"Indexing in Neo4j","body":"<p>I'm wonderring what's a better approach when needing to have multiple indecies based on some node type or field.\nFor example, let's say I want to have a graph of students and want to index them by their school and id.</p>\n\n<p>As I understand I can have an index per school like this:</p>\n\n<pre><code>// add student\nIndex&lt;Node&gt; index = this.graphDb.index().forNodes(schoolName);\nNode node = this.graphDb.createNode();\nnode.setProperty(\"id\", studentId);\nindex.add(node, \"id\", studentId);\n\n// get student\nIndex&lt;Node&gt; index = this.graphDb.index().forNodes(schoolName);\nNode node = index.get(\"id\", studentId).getSingle();\n</code></pre>\n\n<p>I can on the other hand use one index and do something like:</p>\n\n<pre><code>// add student\nIndex&lt;Node&gt; index = this.graphDb.index().forNodes(\"schools\");\nNode node = this.graphDb.createNode();\nnode.setProperty(\"id\", studentId);\nindex.add(node, schoolName + \":id\", studentId);\n\n// get student\nIndex&lt;Node&gt; index = this.graphDb.index().forNodes(\"schools\");\nNode node = index.get(schoolName + \":id\", studentId).getSingle();\n</code></pre>\n\n<p>What is a better approach?\nAny advantages to one over the other?\nEspecially performance wise or storage wise, when there are a lot of nodes involved.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","excel","apache-poi","fileoutputstream"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1682147536,"post_id":76078315,"comment_id":134172637,"body_markdown":"You haven&#39;t closed the Workbook… it hat a `.close()` method, too, and you can `flush()` the `FileOutputStream` in addition.","body":"You haven&#39;t closed the Workbook… it hat a <code>.close()</code> method, too, and you can <code>flush()</code> the <code>FileOutputStream</code> in addition."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1682163500,"post_id":76078315,"comment_id":134174135,"body_markdown":"Check your `Workbook` implementation, and use the appropriate file extension.","body":"Check your <code>Workbook</code> implementation, and use the appropriate file extension."}],"owner":{"account_id":12116062,"reputation":7,"user_id":8850176,"display_name":"Miss.Q"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682147703,"creation_date":1682144882,"question_id":76078315,"body_markdown":"I am using Apache Poi to create an Excel file for my project, but I met a few weird issues while trying it. \r\n\r\n```\r\npublic void createfile(Request request, Response response) throws Exception {\r\ntry {\r\n        Integer id = ParamUtils.getParamInt(request, &quot;id&quot;, null);\r\n        Workbook workbook = new HSSFWorkbook();\r\n        Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\r\n        FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;);\r\n        workbook.write(fileOut);\r\n        fileOut.close();\r\n        }\r\n        catch (IncorrectData e) {\r\n            return e;\r\n        }\r\n\r\n    }\r\n\r\n```\r\nFirstly, I got a **format or extension that is not valid** error when I try to open the file I create with this function. Secondly, I got **file in use locked for editing by another user** but I clearly closed OutputStream at the end of the code.\r\nOne last question, it was a function at my server and I was wondering if I can pass/return this Excel file to the front to download it?\r\n\r\nThanks!","title":"Apache Poi Format or extension is not valid and file in use locked for editing by another user","body":"<p>I am using Apache Poi to create an Excel file for my project, but I met a few weird issues while trying it.</p>\n<pre><code>public void createfile(Request request, Response response) throws Exception {\ntry {\n        Integer id = ParamUtils.getParamInt(request, &quot;id&quot;, null);\n        Workbook workbook = new HSSFWorkbook();\n        Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\n        FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;);\n        workbook.write(fileOut);\n        fileOut.close();\n        }\n        catch (IncorrectData e) {\n            return e;\n        }\n\n    }\n\n</code></pre>\n<p>Firstly, I got a <strong>format or extension that is not valid</strong> error when I try to open the file I create with this function. Secondly, I got <strong>file in use locked for editing by another user</strong> but I clearly closed OutputStream at the end of the code.\nOne last question, it was a function at my server and I was wondering if I can pass/return this Excel file to the front to download it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","math","finance","formula"],"comments":[{"owner":{"account_id":45901,"reputation":10344,"user_id":135494,"accept_rate":84,"display_name":"Clement Herreman"},"score":4,"creation_date":1247836709,"post_id":1143180,"comment_id":961083,"body_markdown":"Not computer-related, it&#39;s just math... Not even math. -1 from me.","body":"Not computer-related, it&#39;s just math... Not even math. -1 from me."},{"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"score":0,"creation_date":1247837068,"post_id":1143180,"comment_id":961122,"body_markdown":"Initiate humor: 18% per month?!  Holy cow!  What in the world are you investing in?!  ;-)","body":"Initiate humor: 18% per month?!  Holy cow!  What in the world are you investing in?!  ;-)"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":2,"creation_date":1247837100,"post_id":1143180,"comment_id":961127,"body_markdown":"Fixed the title to reflect question, which is in fact programming related.","body":"Fixed the title to reflect question, which is in fact programming related."},{"owner":{"account_id":38180,"reputation":1853,"user_id":109426,"accept_rate":97,"display_name":"Bryan"},"score":2,"creation_date":1247843437,"post_id":1143180,"comment_id":961880,"body_markdown":"Where are you getting an 18%/year interest from?","body":"Where are you getting an 18%/year interest from?"},{"owner":{"account_id":41025,"reputation":10135,"user_id":119139,"accept_rate":67,"display_name":"nightingale2k1"},"score":0,"creation_date":1247879873,"post_id":1143180,"comment_id":964616,"body_markdown":"it is kind of giving credits to people for business... \n\ni&#39;m giving rough estimation, it actually less than 15% :)","body":"it is kind of giving credits to people for business...   i&#39;m giving rough estimation, it actually less than 15% :)"}],"answers":[{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1247836924,"creation_date":1247836924,"answer_id":1143231,"question_id":1143180,"body_markdown":"If you are not doing it for lending purposes, the simple formulae posted in other answers will probably be good enough.\r\n\r\nIf this is for any kind of financial activity, beware of any simple calculation for compound interest. If it is for any lending you are probably required to conform to strict rules (e.g in the UK the rate must be quoted in the form of an APR). \r\n\r\nThe calculations need to take into account:\r\n\r\n - the variable days in a month\r\n - whether interest is applied daily or monthly\r\n - what day the borrowing was drawn down\r\n - the day of the month payment has been taken.\r\n - other stuff  I can&#39;t remember but you&#39;d better look up for your contract to be legally binding\r\n\r\nIn practice this needs a form of iteration to find the regular and final payments.\r\n\r\n","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>If you are not doing it for lending purposes, the simple formulae posted in other answers will probably be good enough.</p>\n\n<p>If this is for any kind of financial activity, beware of any simple calculation for compound interest. If it is for any lending you are probably required to conform to strict rules (e.g in the UK the rate must be quoted in the form of an APR). </p>\n\n<p>The calculations need to take into account:</p>\n\n<ul>\n<li>the variable days in a month</li>\n<li>whether interest is applied daily or monthly</li>\n<li>what day the borrowing was drawn down</li>\n<li>the day of the month payment has been taken.</li>\n<li>other stuff  I can't remember but you'd better look up for your contract to be legally binding</li>\n</ul>\n\n<p>In practice this needs a form of iteration to find the regular and final payments.</p>\n"},{"comments":[{"owner":{"account_id":33989,"reputation":92745,"user_id":95589,"display_name":"Eric"},"score":0,"creation_date":1247838375,"post_id":1143242,"comment_id":961285,"body_markdown":"You&#39;re right, I missed the part where he was adding a sum each month. +1, good sir.","body":"You&#39;re right, I missed the part where he was adding a sum each month. +1, good sir."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1247899040,"post_id":1143242,"comment_id":965120,"body_markdown":"And, as always, when dealing with money do NOT use floats/double to hold the value due to rounding errors.","body":"And, as always, when dealing with money do NOT use floats/double to hold the value due to rounding errors."},{"owner":{"account_id":1035762,"reputation":112,"user_id":1043096,"display_name":"codeshinobi"},"score":0,"creation_date":1456753982,"post_id":1143242,"comment_id":59078910,"body_markdown":"Hi guys. I know this was asked ages ago. Is there any chance this answer could be extended to accomodate getting M if you have the other variables?","body":"Hi guys. I know this was asked ages ago. Is there any chance this answer could be extended to accomodate getting M if you have the other variables?"}],"tags":[],"owner":{"account_id":19555,"reputation":237923,"user_id":45914,"accept_rate":68,"display_name":"jason"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1682147545,"creation_date":1247837049,"answer_id":1143242,"question_id":1143180,"body_markdown":"Let us say that you are investing `D` dollars at the beginning of each month for `M` months earning an interest rate of `r` compounded monthly. We will set `i = r / 12`. At the end of `M` months you will have\r\n\r\n    D * (1 + i)^M + D * (1 + i)^(M - 1) + D * (1 + i)^(M - 2) + ...\r\n        D * (1 + i)\r\n\r\nin your account. This is because the `D` dollars in the first month are invested for `M` months, the `D` dollars in the second month are invested for `M-1` months, and so on. This is a [geometric progression](http://en.wikipedia.org/wiki/Geometric_progression) and simplifies to\r\n\r\n    D * (1 + i) * ((1 + i)^M - 1) / i.\r\n\r\nTherefore, if you want `X` in your account at the end of `M` months you solve\r\n\r\n    X = D * (1 + i) * ((1 + i)^M - 1) / i\r\n\r\nfor `D` to obtain\r\n\r\n    D = X * i / ((1 + i) * ((1 + i)^M - 1)).\r\n\r\nYou don&#39;t really need an API here to solve this as you can see the solution is quite simple. The concept that you might want to read about here is that of [annuities](http://en.wikipedia.org/wiki/Annuity_(finance_theory)).","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>Let us say that you are investing <code>D</code> dollars at the beginning of each month for <code>M</code> months earning an interest rate of <code>r</code> compounded monthly. We will set <code>i = r / 12</code>. At the end of <code>M</code> months you will have</p>\n<pre><code>D * (1 + i)^M + D * (1 + i)^(M - 1) + D * (1 + i)^(M - 2) + ...\n    D * (1 + i)\n</code></pre>\n<p>in your account. This is because the <code>D</code> dollars in the first month are invested for <code>M</code> months, the <code>D</code> dollars in the second month are invested for <code>M-1</code> months, and so on. This is a <a href=\"http://en.wikipedia.org/wiki/Geometric_progression\" rel=\"nofollow noreferrer\">geometric progression</a> and simplifies to</p>\n<pre><code>D * (1 + i) * ((1 + i)^M - 1) / i.\n</code></pre>\n<p>Therefore, if you want <code>X</code> in your account at the end of <code>M</code> months you solve</p>\n<pre><code>X = D * (1 + i) * ((1 + i)^M - 1) / i\n</code></pre>\n<p>for <code>D</code> to obtain</p>\n<pre><code>D = X * i / ((1 + i) * ((1 + i)^M - 1)).\n</code></pre>\n<p>You don't really need an API here to solve this as you can see the solution is quite simple. The concept that you might want to read about here is that of <a href=\"http://en.wikipedia.org/wiki/Annuity_(finance_theory)\" rel=\"nofollow noreferrer\">annuities</a>.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1247837478,"creation_date":1247837478,"answer_id":1143280,"question_id":1143180,"body_markdown":"I think [this][1] gets you what you want. Its even LGPL, even though if you are getting 18% returns on your money, price shouldn&#39;t matter ;-).\r\n\r\n\r\n  [1]: http://www.getobjects.com/Components/Finance/TVM/tvm.html","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>I think <a href=\"http://www.getobjects.com/Components/Finance/TVM/tvm.html\" rel=\"nofollow noreferrer\">this</a> gets you what you want. Its even LGPL, even though if you are getting 18% returns on your money, price shouldn't matter ;-).</p>\n"},{"tags":[],"owner":{"account_id":24381,"reputation":64431,"user_id":61989,"accept_rate":79,"display_name":"Patrick McDonald"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1247848987,"creation_date":1247837600,"answer_id":1143292,"question_id":1143180,"body_markdown":"The [formula][1] you want is `S = R * [(1+i)^n - 1] / i` where \r\n\r\n    S = the required amount at the end (1,000,000)\r\n    R = the regular payment (what you want)\r\n    i = the periodic rate of interest (0.015)\r\n    n = the number of time periods (24)\r\n\r\nso your answer R = 1000000 * .015 / (1.015^24 - 1) (~= 34924.10)\r\n\r\n**EDIT:**\r\n\r\nThis assumes payments are at the end of each period, if payments are made at the beginning of each period, then divide your answer by (1+i)\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Annuity_(finance_theory)","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>The <a href=\"http://en.wikipedia.org/wiki/Annuity_(finance_theory)\" rel=\"nofollow noreferrer\">formula</a> you want is <code>S = R * [(1+i)^n - 1] / i</code> where </p>\n\n<pre><code>S = the required amount at the end (1,000,000)\nR = the regular payment (what you want)\ni = the periodic rate of interest (0.015)\nn = the number of time periods (24)\n</code></pre>\n\n<p>so your answer R = 1000000 * .015 / (1.015^24 - 1) (~= 34924.10)</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This assumes payments are at the end of each period, if payments are made at the beginning of each period, then divide your answer by (1+i)</p>\n"}],"owner":{"account_id":41025,"reputation":10135,"user_id":119139,"accept_rate":67,"display_name":"nightingale2k1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3054,"favorite_count":0,"down_vote_count":5,"up_vote_count":8,"accepted_answer_id":1143242,"answer_count":4,"score":3,"last_activity_date":1682147545,"creation_date":1247836310,"question_id":1143180,"body_markdown":"I was asked by my boss to create a module for calculating reverse compound. \r\n\r\nThe question is: if I want to achieve $1.000.000,00 in 24 months with interest rate 18%/year (or 1.5%/month). how much money do I have to save every month?\r\n\r\nI searched on the internet, but found nothing except people referring to the Excel formula.\r\nDo you know what the mathematical formula is for this case?\r\n\r\nI am using Java for this module.  Is there any Java library or API?\r\n\r\n","title":"Is there a Java API or built-in function for solving annuity problems?","body":"<p>I was asked by my boss to create a module for calculating reverse compound. </p>\n\n<p>The question is: if I want to achieve $1.000.000,00 in 24 months with interest rate 18%/year (or 1.5%/month). how much money do I have to save every month?</p>\n\n<p>I searched on the internet, but found nothing except people referring to the Excel formula.\nDo you know what the mathematical formula is for this case?</p>\n\n<p>I am using Java for this module.  Is there any Java library or API?</p>\n"},{"tags":["java","api","graphics","3d"],"comments":[{"owner":{"account_id":36250,"reputation":5908,"user_id":103258,"display_name":"haffax"},"score":1,"creation_date":1248992415,"post_id":1197791,"comment_id":1033278,"body_markdown":"Why Java? Better use C++, your options increase tenfold even when restricting yourself to multi-platform solutions. It is easier to learn C++ than getting lacking Java libs to work.\nAlso irrlicht&#39;s java binding hasn&#39;t been updated for almost two years. Irrlicht itself is C++.","body":"Why Java? Better use C++, your options increase tenfold even when restricting yourself to multi-platform solutions. It is easier to learn C++ than getting lacking Java libs to work. Also irrlicht&#39;s java binding hasn&#39;t been updated for almost two years. Irrlicht itself is C++."},{"owner":{"account_id":24563,"reputation":6529,"user_id":62575,"accept_rate":72,"display_name":"worbel"},"score":3,"creation_date":1248998254,"post_id":1197791,"comment_id":1033596,"body_markdown":"@haffax My program does a lot of work with line input and MIDI files, I don&#39;t think I would get that with C++ easily. I know its difficult to do it with C# (there&#39;s no official support in the API). I could only imagine how much harder it would be in C++ :)","body":"@haffax My program does a lot of work with line input and MIDI files, I don&#39;t think I would get that with C++ easily. I know its difficult to do it with C# (there&#39;s no official support in the API). I could only imagine how much harder it would be in C++ :)"},{"owner":{"account_id":279461,"reputation":396,"user_id":574630,"display_name":"mbien"},"score":1,"creation_date":1315971191,"post_id":1197791,"comment_id":8955408,"body_markdown":"jogl moved from java.net to jogamp: http://jogamp.org/ you linked the old project home.","body":"jogl moved from java.net to jogamp: <a href=\"http://jogamp.org/\" rel=\"nofollow noreferrer\">jogamp.org</a> you linked the old project home."}],"answers":[{"comments":[{"owner":{"account_id":40186,"reputation":11318,"user_id":116371,"accept_rate":78,"display_name":"Umair Ahmed"},"score":0,"creation_date":1248837491,"post_id":1197869,"comment_id":1020993,"body_markdown":"I would like to add irrlicht too.","body":"I would like to add irrlicht too."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1418648353,"post_id":1197869,"comment_id":43401321,"body_markdown":"JOGL is a part of JogAmp, which contains a Java binding for the OpenAL API and the OpenCL API too (JOAL and JOCL).","body":"JOGL is a part of JogAmp, which contains a Java binding for the OpenAL API and the OpenCL API too (JOAL and JOCL)."}],"tags":[],"owner":{"account_id":11452,"reputation":9706,"user_id":22080,"display_name":"Harald Scheirich"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1248836767,"creation_date":1248836767,"answer_id":1197869,"question_id":1197791,"body_markdown":"You are mixing libraries and levels of libraries, Jogl and lwjgl are both pretty thin wrappers around OpenGl (IIRC lwjgl has more wrappers for OpenAL i.e. audio). While you can write a game using pure opengl you will probably spend a lot of time managing geometry, building (or reinventing) a scenegraph and other management functionality. \r\n\r\nProcessing is mostly 2D oriented.\r\n\r\nI don&#39;t have any experience with ogre4j, but the last time I looked JMonkey was under current development looking at the [2.0 repository][1] there is a long list of changes that are current.\r\n\r\nIf you are not too set on using Java consider some of the alternatives [Torque][2] (private Scripting Language) [Panda3d][3] (python) or the aforementioned OGRE using C++. I don&#39;t know what classes and constructs you are talking about in your first paragraph, but having a library or backend that takes care of the scene management, visibility calculations, sound management, game loop, possibly even networking might be a better driver for your decision than a specific language feature.\r\n\r\n  [1]: http://code.google.com/p/jmonkeyengine/source/list\r\n  [2]: http://www.garagegames.com\r\n  [3]: http://www.panda3d.org/","title":"Best 3D Java Engine","body":"<p>You are mixing libraries and levels of libraries, Jogl and lwjgl are both pretty thin wrappers around OpenGl (IIRC lwjgl has more wrappers for OpenAL i.e. audio). While you can write a game using pure opengl you will probably spend a lot of time managing geometry, building (or reinventing) a scenegraph and other management functionality. </p>\n\n<p>Processing is mostly 2D oriented.</p>\n\n<p>I don't have any experience with ogre4j, but the last time I looked JMonkey was under current development looking at the <a href=\"http://code.google.com/p/jmonkeyengine/source/list\" rel=\"noreferrer\">2.0 repository</a> there is a long list of changes that are current.</p>\n\n<p>If you are not too set on using Java consider some of the alternatives <a href=\"http://www.garagegames.com\" rel=\"noreferrer\">Torque</a> (private Scripting Language) <a href=\"http://www.panda3d.org/\" rel=\"noreferrer\">Panda3d</a> (python) or the aforementioned OGRE using C++. I don't know what classes and constructs you are talking about in your first paragraph, but having a library or backend that takes care of the scene management, visibility calculations, sound management, game loop, possibly even networking might be a better driver for your decision than a specific language feature.</p>\n"},{"comments":[{"owner":{"account_id":86852,"reputation":635,"user_id":241234,"display_name":"Finn Johnsen"},"score":2,"creation_date":1395400810,"post_id":7381576,"comment_id":34331840,"body_markdown":"Ardor3D is dead. http://ardor3d.forumatic.com/viewtopic.php?f=4&amp;t=12755","body":"Ardor3D is dead. <a href=\"http://ardor3d.forumatic.com/viewtopic.php?f=4&amp;t=12755\" rel=\"nofollow noreferrer\">ardor3d.forumatic.com/viewtopic.php?f=4&amp;t=12755</a>"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1418648223,"post_id":7381576,"comment_id":43401249,"body_markdown":"The &quot;official&quot; Ardor3D is effectively dead but I still maintain a subset of this engine, Charles is right and I thank him for mentioning JogAmp&#39;s Ardor3D Continuation which is actively developed and maintained.","body":"The &quot;official&quot; Ardor3D is effectively dead but I still maintain a subset of this engine, Charles is right and I thank him for mentioning JogAmp&#39;s Ardor3D Continuation which is actively developed and maintained."},{"owner":{"account_id":558816,"reputation":5030,"user_id":921224,"accept_rate":90,"display_name":"Troyseph"},"score":0,"creation_date":1429013424,"post_id":7381576,"comment_id":47396875,"body_markdown":"Is it time to update and mention JavaFX?","body":"Is it time to update and mention JavaFX?"}],"tags":[],"owner":{"account_id":261698,"reputation":6422,"user_id":546060,"accept_rate":86,"display_name":"Charles Goodwin"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1682147458,"creation_date":1315778569,"answer_id":7381576,"question_id":1197791,"body_markdown":"I would look at Ardor3D and have another look at JMonkeyEngine.\r\n\r\n---\r\n\r\n[Ardor3D][1]\r\n-------\r\n\r\n**UPDATE:** *Ardor3D&#39;s developer [ceased the project][2], but a subset of it [continues to exist](https://gouessej.wordpress.com/2014/11/22/ardor3d-est-mort-vive-jogamps-ardor3d-continuation-ardor3d-is-dead-long-life-to-jogamps-ardor3d-continuation/)*\r\n\r\nCreated by the original JMonkeyEngine developer(s) who decided a clean break was required so they could start over and use all the experience gained to create a better API and platform.\r\n\r\nThe people I know who have used Ardor3D have very positive things to say about its design and API.  It is actively maintained and has a good community and good API documentation, although tutorials are a little short in supply and generally you&#39;ll have to be familiar with 3D programming concepts to be able to pick it up.\r\n\r\n----\r\n\r\n[JMonkeyEngine 3][3]\r\n--------\r\n\r\nA community-led rewrite of JMonkeyEngine 2, driven by dissatisfaction with JME2 design and related issues caused by said design, it has gone from strength to strength since its release.\r\n\r\nThere is ample documentation including tutorials and plenty of projects using it.  If you had issues with JMonkeyEngine 2 or earlier, it is well worth another look at version 3.\r\n\r\n----\r\n\r\nOthers\r\n----\r\n* [Env3D][4]\r\n* [jPCT][5]\r\n* [3dzzd][6]\r\n* [Jake2][7]\r\n* [Xith3D][8]\r\n\r\n\r\n  [1]: http://www.ardor3d.com/\r\n  [2]: http://ardor3d.forumatic.com/viewtopic.php?f=4&amp;t=12755\r\n  [3]: http://www.jmonkeyengine.com/\r\n  [4]: http://env3d.sourceforge.net\r\n  [5]: http://www.jpct.net/\r\n  [6]: http://dzzd.net/\r\n  [7]: http://bytonic.de/html/jake2.html\r\n  [8]: http://www.xith.org","title":"Best 3D Java Engine","body":"<p>I would look at Ardor3D and have another look at JMonkeyEngine.</p>\n<hr />\n<h2><a href=\"http://www.ardor3d.com/\" rel=\"nofollow noreferrer\">Ardor3D</a></h2>\n<p><strong>UPDATE:</strong> <em>Ardor3D's developer <a href=\"http://ardor3d.forumatic.com/viewtopic.php?f=4&amp;t=12755\" rel=\"nofollow noreferrer\">ceased the project</a>, but a subset of it <a href=\"https://gouessej.wordpress.com/2014/11/22/ardor3d-est-mort-vive-jogamps-ardor3d-continuation-ardor3d-is-dead-long-life-to-jogamps-ardor3d-continuation/\" rel=\"nofollow noreferrer\">continues to exist</a></em></p>\n<p>Created by the original JMonkeyEngine developer(s) who decided a clean break was required so they could start over and use all the experience gained to create a better API and platform.</p>\n<p>The people I know who have used Ardor3D have very positive things to say about its design and API.  It is actively maintained and has a good community and good API documentation, although tutorials are a little short in supply and generally you'll have to be familiar with 3D programming concepts to be able to pick it up.</p>\n<hr />\n<h2><a href=\"http://www.jmonkeyengine.com/\" rel=\"nofollow noreferrer\">JMonkeyEngine 3</a></h2>\n<p>A community-led rewrite of JMonkeyEngine 2, driven by dissatisfaction with JME2 design and related issues caused by said design, it has gone from strength to strength since its release.</p>\n<p>There is ample documentation including tutorials and plenty of projects using it.  If you had issues with JMonkeyEngine 2 or earlier, it is well worth another look at version 3.</p>\n<hr />\n<h2>Others</h2>\n<ul>\n<li><a href=\"http://env3d.sourceforge.net\" rel=\"nofollow noreferrer\">Env3D</a></li>\n<li><a href=\"http://www.jpct.net/\" rel=\"nofollow noreferrer\">jPCT</a></li>\n<li><a href=\"http://dzzd.net/\" rel=\"nofollow noreferrer\">3dzzd</a></li>\n<li><a href=\"http://bytonic.de/html/jake2.html\" rel=\"nofollow noreferrer\">Jake2</a></li>\n<li><a href=\"http://www.xith.org\" rel=\"nofollow noreferrer\">Xith3D</a></li>\n</ul>\n"}],"owner":{"account_id":24563,"reputation":6529,"user_id":62575,"accept_rate":72,"display_name":"worbel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52757,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"closed_date":1431884622,"answer_count":2,"score":39,"last_activity_date":1682147458,"creation_date":1248834831,"question_id":1197791,"body_markdown":"Looking for an easy to use 3D Java Engine API (i.e. not wrapper) that has a good community and good development. Extra features (i.e. audio, input, etc.) are not necessary but nice.\r\n\r\nList of the most popular Java 3D graphics APIs I found:\r\n\r\n**Wrappers / Low Level**\r\n\r\n - [JOGL][1] - Strong community / Good support / Active\r\n - [Java3D][2] - Abandoned (or slowly dying), phased out Scene Graph (or re-tooling into JavaFX?)\r\n - [lwjgl][3] - Open GL wrapper, with audio and input handling / Active\r\n\r\n----------\r\n\r\n**Engines**\r\n\r\n**[jMonkey Engine][4]** - [Wikipedia][5] - [Active][6] \r\n\r\n - Branching between version 3.0 and 2.0 (may hurt community)\r\n\r\n**[ogre4j][7]** - [Wikipedia][8] - [Active][9]\r\n\r\n - Parent project [OGRE][10] - [Active][11] - C++\r\n\r\n**[Bindenlicht][12]** - No Wikipedia! - [Not active][13]\r\n\r\n - Parent project [Irrlicht][14] - [Wikipedia][15] - [Active][16] - C++\r\n\r\n----------\r\n\r\n**High Level (Not designed for gaming)**\r\n\r\n - [Processing][17] - Doesn&#39;t seem suited for gaming but for graphics visualizations and demos\r\n - [Jzy3d][18] - An easy to use Java API for 3d charts (surfaces, scatters, bar charts, etc). Built on top of JOGL\r\n\r\n----------\r\n\r\n**Update**: Please pick a JAVA engine and explain why its your choice! Thanks!\r\n\r\n\r\n  [1]: http://jogamp.org/\r\n  [2]: http://java.sun.com/javase/technologies/desktop/java3d/\r\n  [3]: http://www.lwjgl.org/\r\n  [4]: http://en.wikipedia.org/wiki/JMonkey_Engine\r\n  [5]: http://en.wikipedia.org/wiki/JMonkey_Engine\r\n  [6]: http://code.google.com/p/jmonkeyengine/source/list\r\n  [7]: http://ogre4j.sourceforge.net/\r\n  [8]: http://en.wikipedia.org/wiki/Ogre4j\r\n  [9]: http://sourceforge.net/project/stats/detail.php?group_id=143864&amp;ugn=ogre4j&amp;type=svn&amp;mode=year\r\n  [10]: http://www.ogre3d.org/\r\n  [11]: http://ogre.svn.sourceforge.net/viewvc/ogre/\r\n  [12]: http://sourceforge.net/projects/bindenlicht/\r\n  [13]: http://sourceforge.net/projects/bindenlicht/files/\r\n  [14]: http://irrlicht.sourceforge.net/\r\n  [15]: http://en.wikipedia.org/wiki/Irrlicht_Engine\r\n  [16]: http://sourceforge.net/projects/irrlicht/\r\n  [17]: http://processing.org/\r\n  [18]: http://www.jzy3d.org/","title":"Best 3D Java Engine","body":"<p>Looking for an easy to use 3D Java Engine API (i.e. not wrapper) that has a good community and good development. Extra features (i.e. audio, input, etc.) are not necessary but nice.</p>\n\n<p>List of the most popular Java 3D graphics APIs I found:</p>\n\n<p><strong>Wrappers / Low Level</strong></p>\n\n<ul>\n<li><a href=\"http://jogamp.org/\" rel=\"noreferrer\">JOGL</a> - Strong community / Good support / Active</li>\n<li><a href=\"http://java.sun.com/javase/technologies/desktop/java3d/\" rel=\"noreferrer\">Java3D</a> - Abandoned (or slowly dying), phased out Scene Graph (or re-tooling into JavaFX?)</li>\n<li><a href=\"http://www.lwjgl.org/\" rel=\"noreferrer\">lwjgl</a> - Open GL wrapper, with audio and input handling / Active</li>\n</ul>\n\n<hr>\n\n<p><strong>Engines</strong></p>\n\n<p><strong><a href=\"http://en.wikipedia.org/wiki/JMonkey_Engine\" rel=\"noreferrer\">jMonkey Engine</a></strong> - <a href=\"http://en.wikipedia.org/wiki/JMonkey_Engine\" rel=\"noreferrer\">Wikipedia</a> - <a href=\"http://code.google.com/p/jmonkeyengine/source/list\" rel=\"noreferrer\">Active</a> </p>\n\n<ul>\n<li>Branching between version 3.0 and 2.0 (may hurt community)</li>\n</ul>\n\n<p><strong><a href=\"http://ogre4j.sourceforge.net/\" rel=\"noreferrer\">ogre4j</a></strong> - <a href=\"http://en.wikipedia.org/wiki/Ogre4j\" rel=\"noreferrer\">Wikipedia</a> - <a href=\"http://sourceforge.net/project/stats/detail.php?group_id=143864&amp;ugn=ogre4j&amp;type=svn&amp;mode=year\" rel=\"noreferrer\">Active</a></p>\n\n<ul>\n<li>Parent project <a href=\"http://www.ogre3d.org/\" rel=\"noreferrer\">OGRE</a> - <a href=\"http://ogre.svn.sourceforge.net/viewvc/ogre/\" rel=\"noreferrer\">Active</a> - C++</li>\n</ul>\n\n<p><strong><a href=\"http://sourceforge.net/projects/bindenlicht/\" rel=\"noreferrer\">Bindenlicht</a></strong> - No Wikipedia! - <a href=\"http://sourceforge.net/projects/bindenlicht/files/\" rel=\"noreferrer\">Not active</a></p>\n\n<ul>\n<li>Parent project <a href=\"http://irrlicht.sourceforge.net/\" rel=\"noreferrer\">Irrlicht</a> - <a href=\"http://en.wikipedia.org/wiki/Irrlicht_Engine\" rel=\"noreferrer\">Wikipedia</a> - <a href=\"http://sourceforge.net/projects/irrlicht/\" rel=\"noreferrer\">Active</a> - C++</li>\n</ul>\n\n<hr>\n\n<p><strong>High Level (Not designed for gaming)</strong></p>\n\n<ul>\n<li><a href=\"http://processing.org/\" rel=\"noreferrer\">Processing</a> - Doesn't seem suited for gaming but for graphics visualizations and demos</li>\n<li><a href=\"http://www.jzy3d.org/\" rel=\"noreferrer\">Jzy3d</a> - An easy to use Java API for 3d charts (surfaces, scatters, bar charts, etc). Built on top of JOGL</li>\n</ul>\n\n<hr>\n\n<p><strong>Update</strong>: Please pick a JAVA engine and explain why its your choice! Thanks!</p>\n"},{"tags":["java","random","filenames"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1263351757,"post_id":2054078,"comment_id":1981685,"body_markdown":"And did you look in the File class, perhaps at a method named createTempFile?","body":"And did you look in the File class, perhaps at a method named createTempFile?"},{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":0,"creation_date":1480582557,"post_id":2054078,"comment_id":69025051,"body_markdown":"@JamesKPolk I did, and then I ended up here because I did not find any method in the `File` class that does that; certainly not `createTempFile`; that would be OK if I wanted to create the file, which is not what this question asks, regardless of whether the OP wants that or not.","body":"@JamesKPolk I did, and then I ended up here because I did not find any method in the <code>File</code> class that does that; certainly not <code>createTempFile</code>; that would be OK if I wanted to create the file, which is not what this question asks, regardless of whether the OP wants that or not."}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1682147323,"creation_date":1263351916,"answer_id":2054101,"question_id":2054078,"body_markdown":"[`File.createTempFile()`][1] allows you to specify a directory so:\r\n\r\n    File uniqueFile = File.createTempFile(&quot;post&quot;, &quot;.html&quot;, new File(&quot;/var/www/doc&quot;));\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\r\n","title":"In Java: create unique random filename in a directory","body":"<p><a href=\"https://docs.oracle.com/javase/6/docs/api/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\"><code>File.createTempFile()</code></a> allows you to specify a directory so:</p>\n<pre><code>File uniqueFile = File.createTempFile(&quot;post&quot;, &quot;.html&quot;, new File(&quot;/var/www/doc&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"comment_count":0,"down_vote_count":11,"up_vote_count":3,"is_accepted":false,"score":-8,"last_activity_date":1263351995,"creation_date":1263351995,"answer_id":2054106,"question_id":2054078,"body_markdown":"You want the `File.createTempFile(String, String, File)` overload.\r\n\r\nWhich you would have seen immediately had you bothered to look at the documentation.","title":"In Java: create unique random filename in a directory","body":"<p>You want the <code>File.createTempFile(String, String, File)</code> overload.</p>\n\n<p>Which you would have seen immediately had you bothered to look at the documentation.</p>\n"}],"owner":{"account_id":39297,"reputation":16022,"user_id":113247,"accept_rate":69,"display_name":"Quintin Par"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11992,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":2054101,"answer_count":2,"score":4,"last_activity_date":1682147323,"creation_date":1263351509,"question_id":2054078,"body_markdown":"How do I create a random unique filename in a directory (of my choice)?   \r\n\r\n***Note:*** I don’t want this file in the system temp path but rather in the directory I specify \r\n","title":"In Java: create unique random filename in a directory","body":"<p>How do I create a random unique filename in a directory (of my choice)?   </p>\n\n<p><strong><em>Note:</em></strong> I don’t want this file in the system temp path but rather in the directory I specify </p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"score":0,"creation_date":1271067887,"post_id":2621251,"comment_id":19679911,"body_markdown":"The eval method looks like Ruby&#39;s eval, so maybe you could look at how [JRuby](http://kenai.com/projects/jruby/sources) does it.","body":"The eval method looks like Ruby&#39;s eval, so maybe you could look at how <a href=\"http://kenai.com/projects/jruby/sources\" rel=\"nofollow noreferrer\">JRuby</a> does it."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1271067887,"creation_date":1271067887,"answer_id":2621277,"question_id":2621251,"body_markdown":"You can loop over all methods of a class using:\r\n\r\n    cls.getMethods(); // gets all public methods (from the whole class hierarchy)\r\n    \r\nor\r\n\r\n    cls.getDeclaredMethods(); // get all methods declared by this class\r\n\r\n.\r\n\r\n    for (Method method : cls.getMethods()) {\r\n        // make your checks and calls here\r\n    }","title":"Using Java reflection to create eval() method","body":"<p>You can loop over all methods of a class using:</p>\n\n<pre><code>cls.getMethods(); // gets all public methods (from the whole class hierarchy)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>cls.getDeclaredMethods(); // get all methods declared by this class\n</code></pre>\n\n<p>.</p>\n\n<pre><code>for (Method method : cls.getMethods()) {\n    // make your checks and calls here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271067927,"creation_date":1271067927,"answer_id":2621279,"question_id":2621251,"body_markdown":"You can use `getMethods()` which returns an array of all methods of a class. \r\nInside the loop you can inspect the parameters of each method.\r\n\r\n    for(Method m : cl.getMethods()) {\r\n       Class&lt;?&gt;[] params = m.getParameterTypes();\r\n       ...\r\n    }\r\n\r\nOtherwise you can use `getDelcaredMethods()` which will allow you to &quot;see&quot; private methods (but not inherited methods). Note that if you want to invoke a private methods you must first  apply [setAccessible(boolean flag)][1] on it:\r\n\r\n    for(Method m : cl.getDelcaredMethods()) {\r\n       m.setAccessible(true);\r\n       Class&lt;?&gt;[] params = m.getParameterTypes();\r\n       ...\r\n    }\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible%28java.lang.reflect.AccessibleObject[],%20boolean%29","title":"Using Java reflection to create eval() method","body":"<p>You can use <code>getMethods()</code> which returns an array of all methods of a class. \nInside the loop you can inspect the parameters of each method.</p>\n\n<pre><code>for(Method m : cl.getMethods()) {\n   Class&lt;?&gt;[] params = m.getParameterTypes();\n   ...\n}\n</code></pre>\n\n<p>Otherwise you can use <code>getDelcaredMethods()</code> which will allow you to \"see\" private methods (but not inherited methods). Note that if you want to invoke a private methods you must first  apply <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible%28java.lang.reflect.AccessibleObject[],%20boolean%29\" rel=\"nofollow noreferrer\">setAccessible(boolean flag)</a> on it:</p>\n\n<pre><code>for(Method m : cl.getDelcaredMethods()) {\n   m.setAccessible(true);\n   Class&lt;?&gt;[] params = m.getParameterTypes();\n   ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":112738,"reputation":838,"user_id":297221,"accept_rate":56,"display_name":"heldopslippers"},"score":0,"creation_date":1271068711,"post_id":2621283,"comment_id":2633591,"body_markdown":"You guys are soo fast!..:P thanxs for the help!..the following code works perfectly!:\n\nClass cl = Class.forName(&quot;Main&quot;);\nfor (Method method : cl.getMethods()){\n   if(method.getName().equals(&quot;test&quot;)){\n      Class[] parameterTypes = method.getParameterTypes();\n      method.invoke(null, &quot;this is&quot;, &quot; so cool!&quot;);\n   }\n}","body":"You guys are soo fast!..:P thanxs for the help!..the following code works perfectly!:  Class cl = Class.forName(&quot;Main&quot;); for (Method method : cl.getMethods()){    if(method.getName().equals(&quot;test&quot;)){       Class[] parameterTypes = method.getParameterTypes();       method.invoke(null, &quot;this is&quot;, &quot; so cool!&quot;);    } }"},{"owner":{"account_id":112738,"reputation":838,"user_id":297221,"accept_rate":56,"display_name":"heldopslippers"},"score":0,"creation_date":1271068751,"post_id":2621283,"comment_id":2633596,"body_markdown":"(ehm could anybody help with the style ? ) (sorry)","body":"(ehm could anybody help with the style ? ) (sorry)"},{"owner":{"account_id":112738,"reputation":838,"user_id":297221,"accept_rate":56,"display_name":"heldopslippers"},"score":0,"creation_date":1271069734,"post_id":2621283,"comment_id":2633678,"body_markdown":"Well i posted some code but the style isn&#39;t really good.. But never mind. I will post better code when it is finished (for people who might have the same problem).","body":"Well i posted some code but the style isn&#39;t really good.. But never mind. I will post better code when it is finished (for people who might have the same problem)."},{"owner":{"account_id":293860,"reputation":7418,"user_id":597419,"accept_rate":71,"display_name":"Danny"},"score":0,"creation_date":1388689802,"post_id":2621283,"comment_id":31351594,"body_markdown":"I dont think people can edit comments. But have a look at the following link for future reference (or just click the help link next to the comment). http://meta.stackexchange.com/a/24794/167981","body":"I dont think people can edit comments. But have a look at the following link for future reference (or just click the help link next to the comment). <a href=\"http://meta.stackexchange.com/a/24794/167981\">meta.stackexchange.com/a/24794/167981</a>"}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1682147098,"creation_date":1271067958,"answer_id":2621283,"question_id":2621251,"body_markdown":"You will need to call [`Class.getMethods()`][1] and iterate through them looking for the correct function.\r\n\r\n    For (Method method : clazz.getMethods()) {\r\n      if (method.getName().equals(&quot;...&quot;)) {\r\n        ...\r\n      }\r\n    }\r\n\r\nThe reason for this is that there can be multiple methods with the same name and different parameter types (ie the method name is overloaded).\r\n\r\n`getMethods()` returns all the public methods in the class, including those from superclasses. An alternative is [`Class.getDeclaredMethods()`][2], which returns all methods in that class *only*.\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getMethods()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getDeclaredMethods()","title":"Using Java reflection to create eval() method","body":"<p>You will need to call <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getMethods()\" rel=\"nofollow noreferrer\"><code>Class.getMethods()</code></a> and iterate through them looking for the correct function.</p>\n<pre><code>For (Method method : clazz.getMethods()) {\n  if (method.getName().equals(&quot;...&quot;)) {\n    ...\n  }\n}\n</code></pre>\n<p>The reason for this is that there can be multiple methods with the same name and different parameter types (ie the method name is overloaded).</p>\n<p><code>getMethods()</code> returns all the public methods in the class, including those from superclasses. An alternative is <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getDeclaredMethods()\" rel=\"nofollow noreferrer\"><code>Class.getDeclaredMethods()</code></a>, which returns all methods in that class <em>only</em>.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1271073370,"post_id":2621522,"comment_id":2634078,"body_markdown":"A problem with this code is that it is not robust.  Various changes to the signature of `test` will result in exceptions; e.g. if the method is not `static`, if the number of args is different, it the types of the args are different, if the method is not visible.","body":"A problem with this code is that it is not robust.  Various changes to the signature of <code>test</code> will result in exceptions; e.g. if the method is not <code>static</code>, if the number of args is different, it the types of the args are different, if the method is not visible."},{"owner":{"account_id":112738,"reputation":838,"user_id":297221,"accept_rate":56,"display_name":"heldopslippers"},"score":0,"creation_date":1271075543,"post_id":2621522,"comment_id":2634330,"body_markdown":"yes that is right.. but there is no other way to do this. I need to be able to call functions from a string (this is because I need to be able to setup a socket connection to a java program and then send  json that will have the appropriate method name and arguments.) \nIf i take care of my exception handling and have good unittests I think it will be robust enough (or i hope so :P ).","body":"yes that is right.. but there is no other way to do this. I need to be able to call functions from a string (this is because I need to be able to setup a socket connection to a java program and then send  json that will have the appropriate method name and arguments.)  If i take care of my exception handling and have good unittests I think it will be robust enough (or i hope so :P )."}],"tags":[],"owner":{"account_id":112738,"reputation":838,"user_id":297221,"accept_rate":56,"display_name":"heldopslippers"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271070560,"creation_date":1271070560,"answer_id":2621522,"question_id":2621251,"body_markdown":"Ok thanxs to all the people who answered my question here the final solution:\r\n\r\n    import java.lang.reflect.Method;\r\n    public class Main {\r\n       public static void main(String[] args){\r\n          String func = &quot;test&quot;;\r\n          Object arguments[] = {&quot;this is &quot;, &quot;really cool&quot;};\r\n          try{\r\n             Class cl = Class.forName(&quot;Main&quot;);\r\n             for (Method method : cl.getMethods()){\r\n                if(method.getName().equals(func)){\r\n                   method.invoke(null, arguments);\r\n                }\r\n              }\r\n           } catch (Exception ioe){\r\n              System.out.println(ioe);\r\n           }\r\n        }\r\n      public static void test(String s, String b){\r\n         System.out.println(s+b);\r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"Using Java reflection to create eval() method","body":"<p>Ok thanxs to all the people who answered my question here the final solution:</p>\n\n<pre><code>import java.lang.reflect.Method;\npublic class Main {\n   public static void main(String[] args){\n      String func = \"test\";\n      Object arguments[] = {\"this is \", \"really cool\"};\n      try{\n         Class cl = Class.forName(\"Main\");\n         for (Method method : cl.getMethods()){\n            if(method.getName().equals(func)){\n               method.invoke(null, arguments);\n            }\n          }\n       } catch (Exception ioe){\n          System.out.println(ioe);\n       }\n    }\n  public static void test(String s, String b){\n     System.out.println(s+b);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":112738,"reputation":838,"user_id":297221,"accept_rate":56,"display_name":"heldopslippers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17293,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2621283,"answer_count":4,"score":5,"last_activity_date":1682147098,"creation_date":1271067608,"question_id":2621251,"body_markdown":"I have a question about reflection\r\nI am trying to have some kind of eval() method. So i can call for example: \r\n\r\n    eval(&quot;test(&#39;woohoo&#39;)&quot;);\r\n\r\nNow I understand the there is no eval method in java but there is reflection. I made the following code:\r\n\r\n    String s = &quot;test&quot;;\r\n    Class cl = Class.forName(&quot;Main&quot;);\r\n    Method method = cl.getMethod(s, String.class);\r\n    method.invoke(null, &quot;woohoo&quot;);\r\n\r\nThis works perfectly (of course there is a try, catch block around this code). It runs the test method. However I want to call multiple methods who all have different parameters.\r\n\r\nI don&#39;t know what parameters these are (so not only String.class). But how is this possible? how \r\ncan I get the parameter types of a method ?\r\nI know of the following method:\r\n\r\n    Class[] parameterTypes = method.getParameterTypes();\r\n\r\nBut that will return the parameterTypes of the method I just selected! with the following statement:\r\n\r\n    Method method = cl.getMethod(s, String.class);\r\n\r\nAny help would be appreciated ! ","title":"Using Java reflection to create eval() method","body":"<p>I have a question about reflection\nI am trying to have some kind of eval() method. So i can call for example: </p>\n\n<pre><code>eval(\"test('woohoo')\");\n</code></pre>\n\n<p>Now I understand the there is no eval method in java but there is reflection. I made the following code:</p>\n\n<pre><code>String s = \"test\";\nClass cl = Class.forName(\"Main\");\nMethod method = cl.getMethod(s, String.class);\nmethod.invoke(null, \"woohoo\");\n</code></pre>\n\n<p>This works perfectly (of course there is a try, catch block around this code). It runs the test method. However I want to call multiple methods who all have different parameters.</p>\n\n<p>I don't know what parameters these are (so not only String.class). But how is this possible? how \ncan I get the parameter types of a method ?\nI know of the following method:</p>\n\n<pre><code>Class[] parameterTypes = method.getParameterTypes();\n</code></pre>\n\n<p>But that will return the parameterTypes of the method I just selected! with the following statement:</p>\n\n<pre><code>Method method = cl.getMethod(s, String.class);\n</code></pre>\n\n<p>Any help would be appreciated ! </p>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1681982560,"post_id":76062497,"comment_id":134145293,"body_markdown":"Does this answer your question? [What does &quot;Could not find or load main class&quot; mean?](https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\">What does &quot;Could not find or load main class&quot; mean?</a>"}],"answers":[{"tags":[],"owner":{"account_id":28321072,"reputation":28,"user_id":21656861,"display_name":"Janosch Lion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682146723,"creation_date":1682146723,"answer_id":76078406,"question_id":76062497,"body_markdown":"You need to run the command ``java org.example.Main`` in the output folder.","title":"Java :Could not find or load main class","body":"<p>You need to run the command <code>java org.example.Main</code> in the output folder.</p>\n"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682146723,"creation_date":1681982442,"question_id":76062497,"body_markdown":"Main class:\r\n\r\n    package org.example;\r\n\r\n    public class Main {\r\n         public static void main(String[] args) {\r\n       }\r\n    }\r\n\r\n\r\nis located at project\\src\\main\\java\\org\\example\\Main.java\r\n\r\nI go over project\\src\\main\\java\\ directory and apply:\r\n\r\n    java org.example.Main\r\nAnd get: Could not find or load main class org.example.Main\r\n\r\nI tried also:\r\n\r\n    java -classpath org/example Main\r\nAnd:\r\n\r\n    java -classpath ../../../ org/example/Main\r\n\r\nBut with the same result.\r\nI&#39;m using gradle for build.\r\n\r\nWhat am I doing wrong?","title":"Java :Could not find or load main class","body":"<p>Main class:</p>\n<pre><code>package org.example;\n\npublic class Main {\n     public static void main(String[] args) {\n   }\n}\n</code></pre>\n<p>is located at project\\src\\main\\java\\org\\example\\Main.java</p>\n<p>I go over project\\src\\main\\java\\ directory and apply:</p>\n<pre><code>java org.example.Main\n</code></pre>\n<p>And get: Could not find or load main class org.example.Main</p>\n<p>I tried also:</p>\n<pre><code>java -classpath org/example Main\n</code></pre>\n<p>And:</p>\n<pre><code>java -classpath ../../../ org/example/Main\n</code></pre>\n<p>But with the same result.\nI'm using gradle for build.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","concurrency","synchronized"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1682106919,"post_id":76076276,"comment_id":134169178,"body_markdown":"Did you try running it several times? Each time the output shall be different.","body":"Did you try running it several times? Each time the output shall be different."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682116522,"post_id":76076276,"comment_id":134170545,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":23897357,"reputation":61,"user_id":17896099,"display_name":"H-Bar"},"score":1,"creation_date":1682123449,"post_id":76076276,"comment_id":134171187,"body_markdown":"The output shows the run mentods of all threads being executed completly only then the next thread executes. If counterB used a different lock then its outputs would be interleaved with the other outputs.","body":"The output shows the run mentods of all threads being executed completly only then the next thread executes. If counterB used a different lock then its outputs would be interleaved with the other outputs."}],"answers":[{"comments":[{"owner":{"account_id":23897357,"reputation":61,"user_id":17896099,"display_name":"H-Bar"},"score":0,"creation_date":1682123303,"post_id":76076875,"comment_id":134171172,"body_markdown":"Still wouldn&#39;t two separate objects for lock be cached for counter and counterB ?","body":"Still wouldn&#39;t two separate objects for lock be cached for counter and counterB ?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1682126696,"post_id":76076875,"comment_id":134171383,"body_markdown":"@H-Bar: the point is that there is only one Integer with the value 0 for the whole jvm.","body":"@H-Bar: the point is that there is only one Integer with the value 0 for the whole jvm."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682146428,"post_id":76076875,"comment_id":134172559,"body_markdown":"@H-Bar I&#39;ve updated my answer with an explanation why `Integer lock = 0;` always results in the same `Integer` object.","body":"@H-Bar I&#39;ve updated my answer with an explanation why <code>Integer lock = 0;</code> always results in the same <code>Integer</code> object."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682145779,"creation_date":1682113229,"answer_id":76076875,"question_id":76076276,"body_markdown":"Your assumption that `counter` and `counterB` use different locks **is wrong**.\r\n\r\n**Why**: because you declared your lock as\r\n\r\n    private Integer lock = 0;\r\n\r\nand the JVM caches `Integer` objects for all values from -128 to 127.\r\n\r\nDeclare your lock as\r\n\r\n    private Object lock = new Object();\r\n\r\nand only then will `counter` and `counterB` use different locks!\r\n\r\n----\r\nNote the important distinction here between object references and the referenced objects:\r\n\r\nBoth `counter` and `counterB` have a field `lock`, but these fields are not objects, they are merely references to some object.\r\n\r\nFor\r\n\r\n    private Integer lock = 0;\r\n\r\nthat referenced &quot;some object&quot; is the same for `counter` and `counterB` (because the Java Language Specification requires this for boxing of `int` values in the range -128 to 127) and synchronization happens on the object, not on the reference.\r\n\r\nExcerpt from the [Java Language Specification, Boxing Conversion](https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.7):\r\n\r\n&gt; If the value `p` being boxed is the result of evaluating a constant expression (&#167;15.29) of type `boolean`, `byte`, `char`, `short`, `int`, or `long`, and the result is `true`, `false`, a character in the range `&#39;\\u0000&#39;` to `&#39;\\u007f&#39;` inclusive, or an integer in the range `-128` to `127` inclusive, then let `a` and `b` be the results of any two boxing conversions of `p`. It is always the case that `a == b`.","title":"Why are all my threads using the same lock?","body":"<p>Your assumption that <code>counter</code> and <code>counterB</code> use different locks <strong>is wrong</strong>.</p>\n<p><strong>Why</strong>: because you declared your lock as</p>\n<pre><code>private Integer lock = 0;\n</code></pre>\n<p>and the JVM caches <code>Integer</code> objects for all values from -128 to 127.</p>\n<p>Declare your lock as</p>\n<pre><code>private Object lock = new Object();\n</code></pre>\n<p>and only then will <code>counter</code> and <code>counterB</code> use different locks!</p>\n<hr />\n<p>Note the important distinction here between object references and the referenced objects:</p>\n<p>Both <code>counter</code> and <code>counterB</code> have a field <code>lock</code>, but these fields are not objects, they are merely references to some object.</p>\n<p>For</p>\n<pre><code>private Integer lock = 0;\n</code></pre>\n<p>that referenced &quot;some object&quot; is the same for <code>counter</code> and <code>counterB</code> (because the Java Language Specification requires this for boxing of <code>int</code> values in the range -128 to 127) and synchronization happens on the object, not on the reference.</p>\n<p>Excerpt from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">Java Language Specification, Boxing Conversion</a>:</p>\n<blockquote>\n<p>If the value <code>p</code> being boxed is the result of evaluating a constant expression (§15.29) of type <code>boolean</code>, <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, or <code>long</code>, and the result is <code>true</code>, <code>false</code>, a character in the range <code>'\\u0000'</code> to <code>'\\u007f'</code> inclusive, or an integer in the range <code>-128</code> to <code>127</code> inclusive, then let <code>a</code> and <code>b</code> be the results of any two boxing conversions of <code>p</code>. It is always the case that <code>a == b</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":23897357,"reputation":61,"user_id":17896099,"display_name":"H-Bar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76076875,"answer_count":1,"score":0,"last_activity_date":1682145779,"creation_date":1682105951,"question_id":76076276,"body_markdown":"I recently came across this code snippet\r\n\r\n```\r\nclass Counter2 implements Runnable{\r\n\r\n    private int value = 0;\r\n\r\n    \r\n    private Integer lock = 0;\r\n\r\n    \r\n\r\n    public void increment(){\r\n        try {\r\n            Thread.sleep(20);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        value++;\r\n    }\r\n\r\n    public void decrement(){\r\n        value--;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        synchronized(lock) {\r\n            this.increment();\r\n            System.out.println(String.format(&quot;%s incremented value, value = %s&quot;, Thread.currentThread().getName(), this.value));\r\n            this.decrement();\r\n            System.out.println(String.format(&quot;%s decremented value, value = %s&quot;, Thread.currentThread().getName(), this.value));\r\n        }\r\n    }\r\n}\r\npublic class Part8_synchronized_keyword_1 {\r\n    \r\n    public static void main(String[] args) {\r\n        Counter2 counter = new Counter2();\r\n        new Thread(counter,&quot;Thread1&quot;).start();\r\n        new Thread(counter,&quot;Thread2&quot;).start();\r\n        new Thread(counter,&quot;Thread3&quot;).start();\r\n        new Thread(counter,&quot;Thread4&quot;).start();\r\n        Counter2 counterB = new Counter2();\r\n        new Thread(counterB, &quot;ThreadB&quot;).start();\r\n\r\n    }\r\n}\r\n\r\n```\r\nI get the output as follows\r\n\r\n```\r\nThread1 incremented value, value = 1\r\nThread1 decremented value, value = 0\r\nThreadB incremented value, value = 1\r\nThreadB decremented value, value = 0\r\nThread4 incremented value, value = 1\r\nThread4 decremented value, value = 0\r\nThread3 incremented value, value = 1\r\nThread3 decremented value, value = 0\r\nThread2 incremented value, value = 1\r\nThread2 decremented value, value = 0\r\n```\r\nWhy is it that it seems that threadB is competing with thread1...4 for the same lock?.\r\nBecause from my understanding the lock object will be different for counterB and counter\r\n","title":"Why are all my threads using the same lock?","body":"<p>I recently came across this code snippet</p>\n<pre><code>class Counter2 implements Runnable{\n\n    private int value = 0;\n\n    \n    private Integer lock = 0;\n\n    \n\n    public void increment(){\n        try {\n            Thread.sleep(20);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        value++;\n    }\n\n    public void decrement(){\n        value--;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    @Override\n    public void run() {\n        synchronized(lock) {\n            this.increment();\n            System.out.println(String.format(&quot;%s incremented value, value = %s&quot;, Thread.currentThread().getName(), this.value));\n            this.decrement();\n            System.out.println(String.format(&quot;%s decremented value, value = %s&quot;, Thread.currentThread().getName(), this.value));\n        }\n    }\n}\npublic class Part8_synchronized_keyword_1 {\n    \n    public static void main(String[] args) {\n        Counter2 counter = new Counter2();\n        new Thread(counter,&quot;Thread1&quot;).start();\n        new Thread(counter,&quot;Thread2&quot;).start();\n        new Thread(counter,&quot;Thread3&quot;).start();\n        new Thread(counter,&quot;Thread4&quot;).start();\n        Counter2 counterB = new Counter2();\n        new Thread(counterB, &quot;ThreadB&quot;).start();\n\n    }\n}\n\n</code></pre>\n<p>I get the output as follows</p>\n<pre><code>Thread1 incremented value, value = 1\nThread1 decremented value, value = 0\nThreadB incremented value, value = 1\nThreadB decremented value, value = 0\nThread4 incremented value, value = 1\nThread4 decremented value, value = 0\nThread3 incremented value, value = 1\nThread3 decremented value, value = 0\nThread2 incremented value, value = 1\nThread2 decremented value, value = 0\n</code></pre>\n<p>Why is it that it seems that threadB is competing with thread1...4 for the same lock?.\nBecause from my understanding the lock object will be different for counterB and counter</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","aws-lambda","ec2-ami"],"comments":[{"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"score":1,"creation_date":1681982675,"post_id":76062197,"comment_id":134145323,"body_markdown":"are you running any application in that EC2 Instance?","body":"are you running any application in that EC2 Instance?"},{"owner":{"account_id":20575872,"reputation":1,"user_id":15103071,"display_name":"Joe Jones"},"score":0,"creation_date":1682041228,"post_id":76062197,"comment_id":134157143,"body_markdown":"No application at the moment.","body":"No application at the moment."}],"answers":[{"tags":[],"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682145496,"creation_date":1682145496,"answer_id":76078349,"question_id":76062197,"body_markdown":"[Target group health check is different from instance health check.][1] \r\n\r\nIts purpose is to check if the application in your instance works correctly by sending request to the port which you specified and check if that port returns http status code as expected.\r\n\r\nThere must be application running on your selected port for target group to work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42466157/whats-the-difference-between-elb-health-check-and-ec2-health-check?rq=2","title":"Target health check failing continuously","body":"<p><a href=\"https://stackoverflow.com/questions/42466157/whats-the-difference-between-elb-health-check-and-ec2-health-check?rq=2\">Target group health check is different from instance health check.</a></p>\n<p>Its purpose is to check if the application in your instance works correctly by sending request to the port which you specified and check if that port returns http status code as expected.</p>\n<p>There must be application running on your selected port for target group to work.</p>\n"}],"owner":{"account_id":20575872,"reputation":1,"user_id":15103071,"display_name":"Joe Jones"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682145496,"creation_date":1681980518,"question_id":76062197,"body_markdown":"For a new instance created for EC2 in AWS cloud, trying to assign the same to load balancer based on target group.\r\n\r\nSteps followed:\r\n- Created load balancer\r\n- Created EC2 instance and configured security group with inbound traffic allowed from load balancer\r\n- Created target group and added EC2 instance in target\r\n- Configured the listener in load balancer to redirect specific path (&#39;/taskA/*&#39;) to newly created target group.\r\n\r\nAfter above steps waited for a while for target groups to initialize and setup. \r\nLater observed that under Registered targets section, status shows unhealthy and it says health check failed. \r\n\r\nNot sure what needs to be checked since the status description also dont mention exact failure reasons.\r\n\r\nPlease help to understand better this issue by sharing your views. \r\n\r\n\r\n\r\nExpecting the target group to work as expected and for any incoming request it should check for url path configured and redirect to specific instance page as configured in load balancer.","title":"Target health check failing continuously","body":"<p>For a new instance created for EC2 in AWS cloud, trying to assign the same to load balancer based on target group.</p>\n<p>Steps followed:</p>\n<ul>\n<li>Created load balancer</li>\n<li>Created EC2 instance and configured security group with inbound traffic allowed from load balancer</li>\n<li>Created target group and added EC2 instance in target</li>\n<li>Configured the listener in load balancer to redirect specific path ('/taskA/*') to newly created target group.</li>\n</ul>\n<p>After above steps waited for a while for target groups to initialize and setup.\nLater observed that under Registered targets section, status shows unhealthy and it says health check failed.</p>\n<p>Not sure what needs to be checked since the status description also dont mention exact failure reasons.</p>\n<p>Please help to understand better this issue by sharing your views.</p>\n<p>Expecting the target group to work as expected and for any incoming request it should check for url path configured and redirect to specific instance page as configured in load balancer.</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1681487872,"post_id":76016898,"comment_id":134069696,"body_markdown":"you posted the controller instead of the service","body":"you posted the controller instead of the service"},{"owner":{"account_id":28205901,"reputation":11,"user_id":21559005,"display_name":"Swarup Saha"},"score":0,"creation_date":1681581817,"post_id":76016898,"comment_id":134081017,"body_markdown":"@SharonBenAsher Sorry for the duplicate code, im new to this.\nI have updated the service class with proper information.\nfeel free to ask if you need anything more.","body":"@SharonBenAsher Sorry for the duplicate code, im new to this. I have updated the service class with proper information. feel free to ask if you need anything more."}],"answers":[{"tags":[],"owner":{"account_id":16796963,"reputation":114,"user_id":12143234,"display_name":"Uttam Pawar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682143287,"creation_date":1682143287,"answer_id":76078241,"question_id":76016898,"body_markdown":"If you want to return &quot;Email already taken&quot; when email already exists, here you have to change code like bellow : \r\n\r\n      Optional&lt;Student&gt; studentOptional = studentRepository.findByEmail(email);\r\n                if(studentOptional.isPresent()){\r\n                    throw new IllegalStateException(&quot;Email already taken&quot;);\r\n                }\r\n\r\nHope this solve your problem.\r\n","title":"Debugging an Issue which is in the StudentService class - Exception is not working in the code","body":"<p>If you want to return &quot;Email already taken&quot; when email already exists, here you have to change code like bellow :</p>\n<pre><code>  Optional&lt;Student&gt; studentOptional = studentRepository.findByEmail(email);\n            if(studentOptional.isPresent()){\n                throw new IllegalStateException(&quot;Email already taken&quot;);\n            }\n</code></pre>\n<p>Hope this solve your problem.</p>\n"}],"owner":{"account_id":28205901,"reputation":11,"user_id":21559005,"display_name":"Swarup Saha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682143287,"creation_date":1681487544,"question_id":76016898,"body_markdown":"This is the StudentController Class\r\n\r\n\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/student&quot;)\r\npublic class StudentController {\r\n    private final StudentService studentService;\r\n    @Autowired\r\n    public StudentController(StudentService studentService) {\r\n        this.studentService = studentService;\r\n    }\r\n    @GetMapping\r\n    public List&lt;Student&gt; getStudents(){\r\n        return studentService.getStudents();\r\n    }\r\n    @PostMapping\r\n    public void registerNewStudent(@RequestBody Student student){\r\n        studentService.addNewStudent(student);\r\n    }\r\n    @DeleteMapping(path = &quot;{studentId}&quot;)\r\n    public void deleteStudent(@PathVariable (&quot;studentId&quot;) Long studentId){\r\n        studentService.deleteStudent(studentId);\r\n    }\r\n    @PutMapping(path = &quot;{studentId}&quot;)\r\n    public void updateStudent(\r\n            @PathVariable(&quot;studentId&quot;) Long studentId,\r\n            @RequestParam(required = false) String name,\r\n            @RequestParam(required = false) String email){\r\n        studentService.updateStudent(studentId, name, email);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nBelow is the StudentService Class:\r\n\r\n\r\n```\r\npackage com.example.demo.student;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class StudentService {\r\n    private final StudentRepository studentRepository;\r\n    public StudentService(StudentRepository studentRepository) {\r\n        this.studentRepository = studentRepository;\r\n    }\r\n    public List&lt;Student&gt; getStudents(){\r\n        return studentRepository.findAll();\r\n    }\r\n\r\n    public void addNewStudent(Student student) {\r\n        Optional&lt;Student&gt; studentOptional = studentRepository\r\n                .findStudentByEmail(student.getEmail());\r\n        if(studentOptional.isPresent()){\r\n            throw new IllegalStateException(&quot;Email already taken&quot;);\r\n        }\r\n        studentRepository.save(student);\r\n    }\r\n\r\n    public void deleteStudent(Long studentId) {\r\n        boolean exists = studentRepository.existsById(studentId);\r\n        if(!exists){\r\n            throw new IllegalStateException(\r\n                    &quot;Student with ID &quot; + studentId + &quot; does not exists.&quot;);\r\n        }\r\n        studentRepository.deleteById(studentId);\r\n    }\r\n\r\n    @Transactional\r\n    public void updateStudent( Long studentId,\r\n                               String name,\r\n                               String email){\r\n        Student student = studentRepository.findById(studentId)\r\n                .orElseThrow(() -&gt; new IllegalStateException(\r\n                        &quot;Student with ID &quot; + studentId + &quot; does not exists&quot;));\r\n\r\n        if(name != null &amp;&amp; name.length() &gt; 0 &amp;&amp;\r\n            !Objects.equals(student.getName(),name)){\r\n            student.setName(name);\r\n        }\r\n        if(email != null &amp;&amp; email.length() &gt; 0 &amp;&amp;\r\n                !Objects.equals(student.getEmail(),email)){\r\n            Optional&lt;Student&gt; studentOptional = studentRepository.findStudentByEmail(email);\r\n            if(studentOptional.isPresent()){\r\n                throw new IllegalStateException(&quot;Email already taken&quot;);\r\n            }\r\n            student.setEmail(email);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\nThis is the generated-request.http file \r\n\r\n\r\n```\r\n###\r\nPUT http://localhost:8080/api/v1/student/1?name=Maria&amp;email=maria@gmail.com\r\nContent-Type: application/json\r\n\r\n&lt;&gt; 2023-04-14T205328.500.json\r\n```\r\n\r\nApplication Properties:\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/student\r\nspring.datasource.username= postgres\r\nspring.datasource.password= 9435561259\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nserver.error.include-message=always\r\n```\r\n\r\n\r\n\r\nThe Server is working as it should with all the working CRUDE properties, but in the PUT property of the server:\r\n\r\n1. when i first try to update the name of the student with proper ID, it takes effect\r\n2. When i check for the exception for an ID which is not there it works even then\r\n3. But when i try to update the ID with the same email address it should throw an exception of &quot;Email already taken&quot;.\r\n But somehow it is not doing that. Its still showing status code 200.\r\n\r\nCan someone give their valuable inputs in this issue.\r\nYour response are highly valuable to me. ","title":"Debugging an Issue which is in the StudentService class - Exception is not working in the code","body":"<p>This is the StudentController Class</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n@RestController\n@RequestMapping(path = &quot;api/v1/student&quot;)\npublic class StudentController {\n    private final StudentService studentService;\n    @Autowired\n    public StudentController(StudentService studentService) {\n        this.studentService = studentService;\n    }\n    @GetMapping\n    public List&lt;Student&gt; getStudents(){\n        return studentService.getStudents();\n    }\n    @PostMapping\n    public void registerNewStudent(@RequestBody Student student){\n        studentService.addNewStudent(student);\n    }\n    @DeleteMapping(path = &quot;{studentId}&quot;)\n    public void deleteStudent(@PathVariable (&quot;studentId&quot;) Long studentId){\n        studentService.deleteStudent(studentId);\n    }\n    @PutMapping(path = &quot;{studentId}&quot;)\n    public void updateStudent(\n            @PathVariable(&quot;studentId&quot;) Long studentId,\n            @RequestParam(required = false) String name,\n            @RequestParam(required = false) String email){\n        studentService.updateStudent(studentId, name, email);\n    }\n}\n</code></pre>\n<p>Below is the StudentService Class:</p>\n<pre><code>package com.example.demo.student;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\n\n@Service\npublic class StudentService {\n    private final StudentRepository studentRepository;\n    public StudentService(StudentRepository studentRepository) {\n        this.studentRepository = studentRepository;\n    }\n    public List&lt;Student&gt; getStudents(){\n        return studentRepository.findAll();\n    }\n\n    public void addNewStudent(Student student) {\n        Optional&lt;Student&gt; studentOptional = studentRepository\n                .findStudentByEmail(student.getEmail());\n        if(studentOptional.isPresent()){\n            throw new IllegalStateException(&quot;Email already taken&quot;);\n        }\n        studentRepository.save(student);\n    }\n\n    public void deleteStudent(Long studentId) {\n        boolean exists = studentRepository.existsById(studentId);\n        if(!exists){\n            throw new IllegalStateException(\n                    &quot;Student with ID &quot; + studentId + &quot; does not exists.&quot;);\n        }\n        studentRepository.deleteById(studentId);\n    }\n\n    @Transactional\n    public void updateStudent( Long studentId,\n                               String name,\n                               String email){\n        Student student = studentRepository.findById(studentId)\n                .orElseThrow(() -&gt; new IllegalStateException(\n                        &quot;Student with ID &quot; + studentId + &quot; does not exists&quot;));\n\n        if(name != null &amp;&amp; name.length() &gt; 0 &amp;&amp;\n            !Objects.equals(student.getName(),name)){\n            student.setName(name);\n        }\n        if(email != null &amp;&amp; email.length() &gt; 0 &amp;&amp;\n                !Objects.equals(student.getEmail(),email)){\n            Optional&lt;Student&gt; studentOptional = studentRepository.findStudentByEmail(email);\n            if(studentOptional.isPresent()){\n                throw new IllegalStateException(&quot;Email already taken&quot;);\n            }\n            student.setEmail(email);\n        }\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</code></pre>\n<p>This is the generated-request.http file</p>\n<pre><code>###\nPUT http://localhost:8080/api/v1/student/1?name=Maria&amp;email=maria@gmail.com\nContent-Type: application/json\n\n&lt;&gt; 2023-04-14T205328.500.json\n</code></pre>\n<p>Application Properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/student\nspring.datasource.username= postgres\nspring.datasource.password= 9435561259\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.error.include-message=always\n</code></pre>\n<p>The Server is working as it should with all the working CRUDE properties, but in the PUT property of the server:</p>\n<ol>\n<li>when i first try to update the name of the student with proper ID, it takes effect</li>\n<li>When i check for the exception for an ID which is not there it works even then</li>\n<li>But when i try to update the ID with the same email address it should throw an exception of &quot;Email already taken&quot;.\nBut somehow it is not doing that. Its still showing status code 200.</li>\n</ol>\n<p>Can someone give their valuable inputs in this issue.\nYour response are highly valuable to me.</p>\n"},{"tags":["java","hibernate","sorting","boolean","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":3028,"reputation":10097,"user_id":4287,"accept_rate":96,"display_name":"Robert J. Walker"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1349285679,"creation_date":1349285679,"answer_id":12713833,"question_id":12713759,"body_markdown":"It will sort `false` first, since in the database `true` and `false` are represented as `1` and `0`, respectively.","title":"How are Booleans sorted?","body":"<p>It will sort <code>false</code> first, since in the database <code>true</code> and <code>false</code> are represented as <code>1</code> and <code>0</code>, respectively.</p>\n"},{"tags":[],"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1349285835,"creation_date":1349285835,"answer_id":12713874,"question_id":12713759,"body_markdown":"By default, `boolean`s are sorted with `false` first, followed by `true`.  This is because in binary `false` equals `0` and `true` equals `1`.  Hence the old C paradigm of `while(1) { }` (which, incidentally, doesn&#39;t compile in Java).","title":"How are Booleans sorted?","body":"<p>By default, <code>boolean</code>s are sorted with <code>false</code> first, followed by <code>true</code>.  This is because in binary <code>false</code> equals <code>0</code> and <code>true</code> equals <code>1</code>.  Hence the old C paradigm of <code>while(1) { }</code> (which, incidentally, doesn't compile in Java).</p>\n"}],"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14071,"favorite_count":0,"down_vote_count":7,"up_vote_count":12,"accepted_answer_id":12713833,"answer_count":2,"score":5,"last_activity_date":1682143091,"creation_date":1349285420,"question_id":12713759,"body_markdown":"I am sorting with the following code:\r\n\r\n    undoneCategories = session.createCriteria(Category.class);\r\n    undoneCategories.add(Restrictions.eq(&quot;Done&quot;, false));\r\n    undoneCategories.addOrder(Order.asc(&quot;UpwardGenerator&quot;));\r\n    undoneCategories.setMaxResults(1);\r\n\r\nwhere `UpwardGenerator` is `boolean`.\r\n\r\nHow will it be sorted? With `false` first, or with `true` first? What about `null`/`nil`/undefined values?","title":"How are Booleans sorted?","body":"<p>I am sorting with the following code:</p>\n<pre><code>undoneCategories = session.createCriteria(Category.class);\nundoneCategories.add(Restrictions.eq(&quot;Done&quot;, false));\nundoneCategories.addOrder(Order.asc(&quot;UpwardGenerator&quot;));\nundoneCategories.setMaxResults(1);\n</code></pre>\n<p>where <code>UpwardGenerator</code> is <code>boolean</code>.</p>\n<p>How will it be sorted? With <code>false</code> first, or with <code>true</code> first? What about <code>null</code>/<code>nil</code>/undefined values?</p>\n"},{"tags":["java","spring","postgresql","jdbc","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":1140370,"reputation":1023,"user_id":1124471,"accept_rate":62,"display_name":"workwise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682140747,"creation_date":1682140747,"answer_id":76078134,"question_id":76078095,"body_markdown":"So first I tried checking error logs but no connection attempts were being logged. I came to know connections are not logged by default so turned them on with:\r\n\r\n    log_connections = on\r\n\r\nin file `/etc/postgresql/14/main/postgresql.conf` (in my case, on ubuntu linux)\r\n\r\n\r\nThen, the error logs (in my case file `/var/log/postgresql/postgresql-14-main.log` on ubuntu), showed that jdbc connections were not reaching the server while normal socket connections were being shown.\r\n\r\nThat made me crosscheck the ports in the spring boot application and the postgresql conf file, and I found that the `application.xml` was using a different port to connect than the default one `5434` (but it was very similar looking to the default port, which is why I missed noticing it at a cursory inspection earlier).\r\n\r\n\r\n\r\n","title":"PostgreSQL + JDBC - authentication failed","body":"<p>So first I tried checking error logs but no connection attempts were being logged. I came to know connections are not logged by default so turned them on with:</p>\n<pre><code>log_connections = on\n</code></pre>\n<p>in file <code>/etc/postgresql/14/main/postgresql.conf</code> (in my case, on ubuntu linux)</p>\n<p>Then, the error logs (in my case file <code>/var/log/postgresql/postgresql-14-main.log</code> on ubuntu), showed that jdbc connections were not reaching the server while normal socket connections were being shown.</p>\n<p>That made me crosscheck the ports in the spring boot application and the postgresql conf file, and I found that the <code>application.xml</code> was using a different port to connect than the default one <code>5434</code> (but it was very similar looking to the default port, which is why I missed noticing it at a cursory inspection earlier).</p>\n"}],"owner":{"account_id":1140370,"reputation":1023,"user_id":1124471,"accept_rate":62,"display_name":"workwise"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682140747,"creation_date":1682139626,"question_id":76078095,"body_markdown":"*Update: It was a silly port configuration issue at my end - but answering below how I resolved it just in case it helps someone.*\r\n\r\n\r\nIn my spring boot application, running on Ubuntu 22 with PostgreSQL 14.7, I am getting a password authentication error when trying to connect to the postgresql server:\r\n\r\n    org.postgresql.util.PSQLException: FATAL: password authentication failed for user \r\n\r\n\r\nI have tried `password`, `md5`, `trust` and `scram-sha-256` as the settings in `pg_hba.conf`\r\n\r\n\r\n    # IPv4 local connections:\r\n    #host    all             all             127.0.0.1/32            scram-sha-256\r\n    host    all             all             127.0.0.1/32            trust\r\n    #host    all             all             127.0.0.1/32            password\r\n    \r\n    # IPv6 local connections:\r\n    #host    all             all             ::1/128                 scram-sha-256\r\n    host    all             all             ::1/128                 trust\r\n    #host    all             all             ::1/128                  password\r\n\r\n\r\n\r\nI am able to connect with the username / password combination through command line. In case it matters, I am using `mvn spring-boot:run` command to run the spring boot application.\r\n\r\n\r\nSomewhere I read that upgrading the postgresql driver to a specific version helps, so I have added this version in `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;version&gt;42.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nHow to identify the problem with the spring boot application connection and fix it? Please help!\r\n\r\n","title":"PostgreSQL + JDBC - authentication failed","body":"<p><em>Update: It was a silly port configuration issue at my end - but answering below how I resolved it just in case it helps someone.</em></p>\n<p>In my spring boot application, running on Ubuntu 22 with PostgreSQL 14.7, I am getting a password authentication error when trying to connect to the postgresql server:</p>\n<pre><code>org.postgresql.util.PSQLException: FATAL: password authentication failed for user \n</code></pre>\n<p>I have tried <code>password</code>, <code>md5</code>, <code>trust</code> and <code>scram-sha-256</code> as the settings in <code>pg_hba.conf</code></p>\n<pre><code># IPv4 local connections:\n#host    all             all             127.0.0.1/32            scram-sha-256\nhost    all             all             127.0.0.1/32            trust\n#host    all             all             127.0.0.1/32            password\n\n# IPv6 local connections:\n#host    all             all             ::1/128                 scram-sha-256\nhost    all             all             ::1/128                 trust\n#host    all             all             ::1/128                  password\n</code></pre>\n<p>I am able to connect with the username / password combination through command line. In case it matters, I am using <code>mvn spring-boot:run</code> command to run the spring boot application.</p>\n<p>Somewhere I read that upgrading the postgresql driver to a specific version helps, so I have added this version in <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;version&gt;42.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How to identify the problem with the spring boot application connection and fix it? Please help!</p>\n"},{"tags":["java","arrays","pass-by-reference"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":9,"creation_date":1328333905,"post_id":9138691,"comment_id":11487352,"body_markdown":"Why not simply test this? And if you have, what was your conclusion? (not my down-vote by the way)","body":"Why not simply test this? And if you have, what was your conclusion? (not my down-vote by the way)"},{"owner":{"account_id":245807,"reputation":6998,"user_id":519539,"accept_rate":91,"display_name":"Petro Semeniuk"},"score":1,"creation_date":1328334633,"post_id":9138691,"comment_id":11487429,"body_markdown":"I have no problem with  downvote :-). I agree that this is very basic question however I also asked it to myself earl in career and what official java tutor on sun (now oracle) offers is usually either very generic or very high level is java is your first programming language you are learning.","body":"I have no problem with  downvote :-). I agree that this is very basic question however I also asked it to myself earl in career and what official java tutor on sun (now oracle) offers is usually either very generic or very high level is java is your first programming language you are learning."}],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1328336410,"creation_date":1328333982,"answer_id":9138699,"question_id":9138691,"body_markdown":"Everything in Java is pass-by-value.  However, if you&#39;re passing a reference, it&#39;s the value of the reference.\r\n\r\nSince Java methods can&#39;t reach into the caller&#39;s stack to reassign variables, no method call can change the identity of a reference (address) there.  This is what we mean when we say Java is not pass-by-reference.  This contrasts with C++ (and similar languages), which allows this in some cases.\r\n\r\nNow let&#39;s look at some effects.\r\n\r\nIf I do:\r\n\r\n    Object[] o = ...\r\n    mutateArray(o);\r\n\r\nthe *contents* can be different afterwards, since all `mutateArray` needs is the address of an array to change its contents.  However, the address of `o` will be the same.  If I do:\r\n\r\n    String x = &quot;foo&quot;;\r\n    tryToMutateString(x);\r\n\r\nthe address of `x` is again the same afterwards.  Since strings are immutable, this implies that it will also still be `&quot;foo&quot;`.\r\n\r\nTo mutate an object is to change the contents of it (e.g. successfully changing the last element of `o`, or trying to change the last letter of &quot;foo&quot; to &#39;d&#39;).  This should not be be confused with reassigning `x` or `o` in the caller&#39;s stack (impossible).\r\n\r\nThe Wikipedia section on [call by sharing][1] may shed additional light.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing","title":"Are arrays in java pass by reference or pass by value?","body":"<p>Everything in Java is pass-by-value.  However, if you're passing a reference, it's the value of the reference.</p>\n\n<p>Since Java methods can't reach into the caller's stack to reassign variables, no method call can change the identity of a reference (address) there.  This is what we mean when we say Java is not pass-by-reference.  This contrasts with C++ (and similar languages), which allows this in some cases.</p>\n\n<p>Now let's look at some effects.</p>\n\n<p>If I do:</p>\n\n<pre><code>Object[] o = ...\nmutateArray(o);\n</code></pre>\n\n<p>the <em>contents</em> can be different afterwards, since all <code>mutateArray</code> needs is the address of an array to change its contents.  However, the address of <code>o</code> will be the same.  If I do:</p>\n\n<pre><code>String x = \"foo\";\ntryToMutateString(x);\n</code></pre>\n\n<p>the address of <code>x</code> is again the same afterwards.  Since strings are immutable, this implies that it will also still be <code>\"foo\"</code>.</p>\n\n<p>To mutate an object is to change the contents of it (e.g. successfully changing the last element of <code>o</code>, or trying to change the last letter of \"foo\" to 'd').  This should not be be confused with reassigning <code>x</code> or <code>o</code> in the caller's stack (impossible).</p>\n\n<p>The Wikipedia section on <a href=\"http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing\" rel=\"noreferrer\">call by sharing</a> may shed additional light.</p>\n"},{"tags":[],"owner":{"account_id":1210971,"reputation":3207,"user_id":1179505,"display_name":"Retief"},"comment_count":0,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1328334200,"creation_date":1328334200,"answer_id":9138715,"question_id":9138691,"body_markdown":"Arrays, like all other objects, are pass by reference (technically, you are passing a reference by value, but from the objects point of view, it is passed by reference).  If you pass an array to a method and the method changes the array, the caller will see the changes.  If you want to avoid having your copy modified, you need to copy it yourself.  It doesn&#39;t matter whether the array contains primitives or objects.  In general, this is the behavior you want, since passing by value would involve unnecessarily copying the (potentially large) array every time you use it as an argument.","title":"Are arrays in java pass by reference or pass by value?","body":"<p>Arrays, like all other objects, are pass by reference (technically, you are passing a reference by value, but from the objects point of view, it is passed by reference).  If you pass an array to a method and the method changes the array, the caller will see the changes.  If you want to avoid having your copy modified, you need to copy it yourself.  It doesn't matter whether the array contains primitives or objects.  In general, this is the behavior you want, since passing by value would involve unnecessarily copying the (potentially large) array every time you use it as an argument.</p>\n"},{"comments":[{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":0,"creation_date":1328336348,"post_id":9138835,"comment_id":11487610,"body_markdown":"I&#39;m down-voting this, since two people already said it, and it&#39;s misleading at best.  At least Petro explained the terminology dispute.","body":"I&#39;m down-voting this, since two people already said it, and it&#39;s misleading at best.  At least Petro explained the terminology dispute."}],"tags":[],"owner":{"account_id":1222642,"reputation":1,"user_id":1188961,"display_name":"Sachin Gupta"},"comment_count":1,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1328335947,"creation_date":1328335947,"answer_id":9138835,"question_id":9138691,"body_markdown":"The Jist of it is - everything in Java is passed by reference, unless it is a primitive.","title":"Are arrays in java pass by reference or pass by value?","body":"<p>The Jist of it is - everything in Java is passed by reference, unless it is a primitive.</p>\n"},{"tags":[],"owner":{"account_id":27892097,"reputation":15,"user_id":21298248,"display_name":"Shreya Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682140668,"creation_date":1682140668,"answer_id":76078130,"question_id":9138691,"body_markdown":"Everything in java is passed by value, it is confusing because when we create an object or array in java, we store the address of that object in our variable(and not the object). So when we pass that variable in a method, that method takes the address(which is a value) and store it in its local variable. any changes to the local variable will not be reflected in the original variable.\r\nhowever, we can use the local variable(which contains the address of the object) to access the fields and methods of the object.\r\nsame is with the array as it is also an object.\r\n\r\nhere is how we can use all this knowledge\r\n\r\n    package newStart;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class JavaIsAlwaysCallByValueArray {\r\n\r\n\r\n    static void swap(int[] a,int[] b )\r\n    {\r\n\t    int[] temp=a;\r\n\t    a=b;\r\n\t    b=temp; //all this is doing is swapping the address of local variables \r\n    of this method which will not be reflected in main method \r\n    }\r\n\r\n    static void swapThisWay(int[] a,int b[])\r\n    {\r\n\t    int[] temp=new int[b.length];\r\n\t    for(int i=0;i&lt;a.length;i++)  //here we are using this variable to \r\n    access field of array object\r\n\t\t    temp[i]=a[i];\r\n\t    for(int i=0;i&lt;b.length;i++)\r\n\t    {\r\n\t\t    a[i]=b[i];\r\n\t    }\r\n\t    for(int i=0;i&lt;b.length;i++)\r\n\t\t    b[i]=temp[i];\r\n        `enter code here`}\r\n\r\n    public static void main(String args[])\r\n    {\r\n\t    int a1[]= {1,2,4,6,8};\r\n\t    int a2[]= {6,5,3,8,9};\r\n\t    swap(a1,a2);\r\n\t    System.out.println(&quot;just swap \\na1 : &quot;+Arrays.toString(a1)+&quot;\\na2 : \r\n    &quot;+Arrays.toString(a2));\r\n\t    swapThisWay(a1,a2);\r\n\t    System.out.println(&quot;Now \\na1 : &quot;+Arrays.toString(a1)+&quot;\\na2 : \r\n    &quot;+Arrays.toString(a2));\r\n    }\r\n\r\n    }\r\n","title":"Are arrays in java pass by reference or pass by value?","body":"<p>Everything in java is passed by value, it is confusing because when we create an object or array in java, we store the address of that object in our variable(and not the object). So when we pass that variable in a method, that method takes the address(which is a value) and store it in its local variable. any changes to the local variable will not be reflected in the original variable.\nhowever, we can use the local variable(which contains the address of the object) to access the fields and methods of the object.\nsame is with the array as it is also an object.</p>\n<p>here is how we can use all this knowledge</p>\n<pre><code>package newStart;\n\nimport java.util.Arrays;\n\npublic class JavaIsAlwaysCallByValueArray {\n\n\nstatic void swap(int[] a,int[] b )\n{\n    int[] temp=a;\n    a=b;\n    b=temp; //all this is doing is swapping the address of local variables \nof this method which will not be reflected in main method \n}\n\nstatic void swapThisWay(int[] a,int b[])\n{\n    int[] temp=new int[b.length];\n    for(int i=0;i&lt;a.length;i++)  //here we are using this variable to \naccess field of array object\n        temp[i]=a[i];\n    for(int i=0;i&lt;b.length;i++)\n    {\n        a[i]=b[i];\n    }\n    for(int i=0;i&lt;b.length;i++)\n        b[i]=temp[i];\n    `enter code here`}\n\npublic static void main(String args[])\n{\n    int a1[]= {1,2,4,6,8};\n    int a2[]= {6,5,3,8,9};\n    swap(a1,a2);\n    System.out.println(&quot;just swap \\na1 : &quot;+Arrays.toString(a1)+&quot;\\na2 : \n&quot;+Arrays.toString(a2));\n    swapThisWay(a1,a2);\n    System.out.println(&quot;Now \\na1 : &quot;+Arrays.toString(a1)+&quot;\\na2 : \n&quot;+Arrays.toString(a2));\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":1204808,"reputation":11030,"user_id":1174719,"accept_rate":88,"display_name":"Nosrettap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4681,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":9138699,"answer_count":4,"score":5,"last_activity_date":1682140668,"creation_date":1328333803,"question_id":9138691,"body_markdown":"Are arrays in Java pass by reference or pass by value?\r\n\r\nSuppose I have an array called `data` that contains objects of some type. Now let us suppose that I pass and store that array in class A and then I pass it to class B and class B changes one of the entries of the array. Will class A&#39;s version of the array change? Does it matter if this was an array of primitives (such as `int`) instead?  What about ArrayLists?\r\n","title":"Are arrays in java pass by reference or pass by value?","body":"<p>Are arrays in Java pass by reference or pass by value?</p>\n<p>Suppose I have an array called <code>data</code> that contains objects of some type. Now let us suppose that I pass and store that array in class A and then I pass it to class B and class B changes one of the entries of the array. Will class A's version of the array change? Does it matter if this was an array of primitives (such as <code>int</code>) instead?  What about ArrayLists?</p>\n"},{"tags":["java","spring-boot","spring-security","websocket","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1682138178,"creation_date":1682138178,"answer_id":76078042,"question_id":76076405,"body_markdown":"Here is basic auth implementation:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n            .requestMatchers(&quot;/&quot;, &quot;/ws/**&quot;)\r\n            .permitAll()\r\n            .and()\r\n            .authorizeHttpRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .formLogin()\r\n            .and()\r\n            .logout(logout -&gt; logout.logoutSuccessUrl(&quot;/&quot;));\r\n        return http.build();\r\n      }\r\n    \r\n      @Bean\r\n      public InMemoryUserDetailsManager userDetailsService() {\r\n        UserDetails user =\r\n            User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;123&quot;).roles(&quot;USER&quot;).build();\r\n        UserDetails user2 =\r\n            User.withDefaultPasswordEncoder().username(&quot;user&quot;).password(&quot;123&quot;).roles(&quot;USER&quot;).build();\r\n        return new InMemoryUserDetailsManager(List.of(user, user2));\r\n      }\r\n    }\r\n\r\nIt uses form login. If you want to see all source codes check it out:\r\nhttps://github.com/gurkanucar/spring-boot-secure-websocket","title":"Java Spring Security 6 Websocket","body":"<p>Here is basic auth implementation:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests()\n        .requestMatchers(&quot;/&quot;, &quot;/ws/**&quot;)\n        .permitAll()\n        .and()\n        .authorizeHttpRequests()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .formLogin()\n        .and()\n        .logout(logout -&gt; logout.logoutSuccessUrl(&quot;/&quot;));\n    return http.build();\n  }\n\n  @Bean\n  public InMemoryUserDetailsManager userDetailsService() {\n    UserDetails user =\n        User.withDefaultPasswordEncoder().username(&quot;admin&quot;).password(&quot;123&quot;).roles(&quot;USER&quot;).build();\n    UserDetails user2 =\n        User.withDefaultPasswordEncoder().username(&quot;user&quot;).password(&quot;123&quot;).roles(&quot;USER&quot;).build();\n    return new InMemoryUserDetailsManager(List.of(user, user2));\n  }\n}\n</code></pre>\n<p>It uses form login. If you want to see all source codes check it out:\n<a href=\"https://github.com/gurkanucar/spring-boot-secure-websocket\" rel=\"nofollow noreferrer\">https://github.com/gurkanucar/spring-boot-secure-websocket</a></p>\n"}],"owner":{"account_id":24972636,"reputation":13,"user_id":18835666,"display_name":"Maruusa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76078042,"answer_count":1,"score":1,"last_activity_date":1682138178,"creation_date":1682107317,"question_id":76076405,"body_markdown":"First, I tried to make a clean simple project with websockets without security, here&#39;s the code:\r\n\r\nController:\r\n```\r\n@RestController\r\npublic class Controller {\r\n    private final SimpMessagingTemplate template;\r\n\r\n    public Controller(SimpMessagingTemplate template) {\r\n        this.template = template;\r\n    }\r\n\r\n    @PostMapping(&quot;/sendLong&quot;)\r\n    public void sendLong(@RequestParam(&quot;id&quot;) Long id) {\r\n        template.convertAndSend(&quot;/topic/long&quot;, id);\r\n    }\r\n}\r\n```\r\n\r\nConfiguration:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;)\r\n                .setAllowedOriginPatterns(&quot;*&quot;)\r\n                .withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/topic&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nClient side:\r\n```\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;WebSocket Test&lt;/title&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/sockjs-client@1.5.0/dist/sockjs.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;script&gt;\r\n        const sock = new SockJS(&#39;http://localhost:8080/ws&#39;);\r\n        const stompClient = Stomp.over(sock);\r\n\t\t\r\n        stompClient.connect({}, (frame) =&gt; {\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            stompClient.subscribe(&#39;/topic/long&#39;, (message) =&gt; {\r\n                console.log(&#39;Received: &#39; + message.body);\r\n            });\r\n        });\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nAt this stage, everything works perfectly, but when I connect security, I get an error \r\n\r\n\r\n[Error](https://i.stack.imgur.com/xNeiv.png)\r\n\r\n\r\nhere&#39;s the security code:\r\n\r\nSecurity configuration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .permitAll()\r\n                .and()\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nWebsocket security configuration\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocketSecurity\r\npublic class WebSocketSecurityConfig {\r\n\r\n    @Bean\r\n    AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\r\n        messages\r\n                .anyMessage().permitAll();\r\n        return messages.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere I am trying to allow access to endpoints for all users, but the connection does not work, I tried different methods like:\r\n\r\n\r\n```\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\r\n    }\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        AuthorizationManager&lt;Message&lt;?&gt;&gt; myAuthorizationRules = AuthenticatedAuthorizationManager.anonymous();\r\n        AuthorizationChannelInterceptor authz = new AuthorizationChannelInterceptor(myAuthorizationRules);\r\n        AuthorizationEventPublisher publisher = new SpringAuthorizationEventPublisher(this.context);\r\n        authz.setAuthorizationEventPublisher(publisher);\r\n        registration.interceptors(new SecurityContextChannelInterceptor(), authz);\r\n    }\r\n```\r\n\r\n\r\nAs far as I understand, this disables csrf, but none of this helps, what could be the problem? \r\n\r\nAlso, in the future, I plan to connect a JWT filter. How is the JWT token obtained when working with WebSocket on Spring Boot 3 and Security 6?","title":"Java Spring Security 6 Websocket","body":"<p>First, I tried to make a clean simple project with websockets without security, here's the code:</p>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class Controller {\n    private final SimpMessagingTemplate template;\n\n    public Controller(SimpMessagingTemplate template) {\n        this.template = template;\n    }\n\n    @PostMapping(&quot;/sendLong&quot;)\n    public void sendLong(@RequestParam(&quot;id&quot;) Long id) {\n        template.convertAndSend(&quot;/topic/long&quot;, id);\n    }\n}\n</code></pre>\n<p>Configuration:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws&quot;)\n                .setAllowedOriginPatterns(&quot;*&quot;)\n                .withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n    \n}\n\n</code></pre>\n<p>Client side:</p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;WebSocket Test&lt;/title&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/sockjs-client@1.5.0/dist/sockjs.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;script&gt;\n        const sock = new SockJS('http://localhost:8080/ws');\n        const stompClient = Stomp.over(sock);\n        \n        stompClient.connect({}, (frame) =&gt; {\n            console.log('Connected: ' + frame);\n            stompClient.subscribe('/topic/long', (message) =&gt; {\n                console.log('Received: ' + message.body);\n            });\n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>At this stage, everything works perfectly, but when I connect security, I get an error</p>\n<p><a href=\"https://i.stack.imgur.com/xNeiv.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>here's the security code:</p>\n<p>Security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .anyRequest()\n                .permitAll()\n                .and()\n                .build();\n    }\n}\n</code></pre>\n<p>Websocket security configuration</p>\n<pre><code>@Configuration\n@EnableWebSocketSecurity\npublic class WebSocketSecurityConfig {\n\n    @Bean\n    AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\n        messages\n                .anyMessage().permitAll();\n        return messages.build();\n    }\n}\n</code></pre>\n<p>Here I am trying to allow access to endpoints for all users, but the connection does not work, I tried different methods like:</p>\n<pre><code>    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        AuthorizationManager&lt;Message&lt;?&gt;&gt; myAuthorizationRules = AuthenticatedAuthorizationManager.anonymous();\n        AuthorizationChannelInterceptor authz = new AuthorizationChannelInterceptor(myAuthorizationRules);\n        AuthorizationEventPublisher publisher = new SpringAuthorizationEventPublisher(this.context);\n        authz.setAuthorizationEventPublisher(publisher);\n        registration.interceptors(new SecurityContextChannelInterceptor(), authz);\n    }\n</code></pre>\n<p>As far as I understand, this disables csrf, but none of this helps, what could be the problem?</p>\n<p>Also, in the future, I plan to connect a JWT filter. How is the JWT token obtained when working with WebSocket on Spring Boot 3 and Security 6?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":12575779,"reputation":701,"user_id":9148230,"display_name":"Akash Chaudhary"},"score":0,"creation_date":1603423305,"post_id":62503575,"comment_id":114039289,"body_markdown":"This seems to be incomplete, can your provide the full code snippet. Also, is there any way to add image in full resolution to pdf with scaling?","body":"This seems to be incomplete, can your provide the full code snippet. Also, is there any way to add image in full resolution to pdf with scaling?"}],"tags":[],"owner":{"account_id":12969919,"reputation":51,"user_id":9376010,"display_name":"Akhlaq Rifat Rahman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592768453,"creation_date":1592768453,"answer_id":62503575,"question_id":62503143,"body_markdown":"After looking for some solutions from various websites, i have managed to make an pdf generator app. Where i convert the whole view as it is in my pdf. It works for me. Hope that it may be a help to you.\r\n\r\n    private fun savePdf() {\r\n        val printAttributes = PrintAttributes.Builder()\r\n                .setMediaSize(PrintAttributes.MediaSize.ISO_A4)\r\n                .setResolution(Resolution(&quot;id&quot;, Context.PRINT_SERVICE, 400, 600))\r\n                .setColorMode(PrintAttributes.COLOR_MODE_COLOR)\r\n                .setMinMargins(PrintAttributes.Margins.NO_MARGINS)\r\n                .build()\r\n        val pdfDocument = PrintedPdfDocument(this, printAttributes)\r\n        val content = findViewById&lt;View&gt;(R.id.linearLayoutId)\r\n        val pageInfo = PageInfo.Builder(content.width, content.height, 1).create()\r\n        val page = pdfDocument.startPage(pageInfo)\r\n        content.draw(page.canvas)\r\n        pdfDocument.finishPage(page)\r\n        val file = File(Environment.getExternalStorageDirectory(), &quot;/hello9.pdf&quot;)\r\n        try {\r\n            pdfDocument.writeTo(FileOutputStream(file))\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n        pdfDocument.close()\r\n    }","title":"center image in PdfDocument","body":"<p>After looking for some solutions from various websites, i have managed to make an pdf generator app. Where i convert the whole view as it is in my pdf. It works for me. Hope that it may be a help to you.</p>\n<pre><code>private fun savePdf() {\n    val printAttributes = PrintAttributes.Builder()\n            .setMediaSize(PrintAttributes.MediaSize.ISO_A4)\n            .setResolution(Resolution(&quot;id&quot;, Context.PRINT_SERVICE, 400, 600))\n            .setColorMode(PrintAttributes.COLOR_MODE_COLOR)\n            .setMinMargins(PrintAttributes.Margins.NO_MARGINS)\n            .build()\n    val pdfDocument = PrintedPdfDocument(this, printAttributes)\n    val content = findViewById&lt;View&gt;(R.id.linearLayoutId)\n    val pageInfo = PageInfo.Builder(content.width, content.height, 1).create()\n    val page = pdfDocument.startPage(pageInfo)\n    content.draw(page.canvas)\n    pdfDocument.finishPage(page)\n    val file = File(Environment.getExternalStorageDirectory(), &quot;/hello9.pdf&quot;)\n    try {\n        pdfDocument.writeTo(FileOutputStream(file))\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n    pdfDocument.close()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3067357,"reputation":21,"user_id":2598762,"display_name":"GreddyDC5"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682030816,"creation_date":1682030816,"answer_id":76068721,"question_id":62503143,"body_markdown":"I was not working on a solution to center an image in a pdf. My view is actually a table layout but doing this is what allowed me to center the canvas inside the generated PDF. Centering your image inside the pdf should be the same.\r\n\r\n\r\n    Canvas canvas = page.getCanvas();\r\n    canvas.translate(dx, dy);\r\n\r\nWhere dx and dy are float values that will move your canvas along the x and y axes.\r\n\r\nI then added the code below, in my case, to complete what I needed to do.\r\n\r\n    view.draw(canvas);\r\n    document.finishPage(page);","title":"center image in PdfDocument","body":"<p>I was not working on a solution to center an image in a pdf. My view is actually a table layout but doing this is what allowed me to center the canvas inside the generated PDF. Centering your image inside the pdf should be the same.</p>\n<pre><code>Canvas canvas = page.getCanvas();\ncanvas.translate(dx, dy);\n</code></pre>\n<p>Where dx and dy are float values that will move your canvas along the x and y axes.</p>\n<p>I then added the code below, in my case, to complete what I needed to do.</p>\n<pre><code>view.draw(canvas);\ndocument.finishPage(page);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682133009,"creation_date":1682133009,"answer_id":76077829,"question_id":62503143,"body_markdown":"to place objects centrally you take width of page and object and Subract/2\r\n\r\n\r\nBefore\r\n```\r\nPdfDocument.PageInfo pageInfo = new\r\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\r\n                            PdfDocument.Page page = document.startPage(pageInfo);\r\n\r\n                            Canvas canvas = page.getCanvas();\r\n                            Rect rectangle = new Rect(0,0,500,500);\r\n\r\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\r\n                            document.finishPage(page);\r\n```\r\n\r\nevery day maths `new Rect ( (595-500)/2, (842-500)/2, 500, 500 )`\r\nso 95/2 and 342/2 \r\n\r\nAfter\r\n```\r\nPdfDocument.PageInfo pageInfo = new\r\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\r\n                            PdfDocument.Page page = document.startPage(pageInfo);\r\n\r\n                            Canvas canvas = page.getCanvas();\r\n                            Rect rectangle = new Rect(47.5,171,500,500);\r\n\r\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\r\n                            document.finishPage(page);\r\n``` ","title":"center image in PdfDocument","body":"<p>to place objects centrally you take width of page and object and Subract/2</p>\n<p>Before</p>\n<pre><code>PdfDocument.PageInfo pageInfo = new\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\n                            PdfDocument.Page page = document.startPage(pageInfo);\n\n                            Canvas canvas = page.getCanvas();\n                            Rect rectangle = new Rect(0,0,500,500);\n\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\n                            document.finishPage(page);\n</code></pre>\n<p>every day maths <code>new Rect ( (595-500)/2, (842-500)/2, 500, 500 )</code>\nso 95/2 and 342/2</p>\n<p>After</p>\n<pre><code>PdfDocument.PageInfo pageInfo = new\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\n                            PdfDocument.Page page = document.startPage(pageInfo);\n\n                            Canvas canvas = page.getCanvas();\n                            Rect rectangle = new Rect(47.5,171,500,500);\n\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\n                            document.finishPage(page);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13732063,"reputation":4902,"user_id":9909365,"display_name":"Ashvin solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682137326,"creation_date":1682137326,"answer_id":76078014,"question_id":62503143,"body_markdown":"This might help.\r\n\r\n\r\n    // Calculate the size of the page\r\n    int pageWidth = 595;\r\n    int pageHeight = 842;\r\n    \r\n    // Get the size of the bitmap\r\n    Bitmap bitmap = bitmapArray.get(i);\r\n    int bitmapWidth = bitmap.getWidth();\r\n    int bitmapHeight = bitmap.getHeight();\r\n    \r\n    // Calculate the scale factor to fit the bitmap onto the page\r\n    float scaleFactor = Math.min((float)pageWidth / bitmapWidth, (float)pageHeight / bitmapHeight);\r\n    \r\n    // Calculate the new bitmap dimensions and position to center it on the page\r\n    int scaledBitmapWidth = (int)(bitmapWidth * scaleFactor);\r\n    int scaledBitmapHeight = (int)(bitmapHeight * scaleFactor);\r\n    int left = (pageWidth - scaledBitmapWidth) / 2;\r\n    int top = (pageHeight - scaledBitmapHeight) / 2;\r\n    int right = left + scaledBitmapWidth;\r\n    int bottom = top + scaledBitmapHeight;\r\n    Rect rectangle = new Rect(left, top, right, bottom);\r\n    \r\n    // Draw the scaled bitmap on the canvas at the calculated position\r\n    Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, scaledBitmapWidth, scaledBitmapHeight, true);\r\n    PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(pageWidth, pageHeight, 1).create();\r\n    PdfDocument.Page page = document.startPage(pageInfo);\r\n    Canvas canvas = page.getCanvas();\r\n    canvas.drawBitmap(scaledBitmap, null, rectangle, null);\r\n    document.finishPage(page);\r\n\r\n","title":"center image in PdfDocument","body":"<p>This might help.</p>\n<pre><code>// Calculate the size of the page\nint pageWidth = 595;\nint pageHeight = 842;\n\n// Get the size of the bitmap\nBitmap bitmap = bitmapArray.get(i);\nint bitmapWidth = bitmap.getWidth();\nint bitmapHeight = bitmap.getHeight();\n\n// Calculate the scale factor to fit the bitmap onto the page\nfloat scaleFactor = Math.min((float)pageWidth / bitmapWidth, (float)pageHeight / bitmapHeight);\n\n// Calculate the new bitmap dimensions and position to center it on the page\nint scaledBitmapWidth = (int)(bitmapWidth * scaleFactor);\nint scaledBitmapHeight = (int)(bitmapHeight * scaleFactor);\nint left = (pageWidth - scaledBitmapWidth) / 2;\nint top = (pageHeight - scaledBitmapHeight) / 2;\nint right = left + scaledBitmapWidth;\nint bottom = top + scaledBitmapHeight;\nRect rectangle = new Rect(left, top, right, bottom);\n\n// Draw the scaled bitmap on the canvas at the calculated position\nBitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, scaledBitmapWidth, scaledBitmapHeight, true);\nPdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(pageWidth, pageHeight, 1).create();\nPdfDocument.Page page = document.startPage(pageInfo);\nCanvas canvas = page.getCanvas();\ncanvas.drawBitmap(scaledBitmap, null, rectangle, null);\ndocument.finishPage(page);\n</code></pre>\n"}],"owner":{"account_id":6926316,"reputation":4123,"user_id":5317298,"accept_rate":70,"display_name":"RGS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1682137326,"creation_date":1592765893,"question_id":62503143,"body_markdown":"I have a PdfDocument A4 type.\r\nI&#39;d like to center an image vertically and horizontally on it. I tried this:\r\n\r\n     PdfDocument.PageInfo pageInfo = new\r\n                                        PdfDocument.PageInfo.Builder(595, 842, 1).create();\r\n                                PdfDocument.Page page = document.startPage(pageInfo);\r\n    \r\n                                Canvas canvas = page.getCanvas();\r\n                                Rect rectangle = new Rect(0,0,500,500);\r\n    \r\n                                canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\r\n                                document.finishPage(page);\r\n\r\nBut the image is not centered. Any ideas how to solve it?","title":"center image in PdfDocument","body":"<p>I have a PdfDocument A4 type.\nI'd like to center an image vertically and horizontally on it. I tried this:</p>\n<pre><code> PdfDocument.PageInfo pageInfo = new\n                                    PdfDocument.PageInfo.Builder(595, 842, 1).create();\n                            PdfDocument.Page page = document.startPage(pageInfo);\n\n                            Canvas canvas = page.getCanvas();\n                            Rect rectangle = new Rect(0,0,500,500);\n\n                            canvas.drawBitmap(bitmapArray.get(i), null, rectangle, null);\n                            document.finishPage(page);\n</code></pre>\n<p>But the image is not centered. Any ideas how to solve it?</p>\n"},{"tags":["java","amazon-web-services","encryption","base64","amazon-kms"],"answers":[{"tags":[],"owner":{"account_id":13765969,"reputation":63,"user_id":9934537,"display_name":"Yuvraj Jagga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604473693,"creation_date":1604466550,"answer_id":64674534,"question_id":64662874,"body_markdown":"Just to update here in case anyone got stock at this problem.\r\n\r\nWhile debugging found out that, the capacity and the limit of _ByteBuffer_ object obtained using the get methods of the KMS response was different than the default capacity and limit while creating one from the cipherText in the _decrypt_ method. So this caused the exception.\r\n\r\n","title":"Decrypt cypherTextBlob using AWS KMS programmatically in Java ? InvalidCiphertextException","body":"<p>Just to update here in case anyone got stock at this problem.</p>\n<p>While debugging found out that, the capacity and the limit of <em>ByteBuffer</em> object obtained using the get methods of the KMS response was different than the default capacity and limit while creating one from the cipherText in the <em>decrypt</em> method. So this caused the exception.</p>\n"},{"tags":[],"owner":{"account_id":10879796,"reputation":1,"user_id":7999129,"display_name":"Pritesh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682135954,"creation_date":1681899365,"answer_id":76053317,"question_id":64662874,"body_markdown":"I am also faced same problem.Then i realised i am converting to String directly. But we can  Store as ByteBuffer. so i did it and retrived it. the problem is resolved.\r\n\r\n```\r\n  EncryptResponse response = kmsClient.encrypt(encryptRequest);\r\n\r\n  CreateSecretRequest createSecretRequest = CreateSecretRequest.builder()\r\n      .name(&quot;dev/encrypte******&quot;)\r\n      .kmsKeyId(config.getArn())\r\n      .secretBinary(response.ciphertextBlob())\r\n      .build();\r\n\r\n  -- --Decryption-- --\r\n\r\n  DecryptResponse decryptResponse = kmsClient.decrypt(decryptRequest);\r\n  String decrypted = new String(decryptResponse.plaintext().asByteArray());\r\n```\r\n","title":"Decrypt cypherTextBlob using AWS KMS programmatically in Java ? InvalidCiphertextException","body":"<p>I am also faced same problem.Then i realised i am converting to String directly. But we can  Store as ByteBuffer. so i did it and retrived it. the problem is resolved.</p>\n<pre><code>  EncryptResponse response = kmsClient.encrypt(encryptRequest);\n\n  CreateSecretRequest createSecretRequest = CreateSecretRequest.builder()\n      .name(&quot;dev/encrypte******&quot;)\n      .kmsKeyId(config.getArn())\n      .secretBinary(response.ciphertextBlob())\n      .build();\n\n  -- --Decryption-- --\n\n  DecryptResponse decryptResponse = kmsClient.decrypt(decryptRequest);\n  String decrypted = new String(decryptResponse.plaintext().asByteArray());\n</code></pre>\n"}],"owner":{"account_id":13765969,"reputation":63,"user_id":9934537,"display_name":"Yuvraj Jagga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682135954,"creation_date":1604406595,"question_id":64662874,"body_markdown":"I am a bit new to cryptography and never used AWS KMS to encrypt data before.\r\nI am using AWS SDK for Java for KMS.\r\nBut while trying to encrypt and decrypt using AWS KMS API Operations, I am facing the exception InvalidCiphertextException\r\n\r\n\r\n```  \r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kms&lt;/artifactId&gt;\r\n      &lt;version&gt;2.15.19&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n\r\n**Encrypt part**\r\n```\r\nString encrypt(String plainText){\r\nEncryptRequest encryptRequest = new EncryptRequest().withKeyId(keyId).withPlaintext(plainText);\r\n\r\n//calling encrypt function here \r\nEncryptResult response = kmsClient.encrypt(encryptRequest);\r\ncipherText =  new String(response.getCiphertextBlob().array());\r\n//calling decrypt function here\r\nreturn decrypt(cipherText);\r\n}\r\n```\r\n\r\n**Decrypt part in decrypt method**\r\n```\r\npublic String decrypt(String cipherText){\r\nByteBuffer cyphertextBlob = ByteBuffer.wrap(cipherText.getBytes());\r\n\r\n//Point 1: Exception is thrown at this point while calling decrypt operation API.\r\n\r\nDecryptRequest request = new DecryptRequest().withKeyId(keyId).withCiphertextBlob(cyphertextBlob);\r\n}\r\n```\r\nThe problem is I get the following error at the point of making the api call (Point 1)\r\n\r\n```com.amazonaws.services.kms.model.InvalidCiphertextException: null (Service: AWSKMS; Status Code: 400; Error Code: InvalidCiphertextException; Request ID: 45720b33-3637-490a-8c6a-d7491ccadf94; Proxy: null)```\r\n\r\n\r\nInvalidCiphertextException. While going through AWS documents, here are the points I understood, \r\n\r\n\r\n - The encryption context is cryptographically tied to the cypher text so **InvalidCiphertextException** is thrown if we don&#39;t provide the encryptionContext in decrypt operation. But I am not providing encryptionContext while encrypting.\r\n - I also tried using withEncryptionContext(null) while preparing the Encryption and Decryption Context.\r\n\r\n\r\nDo I need to do any other step to manipulate/transform the cipher text before using decryption request ?\r\n\r\ncan anyone help with this please ?\r\n ","title":"Decrypt cypherTextBlob using AWS KMS programmatically in Java ? InvalidCiphertextException","body":"<p>I am a bit new to cryptography and never used AWS KMS to encrypt data before.\nI am using AWS SDK for Java for KMS.\nBut while trying to encrypt and decrypt using AWS KMS API Operations, I am facing the exception InvalidCiphertextException</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;kms&lt;/artifactId&gt;\n      &lt;version&gt;2.15.19&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p><strong>Encrypt part</strong></p>\n<pre><code>String encrypt(String plainText){\nEncryptRequest encryptRequest = new EncryptRequest().withKeyId(keyId).withPlaintext(plainText);\n\n//calling encrypt function here \nEncryptResult response = kmsClient.encrypt(encryptRequest);\ncipherText =  new String(response.getCiphertextBlob().array());\n//calling decrypt function here\nreturn decrypt(cipherText);\n}\n</code></pre>\n<p><strong>Decrypt part in decrypt method</strong></p>\n<pre><code>public String decrypt(String cipherText){\nByteBuffer cyphertextBlob = ByteBuffer.wrap(cipherText.getBytes());\n\n//Point 1: Exception is thrown at this point while calling decrypt operation API.\n\nDecryptRequest request = new DecryptRequest().withKeyId(keyId).withCiphertextBlob(cyphertextBlob);\n}\n</code></pre>\n<p>The problem is I get the following error at the point of making the api call (Point 1)</p>\n<p><code>com.amazonaws.services.kms.model.InvalidCiphertextException: null (Service: AWSKMS; Status Code: 400; Error Code: InvalidCiphertextException; Request ID: 45720b33-3637-490a-8c6a-d7491ccadf94; Proxy: null)</code></p>\n<p>InvalidCiphertextException. While going through AWS documents, here are the points I understood,</p>\n<ul>\n<li>The encryption context is cryptographically tied to the cypher text so <strong>InvalidCiphertextException</strong> is thrown if we don't provide the encryptionContext in decrypt operation. But I am not providing encryptionContext while encrypting.</li>\n<li>I also tried using withEncryptionContext(null) while preparing the Encryption and Decryption Context.</li>\n</ul>\n<p>Do I need to do any other step to manipulate/transform the cipher text before using decryption request ?</p>\n<p>can anyone help with this please ?</p>\n"},{"tags":["java","public-key-encryption","public-key","pgp","secret-key"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682140901,"post_id":76077812,"comment_id":134172199,"body_markdown":"**What version of bouncycastle?** The last version with `makeKeyFromPassPhrase` in `PGPUtil` was 1.46 in 2011 (after that it moved to the decryptorFactory) and even 1.46 should handle S2K hash #8 = SHA256. (Note the _encryption_ algorithm is irrelevant, it&#39;s the S2K hash at issue. You could try changing that.)","body":"<b>What version of bouncycastle?</b> The last version with <code>makeKeyFromPassPhrase</code> in <code>PGPUtil</code> was 1.46 in 2011 (after that it moved to the decryptorFactory) and even 1.46 should handle S2K hash #8 = SHA256. (Note the <i>encryption</i> algorithm is irrelevant, it&#39;s the S2K hash at issue. You could try changing that.)"},{"owner":{"account_id":28376596,"reputation":1,"user_id":21704561,"display_name":"javaConsumtion"},"score":0,"creation_date":1682170868,"post_id":76077812,"comment_id":134175040,"body_markdown":"bouncycastle 1.45\n\nWork is pushing for me to use this version...I have tried to oush for 1.46...","body":"bouncycastle 1.45  Work is pushing for me to use this version...I have tried to oush for 1.46..."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682381606,"post_id":76077812,"comment_id":134203151,"body_markdown":"Wow! I would push for something not more than 5 years old! But if you are stuck with 1.45, you&#39;ll have to create or convert the key with an older s2k hash. How did you create this key? In GnuPG 2.2 --s2k-digest-algo is apparently no longer configurable for keys, but it still uses SHA-1 not SHA-256.","body":"Wow! I would push for something not more than 5 years old! But if you are stuck with 1.45, you&#39;ll have to create or convert the key with an older s2k hash. How did you create this key? In GnuPG 2.2 --s2k-digest-algo is apparently no longer configurable for keys, but it still uses SHA-1 not SHA-256."}],"owner":{"account_id":28376596,"reputation":1,"user_id":21704561,"display_name":"javaConsumtion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682132599,"creation_date":1682132599,"question_id":76077812,"body_markdown":"I am currently working on a PgPEncryptionService and am successfully able to encrypt the file with my pub keys. The issue I am facing is with decryption.\r\n\r\nI am currently receiving this error when running my test case for my decrypting methods.\r\n\r\n\r\n```\r\n[main] INFO com.rxbenefits.service.impl.PGPEncryptionService - Secret key algorithm: 9\r\n\r\norg.bouncycastle.openpgp.PGPException: unknown hash algorithm: 8\r\n\r\n\tat org.bouncycastle.openpgp.PGPUtil.getS2kDigestName(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPUtil.makeKeyFromPassPhrase(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPSecretKey.extractKeyData(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPSecretKey.extractPrivateKey(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPSecretKey.extractPrivateKey(Unknown Source)\r\n\tat com.rxbenefits.service.impl.PGPEncryptionService.findSecretKey(PGPEncryptionService.java:102)\r\n\tat com.rxbenefits.service.impl.PGPEncryptionService.decryptFile(PGPEncryptionService.java:132)\r\n\tat com.rxbenefits.service.impl.PGPEncryptionServiceTest.testFileEncryption(PGPEncryptionServiceTest.java:55)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n```\r\n\r\n\r\nAnd when running in debug I can see values are coming through fine....and the only thing I can find in the debugger for algorithm 9 is the one pictured below\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/b1Tav.png)\r\n\r\nAnyways. I am at a loss as to what I am doing wrong. I have generated these keys myself, and am able to encrypt with the pub key...but for some reason decryption is kicking my butt. Below are the two methods I am using to decrypt.\r\n\r\n\r\n**This is the Decryption Method**\r\n\r\n```\r\n    /**\r\n     * decrypt the passed in message stream\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static void decryptFile(InputStream in, OutputStream out, InputStream keyIn, char[] passwd) throws Exception\r\n    {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\r\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n        PGPEncryptedDataList enc;\r\n        Object o = pgpF.nextObject();\r\n        // the first object might be a PGP marker packet.\r\n        if (o instanceof PGPEncryptedDataList)\r\n        {\r\n            enc = (PGPEncryptedDataList) o;\r\n        }\r\n        else\r\n        {\r\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n        }\r\n        // find the secret key\r\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\r\n        PGPPrivateKey sKey = null;\r\n        PGPPublicKeyEncryptedData pbe = null;\r\n        while (sKey == null &amp;&amp; it.hasNext())\r\n        {\r\n            pbe = it.next();\r\n            sKey = findSecretKey(keyIn, pbe.getKeyID(), passwd);\r\n        }\r\n        if (sKey == null)\r\n        {\r\n            throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\r\n        }\r\n        InputStream clear = pbe.getDataStream(sKey, &quot;BC&quot;);\r\n        PGPObjectFactory plainFact = new PGPObjectFactory(clear);\r\n        Object message = plainFact.nextObject();\r\n        PGPObjectFactory pgpFact = null;\r\n        if (message instanceof PGPCompressedData)\r\n        {\r\n            PGPCompressedData cData = (PGPCompressedData) message;\r\n            pgpFact = new PGPObjectFactory(cData.getDataStream());\r\n            message = pgpFact.nextObject();\r\n        }\r\n        if (message instanceof PGPLiteralData)\r\n        {\r\n            PGPLiteralData ld = (PGPLiteralData) message;\r\n            InputStream unc = ld.getInputStream();\r\n            int ch;\r\n            while ((ch = unc.read()) &gt;= 0)\r\n            {\r\n                out.write(ch);\r\n            }\r\n        }\r\n        else if (message instanceof PGPOnePassSignatureList)\r\n        {\r\n            PGPOnePassSignatureList p1 = (PGPOnePassSignatureList) message;\r\n\r\n            PGPOnePassSignature ops = p1.get(0);\r\n\r\n            PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\r\n\r\n            InputStream unc = ld.getInputStream();\r\n            int ch;\r\n            while ((ch = unc.read()) &gt;= 0)\r\n            {\r\n                out.write(ch);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            throw new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\r\n        }\r\n        if (pbe.isIntegrityProtected())\r\n        {\r\n            if (!pbe.verify())\r\n            {\r\n                throw new PGPException(&quot;Message failed integrity check&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n**This is the method being used to get the secret key**\r\n\r\n```\r\nprivate static PGPPrivateKey findSecretKey(InputStream keyIn, long keyID, char[] pass) throws IOException, PGPException, NoSuchProviderException {\r\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(org.bouncycastle.openpgp.PGPUtil.getDecoderStream(keyIn));\r\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n\r\n        if (pgpSecKey == null) {\r\n            return null;\r\n        }\r\n\r\n        log.info(&quot;Secret key algorithm: &quot; + pgpSecKey.getKeyEncryptionAlgorithm());\r\n\r\n        return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\r\n    }\r\n```\r\n\r\n**This is my unit test for the above**\r\n\r\n```\r\n       @Test\r\n        public void testFileEncryption() throws Exception {\r\n            // create unencrypted file\r\n        String tempPath = &quot;temp&quot;;\r\n        FileRepo fileRepo = new FileRepo();\r\n        fileRepo.setEncryptionKeyNo(123L);\r\n\r\n        // Create the unencrypted file\r\n        File unencryptedFile = new File(&quot;unencrypted.txt&quot;);\r\n        try (PrintWriter writer = new PrintWriter(unencryptedFile)) {\r\n            writer.println(&quot;Hello, world!&quot;);\r\n        }\r\n\r\n        // Encrypt the file\r\n        File encryptedFile = new File(tempPath + unencryptedFile.getName() + &quot;.pgp&quot;);\r\n        File encryptedResult = new File(&quot;encrypted.txt&quot;);\r\n        try (OutputStream out = new DataOutputStream(new FileOutputStream(encryptedFile));\r\n             FileInputStream publicKeyStream = new FileInputStream(publicKey)) {\r\n            encryptFile(out, unencryptedFile.getPath(), readPublicKey(publicKeyStream), false, true);\r\n            try (InputStream in = new FileInputStream(encryptedFile);\r\n                 OutputStream outResult = new FileOutputStream(encryptedResult);\r\n                 FileInputStream privateKeyStream = new FileInputStream(secretKey)) {\r\n                // Decrypt the encrypted file\r\n                decryptFile(in, outResult, privateKeyStream, passPhrase);\r\n            }\r\n        }\r\n\r\n        // Check that the decrypted file matches the original unencrypted file\r\n        try (BufferedReader reader1 = new BufferedReader(new FileReader(unencryptedFile));\r\n             BufferedReader reader2 = new BufferedReader(new FileReader(encryptedResult))) {\r\n            String line1 = reader1.readLine();\r\n            String line2 = reader2.readLine();\r\n            while (line1 != null &amp;&amp; line2 != null) {\r\n                assertEquals(line1, line2);\r\n                line1 = reader1.readLine();\r\n                line2 = reader2.readLine();\r\n            }\r\n            assertNull(line1);\r\n            assertNull(line2);\r\n        }\r\n\r\n        // Clean up the files\r\n        unencryptedFile.delete();\r\n        encryptedFile.delete();\r\n        encryptedResult.delete();\r\n    }\r\n```\r\n\r\n\r\n\r\nThe findSecretKey method is the one I am receiving the error at. Specifically when it&#39;s returning pgpSecKey.extractPrivateKey.\r\n\r\n\r\n\r\nThings I thought were the issue:\r\n\r\nWrong password. (This is not the case. I have created 4 different key pairs with passwords of 12345 and none work)\r\n\r\nChanging the algorithm being used while encrypting. (now using AES_256 and error still remains)","title":"Decrypting PgP Encrypted File","body":"<p>I am currently working on a PgPEncryptionService and am successfully able to encrypt the file with my pub keys. The issue I am facing is with decryption.</p>\n<p>I am currently receiving this error when running my test case for my decrypting methods.</p>\n<pre><code>[main] INFO com.rxbenefits.service.impl.PGPEncryptionService - Secret key algorithm: 9\n\norg.bouncycastle.openpgp.PGPException: unknown hash algorithm: 8\n\n    at org.bouncycastle.openpgp.PGPUtil.getS2kDigestName(Unknown Source)\n    at org.bouncycastle.openpgp.PGPUtil.makeKeyFromPassPhrase(Unknown Source)\n    at org.bouncycastle.openpgp.PGPSecretKey.extractKeyData(Unknown Source)\n    at org.bouncycastle.openpgp.PGPSecretKey.extractPrivateKey(Unknown Source)\n    at org.bouncycastle.openpgp.PGPSecretKey.extractPrivateKey(Unknown Source)\n    at com.rxbenefits.service.impl.PGPEncryptionService.findSecretKey(PGPEncryptionService.java:102)\n    at com.rxbenefits.service.impl.PGPEncryptionService.decryptFile(PGPEncryptionService.java:132)\n    at com.rxbenefits.service.impl.PGPEncryptionServiceTest.testFileEncryption(PGPEncryptionServiceTest.java:55)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n</code></pre>\n<p>And when running in debug I can see values are coming through fine....and the only thing I can find in the debugger for algorithm 9 is the one pictured below</p>\n<p><a href=\"https://i.stack.imgur.com/b1Tav.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Anyways. I am at a loss as to what I am doing wrong. I have generated these keys myself, and am able to encrypt with the pub key...but for some reason decryption is kicking my butt. Below are the two methods I am using to decrypt.</p>\n<p><strong>This is the Decryption Method</strong></p>\n<pre><code>    /**\n     * decrypt the passed in message stream\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static void decryptFile(InputStream in, OutputStream out, InputStream keyIn, char[] passwd) throws Exception\n    {\n        Security.addProvider(new BouncyCastleProvider());\n        in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList enc;\n        Object o = pgpF.nextObject();\n        // the first object might be a PGP marker packet.\n        if (o instanceof PGPEncryptedDataList)\n        {\n            enc = (PGPEncryptedDataList) o;\n        }\n        else\n        {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n        // find the secret key\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n        while (sKey == null &amp;&amp; it.hasNext())\n        {\n            pbe = it.next();\n            sKey = findSecretKey(keyIn, pbe.getKeyID(), passwd);\n        }\n        if (sKey == null)\n        {\n            throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\n        }\n        InputStream clear = pbe.getDataStream(sKey, &quot;BC&quot;);\n        PGPObjectFactory plainFact = new PGPObjectFactory(clear);\n        Object message = plainFact.nextObject();\n        PGPObjectFactory pgpFact = null;\n        if (message instanceof PGPCompressedData)\n        {\n            PGPCompressedData cData = (PGPCompressedData) message;\n            pgpFact = new PGPObjectFactory(cData.getDataStream());\n            message = pgpFact.nextObject();\n        }\n        if (message instanceof PGPLiteralData)\n        {\n            PGPLiteralData ld = (PGPLiteralData) message;\n            InputStream unc = ld.getInputStream();\n            int ch;\n            while ((ch = unc.read()) &gt;= 0)\n            {\n                out.write(ch);\n            }\n        }\n        else if (message instanceof PGPOnePassSignatureList)\n        {\n            PGPOnePassSignatureList p1 = (PGPOnePassSignatureList) message;\n\n            PGPOnePassSignature ops = p1.get(0);\n\n            PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\n\n            InputStream unc = ld.getInputStream();\n            int ch;\n            while ((ch = unc.read()) &gt;= 0)\n            {\n                out.write(ch);\n            }\n        }\n        else\n        {\n            throw new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\n        }\n        if (pbe.isIntegrityProtected())\n        {\n            if (!pbe.verify())\n            {\n                throw new PGPException(&quot;Message failed integrity check&quot;);\n            }\n        }\n    }\n</code></pre>\n<p><strong>This is the method being used to get the secret key</strong></p>\n<pre><code>private static PGPPrivateKey findSecretKey(InputStream keyIn, long keyID, char[] pass) throws IOException, PGPException, NoSuchProviderException {\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(org.bouncycastle.openpgp.PGPUtil.getDecoderStream(keyIn));\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n\n        if (pgpSecKey == null) {\n            return null;\n        }\n\n        log.info(&quot;Secret key algorithm: &quot; + pgpSecKey.getKeyEncryptionAlgorithm());\n\n        return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\n    }\n</code></pre>\n<p><strong>This is my unit test for the above</strong></p>\n<pre><code>       @Test\n        public void testFileEncryption() throws Exception {\n            // create unencrypted file\n        String tempPath = &quot;temp&quot;;\n        FileRepo fileRepo = new FileRepo();\n        fileRepo.setEncryptionKeyNo(123L);\n\n        // Create the unencrypted file\n        File unencryptedFile = new File(&quot;unencrypted.txt&quot;);\n        try (PrintWriter writer = new PrintWriter(unencryptedFile)) {\n            writer.println(&quot;Hello, world!&quot;);\n        }\n\n        // Encrypt the file\n        File encryptedFile = new File(tempPath + unencryptedFile.getName() + &quot;.pgp&quot;);\n        File encryptedResult = new File(&quot;encrypted.txt&quot;);\n        try (OutputStream out = new DataOutputStream(new FileOutputStream(encryptedFile));\n             FileInputStream publicKeyStream = new FileInputStream(publicKey)) {\n            encryptFile(out, unencryptedFile.getPath(), readPublicKey(publicKeyStream), false, true);\n            try (InputStream in = new FileInputStream(encryptedFile);\n                 OutputStream outResult = new FileOutputStream(encryptedResult);\n                 FileInputStream privateKeyStream = new FileInputStream(secretKey)) {\n                // Decrypt the encrypted file\n                decryptFile(in, outResult, privateKeyStream, passPhrase);\n            }\n        }\n\n        // Check that the decrypted file matches the original unencrypted file\n        try (BufferedReader reader1 = new BufferedReader(new FileReader(unencryptedFile));\n             BufferedReader reader2 = new BufferedReader(new FileReader(encryptedResult))) {\n            String line1 = reader1.readLine();\n            String line2 = reader2.readLine();\n            while (line1 != null &amp;&amp; line2 != null) {\n                assertEquals(line1, line2);\n                line1 = reader1.readLine();\n                line2 = reader2.readLine();\n            }\n            assertNull(line1);\n            assertNull(line2);\n        }\n\n        // Clean up the files\n        unencryptedFile.delete();\n        encryptedFile.delete();\n        encryptedResult.delete();\n    }\n</code></pre>\n<p>The findSecretKey method is the one I am receiving the error at. Specifically when it's returning pgpSecKey.extractPrivateKey.</p>\n<p>Things I thought were the issue:</p>\n<p>Wrong password. (This is not the case. I have created 4 different key pairs with passwords of 12345 and none work)</p>\n<p>Changing the algorithm being used while encrypting. (now using AES_256 and error still remains)</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1682127607,"post_id":76077506,"comment_id":134171427,"body_markdown":"Are you using the method parameters in anywhere else, other than to call `someMethodN()`?","body":"Are you using the method parameters in anywhere else, other than to call <code>someMethodN()</code>?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1682128770,"post_id":76077506,"comment_id":134171483,"body_markdown":"What’s the use of the `AtomicReference` in these methods?","body":"What’s the use of the <code>AtomicReference</code> in these methods?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1682129827,"post_id":76077506,"comment_id":134171564,"body_markdown":"What does `// …` stand for in these methods? Is it the same for all of them or different in each?","body":"What does <code>&#47;&#47; …</code> stand for in these methods? Is it the same for all of them or different in each?"},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682131033,"post_id":76077506,"comment_id":134171620,"body_markdown":"@Sweeper Yes, only used in `someMethodN()`","body":"@Sweeper Yes, only used in <code>someMethodN()</code>"},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682131075,"post_id":76077506,"comment_id":134171621,"body_markdown":"@TimMoore Yes same code for all","body":"@TimMoore Yes same code for all"},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1682131461,"post_id":76077506,"comment_id":134171637,"body_markdown":"@TimMoore The purpose of the method is to send a message to another thread and then wait for a response. The complexity of this process is intentionally hidden, and only the variable is shown because it has the same type as the return type.","body":"@TimMoore The purpose of the method is to send a message to another thread and then wait for a response. The complexity of this process is intentionally hidden, and only the variable is shown because it has the same type as the return type."}],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1682135791,"post_id":76077779,"comment_id":134171909,"body_markdown":"The `AtomicReference` can also be directly initialized as `var res = new AtomicReference&lt;&gt;(method.get());`.","body":"The <code>AtomicReference</code> can also be directly initialized as <code>var res = new AtomicReference&lt;&gt;(method.get());</code>."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682131450,"creation_date":1682131450,"answer_id":76077779,"question_id":76077506,"body_markdown":"You can declare a generic helper like this:\r\n\r\n    private &lt;T&gt; T helper(Supplier&lt;T&gt; method) {\r\n        AtomicReference&lt;T&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(method.get());\r\n        // ...\r\n        return res.get();\r\n    }\r\n\r\nIt takes a `Supplier&lt;T&gt;`, representing the method you are going to call. The arguments to the method will be captured on the caller&#39;s side.\r\n\r\nFor example, `f1` can be declared using this `helper` like this:\r\n\r\n    private int f1(int t) {\r\n        return helper(() -&gt; someMethod1(t));\r\n    }\r\n\r\nAnother example for `f3`,\r\n\r\n    private float f1(float x, float y) {\r\n        return helper(() -&gt; someMethod3(x, y));\r\n    }","title":"How to design a generic method to avoid code repetition in Java?","body":"<p>You can declare a generic helper like this:</p>\n<pre><code>private &lt;T&gt; T helper(Supplier&lt;T&gt; method) {\n    AtomicReference&lt;T&gt; res = new AtomicReference&lt;&gt;();\n    res.set(method.get());\n    // ...\n    return res.get();\n}\n</code></pre>\n<p>It takes a <code>Supplier&lt;T&gt;</code>, representing the method you are going to call. The arguments to the method will be captured on the caller's side.</p>\n<p>For example, <code>f1</code> can be declared using this <code>helper</code> like this:</p>\n<pre><code>private int f1(int t) {\n    return helper(() -&gt; someMethod1(t));\n}\n</code></pre>\n<p>Another example for <code>f3</code>,</p>\n<pre><code>private float f1(float x, float y) {\n    return helper(() -&gt; someMethod3(x, y));\n}\n</code></pre>\n"}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76077779,"answer_count":1,"score":0,"last_activity_date":1682131450,"creation_date":1682123753,"question_id":76077506,"body_markdown":"I have several methods (around 10) in my Java code that have similar structure, but different return types, method arguments, and the specific methods they call (`someMethod()`). An example is:\r\n\r\n    private int f1(int t) {\r\n        AtomicReference&lt;Integer&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(someMethod1(t));\r\n        // ...\r\n        return res.get();\r\n    }\r\n    \r\n    private int f2(String text) {\r\n        AtomicReference&lt;Integer&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(someMethod2(text));\r\n        // ...\r\n        return res.get();\r\n    }\r\n    \r\n    private float f3(float x, float y) {\r\n        AtomicReference&lt;Float&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(someMethod3(x, y));\r\n        // ...\r\n        return res.get();\r\n    }\r\n    \r\n    private float f4() {\r\n        AtomicReference&lt;Float&gt; res = new AtomicReference&lt;&gt;();\r\n        res.set(someMethod4());\r\n        // ...\r\n        return res.get();\r\n    }\r\n\r\nI would like to avoid code repetition and design a generic helper method that can handle these cases. What would be the best approach to do this?","title":"How to design a generic method to avoid code repetition in Java?","body":"<p>I have several methods (around 10) in my Java code that have similar structure, but different return types, method arguments, and the specific methods they call (<code>someMethod()</code>). An example is:</p>\n<pre><code>private int f1(int t) {\n    AtomicReference&lt;Integer&gt; res = new AtomicReference&lt;&gt;();\n    res.set(someMethod1(t));\n    // ...\n    return res.get();\n}\n\nprivate int f2(String text) {\n    AtomicReference&lt;Integer&gt; res = new AtomicReference&lt;&gt;();\n    res.set(someMethod2(text));\n    // ...\n    return res.get();\n}\n\nprivate float f3(float x, float y) {\n    AtomicReference&lt;Float&gt; res = new AtomicReference&lt;&gt;();\n    res.set(someMethod3(x, y));\n    // ...\n    return res.get();\n}\n\nprivate float f4() {\n    AtomicReference&lt;Float&gt; res = new AtomicReference&lt;&gt;();\n    res.set(someMethod4());\n    // ...\n    return res.get();\n}\n</code></pre>\n<p>I would like to avoid code repetition and design a generic helper method that can handle these cases. What would be the best approach to do this?</p>\n"},{"tags":["java","arrays","json","serialization","gson"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682118765,"post_id":76077168,"comment_id":134170768,"body_markdown":"You have a small typo in your target JSON - it should be `&quot;profile2&quot;:` not `&quot;profile2:&quot;`.","body":"You have a small typo in your target JSON - it should be <code>&quot;profile2&quot;:</code> not <code>&quot;profile2:&quot;</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1682118819,"post_id":76077168,"comment_id":134170772,"body_markdown":"A Java `Map` of `Profile` objects, where the map&#39;s keys are `&quot;profile1&quot;`, `&quot;profile2&quot;`, and so on... is a natural fit for what you appear to need.","body":"A Java <code>Map</code> of <code>Profile</code> objects, where the map&#39;s keys are <code>&quot;profile1&quot;</code>, <code>&quot;profile2&quot;</code>, and so on... is a natural fit for what you appear to need."},{"owner":{"account_id":23055327,"reputation":3,"user_id":18393311,"display_name":"doctordingus"},"score":0,"creation_date":1682130386,"post_id":76077168,"comment_id":134171595,"body_markdown":"@andrewJames You&#39;re right, I just fixed that. And also I can&#39;t believe I haven&#39;t considered just using a Map, that&#39;s a great suggestion. Thank you","body":"@andrewJames You&#39;re right, I just fixed that. And also I can&#39;t believe I haven&#39;t considered just using a Map, that&#39;s a great suggestion. Thank you"}],"owner":{"account_id":23055327,"reputation":3,"user_id":18393311,"display_name":"doctordingus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682130287,"creation_date":1682117155,"question_id":76077168,"body_markdown":"I have a class:\r\n\r\n\r\n```java\r\npublic class Profile {\r\n    private int name;\r\n\r\n    // getter and setter\r\n}\r\n```\r\n\r\nand this method elsewhere:\r\n\r\n\r\n```java\r\npublic static void printProfiles(Profile[] profiles) {\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    System.out.println(gson.toJson(profiles));\r\n}\r\n```\r\n\r\nAs expected, I get the following result:\r\n\r\n\r\n```js\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;some name 1&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;some name 2&quot;\r\n  }\r\n]\r\n```\r\n\r\nBut I would like the Profile[] array to be serialized as a JSON object instead of as a JSON array, such that each profile in the output JSON has an assigned key for it, and that they&#39;re nested in a JSON object instead of an array. Something like this:\r\n\r\n\r\n```js\r\n{\r\n  &quot;profile1&quot;: {\r\n    &quot;name&quot;: &quot;some name 1&quot;\r\n  },\r\n  &quot;profile2&quot;: {\r\n    &quot;name&quot;: &quot;some name 2&quot;\r\n  }\r\n}\r\n```\r\n\r\nHow would I go about accomplishing this? I&#39;m not very familiar with GSON and couldn&#39;t figure out the solution to this by going through the documentation. Thanks in advance!\r\n\r\n I&#39;ve tried creating a Profiles class:\r\n\r\n\r\n```java\r\npublic class Profiles {\r\n    private Profile profile1;\r\n    private Profile profile2;\r\n    // etc\r\n    \r\n    // setters and getters\r\n}\r\n```\r\nand then updating my method:\r\n\r\n```java\r\npublic static void printProfiles(Profiles profiles) {\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    System.out.println(gson.toJson(profiles));\r\n}\r\n```\r\nwhich gives the expected results. But this is obviously not a real solution because the number of Profiles varies and can be in the hundreds.","title":"How can I use GSON to serialize an array as a JSON object instead of a JSON array?","body":"<p>I have a class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Profile {\n    private int name;\n\n    // getter and setter\n}\n</code></pre>\n<p>and this method elsewhere:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void printProfiles(Profile[] profiles) {\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    System.out.println(gson.toJson(profiles));\n}\n</code></pre>\n<p>As expected, I get the following result:</p>\n<pre class=\"lang-js prettyprint-override\"><code>[\n  {\n    &quot;name&quot;: &quot;some name 1&quot;\n  },\n  {\n    &quot;name&quot;: &quot;some name 2&quot;\n  }\n]\n</code></pre>\n<p>But I would like the Profile[] array to be serialized as a JSON object instead of as a JSON array, such that each profile in the output JSON has an assigned key for it, and that they're nested in a JSON object instead of an array. Something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;profile1&quot;: {\n    &quot;name&quot;: &quot;some name 1&quot;\n  },\n  &quot;profile2&quot;: {\n    &quot;name&quot;: &quot;some name 2&quot;\n  }\n}\n</code></pre>\n<p>How would I go about accomplishing this? I'm not very familiar with GSON and couldn't figure out the solution to this by going through the documentation. Thanks in advance!</p>\n<p>I've tried creating a Profiles class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Profiles {\n    private Profile profile1;\n    private Profile profile2;\n    // etc\n    \n    // setters and getters\n}\n</code></pre>\n<p>and then updating my method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void printProfiles(Profiles profiles) {\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    System.out.println(gson.toJson(profiles));\n}\n</code></pre>\n<p>which gives the expected results. But this is obviously not a real solution because the number of Profiles varies and can be in the hundreds.</p>\n"},{"tags":["java","android","if-statement","settext"],"comments":[{"owner":{"account_id":2932591,"reputation":4163,"user_id":2512399,"display_name":"Michael Markidis"},"score":1,"creation_date":1682129218,"post_id":76077673,"comment_id":134171520,"body_markdown":"`textView.setText((value == 0) ? &quot;no&quot; : &quot;yes&quot;);`","body":"<code>textView.setText((value == 0) ? &quot;no&quot; : &quot;yes&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682129607,"creation_date":1682129607,"answer_id":76077693,"question_id":76077673,"body_markdown":"You can use the [ternary operator](https://en.wikipedia.org/wiki/Ternary_conditional_operator).\r\n\r\n```java\r\ntextView.setText(value == 0 ? &quot;no&quot; : &quot;yes&quot;);\r\n```\r\n\r\nNote that you can always just write out the `if` and `else` statements directly, though.\r\n\r\n```java\r\nif (value == 0) textView.setText(&quot;no&quot;);\r\nelse textView.setText(&quot;yes&quot;);\r\n```","title":"How do I use an if statement inside of setText?","body":"<p>You can use the <a href=\"https://en.wikipedia.org/wiki/Ternary_conditional_operator\" rel=\"nofollow noreferrer\">ternary operator</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>textView.setText(value == 0 ? &quot;no&quot; : &quot;yes&quot;);\n</code></pre>\n<p>Note that you can always just write out the <code>if</code> and <code>else</code> statements directly, though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (value == 0) textView.setText(&quot;no&quot;);\nelse textView.setText(&quot;yes&quot;);\n</code></pre>\n"}],"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76077693,"answer_count":1,"score":0,"last_activity_date":1682129607,"creation_date":1682128994,"question_id":76077673,"body_markdown":"I want to have a `setText` with an `if` statement inside, so I can easily pick a value for viewing. I remember seeing something like it in MIT App Inventor, so I think it&#39;s possible.\r\n\r\nFor example,\r\n```\r\ntextView.setText(if (value == 0) {&quot;no&quot;}else {&quot;yes&quot;};\r\n```","title":"How do I use an if statement inside of setText?","body":"<p>I want to have a <code>setText</code> with an <code>if</code> statement inside, so I can easily pick a value for viewing. I remember seeing something like it in MIT App Inventor, so I think it's possible.</p>\n<p>For example,</p>\n<pre><code>textView.setText(if (value == 0) {&quot;no&quot;}else {&quot;yes&quot;};\n</code></pre>\n"},{"tags":["java","freetts"],"answers":[{"comments":[{"owner":{"account_id":1452062,"reputation":2999,"user_id":1368690,"accept_rate":98,"display_name":"hamena314"},"score":0,"creation_date":1452759616,"post_id":34724673,"comment_id":57313241,"body_markdown":"@anand: 2 things - 1) a &quot;please&quot; would be nice. ;) ... 2) by using google on the error message I&#39;ve found this: http://stackoverflow.com/questions/13810052/freetts-mbrola-not-able-to-find-path ... this should help MBROLA to find the paths and therefore validate it.","body":"@anand: 2 things - 1) a &quot;please&quot; would be nice. ;) ... 2) by using google on the error message I&#39;ve found this: <a href=\"http://stackoverflow.com/questions/13810052/freetts-mbrola-not-able-to-find-path\" title=\"freetts mbrola not able to find path\">stackoverflow.com/questions/13810052/&hellip;</a> ... this should help MBROLA to find the paths and therefore validate it."}],"tags":[],"owner":{"account_id":1452062,"reputation":2999,"user_id":1368690,"accept_rate":98,"display_name":"hamena314"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1452524746,"creation_date":1452524746,"answer_id":34724673,"question_id":34724104,"body_markdown":"You could use the [MBROLA][1] - Project. It&#39;s free and offers \r\nseveral languages.\r\n\r\nYou will need to download the project-package itself and the voices. \r\n\r\nFor a step-by-step guide on how to install and use MBROLA you can go to here:\r\n\r\nhttps://stackoverflow.com/a/26236563/1368690\r\n\r\nOr go to the project page itself:\r\n\r\nhttp://tcts.fpms.ac.be/synthesis/mbrola.html\r\n\r\nWhen you scroll down a bit, there a lots of voice you can test and see, if they will be usefull for you.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/MBROLA","title":"text to speech in java using freetts","body":"<p>You could use the <a href=\"https://en.wikipedia.org/wiki/MBROLA\" rel=\"nofollow noreferrer\">MBROLA</a> - Project. It's free and offers \nseveral languages.</p>\n\n<p>You will need to download the project-package itself and the voices. </p>\n\n<p>For a step-by-step guide on how to install and use MBROLA you can go to here:</p>\n\n<p><a href=\"https://stackoverflow.com/a/26236563/1368690\">https://stackoverflow.com/a/26236563/1368690</a></p>\n\n<p>Or go to the project page itself:</p>\n\n<p><a href=\"http://tcts.fpms.ac.be/synthesis/mbrola.html\" rel=\"nofollow noreferrer\">http://tcts.fpms.ac.be/synthesis/mbrola.html</a></p>\n\n<p>When you scroll down a bit, there a lots of voice you can test and see, if they will be usefull for you.</p>\n"}],"owner":{"account_id":7608175,"reputation":43,"user_id":5770087,"display_name":"anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34724673,"answer_count":1,"score":1,"last_activity_date":1682129276,"creation_date":1452523045,"question_id":34724104,"body_markdown":"I am using freetts jar file for text to speech. \r\nBut I need much more voices like Indian English.\r\n\r\nThere my code is:\r\n\r\n \r\n      import com.sun.speech.freetts.Voice;\r\n      import com.sun.speech.freetts.VoiceManager;\r\n\r\n     class s\r\n     {\r\n\r\n         VoiceManager freettsVM;\r\n         Voice freettsVoice;\r\n         private Voice voice;\r\n         public s(String voiceName) \r\n         {\r\n              VoiceManager voiceManager = VoiceManager.getInstance();\r\n               voice = voiceManager.getVoice(voiceName);\r\n          }\r\n          public void speak(String msg) {\r\n              freettsVoice.allocate();\r\n              freettsVoice.speak(msg);\r\n              freettsVoice.deallocate();\r\n          }\r\n     }\r\n     public class Main {\r\n    \tpublic static void main(String[] args) {\r\n\t\tString speekstring = txtmassage.getText();\r\n                s t = new s(&quot;kevin16&quot;);\r\n                t.speak(speekstring);}\r\n     }\r\n\r\nIt’s work correctly, but I need more voices.\r\n\r\n\r\nnow i changed my code into [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/M99DX.png\r\n\r\nthen there error is\r\n\r\n     Could not validate any MBROLA voices at\r\n\r\n      C:/Users/anand/Documents/NetBeansProjects/mbrola\r\n\r\n      Make sure you FULLY specify the path to\r\n      the MBROLA directory using the mbrola.base\r\n      system property.\r\n\r\n      Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n              at newpro.TestTTS.&lt;init&gt;(TestTTS.java:20)\r\n             at newpro.TestTTS.main(TestTTS.java:29)\r\n      Java Result: 1\r\n      BUILD SUCCESSFUL (total time: 0 seconds)","title":"text to speech in java using freetts","body":"<p>I am using freetts jar file for text to speech. \nBut I need much more voices like Indian English.</p>\n\n<p>There my code is:</p>\n\n<pre><code>  import com.sun.speech.freetts.Voice;\n  import com.sun.speech.freetts.VoiceManager;\n\n class s\n {\n\n     VoiceManager freettsVM;\n     Voice freettsVoice;\n     private Voice voice;\n     public s(String voiceName) \n     {\n          VoiceManager voiceManager = VoiceManager.getInstance();\n           voice = voiceManager.getVoice(voiceName);\n      }\n      public void speak(String msg) {\n          freettsVoice.allocate();\n          freettsVoice.speak(msg);\n          freettsVoice.deallocate();\n      }\n }\n public class Main {\n    public static void main(String[] args) {\n    String speekstring = txtmassage.getText();\n            s t = new s(\"kevin16\");\n            t.speak(speekstring);}\n }\n</code></pre>\n\n<p>It’s work correctly, but I need more voices.</p>\n\n<p>now i changed my code into <a href=\"https://i.stack.imgur.com/M99DX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M99DX.png\" alt=\"enter image description here\"></a></p>\n\n<p>then there error is</p>\n\n<pre><code> Could not validate any MBROLA voices at\n\n  C:/Users/anand/Documents/NetBeansProjects/mbrola\n\n  Make sure you FULLY specify the path to\n  the MBROLA directory using the mbrola.base\n  system property.\n\n  Exception in thread \"main\" java.lang.NullPointerException\n          at newpro.TestTTS.&lt;init&gt;(TestTTS.java:20)\n         at newpro.TestTTS.main(TestTTS.java:29)\n  Java Result: 1\n  BUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679864418,"post_id":75850341,"comment_id":133792933,"body_markdown":"This likely has nothing to do with your code or your JAR file, but rather how Java was installed on your macOS and Linux computers. Or maybe even limitations imposed by the OS. On Windows, you can &quot;associate&quot; JAR files with `java.exe`; I believe this is done via the registry, and typically done automatically by the Java installer. I don&#39;t know how to do the same on Linux or macOS. As an aside, it may be easier to deploy your application as a native executable (see e.g., `jpackage`).","body":"This likely has nothing to do with your code or your JAR file, but rather how Java was installed on your macOS and Linux computers. Or maybe even limitations imposed by the OS. On Windows, you can &quot;associate&quot; JAR files with <code>java.exe</code>; I believe this is done via the registry, and typically done automatically by the Java installer. I don&#39;t know how to do the same on Linux or macOS. As an aside, it may be easier to deploy your application as a native executable (see e.g., <code>jpackage</code>)."}],"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682128464,"creation_date":1679862047,"question_id":75850341,"body_markdown":"I created a JAR file and the problem is that on Windows we can open the JAR file with a double click, and on Mac and Linux they have to use the terminal. Why?\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n          &lt;classifier&gt;win&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n          &lt;classifier&gt;linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n          &lt;version&gt;19.0.2&lt;/version&gt;\r\n          &lt;classifier&gt;mac&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI am making the JAR file with the shade plugin 3.4.1 on Maven.\r\n\r\n\r\n\r\n","title":"JAR file of a Java/JavaFX application works on Linux and Mac only with the terminal. Why? (Maven)","body":"<p>I created a JAR file and the problem is that on Windows we can open the JAR file with a double click, and on Mac and Linux they have to use the terminal. Why?</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;win&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;linux&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I am making the JAR file with the shade plugin 3.4.1 on Maven.</p>\n"},{"tags":["java","macos","javafx"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":1,"creation_date":1681935574,"post_id":76058255,"comment_id":134138951,"body_markdown":"This might be helpful: https://stackoverflow.com/questions/57544721/cannot-execute-javafx-sample-on-macos-no-toolkit-found","body":"This might be helpful: <a href=\"https://stackoverflow.com/questions/57544721/cannot-execute-javafx-sample-on-macos-no-toolkit-found\" title=\"cannot execute javafx sample on macos no toolkit found\">stackoverflow.com/questions/57544721/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1681943118,"post_id":76058255,"comment_id":134140120,"body_markdown":"Verify that you installed the correct version for your Mac.","body":"Verify that you installed the correct version for your Mac."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681955405,"post_id":76058255,"comment_id":134141392,"body_markdown":"I don&#39;t understand why you put `...` in the build plugins section to leave out important relevant info on what you are doing.","body":"I don&#39;t understand why you put <code>...</code> in the build plugins section to leave out important relevant info on what you are doing."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681955530,"post_id":76058255,"comment_id":134141405,"body_markdown":"If you are building a cross-platform jar using [maven shade](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing) or something similar (unsupported configuration), then *all* javafx dependencies (including transitive ones), should be listed in the pom.xml with *all* relevant platform classifiers *for each javafx dependency*.  There is also no need for unclassified javafx dependencies for such a build.","body":"If you are building a cross-platform jar using <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">maven shade</a> or something similar (unsupported configuration), then <i>all</i> javafx dependencies (including transitive ones), should be listed in the pom.xml with <i>all</i> relevant platform classifiers <i>for each javafx dependency</i>.  There is also no need for unclassified javafx dependencies for such a build."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1681955717,"post_id":76058255,"comment_id":134141418,"body_markdown":"Use the same verison for *all* JavaFX dependencies and don&#39;t use `ea` versions.","body":"Use the same verison for <i>all</i> JavaFX dependencies and don&#39;t use <code>ea</code> versions."},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1681989901,"post_id":76058255,"comment_id":134146981,"body_markdown":"I dont understand :( i tried it but i didn&#180;t work.","body":"I dont understand :( i tried it but i didn&#180;t work."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1681997383,"post_id":76058255,"comment_id":134148886,"body_markdown":"You can&#39;t be helped without a [mcve], a better description of what you are trying to do, and the actual commands you are running.  Unless somebody can replicate your issues, your chance of receiving a more helpful answer is very low.  If you don&#39;t understand something, then you need to explicitly explain what you don&#39;t understand, otherwise, others cannot understand what you don&#39;t understand.  You can edit the question to improve it.","body":"You can&#39;t be helped without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, a better description of what you are trying to do, and the actual commands you are running.  Unless somebody can replicate your issues, your chance of receiving a more helpful answer is very low.  If you don&#39;t understand something, then you need to explicitly explain what you don&#39;t understand, otherwise, others cannot understand what you don&#39;t understand.  You can edit the question to improve it."},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1682006505,"post_id":76058255,"comment_id":134151396,"body_markdown":"Can you look to this: https://stackoverflow.com/questions/76065181/javafx-application-dont-work-for-mac-when-i-am-adding-to-maven-two-dependencies?noredirect=1#comment134149898_76065181\n\nI am not able to edit this question, because stacks says my question is a spam, when I try to edit it. I changed the pom a little bit, and now when I am deleting 2 dependencies, its works for mac user but then it dont work for linux and windows user","body":"Can you look to this: <a href=\"https://stackoverflow.com/questions/76065181/javafx-application-dont-work-for-mac-when-i-am-adding-to-maven-two-dependencies?noredirect=1#comment134149898_76065181\" title=\"javafx application dont work for mac when i am adding to maven two dependencies\">stackoverflow.com/questions/76065181/&hellip;</a>  I am not able to edit this question, because stacks says my question is a spam, when I try to edit it. I changed the pom a little bit, and now when I am deleting 2 dependencies, its works for mac user but then it dont work for linux and windows user"},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1682008132,"post_id":76058255,"comment_id":134151821,"body_markdown":"@JdjdjwVdvdhdh Can you quote the exact text of the error message? I see no reason that this question would be considered spam, or why you&#39;d be blocked from editing it. I was able to edit just fine.","body":"@JdjdjwVdvdhdh Can you quote the exact text of the error message? I see no reason that this question would be considered spam, or why you&#39;d be blocked from editing it. I was able to edit just fine."},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1682024506,"post_id":76058255,"comment_id":134155096,"body_markdown":"[Being unresponsive to requests for clarification is not helpful.](http://idownvotedbecau.se/beingunresponsive)","body":"<a href=\"http://idownvotedbecau.se/beingunresponsive\" rel=\"nofollow noreferrer\">Being unresponsive to requests for clarification is not helpful.</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1682034480,"post_id":76058255,"comment_id":134156426,"body_markdown":"Why did you place classified dependencies in your pom.xml?","body":"Why did you place classified dependencies in your pom.xml?"}],"answers":[{"comments":[{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1681989481,"post_id":76059283,"comment_id":134146895,"body_markdown":"Okay thank you should i delete all other dependencies of javafx?","body":"Okay thank you should i delete all other dependencies of javafx?"},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1681989493,"post_id":76059283,"comment_id":134146897,"body_markdown":"And are my properties correct?","body":"And are my properties correct?"},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1681989502,"post_id":76059283,"comment_id":134146898,"body_markdown":"because i added it, and it didn&#180;t work","body":"because i added it, and it didn&#180;t work"},{"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"score":0,"creation_date":1682021400,"post_id":76059283,"comment_id":134154532,"body_markdown":"Yes, you have to delete all the other dependencies of JavaFX. If you want to add dependencies on more JavaFX modules, add them in the way it was posted in the answer.\n\nYou should also change your javafx.version property to `20` and remove all the `-ea+4`.","body":"Yes, you have to delete all the other dependencies of JavaFX. If you want to add dependencies on more JavaFX modules, add them in the way it was posted in the answer.  You should also change your javafx.version property to <code>20</code> and remove all the <code>-ea+4</code>."}],"tags":[],"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682059949,"creation_date":1681943745,"answer_id":76059283,"question_id":76058255,"body_markdown":"Use the JavaFX Maven plugin to automatically pull in the correct libraries for your platform:\r\n\r\n```xml\r\n&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n\r\nand then to add dependencies on `javafx.fxml` and `javafx.controls`:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"JavaFX application works on Linux and Windows, but not on Macs (our Macs have M chips","body":"<p>Use the JavaFX Maven plugin to automatically pull in the correct libraries for your platform:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>and then to add dependencies on <code>javafx.fxml</code> and <code>javafx.controls</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682128315,"creation_date":1681933315,"question_id":76058255,"body_markdown":"I built a JavaFX application, which work on Windows and Linux, but not on Macs.\r\n\r\nI tried the application with two Macs, and both have an [M chip][1].\r\n\r\nThis is the error which I get:\r\n\r\n```lang-none\r\nGraphics Device initialization failed for :&#160;&#160;es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:268)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&#160;&#160;&#160;&#160;at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&#160;&#160;&#160;&#160;at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&#160;&#160;&#160;&#160;at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n&#160;&#160;&#160;&#160;at java.base/java.lang.Thread.run(Thread.java:1589)\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n&#160;&#160;&#160;&#160;at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n&#160;&#160;&#160;&#160;at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n&#160;&#160;&#160;&#160;at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: No toolkit found\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:280)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n&#160;&#160;&#160;&#160;at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n&#160;&#160;&#160;&#160;at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&#160;&#160;&#160;&#160;... 2 more`\r\n```\r\nThis is my pom:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;...&lt;/groupId&gt;\r\n  &lt;artifactId&gt;...&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;...&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\r\n    &lt;javafx.version&gt;20-ea+4&lt;/javafx.version&gt;\r\n    &lt;java.version&gt;19.0.2&lt;/java.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jdom&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jdom2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n      &lt;classifier&gt;win&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n      &lt;classifier&gt;linux&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n      &lt;classifier&gt;mac&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n      &lt;classifier&gt;mac&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n      &lt;classifier&gt;mac-aarch64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n      &lt;classifier&gt;mac&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-media --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n      &lt;version&gt;19.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n ...\r\n\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhat I do make false?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apple_M1\r\n","title":"JavaFX application works on Linux and Windows, but not on Macs (our Macs have M chips","body":"<p>I built a JavaFX application, which work on Windows and Linux, but not on Macs.</p>\n<p>I tried the application with two Macs, and both have an <a href=\"https://en.wikipedia.org/wiki/Apple_M1\" rel=\"nofollow noreferrer\">M chip</a>.</p>\n<p>This is the error which I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Graphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:268)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: No toolkit found\n    at javafx.graphics@19.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:280)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 2 more`\n</code></pre>\n<p>This is my pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;...&lt;/groupId&gt;\n  &lt;artifactId&gt;...&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;...&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\n    &lt;javafx.version&gt;20-ea+4&lt;/javafx.version&gt;\n    &lt;java.version&gt;19.0.2&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jdom&lt;/groupId&gt;\n      &lt;artifactId&gt;jdom2&lt;/artifactId&gt;\n      &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;win&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;linux&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n      &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n      &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;${javafx.version}&lt;/version&gt;\n      &lt;classifier&gt;mac-aarch64&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n      &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.xerial/sqlite-jdbc --&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-media --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n      &lt;version&gt;19.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n ...\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What I do make false?</p>\n"},{"tags":["java","git","intellij-idea"],"comments":[{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":2,"creation_date":1679223352,"post_id":75781492,"comment_id":133679514,"body_markdown":"did you try `git stash`?","body":"did you try <code>git stash</code>?"},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1679223467,"post_id":75781492,"comment_id":133679522,"body_markdown":"What is git stash? How can I make this on intelij?","body":"What is git stash? How can I make this on intelij?"},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1679223630,"post_id":75781492,"comment_id":133679545,"body_markdown":"you can run this command in intellij console.","body":"you can run this command in intellij console."},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1679223656,"post_id":75781492,"comment_id":133679547,"body_markdown":"you can find its docs here https://www.git-scm.com/docs/git-stash","body":"you can find its docs here <a href=\"https://www.git-scm.com/docs/git-stash\" rel=\"nofollow noreferrer\">git-scm.com/docs/git-stash</a>"},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1679223664,"post_id":75781492,"comment_id":133679549,"body_markdown":"git-stash - Stash the changes in a dirty working directory away","body":"git-stash - Stash the changes in a dirty working directory away"},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1679224121,"post_id":75781492,"comment_id":133679617,"body_markdown":"But what means that? The changes are hidden, so still accessible?","body":"But what means that? The changes are hidden, so still accessible?"}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679226614,"creation_date":1679226614,"answer_id":75781766,"question_id":75781492,"body_markdown":"It depends on what have you managed to do at this point.\r\n\r\n1. If you have already committed your changes, you can just do (make sure to check out to the appropriate branch before) `git reset --hard &lt;COMMIT_HASH&gt;` and reset the `HEAD` to the commit in the remote. Then you can just `git pull` and you should be fine. \r\n\r\n2. If you have not committed anything yet, you can just do `git reset --hard HEAD` (Again, checkout to the branch you need in advance) and this will discard any staged and unstaged changes you have made.\r\n\r\nP.S: Just beware that this approaches will **discard your local changes entirely** (though there will be an option to restore them via `git reflog`, but its another topic)","title":"How can I discard all the changes, which I didn’t push, so I made the changes locally in a branch and just want pull the current branch from GitLab","body":"<p>It depends on what have you managed to do at this point.</p>\n<ol>\n<li><p>If you have already committed your changes, you can just do (make sure to check out to the appropriate branch before) <code>git reset --hard &lt;COMMIT_HASH&gt;</code> and reset the <code>HEAD</code> to the commit in the remote. Then you can just <code>git pull</code> and you should be fine.</p>\n</li>\n<li><p>If you have not committed anything yet, you can just do <code>git reset --hard HEAD</code> (Again, checkout to the branch you need in advance) and this will discard any staged and unstaged changes you have made.</p>\n</li>\n</ol>\n<p>P.S: Just beware that this approaches will <strong>discard your local changes entirely</strong> (though there will be an option to restore them via <code>git reflog</code>, but its another topic)</p>\n"},{"tags":[],"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682126948,"creation_date":1679283360,"answer_id":75786397,"question_id":75781492,"body_markdown":"Just as @JAMSHAID mentioned in comment, you could use the Git Stash feature to save the change and restore it back later.\r\n\r\nSee here to know how to use the Git Stash in IDEA: *[Stash changes][1]* \r\n\r\nAlso check the [Git Stash documentation][2].\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/work-on-several-features-simultaneously.html#stash\r\n  [2]: https://git-scm.com/docs/git-stash\r\n\r\n","title":"How can I discard all the changes, which I didn’t push, so I made the changes locally in a branch and just want pull the current branch from GitLab","body":"<p>Just as @JAMSHAID mentioned in comment, you could use the Git Stash feature to save the change and restore it back later.</p>\n<p>See here to know how to use the Git Stash in IDEA: <em><a href=\"https://www.jetbrains.com/help/idea/work-on-several-features-simultaneously.html#stash\" rel=\"nofollow noreferrer\">Stash changes</a></em></p>\n<p>Also check the <a href=\"https://git-scm.com/docs/git-stash\" rel=\"nofollow noreferrer\">Git Stash documentation</a>.</p>\n"}],"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1682126948,"creation_date":1679223308,"question_id":75781492,"body_markdown":"I worked on a branch in [IntelliJ][1]. I have deleted code out of sight and now just want to fetch the entire branch again without my changes remaining. I have not pushed anything. How can I do this?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n\r\n\r\n\r\n","title":"How can I discard all the changes, which I didn’t push, so I made the changes locally in a branch and just want pull the current branch from GitLab","body":"<p>I worked on a branch in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a>. I have deleted code out of sight and now just want to fetch the entire branch again without my changes remaining. I have not pushed anything. How can I do this?</p>\n"},{"tags":["java","instrumentation","javaagents"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682136677,"post_id":76077565,"comment_id":134171966,"body_markdown":"&quot;Any thoughts on what I&#39;m missing?&quot;  It looks like the javassist JAR file is not on the runtime classpath.","body":"&quot;Any thoughts on what I&#39;m missing?&quot;  It looks like the javassist JAR file is not on the runtime classpath."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1682137302,"post_id":76077565,"comment_id":134172011,"body_markdown":"Since you are using `-jar` that means that you can&#39;t use `-cp`.  So EITHER you need to create a shaded jar that incorporates the classes in the javassist jar OR you need to add it to the Class-Path manifest entry.  I&#39;m not sure whether this needs to be in your &quot;agent.jar&quot; or your &quot;application.jar&quot;.  I suspect that either will work.","body":"Since you are using <code>-jar</code> that means that you can&#39;t use <code>-cp</code>.  So EITHER you need to create a shaded jar that incorporates the classes in the javassist jar OR you need to add it to the Class-Path manifest entry.  I&#39;m not sure whether this needs to be in your &quot;agent.jar&quot; or your &quot;application.jar&quot;.  I suspect that either will work."}],"owner":{"account_id":11084233,"reputation":23,"user_id":8138527,"display_name":"Kolisetty Raghavendra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682125833,"creation_date":1682125833,"question_id":76077565,"body_markdown":"I went through a baledung [article][1] on Java instrumentation api and trying to run the code from the article on my machine.\r\n\r\nI&#39;m basically trying to do a static load. My agent code is unable to instantiate the ```ClassFileTransformer``` class from ```premain``` method and fails with ```NoClassDefFoundError```\r\n\r\nThe code looks like this -\r\n\r\n```\r\npublic class MyInstrumentationAgent {\r\n    public static void premain(String agentArgs, Instrumentation inst) {\r\n        // some stuff that is working fine\r\n\r\n        AtmTransformer dt = new AtmTransformer(clazz.getName(), classLoader); //fails here after unable to find AtmTransformer class\r\n    }\r\n}\r\n```\r\n\r\nThe agent class and transformer class are in the same java package and the agent jar I built contains both the ```MyInstrumentationAgent.java``` and ```AtmTransformer.java```.\r\n\r\nI ran the code using the following command -\r\n```\r\njava -javaagent:core-java-jvm-0.0.1-SNAPSHOT-agent.jar -jar core-java-jvm-0.0.1-SNAPSHOT-application.jar\r\n```\r\n\r\nand this is the error stack trace I get -\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\r\nCaused by: java.lang.NoClassDefFoundError: javassist/NotFoundException\r\n\tat com.baeldung.instrumentation.agent.MyInstrumentationAgent.transform(MyInstrumentationAgent.java:46)\r\n\tat com.baeldung.instrumentation.agent.MyInstrumentationAgent.transformClass(MyInstrumentationAgent.java:28)\r\n\tat com.baeldung.instrumentation.agent.MyInstrumentationAgent.premain(MyInstrumentationAgent.java:11)\r\n\t... 6 more\r\nCaused by: java.lang.ClassNotFoundException: javassist.NotFoundException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 9 more\r\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\n```\r\n\r\nAny thoughts on what I&#39;m missing?\r\n\r\n  [1]: https://www.baeldung.com/java-instrumentation","title":"java.lang.NoClassDefFoundError when my Java instrumentation agent class tries to instantiate ClassFileTransformer","body":"<p>I went through a baledung <a href=\"https://www.baeldung.com/java-instrumentation\" rel=\"nofollow noreferrer\">article</a> on Java instrumentation api and trying to run the code from the article on my machine.</p>\n<p>I'm basically trying to do a static load. My agent code is unable to instantiate the <code>ClassFileTransformer</code> class from <code>premain</code> method and fails with <code>NoClassDefFoundError</code></p>\n<p>The code looks like this -</p>\n<pre><code>public class MyInstrumentationAgent {\n    public static void premain(String agentArgs, Instrumentation inst) {\n        // some stuff that is working fine\n\n        AtmTransformer dt = new AtmTransformer(clazz.getName(), classLoader); //fails here after unable to find AtmTransformer class\n    }\n}\n</code></pre>\n<p>The agent class and transformer class are in the same java package and the agent jar I built contains both the <code>MyInstrumentationAgent.java</code> and <code>AtmTransformer.java</code>.</p>\n<p>I ran the code using the following command -</p>\n<pre><code>java -javaagent:core-java-jvm-0.0.1-SNAPSHOT-agent.jar -jar core-java-jvm-0.0.1-SNAPSHOT-application.jar\n</code></pre>\n<p>and this is the error stack trace I get -</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\nCaused by: java.lang.NoClassDefFoundError: javassist/NotFoundException\n    at com.baeldung.instrumentation.agent.MyInstrumentationAgent.transform(MyInstrumentationAgent.java:46)\n    at com.baeldung.instrumentation.agent.MyInstrumentationAgent.transformClass(MyInstrumentationAgent.java:28)\n    at com.baeldung.instrumentation.agent.MyInstrumentationAgent.premain(MyInstrumentationAgent.java:11)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: javassist.NotFoundException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 9 more\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\n</code></pre>\n<p>Any thoughts on what I'm missing?</p>\n"},{"tags":["java","eclipse","user-interface","blackjack","breezy"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1682135065,"post_id":76076833,"comment_id":134171874,"body_markdown":"Show us your project setup. Which level of Java are you targeting? Which runtime are you compiling against? IDE aside, show us why this *should* work for your setup.","body":"Show us your project setup. Which level of Java are you targeting? Which runtime are you compiling against? IDE aside, show us why this <i>should</i> work for your setup."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1682141910,"post_id":76076833,"comment_id":134172262,"body_markdown":"You probably have a module-info.java in your project so you are using the Java module system which requires you to specify that you are using these modules in that file. Delete the module-info.java to stop using the module system.","body":"You probably have a module-info.java in your project so you are using the Java module system which requires you to specify that you are using these modules in that file. Delete the module-info.java to stop using the module system."},{"owner":{"account_id":28375155,"reputation":1,"user_id":21703328,"display_name":"Addi E"},"score":0,"creation_date":1682295522,"post_id":76076833,"comment_id":134188127,"body_markdown":"thanks all! i figured out a new system with a non-mac computer:)","body":"thanks all! i figured out a new system with a non-mac computer:)"}],"owner":{"account_id":28375155,"reputation":1,"user_id":21703328,"display_name":"Addi E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682123920,"creation_date":1682112792,"question_id":76076833,"body_markdown":"I am trying to write the chapter 7 program of blackjack from the Java book my school uses and everything in my code is working except for the imports. I am importing java.awt and BreezyGUI and it is giving me the error message &quot;The package java.awt is not accessible&quot; and &quot;The package BreezyGUI is not accessible&quot; \r\n\r\nDirect code: \r\n\r\n    import java.awt.*;\r\n    import BreezyGUI.*;\r\n\r\nI use a mac pc (it is slightly older but has updated software) and the Eclipse IDE that I use is 2022-12. Can someone help me with importing this the right way and using the right path? I&#39;m not very good at programming but need to get this project done for my class. ANY HELP WILL BE APPRECIATED!!\r\n\r\n\r\nI&#39;ve tried getting four different BreezyGUIs and different classpath routes but nothing has worked. I don&#39;t understand the java.awt so I don&#39;t know what to do there. \r\n\r\nHere&#39;s what I have creating the frame and with imports (I can share more code if anyone needs):\r\n\r\npackage blackjack;\r\nimport java.awt.*;\r\n//java.awt is underlined red with error message &quot;The package java.awt is not accessible&quot;\r\nimport BreezyGUI.*;\r\n//BreezyGUI is underlined red with error message &quot;The package BreezyGUI is not accessible&quot;\r\npublic class blackjackInterface extends GBFrame {","title":"import java.awt.*; and import BreezyGUI.*; give error messages saying the packages aren&#39;t available","body":"<p>I am trying to write the chapter 7 program of blackjack from the Java book my school uses and everything in my code is working except for the imports. I am importing java.awt and BreezyGUI and it is giving me the error message &quot;The package java.awt is not accessible&quot; and &quot;The package BreezyGUI is not accessible&quot;</p>\n<p>Direct code:</p>\n<pre><code>import java.awt.*;\nimport BreezyGUI.*;\n</code></pre>\n<p>I use a mac pc (it is slightly older but has updated software) and the Eclipse IDE that I use is 2022-12. Can someone help me with importing this the right way and using the right path? I'm not very good at programming but need to get this project done for my class. ANY HELP WILL BE APPRECIATED!!</p>\n<p>I've tried getting four different BreezyGUIs and different classpath routes but nothing has worked. I don't understand the java.awt so I don't know what to do there.</p>\n<p>Here's what I have creating the frame and with imports (I can share more code if anyone needs):</p>\n<p>package blackjack;\nimport java.awt.<em>;\n//java.awt is underlined red with error message &quot;The package java.awt is not accessible&quot;\nimport BreezyGUI.</em>;\n//BreezyGUI is underlined red with error message &quot;The package BreezyGUI is not accessible&quot;\npublic class blackjackInterface extends GBFrame {</p>\n"},{"tags":["java","jenkins","java-8","jenkins-pipeline","jenkins-plugins"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681495566,"post_id":76017783,"comment_id":134071422,"body_markdown":"What&#39;s the problem with installing Java &gt;= 11 and running all your stuff on it? 1.8 is pretty old now","body":"What&#39;s the problem with installing Java &gt;= 11 and running all your stuff on it? 1.8 is pretty old now"},{"owner":{"account_id":11222708,"reputation":587,"user_id":8233361,"display_name":"Claudio Weiler"},"score":0,"creation_date":1681509710,"post_id":76017783,"comment_id":134073712,"body_markdown":"Jenkins must to be run in java 11, but you can run maven builds with java 1.8. Expand you question to explain how your jobs are configured.","body":"Jenkins must to be run in java 11, but you can run maven builds with java 1.8. Expand you question to explain how your jobs are configured."}],"answers":[{"comments":[{"owner":{"account_id":26004423,"reputation":65,"user_id":19714358,"display_name":"Ramesh Thiyagarajan"},"score":0,"creation_date":1682102409,"post_id":76019193,"comment_id":134168390,"body_markdown":"we have decided to move with pipeline jobs with shared lib, thanks for your inputs :)","body":"we have decided to move with pipeline jobs with shared lib, thanks for your inputs :)"}],"tags":[],"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682123019,"creation_date":1681509062,"answer_id":76019193,"question_id":76017783,"body_markdown":"As of Jenkins 2.357, [Jenkins requires Java 11](https://www.jenkins.io/doc/upgrade-guide/2.361/#upgrading-to-jenkins-lts-2-361-1) to run. That change was [well commmunicated](https://www.jenkins.io/blog/2022/06/28/require-java-11/).\r\n\r\nIf you are using the [maven job type][1], that job type depends on the underlying app&#39;s Java, instead of one specified in the JDK tools ( [Oracle](https://plugins.jenkins.io/jdk-tool/) / [Temurin](https://plugins.jenkins.io/jdk-tool/) ). That&#39;s just one of many issues with its use and why it&#39;s been [strongly discouraged](https://plugins.jenkins.io/maven-plugin/#plugin-content-risks) for years in favour our Freestyle or pipeline jobs. \r\n\r\nYour choices are don&#39;t upgrade and keep your system at risk, or bite the bullet and convert to Freestyle/Pipeline. Can you use job-dsl or a template and some groovy scripting to convert?\r\n\r\nYou could also try: [Setting the -source and -target of the Java Compiler](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html) or using [maven toolchains](https://maven.apache.org/guides/mini/guide-using-toolchains.html); not sure either will work though.\r\n\r\n\r\n  [1]: https://plugins.jenkins.io/maven-plugin/","title":"Cannot able to run Maven Builds after updating Jenkins Version","body":"<p>As of Jenkins 2.357, <a href=\"https://www.jenkins.io/doc/upgrade-guide/2.361/#upgrading-to-jenkins-lts-2-361-1\" rel=\"nofollow noreferrer\">Jenkins requires Java 11</a> to run. That change was <a href=\"https://www.jenkins.io/blog/2022/06/28/require-java-11/\" rel=\"nofollow noreferrer\">well commmunicated</a>.</p>\n<p>If you are using the <a href=\"https://plugins.jenkins.io/maven-plugin/\" rel=\"nofollow noreferrer\">maven job type</a>, that job type depends on the underlying app's Java, instead of one specified in the JDK tools ( <a href=\"https://plugins.jenkins.io/jdk-tool/\" rel=\"nofollow noreferrer\">Oracle</a> / <a href=\"https://plugins.jenkins.io/jdk-tool/\" rel=\"nofollow noreferrer\">Temurin</a> ). That's just one of many issues with its use and why it's been <a href=\"https://plugins.jenkins.io/maven-plugin/#plugin-content-risks\" rel=\"nofollow noreferrer\">strongly discouraged</a> for years in favour our Freestyle or pipeline jobs.</p>\n<p>Your choices are don't upgrade and keep your system at risk, or bite the bullet and convert to Freestyle/Pipeline. Can you use job-dsl or a template and some groovy scripting to convert?</p>\n<p>You could also try: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">Setting the -source and -target of the Java Compiler</a> or using <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">maven toolchains</a>; not sure either will work though.</p>\n"}],"owner":{"account_id":26004423,"reputation":65,"user_id":19714358,"display_name":"Ramesh Thiyagarajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76019193,"answer_count":1,"score":0,"last_activity_date":1682123019,"creation_date":1681494901,"question_id":76017783,"body_markdown":"We have updated our Jenkins Version to 2.361.3, after that we couldn&#39;t able to run Maven Projects.\r\n\r\nWe are getting below error.\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: hudson/remoting/Launcher has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\nBut build is going fine with freestyle project.\r\n\r\nAfter some googling we get to know that the latest jenkins will require to have java 11 to work with maven project, we cannot able to run java 8 projects as maven jobs.\r\n\r\nIs there any workaround for this?\r\n\r\nBecause we have more that 100 maven jobs, which we couldn&#39;t easily shift to pipeline or freestyle jobs.","title":"Cannot able to run Maven Builds after updating Jenkins Version","body":"<p>We have updated our Jenkins Version to 2.361.3, after that we couldn't able to run Maven Projects.</p>\n<p>We are getting below error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: hudson/remoting/Launcher has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>But build is going fine with freestyle project.</p>\n<p>After some googling we get to know that the latest jenkins will require to have java 11 to work with maven project, we cannot able to run java 8 projects as maven jobs.</p>\n<p>Is there any workaround for this?</p>\n<p>Because we have more that 100 maven jobs, which we couldn't easily shift to pipeline or freestyle jobs.</p>\n"},{"tags":["java","graphics","graphics2d","clip"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518937202,"post_id":48849169,"comment_id":84702115,"body_markdown":"The term you&#39;re after is &quot;soft clipping&quot;, `setClip` DOES NOT provide support antialiasing, which is generally why I don&#39;t use and instead, lean towards masking techniques instead, while more complicated, they allow for soft clipping. [For example](https://stackoverflow.com/questions/25394366/custom-round-skin-gui/25395267#25395267) and [example](https://stackoverflow.com/questions/31423130/how-to-make-circle-image-label-in-java/31424601#31424601) and [example](https://stackoverflow.com/questions/17644900/how-to-add-imagepanel-in-jpanel-inside-jframe/17645036#17645036)","body":"The term you&#39;re after is &quot;soft clipping&quot;, <code>setClip</code> DOES NOT provide support antialiasing, which is generally why I don&#39;t use and instead, lean towards masking techniques instead, while more complicated, they allow for soft clipping. <a href=\"https://stackoverflow.com/questions/25394366/custom-round-skin-gui/25395267#25395267\">For example</a> and <a href=\"https://stackoverflow.com/questions/31423130/how-to-make-circle-image-label-in-java/31424601#31424601\">example</a> and <a href=\"https://stackoverflow.com/questions/17644900/how-to-add-imagepanel-in-jpanel-inside-jframe/17645036#17645036\">example</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518937435,"post_id":48849169,"comment_id":84702158,"body_markdown":"*&quot;but this pertains to JPanels and images, but I am not dealing with either of those&quot;* - Then where are you getting the `Graphics` context from?","body":"<i>&quot;but this pertains to JPanels and images, but I am not dealing with either of those&quot;</i> - Then where are you getting the <code>Graphics</code> context from?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518937541,"post_id":48849169,"comment_id":84702176,"body_markdown":"[A more advanced concept](https://stackoverflow.com/questions/34423155/applying-colour-to-the-transparent-area-of-a-jbutton-image-but-not-that-of-its/34425760#34425760)","body":"<a href=\"https://stackoverflow.com/questions/34423155/applying-colour-to-the-transparent-area-of-a-jbutton-image-but-not-that-of-its/34425760#34425760\">A more advanced concept</a>"},{"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"score":0,"creation_date":1518948459,"post_id":48849169,"comment_id":84704431,"body_markdown":"@MadProgrammer I took a look at those examples, but I am still unsure how to apply them. And I meant I wasn&#39;t dealing with `JPanels` or `Images` in the sense that I&#39;m not trying to clip or change the shape of panels or images. The only panel I&#39;m using is a single panel that takes the space of the `JFrame` in order for me to draw on. So I don&#39;t understand how I would use masking (from my understanding is achieved by changing the shapes of `JPanels` in addition to drawing around them?) in only a `Graphics` context where I&#39;m not using any additional `JPanels` or `Images` from.","body":"@MadProgrammer I took a look at those examples, but I am still unsure how to apply them. And I meant I wasn&#39;t dealing with <code>JPanels</code> or <code>Images</code> in the sense that I&#39;m not trying to clip or change the shape of panels or images. The only panel I&#39;m using is a single panel that takes the space of the <code>JFrame</code> in order for me to draw on. So I don&#39;t understand how I would use masking (from my understanding is achieved by changing the shapes of <code>JPanels</code> in addition to drawing around them?) in only a <code>Graphics</code> context where I&#39;m not using any additional <code>JPanels</code> or <code>Images</code> from."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518984127,"post_id":48849169,"comment_id":84715398,"body_markdown":"Here&#39;s the problem, the question lacks context, there&#39;s no way that we can surmise from you question how you are obtaining information, how you are manipulating. I&#39;ve now provided no less then 4 runnable examples which demonstrate a &quot;soft clipping&quot; approach which would solve the core issue. The problem now is, you need to figure out how best to incorporate those ideas into your problem - The basic answer to your question is &quot;use a soft clipping approach&quot; - beyond that, it&#39;s impossible for us to provide you with any additional support","body":"Here&#39;s the problem, the question lacks context, there&#39;s no way that we can surmise from you question how you are obtaining information, how you are manipulating. I&#39;ve now provided no less then 4 runnable examples which demonstrate a &quot;soft clipping&quot; approach which would solve the core issue. The problem now is, you need to figure out how best to incorporate those ideas into your problem - The basic answer to your question is &quot;use a soft clipping approach&quot; - beyond that, it&#39;s impossible for us to provide you with any additional support"},{"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"score":0,"creation_date":1518998351,"post_id":48849169,"comment_id":84719316,"body_markdown":"@MadProgrammer what context would you like me to provide? I&#39;ve been looking into soft clipping but I still don&#39;t know how I would use it for just a single `Graphics` and single `JPanel`.","body":"@MadProgrammer what context would you like me to provide? I&#39;ve been looking into soft clipping but I still don&#39;t know how I would use it for just a single <code>Graphics</code> and single <code>JPanel</code>."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1518998548,"post_id":48849169,"comment_id":84719351,"body_markdown":"A [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) which demonstrated the issue would be a good start","body":"A <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> which demonstrated the issue would be a good start"},{"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"score":0,"creation_date":1519075095,"post_id":48849169,"comment_id":84752480,"body_markdown":"@MadProgrammer added","body":"@MadProgrammer added"}],"answers":[{"comments":[{"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"score":0,"creation_date":1519076792,"post_id":48874406,"comment_id":84753211,"body_markdown":"Wouldn&#39;t this create a problem around the corners though? A small amount of things would be drawn that should&#39;ve been clipped.","body":"Wouldn&#39;t this create a problem around the corners though? A small amount of things would be drawn that should&#39;ve been clipped."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1519076998,"post_id":48874406,"comment_id":84753306,"body_markdown":"@soggytoast This would depend on your requirements, if you are clever, you will render WITHIN the confines of the rounded edges (or at least I would). The alternative, as I stated, is to use another `BufferedImage`, which would act as the primary rendering surface which you would clip, you&#39;d then paint the background (as I have in the question) behind it, either compounding multiple buffered images or simply within the `paintComponent` method using a combination of `fill` and `drawImage`","body":"@soggytoast This would depend on your requirements, if you are clever, you will render WITHIN the confines of the rounded edges (or at least I would). The alternative, as I stated, is to use another <code>BufferedImage</code>, which would act as the primary rendering surface which you would clip, you&#39;d then paint the background (as I have in the question) behind it, either compounding multiple buffered images or simply within the <code>paintComponent</code> method using a combination of <code>fill</code> and <code>drawImage</code>"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519075491,"creation_date":1519075491,"answer_id":48874406,"question_id":48849169,"body_markdown":"So, based on your example, the &quot;simple&quot; answer is, cheat.\r\n\r\n[![Soft clipping][1]][1]\r\n\r\n    RoundRectangle2D clippingArea = new RoundRectangle2D.Double(50, 50, getWidth() - 100, getHeight() - 100, 40, 40);\r\n    // Make the clipping space rectangular\r\n    g.setClip(clippingArea.getBounds2D());\r\n\r\n    g.setColor(Color.WHITE);\r\n    g.fill(clippingArea);\r\n    g.setColor(Color.BLACK);\r\n\r\nBasically all this does it makes the clipping area rectangular and then fills it using the `RoundRectangle2D` shape.  \r\n\r\nBecause most of your issues revolve around the edges, this eliminates the core problem, the round edges.\r\n\r\nThere are different ways you &quot;might&quot; solve the issue, using intermediate `BufferedImage`s is one (so you can constraint the content to the specified area, but still apply &quot;soft clipping&quot;), but for this context, this would be the immediately simplest solution available to you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uD8zc.png","title":"Clipping is jagged despite anti-aliasing","body":"<p>So, based on your example, the \"simple\" answer is, cheat.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uD8zc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uD8zc.png\" alt=\"Soft clipping\"></a></p>\n\n<pre><code>RoundRectangle2D clippingArea = new RoundRectangle2D.Double(50, 50, getWidth() - 100, getHeight() - 100, 40, 40);\n// Make the clipping space rectangular\ng.setClip(clippingArea.getBounds2D());\n\ng.setColor(Color.WHITE);\ng.fill(clippingArea);\ng.setColor(Color.BLACK);\n</code></pre>\n\n<p>Basically all this does it makes the clipping area rectangular and then fills it using the <code>RoundRectangle2D</code> shape.  </p>\n\n<p>Because most of your issues revolve around the edges, this eliminates the core problem, the round edges.</p>\n\n<p>There are different ways you \"might\" solve the issue, using intermediate <code>BufferedImage</code>s is one (so you can constraint the content to the specified area, but still apply \"soft clipping\"), but for this context, this would be the immediately simplest solution available to you</p>\n"},{"tags":[],"owner":{"account_id":28375761,"reputation":1,"user_id":21703835,"display_name":"mort kh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682122804,"creation_date":1682122498,"answer_id":76077444,"question_id":48849169,"body_markdown":"There are two ideas for the problem you raised.\r\n\r\n**The first idea**&lt;br&gt;\r\nSet the clip with the *setClip()* method and draw in a specific range using the methods of the Graphics class. *This was an idea that you also proposed.*\r\n\r\n**The second idea**&lt;br&gt;\r\nCreate a BufferedImage object that has a graphicsObj field of type Graphics.\r\nSet a Rendering Hint for the Graphics object like below:\r\n\r\n    graphicsObj.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\nDraw an oval with the *fillOval()* method.\r\nThen, using the *setComposite()* method, set an AlphaComponent object for the Graphics object as follows:\r\n\r\n    AlphaComposite alphaComposite = AlphaComposite.getInstance(AlphaComposite.SRC_IN);\r\n    graphicsObj.setComposite(alphaComposite);\r\n\r\nThen draw something using a method like drawImage or any other method.\r\n**this BufferedImage is what you want.**\r\nJust don&#39;t forget to use the following Rendering Hint wherever you want to draw the BufferedImage:\r\n\r\n    setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n\r\n\r\nExample:\r\n\r\n    public void paint(Graphics g) {\r\n\t\t\t\tsuper.paint(g);\r\n\r\n\t\t\t\tBufferedImage bufferedImage = new BufferedImage(50, 50, BufferedImage.TYPE_INT_ARGB);\r\n\r\n\t\t\t\tGraphics2D bg2 = bufferedImage.createGraphics();\r\n\r\n\t\t\t\tbg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n\t\t\t\tbg2.fillOval(0, 0, bufferedImage.getWidth(), bufferedImage.getHeight());\r\n\r\n\t\t\t\tAlphaComposite alphaComposite = AlphaComposite.getInstance(AlphaComposite.SRC_IN);\r\n\t\t\t\tbg2.setComposite(alphaComposite);\r\n\r\n\t\t\t\tImage img = null;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\timg = ImageIO.read(new File(&quot;some-image.png&quot;));\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (img == null) {\r\n\t\t\t\t\t// TODO something\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbg2.drawImage(img, 0, 0, bufferedImage.getWidth(), bufferedImage.getHeight(), null);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\t\t\t\r\n\t\t\t\tg2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n\r\n\t\t\t\t\tg2.drawImage(bufferedImage, 0, 0, getWidth(), getHeight(), null);\r\n\t\t\t}\r\n\t\t}\r\nThe second idea result:\r\n[The second idea result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LibS1.jpg","title":"Clipping is jagged despite anti-aliasing","body":"<p>There are two ideas for the problem you raised.</p>\n<p><strong>The first idea</strong><br>\nSet the clip with the <em>setClip()</em> method and draw in a specific range using the methods of the Graphics class. <em>This was an idea that you also proposed.</em></p>\n<p><strong>The second idea</strong><br>\nCreate a BufferedImage object that has a graphicsObj field of type Graphics.\nSet a Rendering Hint for the Graphics object like below:</p>\n<pre><code>graphicsObj.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n</code></pre>\n<p>Draw an oval with the <em>fillOval()</em> method.\nThen, using the <em>setComposite()</em> method, set an AlphaComponent object for the Graphics object as follows:</p>\n<pre><code>AlphaComposite alphaComposite = AlphaComposite.getInstance(AlphaComposite.SRC_IN);\ngraphicsObj.setComposite(alphaComposite);\n</code></pre>\n<p>Then draw something using a method like drawImage or any other method.\n<strong>this BufferedImage is what you want.</strong>\nJust don't forget to use the following Rendering Hint wherever you want to draw the BufferedImage:</p>\n<pre><code>setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n</code></pre>\n<p>Example:</p>\n<pre><code>public void paint(Graphics g) {\n            super.paint(g);\n\n            BufferedImage bufferedImage = new BufferedImage(50, 50, BufferedImage.TYPE_INT_ARGB);\n\n            Graphics2D bg2 = bufferedImage.createGraphics();\n\n            bg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n            bg2.fillOval(0, 0, bufferedImage.getWidth(), bufferedImage.getHeight());\n\n            AlphaComposite alphaComposite = AlphaComposite.getInstance(AlphaComposite.SRC_IN);\n            bg2.setComposite(alphaComposite);\n\n            Image img = null;\n            \n            try {\n                img = ImageIO.read(new File(&quot;some-image.png&quot;));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            \n            if (img == null) {\n                // TODO something\n            } else {\n                bg2.drawImage(img, 0, 0, bufferedImage.getWidth(), bufferedImage.getHeight(), null);\n            }\n\n            Graphics2D g2 = (Graphics2D) g;\n            \n            g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n\n                g2.drawImage(bufferedImage, 0, 0, getWidth(), getHeight(), null);\n        }\n    }\n</code></pre>\n<p>The second idea result:\n<a href=\"https://i.stack.imgur.com/LibS1.jpg\" rel=\"nofollow noreferrer\">The second idea result</a></p>\n"}],"owner":{"account_id":12969764,"reputation":1,"user_id":9375909,"display_name":"soggytoast"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682122804,"creation_date":1518936447,"question_id":48849169,"body_markdown":"I am trying to clip my `Graphics2D` canvas using `RoundRectangle2D.Double`, but the clipping is very jagged and not smooth. I have the following code to anti-alias:\r\n\r\n    Graphics2D g = (Graphics2D)graphics;\r\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    g.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n\r\nI know it is working because when I draw a `RoundRectangle2D.Double` using `Graphics2D.fill()` the smoothing is fine. How do I make the clipping smooth?\r\n\r\nNote: I am aware of [this post][1], but this pertains to `JPanels` and images, but I am not dealing with either of those. I am just trying to smoothly clip a section of the drawing area.\r\n\r\nThanks in advance for any help.\r\n\r\n**Example.java**\r\n\r\n\timport java.awt.*;\r\n\timport java.awt.geom.RoundRectangle2D;\r\n\t\r\n\timport javax.swing.*;\r\n\t\r\n\tpublic class Example extends JPanel {\r\n\t\tpublic Example() {\r\n\t\t\tJFrame frame = new JFrame();\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setResizable(false);\r\n\t\t\tframe.setLocation(10, 10);\r\n\t\t\tsetPreferredSize(new Dimension(400, 400));\r\n\t\t\tsetBackground(Color.BLACK);\r\n\t\t\tContainer container = frame.getContentPane();\r\n\t\t\tcontainer.add(this);\r\n\t\t\tframe.pack();\r\n\t\t\tframe.setVisible(true);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void paintComponent(Graphics graphics) {\r\n\t\t\tsuper.paintComponent(graphics);\r\n\t\t\tGraphics2D g = (Graphics2D)graphics;\r\n\t\t\tg.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\t\r\n\t\t\tRoundRectangle2D clippingArea = new RoundRectangle2D.Double(50, 50, getWidth() - 100, getHeight() -100, 40, 40);\r\n\t\t\tg.setClip(clippingArea);\r\n\t\t\t\r\n\t\t\tg.setColor(Color.WHITE);\r\n\t\t\tg.fillRect(0, 0, getWidth(), getHeight());\r\n\t\t\tg.setColor(Color.BLACK);\r\n\t\t\tString s = &quot;area for me to draw on where&quot;;\r\n\t\t\tg.drawString(s, getWidth()/2 - g.getFontMetrics().stringWidth(s)/2, getHeight()/2 - g.getFontMetrics().getHeight());\r\n\t\t\ts = &quot;the roundrectangle should be anti-aliased&quot;;\r\n\t\t\tg.drawString(s, getWidth()/2 - g.getFontMetrics().stringWidth(s)/2, getHeight()/2);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Example();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24045580/roundrectangle2d-clip-is-not-very-smooth","title":"Clipping is jagged despite anti-aliasing","body":"<p>I am trying to clip my <code>Graphics2D</code> canvas using <code>RoundRectangle2D.Double</code>, but the clipping is very jagged and not smooth. I have the following code to anti-alias:</p>\n\n<pre><code>Graphics2D g = (Graphics2D)graphics;\ng.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\ng.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n</code></pre>\n\n<p>I know it is working because when I draw a <code>RoundRectangle2D.Double</code> using <code>Graphics2D.fill()</code> the smoothing is fine. How do I make the clipping smooth?</p>\n\n<p>Note: I am aware of <a href=\"https://stackoverflow.com/questions/24045580/roundrectangle2d-clip-is-not-very-smooth\">this post</a>, but this pertains to <code>JPanels</code> and images, but I am not dealing with either of those. I am just trying to smoothly clip a section of the drawing area.</p>\n\n<p>Thanks in advance for any help.</p>\n\n<p><strong>Example.java</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.geom.RoundRectangle2D;\n\nimport javax.swing.*;\n\npublic class Example extends JPanel {\n    public Example() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setLocation(10, 10);\n        setPreferredSize(new Dimension(400, 400));\n        setBackground(Color.BLACK);\n        Container container = frame.getContentPane();\n        container.add(this);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public void paintComponent(Graphics graphics) {\n        super.paintComponent(graphics);\n        Graphics2D g = (Graphics2D)graphics;\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        RoundRectangle2D clippingArea = new RoundRectangle2D.Double(50, 50, getWidth() - 100, getHeight() -100, 40, 40);\n        g.setClip(clippingArea);\n\n        g.setColor(Color.WHITE);\n        g.fillRect(0, 0, getWidth(), getHeight());\n        g.setColor(Color.BLACK);\n        String s = \"area for me to draw on where\";\n        g.drawString(s, getWidth()/2 - g.getFontMetrics().stringWidth(s)/2, getHeight()/2 - g.getFontMetrics().getHeight());\n        s = \"the roundrectangle should be anti-aliased\";\n        g.drawString(s, getWidth()/2 - g.getFontMetrics().stringWidth(s)/2, getHeight()/2);\n    }\n\n    public static void main(String[] args) {\n        new Example();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","spring-test"],"answers":[{"tags":[],"owner":{"account_id":23766356,"reputation":51,"user_id":17781072,"display_name":"Alexandre Rocha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682120826,"creation_date":1682118772,"answer_id":76077249,"question_id":76073311,"body_markdown":"Your `JwtTokenUtil` class might not be registered as a bean in the Spring Container, so there&#39;s no way it can be injected as a dependency to another classes using `@Autowired`.\r\n\r\nIn order for a bean to be managed by Spring, you have either to:\r\n\r\nmake it a component, using `@Component` or its derivatives -- `@Service` and `@Repository`: \r\n\r\n```java\r\n@Component\r\npublic class JwtTokenUtil {\r\n    // your class&#39; fields and methods\r\n}\r\n\r\n```\r\n\r\n... or to make it a return type of a method annotated with `@Bean`, which *indicates that a method produces a bean to be managed by the Spring container* (definition from the [Spring&#39;s API documentation][1]). Often, a method like that is declared in a `@Configuration` class, because it&#39;s loaded as soon as your application starts, while the Spring&#39;s Application Context searches for beans to register to the Spring Container:\r\n\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public JwtTokenUtil jwtTokenUtil() {\r\n        return new JwtTokenUtil();\r\n    }\r\n}\r\n```\r\n\r\nObs.: I would like to ask you if you already did it, but unfortunately I cannot add a comment to your question because I don&#39;t have 50 reputation yet. I hope it helps you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html","title":"Can&#39;t autowire method in spring boot test","body":"<p>Your <code>JwtTokenUtil</code> class might not be registered as a bean in the Spring Container, so there's no way it can be injected as a dependency to another classes using <code>@Autowired</code>.</p>\n<p>In order for a bean to be managed by Spring, you have either to:</p>\n<p>make it a component, using <code>@Component</code> or its derivatives -- <code>@Service</code> and <code>@Repository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtTokenUtil {\n    // your class' fields and methods\n}\n\n</code></pre>\n<p>... or to make it a return type of a method annotated with <code>@Bean</code>, which <em>indicates that a method produces a bean to be managed by the Spring container</em> (definition from the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"nofollow noreferrer\">Spring's API documentation</a>). Often, a method like that is declared in a <code>@Configuration</code> class, because it's loaded as soon as your application starts, while the Spring's Application Context searches for beans to register to the Spring Container:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public JwtTokenUtil jwtTokenUtil() {\n        return new JwtTokenUtil();\n    }\n}\n</code></pre>\n<p>Obs.: I would like to ask you if you already did it, but unfortunately I cannot add a comment to your question because I don't have 50 reputation yet. I hope it helps you.</p>\n"}],"owner":{"account_id":28368936,"reputation":1,"user_id":21697860,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682120826,"creation_date":1682081183,"question_id":76073311,"body_markdown":"I&#39;m trying to test a Login with JWT but everytime I try to test this method it gives me a:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;it.security.jwt.JwtTokenUtil.generateToken(org.springframework.security.core.userdetails.UserDetails)&quot; because &quot;this.jwtTokenUtil&quot; is null \r\n```\r\n\r\nThe class I use is this:\r\n\r\n```\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class AuthenticationRestControllerTest {\r\n    @Autowired\r\n    private JwtTokenUtil jwtTokenUtil;\r\n    \r\n    @Test\r\n    public void loginTest() throws Exception {\r\n        JwtUser userDetails;\r\n        userDetails = JwtUserFactory.create(&quot;user&quot;, null);\r\n        String token = jwtTokenUtil.generateToken(userDetails);\r\n        Assert.assertNotNull(token);\r\n    }\r\n}\r\n```\r\n\r\nI also tried with mock and other tests stuff but nothing it worked for me.\r\n\r\nAny idea of what I missed?\r\n\r\nor anything to improve my login test","title":"Can&#39;t autowire method in spring boot test","body":"<p>I'm trying to test a Login with JWT but everytime I try to test this method it gives me a:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;it.security.jwt.JwtTokenUtil.generateToken(org.springframework.security.core.userdetails.UserDetails)&quot; because &quot;this.jwtTokenUtil&quot; is null \n</code></pre>\n<p>The class I use is this:</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class AuthenticationRestControllerTest {\n    @Autowired\n    private JwtTokenUtil jwtTokenUtil;\n    \n    @Test\n    public void loginTest() throws Exception {\n        JwtUser userDetails;\n        userDetails = JwtUserFactory.create(&quot;user&quot;, null);\n        String token = jwtTokenUtil.generateToken(userDetails);\n        Assert.assertNotNull(token);\n    }\n}\n</code></pre>\n<p>I also tried with mock and other tests stuff but nothing it worked for me.</p>\n<p>Any idea of what I missed?</p>\n<p>or anything to improve my login test</p>\n"},{"tags":["java","csv","deserialization","opencsv"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682134944,"post_id":76077330,"comment_id":134171866,"body_markdown":"So, you&#39;re not looking for just any CSV parser library that can create instances of the model for you, but specifically a library that can work with `@Value.Immutable`?","body":"So, you&#39;re not looking for just any CSV parser library that can create instances of the model for you, but specifically a library that can work with <code>@Value.Immutable</code>?"},{"owner":{"account_id":19765943,"reputation":57,"user_id":14473971,"display_name":"mitriola"},"score":0,"creation_date":1682264556,"post_id":76077330,"comment_id":134184338,"body_markdown":"Yea, was wondering if there a library that exists to do this cleanly without having to read it into a data object first and then building the immutable. I&#39;ve looked around some more, and it seems like there might not be a library for this right now.","body":"Yea, was wondering if there a library that exists to do this cleanly without having to read it into a data object first and then building the immutable. I&#39;ve looked around some more, and it seems like there might not be a library for this right now."}],"owner":{"account_id":19765943,"reputation":57,"user_id":14473971,"display_name":"mitriola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682120199,"creation_date":1682120199,"question_id":76077330,"body_markdown":"I have a simple view that&#39;s modeled after some CSV data:\r\n\r\n```\r\n@Value.Style(stagedBuilder = true)\r\n@Value.Immutable\r\npublic interface MyImmutablePerson {\r\n    String getName();\r\n    Optional&lt;Integer&gt; getAge();\r\n    Optional&lt;String&gt; getAddress();\r\n}\r\n```\r\n\r\nI have a CSV file matching the data as:\r\n```\r\nname,age,address\r\nJohn,10,123 Main St\r\nJack,11,123 Main St\r\nJake,12,123 Main St\r\n```\r\n\r\nI&#39;ve been testing with some CSV libraries, but none seem to support reading into the immutable object.\r\n\r\nThe best I&#39;ve been able to do is splitting it, and then manually building my object myself\r\n\r\n```\r\nrecord = reader.readLine().split(&#39;,&#39;)\r\n\r\nImmutableMyImmutablePerson.builder()\r\n    .name(record[0])\r\n    .age(record[1])\r\n    .address(record[2])\r\n```\r\n\r\nThis example with 3 columns it&#39;s fine, but in my implementation, I have a ton of columns and it doesn&#39;t feel clean having to construct the object manually. Are there any CSV libraries that support reading the line directly into my Immutable?\r\n","title":"Is it possible to read from CSV into a Immutable Object cleanly?","body":"<p>I have a simple view that's modeled after some CSV data:</p>\n<pre><code>@Value.Style(stagedBuilder = true)\n@Value.Immutable\npublic interface MyImmutablePerson {\n    String getName();\n    Optional&lt;Integer&gt; getAge();\n    Optional&lt;String&gt; getAddress();\n}\n</code></pre>\n<p>I have a CSV file matching the data as:</p>\n<pre><code>name,age,address\nJohn,10,123 Main St\nJack,11,123 Main St\nJake,12,123 Main St\n</code></pre>\n<p>I've been testing with some CSV libraries, but none seem to support reading into the immutable object.</p>\n<p>The best I've been able to do is splitting it, and then manually building my object myself</p>\n<pre><code>record = reader.readLine().split(',')\n\nImmutableMyImmutablePerson.builder()\n    .name(record[0])\n    .age(record[1])\n    .address(record[2])\n</code></pre>\n<p>This example with 3 columns it's fine, but in my implementation, I have a ton of columns and it doesn't feel clean having to construct the object manually. Are there any CSV libraries that support reading the line directly into my Immutable?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9741,"page":484,"page_size":100}
