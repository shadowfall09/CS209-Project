{"items":[{"tags":["java","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":16393952,"reputation":31,"user_id":11842046,"display_name":"Dimos Koul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675981268,"creation_date":1675981268,"answer_id":75405058,"question_id":75404870,"body_markdown":"You can use a snapshot version in the dependencies, that&#39;s the definition of an &quot;under development&quot; module that keeps changing.The &quot;-SNAPSHOT&quot; suffix has to be added in the end of the original version and this is effectively working the same way as a hypothetical &quot;latest&quot; version.\r\n\r\n    dependencies {\r\n        compile group: &quot;groupId&quot;, name: &quot;artifactId&quot;, version: &quot;1.0-SNAPSHOT&quot;\r\n    }","title":"How to deploy and use latest version of maven project","body":"<p>You can use a snapshot version in the dependencies, that's the definition of an &quot;under development&quot; module that keeps changing.The &quot;-SNAPSHOT&quot; suffix has to be added in the end of the original version and this is effectively working the same way as a hypothetical &quot;latest&quot; version.</p>\n<pre><code>dependencies {\n    compile group: &quot;groupId&quot;, name: &quot;artifactId&quot;, version: &quot;1.0-SNAPSHOT&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":873703,"reputation":2551,"user_id":923988,"accept_rate":88,"display_name":"VictorGram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675981268,"creation_date":1675979987,"question_id":75404870,"body_markdown":"I have implemented a maven-java project ( say name : projA) and deployed it as jar.\r\n\r\nNow, I have multiple Gradle-java projects ( say projB and projC) and both are using projA as a dependency. And both projB and projC need to use same version of projA as dependency.\r\n\r\n**Problem is** :\r\n**projA is changing it&#39;s version frequently** (being under development). So, now it&#39;s **developer&#39;s overhead** to update the version **everywhere** ( like projB and projC and more) it&#39;s been used in as a dependency.\r\n\r\n**Question:**\r\nWas wondering if there is a way to declare a version as **latest** at the **projA ( in pom.xml)** and can be pulled in (**in gradle.build in projB and projC**) as :\r\n\r\n     implement &#39;&lt;group-id&gt;:projB:latest&#39; \r\nSo that developers do not have to track &quot;how many places&quot;, &quot;what version&quot; etc to be synchronised.\r\n","title":"How to deploy and use latest version of maven project","body":"<p>I have implemented a maven-java project ( say name : projA) and deployed it as jar.</p>\n<p>Now, I have multiple Gradle-java projects ( say projB and projC) and both are using projA as a dependency. And both projB and projC need to use same version of projA as dependency.</p>\n<p><strong>Problem is</strong> :\n<strong>projA is changing it's version frequently</strong> (being under development). So, now it's <strong>developer's overhead</strong> to update the version <strong>everywhere</strong> ( like projB and projC and more) it's been used in as a dependency.</p>\n<p><strong>Question:</strong>\nWas wondering if there is a way to declare a version as <strong>latest</strong> at the <strong>projA ( in pom.xml)</strong> and can be pulled in (<strong>in gradle.build in projB and projC</strong>) as :</p>\n<pre><code> implement '&lt;group-id&gt;:projB:latest' \n</code></pre>\n<p>So that developers do not have to track &quot;how many places&quot;, &quot;what version&quot; etc to be synchronised.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675981285,"post_id":75404856,"comment_id":133050569,"body_markdown":"Side recommendation: It would be best to separate all UI (user interface) code from the &quot;business logic&quot; code, meaning that your Theater class should have the private array fields plus methods that set, get and change the information, but should have no println statements (except perhaps temporary println statements for debugging), and should not use a Scanner. The UI code (println&#39;s and the Scanner) should be elsewhere, perhaps in the main method or perhaps in a driver class. This will help simplify your code and make it easier to debug and to enhance.","body":"Side recommendation: It would be best to separate all UI (user interface) code from the &quot;business logic&quot; code, meaning that your Theater class should have the private array fields plus methods that set, get and change the information, but should have no println statements (except perhaps temporary println statements for debugging), and should not use a Scanner. The UI code (println&#39;s and the Scanner) should be elsewhere, perhaps in the main method or perhaps in a driver class. This will help simplify your code and make it easier to debug and to enhance."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675980101,"creation_date":1675980101,"answer_id":75404885,"question_id":75404856,"body_markdown":"This prints out the seating from a *new theater object that you just created.*  Of course the seats are all empty.\r\n\r\n    public static void print_seating_area() {\r\n        Theatre myObjTheatre = new Theatre();\r\n\r\nTo fix this, you should really make `buyTicket()` and `printSeating()` non-static, so they operate on the Theater object directly.  Then call those methods from `main` on an object you create once.\r\n\r\n    public static void main(String[] args) {\r\n       Theatre myObjTheatre = new Theatre();\r\n       System.out.println(&quot;Welcome to the New Theatre&quot;);\r\n\r\n        while(true){\r\n            // etc.\r\n        \r\n        if(option == 1){\r\n            myObjTheatre.buy_ticket();\r\n        }\r\n        else if(option == 2){\r\n            myObjTheatre.print_seating_area();\r\n        }\r\n    }\r\n}   \r\n","title":"Updating arrays in Java","body":"<p>This prints out the seating from a <em>new theater object that you just created.</em>  Of course the seats are all empty.</p>\n<pre><code>public static void print_seating_area() {\n    Theatre myObjTheatre = new Theatre();\n</code></pre>\n<p>To fix this, you should really make <code>buyTicket()</code> and <code>printSeating()</code> non-static, so they operate on the Theater object directly.  Then call those methods from <code>main</code> on an object you create once.</p>\n<pre><code>public static void main(String[] args) {\n   Theatre myObjTheatre = new Theatre();\n   System.out.println(&quot;Welcome to the New Theatre&quot;);\n\n    while(true){\n        // etc.\n    \n    if(option == 1){\n        myObjTheatre.buy_ticket();\n    }\n    else if(option == 2){\n        myObjTheatre.print_seating_area();\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22025566,"reputation":9,"user_id":16293629,"display_name":"Harry Webb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1676005500,"accepted_answer_id":75404885,"answer_count":1,"score":-3,"last_activity_date":1675980101,"creation_date":1675979881,"question_id":75404856,"body_markdown":"I am very new to Java and am getting lost! I am making a programme that checks the arrays to see what seats are available and if they are it will update them so they are no longer available.\r\n\r\nit is updating them but once I print out all of my arrays using a separate method it just prints the default set variable.\r\n\r\nI know my code may be a bit messy I am still new and would appreciate any help on how to get it working right.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Theatre {\r\n    \r\n    // creating the rows of seats\r\n\r\n    public int[] rowOne = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\r\n    public int[] rowTwo = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\r\n    public int[] rowThree = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\r\n\r\n    static void buy_ticket(){\r\n\r\n        //Allows you to use variables set in the class\r\n        Theatre myObjTheatre = new Theatre();\r\n\r\n        System.out.println(&quot;Please select a row (1-3):&quot;);\r\n        Scanner row = new Scanner(System.in);\r\n            int selectRow = row.nextInt();\r\n        \r\n        if(selectRow == 1){\r\n            System.out.println(&quot;You have selected row 1.&quot;);\r\n            System.out.println(&quot;Please select a seat (1-12):&quot;);\r\n            Scanner seat = new Scanner(System.in);\r\n            int selectSeat = seat.nextInt();\r\n            if(selectSeat &lt;= 12){\r\n                if(myObjTheatre.rowOne[selectSeat-1] == 0){\r\n                    System.out.println(&quot;You bought a ticket&quot;); \r\n                    myObjTheatre.rowOne[selectSeat-1] = 1;\r\n                    for(int i: myObjTheatre.rowOne){\r\n                        System.out.print(i);\r\n                    }\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Seat is occupied&quot;);\r\n                }\r\n            }\r\n            else if(selectSeat &gt;= 13){\r\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\r\n                }\r\n        }\r\n\r\n        else if(selectRow == 2){\r\n            System.out.println(&quot;You have selected row 2.&quot;);\r\n            System.out.println(&quot;Please select a seat (1-16):&quot;);\r\n            Scanner seat2 = new Scanner(System.in);\r\n            int selectSeat2 = seat2.nextInt();\r\n            if(selectSeat2 &lt;= 16){\r\n                if(myObjTheatre.rowTwo[selectSeat2-1] == 0){\r\n                    System.out.println(&quot;You bought a ticket&quot;); \r\n                    myObjTheatre.rowTwo[selectSeat2-1] = 1;\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Seat is occupied&quot;);\r\n                }\r\n            }\r\n            else if(selectSeat2 &gt;= 17){\r\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\r\n                }\r\n        }\r\n        else if(selectRow == 3){\r\n            System.out.println(&quot;You have selected row 3.&quot;);\r\n            System.out.println(&quot;Please select a seat (1-20):&quot;);\r\n            Scanner seat3 = new Scanner(System.in);\r\n            int selectSeat3 = seat3.nextInt();\r\n            if(selectSeat3 &lt;= 20){\r\n                if(myObjTheatre.rowThree[selectSeat3-1] == 0){\r\n                    System.out.println(&quot;You bought a ticket&quot;); \r\n                    myObjTheatre.rowThree[selectSeat3-1] = 1;\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Seat is occupied&quot;);\r\n                }\r\n            }\r\n            else if(selectSeat3 &gt;= 21){\r\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\r\n                }\r\n        }   \r\n    }\r\n    \r\n    public static void print_seating_area() {\r\n        Theatre myObjTheatre = new Theatre();\r\n        // prints the rows\r\n        for (int i = 0; i &lt; myObjTheatre.rowOne.length; i++) {\r\n            System.out.print(myObjTheatre.rowOne[i]);\r\n        }\r\n        System.out.println();\r\n        for (int i = 0; i &lt; myObjTheatre.rowTwo.length; i++) {\r\n            System.out.print(myObjTheatre.rowTwo[i]);\r\n\r\n        }\r\n        System.out.println();\r\n        for (int i = 0; i &lt; myObjTheatre.rowThree.length; i++) {\r\n            System.out.print(myObjTheatre.rowThree[i]);\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n       System.out.println(&quot;Welcome to the New Theatre&quot;);\r\n\r\n        while(true){\r\n        System.out.println();\r\n        System.out.println(&quot;------------------------------------&quot;);\r\n        System.out.println(&quot;Please select an option:&quot;);\r\n        System.out.println(&quot;    1) Buy a ticket&quot;);\r\n        System.out.println(&quot;    2) Print seating area&quot;);\r\n        System.out.println(&quot;    3) Cancel a ticket&quot;);\r\n        System.out.println(&quot;    4) List available seats&quot;);\r\n        System.out.println(&quot;    5) Save to file&quot;);\r\n        System.out.println(&quot;    6) Load from file&quot;);\r\n        System.out.println(&quot;    7) Print ticket information and total price&quot;);\r\n        System.out.println(&quot;    8) Sort tickets by price&quot;);\r\n        System.out.println(&quot;    0) Quit&quot;);\r\n        System.out.println(&quot;------------------------------------&quot;);\r\n        System.out.println(&quot;Enter option:&quot;);\r\n\r\n        //takes the user input to select an option\r\n        Scanner menuOption = new Scanner(System.in);\r\n        int option = menuOption.nextInt();\r\n\r\n        if(option == 1){\r\n            buy_ticket();\r\n        }\r\n        else if(option == 2){\r\n            print_seating_area();\r\n        }\r\n    }\r\n}   \r\n\r\n\r\n}\r\n```\r\n","title":"Updating arrays in Java","body":"<p>I am very new to Java and am getting lost! I am making a programme that checks the arrays to see what seats are available and if they are it will update them so they are no longer available.</p>\n<p>it is updating them but once I print out all of my arrays using a separate method it just prints the default set variable.</p>\n<p>I know my code may be a bit messy I am still new and would appreciate any help on how to get it working right.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Theatre {\n    \n    // creating the rows of seats\n\n    public int[] rowOne = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n    public int[] rowTwo = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n    public int[] rowThree = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n\n    static void buy_ticket(){\n\n        //Allows you to use variables set in the class\n        Theatre myObjTheatre = new Theatre();\n\n        System.out.println(&quot;Please select a row (1-3):&quot;);\n        Scanner row = new Scanner(System.in);\n            int selectRow = row.nextInt();\n        \n        if(selectRow == 1){\n            System.out.println(&quot;You have selected row 1.&quot;);\n            System.out.println(&quot;Please select a seat (1-12):&quot;);\n            Scanner seat = new Scanner(System.in);\n            int selectSeat = seat.nextInt();\n            if(selectSeat &lt;= 12){\n                if(myObjTheatre.rowOne[selectSeat-1] == 0){\n                    System.out.println(&quot;You bought a ticket&quot;); \n                    myObjTheatre.rowOne[selectSeat-1] = 1;\n                    for(int i: myObjTheatre.rowOne){\n                        System.out.print(i);\n                    }\n                }\n                else{\n                    System.out.println(&quot;Seat is occupied&quot;);\n                }\n            }\n            else if(selectSeat &gt;= 13){\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\n                }\n        }\n\n        else if(selectRow == 2){\n            System.out.println(&quot;You have selected row 2.&quot;);\n            System.out.println(&quot;Please select a seat (1-16):&quot;);\n            Scanner seat2 = new Scanner(System.in);\n            int selectSeat2 = seat2.nextInt();\n            if(selectSeat2 &lt;= 16){\n                if(myObjTheatre.rowTwo[selectSeat2-1] == 0){\n                    System.out.println(&quot;You bought a ticket&quot;); \n                    myObjTheatre.rowTwo[selectSeat2-1] = 1;\n                }\n                else{\n                    System.out.println(&quot;Seat is occupied&quot;);\n                }\n            }\n            else if(selectSeat2 &gt;= 17){\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\n                }\n        }\n        else if(selectRow == 3){\n            System.out.println(&quot;You have selected row 3.&quot;);\n            System.out.println(&quot;Please select a seat (1-20):&quot;);\n            Scanner seat3 = new Scanner(System.in);\n            int selectSeat3 = seat3.nextInt();\n            if(selectSeat3 &lt;= 20){\n                if(myObjTheatre.rowThree[selectSeat3-1] == 0){\n                    System.out.println(&quot;You bought a ticket&quot;); \n                    myObjTheatre.rowThree[selectSeat3-1] = 1;\n                }\n                else{\n                    System.out.println(&quot;Seat is occupied&quot;);\n                }\n            }\n            else if(selectSeat3 &gt;= 21){\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\n                }\n        }   \n    }\n    \n    public static void print_seating_area() {\n        Theatre myObjTheatre = new Theatre();\n        // prints the rows\n        for (int i = 0; i &lt; myObjTheatre.rowOne.length; i++) {\n            System.out.print(myObjTheatre.rowOne[i]);\n        }\n        System.out.println();\n        for (int i = 0; i &lt; myObjTheatre.rowTwo.length; i++) {\n            System.out.print(myObjTheatre.rowTwo[i]);\n\n        }\n        System.out.println();\n        for (int i = 0; i &lt; myObjTheatre.rowThree.length; i++) {\n            System.out.print(myObjTheatre.rowThree[i]);\n\n        }\n    }\n\n    public static void main(String[] args) {\n       System.out.println(&quot;Welcome to the New Theatre&quot;);\n\n        while(true){\n        System.out.println();\n        System.out.println(&quot;------------------------------------&quot;);\n        System.out.println(&quot;Please select an option:&quot;);\n        System.out.println(&quot;    1) Buy a ticket&quot;);\n        System.out.println(&quot;    2) Print seating area&quot;);\n        System.out.println(&quot;    3) Cancel a ticket&quot;);\n        System.out.println(&quot;    4) List available seats&quot;);\n        System.out.println(&quot;    5) Save to file&quot;);\n        System.out.println(&quot;    6) Load from file&quot;);\n        System.out.println(&quot;    7) Print ticket information and total price&quot;);\n        System.out.println(&quot;    8) Sort tickets by price&quot;);\n        System.out.println(&quot;    0) Quit&quot;);\n        System.out.println(&quot;------------------------------------&quot;);\n        System.out.println(&quot;Enter option:&quot;);\n\n        //takes the user input to select an option\n        Scanner menuOption = new Scanner(System.in);\n        int option = menuOption.nextInt();\n\n        if(option == 1){\n            buy_ticket();\n        }\n        else if(option == 2){\n            print_seating_area();\n        }\n    }\n}   \n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":2449121,"reputation":195,"user_id":2135795,"display_name":"claudsan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675979298,"creation_date":1675392763,"question_id":75331027,"body_markdown":"I&#39;m experiencing this difficulty and I still don&#39;t understand what&#39;s happening, I have a scenario where an api uses a feing client to obtain a user&#39;s profile from an external service, until this moment everything was going well, but when I solved it add the fallback, spring starts to inject the SecurityContextHolder.getContext() always with a null value, and with that the interceptor cannot get the token of the user who made the primary call of the application.\r\n\r\n\r\n\r\n**appliction.properties**\r\n\r\n    application.authserver.url=http://localhost:8088/auth\r\n    feign.circuitbreaker.enabled=true\r\n\r\n**Interceptor Class**\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class FeingClientConfig {\r\n\r\n    @Value(&quot;${app.name}&quot;)\r\n    private String appName;\r\n\r\n    @Bean\r\n    public RequestInterceptor requestInterceptor() {\r\n        return new RequestInterceptor() {\r\n            @Override\r\n            public void apply(RequestTemplate template) {\r\n                if (SecurityContextHolder.getContext().getAuthentication() != null) {\r\n                    Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n                    if (principal instanceof Jwt) {\r\n                        var jwt = (Jwt) principal;\r\n                        log.info(&quot;-------------------- service integration -----------------&quot;);\r\n                        log.info(String.format(&quot; Endpoint: %s&quot;, template.method() + &quot; &quot; + template.feignTarget().url() + template.url()));\r\n                        log.info(String.format(&quot; User: %s&quot;, jwt.getClaim(&quot;user_name&quot;).toString()));\r\n                        log.info(String.format(&quot; Bearer token: %s&quot;, jwt.getTokenValue().substring(0, 30) + &quot;.....&quot;));\r\n                        log.info(&quot;----------------------------------------------------------&quot;);\r\n                        template.header(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, jwt.getTokenValue()));\r\n                        template.header(&quot;x-app-name&quot;, appName);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    }\r\n\r\n**Client**\r\n\r\n    @FeignClient(url = &quot;${application.authserver.url}&quot;,  name = &quot;authClient&quot;,\r\n        fallbackFactory = AuthClientFallBackFactory.class)\r\n    public interface AuthClient {\r\n        @GetMapping(&quot;/user/profile&quot;)\r\n        public UserProfile getProfile();\r\n    }\r\n\r\n**Fallback**\r\n\r\n        @Slf4j\r\n        @Component\r\n        public class AuthClientFallBackFactory implements FallbackFactory&lt;AuthClient&gt; {\r\n            @Override\r\n            public AuthClient create(Throwable cause) {\r\n                return new AuthClient() {\r\n                    @Override\r\n                    public UserProfile getProfile() {\r\n                        log.error(&quot;*** Fallback: error on get profile.&quot;, cause);\r\n                        return new UserProfile();\r\n                    }\r\n                };\r\n            }\r\n        }\r\n\r\nIf the **feign.circuitbreaker.enabled** property was set to false, this ignores the use of the fallback, but the **SecurityContextHolder.getContext()** object is inject correctly\r\n\r\nWhat am I doing wrong?\r\n\r\nUsing in this project:\r\n- JDK 11\r\n- Spring Boot [2.4.2]\r\n\r\n","title":"Feing and SecurityContextHolder is null","body":"<p>I'm experiencing this difficulty and I still don't understand what's happening, I have a scenario where an api uses a feing client to obtain a user's profile from an external service, until this moment everything was going well, but when I solved it add the fallback, spring starts to inject the SecurityContextHolder.getContext() always with a null value, and with that the interceptor cannot get the token of the user who made the primary call of the application.</p>\n<p><strong>appliction.properties</strong></p>\n<pre><code>application.authserver.url=http://localhost:8088/auth\nfeign.circuitbreaker.enabled=true\n</code></pre>\n<p><strong>Interceptor Class</strong></p>\n<pre><code>@Component\n@Slf4j\npublic class FeingClientConfig {\n\n@Value(&quot;${app.name}&quot;)\nprivate String appName;\n\n@Bean\npublic RequestInterceptor requestInterceptor() {\n    return new RequestInterceptor() {\n        @Override\n        public void apply(RequestTemplate template) {\n            if (SecurityContextHolder.getContext().getAuthentication() != null) {\n                Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n                if (principal instanceof Jwt) {\n                    var jwt = (Jwt) principal;\n                    log.info(&quot;-------------------- service integration -----------------&quot;);\n                    log.info(String.format(&quot; Endpoint: %s&quot;, template.method() + &quot; &quot; + template.feignTarget().url() + template.url()));\n                    log.info(String.format(&quot; User: %s&quot;, jwt.getClaim(&quot;user_name&quot;).toString()));\n                    log.info(String.format(&quot; Bearer token: %s&quot;, jwt.getTokenValue().substring(0, 30) + &quot;.....&quot;));\n                    log.info(&quot;----------------------------------------------------------&quot;);\n                    template.header(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, jwt.getTokenValue()));\n                    template.header(&quot;x-app-name&quot;, appName);\n                }\n            }\n        }\n    };\n}\n}\n</code></pre>\n<p><strong>Client</strong></p>\n<pre><code>@FeignClient(url = &quot;${application.authserver.url}&quot;,  name = &quot;authClient&quot;,\n    fallbackFactory = AuthClientFallBackFactory.class)\npublic interface AuthClient {\n    @GetMapping(&quot;/user/profile&quot;)\n    public UserProfile getProfile();\n}\n</code></pre>\n<p><strong>Fallback</strong></p>\n<pre><code>    @Slf4j\n    @Component\n    public class AuthClientFallBackFactory implements FallbackFactory&lt;AuthClient&gt; {\n        @Override\n        public AuthClient create(Throwable cause) {\n            return new AuthClient() {\n                @Override\n                public UserProfile getProfile() {\n                    log.error(&quot;*** Fallback: error on get profile.&quot;, cause);\n                    return new UserProfile();\n                }\n            };\n        }\n    }\n</code></pre>\n<p>If the <strong>feign.circuitbreaker.enabled</strong> property was set to false, this ignores the use of the fallback, but the <strong>SecurityContextHolder.getContext()</strong> object is inject correctly</p>\n<p>What am I doing wrong?</p>\n<p>Using in this project:</p>\n<ul>\n<li>JDK 11</li>\n<li>Spring Boot [2.4.2]</li>\n</ul>\n"},{"tags":["java","sudo","jsch"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1451738670,"post_id":34565936,"comment_id":56875667,"body_markdown":"Don&#39;t think this has anything to do with the Java program since the command seems to have run at the server.","body":"Don&#39;t think this has anything to do with the Java program since the command seems to have run at the server."}],"answers":[{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451738935,"creation_date":1451738935,"answer_id":34566054,"question_id":34565936,"body_markdown":"You are starting the process then immediately terminating the process tree.\r\n\r\nTry using \r\n\r\n    channelEx.setPty(false);\r\n\r\nOr alternatively adding *nohup* to your command line. See...\r\n\r\n[https://stackoverflow.com/questions/6224694/jsch-channelexec-run-a-sh-script-with-nohup-lose-some-commands][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6224694/jsch-channelexec-run-a-sh-script-with-nohup-lose-some-commands","title":"Executing a shell script to start a service by sudo command in linux using jsch in java","body":"<p>You are starting the process then immediately terminating the process tree.</p>\n\n<p>Try using </p>\n\n<pre><code>channelEx.setPty(false);\n</code></pre>\n\n<p>Or alternatively adding <em>nohup</em> to your command line. See...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6224694/jsch-channelexec-run-a-sh-script-with-nohup-lose-some-commands\">jsch ChannelExec run a .sh script with nohup &quot;lose&quot; some commands</a></p>\n"},{"tags":[],"owner":{"account_id":9629579,"reputation":47,"user_id":7764874,"display_name":"SureshKumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490425876,"creation_date":1490410795,"answer_id":43012031,"question_id":34565936,"body_markdown":"I am able to start the command as the root user and see the process ID after the Java code exits.\r\n\r\n1. Use command `channelExec.setCommand(&quot;sudo -S -p &#39;&#39; &quot; + cmd);`\r\n1. Run your command with nohup (e.g. `nohup start.sh`)\r\n1. Make sure all the environment variables are set for the script using an `export` command.\r\n","title":"Executing a shell script to start a service by sudo command in linux using jsch in java","body":"<p>I am able to start the command as the root user and see the process ID after the Java code exits.</p>\n\n<ol>\n<li>Use command <code>channelExec.setCommand(\"sudo -S -p '' \" + cmd);</code></li>\n<li>Run your command with nohup (e.g. <code>nohup start.sh</code>)</li>\n<li>Make sure all the environment variables are set for the script using an <code>export</code> command.</li>\n</ol>\n"}],"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675979056,"creation_date":1451738159,"question_id":34565936,"body_markdown":"How to execute a shell script to start a service by sudo command in Linux via Java\r\nEx:cmd=&quot;sudo path/script.sh start&quot;\r\n\r\nThis Java program will execute commands in linux.\r\nEven I am able to do &#39;sudo ls -lt path&#39; and also &#39;sudo path/script.sh start&#39;\r\n\r\n\t//Java\r\n\tpublic List&lt;String&gt; sshConnection(String usr,String host,int port,String pass)\r\n\t{\r\n\t\t  Session session=null;\r\n\t\t  List&lt;String&gt; outputList = new ArrayList&lt;String&gt;();\r\n\t\t  try\r\n\t\t  {\r\n\t\t\tJSch jsch = new JSch();\r\n\t\t\tsession = jsch.getSession(usr, host, port);\r\n\t\t\tsession.setPassword(pass);\r\n\t\t\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\tsession.connect();\t\r\n\t\t\t\r\n\t\t\t//String cmd=&quot;sudo ls path&quot;; \t\t\t//working fine\r\n\t\t\tString cmd=&quot;sudo path/script.sh start&quot;; //service is not starting..but getting the exact output as linux\r\n\t\t\t\r\n\t\t\tChannelExec channelEx=new ChannelExec();\r\n\t\t\r\n\t\t\tchannelEx = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n\t\t\t\r\n\t\t\tif(cmd.contains(&quot;sudo&quot;))\r\n\t\t\t{\r\n\t\t\t\tchannelEx.setPty(true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t((ChannelExec) channelEx).setCommand(cmd);\r\n\t\t\tchannelEx.connect();\r\n\t\t\t\r\n\t\t\tInputStream cmdOp = channelEx.getInputStream();\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(cmdOp));\r\n\r\n\t\t\tString printOp;\r\n\t\t\twhile ((printOp = br.readLine()) != null) \r\n\t\t\t{\r\n\t\t\t\toutputList.add(printOp);\r\n\t\t\t}\r\n\t\t\tbr.close();\r\n\r\n\t\t\tchannelEx.disconnect();\r\n\r\n\t\t} \r\n\t\tcatch (Exception ex) \r\n\t\t{\r\n\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t} \r\n\t\tfinally \r\n\t\t{\r\n\t\t\tif (channelEx != null) \r\n\t\t\t{\r\n\t\t\t\tchannelEx.disconnect();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(session!=null)\r\n\t\t{\r\n\t\t\tsession.disconnect();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;disconnected successfully&quot;);\r\n\t\treturn outputList;\r\n\t}\r\n\r\nI executed the same command directly in linux and got a output telling the &#39;service is running&#39; with the process id.When I did grep for the process ID using ps command it displayed the service with the same process ID.\r\nBut when I executed the same command via the above Java Program,I got the exact output(&#39;service is running&#39;) as linux with the process ID in the output console.After the java program execution, I did grep for the process ID(from Java output console) in linux,no such process was running with that process ID .\r\nI am not able to find where it is going wrong.  \r\nPlease help !","title":"Executing a shell script to start a service by sudo command in linux using jsch in java","body":"<p>How to execute a shell script to start a service by sudo command in Linux via Java\nEx:cmd=\"sudo path/script.sh start\"</p>\n\n<p>This Java program will execute commands in linux.\nEven I am able to do 'sudo ls -lt path' and also 'sudo path/script.sh start'</p>\n\n<pre><code>//Java\npublic List&lt;String&gt; sshConnection(String usr,String host,int port,String pass)\n{\n      Session session=null;\n      List&lt;String&gt; outputList = new ArrayList&lt;String&gt;();\n      try\n      {\n        JSch jsch = new JSch();\n        session = jsch.getSession(usr, host, port);\n        session.setPassword(pass);\n        session.setConfig(\"StrictHostKeyChecking\", \"no\");\n        session.connect();  \n\n        //String cmd=\"sudo ls path\";            //working fine\n        String cmd=\"sudo path/script.sh start\"; //service is not starting..but getting the exact output as linux\n\n        ChannelExec channelEx=new ChannelExec();\n\n        channelEx = (ChannelExec) session.openChannel(\"exec\");\n\n        if(cmd.contains(\"sudo\"))\n        {\n            channelEx.setPty(true);\n        }\n\n        ((ChannelExec) channelEx).setCommand(cmd);\n        channelEx.connect();\n\n        InputStream cmdOp = channelEx.getInputStream();\n        BufferedReader br = new BufferedReader(new InputStreamReader(cmdOp));\n\n        String printOp;\n        while ((printOp = br.readLine()) != null) \n        {\n            outputList.add(printOp);\n        }\n        br.close();\n\n        channelEx.disconnect();\n\n    } \n    catch (Exception ex) \n    {\n        System.out.println(ex.getMessage());\n    } \n    finally \n    {\n        if (channelEx != null) \n        {\n            channelEx.disconnect();\n        }\n    }\n\n    if(session!=null)\n    {\n        session.disconnect();\n    }\n    System.out.println(\"disconnected successfully\");\n    return outputList;\n}\n</code></pre>\n\n<p>I executed the same command directly in linux and got a output telling the 'service is running' with the process id.When I did grep for the process ID using ps command it displayed the service with the same process ID.\nBut when I executed the same command via the above Java Program,I got the exact output('service is running') as linux with the process ID in the output console.After the java program execution, I did grep for the process ID(from Java output console) in linux,no such process was running with that process ID .\nI am not able to find where it is going wrong.<br>\nPlease help !</p>\n"},{"tags":["java","tree","huffman-code"],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675977959,"creation_date":1675977959,"answer_id":75404566,"question_id":75403746,"body_markdown":"Go through all 256 histogram entries, and for each one whose count is not zero, you use `new LeafTreeNode(i, histogram[i])`.\r\n\r\nThe next question will be: what do you do with each leaf once it&#39;s created?","title":"How do I create a leaf node?","body":"<p>Go through all 256 histogram entries, and for each one whose count is not zero, you use <code>new LeafTreeNode(i, histogram[i])</code>.</p>\n<p>The next question will be: what do you do with each leaf once it's created?</p>\n"}],"owner":{"account_id":24870141,"reputation":23,"user_id":18744736,"display_name":"intact473"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75404566,"answer_count":1,"score":0,"last_activity_date":1675977959,"creation_date":1675972257,"question_id":75403746,"body_markdown":"This is homework. I&#39;ve been stuck on this a long time...\r\n\r\nI have to create leaf nodes. For this I have the class `LeafTreeNode`.\r\n\r\n\r\n\r\n&gt; LeafTreeNode.java : \r\n\r\n```\r\nimport java.util.Map;\r\n\r\npublic class LeafTreeNode implements TreeNode {\r\n\r\n\tprivate char symbol;\r\n\tprivate int symbolCount;\r\n\r\n\tpublic LeafTreeNode(char symbol, int symbolCount) {\r\n\t\tthis.symbol = symbol;\r\n\t\tthis.symbolCount = symbolCount;\r\n\t}\r\n\r\n\tpublic int symbolCount() {\r\n\t\treturn symbolCount;\r\n\t}\r\n\r\n\tpublic void getSymbolCodes(String prefix, Map&lt;Character, String&gt; symbolCodes) {\r\n\t\tsymbolCodes.put(symbol, prefix);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNow I have to use the method `characterHistogram(String s)`\r\nand create a leaf node for each character occurring in `s`.\r\nThis method is in a new class `Huffman`.\r\n\r\nI have to do this in the method `huffmanCode(String s)`.\r\n\r\n&gt; Huffman\r\n\r\n```\r\nimport java.util.Map;\r\n\r\npublic class Huffman{\r\n\r\n\tprivate LeafTreeNode Blattknoten;\r\n\r\n\tpublic int[] characterHistogram(String s) {\r\n\t\t// Only ASCII\r\n\t\tint[] histogram = new int[256];\r\n\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tchar c = s.charAt(i);\r\n\t\t\tif (c &lt; 256) {\r\n\t\t\t\thistogram[c]++;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(s.charAt(i) + &quot; &lt;-&gt; &quot; + histogram[c]);\r\n\t\t}\r\n\t\treturn histogram;\r\n\t}\r\n\r\n\tpublic void printHuffmanCoding(Map&lt;Character, String&gt; map) {\r\n\t\t// for (Character c : map.keySet()) {\r\n\t\t// System.out.println(&quot;&#39;&quot; + c + &quot;&#39;: &quot; + map.get(c));\r\n\t\t// }\r\n\t}\r\n\r\n\t/**\r\n\t * Compute the Huffman coding map for s\r\n\t * \r\n\t * @param s\r\n\t *          String to encode\r\n\t * @return Huffman coding map\r\n\t */\r\n\tpublic Map&lt;Character, String&gt; huffmanCode(String s) {\r\n\r\n\t\tint[] histogram = characterHistogram(s);\r\n\t\tSystem.out.println(1);\r\n\r\n\t\t// Blattknoten.symbolCount();\r\n\t\t// Blattknoten\r\n\t\t// Blattknoten.getSymbolCodes(s, null);\r\n\r\n\t\t// for( int i = 0; i &lt; histogram.length;i++){\r\n\t\t// histogram[i];\r\n\t\t// }\r\n\t\t// LeafTreeNode.getSymbolCodes(s, null)\r\n\t\t// TODO 3.\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * @param s\r\n\t *            String to encode\r\n\t * @param map\r\n\t *            Huffman coding map\r\n\t * @return the length of the Huffman coding of s\r\n\t */\r\n\tpublic long lengthHuffmanCoding(String s, Map&lt;Character, String&gt; map) {\r\n\t\t// TODO 4.\r\n\t\treturn 42L;\r\n\t}\r\n\r\n\t/**\r\n\t * @param s\r\n\t *          String to encode\r\n\t * @return the length of the 8-bit coding of s\r\n\t */\r\n\tpublic long length8BitCoding(String s) {\r\n\t\t// TODO 4.\r\n\t\treturn 42L;\r\n\t}\r\n\r\n\t/**\r\n\t * Compute the compression ratio we can achieve for s given the Huffman\r\n\t * encoding map as compared to 8-bit coding of the symbols.\r\n\t * \r\n\t * @param s\r\n\t *            String to encode\r\n\t * @param map\r\n\t *            Huffman coding map\r\n\t * @return compression ratio\r\n\t */\r\n\tpublic float computeCompressionRatio(String s, Map&lt;Character, String&gt; map) {\r\n\t\t// TODO 4.\r\n\t\treturn 42.f;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tHuffman h = new Huffman();\r\n\t\tString s = &quot;Insert String here&quot;;\r\n\t\tMap&lt;Character, String&gt; map = h.huffmanCode(s);\r\n\t\th.printHuffmanCoding(map);\r\n\t\tfloat cr = h.computeCompressionRatio(s, map);\r\n\r\n\t\tSystem.out.println(&quot;Compression ratio: &quot; + (cr * 100) + &quot;%&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried to use the methods from `LeafTreeNode` but this didn&#39;t work. How I can create a leaf node?","title":"How do I create a leaf node?","body":"<p>This is homework. I've been stuck on this a long time...</p>\n<p>I have to create leaf nodes. For this I have the class <code>LeafTreeNode</code>.</p>\n<blockquote>\n<p>LeafTreeNode.java :</p>\n</blockquote>\n<pre><code>import java.util.Map;\n\npublic class LeafTreeNode implements TreeNode {\n\n    private char symbol;\n    private int symbolCount;\n\n    public LeafTreeNode(char symbol, int symbolCount) {\n        this.symbol = symbol;\n        this.symbolCount = symbolCount;\n    }\n\n    public int symbolCount() {\n        return symbolCount;\n    }\n\n    public void getSymbolCodes(String prefix, Map&lt;Character, String&gt; symbolCodes) {\n        symbolCodes.put(symbol, prefix);\n    }\n\n}\n</code></pre>\n<p>Now I have to use the method <code>characterHistogram(String s)</code>\nand create a leaf node for each character occurring in <code>s</code>.\nThis method is in a new class <code>Huffman</code>.</p>\n<p>I have to do this in the method <code>huffmanCode(String s)</code>.</p>\n<blockquote>\n<p>Huffman</p>\n</blockquote>\n<pre><code>import java.util.Map;\n\npublic class Huffman{\n\n    private LeafTreeNode Blattknoten;\n\n    public int[] characterHistogram(String s) {\n        // Only ASCII\n        int[] histogram = new int[256];\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            if (c &lt; 256) {\n                histogram[c]++;\n            }\n            System.out.println(s.charAt(i) + &quot; &lt;-&gt; &quot; + histogram[c]);\n        }\n        return histogram;\n    }\n\n    public void printHuffmanCoding(Map&lt;Character, String&gt; map) {\n        // for (Character c : map.keySet()) {\n        // System.out.println(&quot;'&quot; + c + &quot;': &quot; + map.get(c));\n        // }\n    }\n\n    /**\n     * Compute the Huffman coding map for s\n     * \n     * @param s\n     *          String to encode\n     * @return Huffman coding map\n     */\n    public Map&lt;Character, String&gt; huffmanCode(String s) {\n\n        int[] histogram = characterHistogram(s);\n        System.out.println(1);\n\n        // Blattknoten.symbolCount();\n        // Blattknoten\n        // Blattknoten.getSymbolCodes(s, null);\n\n        // for( int i = 0; i &lt; histogram.length;i++){\n        // histogram[i];\n        // }\n        // LeafTreeNode.getSymbolCodes(s, null)\n        // TODO 3.\n        return null;\n    }\n\n    /**\n     * @param s\n     *            String to encode\n     * @param map\n     *            Huffman coding map\n     * @return the length of the Huffman coding of s\n     */\n    public long lengthHuffmanCoding(String s, Map&lt;Character, String&gt; map) {\n        // TODO 4.\n        return 42L;\n    }\n\n    /**\n     * @param s\n     *          String to encode\n     * @return the length of the 8-bit coding of s\n     */\n    public long length8BitCoding(String s) {\n        // TODO 4.\n        return 42L;\n    }\n\n    /**\n     * Compute the compression ratio we can achieve for s given the Huffman\n     * encoding map as compared to 8-bit coding of the symbols.\n     * \n     * @param s\n     *            String to encode\n     * @param map\n     *            Huffman coding map\n     * @return compression ratio\n     */\n    public float computeCompressionRatio(String s, Map&lt;Character, String&gt; map) {\n        // TODO 4.\n        return 42.f;\n    }\n\n    public static void main(String[] args) {\n\n        Huffman h = new Huffman();\n        String s = &quot;Insert String here&quot;;\n        Map&lt;Character, String&gt; map = h.huffmanCode(s);\n        h.printHuffmanCoding(map);\n        float cr = h.computeCompressionRatio(s, map);\n\n        System.out.println(&quot;Compression ratio: &quot; + (cr * 100) + &quot;%&quot;);\n    }\n\n}\n</code></pre>\n<p>I tried to use the methods from <code>LeafTreeNode</code> but this didn't work. How I can create a leaf node?</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1675965388,"post_id":75402573,"comment_id":133046225,"body_markdown":"do you even have any data in that table?..","body":"do you even have any data in that table?.."},{"owner":{"display_name":"user19577108"},"score":0,"creation_date":1675976680,"post_id":75402573,"comment_id":133049450,"body_markdown":"i do have 5 records in that table","body":"i do have 5 records in that table"},{"owner":{"display_name":"user19577108"},"score":0,"creation_date":1675977488,"post_id":75402573,"comment_id":133049646,"body_markdown":"i updated the post and added the response i get form postman","body":"i updated the post and added the response i get form postman"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1676020146,"post_id":75402573,"comment_id":133056859,"body_markdown":"This is almost always because of things like the table being used from Java differs from that used from the external SQL call because different schema/user being used. Are you using same credentials for both. Another possible reason is the records aren’t committed. Log out and into your DB client and check records. Next thing to do up the debugging to see the SQL - https://www.baeldung.com/sql-logging-spring-boot","body":"This is almost always because of things like the table being used from Java differs from that used from the external SQL call because different schema/user being used. Are you using same credentials for both. Another possible reason is the records aren’t committed. Log out and into your DB client and check records. Next thing to do up the debugging to see the SQL - <a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"nofollow noreferrer\">baeldung.com/sql-logging-spring-boot</a>"},{"owner":{"display_name":"user19577108"},"score":0,"creation_date":1676036457,"post_id":75402573,"comment_id":133061645,"body_markdown":"i used intellij debugger and everything is alright the `userRepository.findAll()` method is equal to all the records but the rest controller is not returning the results","body":"i used intellij debugger and everything is alright the <code>userRepository.findAll()</code> method is equal to all the records but the rest controller is not returning the results"}],"owner":{"display_name":"user19577108"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675977454,"creation_date":1675965195,"question_id":75402573,"body_markdown":"I am trying to list all records form a user table.\r\n\r\neach time I send the request I get this log\r\n```\r\nHibernate: \r\n    select\r\n        u1_0.id,\r\n        u1_0.creation_date,\r\n        u1_0.email,\r\n        u1_0.full_name,\r\n        u1_0.password,\r\n        u1_0.updated_date,\r\n        u1_0.username \r\n    from\r\n        user u1_0\r\n```\r\n\r\nbut this query is not returning any results\r\n\r\nthis is the result I get from postman http request\r\n```\r\n[\r\n    {},\r\n    {},\r\n    {},\r\n    {},\r\n    {}\r\n]\r\n```\r\n\r\nI have a user entity like this:\r\n\r\n```\r\n@Table(name = &quot;user&quot;)\r\n@Entity\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String fullName;\r\n\r\n    private String username;\r\n    private String password;\r\n    private String email;\r\n    private Date creationDate;\r\n    private Date updatedDate;\r\n}\r\n```\r\n\r\na repository like this: \r\n\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n```\r\n\r\na controller like this: \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @RequestMapping(&quot;/list&quot;)\r\n    public List&lt;User&gt; listAll(){\r\n        return userRepository.findAll();\r\n    }\r\n}\r\n```\r\nand this is my [table][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1RAr.png\r\n","title":"hibernate query not producing results","body":"<p>I am trying to list all records form a user table.</p>\n<p>each time I send the request I get this log</p>\n<pre><code>Hibernate: \n    select\n        u1_0.id,\n        u1_0.creation_date,\n        u1_0.email,\n        u1_0.full_name,\n        u1_0.password,\n        u1_0.updated_date,\n        u1_0.username \n    from\n        user u1_0\n</code></pre>\n<p>but this query is not returning any results</p>\n<p>this is the result I get from postman http request</p>\n<pre><code>[\n    {},\n    {},\n    {},\n    {},\n    {}\n]\n</code></pre>\n<p>I have a user entity like this:</p>\n<pre><code>@Table(name = &quot;user&quot;)\n@Entity\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String fullName;\n\n    private String username;\n    private String password;\n    private String email;\n    private Date creationDate;\n    private Date updatedDate;\n}\n</code></pre>\n<p>a repository like this:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n</code></pre>\n<p>a controller like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @RequestMapping(&quot;/list&quot;)\n    public List&lt;User&gt; listAll(){\n        return userRepository.findAll();\n    }\n}\n</code></pre>\n<p>and this is my <a href=\"https://i.stack.imgur.com/I1RAr.png\" rel=\"nofollow noreferrer\">table</a></p>\n"},{"tags":["java","android","button"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675974592,"post_id":75403932,"comment_id":133048842,"body_markdown":"&quot;the button deosn&#39;t work&quot; -- what do you mean? What are your specific symptoms?","body":"&quot;the button deosn&#39;t work&quot; -- what do you mean? What are your specific symptoms?"},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1676025878,"post_id":75403932,"comment_id":133058565,"body_markdown":"when i press the button nothing happen it doesn&#39;t work","body":"when i press the button nothing happen it doesn&#39;t work"}],"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675977167,"creation_date":1675973415,"question_id":75403932,"body_markdown":"I tried to send my location via SMS, but the button doesn&#39;t work.\r\nThe button was working fine before I added the code of getting current location.\r\n\r\nCan you please help me to fix that? I tried many solutions that I found in this website, but it doesn&#39;t work with me.\r\nI am totally new to Android Studio, so I don&#39;t know how to write my code that it will work the way I want it.\r\n\r\n    private LocationManager locationManager;\r\n    private LocationListener locationListener;\r\n\r\n    String[] appPermissions = {\r\n            android.Manifest.permission.ACCESS_FINE_LOCATION,\r\n            android.Manifest.permission.SEND_SMS\r\n    };\r\n    private static final int PERMISSIONS_REQUEST_CODE = 123;\r\n\r\n    private static final int MY_PERMISSIONS_REQUEST_SEND_SMS = 0;\r\n    double x,y;\r\n\r\n    Button sendBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if (checkAndRequestPermissons()) {\r\n\r\n        }\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(Location location) {\r\n                x = location.getAltitude() ;\r\n                y = location.getLongitude();\r\n                Log.d(&quot;Location&quot;, location.toString());\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onProviderEnabled(String provider) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onProviderDisabled(String provider) {\r\n\r\n            }\r\n\r\n        };\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\r\n\r\n\r\n\r\n\r\n        sendBtn = (Button) findViewById(R.id.btnSendSMS);\r\n        sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                sendSMSMessage();\r\n            }\r\n        });\r\n\r\n    }\r\n    protected void sendSMSMessage() {\r\n\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.SEND_SMS)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.SEND_SMS)) {\r\n            } else {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.SEND_SMS},\r\n                        MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_SEND_SMS: {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    SmsManager smsManager = SmsManager.getDefault();\r\n                    smsManager.sendTextMessage(&quot;+212xxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://www.google.com/maps/search/?api=1&amp;query=&quot; + x + &quot;,&quot; + y , null, null);\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    private boolean checkAndRequestPermissons() {\r\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n        for (String perm : appPermissions)\r\n        {\r\n            if (ContextCompat.checkSelfPermission(this,perm) != PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                listPermissionsNeeded.add(perm);\r\n            }\r\n        }\r\n        if (!listPermissionsNeeded.isEmpty())\r\n        {\r\n            ActivityCompat.requestPermissions(this,listPermissionsNeeded.toArray(\r\n                    new String[listPermissionsNeeded.size()]),PERMISSIONS_REQUEST_CODE\r\n            );\r\n            return  false;\r\n\r\n        }\r\n        return true;\r\n    }","title":"Send location via sms Button doesn&#39;t work - android studio","body":"<p>I tried to send my location via SMS, but the button doesn't work.\nThe button was working fine before I added the code of getting current location.</p>\n<p>Can you please help me to fix that? I tried many solutions that I found in this website, but it doesn't work with me.\nI am totally new to Android Studio, so I don't know how to write my code that it will work the way I want it.</p>\n<pre><code>private LocationManager locationManager;\nprivate LocationListener locationListener;\n\nString[] appPermissions = {\n        android.Manifest.permission.ACCESS_FINE_LOCATION,\n        android.Manifest.permission.SEND_SMS\n};\nprivate static final int PERMISSIONS_REQUEST_CODE = 123;\n\nprivate static final int MY_PERMISSIONS_REQUEST_SEND_SMS = 0;\ndouble x,y;\n\nButton sendBtn;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    if (checkAndRequestPermissons()) {\n\n    }\n    locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n    locationListener = new LocationListener() {\n        @Override\n        public void onLocationChanged(Location location) {\n            x = location.getAltitude() ;\n            y = location.getLongitude();\n            Log.d(&quot;Location&quot;, location.toString());\n\n        }\n\n        @Override\n        public void onStatusChanged(String provider, int status, Bundle extras) {\n\n        }\n\n        @Override\n        public void onProviderEnabled(String provider) {\n\n        }\n\n        @Override\n        public void onProviderDisabled(String provider) {\n\n        }\n\n    };\n\n    if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // TODO: Consider calling\n        //    ActivityCompat#requestPermissions\n        // here to request the missing permissions, and then overriding\n        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n        //                                          int[] grantResults)\n        // to handle the case where the user grants the permission. See the documentation\n        // for ActivityCompat#requestPermissions for more details.\n        return;\n    }\n    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\n\n\n\n\n    sendBtn = (Button) findViewById(R.id.btnSendSMS);\n    sendBtn.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View view) {\n            sendSMSMessage();\n        }\n    });\n\n}\nprotected void sendSMSMessage() {\n\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS)\n            != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.SEND_SMS)) {\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        }\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                SmsManager smsManager = SmsManager.getDefault();\n                smsManager.sendTextMessage(&quot;+212xxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://www.google.com/maps/search/?api=1&amp;query=&quot; + x + &quot;,&quot; + y , null, null);\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n        }\n    }\n\n}\nprivate boolean checkAndRequestPermissons() {\n    List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n    for (String perm : appPermissions)\n    {\n        if (ContextCompat.checkSelfPermission(this,perm) != PackageManager.PERMISSION_GRANTED)\n        {\n            listPermissionsNeeded.add(perm);\n        }\n    }\n    if (!listPermissionsNeeded.isEmpty())\n    {\n        ActivityCompat.requestPermissions(this,listPermissionsNeeded.toArray(\n                new String[listPermissionsNeeded.size()]),PERMISSIONS_REQUEST_CODE\n        );\n        return  false;\n\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","palindrome"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675976186,"post_id":75404272,"comment_id":133049329,"body_markdown":"A `char` in Java is a primitive. It is a type of integer. So, you can use [relational operators](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)  on them. Where you have `inputString.charAt(0)`, instead of `0`, use an `int` variable, which you can get from a `for` loop index.  (By the way, you can do arithmetic with `char`,)","body":"A <code>char</code> in Java is a primitive. It is a type of integer. So, you can use <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">relational operators</a>  on them. Where you have <code>inputString.charAt(0)</code>, instead of <code>0</code>, use an <code>int</code> variable, which you can get from a <code>for</code> loop index.  (By the way, you can do arithmetic with <code>char</code>,)"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675975963,"creation_date":1675975963,"answer_id":75404315,"question_id":75404272,"body_markdown":"Iterate from both ends of the string, moving toward the center and checking the corresponding characters each time.\r\n\r\n```java\r\nint nomatch = 0;\r\nfor (int i = 0, j = stringLength - 1; i &lt; j; i++, j--) {\r\n\tif (stringInput.charAt(i) != stringInput.charAt(j)) {\r\n\t\t++nomatch;\r\n\t\tSystem.out.format(&quot;The characters at index %d and %d do not match.%n&quot;, i, j);\r\n\t}\r\n}\r\nif (nomatch == 0) System.out.println(stringInput + &quot; is a palindrome.&quot;);\r\nelse System.out.println(stringInput + &quot; is not a palindrome. Number of invalid character matches: &quot; + nomatch);\r\n```","title":"How to identify which characters are mismatching in a user input string","body":"<p>Iterate from both ends of the string, moving toward the center and checking the corresponding characters each time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int nomatch = 0;\nfor (int i = 0, j = stringLength - 1; i &lt; j; i++, j--) {\n    if (stringInput.charAt(i) != stringInput.charAt(j)) {\n        ++nomatch;\n        System.out.format(&quot;The characters at index %d and %d do not match.%n&quot;, i, j);\n    }\n}\nif (nomatch == 0) System.out.println(stringInput + &quot; is a palindrome.&quot;);\nelse System.out.println(stringInput + &quot; is not a palindrome. Number of invalid character matches: &quot; + nomatch);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675976717,"creation_date":1675976411,"answer_id":75404372,"question_id":75404272,"body_markdown":"As this is [home work][1], I&#39;ll only give general hints:\r\n\r\n - an easy way to reverse a string is `inputReverse = new StringBuilder(stringInput).reverse().toString();`\r\n - you only need to compare each character of the first *half* of the input with its reverse\r\n - use a `for` loop of `int` from 0 to half the length and pass it to `charAt()` for both strings and compare using `==`\r\n - store the indexes of differences in a `List&lt;Integer&gt;`\r\n\r\n  [1]: https://softwareengineering.meta.stackexchange.com/q/6166","title":"How to identify which characters are mismatching in a user input string","body":"<p>As this is <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">home work</a>, I'll only give general hints:</p>\n<ul>\n<li>an easy way to reverse a string is <code>inputReverse = new StringBuilder(stringInput).reverse().toString();</code></li>\n<li>you only need to compare each character of the first <em>half</em> of the input with its reverse</li>\n<li>use a <code>for</code> loop of <code>int</code> from 0 to half the length and pass it to <code>charAt()</code> for both strings and compare using <code>==</code></li>\n<li>store the indexes of differences in a <code>List&lt;Integer&gt;</code></li>\n</ul>\n"}],"owner":{"account_id":27748009,"reputation":1,"user_id":21183050,"display_name":"Brooke Cruz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675976717,"creation_date":1675975611,"question_id":75404272,"body_markdown":"This project is used to identify whether or not a user&#39;s input is a palindrome, and if it&#39;s not, identifies how many characters don&#39;t match and their positions in the string (i.e characters 2 and 4 don&#39;t match). I&#39;ve been able to figure out how to identify whether or not a string is a palindrome, but I&#39;m struggling with how to specifically identify the characters that don&#39;t match in a non-palindrome. Here&#39;s my code so far:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Palindrome\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      \r\n      String stringInput = &quot;&quot;;\r\n      String inputReverse = &quot;&quot;;\r\n      \r\n      boolean isPalindrome = true;\r\n      \r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      System.out.print(&quot;Enter a string: &quot;);\r\n      stringInput = keyboard.nextLine();\r\n      \r\n      \r\n      int stringLength = stringInput.length();\r\n      \r\n      for(int i = stringLength - 1; i &gt;=0; i--)\r\n      {\r\n        inputReverse = inputReverse + stringInput.charAt(i);\r\n      }\r\n      \r\n      if(stringInput.equals(inputReverse))\r\n      {\r\n         System.out.println(stringInput + &quot; is a valid palindrome.&quot;);\r\n      }\r\n      else\r\n      {\r\n         System.out.println(stringInput + &quot; is not a valid palindrome.&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\nthe output I want for when a string is not a palindrome is:\r\n&quot;The characters at index 0 and 3 do not match.\r\n goop is not a valid palindrome.\r\n number of invalid character matches: 1 &quot;\r\n\r\n\r\nI tried to use stringInput.charAt(0) but the user input is unpredictable, so I wouldn&#39;t be able to use char 0,1,2,3 etc forever. Any help?","title":"How to identify which characters are mismatching in a user input string","body":"<p>This project is used to identify whether or not a user's input is a palindrome, and if it's not, identifies how many characters don't match and their positions in the string (i.e characters 2 and 4 don't match). I've been able to figure out how to identify whether or not a string is a palindrome, but I'm struggling with how to specifically identify the characters that don't match in a non-palindrome. Here's my code so far:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Palindrome\n{\n   public static void main(String[] args)\n   {\n      \n      String stringInput = &quot;&quot;;\n      String inputReverse = &quot;&quot;;\n      \n      boolean isPalindrome = true;\n      \n      Scanner keyboard = new Scanner(System.in);\n      \n      System.out.print(&quot;Enter a string: &quot;);\n      stringInput = keyboard.nextLine();\n      \n      \n      int stringLength = stringInput.length();\n      \n      for(int i = stringLength - 1; i &gt;=0; i--)\n      {\n        inputReverse = inputReverse + stringInput.charAt(i);\n      }\n      \n      if(stringInput.equals(inputReverse))\n      {\n         System.out.println(stringInput + &quot; is a valid palindrome.&quot;);\n      }\n      else\n      {\n         System.out.println(stringInput + &quot; is not a valid palindrome.&quot;);\n      }\n   }\n}\n</code></pre>\n<p>the output I want for when a string is not a palindrome is:\n&quot;The characters at index 0 and 3 do not match.\ngoop is not a valid palindrome.\nnumber of invalid character matches: 1 &quot;</p>\n<p>I tried to use stringInput.charAt(0) but the user input is unpredictable, so I wouldn't be able to use char 0,1,2,3 etc forever. Any help?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1675977620,"post_id":75404308,"comment_id":133049670,"body_markdown":"See also: [Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?](https://stackoverflow.com/q/2745265/507738).","body":"See also: <a href=\"https://stackoverflow.com/q/2745265/507738\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a>."}],"owner":{"account_id":27748052,"reputation":19,"user_id":21183086,"display_name":"Rick Yoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1675977776,"answer_count":0,"score":1,"last_activity_date":1675976212,"creation_date":1675975909,"question_id":75404308,"body_markdown":"In the following code, line 14 fails to compile with error:\r\n\r\n&gt;Type mismatch: cannot convert from `Map&lt;String,Set&lt;Integer&gt;&gt;` to `Map&lt;String,Set&lt;? extends Number&gt;&gt;`\r\n\r\n```\r\n  1 import java.util.HashMap;\r\n  2 import java.util.HashSet;\r\n  3 import java.util.Map;\r\n  4 import java.util.Set;\r\n  5\r\n  6 public class GenericTest\r\n  7 {\r\n  8     public static void main(String[] args)\r\n  9     {\r\n 10         Set&lt;? extends Number&gt; set = new HashSet&lt;Integer&gt;();\r\n 11\r\n 12         Map&lt;String, Set&lt;Integer&gt;&gt; intMap = new HashMap&lt;&gt;();\r\n 13         Map&lt;String, Set&lt;? extends Number&gt;&gt; numberMap = intMap;\r\n 14     }\r\n 15 }\r\n\r\n```\r\n\r\n\r\nIs there any way to declare the numberMap so this compiles? \r\n\r\nI know I can use `Map&lt;String, Object&gt;`, but I want to be able to retrieve values from the map as a set of numbers without having to cast.","title":"Java generics with maps","body":"<p>In the following code, line 14 fails to compile with error:</p>\n<blockquote>\n<p>Type mismatch: cannot convert from <code>Map&lt;String,Set&lt;Integer&gt;&gt;</code> to <code>Map&lt;String,Set&lt;? extends Number&gt;&gt;</code></p>\n</blockquote>\n<pre><code>  1 import java.util.HashMap;\n  2 import java.util.HashSet;\n  3 import java.util.Map;\n  4 import java.util.Set;\n  5\n  6 public class GenericTest\n  7 {\n  8     public static void main(String[] args)\n  9     {\n 10         Set&lt;? extends Number&gt; set = new HashSet&lt;Integer&gt;();\n 11\n 12         Map&lt;String, Set&lt;Integer&gt;&gt; intMap = new HashMap&lt;&gt;();\n 13         Map&lt;String, Set&lt;? extends Number&gt;&gt; numberMap = intMap;\n 14     }\n 15 }\n\n</code></pre>\n<p>Is there any way to declare the numberMap so this compiles?</p>\n<p>I know I can use <code>Map&lt;String, Object&gt;</code>, but I want to be able to retrieve values from the map as a set of numbers without having to cast.</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":36036,"reputation":5314,"user_id":102483,"accept_rate":100,"display_name":"Hiro2k"},"down_vote_count":5,"up_vote_count":14,"is_accepted":true,"score":9,"last_activity_date":1333667052,"creation_date":1333667052,"answer_id":10037226,"question_id":10036894,"body_markdown":"What&#39;s wrong with calling `System.exit()`?","title":"Stopping JUnit suite if particular test fails","body":"<p>What's wrong with calling <code>System.exit()</code>?</p>\n"},{"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333683687,"creation_date":1333683687,"answer_id":10038875,"question_id":10036894,"body_markdown":"Are you running tests using ant?\r\n\r\nYou could write  a custom test listener. You can set this in ant http://ant.apache.org/manual/Tasks/junit.html ( enableTestListenerEvents).\r\n\r\n","title":"Stopping JUnit suite if particular test fails","body":"<p>Are you running tests using ant?</p>\n\n<p>You could write  a custom test listener. You can set this in ant <a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow\">http://ant.apache.org/manual/Tasks/junit.html</a> ( enableTestListenerEvents).</p>\n"},{"tags":[],"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1333684515,"creation_date":1333684515,"answer_id":10038949,"question_id":10036894,"body_markdown":"If it&#39;s **first** test then consider moving its validation to @BeforeClass and throw exception if it fails. Then only @AfterClass method would run in case of this exception. \r\n\r\nOf course, that way you lack all the fixture artifacts created in test setup method(s).","title":"Stopping JUnit suite if particular test fails","body":"<p>If it's <strong>first</strong> test then consider moving its validation to @BeforeClass and throw exception if it fails. Then only @AfterClass method would run in case of this exception. </p>\n\n<p>Of course, that way you lack all the fixture artifacts created in test setup method(s).</p>\n"},{"tags":[],"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1333722093,"creation_date":1333722093,"answer_id":10044812,"question_id":10036894,"body_markdown":"Based on the answer from Hiro2k (thanks!) I&#39;ve used the following solution. It&#39;s a bit of a hack but it works.\r\n\r\nThe test which can prevent other tests running goes at the top of the @Suite.SuiteClasses list. That test then has the following:\r\n\r\n\tprivate static boolean shouldStopRestOfSuite = false;\r\n\r\n    \t@Test\r\n        public void test () throws Throwable {\r\n\t    try {\r\n                ... run some test code...\r\n\t    }\r\n\t    catch (Throwable e) {\r\n\t        shouldStopRestOfSuite = true;\r\n\t        throw e;\r\n\t    }\r\n\t}\r\n\r\nNote the above does need to catch Throwable (not exception) so it catches assertion errors. It also re-throws the error so it&#39;s logged by JUnit for analysis.\r\n\r\nThen there&#39;s another test method:\r\n\r\n\t@Test\r\n\tpublic void testKillIfNeeded () throws Exception {\r\n\t\tif (!shouldStopRestOfSuite) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println (&quot;Test suite killed due to dangerous error / failure&quot;);\r\n\t\tSystem.exit(1);\r\n\t}\r\n\r\nThe above is run second and will kill the JUnit process.\r\n\r\nUsing this method the JUnit test won&#39;t end on fail / error if there&#39;s an issue but the fail / error is logged for analysis by JUnit and no further tests will run.\r\n\r\nNot too pretty but it does the job :)\r\n","title":"Stopping JUnit suite if particular test fails","body":"<p>Based on the answer from Hiro2k (thanks!) I've used the following solution. It's a bit of a hack but it works.</p>\n\n<p>The test which can prevent other tests running goes at the top of the @Suite.SuiteClasses list. That test then has the following:</p>\n\n<pre><code>private static boolean shouldStopRestOfSuite = false;\n\n    @Test\n    public void test () throws Throwable {\n    try {\n            ... run some test code...\n    }\n    catch (Throwable e) {\n        shouldStopRestOfSuite = true;\n        throw e;\n    }\n}\n</code></pre>\n\n<p>Note the above does need to catch Throwable (not exception) so it catches assertion errors. It also re-throws the error so it's logged by JUnit for analysis.</p>\n\n<p>Then there's another test method:</p>\n\n<pre><code>@Test\npublic void testKillIfNeeded () throws Exception {\n    if (!shouldStopRestOfSuite) {\n        return;\n    }\n\n    System.out.println (\"Test suite killed due to dangerous error / failure\");\n    System.exit(1);\n}\n</code></pre>\n\n<p>The above is run second and will kill the JUnit process.</p>\n\n<p>Using this method the JUnit test won't end on fail / error if there's an issue but the fail / error is logged for analysis by JUnit and no further tests will run.</p>\n\n<p>Not too pretty but it does the job :)</p>\n"},{"tags":[],"owner":{"account_id":3092205,"reputation":179,"user_id":2618110,"display_name":"Jorge"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420462893,"creation_date":1420462893,"answer_id":27780112,"question_id":10036894,"body_markdown":"Like your answer but using `@Before` in an integration test, I did something like this:\r\n\r\n    public class FooTest {\r\n\r\n       private static boolean bar;\r\n       \r\n       @BeforeClass\r\n       public static void setUpBeforeClass() throws Exception {\r\n             bar = false;\r\n       }\r\n\r\n       @Before\r\n       public void setUp() throws Exception {\r\n             assertTrue(bar);\r\n       }\r\n\r\n       @Test\r\n       public void test() {\r\n             System.out.println(&quot;something&quot;);\r\n             assertTrue(true);\r\n       }\r\n       \r\n       @Test\r\n       public void test1() {\r\n             System.out.println(&quot;Something2&quot;);\r\n             assertTrue(true);\r\n       }\r\n    }\r\n\r\nRegards!","title":"Stopping JUnit suite if particular test fails","body":"<p>Like your answer but using <code>@Before</code> in an integration test, I did something like this:</p>\n\n<pre><code>public class FooTest {\n\n   private static boolean bar;\n\n   @BeforeClass\n   public static void setUpBeforeClass() throws Exception {\n         bar = false;\n   }\n\n   @Before\n   public void setUp() throws Exception {\n         assertTrue(bar);\n   }\n\n   @Test\n   public void test() {\n         System.out.println(\"something\");\n         assertTrue(true);\n   }\n\n   @Test\n   public void test1() {\n         System.out.println(\"Something2\");\n         assertTrue(true);\n   }\n}\n</code></pre>\n\n<p>Regards!</p>\n"},{"tags":[],"owner":{"account_id":6073837,"reputation":330,"user_id":4741784,"display_name":"fab"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1436846369,"creation_date":1436846369,"answer_id":31397394,"question_id":10036894,"body_markdown":"First you need junit RunListener:\r\n\r\n    \r\n    import org.junit.runner.notification.Failure;\r\n    import org.junit.runner.notification.RunListener;\r\n    import org.junit.runner.notification.RunNotifier;\r\n    \r\n    public class FailureListener extends RunListener {\r\n    \r\n        private RunNotifier runNotifier;\r\n    \r\n        public FailureListener(RunNotifier runNotifier) {\r\n            super();\r\n            this.runNotifier=runNotifier;\r\n        }\r\n    \r\n        @Override\r\n        public void testFailure(Failure failure) throws Exception {\r\n            super.testFailure(failure);\r\n            this.runNotifier.pleaseStop();\r\n        }\r\n    }\r\n\r\nThen prepare a suite:\r\n\r\n    public class StopOnFailureSuite extends Suite {\r\n    \r\n        public StopOnFailureSuite(Class&lt;?&gt; klass, Class&lt;?&gt;[] suiteClasses) throws InitializationError {\r\n            super(klass, suiteClasses);\r\n        }\r\n    \r\n        public StopOnFailureSuite(Class&lt;?&gt; klass) throws InitializationError {\r\n            super(klass, klass.getAnnotation(SuiteClasses.class).value());\r\n        }\r\n    \r\n        @Override\r\n        public void run(RunNotifier runNotifier) {\r\n            runNotifier.addListener(new FailureListener(runNotifier));\r\n            super.run(runNotifier);\r\n        }\r\n    }\r\n\r\nAnd run your suite:\r\n\r\n    @RunWith(StopOnFailureSuite.class)\r\n    @Suite.SuiteClasses({\r\n        FirstTestClass.class,\r\n        SecondTestClass.class,\r\n        ...\r\n    })\r\n\r\n","title":"Stopping JUnit suite if particular test fails","body":"<p>First you need junit RunListener:</p>\n\n<pre><code>import org.junit.runner.notification.Failure;\nimport org.junit.runner.notification.RunListener;\nimport org.junit.runner.notification.RunNotifier;\n\npublic class FailureListener extends RunListener {\n\n    private RunNotifier runNotifier;\n\n    public FailureListener(RunNotifier runNotifier) {\n        super();\n        this.runNotifier=runNotifier;\n    }\n\n    @Override\n    public void testFailure(Failure failure) throws Exception {\n        super.testFailure(failure);\n        this.runNotifier.pleaseStop();\n    }\n}\n</code></pre>\n\n<p>Then prepare a suite:</p>\n\n<pre><code>public class StopOnFailureSuite extends Suite {\n\n    public StopOnFailureSuite(Class&lt;?&gt; klass, Class&lt;?&gt;[] suiteClasses) throws InitializationError {\n        super(klass, suiteClasses);\n    }\n\n    public StopOnFailureSuite(Class&lt;?&gt; klass) throws InitializationError {\n        super(klass, klass.getAnnotation(SuiteClasses.class).value());\n    }\n\n    @Override\n    public void run(RunNotifier runNotifier) {\n        runNotifier.addListener(new FailureListener(runNotifier));\n        super.run(runNotifier);\n    }\n}\n</code></pre>\n\n<p>And run your suite:</p>\n\n<pre><code>@RunWith(StopOnFailureSuite.class)\n@Suite.SuiteClasses({\n    FirstTestClass.class,\n    SecondTestClass.class,\n    ...\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1307549,"reputation":2032,"user_id":1256210,"display_name":"Nishant Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510722698,"creation_date":1510722698,"answer_id":47299798,"question_id":10036894,"body_markdown":"Firstly you should catch an error and check the same before you run the 2nd test. \r\n\r\n    @Rule\r\n    public ErrorCollector collector = new ErrorCollector();\r\n\r\n  **1. Add Error.**\r\n\r\n    collector.addError(new Throwable(&quot;first thing went wrong&quot;));\r\n\r\n **2. Check before the dependent run**.\r\n\r\n    collector.checkThat(getResult(), not(containsString(&quot;ERROR!&quot;)));\r\n\r\nReference - [ErrorCollector][1]\r\n  [1]: http://junit.org/junit4/javadoc/latest/org/junit/rules/ErrorCollector.html","title":"Stopping JUnit suite if particular test fails","body":"<p>Firstly you should catch an error and check the same before you run the 2nd test. </p>\n\n<pre><code>@Rule\npublic ErrorCollector collector = new ErrorCollector();\n</code></pre>\n\n<p><strong>1. Add Error.</strong></p>\n\n<pre><code>collector.addError(new Throwable(\"first thing went wrong\"));\n</code></pre>\n\n<p><strong>2. Check before the dependent run</strong>.</p>\n\n<pre><code>collector.checkThat(getResult(), not(containsString(\"ERROR!\")));\n</code></pre>\n\n<p>Reference - <a href=\"http://junit.org/junit4/javadoc/latest/org/junit/rules/ErrorCollector.html\" rel=\"nofollow noreferrer\">ErrorCollector</a></p>\n"},{"tags":[],"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675975569,"creation_date":1675974942,"answer_id":75404167,"question_id":10036894,"body_markdown":"I find it troubling that this functionality is so tedious to implement in such a mature library.  If you&#39;re using JUnit 5 / Jupiter you can use an extension called **JUnit Pioneer** (https://junit-pioneer.org).\r\n\r\nWith JUnit Pioneer you can simply add a [```@DisableIfTestFails```][1] annotation to your test class to make all tests stop when one fails.\r\n\r\n\r\n\r\n  [1]: https://junit-pioneer.org/docs/disable-if-test-fails/","title":"Stopping JUnit suite if particular test fails","body":"<p>I find it troubling that this functionality is so tedious to implement in such a mature library.  If you're using JUnit 5 / Jupiter you can use an extension called <strong>JUnit Pioneer</strong> (<a href=\"https://junit-pioneer.org\" rel=\"nofollow noreferrer\">https://junit-pioneer.org</a>).</p>\n<p>With JUnit Pioneer you can simply add a <a href=\"https://junit-pioneer.org/docs/disable-if-test-fails/\" rel=\"nofollow noreferrer\"><code>@DisableIfTestFails</code></a> annotation to your test class to make all tests stop when one fails.</p>\n"}],"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40246,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":10037226,"answer_count":8,"score":26,"last_activity_date":1675975569,"creation_date":1333664888,"question_id":10036894,"body_markdown":"I have a JUnit test suite in the form:\r\n\r\n    @RunWith(Suite.class)\r\n    @Suite.SuiteClasses( { xx.class, yy.cass })\r\n\t\t\t\t\t   \r\n    public class AllTests {\r\n\r\n\tpublic static Test suite() {\r\n\t\tTestSuite suite = new TestSuite(AllTests.class.getName());\r\n\t\t//$JUnit-BEGIN$\r\n\r\n\t\t//$JUnit-END$\r\n\t\treturn suite;\r\n\t}\r\n    }\r\n\r\n\r\nThis then calls vanilla tests like this:\r\n\r\n    public class xxx {\r\n\r\n\t@Test\r\n\tpublic void test () throws {\r\n        ...\r\n\r\nI have a situation where I&#39;d like to stop the rest of the test suite running if there&#39;s an error or fail in the first test. But errors / fails in the others are ok and the suite should complete as many other tests as it can. Basically the first test failing would indicate it isn&#39;t safe to run the rest. \r\n\r\nIs this possible?\r\n","title":"Stopping JUnit suite if particular test fails","body":"<p>I have a JUnit test suite in the form:</p>\n\n<pre><code>@RunWith(Suite.class)\n@Suite.SuiteClasses( { xx.class, yy.cass })\n\npublic class AllTests {\n\npublic static Test suite() {\n    TestSuite suite = new TestSuite(AllTests.class.getName());\n    //$JUnit-BEGIN$\n\n    //$JUnit-END$\n    return suite;\n}\n}\n</code></pre>\n\n<p>This then calls vanilla tests like this:</p>\n\n<pre><code>public class xxx {\n\n@Test\npublic void test () throws {\n    ...\n</code></pre>\n\n<p>I have a situation where I'd like to stop the rest of the test suite running if there's an error or fail in the first test. But errors / fails in the others are ok and the suite should complete as many other tests as it can. Basically the first test failing would indicate it isn't safe to run the rest. </p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","github","jflex"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675886452,"post_id":75391125,"comment_id":133026807,"body_markdown":"Are you using a dependency management tool such as Maven or Gradle?","body":"Are you using a dependency management tool such as Maven or Gradle?"},{"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"score":0,"creation_date":1675898973,"post_id":75391125,"comment_id":133029613,"body_markdown":"@BasilBourque i&#39;m not, i&#39;m kind of new to java so i actually don&#39;t know what maven or gradle is haha","body":"@BasilBourque i&#39;m not, i&#39;m kind of new to java so i actually don&#39;t know what maven or gradle is haha"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676033268,"post_id":75391125,"comment_id":133060698,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675975158,"creation_date":1675906695,"answer_id":75393372,"question_id":75391125,"body_markdown":"# Download needed library \r\n\r\nCommonly, projects uploaded to GitHub omit the various [libraries][1] needed by the app. \r\n\r\nSo you will need to manually obtain the needed library, usually a [JAR][2] file. Then place that JAR file in a location accessible by your project. \r\n\r\nWhen deploying your app, you will need to either include the library within your app, or make the library available on the runtime computer. \r\n\r\n# Dependency management &amp; build tool\r\n\r\nNeeded libraries are referred to as “dependencies”. \r\n\r\nIf doing any serious work in Java, I strongly recommend you learn how to use an [IDE][3] (such as [IntelliJ][4], Eclipse, or NetBeans) in conjunction with a dependency management tool (such as [Apache Maven][5] or Apache Gradle). \r\n\r\nTools like Maven &amp; Gradle will automatically locate a copy of your declared dependency libraries, automatically download from a repository, and then install within your project. \r\n\r\nThese tools (IDEs, and dependency managers) do come with a learning curve. But that learning time is well spent if you are invested in being a Java developer. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Library_(computing)\r\n  [2]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [3]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [4]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [5]: https://en.wikipedia.org/wiki/Apache_Maven","title":"How can I use JFlex if i&#180;m cloning a project from github","body":"<h1>Download needed library</h1>\n<p>Commonly, projects uploaded to GitHub omit the various <a href=\"https://en.wikipedia.org/wiki/Library_(computing)\" rel=\"nofollow noreferrer\">libraries</a> needed by the app.</p>\n<p>So you will need to manually obtain the needed library, usually a <a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"nofollow noreferrer\">JAR</a> file. Then place that JAR file in a location accessible by your project.</p>\n<p>When deploying your app, you will need to either include the library within your app, or make the library available on the runtime computer.</p>\n<h1>Dependency management &amp; build tool</h1>\n<p>Needed libraries are referred to as “dependencies”.</p>\n<p>If doing any serious work in Java, I strongly recommend you learn how to use an <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> (such as <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a>, Eclipse, or NetBeans) in conjunction with a dependency management tool (such as <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> or Apache Gradle).</p>\n<p>Tools like Maven &amp; Gradle will automatically locate a copy of your declared dependency libraries, automatically download from a repository, and then install within your project.</p>\n<p>These tools (IDEs, and dependency managers) do come with a learning curve. But that learning time is well spent if you are invested in being a Java developer.</p>\n"}],"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675975158,"creation_date":1675886268,"question_id":75391125,"body_markdown":"i&#39;m currently working on a Lexer in Java, i&#39;m using jflex to do this, when my partner runs the code it works, he pushed it into a repo in github. I cloned it and when trying to run it, it says it cannot find a symbol which is Lexer, this is a class that jflex creates. I \r\n\r\nI was expecting to be able to use the jflex library, which is stored in the lib directory in the project, also, in the .vscode directory we created a settings.json in order to be able to use it, we thought it worked but apparently when someone clones the repo it doesn&#39;t work. How can i solve this?","title":"How can I use JFlex if i&#180;m cloning a project from github","body":"<p>i'm currently working on a Lexer in Java, i'm using jflex to do this, when my partner runs the code it works, he pushed it into a repo in github. I cloned it and when trying to run it, it says it cannot find a symbol which is Lexer, this is a class that jflex creates. I</p>\n<p>I was expecting to be able to use the jflex library, which is stored in the lib directory in the project, also, in the .vscode directory we created a settings.json in order to be able to use it, we thought it worked but apparently when someone clones the repo it doesn't work. How can i solve this?</p>\n"},{"tags":["java","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668178232,"creation_date":1668178232,"answer_id":74404257,"question_id":74404081,"body_markdown":"You could probably tackle this problem with using something like a `ThreadLocal` variable in your logging filter. That is set by the code that does the authentication. And based on that do your different logging. \r\n\r\nA simple example, in your filter class you could have something like this:\r\n\r\n```java\r\nprivate static final ThreadLocal&lt;String&gt; ROLE = new ThreadLocal&lt;&gt;();\r\n\r\npublic void doTheFiltering() {\r\n    String role = ROLE.get();\r\n    if (role == null) {\r\n        // not authenticated...\r\n    } else if (role.equals(&quot;ADMIN&quot;) {\r\n        // filter based on admin privileges\r\n    } else ...\r\n}\r\n\r\npublic static void setRole(String role) {\r\n    ROLE.set(role);\r\n}\r\n\r\npublic static void clearRole() {\r\n    ROLE.remove();\r\n}\r\n```\r\n\r\nAnd in your authentication code:\r\n\r\n```java\r\ntry {\r\n    String role = ... // find out role\r\n    MyFilter.setRole(role);\r\n    // continue with whatever you&#39;re doing\r\n} finally {\r\n    // clean up the role on this thread.\r\n    // this is especially needed when you&#39;re using a thread pool that handles requests.\r\n    MyFilter.clearRole();\r\n}","title":"How can I print different logs for different user roles in Java?","body":"<p>You could probably tackle this problem with using something like a <code>ThreadLocal</code> variable in your logging filter. That is set by the code that does the authentication. And based on that do your different logging.</p>\n<p>A simple example, in your filter class you could have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final ThreadLocal&lt;String&gt; ROLE = new ThreadLocal&lt;&gt;();\n\npublic void doTheFiltering() {\n    String role = ROLE.get();\n    if (role == null) {\n        // not authenticated...\n    } else if (role.equals(&quot;ADMIN&quot;) {\n        // filter based on admin privileges\n    } else ...\n}\n\npublic static void setRole(String role) {\n    ROLE.set(role);\n}\n\npublic static void clearRole() {\n    ROLE.remove();\n}\n</code></pre>\n<p>And in your authentication code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    String role = ... // find out role\n    MyFilter.setRole(role);\n    // continue with whatever you're doing\n} finally {\n    // clean up the role on this thread.\n    // this is especially needed when you're using a thread pool that handles requests.\n    MyFilter.clearRole();\n}\n</code></pre>\n"}],"owner":{"account_id":20876886,"reputation":31,"user_id":15335478,"display_name":"Sweta Dhanuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675975071,"creation_date":1668177519,"question_id":74404081,"body_markdown":"I&#39;m trying to do logging for different user roles (admin, developers, end users, etc.), and I want to show a different/filtered log for end-users. How can I achieve that?\r\n\r\nHow can I approach this problem?\r\n\r\n\r\n   ","title":"How can I print different logs for different user roles in Java?","body":"<p>I'm trying to do logging for different user roles (admin, developers, end users, etc.), and I want to show a different/filtered log for end-users. How can I achieve that?</p>\n<p>How can I approach this problem?</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1556595087,"post_id":55913491,"comment_id":98481544,"body_markdown":"What&#39;s the Suspend Policy? Does switching it to [Thread](https://i.imgur.com/c5vbeA2.png) help? See [this document](https://intellij-support.jetbrains.com/hc/articles/206544799). If it doesn&#39;t help, file a bug at https://youtrack.jetbrains.com/issues/IDEA and attach the following: [idea.log](https://intellij-support.jetbrains.com/hc/articles/207241085), [thread dumps](https://intellij-support.jetbrains.com/hc/articles/206544899) of IntelliJ IDEA and Tomcat processes using `jstack`, `.idea` directory contents from the project. Specify IntelliJ IDEA, Java and Tomcat versions you are using.","body":"What&#39;s the Suspend Policy? Does switching it to <a href=\"https://i.imgur.com/c5vbeA2.png\" rel=\"nofollow noreferrer\">Thread</a> help? See <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544799\" rel=\"nofollow noreferrer\">this document</a>. If it doesn&#39;t help, file a bug at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> and attach the following: <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a>, <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544899\" rel=\"nofollow noreferrer\">thread dumps</a> of IntelliJ IDEA and Tomcat processes using <code>jstack</code>, <code>.idea</code> directory contents from the project. Specify IntelliJ IDEA, Java and Tomcat versions you are using."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1556595107,"post_id":55913491,"comment_id":98481550,"body_markdown":"[Debugger logs](https://intellij-support.jetbrains.com/hc/articles/207241125) may be also helpful.","body":"<a href=\"https://intellij-support.jetbrains.com/hc/articles/207241125\" rel=\"nofollow noreferrer\">Debugger logs</a> may be also helpful."},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1556605276,"post_id":55913491,"comment_id":98484315,"body_markdown":"@CrazyCoder  It&#39;s thread policy.","body":"@CrazyCoder  It&#39;s thread policy."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1556607534,"post_id":55913491,"comment_id":98485269,"body_markdown":"Did you solve the problem?","body":"Did you solve the problem?"},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1556607941,"post_id":55913491,"comment_id":98485422,"body_markdown":"@CrazyCoder Not yet. I will file a bug and attach the log files.","body":"@CrazyCoder Not yet. I will file a bug and attach the log files."},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1557061120,"post_id":55913491,"comment_id":98632122,"body_markdown":"@CrazyCoder After closing the threads view, it became faster.","body":"@CrazyCoder After closing the threads view, it became faster."},{"owner":{"account_id":4356026,"reputation":1989,"user_id":3554624,"display_name":"panser"},"score":0,"creation_date":1597653657,"post_id":55913491,"comment_id":112192682,"body_markdown":"I had the same and here was my solution https://stackoverflow.com/a/63447369/3554624","body":"I had the same and here was my solution <a href=\"https://stackoverflow.com/a/63447369/3554624\">stackoverflow.com/a/63447369/3554624</a>"}],"answers":[{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1600355530,"creation_date":1557061071,"answer_id":55992190,"question_id":55913491,"body_markdown":"I find this happens only when I open both *Thread View* and *Variable View*, like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo I closed the *Thread View*, and it became much faster:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yoFhT.png\r\n  [2]: https://i.stack.imgur.com/mMLSN.png","title":"IntelliJ IDEA stucks at &quot;collecting data&quot; while debug","body":"<p>I find this happens only when I open both <em>Thread View</em> and <em>Variable View</em>, like this</p>\n<p><a href=\"https://i.stack.imgur.com/yoFhT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yoFhT.png\" alt=\"enter image description here\" /></a></p>\n<p>So I closed the <em>Thread View</em>, and it became much faster:</p>\n<p><a href=\"https://i.stack.imgur.com/mMLSN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mMLSN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16623578,"reputation":171,"user_id":12013214,"display_name":"WASDi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666707919,"creation_date":1666707919,"answer_id":74195662,"question_id":55913491,"body_markdown":"A workaround for if the variable `x` is stuck at &quot;Collecting data...&quot;, evaluating its methods like `x.toString()` still worked for me to view its contents.","title":"IntelliJ IDEA stucks at &quot;collecting data&quot; while debug","body":"<p>A workaround for if the variable <code>x</code> is stuck at &quot;Collecting data...&quot;, evaluating its methods like <code>x.toString()</code> still worked for me to view its contents.</p>\n"},{"tags":[],"owner":{"account_id":17667530,"reputation":87,"user_id":12824563,"display_name":"Samantra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675973934,"creation_date":1675973934,"answer_id":75404006,"question_id":55913491,"body_markdown":"In my IntelliJ IDEA 2022.2 the issue touched only `List`-like collections (thus all objects containing them as fields).   \r\nWhat helped me is disabling `Enabling alternative view for Collection classes` option in Settings &gt; Debugger &gt; Data Views &gt; Java:\r\n[![enter image description here][1]][1]  \r\nNow it shows collection size and expandable items instead of `Collecting data...`:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KR9hk.png\r\n  [2]: https://i.stack.imgur.com/uQHXI.png","title":"IntelliJ IDEA stucks at &quot;collecting data&quot; while debug","body":"<p>In my IntelliJ IDEA 2022.2 the issue touched only <code>List</code>-like collections (thus all objects containing them as fields).<br />\nWhat helped me is disabling <code>Enabling alternative view for Collection classes</code> option in Settings &gt; Debugger &gt; Data Views &gt; Java:\n<a href=\"https://i.stack.imgur.com/KR9hk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KR9hk.png\" alt=\"enter image description here\" /></a><br />\nNow it shows collection size and expandable items instead of <code>Collecting data...</code>:\n<a href=\"https://i.stack.imgur.com/uQHXI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQHXI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11635,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":55992190,"answer_count":3,"score":11,"last_activity_date":1675973934,"creation_date":1556594040,"question_id":55913491,"body_markdown":"I&#39;m using IntelliJ IDEA to debug remote tomcat application.\r\n\r\nIt works perfect before.\r\n\r\nHowever, for recent times, it always get stuck at &quot;collecting data&quot;, though the data is very small.\r\n\r\nI have searched on this site, and tried:\r\n\r\nhttps://stackoverflow.com/questions/46292095/intelliji-idea-is-very-slow-in-debug-mode-and-it-is-running-perfectly-in-normal\r\n\r\nhttps://stackoverflow.com/questions/30625785/intellij-freezes-for-about-30-seconds-before-debugging\r\n\r\nStill does not work\r\n","title":"IntelliJ IDEA stucks at &quot;collecting data&quot; while debug","body":"<p>I'm using IntelliJ IDEA to debug remote tomcat application.</p>\n\n<p>It works perfect before.</p>\n\n<p>However, for recent times, it always get stuck at \"collecting data\", though the data is very small.</p>\n\n<p>I have searched on this site, and tried:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46292095/intelliji-idea-is-very-slow-in-debug-mode-and-it-is-running-perfectly-in-normal\">Intelliji idea is very slow in debug mode and it is running perfectly in normal mode</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30625785/intellij-freezes-for-about-30-seconds-before-debugging\">IntelliJ freezes for about 30 seconds before debugging</a></p>\n\n<p>Still does not work</p>\n"},{"tags":["java","spring","spring-boot","docker","kubernetes"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675759000,"post_id":75370600,"comment_id":132992490,"body_markdown":"What are the differences between the versions? You actually left out the intersting bits in your logging (which is the information about the start (or non-start) of the application).","body":"What are the differences between the versions? You actually left out the intersting bits in your logging (which is the information about the start (or non-start) of the application)."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1675763888,"post_id":75370600,"comment_id":132993987,"body_markdown":"could you post the full pod config yaml?\nis port 8080 exposed in the pod config?","body":"could you post the full pod config yaml? is port 8080 exposed in the pod config?"},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1675764437,"post_id":75370600,"comment_id":132994160,"body_markdown":"have you checked the context path: https://stackoverflow.com/questions/55877188/spring-boot-actuator-returns-404-not-found","body":"have you checked the context path: <a href=\"https://stackoverflow.com/questions/55877188/spring-boot-actuator-returns-404-not-found\" title=\"spring boot actuator returns 404 not found\">stackoverflow.com/questions/55877188/&hellip;</a>"},{"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"score":0,"creation_date":1675801347,"post_id":75370600,"comment_id":133006048,"body_markdown":"@M.Deinum I added the description of the nodes, apart from the pods they&#39;re not different. I also added the full log","body":"@M.Deinum I added the description of the nodes, apart from the pods they&#39;re not different. I also added the full log"},{"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"score":0,"creation_date":1675801820,"post_id":75370600,"comment_id":133006177,"body_markdown":"@SimGel yes, te port 8080 is exposed, added the config yaml.","body":"@SimGel yes, te port 8080 is exposed, added the config yaml."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675843476,"post_id":75370600,"comment_id":133012871,"body_markdown":"The app takes some time to start about 30 seconds, is that a problem? You could enable full on debug logging `logging.level.root=DEBUG` or at least for the web stuff `logging.level.web=DEBUG` that will give some information on what is happening.","body":"The app takes some time to start about 30 seconds, is that a problem? You could enable full on debug logging <code>logging.level.root=DEBUG</code> or at least for the web stuff <code>logging.level.web=DEBUG</code> that will give some information on what is happening."},{"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"score":0,"creation_date":1675895804,"post_id":75370600,"comment_id":133029119,"body_markdown":"@M.Deinum Using the loggin level you suggested I can see the log from my last edit, so I can now confidently say that spring is reaching the readiness state but Tomcat (?) is not binding the port correctly.","body":"@M.Deinum Using the loggin level you suggested I can see the log from my last edit, so I can now confidently say that spring is reaching the readiness state but Tomcat (?) is not binding the port correctly."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675929610,"post_id":75370600,"comment_id":133034259,"body_markdown":"Did the exposed ports change? Here is nothing that should prevent it, so I suggest you go back and check what has changed between the working version and this one.","body":"Did the exposed ports change? Here is nothing that should prevent it, so I suggest you go back and check what has changed between the working version and this one."}],"answers":[{"tags":[],"owner":{"account_id":4541691,"reputation":54,"user_id":3689381,"display_name":"Gentoli"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1675973833,"creation_date":1675970371,"answer_id":75403437,"question_id":75370600,"body_markdown":"remove `-javaagent:/workspace/WEB-INF/lib/honeycomb-opentelemetry-javaagent-1.0.0.jar`\r\n\r\nedit:\r\nLooks like adding `-Dotel.instrumentation.tomcat.enabled=false` will also fix the issue.","title":"Kubernetes pod with spring application is failing to start (all endpoints with 404)","body":"<p>remove <code>-javaagent:/workspace/WEB-INF/lib/honeycomb-opentelemetry-javaagent-1.0.0.jar</code></p>\n<p>edit:\nLooks like adding <code>-Dotel.instrumentation.tomcat.enabled=false</code> will also fix the issue.</p>\n"}],"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75403437,"answer_count":1,"score":0,"last_activity_date":1675973833,"creation_date":1675758061,"question_id":75370600,"body_markdown":"My team has a deployment process that involves using Spring&#39;s `bootBuildImage` to create the application image, then we deploy it to our Kubernetes cluster. Last week the deployment was working correctly but it suddenly stopped working.\r\n\r\nWhen we try to deploy a new version, the image is created correctly but the pod doesn&#39;t get `Ready` because the actuator endpoints return a 404 error.\r\n```bash\r\ncurl localhost:8080/actuator/health/liveness\r\n```\r\n```html\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;\r\n        &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nI already added the health properties (even though we hadn&#39;t needed them before)\r\n```properties\r\nmanagement.endpoint.health.probes.enabled=true\r\nmanagement.health.livenessState.enabled=true\r\nmanagement.health.readinessState.enabled=true\r\n```\r\n\r\nThis is what Kubernetes says\r\n```\r\nPort:           8080/TCP\r\n    Host Port:      0/TCP\r\n    State:          Running\r\n      Started:      Tue, 07 Feb 2023 01:23:27 -0600\r\n    Ready:          False\r\n    Restart Count:  0\r\n    Liveness:       http-get http://:8080/actuator/health/liveness delay=60s timeout=1s period=30s #success=1 #failure=3\r\n    Readiness:      http-get http://:8080/actuator/health/readiness delay=60s timeout=1s period=10s #success=1 #failure=3\r\n...\r\nEvents:\r\n  Type     Reason     Age                From               Message\r\n  ----     ------     ----               ----               -------\r\n  Normal   Scheduled  2m30s              default-scheduler  Successfully assigned podname to ip-10-8-x-x.ap-northeast-1.compute.internal\r\n  Normal   Pulled     2m29s              kubelet            Container image &quot;registry.gitlab.com/integration-image&quot; already present on machine\r\n  Normal   Created    2m29s              kubelet            Created container ui-backend\r\n  Normal   Started    2m29s              kubelet            Started container ui-backend\r\n  Warning  Unhealthy  30s (x2 over 60s)  kubelet            Liveness probe failed: HTTP probe failed with statuscode: 404\r\n  Warning  Unhealthy  10s (x8 over 80s)  kubelet            Readiness probe failed: HTTP probe failed with statuscode: 404\r\n```\r\n\r\nI&#39;ve also tried:\r\n- extending the checks time\r\n- changing the port of the actuator\r\n- disabling spring tasks\r\n\r\nIn all of these cases spring starts but gets restarted by kubernetes after failing the readiness checks\r\n```\r\nSetting Active Processor Count to 2\r\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS\r\nCalculating JVM memory based on 5201M available memory\r\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx4528339K -XX:MaxMetaspaceSize=285484K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5201M, Thread Count: 250, Loaded Class Count: 47989, Headroom: 0%)\r\nEnabling Java Native Memory Tracking\r\nAdding 124 container CA certificates to JVM truststore\r\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=2 -Dspring.profiles.active=dev -Dspring.config.additional-location=optional:file:/config/,optional:file:/secret/ -Dsentry.environment=dev -Dhoneycomb.config.file=/secret/application.properties -javaagent:/workspace/WEB-INF/lib/honeycomb-opentelemetry-javaagent-1.0.0.jar -XX:MaxDirectMemorySize=10M -Xmx4528339K -XX:MaxMetaspaceSize=285484K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics\r\n[otel.javaagent 2023-02-02 03:27:59:129 +0000] [main] INFO io.opentelemetry.javaagent.tooling.VersionLogger - opentelemetry-javaagent - version: honeycomb-1.0.0-otel-1.12.0\r\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n[CONTAINER] org.apache.catalina.startup.Catalina               INFO    Server initialization in [968] milliseconds\r\n[CONTAINER] org.apache.catalina.core.StandardService           INFO    Starting service [Catalina]\r\n[CONTAINER] org.apache.catalina.core.StandardEngine            INFO    Starting Servlet engine: [Apache Tomcat/9.0.71]\r\n[CONTAINER] org.apache.catalina.startup.HostConfig             INFO    Deploying web application directory [/layers/paketo-buildpacks_apache-tomcat/catalina-base/webapps/ROOT]\r\n[CONTAINER] org.apache.jasper.servlet.TldScanner               INFO    At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    2 Spring WebApplicationInitializers detected on classpath\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.334Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Starting UiApplication using Java 11.0.18 on ui-backend-7b6ddf8f58-m8vtq with PID 1 (/workspace/WEB-INF/classes started by cnb in /workspace)&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774090677176}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.388Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Running with Spring Boot v2.5.8, Spring v5.3.14&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774144285955}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.388Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;The following profiles are active: dev&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774145291720}\r\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    Initializing Spring embedded WebApplicationContext\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:22.755Z&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration&quot;,&quot;message&quot;:&quot;spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377781511405545}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.660Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.report.ReportTemplateRegistry&quot;,&quot;message&quot;:&quot;report template registry -&gt; templates -&gt; {receipt_ja=app.route.ui.report.ReceiptReportTemplate@6dc0e992, invoice_ja=app.route.ui.report.InvoiceReportTemplate@6e221246}&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797416315839}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.675Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; start&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797431868400}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.721Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; cache created succefully&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797477131943}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.721Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; end&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797481925043}\r\n[CONTAINER] freemarker.configuration                           SEVERE  DefaultObjectWrapper.incompatibleImprovements was set to the object returned by Configuration.getVersion(). That defeats the purpose of incompatibleImprovements, and makes upgrading FreeMarker a potentially breaking change. Also, this probably won&#39;t be allowed starting from 2.4.0. Instead, set incompatibleImprovements to the highest concrete version that&#39;s known to be compatible with your application.\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:40.289Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.entity.storage.EntityStorageRegistry&quot;,&quot;message&quot;:&quot;entity storage registry -&gt; interceptors -&gt; [app.route.ui.entity.interceptor.UserInterceptor@3a94d628]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799045261311}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.091Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Ant [pattern=&#39;/actuator/health/**&#39;] with []&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799847478125}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.092Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Ant [pattern=&#39;/h2-console/**&#39;] with []&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799848958832}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.182Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Or [Ant [pattern=&#39;/admin/user/webhook&#39;], Ant [pattern=&#39;/v1/backups/webhoook/**&#39;]] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7843b634, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f514909, org.springframework.security.web.header.HeaderWriterFilter@22c59a39, org.springframework.security.web.authentication.logout.LogoutFilter@395a9cdb, app.route.ui.security.internal.ApiKeyAuthFilter@3d042a50, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1404f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50d8cc71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63b040d5, org.springframework.security.web.session.SessionManagementFilter@75c3b5ab, org.springframework.security.web.access.ExceptionTranslationFilter@763630ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7753b2e8]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799938730993}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.194Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c2cee82, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c3e87b8, org.springframework.security.web.header.HeaderWriterFilter@58e130bc, org.springframework.web.filter.CorsFilter@7c067793, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@43c49d4c, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@233b20ed, org.springframework.security.web.authentication.logout.LogoutFilter@4eb259f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@465b750a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@176ed9ad, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@1de33861, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@41dfea3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25cb293e, org.springframework.security.web.session.SessionManagementFilter@76a5b602, org.springframework.security.web.access.ExceptionTranslationFilter@160d925f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a5e6480]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799956811708}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:42.964Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Started UiApplication in 29.288 seconds (JVM running for 44.237)&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801720328782}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:43.156Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.interceptor.RequestLogFilter&quot;,&quot;message&quot;:&quot;Filter &#39;requestLogFilter&#39; configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801912945502}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:43.160Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.security.UiAuthenticationFilter&quot;,&quot;message&quot;:&quot;Filter &#39;uiAuthenticationFilter&#39; configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801916847463}\r\n[CONTAINER] org.apache.catalina.startup.HostConfig             INFO    Deployment of web application directory [/layers/paketo-buildpacks_apache-tomcat/catalina-base/webapps/ROOT] has finished in [38,936] ms\r\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n[CONTAINER] org.apache.catalina.startup.Catalina               INFO    Server startup in [39138] milliseconds\r\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n[CONTAINER] org.apache.catalina.core.StandardService           INFO    Stopping service [Catalina]\r\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    Closing Spring root WebApplicationContext\r\n```\r\n\r\nI&#39;m not sure if this is a spring or a Kubernetes problem. Thank you.\r\n\r\nEdit: \r\nOther things that I&#39;ve tried are:\r\n- draining the nodes\r\n- running the images with `kubectl run` which starts spring, and I can reach the actuator endpoints but can&#39;t do anything else.\r\n\r\nNodes description.\r\n- Node where at least the previous deployment still works\r\n```\r\nName:               goodnode.ap-northeast-1.compute.internal\r\nRoles:              &lt;none&gt;\r\nLabels:             beta.kubernetes.io/arch=amd64\r\n                    beta.kubernetes.io/instance-type=m5.large\r\n                    beta.kubernetes.io/os=linux\r\n                    failure-domain.beta.kubernetes.io/region=ap-northeast-1\r\n                    failure-domain.beta.kubernetes.io/zone=ap-northeast-1a\r\n                    k8s.io/cloud-provider-aws=86af69e954aa5c8fc905ce14364ec305\r\n                    kubernetes.io/arch=amd64\r\n                    kubernetes.io/hostname=goodnode.ap-northeast-1.compute.internal\r\n                    kubernetes.io/os=linux\r\n                    node.kubernetes.io/instance-type=m5.large\r\n                    topology.kubernetes.io/region=ap-northeast-1\r\n                    topology.kubernetes.io/zone=ap-northeast-1a\r\nAnnotations:        node.alpha.kubernetes.io/ttl: 0\r\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\r\nCreationTimestamp:  Tue, 22 Mar 2022 00:32:53 -0600\r\nTaints:             &lt;none&gt;\r\nUnschedulable:      false\r\nLease:\r\n  HolderIdentity:  goodnode.ap-northeast-1.compute.internal\r\n  AcquireTime:     &lt;unset&gt;\r\n  RenewTime:       Tue, 07 Feb 2023 13:13:59 -0600\r\nConditions:\r\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\r\n  ----             ------  -----------------                 ------------------                ------                       -------\r\n  MemoryPressure   False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasSufficientMemory   kubelet has sufficient memory available\r\n  DiskPressure     False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasNoDiskPressure     kubelet has no disk pressure\r\n  PIDPressure      False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasSufficientPID      kubelet has sufficient PID available\r\n  Ready            True    Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:33:23 -0600   KubeletReady                 kubelet is posting ready status\r\nAddresses:\r\n  InternalIP:   goodnodeip\r\n  Hostname:     goodnode.ap-northeast-1.compute.internal\r\n  InternalDNS:  goodnode.ap-northeast-1.compute.internal\r\nCapacity:\r\n  attachable-volumes-aws-ebs:  25\r\n  cpu:                         2\r\n  ephemeral-storage:           52416492Ki\r\n  hugepages-1Gi:               0\r\n  hugepages-2Mi:               0\r\n  memory:                      7934440Ki\r\n  pods:                        29\r\nAllocatable:\r\n  attachable-volumes-aws-ebs:  25\r\n  cpu:                         1930m\r\n  ephemeral-storage:           47233297124\r\n  hugepages-1Gi:               0\r\n  hugepages-2Mi:               0\r\n  memory:                      7244264Ki\r\n  pods:                        29\r\nSystem Info:\r\n  Machine ID:                 ec26c540fc98771f\r\n  System UUID:                ec26c540-fc98-77\r\n  Boot ID:                    034cb48b-8129-40\r\n  Kernel Version:             5.4.181-99.354.amzn2.x86_64\r\n  OS Image:                   Amazon Linux 2\r\n  Operating System:           linux\r\n  Architecture:               amd64\r\n  Container Runtime Version:  docker://20.10.7\r\n  Kubelet Version:            v1.21.5-eks-9017834\r\n  Kube-Proxy Version:         v1.21.5-eks-9017834\r\nProviderID:                   aws:///ap-northeast-1a/i-01a03da4ffb56c6f0\r\nNon-terminated Pods:          (11 in total)\r\n  Namespace                   Name                                                               CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\r\n  ---------                   ----                                                               ------------  ----------  ---------------  -------------  ---\r\n  amazon-cloudwatch           cloudwatch-agent-b2cxj                                             200m (10%)    200m (10%)  200Mi (2%)       200Mi (2%)     322d\r\n  amazon-cloudwatch           fluent-bit-f825k                                                   500m (25%)    0 (0%)      100Mi (1%)       200Mi (2%)     322d\r\n  webapp                application A                            500m (25%)    1 (51%)     2G (26%)         4G (53%)       12h\r\n  webapp                application B                                  0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\r\n  webapp                APP_WITH_PROBLEMS                                         0 (0%)        0 (0%)      0 (0%)           0 (0%)         11h\r\n  kube-system                 alb-ingress-controller-aws-load-balancer-controller-76df65d6qrx    0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\r\n  kube-system                 alb-ingress-controller-aws-load-balancer-controller-76df65kwmss    0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\r\n  kube-system                 aws-node-g7bp7                                                     10m (0%)      0 (0%)      0 (0%)           0 (0%)         322d\r\n  kube-system                 coredns-54bc78bc49-6bdv6                                           100m (5%)     0 (0%)      70Mi (0%)        170Mi (2%)     12h\r\n  kube-system                 coredns-54bc78bc49-vh2rv                                           100m (5%)     0 (0%)      70Mi (0%)        170Mi (2%)     12h\r\n  kube-system                 kube-proxy-lt9bq                                                   100m (5%)     0 (0%)      0 (0%)           0 (0%)         322d\r\nAllocated resources:\r\n  (Total limits may be over 100 percent, i.e., overcommitted.)\r\n  Resource                    Requests         Limits\r\n  --------                    --------         ------\r\n  cpu                         1510m (78%)      1200m (62%)\r\n  memory                      2403685Ki (33%)  4664010Ki (64%)\r\n  ephemeral-storage           0 (0%)           0 (0%)\r\n  hugepages-1Gi               0 (0%)           0 (0%)\r\n  hugepages-2Mi               0 (0%)           0 (0%)\r\n  attachable-volumes-aws-ebs  0                0\r\nEvents:                       &lt;none&gt;\r\n```\r\n- Node where neither the previous deployment nor the new ones work.\r\n```\r\nName:               badnode.ap-northeast-1.compute.internal\r\nRoles:              &lt;none&gt;\r\nLabels:             beta.kubernetes.io/arch=amd64\r\n                    beta.kubernetes.io/instance-type=m5.large\r\n                    beta.kubernetes.io/os=linux\r\n                    failure-domain.beta.kubernetes.io/region=ap-northeast-1\r\n                    failure-domain.beta.kubernetes.io/zone=ap-northeast-1c\r\n                    k8s.io/cloud-provider-aws=86af69e954aa5c8fc905ce14364ec305\r\n                    kubernetes.io/arch=amd64\r\n                    kubernetes.io/hostname=badnode.ap-northeast-1.compute.internal\r\n                    kubernetes.io/os=linux\r\n                    node.kubernetes.io/instance-type=m5.large\r\n                    topology.kubernetes.io/region=ap-northeast-1\r\n                    topology.kubernetes.io/zone=ap-northeast-1c\r\nAnnotations:        node.alpha.kubernetes.io/ttl: 0\r\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\r\nCreationTimestamp:  Tue, 22 Mar 2022 00:25:27 -0600\r\nTaints:             &lt;none&gt;\r\nUnschedulable:      false\r\nLease:\r\n  HolderIdentity:  badnode.ap-northeast-1.compute.internal\r\n  AcquireTime:     &lt;unset&gt;\r\n  RenewTime:       Tue, 07 Feb 2023 13:14:01 -0600\r\nConditions:\r\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\r\n  ----             ------  -----------------                 ------------------                ------                       -------\r\n  MemoryPressure   False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasSufficientMemory   kubelet has sufficient memory available\r\n  DiskPressure     False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasNoDiskPressure     kubelet has no disk pressure\r\n  PIDPressure      False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasSufficientPID      kubelet has sufficient PID available\r\n  Ready            True    Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:57 -0600   KubeletReady                 kubelet is posting ready status\r\nAddresses:\r\n  InternalIP:   badnodeip\r\n  Hostname:     badnode.ap-northeast-1.compute.internal\r\n  InternalDNS:  badnode.ap-northeast-1.compute.internal\r\nCapacity:\r\n  attachable-volumes-aws-ebs:  25\r\n  cpu:                         2\r\n  ephemeral-storage:           52416492Ki\r\n  hugepages-1Gi:               0\r\n  hugepages-2Mi:               0\r\n  memory:                      7934440Ki\r\n  pods:                        29\r\nAllocatable:\r\n  attachable-volumes-aws-ebs:  25\r\n  cpu:                         1930m\r\n  ephemeral-storage:           47233297124\r\n  hugepages-1Gi:               0\r\n  hugepages-2Mi:               0\r\n  memory:                      7244264Ki\r\n  pods:                        29\r\nSystem Info:\r\n  Machine ID:                 ec28188afbf50b034\r\n  System UUID:                ec28188a-fbf5-0b0\r\n  Boot ID:                    316e2549-9735-4fe4\r\n  Kernel Version:             5.4.181-99.354.amzn2.x86_64\r\n  OS Image:                   Amazon Linux 2\r\n  Operating System:           linux\r\n  Architecture:               amd64\r\n  Container Runtime Version:  docker://20.10.7\r\n  Kubelet Version:            v1.21.5-eks-9017834\r\n  Kube-Proxy Version:         v1.21.5-eks-9017834\r\nProviderID:                   aws:///ap-northeast-1c/i-056ee5ae8f99b7076\r\nNon-terminated Pods:          (4 in total)\r\n  Namespace                   Name                      CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\r\n  ---------                   ----                      ------------  ----------  ---------------  -------------  ---\r\n  amazon-cloudwatch           cloudwatch-agent-v7kk2    200m (10%)    200m (10%)  200Mi (2%)       200Mi (2%)     322d\r\n  amazon-cloudwatch           fluent-bit-mfhxk          500m (25%)    0 (0%)      100Mi (1%)       200Mi (2%)     322d\r\n  kube-system                 aws-node-qsgkm            10m (0%)      0 (0%)      0 (0%)           0 (0%)         322d\r\n  kube-system                 kube-proxy-nlgxk          100m (5%)     0 (0%)      0 (0%)           0 (0%)         322d\r\nAllocated resources:\r\n  (Total limits may be over 100 percent, i.e., overcommitted.)\r\n  Resource                    Requests    Limits\r\n  --------                    --------    ------\r\n  cpu                         810m (41%)  200m (10%)\r\n  memory                      300Mi (4%)  400Mi (5%)\r\n  ephemeral-storage           0 (0%)      0 (0%)\r\n  hugepages-1Gi               0 (0%)      0 (0%)\r\n  hugepages-2Mi               0 (0%)      0 (0%)\r\n  attachable-volumes-aws-ebs  0           0\r\nEvents:                       &lt;none&gt;\r\n```\r\n```json\r\nresource &quot;kubernetes_deployment&quot; &quot;ui_backend&quot; {\r\n  metadata {\r\n    name      = local.name\r\n    namespace = local.namespace\r\n    labels = {\r\n      &quot;app.kubernetes.io/name&quot;       = local.name\r\n      &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n    }\r\n  }\r\n\r\n  spec {\r\n    replicas = 1\r\n\r\n    selector {\r\n      match_labels = {\r\n        &quot;app.kubernetes.io/name&quot;       = local.name\r\n        &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n      }\r\n    }\r\n\r\n    template {\r\n      metadata {\r\n        labels = {\r\n          &quot;app.kubernetes.io/name&quot;       = local.name\r\n          &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n        }\r\n      }\r\n\r\n      spec {\r\n        service_account_name = local.name\r\n\r\n        image_pull_secrets {\r\n          name = &quot;gitlab-auth&quot;\r\n        }\r\n\r\n        container {\r\n          image = var.docker_image\r\n          name  = local.name\r\n          env {\r\n            name  = &quot;JAVA_OPTS&quot;\r\n            value = &quot;-Dspring.profiles.active=${var.environment} &quot;\r\n          }\r\n\r\n          port {\r\n            container_port = local.application_port\r\n          }\r\n\r\n          liveness_probe {\r\n            http_get {\r\n              path = &quot;/actuator/health/liveness&quot;\r\n              port = local.application_port\r\n            }\r\n\r\n            initial_delay_seconds = 60\r\n            period_seconds        = 30\r\n          }\r\n\r\n          readiness_probe {\r\n            http_get {\r\n              path = &quot;/actuator/health/readiness&quot;\r\n              port = local.application_port\r\n            }\r\n\r\n            initial_delay_seconds = 60\r\n            period_seconds        = 10\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nlogs with `logging.level.root=DEBUG`\r\n```\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.448Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state LivenessState changed to CORRECT&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674280192537}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.451Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.devtools.restart.Restarter&quot;,&quot;message&quot;:&quot;Creating new Restarter for thread Thread[main,5,main]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674282973006}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.454Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state ReadinessState changed to ACCEPTING_TRAFFIC&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674286139388}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.496Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter&quot;,&quot;message&quot;:&quot;Filter &#39;requestContextFilter&#39; configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674328227052}\r\n```","title":"Kubernetes pod with spring application is failing to start (all endpoints with 404)","body":"<p>My team has a deployment process that involves using Spring's <code>bootBuildImage</code> to create the application image, then we deploy it to our Kubernetes cluster. Last week the deployment was working correctly but it suddenly stopped working.</p>\n<p>When we try to deploy a new version, the image is created correctly but the pod doesn't get <code>Ready</code> because the actuator endpoints return a 404 error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl localhost:8080/actuator/health/liveness\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I already added the health properties (even though we hadn't needed them before)</p>\n<pre><code>management.endpoint.health.probes.enabled=true\nmanagement.health.livenessState.enabled=true\nmanagement.health.readinessState.enabled=true\n</code></pre>\n<p>This is what Kubernetes says</p>\n<pre><code>Port:           8080/TCP\n    Host Port:      0/TCP\n    State:          Running\n      Started:      Tue, 07 Feb 2023 01:23:27 -0600\n    Ready:          False\n    Restart Count:  0\n    Liveness:       http-get http://:8080/actuator/health/liveness delay=60s timeout=1s period=30s #success=1 #failure=3\n    Readiness:      http-get http://:8080/actuator/health/readiness delay=60s timeout=1s period=10s #success=1 #failure=3\n...\nEvents:\n  Type     Reason     Age                From               Message\n  ----     ------     ----               ----               -------\n  Normal   Scheduled  2m30s              default-scheduler  Successfully assigned podname to ip-10-8-x-x.ap-northeast-1.compute.internal\n  Normal   Pulled     2m29s              kubelet            Container image &quot;registry.gitlab.com/integration-image&quot; already present on machine\n  Normal   Created    2m29s              kubelet            Created container ui-backend\n  Normal   Started    2m29s              kubelet            Started container ui-backend\n  Warning  Unhealthy  30s (x2 over 60s)  kubelet            Liveness probe failed: HTTP probe failed with statuscode: 404\n  Warning  Unhealthy  10s (x8 over 80s)  kubelet            Readiness probe failed: HTTP probe failed with statuscode: 404\n</code></pre>\n<p>I've also tried:</p>\n<ul>\n<li>extending the checks time</li>\n<li>changing the port of the actuator</li>\n<li>disabling spring tasks</li>\n</ul>\n<p>In all of these cases spring starts but gets restarted by kubernetes after failing the readiness checks</p>\n<pre><code>Setting Active Processor Count to 2\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS\nCalculating JVM memory based on 5201M available memory\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx4528339K -XX:MaxMetaspaceSize=285484K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5201M, Thread Count: 250, Loaded Class Count: 47989, Headroom: 0%)\nEnabling Java Native Memory Tracking\nAdding 124 container CA certificates to JVM truststore\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=2 -Dspring.profiles.active=dev -Dspring.config.additional-location=optional:file:/config/,optional:file:/secret/ -Dsentry.environment=dev -Dhoneycomb.config.file=/secret/application.properties -javaagent:/workspace/WEB-INF/lib/honeycomb-opentelemetry-javaagent-1.0.0.jar -XX:MaxDirectMemorySize=10M -Xmx4528339K -XX:MaxMetaspaceSize=285484K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics\n[otel.javaagent 2023-02-02 03:27:59:129 +0000] [main] INFO io.opentelemetry.javaagent.tooling.VersionLogger - opentelemetry-javaagent - version: honeycomb-1.0.0-otel-1.12.0\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n[CONTAINER] org.apache.catalina.startup.Catalina               INFO    Server initialization in [968] milliseconds\n[CONTAINER] org.apache.catalina.core.StandardService           INFO    Starting service [Catalina]\n[CONTAINER] org.apache.catalina.core.StandardEngine            INFO    Starting Servlet engine: [Apache Tomcat/9.0.71]\n[CONTAINER] org.apache.catalina.startup.HostConfig             INFO    Deploying web application directory [/layers/paketo-buildpacks_apache-tomcat/catalina-base/webapps/ROOT]\n[CONTAINER] org.apache.jasper.servlet.TldScanner               INFO    At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    2 Spring WebApplicationInitializers detected on classpath\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.334Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Starting UiApplication using Java 11.0.18 on ui-backend-7b6ddf8f58-m8vtq with PID 1 (/workspace/WEB-INF/classes started by cnb in /workspace)&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774090677176}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.388Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Running with Spring Boot v2.5.8, Spring v5.3.14&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774144285955}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.388Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;The following profiles are active: dev&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774145291720}\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    Initializing Spring embedded WebApplicationContext\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:22.755Z&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration&quot;,&quot;message&quot;:&quot;spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377781511405545}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.660Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.report.ReportTemplateRegistry&quot;,&quot;message&quot;:&quot;report template registry -&gt; templates -&gt; {receipt_ja=app.route.ui.report.ReceiptReportTemplate@6dc0e992, invoice_ja=app.route.ui.report.InvoiceReportTemplate@6e221246}&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797416315839}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.675Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; start&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797431868400}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.721Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; cache created succefully&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797477131943}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.721Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; end&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797481925043}\n[CONTAINER] freemarker.configuration                           SEVERE  DefaultObjectWrapper.incompatibleImprovements was set to the object returned by Configuration.getVersion(). That defeats the purpose of incompatibleImprovements, and makes upgrading FreeMarker a potentially breaking change. Also, this probably won't be allowed starting from 2.4.0. Instead, set incompatibleImprovements to the highest concrete version that's known to be compatible with your application.\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:40.289Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.entity.storage.EntityStorageRegistry&quot;,&quot;message&quot;:&quot;entity storage registry -&gt; interceptors -&gt; [app.route.ui.entity.interceptor.UserInterceptor@3a94d628]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799045261311}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.091Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Ant [pattern='/actuator/health/**'] with []&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799847478125}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.092Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Ant [pattern='/h2-console/**'] with []&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799848958832}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.182Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Or [Ant [pattern='/admin/user/webhook'], Ant [pattern='/v1/backups/webhoook/**']] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7843b634, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f514909, org.springframework.security.web.header.HeaderWriterFilter@22c59a39, org.springframework.security.web.authentication.logout.LogoutFilter@395a9cdb, app.route.ui.security.internal.ApiKeyAuthFilter@3d042a50, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1404f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50d8cc71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63b040d5, org.springframework.security.web.session.SessionManagementFilter@75c3b5ab, org.springframework.security.web.access.ExceptionTranslationFilter@763630ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7753b2e8]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799938730993}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.194Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c2cee82, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c3e87b8, org.springframework.security.web.header.HeaderWriterFilter@58e130bc, org.springframework.web.filter.CorsFilter@7c067793, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@43c49d4c, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@233b20ed, org.springframework.security.web.authentication.logout.LogoutFilter@4eb259f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@465b750a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@176ed9ad, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@1de33861, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@41dfea3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25cb293e, org.springframework.security.web.session.SessionManagementFilter@76a5b602, org.springframework.security.web.access.ExceptionTranslationFilter@160d925f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a5e6480]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799956811708}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:42.964Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Started UiApplication in 29.288 seconds (JVM running for 44.237)&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801720328782}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:43.156Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.interceptor.RequestLogFilter&quot;,&quot;message&quot;:&quot;Filter 'requestLogFilter' configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801912945502}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:43.160Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.security.UiAuthenticationFilter&quot;,&quot;message&quot;:&quot;Filter 'uiAuthenticationFilter' configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801916847463}\n[CONTAINER] org.apache.catalina.startup.HostConfig             INFO    Deployment of web application directory [/layers/paketo-buildpacks_apache-tomcat/catalina-base/webapps/ROOT] has finished in [38,936] ms\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n[CONTAINER] org.apache.catalina.startup.Catalina               INFO    Server startup in [39138] milliseconds\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\n[CONTAINER] org.apache.catalina.core.StandardService           INFO    Stopping service [Catalina]\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    Closing Spring root WebApplicationContext\n</code></pre>\n<p>I'm not sure if this is a spring or a Kubernetes problem. Thank you.</p>\n<p>Edit:\nOther things that I've tried are:</p>\n<ul>\n<li>draining the nodes</li>\n<li>running the images with <code>kubectl run</code> which starts spring, and I can reach the actuator endpoints but can't do anything else.</li>\n</ul>\n<p>Nodes description.</p>\n<ul>\n<li>Node where at least the previous deployment still works</li>\n</ul>\n<pre><code>Name:               goodnode.ap-northeast-1.compute.internal\nRoles:              &lt;none&gt;\nLabels:             beta.kubernetes.io/arch=amd64\n                    beta.kubernetes.io/instance-type=m5.large\n                    beta.kubernetes.io/os=linux\n                    failure-domain.beta.kubernetes.io/region=ap-northeast-1\n                    failure-domain.beta.kubernetes.io/zone=ap-northeast-1a\n                    k8s.io/cloud-provider-aws=86af69e954aa5c8fc905ce14364ec305\n                    kubernetes.io/arch=amd64\n                    kubernetes.io/hostname=goodnode.ap-northeast-1.compute.internal\n                    kubernetes.io/os=linux\n                    node.kubernetes.io/instance-type=m5.large\n                    topology.kubernetes.io/region=ap-northeast-1\n                    topology.kubernetes.io/zone=ap-northeast-1a\nAnnotations:        node.alpha.kubernetes.io/ttl: 0\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\nCreationTimestamp:  Tue, 22 Mar 2022 00:32:53 -0600\nTaints:             &lt;none&gt;\nUnschedulable:      false\nLease:\n  HolderIdentity:  goodnode.ap-northeast-1.compute.internal\n  AcquireTime:     &lt;unset&gt;\n  RenewTime:       Tue, 07 Feb 2023 13:13:59 -0600\nConditions:\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\n  ----             ------  -----------------                 ------------------                ------                       -------\n  MemoryPressure   False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasSufficientMemory   kubelet has sufficient memory available\n  DiskPressure     False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasNoDiskPressure     kubelet has no disk pressure\n  PIDPressure      False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasSufficientPID      kubelet has sufficient PID available\n  Ready            True    Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:33:23 -0600   KubeletReady                 kubelet is posting ready status\nAddresses:\n  InternalIP:   goodnodeip\n  Hostname:     goodnode.ap-northeast-1.compute.internal\n  InternalDNS:  goodnode.ap-northeast-1.compute.internal\nCapacity:\n  attachable-volumes-aws-ebs:  25\n  cpu:                         2\n  ephemeral-storage:           52416492Ki\n  hugepages-1Gi:               0\n  hugepages-2Mi:               0\n  memory:                      7934440Ki\n  pods:                        29\nAllocatable:\n  attachable-volumes-aws-ebs:  25\n  cpu:                         1930m\n  ephemeral-storage:           47233297124\n  hugepages-1Gi:               0\n  hugepages-2Mi:               0\n  memory:                      7244264Ki\n  pods:                        29\nSystem Info:\n  Machine ID:                 ec26c540fc98771f\n  System UUID:                ec26c540-fc98-77\n  Boot ID:                    034cb48b-8129-40\n  Kernel Version:             5.4.181-99.354.amzn2.x86_64\n  OS Image:                   Amazon Linux 2\n  Operating System:           linux\n  Architecture:               amd64\n  Container Runtime Version:  docker://20.10.7\n  Kubelet Version:            v1.21.5-eks-9017834\n  Kube-Proxy Version:         v1.21.5-eks-9017834\nProviderID:                   aws:///ap-northeast-1a/i-01a03da4ffb56c6f0\nNon-terminated Pods:          (11 in total)\n  Namespace                   Name                                                               CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\n  ---------                   ----                                                               ------------  ----------  ---------------  -------------  ---\n  amazon-cloudwatch           cloudwatch-agent-b2cxj                                             200m (10%)    200m (10%)  200Mi (2%)       200Mi (2%)     322d\n  amazon-cloudwatch           fluent-bit-f825k                                                   500m (25%)    0 (0%)      100Mi (1%)       200Mi (2%)     322d\n  webapp                application A                            500m (25%)    1 (51%)     2G (26%)         4G (53%)       12h\n  webapp                application B                                  0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\n  webapp                APP_WITH_PROBLEMS                                         0 (0%)        0 (0%)      0 (0%)           0 (0%)         11h\n  kube-system                 alb-ingress-controller-aws-load-balancer-controller-76df65d6qrx    0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\n  kube-system                 alb-ingress-controller-aws-load-balancer-controller-76df65kwmss    0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\n  kube-system                 aws-node-g7bp7                                                     10m (0%)      0 (0%)      0 (0%)           0 (0%)         322d\n  kube-system                 coredns-54bc78bc49-6bdv6                                           100m (5%)     0 (0%)      70Mi (0%)        170Mi (2%)     12h\n  kube-system                 coredns-54bc78bc49-vh2rv                                           100m (5%)     0 (0%)      70Mi (0%)        170Mi (2%)     12h\n  kube-system                 kube-proxy-lt9bq                                                   100m (5%)     0 (0%)      0 (0%)           0 (0%)         322d\nAllocated resources:\n  (Total limits may be over 100 percent, i.e., overcommitted.)\n  Resource                    Requests         Limits\n  --------                    --------         ------\n  cpu                         1510m (78%)      1200m (62%)\n  memory                      2403685Ki (33%)  4664010Ki (64%)\n  ephemeral-storage           0 (0%)           0 (0%)\n  hugepages-1Gi               0 (0%)           0 (0%)\n  hugepages-2Mi               0 (0%)           0 (0%)\n  attachable-volumes-aws-ebs  0                0\nEvents:                       &lt;none&gt;\n</code></pre>\n<ul>\n<li>Node where neither the previous deployment nor the new ones work.</li>\n</ul>\n<pre><code>Name:               badnode.ap-northeast-1.compute.internal\nRoles:              &lt;none&gt;\nLabels:             beta.kubernetes.io/arch=amd64\n                    beta.kubernetes.io/instance-type=m5.large\n                    beta.kubernetes.io/os=linux\n                    failure-domain.beta.kubernetes.io/region=ap-northeast-1\n                    failure-domain.beta.kubernetes.io/zone=ap-northeast-1c\n                    k8s.io/cloud-provider-aws=86af69e954aa5c8fc905ce14364ec305\n                    kubernetes.io/arch=amd64\n                    kubernetes.io/hostname=badnode.ap-northeast-1.compute.internal\n                    kubernetes.io/os=linux\n                    node.kubernetes.io/instance-type=m5.large\n                    topology.kubernetes.io/region=ap-northeast-1\n                    topology.kubernetes.io/zone=ap-northeast-1c\nAnnotations:        node.alpha.kubernetes.io/ttl: 0\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\nCreationTimestamp:  Tue, 22 Mar 2022 00:25:27 -0600\nTaints:             &lt;none&gt;\nUnschedulable:      false\nLease:\n  HolderIdentity:  badnode.ap-northeast-1.compute.internal\n  AcquireTime:     &lt;unset&gt;\n  RenewTime:       Tue, 07 Feb 2023 13:14:01 -0600\nConditions:\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\n  ----             ------  -----------------                 ------------------                ------                       -------\n  MemoryPressure   False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasSufficientMemory   kubelet has sufficient memory available\n  DiskPressure     False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasNoDiskPressure     kubelet has no disk pressure\n  PIDPressure      False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasSufficientPID      kubelet has sufficient PID available\n  Ready            True    Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:57 -0600   KubeletReady                 kubelet is posting ready status\nAddresses:\n  InternalIP:   badnodeip\n  Hostname:     badnode.ap-northeast-1.compute.internal\n  InternalDNS:  badnode.ap-northeast-1.compute.internal\nCapacity:\n  attachable-volumes-aws-ebs:  25\n  cpu:                         2\n  ephemeral-storage:           52416492Ki\n  hugepages-1Gi:               0\n  hugepages-2Mi:               0\n  memory:                      7934440Ki\n  pods:                        29\nAllocatable:\n  attachable-volumes-aws-ebs:  25\n  cpu:                         1930m\n  ephemeral-storage:           47233297124\n  hugepages-1Gi:               0\n  hugepages-2Mi:               0\n  memory:                      7244264Ki\n  pods:                        29\nSystem Info:\n  Machine ID:                 ec28188afbf50b034\n  System UUID:                ec28188a-fbf5-0b0\n  Boot ID:                    316e2549-9735-4fe4\n  Kernel Version:             5.4.181-99.354.amzn2.x86_64\n  OS Image:                   Amazon Linux 2\n  Operating System:           linux\n  Architecture:               amd64\n  Container Runtime Version:  docker://20.10.7\n  Kubelet Version:            v1.21.5-eks-9017834\n  Kube-Proxy Version:         v1.21.5-eks-9017834\nProviderID:                   aws:///ap-northeast-1c/i-056ee5ae8f99b7076\nNon-terminated Pods:          (4 in total)\n  Namespace                   Name                      CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\n  ---------                   ----                      ------------  ----------  ---------------  -------------  ---\n  amazon-cloudwatch           cloudwatch-agent-v7kk2    200m (10%)    200m (10%)  200Mi (2%)       200Mi (2%)     322d\n  amazon-cloudwatch           fluent-bit-mfhxk          500m (25%)    0 (0%)      100Mi (1%)       200Mi (2%)     322d\n  kube-system                 aws-node-qsgkm            10m (0%)      0 (0%)      0 (0%)           0 (0%)         322d\n  kube-system                 kube-proxy-nlgxk          100m (5%)     0 (0%)      0 (0%)           0 (0%)         322d\nAllocated resources:\n  (Total limits may be over 100 percent, i.e., overcommitted.)\n  Resource                    Requests    Limits\n  --------                    --------    ------\n  cpu                         810m (41%)  200m (10%)\n  memory                      300Mi (4%)  400Mi (5%)\n  ephemeral-storage           0 (0%)      0 (0%)\n  hugepages-1Gi               0 (0%)      0 (0%)\n  hugepages-2Mi               0 (0%)      0 (0%)\n  attachable-volumes-aws-ebs  0           0\nEvents:                       &lt;none&gt;\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>resource &quot;kubernetes_deployment&quot; &quot;ui_backend&quot; {\n  metadata {\n    name      = local.name\n    namespace = local.namespace\n    labels = {\n      &quot;app.kubernetes.io/name&quot;       = local.name\n      &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n    }\n  }\n\n  spec {\n    replicas = 1\n\n    selector {\n      match_labels = {\n        &quot;app.kubernetes.io/name&quot;       = local.name\n        &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n      }\n    }\n\n    template {\n      metadata {\n        labels = {\n          &quot;app.kubernetes.io/name&quot;       = local.name\n          &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n        }\n      }\n\n      spec {\n        service_account_name = local.name\n\n        image_pull_secrets {\n          name = &quot;gitlab-auth&quot;\n        }\n\n        container {\n          image = var.docker_image\n          name  = local.name\n          env {\n            name  = &quot;JAVA_OPTS&quot;\n            value = &quot;-Dspring.profiles.active=${var.environment} &quot;\n          }\n\n          port {\n            container_port = local.application_port\n          }\n\n          liveness_probe {\n            http_get {\n              path = &quot;/actuator/health/liveness&quot;\n              port = local.application_port\n            }\n\n            initial_delay_seconds = 60\n            period_seconds        = 30\n          }\n\n          readiness_probe {\n            http_get {\n              path = &quot;/actuator/health/readiness&quot;\n              port = local.application_port\n            }\n\n            initial_delay_seconds = 60\n            period_seconds        = 10\n          }\n\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>logs with <code>logging.level.root=DEBUG</code></p>\n<pre><code>{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.448Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state LivenessState changed to CORRECT&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674280192537}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.451Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.devtools.restart.Restarter&quot;,&quot;message&quot;:&quot;Creating new Restarter for thread Thread[main,5,main]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674282973006}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.454Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state ReadinessState changed to ACCEPTING_TRAFFIC&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674286139388}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.496Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter&quot;,&quot;message&quot;:&quot;Filter 'requestContextFilter' configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674328227052}\n</code></pre>\n"},{"tags":["java","java-time","week-number","gregorian-calendar","java.util.calendar"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1672276279,"post_id":74946340,"comment_id":132257839,"body_markdown":"What is your LOCALE?","body":"What is your LOCALE?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1672276569,"post_id":74946340,"comment_id":132257872,"body_markdown":"Can you elaborate what you&#39;re using `GregorianCalendar` for?  It&#39;s based on `Calendar`, which is known to be almost impossible to use correctly.","body":"Can you elaborate what you&#39;re using <code>GregorianCalendar</code> for?  It&#39;s based on <code>Calendar</code>, which is known to be almost impossible to use correctly."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1672276590,"post_id":74946340,"comment_id":132257877,"body_markdown":"I think the accepted answer to [this question](https://stackoverflow.com/q/69300459/18157) is what you&#39;re looking for.  Java has ***three*** different locale settings, and a careful reading of the Javadoc shows the &quot;pure&quot; `GregorianCalendar` and the one from ZDT use _different_ locales.  As @LouisWasserman says, avoid `GregorianCalendar` if at all possible, it&#39;s a minefield.","body":"I think the accepted answer to <a href=\"https://stackoverflow.com/q/69300459/18157\">this question</a> is what you&#39;re looking for.  Java has <b><i>three</i></b> different locale settings, and a careful reading of the Javadoc shows the &quot;pure&quot; <code>GregorianCalendar</code> and the one from ZDT use <i>different</i> locales.  As @LouisWasserman says, avoid <code>GregorianCalendar</code> if at all possible, it&#39;s a minefield."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1672277204,"post_id":74946340,"comment_id":132257952,"body_markdown":"Pro Tip: The only absolutely &quot;safe&quot; object that has no pitfalls is `Instant`. It represents a unique point on the time line.  Everything else has nuances related to politics and representation, and is incredibly messy. The newer `java.time` classes are a huge improvement, but there are still traps and unintuitive behaviors.","body":"Pro Tip: The only absolutely &quot;safe&quot; object that has no pitfalls is <code>Instant</code>. It represents a unique point on the time line.  Everything else has nuances related to politics and representation, and is incredibly messy. The newer <code>java.time</code> classes are a huge improvement, but there are still traps and unintuitive behaviors."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1672292622,"post_id":74946340,"comment_id":132259818,"body_markdown":"`ZonedDateTime` uses ISO chronology, so the `GregorianCalendar` that you get from it uses ISO weeks: the week starts on Monday, and week 1 is the first week that has at least 4 days of the new year in it. The `GregorianCalendar` that you create yourself follows your default locale (as @JimGarrison hinted), which probably has a different definition of weeks.  Try printing `cal.getFirstDayOfWeek()` and `cal.getMinimalDaysInFirstWeek()`. You may also try using the corresponding setters.","body":"<code>ZonedDateTime</code> uses ISO chronology, so the <code>GregorianCalendar</code> that you get from it uses ISO weeks: the week starts on Monday, and week 1 is the first week that has at least 4 days of the new year in it. The <code>GregorianCalendar</code> that you create yourself follows your default locale (as @JimGarrison hinted), which probably has a different definition of weeks.  Try printing <code>cal.getFirstDayOfWeek()</code> and <code>cal.getMinimalDaysInFirstWeek()</code>. You may also try using the corresponding setters."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672293062,"post_id":74946340,"comment_id":132259907,"body_markdown":"Or from the docs: *The `getFirstDayOfWeek()` and `getMinimalDaysInFirstWeek()` values are initialized using locale-dependent resources when constructing a `GregorianCalendar`. The week determination is compatible with the ISO 8601 standard when `getFirstDayOfWeek()` is `MONDAY` and `getMinimalDaysInFirstWeek()` is `4`, which values are used in locales where the standard is preferred. These values can explicitly be set by calling `setFirstDayOfWeek()` and `setMinimalDaysInFirstWeek()`.*","body":"Or from the docs: <i>The <code>getFirstDayOfWeek()</code> and <code>getMinimalDaysInFirstWeek()</code> values are initialized using locale-dependent resources when constructing a <code>GregorianCalendar</code>. The week determination is compatible with the ISO 8601 standard when <code>getFirstDayOfWeek()</code> is <code>MONDAY</code> and <code>getMinimalDaysInFirstWeek()</code> is <code>4</code>, which values are used in locales where the standard is preferred. These values can explicitly be set by calling <code>setFirstDayOfWeek()</code> and <code>setMinimalDaysInFirstWeek()</code>.</i>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672293164,"post_id":74946340,"comment_id":132259922,"body_markdown":"And about the `from` method: *the return GregorianCalendar ... uses ISO 8601 standard for week definitions, which has `MONDAY` as the `FirstDayOfWeek` and `4` as the value of the `MinimalDaysInFirstWeek`.*","body":"And about the <code>from</code> method: <i>the return GregorianCalendar ... uses ISO 8601 standard for week definitions, which has <code>MONDAY</code> as the <code>FirstDayOfWeek</code> and <code>4</code> as the value of the <code>MinimalDaysInFirstWeek</code>.</i>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672303345,"post_id":74946340,"comment_id":132261977,"body_markdown":"(What I said also means that [the documentation of `from()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/GregorianCalendar.html#from(java.time.ZonedDateTime)) is telling a lie when it says *Obtains an instance of `GregorianCalendar` with the default locale from a `ZonedDateTime` object.*. The default locale plays no effective role in the creation of the `GregorianCalendar`.)","body":"(What I said also means that <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/GregorianCalendar.html#from(java.time.ZonedDateTime)\" rel=\"nofollow noreferrer\">the documentation of <code>from()</code></a> is telling a lie when it says <i>Obtains an instance of <code>GregorianCalendar</code> with the default locale from a <code>ZonedDateTime</code> object.</i>. The default locale plays no effective role in the creation of the <code>GregorianCalendar</code>.)"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1672338747,"post_id":74946340,"comment_id":132271761,"body_markdown":"All of the above suggests: _&quot;Friends don&#39;t let friends use `GregorianCalendar`&quot;_","body":"All of the above suggests: <i>&quot;Friends don&#39;t let friends use <code>GregorianCalendar</code>&quot;</i>"},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1672442426,"post_id":74946340,"comment_id":132292274,"body_markdown":"Well... As I said... I&#39;m just making a bridge from an API to another. The target one uses GregorianCalendar and there is nothing I can do about it.","body":"Well... As I said... I&#39;m just making a bridge from an API to another. The target one uses GregorianCalendar and there is nothing I can do about it."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1672442782,"post_id":74946340,"comment_id":132292322,"body_markdown":"Adding `calendarFromZdt.setFirstDayOfWeek(Calendar.SUNDAY);` and `calendarFromZdt.setMinimalDaysInFirstWeek(1);` did the trick. Thank you.","body":"Adding <code>calendarFromZdt.setFirstDayOfWeek(Calendar.SUNDAY);</code> and <code>calendarFromZdt.setMinimalDaysInFirstWeek(1);</code> did the trick. Thank you."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1672442868,"post_id":74946340,"comment_id":132292334,"body_markdown":"Thanks @OleV.V. Your comments put all together completely answers the question. Put all together in an answer and I&#39;ll accept it.","body":"Thanks @OleV.V. Your comments put all together completely answers the question. Put all together in an answer and I&#39;ll accept it."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672469034,"post_id":74946340,"comment_id":132294907,"body_markdown":"Great to read. I no longer contribute answers to Stack Overflow for reasons that I try to explain in [my proflie](https://stackoverflow.com/users/5772882/ole-v-v). Please, if you put together the answer — I can’t promise to accept the answer, but will be happy to upvote it (and you can accept it yourself 12 hours later).","body":"Great to read. I no longer contribute answers to Stack Overflow for reasons that I try to explain in <a href=\"https://stackoverflow.com/users/5772882/ole-v-v\">my proflie</a>. Please, if you put together the answer — I can’t promise to accept the answer, but will be happy to upvote it (and you can accept it yourself 12 hours later)."}],"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675973667,"creation_date":1672275701,"question_id":74946340,"body_markdown":"I&#39;m writing some integration of legacy code that expects date/time as a GregorianCalendar. \r\n\r\nSo, I&#39;m creating the GregorianCalendar using `from(ZonedDateTime)` method.\r\n\r\nHowever, the result is showing some inconsistent behaviour when the GregorianCalendar is created from the ZonedDateTime versus when the GregorianCalendar is created, let&#39;s say, from a string parsing or even from epoch millis. For example, when setting the Calendar day_of_week. To demonstrate this (https://onecompiler.com/java/3yssz4q86):\r\n\r\n```\r\nimport java.util.*;\r\nimport java.time.*;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    final GregorianCalendar calendarPure = new GregorianCalendar(TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;));\r\n    printInfo(calendarPure);\r\n\r\n    ZoneId zone = ZoneId.of(&quot;America/Los_Angeles&quot;);\r\n    final ZonedDateTime zdtNow = ZonedDateTime.now(zone);\r\n    \r\n    final GregorianCalendar calendarFromZdt = GregorianCalendar.from(zdtNow);\r\n    printInfo(calendarFromZdt);\r\n    \r\n    final GregorianCalendar calendarFromZdtEpoch = new GregorianCalendar();\r\n    calendarFromZdtEpoch.setTimeInMillis(zdtNow.toInstant().toEpochMilli());\r\n\r\n    printInfo(calendarFromZdtEpoch);\r\n  }\r\n  \r\n  private static void printInfo(GregorianCalendar cal) {\r\n    System.out.printf(&quot;Now: %tc%n&quot;, cal);\r\n    System.out.printf(&quot;Last Sunday: %tc%n&quot;, getLastSunday(cal));\r\n    System.out.printf(&quot;Week of Year: %d%n&quot;, cal.get(Calendar.WEEK_OF_YEAR));\r\n    System.out.printf(&quot;Time in Millis: %d%n&quot;, cal.getTimeInMillis());\r\n    System.out.printf(&quot;toString(): %s%n&quot;, cal);\r\n    System.out.println();\r\n  }\r\n  \r\n  public static GregorianCalendar getLastSunday(GregorianCalendar referenceDate) {\r\n    final GregorianCalendar lastSundayMidNight = (GregorianCalendar)referenceDate.clone();\r\n    lastSundayMidNight.set(Calendar.DAY_OF_WEEK, Calendar.SUNDAY);\r\n    return lastSundayMidNight;\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe output is: \r\n\r\n```\r\nNow: Wed Dec 28 16:45:36 PST 2022\r\nLast Sunday: Sun Dec 25 16:45:36 PST 2022\r\nWeek of Year: 53\r\nTime in Millis: 1672274736631\r\ntoString(): java.util.GregorianCalendar[time=1672274736631,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=53,WEEK_OF_MONTH=5,DAY_OF_MONTH=28,DAY_OF_YEAR=362,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=45,SECOND=36,MILLISECOND=631,ZONE_OFFSET=-28800000,DST_OFFSET=0]\r\n\r\nNow: Wed Dec 28 16:45:36 PST 2022\r\nLast Sunday: Sun Jan 01 16:45:36 PST 2023\r\nWeek of Year: 52\r\nTime in Millis: 1672274736668\r\ntoString(): java.util.GregorianCalendar[time=1672274736668,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=52,WEEK_OF_MONTH=5,DAY_OF_MONTH=28,DAY_OF_YEAR=362,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=45,SECOND=36,MILLISECOND=668,ZONE_OFFSET=-28800000,DST_OFFSET=0]\r\n\r\nNow: Thu Dec 29 00:45:36 UTC 2022\r\nLast Sunday: Sun Dec 25 00:45:36 UTC 2022\r\nWeek of Year: 53\r\nTime in Millis: 1672274736668\r\ntoString(): java.util.GregorianCalendar[time=1672274736668,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Etc/UTC&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=53,WEEK_OF_MONTH=5,DAY_OF_MONTH=29,DAY_OF_YEAR=363,DAY_OF_WEEK=5,DAY_OF_WEEK_IN_MONTH=5,AM_PM=0,HOUR=0,HOUR_OF_DAY=0,MINUTE=45,SECOND=36,MILLISECOND=668,ZONE_OFFSET=0,DST_OFFSET=0]\r\n```\r\n\r\nI noticed that, from `GregorianCalendar.toString()` that prints the internal fields a different in `firstDayOfWeek` and `minimalDaysInFirstWeek`. That could be the cause for the divergence in the after results. I wonder where the GregorianCalendar is getting these values from. Maybe there is a way to set something on ZonedDateTime object that will ensure the results will be the same? Couldn&#39;t find anything on javadocs.\r\n\r\nNote: Please, don&#39;t tell me not to use `GregorianCalendar`. I know, I know. I&#39;m just writing an integration for two pieces of code that I&#39;m not allowed to modify, one uses `GregorianCalendar` (sigh), the other uses `ZonedDateTime`.","title":"Inconsistent behaviour of GregorianCalendar when created from ZonedDateTime","body":"<p>I'm writing some integration of legacy code that expects date/time as a GregorianCalendar.</p>\n<p>So, I'm creating the GregorianCalendar using <code>from(ZonedDateTime)</code> method.</p>\n<p>However, the result is showing some inconsistent behaviour when the GregorianCalendar is created from the ZonedDateTime versus when the GregorianCalendar is created, let's say, from a string parsing or even from epoch millis. For example, when setting the Calendar day_of_week. To demonstrate this (<a href=\"https://onecompiler.com/java/3yssz4q86\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3yssz4q86</a>):</p>\n<pre><code>import java.util.*;\nimport java.time.*;\n\npublic class Main {\n  public static void main(String[] args) {\n    final GregorianCalendar calendarPure = new GregorianCalendar(TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;));\n    printInfo(calendarPure);\n\n    ZoneId zone = ZoneId.of(&quot;America/Los_Angeles&quot;);\n    final ZonedDateTime zdtNow = ZonedDateTime.now(zone);\n    \n    final GregorianCalendar calendarFromZdt = GregorianCalendar.from(zdtNow);\n    printInfo(calendarFromZdt);\n    \n    final GregorianCalendar calendarFromZdtEpoch = new GregorianCalendar();\n    calendarFromZdtEpoch.setTimeInMillis(zdtNow.toInstant().toEpochMilli());\n\n    printInfo(calendarFromZdtEpoch);\n  }\n  \n  private static void printInfo(GregorianCalendar cal) {\n    System.out.printf(&quot;Now: %tc%n&quot;, cal);\n    System.out.printf(&quot;Last Sunday: %tc%n&quot;, getLastSunday(cal));\n    System.out.printf(&quot;Week of Year: %d%n&quot;, cal.get(Calendar.WEEK_OF_YEAR));\n    System.out.printf(&quot;Time in Millis: %d%n&quot;, cal.getTimeInMillis());\n    System.out.printf(&quot;toString(): %s%n&quot;, cal);\n    System.out.println();\n  }\n  \n  public static GregorianCalendar getLastSunday(GregorianCalendar referenceDate) {\n    final GregorianCalendar lastSundayMidNight = (GregorianCalendar)referenceDate.clone();\n    lastSundayMidNight.set(Calendar.DAY_OF_WEEK, Calendar.SUNDAY);\n    return lastSundayMidNight;\n  }\n\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>Now: Wed Dec 28 16:45:36 PST 2022\nLast Sunday: Sun Dec 25 16:45:36 PST 2022\nWeek of Year: 53\nTime in Millis: 1672274736631\ntoString(): java.util.GregorianCalendar[time=1672274736631,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=53,WEEK_OF_MONTH=5,DAY_OF_MONTH=28,DAY_OF_YEAR=362,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=45,SECOND=36,MILLISECOND=631,ZONE_OFFSET=-28800000,DST_OFFSET=0]\n\nNow: Wed Dec 28 16:45:36 PST 2022\nLast Sunday: Sun Jan 01 16:45:36 PST 2023\nWeek of Year: 52\nTime in Millis: 1672274736668\ntoString(): java.util.GregorianCalendar[time=1672274736668,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=52,WEEK_OF_MONTH=5,DAY_OF_MONTH=28,DAY_OF_YEAR=362,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=45,SECOND=36,MILLISECOND=668,ZONE_OFFSET=-28800000,DST_OFFSET=0]\n\nNow: Thu Dec 29 00:45:36 UTC 2022\nLast Sunday: Sun Dec 25 00:45:36 UTC 2022\nWeek of Year: 53\nTime in Millis: 1672274736668\ntoString(): java.util.GregorianCalendar[time=1672274736668,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Etc/UTC&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=53,WEEK_OF_MONTH=5,DAY_OF_MONTH=29,DAY_OF_YEAR=363,DAY_OF_WEEK=5,DAY_OF_WEEK_IN_MONTH=5,AM_PM=0,HOUR=0,HOUR_OF_DAY=0,MINUTE=45,SECOND=36,MILLISECOND=668,ZONE_OFFSET=0,DST_OFFSET=0]\n</code></pre>\n<p>I noticed that, from <code>GregorianCalendar.toString()</code> that prints the internal fields a different in <code>firstDayOfWeek</code> and <code>minimalDaysInFirstWeek</code>. That could be the cause for the divergence in the after results. I wonder where the GregorianCalendar is getting these values from. Maybe there is a way to set something on ZonedDateTime object that will ensure the results will be the same? Couldn't find anything on javadocs.</p>\n<p>Note: Please, don't tell me not to use <code>GregorianCalendar</code>. I know, I know. I'm just writing an integration for two pieces of code that I'm not allowed to modify, one uses <code>GregorianCalendar</code> (sigh), the other uses <code>ZonedDateTime</code>.</p>\n"},{"tags":["java","classloader","classnotfoundexception","vert.x"],"answers":[{"tags":[],"owner":{"account_id":8202001,"reputation":189,"user_id":6173055,"display_name":"Adarsh R Jayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675973127,"creation_date":1675973127,"answer_id":75403889,"question_id":29362644,"body_markdown":"    &lt;plugin&gt;\r\n        &lt;groupId&gt;io.reactiverse&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vertx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.28&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;vmp&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;initialize&lt;/goal&gt;\r\n              &lt;goal&gt;package&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;redeploy&gt;true&lt;/redeploy&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nadd the above plugin to your pom.xml file within &lt;plugins&gt; that worked for me","title":"java.lang.ClassNotFoundException when container.deployVerticle is called in Verticle","body":"<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;io.reactiverse&lt;/groupId&gt;\n    &lt;artifactId&gt;vertx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.28&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;vmp&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;initialize&lt;/goal&gt;\n          &lt;goal&gt;package&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;redeploy&gt;true&lt;/redeploy&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>add the above plugin to your pom.xml file within  that worked for me</p>\n"}],"owner":{"account_id":1931097,"reputation":85,"user_id":1740466,"display_name":"Hans Jacob Melby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675973127,"creation_date":1427785721,"question_id":29362644,"body_markdown":"I am a newbie regarding Vertx, so this might be a simple question. \r\nWhen i try to run a verticle from commandline i allways get a ClassNotFoundException when i try to programatically deploy another verticle :\r\n\r\ncontainer.deployVerticle(&quot;melby.poc.verticles.AuditVerticle&quot;);\r\nAuditVerticle is itself a verticle, and is located in a sub package from the main&quot; verticle that i try to run\r\n\r\nI have also tried to run this as a module as well without any luck\r\ncommand i use to run the verticle is :\r\nvertx run src\\main\\java\\melby\\poc\\Server.java\r\n\r\n\r\nConsolle output when i try to start the verticle is : \r\n\r\n   \r\n\r\n    Succeeded in deploying verticle\r\n    Exception in Java verticle\r\n    java.lang.ClassNotFoundException: melby.poc.verticles.AuditVerticle\r\n            at org.vertx.java.platform.impl.ModuleClassLoader.loadFromModule(ModuleC\r\n    lassLoader.java:127)\r\n            at org.vertx.java.platform.impl.ModuleClassLoader.loadClass(ModuleClassL\r\n    oader.java:108)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            at org.vertx.java.platform.impl.java.JavaVerticleFactory.createVerticle(\r\n    JavaVerticleFactory.java:55)\r\n            at org.vertx.java.platform.impl.DefaultPlatformManager$21.run(DefaultPla\r\n    tformManager.java:1748)\r\n            at org.vertx.java.core.impl.DefaultContext$3.run(DefaultContext.java:175\r\n    )\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(Single\r\n    ThreadEventExecutor.java:370)\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThread\r\n    EventExecutor.java:116)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nI use vertx 2.1.5 and java 8\r\nDo i somehow need to change/add the classpath for vertx so it is able to load the classes in the same source folder ? \r\n\r\n**Update :** \r\n*I was able to make it work by adding a mod.json file defining the runnable verticle and adding this file to the root catalog.\r\nFrom this catalog i am now able to run the command :\r\nvertx run src\\main\\java\\melby\\poc\\Server.java -cp target/classes\r\nI still dont anderstand why I need a mod.json file and why i need to define -cp\r\nIf i dont programatically deploy verticles i dont need this.*\r\n\r\n","title":"java.lang.ClassNotFoundException when container.deployVerticle is called in Verticle","body":"<p>I am a newbie regarding Vertx, so this might be a simple question. \nWhen i try to run a verticle from commandline i allways get a ClassNotFoundException when i try to programatically deploy another verticle :</p>\n\n<p>container.deployVerticle(\"melby.poc.verticles.AuditVerticle\");\nAuditVerticle is itself a verticle, and is located in a sub package from the main\" verticle that i try to run</p>\n\n<p>I have also tried to run this as a module as well without any luck\ncommand i use to run the verticle is :\nvertx run src\\main\\java\\melby\\poc\\Server.java</p>\n\n<p>Consolle output when i try to start the verticle is : </p>\n\n<pre><code>Succeeded in deploying verticle\nException in Java verticle\njava.lang.ClassNotFoundException: melby.poc.verticles.AuditVerticle\n        at org.vertx.java.platform.impl.ModuleClassLoader.loadFromModule(ModuleC\nlassLoader.java:127)\n        at org.vertx.java.platform.impl.ModuleClassLoader.loadClass(ModuleClassL\noader.java:108)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at org.vertx.java.platform.impl.java.JavaVerticleFactory.createVerticle(\nJavaVerticleFactory.java:55)\n        at org.vertx.java.platform.impl.DefaultPlatformManager$21.run(DefaultPla\ntformManager.java:1748)\n        at org.vertx.java.core.impl.DefaultContext$3.run(DefaultContext.java:175\n)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(Single\nThreadEventExecutor.java:370)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThread\nEventExecutor.java:116)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I use vertx 2.1.5 and java 8\nDo i somehow need to change/add the classpath for vertx so it is able to load the classes in the same source folder ? </p>\n\n<p><strong>Update :</strong> \n<em>I was able to make it work by adding a mod.json file defining the runnable verticle and adding this file to the root catalog.\nFrom this catalog i am now able to run the command :\nvertx run src\\main\\java\\melby\\poc\\Server.java -cp target/classes\nI still dont anderstand why I need a mod.json file and why i need to define -cp\nIf i dont programatically deploy verticles i dont need this.</em></p>\n"},{"tags":["java","android","flutter","dart","flutter-method-channel"],"owner":{"account_id":18912484,"reputation":574,"user_id":13798282,"display_name":"Mohamadamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675972611,"creation_date":1670144343,"question_id":74674099,"body_markdown":"I have a Flutter app with 2 screens. First is &quot;IntroPage&quot; and second is &quot;MainPage&quot;.\r\nI have run same channel and same code in these 2 screens for communicating to android native.\r\nBut in MainPage everything works correctly, but in IntroPage when I invoke a method from android to flutter, setMethodCallHandler in flutter not working.\r\n\r\nIntroPage and MainPage have same code:\r\n\r\n    class IntroPage extends StatefulWidget {\r\n      const IntroPage({Key? key}) : super(key: key);\r\n    \r\n      @override\r\n      _IntroPageState createState() =&gt; _IntroPageState();\r\n    }\r\n\r\n    class _IntroPageState extends State&lt;IntroPage&gt; {\r\n    \r\n      @override\r\n      void initState() {\r\n        super.initState();\r\n      }\r\n    \r\n      void select() async {\r\n        // this method not work correctly ...     \r\n\r\n        AndroidChannel.androidChannel.setMethodCallHandler((call) async {\r\n          if (call.method == AndroidConstants.SELECT) {\r\n            debugPrint(&quot;here&quot;);\r\n          }\r\n        });\r\n      }\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n    \r\n        return Scaffold(\r\n          body: Container(\r\n            child: Button(\r\n              onPressed: () {\r\n                select();\r\n              },\r\n              isActive: true,\r\n              title: &#39;Select&#39;,\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\nand simply I call invokeMethod in android layer like this in a handler: \r\n\r\n    Handler mainHandler = new Handler(Looper.getMainLooper());\r\n    Runnable myRunnable = () -&gt; {\r\n        methodChannel.invokeMethod(&quot;SELECT&quot;);\r\n    };\r\n    mainHandler.post(myRunnable);\r\n\r\nNote that this problem only occurres in android 12, in other devices every thing works correctly.","title":"Flutter MethodChannel from android to flutter not working","body":"<p>I have a Flutter app with 2 screens. First is &quot;IntroPage&quot; and second is &quot;MainPage&quot;.\nI have run same channel and same code in these 2 screens for communicating to android native.\nBut in MainPage everything works correctly, but in IntroPage when I invoke a method from android to flutter, setMethodCallHandler in flutter not working.</p>\n<p>IntroPage and MainPage have same code:</p>\n<pre><code>class IntroPage extends StatefulWidget {\n  const IntroPage({Key? key}) : super(key: key);\n\n  @override\n  _IntroPageState createState() =&gt; _IntroPageState();\n}\n\nclass _IntroPageState extends State&lt;IntroPage&gt; {\n\n  @override\n  void initState() {\n    super.initState();\n  }\n\n  void select() async {\n    // this method not work correctly ...     \n\n    AndroidChannel.androidChannel.setMethodCallHandler((call) async {\n      if (call.method == AndroidConstants.SELECT) {\n        debugPrint(&quot;here&quot;);\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    return Scaffold(\n      body: Container(\n        child: Button(\n          onPressed: () {\n            select();\n          },\n          isActive: true,\n          title: 'Select',\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>and simply I call invokeMethod in android layer like this in a handler:</p>\n<pre><code>Handler mainHandler = new Handler(Looper.getMainLooper());\nRunnable myRunnable = () -&gt; {\n    methodChannel.invokeMethod(&quot;SELECT&quot;);\n};\nmainHandler.post(myRunnable);\n</code></pre>\n<p>Note that this problem only occurres in android 12, in other devices every thing works correctly.</p>\n"},{"tags":["java","spring","ssl","keystore"],"owner":{"account_id":896384,"reputation":163,"user_id":933547,"accept_rate":71,"display_name":"Christof Buechi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675972410,"creation_date":1675972410,"question_id":75403767,"body_markdown":"I&#39;m trying to setup a spring boot application for development environment without SSL for the controllers, but still with a keystore set. The Keystore is required to gather information from surrounding services.\r\n\r\n - Whenever I set server.ssl.enabled = false, I&#39;m able to connect with\r\n   http, but the keystore is not used in connecting to the surrounding\r\n   services.\r\n - Whenever I set server.ssl.enabled = true the\r\n   controller is only reachable by https but works with surrounding\r\n   services.\r\n\r\nAs this is for development only there should be a way to connect with http from client-side. Spring Security is used inside the project.&lt;br&gt;\r\nIs there a chance to configure Spring Boot to work the way I described?\r\n","title":"Spring Boot http access with keystore set","body":"<p>I'm trying to setup a spring boot application for development environment without SSL for the controllers, but still with a keystore set. The Keystore is required to gather information from surrounding services.</p>\n<ul>\n<li>Whenever I set server.ssl.enabled = false, I'm able to connect with\nhttp, but the keystore is not used in connecting to the surrounding\nservices.</li>\n<li>Whenever I set server.ssl.enabled = true the\ncontroller is only reachable by https but works with surrounding\nservices.</li>\n</ul>\n<p>As this is for development only there should be a way to connect with http from client-side. Spring Security is used inside the project.<br>\nIs there a chance to configure Spring Boot to work the way I described?</p>\n"},{"tags":["java","arrays","casting"],"comments":[{"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"score":0,"creation_date":1675971546,"post_id":75403632,"comment_id":133048092,"body_markdown":"What line are you getting that on?","body":"What line are you getting that on?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1675971758,"post_id":75403632,"comment_id":133048150,"body_markdown":"You&#39;re expecting to be able to convert a `List&lt;Integer[]&gt;` (that is, a list of arrays of integers) to an `Integer[]` (that is, a single array of integers)?","body":"You&#39;re expecting to be able to convert a <code>List&lt;Integer[]&gt;</code> (that is, a list of arrays of integers) to an <code>Integer[]</code> (that is, a single array of integers)?"},{"owner":{"account_id":25622201,"reputation":3,"user_id":19393885,"display_name":"mar7y_k"},"score":0,"creation_date":1675971857,"post_id":75403632,"comment_id":133048173,"body_markdown":"I&#39;m getting this runtime error on \nInteger[] arr = (Integer[]) list.toArray();","body":"I&#39;m getting this runtime error on  Integer[] arr = (Integer[]) list.toArray();"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1675972082,"post_id":75403632,"comment_id":133048221,"body_markdown":"*&quot;I can&#39;t change the method header&quot;* — Why not?","body":"<i>&quot;I can&#39;t change the method header&quot;</i> — Why not?"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675972226,"creation_date":1675971867,"answer_id":75403690,"question_id":75403632,"body_markdown":"You can&#39;t use this:\r\n\r\n    Integer[] arr = (Integer[]) list.toArray();\r\n\r\nIf I understand what you want to do, you need something like this:\r\n\r\n    Integer[] arr = list.stream()\r\n            .flatMap(Arrays::stream)\r\n            .toArray(Integer[]::new);\r\n\r\nExample:\r\n\r\n    List&lt;Integer[]&gt; list = List.of(new Integer[]{1,2,3}, new Integer[]{4,5,5});\r\n    Integer[] arr = list.stream()\r\n                    .flatMap(Arrays::stream)\r\n                    .toArray(Integer[]::new);\r\n    \r\n    &gt; [1, 2, 3, 4, 5, 5]","title":"Running into [Ljava.lang.Object; cannot be cast to class [Ljava.lang.Integer at runtime","body":"<p>You can't use this:</p>\n<pre><code>Integer[] arr = (Integer[]) list.toArray();\n</code></pre>\n<p>If I understand what you want to do, you need something like this:</p>\n<pre><code>Integer[] arr = list.stream()\n        .flatMap(Arrays::stream)\n        .toArray(Integer[]::new);\n</code></pre>\n<p>Example:</p>\n<pre><code>List&lt;Integer[]&gt; list = List.of(new Integer[]{1,2,3}, new Integer[]{4,5,5});\nInteger[] arr = list.stream()\n                .flatMap(Arrays::stream)\n                .toArray(Integer[]::new);\n\n&gt; [1, 2, 3, 4, 5, 5]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675972348,"creation_date":1675971903,"answer_id":75403698,"question_id":75403632,"body_markdown":"You are going to _have_ to do that with something like\r\n\r\n```\r\nInteger[][] arr = list.toArray(new Integer[0][]);\r\n```\r\n\r\nor use streams.","title":"Running into [Ljava.lang.Object; cannot be cast to class [Ljava.lang.Integer at runtime","body":"<p>You are going to <em>have</em> to do that with something like</p>\n<pre><code>Integer[][] arr = list.toArray(new Integer[0][]);\n</code></pre>\n<p>or use streams.</p>\n"}],"owner":{"account_id":25622201,"reputation":3,"user_id":19393885,"display_name":"mar7y_k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75403698,"answer_count":2,"score":-1,"last_activity_date":1675972348,"creation_date":1675971496,"question_id":75403632,"body_markdown":"At runtime, I keep running into the error above when trying to make a List&lt;Integer[]&gt;  to an Integer[].\r\n\r\n```\r\n\tpublic static Integer[] findKthLargest(List&lt;Integer[]&gt; list, int k) throws IllegalArgumentException {\r\n\t\t\r\n\t\tInteger[] arr = (Integer[]) list.toArray();\r\n\t\tinsertionSort(arr, new ArrayComparator());\r\n\t\t\r\n\t\tSystem.out.println(Arrays.toString(arr));\r\n\t\t\r\n\t\treturn arr[k];\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried casting the List&lt;Integer[]&gt; into an Object[] and then to an Integer[] but I run into the same error. I can&#39;t change the method header\r\n\r\nI haven&#39;t finished the rest of the method&#39;s implementation yet so I placed a println to see if it&#39;d provide me with roughly the results I expected.","title":"Running into [Ljava.lang.Object; cannot be cast to class [Ljava.lang.Integer at runtime","body":"<p>At runtime, I keep running into the error above when trying to make a List&lt;Integer[]&gt;  to an Integer[].</p>\n<pre><code>    public static Integer[] findKthLargest(List&lt;Integer[]&gt; list, int k) throws IllegalArgumentException {\n        \n        Integer[] arr = (Integer[]) list.toArray();\n        insertionSort(arr, new ArrayComparator());\n        \n        System.out.println(Arrays.toString(arr));\n        \n        return arr[k];\n</code></pre>\n<p>I've tried casting the List&lt;Integer[]&gt; into an Object[] and then to an Integer[] but I run into the same error. I can't change the method header</p>\n<p>I haven't finished the rest of the method's implementation yet so I placed a println to see if it'd provide me with roughly the results I expected.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":13758544,"reputation":5117,"user_id":9928809,"display_name":"Nick_Kh"},"score":0,"creation_date":1580896866,"post_id":60066306,"comment_id":106245597,"body_markdown":"Did you try also to supply [DataflowPipelineOptions](https://beam.apache.org/releases/javadoc/2.3.0/org/apache/beam/runners/dataflow/options/DataflowPipelineOptions.html) interface for pipeline options?","body":"Did you try also to supply <a href=\"https://beam.apache.org/releases/javadoc/2.3.0/org/apache/beam/runners/dataflow/options/DataflowPipelineOptions.html\" rel=\"nofollow noreferrer\">DataflowPipelineOptions</a> interface for pipeline options?"},{"owner":{"account_id":12150669,"reputation":137,"user_id":8871064,"display_name":"eagerbeaver"},"score":0,"creation_date":1580918919,"post_id":60066306,"comment_id":106257934,"body_markdown":"@mk_sta I just tried extending DataflowPipelineOptions in the Options.class interface but the same issue seems to occur. I originally extended GcpOptions instead. If I don&#39;t define the tempLocation getter and setter in the Options interface it appears as though the tempLocation will automatically default to the newly created default bucket&#39;s temp folder (gs://dataflow-staging-us-central1-job_number/temp)","body":"@mk_sta I just tried extending DataflowPipelineOptions in the Options.class interface but the same issue seems to occur. I originally extended GcpOptions instead. If I don&#39;t define the tempLocation getter and setter in the Options interface it appears as though the tempLocation will automatically default to the newly created default bucket&#39;s temp folder (gs://dataflow-staging-us-central1-job_number/temp)"},{"owner":{"account_id":15711785,"reputation":1371,"user_id":11337033,"display_name":"Daniel Oliveira"},"score":0,"creation_date":1581023965,"post_id":60066306,"comment_id":106301750,"body_markdown":"Let me do some basic troubleshooting. Can you confirm that the bucket you&#39;re setting as the temp location has already been created? Can you confirm that you&#39;re supplying the options to the Pipeline like so: `Pipeline p = Pipeline.create(options);`?","body":"Let me do some basic troubleshooting. Can you confirm that the bucket you&#39;re setting as the temp location has already been created? Can you confirm that you&#39;re supplying the options to the Pipeline like so: <code>Pipeline p = Pipeline.create(options);</code>?"},{"owner":{"account_id":12150669,"reputation":137,"user_id":8871064,"display_name":"eagerbeaver"},"score":0,"creation_date":1581094551,"post_id":60066306,"comment_id":106327544,"body_markdown":"@Daniel Oliveira I can confirm that the bucket I am setting as the tempLocation is already existing on Google Cloud Storage. I am also supplying the options to the Pipeline using the code you included inside of the run method.  After observing the generated template file, I can also see that both options are correctly set in the template&#39;s PipelineOptions. After deploying the Dataflow job using the online Google Cloud interface however, the default gcpTempLocation is still created. I have included a new edit in my original post as my issue has been solved, but the solution confuses me.","body":"@Daniel Oliveira I can confirm that the bucket I am setting as the tempLocation is already existing on Google Cloud Storage. I am also supplying the options to the Pipeline using the code you included inside of the run method.  After observing the generated template file, I can also see that both options are correctly set in the template&#39;s PipelineOptions. After deploying the Dataflow job using the online Google Cloud interface however, the default gcpTempLocation is still created. I have included a new edit in my original post as my issue has been solved, but the solution confuses me."}],"answers":[{"tags":[],"owner":{"account_id":13758544,"reputation":5117,"user_id":9928809,"display_name":"Nick_Kh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580983594,"creation_date":1580983594,"answer_id":60092376,"question_id":60066306,"body_markdown":"I guess this behavior for particular [PipelineOptions][1] is well explained in  GCP [documentation][2]:\r\n\r\n&gt; **gcpTempLocation** - A Cloud Storage path for Dataflow to stage any temporary files. You must create this bucket ahead of time, before\r\n&gt; running your pipeline. In case you don&#39;t specify `gcpTempLocation`,\r\n&gt; you can specify the pipeline option `tempLocation` and then\r\n&gt; `gcpTempLocation` will be set to the value of `tempLocation`. **If\r\n&gt; neither are specified, a default `gcpTempLocation` will be created.**\r\n\r\nSo far, it seems to be the hard coded case for GCP Dataflow managed services.\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/specifying-exec-params#setting-other-cloud-dataflow-pipeline-options\r\n  [2]: https://cloud.google.com/dataflow/docs/guides/specifying-exec-params#configuring-pipelineoptions-for-execution-on-the-cloud-dataflow-service","title":"Dataflow job always creates new default bucket even when tempLocation and gcpTempLocation are set?","body":"<p>I guess this behavior for particular <a href=\"https://cloud.google.com/dataflow/docs/guides/specifying-exec-params#setting-other-cloud-dataflow-pipeline-options\" rel=\"nofollow noreferrer\">PipelineOptions</a> is well explained in  GCP <a href=\"https://cloud.google.com/dataflow/docs/guides/specifying-exec-params#configuring-pipelineoptions-for-execution-on-the-cloud-dataflow-service\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p><strong>gcpTempLocation</strong> - A Cloud Storage path for Dataflow to stage any temporary files. You must create this bucket ahead of time, before\n  running your pipeline. In case you don't specify <code>gcpTempLocation</code>,\n  you can specify the pipeline option <code>tempLocation</code> and then\n  <code>gcpTempLocation</code> will be set to the value of <code>tempLocation</code>. <strong>If\n  neither are specified, a default <code>gcpTempLocation</code> will be created.</strong></p>\n</blockquote>\n\n<p>So far, it seems to be the hard coded case for GCP Dataflow managed services.</p>\n"},{"tags":[],"owner":{"account_id":1021596,"reputation":123,"user_id":1031796,"display_name":"Yevgeny Khodorkovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675971474,"creation_date":1675971474,"answer_id":75403628,"question_id":60066306,"body_markdown":"The bucket being created is for staging location, which is supposed to default to temp location, but it&#39;s broken (as of SDK v2.43.0).\r\nYou can specify your staging location to avoid creating the extra bucket.\r\n\r\nhttps://stackoverflow.com/a/75403319/1031796","title":"Dataflow job always creates new default bucket even when tempLocation and gcpTempLocation are set?","body":"<p>The bucket being created is for staging location, which is supposed to default to temp location, but it's broken (as of SDK v2.43.0).\nYou can specify your staging location to avoid creating the extra bucket.</p>\n<p><a href=\"https://stackoverflow.com/a/75403319/1031796\">https://stackoverflow.com/a/75403319/1031796</a></p>\n"}],"owner":{"account_id":12150669,"reputation":137,"user_id":8871064,"display_name":"eagerbeaver"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2185,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675971474,"creation_date":1580854448,"question_id":60066306,"body_markdown":"My Dataflow job seems to always create a new Default Google Cloud Storage bucket even with stagingLocation, tempLocation, and gcpTempLocation defined. After looking through the Apache Beam (2.6.0) library code, these lines in GcpOptions.java appear to be the culprit:\r\n\r\n    String tempLocation = options.getTempLocation();\r\n      if (isNullOrEmpty(tempLocation)) {\r\n        tempLocation =\r\n            tryCreateDefaultBucket(\r\n                options,\r\n                newCloudResourceManagerClient(options.as(CloudResourceManagerOptions.class))\r\n                    .build());\r\n        options.setTempLocation(tempLocation);\r\n      }\r\n\r\nHowever, this code should only be executed in the event that tempLocation is not defined in PipelineOptions, and I have set tempLocation both using the command line argument as well as using the setTempLocation method. I have defined the Options interface by extending GcpOptions and adding a few additional option getters and setters. \r\n\r\nIf I don&#39;t define the tempLocation getter and setter in the Options interface it appears as though the tempLocation will automatically default to the newly created default bucket&#39;s temp folder (gs://dataflow-staging-us-central1-job_number/temp), yet I have defined the tempLocation command line argument. \r\n\r\nHere is the main method of the Dataflow job: \r\n\r\n    public static void main(String[] args) {\r\n        Options options = PipelineOptionsFactory.fromArgs(args).as(Options.class);\r\n        GoogleCredentials credentials = null;\r\n        try {\r\n            credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;./src/main/resources/credentials.json&quot;))\r\n                    .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        options.setGcpCredential(credentials);\r\n        options.setTempLocation(&quot;gs://example_bucket/temp&quot;);\r\n        options.setGcpTempLocation(&quot;gs://example_bucket/temp&quot;);\r\n        run(options);\r\n    }\r\n\r\nCan anyone explain why the default bucket is always created and how I can avoid this?\r\n\r\n**Edit:**\r\n\r\n\r\nIt looks as though if I deploy the Dataflow job directly from the command line with the same arguments instead of generating the Dataflow template and then deploying the job through the console interface the tempLocation seems to be set correctly and no additional bucket is created. This seems to resolve the issue I am having but I am not fully sure why this solution works.","title":"Dataflow job always creates new default bucket even when tempLocation and gcpTempLocation are set?","body":"<p>My Dataflow job seems to always create a new Default Google Cloud Storage bucket even with stagingLocation, tempLocation, and gcpTempLocation defined. After looking through the Apache Beam (2.6.0) library code, these lines in GcpOptions.java appear to be the culprit:</p>\n\n<pre><code>String tempLocation = options.getTempLocation();\n  if (isNullOrEmpty(tempLocation)) {\n    tempLocation =\n        tryCreateDefaultBucket(\n            options,\n            newCloudResourceManagerClient(options.as(CloudResourceManagerOptions.class))\n                .build());\n    options.setTempLocation(tempLocation);\n  }\n</code></pre>\n\n<p>However, this code should only be executed in the event that tempLocation is not defined in PipelineOptions, and I have set tempLocation both using the command line argument as well as using the setTempLocation method. I have defined the Options interface by extending GcpOptions and adding a few additional option getters and setters. </p>\n\n<p>If I don't define the tempLocation getter and setter in the Options interface it appears as though the tempLocation will automatically default to the newly created default bucket's temp folder (gs://dataflow-staging-us-central1-job_number/temp), yet I have defined the tempLocation command line argument. </p>\n\n<p>Here is the main method of the Dataflow job: </p>\n\n<pre><code>public static void main(String[] args) {\n    Options options = PipelineOptionsFactory.fromArgs(args).as(Options.class);\n    GoogleCredentials credentials = null;\n    try {\n        credentials = GoogleCredentials.fromStream(new FileInputStream(\"./src/main/resources/credentials.json\"))\n                .createScoped(Lists.newArrayList(\"https://www.googleapis.com/auth/cloud-platform\"));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    options.setGcpCredential(credentials);\n    options.setTempLocation(\"gs://example_bucket/temp\");\n    options.setGcpTempLocation(\"gs://example_bucket/temp\");\n    run(options);\n}\n</code></pre>\n\n<p>Can anyone explain why the default bucket is always created and how I can avoid this?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>It looks as though if I deploy the Dataflow job directly from the command line with the same arguments instead of generating the Dataflow template and then deploying the job through the console interface the tempLocation seems to be set correctly and no additional bucket is created. This seems to resolve the issue I am having but I am not fully sure why this solution works.</p>\n"},{"tags":["java","android","textview","lowercase"],"comments":[{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1558595105,"post_id":56269710,"comment_id":99154397,"body_markdown":"Convert your text String to lower case and then set it to your `TextView` instead.","body":"Convert your text String to lower case and then set it to your <code>TextView</code> instead."},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1558595126,"post_id":56269710,"comment_id":99154406,"body_markdown":"add ontextchanged listener, where you change text to lowercase","body":"add ontextchanged listener, where you change text to lowercase"}],"answers":[{"tags":[],"owner":{"account_id":15521033,"reputation":481,"user_id":11197211,"display_name":"Infusion Analysts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558595096,"creation_date":1558595096,"answer_id":56269737,"question_id":56269710,"body_markdown":"Try this way.. what ever your string to want to set textview. the String class provide method for lower and upper letter.\r\n\r\n\r\n    tv.setText(strings.toLowerCase());","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<p>Try this way.. what ever your string to want to set textview. the String class provide method for lower and upper letter.</p>\n\n<pre><code>tv.setText(strings.toLowerCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15995252,"reputation":1,"user_id":11543301,"display_name":"Sinan thadathil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558595556,"creation_date":1558595556,"answer_id":56269875,"question_id":56269710,"body_markdown":"You can use getText() method in this TextView and save the text into a String object. And you can use toLowerCase() method to convert the string into all lowercase then use setText() method to set the modified String to that TextView\r\nRemember to set the setAllCaps() to false","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<p>You can use getText() method in this TextView and save the text into a String object. And you can use toLowerCase() method to convert the string into all lowercase then use setText() method to set the modified String to that TextView\nRemember to set the setAllCaps() to false</p>\n"},{"tags":[],"owner":{"account_id":15646870,"reputation":1440,"user_id":11288846,"display_name":"Ferran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558606145,"creation_date":1558606145,"answer_id":56272914,"question_id":56269710,"body_markdown":"As mentioned in other answers, you can use this to change to lowercase:\r\n\r\n        nameTextview.setText.nameTextview.getText().toString().toLowerCase());\r\n\r\nHowever, if you are looking for something like `setAllCaps` does, that is, change the text to lowercase without modifying the original text, then, you should use a transformation method.\r\n\r\nIndeed, `setAllCaps(true)`, change string to Uppercase:\r\n\r\n    &#39;Hello, This Is a Test&#39; =&gt; &#39;HELLO, THIS IS A TEST&#39;\r\n\r\nBut if you set setAllCaps(false) the text change like this\r\n\r\n    &#39;HELLO, THIS IS A TEST&#39; =&gt; &#39;Hello, This Is a Test&#39;\r\n\r\nThe original text is recovered as it was entered.\r\n\r\nTo accomplish this to Lowercase you should create a class like this:\r\n\r\n    public class AllLowTransformationMethod implements TransformationMethod {\r\n        private Locale mLocale;\r\n\r\n        public AllLowTransformationMethod(Context context) {\r\n            this.mLocale = context.getResources().getConfiguration().locale;\r\n        }\r\n\r\n        public CharSequence getTransformation(CharSequence source, View view) {\r\n            return source != null ? source.toString().toLowerCase(this.mLocale) : null;\r\n        }\r\n\r\n        public void onFocusChanged(View view, CharSequence sourceText, boolean focused, int direction, Rect previouslyFocusedRect) {\r\n        }\r\n    }\r\n \r\nThen, you can use this:\r\n\r\n    button2.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            nameTextview.setTransformation(new AllLowTransformationMethod); \r\n        }\r\n    });\r\n\r\nTo recover the original text:\r\n\r\n    nameTextview.setTransformation(null); \r\n","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<p>As mentioned in other answers, you can use this to change to lowercase:</p>\n\n<pre><code>    nameTextview.setText.nameTextview.getText().toString().toLowerCase());\n</code></pre>\n\n<p>However, if you are looking for something like <code>setAllCaps</code> does, that is, change the text to lowercase without modifying the original text, then, you should use a transformation method.</p>\n\n<p>Indeed, <code>setAllCaps(true)</code>, change string to Uppercase:</p>\n\n<pre><code>'Hello, This Is a Test' =&gt; 'HELLO, THIS IS A TEST'\n</code></pre>\n\n<p>But if you set setAllCaps(false) the text change like this</p>\n\n<pre><code>'HELLO, THIS IS A TEST' =&gt; 'Hello, This Is a Test'\n</code></pre>\n\n<p>The original text is recovered as it was entered.</p>\n\n<p>To accomplish this to Lowercase you should create a class like this:</p>\n\n<pre><code>public class AllLowTransformationMethod implements TransformationMethod {\n    private Locale mLocale;\n\n    public AllLowTransformationMethod(Context context) {\n        this.mLocale = context.getResources().getConfiguration().locale;\n    }\n\n    public CharSequence getTransformation(CharSequence source, View view) {\n        return source != null ? source.toString().toLowerCase(this.mLocale) : null;\n    }\n\n    public void onFocusChanged(View view, CharSequence sourceText, boolean focused, int direction, Rect previouslyFocusedRect) {\n    }\n}\n</code></pre>\n\n<p>Then, you can use this:</p>\n\n<pre><code>button2.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        nameTextview.setTransformation(new AllLowTransformationMethod); \n    }\n});\n</code></pre>\n\n<p>To recover the original text:</p>\n\n<pre><code>nameTextview.setTransformation(null); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3577319,"reputation":59,"user_id":2986233,"accept_rate":50,"display_name":"Sravanya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558614401,"creation_date":1558614401,"answer_id":56275219,"question_id":56269710,"body_markdown":"       button1.setOnClickListener {\r\n       tvId.setText(tvId.text.toString().toUpperCase())\r\n       }\r\n       button2.setOnClickListener {\r\n       tvId.setText(tvId.text.toString().toLowerCase())\r\n       }","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<pre><code>   button1.setOnClickListener {\n   tvId.setText(tvId.text.toString().toUpperCase())\n   }\n   button2.setOnClickListener {\n   tvId.setText(tvId.text.toString().toLowerCase())\n   }\n</code></pre>\n"}],"owner":{"account_id":8054276,"reputation":11,"user_id":6071915,"display_name":"Mahadi Hasan Jony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1675971376,"creation_date":1558594971,"question_id":56269710,"body_markdown":"`nameTextview.setAllCaps(true);` by this we can set all text to Uppercase letter,\r\nHow I can set Lowercase ?\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView nameTextview;\r\n    private Button button1;\r\n    private Button button2;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        button1=findViewById(R.id.capsonID);\r\n        button2=findViewById(R.id.capsoffID);\r\n        nameTextview = findViewById(R.id.textview1);\r\n\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                nameTextview.setAllCaps(true);\r\n            }\r\n        });\r\n        button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                nameTextview.  // ???????????? What should I do here ?\r\n            }\r\n        });\r\n    }\r\n    }","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<p><code>nameTextview.setAllCaps(true);</code> by this we can set all text to Uppercase letter,\nHow I can set Lowercase ?</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate TextView nameTextview;\nprivate Button button1;\nprivate Button button2;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    button1=findViewById(R.id.capsonID);\n    button2=findViewById(R.id.capsoffID);\n    nameTextview = findViewById(R.id.textview1);\n\n    button1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            nameTextview.setAllCaps(true);\n        }\n    });\n    button2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            nameTextview.  // ???????????? What should I do here ?\n        }\n    });\n}\n}\n</code></pre>\n"},{"tags":["javascript","java","angular","spring","spring-boot"],"comments":[{"owner":{"account_id":9698609,"reputation":13718,"user_id":7194268,"display_name":"mbojko"},"score":0,"creation_date":1675971745,"post_id":75403546,"comment_id":133048147,"body_markdown":"&quot;accept the cookie send by backend and in the end send back the cookie on each request made using frontend&quot; - I don&#39;t believe you have to do anything, that should happen behind framework&#39;s back. Did you look in the browser&#39;s dev tools if cookies are sent, saved  and sent back?","body":"&quot;accept the cookie send by backend and in the end send back the cookie on each request made using frontend&quot; - I don&#39;t believe you have to do anything, that should happen behind framework&#39;s back. Did you look in the browser&#39;s dev tools if cookies are sent, saved  and sent back?"},{"owner":{"account_id":20319777,"reputation":13,"user_id":14904745,"display_name":"LazyCoder"},"score":0,"creation_date":1676000171,"post_id":75403546,"comment_id":133053306,"body_markdown":"@mbojko well I was using ngx-cookie-service where I set the cookie by myself and yeah I did saw that cookie in dev tool but the one send by backend, I saw it anywhere.","body":"@mbojko well I was using ngx-cookie-service where I set the cookie by myself and yeah I did saw that cookie in dev tool but the one send by backend, I saw it anywhere."}],"owner":{"account_id":20319777,"reputation":13,"user_id":14904745,"display_name":"LazyCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675971087,"creation_date":1675971087,"question_id":75403546,"body_markdown":"So, I&#39;m currently working on session management and found out that one of the ways of doing so is by using cookies. I&#39;m using spring boot as my backend tool. \r\nSo, \r\n\r\n    @PostMapping(&quot;/addUser&quot;)\r\n\tpublic User addUser(@RequestBody String name, HttpServletRequest request, HttpServletResponse response) {\r\n\t\t\r\n\t\tHttpSession getSession = (HttpSession) request.getAttribute(&quot;session&quot;);\r\n\t\tCookie cookie = new Cookie(&quot;sessionId&quot;, getSession.getId());\r\n\t\tresponse.addCookie(cookie);\r\n\r\n\t\tsessionService.addSession(getSession);\r\n\r\n\t\tString session = (String) getSession.getId();\r\n\t\tSystem.out.println(&quot;Session id is &quot; + session);\r\n\t\tUser newUser = new User(name, session);\r\n\t\tuserService.addUser(newUser);\r\n\r\n\t\treturn newUser;\r\n\t}\r\n\r\nThis is the code that&#39;s responsible for creating cookies. Where, what happen is user will enter the username on a form and click on submit and then it will be post mapped on this method. \r\n\r\nSo, I tried checking if I&#39;m getting cookies from frontend or not using this method\r\n\r\n    @PostMapping(&quot;/noOfUsers&quot;)\r\n\tpublic int userCount(@RequestBody String sessionId, HttpServletRequest request, HttpServletResponse response) {\r\n\t\tSystem.out.println(request.getSession().getId());\r\n\t\t Cookie[] cookies = request.getCookies();\r\n\t\t if (cookies != null) {\r\n\t\t\t    for (Cookie cookie : cookies) {\r\n\t\t\t      if (cookie.getName().equals(&quot;sessionId&quot;)) {\r\n\t\t\t         System.out.println(cookie.getValue());\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t  }\r\n\r\n\t\r\n\t\treturn this.userService.noOfUser();\r\n\t}\r\n\r\nWhen I used postman, I did get the cookie value printed but don&#39;t know how in angular I&#39;m suppose to accept the cookie send by backend and in the end send back the cookie on each request made using frontend.","title":"Angular : accepting cookie send by backend","body":"<p>So, I'm currently working on session management and found out that one of the ways of doing so is by using cookies. I'm using spring boot as my backend tool.\nSo,</p>\n<pre><code>@PostMapping(&quot;/addUser&quot;)\npublic User addUser(@RequestBody String name, HttpServletRequest request, HttpServletResponse response) {\n    \n    HttpSession getSession = (HttpSession) request.getAttribute(&quot;session&quot;);\n    Cookie cookie = new Cookie(&quot;sessionId&quot;, getSession.getId());\n    response.addCookie(cookie);\n\n    sessionService.addSession(getSession);\n\n    String session = (String) getSession.getId();\n    System.out.println(&quot;Session id is &quot; + session);\n    User newUser = new User(name, session);\n    userService.addUser(newUser);\n\n    return newUser;\n}\n</code></pre>\n<p>This is the code that's responsible for creating cookies. Where, what happen is user will enter the username on a form and click on submit and then it will be post mapped on this method.</p>\n<p>So, I tried checking if I'm getting cookies from frontend or not using this method</p>\n<pre><code>@PostMapping(&quot;/noOfUsers&quot;)\npublic int userCount(@RequestBody String sessionId, HttpServletRequest request, HttpServletResponse response) {\n    System.out.println(request.getSession().getId());\n     Cookie[] cookies = request.getCookies();\n     if (cookies != null) {\n            for (Cookie cookie : cookies) {\n              if (cookie.getName().equals(&quot;sessionId&quot;)) {\n                 System.out.println(cookie.getValue());\n              }\n            }\n          }\n\n\n    return this.userService.noOfUser();\n}\n</code></pre>\n<p>When I used postman, I did get the cookie value printed but don't know how in angular I'm suppose to accept the cookie send by backend and in the end send back the cookie on each request made using frontend.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970519,"creation_date":1675970159,"answer_id":75403402,"question_id":75403260,"body_markdown":"My guess is that the confidential client obfuscated on your screenshot has no `Allowed Origins` configured with `http://localhost:9019` in Keycloak.\r\n\r\nIf the failing request is `https://test/auth/realms/test/protocol/openid-connect/token`, then it&#39;s a request to the token endpoint of the `test` realm on a Keycloak (19 or before) instance. It&#39;s the request for the REST client to get an access-token (using the client-credentials flow you configured), **before querying your resource-server** (your spring-security config on the resource-server has not been evaluated yet).\r\n\r\nGo to Keycloak administration console, browse to the test realm, open clients tab, select your confidential client and check allowed origins in its settings.","title":"springdoc openapi Failed to fetch","body":"<p>My guess is that the confidential client obfuscated on your screenshot has no <code>Allowed Origins</code> configured with <code>http://localhost:9019</code> in Keycloak.</p>\n<p>If the failing request is <code>https://test/auth/realms/test/protocol/openid-connect/token</code>, then it's a request to the token endpoint of the <code>test</code> realm on a Keycloak (19 or before) instance. It's the request for the REST client to get an access-token (using the client-credentials flow you configured), <strong>before querying your resource-server</strong> (your spring-security config on the resource-server has not been evaluated yet).</p>\n<p>Go to Keycloak administration console, browse to the test realm, open clients tab, select your confidential client and check allowed origins in its settings.</p>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675970519,"creation_date":1675969289,"question_id":75403260,"body_markdown":"In my spring boot application i used springdoc openapi.\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n           &lt;version&gt;1.6.11&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nAll the api in my app is secure by token, so i added OAuth2 authentication to my config like below.\r\n\r\n    @Bean\r\n    public OpenAPI openAPI() {\r\n        final String authUrl = &quot;https://test/auth/realms/test/protocol/openid-connect&quot;;\r\n        return new OpenAPI()\r\n                .components(new Components()\r\n                        .addSecuritySchemes(&quot;spring_oauth&quot;, new SecurityScheme()\r\n                                .type(SecurityScheme.Type.OAUTH2)\r\n                                .description(&quot;Oauth2 flow&quot;)\r\n                                .flows(new OAuthFlows()\r\n                                        .clientCredentials(new OAuthFlow()\r\n                                                .authorizationUrl(authUrl + &quot;/auth&quot;)\r\n                                                .refreshUrl(authUrl + &quot;/token&quot;)\r\n                                                .tokenUrl(authUrl + &quot;/token&quot;)\r\n                                                .scopes(new Scopes())\r\n                                        ))))\r\n                .security(Collections.singletonList(new SecurityRequirement().addList(&quot;spring_oauth&quot;)))\r\n                .info(new Info()\r\n                        .title(&quot;Test Service API&quot;)\r\n                        .description(&quot;Documentation Test Service API v1.0&quot;)\r\n                        .version(&quot;v1.0&quot;));\r\n    }\r\n\r\nI have the CorsFilter config\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        final CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;GET&quot;);\r\n        config.addAllowedMethod(&quot;POST&quot;);\r\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\r\n        config.addAllowedMethod(&quot;PATCH&quot;);\r\n\r\n        if (CollectionUtils.isNotEmpty(config.getAllowedOrigins())) {\r\n            source.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/health&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/info&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/prometheus&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/swagger-ui/**&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/v3/api-docs/**&quot;, config);\r\n        }\r\n\r\n        return new CorsFilter(source);\r\n    }\r\n\r\nWhen i tried to authorize, i get an error `Auth ErrorTypeError: Failed to fetch`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the console i have the below error, even though i added `*` in the `AllowedOrigins`\r\n\r\n&gt; Access to fetch at\r\n&gt; &#39;https://test/auth/realms/test/protocol/openid-connect/token&#39; from\r\n&gt; origin &#39;http://localhost:9019&#39; has been blocked by CORS policy: No\r\n&gt; &#39;Access-Control-Allow-Origin&#39; header is present on the requested\r\n&gt; resource. If an opaque response serves your needs, set the request&#39;s\r\n&gt; mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zVhRF.png","title":"springdoc openapi Failed to fetch","body":"<p>In my spring boot application i used springdoc openapi.</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n       &lt;version&gt;1.6.11&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>All the api in my app is secure by token, so i added OAuth2 authentication to my config like below.</p>\n<pre><code>@Bean\npublic OpenAPI openAPI() {\n    final String authUrl = &quot;https://test/auth/realms/test/protocol/openid-connect&quot;;\n    return new OpenAPI()\n            .components(new Components()\n                    .addSecuritySchemes(&quot;spring_oauth&quot;, new SecurityScheme()\n                            .type(SecurityScheme.Type.OAUTH2)\n                            .description(&quot;Oauth2 flow&quot;)\n                            .flows(new OAuthFlows()\n                                    .clientCredentials(new OAuthFlow()\n                                            .authorizationUrl(authUrl + &quot;/auth&quot;)\n                                            .refreshUrl(authUrl + &quot;/token&quot;)\n                                            .tokenUrl(authUrl + &quot;/token&quot;)\n                                            .scopes(new Scopes())\n                                    ))))\n            .security(Collections.singletonList(new SecurityRequirement().addList(&quot;spring_oauth&quot;)))\n            .info(new Info()\n                    .title(&quot;Test Service API&quot;)\n                    .description(&quot;Documentation Test Service API v1.0&quot;)\n                    .version(&quot;v1.0&quot;));\n}\n</code></pre>\n<p>I have the CorsFilter config</p>\n<pre><code>@Bean\npublic CorsFilter corsFilter() {\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    final CorsConfiguration config = new CorsConfiguration();\n    config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n    config.addAllowedHeader(&quot;*&quot;);\n    config.addAllowedMethod(&quot;GET&quot;);\n    config.addAllowedMethod(&quot;POST&quot;);\n    config.addAllowedMethod(&quot;OPTIONS&quot;);\n    config.addAllowedMethod(&quot;PATCH&quot;);\n\n    if (CollectionUtils.isNotEmpty(config.getAllowedOrigins())) {\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n        source.registerCorsConfiguration(&quot;/health&quot;, config);\n        source.registerCorsConfiguration(&quot;/info&quot;, config);\n        source.registerCorsConfiguration(&quot;/prometheus&quot;, config);\n        source.registerCorsConfiguration(&quot;/swagger-ui/**&quot;, config);\n        source.registerCorsConfiguration(&quot;/v3/api-docs/**&quot;, config);\n    }\n\n    return new CorsFilter(source);\n}\n</code></pre>\n<p>When i tried to authorize, i get an error <code>Auth ErrorTypeError: Failed to fetch</code></p>\n<p><a href=\"https://i.stack.imgur.com/zVhRF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zVhRF.png\" alt=\"enter image description here\" /></a></p>\n<p>In the console i have the below error, even though i added <code>*</code> in the <code>AllowedOrigins</code></p>\n<blockquote>\n<p>Access to fetch at\n'https://test/auth/realms/test/protocol/openid-connect/token' from\norigin 'http://localhost:9019' has been blocked by CORS policy: No\n'Access-Control-Allow-Origin' header is present on the requested\nresource. If an opaque response serves your needs, set the request's\nmode to 'no-cors' to fetch the resource with CORS disabled.</p>\n</blockquote>\n"},{"tags":["java","unit-testing","lombok"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1675932868,"post_id":75396162,"comment_id":133035193,"body_markdown":"Lombok replaces the annotations with actual code. The annotations are removed during compilation, which you can&#39;t beat AFAIK. However, you could test if the annotation would actually trigger by calling the method with parameters that cause the exception","body":"Lombok replaces the annotations with actual code. The annotations are removed during compilation, which you can&#39;t beat AFAIK. However, you could test if the annotation would actually trigger by calling the method with parameters that cause the exception"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1675933521,"post_id":75396162,"comment_id":133035363,"body_markdown":"What do you want to achieve? There might be other ways.","body":"What do you want to achieve? There might be other ways."},{"owner":{"account_id":19988121,"reputation":11,"user_id":14649844,"display_name":"HolyDrug"},"score":0,"creation_date":1675956167,"post_id":75396162,"comment_id":133042848,"body_markdown":"I want to test sneakythrows existence under private method, like I described below.","body":"I want to test sneakythrows existence under private method, like I described below."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":1,"creation_date":1675971475,"post_id":75396162,"comment_id":133048069,"body_markdown":"Unit test the behavior, not the presence of the annotation.","body":"Unit test the behavior, not the presence of the annotation."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970511,"creation_date":1675932987,"answer_id":75396242,"question_id":75396162,"body_markdown":"As far as I understand Lombok&#39;s `@SneakyThrows` has retention `SOURCE`, so it&#39;s not preserved in the compiled code. See the sources:\r\n```java\r\n@Target({ElementType.METHOD, ElementType.CONSTRUCTOR})\r\n@Retention(RetentionPolicy.SOURCE)\r\npublic @interface SneakyThrows {\r\n\t/** @return The exception type(s) you want to sneakily throw onward. */\r\n\tClass&lt;? extends Throwable&gt;[] value() default java.lang.Throwable.class;\r\n\t\r\n\t//The fully qualified name is used for java.lang.Throwable in the parameter only. This works around a bug in javac:\r\n\t//   presence of an annotation processor throws off the type resolver for some reason.\r\n}\r\n```\r\nHere is a simple way to check whether `@SneakyThrows` is present over a method:\r\n```java\r\nclass MyTest {\r\n\r\n    @Test\r\n    void testSneakyThrows() throws NoSuchMethodException {\r\n        Class&lt;IOException&gt; exceptionType = IOException.class;\r\n\r\n        assertThrows(exceptionType, this::myMethod);\r\n        assertFalse(Arrays.asList(getClass().getMethod(&quot;myMethod&quot;).getExceptionTypes()).contains(exceptionType));\r\n    }\r\n\r\n    @SneakyThrows\r\n    public void myMethod() {\r\n        throw new IOException();\r\n    }\r\n}\r\n```","title":"How to unit test Lombok @SneakyThrows annotation existence under method","body":"<p>As far as I understand Lombok's <code>@SneakyThrows</code> has retention <code>SOURCE</code>, so it's not preserved in the compiled code. See the sources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.METHOD, ElementType.CONSTRUCTOR})\n@Retention(RetentionPolicy.SOURCE)\npublic @interface SneakyThrows {\n    /** @return The exception type(s) you want to sneakily throw onward. */\n    Class&lt;? extends Throwable&gt;[] value() default java.lang.Throwable.class;\n    \n    //The fully qualified name is used for java.lang.Throwable in the parameter only. This works around a bug in javac:\n    //   presence of an annotation processor throws off the type resolver for some reason.\n}\n</code></pre>\n<p>Here is a simple way to check whether <code>@SneakyThrows</code> is present over a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTest {\n\n    @Test\n    void testSneakyThrows() throws NoSuchMethodException {\n        Class&lt;IOException&gt; exceptionType = IOException.class;\n\n        assertThrows(exceptionType, this::myMethod);\n        assertFalse(Arrays.asList(getClass().getMethod(&quot;myMethod&quot;).getExceptionTypes()).contains(exceptionType));\n    }\n\n    @SneakyThrows\n    public void myMethod() {\n        throw new IOException();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19988121,"reputation":11,"user_id":14649844,"display_name":"HolyDrug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1220,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675970511,"creation_date":1675932491,"question_id":75396162,"body_markdown":"\r\n```\r\n   @Test\r\n    void annotatedClass() throws NoSuchMethodException {\r\n        Class&lt;? extends service&gt; aClass = underTest.getClass();\r\n        Method method = aClass.getDeclaredMethod(&quot;create&quot;, param.class);\r\n        method.setAccessible(true);\r\n        SneakyThrows sneakyThrows = method.getAnnotation(SneakyThrows.class);\r\n        Assertions.assertNotNull(sneakyThrows);\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nBut assert is Null and private method annotated with @SneakyThrows  \r\n\r\nIDEA talk:\r\nAnnotation &#39;SneakyThrows.class&#39; is not retained for reflective access \r\n\r\nCan we beat annotation retention and be able to test it somehow?","title":"How to unit test Lombok @SneakyThrows annotation existence under method","body":"<pre><code>   @Test\n    void annotatedClass() throws NoSuchMethodException {\n        Class&lt;? extends service&gt; aClass = underTest.getClass();\n        Method method = aClass.getDeclaredMethod(&quot;create&quot;, param.class);\n        method.setAccessible(true);\n        SneakyThrows sneakyThrows = method.getAnnotation(SneakyThrows.class);\n        Assertions.assertNotNull(sneakyThrows);\n    }\n</code></pre>\n<p>But assert is Null and private method annotated with @SneakyThrows</p>\n<p>IDEA talk:\nAnnotation 'SneakyThrows.class' is not retained for reflective access</p>\n<p>Can we beat annotation retention and be able to test it somehow?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18815791,"reputation":121,"user_id":13722952,"display_name":"Kawsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970436,"creation_date":1675970436,"answer_id":75403448,"question_id":73930748,"body_markdown":"    binding.bottomNavView.inflateMenu(R.menu.mymenu);\r\n    TransitionManager.endTransitions((NavigationBarMenuView) binding.bottomNavView.getChildAt(0));\r\n\r\nI am using this one. And its work fine.","title":"BottomNavigationView: Disable animation for adding/inflating menu runtime in java","body":"<pre><code>binding.bottomNavView.inflateMenu(R.menu.mymenu);\nTransitionManager.endTransitions((NavigationBarMenuView) binding.bottomNavView.getChildAt(0));\n</code></pre>\n<p>I am using this one. And its work fine.</p>\n"}],"owner":{"account_id":25352811,"reputation":31,"user_id":19169404,"display_name":"TP SINGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675970436,"creation_date":1664766250,"question_id":73930748,"body_markdown":"[![enter image description here][1]][1]I have a problem with BottomNavigationView. I have to inflate menu runtime and I have a problem with default animation. It looks like tabs slide from right. Do you know how to disable this animation/behavior.And when we inflate the menu it show not animation and apear without animation.\r\nPlease help me \r\n\r\nbottomnavigation.inflateMenu(R.menu.menufile)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iz5G8.gif","title":"BottomNavigationView: Disable animation for adding/inflating menu runtime in java","body":"<p><a href=\"https://i.stack.imgur.com/iz5G8.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iz5G8.gif\" alt=\"enter image description here\" /></a>I have a problem with BottomNavigationView. I have to inflate menu runtime and I have a problem with default animation. It looks like tabs slide from right. Do you know how to disable this animation/behavior.And when we inflate the menu it show not animation and apear without animation.\nPlease help me</p>\n<p>bottomnavigation.inflateMenu(R.menu.menufile)</p>\n"},{"tags":["java","intellij-idea","compiler-errors","sdk","ide"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1601877676,"post_id":64203073,"comment_id":113531046,"body_markdown":"Three notes: Your method should accept `List&lt;String&gt;` instead of requiring `ArrayList` specifically, it is not polite to modify the input, and your reversing logic is unnecessarily complicated. Instead, you can say `Collections.reverse(splitName.filter(n -&gt; !LORD_LADY.contains(n)).collect(toCollection(ArrayList::new)))`.","body":"Three notes: Your method should accept <code>List&lt;String&gt;</code> instead of requiring <code>ArrayList</code> specifically, it is not polite to modify the input, and your reversing logic is unnecessarily complicated. Instead, you can say <code>Collections.reverse(splitName.filter(n -&gt; !LORD_LADY.contains(n)).collect(toCollection(ArrayList::new)&zwnj;&#8203;))</code>."},{"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"score":0,"creation_date":1601877896,"post_id":64203073,"comment_id":113531090,"body_markdown":"Thanks, I will modify my code. :-) Alas, that&#39;s beside my main problem. I don&#39;t even know what options I have because my IDE acts as if it was &quot;turned off&quot;.","body":"Thanks, I will modify my code. :-) Alas, that&#39;s beside my main problem. I don&#39;t even know what options I have because my IDE acts as if it was &quot;turned off&quot;."},{"owner":{"account_id":2491981,"reputation":1372,"user_id":2169264,"display_name":"Michał Schielmann"},"score":1,"creation_date":1601881447,"post_id":64203073,"comment_id":113532161,"body_markdown":"A bit hard to tell without seeing the setup. Is the file part of the project, meaning - is it in the src folder of any of your modules? How have you imported the project, is it maven, groovy, sbt?","body":"A bit hard to tell without seeing the setup. Is the file part of the project, meaning - is it in the src folder of any of your modules? How have you imported the project, is it maven, groovy, sbt?"},{"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"score":0,"creation_date":1601884315,"post_id":64203073,"comment_id":113533382,"body_markdown":"I added a screenshot with my setup. The file is a part of the project, it&#39;s in the proper folder. The project is mine and built with Maven. The thing is - it worked without problems before. It&#39;s just that everything was fine and when I open it the next day - it&#39;s malfunctional like that. You can see it technically highlights the class name in the upper bar, but does not touch the code itself.","body":"I added a screenshot with my setup. The file is a part of the project, it&#39;s in the proper folder. The project is mine and built with Maven. The thing is - it worked without problems before. It&#39;s just that everything was fine and when I open it the next day - it&#39;s malfunctional like that. You can see it technically highlights the class name in the upper bar, but does not touch the code itself."}],"answers":[{"tags":[],"owner":{"account_id":14235539,"reputation":88,"user_id":10283440,"display_name":"SaurPuss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1601884444,"creation_date":1601884444,"answer_id":64204518,"question_id":64203073,"body_markdown":"Have you tried to invalidate the caches? That usually clears up issues like this. It&#39;s easy to do too: From the main menu, select File | Invalidate Caches / Restart.","title":"Intellij does not show any errors in the syntax/does not give any suggestions","body":"<p>Have you tried to invalidate the caches? That usually clears up issues like this. It's easy to do too: From the main menu, select File | Invalidate Caches / Restart.</p>\n"},{"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970419,"creation_date":1675970419,"answer_id":75403444,"question_id":64203073,"body_markdown":"As mentioned above try to do invalidate caches/Restart( File -&gt; invalidate caches/Restart)\r\n\r\nIf it did not work then check pom file name is not strikethrough. If pom file has strikethrogh then \r\nIntelljIdea -&gt; Select Build,Execution,Deployment -&gt; Select Build Tools -&gt; maven  -&gt; Select Ignored Files - Check pom is present in ignore file. If yes then uncheck it . and do mvn clean install \r\n\r\n","title":"Intellij does not show any errors in the syntax/does not give any suggestions","body":"<p>As mentioned above try to do invalidate caches/Restart( File -&gt; invalidate caches/Restart)</p>\n<p>If it did not work then check pom file name is not strikethrough. If pom file has strikethrogh then\nIntelljIdea -&gt; Select Build,Execution,Deployment -&gt; Select Build Tools -&gt; maven  -&gt; Select Ignored Files - Check pom is present in ignore file. If yes then uncheck it . and do mvn clean install</p>\n"}],"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64204518,"answer_count":2,"score":1,"last_activity_date":1675970419,"creation_date":1601877124,"question_id":64203073,"body_markdown":"There&#39;s a couple of similar threads, but none seems to contain the answer to my issue.\r\n\r\nMy IDE does not show any error, does not give any suggestions, does not import anything. Example:\r\n\r\n```\r\npublic static String createInversion(ArrayList&lt;String&gt; splitName) {\r\n        splitName.removeIf(n -&gt; List.of(&quot;Lord&quot;, &quot;Lady&quot;).contains(n));\r\n        ArrayList&lt;String&gt; reverted = List.newArrayList(splitName.stream()\r\n        .collect(Collector.toCollection(LinkedList::new))\r\n        .descendingIterator());\r\n        return String.format(&quot;%s, %s&quot;, splitName.get(1), splitName.get(0));\r\n        gyugyuihu\r\n                dsfsdf\r\n                rewfewr\r\n    }\r\n```\r\nYou can clearly see that the last three lines are random chains of letters without any context. My IDE does not highlight them, does not report any problems. I don&#39;t even know if I should use Collector or Collectors class, because I am given zero suggestions, it&#39;s like writing in a Word Document.\r\n\r\nI am only given errors the moment I try to compile, but also just in the terminal. The code remains untouched by Intellij.\r\n\r\nI do not have the Power Safe Mode on, SDK is set correctly, language level in Modules is set correctly, Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler -&gt; Target Bytecode Version is set correctly, the main folder is marked as the Source Root.\r\n\r\nI am out of ideas. Please help.\r\n\r\nEDIT:\r\nAdding a screenshot of my setup.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B33pb.png","title":"Intellij does not show any errors in the syntax/does not give any suggestions","body":"<p>There's a couple of similar threads, but none seems to contain the answer to my issue.</p>\n<p>My IDE does not show any error, does not give any suggestions, does not import anything. Example:</p>\n<pre><code>public static String createInversion(ArrayList&lt;String&gt; splitName) {\n        splitName.removeIf(n -&gt; List.of(&quot;Lord&quot;, &quot;Lady&quot;).contains(n));\n        ArrayList&lt;String&gt; reverted = List.newArrayList(splitName.stream()\n        .collect(Collector.toCollection(LinkedList::new))\n        .descendingIterator());\n        return String.format(&quot;%s, %s&quot;, splitName.get(1), splitName.get(0));\n        gyugyuihu\n                dsfsdf\n                rewfewr\n    }\n</code></pre>\n<p>You can clearly see that the last three lines are random chains of letters without any context. My IDE does not highlight them, does not report any problems. I don't even know if I should use Collector or Collectors class, because I am given zero suggestions, it's like writing in a Word Document.</p>\n<p>I am only given errors the moment I try to compile, but also just in the terminal. The code remains untouched by Intellij.</p>\n<p>I do not have the Power Safe Mode on, SDK is set correctly, language level in Modules is set correctly, Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler -&gt; Target Bytecode Version is set correctly, the main folder is marked as the Source Root.</p>\n<p>I am out of ideas. Please help.</p>\n<p>EDIT:\nAdding a screenshot of my setup.\n<a href=\"https://i.stack.imgur.com/B33pb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B33pb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1675861696,"post_id":75367180,"comment_id":133018349,"body_markdown":"Try removing the `@MapsId` from `FilePermValuesPrimaryKey#filePermsEntity`","body":"Try removing the <code>@MapsId</code> from <code>FilePermValuesPrimaryKey#filePermsEntity</code>"},{"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"score":0,"creation_date":1675969878,"post_id":75367180,"comment_id":133047630,"body_markdown":"Thank you, Christian. That solved my issue. I will post my answer so that it will clarify the Q and help others too","body":"Thank you, Christian. That solved my issue. I will post my answer so that it will clarify the Q and help others too"}],"answers":[{"tags":[],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970212,"creation_date":1675970212,"answer_id":75403417,"question_id":75367180,"body_markdown":"The code below solved my problem:\r\n\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString(onlyExplicitlyIncluded = true)\r\n@Table(name = &quot;file_perm_values&quot;)\r\npublic class FilePermValuesEntity {\r\n\r\n    @EmbeddedId\r\n    @ToString.Include\r\n    private FilePermValuesPrimaryKey id;\r\n\r\n    @MapsId(&quot;filePermId&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;file_perm_id&quot;)\r\n    private FilePermsEntity filePermsEntity;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;value&quot;)\r\n    private String value;\r\n\r\n    @Getter\r\n    @Builder\r\n    @Embeddable\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(onlyExplicitlyIncluded = true)\r\n    public static class FilePermValuesPrimaryKey implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1223232L;\r\n\r\n        @ToString.Include\r\n        @Column(name = &quot;file_perm_id&quot;, nullable = false)\r\n        private UUID filePermId;\r\n\r\n        @ToString.Include\r\n        @Column(name = &quot;file_id&quot;, nullable = false)\r\n        private String fileId;\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            ...\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            ...\r\n        }\r\n    }\r\n}\r\n```","title":"How to fix JPA in Spring Boot error IllegalStateException: The column type is undefined?","body":"<p>The code below solved my problem:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString(onlyExplicitlyIncluded = true)\n@Table(name = &quot;file_perm_values&quot;)\npublic class FilePermValuesEntity {\n\n    @EmbeddedId\n    @ToString.Include\n    private FilePermValuesPrimaryKey id;\n\n    @MapsId(&quot;filePermId&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;file_perm_id&quot;)\n    private FilePermsEntity filePermsEntity;\n\n    @ToString.Include\n    @Column(name = &quot;value&quot;)\n    private String value;\n\n    @Getter\n    @Builder\n    @Embeddable\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @ToString(onlyExplicitlyIncluded = true)\n    public static class FilePermValuesPrimaryKey implements Serializable {\n\n        private static final long serialVersionUID = 1223232L;\n\n        @ToString.Include\n        @Column(name = &quot;file_perm_id&quot;, nullable = false)\n        private UUID filePermId;\n\n        @ToString.Include\n        @Column(name = &quot;file_id&quot;, nullable = false)\n        private String fileId;\n\n        @Override\n        public boolean equals(Object o) {\n            ...\n        }\n\n        @Override\n        public int hashCode() {\n            ...\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675970212,"creation_date":1675722050,"question_id":75367180,"body_markdown":"I am using JPA + Spring Boot for my project. This is the first time I&#39;m using JPA and I&#39;m also very new to Spring Boot.\r\n\r\nI want to create two tables `file_perms` and `file_perm_values`. I am able to get the definition of `file_perms` right. However, for my second table `file_perm_values`, I want to define a composite primary key that consists of the primary key of the `file_perms`, i.e., `id` and another String `file_id`. When I write the definition shown below and use the DDL creation button of Intellij, I get the error `Caused by: java.lang.IllegalStateException: The column type is undefined. Table - file_perm_values; Column - file_perm_id`\r\n\r\nWhat am I doing wrong?\r\n\r\nCould some of the experts out there please help me understand what&#39;s the problem and how to fix this?\r\n\r\nI&#39;ll be very grateful\r\n\r\n```\r\npackage com.some.project.persistence.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\nimport org.springframework.data.annotation.CreatedDate;\r\nimport org.springframework.data.annotation.LastModifiedDate;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport java.time.ZonedDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Getter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString(onlyExplicitlyIncluded = true)\r\n@Table(name = &quot;file_perms&quot;)\r\npublic class FilePermsEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Builder.Default\r\n    @ToString.Include\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private UUID id = null;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;perm_name&quot;, nullable = false)\r\n    private String permName;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;is_active&quot;, nullable = false)\r\n    private boolean active;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;perm_guid&quot;)\r\n    private String permGuid;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;perm_index&quot;)\r\n    private int permIndex;\r\n\r\n    @CreatedDate\r\n    @Builder.Default\r\n    @ToString.Include\r\n    @Column(name = &quot;created_at&quot;)\r\n    private ZonedDateTime createdAt = ZonedDateTime.now();\r\n\r\n    @Builder.Default\r\n    @ToString.Include\r\n    @LastModifiedDate\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private ZonedDateTime updatedAt = ZonedDateTime.now();\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.some.project.persistence.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Embeddable;\r\nimport javax.persistence.EmbeddedId;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.MapsId;\r\nimport javax.persistence.Table;\r\nimport java.io.Serializable;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString(onlyExplicitlyIncluded = true)\r\n@Table(name = &quot;file_perm_values&quot;)\r\npublic class FilePermValuesEntity {\r\n\r\n    @EmbeddedId\r\n    @ToString.Include\r\n    private FilePermValuesPrimaryKey id;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;value&quot;)\r\n    private String value;\r\n\r\n    @Getter\r\n    @Builder\r\n    @Embeddable\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(onlyExplicitlyIncluded = true)\r\n    public static class FilePermValuesPrimaryKey implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1223232L;\r\n\r\n        @MapsId\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;file_perm_id&quot;, nullable = false)\r\n        private FilePermsEntity filePermsEntity;\r\n\r\n        @ToString.Include\r\n        @Column(name = &quot;file_id&quot;, nullable = false)\r\n        private String fileId;\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            ...\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            ...\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to fix JPA in Spring Boot error IllegalStateException: The column type is undefined?","body":"<p>I am using JPA + Spring Boot for my project. This is the first time I'm using JPA and I'm also very new to Spring Boot.</p>\n<p>I want to create two tables <code>file_perms</code> and <code>file_perm_values</code>. I am able to get the definition of <code>file_perms</code> right. However, for my second table <code>file_perm_values</code>, I want to define a composite primary key that consists of the primary key of the <code>file_perms</code>, i.e., <code>id</code> and another String <code>file_id</code>. When I write the definition shown below and use the DDL creation button of Intellij, I get the error <code>Caused by: java.lang.IllegalStateException: The column type is undefined. Table - file_perm_values; Column - file_perm_id</code></p>\n<p>What am I doing wrong?</p>\n<p>Could some of the experts out there please help me understand what's the problem and how to fix this?</p>\n<p>I'll be very grateful</p>\n<pre><code>package com.some.project.persistence.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport java.time.ZonedDateTime;\nimport java.util.UUID;\n\n@Entity\n@Getter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString(onlyExplicitlyIncluded = true)\n@Table(name = &quot;file_perms&quot;)\npublic class FilePermsEntity {\n\n    @Id\n    @GeneratedValue\n    @Builder.Default\n    @ToString.Include\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id = null;\n\n    @ToString.Include\n    @Column(name = &quot;perm_name&quot;, nullable = false)\n    private String permName;\n\n    @ToString.Include\n    @Column(name = &quot;is_active&quot;, nullable = false)\n    private boolean active;\n\n    @ToString.Include\n    @Column(name = &quot;perm_guid&quot;)\n    private String permGuid;\n\n    @ToString.Include\n    @Column(name = &quot;perm_index&quot;)\n    private int permIndex;\n\n    @CreatedDate\n    @Builder.Default\n    @ToString.Include\n    @Column(name = &quot;created_at&quot;)\n    private ZonedDateTime createdAt = ZonedDateTime.now();\n\n    @Builder.Default\n    @ToString.Include\n    @LastModifiedDate\n    @Column(name = &quot;updated_at&quot;)\n    private ZonedDateTime updatedAt = ZonedDateTime.now();\n}\n</code></pre>\n<pre><code>package com.some.project.persistence.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport javax.persistence.Column;\nimport javax.persistence.Embeddable;\nimport javax.persistence.EmbeddedId;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.MapsId;\nimport javax.persistence.Table;\nimport java.io.Serializable;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString(onlyExplicitlyIncluded = true)\n@Table(name = &quot;file_perm_values&quot;)\npublic class FilePermValuesEntity {\n\n    @EmbeddedId\n    @ToString.Include\n    private FilePermValuesPrimaryKey id;\n\n    @ToString.Include\n    @Column(name = &quot;value&quot;)\n    private String value;\n\n    @Getter\n    @Builder\n    @Embeddable\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @ToString(onlyExplicitlyIncluded = true)\n    public static class FilePermValuesPrimaryKey implements Serializable {\n\n        private static final long serialVersionUID = 1223232L;\n\n        @MapsId\n        @ManyToOne(fetch = FetchType.LAZY)\n        @JoinColumn(name = &quot;file_perm_id&quot;, nullable = false)\n        private FilePermsEntity filePermsEntity;\n\n        @ToString.Include\n        @Column(name = &quot;file_id&quot;, nullable = false)\n        private String fileId;\n\n        @Override\n        public boolean equals(Object o) {\n            ...\n        }\n\n        @Override\n        public int hashCode() {\n            ...\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675909718,"creation_date":1675909368,"answer_id":75393592,"question_id":75389536,"body_markdown":"To accomplish this, you have to use `Executors` in Java. The below code will be done the job for you-\r\n\r\n    btnPausePlay.setOnClickListener(view -&gt; {\r\n        btnPausePlay.setVisibility(View.GONE);\r\n        progressPausePlay.setVisibility(View.VISIBLE);\r\n        ExecutorService executorService =  Executors.newSingleThreadExecutor();\r\n            executorService.execute(() -&gt; {\r\n                // Implement your file download code here i.e.\r\n                // httpRequest_noBackgroundThread( urlStr, urlParams, fileStr, itf );\r\n            handler.post(() -&gt; {\r\n                btnPausePlay.setVisibility(View.VISIBLE);\r\n                progressPausePlay.setVisibility(View.GONE);\r\n            });\r\n        });\r\n    });\r\n\r\nWhen you press the btnPausePlay button, then it will become invisible and the progress bar becomes visible. After that, once the download is completed reverse will happen.","title":"How to force progressbar get visible just before a background thread starts its execution?","body":"<p>To accomplish this, you have to use <code>Executors</code> in Java. The below code will be done the job for you-</p>\n<pre><code>btnPausePlay.setOnClickListener(view -&gt; {\n    btnPausePlay.setVisibility(View.GONE);\n    progressPausePlay.setVisibility(View.VISIBLE);\n    ExecutorService executorService =  Executors.newSingleThreadExecutor();\n        executorService.execute(() -&gt; {\n            // Implement your file download code here i.e.\n            // httpRequest_noBackgroundThread( urlStr, urlParams, fileStr, itf );\n        handler.post(() -&gt; {\n            btnPausePlay.setVisibility(View.VISIBLE);\n            progressPausePlay.setVisibility(View.GONE);\n        });\n    });\n});\n</code></pre>\n<p>When you press the btnPausePlay button, then it will become invisible and the progress bar becomes visible. After that, once the download is completed reverse will happen.</p>\n"}],"owner":{"account_id":16040627,"reputation":31,"user_id":11577121,"display_name":"Marco Jacobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75393592,"answer_count":1,"score":0,"last_activity_date":1675969881,"creation_date":1675877127,"question_id":75389536,"body_markdown":"I think this is a very simple question for many people in this community, however, I can&#39;t make this to work after several experiments; I would appreciate any help. \r\n\r\n\r\nIt is JAVA-android platform: The code needs to execute the next steps when the user clicks a button:\r\n\r\n\r\n1) Make invisible the button      (run in main thread)\r\n2) Make visible a progress bar    (run in main thread)\r\n3) Download a file from internet  (run in background thread)\r\n\r\n4) Wait the download is completed\r\n5) Make invisible the progress bar\r\n6) Make visible again the button\r\n\r\nThat&#39;s it. It doesn&#39;t seem to be very difficult, however, it is not working as I need it. \r\n\r\n\r\nThis is the issue:\r\nStep 3 get executed before steps 1 and 2, ... I have tried several experiments with not success. \r\n\r\n\r\n    private void f1()\r\n    {\r\n        mDataBinding.btnPausePlay.setVisibility(btnVisibility);                    \r\n        mDataBinding.progressPausePlay.setVisibility(progressVisibility);\r\n    }\r\n    \r\n    private void f2()\r\n    {\r\n            Thread xThread = new Thread( new Runnable()\r\n            {   @Override\r\n                public void run()                            // run in background thread\r\n                { httpRequest_noBackgroundThread( urlStr, urlParams, fileStr, itf );  }\r\n            });\r\n            try\r\n            {\r\n                xThread.start();\r\n                xThread.join();     // wait for the thread to finish\r\n            }\r\n               catch( Exception e ){   e.printStackTrace();  }\r\n    }\r\n\r\n\r\n    private void f3()\r\n    {\r\n            f1();\r\n            f2();\r\n           // continues execution ...\r\n    }\r\n\r\n\r\n\r\n###########################################################\r\n# Based on Shagun Verma&#39;s feedback; It was the fix for my specific issue. Thank you! \r\n\r\n\r\n    private void f3()\r\n    {\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        executorService.execute(() -&gt;\r\n        {       \r\n            f1();\r\n            f2();\r\n           // continues execution ...\r\n\r\n        });\r\n    }\r\n\r\n\r\n","title":"How to force progressbar get visible just before a background thread starts its execution?","body":"<p>I think this is a very simple question for many people in this community, however, I can't make this to work after several experiments; I would appreciate any help.</p>\n<p>It is JAVA-android platform: The code needs to execute the next steps when the user clicks a button:</p>\n<ol>\n<li><p>Make invisible the button      (run in main thread)</p>\n</li>\n<li><p>Make visible a progress bar    (run in main thread)</p>\n</li>\n<li><p>Download a file from internet  (run in background thread)</p>\n</li>\n<li><p>Wait the download is completed</p>\n</li>\n<li><p>Make invisible the progress bar</p>\n</li>\n<li><p>Make visible again the button</p>\n</li>\n</ol>\n<p>That's it. It doesn't seem to be very difficult, however, it is not working as I need it.</p>\n<p>This is the issue:\nStep 3 get executed before steps 1 and 2, ... I have tried several experiments with not success.</p>\n<pre><code>private void f1()\n{\n    mDataBinding.btnPausePlay.setVisibility(btnVisibility);                    \n    mDataBinding.progressPausePlay.setVisibility(progressVisibility);\n}\n\nprivate void f2()\n{\n        Thread xThread = new Thread( new Runnable()\n        {   @Override\n            public void run()                            // run in background thread\n            { httpRequest_noBackgroundThread( urlStr, urlParams, fileStr, itf );  }\n        });\n        try\n        {\n            xThread.start();\n            xThread.join();     // wait for the thread to finish\n        }\n           catch( Exception e ){   e.printStackTrace();  }\n}\n\n\nprivate void f3()\n{\n        f1();\n        f2();\n       // continues execution ...\n}\n</code></pre>\n<p>###########################################################</p>\n<h1>Based on Shagun Verma's feedback; It was the fix for my specific issue. Thank you!</h1>\n<pre><code>private void f3()\n{\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\n    executorService.execute(() -&gt;\n    {       \n        f1();\n        f2();\n       // continues execution ...\n\n    });\n}\n</code></pre>\n"},{"tags":["java","cplex"],"comments":[{"owner":{"account_id":2413938,"reputation":2052,"user_id":2108433,"accept_rate":20,"display_name":"TimChippingtonDerrick"},"score":0,"creation_date":1676021519,"post_id":75403348,"comment_id":133057268,"body_markdown":"What arguments does the staticLex function take?","body":"What arguments does the staticLex function take?"},{"owner":{"account_id":25218510,"reputation":1,"user_id":19055323,"display_name":"MARWA"},"score":0,"creation_date":1676036807,"post_id":75403348,"comment_id":133061774,"body_markdown":"It takes the two objective functions &quot;objective&quot; and &quot;secobj&quot; which are IloNumExpr. But the arguments should be IlonNumVar to work.","body":"It takes the two objective functions &quot;objective&quot; and &quot;secobj&quot; which are IloNumExpr. But the arguments should be IlonNumVar to work."}],"owner":{"account_id":25218510,"reputation":1,"user_id":19055323,"display_name":"MARWA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675969832,"creation_date":1675969832,"question_id":75403348,"body_markdown":"I need to blend two objective functions f1 and f2 ([see image here](https://i.stack.imgur.com/vB157.png)) where c is a continuous variable, C_{ug} is a binary variable and a,d and f are parameters. I&#39;m using Cplex Studio IDE 22.1.0  Java in eclipse.\r\n\r\n\r\n\r\n```\r\n// create the objetive function f1\r\n     IloLinearNumExpr firstPart = cplex.linearNumExpr();\r\n     int aSum = 0;\r\n     for (int k = 0; k &lt; inst.n + inst.m; k++) {\r\n         firstPart.addTerm(1, c[k]);\r\n       aSum += -inst.a[k];\r\n     }\r\n     firstPart.setConstant(aSum);\r\n\r\n     \r\n     IloLinearNumExpr secondPart = cplex.linearNumExpr();\r\n     for (int k = 0; k &lt; inst.n + inst.m; k++) {\r\n         // This is the equivalent to z[k] = max(c[k] - d[k], 0)\r\n         cplex.addEq(z[k], cplex.max(0,  cplex.sum(c[k], -inst.d[k])));\r\n          secondPart.addTerm(inst.f[k], z[k]);\r\n\r\n     }\r\n\r\n\r\n     IloLinearNumExpr objective = cplex.linearNumExpr();        \r\n     objective.add(firstPart);\r\n     objective.add(secondPart);\r\n\r\n \r\n     \r\n     // create the objetive function f2\r\n        IloLinearNumExpr secobj = cplex.linearNumExpr();       \r\n     for (int tt = 0; tt &lt; inst.T; tt++) {\r\n        for (int k = 0; k &lt; inst.q; k++) {\r\n                for (int j = 0; j &lt; inst.B; j++) {\r\n\r\n         secobj.addTerm(1, C[j][k]);\r\n       \r\n     }}}\r\n     \r\n\r\n      IloCplex.staticLex(objective, secobj );  \r\n```\r\n\r\nI&#39;m getting the following error: the method staticLex(IloNumExpr, String) in the type IloCplex is not applicable for the arguments (IloLinearNumExpr, IloLinearNumExpr). \r\nDoes anyone know how I can solve this problem? Many thanks.\r\n","title":"CPLEX Java StaticLex is not applicable for (iloNumexpr, iloNumexpr)","body":"<p>I need to blend two objective functions f1 and f2 (<a href=\"https://i.stack.imgur.com/vB157.png\" rel=\"nofollow noreferrer\">see image here</a>) where c is a continuous variable, C_{ug} is a binary variable and a,d and f are parameters. I'm using Cplex Studio IDE 22.1.0  Java in eclipse.</p>\n<pre><code>// create the objetive function f1\n     IloLinearNumExpr firstPart = cplex.linearNumExpr();\n     int aSum = 0;\n     for (int k = 0; k &lt; inst.n + inst.m; k++) {\n         firstPart.addTerm(1, c[k]);\n       aSum += -inst.a[k];\n     }\n     firstPart.setConstant(aSum);\n\n     \n     IloLinearNumExpr secondPart = cplex.linearNumExpr();\n     for (int k = 0; k &lt; inst.n + inst.m; k++) {\n         // This is the equivalent to z[k] = max(c[k] - d[k], 0)\n         cplex.addEq(z[k], cplex.max(0,  cplex.sum(c[k], -inst.d[k])));\n          secondPart.addTerm(inst.f[k], z[k]);\n\n     }\n\n\n     IloLinearNumExpr objective = cplex.linearNumExpr();        \n     objective.add(firstPart);\n     objective.add(secondPart);\n\n \n     \n     // create the objetive function f2\n        IloLinearNumExpr secobj = cplex.linearNumExpr();       \n     for (int tt = 0; tt &lt; inst.T; tt++) {\n        for (int k = 0; k &lt; inst.q; k++) {\n                for (int j = 0; j &lt; inst.B; j++) {\n\n         secobj.addTerm(1, C[j][k]);\n       \n     }}}\n     \n\n      IloCplex.staticLex(objective, secobj );  \n</code></pre>\n<p>I'm getting the following error: the method staticLex(IloNumExpr, String) in the type IloCplex is not applicable for the arguments (IloLinearNumExpr, IloLinearNumExpr).\nDoes anyone know how I can solve this problem? Many thanks.</p>\n"},{"tags":["java","postgresql","jdbc","keycloak","aws-secrets-manager"],"owner":{"account_id":6441761,"reputation":147,"user_id":4991573,"display_name":"tech_geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675969740,"creation_date":1675965647,"question_id":75402639,"body_markdown":"Hoping some one can point me in the right direction.\r\nTrying to get away from hardcoded passwd for postgres in the config file for keycloak 19. I dont want to make changes code nor write a custom class based on sdk aws provides, if possible ; keycloak 19.x and using legacy/wildfly\r\n\r\nwhat is needed here in the code below\r\n\r\n\r\n &lt;datasources&gt;\r\n\r\n&lt;datasource jndi-name=&quot;java:jboss/datasources/KeycloakDS&quot; pool-name=&quot;KeycloakDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n &lt;connection-url&gt;jdbc-secretsmanager:postgresql://somename.rds.amazonaws.com:5432/keycloak?ssl=true;sslfactory=org.postgresql.ssl.NonValidatingFactory&lt;/connection-url&gt;\r\n\r\n                                        &lt;driver&gt;awspostgresql&lt;/driver&gt;\r\n                                        &lt;pool&gt;\r\n                                                &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\r\n                                        &lt;/pool&gt;\r\n                                        &lt;security&gt;\r\n                                                &lt;user-name&gt;_aws_secret_name&lt;/user-name&gt;\r\n                                        &lt;/security&gt;\r\n                               &lt;/datasource&gt;\r\n\r\n                &lt;drivers&gt;\r\n                        &lt;driver name=&quot;awspostgresql&quot; module=&quot;com.amazonaws&quot;&gt;\r\n                        &lt;driver-class&gt;com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver&lt;/driver-class&gt;\r\n                                        &lt;/driver&gt;\r\n                &lt;/drivers&gt;\r\n            &lt;/datasources&gt;\r\n===\r\n\r\nAfter satisfying all dependencies/jars, it throws error \r\n\r\n\r\n~~~~~~\r\n===\r\nJakarta Enterprise Beans subsystem suspension complete\r\n,522 WARN  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0003: Unable to instantiate driver class &quot;com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver&quot;: java.lang.IllegalStateException: Could not load real driver with name, &quot;org.postgresql.Driver&quot;.\r\n\r\nfollowed by\r\n\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.jdbc-driver.postgresql&quot;],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;org.wildfly.data-source.KeycloakDS is missing [jboss.jdbc-driver.postgresql]&quot;,\r\n        &quot;jboss.driver-demander.java:jboss/datasources/KeycloakDS is missing [jboss.jdbc-driver.postgresql]&quot;\r\n====    ]\r\n\r\n~~~~~~\r\n\r\nWhat or how is this supposed to be configured? Appreciate any pointers. Thanks \r\n","title":"keycloak , aws secrets manager and postgres","body":"<p>Hoping some one can point me in the right direction.\nTrying to get away from hardcoded passwd for postgres in the config file for keycloak 19. I dont want to make changes code nor write a custom class based on sdk aws provides, if possible ; keycloak 19.x and using legacy/wildfly</p>\n<p>what is needed here in the code below</p>\n \n\n jdbc-secretsmanager:postgresql://somename.rds.amazonaws.com:5432/keycloak?ssl=true;sslfactory=org.postgresql.ssl.NonValidatingFactory\n<pre><code>                                    &lt;driver&gt;awspostgresql&lt;/driver&gt;\n                                    &lt;pool&gt;\n                                            &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\n                                    &lt;/pool&gt;\n                                    &lt;security&gt;\n                                            &lt;user-name&gt;_aws_secret_name&lt;/user-name&gt;\n                                    &lt;/security&gt;\n                           &lt;/datasource&gt;\n\n            &lt;drivers&gt;\n                    &lt;driver name=&quot;awspostgresql&quot; module=&quot;com.amazonaws&quot;&gt;\n                    &lt;driver-class&gt;com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver&lt;/driver-class&gt;\n                                    &lt;/driver&gt;\n            &lt;/drivers&gt;\n        &lt;/datasources&gt;\n</code></pre>\n<p>===</p>\n<p>After satisfying all dependencies/jars, it throws error</p>\n<pre><code>===\nJakarta Enterprise Beans subsystem suspension complete\n,522 WARN  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0003: Unable to instantiate driver class &quot;com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver&quot;: java.lang.IllegalStateException: Could not load real driver with name, &quot;org.postgresql.Driver&quot;.\n\nfollowed by\n\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.jdbc-driver.postgresql&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;org.wildfly.data-source.KeycloakDS is missing [jboss.jdbc-driver.postgresql]&quot;,\n        &quot;jboss.driver-demander.java:jboss/datasources/KeycloakDS is missing [jboss.jdbc-driver.postgresql]&quot;\n====    ]\n\n</code></pre>\n<p>What or how is this supposed to be configured? Appreciate any pointers. Thanks</p>\n"},{"tags":["java","validation","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1675994938,"post_id":75403247,"comment_id":133052667,"body_markdown":"you cant, routers are considered more low level. You either take the annotation way or the non annotation way","body":"you cant, routers are considered more low level. You either take the annotation way or the non annotation way"}],"owner":{"account_id":25326567,"reputation":69,"user_id":19147117,"display_name":"h1alexbel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675969263,"creation_date":1675969217,"question_id":75403247,"body_markdown":"I like using Spring WebFlux and Project Reactor itself. Mostly because it is pretty declarative and immutable. But how I can perform validation(@Validated) in the same declarative way using Routers instead of Controllers?\r\n\r\n```\r\n@Bean\r\n  public RouterFunction&lt;ServerResponse&gt; user() {\r\n    return RouterFunctions.route()\r\n      .GET(&quot;/api/v1/users/{id}&quot;,\r\n        req -&gt;\r\n          ServerResponse.ok().body(\r\n            this.users.findById(req.pathVariable(&quot;id&quot;)), User.class\r\n          )\r\n      ).build();\r\n  }\r\n```","title":"Is there a way to perform declarative validation using Routers in Spring WebFlux?","body":"<p>I like using Spring WebFlux and Project Reactor itself. Mostly because it is pretty declarative and immutable. But how I can perform validation(@Validated) in the same declarative way using Routers instead of Controllers?</p>\n<pre><code>@Bean\n  public RouterFunction&lt;ServerResponse&gt; user() {\n    return RouterFunctions.route()\n      .GET(&quot;/api/v1/users/{id}&quot;,\n        req -&gt;\n          ServerResponse.ok().body(\n            this.users.findById(req.pathVariable(&quot;id&quot;)), User.class\n          )\n      ).build();\n  }\n</code></pre>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":468289,"reputation":178176,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":1,"creation_date":1675969445,"post_id":36785425,"comment_id":133047478,"body_markdown":"The OP posted but then deleted an answer suggesting that poi 1.14 and xmlbean2.0 jar got it working for them. This could be untrue, of course; we can&#39;t know why they deleted it.","body":"The OP posted but then deleted an answer suggesting that poi 1.14 and xmlbean2.0 jar got it working for them. This could be untrue, of course; we can&#39;t know why they deleted it."}],"owner":{"account_id":8201327,"reputation":289,"user_id":6172595,"display_name":"Amit Rai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13196,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1675969218,"creation_date":1461302387,"question_id":36785425,"body_markdown":"Here is my piece of code for reading file in `xlsx` and `xls` format \r\n\r\n\tFile customerTemplateFileObj = new File(customerTemplateFullPath);\r\n    InputStream inputStream = new FileInputStream(customerTemplateFileObj);\r\n      \r\n    Workbook myWorkBook = null;\r\n    try {\r\n    \r\n    \t***myWorkBook = WorkbookFactory.create(inputStream);***\r\n    } \r\n    catch (Exception e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    }\r\n    \r\n    int totalSheets = myWorkBook.getNumberOfSheets();\r\n\r\nMy code is working fine for `xls` format but for `xlsx` its stop at \r\n\r\n    myWorkBook = WorkbookFactory.create(inputStream);\r\n\r\nwithout any Exception.\r\n","title":"WorkbookFactory.create(inputStream)","body":"<p>Here is my piece of code for reading file in <code>xlsx</code> and <code>xls</code> format </p>\n\n<pre><code>File customerTemplateFileObj = new File(customerTemplateFullPath);\nInputStream inputStream = new FileInputStream(customerTemplateFileObj);\n\nWorkbook myWorkBook = null;\ntry {\n\n    ***myWorkBook = WorkbookFactory.create(inputStream);***\n} \ncatch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n\nint totalSheets = myWorkBook.getNumberOfSheets();\n</code></pre>\n\n<p>My code is working fine for <code>xls</code> format but for <code>xlsx</code> its stop at </p>\n\n<pre><code>myWorkBook = WorkbookFactory.create(inputStream);\n</code></pre>\n\n<p>without any Exception.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1675969028,"post_id":75403152,"comment_id":133047362,"body_markdown":"I think PreDestroy will be automatically called even if you shut down windows..","body":"I think PreDestroy will be automatically called even if you shut down windows.."},{"owner":{"account_id":27747279,"reputation":1,"user_id":21182498,"display_name":"rastorguev.i.a"},"score":0,"creation_date":1675969433,"post_id":75403152,"comment_id":133047476,"body_markdown":"I run the application from the command line, press shutdown computer and no query that should be executed in the method marked with @PreDestroy is executed. But if I try to terminate the app with ctrl+c everything works","body":"I run the application from the command line, press shutdown computer and no query that should be executed in the method marked with @PreDestroy is executed. But if I try to terminate the app with ctrl+c everything works"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1675969969,"post_id":75403152,"comment_id":133047652,"body_markdown":"Did you run with javaw.exe ?","body":"Did you run with javaw.exe ?"},{"owner":{"account_id":27747279,"reputation":1,"user_id":21182498,"display_name":"rastorguev.i.a"},"score":0,"creation_date":1676013279,"post_id":75403152,"comment_id":133055137,"body_markdown":"no, just in console","body":"no, just in console"},{"owner":{"account_id":27747279,"reputation":1,"user_id":21182498,"display_name":"rastorguev.i.a"},"score":0,"creation_date":1676015851,"post_id":75403152,"comment_id":133055693,"body_markdown":"i tried to wrap it in exe with launch4j, but the result didn&#39;t change - @PreDestroy didnt work","body":"i tried to wrap it in exe with launch4j, but the result didn&#39;t change - @PreDestroy didnt work"}],"owner":{"account_id":27747279,"reputation":1,"user_id":21182498,"display_name":"rastorguev.i.a"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675969019,"creation_date":1675968607,"question_id":75403152,"body_markdown":"I run the application from the command line and I need the method to be executed and send a post request when Windows shuts down\r\n\r\n@PreDestroy - It only works if I end the application manually. Is it possible to somehow call the method in the code when windows shuts down?\r\n\r\n\r\nI already tried to prescribe in the configuration server.shutdown: graceful\r\n\r\nOr maybe there is another way to call the method before Windows shuts down?","title":"Java Spring How to invoke @PreDestroy when windows shuts down?","body":"<p>I run the application from the command line and I need the method to be executed and send a post request when Windows shuts down</p>\n<p>@PreDestroy - It only works if I end the application manually. Is it possible to somehow call the method in the code when windows shuts down?</p>\n<p>I already tried to prescribe in the configuration server.shutdown: graceful</p>\n<p>Or maybe there is another way to call the method before Windows shuts down?</p>\n"},{"tags":["java","testing","junit"],"owner":{"account_id":7738097,"reputation":336,"user_id":5858995,"display_name":"Dzeri96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675968602,"creation_date":1675862095,"question_id":75386350,"body_markdown":"After spending some time away from java, where I used python&#39;s great [pytest](https://docs.pytest.org) framework, I got used to the functionality of setting up and tearing down test environments via chains (or rather graphs) of fixtures.\r\n\r\nFor those unfamiliar, a typical use case would be a base fixture that creates a self-reverting database transaction, then inheriting that fixture to insert some test data, and so on.\r\nOne would then require one or more fixtures on a per-test basis. This allows for a very concise setup of test environments, as opposed to `setUp` and `tearDown` methods found in most testing frameworks.\r\n\r\nComing back to java, I&#39;m not sure how something like this can be implemented in JUnit for example, or if an analogous framework exists.","title":"Pytest-style fixture dependencies in Java","body":"<p>After spending some time away from java, where I used python's great <a href=\"https://docs.pytest.org\" rel=\"nofollow noreferrer\">pytest</a> framework, I got used to the functionality of setting up and tearing down test environments via chains (or rather graphs) of fixtures.</p>\n<p>For those unfamiliar, a typical use case would be a base fixture that creates a self-reverting database transaction, then inheriting that fixture to insert some test data, and so on.\nOne would then require one or more fixtures on a per-test basis. This allows for a very concise setup of test environments, as opposed to <code>setUp</code> and <code>tearDown</code> methods found in most testing frameworks.</p>\n<p>Coming back to java, I'm not sure how something like this can be implemented in JUnit for example, or if an analogous framework exists.</p>\n"},{"tags":["java","do-while","inputmismatchexception"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1675966318,"post_id":75402617,"comment_id":133046497,"body_markdown":"What was the value you provided? Since you are using `next(pattern)` are you sure it matches `String pattern = &quot;^[a-zA-Z](\\\\s?[a-zA-Z]){2,29}$&quot;;`?","body":"What was the value you provided? Since you are using <code>next(pattern)</code> are you sure it matches <code>String pattern = &quot;^[a-zA-Z](\\\\s?[a-zA-Z]){2,29}$&quot;;</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1675966548,"post_id":75402617,"comment_id":133046574,"body_markdown":"Also note that `next` can only read values until *delimiter* of Scanner, which by default is set to *one or more whitespace*. This is why `next` can (by default) only return single words which don&#39;t contain whitespaces, so pattern which matches those words will never match `\\\\s`.","body":"Also note that <code>next</code> can only read values until <i>delimiter</i> of Scanner, which by default is set to <i>one or more whitespace</i>. This is why <code>next</code> can (by default) only return single words which don&#39;t contain whitespaces, so pattern which matches those words will never match <code>\\\\s</code>."},{"owner":{"account_id":2788377,"reputation":1,"user_id":2399174,"display_name":"donkey_junior"},"score":0,"creation_date":1675966567,"post_id":75402617,"comment_id":133046582,"body_markdown":"Yes, following same criteria. Here is example of what happens...  Please type your surname...\nSmith\nPlease type your age...\n22\nPlease type your motor type i.e. CAR, TAXI or BUS...\ncar\n\nSMITH, 22, CAR, SMI20231\n\nSurname      :SMITH\nAge          :22\nPolicy Ref   :SMI20231\nMotor Type:  :CAR\n\nAdd another Policy Holder (Y or N)..\ny\nPlease type your surname...\njones\nThere is a problem ... Policy Holder does meet necessary criteria, run the program again.\nProgram ended!","body":"Yes, following same criteria. Here is example of what happens...  Please type your surname... Smith Please type your age... 22 Please type your motor type i.e. CAR, TAXI or BUS... car  SMITH, 22, CAR, SMI20231  Surname      :SMITH Age          :22 Policy Ref   :SMI20231 Motor Type:  :CAR  Add another Policy Holder (Y or N).. y Please type your surname... jones There is a problem ... Policy Holder does meet necessary criteria, run the program again. Program ended!"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1675966728,"post_id":75402617,"comment_id":133046621,"body_markdown":"Please use [edit] option and add that to your question instead of comment (lets not force other people who may want to help you to look for necessary information all over the comments section).","body":"Please use <a href=\"https://stackoverflow.com/posts/75402617/edit\">edit</a> option and add that to your question instead of comment (lets not force other people who may want to help you to look for necessary information all over the comments section)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1675967722,"post_id":75402617,"comment_id":133046975,"body_markdown":"&quot;*..I try to run the program again using a do while loop but receive an inputmismatchexception after typing surname.*&quot; your console example doesn&#39;t let us see that problem. To get better help please consider reducing your example to [SSCCE](http://sscce.org) (a.k.a. [MCVE]) - in other words get rid of things which are not related to problem you are showing (this will also help you to narrow its cause which may lead you to solving it yourself). Also make it runnable/debuggable for us - maybe add to it `main` method which we could run and get exact error you are facing.","body":"&quot;<i>..I try to run the program again using a do while loop but receive an inputmismatchexception after typing surname.</i>&quot; your console example doesn&#39;t let us see that problem. To get better help please consider reducing your example to <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a> (a.k.a. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) - in other words get rid of things which are not related to problem you are showing (this will also help you to narrow its cause which may lead you to solving it yourself). Also make it runnable/debuggable for us - maybe add to it <code>main</code> method which we could run and get exact error you are facing."},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":0,"creation_date":1675969335,"post_id":75402617,"comment_id":133047439,"body_markdown":"I half-suspect I know where the problem lies. Does it work after changing the line `addAnother = scanner.next();` to `addAnother = scanner.nextLine();`?","body":"I half-suspect I know where the problem lies. Does it work after changing the line <code>addAnother = scanner.next();</code> to <code>addAnother = scanner.nextLine();</code>?"},{"owner":{"account_id":2788377,"reputation":1,"user_id":2399174,"display_name":"donkey_junior"},"score":0,"creation_date":1675969708,"post_id":75402617,"comment_id":133047567,"body_markdown":"no, it ignores the do while loop and instead goes to finally &quot;Program ended!&quot;","body":"no, it ignores the do while loop and instead goes to finally &quot;Program ended!&quot;"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1675969862,"post_id":75402617,"comment_id":133047626,"body_markdown":"Off-Topic:  One poor practice in your code is printing a generic message when an exception is thrown:  `(Exception exception) { System.out.println(\n&quot;There is a problem ... Policy Holder does meet necessary criteria, run the program again.&quot;);`. In debugging, it  helps to display the actual `exception.toString`.","body":"Off-Topic:  One poor practice in your code is printing a generic message when an exception is thrown:  <code>(Exception exception) { System.out.println( &quot;There is a problem ... Policy Holder does meet necessary criteria, run the program again.&quot;);</code>. In debugging, it  helps to display the actual <code>exception.toString</code>."},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":1,"creation_date":1675970512,"post_id":75402617,"comment_id":133047806,"body_markdown":"Also, another good practice is to not depend on the exception throwing behavior of Scanner, and instead use the `hasNext...` methods (e.g., `hasNext`, `hasNextInt`, etc.) which you can use in if statements to determine if the next input meets the criteria.","body":"Also, another good practice is to not depend on the exception throwing behavior of Scanner, and instead use the <code>hasNext...</code> methods (e.g., <code>hasNext</code>, <code>hasNextInt</code>, etc.) which you can use in if statements to determine if the next input meets the criteria."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1675970518,"post_id":75402617,"comment_id":133047810,"body_markdown":"Remove `^` from your regex, as it indicates *start of data* which for first surname is valid (as it is provided at beginning of input stream) but after that `^` will *prevent* pattern from matching other surnames since they are no longer at &quot;*start of stream*&quot;. You can also remove `$` and `\\s` since it doesn&#39;t add anything here. In other words you can reduce your `pattern` to `private String pattern = &quot;[a-zA-Z][a-zA-Z]{2,29}&quot;;`","body":"Remove <code>^</code> from your regex, as it indicates <i>start of data</i> which for first surname is valid (as it is provided at beginning of input stream) but after that <code>^</code> will <i>prevent</i> pattern from matching other surnames since they are no longer at &quot;<i>start of stream</i>&quot;. You can also remove <code>$</code> and <code>\\s</code> since it doesn&#39;t add anything here. In other words you can reduce your <code>pattern</code> to <code>private String pattern = &quot;[a-zA-Z][a-zA-Z]{2,29}&quot;;</code>"},{"owner":{"account_id":2788377,"reputation":1,"user_id":2399174,"display_name":"donkey_junior"},"score":0,"creation_date":1675970831,"post_id":75402617,"comment_id":133047909,"body_markdown":"Thanks everyone for your help. Thank you Pshemo for identifying the problem. Much appreciated.","body":"Thanks everyone for your help. Thank you Pshemo for identifying the problem. Much appreciated."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1675971197,"post_id":75402617,"comment_id":133047989,"body_markdown":"You are welcome. BTW `private String pattern = &quot;[a-zA-Z][a-zA-Z]{2,29}&quot;;` can be farther simplified to `private String pattern = &quot;[a-zA-Z]{3,30}&quot;;`","body":"You are welcome. BTW <code>private String pattern = &quot;[a-zA-Z][a-zA-Z]{2,29}&quot;;</code> can be farther simplified to <code>private String pattern = &quot;[a-zA-Z]{3,30}&quot;;</code>"}],"owner":{"account_id":2788377,"reputation":1,"user_id":2399174,"display_name":"donkey_junior"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675968540,"creation_date":1675965490,"question_id":75402617,"body_markdown":"Having successfully created a policy holder and writing the information to csv I try to run the program again using a do while loop but receive an inputmismatchexception after typing surname.\r\n\r\nCan someone point me in the right direction or advise what I am doing wrong with this piece of code?\r\n\r\nHere is example of what happens...\r\n[console][1]\r\n\r\n\r\n```\r\n/**\r\n * \r\n */\r\npackage InsurancePolicySystem;\r\n\r\nimport java.io.BufferedWriter;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Collectors;\r\n\r\n/**\r\n * @author\r\n *\r\n */\r\npublic class InsurancePolicy {\r\n\r\n\t// create variables\r\n\tprivate String surname;\r\n\tprivate int age;\r\n\tprivate String motorType;\r\n\tprivate String motorPolicyId;\r\n\tprivate String addAnother;\r\n\tprivate String pattern = &quot;^[a-zA-Z](\\\\s?[a-zA-Z]){2,29}$&quot;;\r\n\r\n\t// import scanner for user input\r\n\tScanner scanner = new Scanner(System.in);\r\n\r\n\t// time stamp number. -1 used on month as time stamp displays next year instead\r\n\t// of current year\r\n\tint year = Calendar.getInstance().get(Calendar.YEAR);\r\n\tint month = Calendar.getInstance().get(Calendar.MONTH) - 1;\r\n\r\n\t// sum of the year and month\r\n\tint timeStamp = year + month;\r\n\r\n\t/**\r\n\t * default constructor\r\n\t */\r\n\tpublic InsurancePolicy() {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * non default constructor\r\n\t * \r\n\t * @param surname\r\n\t * @param age\r\n\t * @param motorType\r\n\t * @param motorPolicyId\r\n\t */\r\n\tpublic InsurancePolicy(String surname, int age, String motorType, String motorPolicyId) {\r\n\t\tthis.surname = surname;\r\n\t\tthis.age = age;\r\n\t\tthis.motorType = motorType;\r\n\t\tthis.motorPolicyId = motorPolicyId;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic String getSurname() {\r\n\t\treturn surname;\r\n\t}\r\n\r\n\t/**\r\n\t * Surname should be more than 3 letters and not greater than 20. Anything more\r\n\t * will cause a not valid error!\r\n\t * \r\n\t * @param surname\r\n\t * @throws IllegalArgumentException\r\n\t */\r\n\tpublic void setSurname(String surname) throws IllegalArgumentException {\r\n\t\tthis.surname = surname;\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\t/**\r\n\t * Age must be between 18 &amp; 50 Any other age will produce not eligible error!\r\n\t * \r\n\t * @param age\r\n\t * @throws IllegalArgumentException\r\n\t */\r\n\tpublic void setAge(int age) throws IllegalArgumentException {\r\n\t\tif ((age &gt;= 18) &amp;&amp; (age &lt;= 50)) {\r\n\t\t\tthis.age = age;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Not eligible for an insurance policy!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic String getMotorType() {\r\n\t\treturn motorType;\r\n\t}\r\n\r\n\t/**\r\n\t * motor type should only be either CAR, TAXI or BUS. if statement to prevent\r\n\t * other vehicle types and throw error if user inputs a different vehicle.\r\n\t * \r\n\t * @param motorType\r\n\t * @throws IllegalArgumentException\r\n\t */\r\n\tpublic void setMotorType(String motorType) throws IllegalArgumentException {\r\n\t\tif (motorType.equals(&quot;CAR&quot;) || motorType.equals(&quot;TAXI&quot;) || motorType.equals(&quot;BUS&quot;)) {\r\n\t\t\tthis.motorType = motorType;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Not eligible for an insurance policy!&quot;);\r\n\t\t}\r\n\t\tthis.motorType = motorType;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic String getMotorPolicyId() {\r\n\t\treturn motorPolicyId;\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @param motorPolicyId\r\n\t */\r\n\tpublic void setMotorPolicyId(String motorPolicyId) {\r\n\t\tthis.motorPolicyId = motorPolicyId;\r\n\t}\r\n\r\n\t/**\r\n\t * Method to write policy holder particulars to a csv file. Creates ArrayList\r\n\t * and uses collect joining to add comma for file.\r\n\t * \r\n\t * @throws IOException\r\n\t */\r\n\tpublic void writeToFile() throws IOException {\r\n\t\tBufferedWriter writer = new BufferedWriter(\r\n\t\t\t\tnew FileWriter(&quot;/Users/johnj/eclipse-workspace/InsuranceProject/insurance.csv&quot;, true));\r\n\r\n\t\t// creates policy holder (insurance) array\r\n\t\tArrayList&lt;String&gt; insurance = new ArrayList&lt;String&gt;();\r\n\t\tinsurance.add(surname);\r\n\t\tinsurance.add(Integer.toString(age));\r\n\t\tinsurance.add(motorType);\r\n\t\tinsurance.add(motorPolicyId);\r\n\r\n\t\t// write array to csv file\r\n\t\tString collect = insurance.stream().collect(Collectors.joining(&quot;, &quot;));\r\n\t\tSystem.out.println(collect);\r\n\t\twriter.write(collect);\r\n\t\twriter.newLine();\r\n\t\twriter.flush();\r\n\t\twriter.close();\r\n\t}\r\n\r\n\t/**\r\n\t * Builds and generates user input. Will then add it into an array list and\r\n\t * append to writeToFile(). Included do while loop for user to continue creating\r\n\t * policy profiles without having to re run program.\r\n\t * \r\n\t * @param motorType\r\n\t */\r\n\tpublic void addPolicyHolder() throws IOException {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\t// enter policy holder surname. Checks pattern to ensure compliance\r\n\t\t\t\tSystem.out.println(&quot;Please type your surname...&quot;);\r\n\t\t\t\tsurname = scanner.next(pattern).toUpperCase().trim();\r\n\t\t\t\tsetSurname(this.surname);\r\n\r\n\t\t\t\t// user input age\r\n\t\t\t\tSystem.out.println(&quot;Please type your age...&quot;);\r\n\t\t\t\tage = scanner.nextInt();\r\n\t\t\t\tsetAge(this.age);\r\n\r\n\t\t\t\t// user input motor type which is converted to upper case\r\n\t\t\t\tSystem.out.println(&quot;Please type your motor type i.e. CAR, TAXI or BUS...&quot;);\r\n\t\t\t\tmotorType = scanner.next().toUpperCase().trim();\r\n\t\t\t\tsetMotorType(this.motorType);\r\n\r\n\t\t\t\tSystem.out.println(); // used to create next line space\r\n\r\n\t\t\t\t// Motor Policy Id should be 3 characters from surname as well as time stamp. If\r\n\t\t\t\t// time stamp odd number add 1 or else add 0 if even.\r\n\t\t\t\tmotorPolicyId = surname.substring(0, 3) + timeStamp;\r\n\t\t\t\tif (timeStamp % 2 == 0) {\r\n\t\t\t\t\tmotorPolicyId = this.motorPolicyId + 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmotorPolicyId = this.motorPolicyId + 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// creates csv file\r\n\t\t\t\twriteToFile();\r\n\r\n\t\t\t\t// prints completed user input of policy holder\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.println(&quot;Surname      :&quot; + this.surname);\r\n\t\t\t\tSystem.out.println(&quot;Age          :&quot; + this.age);\r\n\t\t\t\tSystem.out.println(&quot;Policy Ref   :&quot; + this.motorPolicyId);\r\n\t\t\t\tSystem.out.println(&quot;Motor Type:  :&quot; + this.motorType);\r\n\r\n\t\t\t\tSystem.out.println(); // used to create next line space\r\n\r\n\t\t\t\t// asks user if they would like to create a different policy holder\r\n\t\t\t\tSystem.out.println(&quot;Add another Policy Holder (Y or N)..&quot;);\r\n\t\t\t\taddAnother = scanner.next();\r\n\t\t\t} while (addAnother.equalsIgnoreCase(&quot;Y&quot;)); // If N program ends.\r\n\t\t} catch (Exception exception) { // if exception program ends\r\n\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;There is a problem ... Policy Holder does meet necessary criteria, run the program again.&quot;);\r\n\t\t} finally {\r\n\t\t\tscanner.close();\r\n\t\t\tSystem.out.println(&quot;Program ended!&quot;); // end of program\r\n\t\t}\r\n\r\n\t}\r\n\r\npublic static void main(String[] args) throws IOException {\r\n\r\n\t\tInsurancePolicy insurancePolicy = new InsurancePolicy();\r\n\t\tinsurancePolicy.addPolicyHolder();\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI am able to complete a first run but do while loop fails when trying to add another policy holder.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WxJlA.jpg","title":"InputMismatchException when attempting to run program again in do while loop","body":"<p>Having successfully created a policy holder and writing the information to csv I try to run the program again using a do while loop but receive an inputmismatchexception after typing surname.</p>\n<p>Can someone point me in the right direction or advise what I am doing wrong with this piece of code?</p>\n<p>Here is example of what happens...\n<a href=\"https://i.stack.imgur.com/WxJlA.jpg\" rel=\"nofollow noreferrer\">console</a></p>\n<pre><code>/**\n * \n */\npackage InsurancePolicySystem;\n\nimport java.io.BufferedWriter;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\n\n/**\n * @author\n *\n */\npublic class InsurancePolicy {\n\n    // create variables\n    private String surname;\n    private int age;\n    private String motorType;\n    private String motorPolicyId;\n    private String addAnother;\n    private String pattern = &quot;^[a-zA-Z](\\\\s?[a-zA-Z]){2,29}$&quot;;\n\n    // import scanner for user input\n    Scanner scanner = new Scanner(System.in);\n\n    // time stamp number. -1 used on month as time stamp displays next year instead\n    // of current year\n    int year = Calendar.getInstance().get(Calendar.YEAR);\n    int month = Calendar.getInstance().get(Calendar.MONTH) - 1;\n\n    // sum of the year and month\n    int timeStamp = year + month;\n\n    /**\n     * default constructor\n     */\n    public InsurancePolicy() {\n\n    }\n\n    /**\n     * non default constructor\n     * \n     * @param surname\n     * @param age\n     * @param motorType\n     * @param motorPolicyId\n     */\n    public InsurancePolicy(String surname, int age, String motorType, String motorPolicyId) {\n        this.surname = surname;\n        this.age = age;\n        this.motorType = motorType;\n        this.motorPolicyId = motorPolicyId;\n\n    }\n\n    /**\n     * \n     * @return\n     */\n    public String getSurname() {\n        return surname;\n    }\n\n    /**\n     * Surname should be more than 3 letters and not greater than 20. Anything more\n     * will cause a not valid error!\n     * \n     * @param surname\n     * @throws IllegalArgumentException\n     */\n    public void setSurname(String surname) throws IllegalArgumentException {\n        this.surname = surname;\n    }\n\n    /**\n     * \n     * @return\n     */\n    public int getAge() {\n        return age;\n    }\n\n    /**\n     * Age must be between 18 &amp; 50 Any other age will produce not eligible error!\n     * \n     * @param age\n     * @throws IllegalArgumentException\n     */\n    public void setAge(int age) throws IllegalArgumentException {\n        if ((age &gt;= 18) &amp;&amp; (age &lt;= 50)) {\n            this.age = age;\n        } else {\n            throw new IllegalArgumentException(&quot;Not eligible for an insurance policy!&quot;);\n        }\n    }\n\n    /**\n     * \n     * @return\n     */\n    public String getMotorType() {\n        return motorType;\n    }\n\n    /**\n     * motor type should only be either CAR, TAXI or BUS. if statement to prevent\n     * other vehicle types and throw error if user inputs a different vehicle.\n     * \n     * @param motorType\n     * @throws IllegalArgumentException\n     */\n    public void setMotorType(String motorType) throws IllegalArgumentException {\n        if (motorType.equals(&quot;CAR&quot;) || motorType.equals(&quot;TAXI&quot;) || motorType.equals(&quot;BUS&quot;)) {\n            this.motorType = motorType;\n        } else {\n            throw new IllegalArgumentException(&quot;Not eligible for an insurance policy!&quot;);\n        }\n        this.motorType = motorType;\n\n    }\n\n    /**\n     * \n     * @return\n     */\n    public String getMotorPolicyId() {\n        return motorPolicyId;\n    }\n\n    /**\n     * \n     * @param motorPolicyId\n     */\n    public void setMotorPolicyId(String motorPolicyId) {\n        this.motorPolicyId = motorPolicyId;\n    }\n\n    /**\n     * Method to write policy holder particulars to a csv file. Creates ArrayList\n     * and uses collect joining to add comma for file.\n     * \n     * @throws IOException\n     */\n    public void writeToFile() throws IOException {\n        BufferedWriter writer = new BufferedWriter(\n                new FileWriter(&quot;/Users/johnj/eclipse-workspace/InsuranceProject/insurance.csv&quot;, true));\n\n        // creates policy holder (insurance) array\n        ArrayList&lt;String&gt; insurance = new ArrayList&lt;String&gt;();\n        insurance.add(surname);\n        insurance.add(Integer.toString(age));\n        insurance.add(motorType);\n        insurance.add(motorPolicyId);\n\n        // write array to csv file\n        String collect = insurance.stream().collect(Collectors.joining(&quot;, &quot;));\n        System.out.println(collect);\n        writer.write(collect);\n        writer.newLine();\n        writer.flush();\n        writer.close();\n    }\n\n    /**\n     * Builds and generates user input. Will then add it into an array list and\n     * append to writeToFile(). Included do while loop for user to continue creating\n     * policy profiles without having to re run program.\n     * \n     * @param motorType\n     */\n    public void addPolicyHolder() throws IOException {\n\n        try {\n\n            do {\n\n                // enter policy holder surname. Checks pattern to ensure compliance\n                System.out.println(&quot;Please type your surname...&quot;);\n                surname = scanner.next(pattern).toUpperCase().trim();\n                setSurname(this.surname);\n\n                // user input age\n                System.out.println(&quot;Please type your age...&quot;);\n                age = scanner.nextInt();\n                setAge(this.age);\n\n                // user input motor type which is converted to upper case\n                System.out.println(&quot;Please type your motor type i.e. CAR, TAXI or BUS...&quot;);\n                motorType = scanner.next().toUpperCase().trim();\n                setMotorType(this.motorType);\n\n                System.out.println(); // used to create next line space\n\n                // Motor Policy Id should be 3 characters from surname as well as time stamp. If\n                // time stamp odd number add 1 or else add 0 if even.\n                motorPolicyId = surname.substring(0, 3) + timeStamp;\n                if (timeStamp % 2 == 0) {\n                    motorPolicyId = this.motorPolicyId + 0;\n                } else {\n                    motorPolicyId = this.motorPolicyId + 1;\n                }\n\n                // creates csv file\n                writeToFile();\n\n                // prints completed user input of policy holder\n                System.out.println();\n                System.out.println(&quot;Surname      :&quot; + this.surname);\n                System.out.println(&quot;Age          :&quot; + this.age);\n                System.out.println(&quot;Policy Ref   :&quot; + this.motorPolicyId);\n                System.out.println(&quot;Motor Type:  :&quot; + this.motorType);\n\n                System.out.println(); // used to create next line space\n\n                // asks user if they would like to create a different policy holder\n                System.out.println(&quot;Add another Policy Holder (Y or N)..&quot;);\n                addAnother = scanner.next();\n            } while (addAnother.equalsIgnoreCase(&quot;Y&quot;)); // If N program ends.\n        } catch (Exception exception) { // if exception program ends\n            System.out.println(\n                    &quot;There is a problem ... Policy Holder does meet necessary criteria, run the program again.&quot;);\n        } finally {\n            scanner.close();\n            System.out.println(&quot;Program ended!&quot;); // end of program\n        }\n\n    }\n\npublic static void main(String[] args) throws IOException {\n\n        InsurancePolicy insurancePolicy = new InsurancePolicy();\n        insurancePolicy.addPolicyHolder();\n\n    }\n\n}\n\n</code></pre>\n<p>I am able to complete a first run but do while loop fails when trying to add another policy holder.</p>\n"},{"tags":["java","linux","tomcat"],"owner":{"account_id":52885,"reputation":2853,"user_id":158069,"accept_rate":88,"display_name":"thepip3r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675968311,"creation_date":1675968001,"question_id":75403062,"body_markdown":"OS:  RHEL8\r\n\r\nServer:  Tomcat 9.0.71\r\n\r\nWe turned on JSM in tomcat (`catalina.sh run -security`) a few months ago and worked through the JSM policy in catalina.policy:\r\n\r\n    echo &quot;&quot; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n    echo &#39;// Add permissions for IdentityIq to the catalina.policy file&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n    echo &#39;grant codeBase &quot;file:${catalina.base}/webapps/identityiq/-&quot; {&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy    \r\n    echo &#39;     permission java.security.AllPermission;&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n    #echo &#39;     permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n    echo &#39;};&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n\r\n...however while we thought we&#39;d worked out all of the kinks, one of our app engineers brought to me today that they&#39;re getting java.security.AccessControlException &quot;read&quot; error for *new* files that are generated when the engineers attempt to perform an &quot;export&quot; operation.  These new export files *are* created under the applications web directory.\r\n\r\nThe commented line in the catalina.policy that you can see in the snippet (...java.util...) is the last attempt at updating the policy that did not resolve the issue.  And we tried that setting with &#39;java.util&#39; because we weren&#39;t sure if it&#39;s predecessor (the java.security.AllPermission) covered the &#39;java.util.&#39; namespace.\r\n\r\nDoes anyone know what policy item I need to modify that will allow newly generated files from getting this access denied error?\r\n\r\nEdit1:\r\n\r\nAlso tried:  permission java.io.FilePermission &quot;*&quot;,&quot;read,write,execute&quot;;\r\n\r\nEdit2:\r\n\r\nWe&#39;ve tested removing JSM and the entries in catalina.policy and the problem goes away so we&#39;re confident that with this and the provided exception message, that we&#39;re in the right area.","title":"Tomcat with JSM java.security.AccessControlException: Access denied on *new* files (created-exports)","body":"<p>OS:  RHEL8</p>\n<p>Server:  Tomcat 9.0.71</p>\n<p>We turned on JSM in tomcat (<code>catalina.sh run -security</code>) a few months ago and worked through the JSM policy in catalina.policy:</p>\n<pre><code>echo &quot;&quot; &gt;&gt; /opt/tomcat/conf/catalina.policy\necho '// Add permissions for IdentityIq to the catalina.policy file' &gt;&gt; /opt/tomcat/conf/catalina.policy\necho 'grant codeBase &quot;file:${catalina.base}/webapps/identityiq/-&quot; {' &gt;&gt; /opt/tomcat/conf/catalina.policy    \necho '     permission java.security.AllPermission;' &gt;&gt; /opt/tomcat/conf/catalina.policy\n#echo '     permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;' &gt;&gt; /opt/tomcat/conf/catalina.policy\necho '};' &gt;&gt; /opt/tomcat/conf/catalina.policy\n</code></pre>\n<p>...however while we thought we'd worked out all of the kinks, one of our app engineers brought to me today that they're getting java.security.AccessControlException &quot;read&quot; error for <em>new</em> files that are generated when the engineers attempt to perform an &quot;export&quot; operation.  These new export files <em>are</em> created under the applications web directory.</p>\n<p>The commented line in the catalina.policy that you can see in the snippet (...java.util...) is the last attempt at updating the policy that did not resolve the issue.  And we tried that setting with 'java.util' because we weren't sure if it's predecessor (the java.security.AllPermission) covered the 'java.util.' namespace.</p>\n<p>Does anyone know what policy item I need to modify that will allow newly generated files from getting this access denied error?</p>\n<p>Edit1:</p>\n<p>Also tried:  permission java.io.FilePermission &quot;*&quot;,&quot;read,write,execute&quot;;</p>\n<p>Edit2:</p>\n<p>We've tested removing JSM and the entries in catalina.policy and the problem goes away so we're confident that with this and the provided exception message, that we're in the right area.</p>\n"},{"tags":["java","bash","karate","intuit-partner-platform"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1675967989,"creation_date":1594803996,"answer_id":62911366,"question_id":62910721,"body_markdown":"Great timing. We very recently did some work for CLI testing which I am sure you can use effectively. Here is a thread on Twitter: https://twitter.com/maxandersen/status/1276431309276151814\r\n\r\nAnd we have just released version 0.9.6.RC4 and new we have a new `karate.fork()` option that returns an instance of `Command` on which you can call `exitCode`\r\n\r\nHere&#39;s an example:\r\n\r\n    * def proc = karate.fork(&#39;script.sh arg1&#39;)\r\n    * proc.waitSync()\r\n    * match proc.exitCode == 0\r\n\r\nYou can get more ideas here: https://github.com/intuit/karate/issues/1191#issuecomment-650087023\r\n\r\nNote that the argument to `karate.fork()` can take multiple forms. If you are using [`karate.exec()`](https://github.com/karatelabs/karate#karate-exec) (which will block until the process completes) the same arguments work.\r\n\r\n* string - full command line as seen above\r\n* string array - e.g. `[&#39;script.sh&#39;, &#39;arg1&#39;]`\r\n* json where the keys can be\r\n  * `line` - string (OR)\r\n  * `args` - string array\r\n  * `env` - optional environment properties (as JSON)\r\n  * `redirectErrorStream` - boolean, true by default which means Sys.err appears in Sys.out\r\n  * `workingDir` - working directory\r\n  * `useShell` - default false, auto-prepend `cmd /c` or `sh -c` depending on OS\r\n\r\nAnd since `karate.fork()` is async, you need to call `waitSync()` if needed as in the example above. \r\n\r\nDo provide feedback and we can tweak further if needed.\r\n\r\nEDIT: here&#39;s a very advanced example that shows how to listen to the process output / log, collect the log, and conditionally exit: [`fork-listener.feature`](https://github.com/intuit/karate/blob/f18042b08a685d010bf3c01d8b881472ee7949de/karate-core/src/test/java/com/intuit/karate/core/fork-listener.feature)\r\n\r\nAnother answer which can be a useful reference: https://stackoverflow.com/q/69832481/143475\r\n\r\nAnd here&#39;s how to use cURL for advanced HTTP tests ! https://stackoverflow.com/a/73230200/143475\r\n\r\nIn case you need to do a lot of local file manipulation, you can use the `karate.toJavaFile()` utility so you can convert a relative path or a [&quot;prefixed&quot; path](https://github.com/karatelabs/karate#path-prefixes) to an absolute path.\r\n\r\n    * def file = karate.toJavaFile(&#39;classpath:some/file.txt&#39;)\r\n    * def path = file.getPath()","title":"How to execute bash script using karate and fail if script fails","body":"<p>Great timing. We very recently did some work for CLI testing which I am sure you can use effectively. Here is a thread on Twitter: <a href=\"https://twitter.com/maxandersen/status/1276431309276151814\" rel=\"nofollow noreferrer\">https://twitter.com/maxandersen/status/1276431309276151814</a></p>\n<p>And we have just released version 0.9.6.RC4 and new we have a new <code>karate.fork()</code> option that returns an instance of <code>Command</code> on which you can call <code>exitCode</code></p>\n<p>Here's an example:</p>\n<pre><code>* def proc = karate.fork('script.sh arg1')\n* proc.waitSync()\n* match proc.exitCode == 0\n</code></pre>\n<p>You can get more ideas here: <a href=\"https://github.com/intuit/karate/issues/1191#issuecomment-650087023\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate/issues/1191#issuecomment-650087023</a></p>\n<p>Note that the argument to <code>karate.fork()</code> can take multiple forms. If you are using <a href=\"https://github.com/karatelabs/karate#karate-exec\" rel=\"nofollow noreferrer\"><code>karate.exec()</code></a> (which will block until the process completes) the same arguments work.</p>\n<ul>\n<li>string - full command line as seen above</li>\n<li>string array - e.g. <code>['script.sh', 'arg1']</code></li>\n<li>json where the keys can be\n<ul>\n<li><code>line</code> - string (OR)</li>\n<li><code>args</code> - string array</li>\n<li><code>env</code> - optional environment properties (as JSON)</li>\n<li><code>redirectErrorStream</code> - boolean, true by default which means Sys.err appears in Sys.out</li>\n<li><code>workingDir</code> - working directory</li>\n<li><code>useShell</code> - default false, auto-prepend <code>cmd /c</code> or <code>sh -c</code> depending on OS</li>\n</ul>\n</li>\n</ul>\n<p>And since <code>karate.fork()</code> is async, you need to call <code>waitSync()</code> if needed as in the example above.</p>\n<p>Do provide feedback and we can tweak further if needed.</p>\n<p>EDIT: here's a very advanced example that shows how to listen to the process output / log, collect the log, and conditionally exit: <a href=\"https://github.com/intuit/karate/blob/f18042b08a685d010bf3c01d8b881472ee7949de/karate-core/src/test/java/com/intuit/karate/core/fork-listener.feature\" rel=\"nofollow noreferrer\"><code>fork-listener.feature</code></a></p>\n<p>Another answer which can be a useful reference: <a href=\"https://stackoverflow.com/q/69832481/143475\">Conditional match based on OS</a></p>\n<p>And here's how to use cURL for advanced HTTP tests ! <a href=\"https://stackoverflow.com/a/73230200/143475\">https://stackoverflow.com/a/73230200/143475</a></p>\n<p>In case you need to do a lot of local file manipulation, you can use the <code>karate.toJavaFile()</code> utility so you can convert a relative path or a <a href=\"https://github.com/karatelabs/karate#path-prefixes\" rel=\"nofollow noreferrer\">&quot;prefixed&quot; path</a> to an absolute path.</p>\n<pre><code>* def file = karate.toJavaFile('classpath:some/file.txt')\n* def path = file.getPath()\n</code></pre>\n"}],"owner":{"account_id":9566508,"reputation":57,"user_id":7237258,"display_name":"Palo Lieskovsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5596,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62911366,"answer_count":1,"score":3,"last_activity_date":1675967989,"creation_date":1594801877,"question_id":62910721,"body_markdown":"I&#39;m trying to execute bash script using karate. I&#39;m able to execute the script from karate-config.js and also from .feature file. I&#39;m also able to pass the arguments to the script.\r\nThe problem is, that if the script fails (exits with something else than 0) the test execution continues and finishes as succesfull.\r\n\r\nI found out that when the script echo-es something then i can access it as a result of the script so I could possibly echo the exit value and do assertion on it (in some re-usable feature), but this seems like a workaround rather than a valid clean solution. Is there some clean way of accessing the exit code without echo-ing it? Am I missing on something?\r\n\r\n**script**\r\n\r\n    #!/bin/bash\r\n    \r\n    #possible solution\r\n    #echo 3\r\n\r\n    exit 3;\r\n\r\n**karate-config.js**\r\n\r\n    var result = karate.exec(&#39;script.sh arg1&#39;)\r\n\r\n**feture file**\r\n\r\n    def result = karate.exec(&#39;script.sh arg1&#39;)","title":"How to execute bash script using karate and fail if script fails","body":"<p>I'm trying to execute bash script using karate. I'm able to execute the script from karate-config.js and also from .feature file. I'm also able to pass the arguments to the script.\nThe problem is, that if the script fails (exits with something else than 0) the test execution continues and finishes as succesfull.</p>\n<p>I found out that when the script echo-es something then i can access it as a result of the script so I could possibly echo the exit value and do assertion on it (in some re-usable feature), but this seems like a workaround rather than a valid clean solution. Is there some clean way of accessing the exit code without echo-ing it? Am I missing on something?</p>\n<p><strong>script</strong></p>\n<pre><code>#!/bin/bash\n\n#possible solution\n#echo 3\n\nexit 3;\n</code></pre>\n<p><strong>karate-config.js</strong></p>\n<pre><code>var result = karate.exec('script.sh arg1')\n</code></pre>\n<p><strong>feture file</strong></p>\n<pre><code>def result = karate.exec('script.sh arg1')\n</code></pre>\n"},{"tags":["java","loops","if-statement","summary","sentinel"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1540507864,"post_id":52999147,"comment_id":92902926,"body_markdown":"== 1, == 2. Not == &#39;1&#39;.","body":"== 1, == 2. Not == &#39;1&#39;."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1540507870,"post_id":52999147,"comment_id":92902931,"body_markdown":"CarType is an int and you are trying to compare it to chars &#39;1&#39; etc... remove the &#39;s","body":"CarType is an int and you are trying to compare it to chars &#39;1&#39; etc... remove the &#39;s"},{"owner":{"display_name":"user10560256"},"score":0,"creation_date":1540508408,"post_id":52999147,"comment_id":92903091,"body_markdown":"Thank you a lot I appreciate the help a lot, I did this but still, my math formula still seems to be off when trying to calculate the rate times (*) the days rented Plus (+) that 6%.","body":"Thank you a lot I appreciate the help a lot, I did this but still, my math formula still seems to be off when trying to calculate the rate times (*) the days rented Plus (+) that 6%."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1540510572,"post_id":52999147,"comment_id":92903571,"body_markdown":"Please don&#39;t edit out the questions once they&#39;re answered so that this makes sense to future readers who have a similar problem.","body":"Please don&#39;t edit out the questions once they&#39;re answered so that this makes sense to future readers who have a similar problem."},{"owner":{"display_name":"user10560256"},"score":0,"creation_date":1540510858,"post_id":52999147,"comment_id":92903628,"body_markdown":"@EJoshuaS but it isn&#39;t fully answered. was trying to allow clarity to the next two questions?","body":"@EJoshuaS but it isn&#39;t fully answered. was trying to allow clarity to the next two questions?"},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1540510946,"post_id":52999147,"comment_id":92903655,"body_markdown":"It&#39;s still better to leave it intact - part of the point of Stack Overflow is for questions and answers to be available to be searched for by other people with similar problems so that they can be helped by the information too.","body":"It&#39;s still better to leave it intact - part of the point of Stack Overflow is for questions and answers to be available to be searched for by other people with similar problems so that they can be helped by the information too."},{"owner":{"display_name":"user10560256"},"score":0,"creation_date":1540511051,"post_id":52999147,"comment_id":92903672,"body_markdown":"@EJoshuaS sounds good thanks. Sorry, I&#39;m kinda new this is the first question on here.","body":"@EJoshuaS sounds good thanks. Sorry, I&#39;m kinda new this is the first question on here."},{"owner":{"display_name":"user10560256"},"score":0,"creation_date":1540511177,"post_id":52999147,"comment_id":92903701,"body_markdown":"@EJoshuaS hey, also can i ask you so ive been stressing that im not doing what my instructer would want concerning the whole &quot;Use a sentinel value loop&quot; from what ive built so far am i following this?","body":"@EJoshuaS hey, also can i ask you so ive been stressing that im not doing what my instructer would want concerning the whole &quot;Use a sentinel value loop&quot; from what ive built so far am i following this?"}],"answers":[{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1540560058,"creation_date":1540510079,"answer_id":52999428,"question_id":52999147,"body_markdown":"Note that `&#39;1&#39;` is actually the *character* `1`, **not** the integer `1`. They&#39;re actually very different.\r\n\r\nIn Java (as well as C#), `int` and `char` types are convertible to each other.\r\n\r\nTo illustrate, the following actually prints 49:\r\n\r\n    public class HelloWorld\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        System.out.print((int)&#39;1&#39;);\r\n      }\r\n    }\r\n\r\nSimilarly, the following prints `true`:\r\n\r\n    System.out.println(&#39;1&#39; == 49);\r\n\r\nAs you can see, the character is implicitly being converted to an equivalent `int` value.\r\n\r\nTo understand why `&#39;1&#39;` is equal to 49 in particular, look at how characters are represented. In particular, look at the [ASCII chart](https://en.wikipedia.org/wiki/ASCII) (which is a common convention for character encoding) - it turns out that the character `&#39;1&#39;` is ASCII 49. Indeed, we can do the same thing we did above &quot;in reverse&quot; to &quot;convert&quot; ASCII 49 to its equivalent character, and the following line prints `1`:\r\n\r\n    System.out.println((char)49);\r\n\r\nTo understand how this kind of conversion works, you may want to read [this rather excellent article linked to in the comments](http://www.atnyla.com/tutorial/data-type-conversion-or-casting-in-java/0/30). If you&#39;re curious about how this works in C#, you may also want to read [this question](https://stackoverflow.com/questions/1503430/implicit-type-cast-in-c-sharp).\r\n\r\nOne more point: when you do `DailyFee=(int)31.76`, converting this to an `int` will actually &quot;drop&quot; everything after the decimal point, so this is no different than writing `DailyFee = 31`. This is because 31 is an integer whereas 31.76 is *not* (it&#39;s a rational number).\r\n\r\nOne minor stylistic point: you might consider using a `switch` statement here.","title":"Write a Basic Car rental program on java / problems","body":"<p>Note that <code>'1'</code> is actually the <em>character</em> <code>1</code>, <strong>not</strong> the integer <code>1</code>. They're actually very different.</p>\n\n<p>In Java (as well as C#), <code>int</code> and <code>char</code> types are convertible to each other.</p>\n\n<p>To illustrate, the following actually prints 49:</p>\n\n<pre><code>public class HelloWorld\n{\n  public static void main(String[] args)\n  {\n    System.out.print((int)'1');\n  }\n}\n</code></pre>\n\n<p>Similarly, the following prints <code>true</code>:</p>\n\n<pre><code>System.out.println('1' == 49);\n</code></pre>\n\n<p>As you can see, the character is implicitly being converted to an equivalent <code>int</code> value.</p>\n\n<p>To understand why <code>'1'</code> is equal to 49 in particular, look at how characters are represented. In particular, look at the <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">ASCII chart</a> (which is a common convention for character encoding) - it turns out that the character <code>'1'</code> is ASCII 49. Indeed, we can do the same thing we did above \"in reverse\" to \"convert\" ASCII 49 to its equivalent character, and the following line prints <code>1</code>:</p>\n\n<pre><code>System.out.println((char)49);\n</code></pre>\n\n<p>To understand how this kind of conversion works, you may want to read <a href=\"http://www.atnyla.com/tutorial/data-type-conversion-or-casting-in-java/0/30\" rel=\"nofollow noreferrer\">this rather excellent article linked to in the comments</a>. If you're curious about how this works in C#, you may also want to read <a href=\"https://stackoverflow.com/questions/1503430/implicit-type-cast-in-c-sharp\">this question</a>.</p>\n\n<p>One more point: when you do <code>DailyFee=(int)31.76</code>, converting this to an <code>int</code> will actually \"drop\" everything after the decimal point, so this is no different than writing <code>DailyFee = 31</code>. This is because 31 is an integer whereas 31.76 is <em>not</em> (it's a rational number).</p>\n\n<p>One minor stylistic point: you might consider using a <code>switch</code> statement here.</p>\n"},{"tags":[],"owner":{"account_id":26150349,"reputation":1,"user_id":19838411,"display_name":"Beyond Tech in telugu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661763174,"creation_date":1661350714,"answer_id":73474782,"question_id":52999147,"body_markdown":"\r\n```\r\npackage demo;\r\n\r\nimport java.util.Scanner; \r\npublic class Carrentals {\r\npublic static void main(String[] args) {\r\n\r\n\tDouble a,b,c,d,e ;\r\nScanner sc= new Scanner(System.in);\r\nSystem.out.println(&quot;Enter the number of days for rent&quot;);\r\na=sc.nextDouble();\r\nSystem.out.println(&quot;Select the type of vehicle&quot;);\r\nc=1000*a;\r\nd=1500*a;\r\ne=2000*a;\r\nSystem.out.println(&quot;Press 1 for SUV&quot;);\r\nSystem.out.println(&quot;Press 2 for SEDEN&quot;);\r\nSystem.out.println(&quot;Press 3 for ECONOMICAL&quot;);\r\nb=sc.nextDouble();\r\nif(b == 1)\r\n\tSystem.out.println(&quot;The rent is &quot;+c);\r\nelse if(b == 2)\r\n\tSystem.out.println(&quot;The rent is &quot;+d);\r\nelse if(b == 3)\r\n\tSystem.out.println(&quot;The rent is &quot;+e);\r\nsc.close();\r\n}\r\n}\r\n\r\n```","title":"Write a Basic Car rental program on java / problems","body":"<pre><code>package demo;\n\nimport java.util.Scanner; \npublic class Carrentals {\npublic static void main(String[] args) {\n\n    Double a,b,c,d,e ;\nScanner sc= new Scanner(System.in);\nSystem.out.println(&quot;Enter the number of days for rent&quot;);\na=sc.nextDouble();\nSystem.out.println(&quot;Select the type of vehicle&quot;);\nc=1000*a;\nd=1500*a;\ne=2000*a;\nSystem.out.println(&quot;Press 1 for SUV&quot;);\nSystem.out.println(&quot;Press 2 for SEDEN&quot;);\nSystem.out.println(&quot;Press 3 for ECONOMICAL&quot;);\nb=sc.nextDouble();\nif(b == 1)\n    System.out.println(&quot;The rent is &quot;+c);\nelse if(b == 2)\n    System.out.println(&quot;The rent is &quot;+d);\nelse if(b == 3)\n    System.out.println(&quot;The rent is &quot;+e);\nsc.close();\n}\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26150349,"reputation":1,"user_id":19838411,"display_name":"Beyond Tech in telugu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675967880,"creation_date":1675967880,"answer_id":75403039,"question_id":52999147,"body_markdown":"    package demo;\r\n    import java.util.Scanner;\r\n    public class carrent {\r\n    public static void main(String[] args) {\r\n    System.out.println(&quot;SELECT THE TYPE OF VEHICLE&quot;);\r\n    System.out.println(&quot;PRESS 1 FOR SUV&quot;);\r\n    System.out.println(&quot;PRESS 2 FOR SEDAN&quot;);\r\n    System.out.println(&quot;PRESS 3 FOR ECONOMICAL&quot;);\r\n    Scanner sc=new Scanner(System.in);\r\n    char z=sc.next().charAt(0);\r\n    switch(z) {\r\n    case&#39;1&#39;:\r\n\tSystem.out.println(&quot;YOU HAVE SELECTED SUV&quot;);\t\r\n\tScanner suv=new Scanner(System.in);\r\n\tSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\r\n\tint a=suv.nextInt();\r\n\tint rent1=1000*a;\r\n\tint rent2=750*a;\r\n\tSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\r\n\tSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\r\n\tSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\r\n    int b=suv.nextInt();\r\n    if(b==1)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a+ &quot; DAYS FOR SUV AC IS &quot; +rent1+ &quot; \r\n        Rupees&quot;);\r\n    else if(b==2)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a+ &quot; DAYS FOR SUV NON AC IS &quot; \r\n        +rent2+ &quot; Rupees&quot;);\r\n    break;\r\n    case&#39;2&#39;:\r\n\tSystem.out.println(&quot;YOU HAVE SELECTED SEDAN&quot;);\t\r\n\tScanner SEDAN=new Scanner(System.in);\r\n\tSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\r\n\tint a1=SEDAN.nextInt();\r\n\tint rent1S=1500*a1;\r\n\tint rent2S=12000*a1;\r\n\tSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\r\n\tSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\r\n\tSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\r\n    int b1=SEDAN.nextInt();\r\n    if(b1==1)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a1+ &quot; DAYS FOR SEDAN AC IS &quot; \r\n        +rent1S+ &quot; Rupees&quot;);\r\n       else if(b1==2)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a1+ &quot; DAYS FOR SEDAN NON AC IS &quot; \r\n        +rent2S+ &quot; Rupees&quot;);\r\n       break;\r\n      case&#39;3&#39;:\r\n    System.out.println(&quot;YOU HAVE SELECTED ECONOMICAL&quot;);\t\r\n\tScanner ECONOMICAL=new Scanner(System.in);\r\n\tSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\r\n\tint a2=ECONOMICAL.nextInt();\r\n\tint rent1E=2000*a2;\r\n\tint rent2E=1700*a2;\r\n\tSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\r\n\tSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\r\n\tSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\r\n    int b2=ECONOMICAL.nextInt();\r\n    if(b2==1)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a2+ &quot; DAYS FOR SUV AC IS &quot; +rent1E+ \r\n     &quot; Rupees&quot;);\r\n    else if(b2==2)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a2+ &quot; DAYS FOR SUV NON AC IS &quot; \r\n       +rent2E+ &quot; Rupees&quot;);\r\n    break;\r\n     default:\r\n\tSystem.out.println(&quot;ERROR!!!&quot;);\r\n\tSystem.out.println(&quot;PLEASE SELECT BASED ON  ABOVE GIVEN INSTRUCTIONS&quot;);\r\n     }\r\n     sc.close();\r\n}\r\n}\r\n","title":"Write a Basic Car rental program on java / problems","body":"<pre><code>package demo;\nimport java.util.Scanner;\npublic class carrent {\npublic static void main(String[] args) {\nSystem.out.println(&quot;SELECT THE TYPE OF VEHICLE&quot;);\nSystem.out.println(&quot;PRESS 1 FOR SUV&quot;);\nSystem.out.println(&quot;PRESS 2 FOR SEDAN&quot;);\nSystem.out.println(&quot;PRESS 3 FOR ECONOMICAL&quot;);\nScanner sc=new Scanner(System.in);\nchar z=sc.next().charAt(0);\nswitch(z) {\ncase'1':\nSystem.out.println(&quot;YOU HAVE SELECTED SUV&quot;);    \nScanner suv=new Scanner(System.in);\nSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\nint a=suv.nextInt();\nint rent1=1000*a;\nint rent2=750*a;\nSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\nSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\nSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\nint b=suv.nextInt();\nif(b==1)\n    System.out.println(&quot;THE RENT FOR &quot; +a+ &quot; DAYS FOR SUV AC IS &quot; +rent1+ &quot; \n    Rupees&quot;);\nelse if(b==2)\n    System.out.println(&quot;THE RENT FOR &quot; +a+ &quot; DAYS FOR SUV NON AC IS &quot; \n    +rent2+ &quot; Rupees&quot;);\nbreak;\ncase'2':\nSystem.out.println(&quot;YOU HAVE SELECTED SEDAN&quot;);  \nScanner SEDAN=new Scanner(System.in);\nSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\nint a1=SEDAN.nextInt();\nint rent1S=1500*a1;\nint rent2S=12000*a1;\nSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\nSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\nSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\nint b1=SEDAN.nextInt();\nif(b1==1)\n    System.out.println(&quot;THE RENT FOR &quot; +a1+ &quot; DAYS FOR SEDAN AC IS &quot; \n    +rent1S+ &quot; Rupees&quot;);\n   else if(b1==2)\n    System.out.println(&quot;THE RENT FOR &quot; +a1+ &quot; DAYS FOR SEDAN NON AC IS &quot; \n    +rent2S+ &quot; Rupees&quot;);\n   break;\n  case'3':\nSystem.out.println(&quot;YOU HAVE SELECTED ECONOMICAL&quot;); \nScanner ECONOMICAL=new Scanner(System.in);\nSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\nint a2=ECONOMICAL.nextInt();\nint rent1E=2000*a2;\nint rent2E=1700*a2;\nSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\nSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\nSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\nint b2=ECONOMICAL.nextInt();\nif(b2==1)\n    System.out.println(&quot;THE RENT FOR &quot; +a2+ &quot; DAYS FOR SUV AC IS &quot; +rent1E+ \n &quot; Rupees&quot;);\nelse if(b2==2)\n    System.out.println(&quot;THE RENT FOR &quot; +a2+ &quot; DAYS FOR SUV NON AC IS &quot; \n   +rent2E+ &quot; Rupees&quot;);\nbreak;\n default:\nSystem.out.println(&quot;ERROR!!!&quot;);\nSystem.out.println(&quot;PLEASE SELECT BASED ON  ABOVE GIVEN INSTRUCTIONS&quot;);\n }\n sc.close();\n</code></pre>\n<p>}\n}</p>\n"}],"owner":{"display_name":"user10560256"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11829,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52999428,"answer_count":3,"score":0,"last_activity_date":1675967880,"creation_date":1540507723,"question_id":52999147,"body_markdown":"So I&#39;m super confused and just looking for help :L. This is what the instructions from my instructor were.\r\n\r\nInstructions : \r\nUse a sentinel value loop.\r\n\r\nAsk each user for: \r\n\r\n - Type of vehicle (May use something other than strings, such as: 1\r\n   for economy, 2 for sedan, etc.) \r\n - Days rented\r\n\r\nCalculate the (For each customer):\r\n \r\n - Rental cost, \r\n - Taxes, \r\n - Total Due.\r\n\r\nThere are three different rental options with seprate rates: Economy @ 31.76, sedan @ 40.32, SUV @ 47.56. [Note: only whole day units to be considered (no hourly rates)].\r\n\r\nSales tax is = to 6% on the TOTAL.\r\n\r\nCreate summary data with:\r\n\r\n - Number of customers \r\n - Total money collected.\r\n\r\nAlso, Include IPO, algorithm, and desk check values (design documents).\r\n\r\n{WHAT I HAVE GOING AND MY QUESTION}\r\n\r\n\r\n    package yipe;\r\n\r\n    public class Umm {\r\n\r\n        import java.util.*;\r\n\r\n        int count = 0;\r\n        static int CarType, days;\r\n        static double DailyFee, Total;\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            Scanner keyboard = new Scanner(System.in);\r\n            \r\n            System.out.print(&quot;What vehical would you like to rent?\\n&quot;);\r\n            System.out.println(&quot;Enter 1 for an economy car\\n&quot;);\r\n            System.out.println(&quot;Enter 2 for a sedan car\\n&quot;);\r\n            System.out.println(&quot;Enter 3 for an SUV&quot;);\r\n            CarType = keyboard.nextInt();\r\n            if (CarType == &#39;1&#39;)\r\n                  DailyFee=(int)31.76;\r\n                else if(CarType == &#39;2&#39;)\r\n                  DailyFee=(int)40.32;\r\n                else if(CarType == &#39;3&#39;)\r\n                  DailyFee=(int)43.50;\r\n            \r\n            System.out.print(&quot;Please enter the number of days rented. (Example; 3) : &quot;);\r\n            days = keyboard.nextInt();\r\n            \r\n            Total = (DailyFee * days * 6/100);\r\n            \r\n            System.out.printf(&quot;The total amount due is $&quot; + Total);\r\n            \r\n        }\r\n        \r\n\r\n    }\r\n\r\n\r\n1. How can I fix my IF statement(s) to get proper math results?\r\n2. how would I make it loop for to put in multiple information??\r\n3. how to make summary data?\r\n4. how can I round the Total to only two decimals?\r\n\r\n\r\n\r\n","title":"Write a Basic Car rental program on java / problems","body":"<p>So I'm super confused and just looking for help :L. This is what the instructions from my instructor were.</p>\n\n<p>Instructions : \nUse a sentinel value loop.</p>\n\n<p>Ask each user for: </p>\n\n<ul>\n<li>Type of vehicle (May use something other than strings, such as: 1\nfor economy, 2 for sedan, etc.) </li>\n<li>Days rented</li>\n</ul>\n\n<p>Calculate the (For each customer):</p>\n\n<ul>\n<li>Rental cost, </li>\n<li>Taxes, </li>\n<li>Total Due.</li>\n</ul>\n\n<p>There are three different rental options with seprate rates: Economy @ 31.76, sedan @ 40.32, SUV @ 47.56. [Note: only whole day units to be considered (no hourly rates)].</p>\n\n<p>Sales tax is = to 6% on the TOTAL.</p>\n\n<p>Create summary data with:</p>\n\n<ul>\n<li>Number of customers </li>\n<li>Total money collected.</li>\n</ul>\n\n<p>Also, Include IPO, algorithm, and desk check values (design documents).</p>\n\n<p>{WHAT I HAVE GOING AND MY QUESTION}</p>\n\n<pre><code>package yipe;\n\npublic class Umm {\n\n    import java.util.*;\n\n    int count = 0;\n    static int CarType, days;\n    static double DailyFee, Total;\n\n\n    public static void main(String[] args) {\n\n        Scanner keyboard = new Scanner(System.in);\n\n        System.out.print(\"What vehical would you like to rent?\\n\");\n        System.out.println(\"Enter 1 for an economy car\\n\");\n        System.out.println(\"Enter 2 for a sedan car\\n\");\n        System.out.println(\"Enter 3 for an SUV\");\n        CarType = keyboard.nextInt();\n        if (CarType == '1')\n              DailyFee=(int)31.76;\n            else if(CarType == '2')\n              DailyFee=(int)40.32;\n            else if(CarType == '3')\n              DailyFee=(int)43.50;\n\n        System.out.print(\"Please enter the number of days rented. (Example; 3) : \");\n        days = keyboard.nextInt();\n\n        Total = (DailyFee * days * 6/100);\n\n        System.out.printf(\"The total amount due is $\" + Total);\n\n    }\n\n\n}\n</code></pre>\n\n<ol>\n<li>How can I fix my IF statement(s) to get proper math results?</li>\n<li>how would I make it loop for to put in multiple information??</li>\n<li>how to make summary data?</li>\n<li>how can I round the Total to only two decimals?</li>\n</ol>\n"},{"tags":["java","hibernate","rest","jpa","jersey"],"comments":[{"owner":{"account_id":11076132,"reputation":552,"user_id":8132809,"display_name":"Daniel Black"},"score":0,"creation_date":1675967366,"post_id":75402880,"comment_id":133046845,"body_markdown":"Where is the error thrown?","body":"Where is the error thrown?"},{"owner":{"account_id":27166108,"reputation":13,"user_id":20703610,"display_name":"Splotchy"},"score":0,"creation_date":1675967473,"post_id":75402880,"comment_id":133046896,"body_markdown":"@DanielBlack On Postman when attempting to send the GET request and on the server console.","body":"@DanielBlack On Postman when attempting to send the GET request and on the server console."}],"owner":{"account_id":27166108,"reputation":13,"user_id":20703610,"display_name":"Splotchy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675967655,"creation_date":1675966927,"question_id":75402880,"body_markdown":"The error in question: jakarta.servlet.ServletException: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: Could not interpret path expression &#39;brand_id&#39;;\r\n\r\nI am new to hibernate and REST Api design, so it eludes me why I get this error, I have tried so many things. &quot;brand_id&quot; is the name of the foreign key column in my database, you know what, lemme show you.\r\n\r\nHere is my exposed GET endpoint:\r\n\r\n        `@GET\r\n\t@Path(&quot;/{brandID}/products&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic List&lt;ProductEntity&gt; getProductsByBrand(@PathParam(&quot;brandID&quot;) int brandID) {\r\n\t\tList&lt;ProductEntity&gt; productList = productsService.getProductsByBrand(brandID);\r\n\t\treturn productList;\r\n\t}`\r\n\r\nHere is my ProductsService class:\r\n\r\n    `public class ProductsService {\r\n\tprivate final ProductsDAO dao = new ProductsDAO();\r\n\r\n\tpublic List&lt;ProductEntity&gt; getProductsByBrand(int brandID) {\r\n\t\tList&lt;ProductEntity&gt; productList = dao.getProductsByBrand(brandID);\r\n\t\treturn productList;\r\n\t\t\r\n\t}\r\n\t\r\n    }`\r\n\r\nAnd here is the ProductsDAO class:\r\n\r\n     `public class ProductsDAO {\r\n\tprivate final SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(ProductEntity.class).addAnnotatedClass(BrandEntity.class) // since we are defining a foreign key in the ProductEntity, we are required to add the BrandEntity class as an Annotated Class\t\t\t\t\t\t\t\t\t\t.buildSessionFactory();\r\n\r\n\tpublic List&lt;ProductEntity&gt; getProductsByBrand(int brandID) {\r\n\t\tSession session = factory.getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\t\r\n\t\tString hql = &quot;from products where brand_id = &#39;&quot; + brandID + &quot;&#39;&quot;;\r\n\t\tQuery query = session.createQuery(hql);\r\n\t\t\r\n\t\tList&lt;ProductEntity&gt; productList = query.getResultList();\r\n\t\treturn productList;\r\n\t\t\r\n\t}\r\n}`\r\n\r\nAnd of course, my ProductEntity class:\r\n\r\n    `@Entity(name = &quot;products&quot;)\r\n    @Table(name = &quot;products&quot;)\r\n    public class ProductEntity {\r\n\t@Id\r\n\t@Column(name = &quot;product_id&quot;)\r\n\tprivate int productId;\r\n\t\r\n\t// Essentially, this is how you specify a Foreign Key to hibernate\r\n\t@ManyToOne(targetEntity = BrandEntity.class) // Specifies that this column has a multiplicity defined relationship with other entities, such as tables. It cannot be used on a primitve data type, only a entity class type, in addition, the column annotation cannot be used in conjunction with it.\r\n\t@JoinColumn(name = &quot;brand_id&quot;)\r\n\tprivate BrandEntity brandEntity;\r\n\t\r\n\t@Column(name = &quot;product_name&quot;)\r\n\tprivate String productName;\r\n\t\r\n\t@Column(name = &quot;category&quot;)\r\n\tprivate String category;\r\n\t\r\n\t@Column(name = &quot;cost&quot;)\r\n\tprivate String cost;\r\n\r\n\tpublic ProductEntity() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic ProductEntity(int productId, BrandEntity brandEntity, String productName, String category, String cost) {\r\n\t\tthis.productId = productId;\r\n\t\tthis.brandEntity = brandEntity;\r\n\t\tthis.productName = productName;\r\n\t\tthis.category = category;\r\n\t\tthis.cost = cost;\r\n\t}\r\n\r\n\tpublic int getProductId() {\r\n\t\treturn productId;\r\n\t}\r\n\r\n\tpublic void setProductId(int productId) {\r\n\t\tthis.productId = productId;\r\n\t}\r\n\r\n\tpublic BrandEntity getBrandEntity() {\r\n\t\treturn brandEntity;\r\n\t}\r\n\r\n\tpublic void setBrandEntity(BrandEntity brandEntity) {\r\n\t\tthis.brandEntity = brandEntity;\r\n\t}\r\n\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\r\n\tpublic String getCategory() {\r\n\t\treturn category;\r\n\t}\r\n\r\n\tpublic void setCategory(String category) {\r\n\t\tthis.category = category;\r\n\t}\r\n\r\n\tpublic String getCost() {\r\n\t\treturn cost;\r\n\t}\r\n\r\n\tpublic void setCost(String cost) {\r\n\t\tthis.cost = cost;\r\n\t}\r\n\t\r\n}`\r\n\r\nIf anyone can shed any light on this issue, i would be sincerely grateful.\r\n\r\nNote: I receive this error when sending a GET request to the URI defined as : http://localhost:8008/104_-_RESTApp_ManyToOne_Mapping_In_Hibernate/showroom/brands/2/products, for example.","title":"Why am I getting this error, regarding Hibernate on my RESTful API?","body":"<p>The error in question: jakarta.servlet.ServletException: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: Could not interpret path expression 'brand_id';</p>\n<p>I am new to hibernate and REST Api design, so it eludes me why I get this error, I have tried so many things. &quot;brand_id&quot; is the name of the foreign key column in my database, you know what, lemme show you.</p>\n<p>Here is my exposed GET endpoint:</p>\n<pre><code>    `@GET\n@Path(&quot;/{brandID}/products&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic List&lt;ProductEntity&gt; getProductsByBrand(@PathParam(&quot;brandID&quot;) int brandID) {\n    List&lt;ProductEntity&gt; productList = productsService.getProductsByBrand(brandID);\n    return productList;\n}`\n</code></pre>\n<p>Here is my ProductsService class:</p>\n<pre><code>`public class ProductsService {\nprivate final ProductsDAO dao = new ProductsDAO();\n\npublic List&lt;ProductEntity&gt; getProductsByBrand(int brandID) {\n    List&lt;ProductEntity&gt; productList = dao.getProductsByBrand(brandID);\n    return productList;\n    \n}\n\n}`\n</code></pre>\n<p>And here is the ProductsDAO class:</p>\n<pre><code> `public class ProductsDAO {\nprivate final SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(ProductEntity.class).addAnnotatedClass(BrandEntity.class) // since we are defining a foreign key in the ProductEntity, we are required to add the BrandEntity class as an Annotated Class                                       .buildSessionFactory();\n\npublic List&lt;ProductEntity&gt; getProductsByBrand(int brandID) {\n    Session session = factory.getCurrentSession();\n    session.beginTransaction();\n    \n    String hql = &quot;from products where brand_id = '&quot; + brandID + &quot;'&quot;;\n    Query query = session.createQuery(hql);\n    \n    List&lt;ProductEntity&gt; productList = query.getResultList();\n    return productList;\n    \n}\n</code></pre>\n<p>}`</p>\n<p>And of course, my ProductEntity class:</p>\n<pre><code>`@Entity(name = &quot;products&quot;)\n@Table(name = &quot;products&quot;)\npublic class ProductEntity {\n@Id\n@Column(name = &quot;product_id&quot;)\nprivate int productId;\n\n// Essentially, this is how you specify a Foreign Key to hibernate\n@ManyToOne(targetEntity = BrandEntity.class) // Specifies that this column has a multiplicity defined relationship with other entities, such as tables. It cannot be used on a primitve data type, only a entity class type, in addition, the column annotation cannot be used in conjunction with it.\n@JoinColumn(name = &quot;brand_id&quot;)\nprivate BrandEntity brandEntity;\n\n@Column(name = &quot;product_name&quot;)\nprivate String productName;\n\n@Column(name = &quot;category&quot;)\nprivate String category;\n\n@Column(name = &quot;cost&quot;)\nprivate String cost;\n\npublic ProductEntity() {\n    \n}\n\npublic ProductEntity(int productId, BrandEntity brandEntity, String productName, String category, String cost) {\n    this.productId = productId;\n    this.brandEntity = brandEntity;\n    this.productName = productName;\n    this.category = category;\n    this.cost = cost;\n}\n\npublic int getProductId() {\n    return productId;\n}\n\npublic void setProductId(int productId) {\n    this.productId = productId;\n}\n\npublic BrandEntity getBrandEntity() {\n    return brandEntity;\n}\n\npublic void setBrandEntity(BrandEntity brandEntity) {\n    this.brandEntity = brandEntity;\n}\n\npublic String getProductName() {\n    return productName;\n}\n\npublic void setProductName(String productName) {\n    this.productName = productName;\n}\n\npublic String getCategory() {\n    return category;\n}\n\npublic void setCategory(String category) {\n    this.category = category;\n}\n\npublic String getCost() {\n    return cost;\n}\n\npublic void setCost(String cost) {\n    this.cost = cost;\n}\n</code></pre>\n<p>}`</p>\n<p>If anyone can shed any light on this issue, i would be sincerely grateful.</p>\n<p>Note: I receive this error when sending a GET request to the URI defined as : http://localhost:8008/104_-_RESTApp_ManyToOne_Mapping_In_Hibernate/showroom/brands/2/products, for example.</p>\n"},{"tags":["java","android","kotlin","native"],"comments":[{"owner":{"account_id":23533669,"reputation":55,"user_id":17578920,"display_name":"Mr T"},"score":0,"creation_date":1675970090,"post_id":75402997,"comment_id":133047690,"body_markdown":"I think a better way is to use a RecylcerView instead of a LinearLayout. With the RecyclerView it is very easy to scroll to a specific question. `recyclerView.scrollToPosition(&lt;position&gt;) `. Adapter View is then the ConstraintLayout.","body":"I think a better way is to use a RecylcerView instead of a LinearLayout. With the RecyclerView it is very easy to scroll to a specific question. <code>recyclerView.scrollToPosition(&lt;position&gt;) </code>. Adapter View is then the ConstraintLayout."},{"owner":{"account_id":22614408,"reputation":1,"user_id":16794109,"display_name":"ibrahim"},"score":0,"creation_date":1675972164,"post_id":75402997,"comment_id":133048242,"body_markdown":"I understand but I should use linear layout . are there any way ? thnks","body":"I understand but I should use linear layout . are there any way ? thnks"},{"owner":{"account_id":23533669,"reputation":55,"user_id":17578920,"display_name":"Mr T"},"score":0,"creation_date":1675978075,"post_id":75402997,"comment_id":133049790,"body_markdown":"You can scroll with the `ScrollView` and the [scrollTo()](https://developer.android.com/reference/android/widget/ScrollView#scrollTo(int,%20int)) function","body":"You can scroll with the <code>ScrollView</code> and the <a href=\"https://developer.android.com/reference/android/widget/ScrollView#scrollTo(int,%20int)\" rel=\"nofollow noreferrer\">scrollTo()</a> function"},{"owner":{"account_id":22614408,"reputation":1,"user_id":16794109,"display_name":"ibrahim"},"score":0,"creation_date":1675980082,"post_id":75402997,"comment_id":133050305,"body_markdown":"val sv = binding.linearLayoutGame\n        sv.smoothScrollTo(0, sv.getScrollY() + sv.getHeight()) . yes ı know I use like this . but it not always working . only works once .","body":"val sv = binding.linearLayoutGame         sv.smoothScrollTo(0, sv.getScrollY() + sv.getHeight()) . yes ı know I use like this . but it not always working . only works once ."},{"owner":{"account_id":22614408,"reputation":1,"user_id":16794109,"display_name":"ibrahim"},"score":0,"creation_date":1675983492,"post_id":75402997,"comment_id":133050924,"body_markdown":"thnks . I succesed .val layout = binding.linearLayoutGame\n                layout.smoothScrollTo(0, layout.getScrollY() + layout.getHeight());","body":"thnks . I succesed .val layout = binding.linearLayoutGame                 layout.smoothScrollTo(0, layout.getScrollY() + layout.getHeight());"}],"owner":{"account_id":22614408,"reputation":1,"user_id":16794109,"display_name":"ibrahim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675967633,"creation_date":1675967633,"question_id":75402997,"body_markdown":"I making a question app the questions page should be scrolling up when a question have an answer . How can I make this .e.g I want when an question have answer 100px scrolling up . How can I make thnks\r\n\r\n\\`\r\n\r\n\r\n\r\n```\r\n\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;fill_parent&quot; android:orientation=&quot;vertical&quot; tools:context=&quot;.Screens.GamePlayFragment&quot;&gt;\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@drawable/gameplay_background&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView5&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            android:layout_marginTop=&quot;-5dp&quot;\r\n            android:layout_marginBottom=&quot;-5dp&quot;\r\n            android:src=&quot;@drawable/gameapptop&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView2&quot;\r\n            android:layout_width=&quot;120dp&quot;\r\n            android:layout_height=&quot;70dp&quot;\r\n            android:layout_marginTop=&quot;-15dp&quot;\r\n            android:src=&quot;@drawable/placeofcountdown_game_screen&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageViewCounterIcon&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:paddingBottom=&quot;30dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:src=&quot;@drawable/gameovercountericon&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;Chronometer\r\n            android:id=&quot;@+id/textViewCounter&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;55dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/imageViewCounterIcon&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;6dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:text=&quot;2/17&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/linearLayoutGame&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            &gt;\r\n\r\n            &lt;!--Question 1 --&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView9&quot;\r\n                    android:layout_width=&quot;400dp&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    android:layout_marginTop=&quot;-2dp&quot;\r\n                    android:src=&quot;@drawable/placeofquestion3&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/questionLayout1&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/qRoof1&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/q1&quot;\r\n                        android:layout_width=&quot;270dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:src=&quot;@drawable/q1&quot;\r\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\n\\`\r\nHow can I make this .e.g I want when an question have answer 100px scrolling up . How can I make thnks","title":"how to scroll up auto in scroll view with kotlin","body":"<p>I making a question app the questions page should be scrolling up when a question have an answer . How can I make this .e.g I want when an question have answer 100px scrolling up . How can I make thnks</p>\n<p>`</p>\n<pre><code>\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;fill_parent&quot; android:orientation=&quot;vertical&quot; tools:context=&quot;.Screens.GamePlayFragment&quot;&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@drawable/gameplay_background&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView5&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            android:layout_marginTop=&quot;-5dp&quot;\n            android:layout_marginBottom=&quot;-5dp&quot;\n            android:src=&quot;@drawable/gameapptop&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView2&quot;\n            android:layout_width=&quot;120dp&quot;\n            android:layout_height=&quot;70dp&quot;\n            android:layout_marginTop=&quot;-15dp&quot;\n            android:src=&quot;@drawable/placeofcountdown_game_screen&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageViewCounterIcon&quot;\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:paddingBottom=&quot;30dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:src=&quot;@drawable/gameovercountericon&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;Chronometer\n            android:id=&quot;@+id/textViewCounter&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;55dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:textSize=&quot;20sp&quot;\n\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/imageViewCounterIcon&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n\n        &lt;TextView\n            android:id=&quot;@+id/textView4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;6dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:text=&quot;2/17&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:id=&quot;@+id/linearLayoutGame&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_height=&quot;0dp&quot;\n            &gt;\n\n            &lt;!--Question 1 --&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView9&quot;\n                    android:layout_width=&quot;400dp&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    android:layout_marginTop=&quot;-2dp&quot;\n                    android:src=&quot;@drawable/placeofquestion3&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=&quot;@+id/questionLayout1&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/qRoof1&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/q1&quot;\n                        android:layout_width=&quot;270dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:src=&quot;@drawable/q1&quot;\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>`\nHow can I make this .e.g I want when an question have answer 100px scrolling up . How can I make thnks</p>\n"},{"tags":["java","cucumber"],"owner":{"account_id":22647979,"reputation":13,"user_id":16823070,"display_name":"DevBox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675967615,"creation_date":1675967615,"question_id":75402987,"body_markdown":"I am fetching this List&lt;List&lt;Object&gt;&gt; resultSetDataLake, List&lt;List&lt;Object&gt;&gt; resultSetOIPA from &quot;When&quot; step, and I am getting cucumber exception in &quot;And&quot; step. Please guide how to fix this.\r\n\r\npayout.feature\r\nScenario Outline: Make a hive connection, extract and load the data\r\n  Given Connect to the Data Lake and Database\r\n  When Extract Initial Payout Data from Data Lake and OIPA for &quot;&lt;case_id&gt;&quot;,&quot;&lt;pin_number&gt;&quot;\r\n  And Validate the extracted data against both Data Lake and OIPA sources\r\n  Then Load the validated data into the IA Database\r\nExamples:\r\n  | case_id     | pin_number |\r\n  | ABCD\t| 12345      |\r\n\r\nStep definition:\r\n\r\n  @And (&quot;^Validate the extracted data against both Data Lake and OIPA sources$&quot;)\r\n    public void validate_the_initial_payout_datalake_oipa(List&lt;List&lt;Object&gt;&gt; resultSetDataLake, List&lt;List&lt;Object&gt;&gt; resultSetOIPA) { \r\n    //method \r\n    }\r\n\r\nGetting the error &quot;io.cucumber.core.exception.CucumberException: Step [^Validate the extracted data against both Data Lake and OIPA sources$] is defined with 2 parameters at &#39;stepdefinitions.factDBValidation.InitialPayoutDataLake.validate_the_initial_payout_datalake_oipa(java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt;,java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt;)&#39;.\r\nHowever, the gherkin step has 0 arguments.&quot;\r\n\r\n\r\n","title":"Java Cucumber BDD","body":"<p>I am fetching this List&lt;List&gt; resultSetDataLake, List&lt;List&gt; resultSetOIPA from &quot;When&quot; step, and I am getting cucumber exception in &quot;And&quot; step. Please guide how to fix this.</p>\n<p>payout.feature\nScenario Outline: Make a hive connection, extract and load the data\nGiven Connect to the Data Lake and Database\nWhen Extract Initial Payout Data from Data Lake and OIPA for &quot;&lt;case_id&gt;&quot;,&quot;&lt;pin_number&gt;&quot;\nAnd Validate the extracted data against both Data Lake and OIPA sources\nThen Load the validated data into the IA Database\nExamples:\n| case_id     | pin_number |\n| ABCD    | 12345      |</p>\n<p>Step definition:</p>\n<p>@And (&quot;^Validate the extracted data against both Data Lake and OIPA sources$&quot;)\npublic void validate_the_initial_payout_datalake_oipa(List&lt;List&gt; resultSetDataLake, List&lt;List&gt; resultSetOIPA) {\n//method\n}</p>\n<p>Getting the error &quot;io.cucumber.core.exception.CucumberException: Step [^Validate the extracted data against both Data Lake and OIPA sources$] is defined with 2 parameters at 'stepdefinitions.factDBValidation.InitialPayoutDataLake.validate_the_initial_payout_datalake_oipa(java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt;,java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt;)'.\nHowever, the gherkin step has 0 arguments.&quot;</p>\n"},{"tags":["java","json","regex"],"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1675963869,"post_id":75402235,"comment_id":133045737,"body_markdown":"Why not use a JSON parser and change it? You must be producing or consuming this JSON, right? Don&#39;t use use Jackson or anything to do so?","body":"Why not use a JSON parser and change it? You must be producing or consuming this JSON, right? Don&#39;t use use Jackson or anything to do so?"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1675964011,"post_id":75402235,"comment_id":133045788,"body_markdown":"Yes i have used GSON but could not do the upperCase for arrays https://stackoverflow.com/questions/75386940/uppercaseadapter-does-not-support-json-array","body":"Yes i have used GSON but could not do the upperCase for arrays <a href=\"https://stackoverflow.com/questions/75386940/uppercaseadapter-does-not-support-json-array\" title=\"uppercaseadapter does not support json array\">stackoverflow.com/questions/75386940/&hellip;</a>"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1675964034,"post_id":75402235,"comment_id":133045797,"body_markdown":"@VLAZ If you have a suggestion i&#39;m taking it with pleasure","body":"@VLAZ If you have a suggestion i&#39;m taking it with pleasure"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1675964215,"post_id":75402235,"comment_id":133045863,"body_markdown":"But for your question i&#39;m just extracting the fields using an other IDE that is case sensitive and my end user is not respecting the input json case sensitivity , so i prefer to put all keys in upperCase and then extract all upperCase keys-Values so that i don&#39;t have problems after","body":"But for your question i&#39;m just extracting the fields using an other IDE that is case sensitive and my end user is not respecting the input json case sensitivity , so i prefer to put all keys in upperCase and then extract all upperCase keys-Values so that i don&#39;t have problems after"},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1675967477,"post_id":75402235,"comment_id":133046897,"body_markdown":"&quot;*If you have a suggestion i&#39;m taking it with pleasure*&quot; my suggestion is &quot;don&#39;t use regex for something that&#39;s not within the purview of regex&quot;. [Here](https://stackoverflow.com/a/22542141) is something that can change to upper case. [Here is some more](https://stackoverflow.com/q/29469788). Or [change the naming polcy](https://shekhargulati.com/2015/09/10/gson-tip-using-a-different-fieldnamingpolicy/). [Deserialise into a Map](https://www.baeldung.com/gson-json-to-map) and you can apply transformation to keys.","body":"&quot;<i>If you have a suggestion i&#39;m taking it with pleasure</i>&quot; my suggestion is &quot;don&#39;t use regex for something that&#39;s not within the purview of regex&quot;. <a href=\"https://stackoverflow.com/a/22542141\">Here</a> is something that can change to upper case. <a href=\"https://stackoverflow.com/q/29469788\">Here is some more</a>. Or <a href=\"https://shekhargulati.com/2015/09/10/gson-tip-using-a-different-fieldnamingpolicy/\" rel=\"nofollow noreferrer\">change the naming polcy</a>. <a href=\"https://www.baeldung.com/gson-json-to-map\" rel=\"nofollow noreferrer\">Deserialise into a Map</a> and you can apply transformation to keys."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675967473,"creation_date":1675967473,"answer_id":75402964,"question_id":75402235,"body_markdown":"One of the solutions is to flatten the JSON, upperCase() the keys and unflatten the JSON. Library _Josson_ can do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;transactionId\\&quot;: 181,&quot; +\r\n        &quot;    \\&quot;Shipments\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;shipmentId\\&quot;: 2,&quot; +\r\n        &quot;            \\&quot;picklistId\\&quot;: \\&quot;24RZ\\&quot;,&quot; +\r\n        &quot;            \\&quot;ExtOrderId\\&quot;: \\&quot;23-127\\&quot;,&quot; +\r\n        &quot;            \\&quot;boxType\\&quot;: \\&quot;120\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(\r\n        &quot;flatten(&#39;.&#39;).entries().map(key.upperCase()::value).mergeObjects().unflatten(&#39;.&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;TRANSACTIONID&quot; : 181,\r\n      &quot;SHIPMENTS&quot; : [ {\r\n        &quot;SHIPMENTID&quot; : 2,\r\n        &quot;PICKLISTID&quot; : &quot;24RZ&quot;,\r\n        &quot;EXTORDERID&quot; : &quot;23-127&quot;,\r\n        &quot;BOXTYPE&quot; : &quot;120&quot;\r\n      } ]\r\n    }\r\n\r\n","title":"UpperCase all json keys using java and regex to find the matches","body":"<p>One of the solutions is to flatten the JSON, upperCase() the keys and unflatten the JSON. Library <em>Josson</em> can do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;transactionId\\&quot;: 181,&quot; +\n    &quot;    \\&quot;Shipments\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;shipmentId\\&quot;: 2,&quot; +\n    &quot;            \\&quot;picklistId\\&quot;: \\&quot;24RZ\\&quot;,&quot; +\n    &quot;            \\&quot;ExtOrderId\\&quot;: \\&quot;23-127\\&quot;,&quot; +\n    &quot;            \\&quot;boxType\\&quot;: \\&quot;120\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(\n    &quot;flatten('.').entries().map(key.upperCase()::value).mergeObjects().unflatten('.')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;TRANSACTIONID&quot; : 181,\n  &quot;SHIPMENTS&quot; : [ {\n    &quot;SHIPMENTID&quot; : 2,\n    &quot;PICKLISTID&quot; : &quot;24RZ&quot;,\n    &quot;EXTORDERID&quot; : &quot;23-127&quot;,\n    &quot;BOXTYPE&quot; : &quot;120&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75402964,"answer_count":1,"score":1,"last_activity_date":1675967473,"creation_date":1675963374,"question_id":75402235,"body_markdown":"I&#39;m beginner in java and have to replace all  `json Keys` to upper Case .\r\n\r\nMy json can contain `arrays` (maybe nested Ones) and objects\r\n\r\nHere is an example of my json input  :  \r\n\r\n     {\r\n     &quot;transactionId&quot;: 181,\r\n     &quot;Shipments&quot;: [\r\n       {\r\n         &quot;shipmentId&quot;: 2,\r\n         &quot;picklistId&quot;: &quot;24RZ&quot;,\r\n         &quot;ExtOrderId&quot;: &quot;23-127&quot;,\r\n         &quot;boxType&quot;: &quot;120&quot;\r\n        }\r\n       ]\r\n      }\r\nHere is an example of my json Output :  \r\n\r\n        {\r\n      &quot;TRANSACTIONID&quot;: 181,\r\n      &quot;SHIPMENTS&quot;: [\r\n       {\r\n         &quot;SHIPMENTID&quot;: 2,\r\n         &quot;PICKLISTID&quot;: &quot;24RZ&quot;,\r\n         &quot;EXTORDERID&quot;: &quot;23-127&quot;,\r\n         &quot;BOXTYPE&quot;: &quot;120&quot;\r\n        }\r\n       ]\r\n      }\r\n\r\nI have tried to create an adapter but no chance to make it work correctly , \r\n\r\n - Do i Have to use a `regex` and a `replaceAll(&quot;everything before a : &quot; , &quot;upperCase()&quot;)  `\r\n\r\nI&#39;m reaching out to you guys to help me on this task because i could not find a way out to find a solution  ","title":"UpperCase all json keys using java and regex to find the matches","body":"<p>I'm beginner in java and have to replace all  <code>json Keys</code> to upper Case .</p>\n<p>My json can contain <code>arrays</code> (maybe nested Ones) and objects</p>\n<p>Here is an example of my json input  :</p>\n<pre><code> {\n &quot;transactionId&quot;: 181,\n &quot;Shipments&quot;: [\n   {\n     &quot;shipmentId&quot;: 2,\n     &quot;picklistId&quot;: &quot;24RZ&quot;,\n     &quot;ExtOrderId&quot;: &quot;23-127&quot;,\n     &quot;boxType&quot;: &quot;120&quot;\n    }\n   ]\n  }\n</code></pre>\n<p>Here is an example of my json Output :</p>\n<pre><code>    {\n  &quot;TRANSACTIONID&quot;: 181,\n  &quot;SHIPMENTS&quot;: [\n   {\n     &quot;SHIPMENTID&quot;: 2,\n     &quot;PICKLISTID&quot;: &quot;24RZ&quot;,\n     &quot;EXTORDERID&quot;: &quot;23-127&quot;,\n     &quot;BOXTYPE&quot;: &quot;120&quot;\n    }\n   ]\n  }\n</code></pre>\n<p>I have tried to create an adapter but no chance to make it work correctly ,</p>\n<ul>\n<li>Do i Have to use a <code>regex</code> and a <code>replaceAll(&quot;everything before a : &quot; , &quot;upperCase()&quot;)  </code></li>\n</ul>\n<p>I'm reaching out to you guys to help me on this task because i could not find a way out to find a solution</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1675967248,"post_id":75402907,"comment_id":133046801,"body_markdown":"The &quot;bad practice&quot; you&#39;re truly running into (and not warned about) is introducing side-effects into your stream. This isn&#39;t as bad on a sequential stream, but when made parallel can become a nightmare. It&#39;s also generally against most functional programming paradigms. That said, if it works, it works, as long as you understand the implications. `#peek` would work fine if you&#39;re just returning the same reference, but `#map` may also be more self-documenting that you are mutating the stream.","body":"The &quot;bad practice&quot; you&#39;re truly running into (and not warned about) is introducing side-effects into your stream. This isn&#39;t as bad on a sequential stream, but when made parallel can become a nightmare. It&#39;s also generally against most functional programming paradigms. That said, if it works, it works, as long as you understand the implications. <code>#peek</code> would work fine if you&#39;re just returning the same reference, but <code>#map</code> may also be more self-documenting that you are mutating the stream."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1675967763,"post_id":75402907,"comment_id":133046990,"body_markdown":"Using `map` is already bad practice, because you shouldn&#39;t modify the elements of the stream as you consume it. Side-effects should be avoided. If you want to modify the elements of a collection, use a loop.","body":"Using <code>map</code> is already bad practice, because you shouldn&#39;t modify the elements of the stream as you consume it. Side-effects should be avoided. If you want to modify the elements of a collection, use a loop."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1675968273,"post_id":75402907,"comment_id":133047127,"body_markdown":"I&#39;m a bit unclear on the use case for streams in general.  Why not use a loop in all cases?  I think the answer is some problems work well (are cleanly implemented) using the stream syntax.  However, some is not all.  Don&#39;t force a stream implementation unless it&#39;s a clear good fit, imo.  (Answering a previous question here on SO, I implemented a loop much more quickly than I could the stream equivalent, and the eventual stream version had subtle traps for the unwary.  I honestly think streams are overrated.)","body":"I&#39;m a bit unclear on the use case for streams in general.  Why not use a loop in all cases?  I think the answer is some problems work well (are cleanly implemented) using the stream syntax.  However, some is not all.  Don&#39;t force a stream implementation unless it&#39;s a clear good fit, imo.  (Answering a previous question here on SO, I implemented a loop much more quickly than I could the stream equivalent, and the eventual stream version had subtle traps for the unwary.  I honestly think streams are overrated.)"}],"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675968523,"answer_count":0,"score":0,"last_activity_date":1675967074,"creation_date":1675967074,"question_id":75402907,"body_markdown":"Scenario: I have a collection of objects that I want to do some work to, transform them, and collect the results. Initially, I had two map calls:\r\n\r\n```\r\nobjects.stream()\r\n       .map(o -&gt; {\r\n                // do something interesting...\r\n                // set some fields...\r\n                return o;\r\n            })\r\n       .map(transformer::mapToSomethingElse)\r\n       .collect(Collectors.toList());\r\n```\r\n\r\nMy IDE recommended using `.peek` for the first map, since I&#39;m just returning the same input. When I read the API notes for peek, I see the following: \r\n\r\n&gt; This method exists mainly to support debugging\r\n\r\nIs my usage of peek a bad idea? The operations happening within peek are necessary, so if they were optimized away, that would be bad. Due to the way this stream operation is structured, I don&#39;t have any reason to believe the peek would be elided.\r\n\r\nOf course I could just write this with a for loop, but I like the syntax of streams so I use them wherever I can.","title":"Bad practice to do &quot;interesting&quot; work inside a Stream.peek()?","body":"<p>Scenario: I have a collection of objects that I want to do some work to, transform them, and collect the results. Initially, I had two map calls:</p>\n<pre><code>objects.stream()\n       .map(o -&gt; {\n                // do something interesting...\n                // set some fields...\n                return o;\n            })\n       .map(transformer::mapToSomethingElse)\n       .collect(Collectors.toList());\n</code></pre>\n<p>My IDE recommended using <code>.peek</code> for the first map, since I'm just returning the same input. When I read the API notes for peek, I see the following:</p>\n<blockquote>\n<p>This method exists mainly to support debugging</p>\n</blockquote>\n<p>Is my usage of peek a bad idea? The operations happening within peek are necessary, so if they were optimized away, that would be bad. Due to the way this stream operation is structured, I don't have any reason to believe the peek would be elided.</p>\n<p>Of course I could just write this with a for loop, but I like the syntax of streams so I use them wherever I can.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1676003118,"post_id":75402884,"comment_id":133053694,"body_markdown":"Setting the appearance for a ✔️ field is more complex, there is an example for this in the examples subproject in the source code download, CreateCheckBox.java https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java?view=markup","body":"Setting the appearance for a ✔️ field is more complex, there is an example for this in the examples subproject in the source code download, CreateCheckBox.java <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":6124304,"reputation":13132,"user_id":4776831,"accept_rate":53,"display_name":"cre8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675966946,"creation_date":1675966946,"question_id":75402884,"body_markdown":"I am looping over my fields to update them, I have textfields and checkboxes:\r\n```\r\nfor (FieldInput formField : formFields) {\r\n    PDField field = acroForm.getField(formField.id);\r\n    if (field != null) {\r\n        if (field.getFieldType() == &quot;Btn&quot; &amp;&amp; formField.value.equals(&quot;true&quot;)) {\r\n            ((PDCheckBox) field).check();\r\n        } else {\r\n            field.setValue(formField.value);\r\n        }\r\n        field.setReadOnly(true);\r\n        field.getCOSObject().setNeedToBeUpdated(true);\r\n        if (field.getFieldType().equals(&quot;Tx&quot;)) {\r\n            field.getWidgets().get(0).getAppearance().getCOSObject().setNeedToBeUpdated(true);\r\n        }\r\n        Log.info(&quot;set field: &quot; + field.getFullyQualifiedName() + &quot; to &quot; + formField.value);\r\n    }\r\n}\r\n```\r\nBut in adobe the checkbox is not filled (it is in my viewer in vs-code). When I tried to update the appearance I get an error that there is no widget for this `the return value of &quot;org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget.getAppearance()&quot; is null`.\r\n\r\nBut according to my creation code there should be one:\r\n```\r\nPDField formField;\r\nif (field.type.equals(&quot;checkbox&quot;)) {\r\n    formField = new PDCheckBox(form);\r\n} else {\r\n    formField = new PDTextField(form);\r\n}\r\nformField.setPartialName(field.id);\r\nif (!field.type.equals(&quot;checkbox&quot;)) {\r\n    String defaultAppearance = &quot;/Helv &quot; + (field.fontSize * height) + &quot; Tf 0 0 0 rg&quot;;\r\n    ((PDTextField) formField).setDefaultAppearance(defaultAppearance);\r\n}\r\nform.getFields().add(formField);\r\nPDAnnotationWidget widget = formField.getWidgets().get(0);\r\nLog.info(height - height * field.y);\r\nPDRectangle rect = new PDRectangle(field.x * width, height - field.y * height - field.height * height,\r\n        field.width * width,\r\n        field.height * height);\r\nwidget.setRectangle(rect);\r\nwidget.setPage(page);\r\n\r\nPDAppearanceCharacteristicsDictionary fieldAppearance = new PDAppearanceCharacteristicsDictionary(\r\n        new COSDictionary());\r\nwidget.setAppearanceCharacteristics(fieldAppearance);\r\n\r\nwidget.setPrinted(true);\r\n\r\npage.getAnnotations().add(widget);\r\n```","title":"PDCheckbox is not checked for signature","body":"<p>I am looping over my fields to update them, I have textfields and checkboxes:</p>\n<pre><code>for (FieldInput formField : formFields) {\n    PDField field = acroForm.getField(formField.id);\n    if (field != null) {\n        if (field.getFieldType() == &quot;Btn&quot; &amp;&amp; formField.value.equals(&quot;true&quot;)) {\n            ((PDCheckBox) field).check();\n        } else {\n            field.setValue(formField.value);\n        }\n        field.setReadOnly(true);\n        field.getCOSObject().setNeedToBeUpdated(true);\n        if (field.getFieldType().equals(&quot;Tx&quot;)) {\n            field.getWidgets().get(0).getAppearance().getCOSObject().setNeedToBeUpdated(true);\n        }\n        Log.info(&quot;set field: &quot; + field.getFullyQualifiedName() + &quot; to &quot; + formField.value);\n    }\n}\n</code></pre>\n<p>But in adobe the checkbox is not filled (it is in my viewer in vs-code). When I tried to update the appearance I get an error that there is no widget for this <code>the return value of &quot;org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget.getAppearance()&quot; is null</code>.</p>\n<p>But according to my creation code there should be one:</p>\n<pre><code>PDField formField;\nif (field.type.equals(&quot;checkbox&quot;)) {\n    formField = new PDCheckBox(form);\n} else {\n    formField = new PDTextField(form);\n}\nformField.setPartialName(field.id);\nif (!field.type.equals(&quot;checkbox&quot;)) {\n    String defaultAppearance = &quot;/Helv &quot; + (field.fontSize * height) + &quot; Tf 0 0 0 rg&quot;;\n    ((PDTextField) formField).setDefaultAppearance(defaultAppearance);\n}\nform.getFields().add(formField);\nPDAnnotationWidget widget = formField.getWidgets().get(0);\nLog.info(height - height * field.y);\nPDRectangle rect = new PDRectangle(field.x * width, height - field.y * height - field.height * height,\n        field.width * width,\n        field.height * height);\nwidget.setRectangle(rect);\nwidget.setPage(page);\n\nPDAppearanceCharacteristicsDictionary fieldAppearance = new PDAppearanceCharacteristicsDictionary(\n        new COSDictionary());\nwidget.setAppearanceCharacteristics(fieldAppearance);\n\nwidget.setPrinted(true);\n\npage.getAnnotations().add(widget);\n</code></pre>\n"},{"tags":["java","arrays","class","oop","constructor"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675966001,"post_id":75402673,"comment_id":133046411,"body_markdown":"`int[] example;` is the same as `int[] example = null;`, you never initialized your array.","body":"<code>int[] example;</code> is the same as <code>int[] example = null;</code>, you never initialized your array."},{"owner":{"account_id":20126468,"reputation":3,"user_id":14759806,"display_name":"stereophonicSound"},"score":0,"creation_date":1675966323,"post_id":75402673,"comment_id":133046500,"body_markdown":"@Rogue original code had\n`Model[] models = new Model[4];`\nin `CarBrand`&#39;s constructor body but there is still this error. I suppose this line doesn&#39;t initialize array too?","body":"@Rogue original code had <code>Model[] models = new Model[4];</code> in <code>CarBrand</code>&#39;s constructor body but there is still this error. I suppose this line doesn&#39;t initialize array too?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675966613,"post_id":75402673,"comment_id":133046597,"body_markdown":"That line you added makes a local `models` variable, but it does not assign to the field `this.models`, which is still null when (implicitly) referenced in `Model`&#39;s constructor.","body":"That line you added makes a local <code>models</code> variable, but it does not assign to the field <code>this.models</code>, which is still null when (implicitly) referenced in <code>Model</code>&#39;s constructor."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676034623,"post_id":75402673,"comment_id":133061072,"body_markdown":"The line `public Model[4] models;` doesn’t even pass the compiler. There can’t be a `NullPointerException` with the code you’ve posted.","body":"The line <code>public Model[4] models;</code> doesn’t even pass the compiler. There can’t be a <code>NullPointerException</code> with the code you’ve posted."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675966468,"creation_date":1675966468,"answer_id":75402798,"question_id":75402673,"body_markdown":"Your syntax is generally incorrect: you would need\r\n\r\n```\r\n  public Model[] models; // not Model[4]\r\n  public int curIndex = 0;\r\n  public CarBrand(String name) {\r\n    brand = name;\r\n    models = new Model[4]; // not Model[]\r\n  }\r\n```","title":"Java: how can I put new object into array of objects of its class inside a constructor function? Is it possible?","body":"<p>Your syntax is generally incorrect: you would need</p>\n<pre><code>  public Model[] models; // not Model[4]\n  public int curIndex = 0;\n  public CarBrand(String name) {\n    brand = name;\n    models = new Model[4]; // not Model[]\n  }\n</code></pre>\n"}],"owner":{"account_id":20126468,"reputation":3,"user_id":14759806,"display_name":"stereophonicSound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75402798,"answer_count":1,"score":0,"last_activity_date":1675966468,"creation_date":1675965809,"question_id":75402673,"body_markdown":"everyone! I&#39;m total noob in Java and in programming in general and I want to implement `CarBrand` class with its&#39; inner `Model` class (let there be no more than 4 models for each brand). For example:\r\n```java\r\npublic class CarBrand {\r\n  public String brand;\r\n  public Model[4] models;\r\n  public int curIndex = 0;\r\n  public CarBrand(String name) {\r\n    brand = name;\r\n    Model[] models = new Model[4];\r\n  }\r\n\r\n  public class Model {\r\n    public String modelName;\r\n    public Model(String name) {\r\n      modelName = name;\r\n      models[curIndex] = this;\r\n      curIndex = curIndex + 1;\r\n    }\r\n  }\r\n}\r\n```\r\nI want to make new instance of `CarBrand` and its new `Model` (and add this model into `models` array of new instance of `CarBrand`) this way:\r\n```java\r\npublic class App {\r\n  public static void main(String args[]) {\r\n    CarBrand subaru = new Auto(&quot;Subaru&quot;);\r\n    CarBrand.Model legacy = subaru.new Model(&quot;Legacy&quot;);\r\n    System.out.println(subaru.models[0]);\r\n  }\r\n}\r\n```\r\nBut unfortunately running `App` finishes with error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot store to object array because &quot;&lt;parameter1&gt;.models&quot; is null\r\n```\r\nWhat is the reason behind that? Is there a way to add a new model in brand&#39;s `models` array? I suppose, the object wasn&#39;t created yet, that&#39;s why there is an error. How far am I from the truth? ","title":"Java: how can I put new object into array of objects of its class inside a constructor function? Is it possible?","body":"<p>everyone! I'm total noob in Java and in programming in general and I want to implement <code>CarBrand</code> class with its' inner <code>Model</code> class (let there be no more than 4 models for each brand). For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CarBrand {\n  public String brand;\n  public Model[4] models;\n  public int curIndex = 0;\n  public CarBrand(String name) {\n    brand = name;\n    Model[] models = new Model[4];\n  }\n\n  public class Model {\n    public String modelName;\n    public Model(String name) {\n      modelName = name;\n      models[curIndex] = this;\n      curIndex = curIndex + 1;\n    }\n  }\n}\n</code></pre>\n<p>I want to make new instance of <code>CarBrand</code> and its new <code>Model</code> (and add this model into <code>models</code> array of new instance of <code>CarBrand</code>) this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n  public static void main(String args[]) {\n    CarBrand subaru = new Auto(&quot;Subaru&quot;);\n    CarBrand.Model legacy = subaru.new Model(&quot;Legacy&quot;);\n    System.out.println(subaru.models[0]);\n  }\n}\n</code></pre>\n<p>But unfortunately running <code>App</code> finishes with error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot store to object array because &quot;&lt;parameter1&gt;.models&quot; is null\n</code></pre>\n<p>What is the reason behind that? Is there a way to add a new model in brand's <code>models</code> array? I suppose, the object wasn't created yet, that's why there is an error. How far am I from the truth?</p>\n"},{"tags":["java","android","android-studio","service","speech-recognition"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1654471266,"post_id":72511576,"comment_id":128092794,"body_markdown":"See my answer to [a similar question](https://stackoverflow.com/a/63804647/295004)","body":"See my answer to <a href=\"https://stackoverflow.com/a/63804647/295004\">a similar question</a>"}],"answers":[{"tags":[],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675965854,"creation_date":1675965854,"answer_id":75402684,"question_id":72511576,"body_markdown":"By design, all [SpeechRecognizer][1]&#39;s methods *&quot;must be invoked only from the main application thread.&quot;*\r\n\r\nMain application thread is also referred to as &quot;[UI thread][2]&quot;.\r\n\r\nThis means that [SpeechRecognizer][1] cannot run in a service.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/speech/SpeechRecognizer\r\n  [2]: https://stackoverflow.com/q/75100880/2597758","title":"How to make my virtual assistant app run always in the background? (android studio)","body":"<p>By design, all <a href=\"https://developer.android.com/reference/android/speech/SpeechRecognizer\" rel=\"nofollow noreferrer\">SpeechRecognizer</a>'s methods <em>&quot;must be invoked only from the main application thread.&quot;</em></p>\n<p>Main application thread is also referred to as &quot;<a href=\"https://stackoverflow.com/q/75100880/2597758\">UI thread</a>&quot;.</p>\n<p>This means that <a href=\"https://developer.android.com/reference/android/speech/SpeechRecognizer\" rel=\"nofollow noreferrer\">SpeechRecognizer</a> cannot run in a service.</p>\n"}],"owner":{"account_id":17988024,"reputation":23,"user_id":13078600,"display_name":"AGJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675965854,"creation_date":1654468915,"question_id":72511576,"body_markdown":"I created a virtual assistant app in Android Studio and it working fine until I exit the app window and the process stops. I want to make the app run in the background always so when it get&#39;s the wake word anytime it will respond. I tried using a Service but I couldn&#39;t make it work.\r\nCan you help me please?\r\n\r\nThis is my code:\r\n\r\n```\r\npackage com.eylon.jarvis;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.media.MediaPlayer;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.speech.RecognitionListener;\r\nimport android.speech.RecognizerIntent;\r\nimport android.speech.SpeechRecognizer;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport android.widget.ToggleButton;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Locale;\r\n\r\nimport ai.picovoice.porcupine.Porcupine;\r\nimport ai.picovoice.porcupine.PorcupineActivationException;\r\nimport ai.picovoice.porcupine.PorcupineActivationLimitException;\r\nimport ai.picovoice.porcupine.PorcupineActivationRefusedException;\r\nimport ai.picovoice.porcupine.PorcupineActivationThrottledException;\r\nimport ai.picovoice.porcupine.PorcupineException;\r\nimport ai.picovoice.porcupine.PorcupineInvalidArgumentException;\r\nimport ai.picovoice.porcupine.PorcupineManager;\r\nimport ai.picovoice.porcupine.PorcupineManagerCallback;\r\n\r\nenum AppState {\r\n    STOPPED,\r\n    WAKEWORD,\r\n    STT\r\n}\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String ACCESS_KEY = &quot;Oc8ZOSkVtJHWKhVW3iGMedHDSCSXn6P4vQtrQBl8hNLXwLmxLhs2AA==&quot;;\r\n\r\n    private PorcupineManager porcupineManager = null;\r\n\r\n    TextView textView;\r\n    ToggleButton button;\r\n\r\n    private SpeechRecognizer speechRecognizer;\r\n    private Intent speechRecognizerIntent;\r\n    private AppState currentState;\r\n\r\n    private void displayError(String message) {\r\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private final PorcupineManagerCallback porcupineManagerCallback = new PorcupineManagerCallback() {\r\n        @Override\r\n        public void invoke(int keywordIndex) {\r\n            runOnUiThread(() -&gt; {\r\n                textView.setText(&quot;&quot;);\r\n                try {\r\n                    // need to stop porcupine manager before speechRecognizer can start listening.\r\n                    porcupineManager.stop();\r\n                } catch (PorcupineException e) {\r\n                    displayError(&quot;Failed to stop Porcupine.&quot;);\r\n                    return;\r\n                }\r\n\r\n                speechRecognizer.startListening(speechRecognizerIntent);\r\n                currentState = AppState.STT;\r\n            });\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.text1);\r\n        button = findViewById(R.id.button1);\r\n\r\n        if (!SpeechRecognizer.isRecognitionAvailable(this)) {\r\n            displayError(&quot;Speech Recognition not available.&quot;);\r\n        }\r\n\r\n        // Creating the Intent of the Google speech to text and adding extra variables.\r\n        speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en-US&quot;);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, &quot;en-US&quot;);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_ONLY_RETURN_LANGUAGE_PREFERENCE, &quot;en-US&quot;);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_PROMPT, &quot;Start speaking&quot;);\r\n\r\n        try {\r\n            porcupineManager = new PorcupineManager.Builder()\r\n                    .setAccessKey(ACCESS_KEY)\r\n                    .setKeyword(Porcupine.BuiltInKeyword.JARVIS)\r\n                    .setSensitivity(0.7f)\r\n                    .build(getApplicationContext(), porcupineManagerCallback);\r\n        } catch (PorcupineInvalidArgumentException e) {\r\n            onPorcupineInitError(\r\n                    String.format(&quot;%s\\nEnsure your accessKey &#39;%s&#39; is a valid access key.&quot;, e.getMessage(), ACCESS_KEY)\r\n            );\r\n        } catch (PorcupineActivationException e) {\r\n            onPorcupineInitError(&quot;AccessKey activation error&quot;);\r\n        } catch (PorcupineActivationLimitException e) {\r\n            onPorcupineInitError(&quot;AccessKey reached its device limit&quot;);\r\n        } catch (PorcupineActivationRefusedException e) {\r\n            onPorcupineInitError(&quot;AccessKey refused&quot;);\r\n        } catch (PorcupineActivationThrottledException e) {\r\n            onPorcupineInitError(&quot;AccessKey has been throttled&quot;);\r\n        } catch (PorcupineException e) {\r\n            onPorcupineInitError(&quot;Failed to initialize Porcupine &quot; + e.getMessage());\r\n        }\r\n\r\n        currentState = AppState.STOPPED;\r\n    }\r\n\r\n    private void onPorcupineInitError(final String errorMessage) {\r\n        runOnUiThread(() -&gt; {\r\n            TextView errorText = findViewById(R.id.text1);\r\n            errorText.setText(errorMessage);\r\n\r\n            ToggleButton recordButton = findViewById(R.id.button1);\r\n            recordButton.setChecked(false);\r\n            recordButton.setEnabled(false);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        if (button.isChecked()) {\r\n            stopService();\r\n            button.toggle();\r\n            speechRecognizer.destroy();\r\n        }\r\n\r\n        super.onStop();\r\n    }\r\n\r\n    private boolean hasRecordPermission() {\r\n        return ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO)\r\n                == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    private void requestRecordPermission() {\r\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO},\r\n                0);\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    private void playback(int milliSeconds) {\r\n        speechRecognizer.stopListening();\r\n        currentState = AppState.WAKEWORD;\r\n\r\n        new Handler(Looper.getMainLooper()).postDelayed(() -&gt; {\r\n            if (currentState == AppState.WAKEWORD) {\r\n                porcupineManager.start();\r\n                textView.setText(&quot;Listening for &quot; + Porcupine.BuiltInKeyword.JARVIS + &quot; ...&quot;);\r\n            }\r\n        }, milliSeconds);\r\n    }\r\n\r\n    private void stopService() {\r\n        if (porcupineManager != null) {\r\n            try {\r\n                porcupineManager.stop();\r\n            } catch (PorcupineException e) {\r\n                displayError(&quot;Failed to stop porcupine.&quot;);\r\n            }\r\n        }\r\n\r\n        textView.setText(&quot;&quot;);\r\n        speechRecognizer.stopListening();\r\n        speechRecognizer.destroy();\r\n        currentState = AppState.STOPPED;\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,\r\n                                           @NonNull String[] permissions,\r\n                                           @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (grantResults.length == 0 || grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n            displayError(&quot;Microphone permission is required for this app!&quot;);\r\n            requestRecordPermission();\r\n        } else {\r\n            speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n            speechRecognizer.setRecognitionListener(new SpeechListener());\r\n            playback(0);\r\n        }\r\n    }\r\n\r\n    public void process(View view) {\r\n        if (button.isChecked()) {\r\n            if (hasRecordPermission()) {\r\n                speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n                speechRecognizer.setRecognitionListener(new SpeechListener());\r\n                playback(0);\r\n            } else {\r\n                requestRecordPermission();\r\n            }\r\n        } else {\r\n            stopService();\r\n        }\r\n    }\r\n\r\n    private class SpeechListener implements RecognitionListener {\r\n        @Override\r\n        public void onReadyForSpeech(Bundle params) {\r\n        }\r\n\r\n        @Override\r\n        public void onBeginningOfSpeech() {\r\n        }\r\n\r\n        @Override\r\n        public void onRmsChanged(float rmsdB) {\r\n        }\r\n\r\n        @Override\r\n        public void onBufferReceived(byte[] buffer) {\r\n        }\r\n\r\n        @Override\r\n        public void onEndOfSpeech() {\r\n        }\r\n\r\n        @SuppressLint(&quot;SwitchIntDef&quot;)\r\n        @Override\r\n        public void onError(int error) {\r\n            switch (error) {\r\n                case SpeechRecognizer.ERROR_AUDIO:\r\n                    displayError(&quot;Error recording audio.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS:\r\n                    displayError(&quot;Insufficient permissions.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_NETWORK_TIMEOUT:\r\n                case SpeechRecognizer.ERROR_NETWORK:\r\n                    displayError(&quot;Network Error.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_NO_MATCH:\r\n                    if (button.isChecked()) {\r\n                        displayError(&quot;No recognition result matched.&quot;);\r\n                        playback(1000);\r\n                    }\r\n                case SpeechRecognizer.ERROR_CLIENT:\r\n                    return;\r\n                case SpeechRecognizer.ERROR_RECOGNIZER_BUSY:\r\n                    displayError(&quot;Recognition service is busy.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_SERVER:\r\n                    displayError(&quot;Server Error.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_SPEECH_TIMEOUT:\r\n                    displayError(&quot;No speech input.&quot;);\r\n                    break;\r\n                default:\r\n                    displayError(&quot;Something wrong occurred.&quot;);\r\n            }\r\n\r\n            stopService();\r\n            button.toggle();\r\n        }\r\n\r\n        @Override\r\n        public void onResults(Bundle results) {\r\n            ArrayList&lt;String&gt; data = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n            audioResponseSelecting(data.get(0).toLowerCase(Locale.ROOT));\r\n            textView.setText(data.get(0));\r\n\r\n            playback(3000);\r\n        }\r\n\r\n        @Override\r\n        public void onPartialResults(Bundle partialResults) {\r\n            ArrayList&lt;String&gt; data = partialResults.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n            audioResponseSelecting(data.get(0).toLowerCase(Locale.ROOT));\r\n            textView.setText(data.get(0));\r\n        }\r\n\r\n        @Override\r\n        public void onEvent(int eventType, Bundle params) {\r\n        }\r\n    }\r\n\r\n    // The response selecting function.\r\n    public void audioResponseSelecting(String transcript)\r\n    {\r\n        if (transcript.equals((&quot;Good morning&quot;).toLowerCase(Locale.ROOT)))\r\n        {\r\n            executeResponse(R.raw.good_morning);\r\n        }\r\n        else if (transcript.equals((&quot;Who is your creator&quot;).toLowerCase(Locale.ROOT)))\r\n        {\r\n            executeResponse(R.raw.creator);\r\n        }\r\n    }\r\n\r\n    // The audio file response execution function.\r\n    public void executeResponse(final int audio)\r\n    {\r\n        MediaPlayer response = MediaPlayer.create(MainActivity.this, audio);\r\n        response.start();\r\n    }\r\n}\r\n```\r\n","title":"How to make my virtual assistant app run always in the background? (android studio)","body":"<p>I created a virtual assistant app in Android Studio and it working fine until I exit the app window and the process stops. I want to make the app run in the background always so when it get's the wake word anytime it will respond. I tried using a Service but I couldn't make it work.\nCan you help me please?</p>\n<p>This is my code:</p>\n<pre><code>package com.eylon.jarvis;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.speech.RecognitionListener;\nimport android.speech.RecognizerIntent;\nimport android.speech.SpeechRecognizer;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.ToggleButton;\n\nimport java.util.ArrayList;\nimport java.util.Locale;\n\nimport ai.picovoice.porcupine.Porcupine;\nimport ai.picovoice.porcupine.PorcupineActivationException;\nimport ai.picovoice.porcupine.PorcupineActivationLimitException;\nimport ai.picovoice.porcupine.PorcupineActivationRefusedException;\nimport ai.picovoice.porcupine.PorcupineActivationThrottledException;\nimport ai.picovoice.porcupine.PorcupineException;\nimport ai.picovoice.porcupine.PorcupineInvalidArgumentException;\nimport ai.picovoice.porcupine.PorcupineManager;\nimport ai.picovoice.porcupine.PorcupineManagerCallback;\n\nenum AppState {\n    STOPPED,\n    WAKEWORD,\n    STT\n}\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String ACCESS_KEY = &quot;Oc8ZOSkVtJHWKhVW3iGMedHDSCSXn6P4vQtrQBl8hNLXwLmxLhs2AA==&quot;;\n\n    private PorcupineManager porcupineManager = null;\n\n    TextView textView;\n    ToggleButton button;\n\n    private SpeechRecognizer speechRecognizer;\n    private Intent speechRecognizerIntent;\n    private AppState currentState;\n\n    private void displayError(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n\n    private final PorcupineManagerCallback porcupineManagerCallback = new PorcupineManagerCallback() {\n        @Override\n        public void invoke(int keywordIndex) {\n            runOnUiThread(() -&gt; {\n                textView.setText(&quot;&quot;);\n                try {\n                    // need to stop porcupine manager before speechRecognizer can start listening.\n                    porcupineManager.stop();\n                } catch (PorcupineException e) {\n                    displayError(&quot;Failed to stop Porcupine.&quot;);\n                    return;\n                }\n\n                speechRecognizer.startListening(speechRecognizerIntent);\n                currentState = AppState.STT;\n            });\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.text1);\n        button = findViewById(R.id.button1);\n\n        if (!SpeechRecognizer.isRecognitionAvailable(this)) {\n            displayError(&quot;Speech Recognition not available.&quot;);\n        }\n\n        // Creating the Intent of the Google speech to text and adding extra variables.\n        speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en-US&quot;);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, &quot;en-US&quot;);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_ONLY_RETURN_LANGUAGE_PREFERENCE, &quot;en-US&quot;);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_PROMPT, &quot;Start speaking&quot;);\n\n        try {\n            porcupineManager = new PorcupineManager.Builder()\n                    .setAccessKey(ACCESS_KEY)\n                    .setKeyword(Porcupine.BuiltInKeyword.JARVIS)\n                    .setSensitivity(0.7f)\n                    .build(getApplicationContext(), porcupineManagerCallback);\n        } catch (PorcupineInvalidArgumentException e) {\n            onPorcupineInitError(\n                    String.format(&quot;%s\\nEnsure your accessKey '%s' is a valid access key.&quot;, e.getMessage(), ACCESS_KEY)\n            );\n        } catch (PorcupineActivationException e) {\n            onPorcupineInitError(&quot;AccessKey activation error&quot;);\n        } catch (PorcupineActivationLimitException e) {\n            onPorcupineInitError(&quot;AccessKey reached its device limit&quot;);\n        } catch (PorcupineActivationRefusedException e) {\n            onPorcupineInitError(&quot;AccessKey refused&quot;);\n        } catch (PorcupineActivationThrottledException e) {\n            onPorcupineInitError(&quot;AccessKey has been throttled&quot;);\n        } catch (PorcupineException e) {\n            onPorcupineInitError(&quot;Failed to initialize Porcupine &quot; + e.getMessage());\n        }\n\n        currentState = AppState.STOPPED;\n    }\n\n    private void onPorcupineInitError(final String errorMessage) {\n        runOnUiThread(() -&gt; {\n            TextView errorText = findViewById(R.id.text1);\n            errorText.setText(errorMessage);\n\n            ToggleButton recordButton = findViewById(R.id.button1);\n            recordButton.setChecked(false);\n            recordButton.setEnabled(false);\n        });\n    }\n\n    @Override\n    protected void onStop() {\n        if (button.isChecked()) {\n            stopService();\n            button.toggle();\n            speechRecognizer.destroy();\n        }\n\n        super.onStop();\n    }\n\n    private boolean hasRecordPermission() {\n        return ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO)\n                == PackageManager.PERMISSION_GRANTED;\n    }\n\n    private void requestRecordPermission() {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO},\n                0);\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    private void playback(int milliSeconds) {\n        speechRecognizer.stopListening();\n        currentState = AppState.WAKEWORD;\n\n        new Handler(Looper.getMainLooper()).postDelayed(() -&gt; {\n            if (currentState == AppState.WAKEWORD) {\n                porcupineManager.start();\n                textView.setText(&quot;Listening for &quot; + Porcupine.BuiltInKeyword.JARVIS + &quot; ...&quot;);\n            }\n        }, milliSeconds);\n    }\n\n    private void stopService() {\n        if (porcupineManager != null) {\n            try {\n                porcupineManager.stop();\n            } catch (PorcupineException e) {\n                displayError(&quot;Failed to stop porcupine.&quot;);\n            }\n        }\n\n        textView.setText(&quot;&quot;);\n        speechRecognizer.stopListening();\n        speechRecognizer.destroy();\n        currentState = AppState.STOPPED;\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           @NonNull String[] permissions,\n                                           @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (grantResults.length == 0 || grantResults[0] == PackageManager.PERMISSION_DENIED) {\n            displayError(&quot;Microphone permission is required for this app!&quot;);\n            requestRecordPermission();\n        } else {\n            speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n            speechRecognizer.setRecognitionListener(new SpeechListener());\n            playback(0);\n        }\n    }\n\n    public void process(View view) {\n        if (button.isChecked()) {\n            if (hasRecordPermission()) {\n                speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n                speechRecognizer.setRecognitionListener(new SpeechListener());\n                playback(0);\n            } else {\n                requestRecordPermission();\n            }\n        } else {\n            stopService();\n        }\n    }\n\n    private class SpeechListener implements RecognitionListener {\n        @Override\n        public void onReadyForSpeech(Bundle params) {\n        }\n\n        @Override\n        public void onBeginningOfSpeech() {\n        }\n\n        @Override\n        public void onRmsChanged(float rmsdB) {\n        }\n\n        @Override\n        public void onBufferReceived(byte[] buffer) {\n        }\n\n        @Override\n        public void onEndOfSpeech() {\n        }\n\n        @SuppressLint(&quot;SwitchIntDef&quot;)\n        @Override\n        public void onError(int error) {\n            switch (error) {\n                case SpeechRecognizer.ERROR_AUDIO:\n                    displayError(&quot;Error recording audio.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS:\n                    displayError(&quot;Insufficient permissions.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_NETWORK_TIMEOUT:\n                case SpeechRecognizer.ERROR_NETWORK:\n                    displayError(&quot;Network Error.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_NO_MATCH:\n                    if (button.isChecked()) {\n                        displayError(&quot;No recognition result matched.&quot;);\n                        playback(1000);\n                    }\n                case SpeechRecognizer.ERROR_CLIENT:\n                    return;\n                case SpeechRecognizer.ERROR_RECOGNIZER_BUSY:\n                    displayError(&quot;Recognition service is busy.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_SERVER:\n                    displayError(&quot;Server Error.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_SPEECH_TIMEOUT:\n                    displayError(&quot;No speech input.&quot;);\n                    break;\n                default:\n                    displayError(&quot;Something wrong occurred.&quot;);\n            }\n\n            stopService();\n            button.toggle();\n        }\n\n        @Override\n        public void onResults(Bundle results) {\n            ArrayList&lt;String&gt; data = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n            audioResponseSelecting(data.get(0).toLowerCase(Locale.ROOT));\n            textView.setText(data.get(0));\n\n            playback(3000);\n        }\n\n        @Override\n        public void onPartialResults(Bundle partialResults) {\n            ArrayList&lt;String&gt; data = partialResults.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n            audioResponseSelecting(data.get(0).toLowerCase(Locale.ROOT));\n            textView.setText(data.get(0));\n        }\n\n        @Override\n        public void onEvent(int eventType, Bundle params) {\n        }\n    }\n\n    // The response selecting function.\n    public void audioResponseSelecting(String transcript)\n    {\n        if (transcript.equals((&quot;Good morning&quot;).toLowerCase(Locale.ROOT)))\n        {\n            executeResponse(R.raw.good_morning);\n        }\n        else if (transcript.equals((&quot;Who is your creator&quot;).toLowerCase(Locale.ROOT)))\n        {\n            executeResponse(R.raw.creator);\n        }\n    }\n\n    // The audio file response execution function.\n    public void executeResponse(final int audio)\n    {\n        MediaPlayer response = MediaPlayer.create(MainActivity.this, audio);\n        response.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","kotlin","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1675960266,"post_id":75401521,"comment_id":133044416,"body_markdown":"&quot;Should&quot; they? :shrug: But they don&#39;t, so... it&#39;s unclear what kind of answer you&#39;re looking for.","body":"&quot;Should&quot; they? :shrug: But they don&#39;t, so... it&#39;s unclear what kind of answer you&#39;re looking for."}],"owner":{"account_id":8368622,"reputation":86,"user_id":6284416,"display_name":"Mr. Tomato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675965596,"creation_date":1675959858,"question_id":75401521,"body_markdown":"I understand that counting many entries in a database may return more than int_max entries and therefore [Spring CRUD repository&#39;s count()](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#count()) method has long as return type.\r\n\r\n\r\nHowever, assuming that the DB contains more than int_max entries and I issue an update/delete query for all entries, I&#39;d also need a long to return the number of updated/deleted entries.\r\n\r\nTherefore I defined my Spring Data method as \r\n\r\n```\r\n@Modifying\r\n@Query(nativeQuery = true, value = &quot;delete from AUDIT_CREATE_SAVINGS_EASY_ACCESS_ACCOUNT where timestamp &lt; :cutOff&quot;)\r\nfun deleteByTimestampBefore(@Param(&quot;cutOff&quot;) cutOff: Instant): Long\r\n```\r\n\r\nTo my surprise the invocation of this method causes a stack trace \r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type! Offending method: public abstract long de.foo.FooRepository.deleteByTimestampBefore(java.time.Instant); nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!\r\n[...]\r\n```\r\n\r\nI guess it makes sense since [JPA Query&#39;s executeUpdate()](https://docs.oracle.com/javaee/7/api/javax/persistence/Query.html#executeUpdate--) method returns int, but I am puzzled why that is the case.\r\n\r\nIn any way, shouldn&#39;t count and update-queries return the same type - i.e. int or long if int is too small?","title":"Why do Spring CRUD repository updates return int, but count long?","body":"<p>I understand that counting many entries in a database may return more than int_max entries and therefore <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#count()\" rel=\"nofollow noreferrer\">Spring CRUD repository's count()</a> method has long as return type.</p>\n<p>However, assuming that the DB contains more than int_max entries and I issue an update/delete query for all entries, I'd also need a long to return the number of updated/deleted entries.</p>\n<p>Therefore I defined my Spring Data method as</p>\n<pre><code>@Modifying\n@Query(nativeQuery = true, value = &quot;delete from AUDIT_CREATE_SAVINGS_EASY_ACCESS_ACCOUNT where timestamp &lt; :cutOff&quot;)\nfun deleteByTimestampBefore(@Param(&quot;cutOff&quot;) cutOff: Instant): Long\n</code></pre>\n<p>To my surprise the invocation of this method causes a stack trace</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type! Offending method: public abstract long de.foo.FooRepository.deleteByTimestampBefore(java.time.Instant); nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!\n[...]\n</code></pre>\n<p>I guess it makes sense since <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Query.html#executeUpdate--\" rel=\"nofollow noreferrer\">JPA Query's executeUpdate()</a> method returns int, but I am puzzled why that is the case.</p>\n<p>In any way, shouldn't count and update-queries return the same type - i.e. int or long if int is too small?</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674223223,"creation_date":1674223223,"answer_id":75185031,"question_id":75184884,"body_markdown":"Before **onCreate** you need to initialize all widget \r\nlike \r\n\r\n&gt; Button done_fab;//in JAVA\r\n\r\n&gt; private lateinit var done_fab: Button //in Kotlin\r\n\r\n//Add other here\r\n\r\nand after **setContentView** you need to initialize the same widget with name like\r\n\r\n&gt; done_fab=findViewById(R.id.done_fab);//in java\r\n\r\n&gt; done_fab= findViewById(R.id.done_fab)//in Kotlin\r\n\r\n//Add other here\r\n\r\nit will be ready to use in overall activity class.","title":"The activity and XML won&#39;t sync in Android Studio. I get the error: unresolved reference: android,toolbar. done_fab, date_p, etc","body":"<p>Before <strong>onCreate</strong> you need to initialize all widget\nlike</p>\n<blockquote>\n<p>Button done_fab;//in JAVA</p>\n</blockquote>\n<blockquote>\n<p>private lateinit var done_fab: Button //in Kotlin</p>\n</blockquote>\n<p>//Add other here</p>\n<p>and after <strong>setContentView</strong> you need to initialize the same widget with name like</p>\n<blockquote>\n<p>done_fab=findViewById(R.id.done_fab);//in java</p>\n</blockquote>\n<blockquote>\n<p>done_fab= findViewById(R.id.done_fab)//in Kotlin</p>\n</blockquote>\n<p>//Add other here</p>\n<p>it will be ready to use in overall activity class.</p>\n"}],"owner":{"account_id":27466333,"reputation":13,"user_id":20955979,"display_name":"ggwp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75185031,"answer_count":1,"score":1,"last_activity_date":1675965547,"creation_date":1674222604,"question_id":75184884,"body_markdown":"My activity does not sync with its layout xml. I really don&#39;t know why the coding seems okay. I&#39;m a beginner dev.\r\n\r\nThis is my activity using Kotlin in Android Studio:\r\n\r\n![](https://i.stack.imgur.com/rKR57.png)\r\n\r\nCode:\r\n\r\n```\r\npackage com.pkndegwa.mycarmaintenance\r\n\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.work.Data\r\nimport androidx.work.ExistingWorkPolicy.REPLACE\r\nimport androidx.work.OneTimeWorkRequest\r\nimport androidx.work.WorkManager\r\nimport kotlinx.android.synthetic.service_list_item.*\r\nimport com.google.android.material.snackbar.Snackbar.LENGTH_LONG\r\nimport com.google.android.material.snackbar.Snackbar.make\r\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_ID\r\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_WORK\r\nimport java.lang.System.currentTimeMillis\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\nimport java.util.Locale.getDefault\r\nimport java.util.concurrent.TimeUnit.MILLISECONDS\r\n\r\nclass AlarmActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.service_list_item)\r\n\r\n        userInterface()\r\n    }\r\n\r\n    private fun userInterface() {\r\n        setSupportActionBar(toolbar)\r\n\r\n        val titleNotification = getString(R.string.notification_title)\r\n\r\n        done_fab.setOnClickListener {\r\n            val customCalendar = Calendar.getInstance()\r\n            customCalendar.set(\r\n                date_p.year, date_p.month, date_p.dayOfMonth, time_p.hour, time_p.minute, 0\r\n            )\r\n            val customTime = customCalendar.timeInMillis\r\n            val currentTime = currentTimeMillis()\r\n            if (customTime &gt; currentTime) {\r\n                val data = Data.Builder().putInt(NOTIFICATION_ID, 0).build()\r\n                val delay = customTime - currentTime\r\n                scheduleNotification(delay, data)\r\n\r\n                val titleNotificationSchedule = getString(R.string.notification_schedule_title)\r\n                val patternNotificationSchedule = getString(R.string.notification_schedule_pattern)\r\n                make(\r\n                    service_card,\r\n                    titleNotificationSchedule + SimpleDateFormat(\r\n                        patternNotificationSchedule, getDefault()\r\n                    ).format(customCalendar.time).toString(),\r\n                    LENGTH_LONG\r\n                ).show()\r\n            } else {\r\n                val errorNotificationSchedule = getString(R.string.notification_schedule_error)\r\n                make(service_card, errorNotificationSchedule, LENGTH_LONG).show()\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun scheduleNotification(delay: Long, data: Data) {\r\n        val notificationWork = OneTimeWorkRequest.Builder(NotifyWork::class.java)\r\n            .setInitialDelay(delay, MILLISECONDS).setInputData(data).build()\r\n\r\n        val instanceWorkManager = WorkManager.getInstance(this)\r\n        instanceWorkManager.beginUniqueWork(NOTIFICATION_WORK, REPLACE, notificationWork).enqueue()\r\n    }\r\n}\r\n\r\n```\r\n \r\n\r\nThis is my layout.xml. This layout been use by two activity which is &quot;ServiceListAdapter&quot; and &quot;AlarmActivity&quot;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/service_card&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginHorizontal=&quot;8dp&quot;\r\n    android:layout_marginVertical=&quot;4dp&quot;\r\n    android:backgroundTint=&quot;#E9E9ED&quot;\r\n    android:clickable=&quot;true&quot;\r\n    android:focusable=&quot;true&quot;\r\n    android:minHeight=&quot;@dimen/button_min_height&quot;\r\n    app:cardElevation=&quot;1dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/services_heading_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_margin=&quot;12dp&quot;\r\n                android:layout_weight=&quot;0&quot;\r\n                android:importantForAccessibility=&quot;no&quot;\r\n                android:src=&quot;@drawable/ic_baseline_build_circle_24&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/services&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/services_done_list&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;Oil Filer, Spark Plugs, Battery&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/services_expand_view&quot;\r\n                android:layout_width=&quot;32dp&quot;\r\n                android:layout_height=&quot;32dp&quot;\r\n                android:layout_margin=&quot;12dp&quot;\r\n                android:layout_weight=&quot;0&quot;\r\n                android:contentDescription=&quot;@string/expand_more_button&quot;\r\n                android:src=&quot;@drawable/ic_baseline_expand_more_24&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;com.google.android.material.divider.MaterialDivider\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/services_details_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingHorizontal=&quot;6dp&quot;\r\n            android:paddingTop=&quot;0dp&quot;\r\n            android:paddingBottom=&quot;8dp&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/services_left_layout&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/services_left_layout&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_left_layout&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/services_right_layout&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/service_date&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/service_date_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;01 Nov 2022&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/current_mileage&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/current_mileage_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;2,000 km&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/next_service_mileage&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/next_service_mileage_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;4,000 km&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_right_layout&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/services_left_layout&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/next_service_date&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/next_service_date_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;01 Mar 2023&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/total_cost&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/total_cost_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;1,500 KSH&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/service_notes_title_text_view&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;24dp&quot;\r\n                android:text=&quot;@string/notes&quot;\r\n                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/services_left_layout&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/service_notes_text_view&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_title_text_view&quot;\r\n                tools:text=&quot;Testing out the notes appearance&quot; /&gt;\r\n\r\n            &lt;!--            This section is to create our alarm from different page since Examiner--&gt;\r\n            &lt;!--            want the user to separate the alarm from the add service --&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/titleET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_text_view&quot;\r\n                android:hint=&quot;Title for your notification&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;\r\n                android:autofillHints=&quot;Which Car&quot; /&gt;\r\n\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/messageET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;You can set your own notification here&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/titleET&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;\r\n                android:autofillHints=&quot;what service&quot; /&gt;\r\n\r\n            &lt;DatePicker\r\n                android:id=&quot;@+id/date_p&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;-30dp&quot;\r\n                android:layout_marginRight=&quot;-30dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:calendarViewShown=&quot;false&quot;\r\n                android:datePickerMode=&quot;spinner&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/messageET&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n            &lt;TimePicker\r\n                android:id=&quot;@+id/time_p&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;-30dp&quot;\r\n                android:layout_marginRight=&quot;-30dp&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                android:timePickerMode=&quot;spinner&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/date_p&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/done_fab&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:text=&quot;schedule_notification&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/time_p&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_actions_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;end|center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/done_fab&quot;&gt;\r\n\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/edit_service_button&quot;\r\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;4dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;4dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:text=&quot;@string/edit&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_edit_24&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/delete_service_button&quot;\r\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;2dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;4dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:text=&quot;@string/delete&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_delete_24&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/com.google.android.material.card.MaterialCardView&gt;\r\n```\r\n","title":"The activity and XML won&#39;t sync in Android Studio. I get the error: unresolved reference: android,toolbar. done_fab, date_p, etc","body":"<p>My activity does not sync with its layout xml. I really don't know why the coding seems okay. I'm a beginner dev.</p>\n<p>This is my activity using Kotlin in Android Studio:</p>\n<p><img src=\"https://i.stack.imgur.com/rKR57.png\" alt=\"\" /></p>\n<p>Code:</p>\n<pre><code>package com.pkndegwa.mycarmaintenance\n\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.work.Data\nimport androidx.work.ExistingWorkPolicy.REPLACE\nimport androidx.work.OneTimeWorkRequest\nimport androidx.work.WorkManager\nimport kotlinx.android.synthetic.service_list_item.*\nimport com.google.android.material.snackbar.Snackbar.LENGTH_LONG\nimport com.google.android.material.snackbar.Snackbar.make\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_ID\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_WORK\nimport java.lang.System.currentTimeMillis\nimport java.text.SimpleDateFormat\nimport java.util.*\nimport java.util.Locale.getDefault\nimport java.util.concurrent.TimeUnit.MILLISECONDS\n\nclass AlarmActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.service_list_item)\n\n        userInterface()\n    }\n\n    private fun userInterface() {\n        setSupportActionBar(toolbar)\n\n        val titleNotification = getString(R.string.notification_title)\n\n        done_fab.setOnClickListener {\n            val customCalendar = Calendar.getInstance()\n            customCalendar.set(\n                date_p.year, date_p.month, date_p.dayOfMonth, time_p.hour, time_p.minute, 0\n            )\n            val customTime = customCalendar.timeInMillis\n            val currentTime = currentTimeMillis()\n            if (customTime &gt; currentTime) {\n                val data = Data.Builder().putInt(NOTIFICATION_ID, 0).build()\n                val delay = customTime - currentTime\n                scheduleNotification(delay, data)\n\n                val titleNotificationSchedule = getString(R.string.notification_schedule_title)\n                val patternNotificationSchedule = getString(R.string.notification_schedule_pattern)\n                make(\n                    service_card,\n                    titleNotificationSchedule + SimpleDateFormat(\n                        patternNotificationSchedule, getDefault()\n                    ).format(customCalendar.time).toString(),\n                    LENGTH_LONG\n                ).show()\n            } else {\n                val errorNotificationSchedule = getString(R.string.notification_schedule_error)\n                make(service_card, errorNotificationSchedule, LENGTH_LONG).show()\n            }\n        }\n    }\n\n    private fun scheduleNotification(delay: Long, data: Data) {\n        val notificationWork = OneTimeWorkRequest.Builder(NotifyWork::class.java)\n            .setInitialDelay(delay, MILLISECONDS).setInputData(data).build()\n\n        val instanceWorkManager = WorkManager.getInstance(this)\n        instanceWorkManager.beginUniqueWork(NOTIFICATION_WORK, REPLACE, notificationWork).enqueue()\n    }\n}\n\n</code></pre>\n<p>This is my layout.xml. This layout been use by two activity which is &quot;ServiceListAdapter&quot; and &quot;AlarmActivity&quot;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/service_card&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;8dp&quot;\n    android:layout_marginVertical=&quot;4dp&quot;\n    android:backgroundTint=&quot;#E9E9ED&quot;\n    android:clickable=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:minHeight=&quot;@dimen/button_min_height&quot;\n    app:cardElevation=&quot;1dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/services_heading_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_margin=&quot;12dp&quot;\n                android:layout_weight=&quot;0&quot;\n                android:importantForAccessibility=&quot;no&quot;\n                android:src=&quot;@drawable/ic_baseline_build_circle_24&quot; /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;2&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/services&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/services_done_list&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;Oil Filer, Spark Plugs, Battery&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/services_expand_view&quot;\n                android:layout_width=&quot;32dp&quot;\n                android:layout_height=&quot;32dp&quot;\n                android:layout_margin=&quot;12dp&quot;\n                android:layout_weight=&quot;0&quot;\n                android:contentDescription=&quot;@string/expand_more_button&quot;\n                android:src=&quot;@drawable/ic_baseline_expand_more_24&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;com.google.android.material.divider.MaterialDivider\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/services_details_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingHorizontal=&quot;6dp&quot;\n            android:paddingTop=&quot;0dp&quot;\n            android:paddingBottom=&quot;8dp&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/services_left_layout&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/services_left_layout&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_left_layout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;8dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@id/services_right_layout&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/service_date&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/service_date_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;01 Nov 2022&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/current_mileage&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/current_mileage_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;2,000 km&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/next_service_mileage&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/next_service_mileage_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;4,000 km&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_right_layout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;8dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@id/services_left_layout&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/next_service_date&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/next_service_date_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;01 Mar 2023&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/total_cost&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/total_cost_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;1,500 KSH&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/service_notes_title_text_view&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;24dp&quot;\n                android:text=&quot;@string/notes&quot;\n                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;16sp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/services_left_layout&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/service_notes_text_view&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:textAllCaps=&quot;false&quot;\n                android:textSize=&quot;14sp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_title_text_view&quot;\n                tools:text=&quot;Testing out the notes appearance&quot; /&gt;\n\n            &lt;!--            This section is to create our alarm from different page since Examiner--&gt;\n            &lt;!--            want the user to separate the alarm from the add service --&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/titleET&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_text_view&quot;\n                android:hint=&quot;Title for your notification&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;\n                android:autofillHints=&quot;Which Car&quot; /&gt;\n\n\n            &lt;EditText\n                android:id=&quot;@+id/messageET&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;You can set your own notification here&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/titleET&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;\n                android:autofillHints=&quot;what service&quot; /&gt;\n\n            &lt;DatePicker\n                android:id=&quot;@+id/date_p&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginLeft=&quot;-30dp&quot;\n                android:layout_marginRight=&quot;-30dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:calendarViewShown=&quot;false&quot;\n                android:datePickerMode=&quot;spinner&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/messageET&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n            &lt;TimePicker\n                android:id=&quot;@+id/time_p&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginLeft=&quot;-30dp&quot;\n                android:layout_marginRight=&quot;-30dp&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                android:timePickerMode=&quot;spinner&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/date_p&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/done_fab&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:text=&quot;schedule_notification&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/time_p&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_actions_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;end|center_vertical&quot;\n                android:orientation=&quot;horizontal&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/done_fab&quot;&gt;\n\n\n                &lt;Button\n                    android:id=&quot;@+id/edit_service_button&quot;\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginHorizontal=&quot;4dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;4dp&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:text=&quot;@string/edit&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_edit_24&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/delete_service_button&quot;\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginHorizontal=&quot;2dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;4dp&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:text=&quot;@string/delete&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_delete_24&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"score":0,"creation_date":1675972625,"post_id":75402594,"comment_id":133048343,"body_markdown":"Don&#39;t know why you need it generic. I would not do it. Consider using AbstractAuditable: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/AbstractAuditable.html","body":"Don&#39;t know why you need it generic. I would not do it. Consider using AbstractAuditable: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/AbstractAuditable.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":15256646,"reputation":41,"user_id":11008159,"display_name":"parisa golmohammadi"},"score":0,"creation_date":1676055407,"post_id":75402594,"comment_id":133067506,"body_markdown":"@RobertNiestroj\nI have different entities with some of the same behaviors that I don&#39;t want to be repeated","body":"@RobertNiestroj I have different entities with some of the same behaviors that I don&#39;t want to be repeated"}],"owner":{"account_id":15256646,"reputation":41,"user_id":11008159,"display_name":"parisa golmohammadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675965372,"creation_date":1675965372,"question_id":75402594,"body_markdown":"I need to have generic service and repository classes in my project. I wrote it this way, but I don&#39;t know if it is correct or not.\r\n \r\n**BaseModel:**\r\n\r\n     @MappedSuperclass\r\n     @Data\r\n    public class AbstractBaseEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    @Version\r\n    private int version;\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime updatedAt;\r\n\r\n    public AbstractBaseEntity() {\r\n        this.createdAt = LocalDateTime.now();\r\n        this.updatedAt = LocalDateTime.now();\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n**GenericService:**\r\n\r\n    public interface AbstractBaseService&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;{\r\n    public abstract T save(T entity);\r\n    public abstract List&lt;T&gt; findAll(); // you might want a generic Collection if u prefer\r\n\r\n    public abstract Optional&lt;T&gt; findById(ID entityId);\r\n    public abstract T update(T entity);\r\n    public abstract T updateById(T entity, ID entityId);\r\n    public abstract void delete(T entity);\r\n    public abstract void deleteById(ID entityId);\r\n    // other methods u might need to be generic\r\n\r\n}\r\n\r\n\r\nHere I inherited from base service class and Autowired repository base classes.\r\n\r\n    @Service\r\n    @Transactional\r\n    public abstract class AbstractBaseServiceImpl&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\r\n        implements AbstractBaseService&lt;T, ID&gt; {\r\n    @Autowired\r\n    private AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository;\r\n\r\n    protected abstract Class&lt;T&gt; getDomaimClass();\r\n\r\n    protected Class&lt;T&gt; domainClass = this.getDomaimClass();\r\n\r\n    @Override\r\n    public T save(T entity) {\r\n        return (T) abstractBaseRepository.save(entity);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;T&gt; findAll() {\r\n        return abstractBaseRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findById(ID entityId) {\r\n        return abstractBaseRepository.findById(entityId);\r\n    }\r\n\r\n    @Override\r\n    public T update(T entity) {\r\n        return (T) abstractBaseRepository.save(entity);\r\n    }\r\n\r\n    @Override\r\n    public T updateById(T entity, ID entityId) {\r\n        Optional&lt;T&gt; optional = abstractBaseRepository.findById(entityId);\r\n        if (optional.isPresent()) {\r\n            return (T) abstractBaseRepository.save(entity);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void delete(T entity) {\r\n        abstractBaseRepository.delete(entity);\r\n    }\r\n\r\n    @Override\r\n    public void deleteById(ID entityId) {\r\n        abstractBaseRepository.deleteById(entityId);\r\n    }\r\n\r\n**GenericRepository:**\r\nI created a basic repository class and because I needed a custom Query that was not supported by jpa, I had to add two more classes.\r\n    @Repository\r\n    public interface AbstractBaseRepository&lt;T extends AbstractBaseEntity, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt;,AbstractBaseRepositoryCustom {\r\n\r\n}\r\n\r\n    public interface AbstractBaseRepositoryCustom&lt;T extends AbstractBaseEntity,ID extends Serializable&gt; {\r\n    List&lt;T&gt; findAllByFiter(String textQuery);\r\n}\r\n\r\n    public class AbstractBaseRepositoryCustomImpl&lt;T extends AbstractBaseEntity,ID extends Serializable&gt;  implements AbstractBaseRepositoryCustom {\r\n    @PersistenceContext\r\n    EntityManager entityManager;\r\n\r\n\r\n    @Override\r\n    public List findAllByFiter(String textQuery) {\r\n        Query query=entityManager.createQuery(textQuery);\r\n        return query.getResultList();\r\n    }\r\n}\r\n\r\nI don&#39;t know that the methods and wiring in my service class are correct. Is the repository installed correctly? Please help.\r\n","title":"How to implement generic service and repository class in spring boot","body":"<p>I need to have generic service and repository classes in my project. I wrote it this way, but I don't know if it is correct or not.</p>\n<p><strong>BaseModel:</strong></p>\n<pre><code> @MappedSuperclass\n @Data\npublic class AbstractBaseEntity implements Serializable {\n\n@Id\n@GeneratedValue\nprivate Long id;\n@Version\nprivate int version;\nprivate LocalDateTime createdAt;\nprivate LocalDateTime updatedAt;\n\npublic AbstractBaseEntity() {\n    this.createdAt = LocalDateTime.now();\n    this.updatedAt = LocalDateTime.now();\n}\n</code></pre>\n<p>}</p>\n<p><strong>GenericService:</strong></p>\n<pre><code>public interface AbstractBaseService&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;{\npublic abstract T save(T entity);\npublic abstract List&lt;T&gt; findAll(); // you might want a generic Collection if u prefer\n\npublic abstract Optional&lt;T&gt; findById(ID entityId);\npublic abstract T update(T entity);\npublic abstract T updateById(T entity, ID entityId);\npublic abstract void delete(T entity);\npublic abstract void deleteById(ID entityId);\n// other methods u might need to be generic\n</code></pre>\n<p>}</p>\n<p>Here I inherited from base service class and Autowired repository base classes.</p>\n<pre><code>@Service\n@Transactional\npublic abstract class AbstractBaseServiceImpl&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\n    implements AbstractBaseService&lt;T, ID&gt; {\n@Autowired\nprivate AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository;\n\nprotected abstract Class&lt;T&gt; getDomaimClass();\n\nprotected Class&lt;T&gt; domainClass = this.getDomaimClass();\n\n@Override\npublic T save(T entity) {\n    return (T) abstractBaseRepository.save(entity);\n}\n\n@Override\npublic List&lt;T&gt; findAll() {\n    return abstractBaseRepository.findAll();\n}\n\n@Override\npublic Optional&lt;T&gt; findById(ID entityId) {\n    return abstractBaseRepository.findById(entityId);\n}\n\n@Override\npublic T update(T entity) {\n    return (T) abstractBaseRepository.save(entity);\n}\n\n@Override\npublic T updateById(T entity, ID entityId) {\n    Optional&lt;T&gt; optional = abstractBaseRepository.findById(entityId);\n    if (optional.isPresent()) {\n        return (T) abstractBaseRepository.save(entity);\n    } else {\n        return null;\n    }\n}\n\n@Override\npublic void delete(T entity) {\n    abstractBaseRepository.delete(entity);\n}\n\n@Override\npublic void deleteById(ID entityId) {\n    abstractBaseRepository.deleteById(entityId);\n}\n</code></pre>\n<p><strong>GenericRepository:</strong>\nI created a basic repository class and because I needed a custom Query that was not supported by jpa, I had to add two more classes.\n@Repository\npublic interface AbstractBaseRepository&lt;T extends AbstractBaseEntity, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt;,AbstractBaseRepositoryCustom {</p>\n<p>}</p>\n<pre><code>public interface AbstractBaseRepositoryCustom&lt;T extends AbstractBaseEntity,ID extends Serializable&gt; {\nList&lt;T&gt; findAllByFiter(String textQuery);\n</code></pre>\n<p>}</p>\n<pre><code>public class AbstractBaseRepositoryCustomImpl&lt;T extends AbstractBaseEntity,ID extends Serializable&gt;  implements AbstractBaseRepositoryCustom {\n@PersistenceContext\nEntityManager entityManager;\n\n\n@Override\npublic List findAllByFiter(String textQuery) {\n    Query query=entityManager.createQuery(textQuery);\n    return query.getResultList();\n}\n</code></pre>\n<p>}</p>\n<p>I don't know that the methods and wiring in my service class are correct. Is the repository installed correctly? Please help.</p>\n"},{"tags":["java","jwt"],"owner":{"account_id":22894818,"reputation":1,"user_id":17034485,"display_name":"vijayasarathi japa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675964233,"creation_date":1675964233,"question_id":75402416,"body_markdown":"Getting java.security.spec.InvalidKeyspecException: java.security.InvalidKeyException: IOException : aglid parse error, not a sequence\r\n\r\nOur application changed the dependency from bcprov-jdk15on to bc-fips and because of this change replaced BouncyCastleProvider to BouncyCastleFipsProvider.\r\n\r\nafter this change getting the exception as algid parse error, not a sequence.\r\n\r\nSample Code - \r\n```\r\njava.security.Security.addProvider(new org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider());\r\nString privateKey = &quot;xxx&quot;;\r\nbyte[] keyBites = DataypeConverter.parseBase64Binary(privateKey);\r\nPKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBites);\r\nKeyFactory kfac = KeyFactory.getInstance(&quot;RSA&quot;);\r\nkfac.generatePrivate(keySpec); // Getting exception on this line.\r\n```\r\n","title":"getting InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence","body":"<p>Getting java.security.spec.InvalidKeyspecException: java.security.InvalidKeyException: IOException : aglid parse error, not a sequence</p>\n<p>Our application changed the dependency from bcprov-jdk15on to bc-fips and because of this change replaced BouncyCastleProvider to BouncyCastleFipsProvider.</p>\n<p>after this change getting the exception as algid parse error, not a sequence.</p>\n<p>Sample Code -</p>\n<pre><code>java.security.Security.addProvider(new org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider());\nString privateKey = &quot;xxx&quot;;\nbyte[] keyBites = DataypeConverter.parseBase64Binary(privateKey);\nPKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBites);\nKeyFactory kfac = KeyFactory.getInstance(&quot;RSA&quot;);\nkfac.generatePrivate(keySpec); // Getting exception on this line.\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1675964180,"post_id":75402386,"comment_id":133045849,"body_markdown":"`Caused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0` Install a later java version.","body":"<code>Caused by: java.lang.UnsupportedClassVersionError: net&#47;minecraft&#47;bundler&#47;Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code> Install a later java version."}],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675964174,"creation_date":1675964174,"answer_id":75402407,"question_id":75402386,"body_markdown":"https://javaalmanac.io/bytecode/versions/\r\n\r\nYou&#39;re trying to run a java 17 program with java 8\r\n\r\nUpgrade your java installation to run it properly","title":"I am having problems with launching a minecraft server, An UnsupportedClassVersionError","body":"<p><a href=\"https://javaalmanac.io/bytecode/versions/\" rel=\"nofollow noreferrer\">https://javaalmanac.io/bytecode/versions/</a></p>\n<p>You're trying to run a java 17 program with java 8</p>\n<p>Upgrade your java installation to run it properly</p>\n"}],"owner":{"account_id":27746702,"reputation":21,"user_id":21182041,"display_name":"Hoggagf2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14189,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1676267048,"answer_count":1,"score":1,"last_activity_date":1675964174,"creation_date":1675964077,"question_id":75402386,"body_markdown":"\r\n```\r\nUncaught exception in thread &quot;main&quot;\r\njava.lang.RuntimeException: An exception occurred when launching the server!\r\n\tat net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:71)\r\nCaused by: java.lang.RuntimeException: Error invoking MC server bundler: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:102)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.locateGame(MinecraftGameProvider.java:190)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.createGameProvider(Knot.java:177)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.init(Knot.java:130)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:68)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23)\r\n\tat net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69)\r\nCaused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor$1.loadClass(BundlerProcessor.java:65)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Unknown Source)\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:85)\r\n\t... 6 more\r\n```\r\nIs the error code I get. I am launching a Fabric server, but normal server jars only give me &quot;A Java Exception has occurred&quot;.\r\n\r\nI am using Windows 11, that is probably part of the issue, and there might not be a fix, but I have to ask in case there is one. ","title":"I am having problems with launching a minecraft server, An UnsupportedClassVersionError","body":"<pre><code>Uncaught exception in thread &quot;main&quot;\njava.lang.RuntimeException: An exception occurred when launching the server!\n    at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:71)\nCaused by: java.lang.RuntimeException: Error invoking MC server bundler: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:102)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.locateGame(MinecraftGameProvider.java:190)\n    at net.fabricmc.loader.impl.launch.knot.Knot.createGameProvider(Knot.java:177)\n    at net.fabricmc.loader.impl.launch.knot.Knot.init(Knot.java:130)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:68)\n    at net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23)\n    at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69)\nCaused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor$1.loadClass(BundlerProcessor.java:65)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:85)\n    ... 6 more\n</code></pre>\n<p>Is the error code I get. I am launching a Fabric server, but normal server jars only give me &quot;A Java Exception has occurred&quot;.</p>\n<p>I am using Windows 11, that is probably part of the issue, and there might not be a fix, but I have to ask in case there is one.</p>\n"},{"tags":["java","excel","spring","spring-boot","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":17303066,"reputation":187,"user_id":12532393,"display_name":"Anant Doshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675964120,"creation_date":1675964120,"answer_id":75402394,"question_id":75352382,"body_markdown":"Try this\r\n\r\n    int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\r\n\r\n    CreationHelper helper = workbook.getCreationHelper();\r\n    ClientAnchor anchor = helper.createClientAnchor();\r\n\r\n    anchor.setCol1(colStart); //Col Start\r\n    anchor.setRow1(rowStart); //Row Start\r\n    anchor.setCol2(colEnd); //Col End\r\n    anchor.setRow2(rowEnd); //Row End\r\n\r\n    //create a picture anchored to Top-Left Corner\r\n    Drawing drawing = sheet.createDrawingPatriarch();\r\n    Picture pict = drawing.createPicture(anchor, pictureIdx);\r\n    pict.resize(1);","title":"how to resize image width and height in excel using apache poi in java","body":"<p>Try this</p>\n<pre><code>int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\n\nCreationHelper helper = workbook.getCreationHelper();\nClientAnchor anchor = helper.createClientAnchor();\n\nanchor.setCol1(colStart); //Col Start\nanchor.setRow1(rowStart); //Row Start\nanchor.setCol2(colEnd); //Col End\nanchor.setRow2(rowEnd); //Row End\n\n//create a picture anchored to Top-Left Corner\nDrawing drawing = sheet.createDrawingPatriarch();\nPicture pict = drawing.createPicture(anchor, pictureIdx);\npict.resize(1);\n</code></pre>\n"}],"owner":{"account_id":27705846,"reputation":1,"user_id":21149516,"display_name":"Prabhanshu gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675964120,"creation_date":1675601597,"question_id":75352382,"body_markdown":"I used picture.resize that not worked\r\n\r\nIf the picture size is big that it become large i want that picture fit into the excel cell\r\nif picture is big that it will resize according to the cell i want a rectange cell\r\n\r\nhere is the picture of excel sheet\r\n[enter image description here](https://i.stack.imgur.com/wB8oI.png)\r\n\r\n\r\nhere is the code that i write i inster data in two column and three rows\r\ni made it static but data will come dynamically\r\n\r\npublic static void main(String[] args) throws IOException {\r\n\r\n        Workbook workbook = new HSSFWorkbook();\r\n        Sheet sheet = workbook.createSheet(&quot;My Sheet2&quot;);\r\n\r\n        Cell cell1 = sheet.createRow(0).createCell(0);\r\n        Cell cell2 = sheet.createRow(1).createCell(0);\r\n        cell1.setCellValue(&quot;this is Image1&quot;);\r\n        cell2.setCellValue(&quot;this is Image2&quot;);\r\n\r\n        InputStream inputStream1 = new FileInputStream(&quot;src/main/resources/Image1.png&quot;);\r\n        InputStream inputStream2 = new FileInputStream(&quot;src/main/resources/Image2.png&quot;);\r\n\r\n        byte[] inputImage1 = IOUtils.toByteArray(inputStream1);\r\n        byte[] inputImage2 = IOUtils.toByteArray(inputStream2);\r\n\r\n        int inputImagePicture1 = workbook.addPicture(inputImage1 , Workbook.PICTURE_TYPE_PNG);\r\n        int inputImagePicture2 = workbook.addPicture(inputImage2 , Workbook.PICTURE_TYPE_PNG);\r\n\r\n        inputStream1.close();\r\n        inputStream2.close();\r\n\r\n        CreationHelper helper = workbook.getCreationHelper();\r\n\r\n        Drawing&lt;?&gt; drawing = sheet.createDrawingPatriarch();\r\n\r\n        ClientAnchor forImage1 = helper.createClientAnchor();\r\n        ClientAnchor forImage2 = helper.createClientAnchor();\r\n\r\n\r\n        forImage1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n        forImage2.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n\r\n        forImage1.setCol1(1);\r\n        forImage1.setCol2(2);\r\n        forImage1.setRow1(0);\r\n        forImage1.setRow2(1);\r\n\r\n        forImage2.setCol1(1);\r\n        forImage2.setCol2(2);\r\n        forImage2.setRow1(1);\r\n        forImage2.setRow2(2);\r\n\r\n         drawing.createPicture(forImage1 , inputImagePicture1);\r\n         drawing.createPicture(forImage2 , inputImagePicture2);\r\n\r\n\r\n        int widthUnit = 25*256;\r\n        sheet.setColumnWidth(1,widthUnit);\r\n\r\n        short heightUnit = 60*20;\r\n        cell1.getRow().setHeight(heightUnit);\r\n        cell2.getRow().setHeight(heightUnit);\r\n\r\n\r\n        for(int i=0; i&lt;3; i++){\r\n            sheet.autoSizeColumn(i);\r\n        }\r\n\r\n        try(FileOutputStream saveExcel = new FileOutputStream(&quot;target/newWorkbook.xls&quot;)) {\r\n              workbook.write(saveExcel);\r\n        }\r\n    }","title":"how to resize image width and height in excel using apache poi in java","body":"<p>I used picture.resize that not worked</p>\n<p>If the picture size is big that it become large i want that picture fit into the excel cell\nif picture is big that it will resize according to the cell i want a rectange cell</p>\n<p>here is the picture of excel sheet\n<a href=\"https://i.stack.imgur.com/wB8oI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>here is the code that i write i inster data in two column and three rows\ni made it static but data will come dynamically</p>\n<p>public static void main(String[] args) throws IOException {</p>\n<pre><code>    Workbook workbook = new HSSFWorkbook();\n    Sheet sheet = workbook.createSheet(&quot;My Sheet2&quot;);\n\n    Cell cell1 = sheet.createRow(0).createCell(0);\n    Cell cell2 = sheet.createRow(1).createCell(0);\n    cell1.setCellValue(&quot;this is Image1&quot;);\n    cell2.setCellValue(&quot;this is Image2&quot;);\n\n    InputStream inputStream1 = new FileInputStream(&quot;src/main/resources/Image1.png&quot;);\n    InputStream inputStream2 = new FileInputStream(&quot;src/main/resources/Image2.png&quot;);\n\n    byte[] inputImage1 = IOUtils.toByteArray(inputStream1);\n    byte[] inputImage2 = IOUtils.toByteArray(inputStream2);\n\n    int inputImagePicture1 = workbook.addPicture(inputImage1 , Workbook.PICTURE_TYPE_PNG);\n    int inputImagePicture2 = workbook.addPicture(inputImage2 , Workbook.PICTURE_TYPE_PNG);\n\n    inputStream1.close();\n    inputStream2.close();\n\n    CreationHelper helper = workbook.getCreationHelper();\n\n    Drawing&lt;?&gt; drawing = sheet.createDrawingPatriarch();\n\n    ClientAnchor forImage1 = helper.createClientAnchor();\n    ClientAnchor forImage2 = helper.createClientAnchor();\n\n\n    forImage1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n    forImage2.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n\n    forImage1.setCol1(1);\n    forImage1.setCol2(2);\n    forImage1.setRow1(0);\n    forImage1.setRow2(1);\n\n    forImage2.setCol1(1);\n    forImage2.setCol2(2);\n    forImage2.setRow1(1);\n    forImage2.setRow2(2);\n\n     drawing.createPicture(forImage1 , inputImagePicture1);\n     drawing.createPicture(forImage2 , inputImagePicture2);\n\n\n    int widthUnit = 25*256;\n    sheet.setColumnWidth(1,widthUnit);\n\n    short heightUnit = 60*20;\n    cell1.getRow().setHeight(heightUnit);\n    cell2.getRow().setHeight(heightUnit);\n\n\n    for(int i=0; i&lt;3; i++){\n        sheet.autoSizeColumn(i);\n    }\n\n    try(FileOutputStream saveExcel = new FileOutputStream(&quot;target/newWorkbook.xls&quot;)) {\n          workbook.write(saveExcel);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","pyspark","pycharm"],"comments":[{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1656278504,"post_id":72763727,"comment_id":128526781,"body_markdown":"EDIT: Successfully installed py4j-0.10.9 i was using version 0.10.9 which caused the error, installed 3.3.0 spark too which fixed errors. Hopefully it helps someone else.","body":"EDIT: Successfully installed py4j-0.10.9 i was using version 0.10.9 which caused the error, installed 3.3.0 spark too which fixed errors. Hopefully it helps someone else."}],"answers":[{"tags":[],"owner":{"account_id":27746640,"reputation":1,"user_id":21181990,"display_name":"Paris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675964006,"creation_date":1675964006,"answer_id":75402366,"question_id":72763727,"body_markdown":"I had the same problem and I solved it installing java version 1.8. (The version  of py4j was 0.10.9 and the version of spark was 3.2.1).","title":"Py4JJavaError when initialises a spark session in anaconda pycharm enviroment","body":"<p>I had the same problem and I solved it installing java version 1.8. (The version  of py4j was 0.10.9 and the version of spark was 3.2.1).</p>\n"}],"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675964006,"creation_date":1656264048,"question_id":72763727,"body_markdown":"java was installed in my anaconda enivorment by conda install -c cyclus java-jdk,\r\nI am on windows.\r\n\r\npyspark-2.4.4\r\nPython version = 3.10.4\r\njava version = [![Java][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KZ2Qd.png\r\n\r\n\r\nwhen i initilise a spark session I get the following error.\r\n\r\n    findspark.init()\r\n    \r\n    spark = SparkSession \\\r\n        .builder \\\r\n        .appName(&quot;CustomerChurn&quot;) \\\r\n        .master(&quot;local&quot;) \\\r\n        .config() \\\r\n        .getOrCreate()\r\n    \r\n    \r\n    Py4JJavaError: An error occurred while calling o16.set.\r\n    : java.lang.NullPointerException\r\n    \tat org.apache.spark.SparkConf.set(SparkConf.scala:106)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n    \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n    \tat py4j.Gateway.invoke(Gateway.java:282)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n    \tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nI have not seen this error online, does anyone know what is the issue\r\n\r\n\r\n\r\n\r\nEDIT: issue resolved, I added a comment beneath","title":"Py4JJavaError when initialises a spark session in anaconda pycharm enviroment","body":"<p>java was installed in my anaconda enivorment by conda install -c cyclus java-jdk,\nI am on windows.</p>\n<p>pyspark-2.4.4\nPython version = 3.10.4\njava version = <a href=\"https://i.stack.imgur.com/KZ2Qd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KZ2Qd.png\" alt=\"Java\" /></a></p>\n<p>when i initilise a spark session I get the following error.</p>\n<pre><code>findspark.init()\n\nspark = SparkSession \\\n    .builder \\\n    .appName(&quot;CustomerChurn&quot;) \\\n    .master(&quot;local&quot;) \\\n    .config() \\\n    .getOrCreate()\n\n\nPy4JJavaError: An error occurred while calling o16.set.\n: java.lang.NullPointerException\n    at org.apache.spark.SparkConf.set(SparkConf.scala:106)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I have not seen this error online, does anyone know what is the issue</p>\n<p>EDIT: issue resolved, I added a comment beneath</p>\n"},{"tags":["java","spring","spring-boot","model","data-access"],"owner":{"account_id":23823934,"reputation":3,"user_id":17831266,"display_name":"lWubaLubaDubDubl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675963061,"creation_date":1675962536,"question_id":75402086,"body_markdown":"I&#39;m new to spring. so I want to check how can I check if the transaction commit or it fails.\r\nand also I want to know about debugging transactions.\r\n\r\n\r\nI have no clue. I checked transactionDetails, transactionSynchronization, etc.\r\nonly a hint would be great too.\r\n","title":"how to check if transaction is committed or not? and how can we debug transaction?","body":"<p>I'm new to spring. so I want to check how can I check if the transaction commit or it fails.\nand also I want to know about debugging transactions.</p>\n<p>I have no clue. I checked transactionDetails, transactionSynchronization, etc.\nonly a hint would be great too.</p>\n"},{"tags":["java","spring-boot","command-line"],"comments":[{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1675741069,"post_id":75368243,"comment_id":132989442,"body_markdown":"I dont think its possible to do. In my understanding it will run at the time of startup","body":"I dont think its possible to do. In my understanding it will run at the time of startup"},{"owner":{"account_id":19964620,"reputation":3,"user_id":14631498,"display_name":"popchan"},"score":0,"creation_date":1675746736,"post_id":75368243,"comment_id":132990102,"body_markdown":"Is there any way to implement this other than CommandLineRunner?","body":"Is there any way to implement this other than CommandLineRunner?"},{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1675749734,"post_id":75368243,"comment_id":132990491,"body_markdown":"May be you just expose as an API and access via command line using curl command","body":"May be you just expose as an API and access via command line using curl command"}],"answers":[{"tags":[],"owner":{"account_id":12439293,"reputation":159,"user_id":9058307,"display_name":"abetobing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675962845,"creation_date":1675962845,"answer_id":75402142,"question_id":75368243,"body_markdown":"What are you trying to achieve here?\r\n\r\n## Scheduler?\r\nIf you want to create a scheduled operation, you can utilize spring scheduler:\r\n\r\n```java\r\n@Configuration\r\n@EnableScheduling\r\npublic class SchedulerConfig {\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\n@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\r\npublic void scheduleHello() {\r\n\r\n    long now = System.currentTimeMillis() / 1000;\r\n    System.out.println(&quot;Hello - &quot; + now);\r\n\r\n}\r\n```\r\n\r\nhttps://www.baeldung.com/spring-scheduled-tasks\r\n\r\n---\r\n\r\n## Monitoring??\r\n\r\nIf your purpose is to monitor your springboot service health, you might want to try `spring-actuator`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nyou can monitor your service health in:\r\n`/actuator/health` or `/health`\r\n\r\nhttps://www.baeldung.com/spring-boot-actuators","title":"SpringBoot RestAPI and CommandLine","body":"<p>What are you trying to achieve here?</p>\n<h2>Scheduler?</h2>\n<p>If you want to create a scheduled operation, you can utilize spring scheduler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableScheduling\npublic class SchedulerConfig {\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\npublic void scheduleHello() {\n\n    long now = System.currentTimeMillis() / 1000;\n    System.out.println(&quot;Hello - &quot; + now);\n\n}\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n<hr />\n<h2>Monitoring??</h2>\n<p>If your purpose is to monitor your springboot service health, you might want to try <code>spring-actuator</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>you can monitor your service health in:\n<code>/actuator/health</code> or <code>/health</code></p>\n<p><a href=\"https://www.baeldung.com/spring-boot-actuators\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-actuators</a></p>\n"}],"owner":{"account_id":19964620,"reputation":3,"user_id":14631498,"display_name":"popchan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75402142,"answer_count":1,"score":0,"last_activity_date":1675962845,"creation_date":1675734383,"question_id":75368243,"body_markdown":"I am currently creating a RestApi project in SpringBoot.\r\nWe would like to add a program to this project that can be run from the command line.\r\nSpecifically, the image is that a monitoring batch on the server executes this program periodically.\r\n\r\nI did some research on my own and thought it might be possible to implement this using CommandLineRunner.\r\n\r\nI did some research on my own and thought it might be possible to implement this using CommandLineRunner.\r\n\r\n\r\n```\r\n@Component\r\npublic class DemoComponent implements CommandLineRunner{\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\r\n\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I start springBoot, &quot;Hello&quot; is output to the console.\r\n[enter image description here](https://i.stack.imgur.com/u1r7C.png)\r\n\r\nWhat I would like is to run this process from the command line.\r\nPlease let me know.\r\n\r\n\r\n","title":"SpringBoot RestAPI and CommandLine","body":"<p>I am currently creating a RestApi project in SpringBoot.\nWe would like to add a program to this project that can be run from the command line.\nSpecifically, the image is that a monitoring batch on the server executes this program periodically.</p>\n<p>I did some research on my own and thought it might be possible to implement this using CommandLineRunner.</p>\n<p>I did some research on my own and thought it might be possible to implement this using CommandLineRunner.</p>\n<pre><code>@Component\npublic class DemoComponent implements CommandLineRunner{\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        System.out.println(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n<p>When I start springBoot, &quot;Hello&quot; is output to the console.\n<a href=\"https://i.stack.imgur.com/u1r7C.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>What I would like is to run this process from the command line.\nPlease let me know.</p>\n"},{"tags":["java","loops","for-loop","permutation"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675953771,"post_id":75400151,"comment_id":133041957,"body_markdown":"It’s not clear why reflection would be helpful. Split the string on commas, create the permutations. Which part is causing the issue?","body":"It’s not clear why reflection would be helpful. Split the string on commas, create the permutations. Which part is causing the issue?"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675954030,"post_id":75400151,"comment_id":133042062,"body_markdown":"I was reccomended to use reflection as a way of &quot;getting&quot; the declared fields of the object i believe, to put them in an array and then cycle through them to get the permutations using a for loop. I know split automatically puts its results in an array, so was I just thinking about this way harder than I should have?","body":"I was reccomended to use reflection as a way of &quot;getting&quot; the declared fields of the object i believe, to put them in an array and then cycle through them to get the permutations using a for loop. I know split automatically puts its results in an array, so was I just thinking about this way harder than I should have?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675954490,"post_id":75400151,"comment_id":133042243,"body_markdown":"Why complicate things with reflection? In your example you use the values of the fields in the object. Just create a method in your class to return those values as array - `public String[] getAlleles() { return new String[] {field1, field2}; }`","body":"Why complicate things with reflection? In your example you use the values of the fields in the object. Just create a method in your class to return those values as array - <code>public String[] getAlleles() { return new String[] {field1, field2}; }</code>"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675956312,"post_id":75400151,"comment_id":133042901,"body_markdown":"Would i still be able to do something like this even if the fields become arrays of two strings due to the split method being used?","body":"Would i still be able to do something like this even if the fields become arrays of two strings due to the split method being used?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675956345,"post_id":75400151,"comment_id":133042909,"body_markdown":"Without much context it&#39;s difficult to provide meaningful help. Do all implementations have two alleles? *(Tangential: any time there&#39;s variables w/ numeric part names a collection might be a better choice, e.g., a `Creature` would have a `List&lt;Allele&gt;`, which in this case might just be `List&lt;String&gt;`, but the idea is the same.)*","body":"Without much context it&#39;s difficult to provide meaningful help. Do all implementations have two alleles? <i>(Tangential: any time there&#39;s variables w/ numeric part names a collection might be a better choice, e.g., a <code>Creature</code> would have a <code>List&lt;Allele&gt;</code>, which in this case might just be <code>List&lt;String&gt;</code>, but the idea is the same.)</i>"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675956758,"post_id":75400151,"comment_id":133043054,"body_markdown":"I&#39;m sorry. I thought I gave enough context. When you ask if all implementations have two alleles, are you asking if every object has only one string? because the string of the Mom creature has two alleles, just seperated by a comma...What I want to do is seperate them with split, and then possibly put them in an array of strings and then loop through them. I can do that, right? I&#39;m sorry. I don&#39;t know where else to ask for help, and I don&#39;t think I&#39;m good at giving enough information...","body":"I&#39;m sorry. I thought I gave enough context. When you ask if all implementations have two alleles, are you asking if every object has only one string? because the string of the Mom creature has two alleles, just seperated by a comma...What I want to do is seperate them with split, and then possibly put them in an array of strings and then loop through them. I can do that, right? I&#39;m sorry. I don&#39;t know where else to ask for help, and I don&#39;t think I&#39;m good at giving enough information..."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675956802,"post_id":75400151,"comment_id":133043068,"body_markdown":"@este Just combine the resulting arrays into one. Or combine them into a `List` so you don&#39;t have to copy the contents manually.","body":"@este Just combine the resulting arrays into one. Or combine them into a <code>List</code> so you don&#39;t have to copy the contents manually."},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675957053,"post_id":75400151,"comment_id":133043142,"body_markdown":"@Chaosfire i&#39;ll try that and see where it gets me, thank you deeply.","body":"@Chaosfire i&#39;ll try that and see where it gets me, thank you deeply."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675957319,"post_id":75400151,"comment_id":133043235,"body_markdown":"@este When I ask if all implementations *(of `Creature`)* will have two alleles I&#39;m asking if each impl will have two alleles. *(Allele representation is unrelated to combining/permuting them.)* It&#39;s not clear what specific issue you&#39;re having, but reflection at this point seems unnecessary.","body":"@este When I ask if all implementations <i>(of <code>Creature</code>)</i> will have two alleles I&#39;m asking if each impl will have two alleles. <i>(Allele representation is unrelated to combining/permuting them.)</i> It&#39;s not clear what specific issue you&#39;re having, but reflection at this point seems unnecessary."},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675967731,"post_id":75400151,"comment_id":133046979,"body_markdown":"Yes, they will. Sorry, I got a bit confused. The issue im having is, I just didn&#39;t really know how to get the final &quot;permutation results&quot; from a bunch of string parameters in an object, which will then be turned into a bunch of arrays due to the split method. I know how to loop through two arrays of strings, but not how to loop through parameters in an object that get split into arrays of strings.","body":"Yes, they will. Sorry, I got a bit confused. The issue im having is, I just didn&#39;t really know how to get the final &quot;permutation results&quot; from a bunch of string parameters in an object, which will then be turned into a bunch of arrays due to the split method. I know how to loop through two arrays of strings, but not how to loop through parameters in an object that get split into arrays of strings."}],"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675962560,"creation_date":1675953415,"question_id":75400151,"body_markdown":"I&#39;m not very good at this, but I am trying to create a program in Java that creates a polyhybrid cross punnett square from the parameters of two objects, which are the parents. every parameter is a string that is user defined with a scanner.\r\n\r\nThese are the two objects that I have, modified for the purpose of this question (they actually have seven strings parameters that are its genetic traits and they are all filled in by the user with scanner)\r\n\r\n Creature Mom = new Creature(&quot;B,b&quot;);\r\n Creature Dad = new Creature(&quot;C,c&quot;);\r\n\r\nand I want to use a for loop to get the results &quot;BC, bC, Bc, bc&quot; in the console.\r\n\r\ni know i need to use a delimiter or split somewhere to get those results, But I haven&#39;t really gotten to that point yet.\r\n\r\n\r\nI&#39;ve managed to create a punnett square with two arrays of strings that i loop through, as is seen here,\r\n\r\n    //accept user input\r\n       Scanner alleles = new Scanner(System.in);\r\n          System.out.println(&quot;enter first allele in mother&#39;s allele pair: &quot;);\r\n          Mom.alleleOne = alleles.nextLine();\r\n          System.out.println(&quot;enter second allele in mother&#39;s allele pair: &quot;);\r\n          Mom.alleleTwo = alleles.nextLine(); \r\n          System.out.println(&quot;enter first allele in father&#39;s allele pair: &quot;);\r\n          Dad.alleleOne = alleles.nextLine();\r\n          System.out.println(&quot;enter second allele in father&#39;s allele pair: &quot;);\r\n          Dad.alleleTwo = alleles.nextLine();\r\n       //close scanner\r\n       alleles.close();\r\n       //arrays for parents data\r\n       String[] Mother = {Mom.alleleOne, Mom.alleleTwo};\r\n       String[] Father = {Dad.alleleOne, Dad.alleleTwo};\r\n       //display data\r\n       System.out.println(&quot;Mother Result: &quot; + Arrays.toString(Mother));\r\n       System.out.println(&quot;Father Result: &quot; + Arrays.toString(Father));\r\n       System.out.println(&quot;Possible children: &quot;);\r\n       // for loop to cycle through combinations\r\n       for (int i = 0; i &lt; Mother.length; i++) {\r\n          for (int j = 0; j &lt; Father.length; j++) {\r\n             System.out.println(Mother[i] + Father[j]);\r\n\r\n          }\r\n        }//end for\r\n\r\nBut i really think continuing with objects is my best bet here for continuing this project. I&#39;ve thought about using reflection, and turning an object into an array of its fields/parameters, but nothing seems to click in my mind. I hope what I&#39;m asking makes sense, I apologize if it doesn&#39;t. Thank you in advance.","title":"How would I loop through the parameters of two different objects in java, to show all possible combinations of said parameters?","body":"<p>I'm not very good at this, but I am trying to create a program in Java that creates a polyhybrid cross punnett square from the parameters of two objects, which are the parents. every parameter is a string that is user defined with a scanner.</p>\n<p>These are the two objects that I have, modified for the purpose of this question (they actually have seven strings parameters that are its genetic traits and they are all filled in by the user with scanner)</p>\n<p>Creature Mom = new Creature(&quot;B,b&quot;);\nCreature Dad = new Creature(&quot;C,c&quot;);</p>\n<p>and I want to use a for loop to get the results &quot;BC, bC, Bc, bc&quot; in the console.</p>\n<p>i know i need to use a delimiter or split somewhere to get those results, But I haven't really gotten to that point yet.</p>\n<p>I've managed to create a punnett square with two arrays of strings that i loop through, as is seen here,</p>\n<pre><code>//accept user input\n   Scanner alleles = new Scanner(System.in);\n      System.out.println(&quot;enter first allele in mother's allele pair: &quot;);\n      Mom.alleleOne = alleles.nextLine();\n      System.out.println(&quot;enter second allele in mother's allele pair: &quot;);\n      Mom.alleleTwo = alleles.nextLine(); \n      System.out.println(&quot;enter first allele in father's allele pair: &quot;);\n      Dad.alleleOne = alleles.nextLine();\n      System.out.println(&quot;enter second allele in father's allele pair: &quot;);\n      Dad.alleleTwo = alleles.nextLine();\n   //close scanner\n   alleles.close();\n   //arrays for parents data\n   String[] Mother = {Mom.alleleOne, Mom.alleleTwo};\n   String[] Father = {Dad.alleleOne, Dad.alleleTwo};\n   //display data\n   System.out.println(&quot;Mother Result: &quot; + Arrays.toString(Mother));\n   System.out.println(&quot;Father Result: &quot; + Arrays.toString(Father));\n   System.out.println(&quot;Possible children: &quot;);\n   // for loop to cycle through combinations\n   for (int i = 0; i &lt; Mother.length; i++) {\n      for (int j = 0; j &lt; Father.length; j++) {\n         System.out.println(Mother[i] + Father[j]);\n\n      }\n    }//end for\n</code></pre>\n<p>But i really think continuing with objects is my best bet here for continuing this project. I've thought about using reflection, and turning an object into an array of its fields/parameters, but nothing seems to click in my mind. I hope what I'm asking makes sense, I apologize if it doesn't. Thank you in advance.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14557518,"reputation":755,"user_id":10514633,"display_name":"Robin"},"score":0,"creation_date":1675961094,"post_id":75401775,"comment_id":133044774,"body_markdown":"Sounds stupid but have you tried disonnecting the phone and trying again? Restaring the phone/computer might also help :)","body":"Sounds stupid but have you tried disonnecting the phone and trying again? Restaring the phone/computer might also help :)"}],"answers":[{"tags":[],"owner":{"account_id":19338624,"reputation":359,"user_id":14138691,"display_name":"Antony Nicolas Huaman Alikhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675961702,"creation_date":1675961702,"answer_id":75401929,"question_id":75401775,"body_markdown":"**First**:\r\nI recommend disabling and enabling USB debugging again\r\n\r\n**Second**:\r\nTry to revoke USB Debugging authorizations\r\n\r\n**Third**:\r\nIf the problem still persists, Try to play with those options [FIRST, SECOND]","title":"Android doesn&#39;t show on Android Studio","body":"<p><strong>First</strong>:\nI recommend disabling and enabling USB debugging again</p>\n<p><strong>Second</strong>:\nTry to revoke USB Debugging authorizations</p>\n<p><strong>Third</strong>:\nIf the problem still persists, Try to play with those options [FIRST, SECOND]</p>\n"}],"owner":{"account_id":23598172,"reputation":3,"user_id":17635046,"display_name":"John Williams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75401929,"answer_count":1,"score":0,"last_activity_date":1675961702,"creation_date":1675960975,"question_id":75401775,"body_markdown":"So I&#39;ve been trying to debug my phone and at first it worked but later when I disconnected the phone and tried later it stopped working, it just wasn&#39;t showing up and the question: &quot;Do you grant permission....&quot; stopped showing up too. I also checked USB debugging is on I don&#39;t know what could cause this problem, it worked before why not again?\r\n\r\nI checked if USB debugging is on, I also watched youtube videos on how to fix this and it wasn&#39;t helpful.","title":"Android doesn&#39;t show on Android Studio","body":"<p>So I've been trying to debug my phone and at first it worked but later when I disconnected the phone and tried later it stopped working, it just wasn't showing up and the question: &quot;Do you grant permission....&quot; stopped showing up too. I also checked USB debugging is on I don't know what could cause this problem, it worked before why not again?</p>\n<p>I checked if USB debugging is on, I also watched youtube videos on how to fix this and it wasn't helpful.</p>\n"},{"tags":["java","switch-statement","switch-expression"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1675933668,"post_id":75396340,"comment_id":133035420,"body_markdown":"in your first example, nothing is returned for Type_D, in your second example, there is still a default value returned","body":"in your first example, nothing is returned for Type_D, in your second example, there is still a default value returned"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1675934078,"post_id":75396340,"comment_id":133035540,"body_markdown":"what about using default, ex `default -&gt; Map.of();`","body":"what about using default, ex <code>default -&gt; Map.of();</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1675934121,"post_id":75396340,"comment_id":133035555,"body_markdown":"first one is a *switch expression* ([15.28. switch Expressions](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28)), second a *switch statement* ([14.11. The switch Statement](https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.11)), and more [explicitly](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28.1-100-B): &quot;*If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type,*&quot;","body":"first one is a <i>switch expression</i> (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">15.28. switch Expressions</a>), second a <i>switch statement</i> (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">14.11. The switch Statement</a>), and more <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28.1-100-B\" rel=\"nofollow noreferrer\">explicitly</a>: &quot;<i>If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type,</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1675934444,"post_id":75396340,"comment_id":133035652,"body_markdown":"( in other words, an expression must always return a value [or throw an Exception]; a statement can do nothing ) ( BTW some IDEs show a warning [configurable in Eclipse] for the second case )","body":"( in other words, an expression must always return a value [or throw an Exception]; a statement can do nothing ) ( BTW some IDEs show a warning [configurable in Eclipse] for the second case )"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675934837,"creation_date":1675934756,"answer_id":75396557,"question_id":75396340,"body_markdown":"When you use a `switch` as part of a `return`, it is a *switch expression*. But if you just put the `switch` randomly in the middle of a method, it is parsed as a *switch statement*. These have different rules. Importantly, *switch expressions* need to be exhaustive.\r\n\r\nFrom the [Java Language Specification][1]:\r\n\r\n&gt;  If the type of the selector expression is not an enum type, then there is exactly one default label associated with the switch block.\r\n&gt;\r\n&gt; If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type, and (ii) at most one default label is associated with the switch block.\r\n\r\nOn the other hand, [switch statements][2] do not have this restriction.\r\n\r\nIntuitively, *expressions* have to evaluate to a value, but statements don&#39;t have to. Therefore, switch expressions have to cover all cases. If they don&#39;t, then there will be situations where it can&#39;t evaluate to anything.\r\n\r\nIn the [preview specifications][3] of later versions of Java, the idea of an &quot;exhaustive switch&quot; is more clearly defined, because they now need to support pattern matching among other things.\r\n\r\n&gt; The switch block of a switch expression or switch statement is exhaustive for a selector expression of type T if either (i) the switch block contains a default switch label, or (ii) the set containing all the unguarded case elements supported by switch labels in the switch block is exhaustive for T, which is specified as follows: [...]\r\n\r\nAnd [later][4], \r\n\r\n&gt; A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1.1\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-15.28.1","title":"java 17 &quot;&#39;switch&#39; expression does not cover all possible input values&quot; is not shown if there is no return","body":"<p>When you use a <code>switch</code> as part of a <code>return</code>, it is a <em>switch expression</em>. But if you just put the <code>switch</code> randomly in the middle of a method, it is parsed as a <em>switch statement</em>. These have different rules. Importantly, <em>switch expressions</em> need to be exhaustive.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28.1\" rel=\"noreferrer\">Java Language Specification</a>:</p>\n<blockquote>\n<p>If the type of the selector expression is not an enum type, then there is exactly one default label associated with the switch block.</p>\n<p>If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type, and (ii) at most one default label is associated with the switch block.</p>\n</blockquote>\n<p>On the other hand, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\" rel=\"noreferrer\">switch statements</a> do not have this restriction.</p>\n<p>Intuitively, <em>expressions</em> have to evaluate to a value, but statements don't have to. Therefore, switch expressions have to cover all cases. If they don't, then there will be situations where it can't evaluate to anything.</p>\n<p>In the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1.1\" rel=\"noreferrer\">preview specifications</a> of later versions of Java, the idea of an &quot;exhaustive switch&quot; is more clearly defined, because they now need to support pattern matching among other things.</p>\n<blockquote>\n<p>The switch block of a switch expression or switch statement is exhaustive for a selector expression of type T if either (i) the switch block contains a default switch label, or (ii) the set containing all the unguarded case elements supported by switch labels in the switch block is exhaustive for T, which is specified as follows: [...]</p>\n</blockquote>\n<p>And <a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-15.28.1\" rel=\"noreferrer\">later</a>,</p>\n<blockquote>\n<p>A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.</p>\n</blockquote>\n"}],"owner":{"account_id":263193,"reputation":4084,"user_id":548601,"accept_rate":84,"display_name":"andriy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":75396557,"answer_count":1,"score":5,"last_activity_date":1675961151,"creation_date":1675933518,"question_id":75396340,"body_markdown":"I&#39;m developing with java 17 in IntelliJ 2022.2.\r\n\r\nIn some cases `&#39;switch&#39; expression does not cover all possible input values` is shown, but in some not. I&#39;d like to figure out why. \r\n\r\nLet&#39;s assume that `entityType` is an enum with 3 values and I&#39;m adding 4th one `TYPE_D`. So  I expect to see `&#39;switch&#39; expression does not cover all possible input values` errors where I use this enum in `switch`.\r\n\r\nWhen it is shown:\r\n```java\r\npublic Map&lt;String, String&gt; getRecordDetails() {\r\n    return switch (entityType) {\r\n        case TYPE_A -&gt; Map.of(&quot;A&quot;,&quot;A&quot;);\r\n        case TYPE_B -&gt; Map.of(&quot;B&quot;,&quot;B&quot;);\r\n        case TYPE_C -&gt; Map.of(&quot;C&quot;,&quot;C&quot;);\r\n    };\r\n}\r\n```\r\n\r\nnot shown:\r\n```java\r\npublic String getRecordDetails() {\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    switch (entityType) {\r\n        case TYPE_A -&gt; stringBuilder.append(&quot;A&quot;);\r\n        case TYPE_B -&gt; stringBuilder.append(&quot;B&quot;);\r\n        case TYPE_C -&gt; stringBuilder.append(&quot;C&quot;);\r\n    };\r\n    return stringBuilder.toString(); \r\n}\r\n```\r\n\r\nI see it is related when I do return of switch case, but why it is not shown when I have switch case inside of function&#39;s code? ","title":"java 17 &quot;&#39;switch&#39; expression does not cover all possible input values&quot; is not shown if there is no return","body":"<p>I'm developing with java 17 in IntelliJ 2022.2.</p>\n<p>In some cases <code>'switch' expression does not cover all possible input values</code> is shown, but in some not. I'd like to figure out why.</p>\n<p>Let's assume that <code>entityType</code> is an enum with 3 values and I'm adding 4th one <code>TYPE_D</code>. So  I expect to see <code>'switch' expression does not cover all possible input values</code> errors where I use this enum in <code>switch</code>.</p>\n<p>When it is shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, String&gt; getRecordDetails() {\n    return switch (entityType) {\n        case TYPE_A -&gt; Map.of(&quot;A&quot;,&quot;A&quot;);\n        case TYPE_B -&gt; Map.of(&quot;B&quot;,&quot;B&quot;);\n        case TYPE_C -&gt; Map.of(&quot;C&quot;,&quot;C&quot;);\n    };\n}\n</code></pre>\n<p>not shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getRecordDetails() {\n    StringBuilder stringBuilder = new StringBuilder();\n    switch (entityType) {\n        case TYPE_A -&gt; stringBuilder.append(&quot;A&quot;);\n        case TYPE_B -&gt; stringBuilder.append(&quot;B&quot;);\n        case TYPE_C -&gt; stringBuilder.append(&quot;C&quot;);\n    };\n    return stringBuilder.toString(); \n}\n</code></pre>\n<p>I see it is related when I do return of switch case, but why it is not shown when I have switch case inside of function's code?</p>\n"},{"tags":["java","json","loops","bson"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675961437,"post_id":75398824,"comment_id":133044890,"body_markdown":"technical note that may change how you search for solutions: once you parse it, it&#39;s no longer json or bson, it&#39;s just a pure java datastructure, and depending on what library you used to parse it, you have methods available to traverse and work with the tree. You&#39;re interested in how to work with the java data structure, you technically don&#39;t care about the json/bson you had before you turned it into running code. Or even that it started life as json/bson at all.","body":"technical note that may change how you search for solutions: once you parse it, it&#39;s no longer json or bson, it&#39;s just a pure java datastructure, and depending on what library you used to parse it, you have methods available to traverse and work with the tree. You&#39;re interested in how to work with the java data structure, you technically don&#39;t care about the json/bson you had before you turned it into running code. Or even that it started life as json/bson at all."}],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675961001,"creation_date":1675946866,"question_id":75398824,"body_markdown":"I have a BasicBSONList which contains multiple BSON objects like\r\n\r\n\r\n```\r\n[{\r\n\t&quot;serverName&quot;: &quot;myServer&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group1&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group2&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer2&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group2&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group3&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer3&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group3&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group4&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer4&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group4&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group5&quot;\r\n},{\r\n\t&quot;serverName&quot;: &quot;myServer5&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group5&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group2&quot;\r\n}]\r\n```\r\n\r\n\r\nAnd have a bson object from this list that failed to execute like\r\n\r\n```\r\n{\r\n\t&quot;serverName&quot;: &quot;myServer3&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group3&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group4&quot;\r\n}\r\n```\r\n\r\nSo as the failed object &quot;serverGroupName&quot; property value is the parent of &quot;myServer2&quot; in the list because for myServer2 &quot;syncServerGroupName&quot; property has &quot;group3&quot; as value. And similar to that myServer2 is the parent of 2 children i.e.. myServer, myServer5.\r\n\r\nNow I want to remove all these dependents from the list as their parent(myServer3) already failed to execute, hence we cannot execute children. Parent can have multiple children and children can also have multiple children and soo on. So if Parent failed to execute I need to remove all dependents from the list.","title":"Find all child json/bson node from parent json/bson node","body":"<p>I have a BasicBSONList which contains multiple BSON objects like</p>\n<pre><code>[{\n    &quot;serverName&quot;: &quot;myServer&quot;,\n    &quot;serverGroupName&quot;: &quot;group1&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group2&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer2&quot;,\n    &quot;serverGroupName&quot;: &quot;group2&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group3&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer3&quot;,\n    &quot;serverGroupName&quot;: &quot;group3&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group4&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer4&quot;,\n    &quot;serverGroupName&quot;: &quot;group4&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group5&quot;\n},{\n    &quot;serverName&quot;: &quot;myServer5&quot;,\n    &quot;serverGroupName&quot;: &quot;group5&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group2&quot;\n}]\n</code></pre>\n<p>And have a bson object from this list that failed to execute like</p>\n<pre><code>{\n    &quot;serverName&quot;: &quot;myServer3&quot;,\n    &quot;serverGroupName&quot;: &quot;group3&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group4&quot;\n}\n</code></pre>\n<p>So as the failed object &quot;serverGroupName&quot; property value is the parent of &quot;myServer2&quot; in the list because for myServer2 &quot;syncServerGroupName&quot; property has &quot;group3&quot; as value. And similar to that myServer2 is the parent of 2 children i.e.. myServer, myServer5.</p>\n<p>Now I want to remove all these dependents from the list as their parent(myServer3) already failed to execute, hence we cannot execute children. Parent can have multiple children and children can also have multiple children and soo on. So if Parent failed to execute I need to remove all dependents from the list.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1585228613,"post_id":60867780,"comment_id":107691720,"body_markdown":"You need a repository per entity.","body":"You need a repository per entity."}],"answers":[{"tags":[],"owner":{"account_id":6840438,"reputation":1508,"user_id":5261030,"display_name":"Dmitrii Cheremisin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1585229003,"creation_date":1585229003,"answer_id":60868283,"question_id":60867780,"body_markdown":"According to Spring Data documentation you should have one repository for each entity  \r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition\r\n\r\nIn your case the only way to do your job is with Spring Data JPA:  \r\n\r\n    public interface CountryRepository extends CrudRepository&lt;Country, Integer&gt; {\r\n\r\n       public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\r\n    }\r\n\r\n    public interface BlockAttackDetailRepository extends CrudRepository&lt;BlockAttackDetail, Integer&gt; {\r\n\r\n       public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\r\n    }","title":"Can I have a single JPA repository interface handling multiple entity classes using Spring Data JPA?","body":"<p>According to Spring Data documentation you should have one repository for each entity  </p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition\" rel=\"noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition</a></p>\n\n<p>In your case the only way to do your job is with Spring Data JPA:  </p>\n\n<pre><code>public interface CountryRepository extends CrudRepository&lt;Country, Integer&gt; {\n\n   public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\n}\n\npublic interface BlockAttackDetailRepository extends CrudRepository&lt;BlockAttackDetail, Integer&gt; {\n\n   public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\n}\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6170,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60868283,"answer_count":1,"score":4,"last_activity_date":1675960957,"creation_date":1585227380,"question_id":60867780,"body_markdown":"I am not so into **Spring Data JPA** and I have the following problem working on a **Spring Boot** project. \r\n\r\nI have the following architectural doubt about how to correctly handle this kind of situation:\r\n\r\nI have a repository implemented by an interface like this in which I am defining my &quot;query methods&quot;:\r\n\r\n    public interface ExcelRepository extends CrudRepository&lt;Country, Integer&gt; {\r\n    \t\r\n    \tpublic List&lt;Country&gt; findAllByOrderByCountryNameAsc();\r\n    \r\n    \tpublic List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\r\n    }\r\n\r\nAs you can see I am extending the **CrudRepository** interface and I specified a single model class named **Country** mapping a specific table on my database.\r\n\r\nI added a second method working on another entity class (**BlockAttackDetail**) mapping a different database table.\r\n\r\nSo starting my application I obtain this error because this repository is intended only for the database table mapped by the **Country** entity class:\r\n\r\n    Caused by: org.springframework.data.mapping.PropertyReferenceException: No property attackTypeAcronym found for type Country!\r\n\r\nMy problem is: Do I have to create multiple JPA repositories interfaces (one for each entity) or exist a way to have a single JPA repository interface working on multiple entity classes?\r\n\r\nIn my specific case I will have few methods that will interact with a specific datbase table (with an entity) and I prefear have a single repository interface handling multiple entity classes (to avoid confusion).\r\n\r\nCan I do it in some way? And if I can do it make it sense from an architectural point of view or it is better have a specific JPA repository interface for each entity class? \r\n\r\n\r\n","title":"Can I have a single JPA repository interface handling multiple entity classes using Spring Data JPA?","body":"<p>I am not so into <strong>Spring Data JPA</strong> and I have the following problem working on a <strong>Spring Boot</strong> project.</p>\n<p>I have the following architectural doubt about how to correctly handle this kind of situation:</p>\n<p>I have a repository implemented by an interface like this in which I am defining my &quot;query methods&quot;:</p>\n<pre><code>public interface ExcelRepository extends CrudRepository&lt;Country, Integer&gt; {\n    \n    public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\n\n    public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\n}\n</code></pre>\n<p>As you can see I am extending the <strong>CrudRepository</strong> interface and I specified a single model class named <strong>Country</strong> mapping a specific table on my database.</p>\n<p>I added a second method working on another entity class (<strong>BlockAttackDetail</strong>) mapping a different database table.</p>\n<p>So starting my application I obtain this error because this repository is intended only for the database table mapped by the <strong>Country</strong> entity class:</p>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property attackTypeAcronym found for type Country!\n</code></pre>\n<p>My problem is: Do I have to create multiple JPA repositories interfaces (one for each entity) or exist a way to have a single JPA repository interface working on multiple entity classes?</p>\n<p>In my specific case I will have few methods that will interact with a specific datbase table (with an entity) and I prefear have a single repository interface handling multiple entity classes (to avoid confusion).</p>\n<p>Can I do it in some way? And if I can do it make it sense from an architectural point of view or it is better have a specific JPA repository interface for each entity class?</p>\n"},{"tags":["java","javafx","tableview","itext7","classcastexception"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675950135,"post_id":75399136,"comment_id":133040489,"body_markdown":"If the slf4j stuff works then why is it in the question? Please keep the question focused—it’s unclear what the actual problem is. Is there an exception? Is the pdf file invalid? Both? How is slf4j involved?","body":"If the slf4j stuff works then why is it in the question? Please keep the question focused—it’s unclear what the actual problem is. Is there an exception? Is the pdf file invalid? Both? How is slf4j involved?"},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675950553,"post_id":75399136,"comment_id":133040673,"body_markdown":"@DaveNewton Now the problem is ClassCastException as the title suggests and I mentioned all these details to make clear how it all went, and what I am trying to do.","body":"@DaveNewton Now the problem is ClassCastException as the title suggests and I mentioned all these details to make clear how it all went, and what I am trying to do."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675950745,"post_id":75399136,"comment_id":133040744,"body_markdown":"@DaveNewton And yes pdf file is still invalid not showing any content.","body":"@DaveNewton And yes pdf file is still invalid not showing any content."},{"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"score":0,"creation_date":1675950849,"post_id":75399136,"comment_id":133040787,"body_markdown":"If you find that you are missing some jar files, then add them to your project (pom/gradle/manually).","body":"If you find that you are missing some jar files, then add them to your project (pom/gradle/manually)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675952111,"post_id":75399136,"comment_id":133041305,"body_markdown":"Obviously, `item`, which you get from iterating through `tableName.getItems()` is not an `int`. It&#39;s not clear what you want anyone to tell you that the stack trace is not already telling you.","body":"Obviously, <code>item</code>, which you get from iterating through <code>tableName.getItems()</code> is not an <code>int</code>. It&#39;s not clear what you want anyone to tell you that the stack trace is not already telling you."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675952410,"post_id":75399136,"comment_id":133041434,"body_markdown":"@James_D I want to print the TableView as a pdf document containing all the data in the table","body":"@James_D I want to print the TableView as a pdf document containing all the data in the table"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675952588,"post_id":75399136,"comment_id":133041499,"body_markdown":"Yes, we know that. But no-one can help you do that from the information you&#39;ve provided. As previously suggested, create (probably from scratch) a [mre] and [edit] your question to include it. The question actually has nothing to do with creating a PDF; the error arises from trying to iterate through the table cells incorrectly. So your mre should have no code related to the PDF, just try to iterate through the cells in the table, and display the content in the console, for example.","body":"Yes, we know that. But no-one can help you do that from the information you&#39;ve provided. As previously suggested, create (probably from scratch) a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://stackoverflow.com/posts/75399136/edit\">edit</a> your question to include it. The question actually has nothing to do with creating a PDF; the error arises from trying to iterate through the table cells incorrectly. So your mre should have no code related to the PDF, just try to iterate through the cells in the table, and display the content in the console, for example."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675953599,"post_id":75399136,"comment_id":133041880,"body_markdown":"If you use proper types for your `TableView`, instead of wildcards, and properly type `item`, instead of using `Object`, then you should be able to call [`column.getCellData(item)`](https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/TableColumnBase.html#getCellData(S)) directly.","body":"If you use proper types for your <code>TableView</code>, instead of wildcards, and properly type <code>item</code>, instead of using <code>Object</code>, then you should be able to call <a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/TableColumnBase.html#getCellData(S)\" rel=\"nofollow noreferrer\"><code>column.getCellData(item)</code></a> directly."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675953652,"post_id":75399136,"comment_id":133041903,"body_markdown":"“How it went” isn’t related, and it’s very distracting. Questions should include only **relevant** information.","body":"“How it went” isn’t related, and it’s very distracting. Questions should include only <b>relevant</b> information."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675953893,"post_id":75399136,"comment_id":133042005,"body_markdown":"@DaveNewton Accept my apologies dear.","body":"@DaveNewton Accept my apologies dear."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675954026,"post_id":75399136,"comment_id":133042060,"body_markdown":"@James_D Will you please elaborate on it a little?","body":"@James_D Will you please elaborate on it a little?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675955742,"post_id":75399136,"comment_id":133042688,"body_markdown":"What is there to elaborate on? Use the correct type for the table view, not a wildcard. Then you can use the same type for `item`, and consequently call the method I linked. That&#39;s all there is to it.","body":"What is there to elaborate on? Use the correct type for the table view, not a wildcard. Then you can use the same type for <code>item</code>, and consequently call the method I linked. That&#39;s all there is to it."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675957454,"post_id":75399136,"comment_id":133043274,"body_markdown":"@James_D problem is here:                                                                                                                            for (int i = 0; i &lt; TableName.getItems().size(); i++) {\n\t\t                \n\t\t            \tfor (TableColumn&lt;ClassName(represents a record), ?&gt; column : TableName.getColumns()) {\n\t\t     \t\n\t\t                    pdfTable.addCell(column.getCellData(i).toString());\n\t\t                }}                                                                                                                  this  is the code that is causing a null exception","body":"@James_D problem is here:                                                                                                                            for (int i = 0; i &lt; TableName.getItems().size(); i++) { \t\t                 \t\t            \tfor (TableColumn&lt;ClassName(represents a record), ?&gt; column : TableName.getColumns()) { \t\t     \t \t\t                    pdfTable.addCell(column.getCellData(i).toString()); \t\t                }}                                                                                                                  this  is the code that is causing a null exception"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675958106,"post_id":75399136,"comment_id":133043546,"body_markdown":"And as I&#39;ve already indicated, there is not enough information in the question to tell you why that is. As I said already, the problem is that you&#39;re not able to iterate through the cells in the table. Solve that problem in isolation, without any of the distraction of the PDF etc, and then incorporate it into your actual project. Create a new project from scratch which does nothing except create a table with some dummy data, iterates through the cells, and print their content to the console. If you get stuck with that, then post *that* project in the question.","body":"And as I&#39;ve already indicated, there is not enough information in the question to tell you why that is. As I said already, the problem is that you&#39;re not able to iterate through the cells in the table. Solve that problem in isolation, without any of the distraction of the PDF etc, and then incorporate it into your actual project. Create a new project from scratch which does nothing except create a table with some dummy data, iterates through the cells, and print their content to the console. If you get stuck with that, then post <i>that</i> project in the question."}],"answers":[{"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675951004,"creation_date":1675951004,"answer_id":75399640,"question_id":75399136,"body_markdown":"    Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n    java.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n        at application.className(Controller).DownloadMethod(className(Controller).java:254)\r\n\r\n  \r\n\r\nAs this stack trace suggests, the error occurs because you are trying  to cast the table item, which apparently is not an integer, to an integer at line number 254. Note that the method `TableView#getItems` returns an iterable object of type `ObservableList&lt;S&gt;`. \r\n\r\nYou need to fix the following line at the minimum:\r\n`pdfTable.addCell(column.getCellData((int) item).toString());`\r\n\r\nIt looks like you intend to add the index of the item in the table view rather than the item itself to your pdf table. Try this instead:\r\n\r\n`pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString());`","title":"JavaFX ClassCastException using iText PDF","body":"<pre><code>Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\n    at application.className(Controller).DownloadMethod(className(Controller).java:254)\n</code></pre>\n<p>As this stack trace suggests, the error occurs because you are trying  to cast the table item, which apparently is not an integer, to an integer at line number 254. Note that the method <code>TableView#getItems</code> returns an iterable object of type <code>ObservableList&lt;S&gt;</code>.</p>\n<p>You need to fix the following line at the minimum:\n<code>pdfTable.addCell(column.getCellData((int) item).toString());</code></p>\n<p>It looks like you intend to add the index of the item in the table view rather than the item itself to your pdf table. Try this instead:</p>\n<p><code>pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString());</code></p>\n"},{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675960617,"creation_date":1675960617,"answer_id":75401700,"question_id":75399136,"body_markdown":"Thanks to all! \r\nSpecial Thanks to @James_D \r\n\r\nThis is the code that is printing the pdf correctly.\r\n\r\n    @FXML\r\n\t public void DownloadButtonMethod(ActionEvent event) {\r\n\t\t \r\n\t\t    DirectoryChooser directoryChooser = new DirectoryChooser();\r\n\t\t    File selectedDirectory = directoryChooser.showDialog(TableName.getScene().getWindow());\r\n\t\t    if (selectedDirectory == null) {\r\n\t\t        return;\r\n\t\t    }\r\n\t\t    \r\n\t\t    \r\n\t\t    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\r\n\t\t    dialog.setTitle(&quot;Enter File Name&quot;);\r\n\t\t    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\r\n\t\t    dialog.setContentText(&quot;File name:&quot;);\r\n\t\t    Optional&lt;String&gt; result = dialog.showAndWait();\r\n\t\t    \r\n\t\t    if (result.isPresent()) {\r\n\t\t        try {\r\n\t\t            String fileName = result.get();\r\n\t\t            if (!fileName.endsWith(&quot;.pdf&quot;)) {\r\n\t\t                fileName = fileName + &quot;.pdf&quot;;\r\n\t\t            }\r\n\t\t            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\r\n\t\t            OutputStream file = new FileOutputStream(filePath);\r\n\t\t            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\r\n\t\t            Document document = new Document(pdfDoc);\r\n\t\t            Table pdfTable = new Table(TableName.getColumns().size());\r\n\t\t            \r\n\t\t            try {\r\n\t\t            \t\r\n\t\t            for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\r\n\t\t                pdfTable.addCell(column.getText());\r\n\t\t            }\r\n\t\t            \r\n\t\t            }catch(Exception e) {\r\n\t\t            \tSystem.out.println(&quot;E1: &quot;+e);\r\n\t\t            \te.printStackTrace();\r\n\t\t            }\r\n\t\t            \r\n\t\t            \r\n\t\t            try {\r\n\t\t            \t\r\n\t\t            \tfor (int i = 0; i &lt; TableName.getItems().size(); i++) {\r\n\t\t            \t    for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\r\n\t\t            \t        try {\r\n\t\t            \t            pdfTable.addCell(column.getCellData(i).toString());\r\n\t\t            \t        } catch (NullPointerException e) {\r\n\t\t            \t            pdfTable.addCell(&quot;&quot;);\r\n\t\t            \t        }\r\n\t\t            \t    }\r\n\t\t            \t}\r\n\t\t            \t\r\n\t\t            } catch(Exception e) {\r\n\t\t            \tSystem.out.println(&quot;E2: &quot;+e);\r\n\t\t            \te.printStackTrace();\r\n\t\t            }\r\n\t\t\r\n\t\t            document.add(pdfTable);\r\n\t\t            document.close();\r\n\t\t        } catch (Exception e) {\r\n\t\t        \tSystem.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\r\n\t\t            e.printStackTrace();\r\n\t\t        }\r\n\t\t    }\r\n\t    }\r\n\r\n\r\nWe have handled the NullPointerException by checking if the object is null, if yes then we have added the empty string to it so it couldn&#39;t throw a NullPointerException. \r\nAnd the ClassCastException was caused because when I was trying to cast an object to a type that it is not compatible with.\r\nThen I placed className(contains records: i.e variables, constructor, and getters and setters) as a type instead of using wildcards in TabelColumn as suggested by @James_D.\r\n \r\nThanks Again :)\r\n","title":"JavaFX ClassCastException using iText PDF","body":"<p>Thanks to all!\nSpecial Thanks to @James_D</p>\n<p>This is the code that is printing the pdf correctly.</p>\n<pre><code>@FXML\n public void DownloadButtonMethod(ActionEvent event) {\n     \n        DirectoryChooser directoryChooser = new DirectoryChooser();\n        File selectedDirectory = directoryChooser.showDialog(TableName.getScene().getWindow());\n        if (selectedDirectory == null) {\n            return;\n        }\n        \n        \n        TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\n        dialog.setTitle(&quot;Enter File Name&quot;);\n        dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\n        dialog.setContentText(&quot;File name:&quot;);\n        Optional&lt;String&gt; result = dialog.showAndWait();\n        \n        if (result.isPresent()) {\n            try {\n                String fileName = result.get();\n                if (!fileName.endsWith(&quot;.pdf&quot;)) {\n                    fileName = fileName + &quot;.pdf&quot;;\n                }\n                String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\n                OutputStream file = new FileOutputStream(filePath);\n                PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\n                Document document = new Document(pdfDoc);\n                Table pdfTable = new Table(TableName.getColumns().size());\n                \n                try {\n                    \n                for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\n                    pdfTable.addCell(column.getText());\n                }\n                \n                }catch(Exception e) {\n                    System.out.println(&quot;E1: &quot;+e);\n                    e.printStackTrace();\n                }\n                \n                \n                try {\n                    \n                    for (int i = 0; i &lt; TableName.getItems().size(); i++) {\n                        for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\n                            try {\n                                pdfTable.addCell(column.getCellData(i).toString());\n                            } catch (NullPointerException e) {\n                                pdfTable.addCell(&quot;&quot;);\n                            }\n                        }\n                    }\n                    \n                } catch(Exception e) {\n                    System.out.println(&quot;E2: &quot;+e);\n                    e.printStackTrace();\n                }\n    \n                document.add(pdfTable);\n                document.close();\n            } catch (Exception e) {\n                System.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>We have handled the NullPointerException by checking if the object is null, if yes then we have added the empty string to it so it couldn't throw a NullPointerException.\nAnd the ClassCastException was caused because when I was trying to cast an object to a type that it is not compatible with.\nThen I placed className(contains records: i.e variables, constructor, and getters and setters) as a type instead of using wildcards in TabelColumn as suggested by @James_D.</p>\n<p>Thanks Again :)</p>\n"}],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675960617,"creation_date":1675948505,"question_id":75399136,"body_markdown":"I am trying to download a `TableView` in JavaFx as an pdf document. I am using iText 7.2.5 .  When I am clicking the button to download the `TableView`, it is asking me to select the folder then it is asking to write the name for the pdf document then after it; when I press ok to download the document, it downloads the pdf file that is unable to show any content even a blank page. When I open the pdf file with chrome it shows this, and I also tried to open with Adobe Acrobat, but situation is the same with pdf file.\r\n\r\n&gt;Error Failed to load PDF document.\r\n\r\nFirst, it was giving an exception for slf4j; then I added these jar files in classpath:\r\nslf4j-simple-2.0.6.jar , slf4j-api-2.0.6-javadoc.jar , slf4j-api-2.0.6.jar .\r\nIt was giving warning for provider not found or something like that; that was solved after adding slf4j-simple-2.0.6.jar.\r\n\r\nI saw a similar question here \r\nhttps://stackoverflow.com/questions/66039987/java-lang-noclassdeffounderror-org-slf4j-loggerfactory-problem.\r\n\r\nAnswer of this question is: \r\nIt turns out that it missed the following 3 jars : slf4j.api, slf4j-log4j12, and log4j\r\n\r\nIt works now after adding the above 3 jars.\r\n\r\nThese are all the files at org/slf4j\r\nintegration/                                                     -         -      \r\njcl-over-slf4j/                                                  -         -      \r\njcl104-over-slf4j/                                               -         -      \r\njul-to-slf4j/                                                    -         -      \r\nlog4j-over-slf4j/                                                -         -      \r\nnlog4j/                                                          -         -      \r\nosgi-over-slf4j/                                                 -         -      \r\nslf4j-android/                                                   -         -      \r\nslf4j-api/                                                       -         -      \r\nslf4j-archetype/                                                 -         -      \r\nslf4j-converter/                                                 -         -      \r\nslf4j-ext/                                                       -         -      \r\nslf4j-jcl/                                                       -         -      \r\nslf4j-jdk-platform-logging/                                      -         -      \r\nslf4j-jdk14/                                                     -         -      \r\nslf4j-log4j12/                                                   -         -      \r\nslf4j-log4j13/                                                   -         -      \r\nslf4j-migrator/                                                  -         -      \r\nslf4j-nop/                                                       -         -      \r\nslf4j-parent/                                                    -         -      \r\nslf4j-reload4j/                                                  -         -      \r\nslf4j-simple/                                                    -         -      \r\nslf4j-site/                                                      -         -      \r\nslf4j-skin/                                                      -         -      \r\ntaglib/                                                          -         -      \r\n\r\n\r\nlog4j-over-slf4j/  ---&gt; is it the file \tlog4j that is mentioned in reference answer to the question.\r\n\r\nI am unable to get  slf4j-log4j12.\r\n\r\nbecause org/slf4j/slf4j-log4j12/2.0.6 contains no jar file but this\r\n\r\nslf4j-log4j12-2.0.6.pom                           2022-12-12 19:14       873      \r\nslf4j-log4j12-2.0.6.pom.asc                       2022-12-12 19:14       317      \r\nslf4j-log4j12-2.0.6.pom.md5                       2022-12-12 19:14        32      \r\nslf4j-log4j12-2.0.6.pom.sha1  \r\n\r\nHere is the code on download button:\r\n\r\n    @FXML\r\n\tpublic void ButtonDownload(ActionEvent event) {\r\n\t\t \r\n\t    DirectoryChooser directoryChooser = new DirectoryChooser();\r\n\t    File selectedDirectory =                directoryChooser.showDialog(TableName.getScene().getWindow());\r\n\t    if (selectedDirectory == null) {\r\n\t        return;\r\n\t    }\r\n\t    \r\n\t    \r\n\t    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\r\n\t    dialog.setTitle(&quot;Enter File Name&quot;);\r\n\t    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\r\n\t    dialog.setContentText(&quot;File name:&quot;);\r\n\t    Optional&lt;String&gt; result = dialog.showAndWait();\r\n\t    \r\n\t    if (result.isPresent()) {\r\n\t        try {\r\n\t            String fileName = result.get();\r\n\t            if (!fileName.endsWith(&quot;.pdf&quot;)) {\r\n\t                fileName = fileName + &quot;.pdf&quot;;\r\n\t            }\r\n\t            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\r\n\t            OutputStream file = new FileOutputStream(filePath);\r\n\t            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\r\n\t            Document document = new Document(pdfDoc);\r\n\t            Table pdfTable = new Table(TableName.getColumns().size());\r\n\t            \r\n\t            \r\n\t            for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\r\n\t                pdfTable.addCell(column.getText());\r\n\t            }\r\n\t            \r\n\t            for (Object item : TableName.getItems()) {\r\n\t            \t\r\n\t                for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\r\n\t                /*this line is line:254*/\r\n\t                    pdfTable.addCell(column.getCellData((int) item).toString());\r\n\t                    \r\n\t                }\r\n\t            }\r\n\t            document.add(pdfTable);\r\n\t            document.close();\r\n\t        } catch (Exception e) {\r\n\t        \tSystem.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t    }\r\n    }\r\n\r\nThis is the StackTrace:\r\n\r\n```\r\nException while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat application.className(Controller).DownloadMethod(className(Controller).java:254)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\n\r\nEDIT: 254 original code\r\n\r\n     pdfTable.addCell(column.getCellData(item).toString());\r\n\r\nbut then It asked to cast argument item to int like this \r\n\r\n     pdfTable.addCell(column.getCellData((int) item).toString());\r\n\r\nKindly help out to solve this.\r\n\r\n","title":"JavaFX ClassCastException using iText PDF","body":"<p>I am trying to download a <code>TableView</code> in JavaFx as an pdf document. I am using iText 7.2.5 .  When I am clicking the button to download the <code>TableView</code>, it is asking me to select the folder then it is asking to write the name for the pdf document then after it; when I press ok to download the document, it downloads the pdf file that is unable to show any content even a blank page. When I open the pdf file with chrome it shows this, and I also tried to open with Adobe Acrobat, but situation is the same with pdf file.</p>\n<blockquote>\n<p>Error Failed to load PDF document.</p>\n</blockquote>\n<p>First, it was giving an exception for slf4j; then I added these jar files in classpath:\nslf4j-simple-2.0.6.jar , slf4j-api-2.0.6-javadoc.jar , slf4j-api-2.0.6.jar .\nIt was giving warning for provider not found or something like that; that was solved after adding slf4j-simple-2.0.6.jar.</p>\n<p>I saw a similar question here\n<a href=\"https://stackoverflow.com/questions/66039987/java-lang-noclassdeffounderror-org-slf4j-loggerfactory-problem\">java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory problem</a>.</p>\n<p>Answer of this question is:\nIt turns out that it missed the following 3 jars : slf4j.api, slf4j-log4j12, and log4j</p>\n<p>It works now after adding the above 3 jars.</p>\n<p>These are all the files at org/slf4j\nintegration/                                                     -         -<br />\njcl-over-slf4j/                                                  -         -<br />\njcl104-over-slf4j/                                               -         -<br />\njul-to-slf4j/                                                    -         -<br />\nlog4j-over-slf4j/                                                -         -<br />\nnlog4j/                                                          -         -<br />\nosgi-over-slf4j/                                                 -         -<br />\nslf4j-android/                                                   -         -<br />\nslf4j-api/                                                       -         -<br />\nslf4j-archetype/                                                 -         -<br />\nslf4j-converter/                                                 -         -<br />\nslf4j-ext/                                                       -         -<br />\nslf4j-jcl/                                                       -         -<br />\nslf4j-jdk-platform-logging/                                      -         -<br />\nslf4j-jdk14/                                                     -         -<br />\nslf4j-log4j12/                                                   -         -<br />\nslf4j-log4j13/                                                   -         -<br />\nslf4j-migrator/                                                  -         -<br />\nslf4j-nop/                                                       -         -<br />\nslf4j-parent/                                                    -         -<br />\nslf4j-reload4j/                                                  -         -<br />\nslf4j-simple/                                                    -         -<br />\nslf4j-site/                                                      -         -<br />\nslf4j-skin/                                                      -         -<br />\ntaglib/                                                          -         -</p>\n<p>log4j-over-slf4j/  ---&gt; is it the file  log4j that is mentioned in reference answer to the question.</p>\n<p>I am unable to get  slf4j-log4j12.</p>\n<p>because org/slf4j/slf4j-log4j12/2.0.6 contains no jar file but this</p>\n<p>slf4j-log4j12-2.0.6.pom                           2022-12-12 19:14       873<br />\nslf4j-log4j12-2.0.6.pom.asc                       2022-12-12 19:14       317<br />\nslf4j-log4j12-2.0.6.pom.md5                       2022-12-12 19:14        32<br />\nslf4j-log4j12-2.0.6.pom.sha1</p>\n<p>Here is the code on download button:</p>\n<pre><code>@FXML\npublic void ButtonDownload(ActionEvent event) {\n     \n    DirectoryChooser directoryChooser = new DirectoryChooser();\n    File selectedDirectory =                directoryChooser.showDialog(TableName.getScene().getWindow());\n    if (selectedDirectory == null) {\n        return;\n    }\n    \n    \n    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\n    dialog.setTitle(&quot;Enter File Name&quot;);\n    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\n    dialog.setContentText(&quot;File name:&quot;);\n    Optional&lt;String&gt; result = dialog.showAndWait();\n    \n    if (result.isPresent()) {\n        try {\n            String fileName = result.get();\n            if (!fileName.endsWith(&quot;.pdf&quot;)) {\n                fileName = fileName + &quot;.pdf&quot;;\n            }\n            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\n            OutputStream file = new FileOutputStream(filePath);\n            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\n            Document document = new Document(pdfDoc);\n            Table pdfTable = new Table(TableName.getColumns().size());\n            \n            \n            for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\n                pdfTable.addCell(column.getText());\n            }\n            \n            for (Object item : TableName.getItems()) {\n                \n                for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\n                /*this line is line:254*/\n                    pdfTable.addCell(column.getCellData((int) item).toString());\n                    \n                }\n            }\n            document.add(pdfTable);\n            document.close();\n        } catch (Exception e) {\n            System.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is the StackTrace:</p>\n<pre><code>Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\n    at application.className(Controller).DownloadMethod(className(Controller).java:254)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>EDIT: 254 original code</p>\n<pre><code> pdfTable.addCell(column.getCellData(item).toString());\n</code></pre>\n<p>but then It asked to cast argument item to int like this</p>\n<pre><code> pdfTable.addCell(column.getCellData((int) item).toString());\n</code></pre>\n<p>Kindly help out to solve this.</p>\n"},{"tags":["java","spring-boot","docker","integration-testing","apple-m1"],"comments":[{"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"score":0,"creation_date":1632070767,"post_id":69244638,"comment_id":122388685,"body_markdown":"Can&#39;t you use MariaDB instead of MySQL, I&#39;m running MariaDB latest in a Macbook M1 without an issue :) The same should be usable with Test containers as well.","body":"Can&#39;t you use MariaDB instead of MySQL, I&#39;m running MariaDB latest in a Macbook M1 without an issue :) The same should be usable with Test containers as well."},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632072139,"post_id":69244638,"comment_id":122389006,"body_markdown":"please add `docker logs` for the DB container and the application container","body":"please add <code>docker logs</code> for the DB container and the application container"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632082558,"post_id":69244638,"comment_id":122391394,"body_markdown":"@ChinthakaDinadasa I can not because we use SQL in the production environment","body":"@ChinthakaDinadasa I can not because we use SQL in the production environment"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632083722,"post_id":69244638,"comment_id":122391628,"body_markdown":"@NoamYizraeli . Here it is [logs](https://pastebin.com/bLcxWXpP) . I am not sure if it DB and the application container or not . I found more than logs files , I got the logs under the name of **com.docker.backend.log**","body":"@NoamYizraeli . Here it is <a href=\"https://pastebin.com/bLcxWXpP\" rel=\"nofollow noreferrer\">logs</a> . I am not sure if it DB and the application container or not . I found more than logs files , I got the logs under the name of <b>com.docker.backend.log</b>"},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632083958,"post_id":69244638,"comment_id":122391677,"body_markdown":"I&#39;m confused, are these for the DB container? If it&#39;s both please separate them. and where is com.docker.backend.log?","body":"I&#39;m confused, are these for the DB container? If it&#39;s both please separate them. and where is com.docker.backend.log?"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632160003,"post_id":69244638,"comment_id":122413246,"body_markdown":"@NoamYizraeli Sorry for late reply , There is no logs for DB container , as it is mentioned in the spring boot logs in the post . spring boot failed to pull SQL docker image and application failed to run .`&#39;2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\n2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication            : Application run failed\norg.testcontainers.containers.ContainerLaunchException: Container startup failed`","body":"@NoamYizraeli Sorry for late reply , There is no logs for DB container , as it is mentioned in the spring boot logs in the post . spring boot failed to pull SQL docker image and application failed to run .<code>&#39;2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes&#47;0 bytes) 2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication            : Application run failed org.testcontainers.containers.ContainerLaunchException: Container startup failed</code>"},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632168283,"post_id":69244638,"comment_id":122415970,"body_markdown":"Can you pull other images like `ubuntu` or `nginx`?","body":"Can you pull other images like <code>ubuntu</code> or <code>nginx</code>?"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632172728,"post_id":69244638,"comment_id":122417234,"body_markdown":"@NoamYizraeli I don&#39;t think test containers in spring boot supports pulling Ubuntu images . I don&#39;t know if you noticed that I mentioned I can pull sql docker image using docker pull command on the terminal , but it fails to pull it as test container using spring boot . the logs in pervious comment came from IntelliJ (spring boot ) while it tries to pull test container image","body":"@NoamYizraeli I don&#39;t think test containers in spring boot supports pulling Ubuntu images . I don&#39;t know if you noticed that I mentioned I can pull sql docker image using docker pull command on the terminal , but it fails to pull it as test container using spring boot . the logs in pervious comment came from IntelliJ (spring boot ) while it tries to pull test container image"}],"answers":[{"tags":[],"owner":{"account_id":213608,"reputation":1,"user_id":467089,"display_name":"SQLDBA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675960610,"creation_date":1675960610,"answer_id":75401698,"question_id":69244638,"body_markdown":"I&#39;m the current PM for Azure SQL Edge at Microsoft dropping by with an update to share. Docker Desktop v4.16 introduced beta support for the Virtualization framework, meaning you can now run x86/amd64 based SQL Server containers on M1/M2 silicon with macOS 13. This will be our recommended path for running SQL server containers on ARM based macOS going forward as it will enable you to develop against SQL Server 2017-2022 in addition to Azure SQL Edge. For a walkthrough on how to enable the feature and run a SQL Server 2022 container on macOS, check out https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/\r\n","title":"SQL Test Container Fails to start on MacBook M1","body":"<p>I'm the current PM for Azure SQL Edge at Microsoft dropping by with an update to share. Docker Desktop v4.16 introduced beta support for the Virtualization framework, meaning you can now run x86/amd64 based SQL Server containers on M1/M2 silicon with macOS 13. This will be our recommended path for running SQL server containers on ARM based macOS going forward as it will enable you to develop against SQL Server 2017-2022 in addition to Azure SQL Edge. For a walkthrough on how to enable the feature and run a SQL Server 2022 container on macOS, check out <a href=\"https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/\" rel=\"nofollow noreferrer\">https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/</a></p>\n"}],"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1675960610,"creation_date":1632065169,"question_id":69244638,"body_markdown":"According to Docker official website , Docker doesn&#39;t support SQL image for M1 processors ; however , it supports installing it by passing &quot; --platform linux/x86_64 mysql&quot; . \r\n\r\nActually , SQL docker is pulled successfully using  this command \r\n\r\n    docker pull --platform linux/x86_64 mysql\r\n\r\nthe output :\r\n\r\n    Using default tag: latest\r\n    latest: Pulling from library/mysql\r\n    a330b6cecb98: Pull complete \r\n    9c8f656c32b8: Pull complete \r\n    88e473c3f553: Pull complete \r\n    062463ea5d2f: Pull complete \r\n    daf7e3bdf4b6: Pull complete \r\n    1839c0b7aac9: Pull complete \r\n    cf0a0cfee6d0: Pull complete \r\n    1b42041bb11e: Pull complete \r\n    10459d86c7e6: Pull complete \r\n    b7199599d5f9: Pull complete \r\n    1d6f51e17d45: Pull complete \r\n    50e0789bacad: Pull complete \r\n    Digest: sha256:99e0989e7e3797cfbdb8d51a19d32c8d286dd8862794d01a547651a896bcf00c\r\n    Status: Downloaded newer image for mysql:latest\r\n    docker.io/library/mysql:late\r\n\r\n\r\nNow , I want to use SQL container in my integration test , but docker fails to pull SQL.\r\n\r\nThe code used to initialize SQL test container \r\n\r\n    @DynamicPropertySource\r\n    static void dynamicPropertySource(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n        MySQLContainer&lt;?&gt; container = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.26&quot;)\r\n                       .withDatabaseName(&quot;sympl&quot;)\r\n                .withUsername(&quot;test&quot;)\r\n                .withPassword(&quot;test&quot;)\r\n                .withCommand(&quot;docker pull --platform linux/x86_64 mysql&quot;);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, () -&gt; container.getJdbcUrl());\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, () -&gt; container.getUsername());\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, () -&gt; container.getPassword());\r\n        container.start();\r\n\r\n        }\r\n    \r\n      \r\nI tried to write the code `withCommand()` and without `.withCommand`.\r\n    After I run the test cases , it gives fails with the following logs : \r\n    \r\n    \r\n    \r\n        17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.015 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3faf2e7d testClass = CustomerApiIntegrationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4648ce9 testClass = CustomerApiIntegrationTests, locations = &#39;{}&#39;, classes = &#39;{class com.sympl.customer.CustomersApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{test}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@78fa769e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2c78324b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3fd11d55, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ca18a14, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@1ec9bd38, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cd1e646, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@aa1b54d2, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5890e879], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false]], class annotated with @DirtiesContext [false] with mode [null].\r\n    17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.088 [main] DEBUG org.springframework.core.env.StandardEnvironment - Activating profiles [test]\r\n    17:18:25.094 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.5.3)\r\n    \r\n    2021-09-19 17:18:26.039  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\r\n    2021-09-19 17:18:27.294  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\r\n    2021-09-19 17:18:27.299  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost\r\n    2021-09-19 17:18:27.365  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: \r\n      Server Version: 20.10.8\r\n      API Version: 1.41\r\n      Operating System: Docker Desktop\r\n      Total Memory: 1988 MB\r\n    2021-09-19 17:18:27.369  INFO 9715 --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of &#39;ConfigurationFileImageNameSubstitutor&#39; and &#39;PrefixingImageNameSubstitutor&#39;)\r\n    2021-09-19 17:18:27.547  INFO 9715 --- [           main] o.t.utility.RegistryAuthLocator          : Credential helper/store (docker-credential-desktop) does not have credentials for index.docker.io\r\n    2021-09-19 17:18:28.202  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\r\n    2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Checking the system...\r\n    2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\r\n    2021-09-19 17:18:28.322  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker environment should have more than 2GB free disk space\r\n    2021-09-19 17:18:28.388  INFO 9715 --- [           main] &#128051; [mysql:8.0.26]                        : Pulling docker image: mysql:8.0.26. Please be patient; this may take some time but only needs to be done once.\r\n    2021-09-19 17:18:32.326  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Starting to pull image\r\n    2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\r\n    2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:330) ~[testcontainers-1.15.3.jar:na]\r\n    \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:311) ~[testcontainers-1.15.3.jar:na]\r\n    \tat com.sympl.customer.api.CustomerApiIntegrationTests.dynamicPropertySource(CustomerApiIntegrationTests.java:79) ~[test-classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\r\nHere is the docker [logs](https://pastebin.com/bLcxWXpP)\r\n\r\nI am sure there is a workaround for this , but I couldn&#39;t find it till now .\r\n\r\n\r\n\r\n\r\n\r\n","title":"SQL Test Container Fails to start on MacBook M1","body":"<p>According to Docker official website , Docker doesn't support SQL image for M1 processors ; however , it supports installing it by passing &quot; --platform linux/x86_64 mysql&quot; .</p>\n<p>Actually , SQL docker is pulled successfully using  this command</p>\n<pre><code>docker pull --platform linux/x86_64 mysql\n</code></pre>\n<p>the output :</p>\n<pre><code>Using default tag: latest\nlatest: Pulling from library/mysql\na330b6cecb98: Pull complete \n9c8f656c32b8: Pull complete \n88e473c3f553: Pull complete \n062463ea5d2f: Pull complete \ndaf7e3bdf4b6: Pull complete \n1839c0b7aac9: Pull complete \ncf0a0cfee6d0: Pull complete \n1b42041bb11e: Pull complete \n10459d86c7e6: Pull complete \nb7199599d5f9: Pull complete \n1d6f51e17d45: Pull complete \n50e0789bacad: Pull complete \nDigest: sha256:99e0989e7e3797cfbdb8d51a19d32c8d286dd8862794d01a547651a896bcf00c\nStatus: Downloaded newer image for mysql:latest\ndocker.io/library/mysql:late\n</code></pre>\n<p>Now , I want to use SQL container in my integration test , but docker fails to pull SQL.</p>\n<p>The code used to initialize SQL test container</p>\n<pre><code>@DynamicPropertySource\nstatic void dynamicPropertySource(DynamicPropertyRegistry dynamicPropertyRegistry) {\n    MySQLContainer&lt;?&gt; container = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.26&quot;)\n                   .withDatabaseName(&quot;sympl&quot;)\n            .withUsername(&quot;test&quot;)\n            .withPassword(&quot;test&quot;)\n            .withCommand(&quot;docker pull --platform linux/x86_64 mysql&quot;);\n    dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, () -&gt; container.getJdbcUrl());\n    dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, () -&gt; container.getUsername());\n    dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, () -&gt; container.getPassword());\n    container.start();\n\n    }\n\n  \n</code></pre>\n<p>I tried to write the code <code>withCommand()</code> and without <code>.withCommand</code>.\nAfter I run the test cases , it gives fails with the following logs :</p>\n<pre><code>    17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.015 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3faf2e7d testClass = CustomerApiIntegrationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4648ce9 testClass = CustomerApiIntegrationTests, locations = '{}', classes = '{class com.sympl.customer.CustomersApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@78fa769e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2c78324b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3fd11d55, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ca18a14, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@1ec9bd38, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cd1e646, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@aa1b54d2, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5890e879], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false]], class annotated with @DirtiesContext [false] with mode [null].\n17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.088 [main] DEBUG org.springframework.core.env.StandardEnvironment - Activating profiles [test]\n17:18:25.094 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.3)\n\n2021-09-19 17:18:26.039  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\n2021-09-19 17:18:27.294  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\n2021-09-19 17:18:27.299  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost\n2021-09-19 17:18:27.365  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: \n  Server Version: 20.10.8\n  API Version: 1.41\n  Operating System: Docker Desktop\n  Total Memory: 1988 MB\n2021-09-19 17:18:27.369  INFO 9715 --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')\n2021-09-19 17:18:27.547  INFO 9715 --- [           main] o.t.utility.RegistryAuthLocator          : Credential helper/store (docker-credential-desktop) does not have credentials for index.docker.io\n2021-09-19 17:18:28.202  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\n2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Checking the system...\n2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\n2021-09-19 17:18:28.322  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker environment should have more than 2GB free disk space\n2021-09-19 17:18:28.388  INFO 9715 --- [           main] 🐳 [mysql:8.0.26]                        : Pulling docker image: mysql:8.0.26. Please be patient; this may take some time but only needs to be done once.\n2021-09-19 17:18:32.326  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Starting to pull image\n2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\n2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:330) ~[testcontainers-1.15.3.jar:na]\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:311) ~[testcontainers-1.15.3.jar:na]\n    at com.sympl.customer.api.CustomerApiIntegrationTests.dynamicPropertySource(CustomerApiIntegrationTests.java:79) ~[test-classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n</code></pre>\n<p>Here is the docker <a href=\"https://pastebin.com/bLcxWXpP\" rel=\"nofollow noreferrer\">logs</a></p>\n<p>I am sure there is a workaround for this , but I couldn't find it till now .</p>\n"},{"tags":["java","sql","oop"],"comments":[{"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"score":1,"creation_date":1675956484,"post_id":75400707,"comment_id":133042955,"body_markdown":"Is getColumns always returning the same result? You might be able to turn it into a static final Map and avoid these issues, having extra peace of mind that only a subset of approved strings can be returned. Not to mention the obvious performance boost.","body":"Is getColumns always returning the same result? You might be able to turn it into a static final Map and avoid these issues, having extra peace of mind that only a subset of approved strings can be returned. Not to mention the obvious performance boost."},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1675957231,"post_id":75400707,"comment_id":133043200,"body_markdown":"@PedroCavalheiro Sadly, it&#39;s not a fixed result for each Child class, it will remain the same most of the time but can occasionally change with other columns under a few specific conditions, however this could be a solution at least for the table name part.","body":"@PedroCavalheiro Sadly, it&#39;s not a fixed result for each Child class, it will remain the same most of the time but can occasionally change with other columns under a few specific conditions, however this could be a solution at least for the table name part."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1675957620,"post_id":75400707,"comment_id":133043329,"body_markdown":"You have implemented SQL Injection... intentionally? I would suggest you get rid of that piece of code, and use a safe ORM instead.","body":"You have implemented SQL Injection... intentionally? I would suggest you get rid of that piece of code, and use a safe ORM instead."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1675957827,"post_id":75400707,"comment_id":133043415,"body_markdown":"&quot;...there is no way for a user to interfere in any way with the returned values of those methods...&quot; -- well, yes, today. The next developer that works wit the code next year won&#39;t know about this and could happily inject bad data in them. Be safe, don&#39;t concatenate SQL statements and use parameterized queries instead.","body":"&quot;...there is no way for a user to interfere in any way with the returned values of those methods...&quot; -- well, yes, today. The next developer that works wit the code next year won&#39;t know about this and could happily inject bad data in them. Be safe, don&#39;t concatenate SQL statements and use parameterized queries instead."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1675958709,"post_id":75400707,"comment_id":133043795,"body_markdown":"Parameterized queries will not help with things like dynamic column selection or table names, those are not bindable in jdbc. My personal way of handling these is to have `.sql` files with the query parameters already made out, and then loading those files at runtime (so you reference a query name instead of putting SQL into Java code). However, for the situation OP faces, short of files for every permutation this is the only way. An ORM or dynamic query builder will end up doing this under the hood anyhow, so it&#39;s a question of how to isolate these so user input doesn&#39;t make it there.","body":"Parameterized queries will not help with things like dynamic column selection or table names, those are not bindable in jdbc. My personal way of handling these is to have <code>.sql</code> files with the query parameters already made out, and then loading those files at runtime (so you reference a query name instead of putting SQL into Java code). However, for the situation OP faces, short of files for every permutation this is the only way. An ORM or dynamic query builder will end up doing this under the hood anyhow, so it&#39;s a question of how to isolate these so user input doesn&#39;t make it there."},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":1,"creation_date":1675958960,"post_id":75400707,"comment_id":133043909,"body_markdown":"@TheImpaler Normally I&#39;d agree with this, but in this case the parametrized part concern the columns and table name, which can&#39;t be passed using prepared statements. However, the part of considering what could the next developer do is still a good point that I didn&#39;t consider.","body":"@TheImpaler Normally I&#39;d agree with this, but in this case the parametrized part concern the columns and table name, which can&#39;t be passed using prepared statements. However, the part of considering what could the next developer do is still a good point that I didn&#39;t consider."}],"answers":[{"tags":[],"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675960527,"creation_date":1675958197,"answer_id":75401177,"question_id":75400707,"body_markdown":"Reflect whether this isn&#39;t a design flaw on your inheritance model. If it isn&#39;t, well, stick with the solution that&#39;s less likely to introduce errors.\r\n\r\nWarnings are just that, warnings, you may proceed with caution. Having a lot of code duplication is more likely to introduce errors, in my personal experience. But make sure the methods are actually 100% controlled by you. Make the possible security concerns clear in the documentation, both for you and future maintainers. That documentation will serve to avoid having it being falsely flagged as a security flaw and to help prevent someone from introducing that same security flaw. As referenced in the comments, pass as many things as you can to a Set or another data structure that maps a specific input to a specific output, with special attention to the special output, both for performance reasons and some peace of mind.\r\n\r\nSee https://stackoverflow.com/questions/3135973/variable-column-names-using-prepared-statements for a similar question.","title":"Balance between maintenability and security with SQL code in Java program","body":"<p>Reflect whether this isn't a design flaw on your inheritance model. If it isn't, well, stick with the solution that's less likely to introduce errors.</p>\n<p>Warnings are just that, warnings, you may proceed with caution. Having a lot of code duplication is more likely to introduce errors, in my personal experience. But make sure the methods are actually 100% controlled by you. Make the possible security concerns clear in the documentation, both for you and future maintainers. That documentation will serve to avoid having it being falsely flagged as a security flaw and to help prevent someone from introducing that same security flaw. As referenced in the comments, pass as many things as you can to a Set or another data structure that maps a specific input to a specific output, with special attention to the special output, both for performance reasons and some peace of mind.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/3135973/variable-column-names-using-prepared-statements\">Variable column names using prepared statements</a> for a similar question.</p>\n"}],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675959268,"answer_count":1,"score":0,"last_activity_date":1675960527,"creation_date":1675956050,"question_id":75400707,"body_markdown":"I&#39;m in a situation where I have a parent class\r\n```java\r\nclass Parent&lt;T extends Entity&gt; {\r\n    ...\r\n    public List&lt;T&gt; selectSomething() {\r\n         String sql = &quot;SELECT &quot; + getColumns() + &quot; FROM &quot; + getTable() + &quot; WHERE ...&quot;;     \r\n         TypedQuery&lt;T&gt; query = this.entityManager.createQuery(sql, T.class);\r\n         return query.getResultList();\r\n    }\r\n\r\n\r\n}\r\n```\r\n*(For sake of simplicity, there is only a method described but in practice there are more with the same format)*\r\n\r\nAnd many child classes : \r\n```java \r\nclass Child1 extends Parent&lt;EntityChild1&gt; { ... }\r\nclass Child2 extends Parent&lt;EntityChild2&gt; { ... }\r\n...\r\nclass Child50 extends Parent&lt;EntityChild50&gt; { ... }\r\n```\r\n\r\n\r\nMy issue is that this piece of code in the `Parent` is detected as a security issue by tools like SonarQube for possible SQL injection, and this warning is a blocking point that I need to correct or bypass.\r\n\r\nI precise the both method getColumns() and getTables() are 100% controlled by me and I do know for sure that there is no way for a user to interfere in any way with the returned values of those methods. So even if it&#39;s detected as SQL injection, I do know it&#39;s not one.\r\n\r\nTo fix this, I can&#39;t just use a prepared statement since the whole point of a prepared statement is to prevent to inject SQL code, so you can&#39;t use them for dynamic columns name or table name. \r\n\r\nI&#39;m considering two options : \r\n 1. Make the `selectSomething` method from the `Parent` abstract and reimplement it in each child with a fixed string for the request directly containing the table name and columns name. \\\r\nThis would work fine and fix the warning, but due to the high number of `Child` it makes the code much less maintainable and evolutive (especially considering that the number of `Child` class could increase over time).\r\n\r\n 2. Simply let it as is and use a `@SupressWarning` annotation in the `selectSomething` method from the `Parent` this make the tools like SonarQube ignore this. \\\r\nAgain, it&#39;s a solution that would work but which is not very clean and filling code with many `@SupressWarning` is a bad practice.\r\n\r\n\r\nIs there any good way to handle this situation ? If not, is there any reason I should stick with a solution above the other ? ","title":"Balance between maintenability and security with SQL code in Java program","body":"<p>I'm in a situation where I have a parent class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent&lt;T extends Entity&gt; {\n    ...\n    public List&lt;T&gt; selectSomething() {\n         String sql = &quot;SELECT &quot; + getColumns() + &quot; FROM &quot; + getTable() + &quot; WHERE ...&quot;;     \n         TypedQuery&lt;T&gt; query = this.entityManager.createQuery(sql, T.class);\n         return query.getResultList();\n    }\n\n\n}\n</code></pre>\n<p><em>(For sake of simplicity, there is only a method described but in practice there are more with the same format)</em></p>\n<p>And many child classes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Child1 extends Parent&lt;EntityChild1&gt; { ... }\nclass Child2 extends Parent&lt;EntityChild2&gt; { ... }\n...\nclass Child50 extends Parent&lt;EntityChild50&gt; { ... }\n</code></pre>\n<p>My issue is that this piece of code in the <code>Parent</code> is detected as a security issue by tools like SonarQube for possible SQL injection, and this warning is a blocking point that I need to correct or bypass.</p>\n<p>I precise the both method getColumns() and getTables() are 100% controlled by me and I do know for sure that there is no way for a user to interfere in any way with the returned values of those methods. So even if it's detected as SQL injection, I do know it's not one.</p>\n<p>To fix this, I can't just use a prepared statement since the whole point of a prepared statement is to prevent to inject SQL code, so you can't use them for dynamic columns name or table name.</p>\n<p>I'm considering two options :</p>\n<ol>\n<li><p>Make the <code>selectSomething</code> method from the <code>Parent</code> abstract and reimplement it in each child with a fixed string for the request directly containing the table name and columns name. <br />\nThis would work fine and fix the warning, but due to the high number of <code>Child</code> it makes the code much less maintainable and evolutive (especially considering that the number of <code>Child</code> class could increase over time).</p>\n</li>\n<li><p>Simply let it as is and use a <code>@SupressWarning</code> annotation in the <code>selectSomething</code> method from the <code>Parent</code> this make the tools like SonarQube ignore this. <br />\nAgain, it's a solution that would work but which is not very clean and filling code with many <code>@SupressWarning</code> is a bad practice.</p>\n</li>\n</ol>\n<p>Is there any good way to handle this situation ? If not, is there any reason I should stick with a solution above the other ?</p>\n"},{"tags":["java","spring-boot","gradle","compilation"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675937470,"post_id":75396291,"comment_id":133036637,"body_markdown":"`app/libs` is not the same as `libs`. Where is your `build.gradle` relative to the `app` directory?","body":"<code>app&#47;libs</code> is not the same as <code>libs</code>. Where is your <code>build.gradle</code> relative to the <code>app</code> directory?"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1675945000,"post_id":75396291,"comment_id":133038933,"body_markdown":"@JoachimSauer It is present in the same hierarchy as the ```build.gradle``` file","body":"@JoachimSauer It is present in the same hierarchy as the <code>build.gradle</code> file"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1675945516,"post_id":75396291,"comment_id":133039072,"body_markdown":"I tried to change the `build.gradle` to `implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;app/libs&#39;)` and I am able to access the `external-jar.jar` when I try to edit the code, but the compilation fails with the `ClassNotFoundException`.","body":"I tried to change the <code>build.gradle</code> to <code>implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;app&#47;libs&#39;)</code> and I am able to access the <code>external-jar.jar</code> when I try to edit the code, but the compilation fails with the <code>ClassNotFoundException</code>."}],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675960335,"creation_date":1675960335,"answer_id":75401636,"question_id":75396291,"body_markdown":"You can configure the `app/libs` directory as a [Gradle repository][1]: \r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    flatDir {\r\n        dirs &#39;app/libs&#39;\r\n    }\r\n}\r\n```\r\n\r\nThen declare the dependency like this: \r\n\r\n```\r\ndependencies {\r\n    implementation name: &#39;external-jar&#39;\r\n}\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:flat_dir_resolver","title":"Why am I not able to access the jar file in my gradle project?","body":"<p>You can configure the <code>app/libs</code> directory as a <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:flat_dir_resolver\" rel=\"nofollow noreferrer\">Gradle repository</a>:</p>\n<pre><code>repositories {\n    mavenCentral()\n    flatDir {\n        dirs 'app/libs'\n    }\n}\n</code></pre>\n<p>Then declare the dependency like this:</p>\n<pre><code>dependencies {\n    implementation name: 'external-jar'\n}\n</code></pre>\n"}],"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675960335,"creation_date":1675933295,"question_id":75396291,"body_markdown":"I have a springboot project that uses gradle. I am trying to add an external jar file locally and access it within the application. I have done the following:\r\n\r\n1. Created ```app/libs``` folder and placed my ```external-jar.jar``` file in it.\r\n2. In my ```build.gradle``` file I have added this line: ```implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)```\r\n\r\nI am unable to access the classes of the external jar in my application. I am not sure what I am doing wrong.\r\n\r\nAny input would help, thanks!\r\n\r\nJava: 11\r\nSpringboot: 2.7.9\r\nIDE: Intellij\r\nGradle: 6.8","title":"Why am I not able to access the jar file in my gradle project?","body":"<p>I have a springboot project that uses gradle. I am trying to add an external jar file locally and access it within the application. I have done the following:</p>\n<ol>\n<li>Created <code>app/libs</code> folder and placed my <code>external-jar.jar</code> file in it.</li>\n<li>In my <code>build.gradle</code> file I have added this line: <code>implementation fileTree(include: ['*.jar'], dir: 'libs')</code></li>\n</ol>\n<p>I am unable to access the classes of the external jar in my application. I am not sure what I am doing wrong.</p>\n<p>Any input would help, thanks!</p>\n<p>Java: 11\nSpringboot: 2.7.9\nIDE: Intellij\nGradle: 6.8</p>\n"},{"tags":["java","debugging","intellij-idea","classpath"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1675959556,"post_id":75401403,"comment_id":133044138,"body_markdown":"No, you should not be adding the .m2 to your CLASSPATH.  IntelliJ will use Maven to add external libraries to your project correctly.  You will see them under dependencies in the Maven window and external libraries in the project window.","body":"No, you should not be adding the .m2 to your CLASSPATH.  IntelliJ will use Maven to add external libraries to your project correctly.  You will see them under dependencies in the Maven window and external libraries in the project window."},{"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"score":0,"creation_date":1675962843,"post_id":75401403,"comment_id":133045379,"body_markdown":"How can I fix the problem then? I can&#180;t seem to find a way to go back work with what I have in my maven local repository","body":"How can I fix the problem then? I can&#180;t seem to find a way to go back work with what I have in my maven local repository"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1675965667,"post_id":75401403,"comment_id":133046310,"body_markdown":"You weren&#39;t using Maven properly before if you had that CLASSPATH.  I would make it work without changing CLASSPATH.  It&#39;s not clear to me what debugging your web app means.  Are you debugging locally or connecting to remote instance?","body":"You weren&#39;t using Maven properly before if you had that CLASSPATH.  I would make it work without changing CLASSPATH.  It&#39;s not clear to me what debugging your web app means.  Are you debugging locally or connecting to remote instance?"}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675960169,"creation_date":1675959301,"question_id":75401403,"body_markdown":"Using IntelliJ Community Edition 2022.3.2 for Windows 10, I was debugging my webapp just fine until I decided to run some unit tests manually by going to the file in the proyect explorer, double clicking it and selecting &quot;run&quot;.\r\n\r\nAfter doing that, the remote JVM Debug I had been using for months stopped working in the sense that it no longer stops at breakpoints even though it shows its connected.\r\n\r\nAfter quite some digging I found that IntelliJ builds the project before running the tests [as shown here](https://i.stack.imgur.com/G1mLx.png) and therefore messes up my Java classpath. Normally I build my project via CMD using maven (mvn package and then mvn install) to install the built project in my local maven repository and that&#39;s where IntelliJ picks ups the classes but now it&#39;s picking up the classes that are the product of that build that happened because of that unit test run.\r\n\r\nTo give more context, my project is called &quot;JavaClasses&quot; and when I run mvn install each of the folders that are direct childs to the JavaClasses folder gets installed in my local maven repository and the output in the terminal is something like this for each child\r\n\r\n    [INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\target\\gxcloudstorage-tests-2.10-SNAPSHOT.jar to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloud\r\n    storage-tests\\2.10-SNAPSHOT\\gxcloudstorage-tests-2.10-SNAPSHOT.jar\r\n    [INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\.flattened-pom.xml to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloudstorage-tests\\2.10-SNAPSHOT\r\n    \\gxcloudstorage-tests-2.10-SNAPSHOT.pom\r\n\r\n\r\nSo my question is, how can I go back? I would assume it&#180;s a Java thing because there is no way for the IDE to know which copy of the class gets loaded\r\n\r\nThe route to the parent folder of the project in maven local repository is `C:\\Users\\MyUsername\\.m2\\repository\\com` so I tried setting my classpath via CMD like this `set classpath=C:\\Users\\MyUsername\\.m2\\repository\\com` but it did not work","title":"I built my project using IntelliJ and it changed my classpath, how can i go back?","body":"<p>Using IntelliJ Community Edition 2022.3.2 for Windows 10, I was debugging my webapp just fine until I decided to run some unit tests manually by going to the file in the proyect explorer, double clicking it and selecting &quot;run&quot;.</p>\n<p>After doing that, the remote JVM Debug I had been using for months stopped working in the sense that it no longer stops at breakpoints even though it shows its connected.</p>\n<p>After quite some digging I found that IntelliJ builds the project before running the tests <a href=\"https://i.stack.imgur.com/G1mLx.png\" rel=\"nofollow noreferrer\">as shown here</a> and therefore messes up my Java classpath. Normally I build my project via CMD using maven (mvn package and then mvn install) to install the built project in my local maven repository and that's where IntelliJ picks ups the classes but now it's picking up the classes that are the product of that build that happened because of that unit test run.</p>\n<p>To give more context, my project is called &quot;JavaClasses&quot; and when I run mvn install each of the folders that are direct childs to the JavaClasses folder gets installed in my local maven repository and the output in the terminal is something like this for each child</p>\n<pre><code>[INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\target\\gxcloudstorage-tests-2.10-SNAPSHOT.jar to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloud\nstorage-tests\\2.10-SNAPSHOT\\gxcloudstorage-tests-2.10-SNAPSHOT.jar\n[INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\.flattened-pom.xml to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloudstorage-tests\\2.10-SNAPSHOT\n\\gxcloudstorage-tests-2.10-SNAPSHOT.pom\n</code></pre>\n<p>So my question is, how can I go back? I would assume it´s a Java thing because there is no way for the IDE to know which copy of the class gets loaded</p>\n<p>The route to the parent folder of the project in maven local repository is <code>C:\\Users\\MyUsername\\.m2\\repository\\com</code> so I tried setting my classpath via CMD like this <code>set classpath=C:\\Users\\MyUsername\\.m2\\repository\\com</code> but it did not work</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-cloud"],"owner":{"account_id":9923904,"reputation":11,"user_id":7346187,"display_name":"Aviel Avitan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675959869,"creation_date":1675959869,"question_id":75401525,"body_markdown":"I have a Java project who is using spring security and spring cloud routing.\r\n\r\nas to my understanding spring cloud routing works with spring reactive security which is a bit different in her authentication managers and providers, and I want to know how can I integrate from an existing spring security configurations to reactive security.\r\n\r\nThis is my application regular security:\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n\tprivate final IUserProxy userProxy;\r\n\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\t\treturn details -&gt; {\r\n\t\t\tString[] userDetails = details.split(&quot;/&quot;);\r\n\t\t\tString serviceProvider = userDetails[0];\r\n\t\t\tString username = userDetails[1];\r\n\r\n\t\t\treturn userProxy.getUserByUsernameAndServiceProviderName(username, serviceProvider);\r\n\t\t};\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService());\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\t\r\n\t\treturn authenticationProvider;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n\t\treturn authenticationConfiguration.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecretGenerator secretGenerator(){\r\n\t\treturn new DefaultSecretGenerator();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic QrGenerator qrGenerator(){\r\n\t\treturn new ZxingPngQrGenerator();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CodeVerifier codeVerifier(){\r\n\t\tCodeGenerator codeGenerator = new DefaultCodeGenerator();\r\n\t\tTimeProvider timeProvider = new SystemTimeProvider();\r\n\r\n\t\treturn new DefaultCodeVerifier(codeGenerator, timeProvider);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nand this is my security filter chain:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\t\r\n\tprivate final JwtAuthenticationFilter authenticationFilter;\r\n\tprivate final AuthenticationProvider authenticationProvider;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf()\r\n\t\t.disable()\r\n\t\t.authorizeHttpRequests()\r\n\t\t.requestMatchers(&quot;/mng164/auth/**&quot;)\r\n\t\t.permitAll()\r\n\t\t.anyRequest()\r\n\t\t.authenticated()\r\n\t\t.and()\r\n\t\t.sessionManagement()\r\n\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and()\r\n\t\t.authenticationProvider(authenticationProvider)\r\n\t\t.addFilterBefore(authenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t\t\r\n\t\treturn http.build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nfurthermore, is there a way to turn off the security config in my gateway application and just use this one instead of making the integration?\r\n\r\nI tried applying the same security configurations to my gateway application, but spring reacted about bean conflicts. one bean from spring-reactive-security and one from spring-security","title":"Integrating from Spring security to Spring reactive security","body":"<p>I have a Java project who is using spring security and spring cloud routing.</p>\n<p>as to my understanding spring cloud routing works with spring reactive security which is a bit different in her authentication managers and providers, and I want to know how can I integrate from an existing spring security configurations to reactive security.</p>\n<p>This is my application regular security:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final IUserProxy userProxy;\n\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return details -&gt; {\n            String[] userDetails = details.split(&quot;/&quot;);\n            String serviceProvider = userDetails[0];\n            String username = userDetails[1];\n\n            return userProxy.getUserByUsernameAndServiceProviderName(username, serviceProvider);\n        };\n    }\n    \n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        \n        return authenticationProvider;\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecretGenerator secretGenerator(){\n        return new DefaultSecretGenerator();\n    }\n\n    @Bean\n    public QrGenerator qrGenerator(){\n        return new ZxingPngQrGenerator();\n    }\n\n    @Bean\n    public CodeVerifier codeVerifier(){\n        CodeGenerator codeGenerator = new DefaultCodeGenerator();\n        TimeProvider timeProvider = new SystemTimeProvider();\n\n        return new DefaultCodeVerifier(codeGenerator, timeProvider);\n    }\n}\n</code></pre>\n<p>and this is my security filter chain:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n    \n    private final JwtAuthenticationFilter authenticationFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf()\n        .disable()\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/mng164/auth/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(authenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        \n        return http.build();\n    }\n\n}\n</code></pre>\n<p>furthermore, is there a way to turn off the security config in my gateway application and just use this one instead of making the integration?</p>\n<p>I tried applying the same security configurations to my gateway application, but spring reacted about bean conflicts. one bean from spring-reactive-security and one from spring-security</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675923991,"post_id":75394666,"comment_id":133033110,"body_markdown":"Please show the full error output... how you write/save your entity...","body":"Please show the full error output... how you write/save your entity..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675931529,"post_id":75394666,"comment_id":133034797,"body_markdown":"Which `@Id` are you using... It shold be from the `javax.persistence` or `jakarta.persistence` (depending on the JPA version in use) and not the `org.springframework.data.Id` one...","body":"Which <code>@Id</code> are you using... It shold be from the <code>javax.persistence</code> or <code>jakarta.persistence</code> (depending on the JPA version in use) and not the <code>org.springframework.data.Id</code> one..."}],"answers":[{"tags":[],"owner":{"account_id":25246919,"reputation":1,"user_id":19080043,"display_name":"Naveen-125-code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675922075,"creation_date":1675921927,"answer_id":75394717,"question_id":75394666,"body_markdown":"Make sure you add your entity class  in repository interface\r\neg:\r\n\r\n    public interface Repository extends JpaRepository&lt;Product,Long&gt;{\r\n    }\r\n\r\nand in entity\r\nchange `private int year` \r\nto \r\n\r\n    private Integer year\r\n\r\n","title":"Entity did not have primary key","body":"<p>Make sure you add your entity class  in repository interface\neg:</p>\n<pre><code>public interface Repository extends JpaRepository&lt;Product,Long&gt;{\n}\n</code></pre>\n<p>and in entity\nchange <code>private int year</code>\nto</p>\n<pre><code>private Integer year\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21106053,"reputation":60,"user_id":15515026,"display_name":"Nguyen Huu Phuc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959844,"creation_date":1675959844,"answer_id":75401518,"question_id":75394666,"body_markdown":"Thanks, everyone help me with this. I had already fixed this. The problem was IJ auto complete wrong import. In this case I have to use ```javax.persistence``` but IJ auto complete it to a ```org.springframework.data.id```","title":"Entity did not have primary key","body":"<p>Thanks, everyone help me with this. I had already fixed this. The problem was IJ auto complete wrong import. In this case I have to use <code>javax.persistence</code> but IJ auto complete it to a <code>org.springframework.data.id</code></p>\n"}],"owner":{"account_id":21106053,"reputation":60,"user_id":15515026,"display_name":"Nguyen Huu Phuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675959844,"creation_date":1675921470,"question_id":75394666,"body_markdown":"```\r\n\r\n@Entity\r\n\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String productName;\r\n    private int year;\r\n    private Double price;\r\n    private String url;\r\n\r\n    public  Product() { }\r\n     public Product(String productName, int year, Double price, String url) {\r\n         this.productName = productName;\r\n         this.year = year;\r\n         this.price = price;\r\n         this.url = url;\r\n     }\r\n}\r\n```\r\nI have a problem with my Springboot. Even when I add @Id, the log tells me that Product didn&#39;t have any Id.","title":"Entity did not have primary key","body":"<pre><code>\n@Entity\n\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String productName;\n    private int year;\n    private Double price;\n    private String url;\n\n    public  Product() { }\n     public Product(String productName, int year, Double price, String url) {\n         this.productName = productName;\n         this.year = year;\n         this.price = price;\n         this.url = url;\n     }\n}\n</code></pre>\n<p>I have a problem with my Springboot. Even when I add @Id, the log tells me that Product didn't have any Id.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":6738,"reputation":6015,"user_id":11457,"display_name":"Matej"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1588233251,"creation_date":1533213932,"answer_id":51654034,"question_id":51653851,"body_markdown":"Java&#39;s `removeIf()` is there since Java 1.8. \r\n\r\nKotlin started at 2011 ([wikipedia][1]). Java 1.8 appeared in 2014.\r\n\r\nI&#39;m not sure when the Kotlin&#39;s `removeAll(predicate)` was specified and implemented, however it probably predates Java&#39;s `removeIf()`. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Kotlin_(programming_language)","title":"Use cases of removeall and removeif","body":"<p>Java's <code>removeIf()</code> is there since Java 1.8. </p>\n\n<p>Kotlin started at 2011 (<a href=\"https://en.wikipedia.org/wiki/Kotlin_(programming_language)\" rel=\"noreferrer\">wikipedia</a>). Java 1.8 appeared in 2014.</p>\n\n<p>I'm not sure when the Kotlin's <code>removeAll(predicate)</code> was specified and implemented, however it probably predates Java's <code>removeIf()</code>. </p>\n"},{"tags":[],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1533214112,"creation_date":1533214112,"answer_id":51654099,"question_id":51653851,"body_markdown":"Those are very very different functions, but in kotlin the method is overloaded, it means, it has two different types of arguments for the function.\r\n\r\nIf you read the doc, you can see that you can use this function by giving a collection:\r\n\r\n    fun &lt;T&gt; MutableCollection&lt;out T&gt;.removeAll(\r\n        elements: Collection&lt;T&gt;\r\n    ): Boolean (source)\r\n\r\nOr giving a function to filter:\r\n\r\n    fun &lt;T&gt; MutableIterable&lt;T&gt;.removeAll(\r\n        predicate: (T) -&gt; Boolean\r\n    ): Boolean (source)\r\n\r\nSo, the second one is like the Java version of removeIf, the first one is not.\r\n\r\n","title":"Use cases of removeall and removeif","body":"<p>Those are very very different functions, but in kotlin the method is overloaded, it means, it has two different types of arguments for the function.</p>\n\n<p>If you read the doc, you can see that you can use this function by giving a collection:</p>\n\n<pre><code>fun &lt;T&gt; MutableCollection&lt;out T&gt;.removeAll(\n    elements: Collection&lt;T&gt;\n): Boolean (source)\n</code></pre>\n\n<p>Or giving a function to filter:</p>\n\n<pre><code>fun &lt;T&gt; MutableIterable&lt;T&gt;.removeAll(\n    predicate: (T) -&gt; Boolean\n): Boolean (source)\n</code></pre>\n\n<p>So, the second one is like the Java version of removeIf, the first one is not.</p>\n"},{"tags":[],"owner":{"account_id":505513,"reputation":3684,"user_id":959045,"display_name":"Stefan Paul Noack"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1581070699,"creation_date":1581070699,"answer_id":60111385,"question_id":51653851,"body_markdown":"There is one more important difference:\r\n\r\nCalling `removeIf` on a `CopyOnWriteArrayList` is **thread-safe**, but `removeAll` is **not**.\r\n\r\nLooking at the code, `removeIf` has a custom implementation for `CopyOnWriteArrayList`, but `removeAll` **iterates over the indices** and will end up throwing `ArrayIndexOutOfBoundsException` or even worse, **removing the wrong element**, if called concurrently.","title":"Use cases of removeall and removeif","body":"<p>There is one more important difference:</p>\n\n<p>Calling <code>removeIf</code> on a <code>CopyOnWriteArrayList</code> is <strong>thread-safe</strong>, but <code>removeAll</code> is <strong>not</strong>.</p>\n\n<p>Looking at the code, <code>removeIf</code> has a custom implementation for <code>CopyOnWriteArrayList</code>, but <code>removeAll</code> <strong>iterates over the indices</strong> and will end up throwing <code>ArrayIndexOutOfBoundsException</code> or even worse, <strong>removing the wrong element</strong>, if called concurrently.</p>\n"},{"tags":[],"owner":{"account_id":1057595,"reputation":5076,"user_id":1059969,"display_name":"Agent_L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959505,"creation_date":1675959505,"answer_id":75401441,"question_id":51653851,"body_markdown":"&gt; Both of them yield the same result. \r\n\r\nThe result is achieved in completely different ways, so it might not always be quite same.\r\n\r\n`removeAll` is a convenience method. It&#39;s a simple loop calling `removeAt` multiple times.\r\n\r\n`removeIf` is a native `ArrayList` method that directly manipulates internal `elementData`, bypassing all the older removal methods and any logic that might have been put there. The bad news here is that it got retroactively blanket-applied to everything that derives from `ArrayList`, disregarding older implementations.\r\n\r\n&gt; Or is there any use case that might need one over another?\r\n\r\nOne example is `androidx.databinding.ObservableList`, which predates `removeIf`, and doesn&#39;t send due removal notifications, thus either breaking your code **silently** or causing [cryptic errors][1].\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75401082/1059969","title":"Use cases of removeall and removeif","body":"<blockquote>\n<p>Both of them yield the same result.</p>\n</blockquote>\n<p>The result is achieved in completely different ways, so it might not always be quite same.</p>\n<p><code>removeAll</code> is a convenience method. It's a simple loop calling <code>removeAt</code> multiple times.</p>\n<p><code>removeIf</code> is a native <code>ArrayList</code> method that directly manipulates internal <code>elementData</code>, bypassing all the older removal methods and any logic that might have been put there. The bad news here is that it got retroactively blanket-applied to everything that derives from <code>ArrayList</code>, disregarding older implementations.</p>\n<blockquote>\n<p>Or is there any use case that might need one over another?</p>\n</blockquote>\n<p>One example is <code>androidx.databinding.ObservableList</code>, which predates <code>removeIf</code>, and doesn't send due removal notifications, thus either breaking your code <strong>silently</strong> or causing <a href=\"https://stackoverflow.com/a/75401082/1059969\">cryptic errors</a>.</p>\n"}],"owner":{"account_id":9012794,"reputation":473,"user_id":6717212,"display_name":"Yogesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22517,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":51654099,"answer_count":4,"score":20,"last_activity_date":1675959505,"creation_date":1533213444,"question_id":51653851,"body_markdown":"I found this:  \r\n\r\n    fun main() {\r\n        val list: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3, 4, 5)\r\n\r\n        list.removeAll { x -&gt; x in 1..3 } // [4, 5]\r\n        list.removeIf { x -&gt; x in 1..3 } // [4, 5]\r\n    }\r\n\r\nBoth of them yield the same result.  \r\n\r\nThough I understand that `removeAll` is Kotlin and `removeIf` is Java but I don&#39;t understand why `removeAll` is there when `removeIf` was already there? \r\n\r\nAnd for the fact that we could use `removeIf` in Kotlin without any hassle. Or is there any use case that might need one over another?","title":"Use cases of removeall and removeif","body":"<p>I found this:  </p>\n\n<pre><code>fun main() {\n    val list: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3, 4, 5)\n\n    list.removeAll { x -&gt; x in 1..3 } // [4, 5]\n    list.removeIf { x -&gt; x in 1..3 } // [4, 5]\n}\n</code></pre>\n\n<p>Both of them yield the same result.  </p>\n\n<p>Though I understand that <code>removeAll</code> is Kotlin and <code>removeIf</code> is Java but I don't understand why <code>removeAll</code> is there when <code>removeIf</code> was already there? </p>\n\n<p>And for the fact that we could use <code>removeIf</code> in Kotlin without any hassle. Or is there any use case that might need one over another?</p>\n"},{"tags":["java","apache-kafka","spring-kafka","avro"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1675956202,"post_id":75400486,"comment_id":133042859,"body_markdown":"Could you check with this https://stackoverflow.com/a/63491078/15228699","body":"Could you check with this <a href=\"https://stackoverflow.com/a/63491078/15228699\">stackoverflow.com/a/63491078/15228699</a>"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1675960460,"post_id":75400486,"comment_id":133044514,"body_markdown":"I see I will try this but can&#39;t I just added to the custom truststore  since this is specific only to the Kafka part of the code instead of modifying the truststore for the entire JVM?","body":"I see I will try this but can&#39;t I just added to the custom truststore  since this is specific only to the Kafka part of the code instead of modifying the truststore for the entire JVM?"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676019284,"post_id":75400486,"comment_id":133056590,"body_markdown":"I tried doing this and same error, I added this to my docker file\n`RUN \\\n    cd $JAVA_HOME/lib/security \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias sdb_root_ca -file $JAVA_HOME/lib/security/root_ca.crt`","body":"I tried doing this and same error, I added this to my docker file <code>RUN \\     cd $JAVA_HOME&#47;lib&#47;security \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias sdb_root_ca -file $JAVA_HOME&#47;lib&#47;security&#47;root_ca.crt</code>"},{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1676025307,"post_id":75400486,"comment_id":133058379,"body_markdown":"Add the intermediate or sub ca certs too.","body":"Add the intermediate or sub ca certs too."},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676025636,"post_id":75400486,"comment_id":133058488,"body_markdown":"Yup thought of that too\n`RUN \\\n    cd $JAVA_HOME/lib/security \\\n    &amp;&amp; ls \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias root_ca -file $JAVA_HOME/lib/security/root_ca.crt \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias intermediate_ca_infra -file $JAVA_HOME/lib/security/intermediate_ca_infra.pem \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias schema-registry -file $JAVA_HOME/lib/security/schema-registry.pem`\nBut still same error","body":"Yup thought of that too <code>RUN \\     cd $JAVA_HOME&#47;lib&#47;security \\     &amp;&amp; ls \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias root_ca -file $JAVA_HOME&#47;lib&#47;security&#47;root_ca.crt \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias intermediate_ca_infra -file $JAVA_HOME&#47;lib&#47;security&#47;intermediate_ca_infra.pem \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias schema-registry -file $JAVA_HOME&#47;lib&#47;security&#47;schema-registry.pem</code> But still same error"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676027339,"post_id":75400486,"comment_id":133059016,"body_markdown":"Also If I use curl with cacert option it works so I&#39;m really under the impression the Kafka producer is not picking up properly the certificate","body":"Also If I use curl with cacert option it works so I&#39;m really under the impression the Kafka producer is not picking up properly the certificate"}],"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675959460,"creation_date":1675954967,"question_id":75400486,"body_markdown":"I recently migrated an application from `Spring Boot 2.6.x` to `Spring Boot 3.0.2`, this app interacts with `Kafka` and a schema registry with self-signed certificates, which are imported in both the truststore as well as the keystore.\r\nFrom what I can pinpoint the issue is related to the `AvroSerializer` (now version 7 before version 5) as it seems it does not take the SSL configuration from the properties file\r\n\r\n\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:41,947] [INFO] [i.c.k.s.KafkaAvroSerializerConfig AbstractConfig.java:376] KafkaAvroSerializerConfig values:\r\n    swarm-app.so5byi81c6md@swarmt33    |  auto.register.schemas = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.reflection.allow.null = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.remove.java.properties = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.use.logical.type.converters = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  basic.auth.credentials.source = URL\r\n    swarm-app.so5byi81c6md@swarmt33    |  basic.auth.user.info = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.cache.expiry.buffer.seconds = 300\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.id = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.secret = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.credentials.source = STATIC_TOKEN\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.identity.pool.id = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.issuer.endpoint.url = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.logical.cluster = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope.claim.name = scope\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.sub.claim.name = sub\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.token = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  context.name.strategy = class io.confluent.kafka.serializers.context.NullContextNameStrategy\r\n    swarm-app.so5byi81c6md@swarmt33    |  id.compatibility.strict = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  key.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\r\n    swarm-app.so5byi81c6md@swarmt33    |  latest.compatibility.strict = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  max.schemas.per.subject = 1000\r\n    swarm-app.so5byi81c6md@swarmt33    |  normalize.schemas = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  proxy.host =\r\n    swarm-app.so5byi81c6md@swarmt33    |  proxy.port = -1\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.format = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.reflection = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.basic.auth.user.info = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.cipher.suites = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.endpoint.identification.algorithm = https\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.engine.factory.class = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.key.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keymanager.algorithm = SunX509\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.certificate.chain = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.key = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.location = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.type = JKS\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.protocol = TLSv1.3\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.provider = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.secure.random.implementation = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.trustmanager.algorithm = PKIX\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.certificates = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.location = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.type = JKS\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.url = [https://xxx.xxx.xxxx]\r\n    swarm-app.so5byi81c6md@swarmt33    |  use.latest.version = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  use.schema.id = -1\r\n    swarm-app.so5byi81c6md@swarmt33    |  value.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\r\n\r\nWhich causes the following error when the app starts :\r\n\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,221] [DEBUG] [o.a.k.c.s.s.DefaultSslEngineFactory DefaultSslEngineFactory.java:264] Created SSL context with keystore SecurityStore(\r\n    path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), truststore SecurityStore(path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), provider SunJSSE.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,242] [DEBUG] [o.a.k.c.p.i.Sender Sender.java:238] [Producer clientId=kafka-client] Starting Kafka producer\r\n     I/O thread.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:119] Kafka version: 3.3.2\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:120] Kafka commitId: b66af662e61082cb\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:121] Kafka startTimeMs: 1675953102242\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:988] [Producer clientId=kafka-client]\r\n     Transition from state UNINITIALIZED to INITIALIZING\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,245] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:466] [Producer clientId=kafka-client] Kafka produ\r\n    cer started\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,400] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:1028] [Producer clientId=kafka-client\r\n    ] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,401] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:1162] [Producer clientId=kafka-client] Initialize c\r\n    onnection to node xxx.xxx.net:9093 (id: -1 rack: null) for sending metadata request\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.ClientUtils ClientUtils.java:113] Resolved host xxxxxx as xx.xx.xx.xx,xx.xx.xx.xx\r\n    \r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:991] [Producer clientId=kafka-client] Initiating co\r\n    nnection to node xxx.xxx.net:9093 (id: -1 rack: null) using address xxxxxx/xxx.xxx.xxx.xxx\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,420] [DEBUG] [o.a.k.c.n.Selector Selector.java:531] [Producer clientId=kafka-client] Created socket with S\r\n    O_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,435] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:953] [Producer clientId=kafka-client] Completed con\r\n    nection to node -1. Fetching API versions.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,464] [DEBUG] [o.a.k.c.n.SslTransportLayer SslTransportLayer.java:882] [SslTransportLayer channelId=-1 key=channel=java.nio.channels.\r\n    SocketChannel[connection-pending remote=xxx.xxx.net/10.222.10.218:9093], selector=sun.nio.ch.EPollSelectorImpl@701bf320, interestOps=8, readyOps=0] SSL Handshake failed\r\n    swarm-app.1.so5byi81c6md@swarmt33    | javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path\r\n     to requested target\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.xxx.xxx.netssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLHandshake.consume(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.runDelegatedTasks(SslTransportLayer.java:435)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:523)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:373)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:293)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:73)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.lang.Thread.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    | Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid c\r\n    ertification path to requested target\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.Validator.validate(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  ... 23 common frames omitted\r\n    swarm-app.so5byi81c6md@swarmt33    | Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/java.security.cert.CertPathBuilder.build(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  ... 28 common frames omitted\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,466] [INFO] [o.a.k.c.n.Selector Selector.java:616] [Producer clientId=kafka-client] Failed authentication\r\n    with xxx.xxx.net/10.222.10.218 (channelId=-1) (SSL handshake failed)\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,467] [INFO] [o.a.k.c.NetworkClient NetworkClient.java:937] [Producer clientId=kafka-client] Node -1 discon\r\n    nected.\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [ERROR] [o.a.k.c.NetworkClient NetworkClient.java:764] [Producer clientId=kafka-client] Connection\r\n    to node -1 (xxx.xxx.net/10.222.10.218:9093) failed authentication due to: SSL handshake failed\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [WARN] [o.a.k.c.NetworkClient NetworkClient.java:1065] [Producer clientId=kafka-client] Bootstrap bro\r\n    ker xxx.xxx.net:9093 (id: -1 rack: null) disconnected\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,469] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:1063] [Producer clientId=kafka-client] Exception\r\n    occurred during message send:\r\n    swarm-app.so5byi81c6md@swarmt33    | org.apache.kafka.common.errors.SslAuthenticationException: SSL handshake failed\r\n    swarm-app.so5byi81c6md@swarmt33    | Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certifi\r\n    cation path to requested target\r\n\r\nBelow is my `application.properties` file\r\n\r\n    spring.kafka.bootstrap-servers=xxx.xxx.xxx.xxx:9093\r\n    spring.kafka.properties.schema.registry.url=https://xxx.xxx.xxx.xxx\r\n    spring.kafka.producer.key-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\r\n    spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\r\n    spring.kafka.consumer.key-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    spring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    \r\n    spring.kafka.properties.security.protocol=SSL\r\n    spring.kafka.ssl.protocol=SSL\r\n    spring.kafka.ssl.trust-store-location=file:/var/lib/app/config/truststore.jks\r\n    spring.kafka.ssl.trust-store-type=JKS\r\n    spring.kafka.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.ssl.key-store-type=JKS\r\n    \r\n    spring.kafka.producer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.producer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.producer.ssl.protocol=SSL\r\n    spring.kafka.producer.security.protocol=SSL\r\n    spring.kafka.producer.ssl.key-store-type=JKS\r\n    \r\n    spring.kafka.consumer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.consumer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.consumer.ssl.protocol=SSL\r\n    spring.kafka.consumer.ssl.trust-store-type=JKS\r\n    spring.kafka.consumer.security.protocol=SSL\r\n    \r\n    spring.kafka.schema.registry.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.schema.registry.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.schema.registry.ssl.protocol=SSL\r\n    spring.kafka.schema.registry.ssl.trust-store-type=JKS\r\n    spring.kafka.schema.registry.security.protocol=SSL\r\n    \r\n    \r\n    spring.kafka.producer.client-id=clientId\r\n    spring.kafka.consumer.client-id=clientId\r\n    spring.kafka.consumer.group-id=groupId\r\n    \r\n    \r\n    #\r\n    # Credentials\r\n    #\r\n    \r\n    # Kafka\r\n    spring.kafka.ssl.trust-store-password=changeit\r\n    spring.kafka.ssl.key-store-password=changeit\r\n    spring.kafka.producer.ssl.key-store-password=changeit\r\n    spring.kafka.producer.ssl.trust-store-password=changeit\r\n    spring.kafka.consumer.ssl.trust-store-password=changeit\r\n    spring.kafka.consumer.ssl.key-store-password=changeit\r\n    spring.kafka.schema.registry.ssl.trust-store-password=changeit\r\n    spring.kafka.schema.registry.ssl.key-store-password=changeit\r\n\r\nAny ideas as to how to make the `Serializer` pickup the SSL config?\r\n\r\nCurrent Stack:\r\n - Spring boot 3.0.2\r\n - Kafka Avro Serializer 7.3.1\r\n - Spring Kafka 3.0.2\r\n - Spring 6.0.4","title":"PKIX path building failed when using spring with Kafka and schema registry","body":"<p>I recently migrated an application from <code>Spring Boot 2.6.x</code> to <code>Spring Boot 3.0.2</code>, this app interacts with <code>Kafka</code> and a schema registry with self-signed certificates, which are imported in both the truststore as well as the keystore.\nFrom what I can pinpoint the issue is related to the <code>AvroSerializer</code> (now version 7 before version 5) as it seems it does not take the SSL configuration from the properties file</p>\n<pre><code>swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:41,947] [INFO] [i.c.k.s.KafkaAvroSerializerConfig AbstractConfig.java:376] KafkaAvroSerializerConfig values:\nswarm-app.so5byi81c6md@swarmt33    |  auto.register.schemas = true\nswarm-app.so5byi81c6md@swarmt33    |  avro.reflection.allow.null = false\nswarm-app.so5byi81c6md@swarmt33    |  avro.remove.java.properties = false\nswarm-app.so5byi81c6md@swarmt33    |  avro.use.logical.type.converters = false\nswarm-app.so5byi81c6md@swarmt33    |  basic.auth.credentials.source = URL\nswarm-app.so5byi81c6md@swarmt33    |  basic.auth.user.info = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.cache.expiry.buffer.seconds = 300\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.id = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.secret = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.credentials.source = STATIC_TOKEN\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.identity.pool.id = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.issuer.endpoint.url = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.logical.cluster = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope.claim.name = scope\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.sub.claim.name = sub\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.token = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  context.name.strategy = class io.confluent.kafka.serializers.context.NullContextNameStrategy\nswarm-app.so5byi81c6md@swarmt33    |  id.compatibility.strict = true\nswarm-app.so5byi81c6md@swarmt33    |  key.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\nswarm-app.so5byi81c6md@swarmt33    |  latest.compatibility.strict = true\nswarm-app.so5byi81c6md@swarmt33    |  max.schemas.per.subject = 1000\nswarm-app.so5byi81c6md@swarmt33    |  normalize.schemas = false\nswarm-app.so5byi81c6md@swarmt33    |  proxy.host =\nswarm-app.so5byi81c6md@swarmt33    |  proxy.port = -1\nswarm-app.so5byi81c6md@swarmt33    |  schema.format = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.reflection = false\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.basic.auth.user.info = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.cipher.suites = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.endpoint.identification.algorithm = https\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.engine.factory.class = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.key.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keymanager.algorithm = SunX509\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.certificate.chain = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.key = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.location = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.type = JKS\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.protocol = TLSv1.3\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.provider = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.secure.random.implementation = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.trustmanager.algorithm = PKIX\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.certificates = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.location = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.type = JKS\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.url = [https://xxx.xxx.xxxx]\nswarm-app.so5byi81c6md@swarmt33    |  use.latest.version = false\nswarm-app.so5byi81c6md@swarmt33    |  use.schema.id = -1\nswarm-app.so5byi81c6md@swarmt33    |  value.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\n</code></pre>\n<p>Which causes the following error when the app starts :</p>\n<pre><code>swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,221] [DEBUG] [o.a.k.c.s.s.DefaultSslEngineFactory DefaultSslEngineFactory.java:264] Created SSL context with keystore SecurityStore(\npath=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), truststore SecurityStore(path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), provider SunJSSE.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,242] [DEBUG] [o.a.k.c.p.i.Sender Sender.java:238] [Producer clientId=kafka-client] Starting Kafka producer\n I/O thread.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:119] Kafka version: 3.3.2\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:120] Kafka commitId: b66af662e61082cb\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:121] Kafka startTimeMs: 1675953102242\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:988] [Producer clientId=kafka-client]\n Transition from state UNINITIALIZED to INITIALIZING\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,245] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:466] [Producer clientId=kafka-client] Kafka produ\ncer started\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,400] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:1028] [Producer clientId=kafka-client\n] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,401] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:1162] [Producer clientId=kafka-client] Initialize c\nonnection to node xxx.xxx.net:9093 (id: -1 rack: null) for sending metadata request\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.ClientUtils ClientUtils.java:113] Resolved host xxxxxx as xx.xx.xx.xx,xx.xx.xx.xx\n\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:991] [Producer clientId=kafka-client] Initiating co\nnnection to node xxx.xxx.net:9093 (id: -1 rack: null) using address xxxxxx/xxx.xxx.xxx.xxx\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,420] [DEBUG] [o.a.k.c.n.Selector Selector.java:531] [Producer clientId=kafka-client] Created socket with S\nO_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,435] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:953] [Producer clientId=kafka-client] Completed con\nnection to node -1. Fetching API versions.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,464] [DEBUG] [o.a.k.c.n.SslTransportLayer SslTransportLayer.java:882] [SslTransportLayer channelId=-1 key=channel=java.nio.channels.\nSocketChannel[connection-pending remote=xxx.xxx.net/10.222.10.218:9093], selector=sun.nio.ch.EPollSelectorImpl@701bf320, interestOps=8, readyOps=0] SSL Handshake failed\nswarm-app.1.so5byi81c6md@swarmt33    | javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path\n to requested target\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.xxx.xxx.netssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLHandshake.consume(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.security.AccessController.doPrivileged(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.runDelegatedTasks(SslTransportLayer.java:435)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:523)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:373)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:293)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:73)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.lang.Thread.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    | Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid c\nertification path to requested target\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.doBuild(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.Validator.validate(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  ... 23 common frames omitted\nswarm-app.so5byi81c6md@swarmt33    | Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/java.security.cert.CertPathBuilder.build(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  ... 28 common frames omitted\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,466] [INFO] [o.a.k.c.n.Selector Selector.java:616] [Producer clientId=kafka-client] Failed authentication\nwith xxx.xxx.net/10.222.10.218 (channelId=-1) (SSL handshake failed)\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,467] [INFO] [o.a.k.c.NetworkClient NetworkClient.java:937] [Producer clientId=kafka-client] Node -1 discon\nnected.\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [ERROR] [o.a.k.c.NetworkClient NetworkClient.java:764] [Producer clientId=kafka-client] Connection\nto node -1 (xxx.xxx.net/10.222.10.218:9093) failed authentication due to: SSL handshake failed\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [WARN] [o.a.k.c.NetworkClient NetworkClient.java:1065] [Producer clientId=kafka-client] Bootstrap bro\nker xxx.xxx.net:9093 (id: -1 rack: null) disconnected\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,469] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:1063] [Producer clientId=kafka-client] Exception\noccurred during message send:\nswarm-app.so5byi81c6md@swarmt33    | org.apache.kafka.common.errors.SslAuthenticationException: SSL handshake failed\nswarm-app.so5byi81c6md@swarmt33    | Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certifi\ncation path to requested target\n</code></pre>\n<p>Below is my <code>application.properties</code> file</p>\n<pre><code>spring.kafka.bootstrap-servers=xxx.xxx.xxx.xxx:9093\nspring.kafka.properties.schema.registry.url=https://xxx.xxx.xxx.xxx\nspring.kafka.producer.key-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\nspring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\nspring.kafka.consumer.key-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\nspring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\n\nspring.kafka.properties.security.protocol=SSL\nspring.kafka.ssl.protocol=SSL\nspring.kafka.ssl.trust-store-location=file:/var/lib/app/config/truststore.jks\nspring.kafka.ssl.trust-store-type=JKS\nspring.kafka.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.ssl.key-store-type=JKS\n\nspring.kafka.producer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.producer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.producer.ssl.protocol=SSL\nspring.kafka.producer.security.protocol=SSL\nspring.kafka.producer.ssl.key-store-type=JKS\n\nspring.kafka.consumer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.consumer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.consumer.ssl.protocol=SSL\nspring.kafka.consumer.ssl.trust-store-type=JKS\nspring.kafka.consumer.security.protocol=SSL\n\nspring.kafka.schema.registry.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.schema.registry.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.schema.registry.ssl.protocol=SSL\nspring.kafka.schema.registry.ssl.trust-store-type=JKS\nspring.kafka.schema.registry.security.protocol=SSL\n\n\nspring.kafka.producer.client-id=clientId\nspring.kafka.consumer.client-id=clientId\nspring.kafka.consumer.group-id=groupId\n\n\n#\n# Credentials\n#\n\n# Kafka\nspring.kafka.ssl.trust-store-password=changeit\nspring.kafka.ssl.key-store-password=changeit\nspring.kafka.producer.ssl.key-store-password=changeit\nspring.kafka.producer.ssl.trust-store-password=changeit\nspring.kafka.consumer.ssl.trust-store-password=changeit\nspring.kafka.consumer.ssl.key-store-password=changeit\nspring.kafka.schema.registry.ssl.trust-store-password=changeit\nspring.kafka.schema.registry.ssl.key-store-password=changeit\n</code></pre>\n<p>Any ideas as to how to make the <code>Serializer</code> pickup the SSL config?</p>\n<p>Current Stack:</p>\n<ul>\n<li>Spring boot 3.0.2</li>\n<li>Kafka Avro Serializer 7.3.1</li>\n<li>Spring Kafka 3.0.2</li>\n<li>Spring 6.0.4</li>\n</ul>\n"},{"tags":["java","hibernate","jpa","jpa-2.0","ejb-3.0"],"answers":[{"tags":[],"owner":{"account_id":1222524,"reputation":3794,"user_id":1188867,"accept_rate":60,"display_name":"user1188867"},"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1414495332,"creation_date":1414495332,"answer_id":26607059,"question_id":26591521,"body_markdown":"Fixed it by removing CascadeType.MERGE on Permission entity","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Fixed it by removing CascadeType.MERGE on Permission entity</p>\n"},{"tags":[],"owner":{"account_id":4680854,"reputation":11,"user_id":3789608,"display_name":"user3789608"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1424364257,"creation_date":1424364257,"answer_id":28611964,"question_id":26591521,"body_markdown":"For Hibernate see the workaround here [HHH-9106][1].\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-9106 &quot;HHH-9106&quot;","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>For Hibernate see the workaround here <a href=\"https://hibernate.atlassian.net/browse/HHH-9106\" rel=\"nofollow\" title=\"HHH-9106\">HHH-9106</a>.</p>\n"},{"tags":[],"owner":{"account_id":1831658,"reputation":1506,"user_id":1662935,"accept_rate":63,"display_name":"Suraj Menon"},"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1440419487,"creation_date":1440419487,"answer_id":32182410,"question_id":26591521,"body_markdown":"The correct solution would have been to upgrade to hibernate 4.2.15 / 4.3.6 or above and add the following lines to your persistence.xml:\r\n\r\n`&lt;property name=&quot;hibernate.event.merge.entity_copy_observer&quot; value=&quot;allow&quot;/&gt;` \r\n\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>The correct solution would have been to upgrade to hibernate 4.2.15 / 4.3.6 or above and add the following lines to your persistence.xml:</p>\n\n<p><code>&lt;property name=\"hibernate.event.merge.entity_copy_observer\" value=\"allow\"/&gt;</code> </p>\n"},{"tags":[],"owner":{"account_id":6871280,"reputation":3,"user_id":5281518,"display_name":"Beagle"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1440927467,"creation_date":1440926780,"answer_id":32295067,"question_id":26591521,"body_markdown":"Just a note to say I am using Hibernate Core 4.3.8 in a Spring MVC application, based on Spring Core 4.1.6. The workaround:\r\n\r\n    &lt;property name=&quot;hibernate.event.merge.entity_copy_observer&quot; value=&quot;allow&quot;/&gt;\r\n\r\nDid not work for me. I needed to remove the CascadeType.MERGE in order to correctly populate an @ManyToMany. Not sure if newer versions of Hibernate have fixed this.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Just a note to say I am using Hibernate Core 4.3.8 in a Spring MVC application, based on Spring Core 4.1.6. The workaround:</p>\n\n<pre><code>&lt;property name=\"hibernate.event.merge.entity_copy_observer\" value=\"allow\"/&gt;\n</code></pre>\n\n<p>Did not work for me. I needed to remove the CascadeType.MERGE in order to correctly populate an @ManyToMany. Not sure if newer versions of Hibernate have fixed this.</p>\n"},{"tags":[],"owner":{"account_id":1652963,"reputation":449,"user_id":1523177,"display_name":"user1523177"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1450802397,"creation_date":1450802397,"answer_id":34420512,"question_id":26591521,"body_markdown":"Check your equals and hashCode method, ensure that it is consistent and correctly defined. For example I had copied and mistakenly pasted another-class when computing hashCode, this caused the object never to be equal with itself :(.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Check your equals and hashCode method, ensure that it is consistent and correctly defined. For example I had copied and mistakenly pasted another-class when computing hashCode, this caused the object never to be equal with itself :(.</p>\n"},{"tags":[],"owner":{"account_id":3769739,"reputation":370,"user_id":3132275,"accept_rate":50,"display_name":"Asif Aminur Rashid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526924576,"creation_date":1526924576,"answer_id":50454046,"question_id":26591521,"body_markdown":"In my case, moving the fetch operation and save operation in same @Transactional block solved the problem.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>In my case, moving the fetch operation and save operation in same @Transactional block solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":4111628,"reputation":41,"user_id":3374275,"display_name":"razi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532806100,"creation_date":1532806100,"answer_id":51574551,"question_id":26591521,"body_markdown":"error occurs when we have multiple object of same time in HashSet.Possible due to incorrect hash function.Hashset check equality of object on the basis of hash function between two objects.\n# Way to debug #\nJust try to print hashset you will see multiple object of same type.\n# Solution::# \n - Use HashSet while defining one to many relationships.\n - Avoid using Lists. \n - Make sure your hash function should be correct.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>error occurs when we have multiple object of same time in HashSet.Possible due to incorrect hash function.Hashset check equality of object on the basis of hash function between two objects.</p>\n<h1>Way to debug</h1>\n<p>Just try to print hashset you will see multiple object of same type.</p>\n<h1>Solution::#</h1>\n<ul>\n<li>Use HashSet while defining one to many relationships.</li>\n<li>Avoid using Lists.</li>\n<li>Make sure your hash function should be correct.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7513077,"reputation":630,"user_id":5707426,"display_name":"W.Man"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1536647712,"creation_date":1536647712,"answer_id":52269979,"question_id":26591521,"body_markdown":"I ran into the same problem too and solved it by add a few configs in `application.yaml` files.\r\n\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            enable_lazy_load_no_trans: true\r\n            event:\r\n              merge:\r\n                entity_copy_observer: allow\r\n\r\n\r\nSee it here [How to persist a new entity containing multiple identical instances of another unpersisted entity with spring-boot and JPA?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52250630/5707426","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I ran into the same problem too and solved it by add a few configs in <code>application.yaml</code> files.</p>\n\n<pre><code>  jpa:\n    properties:\n      hibernate:\n        enable_lazy_load_no_trans: true\n        event:\n          merge:\n            entity_copy_observer: allow\n</code></pre>\n\n<p>See it here <a href=\"https://stackoverflow.com/a/52250630/5707426\">How to persist a new entity containing multiple identical instances of another unpersisted entity with spring-boot and JPA?</a></p>\n"},{"tags":[],"owner":{"account_id":9428985,"reputation":1,"user_id":7013115,"display_name":"Paul Linux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610974415,"creation_date":1544212637,"answer_id":53676082,"question_id":26591521,"body_markdown":"    **@LazyCollection(LazyCollectionOption.FALSE** \r\n   \r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n\r\n    @JoinColumn(name = &quot;translate_id&quot;)","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<pre><code>**@LazyCollection(LazyCollectionOption.FALSE** \n\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n\n@JoinColumn(name = &quot;translate_id&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13149223,"reputation":689,"user_id":9498369,"display_name":"Arul Rozario"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550376553,"creation_date":1550376553,"answer_id":54730020,"question_id":26591521,"body_markdown":"I could fix it by replacing \r\n\r\n    cascade = CascadeType.All\r\n\r\nwith\r\n\r\n    casecade={CascadeType.PERSIST,CascadeType.REMOVE}","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I could fix it by replacing </p>\n\n<pre><code>cascade = CascadeType.All\n</code></pre>\n\n<p>with</p>\n\n<pre><code>casecade={CascadeType.PERSIST,CascadeType.REMOVE}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1577107080,"creation_date":1577107080,"answer_id":59456039,"question_id":26591521,"body_markdown":"Like others who based their answers on [HHH-9106](https://hibernate.atlassian.net/browse/HHH-9106) but, because I&#39;m using Spring Boot with Java-based annotation, I had to use the following in `application.properties`:\r\n\r\n    spring.jpa.properties.hibernate.event.merge.entity_copy_observer=allow\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Like others who based their answers on <a href=\"https://hibernate.atlassian.net/browse/HHH-9106\" rel=\"noreferrer\">HHH-9106</a> but, because I'm using Spring Boot with Java-based annotation, I had to use the following in <code>application.properties</code>:</p>\n\n<pre><code>spring.jpa.properties.hibernate.event.merge.entity_copy_observer=allow\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607074908,"creation_date":1607074908,"answer_id":65141220,"question_id":26591521,"body_markdown":"I fixed this issue by removing `cascade = CascadeType.ALL` in your case (`cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}`)\r\n\r\nMy code source:\r\n\r\n**Before**\r\n\r\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n        name = &quot;link_module_parcour&quot;,\r\n        joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n        inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    @BatchSize(size = 20)\r\n    private Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\r\n\r\n**After**\r\n\r\n    @ManyToMany(fetch=FetchType.EAGER)\r\n    @JoinTable(\r\n        name = &quot;link_module_parcour&quot;,\r\n        joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n        inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    @BatchSize(size = 20)\r\n    private Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I fixed this issue by removing <code>cascade = CascadeType.ALL</code> in your case (<code>cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}</code>)</p>\n<p>My code source:</p>\n<p><strong>Before</strong></p>\n<pre><code>@ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\n@JoinTable(\n    name = &quot;link_module_parcour&quot;,\n    joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\n    inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@BatchSize(size = 20)\nprivate Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>After</strong></p>\n<pre><code>@ManyToMany(fetch=FetchType.EAGER)\n@JoinTable(\n    name = &quot;link_module_parcour&quot;,\n    joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\n    inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@BatchSize(size = 20)\nprivate Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10554511,"reputation":11,"user_id":7776163,"display_name":"Muathe Jamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669727396,"creation_date":1669727396,"answer_id":74614607,"question_id":26591521,"body_markdown":"If you remove the cascade merge you won&#39;t be able to update the entity when updating the parent. \r\nThe case will be right if you don&#39;t want to update the child, but if you want to update the child when updating the parent removing merge will only not show the error but the issue will still exist.\r\n\r\nWhat happened with me: I got the same exception but I need Cascade.merge. After searching I found that some of the values I was using when creating the entity for the first time are updated and removed from the code but in the database, they still exist and when removing them from the database also work as expected. \r\n\r\nTo clarify the case: \r\nLet&#39;s say I have an enum(&#39;ACTIVE&#39;, &#39;NOT_ACTIVE&#39;, &#39;SUSPENDED&#39;) and the field using this enum is key, when updating the code and removing the NOT_ACTIVE we should alter the database table with the new values enum(&#39;ACTIVE&#39;, &#39;SUSPENDED&#39;)","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>If you remove the cascade merge you won't be able to update the entity when updating the parent.\nThe case will be right if you don't want to update the child, but if you want to update the child when updating the parent removing merge will only not show the error but the issue will still exist.</p>\n<p>What happened with me: I got the same exception but I need Cascade.merge. After searching I found that some of the values I was using when creating the entity for the first time are updated and removed from the code but in the database, they still exist and when removing them from the database also work as expected.</p>\n<p>To clarify the case:\nLet's say I have an enum('ACTIVE', 'NOT_ACTIVE', 'SUSPENDED') and the field using this enum is key, when updating the code and removing the NOT_ACTIVE we should alter the database table with the new values enum('ACTIVE', 'SUSPENDED')</p>\n"},{"tags":[],"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670870239,"creation_date":1670870239,"answer_id":74775810,"question_id":26591521,"body_markdown":"I had similar issue and it is resolved when I replace `CascadeType.All` with `{CascadeType.persist, CascadeType.remove}`.\r\n\r\nLet me know if it works. ","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I had similar issue and it is resolved when I replace <code>CascadeType.All</code> with <code>{CascadeType.persist, CascadeType.remove}</code>.</p>\n<p>Let me know if it works.</p>\n"},{"tags":[],"owner":{"account_id":9049597,"reputation":88,"user_id":6740371,"display_name":"Mohammed ESSABRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959452,"creation_date":1675959452,"answer_id":75401430,"question_id":26591521,"body_markdown":"We can also resolve that using `CascadeType.DETACH` . In this case, if we need to update something in Permission, we have to update Permession separately and not by updating the related entity! ","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>We can also resolve that using <code>CascadeType.DETACH</code> . In this case, if we need to update something in Permission, we have to update Permession separately and not by updating the related entity!</p>\n"}],"owner":{"account_id":1222524,"reputation":3794,"user_id":1188867,"accept_rate":60,"display_name":"user1188867"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122895,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":26607059,"answer_count":15,"score":74,"last_activity_date":1675959452,"creation_date":1414425161,"question_id":26591521,"body_markdown":"I have 3 entities with ManyToMany relationships:\r\n\r\n**Role Entity:**\r\n\r\n    @Entity\r\n    public class Role {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer roleID;\r\n        private String roleName;\r\n        private String description;\r\n    \r\n        @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;role_permission&quot;, joinColumns = {@JoinColumn(name = &quot;role_id&quot;)}, inverseJoinColumns = {@JoinColumn(name = &quot;permission_id&quot;)})\r\n        private Set&lt;Permission&gt; permissions = new LinkedHashSet&lt;Permission&gt;();\r\n    }\r\n\r\n**Permission Entity:**\r\n\r\n    @Entity\r\n    public class Permission {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int permissionID;\r\n        private String permissionName;\r\n        private String description;\r\n    \r\n        @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;permission_functionality&quot;, joinColumns = {@JoinColumn(name = &quot;permission_id&quot;)}, inverseJoinColumns = {@JoinColumn(name = &quot;functionality_id&quot;)})\r\n        private Set&lt;Functionality&gt; functionalities = new LinkedHashSet&lt;&gt;();\r\n    }\r\n\r\n**Functionality Entity:**\r\n\r\n    @Entity\r\n    public class Functionality {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String name;\r\n    }\r\n\r\n\r\nI did the following:\r\n\r\n 1. I have created 3 functionalities:\r\n\r\n        Functionality1, Functionality2, Functionality3\r\n   \r\n 2. Then created 2 permissions:\r\n\r\n        Permission1 with Functionality1, Functionality2\r\n\r\n        Permission2 with Functionality2, Functionality3\r\n\r\n 3. Then created a role:\r\n\r\n        Role1 with Permission1 and Permission2 \r\n\r\nI am getting the following exception:\r\n\r\n&gt; java.lang.IllegalStateException: Multiple representations of the same entity [com.persistence.entity.admin.Functionality#1] are being merged. Detached: [com.persistence.entity.admin.Functionality@4729256a]; Detached: [com.persistence.entity.admin.Functionality@56ed25db]\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I have 3 entities with ManyToMany relationships:</p>\n\n<p><strong>Role Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer roleID;\n    private String roleName;\n    private String description;\n\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\n    @JoinTable(name = \"role_permission\", joinColumns = {@JoinColumn(name = \"role_id\")}, inverseJoinColumns = {@JoinColumn(name = \"permission_id\")})\n    private Set&lt;Permission&gt; permissions = new LinkedHashSet&lt;Permission&gt;();\n}\n</code></pre>\n\n<p><strong>Permission Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Permission {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int permissionID;\n    private String permissionName;\n    private String description;\n\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\n    @JoinTable(name = \"permission_functionality\", joinColumns = {@JoinColumn(name = \"permission_id\")}, inverseJoinColumns = {@JoinColumn(name = \"functionality_id\")})\n    private Set&lt;Functionality&gt; functionalities = new LinkedHashSet&lt;&gt;();\n}\n</code></pre>\n\n<p><strong>Functionality Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Functionality {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n}\n</code></pre>\n\n<p>I did the following:</p>\n\n<ol>\n<li><p>I have created 3 functionalities:</p>\n\n<pre><code>Functionality1, Functionality2, Functionality3\n</code></pre></li>\n<li><p>Then created 2 permissions:</p>\n\n<pre><code>Permission1 with Functionality1, Functionality2\n\nPermission2 with Functionality2, Functionality3\n</code></pre></li>\n<li><p>Then created a role:</p>\n\n<pre><code>Role1 with Permission1 and Permission2 \n</code></pre></li>\n</ol>\n\n<p>I am getting the following exception:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Multiple representations of the same entity [com.persistence.entity.admin.Functionality#1] are being merged. Detached: [com.persistence.entity.admin.Functionality@4729256a]; Detached: [com.persistence.entity.admin.Functionality@56ed25db]</p>\n</blockquote>\n"},{"tags":["java","generics","wildcard","javac","ecj"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675957888,"post_id":75401080,"comment_id":133043445,"body_markdown":"Historically when the Eclipse compiler and javac disagree it *tends* to be javac that is correct, but I&#39;ve seen cases in the other direction as well. Did you try with different OpenJDK versions? Even if not, please specify the exact version of both Eclipse and `javac`.","body":"Historically when the Eclipse compiler and javac disagree it <i>tends</i> to be javac that is correct, but I&#39;ve seen cases in the other direction as well. Did you try with different OpenJDK versions? Even if not, please specify the exact version of both Eclipse and <code>javac</code>."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":1,"creation_date":1675958158,"post_id":75401080,"comment_id":133043573,"body_markdown":"@JoachimSauer I have added the versions to the question. I have also tried older versions (i.e. Java 17) before updating to test the latest versions of OpenJDK javac and Eclipse.","body":"@JoachimSauer I have added the versions to the question. I have also tried older versions (i.e. Java 17) before updating to test the latest versions of OpenJDK javac and Eclipse."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675958354,"post_id":75401080,"comment_id":133043653,"body_markdown":"My gut feeling is that `javac` is correct here, since there is no correct value for `T` to infer, but I don&#39;t know the rules well enough to know for sure. Sorry.","body":"My gut feeling is that <code>javac</code> is correct here, since there is no correct value for <code>T</code> to infer, but I don&#39;t know the rules well enough to know for sure. Sorry."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1675958528,"post_id":75401080,"comment_id":133043714,"body_markdown":"Yes, thanks. Assuming you are correct, an explanation with the JLS would still be interesting.","body":"Yes, thanks. Assuming you are correct, an explanation with the JLS would still be interesting."}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675959171,"creation_date":1675957713,"question_id":75401080,"body_markdown":"The following code compiles and runs just fine with Eclipse 2022-12 (4.26.0).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;List&lt;?&gt;&gt; list = Arrays.asList(Arrays.asList(&quot;test&quot;));\r\n    System.out.println(test(list));\r\n}\r\n\r\npublic static &lt;T&gt; T test(List&lt;? extends List&lt;T&gt;&gt; list) {\r\n    return list.get(0).get(0);\r\n}\r\n```\r\n\r\nHowever, when compiling with OpenJDK javac 19.0.2 I get the following error.\r\n\r\n```none\r\nerror: method test in class Test cannot be applied to given types;\r\n        System.out.println(test(list));\r\n                           ^\r\n  required: List&lt;? extends List&lt;T&gt;&gt;\r\n  found:    List&lt;List&lt;?&gt;&gt;\r\n  reason: cannot infer type-variable(s) T\r\n    (argument mismatch; List&lt;List&lt;?&gt;&gt; cannot be converted to List&lt;? extends List&lt;T&gt;&gt;)\r\n  where T is a type-variable:\r\n    T extends Object declared in method &lt;T&gt;test(List&lt;? extends List&lt;T&gt;&gt;)\r\n```\r\n\r\nWhich compiler is correct in this case, and why? Is there a JLS that specifies that this assignment is (not) allowed? I have also read [this][1] answer. However, this doesn&#39;t help me to figure out if the assignment is allowed or not because the case of a generic type parameter `T` is not treated there.\r\n\r\nHere is an example where this is relevant.\r\n\r\n```java\r\nExecutorService executorService = /* ... */;\r\nList&lt;Callable&lt;?&gt;&gt; callables = /* ... */;\r\nexecutorService.invokeAll(callables);\r\n```\r\n\r\nThis code compiles with Eclipse but not with OpenJDK javac.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24738592/3882565","title":"Eclipse compiler and OpenJDK javac behave differently when assigning generic types with wildcards","body":"<p>The following code compiles and runs just fine with Eclipse 2022-12 (4.26.0).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;List&lt;?&gt;&gt; list = Arrays.asList(Arrays.asList(&quot;test&quot;));\n    System.out.println(test(list));\n}\n\npublic static &lt;T&gt; T test(List&lt;? extends List&lt;T&gt;&gt; list) {\n    return list.get(0).get(0);\n}\n</code></pre>\n<p>However, when compiling with OpenJDK javac 19.0.2 I get the following error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: method test in class Test cannot be applied to given types;\n        System.out.println(test(list));\n                           ^\n  required: List&lt;? extends List&lt;T&gt;&gt;\n  found:    List&lt;List&lt;?&gt;&gt;\n  reason: cannot infer type-variable(s) T\n    (argument mismatch; List&lt;List&lt;?&gt;&gt; cannot be converted to List&lt;? extends List&lt;T&gt;&gt;)\n  where T is a type-variable:\n    T extends Object declared in method &lt;T&gt;test(List&lt;? extends List&lt;T&gt;&gt;)\n</code></pre>\n<p>Which compiler is correct in this case, and why? Is there a JLS that specifies that this assignment is (not) allowed? I have also read <a href=\"https://stackoverflow.com/a/24738592/3882565\">this</a> answer. However, this doesn't help me to figure out if the assignment is allowed or not because the case of a generic type parameter <code>T</code> is not treated there.</p>\n<p>Here is an example where this is relevant.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executorService = /* ... */;\nList&lt;Callable&lt;?&gt;&gt; callables = /* ... */;\nexecutorService.invokeAll(callables);\n</code></pre>\n<p>This code compiles with Eclipse but not with OpenJDK javac.</p>\n"},{"tags":["java","spring","gradle","spring-boot"],"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":0,"creation_date":1453562492,"post_id":34963056,"comment_id":57660762,"body_markdown":"You want to access gradle build script variables (such as version) programatically from your spring boot app?","body":"You want to access gradle build script variables (such as version) programatically from your spring boot app?"},{"owner":{"account_id":2128462,"reputation":5739,"user_id":1889928,"accept_rate":89,"display_name":"yyunikov"},"score":0,"creation_date":1476350114,"post_id":34963056,"comment_id":67310779,"body_markdown":"@Eric Have you finally managed to do that?","body":"@Eric Have you finally managed to do that?"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":2,"up_vote_count":19,"is_accepted":true,"score":17,"last_activity_date":1453589347,"creation_date":1453589347,"answer_id":34969908,"question_id":34963056,"body_markdown":"As [described in the reference documentation](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info-automatic-expansion-gradle), you need to instruct Gradle to process you application&#39;s resources so that it will replace the `${version}` placeholder with the project&#39;s version:\r\n\r\n    processResources {\r\n        expand(project.properties)\r\n    }\r\n\r\nTo be safe, you may want to narrow things down so that only `application.properties` is processed:\r\n\r\n    processResources {\r\n        filesMatching(&#39;application.properties&#39;) {\r\n            expand(project.properties)\r\n        }\r\n    }\r\n\r\nNow, assuming that your property is named `info.build.version`, it&#39;ll be available via `@Value`:\r\n\r\n    @Value(&quot;${info.build.version}&quot;)","title":"Getting the Gradle.build version into Spring Boot","body":"<p>As <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info-automatic-expansion-gradle\" rel=\"noreferrer\">described in the reference documentation</a>, you need to instruct Gradle to process you application's resources so that it will replace the <code>${version}</code> placeholder with the project's version:</p>\n\n<pre><code>processResources {\n    expand(project.properties)\n}\n</code></pre>\n\n<p>To be safe, you may want to narrow things down so that only <code>application.properties</code> is processed:</p>\n\n<pre><code>processResources {\n    filesMatching('application.properties') {\n        expand(project.properties)\n    }\n}\n</code></pre>\n\n<p>Now, assuming that your property is named <code>info.build.version</code>, it'll be available via <code>@Value</code>:</p>\n\n<pre><code>@Value(\"${info.build.version}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3734009,"reputation":1911,"user_id":3105453,"accept_rate":87,"display_name":"user3105453"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1475072273,"creation_date":1475065174,"answer_id":39747331,"question_id":34963056,"body_markdown":"I have solved it this way:\r\nDefine your `info.build.version` in `application.properties`:\r\n\r\n    info.build.version=whatever\r\n\r\nuse it in your component with \r\n\r\n    @Value(&quot;${info.build.version}&quot;)\r\n    private String version;\r\n\r\nnow add your version info to your `build.gradle` file like this:\r\n\r\n    version = &#39;0.0.2-SNAPSHOT&#39;\r\n\r\nthen add a method to replace your application.properties with a regex to update your version information there:\r\n\r\n    def updateApplicationProperties() {\r\n        def configFile = new File(&#39;src/main/resources/application.properties&#39;)\r\n        println &quot;updating version to &#39;${version}&#39; in ${configFile}&quot;\r\n        String configContent = configFile.getText(&#39;UTF-8&#39;)\r\n        configContent = configContent.replaceAll(/info\\.build\\.version=.*/, &quot;info.build.version=${version}&quot;)\r\n        configFile.write(configContent, &#39;UTF-8&#39;)\r\n    }\r\n\r\nfinally, ensure the method is called when you trigger `build` or `bootRun`:\r\n\r\n    allprojects {\r\n        updateVersion()\r\n    }\r\n\r\nthat&#39;s it. This solution works if you let Gradle compile your app as well as if you run your Spring Boot app from the IDE. The value will not get updated but won&#39;t throw an exception and as soon as you run Gradle it will be updated again.\r\n\r\nI hope this helps others as well as it solved the problem for me. I couldn&#39;t find a more proper solution so I scripted it by myself. ","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I have solved it this way:\nDefine your <code>info.build.version</code> in <code>application.properties</code>:</p>\n\n<pre><code>info.build.version=whatever\n</code></pre>\n\n<p>use it in your component with </p>\n\n<pre><code>@Value(\"${info.build.version}\")\nprivate String version;\n</code></pre>\n\n<p>now add your version info to your <code>build.gradle</code> file like this:</p>\n\n<pre><code>version = '0.0.2-SNAPSHOT'\n</code></pre>\n\n<p>then add a method to replace your application.properties with a regex to update your version information there:</p>\n\n<pre><code>def updateApplicationProperties() {\n    def configFile = new File('src/main/resources/application.properties')\n    println \"updating version to '${version}' in ${configFile}\"\n    String configContent = configFile.getText('UTF-8')\n    configContent = configContent.replaceAll(/info\\.build\\.version=.*/, \"info.build.version=${version}\")\n    configFile.write(configContent, 'UTF-8')\n}\n</code></pre>\n\n<p>finally, ensure the method is called when you trigger <code>build</code> or <code>bootRun</code>:</p>\n\n<pre><code>allprojects {\n    updateVersion()\n}\n</code></pre>\n\n<p>that's it. This solution works if you let Gradle compile your app as well as if you run your Spring Boot app from the IDE. The value will not get updated but won't throw an exception and as soon as you run Gradle it will be updated again.</p>\n\n<p>I hope this helps others as well as it solved the problem for me. I couldn't find a more proper solution so I scripted it by myself. </p>\n"},{"tags":[],"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1525250755,"creation_date":1525250755,"answer_id":50130541,"question_id":34963056,"body_markdown":"I&#39;ve resolved this by adding into application.yml the following:\r\n\r\n    ${version?:unknown}\r\n\r\nIt also work from cli:**gradle bootRun** and also from IntelliJ and you don&#39;t have to call the Gradle task processResources before launching in IntelliJ or use spring profiles.\r\n\r\nThis work with Gradle ver:**4.6** and also Spring Boot ver: **2.0.1.RELEASE**.\r\nHope it helps ;)","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I've resolved this by adding into application.yml the following:</p>\n\n<pre><code>${version?:unknown}\n</code></pre>\n\n<p>It also work from cli:<strong>gradle bootRun</strong> and also from IntelliJ and you don't have to call the Gradle task processResources before launching in IntelliJ or use spring profiles.</p>\n\n<p>This work with Gradle ver:<strong>4.6</strong> and also Spring Boot ver: <strong>2.0.1.RELEASE</strong>.\nHope it helps ;)</p>\n"},{"tags":[],"owner":{"account_id":4399098,"reputation":1329,"user_id":3585320,"accept_rate":83,"display_name":"Cl&#233;ment Poissonnier"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1580899905,"creation_date":1580899905,"answer_id":60074163,"question_id":34963056,"body_markdown":"You can also add this in `build.gradle` : \r\n\r\n    springBoot {    \r\n        buildInfo() \r\n    }\r\n\r\nThen, you can use `BuildProperties` bean : \r\n\r\n    @Autowired\r\n    private BuildProperties buildProperties;\r\n\r\nAnd get the version with `buildProperties.getVersion()`","title":"Getting the Gradle.build version into Spring Boot","body":"<p>You can also add this in <code>build.gradle</code> : </p>\n\n<pre><code>springBoot {    \n    buildInfo() \n}\n</code></pre>\n\n<p>Then, you can use <code>BuildProperties</code> bean : </p>\n\n<pre><code>@Autowired\nprivate BuildProperties buildProperties;\n</code></pre>\n\n<p>And get the version with <code>buildProperties.getVersion()</code></p>\n"},{"tags":[],"owner":{"account_id":3296456,"reputation":673,"user_id":2773618,"display_name":"Nicolas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675958607,"creation_date":1675958607,"answer_id":75401251,"question_id":34963056,"body_markdown":"For Kotlin user, what works for me was :\r\n\r\n\r\n1) application.properties\r\n\r\nIn the application.properties you add a placeholder that will be replace with your value by gradle.\r\n\r\n        project.version= ${version}\r\n\r\n2) build.gradle.kts\r\n\r\nAdd a task so gradle will replace the value\r\n\r\n        tasks.processResources { filesMatching(&quot;**/application.properties&quot;) { expand(project.properties) } }\r\n\r\n3) Service.kt\r\n\r\nInject the value in your services\r\n\r\n        @Value(&quot;\\${project.version}&quot;) lateinit var version: String\r\n\r\n\r\n\r\n","title":"Getting the Gradle.build version into Spring Boot","body":"<p>For Kotlin user, what works for me was :</p>\n<ol>\n<li>application.properties</li>\n</ol>\n<p>In the application.properties you add a placeholder that will be replace with your value by gradle.</p>\n<pre><code>    project.version= ${version}\n</code></pre>\n<ol start=\"2\">\n<li>build.gradle.kts</li>\n</ol>\n<p>Add a task so gradle will replace the value</p>\n<pre><code>    tasks.processResources { filesMatching(&quot;**/application.properties&quot;) { expand(project.properties) } }\n</code></pre>\n<ol start=\"3\">\n<li>Service.kt</li>\n</ol>\n<p>Inject the value in your services</p>\n<pre><code>    @Value(&quot;\\${project.version}&quot;) lateinit var version: String\n</code></pre>\n"}],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32370,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":34969908,"answer_count":5,"score":32,"last_activity_date":1675958607,"creation_date":1453549647,"question_id":34963056,"body_markdown":"I&#39;m trying to display the application version of my Spring Boot application in a view. I&#39;m sure I can access this version information, I just don&#39;t know how.\r\n\r\nI tried following this information: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html, and put this in my `application.properties`:\r\n\r\n    info.build.version=${version}\r\n\r\nAnd then loading it `@Value(&quot;${version.test}&quot;)` in my controller, but that doesn&#39;t work, I only get errors like:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;version&#39; in string value &quot;${version}&quot;\r\n\r\nAny suggestions on what the proper way to get information like my app version, the spring boot version, etc into my controller?","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I'm trying to display the application version of my Spring Boot application in a view. I'm sure I can access this version information, I just don't know how.</p>\n\n<p>I tried following this information: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html</a>, and put this in my <code>application.properties</code>:</p>\n\n<pre><code>info.build.version=${version}\n</code></pre>\n\n<p>And then loading it <code>@Value(\"${version.test}\")</code> in my controller, but that doesn't work, I only get errors like:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'version' in string value \"${version}\"\n</code></pre>\n\n<p>Any suggestions on what the proper way to get information like my app version, the spring boot version, etc into my controller?</p>\n"},{"tags":["java","maven","gradle","apache-phoenix"],"owner":{"account_id":107310,"reputation":2662,"user_id":285409,"accept_rate":81,"display_name":"Limey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675958599,"creation_date":1675958599,"question_id":75401249,"body_markdown":"\r\nSo I am trying to upgrade my phoenix-core library from 5.0.0.-HBase-2.0 to 5.1.3\r\n\r\n    // https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core\r\n    implementation &#39;org.apache.phoenix:phoenix-core:5.1.3&#39;\r\n\r\nWhen I attempt to build the project, I always get a slew of errors around omid, but they all basically say the same thing, &quot;bad module name: expected=&#39;omid-hbase-client-hbase2.x&#39; found=&#39;omid-hbase-client-hbase1.x&#39;&quot;\r\n\r\n       &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\r\n     Required by:\r\n         project : &gt; org.apache.phoenix:phoenix-core:5.1.3\r\n        &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\r\n           &gt; inconsistent module metadata found. Descriptor: org.apache.omid:omid-hbase-client-hbase1.x:1.0.2 Errors: bad module name: expected=&#39;omid-hbase-client-hbase2.x&#39; found=&#39;omid-hbase-client-hbase1.x&#39;\r\n      &gt; Could not resolve org.apache.omid:omid-hbase-coprocessor-hbase2.x:1.0.2.\r\n\r\nI have search high and low on google, and can&#39;t find a reason for this.  I have tried clearing everything and nothing helps.\r\n\r\n\r\nThanks","title":"phoenix-core can&#39;t install because of omid error","body":"<p>So I am trying to upgrade my phoenix-core library from 5.0.0.-HBase-2.0 to 5.1.3</p>\n<pre><code>// https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core\nimplementation 'org.apache.phoenix:phoenix-core:5.1.3'\n</code></pre>\n<p>When I attempt to build the project, I always get a slew of errors around omid, but they all basically say the same thing, &quot;bad module name: expected='omid-hbase-client-hbase2.x' found='omid-hbase-client-hbase1.x'&quot;</p>\n<pre><code>   &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\n Required by:\n     project : &gt; org.apache.phoenix:phoenix-core:5.1.3\n    &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\n       &gt; inconsistent module metadata found. Descriptor: org.apache.omid:omid-hbase-client-hbase1.x:1.0.2 Errors: bad module name: expected='omid-hbase-client-hbase2.x' found='omid-hbase-client-hbase1.x'\n  &gt; Could not resolve org.apache.omid:omid-hbase-coprocessor-hbase2.x:1.0.2.\n</code></pre>\n<p>I have search high and low on google, and can't find a reason for this.  I have tried clearing everything and nothing helps.</p>\n<p>Thanks</p>\n"},{"tags":["python","java","android","ffmpeg","stdin"],"comments":[{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1653686285,"post_id":72370894,"comment_id":127919728,"body_markdown":"Do you mean writing to stdin pipe of FFmpeg sub-process in JAVA?","body":"Do you mean writing to stdin pipe of FFmpeg sub-process in JAVA?"},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1653692040,"post_id":72370894,"comment_id":127920794,"body_markdown":"I am not sure if in Java we can do that, from what I was looking It could be done ProcessBuilder, although if Java has stdin pipe, that would be great.","body":"I am not sure if in Java we can do that, from what I was looking It could be done ProcessBuilder, although if Java has stdin pipe, that would be great."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1653719860,"post_id":72370894,"comment_id":127923921,"body_markdown":"Possibly related: [How to create a video from an array of images in Android?](https://stackoverflow.com/a/40456156/295004) and [how to make RTSP server at android phone?](https://stackoverflow.com/a/40863153/295004)","body":"Possibly related: <a href=\"https://stackoverflow.com/a/40456156/295004\">How to create a video from an array of images in Android?</a> and <a href=\"https://stackoverflow.com/a/40863153/295004\">how to make RTSP server at android phone?</a>"},{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1653725651,"post_id":72370894,"comment_id":127924779,"body_markdown":"I don&#39;t know enough JAVA, and don&#39;t know the limitation on Android. Is it possible to create a sub-process like this: `p = Runtime.getRuntime().exec(cmd)`? (when `cmd = &quot;ffmpeg&quot;...` with arguments list), Then use `p_stdin = DataOutputStream(p.getOutputStream())`, and write data to stdin: `p_stdin.write(arr)`?","body":"I don&#39;t know enough JAVA, and don&#39;t know the limitation on Android. Is it possible to create a sub-process like this: <code>p = Runtime.getRuntime().exec(cmd)</code>? (when <code>cmd = &quot;ffmpeg&quot;...</code> with arguments list), Then use <code>p_stdin = DataOutputStream(p.getOutputStream())</code>, and write data to stdin: <code>p_stdin.write(arr)</code>?"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1654058690,"post_id":72370894,"comment_id":127998826,"body_markdown":"It&#39;s possible on Android as well, as long as your application uses Android API below 29, or you&#39;ll get &quot;Permission denied&quot;, see https://github.com/bytedeco/javacv/issues/1127#issuecomment-643700534","body":"It&#39;s possible on Android as well, as long as your application uses Android API below 29, or you&#39;ll get &quot;Permission denied&quot;, see <a href=\"https://github.com/bytedeco/javacv/issues/1127#issuecomment-643700534\" rel=\"nofollow noreferrer\">github.com/bytedeco/javacv/issues/1127#issuecomment-64370053&zwnj;&#8203;4</a>"},{"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"score":0,"creation_date":1654174841,"post_id":72370894,"comment_id":128031848,"body_markdown":"Although, I am getting &quot;W/System.err: Warning: Version of org.bytedeco:ffmpeg could not be found.&quot;","body":"Although, I am getting &quot;W/System.err: Warning: Version of org.bytedeco:ffmpeg could not be found.&quot;"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1654224883,"post_id":72370894,"comment_id":128045415,"body_markdown":"That warning is normal on Android because the build system strips away the properties where the version information is stored.","body":"That warning is normal on Android because the build system strips away the properties where the version information is stored."}],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1654016153,"creation_date":1653862054,"answer_id":72427597,"question_id":72370894,"body_markdown":"Here is a JAVA implementation that resembles the Python code:  \r\n\r\nThe example writes raw video frames (byte arrays) to stdin pipe of FFmpeg sub-process:  \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n     _____________             ___________                  ________ \r\n    | JAVA byte   |           |           |                |        |\r\n    | Array       |   stdin   | FFmpeg    |                | Output |\r\n    | BGR (format)| --------&gt; | process   | -------------&gt; | stream |\r\n    |_____________| raw frame |___________| encoded video  |________|\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\nMain stages:  \r\n\r\n - Initialize FFmpeg command arguments:  \r\n\r\n        final String command[] = {&quot;ffmpeg&quot;, &quot;-f&quot;, &quot;rawvideo&quot;, ...}\r\n\r\n - Create `ProcessBuilder` that executes FFmpeg as a sub-process:  \r\n\r\n        ProcessBuilder pb = new ProcessBuilder(command);\r\n\r\n - Redirect stderr (required for reading FFmpeg messages), without it, the sub-process halts:  \r\n\r\n        pb.redirectErrorStream(true);\r\n\r\n - Start FFmpeg sub-process, and create `BufferedReader`:  \r\n\r\n        Process process = pb.start();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\n - Create `OutputStream` for writing to stdin pipe of FFmpeg sub-process:  \r\n\r\n        OutputStream writer = process.getOutputStream();\r\n\r\n - Write raw video frames to stdin pipe of FFmpeg sub-process in a loop:\r\n\r\n        byte img[] = new byte[width*height*3];\r\n        \r\n        for (int i = 0; i &lt; n_frmaes; i++)\r\n        {\r\n            //Fill img with pixel data\r\n            ...\r\n            writer.write(img);\r\n        }\r\n\r\n - Close stdin, read and print stderr content, and wait for sub-process to finish:\r\n\r\n        writer.close();\r\n        \r\n        String line;\r\n        while ((line = reader.readLine()) != null)\r\n        {\r\n            System.out.println(line);\r\n        }        \r\n       \r\n        process.waitFor();\r\n\r\n---\r\n\r\nCode sample:  \r\nThe following code sample writes 10 raw video frames with size 192x108 to FFmpeg.  \r\nInstead of streaming to RTMP, we are writing the result to `test.flv` file (for testing).  \r\nThe example uses hard coded strings and numbers (for simplicity).\r\n\r\nNote:  \r\nThe code sample assume FFmpeg executable is in the execution path.  \r\n\r\n    package myproject;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    \r\n    public class FfmpegVideoWriter {\r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            final String rtmp_url = &quot;test.flv&quot;; //Set output file (instead of output URL) for testing.\r\n            \r\n            final String command[] = {&quot;ffmpeg&quot;,\r\n                                      &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\r\n                                      &quot;-f&quot;, &quot;rawvideo&quot;,\r\n                                      &quot;-vcodec&quot;, &quot;rawvideo&quot;,\r\n                                      &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\r\n                                      &quot;-s&quot;, &quot;192x108&quot;,\r\n                                      &quot;-r&quot;, &quot;10&quot;,\r\n                                      &quot;-i&quot;, &quot;pipe:&quot;,\r\n                                      &quot;-c:v&quot;, &quot;libx264&quot;,\r\n                                      &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\r\n                                      &quot;-preset&quot;, &quot;ultrafast&quot;,\r\n                                      &quot;-f&quot;, &quot;flv&quot;,\r\n                                      rtmp_url};\r\n            \r\n            //https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\r\n            ProcessBuilder pb = new ProcessBuilder(command);    //Create ProcessBuilder\r\n            pb.redirectErrorStream(true); //Redirect stderr\r\n            Process process = pb.start();               \r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            \r\n            //Create OutputStream for writing to stdin pipe of FFmpeg sub-process.\r\n            OutputStream writer = process.getOutputStream();\r\n            \r\n            byte img[] = new byte[192*108*3];   //Dummy image \r\n            \r\n            //Write 10 video frames to stdin pipe of FFmpeg sub-process\r\n            for (int i = 0; i &lt; 10; i++)\r\n            {\r\n                //Fill image with some arbitrary pixel values\r\n                for (int y = 0; y &lt; 108; y++)\r\n                {\r\n                    for (int x = 0; x &lt; 192; x++)\r\n                    {\r\n                        //Arbitrary RGB values:\r\n                        byte r = (byte)((x * y + i) % 255); //Red component\r\n                        byte g = (byte)((x * y + i*10) % 255); //Green component\r\n                        byte b = (byte)((x * y + i*20) % 255); //Blue component\r\n                        img[(y*192 + x)*3] = b; \r\n                        img[(y*192 + x)*3+1] = g;\r\n                        img[(y*192 + x)*3+2] = r;\r\n                    }\r\n                }\r\n                \r\n                writer.write(img);  //Write img to FFmpeg\r\n            }\r\n            \r\n            writer.close();  //Close stdin pipe.\r\n    \r\n            //Read and print stderr content\r\n            //Note: there may be cases when FFmpeg keeps printing messages, so it may not be the best solution to empty the buffer only at the end.\r\n            //We may consider adding an argument `-loglevel error` for reducing verbosity.\r\n            String line;\r\n            while ((line = reader.readLine()) != null)\r\n            {\r\n                System.out.println(line);\r\n            }        \r\n           \r\n            process.waitFor();\r\n        }\r\n    }\r\n\r\n---\r\n\r\nThe code was tested in my PC (with Windows 10), and I am not sure it&#39;s going to work  with Android...  \r\n\r\nThe above sample is simplistic and generic, in your case you may use `rgba` pixel format and write `FrameData` inside `onFrame` method.\r\n\r\n\r\nSample video frame (&quot;arbitrary pixel values&quot;):  \r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\nUpdate:  \r\n---\r\n\r\nThe following code sample uses JavaCV - writes Mat data to FFmpeg:  \r\n\r\n    package myproject;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.CvType;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.imgproc.Imgproc;\r\n    \r\n    public class FfmpegVideoWriter {\r\n        static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n        \r\n        //Build synthetic &quot;raw BGR&quot; image for testing\r\n        public static void buildRawFrame(Mat img, int i)\r\n        {\r\n            int p = img.cols() / 60;    //Used as font size factor.\r\n            img.setTo(new Scalar(60, 60, 60));  //Fill image with dark gray color\r\n            String text = Integer.toString(i+1);\r\n            int font = Imgproc.FONT_HERSHEY_SIMPLEX;\r\n            Point pos = new Point(img.cols()/2-p*10*(text.length()), img.rows()/2+p*10);\r\n            Imgproc.putText(img, text, pos, font, p, new Scalar(255, 30, 30), p*2);  //Blue number\r\n        }\r\n        \r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            final int cols = 192;\r\n            final int rows = 108;\r\n            \r\n            final String rtmp_url = &quot;test.flv&quot;; //Set output file (instead of output URL) for testing.\r\n            \r\n            final String command[] = {&quot;ffmpeg&quot;,\r\n                                      &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\r\n                                      &quot;-f&quot;, &quot;rawvideo&quot;,\r\n                                      &quot;-vcodec&quot;, &quot;rawvideo&quot;,\r\n                                      &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\r\n                                      &quot;-s&quot;, (Integer.toString(cols) + &quot;x&quot; + Integer.toString(rows)),\r\n                                      &quot;-r&quot;, &quot;10&quot;,\r\n                                      &quot;-i&quot;, &quot;pipe:&quot;,\r\n                                      &quot;-c:v&quot;, &quot;libx264&quot;,\r\n                                      &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\r\n                                      &quot;-preset&quot;, &quot;ultrafast&quot;,\r\n                                      &quot;-f&quot;, &quot;flv&quot;,\r\n                                      rtmp_url};\r\n            \r\n            //https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\r\n            ProcessBuilder pb = new ProcessBuilder(command);    //Create ProcessBuilder\r\n            pb.redirectErrorStream(true); //Redirect stderr\r\n            Process process = pb.start();               \r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            \r\n            //Create OutputStream for writing to stdin pipe of FFmpeg sub-process.\r\n            OutputStream writer = process.getOutputStream();\r\n            \r\n            //Dummy image (BGR pixel format).\r\n            Mat img = new Mat(rows, cols, CvType.CV_8UC3, Scalar.all(0));\r\n            \r\n            byte buffer[] = new byte[cols*rows*3]; //Byte array for storing img data    \r\n            \r\n            //Write 10 video frames to stdin pipe of FFmpeg sub-process\r\n            for (int i = 0; i &lt; 10; i++)\r\n            {\r\n                buildRawFrame(img, i); //Build image with blue frame counter.\r\n                           \r\n                img.get(0, 0, buffer); //Copy img data to buffer (not sure if this is the best solution).  \r\n                \r\n                writer.write(buffer); //Write buffer (raw video frame as byte array) to FFmpeg\r\n            }\r\n            \r\n            writer.close(); //Close stdin pipe.\r\n    \r\n            //Read and print stderr content\r\n            String line;\r\n            while ((line = reader.readLine()) != null)\r\n            {\r\n                System.out.println(line);\r\n            }        \r\n           \r\n            process.waitFor();\r\n        }\r\n    }\r\n\r\n---\r\n\r\nSample output frame:  \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fP1i3.png\r\n  [2]: https://i.stack.imgur.com/BkmfB.png","title":"Stream image from Android with FFMPEG","body":"<p>Here is a JAVA implementation that resembles the Python code:</p>\n<p>The example writes raw video frames (byte arrays) to stdin pipe of FFmpeg sub-process:</p>\n<pre class=\"lang-none prettyprint-override\"><code> _____________             ___________                  ________ \n| JAVA byte   |           |           |                |        |\n| Array       |   stdin   | FFmpeg    |                | Output |\n| BGR (format)| --------&gt; | process   | -------------&gt; | stream |\n|_____________| raw frame |___________| encoded video  |________|\n</code></pre>\n<p>Main stages:</p>\n<ul>\n<li><p>Initialize FFmpeg command arguments:</p>\n<pre><code> final String command[] = {&quot;ffmpeg&quot;, &quot;-f&quot;, &quot;rawvideo&quot;, ...}\n</code></pre>\n</li>\n<li><p>Create <code>ProcessBuilder</code> that executes FFmpeg as a sub-process:</p>\n<pre><code> ProcessBuilder pb = new ProcessBuilder(command);\n</code></pre>\n</li>\n<li><p>Redirect stderr (required for reading FFmpeg messages), without it, the sub-process halts:</p>\n<pre><code> pb.redirectErrorStream(true);\n</code></pre>\n</li>\n<li><p>Start FFmpeg sub-process, and create <code>BufferedReader</code>:</p>\n<pre><code> Process process = pb.start();\n BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n</code></pre>\n</li>\n<li><p>Create <code>OutputStream</code> for writing to stdin pipe of FFmpeg sub-process:</p>\n<pre><code> OutputStream writer = process.getOutputStream();\n</code></pre>\n</li>\n<li><p>Write raw video frames to stdin pipe of FFmpeg sub-process in a loop:</p>\n<pre><code> byte img[] = new byte[width*height*3];\n\n for (int i = 0; i &lt; n_frmaes; i++)\n {\n     //Fill img with pixel data\n     ...\n     writer.write(img);\n }\n</code></pre>\n</li>\n<li><p>Close stdin, read and print stderr content, and wait for sub-process to finish:</p>\n<pre><code> writer.close();\n\n String line;\n while ((line = reader.readLine()) != null)\n {\n     System.out.println(line);\n }        \n\n process.waitFor();\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Code sample:<br />\nThe following code sample writes 10 raw video frames with size 192x108 to FFmpeg.<br />\nInstead of streaming to RTMP, we are writing the result to <code>test.flv</code> file (for testing).<br />\nThe example uses hard coded strings and numbers (for simplicity).</p>\n<p>Note:<br />\nThe code sample assume FFmpeg executable is in the execution path.</p>\n<pre><code>package myproject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\n\npublic class FfmpegVideoWriter {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        final String rtmp_url = &quot;test.flv&quot;; //Set output file (instead of output URL) for testing.\n        \n        final String command[] = {&quot;ffmpeg&quot;,\n                                  &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\n                                  &quot;-f&quot;, &quot;rawvideo&quot;,\n                                  &quot;-vcodec&quot;, &quot;rawvideo&quot;,\n                                  &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\n                                  &quot;-s&quot;, &quot;192x108&quot;,\n                                  &quot;-r&quot;, &quot;10&quot;,\n                                  &quot;-i&quot;, &quot;pipe:&quot;,\n                                  &quot;-c:v&quot;, &quot;libx264&quot;,\n                                  &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n                                  &quot;-preset&quot;, &quot;ultrafast&quot;,\n                                  &quot;-f&quot;, &quot;flv&quot;,\n                                  rtmp_url};\n        \n        //https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\n        ProcessBuilder pb = new ProcessBuilder(command);    //Create ProcessBuilder\n        pb.redirectErrorStream(true); //Redirect stderr\n        Process process = pb.start();               \n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        \n        //Create OutputStream for writing to stdin pipe of FFmpeg sub-process.\n        OutputStream writer = process.getOutputStream();\n        \n        byte img[] = new byte[192*108*3];   //Dummy image \n        \n        //Write 10 video frames to stdin pipe of FFmpeg sub-process\n        for (int i = 0; i &lt; 10; i++)\n        {\n            //Fill image with some arbitrary pixel values\n            for (int y = 0; y &lt; 108; y++)\n            {\n                for (int x = 0; x &lt; 192; x++)\n                {\n                    //Arbitrary RGB values:\n                    byte r = (byte)((x * y + i) % 255); //Red component\n                    byte g = (byte)((x * y + i*10) % 255); //Green component\n                    byte b = (byte)((x * y + i*20) % 255); //Blue component\n                    img[(y*192 + x)*3] = b; \n                    img[(y*192 + x)*3+1] = g;\n                    img[(y*192 + x)*3+2] = r;\n                }\n            }\n            \n            writer.write(img);  //Write img to FFmpeg\n        }\n        \n        writer.close();  //Close stdin pipe.\n\n        //Read and print stderr content\n        //Note: there may be cases when FFmpeg keeps printing messages, so it may not be the best solution to empty the buffer only at the end.\n        //We may consider adding an argument `-loglevel error` for reducing verbosity.\n        String line;\n        while ((line = reader.readLine()) != null)\n        {\n            System.out.println(line);\n        }        \n       \n        process.waitFor();\n    }\n}\n</code></pre>\n<hr />\n<p>The code was tested in my PC (with Windows 10), and I am not sure it's going to work  with Android...</p>\n<p>The above sample is simplistic and generic, in your case you may use <code>rgba</code> pixel format and write <code>FrameData</code> inside <code>onFrame</code> method.</p>\n<p>Sample video frame (&quot;arbitrary pixel values&quot;):<br />\n<a href=\"https://i.stack.imgur.com/fP1i3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fP1i3.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>Update:</h2>\n<p>The following code sample uses JavaCV - writes Mat data to FFmpeg:</p>\n<pre><code>package myproject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.CvType;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Point;\nimport org.opencv.imgproc.Imgproc;\n\npublic class FfmpegVideoWriter {\n    static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n    \n    //Build synthetic &quot;raw BGR&quot; image for testing\n    public static void buildRawFrame(Mat img, int i)\n    {\n        int p = img.cols() / 60;    //Used as font size factor.\n        img.setTo(new Scalar(60, 60, 60));  //Fill image with dark gray color\n        String text = Integer.toString(i+1);\n        int font = Imgproc.FONT_HERSHEY_SIMPLEX;\n        Point pos = new Point(img.cols()/2-p*10*(text.length()), img.rows()/2+p*10);\n        Imgproc.putText(img, text, pos, font, p, new Scalar(255, 30, 30), p*2);  //Blue number\n    }\n    \n    public static void main(String[] args) throws IOException, InterruptedException {\n        final int cols = 192;\n        final int rows = 108;\n        \n        final String rtmp_url = &quot;test.flv&quot;; //Set output file (instead of output URL) for testing.\n        \n        final String command[] = {&quot;ffmpeg&quot;,\n                                  &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\n                                  &quot;-f&quot;, &quot;rawvideo&quot;,\n                                  &quot;-vcodec&quot;, &quot;rawvideo&quot;,\n                                  &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\n                                  &quot;-s&quot;, (Integer.toString(cols) + &quot;x&quot; + Integer.toString(rows)),\n                                  &quot;-r&quot;, &quot;10&quot;,\n                                  &quot;-i&quot;, &quot;pipe:&quot;,\n                                  &quot;-c:v&quot;, &quot;libx264&quot;,\n                                  &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n                                  &quot;-preset&quot;, &quot;ultrafast&quot;,\n                                  &quot;-f&quot;, &quot;flv&quot;,\n                                  rtmp_url};\n        \n        //https://stackoverflow.com/questions/5483830/process-waitfor-never-returns\n        ProcessBuilder pb = new ProcessBuilder(command);    //Create ProcessBuilder\n        pb.redirectErrorStream(true); //Redirect stderr\n        Process process = pb.start();               \n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        \n        //Create OutputStream for writing to stdin pipe of FFmpeg sub-process.\n        OutputStream writer = process.getOutputStream();\n        \n        //Dummy image (BGR pixel format).\n        Mat img = new Mat(rows, cols, CvType.CV_8UC3, Scalar.all(0));\n        \n        byte buffer[] = new byte[cols*rows*3]; //Byte array for storing img data    \n        \n        //Write 10 video frames to stdin pipe of FFmpeg sub-process\n        for (int i = 0; i &lt; 10; i++)\n        {\n            buildRawFrame(img, i); //Build image with blue frame counter.\n                       \n            img.get(0, 0, buffer); //Copy img data to buffer (not sure if this is the best solution).  \n            \n            writer.write(buffer); //Write buffer (raw video frame as byte array) to FFmpeg\n        }\n        \n        writer.close(); //Close stdin pipe.\n\n        //Read and print stderr content\n        String line;\n        while ((line = reader.readLine()) != null)\n        {\n            System.out.println(line);\n        }        \n       \n        process.waitFor();\n    }\n}\n</code></pre>\n<hr />\n<p>Sample output frame:<br />\n<a href=\"https://i.stack.imgur.com/BkmfB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BkmfB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3157168,"reputation":1295,"user_id":2669317,"display_name":"volzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675958384,"creation_date":1675958384,"answer_id":75401200,"question_id":72370894,"body_markdown":"I found using [ffmpeg-kit](https://github.com/arthenica/ffmpeg-kit) for Android slightly more convenient than invoking the ffmpeg binary using ProcessBuilder.\r\n\r\nThe simplest way to pass arbitrary data (ie. images as bytes[]) to ffmpeg is to make use of [named pipes](https://en.wikipedia.org/wiki/Named_pipe). \r\n\r\nThe pipe is created in `{app_data}/cache/pipes/fk_pipe_1` and can be accessed like any Unix file with a FileOutputStream.\r\n\r\nNote that the ffmpeg command is only executed once data can be read from the pipe. More info can be found in the [ffmpeg-kit wiki](https://github.com/arthenica/ffmpeg-kit/wiki/Pipe-Support).\r\n\r\nIn some cases it may be easier to access the camera directly, this is [supported](https://github.com/arthenica/ffmpeg-kit/wiki/Camera-Support) for API level 24 and higher.\r\n\r\n    String rtmp_url = &quot;rtp://127.0.0.1:9000&quot;;\r\n\r\n    String pipe1 = FFmpegKitConfig.registerNewFFmpegPipe(context);\r\n\r\n    FFmpegKit.executeAsync(&quot;-re -f rawvideo -pixel_format bgr24 -video_size 640x480 -i &quot; + pipe1 + &quot; -f rtp_mpegts&quot; + &quot; &quot; + rtmp_url, new FFmpegSessionCompleteCallback() {\r\n\r\n        @Override\r\n        public void apply(FFmpegSession session) {\r\n            SessionState state = session.getState();\r\n            ReturnCode returnCode = session.getReturnCode();\r\n            // CALLED WHEN SESSION IS EXECUTED\r\n            Log.d(TAG, String.format(&quot;FFmpeg process exited with state %s and rc %s.%s&quot;, state, returnCode, session.getFailStackTrace()));\r\n        }\r\n    }, new LogCallback() {\r\n\r\n        @Override\r\n        public void apply(com.arthenica.ffmpegkit.Log log) {\r\n            // CALLED WHEN SESSION PRINTS LOGS\r\n        }\r\n    }, new StatisticsCallback() {\r\n\r\n        @Override\r\n        public void apply(Statistics statistics) {\r\n            // CALLED WHEN SESSION GENERATES STATISTICS\r\n        }\r\n    });\r\n    \r\n    byte img[] = new byte[640*480*3];   // dummy image\r\n    FileOutputStream out = new FileOutputStream(pipe1);\r\n    try {\r\n        for (int i=0; i&lt;100; i++) { // write 100 empty frames\r\n            out.write(img);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        out.close();\r\n    ","title":"Stream image from Android with FFMPEG","body":"<p>I found using <a href=\"https://github.com/arthenica/ffmpeg-kit\" rel=\"nofollow noreferrer\">ffmpeg-kit</a> for Android slightly more convenient than invoking the ffmpeg binary using ProcessBuilder.</p>\n<p>The simplest way to pass arbitrary data (ie. images as bytes[]) to ffmpeg is to make use of <a href=\"https://en.wikipedia.org/wiki/Named_pipe\" rel=\"nofollow noreferrer\">named pipes</a>.</p>\n<p>The pipe is created in <code>{app_data}/cache/pipes/fk_pipe_1</code> and can be accessed like any Unix file with a FileOutputStream.</p>\n<p>Note that the ffmpeg command is only executed once data can be read from the pipe. More info can be found in the <a href=\"https://github.com/arthenica/ffmpeg-kit/wiki/Pipe-Support\" rel=\"nofollow noreferrer\">ffmpeg-kit wiki</a>.</p>\n<p>In some cases it may be easier to access the camera directly, this is <a href=\"https://github.com/arthenica/ffmpeg-kit/wiki/Camera-Support\" rel=\"nofollow noreferrer\">supported</a> for API level 24 and higher.</p>\n<pre><code>String rtmp_url = &quot;rtp://127.0.0.1:9000&quot;;\n\nString pipe1 = FFmpegKitConfig.registerNewFFmpegPipe(context);\n\nFFmpegKit.executeAsync(&quot;-re -f rawvideo -pixel_format bgr24 -video_size 640x480 -i &quot; + pipe1 + &quot; -f rtp_mpegts&quot; + &quot; &quot; + rtmp_url, new FFmpegSessionCompleteCallback() {\n\n    @Override\n    public void apply(FFmpegSession session) {\n        SessionState state = session.getState();\n        ReturnCode returnCode = session.getReturnCode();\n        // CALLED WHEN SESSION IS EXECUTED\n        Log.d(TAG, String.format(&quot;FFmpeg process exited with state %s and rc %s.%s&quot;, state, returnCode, session.getFailStackTrace()));\n    }\n}, new LogCallback() {\n\n    @Override\n    public void apply(com.arthenica.ffmpegkit.Log log) {\n        // CALLED WHEN SESSION PRINTS LOGS\n    }\n}, new StatisticsCallback() {\n\n    @Override\n    public void apply(Statistics statistics) {\n        // CALLED WHEN SESSION GENERATES STATISTICS\n    }\n});\n\nbyte img[] = new byte[640*480*3];   // dummy image\nFileOutputStream out = new FileOutputStream(pipe1);\ntry {\n    for (int i=0; i&lt;100; i++) { // write 100 empty frames\n        out.write(img);\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n} finally {\n    out.close();\n</code></pre>\n"}],"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1916,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72427597,"answer_count":2,"score":4,"last_activity_date":1675958384,"creation_date":1653439616,"question_id":72370894,"body_markdown":"I&#39;m currently receiving images from an external source as byte array and I would like to send it as raw video format via ffmpeg to a stream URL, where I have a RTSP server that receives RTSP streams ([a similar unanswered question][1]). However, I haven&#39;t worked with FFMPEG in Java, so i can&#39;t find an example on how to do it. I have a callback that copies the image bytes to a byte array as follows:\r\n\r\n\r\n            public class MainActivity extends Activity {\r\n                final String rtmp_url = &quot;rtmp://192.168.0.12:1935/live/test&quot;;\r\n                private int PREVIEW_WIDTH = 384;\r\n                private int PREVIEW_HEIGHT = 292;\r\n                private String TAG = &quot;MainActivity&quot;;\r\n                String ffmpeg = Loader.load(org.bytedeco.ffmpeg.ffmpeg.class);\r\n                final String command[] = {ffmpeg,\r\n                                &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\r\n                                &quot;-f&quot;, &quot;rawvideo&quot;,\r\n                                &quot;-vcodec&quot;, &quot;rawvideo&quot;,\r\n                                &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\r\n                                &quot;-s&quot;, (Integer.toString(PREVIEW_WIDTH) + &quot;x&quot; + Integer.toString(PREVIEW_HEIGHT)),\r\n                                &quot;-r&quot;, &quot;10&quot;,\r\n                                &quot;-i&quot;, &quot;pipe:&quot;,\r\n                                &quot;-c:v&quot;, &quot;libx264&quot;,\r\n                                &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\r\n                                &quot;-preset&quot;, &quot;ultrafast&quot;,\r\n                                &quot;-f&quot;, &quot;flv&quot;,\r\n                                rtmp_url};\r\n                \r\n          private UVCCamera mUVCCamera;\r\n\r\n    public void handleStartPreview(Object surface) throws InterruptedException, IOException {\r\n        Log.e(TAG, &quot;handleStartPreview:mUVCCamera&quot; + mUVCCamera + &quot; mIsPreviewing:&quot;);\r\n        if ((mUVCCamera == null)) return;\r\n        Log.e(TAG, &quot;handleStartPreview2 &quot;);\r\n        try {\r\n            mUVCCamera.setPreviewSize(mWidth, mHeight, 1, 26, 0, UVCCamera.DEFAULT_BANDWIDTH, 0);\r\n            Log.e(TAG, &quot;handleStartPreview3 mWidth: &quot; + mWidth + &quot;mHeight:&quot; + mHeight);\r\n        } catch (IllegalArgumentException e) {\r\n            try {\r\n                // fallback to YUV mode\r\n                mUVCCamera.setPreviewSize(mWidth, mHeight, 1, 26, UVCCamera.DEFAULT_PREVIEW_MODE, UVCCamera.DEFAULT_BANDWIDTH, 0);\r\n                Log.e(TAG, &quot;handleStartPreview4&quot;);\r\n            } catch (IllegalArgumentException e1) {\r\n                callOnError(e1);\r\n                return;\r\n            }\r\n        }\r\n        Log.e(TAG, &quot;handleStartPreview: startPreview1&quot;);\r\n        int result = mUVCCamera.startPreview();\r\n        mUVCCamera.setFrameCallback(mIFrameCallback, UVCCamera.PIXEL_FORMAT_RGBX);\r\n        mUVCCamera.startCapture();\r\n        Toast.makeText(MainActivity.this,&quot;Camera Started&quot;,Toast.LENGTH_SHORT).show();\r\n        ProcessBuilder pb = new ProcessBuilder(command);\r\n        pb.redirectErrorStream(true);\r\n        Process process = pb.start();\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        OutputStream writer = process.getOutputStream();\r\n        byte img[] = new byte[192*108*3];\r\n        for (int i = 0; i &lt; 10; i++)\r\n        {\r\n            for (int y = 0; y &lt; 108; y++)\r\n            {\r\n                for (int x = 0; x &lt; 192; x++)\r\n                {\r\n                    byte r = (byte)((x * y + i) % 255);\r\n                    byte g = (byte)((x * y + i*10) % 255);\r\n                    byte b = (byte)((x * y + i*20) % 255);\r\n                    img[(y*192 + x)*3] = b;\r\n                    img[(y*192 + x)*3+1] = g;\r\n                    img[(y*192 + x)*3+2] = r;\r\n                }\r\n            }\r\n\r\n            writer.write(img);\r\n        }\r\n\r\n        writer.close();\r\n        String line;\r\n        while ((line = reader.readLine()) != null)\r\n        {\r\n            System.out.println(line);\r\n        }\r\n\r\n        process.waitFor();\r\n    }\r\n    public static void buildRawFrame(Mat img, int i)\r\n    {\r\n        int p = img.cols() / 60;\r\n        img.setTo(new Scalar(60, 60, 60));\r\n        String text = Integer.toString(i+1);\r\n        int font = Imgproc.FONT_HERSHEY_SIMPLEX;\r\n        Point pos = new Point(img.cols()/2-p*10*(text.length()), img.rows()/2+p*10);\r\n        Imgproc.putText(img, text, pos, font, p, new Scalar(255, 30, 30), p*2);  //Blue number\r\n    }\r\n\r\nAdditionally: https://stackoverflow.com/questions/15280722/android-camera-capture-using-ffmpeg\r\n\r\nuses ffmpeg to capture frame by frame from native android camera and instead of pushing it via RTMP, they used to generate a video file as output. Although how the image was passed via ffmpeg was not informed.\r\n\r\nframeData is my byte array and I&#39;d like to know how can I write the necessary ffmpeg commands using ProcessBuilder to send an image via RTSP using ffmpeg for a given URL.\r\n\r\nAn example of what I am trying to do, In Python 3 I could easily do it by doing:\r\n\r\n    import cv2\r\n    import numpy as np\r\n    import socket\r\n    import sys\r\n    import pickle\r\n    import struct\r\n    import subprocess\r\n    \r\n    fps = 25\r\n    width = 224\r\n    height = 224\r\n    rtmp_url = &#39;rtmp://192.168.0.13:1935/live/test&#39;\r\n        \r\n        \r\n        \r\n        command = [&#39;ffmpeg&#39;,\r\n                   &#39;-y&#39;,\r\n                   &#39;-f&#39;, &#39;rawvideo&#39;,\r\n                   &#39;-vcodec&#39;, &#39;rawvideo&#39;,\r\n                   &#39;-pix_fmt&#39;, &#39;bgr24&#39;,\r\n                   &#39;-s&#39;, &quot;{}x{}&quot;.format(width, height),\r\n                   &#39;-r&#39;, str(fps),\r\n                   &#39;-i&#39;, &#39;-&#39;,\r\n                   &#39;-c:v&#39;, &#39;libx264&#39;,\r\n                   &#39;-pix_fmt&#39;, &#39;yuv420p&#39;,\r\n                   &#39;-preset&#39;, &#39;ultrafast&#39;,\r\n                   &#39;-f&#39;, &#39;flv&#39;,\r\n                   rtmp_url]\r\n        \r\n        p = subprocess.Popen(command, stdin=subprocess.PIPE)\r\n        \r\n        while(True):\r\n            frame = np.random.randint([255], size=(224, 224, 3))\r\n            frame = frame.astype(np.uint8)\r\n            p.stdin.write(frame.tobytes())\r\n\r\n\r\nI would like to do the same thing in Android\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41956604/how-can-we-feed-bytearray-of-an-image-in-input-of-ffmpeg-for-doing-direct-operat\r\n\r\nUpdate: I can reproduce @Rotem &#39;s answer on Netbeans although, in Android I am getting NullPointer exception error when trying to execute pb.start(). \r\n\r\n\r\n        Process: com.infiRay.XthermMini, PID: 32089\r\n        java.lang.NullPointerException\r\n            at java.lang.ProcessBuilder.start(ProcessBuilder.java:1012)\r\n            at com.infiRay.XthermMini.MainActivity.handleStartPreview(MainActivity.java:512)\r\n            at com.infiRay.XthermMini.MainActivity.startPreview(MainActivity.java:563)\r\n            at com.infiRay.XthermMini.MainActivity.access$1000(MainActivity.java:49)\r\n            at com.infiRay.XthermMini.MainActivity$3.onConnect(MainActivity.java:316)\r\n            at com.serenegiant.usb.USBMonitor$3.run(USBMonitor.java:620)\r\n            at android.os.Handler.handleCallback(Handler.java:938)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loopOnce(Looper.java:226)\r\n            at android.os.Looper.loop(Looper.java:313)\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)\r\n    2022-06-02 11:47:20.300 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\r\n    2022-06-02 11:47:20.304 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\r\n    2022-06-02 11:47:20.304 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\r\n    2022-06-02 11:47:20.308 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\r\n    2022-06-02 11:47:20.312 32089-32089/com.infiRay.XthermMini E/MainActivity: onPause:\r\n    2022-06-02 11:47:20.314 32089-32581/com.infiRay.XthermMini I/Process: Sending signal. PID: 32089 SIG: 9\r\n\r\n\r\n","title":"Stream image from Android with FFMPEG","body":"<p>I'm currently receiving images from an external source as byte array and I would like to send it as raw video format via ffmpeg to a stream URL, where I have a RTSP server that receives RTSP streams (<a href=\"https://stackoverflow.com/questions/41956604/how-can-we-feed-bytearray-of-an-image-in-input-of-ffmpeg-for-doing-direct-operat\">a similar unanswered question</a>). However, I haven't worked with FFMPEG in Java, so i can't find an example on how to do it. I have a callback that copies the image bytes to a byte array as follows:</p>\n<pre><code>        public class MainActivity extends Activity {\n            final String rtmp_url = &quot;rtmp://192.168.0.12:1935/live/test&quot;;\n            private int PREVIEW_WIDTH = 384;\n            private int PREVIEW_HEIGHT = 292;\n            private String TAG = &quot;MainActivity&quot;;\n            String ffmpeg = Loader.load(org.bytedeco.ffmpeg.ffmpeg.class);\n            final String command[] = {ffmpeg,\n                            &quot;-y&quot;,  //Add &quot;-re&quot; for simulated readtime streaming.\n                            &quot;-f&quot;, &quot;rawvideo&quot;,\n                            &quot;-vcodec&quot;, &quot;rawvideo&quot;,\n                            &quot;-pix_fmt&quot;, &quot;bgr24&quot;,\n                            &quot;-s&quot;, (Integer.toString(PREVIEW_WIDTH) + &quot;x&quot; + Integer.toString(PREVIEW_HEIGHT)),\n                            &quot;-r&quot;, &quot;10&quot;,\n                            &quot;-i&quot;, &quot;pipe:&quot;,\n                            &quot;-c:v&quot;, &quot;libx264&quot;,\n                            &quot;-pix_fmt&quot;, &quot;yuv420p&quot;,\n                            &quot;-preset&quot;, &quot;ultrafast&quot;,\n                            &quot;-f&quot;, &quot;flv&quot;,\n                            rtmp_url};\n            \n      private UVCCamera mUVCCamera;\n\npublic void handleStartPreview(Object surface) throws InterruptedException, IOException {\n    Log.e(TAG, &quot;handleStartPreview:mUVCCamera&quot; + mUVCCamera + &quot; mIsPreviewing:&quot;);\n    if ((mUVCCamera == null)) return;\n    Log.e(TAG, &quot;handleStartPreview2 &quot;);\n    try {\n        mUVCCamera.setPreviewSize(mWidth, mHeight, 1, 26, 0, UVCCamera.DEFAULT_BANDWIDTH, 0);\n        Log.e(TAG, &quot;handleStartPreview3 mWidth: &quot; + mWidth + &quot;mHeight:&quot; + mHeight);\n    } catch (IllegalArgumentException e) {\n        try {\n            // fallback to YUV mode\n            mUVCCamera.setPreviewSize(mWidth, mHeight, 1, 26, UVCCamera.DEFAULT_PREVIEW_MODE, UVCCamera.DEFAULT_BANDWIDTH, 0);\n            Log.e(TAG, &quot;handleStartPreview4&quot;);\n        } catch (IllegalArgumentException e1) {\n            callOnError(e1);\n            return;\n        }\n    }\n    Log.e(TAG, &quot;handleStartPreview: startPreview1&quot;);\n    int result = mUVCCamera.startPreview();\n    mUVCCamera.setFrameCallback(mIFrameCallback, UVCCamera.PIXEL_FORMAT_RGBX);\n    mUVCCamera.startCapture();\n    Toast.makeText(MainActivity.this,&quot;Camera Started&quot;,Toast.LENGTH_SHORT).show();\n    ProcessBuilder pb = new ProcessBuilder(command);\n    pb.redirectErrorStream(true);\n    Process process = pb.start();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n    OutputStream writer = process.getOutputStream();\n    byte img[] = new byte[192*108*3];\n    for (int i = 0; i &lt; 10; i++)\n    {\n        for (int y = 0; y &lt; 108; y++)\n        {\n            for (int x = 0; x &lt; 192; x++)\n            {\n                byte r = (byte)((x * y + i) % 255);\n                byte g = (byte)((x * y + i*10) % 255);\n                byte b = (byte)((x * y + i*20) % 255);\n                img[(y*192 + x)*3] = b;\n                img[(y*192 + x)*3+1] = g;\n                img[(y*192 + x)*3+2] = r;\n            }\n        }\n\n        writer.write(img);\n    }\n\n    writer.close();\n    String line;\n    while ((line = reader.readLine()) != null)\n    {\n        System.out.println(line);\n    }\n\n    process.waitFor();\n}\npublic static void buildRawFrame(Mat img, int i)\n{\n    int p = img.cols() / 60;\n    img.setTo(new Scalar(60, 60, 60));\n    String text = Integer.toString(i+1);\n    int font = Imgproc.FONT_HERSHEY_SIMPLEX;\n    Point pos = new Point(img.cols()/2-p*10*(text.length()), img.rows()/2+p*10);\n    Imgproc.putText(img, text, pos, font, p, new Scalar(255, 30, 30), p*2);  //Blue number\n}\n</code></pre>\n<p>Additionally: <a href=\"https://stackoverflow.com/questions/15280722/android-camera-capture-using-ffmpeg\">Android Camera Capture using FFmpeg</a></p>\n<p>uses ffmpeg to capture frame by frame from native android camera and instead of pushing it via RTMP, they used to generate a video file as output. Although how the image was passed via ffmpeg was not informed.</p>\n<p>frameData is my byte array and I'd like to know how can I write the necessary ffmpeg commands using ProcessBuilder to send an image via RTSP using ffmpeg for a given URL.</p>\n<p>An example of what I am trying to do, In Python 3 I could easily do it by doing:</p>\n<pre><code>import cv2\nimport numpy as np\nimport socket\nimport sys\nimport pickle\nimport struct\nimport subprocess\n\nfps = 25\nwidth = 224\nheight = 224\nrtmp_url = 'rtmp://192.168.0.13:1935/live/test'\n    \n    \n    \n    command = ['ffmpeg',\n               '-y',\n               '-f', 'rawvideo',\n               '-vcodec', 'rawvideo',\n               '-pix_fmt', 'bgr24',\n               '-s', &quot;{}x{}&quot;.format(width, height),\n               '-r', str(fps),\n               '-i', '-',\n               '-c:v', 'libx264',\n               '-pix_fmt', 'yuv420p',\n               '-preset', 'ultrafast',\n               '-f', 'flv',\n               rtmp_url]\n    \n    p = subprocess.Popen(command, stdin=subprocess.PIPE)\n    \n    while(True):\n        frame = np.random.randint([255], size=(224, 224, 3))\n        frame = frame.astype(np.uint8)\n        p.stdin.write(frame.tobytes())\n</code></pre>\n<p>I would like to do the same thing in Android</p>\n<p>Update: I can reproduce @Rotem 's answer on Netbeans although, in Android I am getting NullPointer exception error when trying to execute pb.start().</p>\n<pre><code>    Process: com.infiRay.XthermMini, PID: 32089\n    java.lang.NullPointerException\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1012)\n        at com.infiRay.XthermMini.MainActivity.handleStartPreview(MainActivity.java:512)\n        at com.infiRay.XthermMini.MainActivity.startPreview(MainActivity.java:563)\n        at com.infiRay.XthermMini.MainActivity.access$1000(MainActivity.java:49)\n        at com.infiRay.XthermMini.MainActivity$3.onConnect(MainActivity.java:316)\n        at com.serenegiant.usb.USBMonitor$3.run(USBMonitor.java:620)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:226)\n        at android.os.Looper.loop(Looper.java:313)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n2022-06-02 11:47:20.300 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\n2022-06-02 11:47:20.304 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\n2022-06-02 11:47:20.304 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\n2022-06-02 11:47:20.308 32089-1049/com.infiRay.XthermMini E/libUVCCamera: [1049*UVCPreviewIR.cpp:505:uvc_preview_frame_callback]:receive err data\n2022-06-02 11:47:20.312 32089-32089/com.infiRay.XthermMini E/MainActivity: onPause:\n2022-06-02 11:47:20.314 32089-32581/com.infiRay.XthermMini I/Process: Sending signal. PID: 32089 SIG: 9\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-navigation"],"comments":[{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655071245,"post_id":72596066,"comment_id":128237347,"body_markdown":"Did you try &quot;Invalidate caches and restart&quot;?","body":"Did you try &quot;Invalidate caches and restart&quot;?"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655071855,"post_id":72596066,"comment_id":128237432,"body_markdown":"Just tried it now.. didn&#39;t change anything.","body":"Just tried it now.. didn&#39;t change anything."},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655072180,"post_id":72596066,"comment_id":128237484,"body_markdown":"And what about if you remove this Assets folder you just added? I&#39;m thinking you may have added it incorrectly and thus Android Studio can&#39;t compile the app&#39;s resources.","body":"And what about if you remove this Assets folder you just added? I&#39;m thinking you may have added it incorrectly and thus Android Studio can&#39;t compile the app&#39;s resources."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655072592,"post_id":72596066,"comment_id":128237530,"body_markdown":"Also changes nothing. Maybe the assets folder is a red herring and something else is wrong, but that&#39;s where i have first noticed it.","body":"Also changes nothing. Maybe the assets folder is a red herring and something else is wrong, but that&#39;s where i have first noticed it."},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655072887,"post_id":72596066,"comment_id":128237566,"body_markdown":"Compare your `findNavController()` usage against mine. You&#39;re doing some things differently: https://github.com/gavingt/upcoming-games/blob/d59dd2afd2ef7448ca2e826b0514e7db05195538/app/src/main/java/com/gavinsappcreations/upcominggames/ui/list/ListFragment.kt#L48","body":"Compare your <code>findNavController()</code> usage against mine. You&#39;re doing some things differently: <a href=\"https://github.com/gavingt/upcoming-games/blob/d59dd2afd2ef7448ca2e826b0514e7db05195538/app/src/main/java/com/gavinsappcreations/upcominggames/ui/list/ListFragment.kt#L48\" rel=\"nofollow noreferrer\">github.com/gavingt/upcoming-games/blob/&hellip;</a>"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655074383,"post_id":72596066,"comment_id":128237765,"body_markdown":"I changed mine to follow the same structure as yours and then tried &quot;invalidate caches and restart&quot; again.. still nothing","body":"I changed mine to follow the same structure as yours and then tried &quot;invalidate caches and restart&quot; again.. still nothing"},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655074772,"post_id":72596066,"comment_id":128237814,"body_markdown":"What about other types of resources? Try removing the navigation code from this Fragment and see if it will recognize a String resource.","body":"What about other types of resources? Try removing the navigation code from this Fragment and see if it will recognize a String resource."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655075268,"post_id":72596066,"comment_id":128237876,"body_markdown":"even removing the navigation code form this Fragment does nothing....   just looking at the problem a little further though, *none* of the navigation parts are working now.","body":"even removing the navigation code form this Fragment does nothing....   just looking at the problem a little further though, <i>none</i> of the navigation parts are working now."},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655075394,"post_id":72596066,"comment_id":128237894,"body_markdown":"In that case, I&#39;d probably just start a new project and copy everything over (if that&#39;s not too much trouble).","body":"In that case, I&#39;d probably just start a new project and copy everything over (if that&#39;s not too much trouble)."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655075581,"post_id":72596066,"comment_id":128237913,"body_markdown":"It&#39;s a lot to move over, but if I have no other option.. I just cant understand what is causing this, and AS does nothing to point it out really","body":"It&#39;s a lot to move over, but if I have no other option.. I just cant understand what is causing this, and AS does nothing to point it out really"},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655076569,"post_id":72596066,"comment_id":128238012,"body_markdown":"Can you post your navigation graph XML code as well? Just update the OP to include it.","body":"Can you post your navigation graph XML code as well? Just update the OP to include it."},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655078238,"post_id":72596066,"comment_id":128238189,"body_markdown":"updated with the navigation graph XML","body":"updated with the navigation graph XML"},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1655079020,"post_id":72596066,"comment_id":128238263,"body_markdown":"Are you using Safeargs? If so, are you sure that you&#39;ve set it up correctly?","body":"Are you using Safeargs? If so, are you sure that you&#39;ve set it up correctly?"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655079387,"post_id":72596066,"comment_id":128238303,"body_markdown":"yeah I&#39;m using SafeArgs. The app has been working for months now up until today. Nothing has changed with navigation.","body":"yeah I&#39;m using SafeArgs. The app has been working for months now up until today. Nothing has changed with navigation."},{"owner":{"account_id":16875210,"reputation":65,"user_id":12202802,"display_name":"Nick Borisenko"},"score":0,"creation_date":1655095755,"post_id":72596066,"comment_id":128240291,"body_markdown":"sometimes invalidate cache + restart doesn&#39;t work for me either. Try deleting your *generated* `.gradle` and `.idea` folders and rebuild your project","body":"sometimes invalidate cache + restart doesn&#39;t work for me either. Try deleting your <i>generated</i> <code>.gradle</code> and <code>.idea</code> folders and rebuild your project"},{"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"score":0,"creation_date":1655123421,"post_id":72596066,"comment_id":128248630,"body_markdown":"before I delete something by accident here.. how do you know exactly which ones are generated?","body":"before I delete something by accident here.. how do you know exactly which ones are generated?"}],"answers":[{"tags":[],"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675958038,"creation_date":1655126024,"answer_id":72603498,"question_id":72596066,"body_markdown":"The problem seems to be that AS is recommending that people move their package name to build.gradle rather than Android Manifest which is causing a bug in navigation.","title":"&quot;error: package R does not exist&quot; in Navigation after adding Assets folder: Android Studio","body":"<p>The problem seems to be that AS is recommending that people move their package name to build.gradle rather than Android Manifest which is causing a bug in navigation.</p>\n"},{"tags":[],"owner":{"account_id":20002369,"reputation":471,"user_id":14854361,"display_name":"mitua1221"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1655279870,"creation_date":1655279821,"answer_id":72627732,"question_id":72596066,"body_markdown":"Just move package name from build.gradle app level to manifest. \r\n\r\nfrom \r\n\r\n    android  { \r\n        namespace &#39;com.example.app&#39; //remove this\r\n    }\r\n\r\nto \r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.app&quot;&gt; //add this","title":"&quot;error: package R does not exist&quot; in Navigation after adding Assets folder: Android Studio","body":"<p>Just move package name from build.gradle app level to manifest.</p>\n<p>from</p>\n<pre><code>android  { \n    namespace 'com.example.app' //remove this\n}\n</code></pre>\n<p>to</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.app&quot;&gt; //add this\n</code></pre>\n"}],"owner":{"account_id":17680462,"reputation":465,"user_id":12834534,"display_name":"Joe Pleavin"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3509,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":72627732,"answer_count":2,"score":11,"last_activity_date":1675958038,"creation_date":1655069945,"question_id":72596066,"body_markdown":"Since adding an Assets folder to my project I now get:\r\n\r\n    error: package R does not exist\r\n    &quot;return new ActionOnlyNavDirections(R.id.action_newAlarmFragment_to_homeFragment);&quot;\r\n\r\nwhich is from this auto generated code:\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.navigation.ActionOnlyNavDirections;\r\n    import androidx.navigation.NavDirections;\r\n\r\n    public class SetNewAlarmFragmentDirections {\r\n      private SetNewAlarmFragmentDirections() {\r\n      }\r\n\r\n      @NonNull\r\n      public static NavDirections actionNewAlarmFragmentToHomeFragment() {\r\n        return new ActionOnlyNavDirections(R.id.action_newAlarmFragment_to_homeFragment);\r\n      }\r\n    }\r\n\r\nI have tried cleaning and rebuilding the project and tried &quot;Invalidate caches and restart&quot; as suggested in the comments\r\n\r\nLooking through other answered questions here it seems it can be an import of R. somewhere causing this, but I can&#39;t find anything..\r\n\r\nThe NavDirection itself comes from this fragment:\r\n\r\n    import android.os.Bundle\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import android.widget.CompoundButton\r\n    import androidx.fragment.app.Fragment\r\n    import androidx.lifecycle.ViewModelProvider\r\n    import androidx.navigation.Navigation\r\n    import com.pleavinseven.alarmclockproject.alarmmanager.AlarmManager\r\n    import com.pleavinseven.alarmclockproject.data.model.Alarm\r\n    import com.pleavinseven.alarmclockproject.data.viewmodel.AlarmViewModel\r\n    import com.pleavinseven.alarmclockproject.databinding.FragmentSetNewAlarmBinding\r\n    import com.pleavinseven.alarmclockproject.util.TimePickerUtil\r\n    import java.util.*\r\n\r\n\r\n    class SetNewAlarmFragment : Fragment() {\r\n \r\n        private val timePickerUtil = TimePickerUtil()\r\n        lateinit var binding: FragmentSetNewAlarmBinding\r\n        private lateinit var alarmViewModel: AlarmViewModel\r\n\r\n\r\n        override fun onCreateView(\r\n            inflater: LayoutInflater, container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View {\r\n\r\n            binding = FragmentSetNewAlarmBinding.inflate(inflater, container, false)\r\n\r\n               binding.fragmentCreateAlarmRecurring.setOnCheckedChangeListener(CompoundButton.OnCheckedChangeListener { _, isChecked -&gt;\r\n            if (isChecked) {\r\n                binding.fragmentCreateAlarmRecurring.visibility = View.VISIBLE\r\n            } else {\r\n                binding.fragmentCreateAlarmRecurring.visibility = View.GONE\r\n            }\r\n        })\r\n\r\n        alarmViewModel = ViewModelProvider(this)[AlarmViewModel::class.java]\r\n\r\n\r\n        binding.fragmentBtnSetAlarm.setOnClickListener(View.OnClickListener { _ -&gt;\r\n            scheduleAlarm()\r\n            Navigation.findNavController(requireView())\r\n                .navigate(com.pleavinseven.alarmclockproject.R.id.action_newAlarmFragment_to_homeFragment)\r\n        })\r\n        return binding.root\r\n\r\n\r\n    }\r\n\r\nnav xml:\r\n\r\n    ?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/alarm_nav&quot;\r\n    app:startDestination=&quot;@id/homeFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/homeFragment&quot;\r\n         android:name=&quot;com.pleavinseven.alarmclockproject.fragments.HomeFragment&quot;\r\n        android:label=&quot;fragment_home&quot;\r\n        tools:layout=&quot;@layout/fragment_home&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_homeFragment_to_newAlarmFragment&quot;\r\n            app:destination=&quot;@id/newAlarmFragment&quot; /&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_homeFragment_to_updateFragment&quot;\r\n            app:destination=&quot;@id/updateFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/newAlarmFragment&quot;\r\n        android:name=&quot;com.pleavinseven.alarmclockproject.fragments.SetNewAlarmFragment&quot;\r\n        android:label=&quot;NewAlarmFragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_newAlarmFragment_to_homeFragment&quot;\r\n            app:destination=&quot;@id/homeFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/updateFragment&quot;\r\n        android:name=&quot;com.pleavinseven.alarmclockproject.fragments.UpdateFragment&quot;\r\n        android:label=&quot;UpdateFragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_updateFragment_to_homeFragment&quot;\r\n            app:destination=&quot;@id/homeFragment&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;currentAlarm&quot;\r\n            app:argType=&quot;com.pleavinseven.alarmclockproject.data.model.Alarm&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n&lt;/navigation&gt;","title":"&quot;error: package R does not exist&quot; in Navigation after adding Assets folder: Android Studio","body":"<p>Since adding an Assets folder to my project I now get:</p>\n<pre><code>error: package R does not exist\n&quot;return new ActionOnlyNavDirections(R.id.action_newAlarmFragment_to_homeFragment);&quot;\n</code></pre>\n<p>which is from this auto generated code:</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.navigation.ActionOnlyNavDirections;\nimport androidx.navigation.NavDirections;\n\npublic class SetNewAlarmFragmentDirections {\n  private SetNewAlarmFragmentDirections() {\n  }\n\n  @NonNull\n  public static NavDirections actionNewAlarmFragmentToHomeFragment() {\n    return new ActionOnlyNavDirections(R.id.action_newAlarmFragment_to_homeFragment);\n  }\n}\n</code></pre>\n<p>I have tried cleaning and rebuilding the project and tried &quot;Invalidate caches and restart&quot; as suggested in the comments</p>\n<p>Looking through other answered questions here it seems it can be an import of R. somewhere causing this, but I can't find anything..</p>\n<p>The NavDirection itself comes from this fragment:</p>\n<pre><code>import android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.CompoundButton\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.ViewModelProvider\nimport androidx.navigation.Navigation\nimport com.pleavinseven.alarmclockproject.alarmmanager.AlarmManager\nimport com.pleavinseven.alarmclockproject.data.model.Alarm\nimport com.pleavinseven.alarmclockproject.data.viewmodel.AlarmViewModel\nimport com.pleavinseven.alarmclockproject.databinding.FragmentSetNewAlarmBinding\nimport com.pleavinseven.alarmclockproject.util.TimePickerUtil\nimport java.util.*\n\n\nclass SetNewAlarmFragment : Fragment() {\n\n    private val timePickerUtil = TimePickerUtil()\n    lateinit var binding: FragmentSetNewAlarmBinding\n    private lateinit var alarmViewModel: AlarmViewModel\n\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n\n        binding = FragmentSetNewAlarmBinding.inflate(inflater, container, false)\n\n           binding.fragmentCreateAlarmRecurring.setOnCheckedChangeListener(CompoundButton.OnCheckedChangeListener { _, isChecked -&gt;\n        if (isChecked) {\n            binding.fragmentCreateAlarmRecurring.visibility = View.VISIBLE\n        } else {\n            binding.fragmentCreateAlarmRecurring.visibility = View.GONE\n        }\n    })\n\n    alarmViewModel = ViewModelProvider(this)[AlarmViewModel::class.java]\n\n\n    binding.fragmentBtnSetAlarm.setOnClickListener(View.OnClickListener { _ -&gt;\n        scheduleAlarm()\n        Navigation.findNavController(requireView())\n            .navigate(com.pleavinseven.alarmclockproject.R.id.action_newAlarmFragment_to_homeFragment)\n    })\n    return binding.root\n\n\n}\n</code></pre>\n<p>nav xml:</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/alarm_nav&quot;\napp:startDestination=&quot;@id/homeFragment&quot;&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/homeFragment&quot;\n     android:name=&quot;com.pleavinseven.alarmclockproject.fragments.HomeFragment&quot;\n    android:label=&quot;fragment_home&quot;\n    tools:layout=&quot;@layout/fragment_home&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_homeFragment_to_newAlarmFragment&quot;\n        app:destination=&quot;@id/newAlarmFragment&quot; /&gt;\n    &lt;action\n        android:id=&quot;@+id/action_homeFragment_to_updateFragment&quot;\n        app:destination=&quot;@id/updateFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/newAlarmFragment&quot;\n    android:name=&quot;com.pleavinseven.alarmclockproject.fragments.SetNewAlarmFragment&quot;\n    android:label=&quot;NewAlarmFragment&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_newAlarmFragment_to_homeFragment&quot;\n        app:destination=&quot;@id/homeFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/updateFragment&quot;\n    android:name=&quot;com.pleavinseven.alarmclockproject.fragments.UpdateFragment&quot;\n    android:label=&quot;UpdateFragment&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_updateFragment_to_homeFragment&quot;\n        app:destination=&quot;@id/homeFragment&quot; /&gt;\n    &lt;argument\n        android:name=&quot;currentAlarm&quot;\n        app:argType=&quot;com.pleavinseven.alarmclockproject.data.model.Alarm&quot; /&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n"},{"tags":["java","tomcat","oracle19c","ojdbc"],"comments":[{"owner":{"account_id":6242120,"reputation":642,"user_id":4855385,"display_name":"Douglas Surber"},"score":0,"creation_date":1676387889,"post_id":75401125,"comment_id":133124435,"body_markdown":"The error is occurring in com.mchange.v2.c3p0.DriverManagerDataSource.ensureDriverLoaded(DriverManagerDataSource.java:112) which is not Oracle Database JDBC code. This is c3po Connection Pool code. You probably need to redirect your question to a different audience.","body":"The error is occurring in com.mchange.v2.c3p0.DriverManagerDataSource.ensureDriverLoad&zwnj;&#8203;ed(DriverManagerData&zwnj;&#8203;Source.java:112) which is not Oracle Database JDBC code. This is c3po Connection Pool code. You probably need to redirect your question to a different audience."}],"owner":{"account_id":24470683,"reputation":1,"user_id":18390469,"display_name":"TheMonk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675957957,"creation_date":1675957957,"question_id":75401125,"body_markdown":"I am using tomcat 9.0.55 JDK 1.8.191 OJDBC8 and Oracle Database 19c. I am getting this error for my rest webservice application during start.\r\n\r\n```\r\norg.apache.catalina.startup.Catalina.start Server startup in \\[2023\\] milliseconds\r\n\r\n\\[C3P0PooledConnectionPoolManager\\[identityToken-\\&gt;2rzigjauf43gfsagsnkc|60762137\\]-HelperThread-#2\\] oracle.jdbc.driver.OracleDriver.registerMBeans Error while registering Oracle JDBC Diagnosability MBean.\r\njavax.management.MalformedObjectNameException: Invalid character &#39;\\\\n&#39; in value part of property\r\nat javax.management.ObjectName.construct(ObjectName.java:618)\r\nat javax.management.ObjectName.\\&lt;init\\&gt;(ObjectName.java:1382)\r\nat oracle.jdbc.driver.OracleDriver.registerMBeans(OracleDriver.java:303)\r\nat oracle.jdbc.driver.OracleDriver$1.run(OracleDriver.java:213)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat oracle.jdbc.driver.OracleDriver.\\&lt;clinit\\&gt;(OracleDriver.java:209)\r\nat java.lang.Class.forName0(Native Method)\r\nat java.lang.Class.forName(Class.java:264)\r\nat com.mchange.v2.c3p0.DriverManagerDataSource.ensureDriverLoaded(DriverManagerDataSource.java:112)\r\n\r\n```\r\nThere should not be any error","title":"Getting oracle.jdbc.driver.OracleDriver.registerMBeans Error while registering Oracle JDBC Diagnosability MBean","body":"<p>I am using tomcat 9.0.55 JDK 1.8.191 OJDBC8 and Oracle Database 19c. I am getting this error for my rest webservice application during start.</p>\n<pre><code>org.apache.catalina.startup.Catalina.start Server startup in \\[2023\\] milliseconds\n\n\\[C3P0PooledConnectionPoolManager\\[identityToken-\\&gt;2rzigjauf43gfsagsnkc|60762137\\]-HelperThread-#2\\] oracle.jdbc.driver.OracleDriver.registerMBeans Error while registering Oracle JDBC Diagnosability MBean.\njavax.management.MalformedObjectNameException: Invalid character '\\\\n' in value part of property\nat javax.management.ObjectName.construct(ObjectName.java:618)\nat javax.management.ObjectName.\\&lt;init\\&gt;(ObjectName.java:1382)\nat oracle.jdbc.driver.OracleDriver.registerMBeans(OracleDriver.java:303)\nat oracle.jdbc.driver.OracleDriver$1.run(OracleDriver.java:213)\nat java.security.AccessController.doPrivileged(Native Method)\nat oracle.jdbc.driver.OracleDriver.\\&lt;clinit\\&gt;(OracleDriver.java:209)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:264)\nat com.mchange.v2.c3p0.DriverManagerDataSource.ensureDriverLoaded(DriverManagerDataSource.java:112)\n\n</code></pre>\n<p>There should not be any error</p>\n"},{"tags":["java","c#","redirect","networking","load-balancing"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1342353602,"post_id":11491416,"comment_id":15178622,"body_markdown":"Why do they reject you?  Just fix that.","body":"Why do they reject you?  Just fix that."},{"owner":{"account_id":385817,"reputation":4453,"user_id":743203,"accept_rate":78,"display_name":"David Moreno Garc&#237;a"},"score":0,"creation_date":1342354212,"post_id":11491416,"comment_id":15178734,"body_markdown":"API requests. Too many request -&gt; IP rejected. Something like Twitter and their rate limit.","body":"API requests. Too many request -&gt; IP rejected. Something like Twitter and their rate limit."}],"answers":[{"tags":[],"owner":{"account_id":473821,"reputation":9665,"user_id":883141,"accept_rate":94,"display_name":"John Mitchell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1342351267,"creation_date":1342351267,"answer_id":11491447,"question_id":11491416,"body_markdown":"I think you are reinventing the wheel a little, what your describing is just a load balancer in sticky session/sticky IP mode. \r\n\r\nThere&#39;s a few [open][1] [source][2] [projects][3] [that][4] will do what you are looking for. (Each word is a link there)\r\n\r\nPersonally I&#39;d suggest the [LVS Project][3]\r\n\r\n[1]:http://www.apsis.ch/pound/\r\n[2]:https://github.com/brunodecarvalho/malabarista\r\n[3]:http://www.linux-vs.org/\r\n[4]:http://www.linux-ha.org/","title":"Redirect and balance Java output traffic","body":"<p>I think you are reinventing the wheel a little, what your describing is just a load balancer in sticky session/sticky IP mode. </p>\n\n<p>There's a few <a href=\"http://www.apsis.ch/pound/\" rel=\"nofollow\">open</a> <a href=\"https://github.com/brunodecarvalho/malabarista\" rel=\"nofollow\">source</a> <a href=\"http://www.linux-vs.org/\" rel=\"nofollow\">projects</a> <a href=\"http://www.linux-ha.org/\" rel=\"nofollow\">that</a> will do what you are looking for. (Each word is a link there)</p>\n\n<p>Personally I'd suggest the <a href=\"http://www.linux-vs.org/\" rel=\"nofollow\">LVS Project</a></p>\n"}],"owner":{"account_id":385817,"reputation":4453,"user_id":743203,"accept_rate":78,"display_name":"David Moreno Garc&#237;a"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11491447,"answer_count":1,"score":0,"last_activity_date":1675957723,"creation_date":1342351008,"question_id":11491416,"body_markdown":"I have a client that make requests to different servers. Sometimes this servers rejects requests from my IP so I need to change it (I have a few public IPs). I also need to change my IP to make geolocalizated request. I&#39;m trying to make a balance server to redirect the client traffic through different server and to keep a log of IPs being rejected. This is what I have in mind:\r\n\r\n![Balance server][1]\r\n\r\nThere would be clients in different networks with different instances of the client. This instances request an output server to the balancer and then all the traffic of clients is redirected through this servers. Output servers could make a connection with the balancer with sockets to say something like &quot;Ey, I&#39;m here. You can use me!&quot;. Here I have a silly activity diagram (full of mistakes probably):\r\n![Activity diagram][2]\r\n\r\nIs there a simplest way to do this? Maybe I&#39;m reinventing the wheel. If is a good solution, is if possible to do this with Java/C#? How could I redirect the traffic?\r\n\r\n  [1]: http://i.stack.imgur.com/RN4pf.png\r\n  [2]: http://i.stack.imgur.com/owsQL.png","title":"Redirect and balance Java output traffic","body":"<p>I have a client that make requests to different servers. Sometimes this servers rejects requests from my IP so I need to change it (I have a few public IPs). I also need to change my IP to make geolocalizated request. I'm trying to make a balance server to redirect the client traffic through different server and to keep a log of IPs being rejected. This is what I have in mind:</p>\n\n<p><img src=\"https://i.stack.imgur.com/RN4pf.png\" alt=\"Balance server\"></p>\n\n<p>There would be clients in different networks with different instances of the client. This instances request an output server to the balancer and then all the traffic of clients is redirected through this servers. Output servers could make a connection with the balancer with sockets to say something like \"Ey, I'm here. You can use me!\". Here I have a silly activity diagram (full of mistakes probably):\n<img src=\"https://i.stack.imgur.com/owsQL.png\" alt=\"Activity diagram\"></p>\n\n<p>Is there a simplest way to do this? Maybe I'm reinventing the wheel. If is a good solution, is if possible to do this with Java/C#? How could I redirect the traffic?</p>\n"},{"tags":["java","rx-java3"],"owner":{"account_id":24580690,"reputation":33,"user_id":18485872,"display_name":"Iam Me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675957715,"creation_date":1675957715,"question_id":75401081,"body_markdown":"I&#39;m new to RxJava, using RxJava 3 to return a response that contains a dynamic number of urls that I then need to make GET requests to and then add those responses to a list that is to be observed by the ui. Since the number of urls returned is unknown, I&#39;m unsure how to go about this. I tried populating a list with the urls and then looping through them  - not the right way to go about it &amp; did not work:\r\n\r\n   \r\n\r\n        public void getSection() {\r\n                disposables.add(repository.getContent()\r\n                        .subscribeOn(Schedulers.io())\r\n                        .map(new Function&lt;Content, List&lt;Section&gt;&gt;() {\r\n                            @Override\r\n                            public List&lt;Section&gt; apply(Content content) throws Throwable {\r\n                                return content.getContent().getSections().stream().filter(live -&gt; live.getSectionType().equals(&quot;shows&quot;)).collect(Collectors.toList());\r\n                            }\r\n                        })\r\n                        .observeOn(AndroidSchedulers.mainThread())\r\n                        .subscribeWith(new DisposableObserver&lt;List&lt;Section&gt;&gt;() {\r\n                            @Override \r\n                            public void onNext(@NonNull List&lt;Section&gt; sections) {\r\n                                contentSourcesURIs = new ArrayList&lt;&gt;();\r\n                                for (int i = 0; i &lt; sections.get(0).getContent().get(0).getContent().size(); i++) {\r\n                                    contentSourcesURIs.add(sections.get(0).getContent().get(0).getContent().get(i).getSource().getUri());\r\n                                }\r\n                                sectionList.postValue(sections);\r\n                            }\r\n        \r\n                            @Override\r\n                            public void onError(@NonNull Throwable e) {\r\n                                Log.e(TAG, &quot;getSection: &quot; + e.getMessage());\r\n                            }\r\n        \r\n                            @Override\r\n                            public void onComplete() {\r\n                                System.out.println(Thread.currentThread());\r\n                                for(int i = 0; i &lt; contentSourcesURIs.size(); i++){\r\n                                    getVideoContent(Collections.singletonList(contentSourcesURIs.get(i)));\r\n                                }\r\n        \r\n                            }\r\n                        }));\r\n            }\r\n    \r\n    public void getVideoContent(List&lt;String&gt; contentSourcesURIs) {\r\n        for (int i = 0; i &lt; contentSourcesURIs.size(); i++) {\r\n            getVideosContent(contentSourcesURIs.get(i));\r\n        }\r\n    }\r\n    \r\n    public void getVideosContent(String contentSourcesURI) {\r\n        String authHeader = URL.POLICY_KEY;\r\n        disposables.add(repository.getVideosPlaylistContent(authHeader, contentSourcesURI)\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribeWith(new DisposableObserver&lt;Video&gt;() {\r\n    \r\n    \r\n                    @Override\r\n                    public void onNext(@NonNull Video video) {\r\n                        videosList.add(video);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onError(@NonNull Throwable e) {\r\n                        Log.e(TAG, &quot;getVideosContent: &quot; + e.getMessage());\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onComplete() {\r\n                        videoPlaylist.postValue(videosList);\r\n                    }\r\n                }));\r\n    }\r\n\r\nIs it possible to use RxJava to achieve what I&#39;m trying to do? Thanks in advance!","title":"RxJava - how to make dynamic api calls &amp; add responses to list","body":"<p>I'm new to RxJava, using RxJava 3 to return a response that contains a dynamic number of urls that I then need to make GET requests to and then add those responses to a list that is to be observed by the ui. Since the number of urls returned is unknown, I'm unsure how to go about this. I tried populating a list with the urls and then looping through them  - not the right way to go about it &amp; did not work:</p>\n<pre><code>    public void getSection() {\n            disposables.add(repository.getContent()\n                    .subscribeOn(Schedulers.io())\n                    .map(new Function&lt;Content, List&lt;Section&gt;&gt;() {\n                        @Override\n                        public List&lt;Section&gt; apply(Content content) throws Throwable {\n                            return content.getContent().getSections().stream().filter(live -&gt; live.getSectionType().equals(&quot;shows&quot;)).collect(Collectors.toList());\n                        }\n                    })\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeWith(new DisposableObserver&lt;List&lt;Section&gt;&gt;() {\n                        @Override \n                        public void onNext(@NonNull List&lt;Section&gt; sections) {\n                            contentSourcesURIs = new ArrayList&lt;&gt;();\n                            for (int i = 0; i &lt; sections.get(0).getContent().get(0).getContent().size(); i++) {\n                                contentSourcesURIs.add(sections.get(0).getContent().get(0).getContent().get(i).getSource().getUri());\n                            }\n                            sectionList.postValue(sections);\n                        }\n    \n                        @Override\n                        public void onError(@NonNull Throwable e) {\n                            Log.e(TAG, &quot;getSection: &quot; + e.getMessage());\n                        }\n    \n                        @Override\n                        public void onComplete() {\n                            System.out.println(Thread.currentThread());\n                            for(int i = 0; i &lt; contentSourcesURIs.size(); i++){\n                                getVideoContent(Collections.singletonList(contentSourcesURIs.get(i)));\n                            }\n    \n                        }\n                    }));\n        }\n\npublic void getVideoContent(List&lt;String&gt; contentSourcesURIs) {\n    for (int i = 0; i &lt; contentSourcesURIs.size(); i++) {\n        getVideosContent(contentSourcesURIs.get(i));\n    }\n}\n\npublic void getVideosContent(String contentSourcesURI) {\n    String authHeader = URL.POLICY_KEY;\n    disposables.add(repository.getVideosPlaylistContent(authHeader, contentSourcesURI)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(new DisposableObserver&lt;Video&gt;() {\n\n\n                @Override\n                public void onNext(@NonNull Video video) {\n                    videosList.add(video);\n                }\n\n                @Override\n                public void onError(@NonNull Throwable e) {\n                    Log.e(TAG, &quot;getVideosContent: &quot; + e.getMessage());\n                }\n\n                @Override\n                public void onComplete() {\n                    videoPlaylist.postValue(videosList);\n                }\n            }));\n}\n</code></pre>\n<p>Is it possible to use RxJava to achieve what I'm trying to do? Thanks in advance!</p>\n"},{"tags":["java","mysql","hibernate","jpa","jpa-2.0"],"answers":[{"tags":[],"owner":{"account_id":62054,"reputation":22899,"user_id":184581,"accept_rate":62,"display_name":"Mike Q"},"down_vote_count":1,"up_vote_count":49,"is_accepted":true,"score":48,"last_activity_date":1344880581,"creation_date":1280690538,"answer_id":3383403,"question_id":3383169,"body_markdown":"Try the `NumericBooleanType`. For some reason this doesn&#39;t have a declared short type name so you&#39;d have to use:\r\n\r\n    @Column(nullable = false)\r\n    @Type(type = &quot;org.hibernate.type.NumericBooleanType&quot;)\r\n    private boolean enabled;\r\n\r\nThis does map to an INTEGER type but it will probably work fine with a TINYINT.\r\n\r\nUPDATE: `org.hibernate.type.NumericBooleanType` Does _not_ work with TINYINT in some RDBMS. Switch the database column type to INTEGER. Or use a different Java @Type value, or columnDefinition, as appropriate.\r\n\r\nIn this example, Dude&#39;s answer of `@Column(nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)` would work without any database changes.","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>Try the <code>NumericBooleanType</code>. For some reason this doesn't have a declared short type name so you'd have to use:</p>\n\n<pre><code>@Column(nullable = false)\n@Type(type = \"org.hibernate.type.NumericBooleanType\")\nprivate boolean enabled;\n</code></pre>\n\n<p>This does map to an INTEGER type but it will probably work fine with a TINYINT.</p>\n\n<p>UPDATE: <code>org.hibernate.type.NumericBooleanType</code> Does <em>not</em> work with TINYINT in some RDBMS. Switch the database column type to INTEGER. Or use a different Java @Type value, or columnDefinition, as appropriate.</p>\n\n<p>In this example, Dude's answer of <code>@Column(nullable = false, columnDefinition = \"TINYINT(1)\")</code> would work without any database changes.</p>\n"},{"tags":[],"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1411654750,"creation_date":1334826405,"answer_id":10224905,"question_id":3383169,"body_markdown":"@Type annotation is an Hibernate annotation.\r\n\r\nIn full JPA2 (with **Hibernate 3.6+**), the way to map a Boolean field to a TINYINT(1) SQL type instead of BIT(1), is to use the columnDefinition attribute.\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\r\n    private boolean enabled;\r\n\r\nnb: length attribute seems to have no effect in this case, then we use (1) syntax.\r\n\r\n----------\r\n\r\nWith **Hibernate 4.0+**, this kind of syntax can cause an runtime error like this :\r\n\r\n    Wrong column type Found: bit, expected: TINYINT(1)\r\n\r\nIt seems that in this case, your only way is to use **tinyInt1isBit=false** in the MySQL datasource connection string like this :\r\n\r\n    jdbc:mysql://server_host:3306/database?tinyInt1isBit=false\r\n\r\nBy the way, you can now use the length attribute like this :\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;TINYINT&quot;, length = 1)\r\n    private boolean enabled;\r\n","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>@Type annotation is an Hibernate annotation.</p>\n\n<p>In full JPA2 (with <strong>Hibernate 3.6+</strong>), the way to map a Boolean field to a TINYINT(1) SQL type instead of BIT(1), is to use the columnDefinition attribute.</p>\n\n<pre><code>@Column(nullable = false, columnDefinition = \"TINYINT(1)\")\nprivate boolean enabled;\n</code></pre>\n\n<p>nb: length attribute seems to have no effect in this case, then we use (1) syntax.</p>\n\n<hr>\n\n<p>With <strong>Hibernate 4.0+</strong>, this kind of syntax can cause an runtime error like this :</p>\n\n<pre><code>Wrong column type Found: bit, expected: TINYINT(1)\n</code></pre>\n\n<p>It seems that in this case, your only way is to use <strong>tinyInt1isBit=false</strong> in the MySQL datasource connection string like this :</p>\n\n<pre><code>jdbc:mysql://server_host:3306/database?tinyInt1isBit=false\n</code></pre>\n\n<p>By the way, you can now use the length attribute like this :</p>\n\n<pre><code>@Column(nullable = false, columnDefinition = \"TINYINT\", length = 1)\nprivate boolean enabled;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3338471,"reputation":54,"user_id":2805306,"display_name":"marioarranzr"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1471634106,"creation_date":1438860587,"answer_id":31854621,"question_id":3383169,"body_markdown":"I had this error:\r\n\r\n    \r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;sessionFactory&#39; defined in\r\n&gt; ServletContext resource [/WEB-INF/config/context-config.xml]:\r\n&gt; Invocation of init method failed; nested exception is\r\n&gt; org.hibernate.MappingException: Could not determine type for:\r\n&gt; org.hibernate.type.NumericBooleanType, at table: bookingItem, for\r\n&gt; columns: [org.hibernate.mapping.Column(enabled)]\r\n\r\n\r\nAnd this worked for me:\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;TINYINT(1)&quot;)\r\n    private boolean enabled;","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>I had this error:</p>\n\n<blockquote>\n  <p>Caused by: org.springframework.beans.factory.BeanCreationException:\n  Error creating bean with name 'sessionFactory' defined in\n  ServletContext resource [/WEB-INF/config/context-config.xml]:\n  Invocation of init method failed; nested exception is\n  org.hibernate.MappingException: Could not determine type for:\n  org.hibernate.type.NumericBooleanType, at table: bookingItem, for\n  columns: [org.hibernate.mapping.Column(enabled)]</p>\n</blockquote>\n\n<p>And this worked for me:</p>\n\n<pre><code>@Column(nullable = false, columnDefinition = \"TINYINT(1)\")\nprivate boolean enabled;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2896891,"reputation":161,"user_id":2484452,"display_name":"Annulet Consulting"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1511655049,"creation_date":1511655049,"answer_id":47491783,"question_id":3383169,"body_markdown":"I&#39;m using JPA with Spring Data/Hibernate 5.0 on a MySQL database.\r\n\r\nIn my Entity object, I put the following:\r\n\r\n    @Column(name = &quot;column_name&quot;, columnDefinition = &quot;BOOLEAN&quot;)\r\n    private Boolean variableName;\r\n\r\nMy dev environment has hibernate auto-ddl set to update, so when I deployed to dev, it created the table with column_name of type tinyint(1).\r\n\r\nMy code that uses this column considers null as false, so I&#39;m not worried about nulls, if you are, you could make it a primitive boolean or add &quot;, nullable = false&quot; to the Column annotation.\r\n\r\nThis solution is fully JPA (doesn&#39;t use hibernate Type annotation) and requires no change to the connection string.","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>I'm using JPA with Spring Data/Hibernate 5.0 on a MySQL database.</p>\n\n<p>In my Entity object, I put the following:</p>\n\n<pre><code>@Column(name = \"column_name\", columnDefinition = \"BOOLEAN\")\nprivate Boolean variableName;\n</code></pre>\n\n<p>My dev environment has hibernate auto-ddl set to update, so when I deployed to dev, it created the table with column_name of type tinyint(1).</p>\n\n<p>My code that uses this column considers null as false, so I'm not worried about nulls, if you are, you could make it a primitive boolean or add \", nullable = false\" to the Column annotation.</p>\n\n<p>This solution is fully JPA (doesn't use hibernate Type annotation) and requires no change to the connection string.</p>\n"},{"tags":[],"owner":{"account_id":4823943,"reputation":1398,"user_id":3893875,"accept_rate":100,"display_name":"Nox"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1555425795,"creation_date":1555425795,"answer_id":55710867,"question_id":3383169,"body_markdown":"When using Microsoft sql and some versions of mysql use the following:\r\n\r\n    @Column(name = &quot;eanbled&quot;, columnDefinition = &quot;bit default 0&quot;, nullable = false)\r\n\tprivate boolean enabled;\r\n\r\nFor me, tinybit, boolean, and other such definitions failed.","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>When using Microsoft sql and some versions of mysql use the following:</p>\n\n<pre><code>@Column(name = \"eanbled\", columnDefinition = \"bit default 0\", nullable = false)\nprivate boolean enabled;\n</code></pre>\n\n<p>For me, tinybit, boolean, and other such definitions failed.</p>\n"},{"tags":[],"owner":{"account_id":157528,"reputation":7454,"user_id":375551,"accept_rate":66,"display_name":"Muneer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589707247,"creation_date":1589707247,"answer_id":61849519,"question_id":3383169,"body_markdown":"Old question but probably will save someone&#39;s time. \r\n\r\nI am using Spring Data JPA 2.2.5. I had a similar issue when I work with MySQL and MariadDB parallelly with the same code base. It worked on one and didn&#39;t on another.\r\n\r\nThe issue was, I was creating the field as unsigned.\r\n\r\nI moved the below SQL part from\r\n\r\n    `is_fixed` TINYINT(1) UNSIGNED NOT NULL DEFAULT &#39;0&#39;,\r\n\r\nto the below\r\n\r\n    `is_fixed` TINYINT(1) NOT NULL DEFAULT &#39;0&#39;,\r\n\r\nthis fixed the issue and was working in both Mysql and MariaDB without any issue...","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>Old question but probably will save someone's time. </p>\n\n<p>I am using Spring Data JPA 2.2.5. I had a similar issue when I work with MySQL and MariadDB parallelly with the same code base. It worked on one and didn't on another.</p>\n\n<p>The issue was, I was creating the field as unsigned.</p>\n\n<p>I moved the below SQL part from</p>\n\n<pre><code>`is_fixed` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0',\n</code></pre>\n\n<p>to the below</p>\n\n<pre><code>`is_fixed` TINYINT(1) NOT NULL DEFAULT '0',\n</code></pre>\n\n<p>this fixed the issue and was working in both Mysql and MariaDB without any issue...</p>\n"}],"owner":{"account_id":99208,"reputation":9643,"user_id":268098,"accept_rate":86,"display_name":"Ta Sas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124449,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":3383403,"answer_count":6,"score":61,"last_activity_date":1675957607,"creation_date":1280686332,"question_id":3383169,"body_markdown":"Here is my JPA2 / Hibernate definition:\r\n\r\n\r\n    @Column(nullable = false)\r\n    private boolean enabled;\r\n\r\n\r\nIn MySql this column is resolved to a bit(1) datatype - which does not work for me. For legacy issues I need to map the boolean to a tinyint not to a bit. But I do not see a possibility to change the default datatype. Is there any?","title":"Hibernate JPA, MySQL and TinyInt(1) for Boolean instead of bit or char","body":"<p>Here is my JPA2 / Hibernate definition:</p>\n<pre><code>@Column(nullable = false)\nprivate boolean enabled;\n</code></pre>\n<p>In MySql this column is resolved to a bit(1) datatype - which does not work for me. For legacy issues I need to map the boolean to a tinyint not to a bit. But I do not see a possibility to change the default datatype. Is there any?</p>\n"},{"tags":["java","finance","amortization"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":2,"creation_date":1475185997,"post_id":39780607,"comment_id":66855383,"body_markdown":"Why on earth are you trying to define 3 scanners in the first place if you want to read from `System.in` for all your input?","body":"Why on earth are you trying to define 3 scanners in the first place if you want to read from <code>System.in</code> for all your input?"},{"owner":{"account_id":50136,"reputation":12338,"user_id":149428,"accept_rate":60,"display_name":"Taylor D. Edmiston"},"score":0,"creation_date":1475194541,"post_id":39780607,"comment_id":66857764,"body_markdown":"You can define one scanner, then read from it three times into your desired variables.","body":"You can define one scanner, then read from it three times into your desired variables."}],"answers":[{"tags":[],"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475186064,"creation_date":1475186064,"answer_id":39780631,"question_id":39780607,"body_markdown":"You should not declare 3 scanners to read from the standard input. Declare one and just keep reading from it. Like this:\r\n\r\n    import java.util.Scanner;\r\n    public class Amortization{\r\n       public static void main(String []args){\r\n          Scanner input = new Scanner(System.in);\r\n          System.out.println(&quot;What is your balance?&quot;);\r\n          double b = input.nextDouble();\r\n          System.out.println(&quot;What is your interest rate in decimal?&quot;);\r\n          double i = input.nextDouble();\r\n          System.out.println(&quot;What is your monthly payment?&quot;);\r\n          double p = input.nextDouble();\r\n          double pv = p-(b*i);\r\n          System.out.println(&quot;Your interest amount is &quot; + (b*i));\r\n          System.out.println(&quot;Your principal amount is &quot; + pv);\r\n          System.out.println(&quot;Your new balance is &quot; + (b-pv));\r\n       }\r\n    }\r\n\r\nThe main point here is that a scanner is the object that reads from an input stream, not the value being read. You don&#39;t need a new scanner for every value you want to read.","title":"Java compiler is telling me I have not initiated variable &quot;interest&quot; or &quot;pmt&quot;","body":"<p>You should not declare 3 scanners to read from the standard input. Declare one and just keep reading from it. Like this:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Amortization{\n   public static void main(String []args){\n      Scanner input = new Scanner(System.in);\n      System.out.println(\"What is your balance?\");\n      double b = input.nextDouble();\n      System.out.println(\"What is your interest rate in decimal?\");\n      double i = input.nextDouble();\n      System.out.println(\"What is your monthly payment?\");\n      double p = input.nextDouble();\n      double pv = p-(b*i);\n      System.out.println(\"Your interest amount is \" + (b*i));\n      System.out.println(\"Your principal amount is \" + pv);\n      System.out.println(\"Your new balance is \" + (b-pv));\n   }\n}\n</code></pre>\n\n<p>The main point here is that a scanner is the object that reads from an input stream, not the value being read. You don't need a new scanner for every value you want to read.</p>\n"},{"tags":[],"owner":{"account_id":1651202,"reputation":1844,"user_id":1670134,"accept_rate":25,"display_name":"sirandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475190042,"creation_date":1475190042,"answer_id":39781303,"question_id":39780607,"body_markdown":"As @nhouser9 says, you don&#39;t need three scanners and answering your question the compiler says that the variables are not initialized because you are only initializing the last of them (balance). Multiple initializing in java won&#39;t functions as you expected (initialize all the variables with the same value).","title":"Java compiler is telling me I have not initiated variable &quot;interest&quot; or &quot;pmt&quot;","body":"<p>As @nhouser9 says, you don't need three scanners and answering your question the compiler says that the variables are not initialized because you are only initializing the last of them (balance). Multiple initializing in java won't functions as you expected (initialize all the variables with the same value).</p>\n"}],"owner":{"account_id":4411442,"reputation":365,"user_id":5420339,"accept_rate":62,"display_name":"user147219"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675957539,"creation_date":1475185936,"question_id":39780607,"body_markdown":"I am trying to program an amortization calculator in which the user can enter a value for balance, a value for their interest rate in decimal form, and a value for monthly payment. With this information I want to output an interest amount in dollars, a principal amount, and a new balance. Here is my code:\r\n\r\n    import java.util.Scanner;\r\n    public class Amortization{\r\n       public static void main(String []args){\r\n          Scanner pmt, interest, balance = new Scanner(System.in);\r\n          System.out.println(&quot;What is your balance?&quot;);\r\n          double b = balance.nextDouble();\r\n          System.out.println(&quot;What is your interest rate in decimal?&quot;);\r\n          double i = interest.nextDouble();\r\n          System.out.println(&quot;What is your monthly payment?&quot;);\r\n          double p = pmt.nextDouble();\r\n          double pv = p-(b*i);\r\n          System.out.println(&quot;Your interest amount is &quot; + (b*i));\r\n          System.out.println(&quot;Your principal amount is &quot; + pv);\r\n          System.out.println(&quot;Your new balance is &quot; + (b-pv));\r\n       }\r\n    }","title":"Java compiler is telling me I have not initiated variable &quot;interest&quot; or &quot;pmt&quot;","body":"<p>I am trying to program an amortization calculator in which the user can enter a value for balance, a value for their interest rate in decimal form, and a value for monthly payment. With this information I want to output an interest amount in dollars, a principal amount, and a new balance. Here is my code:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Amortization{\n   public static void main(String []args){\n      Scanner pmt, interest, balance = new Scanner(System.in);\n      System.out.println(\"What is your balance?\");\n      double b = balance.nextDouble();\n      System.out.println(\"What is your interest rate in decimal?\");\n      double i = interest.nextDouble();\n      System.out.println(\"What is your monthly payment?\");\n      double p = pmt.nextDouble();\n      double pv = p-(b*i);\n      System.out.println(\"Your interest amount is \" + (b*i));\n      System.out.println(\"Your principal amount is \" + pv);\n      System.out.println(\"Your new balance is \" + (b-pv));\n   }\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","web.xml","eclipse-wtp"],"comments":[{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":0,"creation_date":1400658352,"post_id":23773283,"comment_id":36565340,"body_markdown":"Exactly where did you add those &lt;WatchedResource&gt; elements?","body":"Exactly where did you add those &lt;WatchedResource&gt; elements?"},{"owner":{"account_id":4500213,"reputation":39,"user_id":3658924,"display_name":"user3658924"},"score":0,"creation_date":1400668425,"post_id":23773283,"comment_id":36571751,"body_markdown":"@MarkThomas , I tried thoses &lt;WatchedResource&gt; elements one by one under &lt;Context&gt; element in conf/server.xml, but no one did work!","body":"@MarkThomas , I tried thoses &lt;WatchedResource&gt; elements one by one under &lt;Context&gt; element in conf/server.xml, but no one did work!"},{"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"score":0,"creation_date":1400670926,"post_id":23773283,"comment_id":36573512,"body_markdown":"And you restarted Tomcat after each change to server.xml?","body":"And you restarted Tomcat after each change to server.xml?"},{"owner":{"account_id":4500213,"reputation":39,"user_id":3658924,"display_name":"user3658924"},"score":0,"creation_date":1400679446,"post_id":23773283,"comment_id":36579633,"body_markdown":"@MarkThomas , Yes, I did restart. I know the main conf/server.xml file cannot be reloaded without restarting Tomcat. I will check if this problem occurs under Linux.","body":"@MarkThomas , Yes, I did restart. I know the main conf/server.xml file cannot be reloaded without restarting Tomcat. I will check if this problem occurs under Linux."},{"owner":{"account_id":4500213,"reputation":39,"user_id":3658924,"display_name":"user3658924"},"score":0,"creation_date":1400682975,"post_id":23773283,"comment_id":36582220,"body_markdown":"@MarkThomas , I tested under Ubuntu with the same Tomcat version, it behaviors same as that under Windows. I also tested again with Tomcat 7.0.8, and did not work either. It seems to be a bug?","body":"@MarkThomas , I tested under Ubuntu with the same Tomcat version, it behaviors same as that under Windows. I also tested again with Tomcat 7.0.8, and did not work either. It seems to be a bug?"}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1400698971,"creation_date":1400698971,"answer_id":23791693,"question_id":23773283,"body_markdown":"`&lt;WatchedResoucre&gt;` only works with the automatic deployment feature which is not used when Contexts are deployed from server.xml.","title":"Why changes to WEB-INF/web.xml does not cause tomcat to reload the context?","body":"<p><code>&lt;WatchedResoucre&gt;</code> only works with the automatic deployment feature which is not used when Contexts are deployed from server.xml.</p>\n"},{"tags":[],"owner":{"account_id":13473334,"reputation":11,"user_id":9721120,"display_name":"Tony T"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1525813856,"creation_date":1525809778,"answer_id":50241460,"question_id":23773283,"body_markdown":"Reload worked only after I updated the server.xml file!!!\r\n\r\nBy setting the autoDeploy=true \r\n\r\n\t&lt;br&gt;\r\n\tThe output from the logs then showed a &quot;Reloading context&quot; \r\n\r\n\t08-May-2018 20:58:56.654 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.startup.HostConfig.reload &lt;b&gt;Reloading context &lt;/b&gt;[/prototype_maven]\r\n\t08-May-2018 20:58:56.654 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/prototype_maven] has started\r\n\t08-May-2018 20:58:58.619 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n\t08-May-2018 20:58:58.629 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/prototype_maven] is completed\r\n","title":"Why changes to WEB-INF/web.xml does not cause tomcat to reload the context?","body":"<p>Reload worked only after I updated the server.xml file!!!</p>\n\n<p>By setting the autoDeploy=true </p>\n\n<pre><code>&lt;br&gt;\nThe output from the logs then showed a \"Reloading context\" \n\n08-May-2018 20:58:56.654 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.startup.HostConfig.reload &lt;b&gt;Reloading context &lt;/b&gt;[/prototype_maven]\n08-May-2018 20:58:56.654 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/prototype_maven] has started\n08-May-2018 20:58:58.619 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n08-May-2018 20:58:58.629 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/prototype_maven] is completed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4884198,"reputation":1,"user_id":3937106,"display_name":"Kusi Asiedu Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675957438,"creation_date":1675957401,"answer_id":75401005,"question_id":23773283,"body_markdown":"You have to set\r\nreloadable=&quot;true&quot; privileged=&quot;true&quot;\r\nin context.xml.\r\nRestart Tomcat Server and that is all.","title":"Why changes to WEB-INF/web.xml does not cause tomcat to reload the context?","body":"<p>You have to set\nreloadable=&quot;true&quot; privileged=&quot;true&quot;\nin context.xml.\nRestart Tomcat Server and that is all.</p>\n"}],"owner":{"account_id":4500213,"reputation":39,"user_id":3658924,"display_name":"user3658924"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11153,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1675957438,"creation_date":1400641593,"question_id":23773283,"body_markdown":"I have created a Dynamic Web Projects named &quot;test&quot; using Eclipse WTP Tomcat, Eclipse version is Java EE Kepler Service Release 2, Tomcat version is 7.0.53, Servlet 3.0, Win 8.1 x86, jdk 1.6.0_45, but after several tries, I found the problem occurs when matching all the following conditions:\r\n\r\n  1. the Webapp(web context) is not in &amp;lt;CATALINA_HOME&gt;/webapps(which is the default value of appBase) and:\r\n  2. the Webapp is configured by writing a &amp;lt;Context&gt; element in &amp;lt;CATALINA_HOME&gt;\\conf\\server.xml, under the &amp;lt;Host&gt; element.\r\n\r\nHere is part of &amp;lt;CATALINA_HOME&gt;\\conf\\server.xml：\r\n\r\n       &lt;Host appBase=&quot;webapps&quot; autoDeploy=&quot;true&quot; name=&quot;localhost&quot; unpackWARs=&quot;true&quot;&gt;\r\n\r\n        &lt;!-- SingleSignOn valve, share authentication between web applications\r\n             Documentation at: /docs/config/valve.html --&gt;\r\n        &lt;!--\r\n        &lt;Valve className=&quot;org.apache.catalina.authenticator.SingleSignOn&quot; /&gt;\r\n        --&gt;\r\n\r\n        &lt;!-- Access log processes all example.\r\n             Documentation at: /docs/config/valve.html\r\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot; pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; prefix=&quot;localhost_access_log.&quot; suffix=&quot;.txt&quot;/&gt;\r\n        &lt;Context docBase=&quot;D:/tmpdev/apache-tomcat-7.0.53/wtpwebapps/test&quot; path=&quot;/test&quot; reloadable=&quot;true&quot;/&gt;\r\n      &lt;/Host&gt;\r\nand here is the Directory Structure of &quot;test&quot;:\r\n\r\n    test\r\n    ├─META-INF\r\n    │      MANIFEST.MF\r\n    │\r\n    └─WEB-INF\r\n        │  web.xml\r\n        │\r\n        ├─classes\r\n        │  └─test\r\n        │          HelloServlet.class\r\n        │          MyFilter1.class\r\n        │          MyFilter2.class\r\n        │          MyHttpSessionListener.class\r\n        │          MyServletContextListener.class\r\n        │\r\n        └─lib\r\nAlthough WEB-INF/web.xml is &amp;lt;WatchedResource&gt; in &amp;lt;CATALINA_HOME&gt;\\conf\\context.xml by default, I tried to add a &amp;lt;WatchedResource&gt; element in each of the following formats, still not works:\r\n\r\n    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\r\n    &lt;WatchedResource&gt;WEB-INF\\web.xml&lt;/WatchedResource&gt;\r\n    &lt;WatchedResource&gt;D:/tmpdev/apache-tomcat-7.0.53/wtpwebapps/test/WEB-INF/web.xml&lt;/WatchedResource&gt;\r\n    &lt;WatchedResource&gt;D:\\tmpdev\\apache-tomcat-7.0.53\\wtpwebapps\\test\\WEB-INF\\web.xml&lt;/WatchedResource&gt;\r\n\r\nHERE is other configuration ways that works:\r\n\r\n  1. use a seperate file &amp;lt;CATALINA_HOME&gt;\\conf\\Catalina\\localhost\\test.xml to configure context, or:\r\n  2. move &quot;test&quot; into &amp;lt;CATALINA_HOME&gt;\\webapps without any more configuration, or:\r\n  3. check &quot;Serve modules without publishing&quot; of Server Options in Eclipse WTP","title":"Why changes to WEB-INF/web.xml does not cause tomcat to reload the context?","body":"<p>I have created a Dynamic Web Projects named \"test\" using Eclipse WTP Tomcat, Eclipse version is Java EE Kepler Service Release 2, Tomcat version is 7.0.53, Servlet 3.0, Win 8.1 x86, jdk 1.6.0_45, but after several tries, I found the problem occurs when matching all the following conditions:</p>\n\n<ol>\n<li>the Webapp(web context) is not in &lt;CATALINA_HOME>/webapps(which is the default value of appBase) and:</li>\n<li>the Webapp is configured by writing a &lt;Context> element in &lt;CATALINA_HOME>\\conf\\server.xml, under the &lt;Host> element.</li>\n</ol>\n\n<p>Here is part of &lt;CATALINA_HOME>\\conf\\server.xml：</p>\n\n<pre><code>   &lt;Host appBase=\"webapps\" autoDeploy=\"true\" name=\"localhost\" unpackWARs=\"true\"&gt;\n\n    &lt;!-- SingleSignOn valve, share authentication between web applications\n         Documentation at: /docs/config/valve.html --&gt;\n    &lt;!--\n    &lt;Valve className=\"org.apache.catalina.authenticator.SingleSignOn\" /&gt;\n    --&gt;\n\n    &lt;!-- Access log processes all example.\n         Documentation at: /docs/config/valve.html\n         Note: The pattern used is equivalent to using pattern=\"common\" --&gt;\n    &lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" pattern=\"%h %l %u %t &amp;quot;%r&amp;quot; %s %b\" prefix=\"localhost_access_log.\" suffix=\".txt\"/&gt;\n    &lt;Context docBase=\"D:/tmpdev/apache-tomcat-7.0.53/wtpwebapps/test\" path=\"/test\" reloadable=\"true\"/&gt;\n  &lt;/Host&gt;\n</code></pre>\n\n<p>and here is the Directory Structure of \"test\":</p>\n\n<pre><code>test\n├─META-INF\n│      MANIFEST.MF\n│\n└─WEB-INF\n    │  web.xml\n    │\n    ├─classes\n    │  └─test\n    │          HelloServlet.class\n    │          MyFilter1.class\n    │          MyFilter2.class\n    │          MyHttpSessionListener.class\n    │          MyServletContextListener.class\n    │\n    └─lib\n</code></pre>\n\n<p>Although WEB-INF/web.xml is &lt;WatchedResource> in &lt;CATALINA_HOME>\\conf\\context.xml by default, I tried to add a &lt;WatchedResource> element in each of the following formats, still not works:</p>\n\n<pre><code>&lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;\n&lt;WatchedResource&gt;WEB-INF\\web.xml&lt;/WatchedResource&gt;\n&lt;WatchedResource&gt;D:/tmpdev/apache-tomcat-7.0.53/wtpwebapps/test/WEB-INF/web.xml&lt;/WatchedResource&gt;\n&lt;WatchedResource&gt;D:\\tmpdev\\apache-tomcat-7.0.53\\wtpwebapps\\test\\WEB-INF\\web.xml&lt;/WatchedResource&gt;\n</code></pre>\n\n<p>HERE is other configuration ways that works:</p>\n\n<ol>\n<li>use a seperate file &lt;CATALINA_HOME>\\conf\\Catalina\\localhost\\test.xml to configure context, or:</li>\n<li>move \"test\" into &lt;CATALINA_HOME>\\webapps without any more configuration, or:</li>\n<li>check \"Serve modules without publishing\" of Server Options in Eclipse WTP</li>\n</ol>\n"},{"tags":["java","openid-connect","okta"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1675955590,"post_id":75400524,"comment_id":133042632,"body_markdown":"I&#39;m quite unsure, in my eyes your question as is it currently is the question is an off topic question. Then you look for a library at the moment.","body":"I&#39;m quite unsure, in my eyes your question as is it currently is the question is an off topic question. Then you look for a library at the moment."}],"answers":[{"tags":[],"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675957307,"creation_date":1675957307,"answer_id":75400978,"question_id":75400524,"body_markdown":"If you don&#39;t want to use Spring Boot, you can do everything manually in your app. I suggest you to study OIDC authorization code flow for better understanding of all the steps below:\r\n1) You create OIDC application in Okta and assign all the users, who is planning to call 3rd party service\r\n2) Redirect your users to Okta with /authorize call\r\n3) Receive back authorization code after Okta returns an authenticated user back to your app\r\n4) Exchange the code for token(s)\r\n5) While calling your 3rd party attach the obtained token\r\n\r\nNot sure if you are familiar with PHP, but there is an example of how to do all the same things you need with PHP (no Spring Boot, lol) https://developer.okta.com/blog/2018/07/09/five-minute-php-app-auth\r\n\r\nGood luck!","title":"How to call Okta secured endpoint in Java?","body":"<p>If you don't want to use Spring Boot, you can do everything manually in your app. I suggest you to study OIDC authorization code flow for better understanding of all the steps below:</p>\n<ol>\n<li>You create OIDC application in Okta and assign all the users, who is planning to call 3rd party service</li>\n<li>Redirect your users to Okta with /authorize call</li>\n<li>Receive back authorization code after Okta returns an authenticated user back to your app</li>\n<li>Exchange the code for token(s)</li>\n<li>While calling your 3rd party attach the obtained token</li>\n</ol>\n<p>Not sure if you are familiar with PHP, but there is an example of how to do all the same things you need with PHP (no Spring Boot, lol) <a href=\"https://developer.okta.com/blog/2018/07/09/five-minute-php-app-auth\" rel=\"nofollow noreferrer\">https://developer.okta.com/blog/2018/07/09/five-minute-php-app-auth</a></p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":15242282,"reputation":21,"user_id":10998164,"display_name":"Jeffrey Nims"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675957538,"accepted_answer_id":75400978,"answer_count":1,"score":-1,"last_activity_date":1675957307,"creation_date":1675955197,"question_id":75400524,"body_markdown":"I have a system that calls a single third party API, in order to fetch a users hash password, which we store in a database. Thereafter the user can make other API calls and the system just attaches the hash from the DB.\r\n\r\nThe third party is now securing this single API where we fetch the hash using Okta and OIDC. What is the simplest way to handle this?\r\n\r\nFrom what I understand, we need to redirect the user to a provided Okta URL so they can log in there, and Okta redirects back to URL we designate. We can then get an access token to call the third party API.\r\n\r\nI am unsure of what my option are regarding Java libraries for Okta. \r\n\r\nI have looked a little bit at https://www.pac4j.org/docs/clients/openid-connect.html, but this looks more like a library for securing APIs using Okta, which we dont need to do, just call a secured API.\r\n\r\nApparently Okta is also supported by the Spring boot framework, but I have no experience with Spring and we dont use it. Are there other options? Or something a lot smaller and simpler we can use, so we dont have to deep dive into Spring?","title":"How to call Okta secured endpoint in Java?","body":"<p>I have a system that calls a single third party API, in order to fetch a users hash password, which we store in a database. Thereafter the user can make other API calls and the system just attaches the hash from the DB.</p>\n<p>The third party is now securing this single API where we fetch the hash using Okta and OIDC. What is the simplest way to handle this?</p>\n<p>From what I understand, we need to redirect the user to a provided Okta URL so they can log in there, and Okta redirects back to URL we designate. We can then get an access token to call the third party API.</p>\n<p>I am unsure of what my option are regarding Java libraries for Okta.</p>\n<p>I have looked a little bit at <a href=\"https://www.pac4j.org/docs/clients/openid-connect.html\" rel=\"nofollow noreferrer\">https://www.pac4j.org/docs/clients/openid-connect.html</a>, but this looks more like a library for securing APIs using Okta, which we dont need to do, just call a secured API.</p>\n<p>Apparently Okta is also supported by the Spring boot framework, but I have no experience with Spring and we dont use it. Are there other options? Or something a lot smaller and simpler we can use, so we dont have to deep dive into Spring?</p>\n"},{"tags":["java","sudoku"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1475000640,"post_id":39731728,"comment_id":66761159,"body_markdown":"Stackoverflow is neither the place to learn about data structures and their corresponding strengths and weakness, or the basics of the Java programming language","body":"Stackoverflow is neither the place to learn about data structures and their corresponding strengths and weakness, or the basics of the Java programming language"},{"owner":{"account_id":1694248,"reputation":7095,"user_id":1555990,"accept_rate":91,"display_name":"That1Guy"},"score":0,"creation_date":1475000724,"post_id":39731728,"comment_id":66761216,"body_markdown":"This question is not suitable for Stackoverflow; It is too broad as there are too many possible answers.","body":"This question is not suitable for Stackoverflow; It is too broad as there are too many possible answers."},{"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"score":0,"creation_date":1475000965,"post_id":39731728,"comment_id":66761364,"body_markdown":"You can just make your own. Java doesn&#39;t have special datastructures for sudokus that have 2-3 different layers of logic.","body":"You can just make your own. Java doesn&#39;t have special datastructures for sudokus that have 2-3 different layers of logic."},{"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"score":0,"creation_date":1475001007,"post_id":39731728,"comment_id":66761395,"body_markdown":"Try to cut the question some slack then and bring it to the point. I have got data of this format (small example with 2 datapoints), I wonder whether I should use a HashMap, ArrayList, Arrays or what ? I personally think that xy would be the best choice but I&#39;m uncertain about quality xy of that choice.","body":"Try to cut the question some slack then and bring it to the point. I have got data of this format (small example with 2 datapoints), I wonder whether I should use a HashMap, ArrayList, Arrays or what ? I personally think that xy would be the best choice but I&#39;m uncertain about quality xy of that choice."}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475001093,"creation_date":1475001093,"answer_id":39731929,"question_id":39731728,"body_markdown":"A list of possibilities would be best represented by a set.\r\n\r\n    Set&lt;Integer&gt;\r\n\r\nA dictionary of cells to possibilities translates naturally to a map.\r\n\r\n    Map&lt;Cell, Set&lt;Integer&gt;&gt;\r\n\r\nNote that I&#39;ve used abstract `Set` and `Map` types rather than concrete implementations. You&#39;ll need to pick concrete classes to instantiate the variables with, but the variable types should use the abstract types. Here&#39;s what I mean:\r\n\r\n    Map&lt;Cell, Set&lt;Integer&gt;&gt; cellValues = new HashMap&lt;&gt;();\r\n\r\n    for (Cell cell: Cell.all()) {\r\n        cellValues.put(cell, new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9)));\r\n    }\r\n\r\n`HashMap` and `HashSet` are the concrete classes.\r\n\r\nNote also that I&#39;ve used a `Cell` class instead of working directly with strings like `&quot;A1&quot;`. In Python it&#39;s easy to work with strings and would probably be overkill to create a separate class. In Java it&#39;s definitely a good practice to create a `Cell` class.","title":"Best data structure for my sudoku solver?","body":"<p>A list of possibilities would be best represented by a set.</p>\n\n<pre><code>Set&lt;Integer&gt;\n</code></pre>\n\n<p>A dictionary of cells to possibilities translates naturally to a map.</p>\n\n<pre><code>Map&lt;Cell, Set&lt;Integer&gt;&gt;\n</code></pre>\n\n<p>Note that I've used abstract <code>Set</code> and <code>Map</code> types rather than concrete implementations. You'll need to pick concrete classes to instantiate the variables with, but the variable types should use the abstract types. Here's what I mean:</p>\n\n<pre><code>Map&lt;Cell, Set&lt;Integer&gt;&gt; cellValues = new HashMap&lt;&gt;();\n\nfor (Cell cell: Cell.all()) {\n    cellValues.put(cell, new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9)));\n}\n</code></pre>\n\n<p><code>HashMap</code> and <code>HashSet</code> are the concrete classes.</p>\n\n<p>Note also that I've used a <code>Cell</code> class instead of working directly with strings like <code>\"A1\"</code>. In Python it's easy to work with strings and would probably be overkill to create a separate class. In Java it's definitely a good practice to create a <code>Cell</code> class.</p>\n"}],"owner":{"account_id":7469933,"reputation":117,"user_id":5678255,"accept_rate":40,"display_name":"pattymills"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"closed_date":1475052375,"answer_count":1,"score":-1,"last_activity_date":1675957208,"creation_date":1475000402,"question_id":39731728,"body_markdown":"I am building a sudoku solver. I built one in Python about a year ago and I really liked the way I had my data organized. What I did in python was as follows:\r\n\r\n- Each row was a letter, each column was a number.\r\n       (So top left cell was &#39;A1&#39;, bottom right cell was &#39;I9&#39;, top right &#39;A9&#39;, etc.)\r\n    \r\n- These &#39;cell names&#39; were used as keys in a dictionary. \r\n    \r\n- The values attached to each key represented all the possible values that cell could legally store (according to the rules of sudoku). So each key had a starting value of &#39;123456789&#39;. \r\n    \r\n- I had other lists representing which cells were &#39;brothers&#39;. (same row/column/3x3 box). If a cell had been &#39;solved&#39; then its value in the dict would be reduced to only the integer it had been solved to.\r\n    \r\n- Any &#39;brother&#39; cells to a solved cell would then have that &#39;solved&#39; integer removed from their dictionary values. (it is no longer a potential value for that cell)\r\n    \r\n- Whenever a key&#39;s value was of length 1, that would represent a &#39;solved&#39; cell.\r\n\r\nFor example, say &#39;A3&#39; had been solved for 8. It would have key:value in the dict as &#39;A3&#39;: &#39;8&#39;. My methods would notice this and for every &#39;brother&#39; cell (all the &#39;Ax&#39; cells, all the &#39;y3&#39; cells, and the 3x3 box &#39;A3&#39; is in (A1-3,B1-3,C1-3) would have &#39;8&#39; removed from their values.\r\n    Say &#39;B2&#39;: &#39;1234789&#39; before &#39;A3&#39; became &#39;8&#39;. Afterwards, &#39;B2&#39;: &#39;123479&#39;\r\n\r\nHere&#39;s an example of a partially solved puzzle and how it would have been stored in my python code:\r\n\r\n    {&#39;I6&#39;: &#39;123456789&#39;, &#39;H9&#39;: &#39;2&#39;, &#39;I2&#39;: &#39;3&#39;, &#39;E8&#39;: &#39;123456789&#39;, &#39;H3&#39;: &#39;5&#39;, &#39;H7&#39;: &#39;123456789&#39;, &#39;I7&#39;:\r\n    \t&#39;123456789&#39;, &#39;I4&#39;: &#39;1&#39;, &#39;H5&#39;: &#39;4&#39;, &#39;F9&#39;: &#39;123456789&#39;, &#39;G7&#39;: &#39;123456789&#39;, &#39;G6&#39;: &#39;123456789&#39;, &#39;G5&#39;: &#39;2&#39;,\r\n    \t&#39;E1&#39;: &#39;4&#39;, &#39;G3&#39;: &#39;9&#39;, &#39;G2&#39;: &#39;4&#39;, &#39;G1&#39;: &#39;6&#39;, &#39;I1&#39;: &#39;2&#39;, &#39;C8&#39;: &#39;123456789&#39;, &#39;I3&#39;: &#39;7&#39;, &#39;E5&#39;: &#39;1&#39;, &#39;I5&#39;:\r\n    \t&#39;123456789&#39;, &#39;C9&#39;: &#39;7&#39;, &#39;G9&#39;: &#39;123456789&#39;, &#39;G8&#39;: &#39;8&#39;, &#39;A1&#39;: &#39;7&#39;, &#39;A3&#39;: &#39;123456789&#39;, &#39;A2&#39;: &#39;6&#39;, &#39;A5&#39;:\r\n    \t&#39;123456789&#39;, &#39;A4&#39;: &#39;2&#39;, &#39;A7&#39;: &#39;123456789&#39;, &#39;A6&#39;: &#39;123456789&#39;, &#39;C3&#39;: &#39;123456789&#39;, &#39;C2&#39;: &#39;123456789&#39;,\r\n    \t&#39;C1&#39;: &#39;3&#39;, &#39;E6&#39;: &#39;123456789&#39;, &#39;C7&#39;: &#39;123456789&#39;, &#39;C6&#39;: &#39;4&#39;, &#39;C5&#39;: &#39;5&#39;, &#39;C4&#39;: &#39;123456789&#39;, &#39;I9&#39;:\r\n    \t&#39;123456789&#39;, &#39;D8&#39;: &#39;123456789&#39;, &#39;I8&#39;: &#39;123456789&#39;, &#39;E4&#39;: &#39;123456789&#39;, &#39;D9&#39;: &#39;123456789&#39;, &#39;H8&#39;:\r\n    \t&#39;7&#39;, &#39;F6&#39;: &#39;123456789&#39;, &#39;A9&#39;: &#39;123456789&#39;, &#39;G4&#39;: &#39;123456789&#39;, &#39;A8&#39;: &#39;5&#39;, &#39;E7&#39;: &#39;5&#39;, &#39;E3&#39;: &#39;6&#39;,\r\n    \t&#39;F1&#39;: &#39;123456789&#39;, &#39;F2&#39;: &#39;123456789&#39;, &#39;F3&#39;: &#39;123456789&#39;, &#39;F4&#39;: &#39;123456789&#39;, &#39;F5&#39;: &#39;3&#39;, &#39;E2&#39;:\r\n    \t&#39;7&#39;, &#39;F7&#39;: &#39;7&#39;, &#39;F8&#39;: &#39;123456789&#39;, &#39;D2&#39;: &#39;5&#39;, &#39;H1&#39;: &#39;1&#39;, &#39;H6&#39;: &#39;6&#39;, &#39;H2&#39;: &#39;8&#39;, &#39;H4&#39;: &#39;3&#39;,\r\n    \t&#39;D3&#39;: &#39;3&#39;, &#39;B4&#39;: &#39;123456789&#39;, &#39;B5&#39;: &#39;6&#39;, &#39;B6&#39;: &#39;123456789&#39;, &#39;B7&#39;: &#39;123456789&#39;, &#39;E9&#39;:\r\n    \t&#39;123456789&#39;, &#39;B1&#39;: &#39;5&#39;, &#39;B2&#39;: &#39;123456789&#39;, &#39;B3&#39;: &#39;123456789&#39;, &#39;D6&#39;: &#39;123456789&#39;, &#39;D7&#39;:\r\n    \t&#39;123456789&#39;, &#39;D4&#39;: &#39;123456789&#39;, &#39;D5&#39;: &#39;7&#39;, &#39;B8&#39;: &#39;123456789&#39;, &#39;B9&#39;: &#39;123456789&#39;, &#39;D1&#39;: &#39;8&#39;}\r\n\r\n\r\nI can&#39;t quite figure out how I can set this up in Java. I don&#39;t have any experience with HashMaps, but from reading up on them, it seems like they could be a good candidate to fill the role of my Dictionary. If I go that route, what are some different ways I can go about storing the values within the HashMap (default &#39;123456789&#39;, but with the ability to remove a specific number from the value anytime it becomes invalid due to a &#39;brother&#39; cell having ONLY that specific number in its value).\r\n\r\n\r\nSorry if this is confusing and thank you to anyone who reads it. Once I get the data structures in place, I have a good grasp on how I will go about creating methods to &#39;whittle&#39; down each cell&#39;s POTENTIAL_VALUES (values in the dict) until each cell (key) only has one value left (signifying a solved puzzle).","title":"Best data structure for my sudoku solver?","body":"<p>I am building a sudoku solver. I built one in Python about a year ago and I really liked the way I had my data organized. What I did in python was as follows:</p>\n<ul>\n<li><p>Each row was a letter, each column was a number.\n(So top left cell was 'A1', bottom right cell was 'I9', top right 'A9', etc.)</p>\n</li>\n<li><p>These 'cell names' were used as keys in a dictionary.</p>\n</li>\n<li><p>The values attached to each key represented all the possible values that cell could legally store (according to the rules of sudoku). So each key had a starting value of '123456789'.</p>\n</li>\n<li><p>I had other lists representing which cells were 'brothers'. (same row/column/3x3 box). If a cell had been 'solved' then its value in the dict would be reduced to only the integer it had been solved to.</p>\n</li>\n<li><p>Any 'brother' cells to a solved cell would then have that 'solved' integer removed from their dictionary values. (it is no longer a potential value for that cell)</p>\n</li>\n<li><p>Whenever a key's value was of length 1, that would represent a 'solved' cell.</p>\n</li>\n</ul>\n<p>For example, say 'A3' had been solved for 8. It would have key:value in the dict as 'A3': '8'. My methods would notice this and for every 'brother' cell (all the 'Ax' cells, all the 'y3' cells, and the 3x3 box 'A3' is in (A1-3,B1-3,C1-3) would have '8' removed from their values.\nSay 'B2': '1234789' before 'A3' became '8'. Afterwards, 'B2': '123479'</p>\n<p>Here's an example of a partially solved puzzle and how it would have been stored in my python code:</p>\n<pre><code>{'I6': '123456789', 'H9': '2', 'I2': '3', 'E8': '123456789', 'H3': '5', 'H7': '123456789', 'I7':\n    '123456789', 'I4': '1', 'H5': '4', 'F9': '123456789', 'G7': '123456789', 'G6': '123456789', 'G5': '2',\n    'E1': '4', 'G3': '9', 'G2': '4', 'G1': '6', 'I1': '2', 'C8': '123456789', 'I3': '7', 'E5': '1', 'I5':\n    '123456789', 'C9': '7', 'G9': '123456789', 'G8': '8', 'A1': '7', 'A3': '123456789', 'A2': '6', 'A5':\n    '123456789', 'A4': '2', 'A7': '123456789', 'A6': '123456789', 'C3': '123456789', 'C2': '123456789',\n    'C1': '3', 'E6': '123456789', 'C7': '123456789', 'C6': '4', 'C5': '5', 'C4': '123456789', 'I9':\n    '123456789', 'D8': '123456789', 'I8': '123456789', 'E4': '123456789', 'D9': '123456789', 'H8':\n    '7', 'F6': '123456789', 'A9': '123456789', 'G4': '123456789', 'A8': '5', 'E7': '5', 'E3': '6',\n    'F1': '123456789', 'F2': '123456789', 'F3': '123456789', 'F4': '123456789', 'F5': '3', 'E2':\n    '7', 'F7': '7', 'F8': '123456789', 'D2': '5', 'H1': '1', 'H6': '6', 'H2': '8', 'H4': '3',\n    'D3': '3', 'B4': '123456789', 'B5': '6', 'B6': '123456789', 'B7': '123456789', 'E9':\n    '123456789', 'B1': '5', 'B2': '123456789', 'B3': '123456789', 'D6': '123456789', 'D7':\n    '123456789', 'D4': '123456789', 'D5': '7', 'B8': '123456789', 'B9': '123456789', 'D1': '8'}\n</code></pre>\n<p>I can't quite figure out how I can set this up in Java. I don't have any experience with HashMaps, but from reading up on them, it seems like they could be a good candidate to fill the role of my Dictionary. If I go that route, what are some different ways I can go about storing the values within the HashMap (default '123456789', but with the ability to remove a specific number from the value anytime it becomes invalid due to a 'brother' cell having ONLY that specific number in its value).</p>\n<p>Sorry if this is confusing and thank you to anyone who reads it. Once I get the data structures in place, I have a good grasp on how I will go about creating methods to 'whittle' down each cell's POTENTIAL_VALUES (values in the dict) until each cell (key) only has one value left (signifying a solved puzzle).</p>\n"},{"tags":["javascript","java","typescript","protocol-buffers","uuid"],"answers":[{"tags":[],"owner":{"account_id":315748,"reputation":1047,"user_id":631579,"display_name":"rocky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675956136,"creation_date":1613925181,"answer_id":66304548,"question_id":66304547,"body_markdown":"Looking at Java `UUID`&#39;s `toString()` method for inspiration,\r\n\r\n```java\r\npublic String toString() {\r\n  return (digits(mostSigBits &gt;&gt; 32, 8) + &quot;-&quot; +\r\n    digits(mostSigBits &gt;&gt; 16, 4) + &quot;-&quot; +\r\n    digits(mostSigBits, 4) + &quot;-&quot; +\r\n    digits(leastSigBits &gt;&gt; 48, 4) + &quot;-&quot; +\r\n    digits(leastSigBits, 12));\r\n}\r\n\r\nprivate static String digits(long val, int digits) {\r\n  long hi = 1L &lt;&lt; (digits * 4);\r\n  return Long.toHexString(hi | (val &amp; (hi - 1))).substring(1);\r\n}\r\n```\r\n\r\nWe can do the same using [`BigInt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt). This assumes Node 10.8+ (tested with 18.14.0), TypeScript targeting ES2020+, and with [this browser compatibility](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#browser_compatibility).\r\n\r\n**Note**: If you get &quot;BigInt literals are not available...&quot; wrap all literals ending with `n` with `BigInt` instead (e.g., instead of `32n`, use `BigInt(32)`).\r\n\r\n```typescript\r\nfunction uuidSigBitsToStr({ lsb, msb }: { lsb: bigint; msb: bigint }): string {\r\n  return `${digits(msb &gt;&gt; 32n, 8n)}-${digits(msb &gt;&gt; 16n, 4n)}-${digits(\r\n    msb,\r\n    4n\r\n  )}-${digits(lsb &gt;&gt; 48n, 4n)}-${digits(lsb, 12n)}`;\r\n}\r\n\r\nfunction digits(val: bigint, ds: bigint): string {\r\n  const hi = 1n &lt;&lt; (ds * 4n);\r\n  return (hi | (val &amp; (hi - 1n))).toString(16).substring(1);\r\n}\r\n```\r\n\r\nAnd an example test, notice msb/lsb are passed to `BigInt` as `string`s,\r\n\r\n```typescript\r\nit(&#39;converts UUID from msb/lsb to string&#39;, () =&gt; {\r\n  expect(\r\n    toUuidString(\r\n      BigInt(&#39;-1160168401362026442&#39;),\r\n      BigInt(&#39;-6694969989912915968&#39;)\r\n    )\r\n  ).toEqual(&#39;a316b044-0157-1000-efe6-40fc5d2f0036&#39;);\r\n});\r\n```\r\n\r\nThe final piece is protocol buffers. By default, [`google-protobuf`](https://www.npmjs.com/package/google-protobuf) uses `number` for 64-bit `float` and `int` values, which causes overflow above `Number.MAX_VALUE` or 2&lt;sup&gt;53&lt;/sup&gt; - 1. To avoid this, use the `jstype` annotation on 64-bit fields,\r\n\r\n```protobufs\r\nmessage Uuid {\r\n    sfixed64 msb = 1 [jstype = JS_STRING];\r\n    sfixed64 lsb = 2 [jstype = JS_STRING];\r\n} \r\n```\r\n\r\n**2023 update: the reverse function, convert from UUID string to significant bits**\r\n\r\n```typescript\r\nfunction uuidStrToSigBits(uuid: string) {\r\n  const invalidError = () =&gt; new Error(`Invalid UUID string: &#39;${uuid}&#39;`);\r\n  if (uuid == null || typeof uuid !== &quot;string&quot;) throw invalidError();\r\n\r\n  const parts = uuid.split(&quot;-&quot;).map((p) =&gt; `0x${p}`);\r\n  if (parts.length !== 5) throw invalidError();\r\n\r\n  return {\r\n    lsb: (hexStrToBigInt(parts[3]) &lt;&lt; 48n) | hexStrToBigInt(parts[4]),\r\n    msb:\r\n      (hexStrToBigInt(parts[0]) &lt;&lt; 32n) |\r\n      (hexStrToBigInt(parts[1]) &lt;&lt; 16n) |\r\n      hexStrToBigInt(parts[2]),\r\n  };\r\n}\r\n\r\nfunction hexStrToBigInt(hex: string): bigint {\r\n  return BigInt(Number.parseInt(hex, 16));\r\n}\r\n```\r\n\r\nHere&#39;s a round-trip test,\r\n\r\n```typescript\r\nconst uuidSigBits = uuidStrToSigBits(&quot;7680fc63-1f58-412a-9bde-c5a9de1e0ce9&quot;);\r\nconst uuidStr = uuidSigBitsToStr(uuidSigBits);\r\nconsole.log(uuidStr);\r\n  // =&gt; 7680fc63-1f58-412a-9bde-c5a9de1e0ce9\r\n```","title":"JavaScript/TypeScript: Convert UUID from most significant bits (MSB)/least significant bits (LSB) representation to string","body":"<p>Looking at Java <code>UUID</code>'s <code>toString()</code> method for inspiration,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String toString() {\n  return (digits(mostSigBits &gt;&gt; 32, 8) + &quot;-&quot; +\n    digits(mostSigBits &gt;&gt; 16, 4) + &quot;-&quot; +\n    digits(mostSigBits, 4) + &quot;-&quot; +\n    digits(leastSigBits &gt;&gt; 48, 4) + &quot;-&quot; +\n    digits(leastSigBits, 12));\n}\n\nprivate static String digits(long val, int digits) {\n  long hi = 1L &lt;&lt; (digits * 4);\n  return Long.toHexString(hi | (val &amp; (hi - 1))).substring(1);\n}\n</code></pre>\n<p>We can do the same using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\" rel=\"nofollow noreferrer\"><code>BigInt</code></a>. This assumes Node 10.8+ (tested with 18.14.0), TypeScript targeting ES2020+, and with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#browser_compatibility\" rel=\"nofollow noreferrer\">this browser compatibility</a>.</p>\n<p><strong>Note</strong>: If you get &quot;BigInt literals are not available...&quot; wrap all literals ending with <code>n</code> with <code>BigInt</code> instead (e.g., instead of <code>32n</code>, use <code>BigInt(32)</code>).</p>\n<pre class=\"lang-js prettyprint-override\"><code>function uuidSigBitsToStr({ lsb, msb }: { lsb: bigint; msb: bigint }): string {\n  return `${digits(msb &gt;&gt; 32n, 8n)}-${digits(msb &gt;&gt; 16n, 4n)}-${digits(\n    msb,\n    4n\n  )}-${digits(lsb &gt;&gt; 48n, 4n)}-${digits(lsb, 12n)}`;\n}\n\nfunction digits(val: bigint, ds: bigint): string {\n  const hi = 1n &lt;&lt; (ds * 4n);\n  return (hi | (val &amp; (hi - 1n))).toString(16).substring(1);\n}\n</code></pre>\n<p>And an example test, notice msb/lsb are passed to <code>BigInt</code> as <code>string</code>s,</p>\n<pre class=\"lang-js prettyprint-override\"><code>it('converts UUID from msb/lsb to string', () =&gt; {\n  expect(\n    toUuidString(\n      BigInt('-1160168401362026442'),\n      BigInt('-6694969989912915968')\n    )\n  ).toEqual('a316b044-0157-1000-efe6-40fc5d2f0036');\n});\n</code></pre>\n<p>The final piece is protocol buffers. By default, <a href=\"https://www.npmjs.com/package/google-protobuf\" rel=\"nofollow noreferrer\"><code>google-protobuf</code></a> uses <code>number</code> for 64-bit <code>float</code> and <code>int</code> values, which causes overflow above <code>Number.MAX_VALUE</code> or 2<sup>53</sup> - 1. To avoid this, use the <code>jstype</code> annotation on 64-bit fields,</p>\n<pre><code>message Uuid {\n    sfixed64 msb = 1 [jstype = JS_STRING];\n    sfixed64 lsb = 2 [jstype = JS_STRING];\n} \n</code></pre>\n<p><strong>2023 update: the reverse function, convert from UUID string to significant bits</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>function uuidStrToSigBits(uuid: string) {\n  const invalidError = () =&gt; new Error(`Invalid UUID string: '${uuid}'`);\n  if (uuid == null || typeof uuid !== &quot;string&quot;) throw invalidError();\n\n  const parts = uuid.split(&quot;-&quot;).map((p) =&gt; `0x${p}`);\n  if (parts.length !== 5) throw invalidError();\n\n  return {\n    lsb: (hexStrToBigInt(parts[3]) &lt;&lt; 48n) | hexStrToBigInt(parts[4]),\n    msb:\n      (hexStrToBigInt(parts[0]) &lt;&lt; 32n) |\n      (hexStrToBigInt(parts[1]) &lt;&lt; 16n) |\n      hexStrToBigInt(parts[2]),\n  };\n}\n\nfunction hexStrToBigInt(hex: string): bigint {\n  return BigInt(Number.parseInt(hex, 16));\n}\n</code></pre>\n<p>Here's a round-trip test,</p>\n<pre class=\"lang-js prettyprint-override\"><code>const uuidSigBits = uuidStrToSigBits(&quot;7680fc63-1f58-412a-9bde-c5a9de1e0ce9&quot;);\nconst uuidStr = uuidSigBitsToStr(uuidSigBits);\nconsole.log(uuidStr);\n  // =&gt; 7680fc63-1f58-412a-9bde-c5a9de1e0ce9\n</code></pre>\n"}],"owner":{"account_id":315748,"reputation":1047,"user_id":631579,"display_name":"rocky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66304548,"answer_count":1,"score":1,"last_activity_date":1675956136,"creation_date":1613925181,"question_id":66304547,"body_markdown":"To save space when passing UUIDs with Protocol Buffers, we send them using the MSB/LSB representation, two 64-bit `long` values.\r\n\r\n```protobufs\r\nmessage Uuid {\r\n  sfixed64 msb = 1;\r\n  sfixed64 lsb = 2;\r\n} \r\n```\r\n\r\n\r\nThese are simple to go to and from in Java,\r\n\r\n```java\r\nUUID id = UUID.fromString(&quot;eb66c416-4739-465b-9af3-9dc33ed8eef9&quot;);\r\nlong msb = id.getMostSignificantBits();\r\nlong lsb = id.getLeastSignificantBits();\r\nSystem.out.println(msb + &quot;, &quot; + lsb);\r\n  // -1484283427208739237, -7281302710629372167\r\n\r\nSystem.out.println(new UUID(msb, lsb));\r\n  // eb66c416-4739-465b-9af3-9dc33ed8eef9\r\n```\r\n\r\nHowever, since JavaScript&#39;s `number` only goes up to 2&lt;sup&gt;53&lt;/sup&gt; - 1, I&#39;m unable to convert the MSB/LSB format back to a `string` in my TypeScript client. Is this possible?","title":"JavaScript/TypeScript: Convert UUID from most significant bits (MSB)/least significant bits (LSB) representation to string","body":"<p>To save space when passing UUIDs with Protocol Buffers, we send them using the MSB/LSB representation, two 64-bit <code>long</code> values.</p>\n<pre class=\"lang-proto prettyprint-override\"><code>message Uuid {\n  sfixed64 msb = 1;\n  sfixed64 lsb = 2;\n} \n</code></pre>\n<p>These are simple to go to and from in Java,</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID id = UUID.fromString(&quot;eb66c416-4739-465b-9af3-9dc33ed8eef9&quot;);\nlong msb = id.getMostSignificantBits();\nlong lsb = id.getLeastSignificantBits();\nSystem.out.println(msb + &quot;, &quot; + lsb);\n  // -1484283427208739237, -7281302710629372167\n\nSystem.out.println(new UUID(msb, lsb));\n  // eb66c416-4739-465b-9af3-9dc33ed8eef9\n</code></pre>\n<p>However, since JavaScript's <code>number</code> only goes up to 2<sup>53</sup> - 1, I'm unable to convert the MSB/LSB format back to a <code>string</code> in my TypeScript client. Is this possible?</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675922319,"creation_date":1675922319,"answer_id":75394761,"question_id":75392148,"body_markdown":"Typically in reactor operators continue working in the `Thread` on which the previous operator executed. In addition, `WebClient` is just a wrapper on top of underlining http clients (Netty or Apache HttpClient in your case). Http clients would maintain a separate thread pool to handle http requests.\r\n\r\nIt means that `WebClient` request will be executed on the caller thread but for network operations execution will be switched to `httpclient-dispatch-#` thread and then continue on that thread until you block.\r\n\r\nAs result request filter will be executed on the caller thread and response filter on the http client thread `httpclient-dispatch-#`.\r\n\r\n\r\nHere is an example that demonstrates this\r\n\r\n```\r\n@Test\r\nvoid test() {\r\n    CloseableHttpAsyncClient httpAsyncClient = HttpAsyncClients.custom().build();\r\n    WebClient webClient = WebClient.builder()\r\n            .baseUrl(&quot;https://google.com&quot;)\r\n            .clientConnector(new HttpComponentsClientHttpConnector(httpAsyncClient))\r\n            .filter(logRequest())\r\n            .filter(logResponse())\r\n            .build();\r\n\r\n    var request = webClient.get()\r\n            .uri(&quot;/&quot;)\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .block();}\r\n\r\nprivate ExchangeFilterFunction logRequest() {\r\n    return (clientRequest, next) -&gt; {\r\n        log.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\r\n        return next.exchange(clientRequest);\r\n    };\r\n}\r\n\r\nprivate ExchangeFilterFunction logResponse() {\r\n    return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n        log.info(&quot;Response Status: {}&quot;, clientResponse.statusCode());\r\n        return Mono.just(clientResponse);\r\n    });\r\n}\r\n```\r\n\r\n```\r\n21:53:54.051 [Test worker] INFO WebClientTest - START\r\n21:53:54.728 [Test worker] INFO WebClientTest - Request: GET https://google.com/\r\n21:53:55.445 [httpclient-dispatch-2] INFO WebClientTest - Response Status: 200 OK\r\n21:53:55.572 [Test worker] INFO WebClientTest - END\r\n```","title":"Does a WebClient request using `block()` only use 1 thread throughout the entire request? Even if we have an ExchangeFilterFunction running?","body":"<p>Typically in reactor operators continue working in the <code>Thread</code> on which the previous operator executed. In addition, <code>WebClient</code> is just a wrapper on top of underlining http clients (Netty or Apache HttpClient in your case). Http clients would maintain a separate thread pool to handle http requests.</p>\n<p>It means that <code>WebClient</code> request will be executed on the caller thread but for network operations execution will be switched to <code>httpclient-dispatch-#</code> thread and then continue on that thread until you block.</p>\n<p>As result request filter will be executed on the caller thread and response filter on the http client thread <code>httpclient-dispatch-#</code>.</p>\n<p>Here is an example that demonstrates this</p>\n<pre><code>@Test\nvoid test() {\n    CloseableHttpAsyncClient httpAsyncClient = HttpAsyncClients.custom().build();\n    WebClient webClient = WebClient.builder()\n            .baseUrl(&quot;https://google.com&quot;)\n            .clientConnector(new HttpComponentsClientHttpConnector(httpAsyncClient))\n            .filter(logRequest())\n            .filter(logResponse())\n            .build();\n\n    var request = webClient.get()\n            .uri(&quot;/&quot;)\n            .retrieve()\n            .bodyToMono(String.class)\n            .block();}\n\nprivate ExchangeFilterFunction logRequest() {\n    return (clientRequest, next) -&gt; {\n        log.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\n        return next.exchange(clientRequest);\n    };\n}\n\nprivate ExchangeFilterFunction logResponse() {\n    return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n        log.info(&quot;Response Status: {}&quot;, clientResponse.statusCode());\n        return Mono.just(clientResponse);\n    });\n}\n</code></pre>\n<pre><code>21:53:54.051 [Test worker] INFO WebClientTest - START\n21:53:54.728 [Test worker] INFO WebClientTest - Request: GET https://google.com/\n21:53:55.445 [httpclient-dispatch-2] INFO WebClientTest - Response Status: 200 OK\n21:53:55.572 [Test worker] INFO WebClientTest - END\n</code></pre>\n"}],"owner":{"account_id":6805869,"reputation":3143,"user_id":5237611,"accept_rate":71,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75394761,"answer_count":1,"score":0,"last_activity_date":1675956091,"creation_date":1675893412,"question_id":75392148,"body_markdown":"I am running a Spring boot 3.0.1 application, using WebClient to manage HTTP requests (switching from RestTemplate). I am using WebClient in a blocking way - sending my requests like this:\r\n\r\n`webClient.get().uri(path).headers(headers).retrieve().bodyToMono(responseType).block();`\r\n\r\nWhere `path`, `headers`, and `responseType` are already defined. Here is how I declare the WebClient Spring Bean:\r\n\r\n    @Bean\r\n    public WebClient webClient(CloseableHttpAsyncClient httpAsyncClient) {\r\n        return WebClient.builder()\r\n                .clientConnector(new HttpComponentsClientHttpConnector(httpAsyncClient))\r\n                .filter(new CustomResponseHeaderFilter())\r\n                .build();\r\n    }\r\n\r\nHere&#39;s the implementation of the `CustomResponseHeaderFilter` class. (Yes I know it&#39;s not doing anything right now):\r\n\r\n```\r\npublic class CustomResponseHeaderFilter implements ExchangeFilterFunction {\r\n    @Override\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n        return next.exchange(request);\r\n    }\r\n\r\n    @Override\r\n    public ExchangeFilterFunction andThen(ExchangeFilterFunction afterFilter) {\r\n        return ExchangeFilterFunction.super.andThen(afterFilter);\r\n    }\r\n\r\n    @Override\r\n    public ExchangeFunction apply(ExchangeFunction exchange) {\r\n        return ExchangeFilterFunction.super.apply(exchange);\r\n    }\r\n}\r\n```\r\n\r\nSo in the current state of my application, does the code that&#39;s run throughout an entire request run on the same thread? I&#39;ve seen some information from another post [here][1] saying that the thread pauses, and in the background a separate thread is used for network operations.\r\n\r\nMore specifically, does the `block()` method call affect how the `ExchangeFilterFunction` is executed? What I mean by that is does the code in the `.filter()` method also run on the same thread as the request since we are using `block()`?\r\n\r\nI haven&#39;t seen any documentation so far regarding blocking and the filter function, and I&#39;m not entirely sure how this works behind the scenes.\r\n\r\n**UPDATE:**\r\nThis is directly relating to using `MDC`. Essentially I am wondering whether MDC can be used as if the entire request is run on 1 thread - like when it&#39;s used in `RestTemplate`. I am wondering if I add a value to the MDC context in the `logResponse` filter function while using `.block()`, will it be available to use after the request has been processed?\r\n\r\nThanks\r\n\r\n  [1]: https://stackoverflow.com/questions/72300024/does-the-use-of-spring-webfluxs-webclient-in-a-blocking-application-design-caus","title":"Does a WebClient request using `block()` only use 1 thread throughout the entire request? Even if we have an ExchangeFilterFunction running?","body":"<p>I am running a Spring boot 3.0.1 application, using WebClient to manage HTTP requests (switching from RestTemplate). I am using WebClient in a blocking way - sending my requests like this:</p>\n<p><code>webClient.get().uri(path).headers(headers).retrieve().bodyToMono(responseType).block();</code></p>\n<p>Where <code>path</code>, <code>headers</code>, and <code>responseType</code> are already defined. Here is how I declare the WebClient Spring Bean:</p>\n<pre><code>@Bean\npublic WebClient webClient(CloseableHttpAsyncClient httpAsyncClient) {\n    return WebClient.builder()\n            .clientConnector(new HttpComponentsClientHttpConnector(httpAsyncClient))\n            .filter(new CustomResponseHeaderFilter())\n            .build();\n}\n</code></pre>\n<p>Here's the implementation of the <code>CustomResponseHeaderFilter</code> class. (Yes I know it's not doing anything right now):</p>\n<pre><code>public class CustomResponseHeaderFilter implements ExchangeFilterFunction {\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n        return next.exchange(request);\n    }\n\n    @Override\n    public ExchangeFilterFunction andThen(ExchangeFilterFunction afterFilter) {\n        return ExchangeFilterFunction.super.andThen(afterFilter);\n    }\n\n    @Override\n    public ExchangeFunction apply(ExchangeFunction exchange) {\n        return ExchangeFilterFunction.super.apply(exchange);\n    }\n}\n</code></pre>\n<p>So in the current state of my application, does the code that's run throughout an entire request run on the same thread? I've seen some information from another post <a href=\"https://stackoverflow.com/questions/72300024/does-the-use-of-spring-webfluxs-webclient-in-a-blocking-application-design-caus\">here</a> saying that the thread pauses, and in the background a separate thread is used for network operations.</p>\n<p>More specifically, does the <code>block()</code> method call affect how the <code>ExchangeFilterFunction</code> is executed? What I mean by that is does the code in the <code>.filter()</code> method also run on the same thread as the request since we are using <code>block()</code>?</p>\n<p>I haven't seen any documentation so far regarding blocking and the filter function, and I'm not entirely sure how this works behind the scenes.</p>\n<p><strong>UPDATE:</strong>\nThis is directly relating to using <code>MDC</code>. Essentially I am wondering whether MDC can be used as if the entire request is run on 1 thread - like when it's used in <code>RestTemplate</code>. I am wondering if I add a value to the MDC context in the <code>logResponse</code> filter function while using <code>.block()</code>, will it be available to use after the request has been processed?</p>\n<p>Thanks</p>\n"},{"tags":["java","linked-list","binary-search-tree"],"comments":[{"owner":{"account_id":7815822,"reputation":8701,"user_id":5910563,"display_name":"Horia Coman"},"score":2,"creation_date":1494770261,"post_id":43964701,"comment_id":74959440,"body_markdown":"There&#39;s _too much_ detail in this question, and it&#39;s not helping at all. Try to reduce the example to the smallest thing which highlights your issues. Here&#39;s [the guide](https://stackoverflow.com/help/how-to-ask) to asking a question.","body":"There&#39;s <i>too much</i> detail in this question, and it&#39;s not helping at all. Try to reduce the example to the smallest thing which highlights your issues. Here&#39;s <a href=\"https://stackoverflow.com/help/how-to-ask\">the guide</a> to asking a question."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1494770303,"post_id":43964701,"comment_id":74959454,"body_markdown":"You can&#39;t use primitive types (like int) as generic type. use Integer.","body":"You can&#39;t use primitive types (like int) as generic type. use Integer."},{"owner":{"account_id":1191576,"reputation":1115,"user_id":3729797,"display_name":"Julien Rous&#233;"},"score":1,"creation_date":1494770642,"post_id":43964701,"comment_id":74959551,"body_markdown":"Try `LinkedBinarySearchTree&lt;Integer&gt; tree = new LinkedBinarySearchTree&lt;&gt;();`\n\nYou can&#39;t use _int_ as a generic type.","body":"Try <code>LinkedBinarySearchTree&lt;Integer&gt; tree = new LinkedBinarySearchTree&lt;&gt;();</code>  You can&#39;t use <i>int</i> as a generic type."},{"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"score":0,"creation_date":1494771662,"post_id":43964701,"comment_id":74959872,"body_markdown":"@JulienRous&#233; what could i do to print the root value of the tree?","body":"@JulienRous&#233; what could i do to print the root value of the tree?"},{"owner":{"account_id":1191576,"reputation":1115,"user_id":3729797,"display_name":"Julien Rous&#233;"},"score":0,"creation_date":1494772013,"post_id":43964701,"comment_id":74959974,"body_markdown":"@JohnnySack `tree.getRootNode().getElement()` as the code you posted suggest.","body":"@JohnnySack <code>tree.getRootNode().getElement()</code> as the code you posted suggest."},{"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"score":0,"creation_date":1494772335,"post_id":43964701,"comment_id":74960063,"body_markdown":"@JulienRous&#233; Thanks! Could I also get the balance factor of the tree in the same way if I make that method public instead of private?","body":"@JulienRous&#233; Thanks! Could I also get the balance factor of the tree in the same way if I make that method public instead of private?"},{"owner":{"account_id":1191576,"reputation":1115,"user_id":3729797,"display_name":"Julien Rous&#233;"},"score":0,"creation_date":1494772394,"post_id":43964701,"comment_id":74960089,"body_markdown":"@JohnnySack I don&#39;t understand what you mean by &quot;that method&quot;? Edit: ok i think you mean the `private int getBalanceFactor(BinaryTreeNode&lt;T&gt; current)`. I guess yes you could di it that way or writing a public method calling it.","body":"@JohnnySack I don&#39;t understand what you mean by &quot;that method&quot;? Edit: ok i think you mean the <code>private int getBalanceFactor(BinaryTreeNode&lt;T&gt; current)</code>. I guess yes you could di it that way or writing a public method calling it."},{"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"score":0,"creation_date":1494774786,"post_id":43964701,"comment_id":74960882,"body_markdown":"@JulienRous&#233; I did that but it needs BinaryTreeNode&lt;T&gt; current parameter. how would i call this in the driver class?","body":"@JulienRous&#233; I did that but it needs BinaryTreeNode&lt;T&gt; current parameter. how would i call this in the driver class?"},{"owner":{"account_id":1191576,"reputation":1115,"user_id":3729797,"display_name":"Julien Rous&#233;"},"score":0,"creation_date":1494780232,"post_id":43964701,"comment_id":74962777,"body_markdown":"@JohnnySack you pass it the root node to get the balance factor of your whole tree","body":"@JohnnySack you pass it the root node to get the balance factor of your whole tree"}],"answers":[{"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1494770640,"creation_date":1494770640,"answer_id":43964798,"question_id":43964701,"body_markdown":"You Cannot Instantiate Generic Types with Primitive Types.\r\nfor an example \r\n\r\nConsider the following parameterized type:\r\n\r\n    class Pair&lt;K, V&gt; {\r\n    \r\n        private K key;\r\n        private V value;\r\n    \r\n        public Pair(K key, V value) {\r\n            this.key = key;\r\n            this.value = value;\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nWhen creating a Pair object, you cannot substitute a primitive type for the type parameter K or V:\r\n\r\n    Pair&lt;int, char&gt; p = new Pair&lt;&gt;(8, &#39;a&#39;);  // compile-time error\r\n\r\nYou can substitute only non-primitive types for the type parameters K and V:\r\n\r\n    Pair&lt;Integer, Character&gt; p = new Pair&lt;&gt;(8, &#39;a&#39;);\r\n\r\nNote that the Java compiler autoboxes 8 to Integer.valueOf(8) and &#39;a&#39; to Character(&#39;a&#39;):\r\n\r\n    Pair&lt;Integer, Character&gt; p = new Pair&lt;&gt;(Integer.valueOf(8), new Character(&#39;a&#39;));\r\n\r\n","title":"constructing a binary search tree in java","body":"<p>You Cannot Instantiate Generic Types with Primitive Types.\nfor an example </p>\n\n<p>Consider the following parameterized type:</p>\n\n<pre><code>class Pair&lt;K, V&gt; {\n\n    private K key;\n    private V value;\n\n    public Pair(K key, V value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>When creating a Pair object, you cannot substitute a primitive type for the type parameter K or V:</p>\n\n<pre><code>Pair&lt;int, char&gt; p = new Pair&lt;&gt;(8, 'a');  // compile-time error\n</code></pre>\n\n<p>You can substitute only non-primitive types for the type parameters K and V:</p>\n\n<pre><code>Pair&lt;Integer, Character&gt; p = new Pair&lt;&gt;(8, 'a');\n</code></pre>\n\n<p>Note that the Java compiler autoboxes 8 to Integer.valueOf(8) and 'a' to Character('a'):</p>\n\n<pre><code>Pair&lt;Integer, Character&gt; p = new Pair&lt;&gt;(Integer.valueOf(8), new Character('a'));\n</code></pre>\n"}],"owner":{"account_id":6387922,"reputation":29,"user_id":4955184,"accept_rate":60,"display_name":"Johnny Sack"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43964798,"answer_count":1,"score":0,"last_activity_date":1675956074,"creation_date":1494770116,"question_id":43964701,"body_markdown":"I&#39;m trying to construct this binary search tree in Java: \r\n![Image][1]\r\n[1]: http://imgur.com/a/lNZ3D\r\n\r\nHere&#39;s my linked binary search tree implementation class:\r\n\r\n    /**\r\n     * LinkedBinarySearchTree implements the BinarySearchTreeADT interface \r\n     * with links.\r\n     * \r\n     * @author Java Foundations\r\n     * @version 4.0\r\n     */\r\n    public class LinkedBinarySearchTree&lt;T&gt; extends LinkedBinaryTree&lt;T&gt;\r\n                                            implements BinarySearchTreeADT&lt;T&gt;\r\n    {\r\n        /**\r\n         * Creates an empty binary search tree.\r\n         */\r\n        public LinkedBinarySearchTree() \r\n        {\r\n            super();\r\n        }\r\n        \r\n        /**\r\n         * Creates a binary search with the specified element as its root.\r\n         *\r\n         * @param element the element that will be the root of the new binary\r\n         *        search tree\r\n         */\r\n        public LinkedBinarySearchTree(T element) \r\n        {\r\n            super(element);\r\n            \r\n            if (!(element instanceof Comparable))\r\n                throw new NonComparableElementException(&quot;LinkedBinarySearchTree&quot;);\r\n        }\r\n        \r\n        /**\r\n         * Adds the specified object to the binary search tree in the\r\n         * appropriate position according to its natural order.  Note that\r\n         * equal elements are added to the right.\r\n         *\r\n         * @param element the element to be added to the binary search tree\r\n         */\r\n        public void addElement(T element) \r\n        {\r\n            if (!(element instanceof Comparable))\r\n                throw new NonComparableElementException(&quot;LinkedBinarySearchTree&quot;);\r\n    \r\n            Comparable&lt;T&gt; comparableElement = (Comparable&lt;T&gt;)element;\r\n    \r\n            if (isEmpty())\r\n                root = new BinaryTreeNode&lt;T&gt;(element);\r\n            else \r\n            {\r\n                if (comparableElement.compareTo(root.getElement()) &lt; 0)\r\n                {\r\n                    if (root.getLeft() == null) \r\n                        this.getRootNode().setLeft(new BinaryTreeNode&lt;T&gt;(element));\r\n                    else\r\n                        addElement(element, root.getLeft());\r\n                }\r\n                else\r\n                {\r\n                    if (root.getRight() == null) \r\n                        this.getRootNode().setRight(new BinaryTreeNode&lt;T&gt;(element));\r\n                    else\r\n                        addElement(element, root.getRight());\r\n                }\r\n            }\r\n            modCount++;\r\n        }\r\n        \r\n        /**\r\n         * Adds the specified object to the binary search tree in the\r\n         * appropriate position according to its natural order.  Note that\r\n         * equal elements are added to the right.\r\n         *\r\n         * @param element the element to be added to the binary search tree\r\n         */\r\n        private void addElement(T element, BinaryTreeNode&lt;T&gt; node) \r\n        {\r\n            Comparable&lt;T&gt; comparableElement = (Comparable&lt;T&gt;)element;\r\n            \r\n            if (comparableElement.compareTo(node.getElement()) &lt; 0)\r\n            {\r\n                if (node.getLeft() == null) \r\n                    node.setLeft(new BinaryTreeNode&lt;T&gt;(element));\r\n                else\r\n                    addElement(element, node.getLeft());\r\n            }\r\n            else\r\n            {\r\n                if (node.getRight() == null) \r\n                    node.setRight(new BinaryTreeNode&lt;T&gt;(element));\r\n                else\r\n                    addElement(element, node.getRight());\r\n            }\r\n        }\r\n            \r\n            \r\n        /**\r\n         * Removes the first element that matches the specified target\r\n         * element from the binary search tree and returns a reference to\r\n         * it.  Throws a ElementNotFoundException if the specified target\r\n         * element is not found in the binary search tree.\r\n         *\r\n         * @param targetElement the element being sought in the binary search tree\r\n         * @throws ElementNotFoundException if the target element is not found\r\n         */\r\n        public T removeElement(T targetElement)\r\n                                      throws ElementNotFoundException \r\n        {\r\n            T result = null;\r\n    \r\n            if (isEmpty())\r\n                throw new ElementNotFoundException(&quot;LinkedBinarySearchTree&quot;);\r\n            else\r\n            {\r\n                BinaryTreeNode&lt;T&gt; parent = null;\r\n                if (((Comparable&lt;T&gt;)targetElement).equals(root.element)) \r\n                {\r\n                    result =  root.element;\r\n                    BinaryTreeNode&lt;T&gt; temp = replacement(root);\r\n                    if (temp == null)\r\n                        root = null;\r\n                    else \r\n                    {\r\n                        root.element = temp.element;\r\n                        root.setRight(temp.right);\r\n                        root.setLeft(temp.left);\r\n                    }\r\n    \r\n                    modCount--;\r\n                }\r\n                else \r\n                {                \r\n                    parent = root;\r\n                    if (((Comparable)targetElement).compareTo(root.element) &lt; 0)\r\n                        result = removeElement(targetElement, root.getLeft(), parent);\r\n                    else\r\n                        result = removeElement(targetElement, root.getRight(), parent);\r\n                }\r\n            }\r\n            \r\n            return result;\r\n        }\r\n                    \r\n        /**\r\n         * Removes the first element that matches the specified target\r\n         * element from the binary search tree and returns a reference to\r\n         * it.  Throws a ElementNotFoundException if the specified target\r\n         * element is not found in the binary search tree.\r\n         *\r\n         * @param targetElement the element being sought in the binary search tree\r\n         * @param node the node from which to search\r\n         * @param parent the parent of the node from which to search\r\n         * @throws ElementNotFoundException if the target element is not found\r\n         */\r\n        private T removeElement(T targetElement, BinaryTreeNode&lt;T&gt; node, BinaryTreeNode&lt;T&gt; parent)\r\n        throws ElementNotFoundException \r\n        {\r\n            T result = null;\r\n            \r\n            if (node == null)\r\n                throw new ElementNotFoundException(&quot;LinkedBinarySearchTree&quot;);\r\n            else\r\n            {\r\n                if (((Comparable&lt;T&gt;)targetElement).equals(node.element)) \r\n                {\r\n                    result =  node.element;\r\n                    BinaryTreeNode&lt;T&gt; temp = replacement(node);\r\n                    if (parent.right == node)\r\n                        parent.right = temp;\r\n                    else \r\n                        parent.left = temp;\r\n    \r\n                    modCount--;\r\n                }\r\n                else \r\n                {                \r\n                    parent = node;\r\n                    if (((Comparable)targetElement).compareTo(node.element) &lt; 0)\r\n                        result = removeElement(targetElement, node.getLeft(), parent);\r\n                    else\r\n                        result = removeElement(targetElement, node.getRight(), parent);\r\n                }\r\n            }\r\n            \r\n            return result;\r\n        }\r\n        \r\n        /**\r\n         * Returns a reference to a node that will replace the one\r\n         * specified for removal.  In the case where the removed node has \r\n         * two children, the inorder successor is used as its replacement.\r\n         *\r\n         * @param node the node to be removed\r\n         * @return a reference to the replacing node\r\n         */\r\n        private BinaryTreeNode&lt;T&gt; replacement(BinaryTreeNode&lt;T&gt; node) \r\n        {\r\n            BinaryTreeNode&lt;T&gt; result = null;\r\n            \r\n            if ((node.left == null) &amp;&amp; (node.right == null))\r\n                result = null;\r\n            \r\n            else if ((node.left != null) &amp;&amp; (node.right == null))\r\n                result = node.left;\r\n            \r\n            else if ((node.left == null) &amp;&amp; (node.right != null))\r\n                result = node.right;\r\n            \r\n            else\r\n            {\r\n                BinaryTreeNode&lt;T&gt; current = node.right;\r\n                BinaryTreeNode&lt;T&gt; parent = node;\r\n                \r\n                while (current.left != null)\r\n                {\r\n                    parent = current;\r\n                    current = current.left;\r\n                }\r\n                \r\n                current.left = node.left;\r\n                if (node.right != current)\r\n                {\r\n                    parent.left = current.right;\r\n                    current.right = node.right;\r\n                }\r\n                \r\n                result = current;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n        \r\n        /**\r\n         * Removes elements that match the specified target element from \r\n         * the binary search tree. Throws a ElementNotFoundException if \r\n         * the specified target element is not found in this tree.\r\n         *\r\n         * @param targetElement the element being sought in the binary search tree\r\n         * @throws ElementNotFoundException if the target element is not found\r\n         */\r\n        public void removeAllOccurrences(T targetElement)\r\n                       throws ElementNotFoundException \r\n        {\r\n            removeElement(targetElement);\r\n            \r\n            try\r\n            {\r\n                while (contains((T)targetElement))\r\n                    removeElement(targetElement);\r\n            }\r\n            \r\n            catch (Exception ElementNotFoundException)\r\n            {\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Removes the node with the least value from the binary search\r\n         * tree and returns a reference to its element.  Throws an\r\n         * EmptyCollectionException if this tree is empty. \r\n         *\r\n         * @return a reference to the node with the least value\r\n         * @throws EmptyCollectionException if the tree is empty\r\n         */\r\n        public T removeMin() throws EmptyCollectionException \r\n        {\r\n            T result = null;\r\n    \r\n            if (isEmpty())\r\n                throw new EmptyCollectionException(&quot;LinkedBinarySearchTree&quot;);\r\n            else \r\n            {\r\n                if (root.left == null) \r\n                {\r\n                    result = root.element;\r\n                    root = root.right;\r\n                }\r\n                else \r\n                {\r\n                    BinaryTreeNode&lt;T&gt; parent = root;\r\n                    BinaryTreeNode&lt;T&gt; current = root.left;\r\n                    while (current.left != null) \r\n                    {\r\n                        parent = current;\r\n                        current = current.left;\r\n                    }\r\n                    result =  current.element;\r\n                    parent.left = current.right;\r\n                }\r\n    \r\n                modCount--;\r\n            }\r\n     \r\n            return result;\r\n        }\r\n    \r\n        /**\r\n         * Removes the node with the highest value from the binary\r\n         * search tree and returns a reference to its element.  Throws an\r\n         * EmptyCollectionException if this tree is empty. \r\n         *\r\n         * @return a reference to the node with the highest value\r\n         * @throws EmptyCollectionException if the tree is empty\r\n         */\r\n        public T removeMax() throws EmptyCollectionException \r\n        {\r\n            \r\n        \t T result = null;\r\n    \r\n             if (isEmpty())\r\n                  throw new EmptyCollectionException (&quot;binary tree&quot;);\r\n             else \r\n             {\r\n                if (root.right == null) \r\n                {\r\n                   result =  root.element;\r\n                   root = root.left;\r\n                } //if\r\n                else \r\n                {\r\n                     BinaryTreeNode&lt;T&gt; parent = root;\r\n                     BinaryTreeNode&lt;T&gt; current = root.right;\r\n    \r\n                     while (current.right != null) \r\n                     {\r\n                        parent = current;\r\n                        current = current.right;\r\n                     } //while\r\n    \r\n                     result =  current.element;\r\n                     parent.right = current.left;\r\n                  } //else\r\n    \r\n                modCount--;\r\n             } //else\r\n    \r\n             return result;\r\n        }\r\n    \r\n        /**\r\n         * Returns the element with the least value in the binary search\r\n         * tree. It does not remove the node from the binary search tree. \r\n         * Throws an EmptyCollectionException if this tree is empty.\r\n         *\r\n         * @return the element with the least value\r\n         * @throws EmptyCollectionException if the tree is empty\r\n         */\r\n        public T findMin() throws EmptyCollectionException \r\n        {\r\n            \r\n        \tT result = null;\r\n    \r\n            if (isEmpty())\r\n                 throw new EmptyCollectionException (&quot;binary tree&quot;);\r\n            else \r\n            {\r\n               BinaryTreeNode&lt;T&gt; current = root;\r\n              \r\n               while (current.left != null)\r\n                  current = current.left;\r\n             \r\n               result = current.element;\r\n            } //else\r\n    \r\n            return result;\r\n        }\r\n    \r\n        /**\r\n         * Returns the element with the highest value in the binary\r\n         * search tree.  It does not remove the node from the binary\r\n         * search tree.  Throws an EmptyCollectionException if this \r\n         * tree is empty.\r\n         *\r\n         * @return the element with the highest value\r\n         * @throws EmptyCollectionException if the tree is empty\r\n         */\r\n        public T findMax() throws EmptyCollectionException \r\n        {\r\n             T result = null;\r\n    \r\n             if (isEmpty())\r\n                  throw new EmptyCollectionException (&quot;binary tree&quot;);\r\n             else \r\n             {\r\n                BinaryTreeNode&lt;T&gt; current = root;\r\n             \r\n                while (current.right != null)\r\n                   current = current.right;\r\n    \r\n               result = current.element;\r\n             } //else\r\n        \r\n             return result;\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Returns a reference to the specified target element if it is\r\n         * found in the binary tree.  Throws a NoSuchElementException if\r\n         * the specified target element is not found in this tree.\r\n         *\r\n         * @param targetElement the element being sought in the binary tree\r\n         * @throws ElementNotFoundException if the target element is not found\r\n         */\r\n        public T find(T targetElement) throws ElementNotFoundException \r\n        {\r\n            \r\n        \tBinaryTreeNode&lt;T&gt; current = root; \r\n       \t    BinaryTreeNode&lt;T&gt; temp = current;\r\n    \r\n          \r\n             if (!(current.element.equals(targetElement)) &amp;&amp; (current.left !=null)&amp;&amp;(((Comparable)current.element).compareTo(targetElement) &gt; 0))\r\n       \t\tcurrent = findNode( targetElement, current.left);\r\n    \r\n             else if (!(current.element.equals(targetElement)) &amp;&amp; (current.right != null)) \r\n       \t\tcurrent = findNode( targetElement, current.right); \r\n    \r\n             if (!(current.element.equals(targetElement)))\r\n                throw new ElementNotFoundException (&quot;binarytree&quot;);\r\n    \r\n             return current.element;\r\n        }\r\n        \r\n        /**\r\n         * Returns the left subtree of the root of this tree.\r\n         *\r\n         * @return a link to the left subtree of the tree\r\n         */\r\n        public LinkedBinarySearchTree&lt;T&gt; getLeft()\r\n        {\r\n        \tif (root == null) \r\n                throw new EmptyCollectionException(&quot;getLeft failed - the tree is empty&quot;);\r\n            LinkedBinarySearchTree &lt;T&gt; result = new LinkedBinarySearchTree&lt;T&gt; ();\r\n            result.root = root.getLeft();\r\n            return result;\r\n        }\r\n        \r\n        /**\r\n         * Returns the right subtree of the root of this tree.\r\n         *\r\n         * @return a link to the right subtree of the tree\r\n         */\r\n        public LinkedBinarySearchTree&lt;T&gt; getRight()\r\n        {\r\n            \r\n        \tif (root == null) \r\n                throw new EmptyCollectionException(&quot;getLeft failed - the tree is empty&quot;);\r\n            LinkedBinarySearchTree &lt;T&gt; result = new LinkedBinarySearchTree&lt;T&gt; ();\r\n            result.root = root.getRight();\r\n            return result;\r\n        }\r\n        \r\n        /**\r\n         * Returns a reference to the specified target element if it is\r\n         * found in this tree.  \r\n         *\r\n         * @param targetElement the element being sought in the tree\r\n         * @param next the tree node to begin searching on\r\n         */\r\n        private BinaryTreeNode&lt;T&gt; findNode(T targetElement, BinaryTreeNode&lt;T&gt; next) \r\n        {\r\n        \tBinaryTreeNode&lt;T&gt; current = next;\r\n            if (!(next.element.equals(targetElement)) &amp;&amp; (next.left !=null) &amp;&amp;(((Comparable)next.element).compareTo(targetElement) &gt; 0))\r\n       \t\tnext = findNode( targetElement, next.left); \r\n            else if (!(next.element.equals(targetElement)) &amp;&amp; (next.right != null))\r\n       \t\tnext = findNode( targetElement, next.right);                     \r\n            \r\n      \t return next;\r\n        }\r\n        \r\n        /*balances the binary search tree so that it maintains\r\n    \t * the maximum difference of the path lengths of the \r\n    \t * left and right children as not more than one*/\r\n    \tpublic void balance() {\r\n    \t\t//verify if balance factor of the root of the tree is -2\r\n    \t\tif(getBalanceFactor(root) == -2) {\r\n    \t\t\t//verify if balance factor of left child of tree root is 1\r\n    \t\t\tif(getBalanceFactor(root.left) == 1)\r\n    \t\t\t\troot = leftRightRotation(root);\r\n    \t\t\telse \r\n    \t\t\t\troot = rightRotation(root);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t//verify if balance factor of tree root is 2\r\n    \t\telse if(getBalanceFactor(root) == 2) {\r\n    \t\t\t//verify if balance factor of right child of tree root is -1\r\n    \t\t\tif(getBalanceFactor(root.right) == -1) {\r\n    \t\t\t\troot = rightLeftRotation(root);\r\n    \t\t\t}\r\n    \t\t\telse \r\n    \t\t\t\troot = leftRotation(root);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t/*performs right rotation and left rotation, then returns new root*/\r\n    \tprivate BinaryTreeNode&lt;T&gt; rightLeftRotation(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\tcurrent.right  = rightRotation(current.right);\r\n    \t\t\r\n    \t\tcurrent = leftRotation(current);\r\n    \t\t\r\n    \t\treturn current;\r\n    \t}\r\n    \t\r\n    \t/*performs left rotation then right rotation then returns new root*/\r\n    \tprivate BinaryTreeNode&lt;T&gt; leftRightRotation(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\tcurrent.left = leftRotation(current.left);\r\n    \t\t\r\n    \t\tcurrent = rightRotation(current);\r\n    \t\t\r\n    \t\treturn current;\r\n    \t}\r\n    \t\r\n    \t/*returns new root after performing right rotation of specified node*/\r\n    \tprivate BinaryTreeNode&lt;T&gt; rightRotation(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\t\r\n    \t\tBinaryTreeNode&lt;T&gt; newRoot = current.left;\r\n    \t\tBinaryTreeNode&lt;T&gt; temp = newRoot.right;\r\n    \t\t\r\n    \t\tnewRoot.right = current;\r\n    \t\t\r\n    \t\tcurrent.left = temp;\r\n    \t\t\r\n    \t\treturn newRoot;\r\n    \t}\r\n    \t\r\n    \t//returns new root after performing left rotation of specified node\r\n    \tprivate BinaryTreeNode&lt;T&gt; leftRotation(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\tBinaryTreeNode&lt;T&gt; newRoot = current.right;\r\n    \t\tBinaryTreeNode&lt;T&gt; temp = newRoot.left;\r\n    \t\t\r\n    \t\tnewRoot.left = current;\r\n    \t\t\r\n    \t\tcurrent.right = temp;\r\n    \t\t\r\n    \t\treturn newRoot;\r\n    \t}\r\n    \t\r\n    \t//returns difference between path lengths of heights of left and right sides of root\r\n    \tprivate int getBalanceFactor(BinaryTreeNode&lt;T&gt; current) {\r\n    \t\tint leftHeight = getHeight(current.left);\r\n    \t\t\r\n    \t\tint rightHeight = getHeight(current.right);\r\n    \t\t\r\n    \t\treturn(rightHeight - leftHeight);\r\n    \t}\r\n    \t\r\n    \t//returns the height of the specified node\r\n    \tprivate int getHeight(BinaryTreeNode&lt;T&gt; newRoot) {\r\n    \t\tif(newRoot == null)\r\n    \t\t\treturn 0;\r\n    \t\telse \r\n    \t\t\treturn 1 + Math.max(getHeight(newRoot.left), getHeight(newRoot.right));\r\n    \t\t\r\n    \t}\r\n        \r\n    }\r\n\r\nHere&#39;s my driver program where my utlimate goal is to create the binary search tree from the image above, balance it, and test if it is balanced:\r\n\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    \r\n    public class IsHeightBalanced {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tLinkedBinarySearchTree&lt;int&gt; tree = new LinkedBinarySearchTree&lt;int&gt;;\r\n    \t\t\r\n    \t\ttree.addElement(13);\r\n    \t\ttree.addElement(7);\r\n    \t\ttree.addElement(15);\r\n    \t\ttree.addElement(5);\r\n    \t\ttree.addElement(10);\r\n    \t\ttree.addElement(3);\r\n    \r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nRight now I&#39;m just trying to construct that binary search tree from the picture here and the line \r\n\r\n    LinkedBinarySearchTree&lt;int&gt; tree = new LinkedBinarySearchTree&lt;int&gt;();\r\n\r\nis giving me errors like &quot;insert dimensions to complete reference type&quot;\r\n\r\nWhy is this giving such an error? Am I on the right track to creating the binary search tree seen in the picture above? Thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XhZLl.jpg","title":"constructing a binary search tree in java","body":"<p>I'm trying to construct this binary search tree in Java: \n<img src=\"https://i.stack.imgur.com/XhZLl.jpg\" alt=\"Image\">\nHere's my linked binary search tree implementation class:</p>\n\n<pre><code>/**\n * LinkedBinarySearchTree implements the BinarySearchTreeADT interface \n * with links.\n * \n * @author Java Foundations\n * @version 4.0\n */\npublic class LinkedBinarySearchTree&lt;T&gt; extends LinkedBinaryTree&lt;T&gt;\n                                        implements BinarySearchTreeADT&lt;T&gt;\n{\n    /**\n     * Creates an empty binary search tree.\n     */\n    public LinkedBinarySearchTree() \n    {\n        super();\n    }\n\n    /**\n     * Creates a binary search with the specified element as its root.\n     *\n     * @param element the element that will be the root of the new binary\n     *        search tree\n     */\n    public LinkedBinarySearchTree(T element) \n    {\n        super(element);\n\n        if (!(element instanceof Comparable))\n            throw new NonComparableElementException(\"LinkedBinarySearchTree\");\n    }\n\n    /**\n     * Adds the specified object to the binary search tree in the\n     * appropriate position according to its natural order.  Note that\n     * equal elements are added to the right.\n     *\n     * @param element the element to be added to the binary search tree\n     */\n    public void addElement(T element) \n    {\n        if (!(element instanceof Comparable))\n            throw new NonComparableElementException(\"LinkedBinarySearchTree\");\n\n        Comparable&lt;T&gt; comparableElement = (Comparable&lt;T&gt;)element;\n\n        if (isEmpty())\n            root = new BinaryTreeNode&lt;T&gt;(element);\n        else \n        {\n            if (comparableElement.compareTo(root.getElement()) &lt; 0)\n            {\n                if (root.getLeft() == null) \n                    this.getRootNode().setLeft(new BinaryTreeNode&lt;T&gt;(element));\n                else\n                    addElement(element, root.getLeft());\n            }\n            else\n            {\n                if (root.getRight() == null) \n                    this.getRootNode().setRight(new BinaryTreeNode&lt;T&gt;(element));\n                else\n                    addElement(element, root.getRight());\n            }\n        }\n        modCount++;\n    }\n\n    /**\n     * Adds the specified object to the binary search tree in the\n     * appropriate position according to its natural order.  Note that\n     * equal elements are added to the right.\n     *\n     * @param element the element to be added to the binary search tree\n     */\n    private void addElement(T element, BinaryTreeNode&lt;T&gt; node) \n    {\n        Comparable&lt;T&gt; comparableElement = (Comparable&lt;T&gt;)element;\n\n        if (comparableElement.compareTo(node.getElement()) &lt; 0)\n        {\n            if (node.getLeft() == null) \n                node.setLeft(new BinaryTreeNode&lt;T&gt;(element));\n            else\n                addElement(element, node.getLeft());\n        }\n        else\n        {\n            if (node.getRight() == null) \n                node.setRight(new BinaryTreeNode&lt;T&gt;(element));\n            else\n                addElement(element, node.getRight());\n        }\n    }\n\n\n    /**\n     * Removes the first element that matches the specified target\n     * element from the binary search tree and returns a reference to\n     * it.  Throws a ElementNotFoundException if the specified target\n     * element is not found in the binary search tree.\n     *\n     * @param targetElement the element being sought in the binary search tree\n     * @throws ElementNotFoundException if the target element is not found\n     */\n    public T removeElement(T targetElement)\n                                  throws ElementNotFoundException \n    {\n        T result = null;\n\n        if (isEmpty())\n            throw new ElementNotFoundException(\"LinkedBinarySearchTree\");\n        else\n        {\n            BinaryTreeNode&lt;T&gt; parent = null;\n            if (((Comparable&lt;T&gt;)targetElement).equals(root.element)) \n            {\n                result =  root.element;\n                BinaryTreeNode&lt;T&gt; temp = replacement(root);\n                if (temp == null)\n                    root = null;\n                else \n                {\n                    root.element = temp.element;\n                    root.setRight(temp.right);\n                    root.setLeft(temp.left);\n                }\n\n                modCount--;\n            }\n            else \n            {                \n                parent = root;\n                if (((Comparable)targetElement).compareTo(root.element) &lt; 0)\n                    result = removeElement(targetElement, root.getLeft(), parent);\n                else\n                    result = removeElement(targetElement, root.getRight(), parent);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Removes the first element that matches the specified target\n     * element from the binary search tree and returns a reference to\n     * it.  Throws a ElementNotFoundException if the specified target\n     * element is not found in the binary search tree.\n     *\n     * @param targetElement the element being sought in the binary search tree\n     * @param node the node from which to search\n     * @param parent the parent of the node from which to search\n     * @throws ElementNotFoundException if the target element is not found\n     */\n    private T removeElement(T targetElement, BinaryTreeNode&lt;T&gt; node, BinaryTreeNode&lt;T&gt; parent)\n    throws ElementNotFoundException \n    {\n        T result = null;\n\n        if (node == null)\n            throw new ElementNotFoundException(\"LinkedBinarySearchTree\");\n        else\n        {\n            if (((Comparable&lt;T&gt;)targetElement).equals(node.element)) \n            {\n                result =  node.element;\n                BinaryTreeNode&lt;T&gt; temp = replacement(node);\n                if (parent.right == node)\n                    parent.right = temp;\n                else \n                    parent.left = temp;\n\n                modCount--;\n            }\n            else \n            {                \n                parent = node;\n                if (((Comparable)targetElement).compareTo(node.element) &lt; 0)\n                    result = removeElement(targetElement, node.getLeft(), parent);\n                else\n                    result = removeElement(targetElement, node.getRight(), parent);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Returns a reference to a node that will replace the one\n     * specified for removal.  In the case where the removed node has \n     * two children, the inorder successor is used as its replacement.\n     *\n     * @param node the node to be removed\n     * @return a reference to the replacing node\n     */\n    private BinaryTreeNode&lt;T&gt; replacement(BinaryTreeNode&lt;T&gt; node) \n    {\n        BinaryTreeNode&lt;T&gt; result = null;\n\n        if ((node.left == null) &amp;&amp; (node.right == null))\n            result = null;\n\n        else if ((node.left != null) &amp;&amp; (node.right == null))\n            result = node.left;\n\n        else if ((node.left == null) &amp;&amp; (node.right != null))\n            result = node.right;\n\n        else\n        {\n            BinaryTreeNode&lt;T&gt; current = node.right;\n            BinaryTreeNode&lt;T&gt; parent = node;\n\n            while (current.left != null)\n            {\n                parent = current;\n                current = current.left;\n            }\n\n            current.left = node.left;\n            if (node.right != current)\n            {\n                parent.left = current.right;\n                current.right = node.right;\n            }\n\n            result = current;\n        }\n\n        return result;\n    }\n\n    /**\n     * Removes elements that match the specified target element from \n     * the binary search tree. Throws a ElementNotFoundException if \n     * the specified target element is not found in this tree.\n     *\n     * @param targetElement the element being sought in the binary search tree\n     * @throws ElementNotFoundException if the target element is not found\n     */\n    public void removeAllOccurrences(T targetElement)\n                   throws ElementNotFoundException \n    {\n        removeElement(targetElement);\n\n        try\n        {\n            while (contains((T)targetElement))\n                removeElement(targetElement);\n        }\n\n        catch (Exception ElementNotFoundException)\n        {\n        }\n    }\n\n    /**\n     * Removes the node with the least value from the binary search\n     * tree and returns a reference to its element.  Throws an\n     * EmptyCollectionException if this tree is empty. \n     *\n     * @return a reference to the node with the least value\n     * @throws EmptyCollectionException if the tree is empty\n     */\n    public T removeMin() throws EmptyCollectionException \n    {\n        T result = null;\n\n        if (isEmpty())\n            throw new EmptyCollectionException(\"LinkedBinarySearchTree\");\n        else \n        {\n            if (root.left == null) \n            {\n                result = root.element;\n                root = root.right;\n            }\n            else \n            {\n                BinaryTreeNode&lt;T&gt; parent = root;\n                BinaryTreeNode&lt;T&gt; current = root.left;\n                while (current.left != null) \n                {\n                    parent = current;\n                    current = current.left;\n                }\n                result =  current.element;\n                parent.left = current.right;\n            }\n\n            modCount--;\n        }\n\n        return result;\n    }\n\n    /**\n     * Removes the node with the highest value from the binary\n     * search tree and returns a reference to its element.  Throws an\n     * EmptyCollectionException if this tree is empty. \n     *\n     * @return a reference to the node with the highest value\n     * @throws EmptyCollectionException if the tree is empty\n     */\n    public T removeMax() throws EmptyCollectionException \n    {\n\n         T result = null;\n\n         if (isEmpty())\n              throw new EmptyCollectionException (\"binary tree\");\n         else \n         {\n            if (root.right == null) \n            {\n               result =  root.element;\n               root = root.left;\n            } //if\n            else \n            {\n                 BinaryTreeNode&lt;T&gt; parent = root;\n                 BinaryTreeNode&lt;T&gt; current = root.right;\n\n                 while (current.right != null) \n                 {\n                    parent = current;\n                    current = current.right;\n                 } //while\n\n                 result =  current.element;\n                 parent.right = current.left;\n              } //else\n\n            modCount--;\n         } //else\n\n         return result;\n    }\n\n    /**\n     * Returns the element with the least value in the binary search\n     * tree. It does not remove the node from the binary search tree. \n     * Throws an EmptyCollectionException if this tree is empty.\n     *\n     * @return the element with the least value\n     * @throws EmptyCollectionException if the tree is empty\n     */\n    public T findMin() throws EmptyCollectionException \n    {\n\n        T result = null;\n\n        if (isEmpty())\n             throw new EmptyCollectionException (\"binary tree\");\n        else \n        {\n           BinaryTreeNode&lt;T&gt; current = root;\n\n           while (current.left != null)\n              current = current.left;\n\n           result = current.element;\n        } //else\n\n        return result;\n    }\n\n    /**\n     * Returns the element with the highest value in the binary\n     * search tree.  It does not remove the node from the binary\n     * search tree.  Throws an EmptyCollectionException if this \n     * tree is empty.\n     *\n     * @return the element with the highest value\n     * @throws EmptyCollectionException if the tree is empty\n     */\n    public T findMax() throws EmptyCollectionException \n    {\n         T result = null;\n\n         if (isEmpty())\n              throw new EmptyCollectionException (\"binary tree\");\n         else \n         {\n            BinaryTreeNode&lt;T&gt; current = root;\n\n            while (current.right != null)\n               current = current.right;\n\n           result = current.element;\n         } //else\n\n         return result;\n\n    }\n\n    /**\n     * Returns a reference to the specified target element if it is\n     * found in the binary tree.  Throws a NoSuchElementException if\n     * the specified target element is not found in this tree.\n     *\n     * @param targetElement the element being sought in the binary tree\n     * @throws ElementNotFoundException if the target element is not found\n     */\n    public T find(T targetElement) throws ElementNotFoundException \n    {\n\n        BinaryTreeNode&lt;T&gt; current = root; \n        BinaryTreeNode&lt;T&gt; temp = current;\n\n\n         if (!(current.element.equals(targetElement)) &amp;&amp; (current.left !=null)&amp;&amp;(((Comparable)current.element).compareTo(targetElement) &gt; 0))\n        current = findNode( targetElement, current.left);\n\n         else if (!(current.element.equals(targetElement)) &amp;&amp; (current.right != null)) \n        current = findNode( targetElement, current.right); \n\n         if (!(current.element.equals(targetElement)))\n            throw new ElementNotFoundException (\"binarytree\");\n\n         return current.element;\n    }\n\n    /**\n     * Returns the left subtree of the root of this tree.\n     *\n     * @return a link to the left subtree of the tree\n     */\n    public LinkedBinarySearchTree&lt;T&gt; getLeft()\n    {\n        if (root == null) \n            throw new EmptyCollectionException(\"getLeft failed - the tree is empty\");\n        LinkedBinarySearchTree &lt;T&gt; result = new LinkedBinarySearchTree&lt;T&gt; ();\n        result.root = root.getLeft();\n        return result;\n    }\n\n    /**\n     * Returns the right subtree of the root of this tree.\n     *\n     * @return a link to the right subtree of the tree\n     */\n    public LinkedBinarySearchTree&lt;T&gt; getRight()\n    {\n\n        if (root == null) \n            throw new EmptyCollectionException(\"getLeft failed - the tree is empty\");\n        LinkedBinarySearchTree &lt;T&gt; result = new LinkedBinarySearchTree&lt;T&gt; ();\n        result.root = root.getRight();\n        return result;\n    }\n\n    /**\n     * Returns a reference to the specified target element if it is\n     * found in this tree.  \n     *\n     * @param targetElement the element being sought in the tree\n     * @param next the tree node to begin searching on\n     */\n    private BinaryTreeNode&lt;T&gt; findNode(T targetElement, BinaryTreeNode&lt;T&gt; next) \n    {\n        BinaryTreeNode&lt;T&gt; current = next;\n        if (!(next.element.equals(targetElement)) &amp;&amp; (next.left !=null) &amp;&amp;(((Comparable)next.element).compareTo(targetElement) &gt; 0))\n        next = findNode( targetElement, next.left); \n        else if (!(next.element.equals(targetElement)) &amp;&amp; (next.right != null))\n        next = findNode( targetElement, next.right);                     \n\n     return next;\n    }\n\n    /*balances the binary search tree so that it maintains\n     * the maximum difference of the path lengths of the \n     * left and right children as not more than one*/\n    public void balance() {\n        //verify if balance factor of the root of the tree is -2\n        if(getBalanceFactor(root) == -2) {\n            //verify if balance factor of left child of tree root is 1\n            if(getBalanceFactor(root.left) == 1)\n                root = leftRightRotation(root);\n            else \n                root = rightRotation(root);\n\n        }\n        //verify if balance factor of tree root is 2\n        else if(getBalanceFactor(root) == 2) {\n            //verify if balance factor of right child of tree root is -1\n            if(getBalanceFactor(root.right) == -1) {\n                root = rightLeftRotation(root);\n            }\n            else \n                root = leftRotation(root);\n        }\n    }\n\n    /*performs right rotation and left rotation, then returns new root*/\n    private BinaryTreeNode&lt;T&gt; rightLeftRotation(BinaryTreeNode&lt;T&gt; current) {\n        current.right  = rightRotation(current.right);\n\n        current = leftRotation(current);\n\n        return current;\n    }\n\n    /*performs left rotation then right rotation then returns new root*/\n    private BinaryTreeNode&lt;T&gt; leftRightRotation(BinaryTreeNode&lt;T&gt; current) {\n        current.left = leftRotation(current.left);\n\n        current = rightRotation(current);\n\n        return current;\n    }\n\n    /*returns new root after performing right rotation of specified node*/\n    private BinaryTreeNode&lt;T&gt; rightRotation(BinaryTreeNode&lt;T&gt; current) {\n\n        BinaryTreeNode&lt;T&gt; newRoot = current.left;\n        BinaryTreeNode&lt;T&gt; temp = newRoot.right;\n\n        newRoot.right = current;\n\n        current.left = temp;\n\n        return newRoot;\n    }\n\n    //returns new root after performing left rotation of specified node\n    private BinaryTreeNode&lt;T&gt; leftRotation(BinaryTreeNode&lt;T&gt; current) {\n        BinaryTreeNode&lt;T&gt; newRoot = current.right;\n        BinaryTreeNode&lt;T&gt; temp = newRoot.left;\n\n        newRoot.left = current;\n\n        current.right = temp;\n\n        return newRoot;\n    }\n\n    //returns difference between path lengths of heights of left and right sides of root\n    private int getBalanceFactor(BinaryTreeNode&lt;T&gt; current) {\n        int leftHeight = getHeight(current.left);\n\n        int rightHeight = getHeight(current.right);\n\n        return(rightHeight - leftHeight);\n    }\n\n    //returns the height of the specified node\n    private int getHeight(BinaryTreeNode&lt;T&gt; newRoot) {\n        if(newRoot == null)\n            return 0;\n        else \n            return 1 + Math.max(getHeight(newRoot.left), getHeight(newRoot.right));\n\n    }\n\n}\n</code></pre>\n\n<p>Here's my driver program where my utlimate goal is to create the binary search tree from the image above, balance it, and test if it is balanced:</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\n\npublic class IsHeightBalanced {\n\n    public static void main(String[] args) {\n\n        LinkedBinarySearchTree&lt;int&gt; tree = new LinkedBinarySearchTree&lt;int&gt;;\n\n        tree.addElement(13);\n        tree.addElement(7);\n        tree.addElement(15);\n        tree.addElement(5);\n        tree.addElement(10);\n        tree.addElement(3);\n\n\n    }\n\n}\n</code></pre>\n\n<p>Right now I'm just trying to construct that binary search tree from the picture here and the line </p>\n\n<pre><code>LinkedBinarySearchTree&lt;int&gt; tree = new LinkedBinarySearchTree&lt;int&gt;();\n</code></pre>\n\n<p>is giving me errors like \"insert dimensions to complete reference type\"</p>\n\n<p>Why is this giving such an error? Am I on the right track to creating the binary search tree seen in the picture above? Thanks.</p>\n"},{"tags":["java","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":5910933,"reputation":951,"user_id":4651234,"accept_rate":0,"display_name":"Yuriy Alevohin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523605244,"creation_date":1523605244,"answer_id":49811757,"question_id":49810431,"body_markdown":"Log4j2 since 2.9.0 supports such feature: https://issues.apache.org/jira/browse/LOG4J2-1699\r\n\r\nYou can use additional attributes for element `RollingFile` like\r\n\r\n    &lt;RollingFile ... filePermissions=&quot;rw-rw-r--&quot;&gt;","title":"File permissions log4j2","body":"<p>Log4j2 since 2.9.0 supports such feature: <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1699\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-1699</a></p>\n\n<p>You can use additional attributes for element <code>RollingFile</code> like</p>\n\n<pre><code>&lt;RollingFile ... filePermissions=\"rw-rw-r--\"&gt;\n</code></pre>\n"}],"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7501,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675956008,"creation_date":1523600197,"question_id":49810431,"body_markdown":"I using `log4j2`. My config look like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;Configuration status=&quot;warn&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;pattern&quot;&gt;{%X{taskId}} %date{yyyy-MM-dd HH:mm:ss.SSS} %level %M(%F:%L) - %msg%n&lt;/Property&gt;\r\n            &lt;Property name=&quot;folder&quot;&gt;logs&lt;/Property&gt;\r\n            &lt;Property name=&quot;info-filename&quot;&gt;test&lt;/Property&gt;\r\n            &lt;Property name=&quot;error-filename&quot;&gt;test-error&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;RollingFile name=&quot;file&quot; fileName=&quot;${folder}/${info-filename}.log&quot; filePattern=&quot;${folder}/$${date:yyyy-MM-dd}/${info-filename}-%d{yyyy-dd-MM}.%i.log.gz&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${pattern}&quot; /&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;4 GB&quot; /&gt;\r\n                    &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy max=&quot;999999&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n            &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${pattern}&quot; /&gt;\r\n            &lt;/Console&gt;\r\n            &lt;RollingFile name=&quot;file-error&quot; fileName=&quot;${folder}/${error-filename}.log&quot; filePattern=&quot;${folder}/$${date:yyyy-MM-dd}/${error-filename}-%d{yyyy-dd-MM}.%i.log.gz&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${pattern}&quot; /&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;4 GB&quot; /&gt;\r\n                    &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy max=&quot;999999&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;trace&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;file&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;file-error&quot; level=&quot;error&quot; /&gt;\r\n            &lt;/Root&gt;\r\n            &lt;Logger name=&quot;org.apache.http&quot; level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;file-error&quot; level=&quot;error&quot; /&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;org.springframework.ws.client&quot; level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;file-error&quot; level=&quot;error&quot; /&gt;\r\n            &lt;/Logger&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n\r\nI want the folder `logs` and all the files attached to it to be created with  rights `rw-rw-r--`. Also, for the group and the owner to have the same as the user who launched the program. How can I configure my `log4j2` to do this?\r\n","title":"File permissions log4j2","body":"<p>I using <code>log4j2</code>. My config look like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;Configuration status=\"warn\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"pattern\"&gt;{%X{taskId}} %date{yyyy-MM-dd HH:mm:ss.SSS} %level %M(%F:%L) - %msg%n&lt;/Property&gt;\n        &lt;Property name=\"folder\"&gt;logs&lt;/Property&gt;\n        &lt;Property name=\"info-filename\"&gt;test&lt;/Property&gt;\n        &lt;Property name=\"error-filename\"&gt;test-error&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=\"file\" fileName=\"${folder}/${info-filename}.log\" filePattern=\"${folder}/$${date:yyyy-MM-dd}/${info-filename}-%d{yyyy-dd-MM}.%i.log.gz\"&gt;\n            &lt;PatternLayout pattern=\"${pattern}\" /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"4 GB\" /&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=\"999999\"/&gt;\n        &lt;/RollingFile&gt;\n        &lt;Console name=\"console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"${pattern}\" /&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=\"file-error\" fileName=\"${folder}/${error-filename}.log\" filePattern=\"${folder}/$${date:yyyy-MM-dd}/${error-filename}-%d{yyyy-dd-MM}.%i.log.gz\"&gt;\n            &lt;PatternLayout pattern=\"${pattern}\" /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"4 GB\" /&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=\"999999\"/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"trace\"&gt;\n            &lt;AppenderRef ref=\"file\"/&gt;\n            &lt;AppenderRef ref=\"file-error\" level=\"error\" /&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=\"org.apache.http\" level=\"error\"&gt;\n            &lt;AppenderRef ref=\"file-error\" level=\"error\" /&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"org.springframework.ws.client\" level=\"error\"&gt;\n            &lt;AppenderRef ref=\"file-error\" level=\"error\" /&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>I want the folder <code>logs</code> and all the files attached to it to be created with  rights <code>rw-rw-r--</code>. Also, for the group and the owner to have the same as the user who launched the program. How can I configure my <code>log4j2</code> to do this?</p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":1,"creation_date":1301142715,"post_id":5442284,"comment_id":6163883,"body_markdown":"A `DateFormat` formats a date, not a duration. For the difference, consult a dictionary. For converting minutes into hours I’d recommend checking said dictionary, look for “division.”","body":"A <code>DateFormat</code> formats a date, not a duration. For the difference, consult a dictionary. For converting minutes into hours I’d recommend checking said dictionary, look for “division.”"},{"owner":{"account_id":298386,"reputation":19951,"user_id":604388,"accept_rate":75,"display_name":"LA_"},"score":0,"creation_date":1301143454,"post_id":5442284,"comment_id":6163958,"body_markdown":"So, are you suggesting manually to divide minutes by 60, take integer part as hours, remainder as minutes?","body":"So, are you suggesting manually to divide minutes by 60, take integer part as hours, remainder as minutes?"},{"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":0,"creation_date":1301164026,"post_id":5442284,"comment_id":6166776,"body_markdown":"LA_, of course because that is exactly how it’s done. :)","body":"LA_, of course because that is exactly how it’s done. :)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675934864,"post_id":5442284,"comment_id":133035790,"body_markdown":"Convert to a `Duration`, for example `Duration movieDuration = Duration.ofMinutes(97);`. Since Java 9 and probably available on Android through desugaring, format like `String.format(Locale.US, &quot;%d:%02d&quot;, movieDuration.toHours(), movieDuration.toMinutesPart())`. In this example the result is `1:37`.","body":"Convert to a <code>Duration</code>, for example <code>Duration movieDuration = Duration.ofMinutes(97);</code>. Since Java 9 and probably available on Android through desugaring, format like <code>String.format(Locale.US, &quot;%d:%02d&quot;, movieDuration.toHours(), movieDuration.toMinutesPart())</code>. In this example the result is <code>1:37</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675935105,"post_id":5442284,"comment_id":133035866,"body_markdown":"Does this answer your question? [How to convert minutes to Hours and minutes (hh:mm) in java](https://stackoverflow.com/questions/5387371/how-to-convert-minutes-to-hours-and-minutes-hhmm-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5387371/how-to-convert-minutes-to-hours-and-minutes-hhmm-in-java\">How to convert minutes to Hours and minutes (hh:mm) in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1301143646,"creation_date":1301143646,"answer_id":5442398,"question_id":5442284,"body_markdown":"    public static String formatHoursAndMinutes(int totalMinutes) {\r\n        String minutes = Integer.toString(totalMinutes % 60);\r\n        minutes = minutes.length() == 1 ? &quot;0&quot; + minutes : minutes;\r\n        return (totalMinutes / 60) + &quot;:&quot; + minutes;\r\n    }","title":"How to convert minutes to HH:mm on android?","body":"<pre><code>public static String formatHoursAndMinutes(int totalMinutes) {\n    String minutes = Integer.toString(totalMinutes % 60);\n    minutes = minutes.length() == 1 ? \"0\" + minutes : minutes;\n    return (totalMinutes / 60) + \":\" + minutes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13281810,"reputation":469,"user_id":9589139,"display_name":"Monir Zzaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553057431,"creation_date":1553057431,"answer_id":55253772,"question_id":5442284,"body_markdown":"**Just use the following method to convert minutes to HH:mm on android?**\r\n\r\n  *if you want to process long value then just change the parameter type* \r\n\r\n    public static String ConvertMinutesTimeToHHMMString(int minutesTime) {\r\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n        SimpleDateFormat df = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n        df.setTimeZone(timeZone);\r\n        String time = df.format(new Date(minutesTime * 60 * 1000L));\r\n\r\n        return time;\r\n    }\r\n\r\n\r\nHappy coding :)","title":"How to convert minutes to HH:mm on android?","body":"<p><strong>Just use the following method to convert minutes to HH:mm on android?</strong></p>\n\n<p><em>if you want to process long value then just change the parameter type</em> </p>\n\n<pre><code>public static String ConvertMinutesTimeToHHMMString(int minutesTime) {\n    TimeZone timeZone = TimeZone.getTimeZone(\"UTC\");\n    SimpleDateFormat df = new SimpleDateFormat(\"HH:mm\");\n    df.setTimeZone(timeZone);\n    String time = df.format(new Date(minutesTime * 60 * 1000L));\n\n    return time;\n}\n</code></pre>\n\n<p>Happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":23064768,"reputation":25,"user_id":17179362,"display_name":"Arman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675955982,"creation_date":1675933967,"answer_id":75396419,"question_id":5442284,"body_markdown":"Solution on kotlin [Documentation](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/)  \r\n```\r\nimport kotlin.time.Duration\r\nimport kotlin.time.DurationUnit\r\nimport kotlin.time.toDuration\r\n\r\nval min = 150.toDuration(DurationUnit.MINUTES)\r\nval time = min.toComponents { days, hours, minutes, seconds, nanoseconds -&gt; \r\n &quot;$days $hours $minutes $seconds $nanoseconds&quot;\r\n}\r\n```\r\nWe get 0 days 2 hours 30 minutes 0 seconds 0 nanoseconds  \r\n\r\nWe can also use \r\n```\r\nDurationUnit.DAYS\r\nDurationUnit.HOURS\r\nDurationUnit.SECONDS\r\nDurationUnit.MILLISECONDS\r\nDurationUnit.MICROSECONDS\r\nDurationUnit.NANOSECONDS\r\n```","title":"How to convert minutes to HH:mm on android?","body":"<p>Solution on kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.time/-duration/\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<pre><code>import kotlin.time.Duration\nimport kotlin.time.DurationUnit\nimport kotlin.time.toDuration\n\nval min = 150.toDuration(DurationUnit.MINUTES)\nval time = min.toComponents { days, hours, minutes, seconds, nanoseconds -&gt; \n &quot;$days $hours $minutes $seconds $nanoseconds&quot;\n}\n</code></pre>\n<p>We get 0 days 2 hours 30 minutes 0 seconds 0 nanoseconds</p>\n<p>We can also use</p>\n<pre><code>DurationUnit.DAYS\nDurationUnit.HOURS\nDurationUnit.SECONDS\nDurationUnit.MILLISECONDS\nDurationUnit.MICROSECONDS\nDurationUnit.NANOSECONDS\n</code></pre>\n"}],"owner":{"account_id":298386,"reputation":19951,"user_id":604388,"accept_rate":75,"display_name":"LA_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675955982,"creation_date":1301142097,"question_id":5442284,"body_markdown":"I have String variable `movieDuration`, which contains value in minutes. Need to convert that to HH:mm format. How should I do it?\r\n\r\nTried to do it as:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    movieDurationFormatted = formatter.format(movieDuration);\r\n\r\nBut looks like value in minutes is not ok for formatter.","title":"How to convert minutes to HH:mm on android?","body":"<p>I have String variable <code>movieDuration</code>, which contains value in minutes. Need to convert that to HH:mm format. How should I do it?</p>\n\n<p>Tried to do it as:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\nmovieDurationFormatted = formatter.format(movieDuration);\n</code></pre>\n\n<p>But looks like value in minutes is not ok for formatter.</p>\n"},{"tags":["java","postgresql","spring-data-jpa","database-partitioning"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1675953944,"post_id":75400006,"comment_id":133042031,"body_markdown":"Can you enable the &quot;show_sql&quot; flag and share the statement Hibernate is running? Do you get the same error if you insert the entity with EntityManager.persist()?","body":"Can you enable the &quot;show_sql&quot; flag and share the statement Hibernate is running? Do you get the same error if you insert the entity with EntityManager.persist()?"},{"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"score":0,"creation_date":1675955938,"post_id":75400006,"comment_id":133042758,"body_markdown":"@Augusto I have added in the question description please check.","body":"@Augusto I have added in the question description please check."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1675963759,"post_id":75400006,"comment_id":133045690,"body_markdown":"The query and the error don&#39;t match. ` ObjectOptimisticLockingFailureException` is thrown on updates, but your are doing an insert. I suggest you to throw away spring-jpa and use an entitymanager directly as this could be a problem of using spring rather than hibernate. The problem with spring jpa is that `save()` might do an EntityManager.persist() or merge() and with JPA (at least for me) it&#39;s good to be explicit about what operation you want to run as they can product subtle errors.","body":"The query and the error don&#39;t match. ` ObjectOptimisticLockingFailureException` is thrown on updates, but your are doing an insert. I suggest you to throw away spring-jpa and use an entitymanager directly as this could be a problem of using spring rather than hibernate. The problem with spring jpa is that <code>save()</code> might do an EntityManager.persist() or merge() and with JPA (at least for me) it&#39;s good to be explicit about what operation you want to run as they can product subtle errors."},{"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"score":0,"creation_date":1675964502,"post_id":75400006,"comment_id":133045941,"body_markdown":"@Augusto found something similar here - https://stackoverflow.com/questions/36475235/table-partitioning-with-jpa-throws-optimisticlockexception\nDo you think the same issue I might be facing?","body":"@Augusto found something similar here - <a href=\"https://stackoverflow.com/questions/36475235/table-partitioning-with-jpa-throws-optimisticlockexception\" title=\"table partitioning with jpa throws optimisticlockexception\">stackoverflow.com/questions/36475235/&hellip;</a> Do you think the same issue I might be facing?"}],"owner":{"account_id":5977006,"reputation":3550,"user_id":4697491,"accept_rate":31,"display_name":"Awadesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955909,"creation_date":1675952656,"question_id":75400006,"body_markdown":"We have implemented the partitioning on a Postgres table using a flyway script.\r\n\r\nIn the flyway script, we are also creating a trigger defined as below -\r\n\r\n    CREATE TRIGGER raw_event_insert_or_partition\r\n    BEFORE INSERT\r\n    ON public.raw_event\r\n    FOR EACH ROW\r\n    EXECUTE FUNCTION public.raw_event_insert_or_partition();\r\n\r\npublic.raw_event_insert_or_partition() creates a partition if not exist and do the insertion.\r\n\r\nBelow is the complete flyway script for the reference -\r\n\r\n                CREATE OR REPLACE FUNCTION public.parcel_event_insert_partition()\r\n                RETURNS trigger\r\n                LANGUAGE &#39;plpgsql&#39;\r\n                COST 100\r\n                VOLATILE NOT LEAKPROOF\r\n            AS $BODY$\r\n            \r\n            DECLARE\r\n              partition_date TEXT;\r\n              partition TEXT;\r\n              start_ts TIMESTAMP ;\r\n              end_ts TIMESTAMP ;\r\n            BEGIN\r\n              partition_date := to_char(NEW.carrier_status_time_gmt,&#39;YYYY_MM_01&#39;);\r\n              start_ts := partition_date::timestamp ;\r\n              end_ts := start_ts + interval &#39;1 month&#39; ;\r\n              partition := TG_RELNAME || &#39;_&#39; || to_char(start_ts,&#39;YYYY_MM_01&#39;) || &#39;_&#39; || to_char(end_ts,&#39;YYYY_MM_01&#39;);\r\n            \r\n              IF NOT EXISTS(SELECT relname FROM pg_class WHERE relname=partition) THEN\r\n                EXECUTE &#39;CREATE TABLE &#39;    || quote_ident(partition)\r\n                    || &#39; (check (carrier_status_time_gmt &gt;= &#39;&#39;&#39; || start_ts || &#39;&#39;&#39; &#39;\r\n                    || &#39;     AND carrier_status_time_gmt &lt;  &#39;&#39;&#39; || end_ts || &#39;&#39;&#39;)) &#39;\r\n                    || &#39; INHERITS (&#39; || TG_RELNAME || &#39;);&#39;;\r\n                EXECUTE &#39;CREATE INDEX ON &#39; || quote_ident(partition) || &#39; (carrier_status_time_gmt,carrier_code,value)&#39;;\r\n                RAISE NOTICE &#39;A partition has been created %&#39;, partition;\r\n              END IF;\r\n              EXECUTE &#39;INSERT INTO &#39; || quote_ident(partition) || &#39; SELECT(&#39; || TG_RELNAME || &#39; &#39; || quote_literal(NEW) || &#39;).* RETURNING id;&#39;;\r\n              RETURN NULL;\r\n            END;\r\n            $BODY$;\r\n            -- Register TRIGGER\r\n            \r\n            CREATE TRIGGER parcel_event_insert_or_partition\r\n                BEFORE INSERT\r\n                ON public.parcel_event\r\n                FOR EACH ROW\r\n                EXECUTE FUNCTION public.parcel_event_insert_partition();\r\n\r\nWhen we are running the insertion query in the PgAdmin console, it&#39;s working fine and data is getting inserted in the expected partition.\r\n\r\nBut when we are trying to insert the data using the **save()** method of the crudRepository we are getting the below error -\r\n\r\n    org.springframework.orm.ObjectOptimisticLockingFailureException: Unexpected row count: 0; expected: 1; \r\n\r\nOn enabling show_sql we are getting the below queries in the logs- \r\n\r\n     Hibernate: select nextval (&#39;hibernate_sequence&#39;)\r\n     Hibernate: insert into parcel_event (carrier_code, \r\n     carrier_status, carrier_status_code, carrier_status_time_gmt, \r\n     carrier_sub_status, carrier_sub_status_code, \r\n     carrier_sub_status_description, destination_location, \r\n     extra_info, status, status_code, status_description, \r\n     sub_status, sub_status_code, sub_status_description, \r\n     last_updated_at, latitude, location_code, location_name, \r\n     longitude, order_no, org_id, previous_status, \r\n     previous_status_time, status_identifier_value, \r\n      status_received_at, type, value, id) values (?, ?, ?, ?, ?, ?, \r\n    ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n\r\nAny help is appreciated.\r\n\r\n","title":"ObjectOptimisticLockingFailureException on insertion in the partitioned table using spring data jpa","body":"<p>We have implemented the partitioning on a Postgres table using a flyway script.</p>\n<p>In the flyway script, we are also creating a trigger defined as below -</p>\n<pre><code>CREATE TRIGGER raw_event_insert_or_partition\nBEFORE INSERT\nON public.raw_event\nFOR EACH ROW\nEXECUTE FUNCTION public.raw_event_insert_or_partition();\n</code></pre>\n<p>public.raw_event_insert_or_partition() creates a partition if not exist and do the insertion.</p>\n<p>Below is the complete flyway script for the reference -</p>\n<pre><code>            CREATE OR REPLACE FUNCTION public.parcel_event_insert_partition()\n            RETURNS trigger\n            LANGUAGE 'plpgsql'\n            COST 100\n            VOLATILE NOT LEAKPROOF\n        AS $BODY$\n        \n        DECLARE\n          partition_date TEXT;\n          partition TEXT;\n          start_ts TIMESTAMP ;\n          end_ts TIMESTAMP ;\n        BEGIN\n          partition_date := to_char(NEW.carrier_status_time_gmt,'YYYY_MM_01');\n          start_ts := partition_date::timestamp ;\n          end_ts := start_ts + interval '1 month' ;\n          partition := TG_RELNAME || '_' || to_char(start_ts,'YYYY_MM_01') || '_' || to_char(end_ts,'YYYY_MM_01');\n        \n          IF NOT EXISTS(SELECT relname FROM pg_class WHERE relname=partition) THEN\n            EXECUTE 'CREATE TABLE '    || quote_ident(partition)\n                || ' (check (carrier_status_time_gmt &gt;= ''' || start_ts || ''' '\n                || '     AND carrier_status_time_gmt &lt;  ''' || end_ts || ''')) '\n                || ' INHERITS (' || TG_RELNAME || ');';\n            EXECUTE 'CREATE INDEX ON ' || quote_ident(partition) || ' (carrier_status_time_gmt,carrier_code,value)';\n            RAISE NOTICE 'A partition has been created %', partition;\n          END IF;\n          EXECUTE 'INSERT INTO ' || quote_ident(partition) || ' SELECT(' || TG_RELNAME || ' ' || quote_literal(NEW) || ').* RETURNING id;';\n          RETURN NULL;\n        END;\n        $BODY$;\n        -- Register TRIGGER\n        \n        CREATE TRIGGER parcel_event_insert_or_partition\n            BEFORE INSERT\n            ON public.parcel_event\n            FOR EACH ROW\n            EXECUTE FUNCTION public.parcel_event_insert_partition();\n</code></pre>\n<p>When we are running the insertion query in the PgAdmin console, it's working fine and data is getting inserted in the expected partition.</p>\n<p>But when we are trying to insert the data using the <strong>save()</strong> method of the crudRepository we are getting the below error -</p>\n<pre><code>org.springframework.orm.ObjectOptimisticLockingFailureException: Unexpected row count: 0; expected: 1; \n</code></pre>\n<p>On enabling show_sql we are getting the below queries in the logs-</p>\n<pre><code> Hibernate: select nextval ('hibernate_sequence')\n Hibernate: insert into parcel_event (carrier_code, \n carrier_status, carrier_status_code, carrier_status_time_gmt, \n carrier_sub_status, carrier_sub_status_code, \n carrier_sub_status_description, destination_location, \n extra_info, status, status_code, status_description, \n sub_status, sub_status_code, sub_status_description, \n last_updated_at, latitude, location_code, location_name, \n longitude, order_no, org_id, previous_status, \n previous_status_time, status_identifier_value, \n  status_received_at, type, value, id) values (?, ?, ?, ?, ?, ?, \n?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","angular","browser","server"],"comments":[{"owner":{"account_id":17303066,"reputation":187,"user_id":12532393,"display_name":"Anant Doshi"},"score":0,"creation_date":1675963314,"post_id":75400651,"comment_id":133045534,"body_markdown":"Sometimes these issue happens due to polyfills. Browser catch that locally. So try to change that.","body":"Sometimes these issue happens due to polyfills. Browser catch that locally. So try to change that."},{"owner":{"account_id":9283927,"reputation":47,"user_id":6894417,"accept_rate":83,"display_name":"Anuja Patil"},"score":0,"creation_date":1675967354,"post_id":75400651,"comment_id":133046841,"body_markdown":"can you pls explain in detail? how to change and to what?","body":"can you pls explain in detail? how to change and to what?"}],"owner":{"account_id":9283927,"reputation":47,"user_id":6894417,"accept_rate":83,"display_name":"Anuja Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955757,"creation_date":1675955757,"question_id":75400651,"body_markdown":"We recently migrated openstack to VMC2 server and after production deployment observed a blank page loaded. The user had to clear the cache and then it worked. But what could be the possibility behind this as our users don&#39;t seem to like clearing the cache and we have n number of complaints received on this.","title":"After server migration to new, blank page loaded","body":"<p>We recently migrated openstack to VMC2 server and after production deployment observed a blank page loaded. The user had to clear the cache and then it worked. But what could be the possibility behind this as our users don't seem to like clearing the cache and we have n number of complaints received on this.</p>\n"},{"tags":["java","android"],"owner":{"account_id":25674148,"reputation":1,"user_id":19437891,"display_name":"LorneMartin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955633,"creation_date":1675955633,"question_id":75400622,"body_markdown":"I&#39;m trying to do something similar to the answer of [this question](https://stackoverflow.com/questions/66502210/how-to-wait-for-callback-to-finish-before-continuing-the-loop)\r\nI&#39;m using Volley rather than Retrofit, and have adapted my code accordingly. For me the callback handlers never actually fire, although the counDownLatch does timeout after the specified number of seconds. I suspect the handlers never fire because the countDownLatch.awaiting is using all the processing on the current thread. Or am I missing something else?\r\n\r\n```\r\n    public void queryUmbrellaServer() {\r\n        ArrayList&lt;String&gt; identifiers = getHardwareIdentifiers(context);\r\n        VolleyLog.DEBUG = true;\r\n        CountDownLatch countDownLatch = new CountDownLatch(identifiers.size());\r\n\r\n        // creating a new variable for our request queue\r\n        final RequestQueue[] queue = {Volley.newRequestQueue(context)};\r\n        queue[0].start();\r\n\r\n        for (int i = 0; i &lt; identifiers.size(); i++) {\r\n            String url = umbrellaServerUrl + identifiers.get(i) + &quot;/&quot;;\r\n            Log.i(LOG_TAG, &quot;Inside Loop &quot; + url);\r\n\r\n            JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null,\r\n                    new Response.Listener&lt;JSONObject&gt;() {\r\n                        @Override\r\n                        public void onResponse(JSONObject response) {\r\n                            try {\r\n                                countDownLatch.countDown();\r\n                                String serverName = response.getString(&quot;mdm_server_url&quot;);\r\n                                String registrationUrl = response.getString(&quot;registration_url&quot;);\r\n                                String isDeviceOwner = response.getString(&quot;device_owner&quot;);\r\n                                Toast.makeText(context, &quot;Retrieved server name from umbrella server: &quot; + serverName, Toast.LENGTH_LONG).show();\r\n                                setMdmInfo(serverName, registrationUrl, isDeviceOwner);\r\n                                Log.i(LOG_TAG, &quot;Successful response&quot;);\r\n                                //queue[0].stop();\r\n                                results.add(isDeviceOwner.toString());\r\n\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                                Log.d(LOG_TAG, &quot;Error in parsing response&quot;);\r\n                            }\r\n                        }\r\n                    }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    countDownLatch.countDown();\r\n                    if(error.networkResponse.data!=null) {\r\n                        String jsonString = new String(error.networkResponse.data);\r\n                        //Log.d(LOG_TAG, jsonString);\r\n                        try {\r\n                            JSONObject jsonObject = new JSONObject(jsonString);\r\n                            String msg = jsonObject.getString(&quot;message&quot;);\r\n                            if (!msg.equals(&quot;Device not found&quot;)) {\r\n                                Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\r\n                                //queue[0].stop();\r\n                                results.add(&quot;false&quot;);\r\n                            }\r\n                            else {\r\n                                Log.d(LOG_TAG, &quot;No device found&quot;);\r\n                                results.add(&quot;false&quot;);\r\n                            }\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                            Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\r\n                            //queue[0].stop();\r\n                            results.add(&quot;UNSET&quot;);\r\n                        }\r\n                    }\r\n                    else {\r\n                        Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\r\n                        //queue[0].stop();\r\n                        results.add(&quot;UNSET&quot;);\r\n                    }\r\n                }\r\n            });\r\n\r\n            // Add the request to the RequestQueue.\r\n            queue[0].add(jsonObjectRequest);\r\n        }\r\n\r\n        try {\r\n            countDownLatch.await(1L * identifiers.size(), TimeUnit.SECONDS); // join thread with timeout of second for each item\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        Log.d(LOG_TAG,&quot;outside loop&quot; + results);\r\n    }\r\n```\r\n\r\nI expected the results arrayList should get populated before the countDownLatch countdown completes, but I haven&#39;t been able to get any results.","title":"Waiting for multiple volley calls","body":"<p>I'm trying to do something similar to the answer of <a href=\"https://stackoverflow.com/questions/66502210/how-to-wait-for-callback-to-finish-before-continuing-the-loop\">this question</a>\nI'm using Volley rather than Retrofit, and have adapted my code accordingly. For me the callback handlers never actually fire, although the counDownLatch does timeout after the specified number of seconds. I suspect the handlers never fire because the countDownLatch.awaiting is using all the processing on the current thread. Or am I missing something else?</p>\n<pre><code>    public void queryUmbrellaServer() {\n        ArrayList&lt;String&gt; identifiers = getHardwareIdentifiers(context);\n        VolleyLog.DEBUG = true;\n        CountDownLatch countDownLatch = new CountDownLatch(identifiers.size());\n\n        // creating a new variable for our request queue\n        final RequestQueue[] queue = {Volley.newRequestQueue(context)};\n        queue[0].start();\n\n        for (int i = 0; i &lt; identifiers.size(); i++) {\n            String url = umbrellaServerUrl + identifiers.get(i) + &quot;/&quot;;\n            Log.i(LOG_TAG, &quot;Inside Loop &quot; + url);\n\n            JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null,\n                    new Response.Listener&lt;JSONObject&gt;() {\n                        @Override\n                        public void onResponse(JSONObject response) {\n                            try {\n                                countDownLatch.countDown();\n                                String serverName = response.getString(&quot;mdm_server_url&quot;);\n                                String registrationUrl = response.getString(&quot;registration_url&quot;);\n                                String isDeviceOwner = response.getString(&quot;device_owner&quot;);\n                                Toast.makeText(context, &quot;Retrieved server name from umbrella server: &quot; + serverName, Toast.LENGTH_LONG).show();\n                                setMdmInfo(serverName, registrationUrl, isDeviceOwner);\n                                Log.i(LOG_TAG, &quot;Successful response&quot;);\n                                //queue[0].stop();\n                                results.add(isDeviceOwner.toString());\n\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                                Log.d(LOG_TAG, &quot;Error in parsing response&quot;);\n                            }\n                        }\n                    }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    countDownLatch.countDown();\n                    if(error.networkResponse.data!=null) {\n                        String jsonString = new String(error.networkResponse.data);\n                        //Log.d(LOG_TAG, jsonString);\n                        try {\n                            JSONObject jsonObject = new JSONObject(jsonString);\n                            String msg = jsonObject.getString(&quot;message&quot;);\n                            if (!msg.equals(&quot;Device not found&quot;)) {\n                                Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\n                                //queue[0].stop();\n                                results.add(&quot;false&quot;);\n                            }\n                            else {\n                                Log.d(LOG_TAG, &quot;No device found&quot;);\n                                results.add(&quot;false&quot;);\n                            }\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                            Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\n                            //queue[0].stop();\n                            results.add(&quot;UNSET&quot;);\n                        }\n                    }\n                    else {\n                        Log.d(LOG_TAG, &quot;Error in retrieving response from server&quot;);\n                        //queue[0].stop();\n                        results.add(&quot;UNSET&quot;);\n                    }\n                }\n            });\n\n            // Add the request to the RequestQueue.\n            queue[0].add(jsonObjectRequest);\n        }\n\n        try {\n            countDownLatch.await(1L * identifiers.size(), TimeUnit.SECONDS); // join thread with timeout of second for each item\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        Log.d(LOG_TAG,&quot;outside loop&quot; + results);\n    }\n</code></pre>\n<p>I expected the results arrayList should get populated before the countDownLatch countdown completes, but I haven't been able to get any results.</p>\n"},{"tags":["java","android","kotlin","android-animation"],"answers":[{"tags":[],"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675955520,"creation_date":1675955520,"answer_id":75400599,"question_id":75399905,"body_markdown":"You can use this class to draw circle with a customizable radius.\r\n\r\n    class CircleView @JvmOverloads constructor(\r\n        context: Context,\r\n        attrs: AttributeSet? = null,\r\n        defStyleAttr: Int = 0\r\n    ) : View(context, attrs, defStyleAttr) {\r\n    \r\n        private val paint = Paint(Paint.ANTI_ALIAS_FLAG).apply {\r\n            color = Color.BLUE\r\n            style = Paint.Style.FILL\r\n        }\r\n    \r\n        private var radius = 0f\r\n    \r\n        fun setRadius(radius: Float) {\r\n            this.radius = radius\r\n            invalidate()\r\n        }\r\n    \r\n        override fun onDraw(canvas: Canvas) {\r\n            super.onDraw(canvas)\r\n            canvas.drawCircle(width / 2f, height / 2f, radius, paint)\r\n        }\r\n    }","title":"Build a Circle in Android Studio with dynamic Radius","body":"<p>You can use this class to draw circle with a customizable radius.</p>\n<pre><code>class CircleView @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : View(context, attrs, defStyleAttr) {\n\n    private val paint = Paint(Paint.ANTI_ALIAS_FLAG).apply {\n        color = Color.BLUE\n        style = Paint.Style.FILL\n    }\n\n    private var radius = 0f\n\n    fun setRadius(radius: Float) {\n        this.radius = radius\n        invalidate()\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        super.onDraw(canvas)\n        canvas.drawCircle(width / 2f, height / 2f, radius, paint)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16629951,"reputation":19,"user_id":12018015,"display_name":"DHRUV NIVATIA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675955520,"creation_date":1675952164,"question_id":75399905,"body_markdown":"I want to build a Circle shape with some Radius and then radius data (say &quot;r&quot;) will get fetched from server/database, the circle should adapt it&#39;s size according to the Radius  &quot;r&quot; and my code is fetching data in every 0.1 second, so in every 0.1 second the Radius of circle should change. \r\nThe results should look like  circle with dynamic Radius and it&#39;s size is changing in every 0.1 second.\r\n\r\nI have created  a shape.xml file in drawable folder with circle shaped and with fixed radius. In MainActivity.xml, i created a imageview and set imageview src to that drawable xml file.\r\nNow i am trying to make it&#39;s radius dynamic according to tha data fetched. I don&#39;t think it&#39;s possible in this way.","title":"Build a Circle in Android Studio with dynamic Radius","body":"<p>I want to build a Circle shape with some Radius and then radius data (say &quot;r&quot;) will get fetched from server/database, the circle should adapt it's size according to the Radius  &quot;r&quot; and my code is fetching data in every 0.1 second, so in every 0.1 second the Radius of circle should change.\nThe results should look like  circle with dynamic Radius and it's size is changing in every 0.1 second.</p>\n<p>I have created  a shape.xml file in drawable folder with circle shaped and with fixed radius. In MainActivity.xml, i created a imageview and set imageview src to that drawable xml file.\nNow i am trying to make it's radius dynamic according to tha data fetched. I don't think it's possible in this way.</p>\n"},{"tags":["java","loops","stored-procedures","while-loop","snowflake-cloud-data-platform"],"answers":[{"tags":[],"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675955501,"creation_date":1675955501,"answer_id":75400597,"question_id":75399799,"body_markdown":"Java Stored Procedures in Snowflake work with a built in DataFrame API therefore they are different than working for example with JavaScript Stored procedure where you could loop over a resultset like this:\r\n\r\n    // Loop through the results, processing one row at a time...\r\n    while (rs.next())  {\r\n       // Do something with the retrieved values...\r\n    }\r\n\r\nYou could though try something like this:\r\n\r\n    DataFrame df = getSession().sql(&quot;select * from values(1), (2) as t(a)&quot;);\r\n    Iterator&lt;Row&gt; it = df.toLocalIterator();\r\n    if (it.hasNext()) {\r\n       if (it.next().getInt(0) == 1) {\r\n          //do something here\r\n       }\r\n    }\r\n\r\nAlso have a look at the DataFrame API from Snowflake [here][1].\r\n\r\n\r\n  [1]: https://docs.snowflake.com/en/developer-guide/snowpark/reference/java/index.html","title":"how do I use while loop to display values of table in snowflake stored procedure using java","body":"<p>Java Stored Procedures in Snowflake work with a built in DataFrame API therefore they are different than working for example with JavaScript Stored procedure where you could loop over a resultset like this:</p>\n<pre><code>// Loop through the results, processing one row at a time...\nwhile (rs.next())  {\n   // Do something with the retrieved values...\n}\n</code></pre>\n<p>You could though try something like this:</p>\n<pre><code>DataFrame df = getSession().sql(&quot;select * from values(1), (2) as t(a)&quot;);\nIterator&lt;Row&gt; it = df.toLocalIterator();\nif (it.hasNext()) {\n   if (it.next().getInt(0) == 1) {\n      //do something here\n   }\n}\n</code></pre>\n<p>Also have a look at the DataFrame API from Snowflake <a href=\"https://docs.snowflake.com/en/developer-guide/snowpark/reference/java/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26149250,"reputation":7,"user_id":19837437,"display_name":"Krishantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1676443103,"answer_count":1,"score":-2,"last_activity_date":1675955501,"creation_date":1675951691,"question_id":75399799,"body_markdown":"create procedure proc(table String)\r\nreturn String\r\nlanguage java\r\n\r\n\r\nI have no idea how to use while loop in snowflake with java","title":"how do I use while loop to display values of table in snowflake stored procedure using java","body":"<p>create procedure proc(table String)\nreturn String\nlanguage java</p>\n<p>I have no idea how to use while loop in snowflake with java</p>\n"},{"tags":["java","android","youtube-api","android-youtube-api"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675949160,"post_id":75398910,"comment_id":133040148,"body_markdown":"Do you want to check whether a YouTube video is played (by embedding) it in your application or do you want to check whether there is a video playing from the normal YouTube application? And what exactly do you mean with virtual pause button?","body":"Do you want to check whether a YouTube video is played (by embedding) it in your application or do you want to check whether there is a video playing from the normal YouTube application? And what exactly do you mean with virtual pause button?"},{"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1675955994,"post_id":75398910,"comment_id":133042781,"body_markdown":"https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#isPlaying()","body":"<a href=\"https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#isPlaying()\" rel=\"nofollow noreferrer\">developers.google.com/youtube/android/player/reference/com/&hellip;</a>"},{"owner":{"account_id":27737916,"reputation":1,"user_id":21175058,"display_name":"RS Studio"},"score":0,"creation_date":1675957937,"post_id":75398910,"comment_id":133043470,"body_markdown":"Thank you but I have no idea how to use it.","body":"Thank you but I have no idea how to use it."}],"owner":{"account_id":27737916,"reputation":1,"user_id":21175058,"display_name":"RS Studio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955489,"creation_date":1675947338,"question_id":75398910,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n        YouTubePlayerView youtubeplayerview;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main3);\r\n\r\n            youtubeplayerview.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\r\n                @Override\r\n                public void onReady(@NonNull YouTubePlayer youTubePlayer) {\r\n                    youTubePlayer.cueVideo(&quot;videoId&quot;, 0);\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHow to check if youtube video player is playing in android studio? and How do I get to the virtual pause button on a youtube video.\r\n\r\nI couldn&#39;t find any examples.\r\n\r\n\r\n\r\n\r\n  ","title":"Check if youtube video player is playing (Android Studio)","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    YouTubePlayerView youtubeplayerview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main3);\n\n        youtubeplayerview.addYouTubePlayerListener(new AbstractYouTubePlayerListener() {\n            @Override\n            public void onReady(@NonNull YouTubePlayer youTubePlayer) {\n                youTubePlayer.cueVideo(\"videoId\", 0);\n\n            }\n\n        });\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>How to check if youtube video player is playing in android studio? and How do I get to the virtual pause button on a youtube video.</p>\n<p>I couldn't find any examples.</p>\n"},{"tags":["java","rabbitmq"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675956013,"post_id":75400557,"comment_id":133042790,"body_markdown":"Normally these things are run inside a container (such as Tomcat) and over HTTP.  I haven&#39;t actually set up RabbitMQ but you might look at the docs with that idea in mind.","body":"Normally these things are run inside a container (such as Tomcat) and over HTTP.  I haven&#39;t actually set up RabbitMQ but you might look at the docs with that idea in mind."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1675956815,"post_id":75400557,"comment_id":133043074,"body_markdown":"I would use Tomcat as producer because the application receives inputs from HTTP requests, but I cannot imagine how to run a consumer in Tomcat to send email from the queue. It is not a web application.","body":"I would use Tomcat as producer because the application receives inputs from HTTP requests, but I cannot imagine how to run a consumer in Tomcat to send email from the queue. It is not a web application."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675957458,"post_id":75400557,"comment_id":133043277,"body_markdown":"I could imagine Tomcat sending an email, for example on password reset request, and I could imagine Tomcat receiving an email too, for example when a web app is the front end of an email list server.  The [RabbitMQ devtool page](https://www.rabbitmq.com/devtools.html) mentions clients for Spring, which is almost entirely a Java web app framework afaik.  Your application may be different, so you might want to clarify what it is you are actually trying to do.","body":"I could imagine Tomcat sending an email, for example on password reset request, and I could imagine Tomcat receiving an email too, for example when a web app is the front end of an email list server.  The <a href=\"https://www.rabbitmq.com/devtools.html\" rel=\"nofollow noreferrer\">RabbitMQ devtool page</a> mentions clients for Spring, which is almost entirely a Java web app framework afaik.  Your application may be different, so you might want to clarify what it is you are actually trying to do."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1676034995,"post_id":75400557,"comment_id":133061166,"body_markdown":"I know Spring quite well, but I cannot undersrand how to run a the consumer process in a safe way. May I can open a single thread process? Unfortunately the docs about Consumer implementation is missing this part.","body":"I know Spring quite well, but I cannot undersrand how to run a the consumer process in a safe way. May I can open a single thread process? Unfortunately the docs about Consumer implementation is missing this part."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1676040302,"post_id":75400557,"comment_id":133062988,"body_markdown":"I think your real question is how to deploy a RabbitMQ consumer inside of a JEE web application.  Saying &quot;Ubuntu linux&quot; makes it sound like you are indeed running from the command line.  I think you should re-ask the question, and use a better title (at least mention JEE and the container you are using) and also tag the question with the web app you are using in addition to `java` and `rabbitmq`.  Right now I think the relevant folks are not looking at your question.  You also might try the RabbitMQ mailing list, which is referred to in a few places in the documentation.","body":"I think your real question is how to deploy a RabbitMQ consumer inside of a JEE web application.  Saying &quot;Ubuntu linux&quot; makes it sound like you are indeed running from the command line.  I think you should re-ask the question, and use a better title (at least mention JEE and the container you are using) and also tag the question with the web app you are using in addition to <code>java</code> and <code>rabbitmq</code>.  Right now I think the relevant folks are not looking at your question.  You also might try the RabbitMQ mailing list, which is referred to in a few places in the documentation."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1676040745,"post_id":75400557,"comment_id":133063126,"body_markdown":"I&#39;ll add: I&#39;m absolutely not an expert, I&#39;m reading the tutorials, but based on general knowledge you can&#39;t do what you are asking.  JEE runs over HTTP and HTML.  The protocol used by RabbitMQ, AMQP, appears to be different.  Unless it is a standard to run AMQP over HTTP (and the other side would have be running that exact same configuration) I don&#39;t think you can use a container here at all.  Emphasizing again that I&#39;m not an expert.","body":"I&#39;ll add: I&#39;m absolutely not an expert, I&#39;m reading the tutorials, but based on general knowledge you can&#39;t do what you are asking.  JEE runs over HTTP and HTML.  The protocol used by RabbitMQ, AMQP, appears to be different.  Unless it is a standard to run AMQP over HTTP (and the other side would have be running that exact same configuration) I don&#39;t think you can use a container here at all.  Emphasizing again that I&#39;m not an expert."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1676043816,"post_id":75400557,"comment_id":133064130,"body_markdown":"Sorry if I was not clear, but I&#39;m not looking how to run the consumer inside a web application. The producer is a web-application that fills the queue, but the consumer (it just sends email) is just a backend application. And this is exactly the point, how can I deploy a consumer application? I&#39;m concerned about it crashes and nothing will revive it automatically. Maybe the consumer has to be wrapper in a OS service, I did not fond something useful about this in Rabbitmq docs.","body":"Sorry if I was not clear, but I&#39;m not looking how to run the consumer inside a web application. The producer is a web-application that fills the queue, but the consumer (it just sends email) is just a backend application. And this is exactly the point, how can I deploy a consumer application? I&#39;m concerned about it crashes and nothing will revive it automatically. Maybe the consumer has to be wrapper in a OS service, I did not fond something useful about this in Rabbitmq docs."}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675955319,"creation_date":1675955319,"question_id":75400557,"body_markdown":"I&#39;m studing how RabbitMQ works with Java, it is almost clear how Producer works and how to implement the Consumer, but I&#39;m still not sure how to deploy the Consumer application to server with a correct threading handling.\r\n\r\nLet&#39;s say I have a web-application that has to sent some transaction email as producer, this application will push in the queue the messages and it is managed by a container, like Tomcat, that increase/descrease threads to serve multiple requests.\r\n\r\n**What is the best practice to deployt the consumer application?** \r\n\r\nI have read many tutorials and the RabbitMQ commands are well explained, usually this is the code (from official RabbitMq Hello World):\r\n\r\n    import com.rabbitmq.client.Channel;\r\n    import com.rabbitmq.client.Connection;\r\n    import com.rabbitmq.client.ConnectionFactory;\r\n    import com.rabbitmq.client.DeliverCallback;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class Recv {\r\n    \r\n        private final static String QUEUE_NAME = &quot;hello&quot;;\r\n    \r\n        public static void main(String[] argv) throws Exception {\r\n            ConnectionFactory factory = new ConnectionFactory();\r\n            factory.setHost(&quot;localhost&quot;);\r\n            Connection connection = factory.newConnection();\r\n            Channel channel = connection.createChannel();\r\n    \r\n            channel.queueDeclare(QUEUE_NAME, false, false, false, null);\r\n            System.out.println(&quot; [*] Waiting for messages. To exit press CTRL+C&quot;);\r\n    \r\n            DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n                String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\r\n                System.out.println(&quot; [x] Received &#39;&quot; + message + &quot;&#39;&quot;);\r\n            };\r\n            channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; { });\r\n        }\r\n    }\r\n\r\nHowever it is not clear to me how I should run this application in my server (sure I can start it by command line!) and how am I sure the process will not crash for some reason? \r\n\r\nShould I put the channel opening commands in a loop inside a try/catch to be sure it will not exit?\r\n\r\nAm I&#39;m in charge of handling thread pool opening/increasing?\r\nDoes exists something for this purpose?\r\n\r\n\r\n\r\n","title":"RabbitMQ Java Consumer app best practice for Ubuntu linux deployment","body":"<p>I'm studing how RabbitMQ works with Java, it is almost clear how Producer works and how to implement the Consumer, but I'm still not sure how to deploy the Consumer application to server with a correct threading handling.</p>\n<p>Let's say I have a web-application that has to sent some transaction email as producer, this application will push in the queue the messages and it is managed by a container, like Tomcat, that increase/descrease threads to serve multiple requests.</p>\n<p><strong>What is the best practice to deployt the consumer application?</strong></p>\n<p>I have read many tutorials and the RabbitMQ commands are well explained, usually this is the code (from official RabbitMq Hello World):</p>\n<pre><code>import com.rabbitmq.client.Channel;\nimport com.rabbitmq.client.Connection;\nimport com.rabbitmq.client.ConnectionFactory;\nimport com.rabbitmq.client.DeliverCallback;\nimport java.nio.charset.StandardCharsets;\n\npublic class Recv {\n\n    private final static String QUEUE_NAME = &quot;hello&quot;;\n\n    public static void main(String[] argv) throws Exception {\n        ConnectionFactory factory = new ConnectionFactory();\n        factory.setHost(&quot;localhost&quot;);\n        Connection connection = factory.newConnection();\n        Channel channel = connection.createChannel();\n\n        channel.queueDeclare(QUEUE_NAME, false, false, false, null);\n        System.out.println(&quot; [*] Waiting for messages. To exit press CTRL+C&quot;);\n\n        DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n            String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n            System.out.println(&quot; [x] Received '&quot; + message + &quot;'&quot;);\n        };\n        channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; { });\n    }\n}\n</code></pre>\n<p>However it is not clear to me how I should run this application in my server (sure I can start it by command line!) and how am I sure the process will not crash for some reason?</p>\n<p>Should I put the channel opening commands in a loop inside a try/catch to be sure it will not exit?</p>\n<p>Am I'm in charge of handling thread pool opening/increasing?\nDoes exists something for this purpose?</p>\n"},{"tags":["java","android","storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675955613,"post_id":75400528,"comment_id":133042644,"body_markdown":"Then try external storage.","body":"Then try external storage."},{"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1675956302,"post_id":75400528,"comment_id":133042896,"body_markdown":"The only option is to rename downloaded file in internal storage. Else download files in external directory.","body":"The only option is to rename downloaded file in internal storage. Else download files in external directory."}],"owner":{"account_id":20303566,"reputation":21,"user_id":14892384,"display_name":"alireza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1675955318,"creation_date":1675955209,"question_id":75400528,"body_markdown":"I have an application that downloads and stores some small audio files on internal storage.\r\nSome of users are reporting that files were deleted and application asks for download them again.\r\n\r\n\r\nThe problem wasn&#39;t solved with disabling Automatic optimization of android.","title":"Android is deleting downloaded audio files from internal storage","body":"<p>I have an application that downloads and stores some small audio files on internal storage.\nSome of users are reporting that files were deleted and application asks for download them again.</p>\n<p>The problem wasn't solved with disabling Automatic optimization of android.</p>\n"},{"tags":["java","sqlite","android-studio","return","simplecursoradapter"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1459699587,"post_id":36387688,"comment_id":60392253,"body_markdown":"&quot;the syntax for using the simple cursor adapter isn&#39;t making any sense to me&quot; -- if you edit your question to include what syntax you don&#39;t understand, maybe we could explain it to you. Also providing links to what you&#39;ve looked at helps prevent others from marking this as a possible duplicate","body":"&quot;the syntax for using the simple cursor adapter isn&#39;t making any sense to me&quot; -- if you edit your question to include what syntax you don&#39;t understand, maybe we could explain it to you. Also providing links to what you&#39;ve looked at helps prevent others from marking this as a possible duplicate"}],"answers":[{"tags":[],"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459699835,"creation_date":1459699835,"answer_id":36387796,"question_id":36387688,"body_markdown":"First Create an `array`\r\n\r\n    ArrayList&lt;String&gt; array = new ArrayLIst&lt;&gt;(); \r\n\r\nInside the method you&#39;ve read the cursor, loop through it and add those item to `array`\r\n\r\n    while (CR.moveToNext()) {\r\n            CR.getString(CR.getColumnIndex(&#39;NAME&#39;));\r\n        }\r\nFinally Set the adapter to AutoCompleteTextView like this,\r\n\r\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\r\n            android.R.layout.select_dialog_item, array);\r\n    autocompletetextview.setAdapter(adapter);","title":"populate AutoCompleteTextView with SQlite database column","body":"<p>First Create an <code>array</code></p>\n\n<pre><code>ArrayList&lt;String&gt; array = new ArrayLIst&lt;&gt;(); \n</code></pre>\n\n<p>Inside the method you've read the cursor, loop through it and add those item to <code>array</code></p>\n\n<pre><code>while (CR.moveToNext()) {\n        CR.getString(CR.getColumnIndex('NAME'));\n    }\n</code></pre>\n\n<p>Finally Set the adapter to AutoCompleteTextView like this,</p>\n\n<pre><code>ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n        android.R.layout.select_dialog_item, array);\nautocompletetextview.setAdapter(adapter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7108058,"reputation":306,"user_id":5437049,"accept_rate":40,"display_name":"Abhinav Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459699948,"creation_date":1459699948,"answer_id":36387810,"question_id":36387688,"body_markdown":"Considering that you are using the [AutoCompleteTextView][1] class, the simplest implementation would be to:\r\n\r\n1. Implement an AutoCompleteTextView\r\n2. Fetch Data from your db and loop to put all the values in an Array\r\n3. Create an ArrayAdapter and attach it to your AutoCompleteTextView.\r\n\r\nThat&#39;s it.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/AutoCompleteTextView.html","title":"populate AutoCompleteTextView with SQlite database column","body":"<p>Considering that you are using the <a href=\"http://developer.android.com/reference/android/widget/AutoCompleteTextView.html\" rel=\"nofollow\">AutoCompleteTextView</a> class, the simplest implementation would be to:</p>\n\n<ol>\n<li>Implement an AutoCompleteTextView</li>\n<li>Fetch Data from your db and loop to put all the values in an Array</li>\n<li>Create an ArrayAdapter and attach it to your AutoCompleteTextView.</li>\n</ol>\n\n<p>That's it.</p>\n"}],"owner":{"account_id":8127747,"reputation":19,"user_id":6122064,"accept_rate":0,"display_name":"lexpagee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675955110,"creation_date":1459699218,"question_id":36387688,"body_markdown":"I&#39;m trying to figure out how to load information from a table in my SQLite database into an AutoCompleteTextView. I&#39;ve searched through hundreds of posts and websites. All of the posts that seemed helpful have different methods of creating tables to the one I have used, and so the syntax for using the simple cursor adapter isn&#39;t making any sense to me.\r\n\r\nMy program allows a user to enter food items into a database. From a different section of this program, I want the users to be able to add these food items into their own little food storage - I have already created the XML file for this. However, I don&#39;t have a clue how to return the FoodItems &#39;Name&#39; column into my `AutoCompleteTextView` - I&#39;ve read something about an Array Adapter but quite frankly I have no idea what I&#39;m doing. \r\n\r\nI&#39;ve already created the table and there is data in the database. I&#39;ll only show the code relevant to my problem so as not to overload you. The code used for writing the database is:\r\n\r\n    public static final int DATABASE_VERSION = 1;\r\n    public static final String DATABASE_NAME = &quot;ChangeMe.db&quot;;\r\n    public static final String TABLE_CREATE_FOODS = &quot;CREATE TABLE IF NOT EXISTS FoodItems (Id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, Name TEXT, Category TEXT, Calorie NUMERIC, Fat NUMERIC, Carbohydrate NUMERIC)&quot;;\r\n\r\n\r\nThen, I have a method to set these food items:\r\n\r\n    public long SetFoodItems(String name, String category, Float calorie, Float fat, Float carbohydrate) {\r\n        String query = &quot;SELECT * FROM FoodItems&quot;;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n\r\n        values.put(&quot;Name&quot;, name);\r\n        values.put(&quot;Category&quot;, category);\r\n        values.put(&quot;Calorie&quot;, calorie);\r\n        values.put(&quot;Fat&quot;, fat);\r\n        values.put(&quot;Carbohydrate&quot;, carbohydrate);\r\n\r\n        long id = db.insert(&quot;FoodItems&quot;, null, values);\r\n        return id;\r\n    }\r\n\r\nI&#39;ve also made a cursor to obtain all of the records from the FoodItems table:\r\n\r\n    public Cursor ObtainFoodItems()\r\n    {\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        String Query = &quot;SELECT Name FROM FoodItems&quot;;\r\n        Cursor CR = db.rawQuery(Query, null);\r\n\r\n        return CR;\r\n    }\r\n   \r\nSo, can anyone tell me how I return this cursor into an autoCompleteTextView? Please bear in mind that I am a complete newbie to Java (and coding in general), so simplified suggestions would be highly appreciated.\r\n\r\nEDIT: The best example I could find was [HERE][1], however he calls on MyObject to populate his autoTextView and loads data manually, which I don&#39;t need to do as my user will be responsible for all data entry. \r\n\r\nThe section of code that I don&#39;t understand from that link is:\r\n\r\n    // this function is used in CustomAutoCompleteTextChangedListener.java\r\n    public String[] getItemsFromDb(String searchTerm){\r\n         \r\n        // add items on the array dynamically\r\n        List&lt;MyObject&gt; products = databaseH.read(searchTerm);\r\n        int rowCount = products.size();\r\n         \r\n        String[] item = new String[rowCount];\r\n        int x = 0;\r\n         \r\n        for (MyObject record : products) {\r\n             \r\n            item[x] = record.objectName;\r\n            x++;\r\n        }\r\n         \r\n        return item;\r\n    }\r\n\r\nThis is mainly because his function to create the table is completely different to mine:\r\n\r\n    // creating table\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String sql = &quot;&quot;;\r\n \r\n        sql += &quot;CREATE TABLE &quot; + tableName;\r\n        sql += &quot; ( &quot;;\r\n        sql += fieldObjectId + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;;\r\n        sql += fieldObjectName + &quot; TEXT &quot;;\r\n        sql += &quot; ) &quot;;\r\n \r\n        db.execSQL(sql);\r\n \r\n    }\r\n\r\n---\r\n\r\nSo this is my code where I implement an AutoCompleteTextView, call the method to fetch the data from the SQLite db and loop through the records, and set the Array Adapter to the AutoCompleteTextView (I think). However something is wrong, I feel as though I&#39;ve missed something because it&#39;s not doing anything.\r\n\r\n    public class AddToPantry extends AppCompatActivity {\r\n    AutoCompleteTextView foodItemsList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_to_pantry);\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        Spinner dropdown = (Spinner) findViewById(R.id.editCategory);\r\n        String[] items = new String[]{&quot;Dairy&quot;, &quot;Grain&quot;, &quot;Vegetable&quot;, &quot;Fruit&quot;, &quot;Meat&quot; };\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, items);\r\n        dropdown.setAdapter(adapter);\r\n\r\n        Spinner dropdownLoc = (Spinner) findViewById(R.id.editLocation);\r\n        String[] itemsLoc = new String[]{&quot;Cupboard&quot;, &quot;Fridge&quot;, &quot;Freezer&quot; };\r\n        ArrayAdapter&lt;String&gt; adapterLoc = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, itemsLoc);\r\n        dropdownLoc.setAdapter(adapterLoc);\r\n\r\n        Button saveButton = (Button) findViewById(R.id.saveIngredient);\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AddItemToPantry();\r\n            }\r\n        });\r\n\r\n        //Creates the array\r\n        ArrayList&lt;String&gt; array = new ArrayList&lt;&gt;();\r\n\r\n        //Implements AutoCompleteTextView\r\n        foodItemsList = (AutoCompleteTextView) findViewById(R.id.autoFoodName);\r\n\r\n        //Calls method from DH to get all food items\r\n        DatabaseHandler dbh = new DatabaseHandler(this);\r\n        Cursor cr = dbh.ObtainFoodItems();\r\n        cr.moveToFirst();\r\n\r\n        while (cr.moveToNext()) {\r\n            cr.getString(cr.getColumnIndex(&quot;Name&quot;));\r\n        }\r\n\r\n        ArrayAdapter&lt;String&gt; foodItemAdapter = new ArrayAdapter&lt;String&gt;(this,\r\n                android.R.layout.select_dialog_item, array);\r\n\r\n        foodItemsList.setAdapter(foodItemAdapter);\r\n    }\r\n\r\n\r\n  [1]: http://www.androidcode.ninja/android-autocompletetextview-example-sqlite-database/","title":"populate AutoCompleteTextView with SQlite database column","body":"<p>I'm trying to figure out how to load information from a table in my SQLite database into an AutoCompleteTextView. I've searched through hundreds of posts and websites. All of the posts that seemed helpful have different methods of creating tables to the one I have used, and so the syntax for using the simple cursor adapter isn't making any sense to me.</p>\n\n<p>My program allows a user to enter food items into a database. From a different section of this program, I want the users to be able to add these food items into their own little food storage - I have already created the XML file for this. However, I don't have a clue how to return the FoodItems 'Name' column into my <code>AutoCompleteTextView</code> - I've read something about an Array Adapter but quite frankly I have no idea what I'm doing. </p>\n\n<p>I've already created the table and there is data in the database. I'll only show the code relevant to my problem so as not to overload you. The code used for writing the database is:</p>\n\n<pre><code>public static final int DATABASE_VERSION = 1;\npublic static final String DATABASE_NAME = \"ChangeMe.db\";\npublic static final String TABLE_CREATE_FOODS = \"CREATE TABLE IF NOT EXISTS FoodItems (Id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, Name TEXT, Category TEXT, Calorie NUMERIC, Fat NUMERIC, Carbohydrate NUMERIC)\";\n</code></pre>\n\n<p>Then, I have a method to set these food items:</p>\n\n<pre><code>public long SetFoodItems(String name, String category, Float calorie, Float fat, Float carbohydrate) {\n    String query = \"SELECT * FROM FoodItems\";\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues values = new ContentValues();\n\n    values.put(\"Name\", name);\n    values.put(\"Category\", category);\n    values.put(\"Calorie\", calorie);\n    values.put(\"Fat\", fat);\n    values.put(\"Carbohydrate\", carbohydrate);\n\n    long id = db.insert(\"FoodItems\", null, values);\n    return id;\n}\n</code></pre>\n\n<p>I've also made a cursor to obtain all of the records from the FoodItems table:</p>\n\n<pre><code>public Cursor ObtainFoodItems()\n{\n    SQLiteDatabase db = this.getReadableDatabase();\n    String Query = \"SELECT Name FROM FoodItems\";\n    Cursor CR = db.rawQuery(Query, null);\n\n    return CR;\n}\n</code></pre>\n\n<p>So, can anyone tell me how I return this cursor into an autoCompleteTextView? Please bear in mind that I am a complete newbie to Java (and coding in general), so simplified suggestions would be highly appreciated.</p>\n\n<p>EDIT: The best example I could find was <a href=\"http://www.androidcode.ninja/android-autocompletetextview-example-sqlite-database/\" rel=\"nofollow noreferrer\">HERE</a>, however he calls on MyObject to populate his autoTextView and loads data manually, which I don't need to do as my user will be responsible for all data entry. </p>\n\n<p>The section of code that I don't understand from that link is:</p>\n\n<pre><code>// this function is used in CustomAutoCompleteTextChangedListener.java\npublic String[] getItemsFromDb(String searchTerm){\n\n    // add items on the array dynamically\n    List&lt;MyObject&gt; products = databaseH.read(searchTerm);\n    int rowCount = products.size();\n\n    String[] item = new String[rowCount];\n    int x = 0;\n\n    for (MyObject record : products) {\n\n        item[x] = record.objectName;\n        x++;\n    }\n\n    return item;\n}\n</code></pre>\n\n<p>This is mainly because his function to create the table is completely different to mine:</p>\n\n<pre><code>// creating table\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    String sql = \"\";\n\n    sql += \"CREATE TABLE \" + tableName;\n    sql += \" ( \";\n    sql += fieldObjectId + \" INTEGER PRIMARY KEY AUTOINCREMENT, \";\n    sql += fieldObjectName + \" TEXT \";\n    sql += \" ) \";\n\n    db.execSQL(sql);\n\n}\n</code></pre>\n\n<hr>\n\n<p>So this is my code where I implement an AutoCompleteTextView, call the method to fetch the data from the SQLite db and loop through the records, and set the Array Adapter to the AutoCompleteTextView (I think). However something is wrong, I feel as though I've missed something because it's not doing anything.</p>\n\n<pre><code>public class AddToPantry extends AppCompatActivity {\nAutoCompleteTextView foodItemsList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_add_to_pantry);\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    Spinner dropdown = (Spinner) findViewById(R.id.editCategory);\n    String[] items = new String[]{\"Dairy\", \"Grain\", \"Vegetable\", \"Fruit\", \"Meat\" };\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, items);\n    dropdown.setAdapter(adapter);\n\n    Spinner dropdownLoc = (Spinner) findViewById(R.id.editLocation);\n    String[] itemsLoc = new String[]{\"Cupboard\", \"Fridge\", \"Freezer\" };\n    ArrayAdapter&lt;String&gt; adapterLoc = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, itemsLoc);\n    dropdownLoc.setAdapter(adapterLoc);\n\n    Button saveButton = (Button) findViewById(R.id.saveIngredient);\n    saveButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            AddItemToPantry();\n        }\n    });\n\n    //Creates the array\n    ArrayList&lt;String&gt; array = new ArrayList&lt;&gt;();\n\n    //Implements AutoCompleteTextView\n    foodItemsList = (AutoCompleteTextView) findViewById(R.id.autoFoodName);\n\n    //Calls method from DH to get all food items\n    DatabaseHandler dbh = new DatabaseHandler(this);\n    Cursor cr = dbh.ObtainFoodItems();\n    cr.moveToFirst();\n\n    while (cr.moveToNext()) {\n        cr.getString(cr.getColumnIndex(\"Name\"));\n    }\n\n    ArrayAdapter&lt;String&gt; foodItemAdapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.select_dialog_item, array);\n\n    foodItemsList.setAdapter(foodItemAdapter);\n}\n</code></pre>\n"},{"tags":["java","eclipse","weblogic","datasource"],"answers":[{"tags":[],"owner":{"account_id":4021470,"reputation":399,"user_id":3311659,"accept_rate":100,"display_name":"Hououin Kyouma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417298364,"creation_date":1417298364,"answer_id":27207623,"question_id":27188225,"body_markdown":"You cannot modify datasources in your web.xml. JDBC is a weblogic feature. That being said, you can change the datasource info using WLST.\r\n\r\nAn example of the process is mentioned here.\r\nhttps://docs.oracle.com/cd/E17904_01/web.1111/e13737/config.htm#JDBCA134\r\n\r\nYou can get creative with this process and create and destroy JDBC&#39;s based on environment as well. \r\n\r\nSo long answer short, WLST is the solution.","title":"weblogic change datasource at runtime","body":"<p>You cannot modify datasources in your web.xml. JDBC is a weblogic feature. That being said, you can change the datasource info using WLST.</p>\n\n<p>An example of the process is mentioned here.\n<a href=\"https://docs.oracle.com/cd/E17904_01/web.1111/e13737/config.htm#JDBCA134\" rel=\"nofollow\">https://docs.oracle.com/cd/E17904_01/web.1111/e13737/config.htm#JDBCA134</a></p>\n\n<p>You can get creative with this process and create and destroy JDBC's based on environment as well. </p>\n\n<p>So long answer short, WLST is the solution.</p>\n"},{"tags":[],"owner":{"account_id":27740225,"reputation":1,"user_id":21176841,"display_name":"zhaonz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675954765,"creation_date":1675954765,"answer_id":75400448,"question_id":27188225,"body_markdown":"Update data account password\r\n\r\n    connect(&#39;weblogic&#39;, &#39;password&#39;, &#39;t3://%s:%s&#39; % (&#39;localhost&#39;,&#39;7001&#39;))\r\n    edit()\r\n    startEdit()\r\n    cd(&#39;/&#39;)\r\n    cd(&#39;JDBCSystemResources/dbname/JDBCResource/dbname/JDBCDriverParams/dbname/Properties/dbname/Properties/user&#39;)\r\n    cmo.setValue(&#39;ESB&#39;)\r\n    cd(&#39;/&#39;)\r\n    cd(&#39;JDBCSystemResources/dbname/JDBCResource/dbname/JDBCDriverParams/dbname&#39;)\r\n    cmo.setPassword(&#39;ESB&#39;)\r\n    cd(&#39;/&#39;)\r\n    save()\r\n    activate(block=&#39;true&#39;)\r\n    disconnect()\r\n    exit()","title":"weblogic change datasource at runtime","body":"<p>Update data account password</p>\n<pre><code>connect('weblogic', 'password', 't3://%s:%s' % ('localhost','7001'))\nedit()\nstartEdit()\ncd('/')\ncd('JDBCSystemResources/dbname/JDBCResource/dbname/JDBCDriverParams/dbname/Properties/dbname/Properties/user')\ncmo.setValue('ESB')\ncd('/')\ncd('JDBCSystemResources/dbname/JDBCResource/dbname/JDBCDriverParams/dbname')\ncmo.setPassword('ESB')\ncd('/')\nsave()\nactivate(block='true')\ndisconnect()\nexit()\n</code></pre>\n"}],"owner":{"account_id":4216928,"reputation":83,"user_id":3452820,"accept_rate":67,"display_name":"singapore saravanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675954765,"creation_date":1417176085,"question_id":27188225,"body_markdown":" - How do I change weblogic datasource at runtime? \r\n - For example.\r\n   currently it is referring to UAT database Now I want to point to Dev\r\n   database. I know it can be modified in console. I don&#39;t want to use\r\n   that method. it requires too much user interaction. \r\n - Any other easy method. \r\n   Can I modify the datasource in my app config file persistence.xml file to chg form UATdb to DevDb. \r\n - Does it require restarting my weblogic web server? \r\n - How to manage without restarting web server \r\n - Or should I have another web server instance? for UATdb and another for Devdb","title":"weblogic change datasource at runtime","body":"<ul>\n<li>How do I change weblogic datasource at runtime? </li>\n<li>For example.\ncurrently it is referring to UAT database Now I want to point to Dev\ndatabase. I know it can be modified in console. I don't want to use\nthat method. it requires too much user interaction. </li>\n<li>Any other easy method. \nCan I modify the datasource in my app config file persistence.xml file to chg form UATdb to DevDb. </li>\n<li>Does it require restarting my weblogic web server? </li>\n<li>How to manage without restarting web server </li>\n<li>Or should I have another web server instance? for UATdb and another for Devdb</li>\n</ul>\n"},{"tags":["java","httpclient","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":2675259,"reputation":81,"user_id":2311810,"display_name":"spock8190"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1423480942,"creation_date":1423480942,"answer_id":28408570,"question_id":28407994,"body_markdown":"I think I got it. I guess it can be done by setting the `setDoAuthentication()` method to false in the `requestConfig` for httpClient.","title":"How to force the http client to not handle the authentication challenges automatically in httpClient 4.3.x?","body":"<p>I think I got it. I guess it can be done by setting the <code>setDoAuthentication()</code> method to false in the <code>requestConfig</code> for httpClient.</p>\n"},{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675954723,"creation_date":1675953826,"answer_id":75400234,"question_id":28407994,"body_markdown":"@spock8190 thanks for your post this gave me the correct hint.\r\nBut the new method name is `setAuthenticationEnabled` (at least for 4.5)\r\n\r\n&gt; Determines whether authentication should be handled automatically.\r\n\r\nExample:\r\n\r\n\t\tHttpGet httpGet = new HttpGet(&quot;test.de&quot;);\r\n\t\tRequestConfig requestConfig = RequestConfig.custom().setAuthenticationEnabled(true).build();\r\n\t\thttpGet.setConfig(requestConfig);\r\n\r\n","title":"How to force the http client to not handle the authentication challenges automatically in httpClient 4.3.x?","body":"<p>@spock8190 thanks for your post this gave me the correct hint.\nBut the new method name is <code>setAuthenticationEnabled</code> (at least for 4.5)</p>\n<blockquote>\n<p>Determines whether authentication should be handled automatically.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>    HttpGet httpGet = new HttpGet(&quot;test.de&quot;);\n    RequestConfig requestConfig = RequestConfig.custom().setAuthenticationEnabled(true).build();\n    httpGet.setConfig(requestConfig);\n</code></pre>\n"}],"owner":{"account_id":2675259,"reputation":81,"user_id":2311810,"display_name":"spock8190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28408570,"answer_count":2,"score":2,"last_activity_date":1675954723,"creation_date":1423479012,"question_id":28407994,"body_markdown":"I am migrating my httpclient 3.x to httpclient 4.3.x. \r\n\r\nWith httpClient 3.x I used `setDoAuthentication(false)` which ensured that the method would not try to handle the authentication challenges automatically. How can I set the same functionality with httpClient 4.3.x?\r\n\r\nI already went through the javadocs of httpmethods and httpclient and there is no way to do it. The closest I have been is the use of `disableAuthCaching()` in httpClientBuilder, but not sure whether it would serve the purpose.\r\n\r\nCan anyone please provide some pointers?\r\n\r\nI have read somewhere that there is a parameter through which we can achieve this behavior but I am not able to find it anywhere. Sorry if it looks like a pretty basic question.","title":"How to force the http client to not handle the authentication challenges automatically in httpClient 4.3.x?","body":"<p>I am migrating my httpclient 3.x to httpclient 4.3.x. </p>\n\n<p>With httpClient 3.x I used <code>setDoAuthentication(false)</code> which ensured that the method would not try to handle the authentication challenges automatically. How can I set the same functionality with httpClient 4.3.x?</p>\n\n<p>I already went through the javadocs of httpmethods and httpclient and there is no way to do it. The closest I have been is the use of <code>disableAuthCaching()</code> in httpClientBuilder, but not sure whether it would serve the purpose.</p>\n\n<p>Can anyone please provide some pointers?</p>\n\n<p>I have read somewhere that there is a parameter through which we can achieve this behavior but I am not able to find it anywhere. Sorry if it looks like a pretty basic question.</p>\n"},{"tags":["java","json","spring-boot","spring-mvc","spring-rest"],"comments":[{"owner":{"account_id":9827023,"reputation":239,"user_id":7279957,"display_name":"Kaushik Patel"},"score":0,"creation_date":1675985543,"post_id":75400179,"comment_id":133051285,"body_markdown":"Extra \\ is to escape the &quot; characters to maintain the Json Structure else the JSON itself would become invalid. The client that would be consuming the response will get the expected value once it parses the json. InFact you can try converting the same object into json in the code using any Json conversion framework and printing the json. You&#39;ll get the same output.","body":"Extra \\ is to escape the &quot; characters to maintain the Json Structure else the JSON itself would become invalid. The client that would be consuming the response will get the expected value once it parses the json. InFact you can try converting the same object into json in the code using any Json conversion framework and printing the json. You&#39;ll get the same output."},{"owner":{"account_id":9447542,"reputation":1,"user_id":21180690,"display_name":"SAM"},"score":0,"creation_date":1676000403,"post_id":75400179,"comment_id":133053325,"body_markdown":"@KaushikPatel: this data ui is taking to show in ck editor.is there any way to convert there in ui function?","body":"@KaushikPatel: this data ui is taking to show in ck editor.is there any way to convert there in ui function?"}],"owner":{"account_id":9447542,"reputation":1,"user_id":21180690,"display_name":"SAM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675954266,"creation_date":1675953568,"question_id":75400179,"body_markdown":"I am having spring rest service where I am sending clob data(rich text field).i.e html data as string.\r\nI can see service is returning fine(debug mode) but when it&#39;s coming to browser all double quotes&quot; are getting converted with &quot;\\ \r\nThat&#39;s why image rendering is not happening in rich text field.\r\nPlease help me to resolve this.\r\n\r\n\r\n\r\n\r\n\r\nRest Call:\r\nActual code I am unable to post due to access issue\r\n`@GetMapping(value=&quot;/getRTFData&quot;, produces =&quot;application/json&quot;)\r\npublic RTFData get()\r\n{\r\n}`\r\nRTFData class having field\r\nString contentText;\r\n\r\nActual Service returning :\r\ncontentText = &quot;&lt;some src =&quot;https://sample/viewImage/123&quot; \r\nbut in response in swagger/postman  i can see coming as \r\ncontentText =&quot;&lt;some src=\\\\&quot;https://sample/viewImage/123\\\\&quot;&gt;&quot;\r\n\r\nWhich is extra \\ whenever &quot;(double quote).\r\n\r\nPlease help\r\n","title":"Double code is getting change to \\&quot; in Spring Rest response","body":"<p>I am having spring rest service where I am sending clob data(rich text field).i.e html data as string.\nI can see service is returning fine(debug mode) but when it's coming to browser all double quotes&quot; are getting converted with &quot;\\\nThat's why image rendering is not happening in rich text field.\nPlease help me to resolve this.</p>\n<p>Rest Call:\nActual code I am unable to post due to access issue\n<code>@GetMapping(value=&quot;/getRTFData&quot;, produces =&quot;application/json&quot;) public RTFData get() { }</code>\nRTFData class having field\nString contentText;</p>\n<p>Actual Service returning :\ncontentText = &quot;&lt;some src =&quot;https://sample/viewImage/123&quot;\nbut in response in swagger/postman  i can see coming as\ncontentText =&quot;&lt;some src=\\&quot;https://sample/viewImage/123\\&quot;&gt;&quot;</p>\n<p>Which is extra \\ whenever &quot;(double quote).</p>\n<p>Please help</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9332,"page":660,"page_size":100}
