{"items":[{"tags":["java","apache-kafka","apache-kafka-streams"],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676027498,"creation_date":1676027498,"question_id":75410333,"body_markdown":"We&#39;ve deployed our `kafka-streams` application on real environment and observing metrics provided by the lib itself we noticed some weird peaks and drops.\r\n\r\nIs there any simple way to find why is it behaving in such way?\r\n\r\nI can&#39;t see any errors or problems in logs.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0pOPr.png","title":"Peaking and dropping end to end (E2E) latency for kafka streams app","body":"<p>We've deployed our <code>kafka-streams</code> application on real environment and observing metrics provided by the lib itself we noticed some weird peaks and drops.</p>\n<p>Is there any simple way to find why is it behaving in such way?</p>\n<p>I can't see any errors or problems in logs.</p>\n<p><a href=\"https://i.stack.imgur.com/0pOPr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0pOPr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","processbuilder","gradlew"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675961634,"post_id":75401810,"comment_id":133044963,"body_markdown":"You aren&#39;t reading the `Process`&#39;s error stream, which may be why you don&#39;t see any error but also don&#39;t see any expected output. You can do `pb.redirectErrorStream()` to redirect the process&#39;s error stream to its output stream. What do you see if you do that?","body":"You aren&#39;t reading the <code>Process</code>&#39;s error stream, which may be why you don&#39;t see any error but also don&#39;t see any expected output. You can do <code>pb.redirectErrorStream()</code> to redirect the process&#39;s error stream to its output stream. What do you see if you do that?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675961793,"post_id":75401810,"comment_id":133045015,"body_markdown":"You may also want to check out the [Gradle Tooling API](https://docs.gradle.org/current/userguide/third_party_integration.html#embedding).","body":"You may also want to check out the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html#embedding\" rel=\"nofollow noreferrer\">Gradle Tooling API</a>."},{"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"score":0,"creation_date":1676026388,"post_id":75401810,"comment_id":133058712,"body_markdown":"Once I had redirected the error stream, I realised it wasn&#39;t passing `--arg=&quot;argy&quot;`, just `&quot;argy&quot;`. \nSo I added \n`String myArgVar = &quot;argy&quot;;`, \n`String myArg = String.format(&quot;--args=\\&quot; %s&quot;, myArgVar);` and myArg instead of &quot;argy&quot; in the `processBuilder` section and it worked. Alas it only takes String arguments as user16320675 pointed out so I&#39;m now wading around the Gradle Tooling API, thanks Slaw! I think that&#39;s more what I was looking for.","body":"Once I had redirected the error stream, I realised it wasn&#39;t passing <code>--arg=&quot;argy&quot;</code>, just <code>&quot;argy&quot;</code>.  So I added  <code>String myArgVar = &quot;argy&quot;;</code>,  <code>String myArg = String.format(&quot;--args=\\&quot; %s&quot;, myArgVar);</code> and myArg instead of &quot;argy&quot; in the <code>processBuilder</code> section and it worked. Alas it only takes String arguments as user16320675 pointed out so I&#39;m now wading around the Gradle Tooling API, thanks Slaw! I think that&#39;s more what I was looking for."}],"answers":[{"tags":[],"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676027347,"creation_date":1676027347,"answer_id":75410299,"question_id":75401810,"body_markdown":"After placing `pb.redirectErrorStream(true)`; before `pb.start()`, it became clear that I was passing &quot;argy&quot; as a command not an argument.\r\nTo run gradle, you need the command `./gradlew run --args=&quot;string_args&quot;` so I edited it to:\r\n\r\n```\r\n\r\n        String argy= &quot;argybargy\\&quot;&quot;;\r\n        String myArg = String.format(&quot;--args=\\&quot; %s&quot;, argy);\r\n\r\n\r\n        try {\r\n            String lines = null;\r\n\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;./gradlew&quot;, &quot;run&quot;, myArg);\r\n\r\n            pb.redirectErrorStream(true);\r\n            Process pr = pb.start();\r\n            System.out.println(&quot;Processbuilder run&quot;);\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n            while ((lines = reader.readLine())!=null) {\r\n                System.out.println(&quot;Line: &quot; + lines);\r\n            } \r\n            \r\n\r\n        }\r\n        catch (IOException e)\r\n        { \r\n            System.out.print(&quot;error&quot;);\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nWhich now runs, passes the argument correctly, and redirects any errors to the terminal. Many thanks for all the help.","title":"Can&#39;t call Gradle with arguments from a java app using Process Builder, build fails","body":"<p>After placing <code>pb.redirectErrorStream(true)</code>; before <code>pb.start()</code>, it became clear that I was passing &quot;argy&quot; as a command not an argument.\nTo run gradle, you need the command <code>./gradlew run --args=&quot;string_args&quot;</code> so I edited it to:</p>\n<pre><code>\n        String argy= &quot;argybargy\\&quot;&quot;;\n        String myArg = String.format(&quot;--args=\\&quot; %s&quot;, argy);\n\n\n        try {\n            String lines = null;\n\n            ProcessBuilder pb = new ProcessBuilder(&quot;./gradlew&quot;, &quot;run&quot;, myArg);\n\n            pb.redirectErrorStream(true);\n            Process pr = pb.start();\n            System.out.println(&quot;Processbuilder run&quot;);\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            while ((lines = reader.readLine())!=null) {\n                System.out.println(&quot;Line: &quot; + lines);\n            } \n            \n\n        }\n        catch (IOException e)\n        { \n            System.out.print(&quot;error&quot;);\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Which now runs, passes the argument correctly, and redirects any errors to the terminal. Many thanks for all the help.</p>\n"}],"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676027347,"creation_date":1675961117,"question_id":75401810,"body_markdown":"I&#39;m trying to call a Gradle app from a separate java app, on Linux. I&#39;m using ProcessBuilder, which calls the Gradle app no problem when not passing an argument, and the Gradle app builds. But when I include an argument, it doesn&#39;t appear to run Gradle at all, but doesn&#39;t give an error, and still prints `Processbuilder run` to the Terminal.\r\n\r\nThis is in the main method:\r\n\r\n```\r\n        String cmd = &quot;./gradlew&quot;;\r\n\r\n        try {\r\n            String lines = null;\r\n\r\n            //This works but doesn&#39;t send an argument:\r\n            //ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;); \r\n\r\n            //won&#39;t run with an argument!\r\n            ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;, &quot;argy&quot;); \r\n\r\n            Process pr = pb.start();\r\n\r\n            System.out.println(&quot;Processbuilder run&quot;);\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n            while ((lines = reader.readLine())!=null) {\r\n                System.out.println(&quot;Line: &quot; + lines);\r\n            }\r\n            \r\n\r\n        }\r\n        catch (IOException e)\r\n        { \r\n            System.out.print(&quot;error&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    \r\n\r\n    }\r\n```\r\n\r\nTerminal output when run ProcessBuilder without `argy` :\r\n\r\n```\r\n    Processbuilder run\r\n    Line: &gt; Task :app:compileJava\r\n    Line: &gt; Task :app:processResources\r\n    Line: &gt; Task :app:classes\r\n    Line: \r\n    Line: &gt; Task :app:run\r\n    Line: \r\n    Line: BUILD SUCCESSFUL in 1s\r\n    Line: 3 actionable tasks: 3 executed\r\n`\r\n```\r\n\r\n\r\nTerminal output when run ProcessBuilder with `argy` :\r\n``` \r\n    Processbuilder run\r\n```\r\n\r\nI need to pass java objects through so I can&#39;t use `Runtime.getRuntime().exec()` as it only passes through a string as an argument.\r\n\r\nHow can I get ProcessBuilder to supply the argument to Gradle and have it run? Or is there some other way of calling a Gradle app from a totally separate java package?\r\n\r\n\r\n","title":"Can&#39;t call Gradle with arguments from a java app using Process Builder, build fails","body":"<p>I'm trying to call a Gradle app from a separate java app, on Linux. I'm using ProcessBuilder, which calls the Gradle app no problem when not passing an argument, and the Gradle app builds. But when I include an argument, it doesn't appear to run Gradle at all, but doesn't give an error, and still prints <code>Processbuilder run</code> to the Terminal.</p>\n<p>This is in the main method:</p>\n<pre><code>        String cmd = &quot;./gradlew&quot;;\n\n        try {\n            String lines = null;\n\n            //This works but doesn't send an argument:\n            //ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;); \n\n            //won't run with an argument!\n            ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;, &quot;argy&quot;); \n\n            Process pr = pb.start();\n\n            System.out.println(&quot;Processbuilder run&quot;);\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            while ((lines = reader.readLine())!=null) {\n                System.out.println(&quot;Line: &quot; + lines);\n            }\n            \n\n        }\n        catch (IOException e)\n        { \n            System.out.print(&quot;error&quot;);\n            e.printStackTrace();\n        }\n    \n\n    }\n</code></pre>\n<p>Terminal output when run ProcessBuilder without <code>argy</code> :</p>\n<pre><code>    Processbuilder run\n    Line: &gt; Task :app:compileJava\n    Line: &gt; Task :app:processResources\n    Line: &gt; Task :app:classes\n    Line: \n    Line: &gt; Task :app:run\n    Line: \n    Line: BUILD SUCCESSFUL in 1s\n    Line: 3 actionable tasks: 3 executed\n`\n</code></pre>\n<p>Terminal output when run ProcessBuilder with <code>argy</code> :</p>\n<pre><code>    Processbuilder run\n</code></pre>\n<p>I need to pass java objects through so I can't use <code>Runtime.getRuntime().exec()</code> as it only passes through a string as an argument.</p>\n<p>How can I get ProcessBuilder to supply the argument to Gradle and have it run? Or is there some other way of calling a Gradle app from a totally separate java package?</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":5485279,"reputation":469,"user_id":4360272,"accept_rate":46,"display_name":"KurdTt-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676027221,"creation_date":1676027221,"question_id":75410274,"body_markdown":"I&#39;ve got old Android project in Java and I want to extend it with new API from Kotlin. The problem is, when I call more than one suspend function in project, it loses execution point. When suspend function calls another one, it does not return any value, but cuts off all code execution. I ran debugger with &quot;Suspend: All&quot; and still nothing.\r\n\r\nIn my `AuthAPI.java` file I&#39;ve got class with function (for now I&#39;ve removed callbacks):\r\n\r\n```\r\n    public void login(AuthType authType, String password) {\r\n        kotlinBackendApi.login(new AuthData(AuthType.PIN, password));\r\n    }\r\n```\r\n\r\nIn `KotlinBackendApi.kt` I&#39;ve created simply `Main` coroutine scope with launch method, that&#39;s my adapter for API:\r\n\r\n```\r\nprivate val scope = CoroutineScope(Job() + Dispatchers.Main)\r\n\r\nfun login(authData: AuthData) {\r\n        scope.launch() {\r\n            authenticator.authenticate(authData)\r\n        }\r\n    }\r\n```\r\n\r\nAuthenticator contains suspend function `authenticate`, that firstly call for JWT Token:\r\n\r\n```\r\noverride suspend fun authenticate(authData: AuthData) {\r\n        withContext(dispatcher) {\r\n            val orgAuthToken = getOrganizationToken()\r\n            // Other stuff\r\n            }\r\n        }\r\n```\r\n\r\nLater, `getOrganizationToken` is another suspend function:\r\n\r\n```\r\n    private suspend fun getOrganizationToken(): String {\r\n        return tokenJwtApi.getOrganizationToken()\r\n    }\r\n```\r\n\r\nIt breaks on line `return tokenJwtApi.getOrganizationToken()`. *It does not return any value*, like it seems to change coroutine to another one with scope UI, loosing conext in the meantime. Application hangs.","title":"Call Kotlin suspend function via Kotlin class in Java without freeze","body":"<p>I've got old Android project in Java and I want to extend it with new API from Kotlin. The problem is, when I call more than one suspend function in project, it loses execution point. When suspend function calls another one, it does not return any value, but cuts off all code execution. I ran debugger with &quot;Suspend: All&quot; and still nothing.</p>\n<p>In my <code>AuthAPI.java</code> file I've got class with function (for now I've removed callbacks):</p>\n<pre><code>    public void login(AuthType authType, String password) {\n        kotlinBackendApi.login(new AuthData(AuthType.PIN, password));\n    }\n</code></pre>\n<p>In <code>KotlinBackendApi.kt</code> I've created simply <code>Main</code> coroutine scope with launch method, that's my adapter for API:</p>\n<pre><code>private val scope = CoroutineScope(Job() + Dispatchers.Main)\n\nfun login(authData: AuthData) {\n        scope.launch() {\n            authenticator.authenticate(authData)\n        }\n    }\n</code></pre>\n<p>Authenticator contains suspend function <code>authenticate</code>, that firstly call for JWT Token:</p>\n<pre><code>override suspend fun authenticate(authData: AuthData) {\n        withContext(dispatcher) {\n            val orgAuthToken = getOrganizationToken()\n            // Other stuff\n            }\n        }\n</code></pre>\n<p>Later, <code>getOrganizationToken</code> is another suspend function:</p>\n<pre><code>    private suspend fun getOrganizationToken(): String {\n        return tokenJwtApi.getOrganizationToken()\n    }\n</code></pre>\n<p>It breaks on line <code>return tokenJwtApi.getOrganizationToken()</code>. <em>It does not return any value</em>, like it seems to change coroutine to another one with scope UI, loosing conext in the meantime. Application hangs.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-webflux","exponential-backoff"],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676026652,"creation_date":1675710935,"question_id":75365636,"body_markdown":"I have a `Kafka` consumer written in `Java` and `SpringBoot`.\r\nI am using `WebFlux` in order to make a call to trigger some actions on a third party server (and waiting the result of course).\r\nThis server has rate limit that is limiting me from making a lot of requests in a short time.\r\nIn order to prevent failures I intend to keep on trying calling the server using `WebFlux backoff`:\r\n```\r\nwebClientBuilder.build()\r\n.get()\r\n...\r\n.retryWhen(getRetryPolicyOnTooManyRequests())\r\n...\r\n\r\nprivate RetryBackoffSpec getRetryPolicyOnTooManyRequests() {\r\n    return Retry.backoff(20, Duration.ofSeconds(retryBackoffMinimumSeconds))\r\n        .filter(this::is429Error);\r\n}\r\n\r\nprivate boolean is429Error(Throwable throwable) {\r\n    return throwable instanceof WebClientResponseException\r\n        &amp;&amp; ((WebClientResponseException) throwable).getStatusCode() == HttpStatus.TOO_MANY_REQUESTS;\r\n}\r\n\r\n```\r\nMy questions are about the behavior I should expect from my kafka:\r\n\r\n 1. What will happen when I&#39;ll be `backoff`ing one of my calls? Will I be blocking the thread? Will a new thread be opened to process another message?\r\n 2. If I got the default consumer configurations (`max.poll.records`=500, `max.poll.interval.ms`=30000) and my backoff time will get to 5 minutes will the kafka group be rebalanced? \r\n 3. If so, is there a smarter way to tackle this issue so I won&#39;t get rebalanced\r\n    each time, other than just putting a super high number in `max.poll.interval.ms`\r\n\r\n","title":"WebFlux backoff and multi-threading in a kafka consumer flow","body":"<p>I have a <code>Kafka</code> consumer written in <code>Java</code> and <code>SpringBoot</code>.\nI am using <code>WebFlux</code> in order to make a call to trigger some actions on a third party server (and waiting the result of course).\nThis server has rate limit that is limiting me from making a lot of requests in a short time.\nIn order to prevent failures I intend to keep on trying calling the server using <code>WebFlux backoff</code>:</p>\n<pre><code>webClientBuilder.build()\n.get()\n...\n.retryWhen(getRetryPolicyOnTooManyRequests())\n...\n\nprivate RetryBackoffSpec getRetryPolicyOnTooManyRequests() {\n    return Retry.backoff(20, Duration.ofSeconds(retryBackoffMinimumSeconds))\n        .filter(this::is429Error);\n}\n\nprivate boolean is429Error(Throwable throwable) {\n    return throwable instanceof WebClientResponseException\n        &amp;&amp; ((WebClientResponseException) throwable).getStatusCode() == HttpStatus.TOO_MANY_REQUESTS;\n}\n\n</code></pre>\n<p>My questions are about the behavior I should expect from my kafka:</p>\n<ol>\n<li>What will happen when I'll be <code>backoff</code>ing one of my calls? Will I be blocking the thread? Will a new thread be opened to process another message?</li>\n<li>If I got the default consumer configurations (<code>max.poll.records</code>=500, <code>max.poll.interval.ms</code>=30000) and my backoff time will get to 5 minutes will the kafka group be rebalanced?</li>\n<li>If so, is there a smarter way to tackle this issue so I won't get rebalanced\neach time, other than just putting a super high number in <code>max.poll.interval.ms</code></li>\n</ol>\n"},{"tags":["java","angular","algorithm","aes","cbc-mode"],"answers":[{"tags":[],"owner":{"account_id":19185283,"reputation":41,"user_id":14016187,"display_name":"Antoine Dargouge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676022693,"creation_date":1676022693,"answer_id":75409381,"question_id":75408841,"body_markdown":"I finaly find a post who sayd they pkcs5 in java are the same as pkcs7 in angular\r\n--&gt;padding (128)\r\n\r\nsource:\r\nhttps://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>I finaly find a post who sayd they pkcs5 in java are the same as pkcs7 in angular\n--&gt;padding (128)</p>\n<p>source:\n<a href=\"https://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding\">https://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding</a></p>\n"},{"tags":[],"owner":{"account_id":26534196,"reputation":36,"user_id":20165976,"display_name":"Manali Lakhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676026593,"creation_date":1676026593,"answer_id":75410149,"question_id":75408841,"body_markdown":"As per your code seems like, There is a issue with your PBEKeySpec and key length specification. \r\n**JAVA**: you must need to use &quot;AES/CBC/PKCS5Padding&quot; instead of &quot;AES/CBC/PKCS7Padding&quot;\r\n**Angular**: Make changes on key length and PBEKeySpec\r\n  let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(&quot;hasan test&quot;), key,\r\n  {\r\n      keySize: 16,\r\n      iv: iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      padding: CryptoJS.pad.Pkcs7\r\n  }).toString();\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>As per your code seems like, There is a issue with your PBEKeySpec and key length specification.\n<strong>JAVA</strong>: you must need to use &quot;AES/CBC/PKCS5Padding&quot; instead of &quot;AES/CBC/PKCS7Padding&quot;\n<strong>Angular</strong>: Make changes on key length and PBEKeySpec\nlet encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(&quot;hasan test&quot;), key,\n{\nkeySize: 16,\niv: iv,\nmode: CryptoJS.mode.CBC,\npadding: CryptoJS.pad.Pkcs7\n}).toString();</p>\n"}],"owner":{"account_id":19185283,"reputation":41,"user_id":14016187,"display_name":"Antoine Dargouge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75410149,"answer_count":2,"score":2,"last_activity_date":1676026593,"creation_date":1676019388,"question_id":75408841,"body_markdown":"I have written this code in Angular to encrypt a string:\r\n\r\n\r\n    import { Injectable } from &#39;@angular/core&#39;;\r\n    import * as CryptoJS from &#39;crypto-js&#39;;\r\n    \r\n    @Injectable({\r\n        providedIn: &#39;root&#39;,\r\n      })\r\n    export class CryptoService {\r\n      \r\n      encrypt(message: string, clef: string): string {\r\n    \r\n        const salt = CryptoJS.SHA256(&quot;123456789123&quot;);\r\n    \r\n        const key = CryptoJS.PBKDF2(clef, salt, {\r\n          keySize: 128 / 32,\r\n          iterations: 1000\r\n      });\r\n    \r\n        // var key = CryptoJS.enc.Utf8.parse(clef);\r\n        let iv = CryptoJS.enc.Utf8.parse(clef);\r\n        let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(message.toString()), key,\r\n        {\r\n            keySize: 128 / 8,\r\n            iv: iv,\r\n            mode: CryptoJS.mode.CBC,\r\n            padding: CryptoJS.pad.Pkcs7\r\n        });\r\n    \r\n    \r\n        // var encryptedMessage = CryptoJS.AES.encrypt(message.trim(), key).toString();\r\n    \r\n        return encrypted.toString();\r\n      }\r\n    \r\n      generateKey(): string {\r\n          let result = &#39;&#39;;\r\n          const characters = &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&#39;;\r\n          const charactersLength = characters.length;\r\n          let counter = 0;\r\n          while (counter &lt; 16) {\r\n          result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n          counter += 1;\r\n          }\r\n          return result;\r\n      }\r\n    }\r\n\r\nI transfer my key and encriptedMessage to the back for the decryption.\r\n\r\nI code dat on java:\r\n\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    \r\n    public class AESUtilService {\r\n    \t\r\n    \tprotected static final String salt = &quot;123456789123&quot;;\r\n    \t\r\n    \tpublic SecretKey getKeyFromPassword(String password)\r\n    \t\tthrows NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \t    \r\n    \t    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n    \t    KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 1000, 128/32);\r\n    \t    SecretKey secret = factory.generateSecret(spec);\r\n    \t    return secret;\r\n    \t}\r\n        public String decrypt(String cipherText, SecretKey key)\r\n    \t\tthrows NoSuchPaddingException, NoSuchAlgorithmException,\r\n    \t\tInvalidAlgorithmParameterException, InvalidKeyException,\r\n    \t\tBadPaddingException, IllegalBlockSizeException {\r\n    \t\t    \r\n    \t\tString algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\r\n    \t\tIvParameterSpec iv = new IvParameterSpec(&quot;MnTQLHcWumIKTXpQ&quot;.getBytes());\r\n    \t\t\r\n    \t\tCipher cipher = Cipher.getInstance(algorithm);\r\n    \t\tcipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n    \t\tbyte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n    \t\treturn new String(plainText);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy issue is the following.\r\nThe part of the code `Cipher cipher = Cipher.getInstance(algorithm);` crashes in java, if I use `String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;`\r\nHowever it would pass with `String algorithm = &quot;AES/CBC/PKCS5Padding&quot;;`, but this time it&#39;s angular that would crash. **padding: CryptoJS.pad.Pkcs5**\r\n\r\nI can&#39;t find a solution for this problem, and that&#39;s why I ask for your help.\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>I have written this code in Angular to encrypt a string:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport * as CryptoJS from 'crypto-js';\n\n@Injectable({\n    providedIn: 'root',\n  })\nexport class CryptoService {\n  \n  encrypt(message: string, clef: string): string {\n\n    const salt = CryptoJS.SHA256(&quot;123456789123&quot;);\n\n    const key = CryptoJS.PBKDF2(clef, salt, {\n      keySize: 128 / 32,\n      iterations: 1000\n  });\n\n    // var key = CryptoJS.enc.Utf8.parse(clef);\n    let iv = CryptoJS.enc.Utf8.parse(clef);\n    let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(message.toString()), key,\n    {\n        keySize: 128 / 8,\n        iv: iv,\n        mode: CryptoJS.mode.CBC,\n        padding: CryptoJS.pad.Pkcs7\n    });\n\n\n    // var encryptedMessage = CryptoJS.AES.encrypt(message.trim(), key).toString();\n\n    return encrypted.toString();\n  }\n\n  generateKey(): string {\n      let result = '';\n      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      const charactersLength = characters.length;\n      let counter = 0;\n      while (counter &lt; 16) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      counter += 1;\n      }\n      return result;\n  }\n}\n</code></pre>\n<p>I transfer my key and encriptedMessage to the back for the decryption.</p>\n<p>I code dat on java:</p>\n<pre><code>import java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Base64;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\n\npublic class AESUtilService {\n    \n    protected static final String salt = &quot;123456789123&quot;;\n    \n    public SecretKey getKeyFromPassword(String password)\n        throws NoSuchAlgorithmException, InvalidKeySpecException {\n        \n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 1000, 128/32);\n        SecretKey secret = factory.generateSecret(spec);\n        return secret;\n    }\n    public String decrypt(String cipherText, SecretKey key)\n        throws NoSuchPaddingException, NoSuchAlgorithmException,\n        InvalidAlgorithmParameterException, InvalidKeyException,\n        BadPaddingException, IllegalBlockSizeException {\n            \n        String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\n        IvParameterSpec iv = new IvParameterSpec(&quot;MnTQLHcWumIKTXpQ&quot;.getBytes());\n        \n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\n        return new String(plainText);\n    }\n    \n}\n</code></pre>\n<p>My issue is the following.\nThe part of the code <code>Cipher cipher = Cipher.getInstance(algorithm);</code> crashes in java, if I use <code>String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;</code>\nHowever it would pass with <code>String algorithm = &quot;AES/CBC/PKCS5Padding&quot;;</code>, but this time it's angular that would crash. <strong>padding: CryptoJS.pad.Pkcs5</strong></p>\n<p>I can't find a solution for this problem, and that's why I ask for your help.</p>\n"},{"tags":["java","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":8070277,"reputation":911,"user_id":6083277,"display_name":"Romeo Sheshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660907148,"creation_date":1660907148,"answer_id":73415810,"question_id":73415368,"body_markdown":"Seems that the example may be an old example, actually you can use a different method based on the object you want instead of `members()` the `membersAsUser()`  actually the memberAsUser add the path microsoft.graph.user like this way \r\n\r\n    //microsoft ghraph source code\r\n    @Nonnull\r\n    public UserCollectionRequestBuilder membersAsUser() {\r\n        return new UserCollectionRequestBuilder(getRequestUrlWithAdditionalSegment(&quot;members&quot;) + &quot;/microsoft.graph.user&quot;, getClient(), null);\r\n    }\r\n\r\nso the example with be like this way \r\n   \r\n\r\n    UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).membersAsUser()\r\n                    .buildRequest( requestOptions )\r\n                    .select(&quot;displayName,id&quot;)\r\n                    .orderBy(&quot;displayName&quot;)\r\n                    .get();","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>Seems that the example may be an old example, actually you can use a different method based on the object you want instead of <code>members()</code> the <code>membersAsUser()</code>  actually the memberAsUser add the path microsoft.graph.user like this way</p>\n<pre><code>//microsoft ghraph source code\n@Nonnull\npublic UserCollectionRequestBuilder membersAsUser() {\n    return new UserCollectionRequestBuilder(getRequestUrlWithAdditionalSegment(&quot;members&quot;) + &quot;/microsoft.graph.user&quot;, getClient(), null);\n}\n</code></pre>\n<p>so the example with be like this way</p>\n<pre><code>UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).membersAsUser()\n                .buildRequest( requestOptions )\n                .select(&quot;displayName,id&quot;)\n                .orderBy(&quot;displayName&quot;)\n                .get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314096,"reputation":335,"user_id":629096,"display_name":"stephen ebichondo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676026163,"creation_date":1676026163,"answer_id":75410066,"question_id":73415368,"body_markdown":"I had a similar issue with the groups endpoint \r\n\r\n    GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n    \r\n    LinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\r\n    requestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\r\n    GroupCollectionPage group = graphClient.users({id}).memberOf().microsoft.graph.group()\r\n\t.buildRequest( requestOptions )\r\n\t.filter(&quot;startswith(displayName, &#39;in&#39;)&quot;)\r\n\t.orderBy(&quot;displayName&quot;)\r\n\t.get();\r\n\r\nI had to work around it since .microsoft() method does not exist and isn&#39;t resolving to anything. \r\n\r\n      final GroupCollectionPage userGroups = _appClient.users({id})\r\n                .memberOfAsGroup()\r\n                .buildRequest(requestOptions)\r\n                .select(&quot;displayName,id,mail&quot;)\r\n                .filter(&quot;startswith(displayName, &#39;c&#39;)&quot;)\r\n                .orderBy(&quot;displayName&quot;)\r\n                .get();\r\n\r\n\r\n\r\n","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>I had a similar issue with the groups endpoint</p>\n<pre><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nLinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\nrequestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\nGroupCollectionPage group = graphClient.users({id}).memberOf().microsoft.graph.group()\n.buildRequest( requestOptions )\n.filter(&quot;startswith(displayName, 'in')&quot;)\n.orderBy(&quot;displayName&quot;)\n.get();\n</code></pre>\n<p>I had to work around it since .microsoft() method does not exist and isn't resolving to anything.</p>\n<pre><code>  final GroupCollectionPage userGroups = _appClient.users({id})\n            .memberOfAsGroup()\n            .buildRequest(requestOptions)\n            .select(&quot;displayName,id,mail&quot;)\n            .filter(&quot;startswith(displayName, 'c')&quot;)\n            .orderBy(&quot;displayName&quot;)\n            .get();\n</code></pre>\n"}],"owner":{"account_id":5568337,"reputation":614,"user_id":4414667,"display_name":"Ahmet EroÄŸlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676026163,"creation_date":1660904941,"question_id":73415368,"body_markdown":"I need to fetch the users from a group with certain ID. For this one there is a code snippet in the official documentation.\r\n\r\n\r\nhttps://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java\r\n\r\n        GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n    \r\n    LinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\r\n    requestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\r\n    requestOptions.add(new QueryOption(&quot;$search&quot;, &quot;displayName:Pr&quot;));\r\n    \r\n    UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).members().microsoft.graph.user()\r\n    \t.buildRequest( requestOptions )\r\n    \t.select(&quot;displayName,id&quot;)\r\n    \t.orderBy(&quot;displayName&quot;)\r\n    \t.get();\r\n\r\nAs can be seen from the above sample given, there is a chain call after members(). method, however although I use the latest version from maven central repository, .microsoft() method does not exist and isn&#39;t resolving to anything.\r\nIf I use members().buildRequest().get() then it brings me an another directory instance but not the usercollectionpage list. How can i fix this problem?","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>I need to fetch the users from a group with certain ID. For this one there is a code snippet in the official documentation.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java</a></p>\n<pre><code>    GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nLinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\nrequestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\nrequestOptions.add(new QueryOption(&quot;$search&quot;, &quot;displayName:Pr&quot;));\n\nUserCollectionPage user = graphClient.groups(&quot;{id}&quot;).members().microsoft.graph.user()\n    .buildRequest( requestOptions )\n    .select(&quot;displayName,id&quot;)\n    .orderBy(&quot;displayName&quot;)\n    .get();\n</code></pre>\n<p>As can be seen from the above sample given, there is a chain call after members(). method, however although I use the latest version from maven central repository, .microsoft() method does not exist and isn't resolving to anything.\nIf I use members().buildRequest().get() then it brings me an another directory instance but not the usercollectionpage list. How can i fix this problem?</p>\n"},{"tags":["java","maven","maven-plugin","dependency-management"],"owner":{"account_id":27642790,"reputation":1,"user_id":21099385,"display_name":"silspi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676026071,"creation_date":1676025962,"question_id":75410027,"body_markdown":"I&#39;m trying to implement a Maven based Minecraft Plugin. For this I need some Jar files, such as Coreprotect or Craftbukkit. When I add them to my &quot;local-maven-repo&quot; in the project, it doesn&#39;t accept the dependency in the pom.xml file. \r\n\r\nHere are the methods I tried:\r\n\r\n1. I created the &quot;local-maven-repo&quot; in the pom.xml file:\r\n```\r\n&lt;repository&gt;\r\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\r\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n[&quot;local-maven-repo&quot; creation](https://i.stack.imgur.com/CGQQJ.png)\r\n\r\n2. I put the Jar files into the respective folder:\r\n[Jar files in repo folder](https://i.stack.imgur.com/cCZ2W.png)\r\n\r\n3. I added the dependency as follows and got this error:\r\n```\r\n&lt;dependency&gt;\r\n       &lt;groupId&gt;net.coreprotect&lt;/groupId&gt;\r\n       &lt;artifactId&gt;CoreProtect&lt;/artifactId&gt;\r\n       &lt;version&gt;21.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n       &lt;groupId&gt;org.bukkit.craftbukkit&lt;/groupId&gt;\r\n       &lt;artifactId&gt;craftbukkit&lt;/artifactId&gt;\r\n       &lt;version&gt;1.19.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n[Dependency and error message](https://i.stack.imgur.com/EVNHE.png)\r\n\r\n------------*\r\nAnother way I tried is, installing the jars via the commandline (from my Downloads folder into the &quot;local-maven-repo&quot;), using the following command:\r\nmvn install:install-file \r\n-DgroupId=net.coreprotect -DartifactId=Coreprotect -Dversion=21.3 \r\n-Dpackaging=jar -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=C:\\Users\\silsp\\Downloads\\CoreProtect-21.3.jar\r\n\r\nI am not 100% sure about the correct names in this command, however the error looks like this: \r\n[Maven build compile error](https://i.stack.imgur.com/eohCm.png)\r\nI don&#39;t know why it refers to &quot;.coreprotect&quot; as the lifecycle phase, so I am not sure how to fix this error.\r\n\r\nMy pom.xml file can be found under this likn: https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file\r\n\r\nAny help or advices on how I get these Jar files as a dependency in my project is much appreciated.\r\n","title":"How to add a local Jar file as project dependency in Maven","body":"<p>I'm trying to implement a Maven based Minecraft Plugin. For this I need some Jar files, such as Coreprotect or Craftbukkit. When I add them to my &quot;local-maven-repo&quot; in the project, it doesn't accept the dependency in the pom.xml file.</p>\n<p>Here are the methods I tried:</p>\n<ol>\n<li>I created the &quot;local-maven-repo&quot; in the pom.xml file:</li>\n</ol>\n<pre><code>&lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CGQQJ.png\" rel=\"nofollow noreferrer\">&quot;local-maven-repo&quot; creation</a></p>\n<ol start=\"2\">\n<li><p>I put the Jar files into the respective folder:\n<a href=\"https://i.stack.imgur.com/cCZ2W.png\" rel=\"nofollow noreferrer\">Jar files in repo folder</a></p>\n</li>\n<li><p>I added the dependency as follows and got this error:</p>\n</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n       &lt;groupId&gt;net.coreprotect&lt;/groupId&gt;\n       &lt;artifactId&gt;CoreProtect&lt;/artifactId&gt;\n       &lt;version&gt;21.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n       &lt;groupId&gt;org.bukkit.craftbukkit&lt;/groupId&gt;\n       &lt;artifactId&gt;craftbukkit&lt;/artifactId&gt;\n       &lt;version&gt;1.19.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EVNHE.png\" rel=\"nofollow noreferrer\">Dependency and error message</a></p>\n<p>------------*\nAnother way I tried is, installing the jars via the commandline (from my Downloads folder into the &quot;local-maven-repo&quot;), using the following command:\nmvn install:install-file\n-DgroupId=net.coreprotect -DartifactId=Coreprotect -Dversion=21.3\n-Dpackaging=jar -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=C:\\Users\\silsp\\Downloads\\CoreProtect-21.3.jar</p>\n<p>I am not 100% sure about the correct names in this command, however the error looks like this:\n<a href=\"https://i.stack.imgur.com/eohCm.png\" rel=\"nofollow noreferrer\">Maven build compile error</a>\nI don't know why it refers to &quot;.coreprotect&quot; as the lifecycle phase, so I am not sure how to fix this error.</p>\n<p>My pom.xml file can be found under this likn: <a href=\"https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file\" rel=\"nofollow noreferrer\">https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file</a></p>\n<p>Any help or advices on how I get these Jar files as a dependency in my project is much appreciated.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","geospatial"],"answers":[{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1692727131,"post_id":75408743,"comment_id":135663010,"body_markdown":"can you please help? https://stackoverflow.com/questions/76952490/point-data-type-into-mysql8","body":"can you please help? <a href=\"https://stackoverflow.com/questions/76952490/point-data-type-into-mysql8\" title=\"point data type into mysql8\">stackoverflow.com/questions/76952490/&hellip;</a>"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1692734875,"post_id":75408743,"comment_id":135664491,"body_markdown":"Let me try ) Will write an answer if I have one","body":"Let me try ) Will write an answer if I have one"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676018783,"creation_date":1676018783,"answer_id":75408743,"question_id":75407458,"body_markdown":"As it&#39;s stated [here][1] \r\n\r\n&gt; This query will throw the mentioned error: #1416 - Cannot get geometry object from data you send to the GEOMETRY field. This happens because the query is invalid. To prevent this exception from appearing, you need to fix your query to match the current version of MySQL or MariaDB.\r\n\r\nI think something is wrong about how you construct `Point` object, namely instead of `wktToGeometry` you should use `wktToPoint`:\r\n\r\n&gt; - ST_GeomFromText(wkt, srid) can return ANY spatial type that is supported by MySQL and can be represented by WKT. This makes it loosely typed if you want to think of it like that.\r\n&gt; - ST_PointFromText(wkt, srid) a strongly-typed POINT-constructor from Well-known text.\r\n\r\n\r\n  [1]: https://ourcodeworld.com/articles/read/1583/what-is-causing-mysql-error-1416-cannot-get-geometry-object-from-data-you-send-to-the-geometry-field#:~:text=This%20query%20will%20throw%20the,version%20of%20MySQL%20or%20MariaDB.","title":"How to insert Geo location using spring data JPA","body":"<p>As it's stated <a href=\"https://ourcodeworld.com/articles/read/1583/what-is-causing-mysql-error-1416-cannot-get-geometry-object-from-data-you-send-to-the-geometry-field#:%7E:text=This%20query%20will%20throw%20the,version%20of%20MySQL%20or%20MariaDB.\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>This query will throw the mentioned error: #1416 - Cannot get geometry object from data you send to the GEOMETRY field. This happens because the query is invalid. To prevent this exception from appearing, you need to fix your query to match the current version of MySQL or MariaDB.</p>\n</blockquote>\n<p>I think something is wrong about how you construct <code>Point</code> object, namely instead of <code>wktToGeometry</code> you should use <code>wktToPoint</code>:</p>\n<blockquote>\n<ul>\n<li>ST_GeomFromText(wkt, srid) can return ANY spatial type that is supported by MySQL and can be represented by WKT. This makes it loosely typed if you want to think of it like that.</li>\n<li>ST_PointFromText(wkt, srid) a strongly-typed POINT-constructor from Well-known text.</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676026063,"creation_date":1676026063,"answer_id":75410050,"question_id":75407458,"body_markdown":"I forgot mentioned one properties in my code. \r\nActually instead of simple MySql dialet we need to use below spatial dialet\r\n\r\n    hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56SpatialDialect\r\n\r\nAfter updating dialet it will work fine.","title":"How to insert Geo location using spring data JPA","body":"<p>I forgot mentioned one properties in my code.\nActually instead of simple MySql dialet we need to use below spatial dialet</p>\n<pre><code>hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56SpatialDialect\n</code></pre>\n<p>After updating dialet it will work fine.</p>\n"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676026063,"creation_date":1676008948,"question_id":75407458,"body_markdown":"I am trying to insert Geo location into MySql database using spring data JPA. \r\nMySql Version : 5.7.17\r\n\r\nFor spring boot I have used 2.5.6 boot version and below dependency I have used\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nBelow is the Entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;USER_DETAILS&quot;)\r\n    @Getter\r\n    @Setter\r\n    @Data\r\n    public class UserDetails implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 3937414011943770889L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tprivate Integer id;\r\n    \r\n    \t@Column(name = &quot;USER_NAME&quot;)\r\n    \tprivate String userName;\r\n    \r\n    \t@Column(name = &quot;MOBILE_NO&quot;)\r\n    \tprivate String mobileNo;\r\n    \r\n    \t@Column(name = &quot;EMAIL_ID&quot;)\r\n    \tprivate String emailId;\r\n    \r\n    \t@Column(name = &quot;COORDINATE&quot;)\r\n    \tprivate Point point;\r\n\r\nFrom java side I have used below code\r\n\r\n\tpublic Geometry wktToGeometry(String wellKnownText) throws ParseException {\r\n\t\treturn new WKTReader().read(wellKnownText);\r\n\t}\r\n\r\n\tpublic void saveUser(String lat, String longitude) {\r\n\t\ttry {\r\n\t\t\tfinal User user = getUserDetails();\r\n\r\n\t\t\tUserDetails userDetails = new UserDetails();\r\n\t\t\tuserDetails.setUserName(user.getName());\r\n\t\t\tuserDetails.setEmailId(user.getEmail());\r\n\t\t\tuserDetails.setPoint( (Point) wktToGeometry(&quot;POINT (2 5)&quot;));\r\n\t\t\tuserDetailsRepository.save(userDetails);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Something went wrong!\\n&quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nBut after executing above code getting below issue\t\r\n\r\n    Hibernate: insert into user_details (email_id, mobile_no, coordinate, user_name) values (?, ?, ?, ?)\r\n    [2m2023-02-10 11:15:19.905[0;39m [33m WARN[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: 1416, SQLState: 22001\r\n    [2m2023-02-10 11:15:19.906[0;39m [31mERROR[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m Data truncation: Cannot get geometry object from data you send to the GEOMETRY field\r\n\r\nTable Structure\r\n\r\n  \r\n\r\n    CREATE TABLE USER_DETAILS (\r\n    \t  ID INT(10) NOT NULL AUTO_INCREMENT,\r\n    \t  USER_NAME VARCHAR(100) DEFAULT NULL,\r\n    \t  MOBILE_NO VARCHAR(10) DEFAULT NULL, \r\n    \t  EMAIL_ID VARCHAR(100) DEFAULT NULL,\r\n    \t  COORDINATE POINT NOT NULL,\r\n    \t  PRIMARY KEY (ID),\r\n    \t  SPATIAL INDEX (COORDINATE)\r\n    \t);","title":"How to insert Geo location using spring data JPA","body":"<p>I am trying to insert Geo location into MySql database using spring data JPA.\nMySql Version : 5.7.17</p>\n<p>For spring boot I have used 2.5.6 boot version and below dependency I have used</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Below is the Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;USER_DETAILS&quot;)\n@Getter\n@Setter\n@Data\npublic class UserDetails implements Serializable {\n\n    private static final long serialVersionUID = 3937414011943770889L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;USER_NAME&quot;)\n    private String userName;\n\n    @Column(name = &quot;MOBILE_NO&quot;)\n    private String mobileNo;\n\n    @Column(name = &quot;EMAIL_ID&quot;)\n    private String emailId;\n\n    @Column(name = &quot;COORDINATE&quot;)\n    private Point point;\n</code></pre>\n<p>From java side I have used below code</p>\n<pre><code>public Geometry wktToGeometry(String wellKnownText) throws ParseException {\n    return new WKTReader().read(wellKnownText);\n}\n\npublic void saveUser(String lat, String longitude) {\n    try {\n        final User user = getUserDetails();\n\n        UserDetails userDetails = new UserDetails();\n        userDetails.setUserName(user.getName());\n        userDetails.setEmailId(user.getEmail());\n        userDetails.setPoint( (Point) wktToGeometry(&quot;POINT (2 5)&quot;));\n        userDetailsRepository.save(userDetails);\n    } catch (Exception e) {\n        System.out.println(&quot;Something went wrong!\\n&quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>But after executing above code getting below issue</p>\n<pre><code>Hibernate: insert into user_details (email_id, mobile_no, coordinate, user_name) values (?, ?, ?, ?)\n[2m2023-02-10 11:15:19.905[0;39m [33m WARN[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: 1416, SQLState: 22001\n[2m2023-02-10 11:15:19.906[0;39m [31mERROR[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m Data truncation: Cannot get geometry object from data you send to the GEOMETRY field\n</code></pre>\n<p>Table Structure</p>\n<pre><code>CREATE TABLE USER_DETAILS (\n      ID INT(10) NOT NULL AUTO_INCREMENT,\n      USER_NAME VARCHAR(100) DEFAULT NULL,\n      MOBILE_NO VARCHAR(10) DEFAULT NULL, \n      EMAIL_ID VARCHAR(100) DEFAULT NULL,\n      COORDINATE POINT NOT NULL,\n      PRIMARY KEY (ID),\n      SPATIAL INDEX (COORDINATE)\n    );\n</code></pre>\n"},{"tags":["java","spring-cloud-config-server"],"owner":{"account_id":11661724,"reputation":23,"user_id":8539792,"display_name":"Eager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025957,"creation_date":1676025957,"question_id":75410025,"body_markdown":"I am doing a POC on Config Server wherein I will connect to BitBucket repo and if any checkin happen in that repo, my Config Service will pick those changes. In the below code if I am providing bitbucket credentials (hardcoding username and password), its able to connect to BitBucket and everything is working fine. But if I try to provide SSH key, its throwing below error:\r\n***application.yml***\r\n```\r\nserver.port: 8888\r\n\r\nspring:\r\n  application.name: config-server\r\n  cloud.config.server.git.uri: ${url}\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          cloneOnStart: true\r\n          username: username\r\n          password: password\r\n          default-label: master\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: refresh\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:7001/eureka/\r\n    registryFetchIntervalSeconds: 1\r\n  instance:\r\n    leaseRenewalIntervalInSeconds: 1\r\n```\r\nLike I said the above configuration is working fine. When I replaced with the below configuration.\r\n```\r\nserver.port: 8888\r\n\r\nspring:\r\n  application.name: config-server\r\n  cloud.config.server.git.uri: ${URL}\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          #cloneOnStart: true\r\n          ignore-local-ssh-settings: true\r\n          hostKey: ${hostKEY}\r\n          hostKeyAlgorithm: ssh-rsa\r\n          private-key: ${SSH PRIVATE KEY}\r\n\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: refresh\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:7001/eureka/\r\n    registryFetchIntervalSeconds: 1\r\n  instance:\r\n    leaseRenewalIntervalInSeconds: 1\r\n```\r\nI am getting below error::\r\n```\r\n2023-02-10T12:26:39.276+05:30  INFO 24628 --- [           main] c.e.c.ConfigServerApplication            : Started ConfigServerApplication in 2.949 seconds (process running for 3.646)\r\n2023-02-10T12:26:41.041+05:30  WARN 24628 --- [2)-10.73.53.175] .c.s.e.MultipleJGitEnvironmentRepository : Error occured cloning to base directory.\r\n\r\norg.eclipse.jgit.api.errors.TransportException: https://bitbucketdc-cluster07.jpmchase.net/scm/ccbrft/ccbrap-config.git: Authentication is required but no CredentialsProvider has been registered\r\n```\r\nI created SSH Key using command :: ssh-keygen -m PEM -t rsa -b 4096 -C &quot;cigfid_dev@example.com\r\n\r\nAny help is appreciated.\r\n","title":"Configure SSH key with Config Server","body":"<p>I am doing a POC on Config Server wherein I will connect to BitBucket repo and if any checkin happen in that repo, my Config Service will pick those changes. In the below code if I am providing bitbucket credentials (hardcoding username and password), its able to connect to BitBucket and everything is working fine. But if I try to provide SSH key, its throwing below error:\n<em><strong>application.yml</strong></em></p>\n<pre><code>server.port: 8888\n\nspring:\n  application.name: config-server\n  cloud.config.server.git.uri: ${url}\n  cloud:\n    config:\n      server:\n        git:\n          cloneOnStart: true\n          username: username\n          password: password\n          default-label: master\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: refresh\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:7001/eureka/\n    registryFetchIntervalSeconds: 1\n  instance:\n    leaseRenewalIntervalInSeconds: 1\n</code></pre>\n<p>Like I said the above configuration is working fine. When I replaced with the below configuration.</p>\n<pre><code>server.port: 8888\n\nspring:\n  application.name: config-server\n  cloud.config.server.git.uri: ${URL}\n  cloud:\n    config:\n      server:\n        git:\n          #cloneOnStart: true\n          ignore-local-ssh-settings: true\n          hostKey: ${hostKEY}\n          hostKeyAlgorithm: ssh-rsa\n          private-key: ${SSH PRIVATE KEY}\n\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: refresh\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:7001/eureka/\n    registryFetchIntervalSeconds: 1\n  instance:\n    leaseRenewalIntervalInSeconds: 1\n</code></pre>\n<p>I am getting below error::</p>\n<pre><code>2023-02-10T12:26:39.276+05:30  INFO 24628 --- [           main] c.e.c.ConfigServerApplication            : Started ConfigServerApplication in 2.949 seconds (process running for 3.646)\n2023-02-10T12:26:41.041+05:30  WARN 24628 --- [2)-10.73.53.175] .c.s.e.MultipleJGitEnvironmentRepository : Error occured cloning to base directory.\n\norg.eclipse.jgit.api.errors.TransportException: https://bitbucketdc-cluster07.jpmchase.net/scm/ccbrft/ccbrap-config.git: Authentication is required but no CredentialsProvider has been registered\n</code></pre>\n<p>I created SSH Key using command :: ssh-keygen -m PEM -t rsa -b 4096 -C &quot;cigfid_dev@example.com</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","flutter","connection","network-connection"],"comments":[{"owner":{"account_id":9286061,"reputation":183,"user_id":6895907,"display_name":"DMacAttack"},"score":0,"creation_date":1654178680,"post_id":71439413,"comment_id":128033433,"body_markdown":"Did you find an answer to this ?","body":"Did you find an answer to this ?"},{"owner":{"account_id":16810239,"reputation":3,"user_id":12153416,"display_name":"TuceT"},"score":0,"creation_date":1654255403,"post_id":71439413,"comment_id":128053049,"body_markdown":"Unfortunately I couldn&#39;t find","body":"Unfortunately I couldn&#39;t find"}],"owner":{"account_id":16810239,"reputation":3,"user_id":12153416,"display_name":"TuceT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025922,"creation_date":1647005935,"question_id":71439413,"body_markdown":"My tablet has 2 network connections(UsbEtherhet and wifi) but I want to default connection Usb/Ethernet.\r\n\r\nAndroid 10 and previous versions default connection is Usb/Ethernet but Android 11 default connection is wifi .How can set default can you help?\r\n\r\nI&#39;m using flutter and kotlin for native (java is possible)","title":"Set default connection ethernet Java in Andorid?","body":"<p>My tablet has 2 network connections(UsbEtherhet and wifi) but I want to default connection Usb/Ethernet.</p>\n<p>Android 10 and previous versions default connection is Usb/Ethernet but Android 11 default connection is wifi .How can set default can you help?</p>\n<p>I'm using flutter and kotlin for native (java is possible)</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675948120,"post_id":75398885,"comment_id":133039821,"body_markdown":"AFAIK Maven runs all of its plugins in the same JVM, so you can&#39;t do that. The few cases where you can specify a JVM to run (such as for tests) are when the plugin itself launches a new JVM.","body":"AFAIK Maven runs all of its plugins in the same JVM, so you can&#39;t do that. The few cases where you can specify a JVM to run (such as for tests) are when the plugin itself launches a new JVM."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675950153,"post_id":75398885,"comment_id":133040495,"body_markdown":"Which plugin has such issues? Can you name it?","body":"Which plugin has such issues? Can you name it?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676025884,"creation_date":1676025884,"answer_id":75410007,"question_id":75398885,"body_markdown":"Depending on the plugins and the context, you may solve the problem by using separate Maven runs, i.e. run\r\n\r\n`mvn clean install`\r\n\r\nwith JDK17 and then run `mvn some:plugin` with a different JDK.","title":"use different java versions for different maven plugins","body":"<p>Depending on the plugins and the context, you may solve the problem by using separate Maven runs, i.e. run</p>\n<p><code>mvn clean install</code></p>\n<p>with JDK17 and then run <code>mvn some:plugin</code> with a different JDK.</p>\n"}],"owner":{"account_id":329066,"reputation":6021,"user_id":652378,"accept_rate":52,"display_name":"Chirlo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676025884,"creation_date":1675947182,"question_id":75398885,"body_markdown":"I have a pom including some plugins. The project&#39;s sources are java 17 and as such, the maven build is run with a jdk17+. Now, one of the plugins bound to the `site` lifecycle, let&#39;s say plugin `P1`,  is older and it doesn&#39;t work with java versions newer than 9 ( because of some deprecated API that is no longer present in the jdk)\r\n\r\nMy question is: is it possible to somehow configure in the pom that **some plugins** should be run with a different java version? \r\n\r\nMy intention is to run the plugin as it is, not wanting to re-write it or modify it in any way. \r\nI know about maven `toolchains`, but I don&#39;t see how this applies, as that configures the jdk version for all plugins. ","title":"use different java versions for different maven plugins","body":"<p>I have a pom including some plugins. The project's sources are java 17 and as such, the maven build is run with a jdk17+. Now, one of the plugins bound to the <code>site</code> lifecycle, let's say plugin <code>P1</code>,  is older and it doesn't work with java versions newer than 9 ( because of some deprecated API that is no longer present in the jdk)</p>\n<p>My question is: is it possible to somehow configure in the pom that <strong>some plugins</strong> should be run with a different java version?</p>\n<p>My intention is to run the plugin as it is, not wanting to re-write it or modify it in any way.\nI know about maven <code>toolchains</code>, but I don't see how this applies, as that configures the jdk version for all plugins.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676037337,"post_id":75410004,"comment_id":133061944,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27752368,"reputation":1,"user_id":21186571,"display_name":"Jove Garcia Florian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025840,"creation_date":1676025840,"question_id":75410004,"body_markdown":"I do not manage to create an application on android studio to abcner a robot in bluetooth with the alphabot hc-05 and alsoi it is necessary to make a detector of intruder thanks to the detector of movement and send a sms when it detects an intruder\r\n\r\nI tried to create a code but it doesn&#39;t work","title":"Surveillance robot application on android studio","body":"<p>I do not manage to create an application on android studio to abcner a robot in bluetooth with the alphabot hc-05 and alsoi it is necessary to make a detector of intruder thanks to the detector of movement and send a sms when it detects an intruder</p>\n<p>I tried to create a code but it doesn't work</p>\n"},{"tags":["java","multithreading","concurrenthashmap","happens-before"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1622739725,"post_id":67825678,"comment_id":119884905,"body_markdown":"I would consider this to be implied by the thread-safety guarantee.","body":"I would consider this to be implied by the thread-safety guarantee."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1622797003,"post_id":67825678,"comment_id":119899831,"body_markdown":"Youâ€™re going back to the issue already [explained here](https://stackoverflow.com/a/67822241/2711488). The problem is, what does the caller of `read` do? It will see â€œthe result of the latest `write`â€, but which write was the latest write? Without any defined order, none may have happen yet and all of them may be running just now, concurrently to the caller of the `read` method.","body":"Youâ€™re going back to the issue already <a href=\"https://stackoverflow.com/a/67822241/2711488\">explained here</a>. The problem is, what does the caller of <code>read</code> do? It will see â€œthe result of the latest <code>write</code>â€, but which write was the latest write? Without any defined order, none may have happen yet and all of them may be running just now, concurrently to the caller of the <code>read</code> method."},{"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"score":0,"creation_date":1622816357,"post_id":67825678,"comment_id":119907973,"body_markdown":"Yes, it is good enough for visibility. I think it&#39;s a bit too much for visibility. For the `read()` method you can use `CHM.get()` and live happily ever after.","body":"Yes, it is good enough for visibility. I think it&#39;s a bit too much for visibility. For the <code>read()</code> method you can use <code>CHM.get()</code> and live happily ever after."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1622833684,"post_id":67825678,"comment_id":119914556,"body_markdown":"@TamasRev no you can&#39;t use `get`. The comments and the initial questions I linked discuss that much broader.","body":"@TamasRev no you can&#39;t use <code>get</code>. The comments and the initial questions I linked discuss that much broader."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1623203402,"post_id":67825678,"comment_id":120009585,"body_markdown":"@Holger do you mind posting an answer? I understood your point finally.","body":"@Holger do you mind posting an answer? I understood your point finally."}],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1623175910,"post_id":67831727,"comment_id":120002308,"body_markdown":"I don&#39;t know where you decided in the first paragraph that it is going to _replace_ the value and that no mutations are allowed, which is still replace, if you ask me. Then simply highlighting the words _happens-before_ is not what I was after, by far. I don&#39;t think this answers my question. I will may be revise my opinion after some time when I re-read it, but currently I can&#39;t accept this.","body":"I don&#39;t know where you decided in the first paragraph that it is going to <i>replace</i> the value and that no mutations are allowed, which is still replace, if you ask me. Then simply highlighting the words <i>happens-before</i> is not what I was after, by far. I don&#39;t think this answers my question. I will may be revise my opinion after some time when I re-read it, but currently I can&#39;t accept this."}],"tags":[],"owner":{"account_id":21829083,"reputation":31,"user_id":16124211,"display_name":"pluk"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622783005,"creation_date":1622783005,"answer_id":67831727,"question_id":67825678,"body_markdown":"The `compute()` javadoc [says](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1876) what this method does:\r\n&gt; Attempts to compute a mapping for the specified key and its current mapped value (or `null` if there is no current mapping).\r\n\r\nSo `compute()` **replaces** a value for the key.\r\n\r\nTo use `compute()` to modify the internal fields of some object (even the object is stored as a value in the map) is not what `compute()` was meant for.  \r\nTherefore, naturally, `compute()`&#39;s specification/documentation guarantees (and even says) nothing about that.\r\n\r\n\r\nRegarding `happens-before`, there are multiple mentions in the documentation:\r\n- [ConcurrentHashMap](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L89):\r\n    &gt; More formally, an update operation for a given key bears a _happens-before_ relation with any (non-null) retrieval for that key reporting the updated value.\r\n- [ConcurrentMap](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentMap.java#L55):  \r\n    &gt; Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a `ConcurrentMap` as a key or value _happen-before_ actions subsequent to the access or removal of that object from the `ConcurrentMap` in another thread.\r\n- [java.util.concurrent](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/package-info.java#L270):  \r\n    &gt; Actions in a thread prior to placing an object into any concurrent collection _happen-before_ actions subsequent to the access or removal of that element from the collection in another thread.\r\n\r\nThe important thing is that the `happen-before` relation is only guaranteed between insertion/removal/retrieval of objects to/from the collection.  \r\nIn your case it is the same `State` object (only internal its fields are updated), so IMO according to documentation `ConcurrentHashMap` is even allowed to decide that nothing changed and skip the remaining synchronization steps.","title":"ConcurrentHashMap read/update only via compute method","body":"<p>The <code>compute()</code> javadoc <a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1876\" rel=\"nofollow noreferrer\">says</a> what this method does:</p>\n<blockquote>\n<p>Attempts to compute a mapping for the specified key and its current mapped value (or <code>null</code> if there is no current mapping).</p>\n</blockquote>\n<p>So <code>compute()</code> <strong>replaces</strong> a value for the key.</p>\n<p>To use <code>compute()</code> to modify the internal fields of some object (even the object is stored as a value in the map) is not what <code>compute()</code> was meant for.<br />\nTherefore, naturally, <code>compute()</code>'s specification/documentation guarantees (and even says) nothing about that.</p>\n<p>Regarding <code>happens-before</code>, there are multiple mentions in the documentation:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L89\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a>:\n<blockquote>\n<p>More formally, an update operation for a given key bears a <em>happens-before</em> relation with any (non-null) retrieval for that key reporting the updated value.</p>\n</blockquote>\n</li>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentMap.java#L55\" rel=\"nofollow noreferrer\">ConcurrentMap</a>:\n<blockquote>\n<p>Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a <code>ConcurrentMap</code> as a key or value <em>happen-before</em> actions subsequent to the access or removal of that object from the <code>ConcurrentMap</code> in another thread.</p>\n</blockquote>\n</li>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/package-info.java#L270\" rel=\"nofollow noreferrer\">java.util.concurrent</a>:\n<blockquote>\n<p>Actions in a thread prior to placing an object into any concurrent collection <em>happen-before</em> actions subsequent to the access or removal of that element from the collection in another thread.</p>\n</blockquote>\n</li>\n</ul>\n<p>The important thing is that the <code>happen-before</code> relation is only guaranteed between insertion/removal/retrieval of objects to/from the collection.<br />\nIn your case it is the same <code>State</code> object (only internal its fields are updated), so IMO according to documentation <code>ConcurrentHashMap</code> is even allowed to decide that nothing changed and skip the remaining synchronization steps.</p>\n"},{"tags":[],"owner":{"account_id":6183990,"reputation":71,"user_id":4818628,"display_name":"Sergey Kosarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676025693,"creation_date":1676025693,"answer_id":75409974,"question_id":67825678,"body_markdown":"There is `happens-before` between `Holder.read` and `Holder.write` methods obviously. But no any guaranties between `State.getAge` and `Holder.write`.\r\nif you want to read age you actually need to execute two operations:\r\n\r\n    (1) State state = holder.read(key);\r\n\r\n    (2) int age = state.getAge();\r\n\r\nSo, if `Holder.write` in another thread happens after (1) but before (2), you may see old age value in (2).\r\n\r\n","title":"ConcurrentHashMap read/update only via compute method","body":"<p>There is <code>happens-before</code> between <code>Holder.read</code> and <code>Holder.write</code> methods obviously. But no any guaranties between <code>State.getAge</code> and <code>Holder.write</code>.\nif you want to read age you actually need to execute two operations:</p>\n<pre><code>(1) State state = holder.read(key);\n\n(2) int age = state.getAge();\n</code></pre>\n<p>So, if <code>Holder.write</code> in another thread happens after (1) but before (2), you may see old age value in (2).</p>\n"}],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1676025693,"creation_date":1622739462,"question_id":67825678,"body_markdown":"This is basically a continuation of [this][1] or [this][2], or many others in that regard.\r\n\r\nMy question is probably simple, if I use `ConcurrentHashMap::compute` _only_, in both readers and writers of some value, is that enough to ensure _visibility_?\r\n\r\nI do know that `compute` method:\r\n\r\n&gt; The entire method invocation is performed atomically\r\n\r\nIs that enough to guarantee _visibility_? Specifically, is that true specification/documentation wise with regards to `happens-before`? To simplify my question, here is an example:\r\n\r\n\r\n    static class State {\r\n\t\tprivate int age;\r\n\r\n\t\tint getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\r\n\t\tState setAge(int age) {\r\n\t\t\tthis.age = age;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t} \r\n\r\n\r\nand :\r\n\r\n\r\n    // very simplified, no checks\r\n\tstatic class Holder {\r\n\r\n\t\tprivate static final ConcurrentHashMap&lt;String, State&gt; CHM = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\t\tpublic State read(String key) {\r\n\t\t\treturn CHM.compute(key, (x, y) -&gt; y);\r\n\t\t}\r\n\r\n\t\tpublic State write(String key, int age) {\r\n\t\t\treturn CHM.compute(key, (x, y) -&gt; y.setAge(y.getAge() + age));\r\n\t\t}\r\n\t}\r\n\r\nNo one has access to `CHM` and can only work via `Holder`.\r\n\r\nTo me the answer is obviously yes, this is safe and all readers will see the result of the latest `write` method. I just can&#39;t connect the dots with the documentation of `ConcurrentHashMap`, which is most probably obvious, but I seem to miss it. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67795988/atomic-updates-of-values-in-concurrent-hash-map-how-to\r\n  [2]: https://stackoverflow.com/questions/52577524/java-concurrenthashmap-computeifpresent-value-modification-visibility","title":"ConcurrentHashMap read/update only via compute method","body":"<p>This is basically a continuation of <a href=\"https://stackoverflow.com/questions/67795988/atomic-updates-of-values-in-concurrent-hash-map-how-to\">this</a> or <a href=\"https://stackoverflow.com/questions/52577524/java-concurrenthashmap-computeifpresent-value-modification-visibility\">this</a>, or many others in that regard.</p>\n<p>My question is probably simple, if I use <code>ConcurrentHashMap::compute</code> <em>only</em>, in both readers and writers of some value, is that enough to ensure <em>visibility</em>?</p>\n<p>I do know that <code>compute</code> method:</p>\n<blockquote>\n<p>The entire method invocation is performed atomically</p>\n</blockquote>\n<p>Is that enough to guarantee <em>visibility</em>? Specifically, is that true specification/documentation wise with regards to <code>happens-before</code>? To simplify my question, here is an example:</p>\n<pre><code>static class State {\n    private int age;\n\n    int getAge() {\n        return age;\n    }\n\n    State setAge(int age) {\n        this.age = age;\n        return this;\n    }\n} \n</code></pre>\n<p>and :</p>\n<pre><code>// very simplified, no checks\nstatic class Holder {\n\n    private static final ConcurrentHashMap&lt;String, State&gt; CHM = new ConcurrentHashMap&lt;&gt;();\n\n    public State read(String key) {\n        return CHM.compute(key, (x, y) -&gt; y);\n    }\n\n    public State write(String key, int age) {\n        return CHM.compute(key, (x, y) -&gt; y.setAge(y.getAge() + age));\n    }\n}\n</code></pre>\n<p>No one has access to <code>CHM</code> and can only work via <code>Holder</code>.</p>\n<p>To me the answer is obviously yes, this is safe and all readers will see the result of the latest <code>write</code> method. I just can't connect the dots with the documentation of <code>ConcurrentHashMap</code>, which is most probably obvious, but I seem to miss it.</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":1052629,"reputation":3982,"user_id":1056138,"accept_rate":50,"display_name":"ATrubka"},"score":0,"creation_date":1502126182,"post_id":26550124,"comment_id":78064431,"body_markdown":"Actually ResponseEntity&lt;Void&gt; works perfectly. See examples here: http://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example","body":"Actually ResponseEntity&lt;Void&gt; works perfectly. See examples here: <a href=\"http://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example\" rel=\"nofollow noreferrer\">concretepage.com/spring-4/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"score":0,"creation_date":1414256777,"post_id":26550756,"comment_id":41749221,"body_markdown":"T is a response body type, could be anything, String is an option.try that if it does`t work share the new code with and the stack-trace. @SotiriosDelimanolis I am curious what`s wrong with the code?","body":"T is a response body type, could be anything, String is an option.try that if it does<code>t work share the new code with and the stack-trace. @SotiriosDelimanolis I am curious what</code>s wrong with the code?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1414258762,"post_id":26550756,"comment_id":41749807,"body_markdown":"Is `T` a type variable? Where is it declared? What differences will your suggestions make.","body":"Is <code>T</code> a type variable? Where is it declared? What differences will your suggestions make."},{"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"score":2,"creation_date":1414259546,"post_id":26550756,"comment_id":41750032,"body_markdown":"I did not change anything  dramatic from the the original code rather than suggesting the use of HttpStatus.NO_CONTENT instead of HttpStatus.OK for a no body response","body":"I did not change anything  dramatic from the the original code rather than suggesting the use of HttpStatus.NO_CONTENT instead of HttpStatus.OK for a no body response"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1414259895,"post_id":26550756,"comment_id":41750143,"body_markdown":"So please explain how that will fix the OP&#39;s problem.","body":"So please explain how that will fix the OP&#39;s problem."}],"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"comment_count":4,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1414163169,"creation_date":1414163169,"answer_id":26550756,"question_id":26550124,"body_markdown":"Your method implementation is ambiguous, try the following , edited your code  a little bit and used `HttpStatus.NO_CONTENT` i.e 204 No Content as in place of `HttpStatus.OK`\r\n\r\n&gt; The server has fulfilled the request but does not need to return an\r\n&gt; entity-body, and might want to return updated metainformation. The\r\n&gt; response MAY include new or updated metainformation in the form of\r\n&gt; entity-headers, which if present SHOULD be associated with the\r\n&gt; requested variant.\r\n\r\n*Any value of **T** will be ignored for 204,  but not for 404*\r\n    \r\n  \r\n\r\n      public ResponseEntity&lt;?&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n                LOG.debug( &quot;taxonomyPackageExists queried with key: {0}&quot;, key ); //$NON-NLS-1$\r\n                final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\r\n                LOG.debug( &quot;Taxonomy key created: {0}&quot;, taxonomyKey ); //$NON-NLS-1$\r\n        \r\n                if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\r\n                    LOG.debug( &quot;Taxonomy package with key: {0} exists.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n                     return new ResponseEntity&lt;T&gt;(HttpStatus.NO_CONTENT);\r\n                } else {\r\n                   LOG.debug( &quot;Taxonomy package with key: {0} does NOT exist.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n                    return new ResponseEntity&lt;T&gt;( HttpStatus.NOT_FOUND );\r\n                }\r\n            \r\n        }","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>Your method implementation is ambiguous, try the following , edited your code  a little bit and used <code>HttpStatus.NO_CONTENT</code> i.e 204 No Content as in place of <code>HttpStatus.OK</code></p>\n\n<blockquote>\n  <p>The server has fulfilled the request but does not need to return an\n  entity-body, and might want to return updated metainformation. The\n  response MAY include new or updated metainformation in the form of\n  entity-headers, which if present SHOULD be associated with the\n  requested variant.</p>\n</blockquote>\n\n<p><em>Any value of <strong>T</strong> will be ignored for 204,  but not for 404</em></p>\n\n<pre><code>  public ResponseEntity&lt;?&gt; taxonomyPackageExists( @PathVariable final String key ) {\n            LOG.debug( \"taxonomyPackageExists queried with key: {0}\", key ); //$NON-NLS-1$\n            final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\n            LOG.debug( \"Taxonomy key created: {0}\", taxonomyKey ); //$NON-NLS-1$\n\n            if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\n                LOG.debug( \"Taxonomy package with key: {0} exists.\", taxonomyKey ); //$NON-NLS-1$\n                 return new ResponseEntity&lt;T&gt;(HttpStatus.NO_CONTENT);\n            } else {\n               LOG.debug( \"Taxonomy package with key: {0} does NOT exist.\", taxonomyKey ); //$NON-NLS-1$\n                return new ResponseEntity&lt;T&gt;( HttpStatus.NOT_FOUND );\n            }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3472792,"reputation":1260,"user_id":2906739,"accept_rate":70,"display_name":"Matthias T"},"score":6,"creation_date":1414406426,"post_id":26551712,"comment_id":41786719,"body_markdown":"Hi Sotirios, thanks for your reply. Just be sure: You are in effect saying that I have to use ResponseEntity &lt;String&gt;, right?","body":"Hi Sotirios, thanks for your reply. Just be sure: You are in effect saying that I have to use ResponseEntity &lt;String&gt;, right?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1414420886,"post_id":26551712,"comment_id":41794860,"body_markdown":"@MatthiasT One option is to set the return type to `ResponseEntity&lt;?&gt;` and use whatever when constructing the actual return value. You can also provide `HttpHeaders` with an appropriate content-type to the `ResponseEntity` constructor. Though it does not really make sense to set a content-type when you have no content.","body":"@MatthiasT One option is to set the return type to <code>ResponseEntity&lt;?&gt;</code> and use whatever when constructing the actual return value. You can also provide <code>HttpHeaders</code> with an appropriate content-type to the <code>ResponseEntity</code> constructor. Though it does not really make sense to set a content-type when you have no content."},{"owner":{"account_id":376706,"reputation":795,"user_id":728345,"accept_rate":63,"display_name":"obesechicken13"},"score":0,"creation_date":1449243733,"post_id":26551712,"comment_id":55936296,"body_markdown":"If you use ResponseEntity&lt;?&gt; and then set a responseEntity with no body, isn&#39;t the body still void? meaning you have the same issue?","body":"If you use ResponseEntity&lt;?&gt; and then set a responseEntity with no body, isn&#39;t the body still void? meaning you have the same issue?"},{"owner":{"account_id":2086791,"reputation":331,"user_id":1857583,"accept_rate":83,"display_name":"renatoaraujoc"},"score":0,"creation_date":1470327689,"post_id":26551712,"comment_id":64916716,"body_markdown":"From my tests, setting ResponseEntity&lt;Void&gt; will write a &quot;null&quot; on responseBody which is pretty buggy. If you really intend to have an empty responseBody, return a ResponseEntity&lt;String&gt; with an empty String like &quot;return ResponseEntity&lt;&gt;(&quot;&quot;, HttpStatus.OK)&quot;","body":"From my tests, setting ResponseEntity&lt;Void&gt; will write a &quot;null&quot; on responseBody which is pretty buggy. If you really intend to have an empty responseBody, return a ResponseEntity&lt;String&gt; with an empty String like &quot;return ResponseEntity&lt;&gt;(&quot;&quot;, HttpStatus.OK)&quot;"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1470328933,"post_id":26551712,"comment_id":64917538,"body_markdown":"@Renatinn That depends on what `HttpMessageConverter` instances you have registered. But, sure, an empty string also works.","body":"@Renatinn That depends on what <code>HttpMessageConverter</code> instances you have registered. But, sure, an empty string also works."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":5,"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1576686883,"creation_date":1414166350,"answer_id":26551712,"question_id":26550124,"body_markdown":"**NOTE: This is true for the version mentioned in the question, 4.1.1.RELEASE.**\r\n\r\nSpring MVC handles a `ResponseEntity` return value through `HttpEntityMethodProcessor`. \r\n\r\nWhen the `ResponseEntity` value doesn&#39;t have a body set, as is the case in your snippet, `HttpEntityMethodProcessor` tries to determine a content type for the response body from the parameterization of the `ResponseEntity` return type in the signature of the `@RequestMapping` handler method.\r\n\r\nSo for\r\n\r\n    public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n\r\nthat type will be `Void`. `HttpEntityMethodProcessor` will then loop through all its registered `HttpMessageConverter` instances and find one that can write a body for a `Void` type. Depending on your configuration, it may or may not find any.\r\n\r\nIf it does find any, it still needs to make sure that the corresponding body will be written with a Content-Type that matches the type(s) provided in the request&#39;s `Accept` header, `application/xml` in your case.\r\n\r\nIf after all these checks, no such `HttpMessageConverter` exists, Spring MVC  will decide that it cannot produce an acceptable response and therefore return a 406 Not Acceptable HTTP response.\r\n\r\nWith `ResponseEntity&lt;String&gt;`, Spring will use `String` as the response body and find `StringHttpMessageConverter` as a handler. And since `StringHttpMessageHandler` can produce content for any media type (provided in the `Accept` header), it will be able to handle the `application/xml` that your client is requesting.\r\n\r\n**Spring MVC has since been changed to only return 406 if the body in the `ResponseEntity` is NOT `null`. You won&#39;t see the behavior in the original question if you&#39;re using a more recent version of Spring MVC.**\r\n\r\n----------\r\n\r\n\r\nIn [iddy85&#39;s solution][1], which seems to suggest `ResponseEntity&lt;?&gt;`, the type for the body will be inferred as `Object`. If you have the correct libraries in your classpath, ie. Jackson (version &gt; 2.5.0) and its XML extension, Spring MVC will have access to `MappingJackson2XmlHttpMessageConverter` which it can use to produce `application/xml` for the type `Object`. **Their solution only works under these conditions.** Otherwise, it will fail for the same reason I&#39;ve described above.\r\n\r\n  [1]: https://stackoverflow.com/a/26550756/438154","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p><strong>NOTE: This is true for the version mentioned in the question, 4.1.1.RELEASE.</strong></p>\n\n<p>Spring MVC handles a <code>ResponseEntity</code> return value through <code>HttpEntityMethodProcessor</code>. </p>\n\n<p>When the <code>ResponseEntity</code> value doesn't have a body set, as is the case in your snippet, <code>HttpEntityMethodProcessor</code> tries to determine a content type for the response body from the parameterization of the <code>ResponseEntity</code> return type in the signature of the <code>@RequestMapping</code> handler method.</p>\n\n<p>So for</p>\n\n<pre><code>public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\n</code></pre>\n\n<p>that type will be <code>Void</code>. <code>HttpEntityMethodProcessor</code> will then loop through all its registered <code>HttpMessageConverter</code> instances and find one that can write a body for a <code>Void</code> type. Depending on your configuration, it may or may not find any.</p>\n\n<p>If it does find any, it still needs to make sure that the corresponding body will be written with a Content-Type that matches the type(s) provided in the request's <code>Accept</code> header, <code>application/xml</code> in your case.</p>\n\n<p>If after all these checks, no such <code>HttpMessageConverter</code> exists, Spring MVC  will decide that it cannot produce an acceptable response and therefore return a 406 Not Acceptable HTTP response.</p>\n\n<p>With <code>ResponseEntity&lt;String&gt;</code>, Spring will use <code>String</code> as the response body and find <code>StringHttpMessageConverter</code> as a handler. And since <code>StringHttpMessageHandler</code> can produce content for any media type (provided in the <code>Accept</code> header), it will be able to handle the <code>application/xml</code> that your client is requesting.</p>\n\n<p><strong>Spring MVC has since been changed to only return 406 if the body in the <code>ResponseEntity</code> is NOT <code>null</code>. You won't see the behavior in the original question if you're using a more recent version of Spring MVC.</strong></p>\n\n<hr>\n\n<p>In <a href=\"https://stackoverflow.com/a/26550756/438154\">iddy85's solution</a>, which seems to suggest <code>ResponseEntity&lt;?&gt;</code>, the type for the body will be inferred as <code>Object</code>. If you have the correct libraries in your classpath, ie. Jackson (version > 2.5.0) and its XML extension, Spring MVC will have access to <code>MappingJackson2XmlHttpMessageConverter</code> which it can use to produce <code>application/xml</code> for the type <code>Object</code>. <strong>Their solution only works under these conditions.</strong> Otherwise, it will fail for the same reason I've described above.</p>\n"},{"tags":[],"owner":{"account_id":11892452,"reputation":3088,"user_id":8702849,"display_name":"adanilev"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1532405195,"creation_date":1532405195,"answer_id":51490312,"question_id":26550124,"body_markdown":"You can also not specify the type parameter which seems a bit cleaner and what Spring intended when looking at the [docs][1]:\r\n\r\n    @RequestMapping(method = RequestMethod.HEAD, value = Constants.KEY )\r\n    public ResponseEntity taxonomyPackageExists( @PathVariable final String key ){\r\n        // ...\r\n        return new ResponseEntity(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>You can also not specify the type parameter which seems a bit cleaner and what Spring intended when looking at the <a href=\"https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)\" rel=\"noreferrer\">docs</a>:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.HEAD, value = Constants.KEY )\npublic ResponseEntity taxonomyPackageExists( @PathVariable final String key ){\n    // ...\n    return new ResponseEntity(HttpStatus.NO_CONTENT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1676025508,"creation_date":1533678190,"answer_id":51735848,"question_id":26550124,"body_markdown":"According [Spring 4 MVC ResponseEntity.BodyBuilder and ResponseEntity Enhancements Example](https://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example) it could be written as:\r\n\r\n    ....\r\n       return ResponseEntity.ok().build();\r\n    ....\r\n       return ResponseEntity.noContent().build();\r\n\r\nUPDATE:\r\n\r\nIf returned value is `Optional`, there are convenient method, returned `ok()` or `notFound()`:\r\n```java\r\nreturn ResponseEntity.of(optional)\r\n```\r\n\r\nUPDATE 2: also feel free to use for status `OK(200)`\r\n\r\n    public void taxonomyPackageExists(...\r\n\r\nand for status `NO_CONTENT(204)`\r\n\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void taxonomyPackageExists(...\r\n","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>According <a href=\"https://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example\" rel=\"noreferrer\">Spring 4 MVC ResponseEntity.BodyBuilder and ResponseEntity Enhancements Example</a> it could be written as:</p>\n<pre><code>....\n   return ResponseEntity.ok().build();\n....\n   return ResponseEntity.noContent().build();\n</code></pre>\n<p>UPDATE:</p>\n<p>If returned value is <code>Optional</code>, there are convenient method, returned <code>ok()</code> or <code>notFound()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return ResponseEntity.of(optional)\n</code></pre>\n<p>UPDATE 2: also feel free to use for status <code>OK(200)</code></p>\n<pre><code>public void taxonomyPackageExists(...\n</code></pre>\n<p>and for status <code>NO_CONTENT(204)</code></p>\n<pre><code>@ResponseStatus(HttpStatus.NO_CONTENT)\npublic void taxonomyPackageExists(...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537536158,"creation_date":1537536158,"answer_id":52444715,"question_id":26550124,"body_markdown":"Personally, to deal with empty responses, I use in my Integration Tests the MockMvcResponse object like this : \r\n\r\n\r\n    MockMvcResponse response = RestAssuredMockMvc.given()\r\n                    .webAppContextSetup(webApplicationContext)\r\n                    .when()\r\n                    .get(&quot;/v1/ticket&quot;);\r\n    \r\n        assertThat(response.mockHttpServletResponse().getStatus()).isEqualTo(HttpStatus.NO_CONTENT.value());\r\n\r\nand in my controller I return empty response in a specific case like this : \r\n\r\n    return ResponseEntity.noContent().build();","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>Personally, to deal with empty responses, I use in my Integration Tests the MockMvcResponse object like this : </p>\n\n<pre><code>MockMvcResponse response = RestAssuredMockMvc.given()\n                .webAppContextSetup(webApplicationContext)\n                .when()\n                .get(\"/v1/ticket\");\n\n    assertThat(response.mockHttpServletResponse().getStatus()).isEqualTo(HttpStatus.NO_CONTENT.value());\n</code></pre>\n\n<p>and in my controller I return empty response in a specific case like this : </p>\n\n<pre><code>return ResponseEntity.noContent().build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1581428929,"creation_date":1581428929,"answer_id":60170361,"question_id":26550124,"body_markdown":"For Spring 5.2+ this works for me:\r\n\r\n\t@PostMapping(&quot;/foo&quot;)\r\n\tResponseEntity&lt;Void&gt; foo(@PathVariable UUID fooId) {\r\n\t\treturn fooService.findExam(fooId)\r\n\t\t\t\t.map(uri -&gt; ResponseEntity.noContent().&lt;Void&gt;build())\r\n\t\t\t\t.orElse(ResponseEntity.notFound().build());\r\n\t}","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>For Spring 5.2+ this works for me:</p>\n\n<pre><code>@PostMapping(\"/foo\")\nResponseEntity&lt;Void&gt; foo(@PathVariable UUID fooId) {\n    return fooService.findExam(fooId)\n            .map(uri -&gt; ResponseEntity.noContent().&lt;Void&gt;build())\n            .orElse(ResponseEntity.notFound().build());\n}\n</code></pre>\n"}],"owner":{"account_id":3472792,"reputation":1260,"user_id":2906739,"accept_rate":70,"display_name":"Matthias T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229649,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":26551712,"answer_count":6,"score":74,"last_activity_date":1676025508,"creation_date":1414161349,"question_id":26550124,"body_markdown":"We are implementing a REST API with Spring (4.1.1.). For certain HTTP requests, we would like to return a head with no body as a response. However, using `ResponseEntity&lt;Void&gt;` doesn&#39;t seem to work. When called with a `MockMvc` test, a 406 (Not acceptable) is returned. Using `ResponseEntity&lt;String&gt;` without a parameter value (`new  ResponseEntity&lt;String&gt;( HttpStatus.NOT_FOUND )`) works fine. \r\n\r\n\r\n\r\nMethod:\r\n   \r\n    @RequestMapping( method = RequestMethod.HEAD, value = Constants.KEY )\r\n    public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n\r\n        LOG.debug( &quot;taxonomyPackageExists queried with key: {0}&quot;, key ); //$NON-NLS-1$\r\n\r\n        final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\r\n\r\n        LOG.debug( &quot;Taxonomy key created: {0}&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n        if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\r\n\r\n            LOG.debug( &quot;Taxonomy package with key: {0} exists.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n            return new ResponseEntity&lt;Void&gt;( HttpStatus.OK );\r\n\r\n        } else {\r\n\r\n            LOG.debug( &quot;Taxonomy package with key: {0} does NOT exist.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n            return new ResponseEntity&lt;Void&gt;( HttpStatus.NOT_FOUND );\r\n        }\r\n\r\n    }\r\n\r\nTest case (TestNG):\r\n\r\n    public class TaxonomyQueryControllerTest {\r\n\r\n    private XbrlInstanceValidator   xbrlInstanceValidatorMock;\r\n    private TaxonomyQueryController underTest;\r\n    private MockMvc                 mockMvc;\r\n\r\n    @BeforeMethod\r\n    public void setUp() {\r\n        this.xbrlInstanceValidatorMock = createMock( XbrlInstanceValidator.class );\r\n        this.underTest = new TaxonomyQueryController( this.xbrlInstanceValidatorMock );\r\n        this.mockMvc = MockMvcBuilders.standaloneSetup( this.underTest ).build();\r\n    }\r\n\r\n    @Test\r\n    public void taxonomyPackageDoesNotExist() throws Exception {\r\n        // record\r\n        expect( this.xbrlInstanceValidatorMock.taxonomyPackageExists( anyObject( TaxonomyKey.class ) ) ).andStubReturn(\r\n                false );\r\n\r\n        // replay\r\n        replay( this.xbrlInstanceValidatorMock );\r\n\r\n        // do the test\r\n        final String taxonomyKey = RestDataFixture.taxonomyKeyString;\r\n\r\n        this.mockMvc.perform( head( &quot;/taxonomypackages/{key}&quot;, taxonomyKey ).accept( //$NON-NLS-1$\r\n                MediaType.APPLICATION_XML ) ).andExpect( status().isNotFound() );\r\n\r\n    }\r\n\r\n    }\r\n\r\nFails with this stack trace: \r\n\r\n    FAILED: taxonomyPackageDoesNotExist\r\n    java.lang.AssertionError: Status expected:&lt;404&gt; but was:&lt;406&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers$10.match(StatusResultMatchers.java:652)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:153)\r\n\tat de.zeb.control.application.xbrlstandalonevalidator.restservice.TaxonomyQueryControllerTest.taxonomyPackageDoesNotExist(TaxonomyQueryControllerTest.java:54)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:767)\r\n\tat org.testng.TestRunner.run(TestRunner.java:617)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\r\n\tat org.testng.TestNG.run(TestNG.java:1057)\r\n\tat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\r\n\r\n\r\n\r\n","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>We are implementing a REST API with Spring (4.1.1.). For certain HTTP requests, we would like to return a head with no body as a response. However, using <code>ResponseEntity&lt;Void&gt;</code> doesn't seem to work. When called with a <code>MockMvc</code> test, a 406 (Not acceptable) is returned. Using <code>ResponseEntity&lt;String&gt;</code> without a parameter value (<code>new  ResponseEntity&lt;String&gt;( HttpStatus.NOT_FOUND )</code>) works fine. </p>\n\n<p>Method:</p>\n\n<pre><code>@RequestMapping( method = RequestMethod.HEAD, value = Constants.KEY )\npublic ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\n\n    LOG.debug( \"taxonomyPackageExists queried with key: {0}\", key ); //$NON-NLS-1$\n\n    final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\n\n    LOG.debug( \"Taxonomy key created: {0}\", taxonomyKey ); //$NON-NLS-1$\n\n    if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\n\n        LOG.debug( \"Taxonomy package with key: {0} exists.\", taxonomyKey ); //$NON-NLS-1$\n\n        return new ResponseEntity&lt;Void&gt;( HttpStatus.OK );\n\n    } else {\n\n        LOG.debug( \"Taxonomy package with key: {0} does NOT exist.\", taxonomyKey ); //$NON-NLS-1$\n\n        return new ResponseEntity&lt;Void&gt;( HttpStatus.NOT_FOUND );\n    }\n\n}\n</code></pre>\n\n<p>Test case (TestNG):</p>\n\n<pre><code>public class TaxonomyQueryControllerTest {\n\nprivate XbrlInstanceValidator   xbrlInstanceValidatorMock;\nprivate TaxonomyQueryController underTest;\nprivate MockMvc                 mockMvc;\n\n@BeforeMethod\npublic void setUp() {\n    this.xbrlInstanceValidatorMock = createMock( XbrlInstanceValidator.class );\n    this.underTest = new TaxonomyQueryController( this.xbrlInstanceValidatorMock );\n    this.mockMvc = MockMvcBuilders.standaloneSetup( this.underTest ).build();\n}\n\n@Test\npublic void taxonomyPackageDoesNotExist() throws Exception {\n    // record\n    expect( this.xbrlInstanceValidatorMock.taxonomyPackageExists( anyObject( TaxonomyKey.class ) ) ).andStubReturn(\n            false );\n\n    // replay\n    replay( this.xbrlInstanceValidatorMock );\n\n    // do the test\n    final String taxonomyKey = RestDataFixture.taxonomyKeyString;\n\n    this.mockMvc.perform( head( \"/taxonomypackages/{key}\", taxonomyKey ).accept( //$NON-NLS-1$\n            MediaType.APPLICATION_XML ) ).andExpect( status().isNotFound() );\n\n}\n\n}\n</code></pre>\n\n<p>Fails with this stack trace: </p>\n\n<pre><code>FAILED: taxonomyPackageDoesNotExist\njava.lang.AssertionError: Status expected:&lt;404&gt; but was:&lt;406&gt;\nat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\nat org.springframework.test.web.servlet.result.StatusResultMatchers$10.match(StatusResultMatchers.java:652)\nat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:153)\nat de.zeb.control.application.xbrlstandalonevalidator.restservice.TaxonomyQueryControllerTest.taxonomyPackageDoesNotExist(TaxonomyQueryControllerTest.java:54)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\nat org.testng.TestRunner.privateRun(TestRunner.java:767)\nat org.testng.TestRunner.run(TestRunner.java:617)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\nat org.testng.SuiteRunner.run(SuiteRunner.java:240)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\nat org.testng.TestNG.run(TestNG.java:1057)\nat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\n</code></pre>\n"},{"tags":["java","android-studio","android-debug"],"answers":[{"comments":[{"owner":{"account_id":23532552,"reputation":1,"user_id":17577951,"display_name":"Suceru"},"score":0,"creation_date":1676190174,"post_id":75409848,"comment_id":133084652,"body_markdown":"That&#39;s cool, although not the way I want to do it, I&#39;ll try it.","body":"That&#39;s cool, although not the way I want to do it, I&#39;ll try it."}],"tags":[],"owner":{"account_id":6544046,"reputation":51,"user_id":5060590,"display_name":"Anique Azhar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676025070,"creation_date":1676025070,"answer_id":75409848,"question_id":75306605,"body_markdown":"Well, there is no direct way to modify an apk dynamically using java. All you can do is instrument the apk using any of instrumentation library which are written in multiple languages like tyscript or JavaScript. \r\n\r\nAmong these libraries,  [Frida][1] &amp; [Objection][2] are the most famous ones. Frida allows you to change any value, methods, return types of values, any thing loaded in memory. \r\n\r\nGood thing is that you dont need to learn smali, you can still use Java libraries to call any function on it. \r\n\r\nSample code in your case will look like\r\n \r\n\r\n    Java.perform(function() {\r\n    var object = Java.use(&#39;packageName.ActivityName&#39;);\r\n   \r\n    object.check.implementation = function() {\r\n        \r\n        return 3;\r\n    }\r\n    });\r\n\r\n  [1]: https://frida.re/\r\n  [2]: https://github.com/sensepost/objection\r\n\r\n","title":"How to use java language to dynamically debug APK in AndroidStudio?","body":"<p>Well, there is no direct way to modify an apk dynamically using java. All you can do is instrument the apk using any of instrumentation library which are written in multiple languages like tyscript or JavaScript.</p>\n<p>Among these libraries,  <a href=\"https://frida.re/\" rel=\"nofollow noreferrer\">Frida</a> &amp; <a href=\"https://github.com/sensepost/objection\" rel=\"nofollow noreferrer\">Objection</a> are the most famous ones. Frida allows you to change any value, methods, return types of values, any thing loaded in memory.</p>\n<p>Good thing is that you dont need to learn smali, you can still use Java libraries to call any function on it.</p>\n<p>Sample code in your case will look like</p>\n<pre><code>Java.perform(function() {\nvar object = Java.use('packageName.ActivityName');\n\nobject.check.implementation = function() {\n    \n    return 3;\n}\n});\n</code></pre>\n"}],"owner":{"account_id":23532552,"reputation":1,"user_id":17577951,"display_name":"Suceru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676025070,"creation_date":1675234502,"question_id":75306605,"body_markdown":"Requirement: I now have a `CrackMe.apk` without project file and code, I want to modify its code in java language without using smali and to dynamically debug the modified java file. I looked up many ways to dynamically debug the apk on the internet, and the internet is full of debugging using smali language, there is no case of debugging the apk using java language. Now, I am able to modify and run CrackMe.apk, but I don&#39;t know how to debug my code dynamically, I would like to ask how to implement dynamic debugging feature?\r\n\r\nSteps: I extract the dex file from `CrackMe.apk`, convert it to `classes.jar` file, remove the `android` and `androidx` packages from the jar file (not removing it will prompt the existence of the same package name after Add As Library).\r\nThen create a new blank project `test` in AS software, add `classes.jar` As Library. then create a new class `MainActivity.java` with the same name in the file path `src/main/com.XXX.XXX`, modify the code `if (this$0. check() == 999)` to `if (this$0.check() == 3)` and compile it. After compiling, overwrite the new MainActivity.class in the path `build\\intermediates\\javac\\debug\\classes\\com.XXX.XXX` with the `MainActivity.class` file of the same name in the old `classes.jar`, and then convert the `classes.jar` to `classes.dex` and replace the old `classes.dex`, then after signing it, it can be installed and run.\r\n\r\nDuring this process, can I debug the new MainActivity.java file at the AS software breakpoint in the test project path `src/main/com.XXX.XXX`. The class file generated by the test project is in the test project file path `build\\ intermediates\\javac\\debug\\classes\\com.XXX.XXX` in the test project. I want to dynamically debug `CrackMe.apk`, not `test-debug.apk`, MainActivity.java has nothing to do with the test project.  \r\nApkLink: [CrackMe.apk](https://www.dropbox.com/s/dyn1wbjj6d9p5lx/CrackMe.apk?dl=0)","title":"How to use java language to dynamically debug APK in AndroidStudio?","body":"<p>Requirement: I now have a <code>CrackMe.apk</code> without project file and code, I want to modify its code in java language without using smali and to dynamically debug the modified java file. I looked up many ways to dynamically debug the apk on the internet, and the internet is full of debugging using smali language, there is no case of debugging the apk using java language. Now, I am able to modify and run CrackMe.apk, but I don't know how to debug my code dynamically, I would like to ask how to implement dynamic debugging feature?</p>\n<p>Steps: I extract the dex file from <code>CrackMe.apk</code>, convert it to <code>classes.jar</code> file, remove the <code>android</code> and <code>androidx</code> packages from the jar file (not removing it will prompt the existence of the same package name after Add As Library).\nThen create a new blank project <code>test</code> in AS software, add <code>classes.jar</code> As Library. then create a new class <code>MainActivity.java</code> with the same name in the file path <code>src/main/com.XXX.XXX</code>, modify the code <code>if (this$0. check() == 999)</code> to <code>if (this$0.check() == 3)</code> and compile it. After compiling, overwrite the new MainActivity.class in the path <code>build\\intermediates\\javac\\debug\\classes\\com.XXX.XXX</code> with the <code>MainActivity.class</code> file of the same name in the old <code>classes.jar</code>, and then convert the <code>classes.jar</code> to <code>classes.dex</code> and replace the old <code>classes.dex</code>, then after signing it, it can be installed and run.</p>\n<p>During this process, can I debug the new MainActivity.java file at the AS software breakpoint in the test project path <code>src/main/com.XXX.XXX</code>. The class file generated by the test project is in the test project file path <code>build\\ intermediates\\javac\\debug\\classes\\com.XXX.XXX</code> in the test project. I want to dynamically debug <code>CrackMe.apk</code>, not <code>test-debug.apk</code>, MainActivity.java has nothing to do with the test project.<br />\nApkLink: <a href=\"https://www.dropbox.com/s/dyn1wbjj6d9p5lx/CrackMe.apk?dl=0\" rel=\"nofollow noreferrer\">CrackMe.apk</a></p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"score":0,"creation_date":1599858350,"post_id":61625060,"comment_id":112915909,"body_markdown":"Did you ever figure this out? I&#39;m running into this same problem.","body":"Did you ever figure this out? I&#39;m running into this same problem."},{"owner":{"account_id":1683176,"reputation":1761,"user_id":1546990,"accept_rate":91,"display_name":"GarlicBread"},"score":0,"creation_date":1600031778,"post_id":61625060,"comment_id":112952944,"body_markdown":"@ChantellOsejo: It&#39;s a while back now, but I don&#39;t think I did. All I could test was the workings of the RowCallbackHandler itself.","body":"@ChantellOsejo: It&#39;s a while back now, but I don&#39;t think I did. All I could test was the workings of the RowCallbackHandler itself."},{"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"score":0,"creation_date":1600125128,"post_id":61625060,"comment_id":112983522,"body_markdown":"I did eventually come up with something, posted it as an answer here, maybe it&#39;ll be helpful for others (even though it&#39;s not a 1:1 mapping to what you are trying to do, I believe my answer can be flexed a bit to accomplish what you were trying to do here).","body":"I did eventually come up with something, posted it as an answer here, maybe it&#39;ll be helpful for others (even though it&#39;s not a 1:1 mapping to what you are trying to do, I believe my answer can be flexed a bit to accomplish what you were trying to do here)."}],"answers":[{"tags":[],"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600125030,"creation_date":1600125030,"answer_id":63892914,"question_id":61625060,"body_markdown":"I ran into this problem in my own code, thought I&#39;d share the solution here, even though it&#39;s slightly different than the situation above as I mock the jdbcTemplate as well.\r\n\r\n\r\n    @InjectMocks\r\n    private JdbcOperationRepository jdbcOperationRepository;\r\n\r\n    @Mock\r\n    private NamedParameterJdbcTemplate mockJdbcTemplate;\r\n\r\n    @Test\r\n    public void testMyResults() {\r\n      final ResultSet mockResult1 = mock(ResultSet.class);\r\n      when(mockResult1.getString(MY_COLUMN)).thenReturn(value);\r\n      // ... other when statements to mock the returned data\r\n    \r\n      doAnswer(invocation -&gt; {\r\n          RowCallbackHandler callbackHandler = invocation.getArgument(2);\r\n          callbackHandler.processRow(mockResult1);\r\n          callbackHandler.processRow(mockResult2);\r\n          return null;\r\n      }).when(mockJdbcTemplate).query(any(), any(), any(RowCallbackHandler.class));\r\n    }","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I ran into this problem in my own code, thought I'd share the solution here, even though it's slightly different than the situation above as I mock the jdbcTemplate as well.</p>\n<pre><code>@InjectMocks\nprivate JdbcOperationRepository jdbcOperationRepository;\n\n@Mock\nprivate NamedParameterJdbcTemplate mockJdbcTemplate;\n\n@Test\npublic void testMyResults() {\n  final ResultSet mockResult1 = mock(ResultSet.class);\n  when(mockResult1.getString(MY_COLUMN)).thenReturn(value);\n  // ... other when statements to mock the returned data\n\n  doAnswer(invocation -&gt; {\n      RowCallbackHandler callbackHandler = invocation.getArgument(2);\n      callbackHandler.processRow(mockResult1);\n      callbackHandler.processRow(mockResult2);\n      return null;\n  }).when(mockJdbcTemplate).query(any(), any(), any(RowCallbackHandler.class));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9835759,"reputation":471,"user_id":7286223,"display_name":"Raihanul Alam Hridoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676024978,"creation_date":1676024978,"answer_id":75409832,"question_id":61625060,"body_markdown":"I was struggling with the same problem. First, you have to keep in mind that you can mock almost anything in spring boot using Junit tests.\r\n\r\nI am writing the solution in a generalized pattern so that everyone can get an idea how it gets implemented and used.\r\n\r\nSuppose, we have a function implemented in our BookService.java class:\r\n\r\n```java\r\n@Service\r\npublic class BookService {\r\n\r\n    @Inject\r\n    private NamedParameterJdbcOperations jdbcTemplate;\r\n    \r\n    @Inject\r\n    private FileHelper fileHelper;\r\n    \r\n    public List&lt;BookDTO&gt; getBooks(Long libraryId){\r\n        String sql = fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;);\r\n        \r\n        Map&lt;String, Object&gt; parameterMap = new HashMap&lt;&gt;();\r\n        if(libraryId!=null){\r\n            parameterMap.put(&quot;libraryId&quot;, libraryId);\r\n        }\r\n        \r\n        List&lt;BookDTO&gt; books = new ArrayList&lt;&gt;();\r\n        \r\n        jdbcTemplate.query(sql, parameterMap, rs -&gt; {\r\n            BookDTO book = new BookDTO();\r\n            book.setId(rs.getLong(&quot;id&quot;));\r\n            book.setName(rs.getString(&quot;name&quot;));\r\n            \r\n            if(rs.getObject(&quot;librarian&quot;) != null){\r\n                book.setLibrarian(rs.getString(&quot;librarian&quot;));\r\n            }\r\n            books.add(book);\r\n        });\r\n        \r\n        return books;\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow, we want to mock the functionality of the `jdbcTemplate.query()` method for the above service class.\r\n\r\nOur test should be written in this pattern:\r\n\r\n```\r\npublic class BookServiceMockTest {\r\n    @Mock\r\n    private NamedParameterJdbcOperations jdbcTemplate;\r\n    \r\n    @Mock\r\n    private FileHelper fileHelper;\r\n    \r\n    private BookService mockBookService;\r\n    \r\n    @Before\r\n    public void setup(){\r\n        mockBookService = new BookService();\r\n        // using reflectionUtils setFields of the fileHelper and jdbcTemplate.\r\n        // ....\r\n    }\r\n    \r\n    @Test\r\n    public void getBooksTest(){\r\n        \r\n        when(fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;)).thenReturn(&quot;SOME SQL&quot;);\r\n        doAnswer(invocation -&gt; {\r\n            // we are going to mock ResultSet class.\r\n            ResultSet rs = Mockito.mock(ResultSet.class);\r\n            when(rs.getLong(&quot;id&quot;)).thenReturn(1L);\r\n            when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;);\r\n            \r\n            // this will mock the if() statement\r\n            when(rs.getObject(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\r\n            \r\n            // this will mock the actual get statement call on getString() inside the if statement\r\n            when(rs.getString(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\r\n            \r\n            // the argument index is important here.\r\n            // we are doing getArgument(2).\r\n            // This means the third parameter passed in the jdbcTemplate.query(Param0, Param1, Param2) in the BookService.getBooks() function.\r\n            RowCallbackHandler rch = (RowCallbackHandler) invocation.getArgument(2);\r\n            // as we are mocking only one row..\r\n            rch.processRow(rs);\r\n            \r\n            /* // if we wanter two or more results:\r\n                when(rs.getLong(&quot;id&quot;)).thenReturn(1L).thenReturn(2L);\r\n                when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;).thenReturn(&quot;Dance of the Dragon&quot;);\r\n                int n = 2; // no of rows..\r\n                for(int i=0; i&lt;n; i++){\r\n                    rch.processRow(rs);\r\n                }\r\n            */\r\n            return null;\r\n        })\r\n        // the parameters used here are important. Any mismatch will result in unsuccessful.\r\n        .when(jdbcTemplate).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\r\n        \r\n        List&lt;BookDTO&gt; books = mockBookService.getBooks(anyLong());\r\n        \r\n        verify(jdbcTemplate, times(1)).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\r\n        \r\n        assertThat(books).hasSize(1);\r\n    }\r\n}\r\n```\r\n\r\nI hope this answered what you were looking for!","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I was struggling with the same problem. First, you have to keep in mind that you can mock almost anything in spring boot using Junit tests.</p>\n<p>I am writing the solution in a generalized pattern so that everyone can get an idea how it gets implemented and used.</p>\n<p>Suppose, we have a function implemented in our BookService.java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class BookService {\n\n    @Inject\n    private NamedParameterJdbcOperations jdbcTemplate;\n    \n    @Inject\n    private FileHelper fileHelper;\n    \n    public List&lt;BookDTO&gt; getBooks(Long libraryId){\n        String sql = fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;);\n        \n        Map&lt;String, Object&gt; parameterMap = new HashMap&lt;&gt;();\n        if(libraryId!=null){\n            parameterMap.put(&quot;libraryId&quot;, libraryId);\n        }\n        \n        List&lt;BookDTO&gt; books = new ArrayList&lt;&gt;();\n        \n        jdbcTemplate.query(sql, parameterMap, rs -&gt; {\n            BookDTO book = new BookDTO();\n            book.setId(rs.getLong(&quot;id&quot;));\n            book.setName(rs.getString(&quot;name&quot;));\n            \n            if(rs.getObject(&quot;librarian&quot;) != null){\n                book.setLibrarian(rs.getString(&quot;librarian&quot;));\n            }\n            books.add(book);\n        });\n        \n        return books;\n    }\n}\n\n</code></pre>\n<p>Now, we want to mock the functionality of the <code>jdbcTemplate.query()</code> method for the above service class.</p>\n<p>Our test should be written in this pattern:</p>\n<pre><code>public class BookServiceMockTest {\n    @Mock\n    private NamedParameterJdbcOperations jdbcTemplate;\n    \n    @Mock\n    private FileHelper fileHelper;\n    \n    private BookService mockBookService;\n    \n    @Before\n    public void setup(){\n        mockBookService = new BookService();\n        // using reflectionUtils setFields of the fileHelper and jdbcTemplate.\n        // ....\n    }\n    \n    @Test\n    public void getBooksTest(){\n        \n        when(fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;)).thenReturn(&quot;SOME SQL&quot;);\n        doAnswer(invocation -&gt; {\n            // we are going to mock ResultSet class.\n            ResultSet rs = Mockito.mock(ResultSet.class);\n            when(rs.getLong(&quot;id&quot;)).thenReturn(1L);\n            when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;);\n            \n            // this will mock the if() statement\n            when(rs.getObject(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\n            \n            // this will mock the actual get statement call on getString() inside the if statement\n            when(rs.getString(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\n            \n            // the argument index is important here.\n            // we are doing getArgument(2).\n            // This means the third parameter passed in the jdbcTemplate.query(Param0, Param1, Param2) in the BookService.getBooks() function.\n            RowCallbackHandler rch = (RowCallbackHandler) invocation.getArgument(2);\n            // as we are mocking only one row..\n            rch.processRow(rs);\n            \n            /* // if we wanter two or more results:\n                when(rs.getLong(&quot;id&quot;)).thenReturn(1L).thenReturn(2L);\n                when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;).thenReturn(&quot;Dance of the Dragon&quot;);\n                int n = 2; // no of rows..\n                for(int i=0; i&lt;n; i++){\n                    rch.processRow(rs);\n                }\n            */\n            return null;\n        })\n        // the parameters used here are important. Any mismatch will result in unsuccessful.\n        .when(jdbcTemplate).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\n        \n        List&lt;BookDTO&gt; books = mockBookService.getBooks(anyLong());\n        \n        verify(jdbcTemplate, times(1)).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\n        \n        assertThat(books).hasSize(1);\n    }\n}\n</code></pre>\n<p>I hope this answered what you were looking for!</p>\n"}],"owner":{"account_id":1683176,"reputation":1761,"user_id":1546990,"accept_rate":91,"display_name":"GarlicBread"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2908,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1676024978,"creation_date":1588723139,"question_id":61625060,"body_markdown":"I have the following code in my Java class in a Spring Boot (v. 2.2.1.RELEASE) application:\r\n\r\n    @Inject\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    @Inject\r\n    private MyRowCallbackHandler myRowCallbackHandler;\r\n\r\n    public void myMethod() {\r\n        jdbcTemplate.query(MY_QUERY, myRowCallbackHandler);\r\n    }\r\n\r\nThe JDBC template object is an implementation of org.springframework.jdbc.core.JdbcTemplate and the handler is an implementation of org.springframework.jdbc.core.RowCallbackHandler.\r\n\r\nWith JUnit version 4 and Mockito, can I mimic the retrieval of one or more rows from a database by the query method, thus calling the handler&#39;s processRow() method?\r\n\r\nThanks for any assistance.","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I have the following code in my Java class in a Spring Boot (v. 2.2.1.RELEASE) application:</p>\n\n<pre><code>@Inject\nprivate JdbcTemplate jdbcTemplate;\n\n@Inject\nprivate MyRowCallbackHandler myRowCallbackHandler;\n\npublic void myMethod() {\n    jdbcTemplate.query(MY_QUERY, myRowCallbackHandler);\n}\n</code></pre>\n\n<p>The JDBC template object is an implementation of org.springframework.jdbc.core.JdbcTemplate and the handler is an implementation of org.springframework.jdbc.core.RowCallbackHandler.</p>\n\n<p>With JUnit version 4 and Mockito, can I mimic the retrieval of one or more rows from a database by the query method, thus calling the handler's processRow() method?</p>\n\n<p>Thanks for any assistance.</p>\n"},{"tags":["java","jmeter","ubuntu-16.04"],"answers":[{"tags":[],"owner":{"account_id":13260014,"reputation":1971,"user_id":9574885,"display_name":"sunny_teo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529058779,"creation_date":1529058779,"answer_id":50873812,"question_id":50869774,"body_markdown":"Try to open and save again your jmx with &quot;Save Test Plan As&quot; and run again. It may happen when your jmx file does not contain &quot;Test Plan&quot; or sometimes when it is not get saved properly.\nIf that does not work try to rename the default name of the &quot;Test Plan&quot; to something else like &quot;My Test Plan&quot;.\n\n\n[![enter image description here][1]][1]\n\nHope this help.\n\n  [1]: https://i.stack.imgur.com/4P0OF.png","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>Try to open and save again your jmx with &quot;Save Test Plan As&quot; and run again. It may happen when your jmx file does not contain &quot;Test Plan&quot; or sometimes when it is not get saved properly.\nIf that does not work try to rename the default name of the &quot;Test Plan&quot; to something else like &quot;My Test Plan&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/4P0OF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4P0OF.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this help.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676411210,"post_id":75409821,"comment_id":133131102,"body_markdown":"As itâ€™s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As itâ€™s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75409821/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27752300,"reputation":1,"user_id":21186511,"display_name":"user21186511"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024933,"creation_date":1676024933,"answer_id":75409821,"question_id":50869774,"body_markdown":"I just write jmeter before -n and -t command and then the path of script. It works for me\r\neg. jmeter -n -t (location of test script)","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>I just write jmeter before -n and -t command and then the path of script. It works for me\neg. jmeter -n -t (location of test script)</p>\n"}],"owner":{"account_id":9857087,"reputation":29,"user_id":7301265,"display_name":"Sumit Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676024933,"creation_date":1529041811,"question_id":50869774,"body_markdown":"lenovo@lenovo-thinkcentre-mini:~/Documents/apache-jmeter-4.0/bin$ jmeter -n -t test.jmx -l my-test-plan-result.jtl -j my-test-plan-result.log -DTHREADS=500 -DRAMP_UP=60 -DDURATION=300\r\n\r\nCreating summariser &lt;summary&gt;\r\n\r\nCreated the tree successfully using test.jmx\r\n\r\nError in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class!","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>lenovo@lenovo-thinkcentre-mini:~/Documents/apache-jmeter-4.0/bin$ jmeter -n -t test.jmx -l my-test-plan-result.jtl -j my-test-plan-result.log -DTHREADS=500 -DRAMP_UP=60 -DDURATION=300</p>\n\n<p>Creating summariser </p>\n\n<p>Created the tree successfully using test.jmx</p>\n\n<p>Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class!</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1676017312,"post_id":75408499,"comment_id":133056067,"body_markdown":"Did you read the docs?","body":"Did you read the docs?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676017335,"post_id":75408499,"comment_id":133056074,"body_markdown":"It&#39;s size 1 and size 2 (not 0 and 1)!","body":"It&#39;s size 1 and size 2 (not 0 and 1)!"},{"owner":{"account_id":16119704,"reputation":1,"user_id":11635962,"display_name":"Rohit Dhawan"},"score":0,"creation_date":1676018103,"post_id":75408499,"comment_id":133056272,"body_markdown":"Sorry for the typo. str1 size is 2 and str2 size is 1. str2 is clear as it has one space character. That&#39;s why the size is 1 but why the str1 size is 2? Considering that also has only one space character. I&#39;ve now corrected the typo in the question as well.","body":"Sorry for the typo. str1 size is 2 and str2 size is 1. str2 is clear as it has one space character. That&#39;s why the size is 1 but why the str1 size is 2? Considering that also has only one space character. I&#39;ve now corrected the typo in the question as well."}],"owner":{"account_id":16119704,"reputation":1,"user_id":11635962,"display_name":"Rohit Dhawan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676017295,"answer_count":0,"score":0,"last_activity_date":1676024721,"creation_date":1676017177,"question_id":75408499,"body_markdown":"When I was trying to split a string using comma delimiter and string was having just two characters: a comma and a trailing space. After split the size of array is 2 but when I use string having a leading space and a comma, the size of array after split is 1. Can anyone please explain in details about this difference and its reason. \r\n\r\n```\r\nString s1 = &quot;, &quot;;\r\nString s2 = &quot; ,&quot;;\r\nString[] str1 = s1.split(&quot;,&quot;);\r\nString[] str2 = s2.split(&quot;,&quot;);\r\n#str1 is of 2 size and str2 is of 1 size.\r\n```\r\n\r\nI can understand the reason of str2 size as 1 which is because split&#39;s default behaviour is to discard empty strings after delimiter but why the size of str1 is 2? Does it consider leading empty strings? If yes, when I take string with comma as the only character, why the size is 0? Does it not consider leading empty strings at that time?","title":"Java Split Method Behaviour","body":"<p>When I was trying to split a string using comma delimiter and string was having just two characters: a comma and a trailing space. After split the size of array is 2 but when I use string having a leading space and a comma, the size of array after split is 1. Can anyone please explain in details about this difference and its reason.</p>\n<pre><code>String s1 = &quot;, &quot;;\nString s2 = &quot; ,&quot;;\nString[] str1 = s1.split(&quot;,&quot;);\nString[] str2 = s2.split(&quot;,&quot;);\n#str1 is of 2 size and str2 is of 1 size.\n</code></pre>\n<p>I can understand the reason of str2 size as 1 which is because split's default behaviour is to discard empty strings after delimiter but why the size of str1 is 2? Does it consider leading empty strings? If yes, when I take string with comma as the only character, why the size is 0? Does it not consider leading empty strings at that time?</p>\n"},{"tags":["java","centering","image-rotation","affinetransform","blurry"],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024623,"creation_date":1676023812,"answer_id":75409612,"question_id":75409182,"body_markdown":"I would suggestion always rotating form the original image. Keep track of the total rotation.\r\n\r\n    int angleDegrees = 0;\r\n\r\nThat way there is less image quality degradation. Normally each time you use a bi-linear interpolation there will be some blurring.\r\n\r\n    AffineTransform transform = new AffineTransform();\r\n    angle += (angle + 1)%360;\r\n    transform.rotate(Math.toRad(angle), img.getWidth()/2, img.getHeight()/2);\r\n    AffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\r\n    BufferedImage rotatedImage = op.createCompatibleDestImage(img, ColorModel.getRGBdefault());\r\n    op.filter(img, rotatedImage);\r\n    lbIm1.setIcon(new ImageIcon(rotatedImage));\r\n    lbIm1.repaint();\r\n\r\nNote the icon is changing sizes because the destination image is large enough to hold the whole image. That means the center of the icon will appear to move.\r\n\r\nIf you create the destination image this way.\r\n\r\n    BufferedImage rotatedImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n\r\nThen the destination will be cropped, but stay the same size. That way the center of the image doesn&#39;t appear to move.\r\n\r\nThe transform you&#39;re using, translate + rotate + translate back, work with this technique to. The 1 degree rotation causes some rounding error in the size of the image. So I wonder if that is why the image &quot;runs away&quot;","title":"Revolve image around center (blurry and not exactly at center)","body":"<p>I would suggestion always rotating form the original image. Keep track of the total rotation.</p>\n<pre><code>int angleDegrees = 0;\n</code></pre>\n<p>That way there is less image quality degradation. Normally each time you use a bi-linear interpolation there will be some blurring.</p>\n<pre><code>AffineTransform transform = new AffineTransform();\nangle += (angle + 1)%360;\ntransform.rotate(Math.toRad(angle), img.getWidth()/2, img.getHeight()/2);\nAffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\nBufferedImage rotatedImage = op.createCompatibleDestImage(img, ColorModel.getRGBdefault());\nop.filter(img, rotatedImage);\nlbIm1.setIcon(new ImageIcon(rotatedImage));\nlbIm1.repaint();\n</code></pre>\n<p>Note the icon is changing sizes because the destination image is large enough to hold the whole image. That means the center of the icon will appear to move.</p>\n<p>If you create the destination image this way.</p>\n<pre><code>BufferedImage rotatedImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\n</code></pre>\n<p>Then the destination will be cropped, but stay the same size. That way the center of the image doesn't appear to move.</p>\n<p>The transform you're using, translate + rotate + translate back, work with this technique to. The 1 degree rotation causes some rounding error in the size of the image. So I wonder if that is why the image &quot;runs away&quot;</p>\n"}],"owner":{"account_id":19848299,"reputation":117,"user_id":14646358,"display_name":"RichS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676024623,"creation_date":1676021559,"question_id":75409182,"body_markdown":"I&#39;m trying to revolve a BufferedImage around its center. Here&#39;s my Code:\r\n```\r\nframe = new JFrame();\r\nGridBagLayout gLayout = new GridBagLayout();\r\nframe.getContentPane().setLayout(gLayout);\r\n\r\nlbIm1 = new JLabel(new ImageIcon(img));\r\nlbIm1.setPreferredSize(new Dimension(800, 800));\r\nTimer timer = new Timer(100, e -&gt; {\r\n\t\tAffineTransform transform = new AffineTransform();\r\n\t\ttransform.translate(img.getWidth()/2, img.getHeight()/2);\r\n\t\ttransform.rotate(Math.toRadians(1), 0, 0);\r\n\t\ttransform.translate(-img.getWidth()/2, -img.getHeight()/2);\r\n\t\tAffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\r\n\t\tBufferedImage rotatedImage = op.createCompatibleDestImage(img, img.getColorModel());\r\n\t\top.filter(img, rotatedImage);\r\n\t\tlbIm1.setIcon(new ImageIcon(rotatedImage));\r\n\t\timg = rotatedImage;\r\n\t\tlbIm1.repaint();\r\n});\r\ntimer.start();\r\n\r\nc.fill = GridBagConstraints.HORIZONTAL;\r\nc.gridx = 0;\r\nc.gridy = 1;\r\nframe.getContentPane().add(lbIm1, c);\r\n\r\nframe.pack();\r\nframe.setVisible(true);\r\n```\r\n\r\nThe image size is 512 x 512. The problem in this code are:\r\n1. The rotation is not exactly at center. It would rotate out of the screen.\r\n2. The imagine became blurry over time.\r\n\r\nI have searched online for a very long time and nothing seems to help. Any suggestions would be much appreciated. Thanks.","title":"Revolve image around center (blurry and not exactly at center)","body":"<p>I'm trying to revolve a BufferedImage around its center. Here's my Code:</p>\n<pre><code>frame = new JFrame();\nGridBagLayout gLayout = new GridBagLayout();\nframe.getContentPane().setLayout(gLayout);\n\nlbIm1 = new JLabel(new ImageIcon(img));\nlbIm1.setPreferredSize(new Dimension(800, 800));\nTimer timer = new Timer(100, e -&gt; {\n        AffineTransform transform = new AffineTransform();\n        transform.translate(img.getWidth()/2, img.getHeight()/2);\n        transform.rotate(Math.toRadians(1), 0, 0);\n        transform.translate(-img.getWidth()/2, -img.getHeight()/2);\n        AffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\n        BufferedImage rotatedImage = op.createCompatibleDestImage(img, img.getColorModel());\n        op.filter(img, rotatedImage);\n        lbIm1.setIcon(new ImageIcon(rotatedImage));\n        img = rotatedImage;\n        lbIm1.repaint();\n});\ntimer.start();\n\nc.fill = GridBagConstraints.HORIZONTAL;\nc.gridx = 0;\nc.gridy = 1;\nframe.getContentPane().add(lbIm1, c);\n\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n<p>The image size is 512 x 512. The problem in this code are:</p>\n<ol>\n<li>The rotation is not exactly at center. It would rotate out of the screen.</li>\n<li>The imagine became blurry over time.</li>\n</ol>\n<p>I have searched online for a very long time and nothing seems to help. Any suggestions would be much appreciated. Thanks.</p>\n"},{"tags":["java","spring","validation","hibernate-validator"],"comments":[{"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"score":0,"creation_date":1683796530,"post_id":75403432,"comment_id":134422532,"body_markdown":"the `@NotBlank` and `@Email`(it is validate then not blank) validation are  independent,  so there is no need to controll the validation order","body":"the <code>@NotBlank</code> and <code>@Email</code>(it is validate then not blank) validation are  independent,  so there is no need to controll the validation order"}],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024592,"creation_date":1676024592,"answer_id":75409767,"question_id":75403432,"body_markdown":"Note that having validation group sequences means that as soon as one of the groups defined in the sequence generates at least one constraint violation, no further groups will be processed. With that said, one way to approach this could be:\r\n\r\nAdd groups to your constraints: \r\n\r\n    class User {\r\n    \t@NotBlank                                               // leave in the default group\r\n    \t@Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\r\n    \t@UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\r\n    \tprivate String email;\r\n    \r\n    \t@NotBlank                       // leave in the default group\r\n    \t@Length(min = 8)                // leave in the default group\r\n    \tprivate String password;\r\n    \r\n    \tpublic User(String email, String password) {\r\n    \t\tthis.email = email;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    }\r\n\r\nand then define your sequences as:\r\n\r\n    @GroupSequence({Default.class, Second.class, Third.class})\r\n    interface UserCreateValidationGroupSequence {}\r\n    \r\n    @GroupSequence({Default.class, Second.class})\r\n    interface UserUpdateValidationGroupSequence {}\r\n\r\nand then you&#39;d pass either create or update sequence to the validator, in your case, it could be:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\r\n    \tpublic void updateUser(@Validated(UserUpdateValidationGroupSequence.class) User user){...}\r\n    }\r\n\r\nNow, if you&#39;d like to keep the `updateUser()` service call without passing the specific group(sequence) and only mark it with `@Valid/@Validated` you can consider looking at default group sequence redefinition. In such case, you&#39;d add the default (update) sequence definition to your class:\r\n\r\n    @GroupSequence({User.class, Second.class})\r\n    class User {\r\n    \t@NotBlank                                               // leave in the default group\r\n    \t@Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\r\n    \t@UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\r\n    \tprivate String email;\r\n    \r\n    \t@NotBlank                       // leave in the default group\r\n    \t@Length(min = 8)                // leave in the default group\r\n    \tprivate String password;\r\n    \r\n    }\r\n\r\nhave the create sequence:\r\n\r\n    @GroupSequence({Default.class, Second.class, Third.class})\r\n    interface UserCreateValidationGroupSequence {}\r\n\r\nand finally, in service:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\r\n    \tpublic void updateUser(@Valid User user){...}\r\n    }","title":"Bean validation - Combining validation groups and group sequence","body":"<p>Note that having validation group sequences means that as soon as one of the groups defined in the sequence generates at least one constraint violation, no further groups will be processed. With that said, one way to approach this could be:</p>\n<p>Add groups to your constraints:</p>\n<pre><code>class User {\n    @NotBlank                                               // leave in the default group\n    @Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\n    @UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\n    private String email;\n\n    @NotBlank                       // leave in the default group\n    @Length(min = 8)                // leave in the default group\n    private String password;\n\n    public User(String email, String password) {\n        this.email = email;\n        this.password = password;\n    }\n}\n</code></pre>\n<p>and then define your sequences as:</p>\n<pre><code>@GroupSequence({Default.class, Second.class, Third.class})\ninterface UserCreateValidationGroupSequence {}\n\n@GroupSequence({Default.class, Second.class})\ninterface UserUpdateValidationGroupSequence {}\n</code></pre>\n<p>and then you'd pass either create or update sequence to the validator, in your case, it could be:</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\n    public void updateUser(@Validated(UserUpdateValidationGroupSequence.class) User user){...}\n}\n</code></pre>\n<p>Now, if you'd like to keep the <code>updateUser()</code> service call without passing the specific group(sequence) and only mark it with <code>@Valid/@Validated</code> you can consider looking at default group sequence redefinition. In such case, you'd add the default (update) sequence definition to your class:</p>\n<pre><code>@GroupSequence({User.class, Second.class})\nclass User {\n    @NotBlank                                               // leave in the default group\n    @Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\n    @UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\n    private String email;\n\n    @NotBlank                       // leave in the default group\n    @Length(min = 8)                // leave in the default group\n    private String password;\n\n}\n</code></pre>\n<p>have the create sequence:</p>\n<pre><code>@GroupSequence({Default.class, Second.class, Third.class})\ninterface UserCreateValidationGroupSequence {}\n</code></pre>\n<p>and finally, in service:</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\n    public void updateUser(@Valid User user){...}\n}\n</code></pre>\n"}],"owner":{"account_id":17814639,"reputation":63,"user_id":12938483,"display_name":"PoCiTo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676024592,"creation_date":1675970351,"question_id":75403432,"body_markdown":"I have simple entity with some validations. I want some of them to run in certain order, and other to run only in particural case. So far I end with something like this, but dont know how to use the groups properly.\r\n\r\nEntity class\r\n\r\n    @Entity\r\n    public class User{\r\n    \t@NotBlank\t\t\t\t\t\t//This should go FIRST\r\n    \t@Email(regexp = &quot;xxxxx&quot;)\t\t//This should go SECOND\r\n    \t@UniqueEmail\t\t\t\t\t//This should go THIRD but only on create\r\n    \tprivate String email;\r\n    \t\r\n    \t@NotBlank\t\t\t\t\t\t//This should go FIRST\r\n    \t@Length(min = 8)\t\t\t\t//This should go FIRST\r\n    \tprivate String password;\r\n    }\r\n\r\nService class\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(OnCreate.class) User user){...}\r\n    \tpublic void updateUser(User user){...}\r\n    }\r\n\r\nValidation groups\r\n\r\n    public class UserValidationGroups {\r\n    \t@GroupSequence({Default.class, EmailFormatValid.class, UniqueEmail.class})\r\n    \tpublic interface UserValidationGroupSeqence{}\r\n    \tpublic interface UniqueEmail{}\r\n    \tpublic interface EmailFormatValid{}\r\n    \t\r\n    }\r\n\r\nHow can I make these validation to work the way as commented?","title":"Bean validation - Combining validation groups and group sequence","body":"<p>I have simple entity with some validations. I want some of them to run in certain order, and other to run only in particural case. So far I end with something like this, but dont know how to use the groups properly.</p>\n<p>Entity class</p>\n<pre><code>@Entity\npublic class User{\n    @NotBlank                       //This should go FIRST\n    @Email(regexp = &quot;xxxxx&quot;)        //This should go SECOND\n    @UniqueEmail                    //This should go THIRD but only on create\n    private String email;\n    \n    @NotBlank                       //This should go FIRST\n    @Length(min = 8)                //This should go FIRST\n    private String password;\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(OnCreate.class) User user){...}\n    public void updateUser(User user){...}\n}\n</code></pre>\n<p>Validation groups</p>\n<pre><code>public class UserValidationGroups {\n    @GroupSequence({Default.class, EmailFormatValid.class, UniqueEmail.class})\n    public interface UserValidationGroupSeqence{}\n    public interface UniqueEmail{}\n    public interface EmailFormatValid{}\n    \n}\n</code></pre>\n<p>How can I make these validation to work the way as commented?</p>\n"},{"tags":["java","mockito","sap-commerce-cloud","hybris-data-hub"],"comments":[{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1675719408,"post_id":75365243,"comment_id":132986042,"body_markdown":"Have you tried performing &quot;Update Running System&quot; and &quot;Clear orphan types&quot; in hac?","body":"Have you tried performing &quot;Update Running System&quot; and &quot;Clear orphan types&quot; in hac?"},{"owner":{"account_id":18052411,"reputation":55,"user_id":13121754,"display_name":"Hero Hamada"},"score":0,"creation_date":1675757209,"post_id":75365243,"comment_id":132992003,"body_markdown":"@FelixSchildmann, yes I&#39;ve tried both of them, hac says there is no orphan type","body":"@FelixSchildmann, yes I&#39;ve tried both of them, hac says there is no orphan type"}],"answers":[{"tags":[],"owner":{"account_id":3644469,"reputation":784,"user_id":3037847,"display_name":"Ricardo Machado"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675761139,"creation_date":1675761139,"answer_id":75371094,"question_id":75365243,"body_markdown":"If you want to use ProductData from items.xml you should be using ProductDataModel instead of ProductData. ","title":"Hybris. Couldn&#39;t run any test because of NPE exception Item.getImplementation() not found","body":"<p>If you want to use ProductData from items.xml you should be using ProductDataModel instead of ProductData.</p>\n"}],"owner":{"account_id":18052411,"reputation":55,"user_id":13121754,"display_name":"Hero Hamada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75371094,"answer_count":1,"score":1,"last_activity_date":1676024567,"creation_date":1675708138,"question_id":75365243,"body_markdown":"I run Hybris locally. But I&#39;m getting error while running tests:\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;de.hybris.platform.jalo.Item$ItemImpl.isLocalCachingSupported()&quot; because the return value of &quot;de.hybris.platform.jalo.Item.getImplementation()&quot; is null\r\n\r\nat `ProductData` setter code lines:\r\n\r\n    \tpublic void setCode(final SessionContext ctx, final String value)\r\n\t{\r\n\t\tsetProperty(ctx, &quot;code&quot;.intern(),value);\r\n\t}\r\n\t\r\n\r\nIntegration and Unit test are same returns errors.\r\n \r\nBefore that `ant yunitinit` helped me. But this time I even have tried `ant clean all`, `ant initialize` but no changings.\r\n\r\nIt&#39;s my added item type. It generated correct table and class.\r\n\r\n    \t\t&lt;itemtype code=&quot;ProductData&quot; autocreate=&quot;true&quot; generate=&quot;true&quot;&gt;\r\n\t\t\t&lt;deployment table=&quot;ProductData&quot; typecode=&quot;30800&quot;/&gt;\r\n\t\t\t&lt;attributes&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;weight&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;height&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;length&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;width&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t&lt;/attributes&gt;\r\n\t\t&lt;/itemtype&gt;\r\n\r\nAnd test class itself:\r\n\r\n    package com.epam.trainingextension.setup.populator;\r\n\r\n    import com.epam.trainingextension.enums.ProductOption;\r\n    import com.epam.trainingextension.jalo.ProductData;\r\n    import de.hybris.bootstrap.annotations.IntegrationTest;\r\n    import de.hybris.bootstrap.annotations.UnitTest;\r\n    import de.hybris.platform.core.Registry;\r\n    import de.hybris.platform.core.model.product.ProductModel;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.Assert.assertNull;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ProductPopulatorTest {\r\n        @InjectMocks\r\n        private ProductPopulator productPopulator;\r\n    \r\n        @Mock\r\n        private ProductModel productModel;\r\n    \r\n        @Test\r\n        public void testPopulate_whenPhysicalDimensionsOptionIsPassed_shouldPopulateWeight()\r\n        {\r\n            when(productModel.getCode()).thenReturn(&quot;productCode&quot;);\r\n            when(productModel.getWeight()).thenReturn(100.0);\r\n    \r\n            final ProductData productData = new ProductData();\r\n            productPopulator.populate(productModel, productData, Collections.singletonList(ProductOption.PHYSICAL_DIMENSIONS));\r\n    \r\n            assertEquals(&quot;productCode&quot;, productData.getCode());\r\n            assertEquals(100.0, productData.getWeight(), 0.0);\r\n        }\r\n    }\r\n\r\nTest was green, but I&#39;ve changed declaration of `ProductData`. I used `items.xml` instead of just usual declaration of class in packages. I thought maybe here was left orphans, but I don&#39;t have one. \r\n\r\n**Cause of error was that I had already ProductData in db, and I removed declaration of ProductData from items.xml how suggested in answers, and declared class instead**","title":"Hybris. Couldn&#39;t run any test because of NPE exception Item.getImplementation() not found","body":"<p>I run Hybris locally. But I'm getting error while running tests:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;de.hybris.platform.jalo.Item$ItemImpl.isLocalCachingSupported()&quot; because the return value of &quot;de.hybris.platform.jalo.Item.getImplementation()&quot; is null</p>\n</blockquote>\n<p>at <code>ProductData</code> setter code lines:</p>\n<pre><code>    public void setCode(final SessionContext ctx, final String value)\n{\n    setProperty(ctx, &quot;code&quot;.intern(),value);\n}\n</code></pre>\n<p>Integration and Unit test are same returns errors.</p>\n<p>Before that <code>ant yunitinit</code> helped me. But this time I even have tried <code>ant clean all</code>, <code>ant initialize</code> but no changings.</p>\n<p>It's my added item type. It generated correct table and class.</p>\n<pre><code>        &lt;itemtype code=&quot;ProductData&quot; autocreate=&quot;true&quot; generate=&quot;true&quot;&gt;\n        &lt;deployment table=&quot;ProductData&quot; typecode=&quot;30800&quot;/&gt;\n        &lt;attributes&gt;\n            &lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;weight&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;height&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;length&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;width&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n        &lt;/attributes&gt;\n    &lt;/itemtype&gt;\n</code></pre>\n<p>And test class itself:</p>\n<pre><code>package com.epam.trainingextension.setup.populator;\n\nimport com.epam.trainingextension.enums.ProductOption;\nimport com.epam.trainingextension.jalo.ProductData;\nimport de.hybris.bootstrap.annotations.IntegrationTest;\nimport de.hybris.bootstrap.annotations.UnitTest;\nimport de.hybris.platform.core.Registry;\nimport de.hybris.platform.core.model.product.ProductModel;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\nimport java.util.Collections;\nimport java.util.concurrent.TimeUnit;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNull;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class ProductPopulatorTest {\n    @InjectMocks\n    private ProductPopulator productPopulator;\n\n    @Mock\n    private ProductModel productModel;\n\n    @Test\n    public void testPopulate_whenPhysicalDimensionsOptionIsPassed_shouldPopulateWeight()\n    {\n        when(productModel.getCode()).thenReturn(&quot;productCode&quot;);\n        when(productModel.getWeight()).thenReturn(100.0);\n\n        final ProductData productData = new ProductData();\n        productPopulator.populate(productModel, productData, Collections.singletonList(ProductOption.PHYSICAL_DIMENSIONS));\n\n        assertEquals(&quot;productCode&quot;, productData.getCode());\n        assertEquals(100.0, productData.getWeight(), 0.0);\n    }\n}\n</code></pre>\n<p>Test was green, but I've changed declaration of <code>ProductData</code>. I used <code>items.xml</code> instead of just usual declaration of class in packages. I thought maybe here was left orphans, but I don't have one.</p>\n<p><strong>Cause of error was that I had already ProductData in db, and I removed declaration of ProductData from items.xml how suggested in answers, and declared class instead</strong></p>\n"},{"tags":["java","dns","java-web-start"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1322829639,"post_id":6140872,"comment_id":10307670,"body_markdown":"Note, that it is necessary for enforcement of the same-origin policy that DNS mappings are pinned.","body":"Note, that it is necessary for enforcement of the same-origin policy that DNS mappings are pinned."}],"answers":[{"comments":[{"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"score":0,"creation_date":1306427896,"post_id":6141273,"comment_id":7130755,"body_markdown":"It&#39;s a security property, not a system one. Also, setting the property isn&#39;t the issue. It&#39;s being ignored. Thanks.","body":"It&#39;s a security property, not a system one. Also, setting the property isn&#39;t the issue. It&#39;s being ignored. Thanks."}],"tags":[],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306424544,"creation_date":1306424544,"answer_id":6141273,"question_id":6140872,"body_markdown":"Are you running this with javaws? If you are, have you tried\r\n\r\n    javaws -J-Dnetworkaddress.cache.ttl=0 yourapp.jnlp","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>Are you running this with javaws? If you are, have you tried</p>\n\n<pre><code>javaws -J-Dnetworkaddress.cache.ttl=0 yourapp.jnlp\n</code></pre>\n"},{"comments":[{"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"score":0,"creation_date":1323100717,"post_id":8304052,"comment_id":10354247,"body_markdown":"I haven&#39;t tested this out yet, but since you&#39;ve, at a minimum, given me more information, you get the bounty. Thank you.","body":"I haven&#39;t tested this out yet, but since you&#39;ve, at a minimum, given me more information, you get the bounty. Thank you."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1323103861,"post_id":8304052,"comment_id":10355364,"body_markdown":"@Marcus, the info should be valid for Java6 (or 7) since you&#39;re using webstart I assumed Java6.","body":"@Marcus, the info should be valid for Java6 (or 7) since you&#39;re using webstart I assumed Java6."}],"tags":[],"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322555292,"creation_date":1322524285,"answer_id":8304052,"question_id":6140872,"body_markdown":"The simple answer is that `sun.net.InetAddressCachePolicy` is initialized only once in the static{} initializer taking into account the property you specify. Webstart loader obviously uses the class, hence it doesn&#39;t take your value.\r\n\r\nHowever, since the property may not be initialized you can use `InetAddressCachePolicy.setIfNotSet(InetAddressCachePolicy.NEVER)`.\r\n\r\nAlternatively there is a system property to add to the jnlp:\r\n*&lt; property name=&quot;com.sun.net.inetaddr.ttl&quot; value=&quot;0&quot; /&gt;*\r\n\r\nIf it is specified already by the webstart (have not tested) you can resort only on hacking via reflection `Field f= InetAddressCachePolicy.getDeclaredField(&quot;cachePolicy&quot;); f.setAccessible(true); f.setInt(0);` *which may or may not work.*\r\n\r\nGood luck and happy hacking!","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>The simple answer is that <code>sun.net.InetAddressCachePolicy</code> is initialized only once in the static{} initializer taking into account the property you specify. Webstart loader obviously uses the class, hence it doesn't take your value.</p>\n\n<p>However, since the property may not be initialized you can use <code>InetAddressCachePolicy.setIfNotSet(InetAddressCachePolicy.NEVER)</code>.</p>\n\n<p>Alternatively there is a system property to add to the jnlp:\n<em>&lt; property name=\"com.sun.net.inetaddr.ttl\" value=\"0\" /></em></p>\n\n<p>If it is specified already by the webstart (have not tested) you can resort only on hacking via reflection <code>Field f= InetAddressCachePolicy.getDeclaredField(\"cachePolicy\"); f.setAccessible(true); f.setInt(0);</code> <em>which may or may not work.</em></p>\n\n<p>Good luck and happy hacking!</p>\n"}],"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2585,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1676024551,"creation_date":1306422696,"question_id":6140872,"body_markdown":"I am able to tell the Java DNS resolver not to cache like this:\r\n\r\n    java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;0&quot;);\r\n\r\nThis works just fine when the program is run directly from the JRE, however, when run from Web Start, this setting seems to be ignored, and it caches forever. I don&#39;t get a SecurityException.\r\n\r\nHowever, if I set the security manager to null, the setting will work in Web Start:\r\n\r\n    System.setSecurityManager(null);\r\n\r\nDoes anybody know a way to enable this property in Web Start without turning off the Security Manager? Also, if you can simply shed more light on what&#39;s going on, I&#39;d appreciate it.","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>I am able to tell the Java DNS resolver not to cache like this:</p>\n\n<pre><code>java.security.Security.setProperty(\"networkaddress.cache.ttl\", \"0\");\n</code></pre>\n\n<p>This works just fine when the program is run directly from the JRE, however, when run from Web Start, this setting seems to be ignored, and it caches forever. I don't get a SecurityException.</p>\n\n<p>However, if I set the security manager to null, the setting will work in Web Start:</p>\n\n<pre><code>System.setSecurityManager(null);\n</code></pre>\n\n<p>Does anybody know a way to enable this property in Web Start without turning off the Security Manager? Also, if you can simply shed more light on what's going on, I'd appreciate it.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5000707,"reputation":1097,"user_id":4019835,"display_name":"Bouramas"},"score":0,"creation_date":1676012878,"post_id":75406234,"comment_id":133055035,"body_markdown":"Try this one: `&lt;dependency&gt;\n    &lt;groupId&gt;javax.sql&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.sql-api&lt;/artifactId&gt;\n    &lt;version&gt;XX.XX.XX&lt;/version&gt;\n&lt;/dependency&gt;`","body":"Try this one: <code>&lt;dependency&gt;     &lt;groupId&gt;javax.sql&lt;&#47;groupId&gt;     &lt;artifactId&gt;javax.sql-api&lt;&#47;artifactId&gt;     &lt;version&gt;XX.XX.XX&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676012912,"post_id":75406234,"comment_id":133055047,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":26598430,"reputation":1,"user_id":20220402,"display_name":"Galen"},"score":0,"creation_date":1676009824,"post_id":75406495,"comment_id":133054551,"body_markdown":"thanks, but the problem  is not resolved. PS, my db is postgresql.","body":"thanks, but the problem  is not resolved. PS, my db is postgresql."}],"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675997774,"creation_date":1675997774,"answer_id":75406495,"question_id":75406234,"body_markdown":"try to import this maven library\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<p>try to import this maven library</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676325075,"post_id":75409752,"comment_id":133111293,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75409752/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26598430,"reputation":1,"user_id":20220402,"display_name":"Galen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024526,"creation_date":1676024526,"answer_id":75409752,"question_id":75406234,"body_markdown":"it should be jre compatibility issue, jre1.8 is ok","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<p>it should be jre compatibility issue, jre1.8 is ok</p>\n"}],"owner":{"account_id":26598430,"reputation":1,"user_id":20220402,"display_name":"Galen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676024526,"creation_date":1675994002,"question_id":75406234,"body_markdown":"\r\n```\r\npackage com.test.redis.config;\r\n\r\nimport com.alibaba.druid.pool.DruidDataSource;\r\nimport com.alibaba.druid.support.http.StatViewServlet;\r\nimport com.alibaba.druid.support.http.WebStatFilter;\r\n \r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.SQLException;\r\n```\r\n\r\nIDEA SpringTooSuit4, maven pom.xml config jpa. \r\n\r\n-----------\r\njavax.sql.DataSource,java.sql.SQLException can not be resolved.\r\n\r\nno idea ............\r\nexpect import success","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<pre><code>package com.test.redis.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport com.alibaba.druid.support.http.StatViewServlet;\nimport com.alibaba.druid.support.http.WebStatFilter;\n \n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\n</code></pre>\n<p>IDEA SpringTooSuit4, maven pom.xml config jpa.</p>\n<hr />\n<p>javax.sql.DataSource,java.sql.SQLException can not be resolved.</p>\n<p>no idea ............\nexpect import success</p>\n"},{"tags":["java","stdin","readline","ioexception"],"answers":[{"tags":[],"owner":{"account_id":2248,"reputation":7914,"user_id":3105,"accept_rate":86,"display_name":"Marcin"},"comment_count":0,"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1496030531,"creation_date":1266758329,"answer_id":2305980,"question_id":2305966,"body_markdown":"You should add &quot;throws IOException&quot; to your main method:\r\n\r\n`public static void main(String[] args) throws IOException {`   \r\n\r\nYou can read a bit more about checked exceptions (which are specific to Java) in [JLS][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>You should add \"throws IOException\" to your main method:</p>\n\n<p><code>public static void main(String[] args) throws IOException {</code>   </p>\n\n<p>You can read a bit more about checked exceptions (which are specific to Java) in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html\" rel=\"noreferrer\">JLS</a>.</p>\n"},{"tags":[],"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1266758629,"creation_date":1266758629,"answer_id":2305992,"question_id":2305966,"body_markdown":"Java has a feature called &quot;checked exceptions&quot;. That means that there are certain kinds of exceptions, namely those that subclass Exception but not RuntimeException, such that if a method may throw them, it *must* list them in its throws declaration, say: void readData() throws IOException. IOException is one of those.\r\n\r\nThus, when you are calling a method that lists IOException in its throws declaration, you must either list it in your own throws declaration or catch it.\r\n\r\nThe rationale for the presence of checked exceptions is that for some kinds of exceptions, you must not ignore the fact that they may happen, because their happening is quite a regular situation, not a program error. So, the compiler helps you not to forget about the possibility of such an exception being raised and requires you to handle it in some way.\r\n\r\nHowever, not all checked exception classes in Java standard library fit under this rationale, but that&#39;s a totally different topic.","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Java has a feature called \"checked exceptions\". That means that there are certain kinds of exceptions, namely those that subclass Exception but not RuntimeException, such that if a method may throw them, it <em>must</em> list them in its throws declaration, say: void readData() throws IOException. IOException is one of those.</p>\n\n<p>Thus, when you are calling a method that lists IOException in its throws declaration, you must either list it in your own throws declaration or catch it.</p>\n\n<p>The rationale for the presence of checked exceptions is that for some kinds of exceptions, you must not ignore the fact that they may happen, because their happening is quite a regular situation, not a program error. So, the compiler helps you not to forget about the possibility of such an exception being raised and requires you to handle it in some way.</p>\n\n<p>However, not all checked exception classes in Java standard library fit under this rationale, but that's a totally different topic.</p>\n"},{"tags":[],"owner":{"account_id":79066,"reputation":529,"user_id":224509,"accept_rate":40,"display_name":"Parth"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1445609852,"creation_date":1266764503,"answer_id":2306266,"question_id":2305966,"body_markdown":"Try again with this code snippet:\r\n\r\n    import java.io.*;\r\n\r\n    class IO {\r\n        public static void main(String[] args) {    \r\n            try {\r\n                BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \r\n                String userInput;    \r\n                while ((userInput = stdIn.readLine()) != null) {\r\n                    System.out.println(userInput);\r\n                }\r\n            } catch(IOException ie) {\r\n                ie.printStackTrace();\r\n            }   \r\n        }\r\n    }\r\n\r\n\r\n\r\nUsing `try-catch-finally` is better than using `throws`. Finding errors and debugging are easier when you use `try-catch-finally`.","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Try again with this code snippet:</p>\n\n<pre><code>import java.io.*;\n\nclass IO {\n    public static void main(String[] args) {    \n        try {\n            BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \n            String userInput;    \n            while ((userInput = stdIn.readLine()) != null) {\n                System.out.println(userInput);\n            }\n        } catch(IOException ie) {\n            ie.printStackTrace();\n        }   \n    }\n}\n</code></pre>\n\n<p>Using <code>try-catch-finally</code> is better than using <code>throws</code>. Finding errors and debugging are easier when you use <code>try-catch-finally</code>.</p>\n"},{"tags":[],"owner":{"account_id":2246708,"reputation":17,"user_id":1979895,"display_name":"vivz"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1358754295,"creation_date":1358731672,"answer_id":14431324,"question_id":2305966,"body_markdown":"Reading input from keyboard is analogous to downloading files from the internet, the java io system opens connections with the source of data to be read using InputStream or Reader, you have to handle a situation where the connection can break by using IOExceptions\r\n\r\nIf you want to know exactly what it means to work with InputStreams and BufferedReader [this video][1] shows it\r\n\r\n\r\n[1]: http://www.youtube.com/watch?v=tXsZHUtmNs4","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Reading input from keyboard is analogous to downloading files from the internet, the java io system opens connections with the source of data to be read using InputStream or Reader, you have to handle a situation where the connection can break by using IOExceptions</p>\n\n<p>If you want to know exactly what it means to work with InputStreams and BufferedReader <a href=\"http://www.youtube.com/watch?v=tXsZHUtmNs4\" rel=\"nofollow\">this video</a> shows it</p>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518017099,"creation_date":1518017099,"answer_id":48667399,"question_id":2305966,"body_markdown":"add &quot;throws IOException&quot; to your method like this:\r\n\r\n \r\n\r\n    public static void main(String args[]) throws  IOException{\r\n    \r\n            FileReader reader=new FileReader(&quot;db.properties&quot;);\r\n    \r\n            Properties p=new Properties();\r\n            p.load(reader);\r\n    \r\n            \r\n        }","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>add \"throws IOException\" to your method like this:</p>\n\n<pre><code>public static void main(String args[]) throws  IOException{\n\n        FileReader reader=new FileReader(\"db.properties\");\n\n        Properties p=new Properties();\n        p.load(reader);\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6498173,"reputation":908,"user_id":5130800,"display_name":"KoKlA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614353315,"creation_date":1614353315,"answer_id":66388540,"question_id":2305966,"body_markdown":"I got the Error even though i was catching the exception.\r\n\r\n        try {\r\n            bitmap = BitmapFactory.decodeStream(getAssets().open(&quot;kitten.jpg&quot;));\r\n        } catch (IOException e) {\r\n            Log.e(&quot;blabla&quot;, &quot;Error&quot;, e);\r\n            finish();\r\n        }\r\n\r\n\r\n\r\n\r\nIssue was that the IOException wasn&#39;t imported\r\n\r\n    import java.io.IOException;\r\n","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>I got the Error even though i was catching the exception.</p>\n<pre><code>    try {\n        bitmap = BitmapFactory.decodeStream(getAssets().open(&quot;kitten.jpg&quot;));\n    } catch (IOException e) {\n        Log.e(&quot;blabla&quot;, &quot;Error&quot;, e);\n        finish();\n    }\n</code></pre>\n<p>Issue was that the IOException wasn't imported</p>\n<pre><code>import java.io.IOException;\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223322,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":2305980,"answer_count":6,"score":46,"last_activity_date":1676023610,"creation_date":1266758047,"question_id":2305966,"body_markdown":"I have the following simple code:\r\n\r\n    import java.io.*;\r\n    class IO {\r\n        public static void main(String[] args) {    \r\n    \t   BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \r\n    \t   String userInput;\t\r\n    \t   while ((userInput = stdIn.readLine()) != null) {\r\n    \t      System.out.println(userInput);\r\n    \t   }\r\n        }\r\n    }\r\n\r\nAnd I get the following error message:\r\n\r\n    ----------\r\n    1. ERROR in io.java (at line 10)\r\n    \twhile ((userInput = stdIn.readLine()) != null) {\r\n    \t                    ^^^^^^^^^^^^^^^^\r\n    Unhandled exception type IOException\r\n    ----------\r\n    1 problem (1 error)roman@roman-laptop:~/work/java$ mcedit io.java \r\n\r\nDoes anybody have any ideas why? I just tried to simplify the code given on the sum web site ([here][1]). Did I oversimplify?\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/networking/sockets/readingWriting.html","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>I have the following simple code:</p>\n\n<pre><code>import java.io.*;\nclass IO {\n    public static void main(String[] args) {    \n       BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \n       String userInput;    \n       while ((userInput = stdIn.readLine()) != null) {\n          System.out.println(userInput);\n       }\n    }\n}\n</code></pre>\n\n<p>And I get the following error message:</p>\n\n<pre><code>----------\n1. ERROR in io.java (at line 10)\n    while ((userInput = stdIn.readLine()) != null) {\n                        ^^^^^^^^^^^^^^^^\nUnhandled exception type IOException\n----------\n1 problem (1 error)roman@roman-laptop:~/work/java$ mcedit io.java \n</code></pre>\n\n<p>Does anybody have any ideas why? I just tried to simplify the code given on the sum web site (<a href=\"http://java.sun.com/docs/books/tutorial/networking/sockets/readingWriting.html\" rel=\"noreferrer\">here</a>). Did I oversimplify?</p>\n"},{"tags":["java","itext"],"owner":{"account_id":20146453,"reputation":1,"user_id":14774862,"display_name":"eldoxz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676023547,"creation_date":1676023324,"question_id":75409523,"body_markdown":"How to add all the content of a pdf to a second pdf that has a table. I want all the content to be placed in one cell. I am using the itext library. \r\n\r\nI tried the code as below but it only pastes the content of the pdf without keeping the table:\r\n```\r\nPdfReader reader2 = new PdfReader(outputFile);\r\n\r\nPdfContentByte cb1 = writer.getDirectContent();\r\nfor (int i = 1; i &lt;= reader2.getNumberOfPages(); i++) {\r\n    document.newPage();\r\n    PdfImportedPage page = writer.getImportedPage(reader2, i);\r\n    cb1.addTemplate(page,0,0);\r\n}\r\n```\r\n\r\nI want it to look like this: \r\n```none\r\n| Table A        | \r\n| -------------- | \r\n| Pdf 1 content  |\r\n| Pdf 1 content  |\r\n| Pdf 2 content  |\r\n| Pdf 1 content  |\r\n```","title":"Adding pdf content to the table","body":"<p>How to add all the content of a pdf to a second pdf that has a table. I want all the content to be placed in one cell. I am using the itext library.</p>\n<p>I tried the code as below but it only pastes the content of the pdf without keeping the table:</p>\n<pre><code>PdfReader reader2 = new PdfReader(outputFile);\n\nPdfContentByte cb1 = writer.getDirectContent();\nfor (int i = 1; i &lt;= reader2.getNumberOfPages(); i++) {\n    document.newPage();\n    PdfImportedPage page = writer.getImportedPage(reader2, i);\n    cb1.addTemplate(page,0,0);\n}\n</code></pre>\n<p>I want it to look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>| Table A        | \n| -------------- | \n| Pdf 1 content  |\n| Pdf 1 content  |\n| Pdf 2 content  |\n| Pdf 1 content  |\n</code></pre>\n"},{"tags":["javascript","java","overflow","int32"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676022838,"post_id":75409135,"comment_id":133057663,"body_markdown":"Related question that might help: https://stackoverflow.com/q/30678303/5133585","body":"Related question that might help: <a href=\"https://stackoverflow.com/q/30678303/5133585\">stackoverflow.com/q/30678303/5133585</a>"}],"answers":[{"comments":[{"owner":{"account_id":3780411,"reputation":45,"user_id":3140057,"display_name":"airone"},"score":0,"creation_date":1676025919,"post_id":75409370,"comment_id":133058577,"body_markdown":"Thank you for the detailed explaination !","body":"Thank you for the detailed explaination !"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676022662,"creation_date":1676022662,"answer_id":75409370,"question_id":75409135,"body_markdown":"I can&#39;t provide a definitive answer as to exactly why you get these exact numbers; but consider that all numbers in JS are doubles.\r\n\r\nSo, whereas `current * 0x08088405` is done using integer arithmetic in Java, `a[0]*a[1]` is done using double arithmetic in JS, so these intermediate results are different; and the limited precision of a double means that adding 1 to that doesn&#39;t actually change the value:\r\n\r\n```\r\nconsole.log(a[0]*a[1]) =&gt; -215607868985706270\r\nconsole.log(a[0]*a[1] + a[2]) =&gt; = -215607868985706270\r\n```\r\n\r\nCompare this to Java, where integer arithmetic is used:\r\n\r\n```\r\nint[] a = { -1599751945, 0x08088405, 1};\r\nSystem.out.println(a[0]*a[1])          =&gt; 374601939\r\nSystem.out.println(a[0]*a[1] + a[2])   =&gt; 374601940\r\n```\r\n\r\nIf we make Java do this in double arithmetic:\r\n\r\n```\r\ndouble[] a = { -1599751945, 0x08088405, 1};\r\nSystem.out.println(a[0]*a[1]);         =&gt; -2.15607868985706272E17\r\nSystem.out.println(a[0]*a[1] + a[2]);  =&gt; -2.15607868985706272E17\r\n```\r\n\r\nYou can see that this is _almost_ the same, but differs in the least significant digit:\r\n\r\n```\r\n-215607868985706270  // JS\r\n-215607868985706272  // Java\r\n```\r\n\r\nI don&#39;t know why there is such a difference here.","title":"Int32 computation difference between Java and JavaScript","body":"<p>I can't provide a definitive answer as to exactly why you get these exact numbers; but consider that all numbers in JS are doubles.</p>\n<p>So, whereas <code>current * 0x08088405</code> is done using integer arithmetic in Java, <code>a[0]*a[1]</code> is done using double arithmetic in JS, so these intermediate results are different; and the limited precision of a double means that adding 1 to that doesn't actually change the value:</p>\n<pre><code>console.log(a[0]*a[1]) =&gt; -215607868985706270\nconsole.log(a[0]*a[1] + a[2]) =&gt; = -215607868985706270\n</code></pre>\n<p>Compare this to Java, where integer arithmetic is used:</p>\n<pre><code>int[] a = { -1599751945, 0x08088405, 1};\nSystem.out.println(a[0]*a[1])          =&gt; 374601939\nSystem.out.println(a[0]*a[1] + a[2])   =&gt; 374601940\n</code></pre>\n<p>If we make Java do this in double arithmetic:</p>\n<pre><code>double[] a = { -1599751945, 0x08088405, 1};\nSystem.out.println(a[0]*a[1]);         =&gt; -2.15607868985706272E17\nSystem.out.println(a[0]*a[1] + a[2]);  =&gt; -2.15607868985706272E17\n</code></pre>\n<p>You can see that this is <em>almost</em> the same, but differs in the least significant digit:</p>\n<pre><code>-215607868985706270  // JS\n-215607868985706272  // Java\n</code></pre>\n<p>I don't know why there is such a difference here.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676022807,"creation_date":1676022807,"answer_id":75409399,"question_id":75409135,"body_markdown":"Floating point numbers only support precision up to a specific number of digits. JavaScript promotes numbers larger than 32 bits to floating point numbers.\r\n\r\nJava is &quot;more correct&quot; here.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // -215607868985706285 is the 64 bit result of your multiplication\r\n    console.log(-215607868985706285); // will print -215607868985706285\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSee https://stackoverflow.com/questions/588004/is-floating-point-math-broken for a general discussion of this topic.","title":"Int32 computation difference between Java and JavaScript","body":"<p>Floating point numbers only support precision up to a specific number of digits. JavaScript promotes numbers larger than 32 bits to floating point numbers.</p>\n<p>Java is &quot;more correct&quot; here.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// -215607868985706285 is the 64 bit result of your multiplication\nconsole.log(-215607868985706285); // will print -215607868985706285</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>See <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a> for a general discussion of this topic.</p>\n"},{"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676023381,"creation_date":1676023381,"answer_id":75409531,"question_id":75409135,"body_markdown":"Use Math.imul() in JavaScript. That should produce the correct result.\r\n\r\n    const a = new Int32Array(4)\r\n\r\n    a[0] = -1599751945\r\n    a[1] = 0x08088405\r\n    a[2] = 1\r\n    a[3] = Math.imul(a[0], a[1]) + a[2]\r\n\r\n    console.log(&#39;a[3] = &#39; + a[3])\r\n\r\nAdditional details as to why can be found [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21865422/14359869","title":"Int32 computation difference between Java and JavaScript","body":"<p>Use Math.imul() in JavaScript. That should produce the correct result.</p>\n<pre><code>const a = new Int32Array(4)\n\na[0] = -1599751945\na[1] = 0x08088405\na[2] = 1\na[3] = Math.imul(a[0], a[1]) + a[2]\n\nconsole.log('a[3] = ' + a[3])\n</code></pre>\n<p>Additional details as to why can be found <a href=\"https://stackoverflow.com/a/21865422/14359869\">here</a>.</p>\n"}],"owner":{"account_id":3780411,"reputation":45,"user_id":3140057,"display_name":"airone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1676025214,"accepted_answer_id":75409531,"answer_count":3,"score":4,"last_activity_date":1676023465,"creation_date":1676021314,"question_id":75409135,"body_markdown":"I need to rewrite some legacy Java code performing arithmetic transformations from Java to TypeScript/JavaScript. The problem is the legacy code uses the `int` Java type (signed 32-bits) and relies on overflows. I almost got what I want using Int32Array in JavaScript, but I still have a difference I can&#39;t explain. Look below.\r\n\r\nJava:\r\n\r\n```java\r\nint current = -1599751945;\r\nint next = current * 0x08088405 + 1;\r\nSystem.out.println(&quot;next = &quot; + next);\r\n```\r\n\r\nOutput: next = **374601940**\r\n\r\nJavascript:\r\n\r\n```js\r\nconst a = new Int32Array(4)\r\n\r\na[0] = -1599751945\r\na[1] = 0x08088405\r\na[2] = 1\r\na[3] = a[0]*a[1] + a[2]\r\n\r\nconsole.log(&#39;a[3] = &#39; + a[3])\r\n```\r\n\r\nOutput: a[3] = **374601952**\r\n\r\nCan someone explain the difference? And how can I get same result in JavaScript? I tried shift operations, coerce with |0, methods to convert etc., but best result is the one above.\r\n\r\n","title":"Int32 computation difference between Java and JavaScript","body":"<p>I need to rewrite some legacy Java code performing arithmetic transformations from Java to TypeScript/JavaScript. The problem is the legacy code uses the <code>int</code> Java type (signed 32-bits) and relies on overflows. I almost got what I want using Int32Array in JavaScript, but I still have a difference I can't explain. Look below.</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int current = -1599751945;\nint next = current * 0x08088405 + 1;\nSystem.out.println(&quot;next = &quot; + next);\n</code></pre>\n<p>Output: next = <strong>374601940</strong></p>\n<p>Javascript:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const a = new Int32Array(4)\n\na[0] = -1599751945\na[1] = 0x08088405\na[2] = 1\na[3] = a[0]*a[1] + a[2]\n\nconsole.log('a[3] = ' + a[3])\n</code></pre>\n<p>Output: a[3] = <strong>374601952</strong></p>\n<p>Can someone explain the difference? And how can I get same result in JavaScript? I tried shift operations, coerce with |0, methods to convert etc., but best result is the one above.</p>\n"},{"tags":["java","google-maps","ssl","google-app-engine","mocking"],"owner":{"account_id":18718450,"reputation":175,"user_id":13646924,"display_name":"TaeXtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676022747,"creation_date":1676022747,"question_id":75409390,"body_markdown":"I currently working on an app that need to call google maps fleet engine gRPC API. The App is implemented in Java 11 and connecting to google engine using [Fleet Engine Auth][1]. And right now, I try to create a mock fleet engine server using [Camouflage][2] API simulation tools that support gRPC. So far, the mock server is work when I use it with Postman. But when I try to use it with the app, the app fails to connect with the mock server. Then, I enable TLS in mock server using certificate and key that I generate using JDK keytool and openssl. After putting cert and key files into the mock and setting app config to match with the mock the app still won&#39;t connect to the mock server.\r\n\r\nIs there an alternative way to mocking google maps fleet engine gRPC API?\r\nOr what I need to do to set up a mock properly?\r\n\r\nError message when I am using mock server with TLS disable.\r\n```\r\ncom.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\r\n\tat com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\r\n\tat com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\r\n\tat com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\r\n\tat com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\r\n\tat com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\r\n\tat com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n\t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n\t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n\t\tat google.maps.fleetengine.v1.TripServiceClient.createTrip(TripServiceClient.java:178)\r\n\t\tat th.co.rbh.expodrd.services.proxy.TripServiceProxy.createTrip(TripServiceProxy.java:23)\r\n\t\tat th.co.rbh.expodrd.services.TripService.postTripNew(TripService.java:169)\r\n\t\tat th.co.rbh.expodrd.services.TripService$$FastClassBySpringCGLIB$$114d2f28.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\t\tat th.co.rbh.expodrd.services.TripService$$EnhancerBySpringCGLIB$$9e7db346.postTripNew(&lt;generated&gt;)\r\n\t\tat th.co.rbh.expodrd.controllers.TripController.postTrip(TripController.java:38)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat th.co.rbh.library.filter.RequestFilter.doFilterInternal(RequestFilter.java:117)\r\n\t\tat th.co.rbh.library.filter.RequestFilter.doFilter(RequestFilter.java:96)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat th.co.rbh.library.filter.CustomHeaderFilter.doFilter(CustomHeaderFilter.java:30)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat io.opentracing.contrib.web.servlet.filter.TracingFilter.doFilter(TracingFilter.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\t... 1 common frames omitted\r\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\r\n\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n\t... 3 common frames omitted\r\nCaused by: io.grpc.netty.shaded.io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 000000040000000000\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1254)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 common frames omitted\r\n```\r\n\r\nError when I am using mock with TLS\r\n```\r\ncom.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\r\n\tat com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\r\n\tat com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\r\n\tat com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\r\n\tat com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\r\n\tat com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\r\n\tat com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n\t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n\t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n\t\tat google.maps.fleetengine.v1.VehicleServiceClient.searchVehicles(VehicleServiceClient.java:675)\r\n\t\tat th.co.rbh.expodrd.services.proxy.VehicleServiceProxy.searchVehicles(VehicleServiceProxy.java:32)\r\n\t\tat th.co.rbh.expodrd.services.VehicleSearchService.searchVehicles(VehicleSearchService.java:69)\r\n\t\tat th.co.rbh.expodrd.services.ODRDStateAsync.matchVehicleToTrip(ODRDStateAsync.java:58)\r\n\t\tat th.co.rbh.expodrd.services.ODRDStateAsync$$FastClassBySpringCGLIB$$2f75af1a.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n\t\tat io.opentracing.contrib.spring.cloud.async.TraceAsyncAspect.traceBackgroundThread(TraceAsyncAspect.java:56)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n\t\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\t\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n\t\tat io.opentracing.contrib.concurrent.TracedCallable.call(TracedCallable.java:32)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\t... 3 common frames omitted\r\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\r\n\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n\t... 3 common frames omitted\r\nCaused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1771)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:776)\r\n\tat java.base/javax.net.ssl.SSLEngine.wrap(SSLEngine.java:522)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1079)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:970)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1443)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 common frames omitted\r\nCaused by: java.security.cert.CertificateException: No subject alternative names present\r\n\tat java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142)\r\n\tat java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:101)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:455)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:429)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:283)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:141)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslClientContext$ExtendedTrustManagerVerifyCallback.verify(ReferenceCountedOpenSslClientContext.java:261)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslContext$AbstractCertificateVerifier.verify(ReferenceCountedOpenSslContext.java:700)\r\n\tat io.grpc.netty.shaded.io.netty.internal.tcnative.SSL.readFromSSL(Native Method)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.readPlaintextData(ReferenceCountedOpenSslEngine.java:595)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1202)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1324)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1367)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:206)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1380)\r\n\t... 21 common frames omitted\r\n\tSuppressed: javax.net.ssl.SSLHandshakeException: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED\r\n\t\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1287)\r\n\t\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1248)\r\n\t\t... 25 common frames omitted\r\n```\r\n\r\n  [1]: https://github.com/googlemaps/java-fleetengine-auth\r\n  [2]: https://testinggospels.github.io/camouflage/","title":"Cannot mock Google Maps gRPC service with TLS for Testing","body":"<p>I currently working on an app that need to call google maps fleet engine gRPC API. The App is implemented in Java 11 and connecting to google engine using <a href=\"https://github.com/googlemaps/java-fleetengine-auth\" rel=\"nofollow noreferrer\">Fleet Engine Auth</a>. And right now, I try to create a mock fleet engine server using <a href=\"https://testinggospels.github.io/camouflage/\" rel=\"nofollow noreferrer\">Camouflage</a> API simulation tools that support gRPC. So far, the mock server is work when I use it with Postman. But when I try to use it with the app, the app fails to connect with the mock server. Then, I enable TLS in mock server using certificate and key that I generate using JDK keytool and openssl. After putting cert and key files into the mock and setting app config to match with the mock the app still won't connect to the mock server.</p>\n<p>Is there an alternative way to mocking google maps fleet engine gRPC API?\nOr what I need to do to set up a mock properly?</p>\n<p>Error message when I am using mock server with TLS disable.</p>\n<pre><code>com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\n    at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\n    at com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\n    at com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\n    at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\n    at com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\n    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\n    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at google.maps.fleetengine.v1.TripServiceClient.createTrip(TripServiceClient.java:178)\n        at th.co.rbh.expodrd.services.proxy.TripServiceProxy.createTrip(TripServiceProxy.java:23)\n        at th.co.rbh.expodrd.services.TripService.postTripNew(TripService.java:169)\n        at th.co.rbh.expodrd.services.TripService$$FastClassBySpringCGLIB$$114d2f28.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n        at th.co.rbh.expodrd.services.TripService$$EnhancerBySpringCGLIB$$9e7db346.postTripNew(&lt;generated&gt;)\n        at th.co.rbh.expodrd.controllers.TripController.postTrip(TripController.java:38)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at th.co.rbh.library.filter.RequestFilter.doFilterInternal(RequestFilter.java:117)\n        at th.co.rbh.library.filter.RequestFilter.doFilter(RequestFilter.java:96)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at th.co.rbh.library.filter.CustomHeaderFilter.doFilter(CustomHeaderFilter.java:30)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at io.opentracing.contrib.web.servlet.filter.TracingFilter.doFilter(TracingFilter.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        ... 1 common frames omitted\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n    ... 3 common frames omitted\nCaused by: io.grpc.netty.shaded.io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 000000040000000000\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1254)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 common frames omitted\n</code></pre>\n<p>Error when I am using mock with TLS</p>\n<pre><code>com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\n    at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\n    at com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\n    at com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\n    at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\n    at com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\n    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\n    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at google.maps.fleetengine.v1.VehicleServiceClient.searchVehicles(VehicleServiceClient.java:675)\n        at th.co.rbh.expodrd.services.proxy.VehicleServiceProxy.searchVehicles(VehicleServiceProxy.java:32)\n        at th.co.rbh.expodrd.services.VehicleSearchService.searchVehicles(VehicleSearchService.java:69)\n        at th.co.rbh.expodrd.services.ODRDStateAsync.matchVehicleToTrip(ODRDStateAsync.java:58)\n        at th.co.rbh.expodrd.services.ODRDStateAsync$$FastClassBySpringCGLIB$$2f75af1a.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n        at io.opentracing.contrib.spring.cloud.async.TraceAsyncAspect.traceBackgroundThread(TraceAsyncAspect.java:56)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n        at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n        at io.opentracing.contrib.concurrent.TracedCallable.call(TracedCallable.java:32)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 common frames omitted\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n    ... 3 common frames omitted\nCaused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1771)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:776)\n    at java.base/javax.net.ssl.SSLEngine.wrap(SSLEngine.java:522)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1079)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:970)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1443)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 common frames omitted\nCaused by: java.security.cert.CertificateException: No subject alternative names present\n    at java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142)\n    at java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:101)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:455)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:429)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:283)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:141)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslClientContext$ExtendedTrustManagerVerifyCallback.verify(ReferenceCountedOpenSslClientContext.java:261)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslContext$AbstractCertificateVerifier.verify(ReferenceCountedOpenSslContext.java:700)\n    at io.grpc.netty.shaded.io.netty.internal.tcnative.SSL.readFromSSL(Native Method)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.readPlaintextData(ReferenceCountedOpenSslEngine.java:595)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1202)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1324)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1367)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:206)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1380)\n    ... 21 common frames omitted\n    Suppressed: javax.net.ssl.SSLHandshakeException: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED\n        at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1287)\n        at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1248)\n        ... 25 common frames omitted\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675915437,"post_id":75393193,"comment_id":133031873,"body_markdown":"Why are you letting NPE occur, though?","body":"Why are you letting NPE occur, though?"},{"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"score":0,"creation_date":1675929355,"post_id":75393193,"comment_id":133034200,"body_markdown":"NPE it&#39;s just an example, it can be w/e exception, how can i commit the record when i receive an exception and not process it anymore next time?","body":"NPE it&#39;s just an example, it can be w/e exception, how can i commit the record when i receive an exception and not process it anymore next time?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1675978510,"post_id":75393193,"comment_id":133049926,"body_markdown":"Use [`LogAndContinue`](https://docs.confluent.io/platform/current/streams/developer-guide/config-streams.html#default-deserialization-exception-handler) handler? But that is for deserialization... You still need to try-catch custom processors, and handle runtime exceptions on your own without crashing the JVM. Any &quot;handled/skipped&quot; offsets will be committed automatically.","body":"Use <a href=\"https://docs.confluent.io/platform/current/streams/developer-guide/config-streams.html#default-deserialization-exception-handler\" rel=\"nofollow noreferrer\"><code>LogAndContinue</code></a> handler? But that is for deserialization... You still need to try-catch custom processors, and handle runtime exceptions on your own without crashing the JVM. Any &quot;handled/skipped&quot; offsets will be committed automatically."},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1677127897,"post_id":75393193,"comment_id":133277676,"body_markdown":"Instead of letting it fail, you can just let your processor not send any downstream record, ie, just don&#39;t call `forward()` and let the `process()` method return.","body":"Instead of letting it fail, you can just let your processor not send any downstream record, ie, just don&#39;t call <code>forward()</code> and let the <code>process()</code> method return."}],"answers":[{"comments":[{"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"score":0,"creation_date":1676154177,"post_id":75409389,"comment_id":133081619,"body_markdown":"can you give a example? :d","body":"can you give a example? :d"},{"owner":{"account_id":1106225,"reputation":631,"user_id":1097552,"display_name":"Lucas Brutschy"},"score":1,"creation_date":1676281972,"post_id":75409389,"comment_id":133098848,"body_markdown":"Check the router pattern and the DLQ pattern here: https://sap1ens.com/blog/2019/12/27/kafka-streams-application-patterns/","body":"Check the router pattern and the DLQ pattern here: <a href=\"https://sap1ens.com/blog/2019/12/27/kafka-streams-application-patterns/\" rel=\"nofollow noreferrer\">sap1ens.com/blog/2019/12/27/kafka-streams-application-patter&zwnj;&#8203;ns</a>"},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1677127931,"post_id":75409389,"comment_id":133277682,"body_markdown":"Instead of letting it fail, you can just let your processor not send any downstream record, ie, just don&#39;t call forward() and let the process() method return.","body":"Instead of letting it fail, you can just let your processor not send any downstream record, ie, just don&#39;t call forward() and let the process() method return."}],"tags":[],"owner":{"account_id":1106225,"reputation":631,"user_id":1097552,"display_name":"Lucas Brutschy"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676022743,"creation_date":1676022743,"answer_id":75409389,"question_id":75393193,"body_markdown":"Everything that happens inside `CustomProcessor` is under your control. You can wrap your logic into a `try/catch` and route the results to different streams, e.g. by outputting a &quot;valid&quot; flag and using `KStream.split` to split the result of your processing into a DLQ and the result.","title":"Kafka Stream exceptions won&#39;t trigger commit on the input record","body":"<p>Everything that happens inside <code>CustomProcessor</code> is under your control. You can wrap your logic into a <code>try/catch</code> and route the results to different streams, e.g. by outputting a &quot;valid&quot; flag and using <code>KStream.split</code> to split the result of your processing into a DLQ and the result.</p>\n"}],"owner":{"account_id":24911703,"reputation":71,"user_id":18781174,"display_name":"loredon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75409389,"answer_count":1,"score":0,"last_activity_date":1676022743,"creation_date":1675904319,"question_id":75393193,"body_markdown":"I have a kafka stream that listens on a topic and outputs on another. For ex:\r\n\r\n    KStream&lt;String, String&gt; messageStream = builder.stream(inputTopic)\r\n    KStream&lt;String, String&gt; processedStream = messageStream.process(() -&gt; new CustomProcessor());\r\n    processedStream.to(outputTopic)\r\n\r\n\r\nInside the process method lets say a NPE occurs. I have implemented an uncaught exception handler that will handle this exception and send the record to dead latter queue. Ofc, this stream will close and after it starts again it will start processing the message again ( because it wasn&#39;t commited ). How can i avoid this? How can i commit the record when i receive the exception ?\r\n\r\n","title":"Kafka Stream exceptions won&#39;t trigger commit on the input record","body":"<p>I have a kafka stream that listens on a topic and outputs on another. For ex:</p>\n<pre><code>KStream&lt;String, String&gt; messageStream = builder.stream(inputTopic)\nKStream&lt;String, String&gt; processedStream = messageStream.process(() -&gt; new CustomProcessor());\nprocessedStream.to(outputTopic)\n</code></pre>\n<p>Inside the process method lets say a NPE occurs. I have implemented an uncaught exception handler that will handle this exception and send the record to dead latter queue. Ofc, this stream will close and after it starts again it will start processing the message again ( because it wasn't commited ). How can i avoid this? How can i commit the record when i receive the exception ?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1672230888,"post_id":74939781,"comment_id":132246597,"body_markdown":"There are errors. Don&#39;t ignore them. Look into the _Problems_ view.","body":"There are errors. Don&#39;t ignore them. Look into the <i>Problems</i> view."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672233879,"post_id":74939781,"comment_id":132247346,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1672246614,"post_id":74939781,"comment_id":132251372,"body_markdown":"[You first posted a cropped screenshot showing that there are errors](https://i.stack.imgur.com/qBWzE.png), [now there are only warnings](https://i.stack.imgur.com/Hjzty.png). Did you right-click the project and choose _Maven &gt; Update Project..._ after fixing those errors? Please show your `pom.xml`. Did you specified the Java version and the encoding in your `pom.xml`?","body":"<a href=\"https://i.stack.imgur.com/qBWzE.png\" rel=\"nofollow noreferrer\">You first posted a cropped screenshot showing that there are errors</a>, <a href=\"https://i.stack.imgur.com/Hjzty.png\" rel=\"nofollow noreferrer\">now there are only warnings</a>. Did you right-click the project and choose <i>Maven &gt; Update Project...</i> after fixing those errors? Please show your <code>pom.xml</code>. Did you specified the Java version and the encoding in your <code>pom.xml</code>?"},{"owner":{"account_id":27373224,"reputation":1,"user_id":20878979,"display_name":"Achut Dudhe"},"score":0,"creation_date":1672327494,"post_id":74939781,"comment_id":132268624,"body_markdown":"@howlger please see the updated post I have updated.","body":"@howlger please see the updated post I have updated."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1672329900,"post_id":74939781,"comment_id":132269320,"body_markdown":"What you saying and what you show differ. Right-click the project and choose _Maven &gt; Update Project..._ Are sure you want to use outdated Java 7 in your project (not recommended)? If yes, make sure to have configured a Java 7 JDK in the preferences _Java &gt; Installed JREs_.","body":"What you saying and what you show differ. Right-click the project and choose <i>Maven &gt; Update Project...</i> Are sure you want to use outdated Java 7 in your project (not recommended)? If yes, make sure to have configured a Java 7 JDK in the preferences <i>Java &gt; Installed JREs</i>."}],"answers":[{"comments":[{"owner":{"account_id":27373224,"reputation":1,"user_id":20878979,"display_name":"Achut Dudhe"},"score":0,"creation_date":1672327756,"post_id":74940841,"comment_id":132268693,"body_markdown":"I tried that steps also but its not working can you please elaborate more, I have updated my post. its getting after following above steps.","body":"I tried that steps also but its not working can you please elaborate more, I have updated my post. its getting after following above steps."}],"tags":[],"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672234032,"creation_date":1672234032,"answer_id":74940841,"question_id":74939781,"body_markdown":"Yes, you wont get that. Its just a basic, very simple maven project that eclipse creates for you, so that you can structure the project as you like. \r\n\r\nYou now have 2 options:\r\n1. create all the structuring by yourself\r\n2. Create a new maven project and instead of selecting `select create a simple project`, select `from archetype`, and from there you can you can select what you like (Ex: maven-archetype-quickstart ) according to what you like.\r\n\r\nFor more info on setting up maven project with arch type search in youtube. You will get a lot of video tutorials. ","title":"not getting jre system library in maven project in eclipse java","body":"<p>Yes, you wont get that. Its just a basic, very simple maven project that eclipse creates for you, so that you can structure the project as you like.</p>\n<p>You now have 2 options:</p>\n<ol>\n<li>create all the structuring by yourself</li>\n<li>Create a new maven project and instead of selecting <code>select create a simple project</code>, select <code>from archetype</code>, and from there you can you can select what you like (Ex: maven-archetype-quickstart ) according to what you like.</li>\n</ol>\n<p>For more info on setting up maven project with arch type search in youtube. You will get a lot of video tutorials.</p>\n"}],"owner":{"account_id":27373224,"reputation":1,"user_id":20878979,"display_name":"Achut Dudhe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676022624,"creation_date":1672227434,"question_id":74939781,"body_markdown":"[![here is img][1]][1]\r\n\r\n\r\nNot getting java support after creating maven project in eclipse\r\nwhen maven project created I am not getting src/main/java,src/test/java and jre system libraries folders. i am following steps to create new project\r\nsteps to create\r\n\r\n** maven project: File--&gt;new--&gt;project--&gt;select maven project--&gt;next--&gt;select create a simple project--&gt;next--&gt;give project id and artifact id--&gt;finish.**\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;MavenProject1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MavenProject1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n      &lt;name&gt;MavenProject1&lt;/name&gt;\r\n      &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n      &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n          &lt;plugins&gt;\r\n            &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LJyCk.png","title":"not getting jre system library in maven project in eclipse java","body":"<p><a href=\"https://i.stack.imgur.com/LJyCk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJyCk.png\" alt=\"here is img\" /></a></p>\n<p>Not getting java support after creating maven project in eclipse\nwhen maven project created I am not getting src/main/java,src/test/java and jre system libraries folders. i am following steps to create new project\nsteps to create</p>\n<p>** maven project: File--&gt;new--&gt;project--&gt;select maven project--&gt;next--&gt;select create a simple project--&gt;next--&gt;give project id and artifact id--&gt;finish.**</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;MavenProject1&lt;/groupId&gt;\n  &lt;artifactId&gt;MavenProject1&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;MavenProject1&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","postgresql","jpa","substring"],"owner":{"account_id":1098402,"reputation":628,"user_id":1091484,"accept_rate":86,"display_name":"Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676022604,"creation_date":1676022604,"question_id":75409355,"body_markdown":"I&#39;d like to define such an index: `create index annuaire_abc_substr_idx on annuaire(substring(abc,7,2));`\r\n\r\nWhith JPA Specification I&#39;d like to write something like this:\r\n```\r\n@Entity\r\n@Table(name = &quot;annuaire&quot;, \r\n    indexes = {\r\n            @Index(name = &quot;annuaire_abc_substr_idx&quot;, columnList = &quot;???&quot;)\r\n    }\r\n)\r\n```\r\n\r\nIs there a way to use this javax.persistence.Index annotation to work with a substring? ","title":"JPA Index specification on substring","body":"<p>I'd like to define such an index: <code>create index annuaire_abc_substr_idx on annuaire(substring(abc,7,2));</code></p>\n<p>Whith JPA Specification I'd like to write something like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;annuaire&quot;, \n    indexes = {\n            @Index(name = &quot;annuaire_abc_substr_idx&quot;, columnList = &quot;???&quot;)\n    }\n)\n</code></pre>\n<p>Is there a way to use this javax.persistence.Index annotation to work with a substring?</p>\n"},{"tags":["java","jdbc","keycloak"],"comments":[{"owner":{"account_id":12850072,"reputation":66,"user_id":9295251,"display_name":"BilledTrain380"},"score":0,"creation_date":1662984017,"post_id":73164634,"comment_id":130124985,"body_markdown":"I had that error everytime I did not build the image first. You probably should create your own Docker image and trigger a build of Keycloak first.","body":"I had that error everytime I did not build the image first. You probably should create your own Docker image and trigger a build of Keycloak first."}],"answers":[{"tags":[],"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676022076,"creation_date":1676022076,"answer_id":75409259,"question_id":73164634,"body_markdown":"Try:\r\n```\r\ndocker run \r\n    -v ~/realm/:/opt/keycloak/data/import \r\n    -e KC_DB_PASSWORD=pass \r\n    -e KC_DB_USERNAME=db \r\n    -e KC_DB_URL=&quot;jdbc:mysql://mydburl/keycloak&quot; \r\n    quay.io/keycloak/keycloak:18.0.2  \r\n    start-dev --import-realm\r\n```\r\n\r\nIt will import all the files within the `/opt/keycloak/data/import` directory\r\n\r\nOfficial docs [KC](https://www.keycloak.org/server/importExport)","title":"Keycloak import realm","body":"<p>Try:</p>\n<pre><code>docker run \n    -v ~/realm/:/opt/keycloak/data/import \n    -e KC_DB_PASSWORD=pass \n    -e KC_DB_USERNAME=db \n    -e KC_DB_URL=&quot;jdbc:mysql://mydburl/keycloak&quot; \n    quay.io/keycloak/keycloak:18.0.2  \n    start-dev --import-realm\n</code></pre>\n<p>It will import all the files within the <code>/opt/keycloak/data/import</code> directory</p>\n<p>Official docs <a href=\"https://www.keycloak.org/server/importExport\" rel=\"nofollow noreferrer\">KC</a></p>\n"}],"owner":{"account_id":10891121,"reputation":211,"user_id":8006868,"display_name":"Kucharsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676022076,"creation_date":1659087559,"question_id":73164634,"body_markdown":"I would like to import my realm to database. In keycloak 18 I can call command ```kc.sh start --import-realm```\r\nIt works great, but only if there is no realm in the external database.\r\nI tried to import the realm with the command:\r\n```\r\ndocker run \r\n    -v ~/realm/:/opt/keycloak/data/import \r\n    -e KC_DB_PASSWORD=pass \r\n    -e KC_DB_USERNAME=db \r\n    -e KC_DB_URL=&quot;jdbc:mysql://mydburl/keycloak&quot; \r\n    quay.io/keycloak/keycloak:18.0.2  \r\n    import \r\n    --file /opt/keycloak/data/import/realm-export.json\r\n    --override true\r\n```\r\nbut I get error:\r\n```\r\nNo suitable driver found for jjdbc:mysql://mydburl/keycloak \r\n```\r\nIs there any method to import realm before calling ```kc.sh start```?\r\nHow could I import the database drivers into the container? I tried to add a parameter\r\n```import -Dquarkus.datasource.jdbc.driver=mysql```\r\nbut it seems to have no effect","title":"Keycloak import realm","body":"<p>I would like to import my realm to database. In keycloak 18 I can call command <code>kc.sh start --import-realm</code>\nIt works great, but only if there is no realm in the external database.\nI tried to import the realm with the command:</p>\n<pre><code>docker run \n    -v ~/realm/:/opt/keycloak/data/import \n    -e KC_DB_PASSWORD=pass \n    -e KC_DB_USERNAME=db \n    -e KC_DB_URL=&quot;jdbc:mysql://mydburl/keycloak&quot; \n    quay.io/keycloak/keycloak:18.0.2  \n    import \n    --file /opt/keycloak/data/import/realm-export.json\n    --override true\n</code></pre>\n<p>but I get error:</p>\n<pre><code>No suitable driver found for jjdbc:mysql://mydburl/keycloak \n</code></pre>\n<p>Is there any method to import realm before calling <code>kc.sh start</code>?\nHow could I import the database drivers into the container? I tried to add a parameter\n<code>import -Dquarkus.datasource.jdbc.driver=mysql</code>\nbut it seems to have no effect</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":26910127,"reputation":1,"user_id":20485841,"display_name":"Kareem Alsayed Sleman"},"score":0,"creation_date":1675987684,"post_id":75405712,"comment_id":133051635,"body_markdown":"i forgot to say if more info needed on my code please tell me and ill provide you with everything thank you for your help","body":"i forgot to say if more info needed on my code please tell me and ill provide you with everything thank you for your help"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1675988429,"post_id":75405712,"comment_id":133051744,"body_markdown":"To summarise, instead of creating a new instance of scanner inside the if block, only create one scanner and reuse it over the entire program.","body":"To summarise, instead of creating a new instance of scanner inside the if block, only create one scanner and reuse it over the entire program."},{"owner":{"account_id":24925482,"reputation":101,"user_id":18793296,"display_name":"VinodA"},"score":0,"creation_date":1675988661,"post_id":75405712,"comment_id":133051784,"body_markdown":"What problem are you facing. Although I agree to Tim&#39;s comment, I could not find issues with your current code except that your open.getOpen() and close.getClose() does not really make sense. Why are you using that?","body":"What problem are you facing. Although I agree to Tim&#39;s comment, I could not find issues with your current code except that your open.getOpen() and close.getClose() does not really make sense. Why are you using that?"},{"owner":{"account_id":18424967,"reputation":61,"user_id":13421519,"display_name":"muhammad muzaib"},"score":0,"creation_date":1675989750,"post_id":75405712,"comment_id":133051944,"body_markdown":"can you show the error that shows up when you run the program? post a screenshot. Show more context so we know what you did before you encountered the error.","body":"can you show the error that shows up when you run the program? post a screenshot. Show more context so we know what you did before you encountered the error."},{"owner":{"account_id":18424967,"reputation":61,"user_id":13421519,"display_name":"muhammad muzaib"},"score":0,"creation_date":1675989894,"post_id":75405712,"comment_id":133051965,"body_markdown":"Read this: https://stackoverflow.com/help/how-to-ask \nThis tells you how to ask questions in a better way.","body":"Read this: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>  This tells you how to ask questions in a better way."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676392279,"post_id":75405712,"comment_id":133125995,"body_markdown":"Don&#39;t create multiple scanners on the same source, use one and only one scanner.","body":"Don&#39;t create multiple scanners on the same source, use one and only one scanner."}],"owner":{"account_id":26910127,"reputation":1,"user_id":20485841,"display_name":"Kareem Alsayed Sleman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676392297,"answer_count":0,"score":0,"last_activity_date":1676021415,"creation_date":1675987634,"question_id":75405712,"body_markdown":"im trying to make a program where only if you say yes to opening an account you can deposit money in it but im not sure on how to do it in my program the scanner inside of the if statemnt isnt working\r\nin other word if you said yes to opening an account after some steps i want to ask from user if he wants to deposit money or not\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class main{\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(bank.Name);\r\n        System.out.println(bank.location);\r\n        System.out.println(&quot;bank id is: &quot; + bank.bankId);\r\n\r\n        customer open = factory.getInstance(1);\r\n        customer close = factory.getInstance(2);\r\n        customer deposit = factory.getInstance(3);\r\n\r\n        System.out.print(&quot;you want to open or close account &quot;);  \r\n        Scanner y= new Scanner(System.in); \r\n        String str= y.nextLine();                \r\n        if(str.equals(&quot;open&quot;)  ){\r\n            System.out.println(open.getOpen());\r\n            System.out.print(&quot;would you like to deposit money in your account &quot;);\r\n            Scanner isdeposit= new Scanner(System.in); \r\n            String x= isdeposit.nextLine();\r\n            if(x.equals(&quot;yes&quot;) ){\r\n                System.out.println(deposit.getDeposit());\r\n            }\r\n        }\r\n        else if(str.equals(&quot;close&quot;)){\r\n        System.out.println(close.getClose());\r\n        }\r\n        else{\r\n        System.out.println(&quot;invlaid input&quot;);\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/S3AjB.png","title":"why is my scanner inside of my if statement not working","body":"<p>im trying to make a program where only if you say yes to opening an account you can deposit money in it but im not sure on how to do it in my program the scanner inside of the if statemnt isnt working\nin other word if you said yes to opening an account after some steps i want to ask from user if he wants to deposit money or not</p>\n<pre><code>import java.util.Scanner;\n\npublic class main{\n\n    public static void main(String[] args) {\n        System.out.println(bank.Name);\n        System.out.println(bank.location);\n        System.out.println(&quot;bank id is: &quot; + bank.bankId);\n\n        customer open = factory.getInstance(1);\n        customer close = factory.getInstance(2);\n        customer deposit = factory.getInstance(3);\n\n        System.out.print(&quot;you want to open or close account &quot;);  \n        Scanner y= new Scanner(System.in); \n        String str= y.nextLine();                \n        if(str.equals(&quot;open&quot;)  ){\n            System.out.println(open.getOpen());\n            System.out.print(&quot;would you like to deposit money in your account &quot;);\n            Scanner isdeposit= new Scanner(System.in); \n            String x= isdeposit.nextLine();\n            if(x.equals(&quot;yes&quot;) ){\n                System.out.println(deposit.getDeposit());\n            }\n        }\n        else if(str.equals(&quot;close&quot;)){\n        System.out.println(close.getClose());\n        }\n        else{\n        System.out.println(&quot;invlaid input&quot;);\n        }\n      }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/S3AjB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S3AjB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","static-methods","tradeoff"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1676015798,"post_id":75408273,"comment_id":133055678,"body_markdown":"Do you then need concrete implementations of `SwingDevHelper` that implement other methods from that interface? If the answer is &quot;no&quot; then you most probably don&#39;t need an interface.","body":"Do you then need concrete implementations of <code>SwingDevHelper</code> that implement other methods from that interface? If the answer is &quot;no&quot; then you most probably don&#39;t need an interface."},{"owner":{"account_id":9987217,"reputation":542,"user_id":7387935,"display_name":"Florian Bachmann"},"score":0,"creation_date":1676018480,"post_id":75408273,"comment_id":133056367,"body_markdown":"So you only see semantical difference? There would be no technical difference, e.g. in performance or visibility?","body":"So you only see semantical difference? There would be no technical difference, e.g. in performance or visibility?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1676019223,"post_id":75408273,"comment_id":133056568,"body_markdown":"There shouldn&#39;t be any difference in performance. If you are not sure, try both approaches and do actual measurements. About visibility, both methods would be public, they&#39;re functionally identical.","body":"There shouldn&#39;t be any difference in performance. If you are not sure, try both approaches and do actual measurements. About visibility, both methods would be public, they&#39;re functionally identical."},{"owner":{"account_id":7474452,"reputation":101,"user_id":5681287,"display_name":"taismile"},"score":0,"creation_date":1676019797,"post_id":75408273,"comment_id":133056757,"body_markdown":"method implement should be in class, \ninterface only method abstract without body \n\n```java\nvoid startSwingContainer(Container container)\n```","body":"method implement should be in class,  interface only method abstract without body   <code>java void startSwingContainer(Container container) </code>"}],"answers":[{"tags":[],"owner":{"account_id":6883244,"reputation":2541,"user_id":5289288,"display_name":"Max Farsikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017488,"creation_date":1676017488,"answer_id":75408537,"question_id":75408273,"body_markdown":"If this question is raised then this method does not belong to an interface (&#39;interface&#39; in broad meaning, not just Java). So it is always better to put it as low as possible. In other words, if it is possible -- keep it in a class, and move to interface only essential members.","title":"Should I place a public static method in a class or an interface?","body":"<p>If this question is raised then this method does not belong to an interface ('interface' in broad meaning, not just Java). So it is always better to put it as low as possible. In other words, if it is possible -- keep it in a class, and move to interface only essential members.</p>\n"},{"comments":[{"owner":{"account_id":9987217,"reputation":542,"user_id":7387935,"display_name":"Florian Bachmann"},"score":0,"creation_date":1676023413,"post_id":75409103,"comment_id":133057837,"body_markdown":"Thanks a lot! This is great reasoning with a nice citation :D","body":"Thanks a lot! This is great reasoning with a nice citation :D"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676021070,"creation_date":1676021070,"answer_id":75409103,"question_id":75408273,"body_markdown":"The difference comes in the instantiability of `SwingDevHelper`.\r\n\r\nIf you need to instantiate `SwingDevHelper`, it can be either an interface or a (final) class.\r\n\r\nIf you don&#39;t need to (and/or don&#39;t _want to_) instantiate `SwingDevHelper`, make it a class with a private constructor:\r\n\r\n```\r\npublic final class SwingDevHelper {\r\n    private SwingDevHelper() {}  // Prevents instantiation outside this class.\r\n\r\n    public static void startSwingContainer(Container container) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nMaking the class non-instantiable is a good idea where possible  (i.e. when an instance of that class is meaningless/useless) because it simplifies the reasoning about the code: you never have to worry about what to do when you encounter an instance of it.\r\n\r\nThere is an item specifically about this in _Effective Java_: it&#39;s Item 22 in 3rd Ed: &quot;Use interfaces only to define types&quot;. TL;DR: if `SwingDevHelper` isn&#39;t a meaningful type, don&#39;t use an interface.","title":"Should I place a public static method in a class or an interface?","body":"<p>The difference comes in the instantiability of <code>SwingDevHelper</code>.</p>\n<p>If you need to instantiate <code>SwingDevHelper</code>, it can be either an interface or a (final) class.</p>\n<p>If you don't need to (and/or don't <em>want to</em>) instantiate <code>SwingDevHelper</code>, make it a class with a private constructor:</p>\n<pre><code>public final class SwingDevHelper {\n    private SwingDevHelper() {}  // Prevents instantiation outside this class.\n\n    public static void startSwingContainer(Container container) {\n        ...\n    }\n}\n</code></pre>\n<p>Making the class non-instantiable is a good idea where possible  (i.e. when an instance of that class is meaningless/useless) because it simplifies the reasoning about the code: you never have to worry about what to do when you encounter an instance of it.</p>\n<p>There is an item specifically about this in <em>Effective Java</em>: it's Item 22 in 3rd Ed: &quot;Use interfaces only to define types&quot;. TL;DR: if <code>SwingDevHelper</code> isn't a meaningful type, don't use an interface.</p>\n"}],"owner":{"account_id":9987217,"reputation":542,"user_id":7387935,"display_name":"Florian Bachmann"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676021141,"answer_count":2,"score":0,"last_activity_date":1676021070,"creation_date":1676015676,"question_id":75408273,"body_markdown":"I wonder what considerations I should make, when I have to decide whether to take an interface or a class to place my static helper method in.\r\n\r\nConcrete example: I want to provide a little method, that I can call from the `main` method in Swing components, so I can faster iterate the development on them.\r\n\r\nShould I place it in an interface or in a class? \r\n\r\n```java\r\npublic final class SwingDevHelper {\r\n    public static void startSwingContainer(Container container) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```java\r\npublic interface SwingDevHelper {\r\n    static void startSwingContainer(Container container) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nDo I have to consider semantical or technical points, e.g. performance or visibility?","title":"Should I place a public static method in a class or an interface?","body":"<p>I wonder what considerations I should make, when I have to decide whether to take an interface or a class to place my static helper method in.</p>\n<p>Concrete example: I want to provide a little method, that I can call from the <code>main</code> method in Swing components, so I can faster iterate the development on them.</p>\n<p>Should I place it in an interface or in a class?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class SwingDevHelper {\n    public static void startSwingContainer(Container container) {\n        ...\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface SwingDevHelper {\n    static void startSwingContainer(Container container) {\n        ...\n    }\n}\n</code></pre>\n<p>Do I have to consider semantical or technical points, e.g. performance or visibility?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1357222471,"post_id":14140545,"comment_id":19581047,"body_markdown":"Hibernate tools (part of JBoss Tools) can autogenerate entities from a database schema. Don&#39;t ask me how to use it though, I only managed to make it work through seam-gen which is part of the Seam 2 framework.","body":"Hibernate tools (part of JBoss Tools) can autogenerate entities from a database schema. Don&#39;t ask me how to use it though, I only managed to make it work through seam-gen which is part of the Seam 2 framework."}],"answers":[{"tags":[],"owner":{"account_id":1087695,"reputation":2278,"user_id":1083026,"display_name":"Avinash T."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1409081419,"creation_date":1357222764,"answer_id":14140685,"question_id":14140545,"body_markdown":"You can generate classes using [Hibernate Tools][1]. There are two ways to generate these classes which is called as [Reverse Engineering and Code Generation][2][dead link] -\r\n\r\n 1. You can use Hibernate Tools Eclipse Plugin.\r\n 2. You can write Ant Script using Hibernate tools jar.\r\n\r\n\r\n  [1]: http://www.hibernate.org/subprojects/tools.html\r\n  [2]: http://docs.jboss.org/tools/3.2.1.GA/en/hibernatetools/html_single/#refeng_codegen","title":"How to create entity classes using database for all the existing tables?","body":"<p>You can generate classes using <a href=\"http://www.hibernate.org/subprojects/tools.html\" rel=\"nofollow\">Hibernate Tools</a>. There are two ways to generate these classes which is called as <a href=\"http://docs.jboss.org/tools/3.2.1.GA/en/hibernatetools/html_single/#refeng_codegen\" rel=\"nofollow\">Reverse Engineering and Code Generation</a>[dead link] -</p>\n\n<ol>\n<li>You can use Hibernate Tools Eclipse Plugin.</li>\n<li>You can write Ant Script using Hibernate tools jar.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"score":0,"creation_date":1676021088,"post_id":14850576,"comment_id":133057136,"body_markdown":"See also the doc : https://doc.telosys.org/","body":"See also the doc : <a href=\"https://doc.telosys.org/\" rel=\"nofollow noreferrer\">doc.telosys.org</a>"}],"tags":[],"owner":{"account_id":2361162,"reputation":683,"user_id":2067816,"display_name":"John T"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676021038,"creation_date":1360748833,"answer_id":14850576,"question_id":14140545,"body_markdown":"You can try the **Telosys** code generator. It can help for this kind of job.\r\n\r\nIt allows to generate the Java (POJO) classes from any database \r\nwith the basic templates and you can also create your own \r\ntemplate (a Velocity file) to generate your DAO classes\r\n\r\n\r\nFor more information see [https://www.telosys.org][1] \r\n\r\n\r\n  [1]: http://www.telosys.org","title":"How to create entity classes using database for all the existing tables?","body":"<p>You can try the <strong>Telosys</strong> code generator. It can help for this kind of job.</p>\n<p>It allows to generate the Java (POJO) classes from any database\nwith the basic templates and you can also create your own\ntemplate (a Velocity file) to generate your DAO classes</p>\n<p>For more information see <a href=\"http://www.telosys.org\" rel=\"nofollow noreferrer\">https://www.telosys.org</a></p>\n"},{"comments":[{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":1,"creation_date":1661361081,"post_id":27374224,"comment_id":129756256,"body_markdown":"Hi, would you please [edit] any answers linking to a personal website to include [a disclosure of affiliation](https://stackoverflow.com/help/promotion)? As well, including some of the most important content from an external link is always a good idea to increase the value of answers.","body":"Hi, would you please <a href=\"https://stackoverflow.com/posts/27374224/edit\">edit</a> any answers linking to a personal website to include <a href=\"https://stackoverflow.com/help/promotion\">a disclosure of affiliation</a>? As well, including some of the most important content from an external link is always a good idea to increase the value of answers."},{"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1661534897,"post_id":27374224,"comment_id":129803445,"body_markdown":"I&#39;ll reword some of what miken32 said for clarity: the title of [the article they linked to](https://stackoverflow.com/help/promotion) is &quot;How to not be a spammer&quot;. When linking to your own content you _must_ disclose that fact. This answer may be 7.5 years old, but your account appears to have been active as recently as this week. Please [edit] a disclosure in, and ideally also edit in the most important details from the blog post [so the answer is no longer of low quality](https://meta.stackexchange.com/a/8259/248627), or it may be flagged as spam and deleted.","body":"I&#39;ll reword some of what miken32 said for clarity: the title of <a href=\"https://stackoverflow.com/help/promotion\">the article they linked to</a> is &quot;How to not be a spammer&quot;. When linking to your own content you <i>must</i> disclose that fact. This answer may be 7.5 years old, but your account appears to have been active as recently as this week. Please <a href=\"https://stackoverflow.com/posts/27374224/edit\">edit</a> a disclosure in, and ideally also edit in the most important details from the blog post <a href=\"https://meta.stackexchange.com/a/8259/248627\">so the answer is no longer of low quality</a>, or it may be flagged as spam and deleted."}],"tags":[],"owner":{"account_id":5036993,"reputation":2210,"user_id":4045489,"display_name":"Sheng.W"},"comment_count":2,"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1661849953,"creation_date":1418113202,"answer_id":27374224,"question_id":14140545,"body_markdown":"If you use JPA for persistence, you can use &quot;JPA tools&quot; provided by Eclipse to generate java entity class from tables. \r\n\r\nHere is the [tutorial][1] \r\n\r\n\r\n  [1]: http://shengwangi.blogspot.com/2014/12/how-to-create-java-classes-from-tables.html on my personal website. ","title":"How to create entity classes using database for all the existing tables?","body":"<p>If you use JPA for persistence, you can use &quot;JPA tools&quot; provided by Eclipse to generate java entity class from tables.</p>\n<p>Here is the [tutorial][1]</p>\n<p>[1]: <a href=\"http://shengwangi.blogspot.com/2014/12/how-to-create-java-classes-from-tables.html\" rel=\"nofollow noreferrer\">http://shengwangi.blogspot.com/2014/12/how-to-create-java-classes-from-tables.html</a> on my personal website.</p>\n"}],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110080,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":27374224,"answer_count":3,"score":24,"last_activity_date":1676021038,"creation_date":1357222287,"question_id":14140545,"body_markdown":"I am having tables created by a DBA and I intend to have\r\nentity classes for each table for further querying. Can any one suggest how to automatically create the entity classes using Eclipse? ","title":"How to create entity classes using database for all the existing tables?","body":"<p>I am having tables created by a DBA and I intend to have\nentity classes for each table for further querying. Can any one suggest how to automatically create the entity classes using Eclipse?</p>\n"},{"tags":["java","datetime","java-8"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1486004649,"post_id":41992970,"comment_id":71164067,"body_markdown":"Can you just trim off leading plus sign before parsing? Try parsing `str.replaceAll(&quot;^\\\\+&quot;, &quot;&quot;)`.","body":"Can you just trim off leading plus sign before parsing? Try parsing <code>str.replaceAll(&quot;^\\\\+&quot;, &quot;&quot;)</code>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":3,"creation_date":1486028666,"post_id":41992970,"comment_id":71174164,"body_markdown":"What is the meaning of &quot;+&quot; in this format?","body":"What is the meaning of &quot;+&quot; in this format?"},{"owner":{"account_id":3616305,"reputation":127,"user_id":3016058,"display_name":"dhamechaSpeaks"},"score":0,"creation_date":1486092661,"post_id":41992970,"comment_id":71207524,"body_markdown":"Plus means the year is signed.","body":"Plus means the year is signed."},{"owner":{"account_id":3616305,"reputation":127,"user_id":3016058,"display_name":"dhamechaSpeaks"},"score":0,"creation_date":1486092700,"post_id":41992970,"comment_id":71207534,"body_markdown":"Yes I could trim of the plus but don&#39;t want to since joda.time can easily parse this. I expect java.time to take care of this.","body":"Yes I could trim of the plus but don&#39;t want to since joda.time can easily parse this. I expect java.time to take care of this."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676149965,"post_id":41992970,"comment_id":133080990,"body_markdown":"`LocalDateTime` is the wrong type to use here. Use an `OffsetDateTime` (or may consider `Instant`).","body":"<code>LocalDateTime</code> is the wrong type to use here. Use an <code>OffsetDateTime</code> (or may consider <code>Instant</code>)."}],"answers":[{"comments":[{"owner":{"account_id":3616305,"reputation":127,"user_id":3016058,"display_name":"dhamechaSpeaks"},"score":0,"creation_date":1486092625,"post_id":41993463,"comment_id":71207520,"body_markdown":"Thanks for your answer. This makes sense. I expected baba.time to take care of this automatically without the DataFormatter just like how joda.time does. Nevertheless thanks for the explanation and answer. How do I mark this as a correct answer?","body":"Thanks for your answer. This makes sense. I expected baba.time to take care of this automatically without the DataFormatter just like how joda.time does. Nevertheless thanks for the explanation and answer. How do I mark this as a correct answer?"},{"owner":{"account_id":3230535,"reputation":197,"user_id":2725919,"accept_rate":75,"display_name":"user2725919"},"score":3,"creation_date":1539968837,"post_id":41993463,"comment_id":92706378,"body_markdown":"I think you could replace those format strings with DateTimeFormatter.ISO_LOCAL_DATE_TIME","body":"I think you could replace those format strings with DateTimeFormatter.ISO_LOCAL_DATE_TIME"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676150358,"post_id":41993463,"comment_id":133081033,"body_markdown":"@user2725919 No that will not work. It neither takes the leading `+` nor the trailing `Z` into account. I get `DateTimeParseException: Text &#39;+2017-02-26T01:02:03Z&#39; could not be parsed at index 0`.","body":"@user2725919 No that will not work. It neither takes the leading <code>+</code> nor the trailing <code>Z</code> into account. I get <code>DateTimeParseException: Text &#39;+2017-02-26T01:02:03Z&#39; could not be parsed at index 0</code>."}],"tags":[],"owner":{"account_id":1233122,"reputation":3934,"user_id":1197297,"accept_rate":67,"display_name":"StvnBrkdll"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1486043882,"creation_date":1486004061,"answer_id":41993463,"question_id":41992970,"body_markdown":"Java&#39;s `DateTimeFormatter` class may be of help. Here is some sample code that I believe addressses your problem (or at least gives you something to think about):\r\n\r\n      \r\n    class DateTimeTester {\r\n      ---\r\n      public static void main(String[] args) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;+yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n            .withZone(ZoneId.of(&quot;UTC&quot;));\r\n        LocalDateTime date = LocalDateTime.parse(&quot;+2017-02-26T01:02:03Z&quot;, formatter);\r\n        System.out.println(date);\r\n      }\r\n    }\r\n\r\nRefer to the section called ***Patterns for Formatting and Parsing*** in the [javadoc for DateTimeFormatter][1] for details about the format-string passed to `DateTimeFormatter.ofPattern()`.\r\n\r\nSomething to note:\r\n\r\n[Wikidata&#39;s list of available data types][2] says about the `time` data type: \r\n\r\n&quot;explicit value for point in time, represented as a timestamp ***resembling*** ISO 8601, e.g. +2013-01-01T00:00:00Z. **The year is always signed and padded to have between 4 and 16 digits**.&quot;.\r\n\r\nSo Wikidata&#39;s `time` data type only _resembles_ ISO 8601. \r\n\r\nIf your code needs to handle negative years (before year 0), you will need to adjust my suggested solution accordingly.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://www.wikidata.org/wiki/Special:ListDatatypes","title":"How do I convert an ISO 8601 date time String to java.time.LocalDateTime?","body":"<p>Java's <code>DateTimeFormatter</code> class may be of help. Here is some sample code that I believe addressses your problem (or at least gives you something to think about):</p>\n\n<pre><code>class DateTimeTester {\n  ---\n  public static void main(String[] args) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"+yyyy-MM-dd'T'HH:mm:ss'Z'\")\n        .withZone(ZoneId.of(\"UTC\"));\n    LocalDateTime date = LocalDateTime.parse(\"+2017-02-26T01:02:03Z\", formatter);\n    System.out.println(date);\n  }\n}\n</code></pre>\n\n<p>Refer to the section called <strong><em>Patterns for Formatting and Parsing</em></strong> in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">javadoc for DateTimeFormatter</a> for details about the format-string passed to <code>DateTimeFormatter.ofPattern()</code>.</p>\n\n<p>Something to note:</p>\n\n<p><a href=\"https://www.wikidata.org/wiki/Special:ListDatatypes\" rel=\"noreferrer\">Wikidata's list of available data types</a> says about the <code>time</code> data type: </p>\n\n<p>\"explicit value for point in time, represented as a timestamp <strong><em>resembling</em></strong> ISO 8601, e.g. +2013-01-01T00:00:00Z. <strong>The year is always signed and padded to have between 4 and 16 digits</strong>.\".</p>\n\n<p>So Wikidata's <code>time</code> data type only <em>resembles</em> ISO 8601. </p>\n\n<p>If your code needs to handle negative years (before year 0), you will need to adjust my suggested solution accordingly.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676150142,"post_id":75399840,"comment_id":133081009,"body_markdown":"This doesnâ€™t seem to work. With the string from the question, `&quot;+2017-02-26T00:00:00Z&quot;`, I get `DateTimeParseException: Text &#39;+2017-02-26T00:00:00Z&#39; could not be parsed at index 0`.","body":"This doesnâ€™t seem to work. With the string from the question, <code>&quot;+2017-02-26T00:00:00Z&quot;</code>, I get <code>DateTimeParseException: Text &#39;+2017-02-26T00:00:00Z&#39; could not be parsed at index 0</code>."},{"owner":{"account_id":1975639,"reputation":502,"user_id":1773490,"display_name":"Vincent Kelleher"},"score":1,"creation_date":1676199293,"post_id":75399840,"comment_id":133085923,"body_markdown":"Indeed, I didn&#39;t notice the `+` sign in front of the year after reading the ISO8601 in the title &#128524; You would need one of the custom `DateTimeFormatter`s above.","body":"Indeed, I didn&#39;t notice the <code>+</code> sign in front of the year after reading the ISO8601 in the title ðŸ˜Œ You would need one of the custom <code>DateTimeFormatter</code>s above."}],"tags":[],"owner":{"account_id":1975639,"reputation":502,"user_id":1773490,"display_name":"Vincent Kelleher"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675951888,"creation_date":1675951888,"answer_id":75399840,"question_id":41992970,"body_markdown":"A quick solution can be :\r\n\r\n    LocalDateTime.parse(yourDate, DateTimeFormatter.ISO_DATE_TIME);\r\n\r\nDon&#39;t forget to manage the `DateTimeParseException` in the case of a non supported date format &#128521;\r\n","title":"How do I convert an ISO 8601 date time String to java.time.LocalDateTime?","body":"<p>A quick solution can be :</p>\n<pre><code>LocalDateTime.parse(yourDate, DateTimeFormatter.ISO_DATE_TIME);\n</code></pre>\n<p>Don't forget to manage the <code>DateTimeParseException</code> in the case of a non supported date format ðŸ˜‰</p>\n"},{"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":2,"creation_date":1676102792,"post_id":75402102,"comment_id":133073589,"body_markdown":"valid points on accepted answer","body":"valid points on accepted answer"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675962610,"creation_date":1675962610,"answer_id":75402102,"question_id":41992970,"body_markdown":"Unfortunately, [the accepted answer](https://stackoverflow.com/a/41993463/10819573) is wrong for three reasons:\r\n\r\n 1. The given date-time string `+2017-02-26T00:00:00Z` does not represent a `LocalDateTime`. It represents an [`OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html).\r\n 2. It uses a `+` sign with the pattern which means the pattern will fail to parse a date-time with a negative year.\r\n 3. [`&#39;Z&#39;` is not the same as `Z`](https://stackoverflow.com/a/67953075/10819573).\r\n\r\nYou can create the required `DateTimeFormatter` using the `DateTimeFormatterBuilder` as shown below:\r\n\r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter parser = new DateTimeFormatterBuilder()\r\n    \t\t\t\t.appendValue(ChronoField.YEAR, 4, 4, SignStyle.ALWAYS)\r\n    \t\t\t\t.appendPattern(&quot;-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;)\r\n    \t\t\t\t.toFormatter(Locale.ENGLISH);\r\n    \t\tOffsetDateTime odt = OffsetDateTime.parse(&quot;+2017-02-26T00:00:00Z&quot;, parser);\r\n    \t\tSystem.out.println(odt);\r\n    \r\n    \t\t// If you want a LocalDateTime, you can get it from `odt`\r\n    \t\tLocalDateTime ldt = odt.toLocalDateTime();\r\n    \t\tSystem.out.println(ldt);\r\n    \t}\r\n    }\r\n\r\n**Output**:\r\n\r\n    2017-02-26T00:00Z\r\n    2017-02-26T00:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/QwJ5gV)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"How do I convert an ISO 8601 date time String to java.time.LocalDateTime?","body":"<p>Unfortunately, <a href=\"https://stackoverflow.com/a/41993463/10819573\">the accepted answer</a> is wrong for three reasons:</p>\n<ol>\n<li>The given date-time string <code>+2017-02-26T00:00:00Z</code> does not represent a <code>LocalDateTime</code>. It represents an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>.</li>\n<li>It uses a <code>+</code> sign with the pattern which means the pattern will fail to parse a date-time with a negative year.</li>\n<li><a href=\"https://stackoverflow.com/a/67953075/10819573\"><code>'Z'</code> is not the same as <code>Z</code></a>.</li>\n</ol>\n<p>You can create the required <code>DateTimeFormatter</code> using the <code>DateTimeFormatterBuilder</code> as shown below:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = new DateTimeFormatterBuilder()\n                .appendValue(ChronoField.YEAR, 4, 4, SignStyle.ALWAYS)\n                .appendPattern(&quot;-MM-dd'T'HH:mm:ssXXX&quot;)\n                .toFormatter(Locale.ENGLISH);\n        OffsetDateTime odt = OffsetDateTime.parse(&quot;+2017-02-26T00:00:00Z&quot;, parser);\n        System.out.println(odt);\n\n        // If you want a LocalDateTime, you can get it from `odt`\n        LocalDateTime ldt = odt.toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2017-02-26T00:00Z\n2017-02-26T00:00\n</code></pre>\n<p><a href=\"https://ideone.com/QwJ5gV\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3616305,"reputation":127,"user_id":3016058,"display_name":"dhamechaSpeaks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20384,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":41993463,"answer_count":3,"score":9,"last_activity_date":1676020817,"creation_date":1486000059,"question_id":41992970,"body_markdown":"I am reading data from Wikidata. They represent their point in time property, P585 using ISO 8601 spec. However, the same beings with a +. \r\n\r\nIf I were using Joda then converting the String to joda dateTime would have been very simple. \r\n\r\n    new DateTime(dateTime, DateTimeZone.UTC);\r\n\r\nHowever, when I do `LocalDateTime.parse(&quot;+2017-02-26T00:00:00Z&quot;)` I get an error saying can&#39;t parse the character at index 0. Is there a reason for this in Java 8. Joda does it pretty easily without any errors. \r\n\r\nI also tried `LocalDateTime.parse(&quot;+2017-02-26T00:00:00Z&quot;, DateTimeFormatter.ISO_DATE_TIME)` but in vain. \r\n\r\nHow do we get around the Plus sign without having to remove it by string manipulation? ","title":"How do I convert an ISO 8601 date time String to java.time.LocalDateTime?","body":"<p>I am reading data from Wikidata. They represent their point in time property, P585 using ISO 8601 spec. However, the same beings with a +. </p>\n\n<p>If I were using Joda then converting the String to joda dateTime would have been very simple. </p>\n\n<pre><code>new DateTime(dateTime, DateTimeZone.UTC);\n</code></pre>\n\n<p>However, when I do <code>LocalDateTime.parse(\"+2017-02-26T00:00:00Z\")</code> I get an error saying can't parse the character at index 0. Is there a reason for this in Java 8. Joda does it pretty easily without any errors. </p>\n\n<p>I also tried <code>LocalDateTime.parse(\"+2017-02-26T00:00:00Z\", DateTimeFormatter.ISO_DATE_TIME)</code> but in vain. </p>\n\n<p>How do we get around the Plus sign without having to remove it by string manipulation? </p>\n"},{"tags":["java","sql","spring-boot","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":20646747,"reputation":316,"user_id":15158080,"display_name":"deja"},"score":0,"creation_date":1676034845,"post_id":75407472,"comment_id":133061132,"body_markdown":"No, this is the wrong solution, because using your solution(which I have already tried to implement x times), we get the WARNING mentioned in the post description. \no.h.h.internal.ast.QueryTranslatorImpl : HHH000104: firstResult/maxResults specified with collection fetch; applying in memory!","body":"No, this is the wrong solution, because using your solution(which I have already tried to implement x times), we get the WARNING mentioned in the post description.  o.h.h.internal.ast.QueryTranslatorImpl : HHH000104: firstResult/maxResults specified with collection fetch; applying in memory!"}],"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676009878,"creation_date":1676009117,"answer_id":75407472,"question_id":75401768,"body_markdown":"You could load the customers with the `figures` relationship eagerly initialized.\r\nFor this case, an entity graph would be suitable. You&#39;d need to create a new repository method like this:\r\n```java\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\r\n\r\n    @EntityGraph(attributePaths = &quot;figures&quot;)\r\n    List&lt;Customer&gt; findWithFiguresBy(Pageable pageable);\r\n\r\n}\r\n```\r\nThen, you&#39;d need call this repository method when searching instead of the one you are using now. With this approach, your `figures` relationship can remain lazily fetched (which is generally important as [eager fetching is a code smell][1]), but whenever you need to fetch customers with the `figures` eagerly loaded, you can use this method.\r\n\r\nIf you want to lear more about entity graphs, I recommend these articles:\r\n- [JPA Entity Graph][2] by Hibernate maintainer Vlad Mihalcea\r\n- [JPA Entity Graph][3] by Baeldung\r\n\r\nSide note: if you had more than one association which needs to be loaded eagerly, you couldn&#39;t use an entity graph for that as it would [result in a MultipleBagFetchException][4]. Instead, you would load your parent entities as usual and then collect all ids into a list (say `customerIds`). Then, you&#39;d need to load all child associations (say `figures` and `otherFigures`) by the customer id (JPQL example: `select f from Figure f where f.customer.id in :customerIds`) and place the figures in a `Map&lt;Long, List&lt;Figure&gt;` (where the `Long` parameter is the customer id). Your mapper logic would then need to use the entities from the Maps for the DTOs instead  of directly from the parent entity.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/eager-fetching-is-a-code-smell/\r\n  [2]: https://vladmihalcea.com/jpa-entity-graph/\r\n  [3]: https://www.baeldung.com/jpa-entity-graph\r\n  [4]: https://vladmihalcea.com/hibernate-multiplebagfetchexception/","title":"How to paginate entities with OneToMany relationship with Fetch without warning firstResult/maxResults specified with collection fetch?","body":"<p>You could load the customers with the <code>figures</code> relationship eagerly initialized.\nFor this case, an entity graph would be suitable. You'd need to create a new repository method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\n\n    @EntityGraph(attributePaths = &quot;figures&quot;)\n    List&lt;Customer&gt; findWithFiguresBy(Pageable pageable);\n\n}\n</code></pre>\n<p>Then, you'd need call this repository method when searching instead of the one you are using now. With this approach, your <code>figures</code> relationship can remain lazily fetched (which is generally important as <a href=\"https://vladmihalcea.com/eager-fetching-is-a-code-smell/\" rel=\"nofollow noreferrer\">eager fetching is a code smell</a>), but whenever you need to fetch customers with the <code>figures</code> eagerly loaded, you can use this method.</p>\n<p>If you want to lear more about entity graphs, I recommend these articles:</p>\n<ul>\n<li><a href=\"https://vladmihalcea.com/jpa-entity-graph/\" rel=\"nofollow noreferrer\">JPA Entity Graph</a> by Hibernate maintainer Vlad Mihalcea</li>\n<li><a href=\"https://www.baeldung.com/jpa-entity-graph\" rel=\"nofollow noreferrer\">JPA Entity Graph</a> by Baeldung</li>\n</ul>\n<p>Side note: if you had more than one association which needs to be loaded eagerly, you couldn't use an entity graph for that as it would <a href=\"https://vladmihalcea.com/hibernate-multiplebagfetchexception/\" rel=\"nofollow noreferrer\">result in a MultipleBagFetchException</a>. Instead, you would load your parent entities as usual and then collect all ids into a list (say <code>customerIds</code>). Then, you'd need to load all child associations (say <code>figures</code> and <code>otherFigures</code>) by the customer id (JPQL example: <code>select f from Figure f where f.customer.id in :customerIds</code>) and place the figures in a <code>Map&lt;Long, List&lt;Figure&gt;</code> (where the <code>Long</code> parameter is the customer id). Your mapper logic would then need to use the entities from the Maps for the DTOs instead  of directly from the parent entity.</p>\n"},{"comments":[{"owner":{"account_id":20646747,"reputation":316,"user_id":15158080,"display_name":"deja"},"score":0,"creation_date":1676036328,"post_id":75408962,"comment_id":133061593,"body_markdown":"Can we use it if we have already implemented JPA repository for a customer?","body":"Can we use it if we have already implemented JPA repository for a customer?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1676039585,"post_id":75408962,"comment_id":133062772,"body_markdown":"Yeah, when you use the spring data integration you can keep the repositories as they are and just add new methods to the existing repositories.","body":"Yeah, when you use the spring data integration you can keep the repositories as they are and just add new methods to the existing repositories."},{"owner":{"account_id":20646747,"reputation":316,"user_id":15158080,"display_name":"deja"},"score":0,"creation_date":1676041346,"post_id":75408962,"comment_id":133063315,"body_markdown":"I have created a CustomerDTOView interface that looks like the one you have presented. However, when I try to create a method in my customerRepository that extends JpaRepository&lt;Customer, Long&gt;, they get an error that the type &quot;CustomerDTOView&quot; is not compatible with &quot;Customer&quot;. In CustomerDTOView I used @EntityView(Customer.class)","body":"I have created a CustomerDTOView interface that looks like the one you have presented. However, when I try to create a method in my customerRepository that extends JpaRepository&lt;Customer, Long&gt;, they get an error that the type &quot;CustomerDTOView&quot; is not compatible with &quot;Customer&quot;. In CustomerDTOView I used @EntityView(Customer.class)"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1676282201,"post_id":75408962,"comment_id":133098917,"body_markdown":"You also need to configure the integration: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-setup","body":"You also need to configure the integration: <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-setup\" rel=\"nofollow noreferrer\">persistence.blazebit.com/documentation/1.6/entity-view/manua&zwnj;&#8203;l/&hellip;</a>"}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676020175,"creation_date":1676020175,"answer_id":75408962,"question_id":75401768,"body_markdown":"I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Customer.class)\r\n    public interface CustomerDTO {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        String getSurname();\r\n        String getLogin();\r\n        @Mapping(&quot;SIZE(figures)&quot;)\r\n        Integer getNumberOfFigures();\r\n        Role getRole();\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`CustomerDTO a = entityViewManager.find(entityManager, CustomerDTO.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;CustomerDTO&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"How to paginate entities with OneToMany relationship with Fetch without warning firstResult/maxResults specified with collection fetch?","body":"<p>I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Customer.class)\npublic interface CustomerDTO {\n    @IdMapping\n    Long getId();\n    String getName();\n    String getSurname();\n    String getLogin();\n    @Mapping(&quot;SIZE(figures)&quot;)\n    Integer getNumberOfFigures();\n    Role getRole();\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>CustomerDTO a = entityViewManager.find(entityManager, CustomerDTO.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;CustomerDTO&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":20646747,"reputation":316,"user_id":15158080,"display_name":"deja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676020175,"creation_date":1675960950,"question_id":75401768,"body_markdown":"I would like to be able to create pagination for pulling all customers from the database (MYSQL), but I encountered a hibernate n+1 problem, which I then solved, but I encountered another problem: 2023-02-09 16:57:04.933 WARN 11660 --- [io-8080-exec-10] o.h.h.internal.ast.QueryTranslatorImpl : HHH000104: firstResult/maxResults specified with collection fetch; applying in memory!\r\n\r\nThis problem I tried to solve with EntityGraph, but still nothing. Then I tried to use two Query, which collected the id and then used the IN clause, but this caused a huge sql query, which led to the generation of many &quot;IN&quot; which, with a huge dataset, can be problematic.\r\n\r\nI am currently in a quandary and do not know how to solve this problem. I would like the figures to be fetched along with the customers, but I have no idea how to do it in such a way that the pagination works properly\r\n\r\n\r\nI want to return CustomerDTO who have numberOfCreatedFigures attribute which is mapping from method in customer entity. This method is returning a size of customer figures.\r\nI am using lombok for args/getters/setters. I&#39;ve been trying to do everything, but nothing seems to fix the issue.\r\n\r\n**Config class with a mapper**\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        modelMapper.createTypeMap(Customer.class, CustomerDTO.class)\r\n                .addMappings(mapper -&gt; mapper\r\n                        .map(Customer::numberOfCreatedFigures, CustomerDTO::setNumberOfFigures));\r\n        return modelMapper;\r\n    }\r\n\r\n**Customer class**\r\n\r\n    public class Customer implements UserDetails, Serializable {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n       @NotBlank(message = &quot;Your name cannot be blank&quot;)\r\n       private String name;\r\n       @NotBlank(message = &quot;Your name cannot be blank&quot;)\r\n       private String surname;\r\n       @NotBlank(message = &quot;Your login cannot be blank&quot;)\r\n       private String login;\r\n       @NotBlank(message = &quot;Your password cannot be blank&quot;)\r\n       private String password;\r\n       @Enumerated(EnumType.STRING)\r\n       private Role role;\r\n       private Boolean locked = false;\r\n       private Boolean enabled = true;\r\n       @OneToMany(mappedBy = &quot;createdBy&quot;,\r\n            cascade = {CascadeType.MERGE, CascadeType.PERSIST},\r\n            fetch = FetchType.LAZY,\r\n            orphanRemoval = true)\r\n       @ToString.Exclude\r\n       private Set&lt;Figure&gt; figures = new HashSet&lt;&gt;() ...;\r\n\r\n**Figure class**\r\n\r\n    public abstract class Figure implements Serializable {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n       @Column(updatable = false, insertable = false)\r\n       private String figureType;\r\n       @Version\r\n       private Integer version;\r\n       @ManyToOne(fetch = FetchType.LAZY)\r\n       @JoinColumn(name = &quot;created_by_id&quot;)\r\n       @CreatedBy\r\n       @ToString.Exclude\r\n       private Customer createdBy;\r\n       @CreatedDate\r\n       private LocalDate createdAt;\r\n       @LastModifiedDate\r\n       private LocalDate lastModifiedAt;\r\n       @ManyToOne(fetch = FetchType.LAZY)\r\n       @JoinColumn(name = &quot;last_modified_by_id&quot;)\r\n       @LastModifiedBy\r\n       @ToString.Exclude\r\n       private Customer lastModifiedBy;\r\n       private Integer numberOfModification = 0  ...;\r\n\r\n**CustomerDTO class**\r\n\r\n    public class CustomerDTO {\r\n       private Long id;\r\n       private String name;\r\n       private String surname;\r\n       private String login;\r\n       private Integer numberOfFigures;\r\n       private Role role;}\r\n\r\n**Method from Customer Controller**\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Page&lt;CustomerDTO&gt;&gt; listAll(@PageableDefault Pageable pageable) {\r\n        return new ResponseEntity&lt;&gt;(customerService.listAll(pageable)\r\n                .map(customer -&gt; modelMapper\r\n                        .map(customer, CustomerDTO.class)), HttpStatus.OK);\r\n    }","title":"How to paginate entities with OneToMany relationship with Fetch without warning firstResult/maxResults specified with collection fetch?","body":"<p>I would like to be able to create pagination for pulling all customers from the database (MYSQL), but I encountered a hibernate n+1 problem, which I then solved, but I encountered another problem: 2023-02-09 16:57:04.933 WARN 11660 --- [io-8080-exec-10] o.h.h.internal.ast.QueryTranslatorImpl : HHH000104: firstResult/maxResults specified with collection fetch; applying in memory!</p>\n<p>This problem I tried to solve with EntityGraph, but still nothing. Then I tried to use two Query, which collected the id and then used the IN clause, but this caused a huge sql query, which led to the generation of many &quot;IN&quot; which, with a huge dataset, can be problematic.</p>\n<p>I am currently in a quandary and do not know how to solve this problem. I would like the figures to be fetched along with the customers, but I have no idea how to do it in such a way that the pagination works properly</p>\n<p>I want to return CustomerDTO who have numberOfCreatedFigures attribute which is mapping from method in customer entity. This method is returning a size of customer figures.\nI am using lombok for args/getters/setters. I've been trying to do everything, but nothing seems to fix the issue.</p>\n<p><strong>Config class with a mapper</strong></p>\n<pre><code>@Bean\npublic ModelMapper modelMapper() {\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.createTypeMap(Customer.class, CustomerDTO.class)\n            .addMappings(mapper -&gt; mapper\n                    .map(Customer::numberOfCreatedFigures, CustomerDTO::setNumberOfFigures));\n    return modelMapper;\n}\n</code></pre>\n<p><strong>Customer class</strong></p>\n<pre><code>public class Customer implements UserDetails, Serializable {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n   @NotBlank(message = &quot;Your name cannot be blank&quot;)\n   private String name;\n   @NotBlank(message = &quot;Your name cannot be blank&quot;)\n   private String surname;\n   @NotBlank(message = &quot;Your login cannot be blank&quot;)\n   private String login;\n   @NotBlank(message = &quot;Your password cannot be blank&quot;)\n   private String password;\n   @Enumerated(EnumType.STRING)\n   private Role role;\n   private Boolean locked = false;\n   private Boolean enabled = true;\n   @OneToMany(mappedBy = &quot;createdBy&quot;,\n        cascade = {CascadeType.MERGE, CascadeType.PERSIST},\n        fetch = FetchType.LAZY,\n        orphanRemoval = true)\n   @ToString.Exclude\n   private Set&lt;Figure&gt; figures = new HashSet&lt;&gt;() ...;\n</code></pre>\n<p><strong>Figure class</strong></p>\n<pre><code>public abstract class Figure implements Serializable {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n   @Column(updatable = false, insertable = false)\n   private String figureType;\n   @Version\n   private Integer version;\n   @ManyToOne(fetch = FetchType.LAZY)\n   @JoinColumn(name = &quot;created_by_id&quot;)\n   @CreatedBy\n   @ToString.Exclude\n   private Customer createdBy;\n   @CreatedDate\n   private LocalDate createdAt;\n   @LastModifiedDate\n   private LocalDate lastModifiedAt;\n   @ManyToOne(fetch = FetchType.LAZY)\n   @JoinColumn(name = &quot;last_modified_by_id&quot;)\n   @LastModifiedBy\n   @ToString.Exclude\n   private Customer lastModifiedBy;\n   private Integer numberOfModification = 0  ...;\n</code></pre>\n<p><strong>CustomerDTO class</strong></p>\n<pre><code>public class CustomerDTO {\n   private Long id;\n   private String name;\n   private String surname;\n   private String login;\n   private Integer numberOfFigures;\n   private Role role;}\n</code></pre>\n<p><strong>Method from Customer Controller</strong></p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;Page&lt;CustomerDTO&gt;&gt; listAll(@PageableDefault Pageable pageable) {\n    return new ResponseEntity&lt;&gt;(customerService.listAll(pageable)\n            .map(customer -&gt; modelMapper\n                    .map(customer, CustomerDTO.class)), HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","tomcat"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1670185891,"post_id":74679722,"comment_id":131811525,"body_markdown":"What errors are showing in the Console view?","body":"What errors are showing in the Console view?"}],"answers":[{"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1670187172,"post_id":74679844,"comment_id":131811829,"body_markdown":"Tatiana Limongi, a link to a solution is welcome, but please ensure your answer is useful without it: [add context around the link](//meta.stackexchange.com/a/8259) so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. [Answers that are little more than a link may be deleted.](/help/deleted-answers)","body":"Tatiana Limongi, a link to a solution is welcome, but please ensure your answer is useful without it: <a href=\"//meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. <a href=\"/help/deleted-answers\">Answers that are little more than a link may be deleted.</a>"}],"tags":[],"owner":{"account_id":9615582,"reputation":26,"user_id":7138503,"display_name":"Tatiana Limongi"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670203746,"creation_date":1670179658,"answer_id":74679844,"question_id":74679722,"body_markdown":"You may want to check this website: https://websparrow.org/misc/server-tomcat-server-at-localhost-failed-to-start-in-eclipse\r\n\r\nOn this page, you will get the complete solution to how to resolve Tomcat Server at localhost failed to start. \r\n\r\nBasically, there are three ways.\r\n\r\nSolution 1:\r\n\r\n1-Go to your workspace directory &#187; .metadata &#187; .plugins &#187; org.eclipse.core.resources folder.\r\n\r\n2- Delete the .snap file.\r\n\r\n3- Restart your Eclipse IDE.\r\n\r\nSolution 2:\r\n\r\n1- Open the Servers tab from Windows &#187; Show View &#187; Servers menu.\r\n\r\n2- Right click on the server and delete it\r\n\r\n3-Create a new server by going New &#187; Server on server tab.\r\n\r\n4-Click on Configure runtime environments link.\r\n\r\n5-Select the Apache Tomcat Server and remove it. This will remove the Tomcat server configuration.\r\n\r\n6-Click on OK and exit the screen above now.\r\n\r\n7-From the screen below, choose Apache Tomcat server and click on Next button:\r\n\r\n8-Browse to Tomcat Installation Directory.\r\n\r\n9-Click on Next and choose which project you would like to deploy:\r\n\r\n10-Click on Finish after adding your project.\r\n\r\n11-Now launch your Server.\r\n\r\nSolution 3:\r\n\r\n1-Go to your workspace directory &#187; .metadata &#187; .plugins &#187; org.eclipse.wst.server.core folder.\r\n\r\n2- Delete the tmp folder.\r\n\r\n3- Restart your Eclipse IDE","title":"Server apache-tomcat-9.0.55 at localhost failed to start -- maven eclipse project","body":"<p>You may want to check this website: <a href=\"https://websparrow.org/misc/server-tomcat-server-at-localhost-failed-to-start-in-eclipse\" rel=\"nofollow noreferrer\">https://websparrow.org/misc/server-tomcat-server-at-localhost-failed-to-start-in-eclipse</a></p>\n<p>On this page, you will get the complete solution to how to resolve Tomcat Server at localhost failed to start.</p>\n<p>Basically, there are three ways.</p>\n<p>Solution 1:</p>\n<p>1-Go to your workspace directory Â» .metadata Â» .plugins Â» org.eclipse.core.resources folder.</p>\n<p>2- Delete the .snap file.</p>\n<p>3- Restart your Eclipse IDE.</p>\n<p>Solution 2:</p>\n<p>1- Open the Servers tab from Windows Â» Show View Â» Servers menu.</p>\n<p>2- Right click on the server and delete it</p>\n<p>3-Create a new server by going New Â» Server on server tab.</p>\n<p>4-Click on Configure runtime environments link.</p>\n<p>5-Select the Apache Tomcat Server and remove it. This will remove the Tomcat server configuration.</p>\n<p>6-Click on OK and exit the screen above now.</p>\n<p>7-From the screen below, choose Apache Tomcat server and click on Next button:</p>\n<p>8-Browse to Tomcat Installation Directory.</p>\n<p>9-Click on Next and choose which project you would like to deploy:</p>\n<p>10-Click on Finish after adding your project.</p>\n<p>11-Now launch your Server.</p>\n<p>Solution 3:</p>\n<p>1-Go to your workspace directory Â» .metadata Â» .plugins Â» org.eclipse.wst.server.core folder.</p>\n<p>2- Delete the tmp folder.</p>\n<p>3- Restart your Eclipse IDE</p>\n"}],"owner":{"account_id":24239058,"reputation":83,"user_id":18191714,"display_name":"imherebcsomethingisntworking"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74679844,"answer_count":1,"score":0,"last_activity_date":1676020167,"creation_date":1670178745,"question_id":74679722,"body_markdown":"I am working on a Maven Project on Eclipse and need apache tomcat to run the application on a server. For some reason, it is not working for me and I get an error that says &quot;Server apache-tomcat-9.0.55 at localhost failed to start.&quot;. This happened to me yesterday but I just right clicked on the server section and added the same server again and it worked. This is not working anymore. I have attached photos of my library, build path, preferences, and the error message. Below is my pom.xml file.\r\n\r\n\r\n```&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.prog&lt;/groupId&gt;\r\n  &lt;artifactId&gt;sampleApp&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;sampleApp Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;dependencies&gt;\r\n  &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n   &lt;version&gt;8.0.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n  \r\n  &lt;dependency&gt;\r\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n  &lt;version&gt;1.2&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n  &lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n    &lt;finalName&gt;sampleApp&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAny help at all would be extremely appreciated. I really have no idea what else to try. I&#39;ve been working on this for several hours now and have made no progress after watching dozens of videos. Thank you so much for your time.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5eyw4.png\r\n  [2]: https://i.stack.imgur.com/74aUJ.png\r\n  [3]: https://i.stack.imgur.com/f5Xlr.jpg\r\n  [4]: https://i.stack.imgur.com/V4vTq.png\r\n  [5]: https://i.stack.imgur.com/rLFOF.png","title":"Server apache-tomcat-9.0.55 at localhost failed to start -- maven eclipse project","body":"<p>I am working on a Maven Project on Eclipse and need apache tomcat to run the application on a server. For some reason, it is not working for me and I get an error that says &quot;Server apache-tomcat-9.0.55 at localhost failed to start.&quot;. This happened to me yesterday but I just right clicked on the server section and added the same server again and it worked. This is not working anymore. I have attached photos of my library, build path, preferences, and the error message. Below is my pom.xml file.</p>\n<pre><code>  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.prog&lt;/groupId&gt;\n  &lt;artifactId&gt;sampleApp&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;sampleApp Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n   &lt;version&gt;8.0.13&lt;/version&gt;\n&lt;/dependency&gt;\n\n  \n  &lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n  &lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n  &lt;/plugins&gt;\n    &lt;finalName&gt;sampleApp&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Any help at all would be extremely appreciated. I really have no idea what else to try. I've been working on this for several hours now and have made no progress after watching dozens of videos. Thank you so much for your time.</p>\n<p><a href=\"https://i.stack.imgur.com/5eyw4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5eyw4.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/74aUJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/74aUJ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/f5Xlr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5Xlr.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/V4vTq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4vTq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","visual-studio-code","debugging","remote-debugging","language-server-protocol"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1676018155,"post_id":75408288,"comment_id":133056287,"body_markdown":"Have you checked out https://github.com/microsoft/vscode-mock-debug? That should teach you quite a lot about DAP and its implementation. The Java debugging extension is a much more complicated sample that mixes DAP and LSP so as to provide better user experience, but your own debugger adapter can live without LSP.","body":"Have you checked out <a href=\"https://github.com/microsoft/vscode-mock-debug\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-mock-debug</a>? That should teach you quite a lot about DAP and its implementation. The Java debugging extension is a much more complicated sample that mixes DAP and LSP so as to provide better user experience, but your own debugger adapter can live without LSP."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1676019474,"post_id":75408288,"comment_id":133056655,"body_markdown":"Can you please read about [the problems with images of text](//meta.stackoverflow.com/a/285557/11107541) and then [edit] to **convert** your images of text into actual text? Likely useful: [/help/formatting](/help/formatting)","body":"Can you please read about <a href=\"//meta.stackoverflow.com/a/285557/11107541\">the problems with images of text</a> and then <a href=\"https://stackoverflow.com/posts/75408288/edit\">edit</a> to <b>convert</b> your images of text into actual text? Likely useful: <a href=\"/help/formatting\">/help/formatting</a>"},{"owner":{"account_id":18095523,"reputation":21,"user_id":14624570,"display_name":"Levon Muradyan"},"score":0,"creation_date":1676019570,"post_id":75408288,"comment_id":133056688,"body_markdown":"Thanks for the response @LexLi, I don&#39;t want to implement my own DAP, I want to use already written ones. I solved the problem of starting Debug Adapter for `js` and `python3` by finding their executables using `vscode` extension.\n\nStarting to investigate java, I understood that java is a little bit different there is no executable, you should have a port and connect to that port. So, I wanted to know is there an easy solution for java?","body":"Thanks for the response @LexLi, I don&#39;t want to implement my own DAP, I want to use already written ones. I solved the problem of starting Debug Adapter for <code>js</code> and <code>python3</code> by finding their executables using <code>vscode</code> extension.  Starting to investigate java, I understood that java is a little bit different there is no executable, you should have a port and connect to that port. So, I wanted to know is there an easy solution for java?"},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1676054741,"post_id":75408288,"comment_id":133067337,"body_markdown":"I see. So, what you really want is the actual debugger/debug server. Then the Java one Microsoft created is in https://github.com/microsoft/java-debug Sadly there isn&#39;t enough documentation around such components, so all you can do is digest the code.","body":"I see. So, what you really want is the actual debugger/debug server. Then the Java one Microsoft created is in <a href=\"https://github.com/microsoft/java-debug\" rel=\"nofollow noreferrer\">github.com/microsoft/java-debug</a> Sadly there isn&#39;t enough documentation around such components, so all you can do is digest the code."}],"owner":{"account_id":18095523,"reputation":21,"user_id":14624570,"display_name":"Levon Muradyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676019795,"creation_date":1676015760,"question_id":75408288,"body_markdown":"I want to have Debug Adapter Protocol for Java for my application, I did much research but found only `vscode` implementations that can&#39;t be used for my app (because it contains a local `vscode` package).\r\n\r\nI know that Debug Adapter Protocol for Java can be activated by giving some requests to the language server, which will return `port` as a response on which it will be available. I started to dive deep into codes from `vscode` and `vscode-java-debug`, but can&#39;t figure out which I need. I only found that `vscode` has the following wrapped command using which it activated java DAP.\r\n\r\n```\r\nexport const JAVA_START_DEBUGSESSION = &quot;vscode.java.startDebugSession&quot;;\r\n```\r\n\r\nMaybe someone knows, what kind of request is it or can give some examples?\r\n\r\nI activated the java language server using the following command below:\r\n```\r\njava \\\r\n\t-Declipse.application=org.eclipse.jdt.ls.core.id1 \\\r\n\t-Dosgi.bundles.defaultStartLevel=4 \\\r\n\t-Declipse.product=org.eclipse.jdt.ls.core.product \\\r\n\t-Dlog.level=ALL \\\r\n\t-noverify \\\r\n\t-Xmx1G \\\r\n\t--add-modules=ALL-SYSTEM \\\r\n\t--add-opens java.base/java.util=ALL-UNNAMED \\\r\n\t--add-opens java.base/java.lang=ALL-UNNAMED \\\r\n\t-jar ./plugins/org.eclipse.equinox.launcher_1.5.200.v20180922-1751.jar \\\r\n\t-configuration ./config_linux \\\r\n\t-data /path/to/data\r\n```\r\n\r\nYou can find more details from here: https://github.com/eclipse/eclipse.jdt.ls/blob/master/README.md#running-from-the-command-line","title":"Java Debug Adapter Protocol","body":"<p>I want to have Debug Adapter Protocol for Java for my application, I did much research but found only <code>vscode</code> implementations that can't be used for my app (because it contains a local <code>vscode</code> package).</p>\n<p>I know that Debug Adapter Protocol for Java can be activated by giving some requests to the language server, which will return <code>port</code> as a response on which it will be available. I started to dive deep into codes from <code>vscode</code> and <code>vscode-java-debug</code>, but can't figure out which I need. I only found that <code>vscode</code> has the following wrapped command using which it activated java DAP.</p>\n<pre><code>export const JAVA_START_DEBUGSESSION = &quot;vscode.java.startDebugSession&quot;;\n</code></pre>\n<p>Maybe someone knows, what kind of request is it or can give some examples?</p>\n<p>I activated the java language server using the following command below:</p>\n<pre><code>java \\\n    -Declipse.application=org.eclipse.jdt.ls.core.id1 \\\n    -Dosgi.bundles.defaultStartLevel=4 \\\n    -Declipse.product=org.eclipse.jdt.ls.core.product \\\n    -Dlog.level=ALL \\\n    -noverify \\\n    -Xmx1G \\\n    --add-modules=ALL-SYSTEM \\\n    --add-opens java.base/java.util=ALL-UNNAMED \\\n    --add-opens java.base/java.lang=ALL-UNNAMED \\\n    -jar ./plugins/org.eclipse.equinox.launcher_1.5.200.v20180922-1751.jar \\\n    -configuration ./config_linux \\\n    -data /path/to/data\n</code></pre>\n<p>You can find more details from here: <a href=\"https://github.com/eclipse/eclipse.jdt.ls/blob/master/README.md#running-from-the-command-line\" rel=\"nofollow noreferrer\">https://github.com/eclipse/eclipse.jdt.ls/blob/master/README.md#running-from-the-command-line</a></p>\n"},{"tags":["java","parsing"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1493740923,"post_id":2206065,"comment_id":74527760,"body_markdown":"[roaster](https://github.com/forge/roaster) offers a fluent API to work with Java code.","body":"<a href=\"https://github.com/forge/roaster\" rel=\"nofollow noreferrer\">roaster</a> offers a fluent API to work with Java code."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1573452215,"post_id":2206065,"comment_id":103873458,"body_markdown":"@koppor can it also parse catch blocks in the source?","body":"@koppor can it also parse catch blocks in the source?"}],"answers":[{"comments":[{"owner":{"account_id":40817,"reputation":45766,"user_id":118437,"accept_rate":93,"display_name":"glmxndr"},"score":3,"creation_date":1265366942,"post_id":2206592,"comment_id":2157552,"body_markdown":"Great answer. Appreciate the effort. Thanks.","body":"Great answer. Appreciate the effort. Thanks."},{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":4,"creation_date":1342209813,"post_id":2206592,"comment_id":15155823,"body_markdown":"Great answer is great. Thanks, it helps people even today ;)","body":"Great answer is great. Thanks, it helps people even today ;)"},{"owner":{"account_id":24479,"reputation":12860,"user_id":62255,"accept_rate":73,"display_name":"jedierikb"},"score":2,"creation_date":1357493626,"post_id":2206592,"comment_id":19660235,"body_markdown":"The project is no longer maintained.  Check http://code.google.com/p/javaparser/issues/detail?id=9#c32 which leads you to https://github.com/matozoid/javaparser","body":"The project is no longer maintained.  Check <a href=\"http://code.google.com/p/javaparser/issues/detail?id=9#c32\" rel=\"nofollow noreferrer\">code.google.com/p/javaparser/issues/detail?id=9#c32</a> which leads you to <a href=\"https://github.com/matozoid/javaparser\" rel=\"nofollow noreferrer\">github.com/matozoid/javaparser</a>"},{"owner":{"account_id":1987711,"reputation":2160,"user_id":1782500,"accept_rate":89,"display_name":"Federico Tomassetti"},"score":4,"creation_date":1433795497,"post_id":2206592,"comment_id":49494591,"body_markdown":"The project is maintained at https://github.com/javaparser/javaparser and we released version 2.1 (fully supporting Java 8) a few weeks ago. Enjoy!","body":"The project is maintained at <a href=\"https://github.com/javaparser/javaparser\" rel=\"nofollow noreferrer\">github.com/javaparser/javaparser</a> and we released version 2.1 (fully supporting Java 8) a few weeks ago. Enjoy!"},{"owner":{"account_id":309588,"reputation":1743,"user_id":622121,"accept_rate":100,"display_name":"Kenji Noguchi"},"score":0,"creation_date":1481517936,"post_id":2206592,"comment_id":69393426,"body_markdown":"@FedericoTomassetti Did you implement everything from scratch?  I don&#39;t know much about Java but doesn&#39;t the java compiler have the parser classes?","body":"@FedericoTomassetti Did you implement everything from scratch?  I don&#39;t know much about Java but doesn&#39;t the java compiler have the parser classes?"},{"owner":{"account_id":1987711,"reputation":2160,"user_id":1782500,"accept_rate":89,"display_name":"Federico Tomassetti"},"score":0,"creation_date":1481529198,"post_id":2206592,"comment_id":69397014,"body_markdown":"I am a contributor, I did not write JavaParser from scratch. No, there is not such functionality as part of the JDK","body":"I am a contributor, I did not write JavaParser from scratch. No, there is not such functionality as part of the JDK"},{"owner":{"account_id":240638,"reputation":492,"user_id":510991,"display_name":"Lee"},"score":0,"creation_date":1484108079,"post_id":2206592,"comment_id":70369674,"body_markdown":"@FedericoTomassetti This is not true, http://docs.oracle.com/javase/8/docs/api/javax/tools/package-summary.html contains a blazing fast parser as part of the compilation pipeline.","body":"@FedericoTomassetti This is not true, <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/tools/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/tools/&hellip;</a> contains a blazing fast parser as part of the compilation pipeline."},{"owner":{"account_id":1987711,"reputation":2160,"user_id":1782500,"accept_rate":89,"display_name":"Federico Tomassetti"},"score":1,"creation_date":1484123878,"post_id":2206592,"comment_id":70376043,"body_markdown":"@Lee, yes I know it has a compiler, but this is different from a parser. A compiler needs to resolve symbols, so you need to have the dependencies to use that. There is code that can be parsed but cannot be compiled (because of semantic errors). So they are not the same thing. The parser is the first step of a compiler. JavaParser permits to build an AST, modify it and write back the code. I am not aware you can do that with the compiler API. Do you?","body":"@Lee, yes I know it has a compiler, but this is different from a parser. A compiler needs to resolve symbols, so you need to have the dependencies to use that. There is code that can be parsed but cannot be compiled (because of semantic errors). So they are not the same thing. The parser is the first step of a compiler. JavaParser permits to build an AST, modify it and write back the code. I am not aware you can do that with the compiler API. Do you?"},{"owner":{"account_id":240638,"reputation":492,"user_id":510991,"display_name":"Lee"},"score":4,"creation_date":1484178150,"post_id":2206592,"comment_id":70408046,"body_markdown":"The Javac compiler API has a fully accessible parsing API within the JDK. It&#39;s a bit convoluted, but you can get the system compiler (`ToolProvider.getSystemJavaCompiler()`), get its `JavacTask` via `compiler.getTask(...)`, and have it parse via `task.parse()`, which returns a collection of `CompilationUnitTree`s. The Sun/Oracle parser is actually much faster than even the ECJ parser, though it does not have the same level of error-inference that ECJ is capable of (for example, ECJ can give suggestions on what you mean, or partially parse code that is &quot;mostly&quot; correct).","body":"The Javac compiler API has a fully accessible parsing API within the JDK. It&#39;s a bit convoluted, but you can get the system compiler (<code>ToolProvider.getSystemJavaCompiler()</code>), get its <code>JavacTask</code> via <code>compiler.getTask(...)</code>, and have it parse via <code>task.parse()</code>, which returns a collection of <code>CompilationUnitTree</code>s. The Sun/Oracle parser is actually much faster than even the ECJ parser, though it does not have the same level of error-inference that ECJ is capable of (for example, ECJ can give suggestions on what you mean, or partially parse code that is &quot;mostly&quot; correct)."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1663107476,"post_id":2206592,"comment_id":130160881,"body_markdown":"@FedericoTomassetti &quot;No, there is not such functionality as part of the JDK&quot; was wrong in 2016. The Java Compiler API has been part of Java since the version 1.6 released in December 2006.","body":"@FedericoTomassetti &quot;No, there is not such functionality as part of the JDK&quot; was wrong in 2016. The Java Compiler API has been part of Java since the version 1.6 released in December 2006."}],"tags":[],"owner":{"account_id":77133,"reputation":878,"user_id":220363,"display_name":"arcticfox"},"comment_count":10,"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1573510662,"creation_date":1265366734,"answer_id":2206592,"question_id":2206065,"body_markdown":"Download the java parser from &lt;https://javaparser.org/&gt;\r\n\r\nYou&#39;ll have to write some code.  This code will invoke the parser... it will return you a CompilationUnit:\r\n\r\n                InputStream in = null;\r\n                CompilationUnit cu = null;\r\n                try\r\n                {\r\n                        in = new SEDInputStream(filename);\r\n                        cu = JavaParser.parse(in);\r\n                }\r\n                catch(ParseException x)\r\n                {\r\n                     // handle parse exceptions here.\r\n                }\r\n                finally\r\n                {\r\n                      in.close();\r\n                }\r\n                return cu;\r\n\r\nNote: SEDInputStream is a subclass of input stream. You can use a FileInputStream if you want.\r\n\r\n---\r\nYou&#39;ll have to create a visitor.  Your visitor will be easy because you&#39;re only interested in methods:\r\n\r\n      public class MethodVisitor extends VoidVisitorAdapter\r\n      {\r\n            public void visit(MethodDeclaration n, Object arg)\r\n            {\r\n                 // extract method information here.\r\n                 // put in to hashmap\r\n            }\r\n      }\r\n\r\n---\r\n\r\nTo invoke the visitor, do this:\r\n\r\n      MethodVisitor visitor = new MethodVisitor();\r\n      visitor.visit(cu, null);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java : parse java source code, extract methods","body":"<p>Download the java parser from <a href=\"https://javaparser.org/\" rel=\"noreferrer\">https://javaparser.org/</a></p>\n\n<p>You'll have to write some code.  This code will invoke the parser... it will return you a CompilationUnit:</p>\n\n<pre><code>            InputStream in = null;\n            CompilationUnit cu = null;\n            try\n            {\n                    in = new SEDInputStream(filename);\n                    cu = JavaParser.parse(in);\n            }\n            catch(ParseException x)\n            {\n                 // handle parse exceptions here.\n            }\n            finally\n            {\n                  in.close();\n            }\n            return cu;\n</code></pre>\n\n<p>Note: SEDInputStream is a subclass of input stream. You can use a FileInputStream if you want.</p>\n\n<hr>\n\n<p>You'll have to create a visitor.  Your visitor will be easy because you're only interested in methods:</p>\n\n<pre><code>  public class MethodVisitor extends VoidVisitorAdapter\n  {\n        public void visit(MethodDeclaration n, Object arg)\n        {\n             // extract method information here.\n             // put in to hashmap\n        }\n  }\n</code></pre>\n\n<hr>\n\n<p>To invoke the visitor, do this:</p>\n\n<pre><code>  MethodVisitor visitor = new MethodVisitor();\n  visitor.visit(cu, null);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1681215668,"post_id":75048248,"comment_id":134017375,"body_markdown":"Very nice ! I tested your code and it works perfectly !  could it be possible to say how to do the same to get class fields ?","body":"Very nice ! I tested your code and it works perfectly !  could it be possible to say how to do the same to get class fields ?"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1681250393,"post_id":75048248,"comment_id":134025790,"body_markdown":"Thank you for the compliment by the way, I got some downvotes for this detailed answer. Yes, you can replace `MethodTree` in the filter by `VariableTree`. Actually, I advise you to use the debug mode to look at the content of the variable `classMemberList` because there are many possibilities among those subinterfaces: https://docs.oracle.com/en/java/javase/20/docs/api/jdk.compiler/com/sun/source/tree/Tree.html VariableTree doesn&#39;t only represent field declarations, it&#39;s used for local variable declarations too.","body":"Thank you for the compliment by the way, I got some downvotes for this detailed answer. Yes, you can replace <code>MethodTree</code> in the filter by <code>VariableTree</code>. Actually, I advise you to use the debug mode to look at the content of the variable <code>classMemberList</code> because there are many possibilities among those subinterfaces: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.compiler/com/sun/source/tree/Tree.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/jdk.compiler/com/&zwnj;&#8203;sun/&hellip;</a> VariableTree doesn&#39;t only represent field declarations, it&#39;s used for local variable declarations too."},{"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"score":0,"creation_date":1681290570,"post_id":75048248,"comment_id":134031276,"body_markdown":"VariableTree ! Nice the class i was looking for ! I searched for fields and properties ... haven&#39;t thought about variable. Yes i saw that, seems Stack became since 10 years more and more unfriendly and form oriented than content... While I am on it, is possible to also obtain parent &amp; implemented classes ?","body":"VariableTree ! Nice the class i was looking for ! I searched for fields and properties ... haven&#39;t thought about variable. Yes i saw that, seems Stack became since 10 years more and more unfriendly and form oriented than content... While I am on it, is possible to also obtain parent &amp; implemented classes ?"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1681306357,"post_id":75048248,"comment_id":134035051,"body_markdown":"Yes, getExtendsClause() returns the single tree of the parent and getImplementsClause() returns a list of trees, each tree represents an implemented interface.","body":"Yes, getExtendsClause() returns the single tree of the parent and getImplementsClause() returns a list of trees, each tree represents an implemented interface."}],"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"comment_count":4,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1676019632,"creation_date":1673185662,"answer_id":75048248,"question_id":2206065,"body_markdown":"I implemented [lee][1]&#39;s suggestion, there is **no need of third party libraries to achieve that**, the following example prints the names of the methods (tested with Java 17 but should work with Java 1.6 with minor changes):\r\n\r\n    import com.sun.source.util.JavacTask;\r\n    import com.sun.source.tree.CompilationUnitTree;\r\n    import com.sun.source.tree.ClassTree;\r\n    import com.sun.source.tree.MethodTree;\r\n    import com.sun.source.tree.Tree;\r\n    import java.io.File;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import javax.tools.JavaCompiler;\r\n    import javax.tools.JavaFileObject;\r\n    import javax.tools.StandardJavaFileManager;\r\n    import javax.tools.ToolProvider;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(final String[] args) throws Exception {\r\n            final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n            try (final StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, StandardCharsets.UTF_8)) {\r\n                final Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Arrays.asList(new File(args[0])));\r\n                final JavacTask javacTask = (JavacTask) compiler.getTask(null, fileManager, null, null, null, compilationUnits);\r\n                final Iterable&lt;? extends CompilationUnitTree&gt; compilationUnitTrees = javacTask.parse();\r\n                final ClassTree classTree = (ClassTree) compilationUnitTrees.iterator().next().getTypeDecls().get(0);\r\n                final List&lt;? extends Tree&gt; classMemberList = classTree.getMembers();\r\n                final List&lt;MethodTree&gt; classMethodMemberList = classMemberList.stream()\r\n                    .filter(MethodTree.class::isInstance)\r\n                    .map(MethodTree.class::cast)\r\n                    .collect(Collectors.toList());\r\n                // just prints the names of the methods\r\n                classMethodMemberList.stream().map(MethodTree::getName)\r\n                    .forEachOrdered(System.out::println);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nNote that other solutions except ANTLR don&#39;t support very latest versions of Java, javaparser doesn&#39;t fully support 19 currently (January 2023), JavaCC doesn&#39;t seem to support Java &gt;= 9 according to its public documentation.\r\n\r\n[Federico Tomassetti][2] [wrote in 2016 that there was no parsing functionality as part of the JDK][3], I replied that he was wrong. I have nothing against third party libraries but providing false information to developers in order to promote her/his stuff is not honest and is not the kind of behavior I expect on StackOverflow. I use some classes and APIs available in Java since Java 1.6 released in December 2006.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/510991/lee\r\n  [2]: https://stackoverflow.com/users/1782500/federico-tomassetti\r\n  [3]: https://stackoverflow.com/questions/2206065/java-parse-java-source-code-extract-methods/75048248#comment69397014_2206592","title":"Java : parse java source code, extract methods","body":"<p>I implemented <a href=\"https://stackoverflow.com/users/510991/lee\">lee</a>'s suggestion, there is <strong>no need of third party libraries to achieve that</strong>, the following example prints the names of the methods (tested with Java 17 but should work with Java 1.6 with minor changes):</p>\n<pre><code>import com.sun.source.util.JavacTask;\nimport com.sun.source.tree.CompilationUnitTree;\nimport com.sun.source.tree.ClassTree;\nimport com.sun.source.tree.MethodTree;\nimport com.sun.source.tree.Tree;\nimport java.io.File;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport javax.tools.JavaCompiler;\nimport javax.tools.JavaFileObject;\nimport javax.tools.StandardJavaFileManager;\nimport javax.tools.ToolProvider;\n\npublic class Main {\n\n    public static void main(final String[] args) throws Exception {\n        final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n        try (final StandardJavaFileManager fileManager = compiler.getStandardFileManager(null, null, StandardCharsets.UTF_8)) {\n            final Iterable&lt;? extends JavaFileObject&gt; compilationUnits = fileManager.getJavaFileObjectsFromFiles(Arrays.asList(new File(args[0])));\n            final JavacTask javacTask = (JavacTask) compiler.getTask(null, fileManager, null, null, null, compilationUnits);\n            final Iterable&lt;? extends CompilationUnitTree&gt; compilationUnitTrees = javacTask.parse();\n            final ClassTree classTree = (ClassTree) compilationUnitTrees.iterator().next().getTypeDecls().get(0);\n            final List&lt;? extends Tree&gt; classMemberList = classTree.getMembers();\n            final List&lt;MethodTree&gt; classMethodMemberList = classMemberList.stream()\n                .filter(MethodTree.class::isInstance)\n                .map(MethodTree.class::cast)\n                .collect(Collectors.toList());\n            // just prints the names of the methods\n            classMethodMemberList.stream().map(MethodTree::getName)\n                .forEachOrdered(System.out::println);\n        }\n    }\n\n}\n</code></pre>\n<p>Note that other solutions except ANTLR don't support very latest versions of Java, javaparser doesn't fully support 19 currently (January 2023), JavaCC doesn't seem to support Java &gt;= 9 according to its public documentation.</p>\n<p><a href=\"https://stackoverflow.com/users/1782500/federico-tomassetti\">Federico Tomassetti</a> <a href=\"https://stackoverflow.com/questions/2206065/java-parse-java-source-code-extract-methods/75048248#comment69397014_2206592\">wrote in 2016 that there was no parsing functionality as part of the JDK</a>, I replied that he was wrong. I have nothing against third party libraries but providing false information to developers in order to promote her/his stuff is not honest and is not the kind of behavior I expect on StackOverflow. I use some classes and APIs available in Java since Java 1.6 released in December 2006.</p>\n"}],"owner":{"account_id":40817,"reputation":45766,"user_id":118437,"accept_rate":93,"display_name":"glmxndr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64281,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":2206592,"answer_count":2,"score":56,"last_activity_date":1676019632,"creation_date":1265360888,"question_id":2206065,"body_markdown":"I wish to parse java source code files, and extract the methods source code.\r\n\r\nI would need a method like this : \r\n\r\n    /** Returns a map with key = method name ; value = method source code */\r\n    Map&lt;String,String&gt; getMethods(File javaFile);\r\n\r\nIs there a simple way to achieve this, a library to help me build my method, etc. ?","title":"Java : parse java source code, extract methods","body":"<p>I wish to parse java source code files, and extract the methods source code.</p>\n\n<p>I would need a method like this : </p>\n\n<pre><code>/** Returns a map with key = method name ; value = method source code */\nMap&lt;String,String&gt; getMethods(File javaFile);\n</code></pre>\n\n<p>Is there a simple way to achieve this, a library to help me build my method, etc. ?</p>\n"},{"tags":["java","postgresql","jpa"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1676017038,"post_id":75407748,"comment_id":133055992,"body_markdown":"What version of Postgres dialect is configured for your dataSource? You probably should configure dialect to be 8.2+ version (where UUID support was introduced) or create custom UUID type converter, because by default UUID is being converted to `byte[]` which is not what you want","body":"What version of Postgres dialect is configured for your dataSource? You probably should configure dialect to be 8.2+ version (where UUID support was introduced) or create custom UUID type converter, because by default UUID is being converted to <code>byte[]</code> which is not what you want"},{"owner":{"account_id":3456301,"reputation":1630,"user_id":2894742,"accept_rate":63,"display_name":"Selva"},"score":0,"creation_date":1676018609,"post_id":75407748,"comment_id":133056405,"body_markdown":"I am using postgres version 42.4.1. I am facing issue only with jpa native queries. If I directly update entity(repository.save) or hql its working fine. I can update non null value only the issue with updating null","body":"I am using postgres version 42.4.1. I am facing issue only with jpa native queries. If I directly update entity(repository.save) or hql its working fine. I can update non null value only the issue with updating null"}],"owner":{"account_id":3456301,"reputation":1630,"user_id":2894742,"accept_rate":63,"display_name":"Selva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676018696,"creation_date":1676011640,"question_id":75407748,"body_markdown":"\r\nI am trying to update with null value in uuid column in postgres db using jpa\r\n\r\nHere is my code:\r\n\r\n\t\r\n\r\n    @Transactional\r\n        @Modifying\r\n        @Query(value = &quot;update student set teacher_id=:teacherId where studentId=:studentId&quot;, nativeQuery = true)\r\n        void updateTeacherUUID(@Param(&quot;teacherId&quot;) UUID teacherId, @Param(&quot;studentId&quot;) UUID studentId);\r\n\t\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n    \r\n       @Id\r\n       UUID studentId;\r\n       \r\n       @Type(type = &quot;org.hibernate.type.PostgresUUIDType&quot;)\r\n       @Column(name = &quot;teacher_id&quot;, columnDefinition = &quot;uuid&quot;)\r\n       UUID teacherId;\r\n    }\r\n\r\nI am getting below error when I try to update\r\n\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42804\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;teacher_id&quot; is of type uuid but expression is of type bytea\r\n      Hint: You will need to rewrite or cast the expression.\r\n      \r\nNote: This issue occurring only in jpa native queries If I update directly using repository.update or hql its working fine\r\n\r\nCan anyone please help me on this\r\n\r\n","title":"Unable to update null value in UUID column postrgres via jpa native query","body":"<p>I am trying to update with null value in uuid column in postgres db using jpa</p>\n<p>Here is my code:</p>\n<pre><code>@Transactional\n    @Modifying\n    @Query(value = &quot;update student set teacher_id=:teacherId where studentId=:studentId&quot;, nativeQuery = true)\n    void updateTeacherUUID(@Param(&quot;teacherId&quot;) UUID teacherId, @Param(&quot;studentId&quot;) UUID studentId);\n\n@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n   @Id\n   UUID studentId;\n   \n   @Type(type = &quot;org.hibernate.type.PostgresUUIDType&quot;)\n   @Column(name = &quot;teacher_id&quot;, columnDefinition = &quot;uuid&quot;)\n   UUID teacherId;\n}\n</code></pre>\n<p>I am getting below error when I try to update</p>\n<pre><code>o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42804\no.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;teacher_id&quot; is of type uuid but expression is of type bytea\n  Hint: You will need to rewrite or cast the expression.\n  \n</code></pre>\n<p>Note: This issue occurring only in jpa native queries If I update directly using repository.update or hql its working fine</p>\n<p>Can anyone please help me on this</p>\n"},{"tags":["java","arrays","collections","guava","colt"],"comments":[{"owner":{"account_id":982231,"reputation":3261,"user_id":1001686,"accept_rate":94,"display_name":"Zach Latta"},"score":0,"creation_date":1362300582,"post_id":15183982,"comment_id":21390451,"body_markdown":"Are you trying to intersect the values of a list of int arrays? What do you mean by &quot;straight forward way&quot;?","body":"Are you trying to intersect the values of a list of int arrays? What do you mean by &quot;straight forward way&quot;?"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1362300919,"post_id":15183982,"comment_id":21390516,"body_markdown":"&quot;Common&quot; meaning that they appear in *every* list, or in *more than one* list?","body":"&quot;Common&quot; meaning that they appear in <i>every</i> list, or in <i>more than one</i> list?"},{"owner":{"account_id":2225983,"reputation":2712,"user_id":1964750,"accept_rate":59,"display_name":"ravindrab"},"score":0,"creation_date":1362301736,"post_id":15183982,"comment_id":21390679,"body_markdown":"I meant by &quot;straight forward way&quot; a method in some kind of library like apache commons, colt, guava etc.","body":"I meant by &quot;straight forward way&quot; a method in some kind of library like apache commons, colt, guava etc."},{"owner":{"account_id":1988950,"reputation":209,"user_id":1783460,"display_name":"Mike"},"score":1,"creation_date":1362301988,"post_id":15183982,"comment_id":21390730,"body_markdown":"You can iterate through all elements in each array and populate Map. Where key is your integer value and value is counter of how many times this element is met.","body":"You can iterate through all elements in each array and populate Map. Where key is your integer value and value is counter of how many times this element is met."}],"answers":[{"comments":[{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":1,"creation_date":1362307465,"post_id":15184202,"comment_id":21391796,"body_markdown":"Unlike in C#, in Java you cannot specify a primitive as a generic type. So instead of `Set&lt;int&gt;`, use `Set&lt;Integer&gt;`.","body":"Unlike in C#, in Java you cannot specify a primitive as a generic type. So instead of <code>Set&lt;int&gt;</code>, use <code>Set&lt;Integer&gt;</code>."}],"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363931195,"creation_date":1362302199,"answer_id":15184202,"question_id":15183982,"body_markdown":"If you are looking for a function that returns elements that exist in all lists,\r\n\r\nthen the straight forward &amp; simple way is building a statistic { &lt; member, occurences &gt; }\r\n\r\nThe condition here is no duplicates among the same list,\r\n\r\n\r\n\r\n    private Set&lt;Integer&gt; getCommonElements(ArrayList&lt;Integer[]&gt; idList)\r\n    {\r\n\r\n        MapList&lt;Integer,Short&gt; stat = new MapList&lt;Integer,Short&gt;();\r\n\r\n        // Here we count how many times each value occur\r\n        for (int i = 0; i &lt; idList.size(); i++)\r\n        {\r\n            for (int j = 0; j &lt; idList.get(i).size; j++)\r\n            {\r\n                if (stat.containsKey(idList.get(i)[j]))\r\n                {\r\n                    stat.set(idList.get(i)[j], stat.get(idList.get(i)[j])+1);\r\n                }\r\n                else\r\n                {\r\n                    stat.add(idList.get(i)[j], 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Here we only keep value that occured in all lists\r\n        for (int i = 0; i &lt; stat.size(); i++)\r\n        {\r\n            if (stat.get(i) &lt; idList.size())\r\n            {\r\n                stat.remove(i);\r\n                i--;\r\n            }\r\n        }\r\n\r\n        return stat.keySet();\r\n    }","title":"Is there a way to find common elements in multiple lists?","body":"<p>If you are looking for a function that returns elements that exist in all lists,</p>\n\n<p>then the straight forward &amp; simple way is building a statistic { &lt; member, occurences > }</p>\n\n<p>The condition here is no duplicates among the same list,</p>\n\n<pre><code>private Set&lt;Integer&gt; getCommonElements(ArrayList&lt;Integer[]&gt; idList)\n{\n\n    MapList&lt;Integer,Short&gt; stat = new MapList&lt;Integer,Short&gt;();\n\n    // Here we count how many times each value occur\n    for (int i = 0; i &lt; idList.size(); i++)\n    {\n        for (int j = 0; j &lt; idList.get(i).size; j++)\n        {\n            if (stat.containsKey(idList.get(i)[j]))\n            {\n                stat.set(idList.get(i)[j], stat.get(idList.get(i)[j])+1);\n            }\n            else\n            {\n                stat.add(idList.get(i)[j], 1);\n            }\n        }\n    }\n\n    // Here we only keep value that occured in all lists\n    for (int i = 0; i &lt; stat.size(); i++)\n    {\n        if (stat.get(i) &lt; idList.size())\n        {\n            stat.remove(i);\n            i--;\n        }\n    }\n\n    return stat.keySet();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1970166,"reputation":2148,"user_id":1769353,"accept_rate":88,"display_name":"Amir Kost"},"score":2,"creation_date":1362466055,"post_id":15184473,"comment_id":21448923,"body_markdown":"It still complies with your requirements - you can transform each list to a Set (a HashSet can take a Collection as a constructor argument), do the intersection, and transform the intersected set back to list. This solution is O(n), whereas sorting each list and comparing is O(n*log(n)), and comparing each item with other items is O(n^2).","body":"It still complies with your requirements - you can transform each list to a Set (a HashSet can take a Collection as a constructor argument), do the intersection, and transform the intersected set back to list. This solution is O(n), whereas sorting each list and comparing is O(n*log(n)), and comparing each item with other items is O(n^2)."},{"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"score":2,"creation_date":1393292582,"post_id":15184473,"comment_id":33348912,"body_markdown":"@AmirKost converting to a `Set` (that&#39;s not a `LinkedHashSet`) will lose the ordering of the list.","body":"@AmirKost converting to a <code>Set</code> (that&#39;s not a <code>LinkedHashSet</code>) will lose the ordering of the list."}],"tags":[],"owner":{"account_id":1970166,"reputation":2148,"user_id":1769353,"accept_rate":88,"display_name":"Amir Kost"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1362304476,"creation_date":1362304476,"answer_id":15184473,"question_id":15183982,"body_markdown":"You can transform the lists to sets, and then use `Set.retainAll` method for intersection between the different sets.\r\nOnce you intersect all sets, you are left with the common elements, and you can transform the resulting set back to a list.","title":"Is there a way to find common elements in multiple lists?","body":"<p>You can transform the lists to sets, and then use <code>Set.retainAll</code> method for intersection between the different sets.\nOnce you intersect all sets, you are left with the common elements, and you can transform the resulting set back to a list.</p>\n"},{"comments":[{"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"score":0,"creation_date":1500235839,"post_id":15222223,"comment_id":77235060,"body_markdown":"this helped me a lot thanks for the solution.  I wonder why this is not  a acceptable, anyways thanks","body":"this helped me a lot thanks for the solution.  I wonder why this is not  a acceptable, anyways thanks"}],"tags":[],"owner":{"account_id":908333,"reputation":1660,"user_id":942772,"accept_rate":80,"display_name":"Oussama Zoghlami"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1501279146,"creation_date":1362481679,"answer_id":15222223,"question_id":15183982,"body_markdown":"You can use Set&#39;s intersection method offered by [Guava](http://code.google.com/p/guava-libraries/), Here is a little example : \r\n\r\n    public &lt;T&gt; Set&lt;T&gt; intersection(List&lt;T&gt;... list) {\r\n    \tSet&lt;T&gt; result = Sets.newHashSet(list[0]);\r\n    \tfor (List&lt;T&gt; numbers : list) {\r\n    \t\tresult = Sets.intersection(result, Sets.newHashSet(numbers));\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\nHope that could help you","title":"Is there a way to find common elements in multiple lists?","body":"<p>You can use Set's intersection method offered by <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>, Here is a little example : </p>\n\n<pre><code>public &lt;T&gt; Set&lt;T&gt; intersection(List&lt;T&gt;... list) {\n    Set&lt;T&gt; result = Sets.newHashSet(list[0]);\n    for (List&lt;T&gt; numbers : list) {\n        result = Sets.intersection(result, Sets.newHashSet(numbers));\n    }\n    return result;\n}\n</code></pre>\n\n<p>Hope that could help you</p>\n"},{"tags":[],"owner":{"account_id":4041930,"reputation":3,"user_id":3324510,"display_name":"ArunKR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403861164,"creation_date":1403861164,"answer_id":24448355,"question_id":15183982,"body_markdown":"    public class ArrayListImpl{\r\n      public static void main(String s[]){\r\n        ArrayList&lt;Integer&gt; al1=new ArrayList&lt;Integer&gt;();\r\n         al1.add(21);al1.add(23);al1.add(25);al1.add(26);\r\n        ArrayList&lt;Integer&gt; al2=new ArrayList&lt;Integer&gt;();\r\n         al2.add(15);al2.add(16);al2.add(23);al2.add(25);\r\n         ArrayList Al3=new ArrayList&lt;Integer&gt;();\r\n         al3.addAll(al1);\r\n          System.out.println(&quot;Al3 Elements :&quot;+al3);\r\n         al3.retainAll(al2); //Keeps common elements of (al1 &amp; al2) &amp; removes remaining elements\r\n           System.out.println(&quot;Common Elements Between Two Array List:&quot;+al3);  \r\n    }\r\n    }","title":"Is there a way to find common elements in multiple lists?","body":"<pre><code>public class ArrayListImpl{\n  public static void main(String s[]){\n    ArrayList&lt;Integer&gt; al1=new ArrayList&lt;Integer&gt;();\n     al1.add(21);al1.add(23);al1.add(25);al1.add(26);\n    ArrayList&lt;Integer&gt; al2=new ArrayList&lt;Integer&gt;();\n     al2.add(15);al2.add(16);al2.add(23);al2.add(25);\n     ArrayList Al3=new ArrayList&lt;Integer&gt;();\n     al3.addAll(al1);\n      System.out.println(\"Al3 Elements :\"+al3);\n     al3.retainAll(al2); //Keeps common elements of (al1 &amp; al2) &amp; removes remaining elements\n       System.out.println(\"Common Elements Between Two Array List:\"+al3);  \n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10062911,"reputation":1019,"user_id":7438905,"display_name":"Chen Ni"},"score":1,"creation_date":1593082073,"post_id":26143622,"comment_id":110657577,"body_markdown":"Why are you starting from index 1? Aren&#39;t we supposed to start from 0?","body":"Why are you starting from index 1? Aren&#39;t we supposed to start from 0?"}],"tags":[],"owner":{"account_id":441194,"reputation":471,"user_id":831157,"accept_rate":83,"display_name":"Han Tuzun"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1412173305,"creation_date":1412173305,"answer_id":26143622,"question_id":15183982,"body_markdown":"We can use [`retainAll` method of Collections][1]. I initialised my `commons` arraylist with the first array list and called this for each remaining arraylists.\r\n\r\n\t\tList&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tlists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 5)));\r\n\t\tlists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 6, 7, 9, 3)));\r\n\t\tlists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 10, 11)));\r\n\r\n\t\tList&lt;Integer&gt; commons = new ArrayList&lt;Integer&gt;();\r\n\t\tcommons.addAll(lists.get(1));\r\n\t\tfor (ListIterator&lt;List&lt;Integer&gt;&gt; iter = lists.listIterator(1); iter.hasNext(); ) {\r\n\t\t\tcommons.retainAll(iter.next());\r\n\t\t}\r\n\r\n\t\tSystem.out.println(commons);\r\n\t\tSystem.out.println(lists.get(1));\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#retainAll(java.util.Collection)","title":"Is there a way to find common elements in multiple lists?","body":"<p>We can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#retainAll(java.util.Collection)\" rel=\"noreferrer\"><code>retainAll</code> method of Collections</a>. I initialised my <code>commons</code> arraylist with the first array list and called this for each remaining arraylists.</p>\n\n<pre><code>    List&lt;List&lt;Integer&gt;&gt; lists = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    lists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 5)));\n    lists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 6, 7, 9, 3)));\n    lists.add(new ArrayList&lt;Integer&gt;(Arrays.asList(1, 3, 10, 11)));\n\n    List&lt;Integer&gt; commons = new ArrayList&lt;Integer&gt;();\n    commons.addAll(lists.get(1));\n    for (ListIterator&lt;List&lt;Integer&gt;&gt; iter = lists.listIterator(1); iter.hasNext(); ) {\n        commons.retainAll(iter.next());\n    }\n\n    System.out.println(commons);\n    System.out.println(lists.get(1));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1544657861,"post_id":52617572,"comment_id":94358872,"body_markdown":"I think this should be accepted, although I think the correct form is: `ArrayList retain = list1.stream().filter(list2::contains).collect(Collectors.toCollection(ArrayList::new));`","body":"I think this should be accepted, although I think the correct form is: <code>ArrayList retain = list1.stream().filter(list2::contains).collect(Collectors.to&zwnj;&#8203;Collection(ArrayList&zwnj;&#8203;::new));</code>"},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":1,"creation_date":1620782261,"post_id":52617572,"comment_id":119301100,"body_markdown":"this only works with 3 lists. I think the question is about arbitrary number of lists.","body":"this only works with 3 lists. I think the question is about arbitrary number of lists."},{"owner":{"account_id":21454136,"reputation":336,"user_id":15806017,"display_name":"stefano"},"score":0,"creation_date":1645915768,"post_id":52617572,"comment_id":125996707,"body_markdown":"@TriCore Correct me if I&#39;m wrong but, why can&#39;t you just add more `.filter(list3::contains)` to the statement?","body":"@TriCore Correct me if I&#39;m wrong but, why can&#39;t you just add more <code>.filter(list3::contains)</code> to the statement?"},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1646027508,"post_id":52617572,"comment_id":126014613,"body_markdown":"@devdudejohn you can add more at compile time if you know the number of lists at the time of writing code, no problem there. But if the number of lists is unknown at compile-time then you need to write code that could handle any number of lists.","body":"@devdudejohn you can add more at compile time if you know the number of lists at the time of writing code, no problem there. But if the number of lists is unknown at compile-time then you need to write code that could handle any number of lists."}],"tags":[],"owner":{"account_id":6865601,"reputation":2052,"user_id":5278172,"display_name":"Rohit Jain"},"comment_count":4,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1595746370,"creation_date":1538521379,"answer_id":52617572,"question_id":15183982,"body_markdown":"with Java 8 \r\n\r\n    ArrayList retain = list1.stream()\r\n                         .filter(list2::contains).filter(list3::contains).collect(toList())","title":"Is there a way to find common elements in multiple lists?","body":"<p>with Java 8</p>\n<pre><code>ArrayList retain = list1.stream()\n                     .filter(list2::contains).filter(list3::contains).collect(toList())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4922526,"reputation":1960,"user_id":3964927,"accept_rate":100,"display_name":"Null"},"score":0,"creation_date":1614637930,"post_id":66430018,"comment_id":117441269,"body_markdown":"Please explain how this code works and answers the question.","body":"Please explain how this code works and answers the question."},{"owner":{"account_id":91055,"reputation":218194,"user_id":250259,"accept_rate":93,"display_name":"John Conde"},"score":0,"creation_date":1614643079,"post_id":66430018,"comment_id":117442780,"body_markdown":"Code dumps do not make for good answers. You should explain *how* and *why* this solves their problem. I recommend reading, &quot;[How do I write a good answer?&quot;](//stackoverflow.com/help/how-to-answer). This can help future users learn and eventually apply that knowledge to their own code. You are also likely to have positive feedback/upvotes from users, when the code is explained.","body":"Code dumps do not make for good answers. You should explain <i>how</i> and <i>why</i> this solves their problem. I recommend reading, &quot;<a href=\"//stackoverflow.com/help/how-to-answer\">How do I write a good answer?&quot;</a>. This can help future users learn and eventually apply that knowledge to their own code. You are also likely to have positive feedback/upvotes from users, when the code is explained."}],"tags":[],"owner":{"account_id":20844342,"reputation":1,"user_id":15310217,"display_name":"Pratik Mungalpara"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614643086,"creation_date":1614634511,"answer_id":66430018,"question_id":15183982,"body_markdown":"    public class commonvalue {\r\n    \r\n      \r\n       Public static void MyMethod(){\r\n            \r\n           Set&lt;integer&gt; S1 = new set&lt;integer&gt;{1,3,5};\r\n            Set&lt;integer&gt; S2 = new set&lt;integer&gt;{1,6,7,9,3};\r\n            Set&lt;integer&gt; S3 = new set&lt;integer&gt;{1,3,10,11};\r\n               \r\n                s2.retainall(s1);\r\n                s3.retainall(s2);\r\n           \r\n           system.debug(s3);\r\n    }\r\n    }\r\n\r\n","title":"Is there a way to find common elements in multiple lists?","body":"<pre><code>public class commonvalue {\n\n  \n   Public static void MyMethod(){\n        \n       Set&lt;integer&gt; S1 = new set&lt;integer&gt;{1,3,5};\n        Set&lt;integer&gt; S2 = new set&lt;integer&gt;{1,6,7,9,3};\n        Set&lt;integer&gt; S3 = new set&lt;integer&gt;{1,3,10,11};\n           \n            s2.retainall(s1);\n            s3.retainall(s2);\n       \n       system.debug(s3);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11260582,"reputation":102,"user_id":8259045,"display_name":"T4puSD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674638497,"creation_date":1674638497,"answer_id":75231851,"question_id":15183982,"body_markdown":"If you are using JAVA 8 streams. Then using stream reduce operation we can achieve the same.\r\n\r\nConsidering your example: Let&#39;s say\r\na = [1,3,5], b = [1,6,7,9,3] and c = [1,3,10,11]\r\n\r\n```java\r\n    List&lt;Integer&gt; commonElements = Stream.of(a,b,c)\r\n         .reduce((s1,s2) -&gt; {\r\n              s1.retainAll(s2); \r\n              return s1;\r\n          }).orElse(Collections.emptyList());\r\n```\r\nKeep in mind that after running this operation `a` will get modified with common values as well. So you will lose the actual value of `a`.\r\n\r\nSo elements of `a` and the result elements of `commonElements` will be essentially the same after running this operation.","title":"Is there a way to find common elements in multiple lists?","body":"<p>If you are using JAVA 8 streams. Then using stream reduce operation we can achieve the same.</p>\n<p>Considering your example: Let's say\na = [1,3,5], b = [1,6,7,9,3] and c = [1,3,10,11]</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;Integer&gt; commonElements = Stream.of(a,b,c)\n         .reduce((s1,s2) -&gt; {\n              s1.retainAll(s2); \n              return s1;\n          }).orElse(Collections.emptyList());\n</code></pre>\n<p>Keep in mind that after running this operation <code>a</code> will get modified with common values as well. So you will lose the actual value of <code>a</code>.</p>\n<p>So elements of <code>a</code> and the result elements of <code>commonElements</code> will be essentially the same after running this operation.</p>\n"},{"tags":[],"owner":{"account_id":2023117,"reputation":8402,"user_id":1808829,"accept_rate":80,"display_name":"Ayaz Alifov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676018047,"creation_date":1676018047,"answer_id":75408633,"question_id":15183982,"body_markdown":"Giving some another alternative code using retainAll capability of Set\r\n\r\n    public List getCommonItems(List... lists) {\r\n        Set&lt;Integer&gt; result = new HashSet&lt;&gt;(lists[0]);\r\n\r\n        for (List list : lists) {\r\n            result.retainAll(new HashSet&lt;&gt;(list));\r\n        }\r\n\r\n        return new ArrayList&lt;&gt;(result);;\r\n    }\r\n\r\n\r\n\r\nUsage:\r\n       \r\n     List list1 = [1, 2, 3]\r\n     List list2 = [3, 2, 1]\r\n     List list3 = [2, 5, 1]\r\n    \r\n     List commonItems = getCommonItems(list1, list2, list3)\r\n     System.out.println(&quot;Common items: &quot; + result);\r\n\r\n\r\nResult: \r\n\r\n    commonItems: [1, 2]","title":"Is there a way to find common elements in multiple lists?","body":"<p>Giving some another alternative code using retainAll capability of Set</p>\n<pre><code>public List getCommonItems(List... lists) {\n    Set&lt;Integer&gt; result = new HashSet&lt;&gt;(lists[0]);\n\n    for (List list : lists) {\n        result.retainAll(new HashSet&lt;&gt;(list));\n    }\n\n    return new ArrayList&lt;&gt;(result);;\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code> List list1 = [1, 2, 3]\n List list2 = [3, 2, 1]\n List list3 = [2, 5, 1]\n\n List commonItems = getCommonItems(list1, list2, list3)\n System.out.println(&quot;Common items: &quot; + result);\n</code></pre>\n<p>Result:</p>\n<pre><code>commonItems: [1, 2]\n</code></pre>\n"}],"owner":{"account_id":2225983,"reputation":2712,"user_id":1964750,"accept_rate":59,"display_name":"ravindrab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43920,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":15184473,"answer_count":9,"score":21,"last_activity_date":1676018047,"creation_date":1362300255,"question_id":15183982,"body_markdown":"I have a list of integer arrays. I need to find the common elements between those. What I can think of is an extension of what is listed in  [**Common elements in two lists**][1]\r\n\r\n    Example would be \r\n    [1,3,5],\r\n    [1,6,7,9,3],\r\n    [1,3,10,11]\r\n\r\n    should result in [1,3]\r\n\r\n**There are no duplicates in the arrays as well.**\r\n\r\nIs there a straight forward way to do this? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5943330/common-elements-in-two-lists","title":"Is there a way to find common elements in multiple lists?","body":"<p>I have a list of integer arrays. I need to find the common elements between those. What I can think of is an extension of what is listed in  <a href=\"https://stackoverflow.com/questions/5943330/common-elements-in-two-lists\"><strong>Common elements in two lists</strong></a></p>\n\n<pre><code>Example would be \n[1,3,5],\n[1,6,7,9,3],\n[1,3,10,11]\n\nshould result in [1,3]\n</code></pre>\n\n<p><strong>There are no duplicates in the arrays as well.</strong></p>\n\n<p>Is there a straight forward way to do this? </p>\n"},{"tags":["java","junit","mockito","entitymanager"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1675948015,"post_id":75398991,"comment_id":133039781,"body_markdown":"Are you using Spring Boot? Did you try anything with [`@DataJpaTest`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html)?","body":"Are you using Spring Boot? Did you try anything with <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\"><code>@DataJpaTest</code></a>?"},{"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"score":0,"creation_date":1675948560,"post_id":75398991,"comment_id":133039941,"body_markdown":"@dan1st no, I didn&#39;t. I&#39;m going to try it.","body":"@dan1st no, I didn&#39;t. I&#39;m going to try it."}],"answers":[{"comments":[{"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"score":0,"creation_date":1676018491,"post_id":75408628,"comment_id":133056371,"body_markdown":"You need to use this annotation: @ExtendWith(MockitoExtension.class)","body":"You need to use this annotation: @ExtendWith(MockitoExtension.class)"}],"tags":[],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676018019,"creation_date":1676018019,"answer_id":75408628,"question_id":75398991,"body_markdown":"I don&#39;t know if it&#39;s a good solution, but I obtain 100% coverage.\r\n\r\n\r\n\r\n\t\r\n\t@Mock\r\n\tEntityManager entityManager;\r\n\t\r\n\t@Mock\r\n\tQuery query;\r\n\t\r\n\t@InjectMocks\r\n\tThSwapDaoImpl daoImpl;\r\n\r\n\t@BeforeEach\r\n\tvoid setUp() throws Exception {\r\n\t}\r\n\r\n\t@Test\r\n\tvoid test() {\r\n\t\t\r\n\t\twhen(entityManager.createNativeQuery(anyString())).thenReturn(query);\r\n\t\twhen(query.executeUpdate()).thenReturn(1);\r\n\t\tassertEquals(daoImpl.sendToHistorical(), 1);\r\n\t\r\n\t}\r\n\r\n","title":"Test EntityManager with JUnit and Mockito","body":"<p>I don't know if it's a good solution, but I obtain 100% coverage.</p>\n<pre><code>@Mock\nEntityManager entityManager;\n\n@Mock\nQuery query;\n\n@InjectMocks\nThSwapDaoImpl daoImpl;\n\n@BeforeEach\nvoid setUp() throws Exception {\n}\n\n@Test\nvoid test() {\n    \n    when(entityManager.createNativeQuery(anyString())).thenReturn(query);\n    when(query.executeUpdate()).thenReturn(1);\n    assertEquals(daoImpl.sendToHistorical(), 1);\n\n}\n</code></pre>\n"}],"owner":{"account_id":25780920,"reputation":25,"user_id":19526554,"display_name":"Marcos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408628,"answer_count":1,"score":0,"last_activity_date":1676018019,"creation_date":1675947815,"question_id":75398991,"body_markdown":"I have tried to test the following class, but I have been unsuccessful.\r\n\r\n```\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    @Transactional\r\n    public int sendToTableOne()\r\n    {\r\n        return em.createNativeQuery(&quot;INSERT INTO TABLE_ONE&quot;\r\n                        + &quot; SELECT * FROM TABLE_TWO&quot;)\r\n                .executeUpdate();\r\n    }\r\n```\r\n\r\n\r\n\r\nHow can I test this class?\r\n\r\nI&#39;m using JUnit Jupiter on Spring framework.\r\n\r\n","title":"Test EntityManager with JUnit and Mockito","body":"<p>I have tried to test the following class, but I have been unsuccessful.</p>\n<pre><code>    @PersistenceContext\n    private EntityManager em;\n\n    @Transactional\n    public int sendToTableOne()\n    {\n        return em.createNativeQuery(&quot;INSERT INTO TABLE_ONE&quot;\n                        + &quot; SELECT * FROM TABLE_TWO&quot;)\n                .executeUpdate();\n    }\n</code></pre>\n<p>How can I test this class?</p>\n<p>I'm using JUnit Jupiter on Spring framework.</p>\n"},{"tags":["java","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":2,"creation_date":1576068957,"post_id":59283655,"comment_id":104777788,"body_markdown":"try `boolean outcome = !(count &gt; 0)`","body":"try <code>boolean outcome = !(count &gt; 0)</code>"},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":2,"creation_date":1576068997,"post_id":59283655,"comment_id":104777813,"body_markdown":"The issue is that you are doing extra gymnastics on an operation that already produces a boolean.","body":"The issue is that you are doing extra gymnastics on an operation that already produces a boolean."},{"owner":{"account_id":10378344,"reputation":231,"user_id":7653889,"accept_rate":86,"display_name":"Dangerous Hamster"},"score":0,"creation_date":1576069076,"post_id":59283655,"comment_id":104777858,"body_markdown":"Thank you ! Not sure why could not think of that","body":"Thank you ! Not sure why could not think of that"},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1576069175,"post_id":59283655,"comment_id":104777905,"body_markdown":"The shorthand `if` sentence is still a complete if in the eye of the compiler, and that is what sonarqube is complaining about.","body":"The shorthand <code>if</code> sentence is still a complete if in the eye of the compiler, and that is what sonarqube is complaining about."}],"answers":[{"comments":[{"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"score":1,"creation_date":1615547180,"post_id":59286384,"comment_id":117730384,"body_markdown":"just loved that `The issue is that you are doing extra gymnastics ` comment, made my day!! :p","body":"just loved that <code>The issue is that you are doing extra gymnastics </code> comment, made my day!! :p"}],"tags":[],"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1676017754,"creation_date":1576069108,"answer_id":59286384,"question_id":59283655,"body_markdown":"The issue is that you are doing *extra gymnastics* on an operation that already produces a `boolean`.\r\n\r\nIf I write out what you have coded in full syntax:\r\n\r\n    boolean outcome;\r\n    \r\n    if(count &gt; 0){\r\n      outcome = false;\r\n    } else {\r\n     outcome = true;\r\n    }\r\n\r\nessentially, you are reversing the `count &gt; 0`\r\n\r\nSo try \r\n```java \r\nboolean outcome = !(count &gt; 0)\r\n```  \r\nor even better \r\n```java \r\nboolean outcome = count &lt;= 0\r\n```","title":"Sonarqube : Boolean literals should not be redundant","body":"<p>The issue is that you are doing <em>extra gymnastics</em> on an operation that already produces a <code>boolean</code>.</p>\n<p>If I write out what you have coded in full syntax:</p>\n<pre><code>boolean outcome;\n\nif(count &gt; 0){\n  outcome = false;\n} else {\n outcome = true;\n}\n</code></pre>\n<p>essentially, you are reversing the <code>count &gt; 0</code></p>\n<p>So try</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean outcome = !(count &gt; 0)\n</code></pre>\n<p>or even better</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean outcome = count &lt;= 0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":2,"creation_date":1596625709,"post_id":63148572,"comment_id":111869971,"body_markdown":"Except that https://rules.sonarsource.com/java/RSPEC-1940 says that comparisons should not be reversed.  `count &lt;= 0` would be better.","body":"Except that <a href=\"https://rules.sonarsource.com/java/RSPEC-1940\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-1940</a> says that comparisons should not be reversed.  <code>count &lt;= 0</code> would be better."}],"tags":[],"owner":{"account_id":10378344,"reputation":231,"user_id":7653889,"accept_rate":86,"display_name":"Dangerous Hamster"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596008124,"creation_date":1596008124,"answer_id":63148572,"question_id":59283655,"body_markdown":"For reference to others I was being dumb and SonarQube correct in reporting the above as it&#39;s doing more than needed. Correct code is:\r\n\r\n    boolean outcome = count &gt; 0;\r\n\r\nyou do not need the ternary statement the result of count &gt; 0 is a true/false value...\r\n\r\nSo as stated above to reverse that outcome is simple\r\n\r\n     boolean outcome = !(count &gt; 0);","title":"Sonarqube : Boolean literals should not be redundant","body":"<p>For reference to others I was being dumb and SonarQube correct in reporting the above as it's doing more than needed. Correct code is:</p>\n<pre><code>boolean outcome = count &gt; 0;\n</code></pre>\n<p>you do not need the ternary statement the result of count &gt; 0 is a true/false value...</p>\n<p>So as stated above to reverse that outcome is simple</p>\n<pre><code> boolean outcome = !(count &gt; 0);\n</code></pre>\n"}],"owner":{"account_id":10378344,"reputation":231,"user_id":7653889,"accept_rate":86,"display_name":"Dangerous Hamster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59286384,"answer_count":2,"score":1,"last_activity_date":1676017754,"creation_date":1576060047,"question_id":59283655,"body_markdown":"I have the following nice one liner : \r\n\r\n    boolean outcome = count &gt; 0 ? false : true;\r\n\r\nBut from sonaqube I get &#39;Remove the literal &quot;false&quot; boolean value&#39;\r\n\r\nThe [solution][1] seems to assume you can re-write as a function \r\n\r\nBut even that function will have that simple one liner and put me in the same position, I don&#39;t quite understand how to fix ? Ideas ?\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/tag/clumsy/RSPEC-1125","title":"Sonarqube : Boolean literals should not be redundant","body":"<p>I have the following nice one liner : </p>\n\n<pre><code>boolean outcome = count &gt; 0 ? false : true;\n</code></pre>\n\n<p>But from sonaqube I get 'Remove the literal \"false\" boolean value'</p>\n\n<p>The <a href=\"https://rules.sonarsource.com/java/tag/clumsy/RSPEC-1125\" rel=\"nofollow noreferrer\">solution</a> seems to assume you can re-write as a function </p>\n\n<p>But even that function will have that simple one liner and put me in the same position, I don't quite understand how to fix ? Ideas ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1614819400,"post_id":66456025,"comment_id":117504305,"body_markdown":"its spring boot autoconfiguration https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-hello-auto-configuration also i suggest you switch out jjwt for https://docs.spring.io/spring-security/site/docs/current/reference/html5/#spring-security-oauth2-jose as spring has default support for JOSE.","body":"its spring boot autoconfiguration <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#servlet-hello-auto-configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> also i suggest you switch out jjwt for <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#spring-security-oauth2-jose\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> as spring has default support for JOSE."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1614819505,"post_id":66456025,"comment_id":117504325,"body_markdown":"also spring boot has default support for jwt with already a built in jwt filter so no need to register your own custom jwt filter. https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture which means that if you want to use JWT all you need to to do is to register some beans , and then each application can define what endpoints they want JWT authentication on and they will get your bean. No nead to register a filter and build a custom filter chain.","body":"also spring boot has default support for jwt with already a built in jwt filter so no need to register your own custom jwt filter. <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> which means that if you want to use JWT all you need to to do is to register some beans , and then each application can define what endpoints they want JWT authentication on and they will get your bean. No nead to register a filter and build a custom filter chain."}],"answers":[{"tags":[],"owner":{"account_id":9020444,"reputation":305,"user_id":6721713,"accept_rate":40,"display_name":"Vlad  Yurevich"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614877489,"creation_date":1614877489,"answer_id":66479661,"question_id":66456025,"body_markdown":"Initially, the default `SecurityFilterChain` are disabled if there is any `WebSecurityConfigurerAdapter`. However, it doesn&#39;t work if the priority of the spring security auto-configuration is higher than auto-configuration with your `WebSecurityConfigurerAdapter`.\r\n\r\n**Solution**: I added `@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)` above the auto-configuration class. There is no default security filter chain any longer :)\r\n\r\nAbout `@EnableGlobalMethodSecurity`... It was about caches. Suddenly, it got fixed.","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>Initially, the default <code>SecurityFilterChain</code> are disabled if there is any <code>WebSecurityConfigurerAdapter</code>. However, it doesn't work if the priority of the spring security auto-configuration is higher than auto-configuration with your <code>WebSecurityConfigurerAdapter</code>.</p>\n<p><strong>Solution</strong>: I added <code>@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)</code> above the auto-configuration class. There is no default security filter chain any longer :)</p>\n<p>About <code>@EnableGlobalMethodSecurity</code>... It was about caches. Suddenly, it got fixed.</p>\n"},{"tags":[],"owner":{"account_id":7972361,"reputation":80,"user_id":6016579,"display_name":"mabreu0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633990227,"creation_date":1633990227,"answer_id":69532969,"question_id":66456025,"body_markdown":"Take a look at project structure, there might be a securityFilterChain coming from xml configuration rather than class extension. XML with http tag.","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>Take a look at project structure, there might be a securityFilterChain coming from xml configuration rather than class extension. XML with http tag.</p>\n"},{"tags":[],"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650255179,"creation_date":1650255179,"answer_id":71907533,"question_id":66456025,"body_markdown":"For googlers\r\n\r\nYou can&#39;t use \r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http)...\r\nwhile extending `WebSecurityConfigurerAdapter`.\r\n\r\nEither choose above one or only override \r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http)\r\n\r\n","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>For googlers</p>\n<p>You can't use</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http)...\n</code></pre>\n<p>while extending <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>Either choose above one or only override</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27749009,"reputation":1,"user_id":21183810,"display_name":"marichibo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017556,"creation_date":1675987664,"answer_id":75405718,"question_id":66456025,"body_markdown":"I resolved same error by changing order of servlets in web.xml.\r\nâ†“ no problem order xxx -&gt; yyy ã€‡  ã€€yyy -&gt; xxx &#215;   \r\n\r\n\r\n    &lt;servlet&gt;\r\n       &lt;servlet-name&gt;xxxServlet&lt;/servlet-name&gt;\r\n       &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n       â€¦ ommit\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;xxxServlet&lt;/servlet-name&gt;\r\n       &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;servlet&gt; \r\n        &lt;servlet-name&gt;yyyServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n       â€¦ ommit\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n         &lt;servlet-name&gt;yyyServlet&lt;/servlet-name&gt;\r\n         &lt;url-pattern&gt;/yyy/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>I resolved same error by changing order of servlets in web.xml.\nâ†“ no problem order xxx -&gt; yyy ã€‡  ã€€yyy -&gt; xxx Ã—</p>\n<pre><code>&lt;servlet&gt;\n   &lt;servlet-name&gt;xxxServlet&lt;/servlet-name&gt;\n   &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n   â€¦ ommit\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;xxxServlet&lt;/servlet-name&gt;\n   &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;servlet&gt; \n    &lt;servlet-name&gt;yyyServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n   â€¦ ommit\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n     &lt;servlet-name&gt;yyyServlet&lt;/servlet-name&gt;\n     &lt;url-pattern&gt;/yyy/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":9020444,"reputation":305,"user_id":6721713,"accept_rate":40,"display_name":"Vlad  Yurevich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10998,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1676017556,"creation_date":1614770554,"question_id":66456025,"body_markdown":"I&#39;m trying to create my own spring boot starter for my custom security configuration (LDAP + JWT) via defining configuration class which extends from `WebSecurityConfigurerAdapter`. However, when I launch my application with this starter I get:\r\n\r\n    IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain.\r\n    Please select just one.\r\n\r\nI found out that it&#39;s not possible any longer to do that due to [this issue of the spring security][1]. There is an assertion in WebSecurityConfiguration of the spring:\r\n\r\n[![Snapshot from WebSecurityConfiguration.java][2]][2]\r\n\r\n**I solved this** adding to the starter the following (according to the issue):\r\n\r\n    @Bean\r\n    @Order(1) //Explanation for this below\r\n    open fun filterChain(http: HttpSecurity, jwtHelper: JwtHelper): SecurityFilterChain {\r\n        return http.authorizeRequests()\r\n               ...\r\n                   .addFilterBefore(JwtAuthenticationFilter(jwtHelper), UsernamePasswordAuthenticationFilter::class.java)\r\n                   .and().build()\r\n    }\r\n    \r\n    @Bean\r\n    open fun authenticationProvider(ldapConfig: LdapConfig): ActiveDirectoryLdapAuthenticationProvider {\r\n        return ActiveDirectoryLdapAuthenticationProvider(...)\r\n    }\r\n\r\nI added `@Order(1)` because there are two `securityFilterChains`: mine (defined in the configurartion above) and another one from an unknown source. I suppose, the latter is the reason of impossibility of using `WebSecurityConfigurerAdapter`.\r\n## The main problem is that I can&#39;t find where that comes from. ##\r\n&lt;br/&gt;\r\n\r\nBreakpoint from `WebSecurityConfiguration`... just in case:\r\n[![Break point from WebSecurityConfiguration][3]][3]\r\n\r\nI assume, because of that I can&#39;t use `@EnableGlobalMethodSecurity(prePostEnabled = true)` \r\nas well. It says:\r\n\r\n    Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer\r\n    to already built object\r\n\r\n---\r\nHere is list of my dependencies:\r\n\r\n1) Module with models which is used by the starter (name: my-ldap-security-model):\r\n\r\n```\r\ndependencies {\r\n    compileOnly &#39;org.springframework.security:spring-security-core&#39;\r\n    compileOnly &#39;org.springframework:spring-web&#39;\r\n    compileOnly &#39;javax.servlet:javax.servlet-api&#39;\r\n    api &#39;jakarta.xml.bind:jakarta.xml.bind-api&#39;\r\n    api &#39;org.glassfish.jaxb:jaxb-runtime&#39;\r\n    api &#39;io.jsonwebtoken:jjwt&#39;\r\n}\r\n```\r\n2) Module with models which is used by the starter (name: my-ldap-security-spring-boot-starter):\r\n\r\n```\r\ndependencies {\r\n    compile project(&#39;:my-ldap-security-model&#39;)\r\n    compileOnly &#39;javax.servlet:javax.servlet-api&#39;\r\n    api &#39;org.springframework.security:spring-security-core&#39;\r\n    api &#39;org.springframework.security:spring-security-config&#39;\r\n    api &#39;org.springframework.security:spring-security-web&#39;\r\n    api &#39;org.springframework:spring-web&#39;\r\n    api &#39;org.springframework.security:spring-security-ldap&#39;\r\n}\r\n```\r\n3) App project:\r\n\r\n```\r\ndependencies {\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    implementation(&#39;com.demo.boot:my-ldap-security-spring-boot-starter:0.0.1&#39;)\r\n}\r\n```\r\n\r\n\r\n## Please, help me find out the root of that filter. ##\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/8804\r\n  [2]: https://i.stack.imgur.com/pMPBr.png\r\n  [3]: https://i.stack.imgur.com/dmYQL.png","title":"Can&#39;t use WebSecurityConfigurerAdapter in a custom spring boot starter","body":"<p>I'm trying to create my own spring boot starter for my custom security configuration (LDAP + JWT) via defining configuration class which extends from <code>WebSecurityConfigurerAdapter</code>. However, when I launch my application with this starter I get:</p>\n<pre><code>IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain.\nPlease select just one.\n</code></pre>\n<p>I found out that it's not possible any longer to do that due to <a href=\"https://github.com/spring-projects/spring-security/issues/8804\" rel=\"noreferrer\">this issue of the spring security</a>. There is an assertion in WebSecurityConfiguration of the spring:</p>\n<p><a href=\"https://i.stack.imgur.com/pMPBr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pMPBr.png\" alt=\"Snapshot from WebSecurityConfiguration.java\" /></a></p>\n<p><strong>I solved this</strong> adding to the starter the following (according to the issue):</p>\n<pre><code>@Bean\n@Order(1) //Explanation for this below\nopen fun filterChain(http: HttpSecurity, jwtHelper: JwtHelper): SecurityFilterChain {\n    return http.authorizeRequests()\n           ...\n               .addFilterBefore(JwtAuthenticationFilter(jwtHelper), UsernamePasswordAuthenticationFilter::class.java)\n               .and().build()\n}\n\n@Bean\nopen fun authenticationProvider(ldapConfig: LdapConfig): ActiveDirectoryLdapAuthenticationProvider {\n    return ActiveDirectoryLdapAuthenticationProvider(...)\n}\n</code></pre>\n<p>I added <code>@Order(1)</code> because there are two <code>securityFilterChains</code>: mine (defined in the configurartion above) and another one from an unknown source. I suppose, the latter is the reason of impossibility of using <code>WebSecurityConfigurerAdapter</code>.</p>\n<h2>The main problem is that I can't find where that comes from.</h2>\n<br/>\n<p>Breakpoint from <code>WebSecurityConfiguration</code>... just in case:\n<a href=\"https://i.stack.imgur.com/dmYQL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dmYQL.png\" alt=\"Break point from WebSecurityConfiguration\" /></a></p>\n<p>I assume, because of that I can't use <code>@EnableGlobalMethodSecurity(prePostEnabled = true)</code>\nas well. It says:</p>\n<pre><code>Cannot apply org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer\nto already built object\n</code></pre>\n<hr />\n<p>Here is list of my dependencies:</p>\n<ol>\n<li>Module with models which is used by the starter (name: my-ldap-security-model):</li>\n</ol>\n<pre><code>dependencies {\n    compileOnly 'org.springframework.security:spring-security-core'\n    compileOnly 'org.springframework:spring-web'\n    compileOnly 'javax.servlet:javax.servlet-api'\n    api 'jakarta.xml.bind:jakarta.xml.bind-api'\n    api 'org.glassfish.jaxb:jaxb-runtime'\n    api 'io.jsonwebtoken:jjwt'\n}\n</code></pre>\n<ol start=\"2\">\n<li>Module with models which is used by the starter (name: my-ldap-security-spring-boot-starter):</li>\n</ol>\n<pre><code>dependencies {\n    compile project(':my-ldap-security-model')\n    compileOnly 'javax.servlet:javax.servlet-api'\n    api 'org.springframework.security:spring-security-core'\n    api 'org.springframework.security:spring-security-config'\n    api 'org.springframework.security:spring-security-web'\n    api 'org.springframework:spring-web'\n    api 'org.springframework.security:spring-security-ldap'\n}\n</code></pre>\n<ol start=\"3\">\n<li>App project:</li>\n</ol>\n<pre><code>dependencies {\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('com.demo.boot:my-ldap-security-spring-boot-starter:0.0.1')\n}\n</code></pre>\n<h2>Please, help me find out the root of that filter.</h2>\n"},{"tags":["java","spring","junit","spring-boot","spring-data"],"answers":[{"comments":[{"owner":{"account_id":2654100,"reputation":2391,"user_id":2295156,"accept_rate":83,"display_name":"Thomas Billet"},"score":1,"creation_date":1471886936,"post_id":39084906,"comment_id":65518666,"body_markdown":"Greetings, thank you for offering up a solution\n\nAm using the Maven packet setup , with a different package for tests and the application code. \n\nIf i interpret right what u are saying is , That I have to direct my Test Package to the Application class? and then it will find the SpringConfiguration?","body":"Greetings, thank you for offering up a solution  Am using the Maven packet setup , with a different package for tests and the application code.   If i interpret right what u are saying is , That I have to direct my Test Package to the Application class? and then it will find the SpringConfiguration?"},{"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"score":0,"creation_date":1471887271,"post_id":39084906,"comment_id":65518856,"body_markdown":"If by &quot;maven packet&quot; you mean &quot;module&quot;, then yes, the module in which your test class is has to depend on the module that `Application` is in.  If, however, you mean `src/main` and `src/test`, then those folders are not part of the package hierarchy.  Perhaps you are better off just updating your question with a screenshot or an explanation of what your project structure is like.","body":"If by &quot;maven packet&quot; you mean &quot;module&quot;, then yes, the module in which your test class is has to depend on the module that <code>Application</code> is in.  If, however, you mean <code>src&#47;main</code> and <code>src&#47;test</code>, then those folders are not part of the package hierarchy.  Perhaps you are better off just updating your question with a screenshot or an explanation of what your project structure is like."},{"owner":{"account_id":342810,"reputation":221,"user_id":674158,"display_name":"user674158"},"score":3,"creation_date":1489046668,"post_id":39084906,"comment_id":72502374,"body_markdown":"+--test\n      +--com\n        +--example\n            +--JpaTest.java\nalso work","body":"+--test       +--com         +--example             +--JpaTest.java also work"},{"owner":{"account_id":4687364,"reputation":2017,"user_id":3794466,"accept_rate":61,"display_name":"Bernie Lenz"},"score":0,"creation_date":1503950450,"post_id":39084906,"comment_id":78811678,"body_markdown":"@ThomasBillet What project structure did you end up using? From what I found is that the default structure is `src/main/java` and `src/test/java`","body":"@ThomasBillet What project structure did you end up using? From what I found is that the default structure is <code>src&#47;main&#47;java</code> and <code>src&#47;test&#47;java</code>"},{"owner":{"account_id":3006123,"reputation":4002,"user_id":2580686,"accept_rate":46,"display_name":"Foolish"},"score":0,"creation_date":1505586681,"post_id":39084906,"comment_id":79477798,"body_markdown":"@ThomasK&#229;sene in my case same error occurs as this question when I try to write tests for service layer, and I have structure like https://softwareengineering.stackexchange.com/a/323746/214216 \nCan you please suggest the way to write unit tests for this structure? Thanks much.","body":"@ThomasK&#229;sene in my case same error occurs as this question when I try to write tests for service layer, and I have structure like <a href=\"https://softwareengineering.stackexchange.com/a/323746/214216\">softwareengineering.stackexchange.com/a/323746/214216</a>  Can you please suggest the way to write unit tests for this structure? Thanks much."},{"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"score":0,"creation_date":1505672852,"post_id":39084906,"comment_id":79497444,"body_markdown":"I&#39;m afraid that&#39;s too little to go on, and I probably wouldn&#39;t have been able to give a sufficiently good answer here in the comment field anyway. I suggest posting a new question where you show us your project&#39;s structure, what you&#39;re trying to accomplish, and the exact error message you&#39;re getting. Thanks!","body":"I&#39;m afraid that&#39;s too little to go on, and I probably wouldn&#39;t have been able to give a sufficiently good answer here in the comment field anyway. I suggest posting a new question where you show us your project&#39;s structure, what you&#39;re trying to accomplish, and the exact error message you&#39;re getting. Thanks!"}],"tags":[],"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"comment_count":6,"down_vote_count":0,"up_vote_count":348,"is_accepted":true,"score":348,"last_activity_date":1471888686,"creation_date":1471884960,"answer_id":39084906,"question_id":39084491,"body_markdown":"Indeed, Spring Boot does set itself up for the most part. You can probably already get rid of a lot of the code you posted, especially in `Application`.\r\n\r\nI wish you had included the package names of all your classes, or at least the ones for `Application` and `JpaTest`. The thing about `@DataJpaTest` and a few other annotations is that they look for a `@SpringBootConfiguration` annotation in the current package, and if they cannot find it there, they traverse the package hierarchy until they find it.\r\n\r\nFor example, if the fully qualified name for your test class was `com.example.test.JpaTest` and the one for your application was `com.example.Application`, then your test class would be able to find the `@SpringBootApplication` (and therein, the `@SpringBootConfiguration`).\r\n\r\nIf the application resided in a different branch of the package hierarchy, however, like `com.example.application.Application`, it would *not* find it.\r\n\r\nExample\r\n-------\r\n\r\nConsider the following Maven project:\r\n\r\n    my-test-project\r\n      +--pom.xml\r\n      +--src\r\n        +--main\r\n          +--com\r\n            +--example\r\n              +--Application.java\r\n        +--test\r\n          +--com\r\n            +--example\r\n              +--test\r\n                +--JpaTest.java\r\n\r\nAnd then the following content in `Application.java`:\r\n\r\n    package com.example;\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nFollowed by the contents of `JpaTest.java`:\r\n\r\n    package com.example.test;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    public class JpaTest {\r\n    \r\n        @Test\r\n        public void testDummy() {\r\n        }\r\n    }\r\n\r\nEverything should be working. If you create a new folder inside `src/main/com/example` called `app`, and then put your `Application.java` inside it (and update the `package` declaration inside the file), running the test will give you the following error:\r\n\r\n&gt; java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>Indeed, Spring Boot does set itself up for the most part. You can probably already get rid of a lot of the code you posted, especially in <code>Application</code>.</p>\n\n<p>I wish you had included the package names of all your classes, or at least the ones for <code>Application</code> and <code>JpaTest</code>. The thing about <code>@DataJpaTest</code> and a few other annotations is that they look for a <code>@SpringBootConfiguration</code> annotation in the current package, and if they cannot find it there, they traverse the package hierarchy until they find it.</p>\n\n<p>For example, if the fully qualified name for your test class was <code>com.example.test.JpaTest</code> and the one for your application was <code>com.example.Application</code>, then your test class would be able to find the <code>@SpringBootApplication</code> (and therein, the <code>@SpringBootConfiguration</code>).</p>\n\n<p>If the application resided in a different branch of the package hierarchy, however, like <code>com.example.application.Application</code>, it would <em>not</em> find it.</p>\n\n<h2>Example</h2>\n\n<p>Consider the following Maven project:</p>\n\n<pre><code>my-test-project\n  +--pom.xml\n  +--src\n    +--main\n      +--com\n        +--example\n          +--Application.java\n    +--test\n      +--com\n        +--example\n          +--test\n            +--JpaTest.java\n</code></pre>\n\n<p>And then the following content in <code>Application.java</code>:</p>\n\n<pre><code>package com.example;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>Followed by the contents of <code>JpaTest.java</code>:</p>\n\n<pre><code>package com.example.test;\n\n@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class JpaTest {\n\n    @Test\n    public void testDummy() {\n    }\n}\n</code></pre>\n\n<p>Everything should be working. If you create a new folder inside <code>src/main/com/example</code> called <code>app</code>, and then put your <code>Application.java</code> inside it (and update the <code>package</code> declaration inside the file), running the test will give you the following error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2685016,"reputation":1542,"user_id":2319588,"display_name":"Cameron Gagnon"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1496862273,"creation_date":1496862273,"answer_id":44420852,"question_id":39084491,"body_markdown":"In addition to what Thomas K&#229;sene said, you can also add\r\n\r\n    @SpringBootTest(classes=com.package.path.class)\r\n\r\nto the test annotation to specify where it should look for the other class if you didn&#39;t want to refactor your file hierarchy. This is what the error message hints at by saying:\r\n\r\n&gt;     Unable to find a @SpringBootConfiguration, you need to use \r\n&gt;     @ContextConfiguration or @SpringBootTest(classes=...) ...\r\n\r\n\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>In addition to what Thomas KÃ¥sene said, you can also add</p>\n\n<pre><code>@SpringBootTest(classes=com.package.path.class)\n</code></pre>\n\n<p>to the test annotation to specify where it should look for the other class if you didn't want to refactor your file hierarchy. This is what the error message hints at by saying:</p>\n\n<blockquote>\n<pre><code>Unable to find a @SpringBootConfiguration, you need to use \n@ContextConfiguration or @SpringBootTest(classes=...) ...\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1948237,"reputation":2616,"user_id":1752917,"accept_rate":14,"display_name":"Mohammed Rafeeq"},"comment_count":0,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1521460123,"creation_date":1507712030,"answer_id":46683917,"question_id":39084491,"body_markdown":"It is worth to check if you have refactored package name of your main class annotated with `@SpringBootApplication`. In that case the testcase should be in an appropriate package otherwise it will be looking for it in the older package . this was the case for me.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>It is worth to check if you have refactored package name of your main class annotated with <code>@SpringBootApplication</code>. In that case the testcase should be in an appropriate package otherwise it will be looking for it in the older package . this was the case for me.</p>\n"},{"comments":[{"owner":{"account_id":1075946,"reputation":365,"user_id":1074100,"display_name":"Abhishek Aggarwal"},"score":1,"creation_date":1580614623,"post_id":47019765,"comment_id":106153391,"body_markdown":"This seems to be the perfect solution. I don&#39;t need to move any class or folder.","body":"This seems to be the perfect solution. I don&#39;t need to move any class or folder."},{"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"score":0,"creation_date":1602757915,"post_id":47019765,"comment_id":113823863,"body_markdown":"I am still getting ClassNotFound exception even when the Application class does exist. Also your link is not valid anymore.","body":"I am still getting ClassNotFound exception even when the Application class does exist. Also your link is not valid anymore."},{"owner":{"account_id":94872,"reputation":17207,"user_id":258772,"display_name":"mrts"},"score":0,"creation_date":1602767910,"post_id":47019765,"comment_id":113828919,"body_markdown":"@Praytic, thanks for the heads-up regarding the invalid link! I updated it just now. As for the ClassNotFound exception, check out the example at the link.","body":"@Praytic, thanks for the heads-up regarding the invalid link! I updated it just now. As for the ClassNotFound exception, check out the example at the link."},{"owner":{"account_id":7618043,"reputation":413,"user_id":5776838,"display_name":"Shawn. L"},"score":2,"creation_date":1625758070,"post_id":47019765,"comment_id":120718205,"body_markdown":"This is just perfect! To be more precise, this solves the question that Thomas raised on his post _If the application resided in a different branch of the package hierarchy, however, like com.example.application.Application, it would not find it._.","body":"This is just perfect! To be more precise, this solves the question that Thomas raised on his post <i>If the application resided in a different branch of the package hierarchy, however, like com.example.application.Application, it would not find it.</i>."},{"owner":{"account_id":7459405,"reputation":1115,"user_id":5671480,"accept_rate":67,"display_name":"Sanal S"},"score":1,"creation_date":1661512811,"post_id":47019765,"comment_id":129795605,"body_markdown":"Just for making sure, here `Application.class` is the main class, right?","body":"Just for making sure, here <code>Application.class</code> is the main class, right?"}],"tags":[],"owner":{"account_id":94872,"reputation":17207,"user_id":258772,"display_name":"mrts"},"comment_count":5,"down_vote_count":0,"up_vote_count":150,"is_accepted":false,"score":150,"last_activity_date":1602767741,"creation_date":1509379975,"answer_id":47019765,"question_id":39084491,"body_markdown":"Configuration is attached to the application class, so the following will set up everything correctly:\r\n\r\n    @SpringBootTest(classes = Application.class)\r\n\r\nExample from the JHipster project [here](https://github.com/jhipster/jhipster-sample-app/blob/e1fa8653cde8e1e7c4af88f223ae7b4c91513ad9/src/test/java/io/github/jhipster/sample/service/MailServiceIT.java).","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>Configuration is attached to the application class, so the following will set up everything correctly:</p>\n<pre><code>@SpringBootTest(classes = Application.class)\n</code></pre>\n<p>Example from the JHipster project <a href=\"https://github.com/jhipster/jhipster-sample-app/blob/e1fa8653cde8e1e7c4af88f223ae7b4c91513ad9/src/test/java/io/github/jhipster/sample/service/MailServiceIT.java\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1515984689,"creation_date":1515816443,"answer_id":48236834,"question_id":39084491,"body_markdown":"The **test slice** provided in Spring Boot 1.4 brought **feature** oriented test capabilities. \r\n\r\nFor example, \r\n\r\n**@JsonTest** provides a simple Jackson environment to test the json serialization and deserialization.\r\n\r\n**@WebMvcTest** provides a mock web environment, it can specify the controller class for test and inject the MockMvc in the test.\r\n\r\n\t@WebMvcTest(PostController.class)\r\n\tpublic class PostControllerMvcTest{\r\n\r\n\t\t@Inject MockMvc mockMvc;\r\n\r\n\t}\r\n\r\n**@DataJpaTest** will prepare an embedded database and provides basic JPA environment for the test.\r\n\r\n**@RestClientTest** provides REST client environment for the test, esp the RestTemplateBuilder etc.\r\n\r\nThese annotations are not composed with SpringBootTest, they are combined with a series of `AutoconfigureXXX` and a `@TypeExcludesFilter` annotations.\r\n\r\nHave a look at `@DataJpaTest`.\r\n\r\n\t@Target(ElementType.TYPE)\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\t@Documented\r\n\t@Inherited\r\n\t@BootstrapWith(SpringBootTestContextBootstrapper.class)\r\n\t@OverrideAutoConfiguration(enabled = false)\r\n\t@TypeExcludeFilters(DataJpaTypeExcludeFilter.class)\r\n\t@Transactional\r\n\t@AutoConfigureCache\r\n\t@AutoConfigureDataJpa\r\n\t@AutoConfigureTestDatabase\r\n\t@AutoConfigureTestEntityManager\r\n\t@ImportAutoConfiguration\r\n\tpublic @interface DataJpaTest {}\r\n\r\nYou can add your @AutoconfigureXXX annotation to override the default config.\r\n\r\n    @AutoConfigureTestDatabase(replace=NONE)\r\n    @DataJpaTest\r\n    public class TestClass{\r\n    }\r\n\t\r\nLet&#39;s have a look at your problem,\r\n\r\n1. Do not mix `@DataJpaTest` and `@SpringBootTest`, as said above `@DataJpaTest` will build the configuration in its own way(eg. by default, it will try to prepare an embedded H2 instead) from the application configuration inheritance. `@DataJpaTest` is designated for **test slice**.\r\n2. If you want to customize the configuration of `@DataJpaTest`, please read [this official blog entry](https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4) from Spring.io for this topic,(a little tedious).\r\n3. Split the configurations in `Application` into smaller configurations by features, such as `WebConfig`, `DataJpaConfig` etc. A **full featured configuration**(mixed web, data, security etc) also caused your **test slice** based tests to be failed. Check the [test samples](https://github.com/hantsy/angularjs-springmvc-sample-boot/tree/master/src/test/java/com/hantsylabs/restexample/springmvc/test/slice) in  [my sample](https://github.com/hantsy/angularjs-springmvc-sample-boot).\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>The <strong>test slice</strong> provided in Spring Boot 1.4 brought <strong>feature</strong> oriented test capabilities. </p>\n\n<p>For example, </p>\n\n<p><strong>@JsonTest</strong> provides a simple Jackson environment to test the json serialization and deserialization.</p>\n\n<p><strong>@WebMvcTest</strong> provides a mock web environment, it can specify the controller class for test and inject the MockMvc in the test.</p>\n\n<pre><code>@WebMvcTest(PostController.class)\npublic class PostControllerMvcTest{\n\n    @Inject MockMvc mockMvc;\n\n}\n</code></pre>\n\n<p><strong>@DataJpaTest</strong> will prepare an embedded database and provides basic JPA environment for the test.</p>\n\n<p><strong>@RestClientTest</strong> provides REST client environment for the test, esp the RestTemplateBuilder etc.</p>\n\n<p>These annotations are not composed with SpringBootTest, they are combined with a series of <code>AutoconfigureXXX</code> and a <code>@TypeExcludesFilter</code> annotations.</p>\n\n<p>Have a look at <code>@DataJpaTest</code>.</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@BootstrapWith(SpringBootTestContextBootstrapper.class)\n@OverrideAutoConfiguration(enabled = false)\n@TypeExcludeFilters(DataJpaTypeExcludeFilter.class)\n@Transactional\n@AutoConfigureCache\n@AutoConfigureDataJpa\n@AutoConfigureTestDatabase\n@AutoConfigureTestEntityManager\n@ImportAutoConfiguration\npublic @interface DataJpaTest {}\n</code></pre>\n\n<p>You can add your @AutoconfigureXXX annotation to override the default config.</p>\n\n<pre><code>@AutoConfigureTestDatabase(replace=NONE)\n@DataJpaTest\npublic class TestClass{\n}\n</code></pre>\n\n<p>Let's have a look at your problem,</p>\n\n<ol>\n<li>Do not mix <code>@DataJpaTest</code> and <code>@SpringBootTest</code>, as said above <code>@DataJpaTest</code> will build the configuration in its own way(eg. by default, it will try to prepare an embedded H2 instead) from the application configuration inheritance. <code>@DataJpaTest</code> is designated for <strong>test slice</strong>.</li>\n<li>If you want to customize the configuration of <code>@DataJpaTest</code>, please read <a href=\"https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4\" rel=\"noreferrer\">this official blog entry</a> from Spring.io for this topic,(a little tedious).</li>\n<li>Split the configurations in <code>Application</code> into smaller configurations by features, such as <code>WebConfig</code>, <code>DataJpaConfig</code> etc. A <strong>full featured configuration</strong>(mixed web, data, security etc) also caused your <strong>test slice</strong> based tests to be failed. Check the <a href=\"https://github.com/hantsy/angularjs-springmvc-sample-boot/tree/master/src/test/java/com/hantsylabs/restexample/springmvc/test/slice\" rel=\"noreferrer\">test samples</a> in  <a href=\"https://github.com/hantsy/angularjs-springmvc-sample-boot\" rel=\"noreferrer\">my sample</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3680017,"reputation":3,"user_id":3065164,"display_name":"Umesh G"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1539774468,"creation_date":1539774468,"answer_id":52853425,"question_id":39084491,"body_markdown":"    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureWebMvc;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    \r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @SpringBootTest\r\n    @AutoConfigureWebMvc\r\n    public class RepoTest {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ThingShiftDetailsRepository thingShiftDetailsRepo;\r\n    \t\r\n    \t@Test\r\n    \tpublic void findThingShiftDetails() {\r\n    \t\t\tShiftDetails details = new ShiftDetails();\r\n    \t\t\tdetails.setThingId(1);\r\n    \t\t\t\r\n    \t\t\tthingShiftDetailsRepo.save(details);\r\n    \t\t\t\r\n    \t\t\tShiftDetails dbDetails = thingShiftDetailsRepo.findByThingId(1);\r\n    \t\t\tSystem.out.println(dbDetails);\r\n    \t}\r\n    }\r\n\r\n\r\nAbove annotations worked well for me. I am using spring boot with JPA. ","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureWebMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n\n\n@RunWith(SpringRunner.class)\n@DataJpaTest\n@SpringBootTest\n@AutoConfigureWebMvc\npublic class RepoTest {\n\n    @Autowired\n    private ThingShiftDetailsRepository thingShiftDetailsRepo;\n\n    @Test\n    public void findThingShiftDetails() {\n            ShiftDetails details = new ShiftDetails();\n            details.setThingId(1);\n\n            thingShiftDetailsRepo.save(details);\n\n            ShiftDetails dbDetails = thingShiftDetailsRepo.findByThingId(1);\n            System.out.println(dbDetails);\n    }\n}\n</code></pre>\n\n<p>Above annotations worked well for me. I am using spring boot with JPA. </p>\n"},{"comments":[{"owner":{"account_id":5291486,"reputation":139,"user_id":4223942,"display_name":"Gopal Bairwa"},"score":0,"creation_date":1572364103,"post_id":53283358,"comment_id":103532307,"body_markdown":"I had the same error and I finally figured out that the package name for the test class had a typo &quot;rule&quot; in place of &quot;rules&quot;. After fixing the package name, error went away.","body":"I had the same error and I finally figured out that the package name for the test class had a typo &quot;rule&quot; in place of &quot;rules&quot;. After fixing the package name, error went away."}],"tags":[],"owner":{"account_id":2439515,"reputation":1653,"user_id":2128439,"accept_rate":77,"display_name":"silver"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542119767,"creation_date":1542119767,"answer_id":53283358,"question_id":39084491,"body_markdown":"I think that the best solution for this issue is to align your tests folders structure with the application folder structure.\r\n\r\nI had the same issue which was caused by duplicating my project from a different folder structure project.\r\n\r\nif your test project and your application project will have the same structure you will not be required to add any special annotations to your tests classes and everything will work as is.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>I think that the best solution for this issue is to align your tests folders structure with the application folder structure.</p>\n\n<p>I had the same issue which was caused by duplicating my project from a different folder structure project.</p>\n\n<p>if your test project and your application project will have the same structure you will not be required to add any special annotations to your tests classes and everything will work as is.</p>\n"},{"tags":[],"owner":{"account_id":4245916,"reputation":338,"user_id":3474613,"display_name":"Nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1553039363,"creation_date":1553039363,"answer_id":55251590,"question_id":39084491,"body_markdown":"In my case the packages were different between the Application and Test classes\r\n\r\n    package com.example.abc;\r\n    ...\r\n    @SpringBootApplication\r\n    public class ProducerApplication {\r\n\r\nand\r\n\r\n    package com.example.abc_etc;\r\n    ...\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class ProducerApplicationTest {\r\n\r\nAfter making them agree the tests ran correctly.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>In my case the packages were different between the Application and Test classes</p>\n\n<pre><code>package com.example.abc;\n...\n@SpringBootApplication\npublic class ProducerApplication {\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package com.example.abc_etc;\n...\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class ProducerApplicationTest {\n</code></pre>\n\n<p>After making them agree the tests ran correctly.</p>\n"},{"comments":[{"owner":{"account_id":1284789,"reputation":87,"user_id":1238097,"accept_rate":90,"display_name":"user1238097"},"score":1,"creation_date":1661471514,"post_id":56844368,"comment_id":129786761,"body_markdown":"This is definitely the answer","body":"This is definitely the answer"},{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1684955209,"post_id":56844368,"comment_id":134594739,"body_markdown":"This is it! solved this issue I had with WebFluxTest class which lacked the package...Thanks alot!","body":"This is it! solved this issue I had with WebFluxTest class which lacked the package...Thanks alot!"}],"tags":[],"owner":{"account_id":10091232,"reputation":431,"user_id":7458156,"display_name":"hang gao"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1562032654,"creation_date":1562032654,"answer_id":56844368,"question_id":39084491,"body_markdown":"It work fo me \r\n\r\nthe package name of the above test class is changed to the same as the package name of the normal class. \r\n\r\n![](https://static.oschina.net/uploads/space/2018/0111/102730_tlKv_2885163.png)\r\n\r\nchange to this\r\n\r\n![](https://static.oschina.net/uploads/space/2018/0111/103001_vJoi_2885163.png)","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>It work fo me </p>\n\n<p>the package name of the above test class is changed to the same as the package name of the normal class. </p>\n\n<p><img src=\"https://static.oschina.net/uploads/space/2018/0111/102730_tlKv_2885163.png\" alt=\"\"></p>\n\n<p>change to this</p>\n\n<p><img src=\"https://static.oschina.net/uploads/space/2018/0111/103001_vJoi_2885163.png\" alt=\"\"></p>\n"},{"tags":[],"owner":{"account_id":4660831,"reputation":99,"user_id":3775160,"display_name":"SumataPatil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582642561,"creation_date":1571390701,"answer_id":58447859,"question_id":39084491,"body_markdown":"When all the classes were in same package, test classes were working. As soon as I moved all the java classes to different package to maintain proper project structure I was getting the same error.\r\n\r\nI solved it by providing my main class name in the test class like below.\r\n\r\n    @SpringBootTest(classes=JunitBasicsApplication.class)\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>When all the classes were in same package, test classes were working. As soon as I moved all the java classes to different package to maintain proper project structure I was getting the same error.</p>\n\n<p>I solved it by providing my main class name in the test class like below.</p>\n\n<pre><code>@SpringBootTest(classes=JunitBasicsApplication.class)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16303727,"reputation":193,"user_id":11774167,"display_name":"Hamza Abbas"},"score":1,"creation_date":1633092308,"post_id":61583141,"comment_id":122674898,"body_markdown":"Thank you, I had changed the package name of the app but the package of test class was still outdated.","body":"Thank you, I had changed the package name of the app but the package of test class was still outdated."}],"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588549961,"creation_date":1588549961,"answer_id":61583141,"question_id":39084491,"body_markdown":"In my case  \r\nMake sure your (**`test package` name**) of `YourApplicationTests` is equivalent to the (**`main package` name**). ","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>In my case<br>\nMake sure your (<strong><code>test package</code> name</strong>) of <code>YourApplicationTests</code> is equivalent to the (<strong><code>main package</code> name</strong>). </p>\n"},{"comments":[{"owner":{"account_id":9808985,"reputation":93,"user_id":7267818,"accept_rate":57,"display_name":"0x52"},"score":1,"creation_date":1618598622,"post_id":62452708,"comment_id":118659784,"body_markdown":"That is correct, it is just what I was looking for, I have a multimodular spring project where I moved the tests to another module, but just this class did the correct execution of the tests in that module.","body":"That is correct, it is just what I was looking for, I have a multimodular spring project where I moved the tests to another module, but just this class did the correct execution of the tests in that module."},{"owner":{"account_id":23012,"reputation":2259,"user_id":57357,"accept_rate":74,"display_name":"Dan Tanner"},"score":0,"creation_date":1660449102,"post_id":62452708,"comment_id":129533927,"body_markdown":"Ditto - this is the only solution I&#39;ve seen work for a multi-module gradle project.","body":"Ditto - this is the only solution I&#39;ve seen work for a multi-module gradle project."}],"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1592491572,"creation_date":1592491572,"answer_id":62452708,"question_id":39084491,"body_markdown":"I had the same issue and I solved by adding an empty class annotated with `SpringBootApplication` in the root package of the folder *src/test/java*\r\n\r\n    package org.enricogiurin.core;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class CoreTestConfiguration {}\r\n\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>I had the same issue and I solved by adding an empty class annotated with <code>SpringBootApplication</code> in the root package of the folder <em>src/test/java</em></p>\n\n<pre><code>package org.enricogiurin.core;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CoreTestConfiguration {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1118295,"reputation":2570,"user_id":1107129,"accept_rate":76,"display_name":"happy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600252360,"creation_date":1600252360,"answer_id":63918145,"question_id":39084491,"body_markdown":"In my case I was using the Test class from wrong package.\r\nwhen I replaced `import org.junit.Test;` with import `org.junit.jupiter.api.Test;` it worked.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>In my case I was using the Test class from wrong package.\nwhen I replaced <code>import org.junit.Test;</code> with import <code>org.junit.jupiter.api.Test;</code> it worked.</p>\n"},{"comments":[{"owner":{"account_id":12942494,"reputation":1439,"user_id":9357839,"display_name":"A J"},"score":0,"creation_date":1600288296,"post_id":63925729,"comment_id":113044040,"body_markdown":"Add this as comment","body":"Add this as comment"}],"tags":[],"owner":{"account_id":5500955,"reputation":876,"user_id":10783374,"display_name":"Edor Linus"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600279929,"creation_date":1600279929,"answer_id":63925729,"question_id":39084491,"body_markdown":"Make sure the test class is in a sub-package of your main spring boot class\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>Make sure the test class is in a sub-package of your main spring boot class</p>\n"},{"tags":[],"owner":{"account_id":4427596,"reputation":887,"user_id":3605642,"display_name":"Michal Lonski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604057042,"creation_date":1604057042,"answer_id":64607445,"question_id":39084491,"body_markdown":"This is more the the error itself, not answering the original question:\r\n\r\nWe were migrating from java 8 to java 11. Application compiled successfully, but the errors `Unable to find a @SpringBootConfiguration` started to appear in the integration tests when ran from command line using maven (from IntelliJ it worked). \r\n\r\nIt appeared that `maven-failsafe-plugin` stopped seeing the classes on classpath, we fixed that by telling failsafe plugin to include the classes manually:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;additionalClasspathElements&gt;\r\n                        &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\r\n                    &lt;/additionalClasspathElements&gt;\r\n                &lt;/configuration&gt;\r\n                ...\r\n            &lt;/plugin&gt;\r\n","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>This is more the the error itself, not answering the original question:</p>\n<p>We were migrating from java 8 to java 11. Application compiled successfully, but the errors <code>Unable to find a @SpringBootConfiguration</code> started to appear in the integration tests when ran from command line using maven (from IntelliJ it worked).</p>\n<p>It appeared that <code>maven-failsafe-plugin</code> stopped seeing the classes on classpath, we fixed that by telling failsafe plugin to include the classes manually:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;additionalClasspathElements&gt;\n                    &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\n                &lt;/additionalClasspathElements&gt;\n            &lt;/configuration&gt;\n            ...\n        &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9795789,"reputation":513,"user_id":7258885,"display_name":"qleoz12"},"score":0,"creation_date":1677637484,"post_id":75405865,"comment_id":133376201,"body_markdown":"do you have a repoor articled that show your way, thnks in advance","body":"do you have a repoor articled that show your way, thnks in advance"}],"tags":[],"owner":{"account_id":3006965,"reputation":4976,"user_id":2551287,"accept_rate":89,"display_name":"young-ceo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017512,"creation_date":1675989491,"answer_id":75405865,"question_id":39084491,"body_markdown":"None of the suggested solutions worked because I don&#39;t have `@SpringBootApplication` in the system.  But I figured it out - this is how I fixed:\r\n\r\n```java\r\n// AppConfig.java\r\n@Configuration\r\n@ComponentScan(&quot;foo&quot;)\r\n@ConfigurationPropertiesScan\r\npublic class AppConfig {\r\n    // ...\r\n}\r\n\r\n// HelloWorld.java\r\n@Service\r\npublic class HelloWorld {\r\n    public void foo() {\r\n        // ...\r\n    }\r\n}\r\n\r\n// HelloWorldTest.java\r\n@SpringBootTest(classes = { AppConfig.class, HelloWorld.class })\r\npublic class HelloWorldTest {\r\n    @Autowired private HelloWorld helloWorld;\r\n\r\n    @Test\r\n    public testFoo() {\r\n        this.helloWorld.foo(); // Testing logic\r\n    }\r\n}\r\n```\r\n\r\nThe key is including both `AppConfig.class` and `HelloWorld.class` in `@SpringBootTest`.","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>None of the suggested solutions worked because I don't have <code>@SpringBootApplication</code> in the system.  But I figured it out - this is how I fixed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// AppConfig.java\n@Configuration\n@ComponentScan(&quot;foo&quot;)\n@ConfigurationPropertiesScan\npublic class AppConfig {\n    // ...\n}\n\n// HelloWorld.java\n@Service\npublic class HelloWorld {\n    public void foo() {\n        // ...\n    }\n}\n\n// HelloWorldTest.java\n@SpringBootTest(classes = { AppConfig.class, HelloWorld.class })\npublic class HelloWorldTest {\n    @Autowired private HelloWorld helloWorld;\n\n    @Test\n    public testFoo() {\n        this.helloWorld.foo(); // Testing logic\n    }\n}\n</code></pre>\n<p>The key is including both <code>AppConfig.class</code> and <code>HelloWorld.class</code> in <code>@SpringBootTest</code>.</p>\n"}],"owner":{"account_id":2654100,"reputation":2391,"user_id":2295156,"accept_rate":83,"display_name":"Thomas Billet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283042,"favorite_count":0,"down_vote_count":0,"up_vote_count":235,"accepted_answer_id":39084906,"answer_count":16,"score":235,"last_activity_date":1676017512,"creation_date":1471883402,"question_id":39084491,"body_markdown":"I&#39;m trying to run a simple Junit test to see if my CrudRepositories are indeed working.\r\n\r\nThe error I keep getting is:\r\n\r\n&gt; Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\r\njava.lang.IllegalStateException\r\n\r\n\r\nDoesn&#39;t Spring Boot configure itself?\r\n\r\nMy Test Class:\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    public class JpaTest {\r\n    \r\n    @Autowired\r\n    private AccountRepository repository;\r\n    \r\n    @After\r\n    public void clearDb(){\r\n        repository.deleteAll();\r\n    }\r\n    \r\n     @Test\r\n     public void createAccount(){\r\n         long id = 12;\r\n         Account u = new Account(id,&quot;Tim Viz&quot;);\r\n         repository.save(u);\r\n          \r\n         assertEquals(repository.findOne(id),u);\r\n          \r\n     }\r\n      \r\n      \r\n     @Test\r\n     public void findAccountByUsername(){\r\n         long id = 12;\r\n         String username = &quot;Tim Viz&quot;;\r\n         Account u = new Account(id,username);\r\n         repository.save(u);\r\n          \r\n         assertEquals(repository.findByUsername(username),u);\r\n          \r\n     }\r\n      \r\nMy Spring Boot application starter:\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories(basePackages = {&quot;domain.repositories&quot;})\r\n    @ComponentScan(basePackages = {&quot;controllers&quot;,&quot;domain&quot;})\r\n    @EnableWebMvc\r\n    @PropertySources(value    {@PropertySource(&quot;classpath:application.properties&quot;)})\r\n        @EntityScan(basePackages={&quot;domain&quot;})\r\n        public class Application extends SpringBootServletInitializer {\r\n            public static void main(String[] args) {\r\n                ApplicationContext ctx = SpringApplication.run(Application.class, args);         \r\n     \r\n            }\r\n        }\r\n\r\n \r\nMy Repository:\r\n\r\n    public interface AccountRepository extends CrudRepository&lt;Account,Long&gt; {\r\n    \r\n        public Account findByUsername(String username);\r\n    \r\n        }\r\n    }","title":"Unable to find a @SpringBootConfiguration when doing a JpaTest","body":"<p>I'm trying to run a simple Junit test to see if my CrudRepositories are indeed working.</p>\n<p>The error I keep getting is:</p>\n<blockquote>\n<p>Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test\njava.lang.IllegalStateException</p>\n</blockquote>\n<p>Doesn't Spring Boot configure itself?</p>\n<p>My Test Class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\npublic class JpaTest {\n\n@Autowired\nprivate AccountRepository repository;\n\n@After\npublic void clearDb(){\n    repository.deleteAll();\n}\n\n @Test\n public void createAccount(){\n     long id = 12;\n     Account u = new Account(id,&quot;Tim Viz&quot;);\n     repository.save(u);\n      \n     assertEquals(repository.findOne(id),u);\n      \n }\n  \n  \n @Test\n public void findAccountByUsername(){\n     long id = 12;\n     String username = &quot;Tim Viz&quot;;\n     Account u = new Account(id,username);\n     repository.save(u);\n      \n     assertEquals(repository.findByUsername(username),u);\n      \n }\n  \n</code></pre>\n<p>My Spring Boot application starter:</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(basePackages = {&quot;domain.repositories&quot;})\n@ComponentScan(basePackages = {&quot;controllers&quot;,&quot;domain&quot;})\n@EnableWebMvc\n@PropertySources(value    {@PropertySource(&quot;classpath:application.properties&quot;)})\n    @EntityScan(basePackages={&quot;domain&quot;})\n    public class Application extends SpringBootServletInitializer {\n        public static void main(String[] args) {\n            ApplicationContext ctx = SpringApplication.run(Application.class, args);         \n \n        }\n    }\n</code></pre>\n<p>My Repository:</p>\n<pre><code>public interface AccountRepository extends CrudRepository&lt;Account,Long&gt; {\n\n    public Account findByUsername(String username);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1676018986,"post_id":75408509,"comment_id":133056513,"body_markdown":"I figured out once I set prefferedSize to the desktop the InternalFrames are showing and the desktoppane itself as well. But what I am actually after is to adjust the size based on its content (the InternalFrames) once they get added. Is there any way to do this, as I dont want to initially set a size of the desktopPane when there is nothing inside of it.","body":"I figured out once I set prefferedSize to the desktop the InternalFrames are showing and the desktoppane itself as well. But what I am actually after is to adjust the size based on its content (the InternalFrames) once they get added. Is there any way to do this, as I dont want to initially set a size of the desktopPane when there is nothing inside of it."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1676029254,"post_id":75408509,"comment_id":133059518,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1676041098,"post_id":75408509,"comment_id":133063226,"body_markdown":"*I dont want to initially set a size of the desktopPane when there is nothing inside of it.* -  Add a `ContainerListener` to the desktop pane and handle the two events to set the preferred size as requirement. You would then need to `revalidate()` to make sure the layout manager is invoked.","body":"<i>I dont want to initially set a size of the desktopPane when there is nothing inside of it.</i> -  Add a <code>ContainerListener</code> to the desktop pane and handle the two events to set the preferred size as requirement. You would then need to <code>revalidate()</code> to make sure the layout manager is invoked."}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676017258,"creation_date":1676017258,"question_id":75408509,"body_markdown":"I have a class that is extending JInternalFrame which also holds a JDesktopPane that should hold another JInternalFrame which can be added on a button click.\r\n\r\nI can log that the JInternalFrame is constructed, but it is not shown on its parent JInternalFrame and I dont know why.\r\n\r\nHere are the relevant sections:\r\n\r\nParent class\r\n\r\n        this.add(topPanel,BorderLayout.NORTH);\r\n        this.add(tableScrollpane, BorderLayout.CENTER);\r\n        this.add(desktop,BorderLayout.SOUTH);       //The parents Desktop pane to which I want to add internalframes on button click\r\n\r\n\r\nThe method that should add a new JInternalFrame to the desktop (JDesktopPane of parent)\r\n\r\n     private void addChart(Market market){\r\n        this.desktop.add(new Chart(market.getSymbol(),this.quoteMarket, Indicators.convertToTa4JBarSeries(market.getSymbol(),market.getCandles())));\r\n    }\r\n\r\n\r\nThe JInternalFrame class that should be created and visible on the parents desktop pane. The constructor gets called, I can see that in the log section.\r\n\r\n    public class Chart extends JInternalFrame {\r\n    public Chart(String title, String quoteMarket,BarSeries barSeries){\r\n        System.out.println(&quot;Chart created&quot;);\r\n        setTitle(title + &quot; &quot; + quoteMarket);\r\n        setSize(500,500);\r\n        setMaximizable(true);\r\n        setIconifiable(true);\r\n        setClosable(true);\r\n        setResizable(true);\r\n        setLayout(new GridLayout(0,1));\r\n        this.displayChart(title,quoteMarket,barSeries);\r\n        this.pack();\r\n        this.show();\r\n        this.setVisible(true);\r\n    }","title":"JInternalFrame inside JInternal frame not shown","body":"<p>I have a class that is extending JInternalFrame which also holds a JDesktopPane that should hold another JInternalFrame which can be added on a button click.</p>\n<p>I can log that the JInternalFrame is constructed, but it is not shown on its parent JInternalFrame and I dont know why.</p>\n<p>Here are the relevant sections:</p>\n<p>Parent class</p>\n<pre><code>    this.add(topPanel,BorderLayout.NORTH);\n    this.add(tableScrollpane, BorderLayout.CENTER);\n    this.add(desktop,BorderLayout.SOUTH);       //The parents Desktop pane to which I want to add internalframes on button click\n</code></pre>\n<p>The method that should add a new JInternalFrame to the desktop (JDesktopPane of parent)</p>\n<pre><code> private void addChart(Market market){\n    this.desktop.add(new Chart(market.getSymbol(),this.quoteMarket, Indicators.convertToTa4JBarSeries(market.getSymbol(),market.getCandles())));\n}\n</code></pre>\n<p>The JInternalFrame class that should be created and visible on the parents desktop pane. The constructor gets called, I can see that in the log section.</p>\n<pre><code>public class Chart extends JInternalFrame {\npublic Chart(String title, String quoteMarket,BarSeries barSeries){\n    System.out.println(&quot;Chart created&quot;);\n    setTitle(title + &quot; &quot; + quoteMarket);\n    setSize(500,500);\n    setMaximizable(true);\n    setIconifiable(true);\n    setClosable(true);\n    setResizable(true);\n    setLayout(new GridLayout(0,1));\n    this.displayChart(title,quoteMarket,barSeries);\n    this.pack();\n    this.show();\n    this.setVisible(true);\n}\n</code></pre>\n"},{"tags":["java","docker","maven","caching","dockerfile"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1487002058,"post_id":42208442,"comment_id":71578057,"body_markdown":"Make a data container which contains the downloaded artifacts...How many modules are you building? How many tests do you run? Cause 20 minutes sounds very long?","body":"Make a data container which contains the downloaded artifacts...How many modules are you building? How many tests do you run? Cause 20 minutes sounds very long?"},{"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"score":0,"creation_date":1487002888,"post_id":42208442,"comment_id":71578600,"body_markdown":"Can you explain what you mean by data container? I thought I would end up with a maven image that had that data. Doesn&#39;t &quot;mvn dependency:go-offline&quot; save those dependencies on the local filesystem?","body":"Can you explain what you mean by data container? I thought I would end up with a maven image that had that data. Doesn&#39;t &quot;mvn dependency:go-offline&quot; save those dependencies on the local filesystem?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1487003514,"post_id":42208442,"comment_id":71579021,"body_markdown":"If you have changes on the local file system those will be thrown away if you restart your container...","body":"If you have changes on the local file system those will be thrown away if you restart your container..."},{"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"score":2,"creation_date":1487003703,"post_id":42208442,"comment_id":71579166,"body_markdown":"I get that, but I&#39;m not talking about a container. I&#39;m talking about the docker build process. My understanding is that the state of the filesystem at the end of docker build is part of the image.","body":"I get that, but I&#39;m not talking about a container. I&#39;m talking about the docker build process. My understanding is that the state of the filesystem at the end of docker build is part of the image."},{"owner":{"account_id":1050176,"reputation":8253,"user_id":1054322,"accept_rate":64,"display_name":"MatrixManAtYrService"},"score":0,"creation_date":1524027330,"post_id":42208442,"comment_id":86798428,"body_markdown":"You might consider this: https://stackoverflow.com/a/49891339/1054322","body":"You might consider this: <a href=\"https://stackoverflow.com/a/49891339/1054322\">stackoverflow.com/a/49891339/1054322</a>"},{"owner":{"account_id":4497676,"reputation":491,"user_id":3657087,"display_name":"andriosr"},"score":0,"creation_date":1531927597,"post_id":42208442,"comment_id":89782502,"body_markdown":"Might be helpful: https://medium.com/pismolabs/reducing-image-sizes-and-caching-maven-dependencies-in-docker-builds-b388d3f7aa88","body":"Might be helpful: <a href=\"https://medium.com/pismolabs/reducing-image-sizes-and-caching-maven-dependencies-in-docker-builds-b388d3f7aa88\" rel=\"nofollow noreferrer\">medium.com/pismolabs/&hellip;</a>"},{"owner":{"account_id":2032571,"reputation":1623,"user_id":1815832,"display_name":"csanchez"},"score":0,"creation_date":1546507069,"post_id":42208442,"comment_id":94874703,"body_markdown":"this will work as you expect as the `VOLUME` declaration was removed since Dec&#39;17 https://github.com/carlossg/docker-maven/pull/57","body":"this will work as you expect as the <code>VOLUME</code> declaration was removed since Dec&#39;17 <a href=\"https://github.com/carlossg/docker-maven/pull/57\" rel=\"nofollow noreferrer\">github.com/carlossg/docker-maven/pull/57</a>"},{"owner":{"account_id":172479,"reputation":2348,"user_id":400544,"accept_rate":83,"display_name":"pgpb.padilla"},"score":0,"creation_date":1629217257,"post_id":42208442,"comment_id":121626614,"body_markdown":"Similar to: https://stackoverflow.com/q/68808252/400544","body":"Similar to: <a href=\"https://stackoverflow.com/q/68808252/400544\">stackoverflow.com/q/68808252/400544</a>"}],"answers":[{"comments":[{"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"score":0,"creation_date":1487002626,"post_id":42208538,"comment_id":71578432,"body_markdown":"I added some clarification that I&#39;m just building the Dockerfile. I&#39;m not creating a container that would need to be committed after the fact.","body":"I added some clarification that I&#39;m just building the Dockerfile. I&#39;m not creating a container that would need to be committed after the fact."}],"tags":[],"owner":{"account_id":5109832,"reputation":297,"user_id":4096809,"display_name":"vstrom coder"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1487002200,"creation_date":1487002200,"answer_id":42208538,"question_id":42208442,"body_markdown":"If the dependencies are downloaded after the container is already up, then you need to commit the changes on this container and create a new image with the downloaded artifacts.","title":"Maven docker cache dependencies","body":"<p>If the dependencies are downloaded after the container is already up, then you need to commit the changes on this container and create a new image with the downloaded artifacts.</p>\n"},{"comments":[{"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"score":0,"creation_date":1487017127,"post_id":42211566,"comment_id":71586918,"body_markdown":"This does work, but it&#39;s not what I was trying to accomplish. I am trying to build an image which encapsulates the repository/dependencies so I can run the image anywhere, without needing to first prepare a mount point for the container volume with the dependencies.","body":"This does work, but it&#39;s not what I was trying to accomplish. I am trying to build an image which encapsulates the repository/dependencies so I can run the image anywhere, without needing to first prepare a mount point for the container volume with the dependencies."},{"owner":{"account_id":1543266,"reputation":1581,"user_id":2938149,"accept_rate":77,"display_name":"Bruno9779"},"score":0,"creation_date":1487018535,"post_id":42211566,"comment_id":71587627,"body_markdown":"Then build your project on the docker host once (to populate ~/.m2) and ADD the ~/.m2 directory before building the image. To put it differently, treat ~/.m2 as it was part of your source code.","body":"Then build your project on the docker host once (to populate ~/.m2) and ADD the ~/.m2 directory before building the image. To put it differently, treat ~/.m2 as it was part of your source code."},{"owner":{"account_id":385240,"reputation":8098,"user_id":742269,"accept_rate":81,"display_name":"Avi&#243;n"},"score":2,"creation_date":1522824949,"post_id":42211566,"comment_id":86297013,"body_markdown":"Does this work? I mean as long as I long you can&#39;t mount directly on a volume on the dockerfile using `VOLUME &lt;outdir&gt;:&lt;innerdir&gt;`","body":"Does this work? I mean as long as I long you can&#39;t mount directly on a volume on the dockerfile using <code>VOLUME &lt;outdir&gt;:&lt;innerdir&gt;</code>"}],"tags":[],"owner":{"account_id":1543266,"reputation":1581,"user_id":2938149,"accept_rate":77,"display_name":"Bruno9779"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487012515,"creation_date":1487012515,"answer_id":42211566,"question_id":42208442,"body_markdown":"I had this issue just a litle while ago. The are many solutions on the web, but the one that worked for me is simply mount a volume for the maven modules directory:\r\n\r\n    mkdir /opt/myvolumes/m2\r\n\r\nthen in the Dockerfile:\r\n\r\n    ...\r\n    VOLUME /opt/myvolumes/m2:/root/.m2\r\n    ...\r\n\r\nThere are better solutions, but not as straightforward.\r\n\r\nThis blog post goes the extra mile in helping you to cache everything:\r\n\r\nhttps://keyholesoftware.com/2015/01/05/caching-for-maven-docker-builds/\r\n\r\n","title":"Maven docker cache dependencies","body":"<p>I had this issue just a litle while ago. The are many solutions on the web, but the one that worked for me is simply mount a volume for the maven modules directory:</p>\n\n<pre><code>mkdir /opt/myvolumes/m2\n</code></pre>\n\n<p>then in the Dockerfile:</p>\n\n<pre><code>...\nVOLUME /opt/myvolumes/m2:/root/.m2\n...\n</code></pre>\n\n<p>There are better solutions, but not as straightforward.</p>\n\n<p>This blog post goes the extra mile in helping you to cache everything:</p>\n\n<p><a href=\"https://keyholesoftware.com/2015/01/05/caching-for-maven-docker-builds/\" rel=\"nofollow noreferrer\">https://keyholesoftware.com/2015/01/05/caching-for-maven-docker-builds/</a></p>\n"},{"comments":[{"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"score":5,"creation_date":1519835814,"post_id":42212884,"comment_id":85073507,"body_markdown":"I use Docker volumes and tell maven to use a different path for my maven repository cache like this `-Dmaven.repo.local=/mvn/.m2nrepo/repository`","body":"I use Docker volumes and tell maven to use a different path for my maven repository cache like this <code>-Dmaven.repo.local=&#47;mvn&#47;.m2nrepo&#47;repository</code>"},{"owner":{"account_id":48170,"reputation":12634,"user_id":142983,"accept_rate":80,"display_name":"Etienne Neveu"},"score":1,"creation_date":1531499161,"post_id":42212884,"comment_id":89634211,"body_markdown":"Note that those images no longer mount ~/.m2 as a volume: https://github.com/carlossg/docker-maven/issues/11 https://github.com/carlossg/docker-maven/issues/36","body":"Note that those images no longer mount ~/.m2 as a volume: <a href=\"https://github.com/carlossg/docker-maven/issues/11\" rel=\"nofollow noreferrer\">github.com/carlossg/docker-maven/issues/11</a> <a href=\"https://github.com/carlossg/docker-maven/issues/36\" rel=\"nofollow noreferrer\">github.com/carlossg/docker-maven/issues/36</a>"},{"owner":{"account_id":2032571,"reputation":1623,"user_id":1815832,"display_name":"csanchez"},"score":1,"creation_date":1546506984,"post_id":42212884,"comment_id":94874671,"body_markdown":"The volume declaration is no longer there since Dec&#39;17 https://github.com/carlossg/docker-maven/pull/57","body":"The volume declaration is no longer there since Dec&#39;17 <a href=\"https://github.com/carlossg/docker-maven/pull/57\" rel=\"nofollow noreferrer\">github.com/carlossg/docker-maven/pull/57</a>"}],"tags":[],"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1487017466,"creation_date":1487017466,"answer_id":42212884,"question_id":42208442,"body_markdown":"It turns out the image I&#39;m using as a base has a parent image which defines \r\n\r\n    VOLUME &quot;$USER_HOME_DIR/.m2&quot;\r\n\r\nsee: https://github.com/carlossg/docker-maven/blob/322d0dff5d0531ccaf47bf49338cb3e294fd66c8/jdk-8/Dockerfile\r\n\r\nThe result is that during the build, all the files are written to `$USER_HOME_DIR/.m2`, but because it is expected to be a volume, none of those files are persisted with the container image. \r\n\r\nCurrently in Docker there isn&#39;t any way to unregister that volume definition, so it would be necessary to build a separate maven image, rather than use the official maven image.","title":"Maven docker cache dependencies","body":"<p>It turns out the image I'm using as a base has a parent image which defines </p>\n\n<pre><code>VOLUME \"$USER_HOME_DIR/.m2\"\n</code></pre>\n\n<p>see: <a href=\"https://github.com/carlossg/docker-maven/blob/322d0dff5d0531ccaf47bf49338cb3e294fd66c8/jdk-8/Dockerfile\" rel=\"noreferrer\">https://github.com/carlossg/docker-maven/blob/322d0dff5d0531ccaf47bf49338cb3e294fd66c8/jdk-8/Dockerfile</a></p>\n\n<p>The result is that during the build, all the files are written to <code>$USER_HOME_DIR/.m2</code>, but because it is expected to be a volume, none of those files are persisted with the container image. </p>\n\n<p>Currently in Docker there isn't any way to unregister that volume definition, so it would be necessary to build a separate maven image, rather than use the official maven image.</p>\n"},{"comments":[{"owner":{"account_id":4497676,"reputation":491,"user_id":3657087,"display_name":"andriosr"},"score":2,"creation_date":1531927944,"post_id":45975194,"comment_id":89782731,"body_markdown":"Nice, wrote an article on this approach along with using squash, to reduce the final image size: https://medium.com/pismolabs/reducing-image-sizes-and-caching-maven-dependencies-in-docker-builds-b388d3f7aa88","body":"Nice, wrote an article on this approach along with using squash, to reduce the final image size: <a href=\"https://medium.com/pismolabs/reducing-image-sizes-and-caching-maven-dependencies-in-docker-builds-b388d3f7aa88\" rel=\"nofollow noreferrer\">medium.com/pismolabs/&hellip;</a>"},{"owner":{"account_id":1086954,"reputation":29057,"user_id":1082449,"accept_rate":71,"display_name":"davnicwil"},"score":2,"creation_date":1559342649,"post_id":45975194,"comment_id":99403214,"body_markdown":"This is a brilliant and elegant solution, thanks. This answer should be accepted. Came here expecting some sort of hacky workaround solution, but this solution works *with* docker caching to give exactly the expected behaviour. Awesome.","body":"This is a brilliant and elegant solution, thanks. This answer should be accepted. Came here expecting some sort of hacky workaround solution, but this solution works <i>with</i> docker caching to give exactly the expected behaviour. Awesome."},{"owner":{"account_id":1086954,"reputation":29057,"user_id":1082449,"accept_rate":71,"display_name":"davnicwil"},"score":0,"creation_date":1559344957,"post_id":45975194,"comment_id":99403647,"body_markdown":"**But** as other answers point out in the general case you want to use `mvn dependency:resolve` to download dependencies, not `mvn verify --fail-never` - this incidentally downloads dependencies but it&#39;s not the purpose of the command.","body":"<b>But</b> as other answers point out in the general case you want to use <code>mvn dependency:resolve</code> to download dependencies, not <code>mvn verify --fail-never</code> - this incidentally downloads dependencies but it&#39;s not the purpose of the command."},{"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"score":1,"creation_date":1562099387,"post_id":45975194,"comment_id":100269248,"body_markdown":"`dependency:resolve` will not download plugins. And unfortunately `dependency:resolve-plugins` also misses lifecycle plugins.","body":"<code>dependency:resolve</code> will not download plugins. And unfortunately <code>dependency:resolve-plugins</code> also misses lifecycle plugins."},{"owner":{"account_id":106263,"reputation":3151,"user_id":283136,"accept_rate":38,"display_name":"timomeinen"},"score":2,"creation_date":1567411234,"post_id":45975194,"comment_id":101943318,"body_markdown":"@AndrewTFinnell Therefore, use `dependency:go-offline`","body":"@AndrewTFinnell Therefore, use <code>dependency:go-offline</code>"},{"owner":{"account_id":14667513,"reputation":142,"user_id":10592946,"display_name":"BeshEater"},"score":0,"creation_date":1594774945,"post_id":45975194,"comment_id":111242415,"body_markdown":"In my experience `dependency:go-offline` downloads way less that `mvn verify --fail-never` and neither of them can download everything that my project needs.","body":"In my experience <code>dependency:go-offline</code> downloads way less that <code>mvn verify --fail-never</code> and neither of them can download everything that my project needs."},{"owner":{"account_id":5612953,"reputation":2976,"user_id":4445175,"accept_rate":33,"display_name":"Wlad"},"score":0,"creation_date":1599930219,"post_id":45975194,"comment_id":112930597,"body_markdown":"I guess `--fail-never` is not a good idea when you are building docker images that are pushed to Docker Hub regestry via Autobuilds :)","body":"I guess <code>--fail-never</code> is not a good idea when you are building docker images that are pushed to Docker Hub regestry via Autobuilds :)"}],"tags":[],"owner":{"account_id":5957847,"reputation":5155,"user_id":4683849,"accept_rate":58,"display_name":"Kim"},"comment_count":7,"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1564068971,"creation_date":1504162883,"answer_id":45975194,"question_id":42208442,"body_markdown":"Usually, there&#39;s no change in `pom.xml` file but just some other source code changes when you&#39;re attempting to start docker image build. In such circumstance you can do this:\r\n\r\n&lt;b&gt;FYI:&lt;/b&gt;\r\n    \r\n    FROM maven:3-jdk-8\r\n    \r\n    ENV HOME=/home/usr/app\r\n    \r\n    RUN mkdir -p $HOME\r\n    \r\n    WORKDIR $HOME\r\n    \r\n    # 1. add pom.xml only here\r\n\r\n    ADD pom.xml $HOME\r\n    \r\n    # 2. start downloading dependencies\r\n\r\n    RUN [&quot;/usr/local/bin/mvn-entrypoint.sh&quot;, &quot;mvn&quot;, &quot;verify&quot;, &quot;clean&quot;, &quot;--fail-never&quot;]\r\n\r\n    # 3. add all source code and start compiling\r\n    \r\n    ADD . $HOME\r\n    \r\n    RUN [&quot;mvn&quot;, &quot;package&quot;]\r\n    \r\n    EXPOSE 8005\r\n    \r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/dist.jar&quot;]\r\n\r\nSo the key is: \r\n\r\n1. add `pom.xml` file.\r\n\r\n2. then `mvn verify --fail-never` it, it will download maven dependencies.\r\n\r\n3. add all your source file then, and start your compilation(`mvn package`).\r\n\r\n**When there are changes in your `pom.xml` file or you are running this script for the first time, docker will do 1 -&gt; 2 -&gt; 3. When there are no changes in `pom.xml` file, docker will skip step 1ã€2 and do 3 directly.**\r\n\r\nThis simple trick can be used in many other package management circumstances(gradleã€yarnã€npmã€pip).\r\n\r\n**Edit:**\r\n\r\nYou should also consider using `mvn dependency:resolve` or `mvn dependency:go-offline` accordingly as other comments &amp; answers suggest.","title":"Maven docker cache dependencies","body":"<p>Usually, there's no change in <code>pom.xml</code> file but just some other source code changes when you're attempting to start docker image build. In such circumstance you can do this:</p>\n\n<p><b>FYI:</b></p>\n\n<pre><code>FROM maven:3-jdk-8\n\nENV HOME=/home/usr/app\n\nRUN mkdir -p $HOME\n\nWORKDIR $HOME\n\n# 1. add pom.xml only here\n\nADD pom.xml $HOME\n\n# 2. start downloading dependencies\n\nRUN [\"/usr/local/bin/mvn-entrypoint.sh\", \"mvn\", \"verify\", \"clean\", \"--fail-never\"]\n\n# 3. add all source code and start compiling\n\nADD . $HOME\n\nRUN [\"mvn\", \"package\"]\n\nEXPOSE 8005\n\nCMD [\"java\", \"-jar\", \"./target/dist.jar\"]\n</code></pre>\n\n<p>So the key is: </p>\n\n<ol>\n<li><p>add <code>pom.xml</code> file.</p></li>\n<li><p>then <code>mvn verify --fail-never</code> it, it will download maven dependencies.</p></li>\n<li><p>add all your source file then, and start your compilation(<code>mvn package</code>).</p></li>\n</ol>\n\n<p><strong>When there are changes in your <code>pom.xml</code> file or you are running this script for the first time, docker will do 1 -> 2 -> 3. When there are no changes in <code>pom.xml</code> file, docker will skip step 1ã€2 and do 3 directly.</strong></p>\n\n<p>This simple trick can be used in many other package management circumstances(gradleã€yarnã€npmã€pip).</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>You should also consider using <code>mvn dependency:resolve</code> or <code>mvn dependency:go-offline</code> accordingly as other comments &amp; answers suggest.</p>\n"},{"comments":[{"owner":{"account_id":5612953,"reputation":2976,"user_id":4445175,"accept_rate":33,"display_name":"Wlad"},"score":0,"creation_date":1599929709,"post_id":50491489,"comment_id":112930440,"body_markdown":"Skipping the stuff that breaks the build while trying to just get the dependencies offline was the trick for my, too. In my case the compile phase required a DB running :O and even just `mvn dependency:go-offline` was breaking if no DB was running.\n\nWhat is the `-B` in `mvn -B ...`  good for? (from --help I know it&#39;s `--batch-mode`)","body":"Skipping the stuff that breaks the build while trying to just get the dependencies offline was the trick for my, too. In my case the compile phase required a DB running :O and even just <code>mvn dependency:go-offline</code> was breaking if no DB was running.  What is the <code>-B</code> in <code>mvn -B ...</code>  good for? (from --help I know it&#39;s <code>--batch-mode</code>)"},{"owner":{"account_id":297392,"reputation":817,"user_id":602899,"display_name":"Filip Proch&#225;zka"},"score":1,"creation_date":1600677668,"post_id":50491489,"comment_id":113151813,"body_markdown":"@Wlad IMHO it only affects how maven downloads dependencies (and prints progress), but I&#39;m not 100% sure.","body":"@Wlad IMHO it only affects how maven downloads dependencies (and prints progress), but I&#39;m not 100% sure."},{"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"score":0,"creation_date":1699965923,"post_id":50491489,"comment_id":136594449,"body_markdown":"This is very likely the answer, but I really hope it isn&#39;t. I&#39;ve been turning off things for plugins this entire afternoon. :(","body":"This is very likely the answer, but I really hope it isn&#39;t. I&#39;ve been turning off things for plugins this entire afternoon. :("},{"owner":{"account_id":297392,"reputation":817,"user_id":602899,"display_name":"Filip Proch&#225;zka"},"score":0,"creation_date":1700061703,"post_id":50491489,"comment_id":136608901,"body_markdown":"FYI, I&#39;ve since given up on this and have redesigned the build to avoid this problem.","body":"FYI, I&#39;ve since given up on this and have redesigned the build to avoid this problem."}],"tags":[],"owner":{"account_id":297392,"reputation":817,"user_id":602899,"display_name":"Filip Proch&#225;zka"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527089304,"creation_date":1527087165,"answer_id":50491489,"question_id":42208442,"body_markdown":"@Kim is closest, but it&#39;s not quite there yet. I don&#39;t think adding `--fail-never` is correct, even through it get&#39;s the job done.\r\n\r\nThe `verify` command causes a lot of plugins to execute which is a problem (for me) - I don&#39;t think they should be executing when all I want is to install dependencies! I also have a multi-module build and a javascript sub-build so this further complicates the setup.\r\n\r\nBut running only `verify` is not enough, because if you run `install` in the following commands, there will be more plugins used - which means more dependencies to download - maven refuses to download them otherwise. Relevant read: [Maven: Introduction to the Build Lifecycle][1]\r\n\r\nYou basically have to find what properties disable each plugin and add them one-by-one, so they don&#39;t break your build.\r\n\r\n    WORKDIR /srv\r\n    \r\n    # cache Maven dependencies\r\n    ADD cli/pom.xml /srv/cli/\r\n    ADD core/pom.xml /srv/core/\r\n    ADD parent/pom.xml /srv/parent/\r\n    ADD rest-api/pom.xml /srv/rest-api/\r\n    ADD web-admin/pom.xml /srv/web-admin/\r\n    ADD pom.xml /srv/\r\n    RUN mvn -B clean install -DskipTests -Dcheckstyle.skip -Dasciidoctor.skip -Djacoco.skip -Dmaven.gitcommitid.skip -Dspring-boot.repackage.skip -Dmaven.exec.skip=true -Dmaven.install.skip -Dmaven.resources.skip\r\n    \r\n    # cache YARN dependencies\r\n    ADD ./web-admin/package.json ./web-admin/yarn.lock /srv/web-admin/\r\n    RUN yarn --non-interactive --frozen-lockfile --no-progress --cwd /srv/web-admin install\r\n\r\n    # build the project\r\n    ADD . /srv\r\n    RUN mvn -B clean install\r\n\r\nbut some plugins are not that easily skipped - I&#39;m not a maven expert (so I don&#39;t know why it ignores the cli option - it might be a bug), but the following works as expected for `org.codehaus.mojo:exec-maven-plugin`\r\n\r\n    &lt;project&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.exec.skip&gt;false&lt;/maven.exec.skip&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.3.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;yarn install&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;exec&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;initialize&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;executable&gt;yarn&lt;/executable&gt;\r\n                                &lt;arguments&gt;\r\n                                    &lt;argument&gt;install&lt;/argument&gt;\r\n                                &lt;/arguments&gt;\r\n                                &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;yarn run build&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;exec&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;executable&gt;yarn&lt;/executable&gt;\r\n                                &lt;arguments&gt;\r\n                                    &lt;argument&gt;run&lt;/argument&gt;\r\n                                    &lt;argument&gt;build&lt;/argument&gt;\r\n                                &lt;/arguments&gt;\r\n                                &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nplease notice the explicit `&lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;` - other plugins pick this up from the cli params but not this one (neither `-Dmaven.exec.skip=true` nor `-Dexec.skip=true` work by itself)\r\n\r\nHope this helps\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"Maven docker cache dependencies","body":"<p>@Kim is closest, but it's not quite there yet. I don't think adding <code>--fail-never</code> is correct, even through it get's the job done.</p>\n\n<p>The <code>verify</code> command causes a lot of plugins to execute which is a problem (for me) - I don't think they should be executing when all I want is to install dependencies! I also have a multi-module build and a javascript sub-build so this further complicates the setup.</p>\n\n<p>But running only <code>verify</code> is not enough, because if you run <code>install</code> in the following commands, there will be more plugins used - which means more dependencies to download - maven refuses to download them otherwise. Relevant read: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">Maven: Introduction to the Build Lifecycle</a></p>\n\n<p>You basically have to find what properties disable each plugin and add them one-by-one, so they don't break your build.</p>\n\n<pre><code>WORKDIR /srv\n\n# cache Maven dependencies\nADD cli/pom.xml /srv/cli/\nADD core/pom.xml /srv/core/\nADD parent/pom.xml /srv/parent/\nADD rest-api/pom.xml /srv/rest-api/\nADD web-admin/pom.xml /srv/web-admin/\nADD pom.xml /srv/\nRUN mvn -B clean install -DskipTests -Dcheckstyle.skip -Dasciidoctor.skip -Djacoco.skip -Dmaven.gitcommitid.skip -Dspring-boot.repackage.skip -Dmaven.exec.skip=true -Dmaven.install.skip -Dmaven.resources.skip\n\n# cache YARN dependencies\nADD ./web-admin/package.json ./web-admin/yarn.lock /srv/web-admin/\nRUN yarn --non-interactive --frozen-lockfile --no-progress --cwd /srv/web-admin install\n\n# build the project\nADD . /srv\nRUN mvn -B clean install\n</code></pre>\n\n<p>but some plugins are not that easily skipped - I'm not a maven expert (so I don't know why it ignores the cli option - it might be a bug), but the following works as expected for <code>org.codehaus.mojo:exec-maven-plugin</code></p>\n\n<pre><code>&lt;project&gt;\n    &lt;properties&gt;\n        &lt;maven.exec.skip&gt;false&lt;/maven.exec.skip&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;yarn install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;initialize&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;executable&gt;yarn&lt;/executable&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;install&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                            &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;yarn run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;executable&gt;yarn&lt;/executable&gt;\n                            &lt;arguments&gt;\n                                &lt;argument&gt;run&lt;/argument&gt;\n                                &lt;argument&gt;build&lt;/argument&gt;\n                            &lt;/arguments&gt;\n                            &lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>please notice the explicit <code>&lt;skip&gt;${maven.exec.skip}&lt;/skip&gt;</code> - other plugins pick this up from the cli params but not this one (neither <code>-Dmaven.exec.skip=true</code> nor <code>-Dexec.skip=true</code> work by itself)</p>\n\n<p>Hope this helps</p>\n"},{"comments":[{"owner":{"account_id":8904523,"reputation":808,"user_id":6646873,"display_name":"Anderson Marques"},"score":0,"creation_date":1545517722,"post_id":52808343,"comment_id":94644970,"body_markdown":"After adding the `dependency:resolve` argument and adopting multi-stage images improved my build times considerably. Thank you very much!","body":"After adding the <code>dependency:resolve</code> argument and adopting multi-stage images improved my build times considerably. Thank you very much!"},{"owner":{"account_id":2262987,"reputation":761,"user_id":1992537,"accept_rate":100,"display_name":"Elessar.perm"},"score":0,"creation_date":1546153170,"post_id":52808343,"comment_id":94789215,"body_markdown":"great solution! but my modules have another dependencies as a sibling projects, so I need to somehow exclude them from downloading. is thene any way to do this?","body":"great solution! but my modules have another dependencies as a sibling projects, so I need to somehow exclude them from downloading. is thene any way to do this?"},{"owner":{"account_id":340518,"reputation":496,"user_id":5125817,"display_name":"ikandars"},"score":0,"creation_date":1546247092,"post_id":52808343,"comment_id":94808185,"body_markdown":"Hi @Elessar.perm sorry I don&#39;t have any idea for that.","body":"Hi @Elessar.perm sorry I don&#39;t have any idea for that."},{"owner":{"account_id":872686,"reputation":1588,"user_id":923179,"accept_rate":25,"display_name":"Nufail"},"score":2,"creation_date":1585047256,"post_id":52808343,"comment_id":107623047,"body_markdown":"`dependency:go-offline` worked better for me as it downloads plugins as well, whereas `dependency:resolve` downloads dependencies only. https://maven.apache.org/plugins/maven-dependency-plugin/","body":"<code>dependency:go-offline</code> worked better for me as it downloads plugins as well, whereas <code>dependency:resolve</code> downloads dependencies only. <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin</a>"}],"tags":[],"owner":{"account_id":340518,"reputation":496,"user_id":5125817,"display_name":"ikandars"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539564523,"creation_date":1539563853,"answer_id":52808343,"question_id":42208442,"body_markdown":"Similar with @Kim answer but I use `dependency:resolve` mvn command. So here&#39;s my complete Dockerfile:\r\n\r\n    FROM maven:3.5.0-jdk-8-alpine\r\n\r\n    WORKDIR /usr/src/app\r\n    \r\n    # First copy only the pom file. This is the file with less change\r\n    COPY ./pom.xml .\r\n\r\n    # Download the package and make it cached in docker image\r\n    RUN mvn -B -f ./pom.xml -s /usr/share/maven/ref/settings-docker.xml dependency:resolve\r\n\r\n    # Copy the actual code\r\n    COPY ./ .\r\n\r\n    # Then build the code\r\n    RUN mvn -B -f ./pom.xml -s /usr/share/maven/ref/settings-docker.xml package\r\n\r\n    # The rest is same as usual\r\n    EXPOSE 8888\r\n\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/YOUR-APP.jar&quot;]","title":"Maven docker cache dependencies","body":"<p>Similar with @Kim answer but I use <code>dependency:resolve</code> mvn command. So here's my complete Dockerfile:</p>\n\n<pre><code>FROM maven:3.5.0-jdk-8-alpine\n\nWORKDIR /usr/src/app\n\n# First copy only the pom file. This is the file with less change\nCOPY ./pom.xml .\n\n# Download the package and make it cached in docker image\nRUN mvn -B -f ./pom.xml -s /usr/share/maven/ref/settings-docker.xml dependency:resolve\n\n# Copy the actual code\nCOPY ./ .\n\n# Then build the code\nRUN mvn -B -f ./pom.xml -s /usr/share/maven/ref/settings-docker.xml package\n\n# The rest is same as usual\nEXPOSE 8888\n\nCMD [\"java\", \"-jar\", \"./target/YOUR-APP.jar\"]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5612953,"reputation":2976,"user_id":4445175,"accept_rate":33,"display_name":"Wlad"},"score":0,"creation_date":1599930098,"post_id":55403241,"comment_id":112930561,"body_markdown":"that&#39;s right but in some cases (i.e. multi module project) `mvn dependency:go-offline` can breaks the build. i.e. I had to use `mvn compile dependency:go-offline` which brought me a step further but still some stuff was breaking and required me to make sure that this stuff is skipped. So sometimes a combination of dependency:go-offline + skipping stuff that breaks the build is the only solution.","body":"that&#39;s right but in some cases (i.e. multi module project) <code>mvn dependency:go-offline</code> can breaks the build. i.e. I had to use <code>mvn compile dependency:go-offline</code> which brought me a step further but still some stuff was breaking and required me to make sure that this stuff is skipped. So sometimes a combination of dependency:go-offline + skipping stuff that breaks the build is the only solution."}],"tags":[],"owner":{"account_id":269882,"reputation":1247,"user_id":559495,"display_name":"Krzysztof Czelusniak"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1555103712,"creation_date":1553792656,"answer_id":55403241,"question_id":42208442,"body_markdown":"I don&#39;t think the other answers here are optimal. For example, the [`mvn verify`][1] answer executes the following phases, and does a lot more than just resolving dependencies:\n\n&gt; validate - validate the project is correct and all necessary information is available\n&gt;\n&gt; compile - compile the source code of the project\n&gt;\n&gt; test - test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed\n&gt;\n&gt; package - take the compiled code and package it in its distributable format, such as a JAR.\n&gt;\n&gt; verify - run any checks on results of integration tests to ensure quality criteria are met\n\nAll of these phases and their associated goals don&#39;t need to be ran if you only want to resolve dependencies.\n\nIf you only want to resolve dependencies, you can use the [`dependency:go-offline`][2] goal:\n\n    FROM maven:3-jdk-12\n    WORKDIR /tmp/example/\n\n    COPY pom.xml .\n    RUN mvn dependency:go-offline\n\n    COPY src/ src/\n    RUN mvn package\n\n\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#A_Build_Lifecycle_is_Made_Up_of_Phases\n  [2]: https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html","title":"Maven docker cache dependencies","body":"<p>I don't think the other answers here are optimal. For example, the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#A_Build_Lifecycle_is_Made_Up_of_Phases\" rel=\"noreferrer\"><code>mvn verify</code></a> answer executes the following phases, and does a lot more than just resolving dependencies:</p>\n<blockquote>\n<p>validate - validate the project is correct and all necessary information is available</p>\n<p>compile - compile the source code of the project</p>\n<p>test - test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed</p>\n<p>package - take the compiled code and package it in its distributable format, such as a JAR.</p>\n<p>verify - run any checks on results of integration tests to ensure quality criteria are met</p>\n</blockquote>\n<p>All of these phases and their associated goals don't need to be ran if you only want to resolve dependencies.</p>\n<p>If you only want to resolve dependencies, you can use the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html\" rel=\"noreferrer\"><code>dependency:go-offline</code></a> goal:</p>\n<pre><code>FROM maven:3-jdk-12\nWORKDIR /tmp/example/\n\nCOPY pom.xml .\nRUN mvn dependency:go-offline\n\nCOPY src/ src/\nRUN mvn package\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5612953,"reputation":2976,"user_id":4445175,"accept_rate":33,"display_name":"Wlad"},"score":1,"creation_date":1599930702,"post_id":56056728,"comment_id":112930735,"body_markdown":"Haven&#39;t you forgot to add something like `COPY --from=intermediate /home/root/.m2` ?  Because what you show is a multistage build and AFAIK everythink from first stage is thrown away  before second stage starts. So you have to explicitly define what to take over from one stage to the other.","body":"Haven&#39;t you forgot to add something like <code>COPY --from=intermediate &#47;home&#47;root&#47;.m2</code> ?  Because what you show is a multistage build and AFAIK everythink from first stage is thrown away  before second stage starts. So you have to explicitly define what to take over from one stage to the other."}],"tags":[],"owner":{"account_id":11342404,"reputation":307,"user_id":8315994,"display_name":"Calvin Zhou"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557395352,"creation_date":1557395352,"answer_id":56056728,"question_id":42208442,"body_markdown":"After a few days of struggling, I managed to do this caching later using intermediate contrainer, and I&#39;d like to summarize my findings here as this topic is so useful and being frequently shown in Google search frontpage:\r\n\r\n1. Kim&#39;s answer is only working to a certain condition: pom.xml cannot be changed, plus Maven do a regular update daily basis by default\r\n2. mvn dependency:go-offline -B --fail-never has a similar drawback, so if you need to pull fresh code from repo, high chances are Maven will trigger a full checkout every time \r\n3. Mount volume is not working as well because we need to resolve the dependencies during image being built \r\n4. Finally, I have a workable solution combined(May be not working to others):\r\n- Build an image to resolve all the dependencies first(Not intermediate image)\r\n- Create another Dockerfile with intermediate image, sample dockerfiles like this: \r\n\r\n```#dependencies.dockerfile\r\n#docker build -t dependencies .\r\nFrom ubuntu\r\nCOPY pom.xml pom.xml\r\nRUN mvn dependency:go-offline -B --fail-never\r\n```\r\n```#package.dockerfile\r\nFrom dependencies as intermediate\r\n\r\nFrom tomcat\r\nRUN git pull repo.git (whatsoever)\r\nRUN mvn package\r\n```\r\n\r\nThe idea is to keep all the dependencies in a different image that Maven can use immediately \r\n\r\nIt could be other scenarios I haven&#39;t encountered yet, but this solution relief me a bit from download 3GB rubbish every time\r\nI cannot imagine why Java became such a fat whale in today&#39;s lean world ","title":"Maven docker cache dependencies","body":"<p>After a few days of struggling, I managed to do this caching later using intermediate contrainer, and I'd like to summarize my findings here as this topic is so useful and being frequently shown in Google search frontpage:</p>\n\n<ol>\n<li>Kim's answer is only working to a certain condition: pom.xml cannot be changed, plus Maven do a regular update daily basis by default</li>\n<li>mvn dependency:go-offline -B --fail-never has a similar drawback, so if you need to pull fresh code from repo, high chances are Maven will trigger a full checkout every time </li>\n<li>Mount volume is not working as well because we need to resolve the dependencies during image being built </li>\n<li>Finally, I have a workable solution combined(May be not working to others):\n\n<ul>\n<li>Build an image to resolve all the dependencies first(Not intermediate image)</li>\n<li>Create another Dockerfile with intermediate image, sample dockerfiles like this: </li>\n</ul></li>\n</ol>\n\n<pre><code>#docker build -t dependencies .\nFrom ubuntu\nCOPY pom.xml pom.xml\nRUN mvn dependency:go-offline -B --fail-never\n</code></pre>\n\n<pre><code>From dependencies as intermediate\n\nFrom tomcat\nRUN git pull repo.git (whatsoever)\nRUN mvn package\n</code></pre>\n\n<p>The idea is to keep all the dependencies in a different image that Maven can use immediately </p>\n\n<p>It could be other scenarios I haven't encountered yet, but this solution relief me a bit from download 3GB rubbish every time\nI cannot imagine why Java became such a fat whale in today's lean world </p>\n"},{"tags":[],"owner":{"account_id":189124,"reputation":2471,"user_id":428272,"accept_rate":50,"display_name":"Omri Spector"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1566831263,"creation_date":1566831263,"answer_id":57660331,"question_id":42208442,"body_markdown":"There are two ways to cache maven dependencies:\r\n\r\n 1. Execute &quot;mvn verify&quot; as part of a container execution, NOT build, and make sure you mount .m2 from a volume.\r\n\r\n  This is efficient but it does not play well with cloud build and multiple build slaves\r\n 2. Use a &quot;dependencies cache container&quot;, and update it periodically. Here is how:\r\n\r\n a. Create a Dockerfile that copies the pom and build offline dependencies:\r\n\r\n        FROM maven:3.5.3-jdk-8-alpine\r\n        WORKDIR /build\r\n        COPY pom.xml .\r\n        RUN mvn dependency:go-offline\r\n b. Build it periodically (e.g. nightly) as &quot;Deps:latest&quot;\r\n\r\n c. Create another Dockerfile to actually build the system per commit (preferably use multi-stage) - and make sure it is FROM Deps.\r\n\r\nUsing this system you will have fast, reconstruct-able builds with a mostly good-enough cache.\r\n\r\n","title":"Maven docker cache dependencies","body":"<p>There are two ways to cache maven dependencies:</p>\n\n<ol>\n<li><p>Execute \"mvn verify\" as part of a container execution, NOT build, and make sure you mount .m2 from a volume.</p>\n\n<p>This is efficient but it does not play well with cloud build and multiple build slaves</p></li>\n<li><p>Use a \"dependencies cache container\", and update it periodically. Here is how:</p>\n\n<p>a. Create a Dockerfile that copies the pom and build offline dependencies:</p>\n\n<pre><code>FROM maven:3.5.3-jdk-8-alpine\nWORKDIR /build\nCOPY pom.xml .\nRUN mvn dependency:go-offline\n</code></pre>\n\n<p>b. Build it periodically (e.g. nightly) as \"Deps:latest\"</p>\n\n<p>c. Create another Dockerfile to actually build the system per commit (preferably use multi-stage) - and make sure it is FROM Deps.</p></li>\n</ol>\n\n<p>Using this system you will have fast, reconstruct-able builds with a mostly good-enough cache.</p>\n"},{"comments":[{"owner":{"account_id":1838798,"reputation":311,"user_id":1668645,"accept_rate":29,"display_name":"Stefan H&#246;ltker"},"score":0,"creation_date":1582649920,"post_id":57781332,"comment_id":106847288,"body_markdown":"Dose it run on docker for windows without wsl2 ?","body":"Dose it run on docker for windows without wsl2 ?"},{"owner":{"account_id":4887223,"reputation":2488,"user_id":3939318,"accept_rate":86,"display_name":"Farzad Vertigo"},"score":0,"creation_date":1582671648,"post_id":57781332,"comment_id":106856517,"body_markdown":"Haven&#39;t tried it on windows myself. But according to [this](https://github.com/moby/buildkit/issues/616) the process of using it on windows is not that smooth.","body":"Haven&#39;t tried it on windows myself. But according to <a href=\"https://github.com/moby/buildkit/issues/616\" rel=\"nofollow noreferrer\">this</a> the process of using it on windows is not that smooth."}],"tags":[],"owner":{"account_id":4887223,"reputation":2488,"user_id":3939318,"accept_rate":86,"display_name":"Farzad Vertigo"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1626784952,"creation_date":1567569966,"answer_id":57781332,"question_id":42208442,"body_markdown":"### Using BuildKit\r\n\r\nFrom `Docker v18.03` onwards you can use [BuildKit](https://docs.docker.com/develop/develop-images/build_enhancements/) instead of volumes that were mentioned in the other answers. It allows mounting caches that can persist between builds and you can avoid downloading contents of the corresponding `.m2/repository` every time. \r\n\r\nAssuming that the Dockerfile is in the root of your project:\r\n\r\n    # syntax = docker/dockerfile:1.0-experimental\r\n    \r\n    FROM maven:3.6.0-jdk-11-slim AS build\r\n    COPY . /home/build\r\n    RUN mkdir /home/.m2\r\n    WORKDIR /home/.m2\r\n    USER root\r\n    RUN --mount=type=cache,target=/root/.m2 mvn -f /home/build/pom.xml clean compile\r\n\r\n`target=/root/.m2` mounts cache to the specified place in maven image Dockerfile [docs](https://hub.docker.com/_/maven).\r\n\r\nFor building you can run the following command:\r\n\r\n    DOCKER_BUILDKIT=1 docker build --rm --no-cache  .   \r\n\r\nMore info on BuildKit can be found [here](https://github.com/moby/buildkit/blob/master/frontend/dockerfile/docs/syntax.md).\r\n\r\n\r\n","title":"Maven docker cache dependencies","body":"<h3 id=\"using-buildkit-6mku\">Using BuildKit</h3>\n<p>From <code>Docker v18.03</code> onwards you can use <a href=\"https://docs.docker.com/develop/develop-images/build_enhancements/\" rel=\"noreferrer\">BuildKit</a> instead of volumes that were mentioned in the other answers. It allows mounting caches that can persist between builds and you can avoid downloading contents of the corresponding <code>.m2/repository</code> every time.</p>\n<p>Assuming that the Dockerfile is in the root of your project:</p>\n<pre><code># syntax = docker/dockerfile:1.0-experimental\n\nFROM maven:3.6.0-jdk-11-slim AS build\nCOPY . /home/build\nRUN mkdir /home/.m2\nWORKDIR /home/.m2\nUSER root\nRUN --mount=type=cache,target=/root/.m2 mvn -f /home/build/pom.xml clean compile\n</code></pre>\n<p><code>target=/root/.m2</code> mounts cache to the specified place in maven image Dockerfile <a href=\"https://hub.docker.com/_/maven\" rel=\"noreferrer\">docs</a>.</p>\n<p>For building you can run the following command:</p>\n<pre><code>DOCKER_BUILDKIT=1 docker build --rm --no-cache  .   \n</code></pre>\n<p>More info on BuildKit can be found <a href=\"https://github.com/moby/buildkit/blob/master/frontend/dockerfile/docs/syntax.md\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"score":0,"creation_date":1699965650,"post_id":60642407,"comment_id":136594402,"body_markdown":"How would I prevent random plugins from executing though? My project has a bunch, some of which can&#39;t be turned on and off by flags. Is there a blanket statement to just not execute anything, just build? I got minimizing steps, source generating steps, etc. and those fail for obvious reasons","body":"How would I prevent random plugins from executing though? My project has a bunch, some of which can&#39;t be turned on and off by flags. Is there a blanket statement to just not execute anything, just build? I got minimizing steps, source generating steps, etc. and those fail for obvious reasons"}],"tags":[],"owner":{"account_id":2087167,"reputation":400,"user_id":1857860,"accept_rate":60,"display_name":"Valevalorin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583951203,"creation_date":1583951203,"answer_id":60642407,"question_id":42208442,"body_markdown":"I think the general game plan presented among the other answers is the right idea:\r\n\r\n 1. Copy pom.xml\r\n 2. Get dependencies\r\n 3. Copy source\r\n 4. Build \r\n\r\nHowever, exactly how you do step #2 is the real key. For me, using the same command I used for building to fetch dependencies was the right solution:\r\n\r\n    FROM java/java:latest\r\n    \r\n    # Work dir\r\n    WORKDIR /app\r\n    RUN mkdir -p .\r\n    # Copy pom and get dependencies\r\n    COPY pom.xml pom.xml\r\n    RUN mvn -Dmaven.repo.local=./.m2 install assembly:single\r\n    \r\n    # Copy and build source\r\n    COPY . .\r\n    RUN mvn -Dmaven.repo.local=./.m2 install assembly:single\r\n\r\nAny other command used to fetch dependencies resulted in many things needing to be download during the build step. It makes sense the running the exact command you plan on running will you get you the closest to everything you need to actually run that command.","title":"Maven docker cache dependencies","body":"<p>I think the general game plan presented among the other answers is the right idea:</p>\n\n<ol>\n<li>Copy pom.xml</li>\n<li>Get dependencies</li>\n<li>Copy source</li>\n<li>Build </li>\n</ol>\n\n<p>However, exactly how you do step #2 is the real key. For me, using the same command I used for building to fetch dependencies was the right solution:</p>\n\n<pre><code>FROM java/java:latest\n\n# Work dir\nWORKDIR /app\nRUN mkdir -p .\n# Copy pom and get dependencies\nCOPY pom.xml pom.xml\nRUN mvn -Dmaven.repo.local=./.m2 install assembly:single\n\n# Copy and build source\nCOPY . .\nRUN mvn -Dmaven.repo.local=./.m2 install assembly:single\n</code></pre>\n\n<p>Any other command used to fetch dependencies resulted in many things needing to be download during the build step. It makes sense the running the exact command you plan on running will you get you the closest to everything you need to actually run that command.</p>\n"},{"tags":[],"owner":{"account_id":15686480,"reputation":1043,"user_id":11319016,"display_name":"aballaci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591106323,"creation_date":1591065500,"answer_id":62143925,"question_id":42208442,"body_markdown":"A local Nexus 3 Image running in Docker and acting as a local Proxy is an acceptable solution:\r\n\r\nThe idea is similar to Dockerize an apt-cacher-ng service [apt-cacher-ng](https://docs.docker.com/engine/examples/apt-cacher-ng/)\r\n\r\nhere you can find a comprehensive step by step. [github repo](https://github.com/aballaci/maven-docker-proxy)\r\n\r\nIts really fast.\r\n","title":"Maven docker cache dependencies","body":"<p>A local Nexus 3 Image running in Docker and acting as a local Proxy is an acceptable solution:</p>\n\n<p>The idea is similar to Dockerize an apt-cacher-ng service <a href=\"https://docs.docker.com/engine/examples/apt-cacher-ng/\" rel=\"nofollow noreferrer\">apt-cacher-ng</a></p>\n\n<p>here you can find a comprehensive step by step. <a href=\"https://github.com/aballaci/maven-docker-proxy\" rel=\"nofollow noreferrer\">github repo</a></p>\n\n<p>Its really fast.</p>\n"},{"tags":[],"owner":{"account_id":71015,"reputation":5191,"user_id":205463,"accept_rate":71,"display_name":"Vahid Hashemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613556370,"creation_date":1613556370,"answer_id":66239723,"question_id":42208442,"body_markdown":"Another Solution would be using a repository manger such as Sonar Nexus or Artifactory. You can set a maven proxy inside the registry then use the registry as your source of maven repositories.","title":"Maven docker cache dependencies","body":"<p>Another Solution would be using a repository manger such as Sonar Nexus or Artifactory. You can set a maven proxy inside the registry then use the registry as your source of maven repositories.</p>\n"},{"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644523746,"creation_date":1644500428,"answer_id":71066133,"question_id":42208442,"body_markdown":"I had to deal with the same issue.\r\n\r\nUnfortunately, as just said by another contributor, `dependency:go-offline` and the other goals, don&#39;t fully solve the problem: many dependencies are not downloaded.\r\n\r\nI found a working solution as follow.\r\n\r\n```dockerfile\r\n# Cache dependencies\r\n\r\nADD settings.xml .\r\nADD pom.xml .\r\n\r\nRUN mvn -B -s settings.xml -Ddocker.build.skip=true package test\r\n\r\n# Build artifact\r\n\r\nADD src .\r\nRUN mvn -B -s settings.xml -DskipTests package\r\n```\r\n\r\nThe trick is to do a full build without sources, which produces a full dependency scan.\r\n\r\nIn order to avoid errors on some plugins (for example: **OpenAPI maven generator plugin** or **Spring Boot maven plugin**) I had to skip its goals, but letting it to download all the dependencies by adding for each one a configuration settings like follow:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;skip&gt;${docker.build.skip}&lt;/skip&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nRegards.","title":"Maven docker cache dependencies","body":"<p>I had to deal with the same issue.</p>\n<p>Unfortunately, as just said by another contributor, <code>dependency:go-offline</code> and the other goals, don't fully solve the problem: many dependencies are not downloaded.</p>\n<p>I found a working solution as follow.</p>\n<pre><code># Cache dependencies\n\nADD settings.xml .\nADD pom.xml .\n\nRUN mvn -B -s settings.xml -Ddocker.build.skip=true package test\n\n# Build artifact\n\nADD src .\nRUN mvn -B -s settings.xml -DskipTests package\n</code></pre>\n<p>The trick is to do a full build without sources, which produces a full dependency scan.</p>\n<p>In order to avoid errors on some plugins (for example: <strong>OpenAPI maven generator plugin</strong> or <strong>Spring Boot maven plugin</strong>) I had to skip its goals, but letting it to download all the dependencies by adding for each one a configuration settings like follow:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;skip&gt;${docker.build.skip}&lt;/skip&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":3613538,"reputation":31,"user_id":3013994,"display_name":"pesso82"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658739962,"creation_date":1658669525,"answer_id":73098845,"question_id":42208442,"body_markdown":"Here my working solution.\r\nThe tricks are:\r\n\r\n- use docker multi-stage build\r\n- don&#39;t copy the project source in the image created in the first stage, but only pom (or poms in case your project is multi-module)\r\n\r\nHere my solution for a multi-module project using openjdk11\r\n\r\n    ## stage 1\r\n    FROM adoptopenjdk/maven-openjdk11 as dependencies\r\n    ENV HOME=/usr/maven\r\n    ENV MVN_REPO=/usr/maven/.m3/repository\r\n    RUN mkdir -p $HOME\r\n    RUN mkdir -p $MVN_REPO\r\n    WORKDIR $HOME\r\n    ## copy all pom files of the modules tree with the same directory tree of the project\r\n    #reactor\r\n    ADD pom.xml $HOME\r\n    ## api module\r\n    RUN mkdir -p $HOME/api\r\n    ADD api/pom.xml $HOME/api\r\n    ## application module\r\n    RUN mkdir -p $HOME/application\r\n    ADD application/pom.xml $HOME/application\r\n    ## domain module\r\n    RUN mkdir -p $HOME/domain\r\n    ADD domain/pom.xml $HOME/domain\r\n    ## service module\r\n    RUN mkdir -p $HOME/service\r\n    ADD service/pom.xml $HOME/service\r\n\r\n    ## download all dependencies in this docker image. The goal &quot;test&quot; is needed to avoid download of dependencies with &lt;scope&gt;test&lt;/scope&gt; in the second stage\r\n    RUN mvn -Dmaven.repo.local=$MVN_REPO dependency:go-offline test\r\n    \r\n    ## stage 2\r\n    FROM adoptopenjdk/maven-openjdk11 as executable\r\n    ENV APP_HOME=/usr/app\r\n    ENV MVN_REPO=/usr/maven/.m3/repository\r\n    ENV APP_MVN_REPO=$MVN_REPO\r\n    RUN mkdir -p $APP_HOME\r\n    RUN mkdir -p $APP_MVN_REPO\r\n    WORKDIR $APP_HOME\r\n    ADD . $APP_HOME\r\n    ## copy the dependecies tree from &quot;stage 1&quot; dependencies image to this image\r\n    COPY --from=dependencies $MVN_REPO $APP_MVN_REPO\r\n    ## package the application, skipping test\r\n    RUN mvn -Dmaven.repo.local=$APP_MVN_REPO package -DskipTests\r\n    ## set ENV values\r\n    ENV NAME=VALUE\r\n\r\n    ## copy the jar in the WORKDIR folder\r\n    RUN cp $APP_HOME/application/target/*.jar $APP_HOME/my-final-jar-0.0.1-SNAPSHOT.jar\r\n    EXPOSE 8080\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;/usr/app/my-final-jar-0.0.1-SNAPSHOT.jar&quot; ,&quot;--spring.profiles.active=docker&quot;]","title":"Maven docker cache dependencies","body":"<p>Here my working solution.\nThe tricks are:</p>\n<ul>\n<li>use docker multi-stage build</li>\n<li>don't copy the project source in the image created in the first stage, but only pom (or poms in case your project is multi-module)</li>\n</ul>\n<p>Here my solution for a multi-module project using openjdk11</p>\n<pre><code>## stage 1\nFROM adoptopenjdk/maven-openjdk11 as dependencies\nENV HOME=/usr/maven\nENV MVN_REPO=/usr/maven/.m3/repository\nRUN mkdir -p $HOME\nRUN mkdir -p $MVN_REPO\nWORKDIR $HOME\n## copy all pom files of the modules tree with the same directory tree of the project\n#reactor\nADD pom.xml $HOME\n## api module\nRUN mkdir -p $HOME/api\nADD api/pom.xml $HOME/api\n## application module\nRUN mkdir -p $HOME/application\nADD application/pom.xml $HOME/application\n## domain module\nRUN mkdir -p $HOME/domain\nADD domain/pom.xml $HOME/domain\n## service module\nRUN mkdir -p $HOME/service\nADD service/pom.xml $HOME/service\n\n## download all dependencies in this docker image. The goal &quot;test&quot; is needed to avoid download of dependencies with &lt;scope&gt;test&lt;/scope&gt; in the second stage\nRUN mvn -Dmaven.repo.local=$MVN_REPO dependency:go-offline test\n\n## stage 2\nFROM adoptopenjdk/maven-openjdk11 as executable\nENV APP_HOME=/usr/app\nENV MVN_REPO=/usr/maven/.m3/repository\nENV APP_MVN_REPO=$MVN_REPO\nRUN mkdir -p $APP_HOME\nRUN mkdir -p $APP_MVN_REPO\nWORKDIR $APP_HOME\nADD . $APP_HOME\n## copy the dependecies tree from &quot;stage 1&quot; dependencies image to this image\nCOPY --from=dependencies $MVN_REPO $APP_MVN_REPO\n## package the application, skipping test\nRUN mvn -Dmaven.repo.local=$APP_MVN_REPO package -DskipTests\n## set ENV values\nENV NAME=VALUE\n\n## copy the jar in the WORKDIR folder\nRUN cp $APP_HOME/application/target/*.jar $APP_HOME/my-final-jar-0.0.1-SNAPSHOT.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;,&quot;/usr/app/my-final-jar-0.0.1-SNAPSHOT.jar&quot; ,&quot;--spring.profiles.active=docker&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27749937,"reputation":1,"user_id":21184536,"display_name":"MangYudh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017134,"creation_date":1676001318,"answer_id":75406779,"question_id":42208442,"body_markdown":"This one did the trick very well for me:\r\n\r\nedit config.toml \r\n\r\n    [runner.docker]\r\n    ...\r\n    volumes = [&quot;/cache&quot;,&quot;m2:/root/.m2&quot;]\r\n    ...\r\n\r\nit will create &quot;m2&quot; volume that will persists across builds and you guys knows the rest :)\r\n ","title":"Maven docker cache dependencies","body":"<p>This one did the trick very well for me:</p>\n<p>edit config.toml</p>\n<pre><code>[runner.docker]\n...\nvolumes = [&quot;/cache&quot;,&quot;m2:/root/.m2&quot;]\n...\n</code></pre>\n<p>it will create &quot;m2&quot; volume that will persists across builds and you guys knows the rest :)</p>\n"}],"owner":{"account_id":1704246,"reputation":3539,"user_id":1563654,"accept_rate":42,"display_name":"Daniel Watrous"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68310,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":16,"score":72,"last_activity_date":1676017134,"creation_date":1487001964,"question_id":42208442,"body_markdown":"I&#39;m trying to use docker to automate maven builds. The project I want to build takes nearly 20 minutes to download all the dependencies, so I tried to build a docker image that would cache these dependencies, but it doesn&#39;t seem to save it. My Dockerfile is\r\n\r\n    FROM maven:alpine\r\n    RUN mkdir -p /usr/src/app\r\n    WORKDIR /usr/src/app\r\n    ADD pom.xml /usr/src/app\r\n    RUN mvn dependency:go-offline\r\n\r\nThe image builds, and it does download everything. However, the resulting image is the same size as the base `maven:alpine` image, so it doesn&#39;t seem to have cached the dependencies in the image. When I try to use the image to `mvn compile` it goes through the full 20 minutes of redownloading everything.\r\n\r\nIs it possible to build a maven image that caches my dependencies so they don&#39;t have to download everytime I use the image to perform a build?\r\n\r\nI&#39;m running the following commands:\r\n\r\n    docker build -t my-maven .\r\n\r\n    docker run -it --rm --name my-maven-project -v &quot;$PWD&quot;:/usr/src/mymaven -w /usr/src/mymaven my-maven mvn compile\r\n\r\nMy understanding is that whatever `RUN` does during the docker build process becomes part of the resulting image.","title":"Maven docker cache dependencies","body":"<p>I'm trying to use docker to automate maven builds. The project I want to build takes nearly 20 minutes to download all the dependencies, so I tried to build a docker image that would cache these dependencies, but it doesn't seem to save it. My Dockerfile is</p>\n\n<pre><code>FROM maven:alpine\nRUN mkdir -p /usr/src/app\nWORKDIR /usr/src/app\nADD pom.xml /usr/src/app\nRUN mvn dependency:go-offline\n</code></pre>\n\n<p>The image builds, and it does download everything. However, the resulting image is the same size as the base <code>maven:alpine</code> image, so it doesn't seem to have cached the dependencies in the image. When I try to use the image to <code>mvn compile</code> it goes through the full 20 minutes of redownloading everything.</p>\n\n<p>Is it possible to build a maven image that caches my dependencies so they don't have to download everytime I use the image to perform a build?</p>\n\n<p>I'm running the following commands:</p>\n\n<pre><code>docker build -t my-maven .\n\ndocker run -it --rm --name my-maven-project -v \"$PWD\":/usr/src/mymaven -w /usr/src/mymaven my-maven mvn compile\n</code></pre>\n\n<p>My understanding is that whatever <code>RUN</code> does during the docker build process becomes part of the resulting image.</p>\n"},{"tags":["java","websocket","signalr"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676026460,"post_id":75408492,"comment_id":133058736,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24276369,"reputation":11,"user_id":18223622,"display_name":"Funkjus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676017125,"creation_date":1676017125,"question_id":75408492,"body_markdown":"I have a client server application. The server is on .core 6.0 and WinForm clients connect to it via SignalR. I want to re-release the same server in Java only. Is it possible to configure a java websocket to behave like a SignalR server on dot.net so that I can connect to it from my Winform SignalR clients? And how to do it?\r\n\r\n\r\nI tried to look in the Microsoft documentation[ https://learn.microsoft.com/en-us/aspnet/core/signalr/java-client?view=aspnetcore-7.0](https://www.stackoverflow.com/), but I understand that this is a solution how to organize a java client and not a server part","title":"How to accept a SignalR client connection on a Java websocket server and call client methods?","body":"<p>I have a client server application. The server is on .core 6.0 and WinForm clients connect to it via SignalR. I want to re-release the same server in Java only. Is it possible to configure a java websocket to behave like a SignalR server on dot.net so that I can connect to it from my Winform SignalR clients? And how to do it?</p>\n<p>I tried to look in the Microsoft documentation<a href=\"https://www.stackoverflow.com/\"> https://learn.microsoft.com/en-us/aspnet/core/signalr/java-client?view=aspnetcore-7.0</a>, but I understand that this is a solution how to organize a java client and not a server part</p>\n"},{"tags":["java","json","http","rest","backbone.js"],"comments":[{"owner":{"account_id":236891,"reputation":7219,"user_id":504685,"accept_rate":50,"display_name":"Charlie"},"score":1,"creation_date":1322497815,"post_id":8294265,"comment_id":10223561,"body_markdown":"Could you go into more detail about your potential use cases and why the HTTP status code and setting appropriate response headers wouldn&#39;t be suitable?","body":"Could you go into more detail about your potential use cases and why the HTTP status code and setting appropriate response headers wouldn&#39;t be suitable?"}],"answers":[{"comments":[{"owner":{"account_id":755023,"reputation":6091,"user_id":873641,"accept_rate":86,"display_name":"Daniel Cerecedo"},"score":0,"creation_date":1392372701,"post_id":8301672,"comment_id":32944814,"body_markdown":"Wouldn&#39;t it be better to add pagination links in the response rather than embedding paging request logic in the client?","body":"Wouldn&#39;t it be better to add pagination links in the response rather than embedding paging request logic in the client?"}],"tags":[],"owner":{"account_id":163776,"reputation":1446,"user_id":386128,"display_name":"maxl0rd"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1322510862,"creation_date":1322510862,"answer_id":8301672,"question_id":8294265,"body_markdown":"We had the same use case, in which we needed to add pagination metadata to a JSON response. We ended up creating a collection type in Backbone that could handle this data, and a lightweight wrapper on the Rails side. This example just adds the meta data to the collection object for reference by the view.\r\n\r\nSo we created a Backbone Collection class something like this\r\n\r\n    // Example response:\r\n    // { num_pages: 4, limit_value: 25, current_page: 1, total_count: 97\r\n    //   records: [{...}, {...}] }\r\n\r\n    PageableCollection = Backbone.Collection.extend({\r\n      parse: function(resp, xhr)  {\r\n        this.numPages = resp.num_pages;\r\n        this.limitValue = resp.limit_value;\r\n        this.currentPage = resp.current_page;\r\n        this.totalCount = resp.total_count;\r\n        return resp.records;\r\n      }  \r\n    });\r\n\r\nAnd then we created this simple class on the Rails side, to emit the meta data when paginated with Kaminari\r\n\r\n    class PageableCollection\r\n      def initialize (collection)\r\n        @collection = collection\r\n      end\r\n      def as_json(opts = {})\r\n        {\r\n          :num_pages =&gt; @collection.num_pages \r\n          :limit_value =&gt; @collection.limit_value \r\n          :current_page =&gt; @collection.current_page,\r\n          :total_count =&gt; @collection.total_count\r\n          :records =&gt; @collection.to_a.as_json(opts)\r\n        }\r\n      end\r\n    end\r\n\r\nYou use it in a controller like this\r\n\r\n    class ThingsController &lt; ApplicationController\r\n      def index \r\n        @things = Thing.all.page params[:page]\r\n        render :json =&gt; PageableCollection.new(@things)\r\n      end\r\n    end\r\n\r\nEnjoy. Hope you find it useful.","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>We had the same use case, in which we needed to add pagination metadata to a JSON response. We ended up creating a collection type in Backbone that could handle this data, and a lightweight wrapper on the Rails side. This example just adds the meta data to the collection object for reference by the view.</p>\n\n<p>So we created a Backbone Collection class something like this</p>\n\n<pre><code>// Example response:\n// { num_pages: 4, limit_value: 25, current_page: 1, total_count: 97\n//   records: [{...}, {...}] }\n\nPageableCollection = Backbone.Collection.extend({\n  parse: function(resp, xhr)  {\n    this.numPages = resp.num_pages;\n    this.limitValue = resp.limit_value;\n    this.currentPage = resp.current_page;\n    this.totalCount = resp.total_count;\n    return resp.records;\n  }  \n});\n</code></pre>\n\n<p>And then we created this simple class on the Rails side, to emit the meta data when paginated with Kaminari</p>\n\n<pre><code>class PageableCollection\n  def initialize (collection)\n    @collection = collection\n  end\n  def as_json(opts = {})\n    {\n      :num_pages =&gt; @collection.num_pages \n      :limit_value =&gt; @collection.limit_value \n      :current_page =&gt; @collection.current_page,\n      :total_count =&gt; @collection.total_count\n      :records =&gt; @collection.to_a.as_json(opts)\n    }\n  end\nend\n</code></pre>\n\n<p>You use it in a controller like this</p>\n\n<pre><code>class ThingsController &lt; ApplicationController\n  def index \n    @things = Thing.all.page params[:page]\n    render :json =&gt; PageableCollection.new(@things)\n  end\nend\n</code></pre>\n\n<p>Enjoy. Hope you find it useful.</p>\n"},{"comments":[{"owner":{"account_id":124743,"reputation":8294,"user_id":320036,"accept_rate":56,"display_name":"z0r"},"score":0,"creation_date":1440773335,"post_id":8307910,"comment_id":52426555,"body_markdown":"Apparently prefixing with `X-` is [no longer recommended](http://stackoverflow.com/a/3561399/320036).","body":"Apparently prefixing with <code>X-</code> is <a href=\"http://stackoverflow.com/a/3561399/320036\">no longer recommended</a>."},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":1,"creation_date":1504279545,"post_id":8307910,"comment_id":78967783,"body_markdown":"@z0r The claim is controversial, according to the answers from the link.","body":"@z0r The claim is controversial, according to the answers from the link."}],"tags":[],"owner":{"account_id":108818,"reputation":6363,"user_id":288672,"accept_rate":85,"display_name":"Jacob Oscarson"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1322556083,"creation_date":1322556083,"answer_id":8307910,"question_id":8294265,"body_markdown":"Along the lines of @Charlie&#39;s comment: for the pagination part of your question you still need to bake the metadata into the response somhow, but the `status` and `message` attributes here are somewhat redundant, since they are already covered by the `HTTP` protocol itself (status `200` - model found, `404` - model not found, `403` - insufficient privs, you get the idea) (see [spec](http://www.w3.org/Protocols/rfc2616/rfc2616.html)). Even if your server returns an error condition you can still send the `message` part as the response body. These two fields will cover quite much of your metadata needs.\r\n\r\nPersonally, I have tended towards (ab)using custom HTTP headers for smaller pieces of metadata (with an `X-` prefix), but I guess the limit where that gets unpractical is pretty low.\r\n\r\nI&#39;ve [expanded](https://stackoverflow.com/questions/8161879/backbone-js-error-handling-how-do-you-do-it/8168505#8168505) a bit about this in a question with a smaller scope, but I think the points are still valid for this question.","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>Along the lines of @Charlie's comment: for the pagination part of your question you still need to bake the metadata into the response somhow, but the <code>status</code> and <code>message</code> attributes here are somewhat redundant, since they are already covered by the <code>HTTP</code> protocol itself (status <code>200</code> - model found, <code>404</code> - model not found, <code>403</code> - insufficient privs, you get the idea) (see <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616.html\" rel=\"nofollow noreferrer\">spec</a>). Even if your server returns an error condition you can still send the <code>message</code> part as the response body. These two fields will cover quite much of your metadata needs.</p>\n\n<p>Personally, I have tended towards (ab)using custom HTTP headers for smaller pieces of metadata (with an <code>X-</code> prefix), but I guess the limit where that gets unpractical is pretty low.</p>\n\n<p>I've <a href=\"https://stackoverflow.com/questions/8161879/backbone-js-error-handling-how-do-you-do-it/8168505#8168505\">expanded</a> a bit about this in a question with a smaller scope, but I think the points are still valid for this question.</p>\n"},{"tags":[],"owner":{"account_id":755023,"reputation":6091,"user_id":873641,"accept_rate":86,"display_name":"Daniel Cerecedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1392374428,"creation_date":1392374428,"answer_id":21777095,"question_id":8294265,"body_markdown":"You have several means to pass metadata in a RESTful API:\r\n\r\n 1. Http Status Code\r\n 2. Headers\r\n 3. Response Body\r\n\r\nFor the metadata.status, use the Http Status Code, that&#39;s what&#39;s for!\r\nIf metadata is refers to the whole response you could add it as header fields.\r\nIf metadata refers only to part of the response, you will have to embed the metadata as part of the object.**DON&#39;T** wrap the whole response in an artifical envelope and split the wrapper in data and metadata.\r\n\r\nAnd finally, **be consistent across your API** with the choices you make.\r\n\r\nA good example is a GET on a whole collection with pagination. GET /items\r\nYou could return the collection size, and current page in custom headers. And pagination links in standard Link Header:\r\n\r\n    Link: &lt;https://api.mydomain.com/v1/items?limit=25&amp;offset=25&gt;; rel=next\r\n\r\nThe problem with this approach is when you need to add metadata referencing specific elements in the response. In that case just embed it in the object itself. And to have a consistent approach...add always all metadata to response. So coming back to the GET /items, imagine that each item has created and updated metadata:\r\n\r\n    {\r\n      items:[\r\n        {\r\n          &quot;id&quot;:&quot;w67e87898dnkwu4752igd&quot;,\r\n          &quot;message&quot; : &quot;some content&quot;,\r\n          &quot;_created&quot;: &quot;2014-02-14T10:07:39.574Z&quot;,\r\n          &quot;_updated&quot;: &quot;2014-02-14T10:07:39.574Z&quot;\r\n        },\r\n        ......\r\n        {\r\n          &quot;id&quot;:&quot;asjdfiu3748hiuqdh&quot;,\r\n          &quot;message&quot; : &quot;some other content&quot;,\r\n          &quot;_created&quot;: &quot;2014-02-14T10:07:39.574Z&quot;,\r\n          &quot;_updated&quot;: &quot;2014-02-14T10:07:39.574Z&quot;\r\n        }\r\n      ],\r\n      &quot;_total&quot; :133,\r\n      &quot;_links&quot; :[\r\n         {\r\n            &quot;next&quot; :{\r\n               href : &quot;https://api.mydomain.com/v1/items?limit=25&amp;offset=25&quot;\r\n             } \r\n       ]\r\n    }\r\n\r\nNote that a collection response is an special case. If you add metadata to a collection, the collection can no longer be returned as an array, it must be an object with an array in it. Why an object? because you want to add some metadata attributes.\r\n\r\nCompare with the metadata in the individual items. Nothing close to wrapping the entity. You just add some attributes to the resource.\r\n\r\nOne convention is to differentiate control or metadata fields. You could prefix those fields with an underscore.","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>You have several means to pass metadata in a RESTful API:</p>\n\n<ol>\n<li>Http Status Code</li>\n<li>Headers</li>\n<li>Response Body</li>\n</ol>\n\n<p>For the metadata.status, use the Http Status Code, that's what's for!\nIf metadata is refers to the whole response you could add it as header fields.\nIf metadata refers only to part of the response, you will have to embed the metadata as part of the object.<strong>DON'T</strong> wrap the whole response in an artifical envelope and split the wrapper in data and metadata.</p>\n\n<p>And finally, <strong>be consistent across your API</strong> with the choices you make.</p>\n\n<p>A good example is a GET on a whole collection with pagination. GET /items\nYou could return the collection size, and current page in custom headers. And pagination links in standard Link Header:</p>\n\n<pre><code>Link: &lt;https://api.mydomain.com/v1/items?limit=25&amp;offset=25&gt;; rel=next\n</code></pre>\n\n<p>The problem with this approach is when you need to add metadata referencing specific elements in the response. In that case just embed it in the object itself. And to have a consistent approach...add always all metadata to response. So coming back to the GET /items, imagine that each item has created and updated metadata:</p>\n\n<pre><code>{\n  items:[\n    {\n      \"id\":\"w67e87898dnkwu4752igd\",\n      \"message\" : \"some content\",\n      \"_created\": \"2014-02-14T10:07:39.574Z\",\n      \"_updated\": \"2014-02-14T10:07:39.574Z\"\n    },\n    ......\n    {\n      \"id\":\"asjdfiu3748hiuqdh\",\n      \"message\" : \"some other content\",\n      \"_created\": \"2014-02-14T10:07:39.574Z\",\n      \"_updated\": \"2014-02-14T10:07:39.574Z\"\n    }\n  ],\n  \"_total\" :133,\n  \"_links\" :[\n     {\n        \"next\" :{\n           href : \"https://api.mydomain.com/v1/items?limit=25&amp;offset=25\"\n         } \n   ]\n}\n</code></pre>\n\n<p>Note that a collection response is an special case. If you add metadata to a collection, the collection can no longer be returned as an array, it must be an object with an array in it. Why an object? because you want to add some metadata attributes.</p>\n\n<p>Compare with the metadata in the individual items. Nothing close to wrapping the entity. You just add some attributes to the resource.</p>\n\n<p>One convention is to differentiate control or metadata fields. You could prefix those fields with an underscore.</p>\n"},{"tags":[],"owner":{"account_id":67104,"reputation":17847,"user_id":196526,"accept_rate":95,"display_name":"Bastien Vandamme"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554977039,"creation_date":1554977039,"answer_id":55629860,"question_id":8294265,"body_markdown":"I suggest you to read this page https://www.odata.org/ You are not forced to use OData but the way they do the work is a good example of good practice with REST.","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>I suggest you to read this page <a href=\"https://www.odata.org/\" rel=\"nofollow noreferrer\">https://www.odata.org/</a> You are not forced to use OData but the way they do the work is a good example of good practice with REST.</p>\n"},{"comments":[{"owner":{"account_id":165302,"reputation":7007,"user_id":388626,"accept_rate":91,"display_name":"Rei Miyasaka"},"score":0,"creation_date":1648770033,"post_id":67108379,"comment_id":126715533,"body_markdown":"What is the benefit of not putting both in json?","body":"What is the benefit of not putting both in json?"}],"tags":[],"owner":{"account_id":2636118,"reputation":3517,"user_id":2280741,"accept_rate":62,"display_name":"Rui Martins"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618489940,"creation_date":1618489378,"answer_id":67108379,"question_id":8294265,"body_markdown":"How about returning directly the object that you want in data, like return:\r\n```json\r\n{\r\n    &quot;id&quot;: 1001,\r\n    &quot;name&quot;: &quot;Bob&quot;\r\n}\r\n```\r\n\r\nAnd return in headers the metadata.\r\n\r\nOption 1 (one header for all metadata JSON):\r\n```text\r\nX-METADATA = &#39;{&quot;status&quot;: 200|500,&quot;msg&quot;: &quot;Some message here&quot;,&quot;next&quot;: &quot;http://api.domain.com/users/10/20&quot;...}&#39;\r\n```\r\n\r\nOption 2 (one header per each metadata field):\r\n```text\r\nX-METADATA-STATUS = 200|500\r\nX-METADATA-MSG = &quot;Some message here&quot;,\r\nX-METADATA-NEXT = &quot;http://api.domain.com/users/10/20&quot;\r\n...\r\n```\r\n\r\nUntil now I was using like you, a complex JSON with two fields, one for data and one for metadata. But I&#39;m thinking in starting using this way that I suggested, I think it will be more easy.\r\n\r\n---\r\n\r\nRemind that some server have size limit for HTTP headers, like this example: https://www.tutorialspoint.com/What-is-the-maximum-size-of-HTTP-header-values\r\n","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p>How about returning directly the object that you want in data, like return:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1001,\n    &quot;name&quot;: &quot;Bob&quot;\n}\n</code></pre>\n<p>And return in headers the metadata.</p>\n<p>Option 1 (one header for all metadata JSON):</p>\n<pre><code>X-METADATA = '{&quot;status&quot;: 200|500,&quot;msg&quot;: &quot;Some message here&quot;,&quot;next&quot;: &quot;http://api.domain.com/users/10/20&quot;...}'\n</code></pre>\n<p>Option 2 (one header per each metadata field):</p>\n<pre><code>X-METADATA-STATUS = 200|500\nX-METADATA-MSG = &quot;Some message here&quot;,\nX-METADATA-NEXT = &quot;http://api.domain.com/users/10/20&quot;\n...\n</code></pre>\n<p>Until now I was using like you, a complex JSON with two fields, one for data and one for metadata. But I'm thinking in starting using this way that I suggested, I think it will be more easy.</p>\n<hr />\n<p>Remind that some server have size limit for HTTP headers, like this example: <a href=\"https://www.tutorialspoint.com/What-is-the-maximum-size-of-HTTP-header-values\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/What-is-the-maximum-size-of-HTTP-header-values</a></p>\n"},{"tags":[],"owner":{"account_id":106010,"reputation":30276,"user_id":282601,"accept_rate":81,"display_name":"cweiske"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676017026,"creation_date":1676017026,"answer_id":75408471,"question_id":8294265,"body_markdown":"[JSON:API][1] solves this by defining top-level `meta` and `data` properties.\r\n\r\n\r\n  [1]: https://jsonapi.org/format/","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p><a href=\"https://jsonapi.org/format/\" rel=\"nofollow noreferrer\">JSON:API</a> solves this by defining top-level <code>meta</code> and <code>data</code> properties.</p>\n"}],"owner":{"display_name":"user920041"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43393,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"answer_count":6,"score":48,"last_activity_date":1676017026,"creation_date":1322475023,"question_id":8294265,"body_markdown":"**Background**\r\n\r\nWe are building a Restful API that should return data objects as JSON. In most of the cases it fine just to return the data object, but in some cases, f.ex. pagination or validation, we need to add some metadata to the response.\r\n\r\n**What we have so far**\r\n\r\nWe have wrapped all json responses like this example:\r\n\r\n    {\r\n        &quot;metadata&quot; :{\r\n            &quot;status&quot;: 200|500,\r\n            &quot;msg&quot;: &quot;Some message here&quot;,\r\n            &quot;next&quot;: &quot;http://api.domain.com/users/10/20&quot;\r\n            ...\r\n        },\r\n        &quot;data&quot; :{\r\n            &quot;id&quot;: 1001,\r\n            &quot;name&quot;: &quot;Bob&quot;\r\n        }\r\n    }\r\n\r\n**Pros**\r\n\r\n - We can add helpful metadata to the response\r\n\r\n \r\n**Cons**\r\n\r\n - In most cases we don&#39;t need the metadata field, and it adds complexity to the json format\r\n - Since it&#39;s not a data object any more, but more like a enveloped response, we can not use the response right away in f.ex backbone.js without extracting the data object.\r\n\r\n**Question**\r\n\r\nWhat is the best practices to add metadata to a json response?\r\n\r\n**UPDATE**\r\n\r\nWhat I&#39;ve got so far from answers below:\r\n\r\n - Remove the `metadata.status` an return the http response code in the\r\n   http protocol instead (200, 500 ...)\r\n - Add error msg to body of an http 500 repsonse \r\n - For pagination i natural to have some metadata telling about the pagination structure, and the data nested in that structure\r\n - Small amount of meta data can be added to http header (X-something)\r\n\r\n","title":"What are the best practices to add metadata to a RESTful JSON response?","body":"<p><strong>Background</strong></p>\n\n<p>We are building a Restful API that should return data objects as JSON. In most of the cases it fine just to return the data object, but in some cases, f.ex. pagination or validation, we need to add some metadata to the response.</p>\n\n<p><strong>What we have so far</strong></p>\n\n<p>We have wrapped all json responses like this example:</p>\n\n<pre><code>{\n    \"metadata\" :{\n        \"status\": 200|500,\n        \"msg\": \"Some message here\",\n        \"next\": \"http://api.domain.com/users/10/20\"\n        ...\n    },\n    \"data\" :{\n        \"id\": 1001,\n        \"name\": \"Bob\"\n    }\n}\n</code></pre>\n\n<p><strong>Pros</strong></p>\n\n<ul>\n<li>We can add helpful metadata to the response</li>\n</ul>\n\n<p><strong>Cons</strong></p>\n\n<ul>\n<li>In most cases we don't need the metadata field, and it adds complexity to the json format</li>\n<li>Since it's not a data object any more, but more like a enveloped response, we can not use the response right away in f.ex backbone.js without extracting the data object.</li>\n</ul>\n\n<p><strong>Question</strong></p>\n\n<p>What is the best practices to add metadata to a json response?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>What I've got so far from answers below:</p>\n\n<ul>\n<li>Remove the <code>metadata.status</code> an return the http response code in the\nhttp protocol instead (200, 500 ...)</li>\n<li>Add error msg to body of an http 500 repsonse </li>\n<li>For pagination i natural to have some metadata telling about the pagination structure, and the data nested in that structure</li>\n<li>Small amount of meta data can be added to http header (X-something)</li>\n</ul>\n"},{"tags":["java","macos","server","automation","minecraft"],"answers":[{"tags":[],"owner":{"account_id":22166369,"reputation":198,"user_id":16412496,"display_name":"baggiogiacomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676016942,"creation_date":1676016942,"answer_id":75408455,"question_id":75402049,"body_markdown":"You can try something like that:\r\n\r\n```\r\nwhile true; do\r\n  ping -c 1 -W 1 your_server_IP\r\n  if [ $? -eq 0 ]; then\r\n    echo &quot;Server is up&quot;\r\n  else\r\n    echo &quot;Server is down, restarting...&quot;\r\n    # Add your server restart command here\r\n    /path/to/restart/command\r\n  fi\r\n  sleep 60\r\ndone\r\n```\r\n\r\nThe `ping -c 1 -W 1 your_server_IP` command sends one Echo Request packet to `your_server_IP`, and waits for a response for 1 second. If a response is received, it means the server is up and running. If no response is received, it means the server is down.\r\n\r\nYou have to save this file as a `.command` file and add it to your PATH.\r\n\r\nLet me know if it works or you&#39;re getting errors! I&#39;ll be happy to help :)","title":"I need help making a terminal command on my M1 Mac Mini to restart my minecraft server if it crashes","body":"<p>You can try something like that:</p>\n<pre><code>while true; do\n  ping -c 1 -W 1 your_server_IP\n  if [ $? -eq 0 ]; then\n    echo &quot;Server is up&quot;\n  else\n    echo &quot;Server is down, restarting...&quot;\n    # Add your server restart command here\n    /path/to/restart/command\n  fi\n  sleep 60\ndone\n</code></pre>\n<p>The <code>ping -c 1 -W 1 your_server_IP</code> command sends one Echo Request packet to <code>your_server_IP</code>, and waits for a response for 1 second. If a response is received, it means the server is up and running. If no response is received, it means the server is down.</p>\n<p>You have to save this file as a <code>.command</code> file and add it to your PATH.</p>\n<p>Let me know if it works or you're getting errors! I'll be happy to help :)</p>\n"}],"owner":{"account_id":27746464,"reputation":9,"user_id":21181844,"display_name":"Isna Owo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676016942,"creation_date":1675962381,"question_id":75402049,"body_markdown":"I have been looking for a long time to see if anyone has had an answer to my issue, but it doesn&#39;t seem to exist. I recently found I rarely used M1 Mac Mini. Since I had barely used it, I decided to turn it into a functioning server that runs 24/7. The only issue is that sometimes while I&#39;m sleeping and my friends are playing, the server crashes, and there&#39;s no way of starting it back up unless I&#39;m awake. So I&#39;m looking for help on how to make a .command file that either A.) It Pings the server every minute, and if it senses it&#39;s down, it terminates the current terminal and restarts the start command. B.) Once the server crashes and the terminal ends, it restarts. I prefer to go with option A, but I&#39;ll take any help that I get! Thank you so much in advance, everyone!\r\n\r\nI tried a script online, and one of them goes like this.\r\n\r\n```\r\nwhile true\r\ndo\r\ncd Desktop\r\ncd server\r\n/Library/Internet_Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -Xmx7G -Xms7G -jar forgeserver.jar\r\n\r\necho &quot;If you want to completely stop the server process now, press Ctrl+C before\r\nthe time is up!&quot;\r\necho &quot;Rebooting in:&quot;\r\nfor i in 5 4 3 2 1\r\necho &quot;$i...&quot;\r\nsleep 1\r\ndone\r\necho &quot;Rebooting now!&quot;\r\ndone \r\n```\r\n\r\nHowever I am met with this error\r\n\r\n```\r\nLast login: Thu Feb  9 02:37:12 on ttys001\r\n/Users/myname/Desktop/start.command ; exit;                                  \r\ndavidking@Davids-Mac-mini ~ % /Users/myname/Desktop/start.command ; exit;\r\n/Users/davidking/Desktop/start.command: line 11: syntax error near unexpected token `echo&#39;\r\n&#39;Users/davidking/Desktop/start.command: line 11: `echo &quot;$i...&quot;\r\n\r\nSaving session...\r\n...copying shared history...\r\n...saving history...truncating history files...\r\n...completed.\r\n\r\n[Process completed]\r\n\r\n```","title":"I need help making a terminal command on my M1 Mac Mini to restart my minecraft server if it crashes","body":"<p>I have been looking for a long time to see if anyone has had an answer to my issue, but it doesn't seem to exist. I recently found I rarely used M1 Mac Mini. Since I had barely used it, I decided to turn it into a functioning server that runs 24/7. The only issue is that sometimes while I'm sleeping and my friends are playing, the server crashes, and there's no way of starting it back up unless I'm awake. So I'm looking for help on how to make a .command file that either A.) It Pings the server every minute, and if it senses it's down, it terminates the current terminal and restarts the start command. B.) Once the server crashes and the terminal ends, it restarts. I prefer to go with option A, but I'll take any help that I get! Thank you so much in advance, everyone!</p>\n<p>I tried a script online, and one of them goes like this.</p>\n<pre><code>while true\ndo\ncd Desktop\ncd server\n/Library/Internet_Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -Xmx7G -Xms7G -jar forgeserver.jar\n\necho &quot;If you want to completely stop the server process now, press Ctrl+C before\nthe time is up!&quot;\necho &quot;Rebooting in:&quot;\nfor i in 5 4 3 2 1\necho &quot;$i...&quot;\nsleep 1\ndone\necho &quot;Rebooting now!&quot;\ndone \n</code></pre>\n<p>However I am met with this error</p>\n<pre><code>Last login: Thu Feb  9 02:37:12 on ttys001\n/Users/myname/Desktop/start.command ; exit;                                  \ndavidking@Davids-Mac-mini ~ % /Users/myname/Desktop/start.command ; exit;\n/Users/davidking/Desktop/start.command: line 11: syntax error near unexpected token `echo'\n'Users/davidking/Desktop/start.command: line 11: `echo &quot;$i...&quot;\n\nSaving session...\n...copying shared history...\n...saving history...truncating history files...\n...completed.\n\n[Process completed]\n\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1675959109,"post_id":75401196,"comment_id":133043969,"body_markdown":"Is it possible to delete the List field if the ID inside this field equals a specific ID? [Here is the data structure as an image.](https://i.stack.imgur.com/NJi1g.png)","body":"Is it possible to delete the List field if the ID inside this field equals a specific ID? <a href=\"https://i.stack.imgur.com/NJi1g.png\" rel=\"nofollow noreferrer\">Here is the data structure as an image.</a>"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1675959224,"post_id":75401196,"comment_id":133044019,"body_markdown":"Is it possible to retrieve all documents where the ID inside the list field equals a specific value?","body":"Is it possible to retrieve all documents where the ID inside the list field equals a specific value?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1675965101,"post_id":75401196,"comment_id":133046131,"body_markdown":"#1) No. You will have to add a top-level array field as shown in my answer. #2) Once you do that, you can use an array membership condition as shown in my answer.","body":"#1) No. You will have to add a top-level array field as shown in my answer. #2) Once you do that, you can use an array membership condition as shown in my answer."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675958366,"creation_date":1675958366,"answer_id":75401196,"question_id":75401090,"body_markdown":"It looks like your `List (HashMap)` may have multiple child objects, and you want to search across all of those for a specific ID value.\r\n\r\nThere is no way to search across all objects in a map field in Firestore. If you want to search across all ID values, add an additional **array** field with just this values, e.g.\r\n```\r\nListIDs: [&quot;UQx4CWRgnVLOdKEY3AKJ&quot;, ...]\r\n```\r\n\r\nWith that field in place, you can then use the [`array-contains` operator](https://firebase.google.com/docs/firestore/query-data/queries#array_membership) to query for matching documents.","title":"How to Retrieve Firestore Documents with a Specific Hashmap Field Value?","body":"<p>It looks like your <code>List (HashMap)</code> may have multiple child objects, and you want to search across all of those for a specific ID value.</p>\n<p>There is no way to search across all objects in a map field in Firestore. If you want to search across all ID values, add an additional <strong>array</strong> field with just this values, e.g.</p>\n<pre><code>ListIDs: [&quot;UQx4CWRgnVLOdKEY3AKJ&quot;, ...]\n</code></pre>\n<p>With that field in place, you can then use the <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#array_membership\" rel=\"nofollow noreferrer\"><code>array-contains</code> operator</a> to query for matching documents.</p>\n"},{"comments":[{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":1,"creation_date":1676017931,"post_id":75408411,"comment_id":133056225,"body_markdown":"Yes that is what i want, I&#39;ll try it after 2 hours and tell you, Is that mentioned on the docs?","body":"Yes that is what i want, I&#39;ll try it after 2 hours and tell you, Is that mentioned on the docs?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1676018701,"post_id":75408411,"comment_id":133056433,"body_markdown":"I&#39;m not sure if this particular type of query is mentioned in the docs.","body":"I&#39;m not sure if this particular type of query is mentioned in the docs."},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1676027915,"post_id":75408411,"comment_id":133059172,"body_markdown":"I&#39;ll make your answer the corrected answer because it is working as I want it to, and I&#39;m not sure why Frank van Puffelen didn&#39;t inform me of this method. Perhaps he misunderstood me. Thank you, Alex and Frank.","body":"I&#39;ll make your answer the corrected answer because it is working as I want it to, and I&#39;m not sure why Frank van Puffelen didn&#39;t inform me of this method. Perhaps he misunderstood me. Thank you, Alex and Frank."},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1676102772,"post_id":75408411,"comment_id":133073586,"body_markdown":"What about a hashmap inside an array? If I want to delete an image with the file name `9OoISFCPlA9H0KDkG6yl` from Firebase Storage, I need to first remove it from the documents that use it. [Here is the data structure as an image.](https://i.stack.imgur.com/3zKmR.png) Is that possible? If so, what is the easiest way to do that?","body":"What about a hashmap inside an array? If I want to delete an image with the file name <code>9OoISFCPlA9H0KDkG6yl</code> from Firebase Storage, I need to first remove it from the documents that use it. <a href=\"https://i.stack.imgur.com/3zKmR.png\" rel=\"nofollow noreferrer\">Here is the data structure as an image.</a> Is that possible? If so, what is the easiest way to do that?"},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1676102873,"post_id":75408411,"comment_id":133073601,"body_markdown":"I mean, what is the best way to find the documents that use this image and remove it from the array?","body":"I mean, what is the best way to find the documents that use this image and remove it from the array?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1676106767,"post_id":75408411,"comment_id":133074056,"body_markdown":"I think that this [answer](https://stackoverflow.com/questions/75410860/firebase-how-to-query-through-array-of-objects/75411091#75411091) and this [resource](https://medium.com/firebase-tips-tricks/how-to-update-an-array-of-objects-in-firestore-cdb611a56073) will help. If not, please post a new question, here on StackOverflow, using its own [MCVE](https://stackoverflow.com/help/mcve), so I and other Firebase developers can help you.","body":"I think that this <a href=\"https://stackoverflow.com/questions/75410860/firebase-how-to-query-through-array-of-objects/75411091#75411091\">answer</a> and this <a href=\"https://medium.com/firebase-tips-tricks/how-to-update-an-array-of-objects-in-firestore-cdb611a56073\" rel=\"nofollow noreferrer\">resource</a> will help. If not, please post a new question, here on StackOverflow, using its own <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I and other Firebase developers can help you."},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1676108968,"post_id":75408411,"comment_id":133074322,"body_markdown":"I hope you update your answer and explain how I can do it. I don&#39;t need to create a new question since the issue is related to this one. I&#39;ll reward you with a 100-point bounty. Thank you, Alex.","body":"I hope you update your answer and explain how I can do it. I don&#39;t need to create a new question since the issue is related to this one. I&#39;ll reward you with a 100-point bounty. Thank you, Alex."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1676122614,"post_id":75408411,"comment_id":133076453,"body_markdown":"You cannot search for documents where an object inside an array contains a field with a specific ID. In that case, you should use the entire object, not partial data. Or use the solution in @FrankvanPuffelen&#39;s answer.","body":"You cannot search for documents where an object inside an array contains a field with a specific ID. In that case, you should use the entire object, not partial data. Or use the solution in @FrankvanPuffelen&#39;s answer."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676016515,"creation_date":1676016515,"answer_id":75408411,"question_id":75401090,"body_markdown":"If I understand correctly, the `List` field inside the user document is a `Map` which contains only String values. So if your database schema looks **exactly** like this:\r\n\r\n    db\r\n    |\r\n    --- Users (collection)\r\n         |\r\n         --- $uid (document)\r\n              |\r\n              --- List (map) //&#128072;\r\n                   |\r\n                   --- ID: &quot;UQx4CWRgnVLOdKEY3AKJ&quot;\r\n                   |\r\n                   --- NAME: &quot;Taha Sami&quot;\r\n\r\nTo get all users where the `ID` field within the `List` holds the value of `UQx4CWRgnVLOdKEY3AKJ`, a query like this will do the trick:\r\n\r\n    Query queryByListId = db.collection(&quot;Users&quot;).whereEqualTo(&quot;List.ID&quot;, &quot;UQx4CWRgnVLOdKEY3AKJ&quot;);\r\n    //                                                            &#128070;","title":"How to Retrieve Firestore Documents with a Specific Hashmap Field Value?","body":"<p>If I understand correctly, the <code>List</code> field inside the user document is a <code>Map</code> which contains only String values. So if your database schema looks <strong>exactly</strong> like this:</p>\n<pre><code>db\n|\n--- Users (collection)\n     |\n     --- $uid (document)\n          |\n          --- List (map) //ðŸ‘ˆ\n               |\n               --- ID: &quot;UQx4CWRgnVLOdKEY3AKJ&quot;\n               |\n               --- NAME: &quot;Taha Sami&quot;\n</code></pre>\n<p>To get all users where the <code>ID</code> field within the <code>List</code> holds the value of <code>UQx4CWRgnVLOdKEY3AKJ</code>, a query like this will do the trick:</p>\n<pre><code>Query queryByListId = db.collection(&quot;Users&quot;).whereEqualTo(&quot;List.ID&quot;, &quot;UQx4CWRgnVLOdKEY3AKJ&quot;);\n//                                                            ðŸ‘†\n</code></pre>\n"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408411,"answer_count":2,"score":0,"last_activity_date":1676016540,"creation_date":1675957760,"question_id":75401090,"body_markdown":"    --- Users (Collection)\r\n        |\r\n        --- p0A1fXH4l2TpvGE2lo0x\r\n            |\r\n            --- List (HashMap)\r\n                |\r\n                --- ID (String) (Value: UQx4CWRgnVLOdKEY3AKJ)\r\n                --- NAME (String) (Value: ...)\r\n\r\nIn Firestore, how can I find the documents that have a list ID equal to `UQx4CWRgnVLOdKEY3AKJ`? Before deleting the list, I need to remove it from the users who have used it. How can I determine which documents are using this list ID so I can delete them?","title":"How to Retrieve Firestore Documents with a Specific Hashmap Field Value?","body":"<pre><code>--- Users (Collection)\n    |\n    --- p0A1fXH4l2TpvGE2lo0x\n        |\n        --- List (HashMap)\n            |\n            --- ID (String) (Value: UQx4CWRgnVLOdKEY3AKJ)\n            --- NAME (String) (Value: ...)\n</code></pre>\n<p>In Firestore, how can I find the documents that have a list ID equal to <code>UQx4CWRgnVLOdKEY3AKJ</code>? Before deleting the list, I need to remove it from the users who have used it. How can I determine which documents are using this list ID so I can delete them?</p>\n"},{"tags":["java","html","vaadin"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1676013521,"post_id":75407887,"comment_id":133055190,"body_markdown":"Does States implement equals/hashCode?","body":"Does States implement equals/hashCode?"},{"owner":{"account_id":84086,"reputation":2341,"user_id":10900045,"display_name":"John Doe"},"score":0,"creation_date":1676018515,"post_id":75407887,"comment_id":133056378,"body_markdown":"No, but after the implementation this works.","body":"No, but after the implementation this works."}],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676016467,"creation_date":1676014881,"answer_id":75408177,"question_id":75407887,"body_markdown":"It&#39;s not possible to tell based on the code you have shared. Quite likely the `States` object returned by `location.getLocationState().get()` does not share the same object identity with a value returned by `facade.stateService().findAllStates()`. This can happen even if the properties (such as the &quot;name&quot;) of the objects are the same. Typically the answer is to implement the `hashCode` and `equals` methods in the class in a way that identity depends only on the id of the entity.","title":"Setting value for select element is not showing in UI","body":"<p>It's not possible to tell based on the code you have shared. Quite likely the <code>States</code> object returned by <code>location.getLocationState().get()</code> does not share the same object identity with a value returned by <code>facade.stateService().findAllStates()</code>. This can happen even if the properties (such as the &quot;name&quot;) of the objects are the same. Typically the answer is to implement the <code>hashCode</code> and <code>equals</code> methods in the class in a way that identity depends only on the id of the entity.</p>\n"}],"owner":{"account_id":84086,"reputation":2341,"user_id":10900045,"display_name":"John Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408177,"answer_count":1,"score":0,"last_activity_date":1676016467,"creation_date":1676012670,"question_id":75407887,"body_markdown":"I am using vaadin select to display a select menu with states.\r\n\r\n```\r\nprivate Select&lt;States&gt; states = new Select&lt;&gt;();\r\n```\r\n\r\n```\r\nstates.setLabel(&quot;State&quot;);\r\nstates.setItems(facade.stateService().findAllStates());\r\nstates.setItemLabelGenerator(States::getName);\r\n```\r\n\r\n```\r\nOptional&lt;States&gt; state = facade.stateService().findByCode(location.getLocationState());\r\nif (state.isPresent()) {\r\n    states.setValue(state.get());    // this is not working\r\n}\r\n```\r\n\r\nI am getting the state value and setting it using `states.setValue()` but the select is not displaying the updated state. The method is getting called. How to make select the menu selected? Thanks.","title":"Setting value for select element is not showing in UI","body":"<p>I am using vaadin select to display a select menu with states.</p>\n<pre><code>private Select&lt;States&gt; states = new Select&lt;&gt;();\n</code></pre>\n<pre><code>states.setLabel(&quot;State&quot;);\nstates.setItems(facade.stateService().findAllStates());\nstates.setItemLabelGenerator(States::getName);\n</code></pre>\n<pre><code>Optional&lt;States&gt; state = facade.stateService().findByCode(location.getLocationState());\nif (state.isPresent()) {\n    states.setValue(state.get());    // this is not working\n}\n</code></pre>\n<p>I am getting the state value and setting it using <code>states.setValue()</code> but the select is not displaying the updated state. The method is getting called. How to make select the menu selected? Thanks.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675985776,"post_id":75405437,"comment_id":133051315,"body_markdown":"Are there any logs? If so, can you share them?","body":"Are there any logs? If so, can you share them?"},{"owner":{"account_id":33230,"reputation":21479,"user_id":92837,"accept_rate":97,"display_name":"Sathyajith Bhat"},"score":0,"creation_date":1675989648,"post_id":75405437,"comment_id":133051927,"body_markdown":"your beanstalk link to the logs is not accessible to public","body":"your beanstalk link to the logs is not accessible to public"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675990008,"post_id":75405437,"comment_id":133051988,"body_markdown":"@SathyajithBhat I revised the link. Can you look through it?","body":"@SathyajithBhat I revised the link. Can you look through it?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675991120,"post_id":75405437,"comment_id":133052151,"body_markdown":"@dan1st I shared the logs through the link","body":"@dan1st I shared the logs through the link"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1675995282,"post_id":75405437,"comment_id":133052717,"body_markdown":"Have you tried accessing the URL through the standard http/https port? I remember that beanstalk puts a nginx server in front of the application, so the port you configure for the application remains internal, and the exposed one is the nginx port.","body":"Have you tried accessing the URL through the standard http/https port? I remember that beanstalk puts a nginx server in front of the application, so the port you configure for the application remains internal, and the exposed one is the nginx port."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676003195,"post_id":75405437,"comment_id":133053706,"body_markdown":"@SantiagoMedina My issue is that the app cannot be deployed as I get &quot;severe&quot; issue even if I defined SERVER_PORT as 5000 in its environment.","body":"@SantiagoMedina My issue is that the app cannot be deployed as I get &quot;severe&quot; issue even if I defined SERVER_PORT as 5000 in its environment."},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676004309,"post_id":75405437,"comment_id":133053863,"body_markdown":"Understood. I see many requests to / in your logs made by ELB-HealthChecker with response 404. Seems that EB performs a GET to your base path expecting a 200 to consider your application as healthy deployed, but gets 404. Try implementing that response programmatically, or putting a index.html under src/main/resources/static, or configuring EB to do the health check against a different URL.","body":"Understood. I see many requests to / in your logs made by ELB-HealthChecker with response 404. Seems that EB performs a GET to your base path expecting a 200 to consider your application as healthy deployed, but gets 404. Try implementing that response programmatically, or putting a index.html under src/main/resources/static, or configuring EB to do the health check against a different URL."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676005316,"post_id":75405437,"comment_id":133053989,"body_markdown":"@SantiagoMedina I shared the causes. Even if I tried to deploy it many times with selecting Java and coretto 17,11 and 8, I still got the same issue. There is no issue when I run this command `mvn clean install` as I get a message as `Build Success`","body":"@SantiagoMedina I shared the causes. Even if I tried to deploy it many times with selecting Java and coretto 17,11 and 8, I still got the same issue. There is no issue when I run this command <code>mvn clean install</code> as I get a message as <code>Build Success</code>"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676006088,"post_id":75405437,"comment_id":133054097,"body_markdown":"Yes, I know your application builds OK, and starts OK. But ELB health checker expects a 200 OK response when sending a GET to your base path, but the application don&#39;t provide any response on that path (404-not found). You have only a controller listening to /api/.., but nothing on the root. Then ELB believe it&#39;s not up. That&#39;s why I suggested adding a response through a home static page (index.html), or programmatically with a controller, or changing the EB health check configuration to check a different path.","body":"Yes, I know your application builds OK, and starts OK. But ELB health checker expects a 200 OK response when sending a GET to your base path, but the application don&#39;t provide any response on that path (404-not found). You have only a controller listening to /api/.., but nothing on the root. Then ELB believe it&#39;s not up. That&#39;s why I suggested adding a response through a home static page (index.html), or programmatically with a controller, or changing the EB health check configuration to check a different path."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676006270,"post_id":75405437,"comment_id":133054120,"body_markdown":"@SantiagoMedina How can I define the root programmatically with a controller instead of creating a static page (index.html)?","body":"@SantiagoMedina How can I define the root programmatically with a controller instead of creating a static page (index.html)?"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676007056,"post_id":75405437,"comment_id":133054216,"body_markdown":"Change (a) for @\n(a)RestController\npublic class HealthController {\n\n    (a)GetMapping\n    public String healthCheck() {\n        return &quot;Application is UP&quot;;\n    }\n}","body":"Change (a) for @ (a)RestController public class HealthController {      (a)GetMapping     public String healthCheck() {         return &quot;Application is UP&quot;;     } }"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676007375,"post_id":75405437,"comment_id":133054250,"body_markdown":"You could also use the spring boot actuator module, that implements a health endpoint, but not in the root, so you would need to change the ELB config to check the health in the actuator path (/actuator/health)","body":"You could also use the spring boot actuator module, that implements a health endpoint, but not in the root, so you would need to change the ELB config to check the health in the actuator path (/actuator/health)"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676011404,"post_id":75405437,"comment_id":133054785,"body_markdown":"@SantiagoMedina What should I do after adding its dependency?","body":"@SantiagoMedina What should I do after adding its dependency?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676013870,"post_id":75405437,"comment_id":133055255,"body_markdown":"@SantiagoMedina I tried to define endpoints in the browser and it work but there is a problem in root path. How can I fix it? How can I define it in configuration?","body":"@SantiagoMedina I tried to define endpoints in the browser and it work but there is a problem in root path. How can I fix it? How can I define it in configuration?"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1676029825,"post_id":75405437,"comment_id":133059672,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251787/discussion-between-santiago-medina-and-s-n).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251787/discussion-between-santiago-medina-and-s-n\">continue this discussion in chat</a>."}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676016101,"creation_date":1675984505,"question_id":75405437,"body_markdown":"\r\nI have a problem to deploy my **Spring Boot 3** with **Swagger** to **AWS**.\r\n\r\nAfter creating the environment from **elastic beanstalk** and defining **jar** file of the project, I complete the process.\r\n\r\nI get this message &quot;**Severe**&quot; for the instance after waiting a certain of time.\r\n\r\nI also changed `server.port= 5000` and define `SERVER_PORT 5000` for the environment of the software configuration but nothing changed.\r\n\r\nHere is the image shown below\r\n\r\n[![Link][1]][1]\r\n\r\nHere is the health overview information shown below.\r\n\r\n    Severe\r\n    \r\n    Environment health has transitioned from Ok to Severe. 100.0 % of the requests are erroring with HTTP 4xx. Insufficient request rate (12.0 requests/min) to determine application health. ELB processes are not healthy on all instances. ELB health is failing or not available for all instances.\r\n\r\nHow can I fix the issue?\r\n\r\nThe **local URL** is `http://localhost:5000/swagger-ui/index.html`\r\n\r\n\r\nHere is the **link** showing **logs** : [Link][2]\r\n\r\nHere is the **repo** : [Link][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3Zwma.png\r\n  [2]: https://drive.google.com/file/d/1ObPKRXvlGmNMeCVQIF8-r_uSV-6W2R_Q/view?usp=share_link\r\n  [3]: https://github.com/Rapter1990/DepremApi","title":"Spring Boot 3 App with Swagger cannot deployed with AWS (Severe Issue)","body":"<p>I have a problem to deploy my <strong>Spring Boot 3</strong> with <strong>Swagger</strong> to <strong>AWS</strong>.</p>\n<p>After creating the environment from <strong>elastic beanstalk</strong> and defining <strong>jar</strong> file of the project, I complete the process.</p>\n<p>I get this message &quot;<strong>Severe</strong>&quot; for the instance after waiting a certain of time.</p>\n<p>I also changed <code>server.port= 5000</code> and define <code>SERVER_PORT 5000</code> for the environment of the software configuration but nothing changed.</p>\n<p>Here is the image shown below</p>\n<p><a href=\"https://i.stack.imgur.com/3Zwma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Zwma.png\" alt=\"Link\" /></a></p>\n<p>Here is the health overview information shown below.</p>\n<pre><code>Severe\n\nEnvironment health has transitioned from Ok to Severe. 100.0 % of the requests are erroring with HTTP 4xx. Insufficient request rate (12.0 requests/min) to determine application health. ELB processes are not healthy on all instances. ELB health is failing or not available for all instances.\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>The <strong>local URL</strong> is <code>http://localhost:5000/swagger-ui/index.html</code></p>\n<p>Here is the <strong>link</strong> showing <strong>logs</strong> : <a href=\"https://drive.google.com/file/d/1ObPKRXvlGmNMeCVQIF8-r_uSV-6W2R_Q/view?usp=share_link\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the <strong>repo</strong> : <a href=\"https://github.com/Rapter1990/DepremApi\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1675983857,"post_id":75405269,"comment_id":133050991,"body_markdown":"You need to keep a reference to `maxCharge` and `totalDrain` in your class.  Remaining charge = maximum charge - total drain.","body":"You need to keep a reference to <code>maxCharge</code> and <code>totalDrain</code> in your class.  Remaining charge = maximum charge - total drain."},{"owner":{"account_id":27748688,"reputation":1,"user_id":21183557,"display_name":"tennisplayer97"},"score":0,"creation_date":1675984181,"post_id":75405269,"comment_id":133051060,"body_markdown":"Thank you! I figured out I could also use Math.min. Thank you for your response!","body":"Thank you! I figured out I could also use Math.min. Thank you for your response!"}],"answers":[{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675988243,"creation_date":1675988243,"answer_id":75405761,"question_id":75405269,"body_markdown":"To keep the `batteryCharge` value when subtracting a larger value, you can use the ternary operator ([source](https://www.w3schools.com/java/java_conditions_shorthand.asp)) representing `if/else`. If `batteryCharge - drain` is less than 0 then keep that value, otherwise save the substraction value. Instead use this:\r\n```\r\nbatteryCharge = Math.max(batteryCharge - drain, 0);\r\n```\r\nTry this:\r\n```\r\nbatteryCharge = batteryCharge - drain &lt; 0 ? batteryCharge : batteryCharge - drain;\r\n```","title":"Java function to calculate difference in charge?","body":"<p>To keep the <code>batteryCharge</code> value when subtracting a larger value, you can use the ternary operator (<a href=\"https://www.w3schools.com/java/java_conditions_shorthand.asp\" rel=\"nofollow noreferrer\">source</a>) representing <code>if/else</code>. If <code>batteryCharge - drain</code> is less than 0 then keep that value, otherwise save the substraction value. Instead use this:</p>\n<pre><code>batteryCharge = Math.max(batteryCharge - drain, 0);\n</code></pre>\n<p>Try this:</p>\n<pre><code>batteryCharge = batteryCharge - drain &lt; 0 ? batteryCharge : batteryCharge - drain;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676015430,"creation_date":1675988263,"answer_id":75405762,"question_id":75405269,"body_markdown":"The amount drained cannot be greater than the battery&#39;s remaining charge:\r\n\r\n```java\r\ndouble drain = Math.min(batteryCharge, cameraPowerConsumption * minutes);\r\n```\r\n\r\nAfter making that adjustment to your code, the rest is simple:\r\n\r\n```java\r\ndouble drain = Math.min(batteryCharge, cameraPowerConsumption * minutes);\r\nbatteryCharge -= drain;\r\ntotalDrain += drain;\r\nreturn drain;\r\n```\r\n\r\n","title":"Java function to calculate difference in charge?","body":"<p>The amount drained cannot be greater than the battery's remaining charge:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double drain = Math.min(batteryCharge, cameraPowerConsumption * minutes);\n</code></pre>\n<p>After making that adjustment to your code, the rest is simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double drain = Math.min(batteryCharge, cameraPowerConsumption * minutes);\nbatteryCharge -= drain;\ntotalDrain += drain;\nreturn drain;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7474452,"reputation":101,"user_id":5681287,"display_name":"taismile"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676016079,"creation_date":1676016079,"answer_id":75408342,"question_id":75405269,"body_markdown":"Just simple \r\n\r\n    public double drain(double minutes) {\r\n        double drain = cameraPowerConsumption * minutes;\r\n        if (drain &gt; batteryCharge){\r\n            totalDrain +=batteryCharge;\r\n            return batteryCharge;\r\n        }\r\n        totalDrain +=drain;\r\n        return (batteryCharge - drain);\r\n    }","title":"Java function to calculate difference in charge?","body":"<p>Just simple</p>\n<pre><code>public double drain(double minutes) {\n    double drain = cameraPowerConsumption * minutes;\n    if (drain &gt; batteryCharge){\n        totalDrain +=batteryCharge;\n        return batteryCharge;\n    }\n    totalDrain +=drain;\n    return (batteryCharge - drain);\n}\n</code></pre>\n"}],"owner":{"account_id":27748688,"reputation":1,"user_id":21183557,"display_name":"tennisplayer97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75405762,"answer_count":3,"score":0,"last_activity_date":1676016079,"creation_date":1675983108,"question_id":75405269,"body_markdown":"This object has a max charge of 1000. And when you drain 100, and then drain 1000, the second drain is supposed to return 900. What function to use that will allow me to return 900 because that is that max amount that can be drained as you can&#39;t drain a negative number?\r\n\r\nI tried,\r\n\t    \r\n```\r\npublic double drain(double minutes) {\r\n\t    double drain = cameraPowerConsumption * minutes;\r\n\t    batteryCharge = Math.max(batteryCharge - drain, 0);\r\n\t    totalDrain += drain;\r\n        return drain;\r\n```\r\n\r\nbut it returns 1000 instead of 900, after already draining 100. I think the drain variable needs to be changed. Without conditionals if that matters.","title":"Java function to calculate difference in charge?","body":"<p>This object has a max charge of 1000. And when you drain 100, and then drain 1000, the second drain is supposed to return 900. What function to use that will allow me to return 900 because that is that max amount that can be drained as you can't drain a negative number?</p>\n<p>I tried,</p>\n<pre><code>public double drain(double minutes) {\n        double drain = cameraPowerConsumption * minutes;\n        batteryCharge = Math.max(batteryCharge - drain, 0);\n        totalDrain += drain;\n        return drain;\n</code></pre>\n<p>but it returns 1000 instead of 900, after already draining 100. I think the drain variable needs to be changed. Without conditionals if that matters.</p>\n"},{"tags":["java","javafx","installation"],"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":3,"creation_date":1675966337,"post_id":75402727,"comment_id":133046504,"body_markdown":"Have you been through https://openjfx.io/openjfx-docs/?","body":"Have you been through <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>?"},{"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"score":0,"creation_date":1675966568,"post_id":75402727,"comment_id":133046583,"body_markdown":"@GeneralGrievance Yes and I can&#39;t find how to install the thing as a user in there","body":"@GeneralGrievance Yes and I can&#39;t find how to install the thing as a user in there"},{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1675966746,"post_id":75402727,"comment_id":133046624,"body_markdown":"Click &quot;I have Java installed&quot;. The page should say what to do with that downloaded folder.","body":"Click &quot;I have Java installed&quot;. The page should say what to do with that downloaded folder."},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":2,"creation_date":1675966848,"post_id":75402727,"comment_id":133046662,"body_markdown":"The [Zulu JDK builds](https://www.azul.com/downloads/?version=java-19-sts&amp;os=macos&amp;package=jdk) have JavaFX built into them, just download the version for your OS.","body":"The <a href=\"https://www.azul.com/downloads/?version=java-19-sts&amp;os=macos&amp;package=jdk\" rel=\"nofollow noreferrer\">Zulu JDK builds</a> have JavaFX built into them, just download the version for your OS."},{"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1675966884,"post_id":75402727,"comment_id":133046673,"body_markdown":"The thing that might confuse you, is that you don&#39;t really need to install anything as such. You just unpack the folder and then run your software with the command line as described in the &quot;I have java&quot; link above.","body":"The thing that might confuse you, is that you don&#39;t really need to install anything as such. You just unpack the folder and then run your software with the command line as described in the &quot;I have java&quot; link above."},{"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"score":0,"creation_date":1675966971,"post_id":75402727,"comment_id":133046712,"body_markdown":"`&gt; java --module-path ~/Downloads/javafx-sdk-19.0.2.1/ --add-modules javafx.controls mcaselector-2.1.jar` results in\n`Error occurred during initialization of boot layer\njava.lang.module.FindException: Module javafx.controls not found`","body":"<code>&gt; java --module-path ~&#47;Downloads&#47;javafx-sdk-19.0.2.1&#47; --add-modules javafx.controls mcaselector-2.1.jar</code> results in <code>Error occurred during initialization of boot layer java.lang.module.FindException: Module javafx.controls not found</code>"},{"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"score":0,"creation_date":1675967610,"post_id":75402727,"comment_id":133046940,"body_markdown":"@MTilsted Is there no way to just double click the jar and have it find javafx ?","body":"@MTilsted Is there no way to just double click the jar and have it find javafx ?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1675971790,"post_id":75402727,"comment_id":133048159,"body_markdown":"*&quot;Is there no way to just double click the jar and have it find javafx ?&quot;* -&gt; yes if you use the **Zulu JDK FX** build recommended by @blacktide.  It includes JavaFX in the base Java runtime image, so you can create a jar that you could run which uses JavaFX from the runtime image which will work *as long as you know all of your users are doing the same thing...*","body":"<i>&quot;Is there no way to just double click the jar and have it find javafx ?&quot;</i> -&gt; yes if you use the <b>Zulu JDK FX</b> build recommended by @blacktide.  It includes JavaFX in the base Java runtime image, so you can create a jar that you could run which uses JavaFX from the runtime image which will work <i>as long as you know all of your users are doing the same thing...</i>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1675985955,"post_id":75402727,"comment_id":133051342,"body_markdown":"StackOverflow is a [site for programming and software development](https://stackoverflow.com/help/on-topic).  Questions not related to that are off-topic (e.g. &quot;I need to run a thing, not code with the library&quot;).  This, I think, is why you have a mismatch between the answer and comments you received and your expectations.","body":"StackOverflow is a <a href=\"https://stackoverflow.com/help/on-topic\">site for programming and software development</a>.  Questions not related to that are off-topic (e.g. &quot;I need to run a thing, not code with the library&quot;).  This, I think, is why you have a mismatch between the answer and comments you received and your expectations."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676349569,"post_id":75402727,"comment_id":133114648,"body_markdown":"To allow double-click execution, you can [create a batch file (windows)](https://stackoverflow.com/a/2879843/1155209) or shell script (Linux or MacOS), that runs the app, then double click the batch file to run.  Or you can contact the provider of the app and request they make an installer using something like jpackage.","body":"To allow double-click execution, you can <a href=\"https://stackoverflow.com/a/2879843/1155209\">create a batch file (windows)</a> or shell script (Linux or MacOS), that runs the app, then double click the batch file to run.  Or you can contact the provider of the app and request they make an installer using something like jpackage."}],"answers":[{"tags":[],"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1675968988,"creation_date":1675968584,"answer_id":75403148,"question_id":75402727,"body_markdown":"I found how to do it, so here&#39;s a guide :\r\n\r\n 1. Download the JDK for your java version from [JavaFX][1]\r\n 2. Open `/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home`\r\n 3. Move everything from the `lib` and `legal` folders you downloaded to the respective subfolders where we just opened\r\n 4. **Delete** jrt-fs.jar\r\n 5. Run your program with `java --module-path $JAVA_HOME/lib --add-modules javafx.controls -jar Program_Name_Here.jar`\r\n\r\n **Bonus**: If you don&#39;t want to have to type out that command every time, run :\r\n\r\n`echo _JAVA_OPTIONS=&quot;--module-path=$JAVA_HOME/lib --add-modules=ALL-MODULE-PATH&quot; &gt;&gt; ~/.bash_profile` \r\n\r\nin your terminal. The modules will all be loaded by default when running java programs (I have no idea if there are any side effects, I don&#39;t understand anything about Java).\r\n\r\nPlease note that the program still won&#39;t work when double-clicking it directly, because of java magic or something.\r\n\r\n  [1]: https://openjfx.io/","title":"Installing JavaFX (with no java knowledge whatsoever)","body":"<p>I found how to do it, so here's a guide :</p>\n<ol>\n<li>Download the JDK for your java version from <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">JavaFX</a></li>\n<li>Open <code>/Library/Java/JavaVirtualMachines/openjdk.jdk/Contents/Home</code></li>\n<li>Move everything from the <code>lib</code> and <code>legal</code> folders you downloaded to the respective subfolders where we just opened</li>\n<li><strong>Delete</strong> jrt-fs.jar</li>\n<li>Run your program with <code>java --module-path $JAVA_HOME/lib --add-modules javafx.controls -jar Program_Name_Here.jar</code></li>\n</ol>\n<p><strong>Bonus</strong>: If you don't want to have to type out that command every time, run :</p>\n<p><code>echo _JAVA_OPTIONS=&quot;--module-path=$JAVA_HOME/lib --add-modules=ALL-MODULE-PATH&quot; &gt;&gt; ~/.bash_profile</code></p>\n<p>in your terminal. The modules will all be loaded by default when running java programs (I have no idea if there are any side effects, I don't understand anything about Java).</p>\n<p>Please note that the program still won't work when double-clicking it directly, because of java magic or something.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676016007,"creation_date":1675975988,"answer_id":75404320,"question_id":75402727,"body_markdown":"[JavaFX][1] is implemented as open-source in the [OpenJFX][2] sub-project on the [OpenJDK][3] project. OpenJFX is led by the [Gluon][4] company, in cooperation with Oracle Corp.\r\n\r\nOpenJFX is simply a few libraries, a collection of Java JAR files. You need to obtain a copy of the libraries, and make them available to your app. You can do this in one of three ways:\r\n\r\n - Install a copy of the libraries as **part of your app**.\r\n - Install a copy of the libraries in a place that will appear **on the [Classpath][5]** of your app. For example, [on macOS][6]: `/Library/Java/Extensions`.\r\n - Install a **JDK that comes bundled** with the libraries. I know of two vendors that make an edition of their JDK products to include the libraries: *ZuluFX* by Azul Systems, and *LibericaFX* by BellSoft.\r\n\r\nBy â€œinstallâ€ I mean simply making the JAR files available: (1) download, (2) move to the right folder location. There is no need to run an installer app. There is simply not anything complicated enough about this to require an installer.\r\n\r\n&#128073; The last of those three (a JDK with libraries bundled) is the easiest if you are new to programming.\r\n\r\nIf you will be doing serious work with Java and JavaFX, I strongly recommend learning to use a dependency management tool such as [Apache Maven][7] or Apache Gradle. Such a tool automates the chore of locating, downloading, and installing libraries such as OpenJFX.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaFX\r\n  [2]: https://openjfx.io/\r\n  [3]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [4]: https://gluonhq.com/\r\n  [5]: https://en.wikipedia.org/wiki/Classpath\r\n  [6]: https://stackoverflow.com/q/1675765/642706\r\n  [7]: https://en.wikipedia.org/wiki/Apache_Maven","title":"Installing JavaFX (with no java knowledge whatsoever)","body":"<p><a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> is implemented as open-source in the <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> sub-project on the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project. OpenJFX is led by the <a href=\"https://gluonhq.com/\" rel=\"nofollow noreferrer\">Gluon</a> company, in cooperation with Oracle Corp.</p>\n<p>OpenJFX is simply a few libraries, a collection of Java JAR files. You need to obtain a copy of the libraries, and make them available to your app. You can do this in one of three ways:</p>\n<ul>\n<li>Install a copy of the libraries as <strong>part of your app</strong>.</li>\n<li>Install a copy of the libraries in a place that will appear <strong>on the <a href=\"https://en.wikipedia.org/wiki/Classpath\" rel=\"nofollow noreferrer\">Classpath</a></strong> of your app. For example, <a href=\"https://stackoverflow.com/q/1675765/642706\">on macOS</a>: <code>/Library/Java/Extensions</code>.</li>\n<li>Install a <strong>JDK that comes bundled</strong> with the libraries. I know of two vendors that make an edition of their JDK products to include the libraries: <em>ZuluFX</em> by Azul Systems, and <em>LibericaFX</em> by BellSoft.</li>\n</ul>\n<p>By â€œinstallâ€ I mean simply making the JAR files available: (1) download, (2) move to the right folder location. There is no need to run an installer app. There is simply not anything complicated enough about this to require an installer.</p>\n<p>ðŸ‘‰ The last of those three (a JDK with libraries bundled) is the easiest if you are new to programming.</p>\n<p>If you will be doing serious work with Java and JavaFX, I strongly recommend learning to use a dependency management tool such as <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> or Apache Gradle. Such a tool automates the chore of locating, downloading, and installing libraries such as OpenJFX.</p>\n"}],"owner":{"account_id":15219362,"reputation":712,"user_id":10981696,"display_name":"ice-wind"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675993949,"answer_count":2,"score":-3,"last_activity_date":1676016007,"creation_date":1675966065,"question_id":75402727,"body_markdown":"I haven&#39;t found an answer yet fitting a knucklehead such as me, so I&#39;ll ask for myself : I&#39;m on macOS 13.1 and I have openJDK 19.0.2 installed already ; how am I supposed to install [JavaFX][1] ? The only downloads there just spit out a folder, which I have no idea what to do with.\r\n\r\nThere are no installation instructions that I could find, the site juste says that &quot;The JavaFX runtime is available as a platform-specific SDK, [and] as a number of jmods&quot; which isn&#39;t very useful if you have no idea what a jmod even is. What am I supposed to do ?\r\n\r\nI don&#39;t know if that makes any difference, but I&#39;m trying to install the *runtime* part of it I guess. I need to run a thing, not code with the library. I don&#39;t even know if there&#39;s a difference in the Java world though ?\r\n\r\n  [1]: https://openjfx.io","title":"Installing JavaFX (with no java knowledge whatsoever)","body":"<p>I haven't found an answer yet fitting a knucklehead such as me, so I'll ask for myself : I'm on macOS 13.1 and I have openJDK 19.0.2 installed already ; how am I supposed to install <a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">JavaFX</a> ? The only downloads there just spit out a folder, which I have no idea what to do with.</p>\n<p>There are no installation instructions that I could find, the site juste says that &quot;The JavaFX runtime is available as a platform-specific SDK, [and] as a number of jmods&quot; which isn't very useful if you have no idea what a jmod even is. What am I supposed to do ?</p>\n<p>I don't know if that makes any difference, but I'm trying to install the <em>runtime</em> part of it I guess. I need to run a thing, not code with the library. I don't even know if there's a difference in the Java world though ?</p>\n"},{"tags":["java","math","java.util.scanner"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675871558,"post_id":75388197,"comment_id":133021997,"body_markdown":"From the compiler&#39;s point of view you don&#39;t return a value in all possible paths in `sub()` and `divide()` methods. Use `else` instead of the second `if`.","body":"From the compiler&#39;s point of view you don&#39;t return a value in all possible paths in <code>sub()</code> and <code>divide()</code> methods. Use <code>else</code> instead of the second <code>if</code>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675871764,"post_id":75388197,"comment_id":133022077,"body_markdown":"`Scanner` does not have method `getInt()`. Did you perhaps meant `Scanner.nextInt()`, or maybe `GetData.getInt()`?","body":"<code>Scanner</code> does not have method <code>getInt()</code>. Did you perhaps meant <code>Scanner.nextInt()</code>, or maybe <code>GetData.getInt()</code>?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1675871767,"post_id":75388197,"comment_id":133022082,"body_markdown":"Don&#39;t correct the expression based on comparisons.  A negative number  for subtraction is a valid answer and so is a reciprocal (e.g. a/b vs b/a).  Most folks understand that it is `a op b` and they need to deal with it.  But you can check for bad things like division by zero and provide a message or let the calculator display the exception.  Also, you divide method is missing parameters.","body":"Don&#39;t correct the expression based on comparisons.  A negative number  for subtraction is a valid answer and so is a reciprocal (e.g. a/b vs b/a).  Most folks understand that it is <code>a op b</code> and they need to deal with it.  But you can check for bad things like division by zero and provide a message or let the calculator display the exception.  Also, you divide method is missing parameters."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675873348,"post_id":75388197,"comment_id":133022692,"body_markdown":"Regarding my previous comment, correcting the expressions will also make your calculator pretty useless.","body":"Regarding my previous comment, correcting the expressions will also make your calculator pretty useless."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1675876041,"post_id":75388197,"comment_id":133023629,"body_markdown":"Can you provide a sample user interaction?  How does the user interact with your program?  Do they enter input like  5 + 2?  Does your app display a menu for user to pick what operations to perform?  Without this knowledge, you can&#39;t write your program (main class).","body":"Can you provide a sample user interaction?  How does the user interact with your program?  Do they enter input like  5 + 2?  Does your app display a menu for user to pick what operations to perform?  Without this knowledge, you can&#39;t write your program (main class)."}],"answers":[{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676015982,"creation_date":1676015982,"answer_id":75408324,"question_id":75388197,"body_markdown":"As an aside, note that x &gt;= y and y &gt;= x will both be false if either x or y is Double.NaN, and you can enter NaN as a double value with the Scanner class (and also Infinity and -Infinity). So unless you check the values ahead of time to rule out NaN, you can&#39;t assume that at least one of those two conditions will be true.\r\n\r\nYou also can&#39;t assume that if x &gt; y and y &gt; x are false, then x == y, because for NaN all of those are false. And, if you have just assigned x = y, you can&#39;t assume that x == y, since if y was NaN that will be false.","title":"Making a Calculator using multiple classes","body":"<p>As an aside, note that x &gt;= y and y &gt;= x will both be false if either x or y is Double.NaN, and you can enter NaN as a double value with the Scanner class (and also Infinity and -Infinity). So unless you check the values ahead of time to rule out NaN, you can't assume that at least one of those two conditions will be true.</p>\n<p>You also can't assume that if x &gt; y and y &gt; x are false, then x == y, because for NaN all of those are false. And, if you have just assigned x = y, you can't assume that x == y, since if y was NaN that will be false.</p>\n"}],"owner":{"account_id":27686750,"reputation":1,"user_id":21134366,"display_name":"LCDIgnited"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676015982,"creation_date":1675870848,"question_id":75388197,"body_markdown":"I&#39;ve been trying to make a calculator with multiple classes, however I am not that experienced with classes. I&#39;ve been having a few problems with it.\r\n\r\nThis is the user input section, doesn&#39;t seem to have any problems\r\n\r\n```java  \r\nimport java.util.Scanner;\r\npublic class GetData \r\n    {    \r\n    Scanner getdata = new Scanner(System.in);\r\n    public double intx;\r\n    public double inty;\r\n                \r\n    public void getInt() {\r\n       System.out.print(&quot;Enter a number&quot;);\r\n       double intx = getdata.nextDouble(); \r\n    }\r\n           \r\n   public void getDouble() {\r\n      System.out.print(&quot;Enter a double&quot;);\r\n      double inty = getdata.nextDouble(); \r\n   }\r\n}\r\n```\r\n\r\nThis is the operation section, the most problems are happening here, as said in the error there are missing error statements,\r\n\r\n```java\r\n    import java.util.Scanner;\r\n\r\n  public class MathOps {\r\n     \r\n         Scanner mathops = new Scanner(System.in);\r\n         public double x; \r\n         public double y;\r\n         public double answer;\r\n     \r\n        public double add(int x, int y) {\r\n           System.out.println(&quot;Adding &quot; + x + &quot;and &quot; + y);\r\n           return x + y;\r\n        }\r\n    \r\n        public double multiply(int x, int y) {\r\n           System.out.println(&quot;Multiplying &quot; + x + &quot;and &quot; + y);\r\n           return x * y;\r\n        }\r\n    \r\n        public double sub(int x, int y) {\r\n           System.out.println(&quot;Subtracting &quot; + x + &quot;and &quot; + y);\r\n           if(x &gt;= y) {\r\n              return x - y; }\r\n           if(y &gt;= x) {\r\n              return y - x; }\r\n        } \r\n    \r\n        public double divide() {\r\n           System.out.println(&quot;Dividing &quot; + x + &quot;and &quot; + y);\r\n           if(x &gt;= y) {\r\n              return x / y; }\r\n           if(y &gt;= x) {\r\n              return y / x; }\r\n        }\r\n      } \r\n```\r\n\r\n&gt; ```none\r\n&gt; ----jGRASP exec: javac -g MathOps.java\r\n&gt;     MathOps.java:27: error: missing return statement\r\n&gt;                 }\r\n&gt;                 ^\r\n&gt;     MathOps.java:35: error: missing return statement\r\n&gt;                 }\r\n&gt;                 ^\r\n&gt;     2 errors\r\n&gt; \r\n&gt;  ----jGRASP wedge2: exit code for process is 1.  ----jGRASP: operation\r\n&gt; complete. \r\n&gt; ```\r\n\r\nThis is were I&#39;m putting it all together, also has problems\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class L3Operations\r\n{\r\n   int geti;\r\n   int getd;\r\n   \r\n    public static void main(String[] args)\r\n       {\r\n          //instatnate\r\n         Scanner a = new Scanner(System.in);\r\n     \r\n         int x1 = a.getInt();\r\n       }\r\n}\r\n```","title":"Making a Calculator using multiple classes","body":"<p>I've been trying to make a calculator with multiple classes, however I am not that experienced with classes. I've been having a few problems with it.</p>\n<p>This is the user input section, doesn't seem to have any problems</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class GetData \n    {    \n    Scanner getdata = new Scanner(System.in);\n    public double intx;\n    public double inty;\n                \n    public void getInt() {\n       System.out.print(&quot;Enter a number&quot;);\n       double intx = getdata.nextDouble(); \n    }\n           \n   public void getDouble() {\n      System.out.print(&quot;Enter a double&quot;);\n      double inty = getdata.nextDouble(); \n   }\n}\n</code></pre>\n<p>This is the operation section, the most problems are happening here, as said in the error there are missing error statements,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.Scanner;\n\n  public class MathOps {\n     \n         Scanner mathops = new Scanner(System.in);\n         public double x; \n         public double y;\n         public double answer;\n     \n        public double add(int x, int y) {\n           System.out.println(&quot;Adding &quot; + x + &quot;and &quot; + y);\n           return x + y;\n        }\n    \n        public double multiply(int x, int y) {\n           System.out.println(&quot;Multiplying &quot; + x + &quot;and &quot; + y);\n           return x * y;\n        }\n    \n        public double sub(int x, int y) {\n           System.out.println(&quot;Subtracting &quot; + x + &quot;and &quot; + y);\n           if(x &gt;= y) {\n              return x - y; }\n           if(y &gt;= x) {\n              return y - x; }\n        } \n    \n        public double divide() {\n           System.out.println(&quot;Dividing &quot; + x + &quot;and &quot; + y);\n           if(x &gt;= y) {\n              return x / y; }\n           if(y &gt;= x) {\n              return y / x; }\n        }\n      } \n</code></pre>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>----jGRASP exec: javac -g MathOps.java\n    MathOps.java:27: error: missing return statement\n                }\n                ^\n    MathOps.java:35: error: missing return statement\n                }\n                ^\n    2 errors\n\n ----jGRASP wedge2: exit code for process is 1.  ----jGRASP: operation\ncomplete. \n</code></pre>\n</blockquote>\n<p>This is were I'm putting it all together, also has problems</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class L3Operations\n{\n   int geti;\n   int getd;\n   \n    public static void main(String[] args)\n       {\n          //instatnate\n         Scanner a = new Scanner(System.in);\n     \n         int x1 = a.getInt();\n       }\n}\n</code></pre>\n"},{"tags":["java","cassandra","spring-data","datastax-java-driver","spring-data-cassandra"],"answers":[{"comments":[{"owner":{"account_id":12210830,"reputation":335,"user_id":8912667,"display_name":"Fabien MIFSUD"},"score":3,"creation_date":1590160270,"post_id":53335492,"comment_id":109583842,"body_markdown":"In case 1, the logger logs `DEBUG CqlTemplate - Executing CQL Statement [com.datastax.oss.driver.internal.core.cql.DefaultSimpleStatement@50187558]` which is not really relevant since the toString on DefaultSimpleStatement is not implemented as expected..","body":"In case 1, the logger logs <code>DEBUG CqlTemplate - Executing CQL Statement [com.datastax.oss.driver.internal.core.cql.DefaultSimpleStat&zwnj;&#8203;ement@50187558]</code> which is not really relevant since the toString on DefaultSimpleStatement is not implemented as expected.."},{"owner":{"account_id":10142585,"reputation":904,"user_id":7491837,"accept_rate":49,"display_name":"Adriano"},"score":0,"creation_date":1677601742,"post_id":53335492,"comment_id":133368608,"body_markdown":"Fixed after version 3.0.5","body":"Fixed after version 3.0.5"}],"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542362631,"creation_date":1542362631,"answer_id":53335492,"question_id":53322089,"body_markdown":"Yes, there are multiple approaches:\r\n\r\n1. If you use Spring Data for Apache Cassandra version 2.0 or higher, then you can use your logging configuration to activate CQL logging. Set the log level of `org.springframework.data.cassandra.core.cql.CqlTemplate` to `DEBUG`.\r\n2. In any other case (or instead of 1.), use `QueryLogger` that is directly attached to your `Cluster` object. See https://stackoverflow.com/questions/40683371/what-is-a-good-way-to-discover-all-queries-made-by-a-cassandra-java-app/40684084#40684084 for further details.","title":"Log queries executed by Spring Data Cassandra","body":"<p>Yes, there are multiple approaches:</p>\n\n<ol>\n<li>If you use Spring Data for Apache Cassandra version 2.0 or higher, then you can use your logging configuration to activate CQL logging. Set the log level of <code>org.springframework.data.cassandra.core.cql.CqlTemplate</code> to <code>DEBUG</code>.</li>\n<li>In any other case (or instead of 1.), use <code>QueryLogger</code> that is directly attached to your <code>Cluster</code> object. See <a href=\"https://stackoverflow.com/questions/40683371/what-is-a-good-way-to-discover-all-queries-made-by-a-cassandra-java-app/40684084#40684084\">What is a good way to discover all queries made by a Cassandra java app?</a> for further details.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16118113,"reputation":19,"user_id":11634681,"display_name":"saikiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676015837,"creation_date":1676015534,"answer_id":75408257,"question_id":53322089,"body_markdown":"There are ways to achieve this \r\n\r\n***1) Setting the cassandra logging level to DEBUG***\r\n\r\n\r\n ***logging.level.org.springframework.data.cassandra.core.cql.CqlTemplate=DEBUG***\r\n\r\n  \r\n\r\nBy enabling the debug logs you can see the queries , but you may see the java objects instead of actual queries . For that you can use logback , logback has conversionRule  to convert the log line  and log them as we want . So we will use conversionRule to convert the java object to queries\r\n\r\nFirst thing is to setup few loggers and appenders by creating logback.xml\r\n    \r\n     \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n        &lt;conversionRule conversionWord=&quot;cql&quot; converterClass=&quot;com.converter.CqlQueryExtractor&quot; /&gt;\r\n\r\n        &lt;appender name=&quot;CONSOLE_CQL&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; &gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                     %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %cql%n\r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; &gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %X{Nonce} - %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n\r\n        &lt;logger name=&quot;org.springframework.data.cassandra&quot; additivity=&quot;false&quot; level=&quot;DEBUG&quot; &gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE_CQL&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;root level=&quot;INFO&quot; &gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  Now create converter the we referred in xml file \r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class CqlQueryExtractor extends ClassicConverter {\r\n\r\n\r\n        @Override\r\n        public String convert(ILoggingEvent iLoggingEvent) {\r\n            Object[] args = iLoggingEvent.getArgumentArray();\r\n            for(Object arg : args){\r\n                if(arg instanceof SimpleStatement){\r\n                    return ((SimpleStatement)arg).getQuery();\r\n                }\r\n            }\r\n            return iLoggingEvent.toString();\r\n\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n***2) Using QueryLogger*** \r\n\r\nThe **`QueryLogger`** provides clients with the ability to log queries executed by the driver, and especially, it allows client to track slow queries, i.e. queries that take longer to complete than a configured threshold in milliseconds.\r\n\r\n   \r\n\r\n     \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Cluster cluster = ...\r\n    QueryLogger queryLogger = QueryLogger.builder(cluster)\r\n        .withConstantThreshold(...)\r\n        .withMaxQueryStringLength(...)\r\n    .build();\r\n    cluster.register(queryLogger);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFollow the official Docs for more [docs][1]\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/2.1/manual/logging/#logging-query-latencies\r\n","title":"Log queries executed by Spring Data Cassandra","body":"<p>There are ways to achieve this</p>\n<p><em><strong>1) Setting the cassandra logging level to DEBUG</strong></em></p>\n<p><em><strong>logging.level.org.springframework.data.cassandra.core.cql.CqlTemplate=DEBUG</strong></em></p>\n<p>By enabling the debug logs you can see the queries , but you may see the java objects instead of actual queries . For that you can use logback , logback has conversionRule  to convert the log line  and log them as we want . So we will use conversionRule to convert the java object to queries</p>\n<p>First thing is to setup few loggers and appenders by creating logback.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;conversionRule conversionWord=&quot;cql&quot; converterClass=&quot;com.converter.CqlQueryExtractor&quot; /&gt;\n\n    &lt;appender name=&quot;CONSOLE_CQL&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; &gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                 %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %cql%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; &gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %X{Nonce} - %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n\n    &lt;logger name=&quot;org.springframework.data.cassandra&quot; additivity=&quot;false&quot; level=&quot;DEBUG&quot; &gt;\n        &lt;appender-ref ref=&quot;CONSOLE_CQL&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;INFO&quot; &gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Now create converter the we referred in xml file</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CqlQueryExtractor extends ClassicConverter {\n\n\n    @Override\n    public String convert(ILoggingEvent iLoggingEvent) {\n        Object[] args = iLoggingEvent.getArgumentArray();\n        for(Object arg : args){\n            if(arg instanceof SimpleStatement){\n                return ((SimpleStatement)arg).getQuery();\n            }\n        }\n        return iLoggingEvent.toString();\n\n    }\n}\n</code></pre>\n<p><em><strong>2) Using QueryLogger</strong></em></p>\n<p>The <strong><code>QueryLogger</code></strong> provides clients with the ability to log queries executed by the driver, and especially, it allows client to track slow queries, i.e. queries that take longer to complete than a configured threshold in milliseconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cluster cluster = ...\nQueryLogger queryLogger = QueryLogger.builder(cluster)\n    .withConstantThreshold(...)\n    .withMaxQueryStringLength(...)\n.build();\ncluster.register(queryLogger);\n</code></pre>\n<p>Follow the official Docs for more <a href=\"https://docs.datastax.com/en/developer/java-driver/2.1/manual/logging/#logging-query-latencies\" rel=\"nofollow noreferrer\">docs</a></p>\n"}],"owner":{"account_id":9899447,"reputation":431,"user_id":7329898,"accept_rate":0,"display_name":"venkat g"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676015837,"creation_date":1542293515,"question_id":53322089,"body_markdown":"We are using `AbstractCassandraConfiguration` to configure `cassandra entities`, is there a way to log queries executed by the application using `application.properties`?\r\n\r\nThanks.","title":"Log queries executed by Spring Data Cassandra","body":"<p>We are using <code>AbstractCassandraConfiguration</code> to configure <code>cassandra entities</code>, is there a way to log queries executed by the application using <code>application.properties</code>?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","elasticsearch","elastic-stack","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":3633664,"reputation":2409,"user_id":3029337,"display_name":"glenacota"},"score":0,"creation_date":1676730968,"post_id":75408278,"comment_id":133198178,"body_markdown":"some questions: (1) What is the response time of the native query? (2) how many results do you need to visualize? (3) do you need to include all fields in the response? (4) what&#39;s the version of the library? (you&#39;re using an API which is now deprecated)","body":"some questions: (1) What is the response time of the native query? (2) how many results do you need to visualize? (3) do you need to include all fields in the response? (4) what&#39;s the version of the library? (you&#39;re using an API which is now deprecated)"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676015691,"creation_date":1676015691,"question_id":75408278,"body_markdown":"We have an elasticsearch that contains millions of records and we are using it for a global searching. However, our query takes 2-4 seconds to return result. Can somebody help or advice how to further optimize the following query:\r\n\r\n        NativeSearchQueryBuilder query = new NativeSearchQueryBuilder()\r\n        .withQuery(QueryBuilders.boolQuery()\r\n            .should(QueryBuilders.termQuery(&quot;name&quot;, searchText))\r\n            .should(QueryBuilders.termQuery(&quot;key&quot;, searchText))\r\n            .should(QueryBuilders.termQuery(&quot;sort_alpha&quot;, searchText))\r\n            .should(QueryBuilders.termQuery(&quot;sort_number&quot;, searchText))\r\n        ).withPageable(PageRequest.of(0, 100))\r\n        .withHighlightFields(new HighlightBuilder.Field(&quot;name&quot;),\r\n            new HighlightBuilder.Field(&quot;key&quot;),\r\n            new HighlightBuilder.Field(&quot;sort_alpha&quot;),\r\n            new HighlightBuilder.Field(&quot;sort_number&quot;)\r\n        .build();","title":"Elasticsearch + Java - Can you further optimize this query?","body":"<p>We have an elasticsearch that contains millions of records and we are using it for a global searching. However, our query takes 2-4 seconds to return result. Can somebody help or advice how to further optimize the following query:</p>\n<pre><code>    NativeSearchQueryBuilder query = new NativeSearchQueryBuilder()\n    .withQuery(QueryBuilders.boolQuery()\n        .should(QueryBuilders.termQuery(&quot;name&quot;, searchText))\n        .should(QueryBuilders.termQuery(&quot;key&quot;, searchText))\n        .should(QueryBuilders.termQuery(&quot;sort_alpha&quot;, searchText))\n        .should(QueryBuilders.termQuery(&quot;sort_number&quot;, searchText))\n    ).withPageable(PageRequest.of(0, 100))\n    .withHighlightFields(new HighlightBuilder.Field(&quot;name&quot;),\n        new HighlightBuilder.Field(&quot;key&quot;),\n        new HighlightBuilder.Field(&quot;sort_alpha&quot;),\n        new HighlightBuilder.Field(&quot;sort_number&quot;)\n    .build();\n</code></pre>\n"},{"tags":["java","spring","oracle","jdbc","spring-jdbc"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1676014892,"post_id":75408161,"comment_id":133055480,"body_markdown":"SUM(X) and X are not the same, so my guess: your problem is here: .totalNumbersOfCard(rs.getString(&quot;SUMCARD&quot;)) (and the others like it). adjust your query to: SUM(SUMCARD) AS SUMCARD","body":"SUM(X) and X are not the same, so my guess: your problem is here: .totalNumbersOfCard(rs.getString(&quot;SUMCARD&quot;)) (and the others like it). adjust your query to: SUM(SUMCARD) AS SUMCARD"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676014979,"post_id":75408161,"comment_id":133055499,"body_markdown":"Please specify the DBMS you&#39;re using. Your query doesn&#39;t have columns `SUMCARD`, `SUMERRORTXN` and `SUMERRORTXNCARD`, or at least, not all DBMSes alias `SUM` columns with the name of the column that is summed, so you should alias them explicitly, e.g. `SUM(TEMP.SUMCARD) AS SUMCARD`.","body":"Please specify the DBMS you&#39;re using. Your query doesn&#39;t have columns <code>SUMCARD</code>, <code>SUMERRORTXN</code> and <code>SUMERRORTXNCARD</code>, or at least, not all DBMSes alias <code>SUM</code> columns with the name of the column that is summed, so you should alias them explicitly, e.g. <code>SUM(TEMP.SUMCARD) AS SUMCARD</code>."},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1676015198,"post_id":75408161,"comment_id":133055542,"body_markdown":"@MarkRotteveel sorry I forget to tell, It is PLSQL","body":"@MarkRotteveel sorry I forget to tell, It is PLSQL"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676015221,"post_id":75408161,"comment_id":133055546,"body_markdown":"You mean Oracle?","body":"You mean Oracle?"},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1676015362,"post_id":75408161,"comment_id":133055592,"body_markdown":"@MarkRotteveel yes it is oracle","body":"@MarkRotteveel yes it is oracle"}],"answers":[{"comments":[{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1676016415,"post_id":75408259,"comment_id":133055826,"body_markdown":"So do you prefer to add alias &#39;AS&#39; at the first select statement in the query","body":"So do you prefer to add alias &#39;AS&#39; at the first select statement in the query"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1676016627,"post_id":75408259,"comment_id":133055889,"body_markdown":"@xprop this has nothing to do with preferences. Your mapper goes to look for column SUMCARD in the result of your query, but there isn&#39;t such a column, so you need to make sure your column has that name","body":"@xprop this has nothing to do with preferences. Your mapper goes to look for column SUMCARD in the result of your query, but there isn&#39;t such a column, so you need to make sure your column has that name"},{"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"score":0,"creation_date":1676017095,"post_id":75408259,"comment_id":133056011,"body_markdown":"Problem has been resolved thank you :)","body":"Problem has been resolved thank you :)"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676015576,"creation_date":1676015576,"answer_id":75408259,"question_id":75408161,"body_markdown":"The problem is that your query doesn&#39;t actually have columns `SUMCARD`, `SUMERRORTXN` and `SUMERRORTXNCARD`. Although there are DBMSes that alias `SUM` columns with the name of the column that is summed, Oracle is not one of them. IIRC, Oracle aliases it as, for example, `&quot;SUM(SUMCARD)&quot;` or maybe `&quot;SUM(TEMP.SUMCARD)&quot;`. However, that is an implementation detail you should not rely on in my opinion. \r\n\r\nTo get the name you want to use, you need to alias your `SUM` columns explicitly, e.g. `SUM(TEMP.SUMCARD) AS SUMCARD`. ","title":"RowMapper invalid column name error in Java","body":"<p>The problem is that your query doesn't actually have columns <code>SUMCARD</code>, <code>SUMERRORTXN</code> and <code>SUMERRORTXNCARD</code>. Although there are DBMSes that alias <code>SUM</code> columns with the name of the column that is summed, Oracle is not one of them. IIRC, Oracle aliases it as, for example, <code>&quot;SUM(SUMCARD)&quot;</code> or maybe <code>&quot;SUM(TEMP.SUMCARD)&quot;</code>. However, that is an implementation detail you should not rely on in my opinion.</p>\n<p>To get the name you want to use, you need to alias your <code>SUM</code> columns explicitly, e.g. <code>SUM(TEMP.SUMCARD) AS SUMCARD</code>.</p>\n"}],"owner":{"account_id":26492073,"reputation":1,"user_id":20130333,"display_name":"xprop"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408259,"answer_count":1,"score":0,"last_activity_date":1676015576,"creation_date":1676014756,"question_id":75408161,"body_markdown":"I have a query and it works well on the database. However, when I tried to take them as a Java object by using RowMapper, I get an invalid column name error. I checked everything, but I don&#39;t understand the reason why this error happening.\r\n\r\nMy query: \r\n```sql\r\nSELECT TEMP.SUMALLTXN, SUM(TEMP.SUMCARD), SUM(TEMP.SUMERRORTXN), SUM(TEMP.SUMERRORTXNCARD)\r\nFROM\r\n(SELECT\r\nSUM(COUNT(*)) OVER() AS SUMALLTXN,\r\n\r\nCOUNT(mdmtxn.BIN) OVER (PARTITION BY mdmtxn.BIN) AS SUMCARD,\r\n\r\nSUM(case when mdmtxn.MDSTATUS NOT IN (&#39;1&#39;,&#39;9&#39;, &#39;60&#39;) then 1 else 0 end) AS SUMERRORTXN,\r\n\r\nSUM(case when mdmtxn.MDSTATUS NOT IN (&#39;1&#39;,&#39;9&#39;, &#39;60&#39;) then 1 else 0 end) OVER (PARTITION BY mdmtxn.BIN) AS SUMERRORTXNCARD\r\n\r\nFROM MDM59.MDMTRANSACTION2 mdmtxn WHERE\r\n    mdmtxn.CREATEDDATE &lt; TO_CHAR(SYSDATE - INTERVAL &#39;:initialMinuteParameterValue&#39; MINUTE ,&#39;YYYYMMDD HH24:MI:SS&#39;) AND\r\n    mdmtxn.CREATEDDATE &gt; TO_CHAR(SYSDATE - INTERVAL &#39;:intervalMinuteParameterValue&#39; MINUTE ,&#39;YYYYMMDD HH24:MI:SS&#39;)\r\nGROUP BY mdmtxn.MDSTATUS, mdmtxn.BIN\r\n) TEMP\r\nGROUP BY TEMP.SUMALLTXN\r\n```\r\nMy RowMapper:\r\n```java\r\n@Component\r\npublic class TotalTransactionsReportRw implements RowMapper&lt;TotalTransactionsReportDto&gt; {\r\n\r\n    @Override\r\n    public TotalTransactionsReportDto mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        return TotalTransactionsReportDto.builder()\r\n                .totalNumbersOfTransactions(rs.getString(&quot;SUMALLTXN&quot;))\r\n                .totalNumbersOfCard(rs.getString(&quot;SUMCARD&quot;))\r\n                .totalNumbersOfErrorTransactions(rs.getString(&quot;SUMERRORTXN&quot;))\r\n                .totalNumbersOfErrorCard(rs.getString(&quot;SUMERRORTXNCARD&quot;))\r\n                .build();\r\n    }\r\n\r\n    private static class TotalTransactionsDetailRwHolder {\r\n        private static final TotalTransactionsReportRw INSTANCE = new TotalTransactionsReportRw();\r\n    }\r\n\r\n    public static TotalTransactionsReportRw getInstance() {\r\n        return TotalTransactionsReportRw.TotalTransactionsDetailRwHolder.INSTANCE;\r\n    }\r\n}\r\n```\r\n\r\nMy Dto:\r\n\r\n  \r\n```java\r\n@Value\r\n@Builder\r\n@Data\r\npublic class TotalTransactionsReportDto {\r\n    private String totalNumbersOfTransactions;\r\n    private String totalNumbersOfCard;\r\n    private String totalNumbersOfErrorTransactions;\r\n    private String totalNumbersOfErrorCard;\r\n}\r\n```\r\n\r\nAnd in my tasklet class I created a list to get all data from rowmapper:\r\n\r\n```java\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class NotificationTasklet implements Tasklet {\r\n\r\n    private final PofPostOfficeServiceClient pofPostOfficeServiceClient;\r\n    private final SequenceSysGuid sequenceSysGuid;\r\n    private final BatchProps batchProps;\r\n    private JdbcTemplate jdbcTemplate;\r\n    private String notificationMailSql;\r\n    private String totalTransactionsSql;\r\n    private String endOfHtmlString = &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    private String endOfTableString = &quot;&lt;/table&gt;&quot;;\r\n    private String jobName = &quot;vpos-notification&quot;;\r\n    private String tdClose = &quot;&lt;/td&gt;&quot;;`\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\r\n\r\n        List&lt;VposNotificationBatchDto&gt; notificationList = getNotificationList();\r\n\r\n        List&lt;TotalTransactionsReportDto&gt; totalTransactionsList = getTotalTransactionsList();\r\n\r\n        AlertMailDto alertMailDto = createAlertMailDto(notificationList,totalTransactionsList);\r\n\r\n        if (!(notificationList.isEmpty())) {\r\n            sendMail(alertMailDto);\r\n        }\r\n\r\n        return RepeatStatus.FINISHED;\r\n    }\r\n\r\n    List&lt;TotalTransactionsReportDto&gt; getTotalTransactionsList() {\r\n        return jdbcTemplate.query(\r\n                totalTransactionsSql,\r\n                new TotalTransactionsReportRw());\r\n    }\r\n\r\n    @Autowired\r\n    public void     setTotalTransactionsSql(@Value(&quot;classpath:sql/vposnotification/select_total_transactions_data.sql&quot;)\r\n                                               Resource res) {\r\n        int intervalnext = batchProps.getJobProps()\r\n                .get(jobName).getAlertProps().getIntervalMinuteParameterValue();\r\n        String intervalMinutes = String.valueOf(intervalnext);\r\n\r\n        int initialMinuteParameterValue = batchProps.getJobProps()\r\n                .get(jobName).getAlertProps().getInitialMinuteParameterValue();\r\n        String initialMinutes = String.valueOf(initialMinuteParameterValue);\r\n\r\n        this.totalTransactionsSql = SqlUtils.readSql(res);\r\n             this.totalTransactionsSql = this.totalTransactionsSql.replace(&quot;:initialMinuteParameterValue&quot;,          initialMinutes);\r\n              this.totalTransactionsSql = this.totalTransactionsSql.replace(&quot;:intervalMinuteParameterValue&quot;,     intervalMinutes);\r\n    }\r\n\r\n    @Autowired\r\n    public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {\r\n         this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"RowMapper invalid column name error in Java","body":"<p>I have a query and it works well on the database. However, when I tried to take them as a Java object by using RowMapper, I get an invalid column name error. I checked everything, but I don't understand the reason why this error happening.</p>\n<p>My query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT TEMP.SUMALLTXN, SUM(TEMP.SUMCARD), SUM(TEMP.SUMERRORTXN), SUM(TEMP.SUMERRORTXNCARD)\nFROM\n(SELECT\nSUM(COUNT(*)) OVER() AS SUMALLTXN,\n\nCOUNT(mdmtxn.BIN) OVER (PARTITION BY mdmtxn.BIN) AS SUMCARD,\n\nSUM(case when mdmtxn.MDSTATUS NOT IN ('1','9', '60') then 1 else 0 end) AS SUMERRORTXN,\n\nSUM(case when mdmtxn.MDSTATUS NOT IN ('1','9', '60') then 1 else 0 end) OVER (PARTITION BY mdmtxn.BIN) AS SUMERRORTXNCARD\n\nFROM MDM59.MDMTRANSACTION2 mdmtxn WHERE\n    mdmtxn.CREATEDDATE &lt; TO_CHAR(SYSDATE - INTERVAL ':initialMinuteParameterValue' MINUTE ,'YYYYMMDD HH24:MI:SS') AND\n    mdmtxn.CREATEDDATE &gt; TO_CHAR(SYSDATE - INTERVAL ':intervalMinuteParameterValue' MINUTE ,'YYYYMMDD HH24:MI:SS')\nGROUP BY mdmtxn.MDSTATUS, mdmtxn.BIN\n) TEMP\nGROUP BY TEMP.SUMALLTXN\n</code></pre>\n<p>My RowMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class TotalTransactionsReportRw implements RowMapper&lt;TotalTransactionsReportDto&gt; {\n\n    @Override\n    public TotalTransactionsReportDto mapRow(ResultSet rs, int rowNum) throws SQLException {\n        return TotalTransactionsReportDto.builder()\n                .totalNumbersOfTransactions(rs.getString(&quot;SUMALLTXN&quot;))\n                .totalNumbersOfCard(rs.getString(&quot;SUMCARD&quot;))\n                .totalNumbersOfErrorTransactions(rs.getString(&quot;SUMERRORTXN&quot;))\n                .totalNumbersOfErrorCard(rs.getString(&quot;SUMERRORTXNCARD&quot;))\n                .build();\n    }\n\n    private static class TotalTransactionsDetailRwHolder {\n        private static final TotalTransactionsReportRw INSTANCE = new TotalTransactionsReportRw();\n    }\n\n    public static TotalTransactionsReportRw getInstance() {\n        return TotalTransactionsReportRw.TotalTransactionsDetailRwHolder.INSTANCE;\n    }\n}\n</code></pre>\n<p>My Dto:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\n@Builder\n@Data\npublic class TotalTransactionsReportDto {\n    private String totalNumbersOfTransactions;\n    private String totalNumbersOfCard;\n    private String totalNumbersOfErrorTransactions;\n    private String totalNumbersOfErrorCard;\n}\n</code></pre>\n<p>And in my tasklet class I created a list to get all data from rowmapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class NotificationTasklet implements Tasklet {\n\n    private final PofPostOfficeServiceClient pofPostOfficeServiceClient;\n    private final SequenceSysGuid sequenceSysGuid;\n    private final BatchProps batchProps;\n    private JdbcTemplate jdbcTemplate;\n    private String notificationMailSql;\n    private String totalTransactionsSql;\n    private String endOfHtmlString = &quot;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n    private String endOfTableString = &quot;&lt;/table&gt;&quot;;\n    private String jobName = &quot;vpos-notification&quot;;\n    private String tdClose = &quot;&lt;/td&gt;&quot;;`\n\n    @Override\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\n\n        List&lt;VposNotificationBatchDto&gt; notificationList = getNotificationList();\n\n        List&lt;TotalTransactionsReportDto&gt; totalTransactionsList = getTotalTransactionsList();\n\n        AlertMailDto alertMailDto = createAlertMailDto(notificationList,totalTransactionsList);\n\n        if (!(notificationList.isEmpty())) {\n            sendMail(alertMailDto);\n        }\n\n        return RepeatStatus.FINISHED;\n    }\n\n    List&lt;TotalTransactionsReportDto&gt; getTotalTransactionsList() {\n        return jdbcTemplate.query(\n                totalTransactionsSql,\n                new TotalTransactionsReportRw());\n    }\n\n    @Autowired\n    public void     setTotalTransactionsSql(@Value(&quot;classpath:sql/vposnotification/select_total_transactions_data.sql&quot;)\n                                               Resource res) {\n        int intervalnext = batchProps.getJobProps()\n                .get(jobName).getAlertProps().getIntervalMinuteParameterValue();\n        String intervalMinutes = String.valueOf(intervalnext);\n\n        int initialMinuteParameterValue = batchProps.getJobProps()\n                .get(jobName).getAlertProps().getInitialMinuteParameterValue();\n        String initialMinutes = String.valueOf(initialMinuteParameterValue);\n\n        this.totalTransactionsSql = SqlUtils.readSql(res);\n             this.totalTransactionsSql = this.totalTransactionsSql.replace(&quot;:initialMinuteParameterValue&quot;,          initialMinutes);\n              this.totalTransactionsSql = this.totalTransactionsSql.replace(&quot;:intervalMinuteParameterValue&quot;,     intervalMinutes);\n    }\n\n    @Autowired\n    public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {\n         this.jdbcTemplate = jdbcTemplate;\n    }\n</code></pre>\n"},{"tags":["java","object","casting","formatting","numbers"],"comments":[{"owner":{"account_id":5111197,"reputation":882,"user_id":4097712,"accept_rate":57,"display_name":"Tonny Tc"},"score":0,"creation_date":1675941509,"post_id":75396205,"comment_id":133037878,"body_markdown":"Would you identify the library used for transferring a Java object to JSON string?","body":"Would you identify the library used for transferring a Java object to JSON string?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675941541,"post_id":75396205,"comment_id":133037891,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25791289,"reputation":1,"user_id":19535325,"display_name":"Dmitry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676015500,"creation_date":1675932778,"question_id":75396205,"body_markdown":"I have Map&lt;String, Object&gt; where Object is List&lt;Object&gt; and one them - Double. **Debugger show [0.0](https://i.stack.imgur.com/UNd7E.png) **,\r\n but **result in Swagger [0](https://i.stack.imgur.com/HCw5O.png)**. Can I save fractional part like a number (not String) with the same structure? \r\n\r\nI tried DecimalFormat and so on, but they gave string format response, I need numeric format.","title":"Java always trim a zero fractional part in an Object class?","body":"<p>I have Map&lt;String, Object&gt; where Object is List and one them - Double. **Debugger show <a href=\"https://i.stack.imgur.com/UNd7E.png\" rel=\"nofollow noreferrer\">0.0</a> **,\nbut <strong>result in Swagger <a href=\"https://i.stack.imgur.com/HCw5O.png\" rel=\"nofollow noreferrer\">0</a></strong>. Can I save fractional part like a number (not String) with the same structure?</p>\n<p>I tried DecimalFormat and so on, but they gave string format response, I need numeric format.</p>\n"},{"tags":["java","html","css","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1459752244,"post_id":23220575,"comment_id":60408773,"body_markdown":"Your code looks you are using java","body":"Your code looks you are using java"},{"owner":{"account_id":6629323,"reputation":2067,"user_id":5118465,"accept_rate":75,"display_name":"Henning Luther"},"score":0,"creation_date":1532359001,"post_id":23220575,"comment_id":89933063,"body_markdown":"do u now know how to get the actual rendered color with a font?","body":"do u now know how to get the actual rendered color with a font?"}],"answers":[{"comments":[{"owner":{"account_id":2425876,"reputation":700,"user_id":2117814,"display_name":"Nagarjuna Yalamanchili"},"score":0,"creation_date":1580969420,"post_id":23226168,"comment_id":106274038,"body_markdown":"Try below code public String ColorVerify(String cssSelector, String cssValue)\n\t{\n\t\t/* This method used to verify color code*/\n\t\tWebElement target = driver.findElement(By.cssSelector(cssSelector));\n\t\tString colorCode= target.getCssValue(cssValue);\n\t\tString hexacolor = Color.fromString(colorCode).asHex();\n\t\treturn hexacolor;\t\n\t}","body":"Try below code public String ColorVerify(String cssSelector, String cssValue) \t{ \t\t/* This method used to verify color code*/ \t\tWebElement target = driver.findElement(By.cssSelector(cssSelector)); \t\tString colorCode= target.getCssValue(cssValue); \t\tString hexacolor = Color.fromString(colorCode).asHex(); \t\treturn hexacolor;\t \t}"}],"tags":[],"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398192100,"creation_date":1398187105,"answer_id":23226168,"question_id":23220575,"body_markdown":"With XPath you can try to search by attribute. For example `//div[@style=&#39;background: red&#39;]`. If you want to get color then for CSS I would use method [getCSSValue()][1]\r\n\r\n\r\n  [1]: http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebElement.html#getCssValue%28java.lang.String%29","title":"How to get element color with Selenium","body":"<p>With XPath you can try to search by attribute. For example <code>//div[@style='background: red']</code>. If you want to get color then for CSS I would use method <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebElement.html#getCssValue%28java.lang.String%29\" rel=\"nofollow\">getCSSValue()</a></p>\n"},{"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":4,"creation_date":1459754576,"post_id":36396654,"comment_id":60409988,"body_markdown":"The above code will return rgb value. If you want to convert to hex, you can go to  http://stackoverflow.com/questions/19668893/getcssvalue-color-in-hex-format-in-selenium-webdriver","body":"The above code will return rgb value. If you want to convert to hex, you can go to  <a href=\"http://stackoverflow.com/questions/19668893/getcssvalue-color-in-hex-format-in-selenium-webdriver\" title=\"getcssvalue color in hex format in selenium webdriver\">stackoverflow.com/questions/19668893/&hellip;</a>"}],"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1459754369,"creation_date":1459754369,"answer_id":36396654,"question_id":23220575,"body_markdown":"You can get the element color(Background color of element) by:\r\n\r\n    element.getCssValue(&quot;background-color&quot;);\r\n\r\nYou can get the element text/caption color by:\r\n\r\n    element.getCssValue(&quot;color&quot;);\r\n\r\nFor example if you want to get the background and text color of &quot;Sign in&quot; button for LinkedIn, the code is as follows:\r\n\r\n    driver.get(&quot;https://www.linkedin.com/&quot;);\r\n    \t    String buttonColor = driver.findElement(By.name(&quot;submit&quot;)).getCssValue(&quot;background-color&quot;);\r\n    \t    String buttonTextColor = driver.findElement(By.name(&quot;submit&quot;)).getCssValue(&quot;color&quot;);\r\n    \t    System.out.println(&quot;Button color: &quot; + buttonColor);\r\n    \t    System.out.println(&quot;Text color &quot; + buttonTextColor);","title":"How to get element color with Selenium","body":"<p>You can get the element color(Background color of element) by:</p>\n\n<pre><code>element.getCssValue(\"background-color\");\n</code></pre>\n\n<p>You can get the element text/caption color by:</p>\n\n<pre><code>element.getCssValue(\"color\");\n</code></pre>\n\n<p>For example if you want to get the background and text color of \"Sign in\" button for LinkedIn, the code is as follows:</p>\n\n<pre><code>driver.get(\"https://www.linkedin.com/\");\n        String buttonColor = driver.findElement(By.name(\"submit\")).getCssValue(\"background-color\");\n        String buttonTextColor = driver.findElement(By.name(\"submit\")).getCssValue(\"color\");\n        System.out.println(\"Button color: \" + buttonColor);\n        System.out.println(\"Text color \" + buttonTextColor);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":508927,"reputation":2023,"user_id":1251613,"accept_rate":100,"display_name":"Markus"},"score":0,"creation_date":1496838378,"post_id":44412145,"comment_id":75824092,"body_markdown":"I think you help the asker a bit more if you explain your piece of code.","body":"I think you help the asker a bit more if you explain your piece of code."},{"owner":{"account_id":10737218,"reputation":151,"user_id":7901526,"display_name":"Fai Hasan"},"score":0,"creation_date":1496880575,"post_id":44412145,"comment_id":75847729,"body_markdown":"replied bro: So you can get getCssValue(&quot;color&quot;); getCssValue(&quot;background-color&quot;); however, that would be in RGB, so you need to convert to hex. with hex code you can then compare the value and print it out so that you can see what you are getting after each getCssValue","body":"replied bro: So you can get getCssValue(&quot;color&quot;); getCssValue(&quot;background-color&quot;); however, that would be in RGB, so you need to convert to hex. with hex code you can then compare the value and print it out so that you can see what you are getting after each getCssValue"},{"owner":{"account_id":17077476,"reputation":175,"user_id":12356755,"display_name":"JeyanthiRanjit"},"score":0,"creation_date":1598879926,"post_id":44412145,"comment_id":112592281,"body_markdown":"Hello @FaiHasan the above code is not working..throwing error in Color.fromString(color).asHex(); i am using latest Java and selenium..how to change this code to work for current version","body":"Hello @FaiHasan the above code is not working..throwing error in Color.fromString(color).asHex(); i am using latest Java and selenium..how to change this code to work for current version"}],"tags":[],"owner":{"account_id":10737218,"reputation":151,"user_id":7901526,"display_name":"Fai Hasan"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1513358364,"creation_date":1496837031,"answer_id":44412145,"question_id":23220575,"body_markdown":"try this, worked perfect for me:\r\n\r\n    import org.openqa.selenium.support.Color;\r\n    \r\n    String color = driver.findElement(By.xpath(&quot;xpath_value&quot;)).getCssValue(&quot;color&quot;);\r\n    System.out.println(color);\r\n    String hex = Color.fromString(color).asHex();\r\n    System.out.println(hex);\r\n\r\nSo you can get color using `getCssValue(&quot;color&quot;);` and  `getCssValue(&quot;background-color&quot;);`.\r\nHowever, that would be in RGB, so you need to convert to hex. With hex code you can then compare the value and print it out so that you can see what you are getting after each `getCssValue`.","title":"How to get element color with Selenium","body":"<p>try this, worked perfect for me:</p>\n\n<pre><code>import org.openqa.selenium.support.Color;\n\nString color = driver.findElement(By.xpath(\"xpath_value\")).getCssValue(\"color\");\nSystem.out.println(color);\nString hex = Color.fromString(color).asHex();\nSystem.out.println(hex);\n</code></pre>\n\n<p>So you can get color using <code>getCssValue(\"color\");</code> and  <code>getCssValue(\"background-color\");</code>.\nHowever, that would be in RGB, so you need to convert to hex. With hex code you can then compare the value and print it out so that you can see what you are getting after each <code>getCssValue</code>.</p>\n"},{"tags":[],"owner":{"account_id":2425876,"reputation":700,"user_id":2117814,"display_name":"Nagarjuna Yalamanchili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580969482,"creation_date":1580969482,"answer_id":60088700,"question_id":23220575,"body_markdown":"**Try below code**\r\n\r\n    public String ColorVerify(String cssSelector, String cssValue)\r\n\t{\r\n\t\t/* This method used to verify color code*/\r\n\t\tWebElement target = driver.findElement(By.cssSelector(cssSelector));\r\n\t\tString colorCode= target.getCssValue(cssValue);\r\n\t\tString hexacolor = Color.fromString(colorCode).asHex();\r\n\t\treturn hexacolor;\t\r\n\t}","title":"How to get element color with Selenium","body":"<p><strong>Try below code</strong></p>\n\n<pre><code>public String ColorVerify(String cssSelector, String cssValue)\n{\n    /* This method used to verify color code*/\n    WebElement target = driver.findElement(By.cssSelector(cssSelector));\n    String colorCode= target.getCssValue(cssValue);\n    String hexacolor = Color.fromString(colorCode).asHex();\n    return hexacolor;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676015039,"creation_date":1676015039,"answer_id":75408195,"question_id":23220575,"body_markdown":"If you want to validate with selenium the color by Name, you can add this class in your utils files and use it in your tests for color validation.\r\n\r\n    import java.awt.*;\r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n    \r\n    public class ColorUtils {\r\n\r\n    private static ArrayList&lt;ColorName&gt; initColorList() {\r\n        ArrayList&lt;ColorName&gt; colorList = new ArrayList&lt;&gt;();\r\n        colorList.add(new ColorName(&quot;AliceBlue&quot;, 0xF0, 0xF8, 0xFF));\r\n        colorList.add(new ColorName(&quot;AntiqueWhite&quot;, 0xFA, 0xEB, 0xD7));\r\n        colorList.add(new ColorName(&quot;Aqua&quot;, 0x00, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;Aquamarine&quot;, 0x7F, 0xFF, 0xD4));\r\n        colorList.add(new ColorName(&quot;Azure&quot;, 0xF0, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;Beige&quot;, 0xF5, 0xF5, 0xDC));\r\n        colorList.add(new ColorName(&quot;Bisque&quot;, 0xFF, 0xE4, 0xC4));\r\n        colorList.add(new ColorName(&quot;Black&quot;, 0x00, 0x00, 0x00));\r\n        colorList.add(new ColorName(&quot;BlanchedAlmond&quot;, 0xFF, 0xEB, 0xCD));\r\n        colorList.add(new ColorName(&quot;Blue&quot;, 0x00, 0x00, 0xFF));\r\n        colorList.add(new ColorName(&quot;BlueViolet&quot;, 0x8A, 0x2B, 0xE2));\r\n        colorList.add(new ColorName(&quot;Brown&quot;, 0xA5, 0x2A, 0x2A));\r\n        colorList.add(new ColorName(&quot;BurlyWood&quot;, 0xDE, 0xB8, 0x87));\r\n        colorList.add(new ColorName(&quot;CadetBlue&quot;, 0x5F, 0x9E, 0xA0));\r\n        colorList.add(new ColorName(&quot;Chartreuse&quot;, 0x7F, 0xFF, 0x00));\r\n        colorList.add(new ColorName(&quot;Chocolate&quot;, 0xD2, 0x69, 0x1E));\r\n        colorList.add(new ColorName(&quot;Coral&quot;, 0xFF, 0x7F, 0x50));\r\n        colorList.add(new ColorName(&quot;CornflowerBlue&quot;, 0x64, 0x95, 0xED));\r\n        colorList.add(new ColorName(&quot;Cornsilk&quot;, 0xFF, 0xF8, 0xDC));\r\n        colorList.add(new ColorName(&quot;Crimson&quot;, 0xDC, 0x14, 0x3C));\r\n        colorList.add(new ColorName(&quot;Cyan&quot;, 0x00, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;DarkBlue&quot;, 0x00, 0x00, 0x8B));\r\n        colorList.add(new ColorName(&quot;DarkCyan&quot;, 0x00, 0x8B, 0x8B));\r\n        colorList.add(new ColorName(&quot;DarkGoldenRod&quot;, 0xB8, 0x86, 0x0B));\r\n        colorList.add(new ColorName(&quot;DarkGray&quot;, 0xA9, 0xA9, 0xA9));\r\n        colorList.add(new ColorName(&quot;DarkGreen&quot;, 0x00, 0x64, 0x00));\r\n        colorList.add(new ColorName(&quot;DarkKhaki&quot;, 0xBD, 0xB7, 0x6B));\r\n        colorList.add(new ColorName(&quot;DarkMagenta&quot;, 0x8B, 0x00, 0x8B));\r\n        colorList.add(new ColorName(&quot;DarkOliveGreen&quot;, 0x55, 0x6B, 0x2F));\r\n        colorList.add(new ColorName(&quot;DarkOrange&quot;, 0xFF, 0x8C, 0x00));\r\n        colorList.add(new ColorName(&quot;DarkOrchid&quot;, 0x99, 0x32, 0xCC));\r\n        colorList.add(new ColorName(&quot;DarkRed&quot;, 0x8B, 0x00, 0x00));\r\n        colorList.add(new ColorName(&quot;DarkSalmon&quot;, 0xE9, 0x96, 0x7A));\r\n        colorList.add(new ColorName(&quot;DarkSeaGreen&quot;, 0x8F, 0xBC, 0x8F));\r\n        colorList.add(new ColorName(&quot;DarkSlateBlue&quot;, 0x48, 0x3D, 0x8B));\r\n        colorList.add(new ColorName(&quot;DarkSlateGray&quot;, 0x2F, 0x4F, 0x4F));\r\n        colorList.add(new ColorName(&quot;DarkTurquoise&quot;, 0x00, 0xCE, 0xD1));\r\n        colorList.add(new ColorName(&quot;DarkViolet&quot;, 0x94, 0x00, 0xD3));\r\n        colorList.add(new ColorName(&quot;DeepPink&quot;, 0xFF, 0x14, 0x93));\r\n        colorList.add(new ColorName(&quot;DeepSkyBlue&quot;, 0x00, 0xBF, 0xFF));\r\n        colorList.add(new ColorName(&quot;DimGray&quot;, 0x69, 0x69, 0x69));\r\n        colorList.add(new ColorName(&quot;DodgerBlue&quot;, 0x1E, 0x90, 0xFF));\r\n        colorList.add(new ColorName(&quot;FireBrick&quot;, 0xB2, 0x22, 0x22));\r\n        colorList.add(new ColorName(&quot;FloralWhite&quot;, 0xFF, 0xFA, 0xF0));\r\n        colorList.add(new ColorName(&quot;ForestGreen&quot;, 0x22, 0x8B, 0x22));\r\n        colorList.add(new ColorName(&quot;Fuchsia&quot;, 0xFF, 0x00, 0xFF));\r\n        colorList.add(new ColorName(&quot;Gainsboro&quot;, 0xDC, 0xDC, 0xDC));\r\n        colorList.add(new ColorName(&quot;GhostWhite&quot;, 0xF8, 0xF8, 0xFF));\r\n        colorList.add(new ColorName(&quot;Gold&quot;, 0xFF, 0xD7, 0x00));\r\n        colorList.add(new ColorName(&quot;GoldenRod&quot;, 0xDA, 0xA5, 0x20));\r\n        colorList.add(new ColorName(&quot;Gray&quot;, 0x80, 0x80, 0x80));\r\n        colorList.add(new ColorName(&quot;Green&quot;, 0x00, 0x80, 0x00));\r\n        colorList.add(new ColorName(&quot;GreenYellow&quot;, 0xAD, 0xFF, 0x2F));\r\n        colorList.add(new ColorName(&quot;HoneyDew&quot;, 0xF0, 0xFF, 0xF0));\r\n        colorList.add(new ColorName(&quot;HotPink&quot;, 0xFF, 0x69, 0xB4));\r\n        colorList.add(new ColorName(&quot;IndianRed&quot;, 0xCD, 0x5C, 0x5C));\r\n        colorList.add(new ColorName(&quot;Indigo&quot;, 0x4B, 0x00, 0x82));\r\n        colorList.add(new ColorName(&quot;Ivory&quot;, 0xFF, 0xFF, 0xF0));\r\n        colorList.add(new ColorName(&quot;Khaki&quot;, 0xF0, 0xE6, 0x8C));\r\n        colorList.add(new ColorName(&quot;Lavender&quot;, 0xE6, 0xE6, 0xFA));\r\n        colorList.add(new ColorName(&quot;LavenderBlush&quot;, 0xFF, 0xF0, 0xF5));\r\n        colorList.add(new ColorName(&quot;LawnGreen&quot;, 0x7C, 0xFC, 0x00));\r\n        colorList.add(new ColorName(&quot;LemonChiffon&quot;, 0xFF, 0xFA, 0xCD));\r\n        colorList.add(new ColorName(&quot;LightBlue&quot;, 0xAD, 0xD8, 0xE6));\r\n        colorList.add(new ColorName(&quot;LightCoral&quot;, 0xF0, 0x80, 0x80));\r\n        colorList.add(new ColorName(&quot;LightCyan&quot;, 0xE0, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;LightGoldenRodYellow&quot;, 0xFA, 0xFA, 0xD2));\r\n        colorList.add(new ColorName(&quot;LightGray&quot;, 0xD3, 0xD3, 0xD3));\r\n        colorList.add(new ColorName(&quot;LightGreen&quot;, 0x90, 0xEE, 0x90));\r\n        colorList.add(new ColorName(&quot;LightPink&quot;, 0xFF, 0xB6, 0xC1));\r\n        colorList.add(new ColorName(&quot;LightSalmon&quot;, 0xFF, 0xA0, 0x7A));\r\n        colorList.add(new ColorName(&quot;LightSeaGreen&quot;, 0x20, 0xB2, 0xAA));\r\n        colorList.add(new ColorName(&quot;LightSkyBlue&quot;, 0x87, 0xCE, 0xFA));\r\n        colorList.add(new ColorName(&quot;LightSlateGray&quot;, 0x77, 0x88, 0x99));\r\n        colorList.add(new ColorName(&quot;LightSteelBlue&quot;, 0xB0, 0xC4, 0xDE));\r\n        colorList.add(new ColorName(&quot;LightYellow&quot;, 0xFF, 0xFF, 0xE0));\r\n        colorList.add(new ColorName(&quot;Lime&quot;, 0x00, 0xFF, 0x00));\r\n        colorList.add(new ColorName(&quot;LimeGreen&quot;, 0x32, 0xCD, 0x32));\r\n        colorList.add(new ColorName(&quot;Linen&quot;, 0xFA, 0xF0, 0xE6));\r\n        colorList.add(new ColorName(&quot;Magenta&quot;, 0xFF, 0x00, 0xFF));\r\n        colorList.add(new ColorName(&quot;Maroon&quot;, 0x80, 0x00, 0x00));\r\n        colorList.add(new ColorName(&quot;MediumAquaMarine&quot;, 0x66, 0xCD, 0xAA));\r\n        colorList.add(new ColorName(&quot;MediumBlue&quot;, 0x00, 0x00, 0xCD));\r\n        colorList.add(new ColorName(&quot;MediumOrchid&quot;, 0xBA, 0x55, 0xD3));\r\n        colorList.add(new ColorName(&quot;MediumPurple&quot;, 0x93, 0x70, 0xDB));\r\n        colorList.add(new ColorName(&quot;MediumSeaGreen&quot;, 0x3C, 0xB3, 0x71));\r\n        colorList.add(new ColorName(&quot;MediumSlateBlue&quot;, 0x7B, 0x68, 0xEE));\r\n        colorList.add(new ColorName(&quot;MediumSpringGreen&quot;, 0x00, 0xFA, 0x9A));\r\n        colorList.add(new ColorName(&quot;MediumTurquoise&quot;, 0x48, 0xD1, 0xCC));\r\n        colorList.add(new ColorName(&quot;MediumVioletRed&quot;, 0xC7, 0x15, 0x85));\r\n        colorList.add(new ColorName(&quot;MidnightBlue&quot;, 0x19, 0x19, 0x70));\r\n        colorList.add(new ColorName(&quot;MintCream&quot;, 0xF5, 0xFF, 0xFA));\r\n        colorList.add(new ColorName(&quot;MistyRose&quot;, 0xFF, 0xE4, 0xE1));\r\n        colorList.add(new ColorName(&quot;Moccasin&quot;, 0xFF, 0xE4, 0xB5));\r\n        colorList.add(new ColorName(&quot;NavajoWhite&quot;, 0xFF, 0xDE, 0xAD));\r\n        colorList.add(new ColorName(&quot;Navy&quot;, 0x00, 0x00, 0x80));\r\n        colorList.add(new ColorName(&quot;OldLace&quot;, 0xFD, 0xF5, 0xE6));\r\n        colorList.add(new ColorName(&quot;Olive&quot;, 0x80, 0x80, 0x00));\r\n        colorList.add(new ColorName(&quot;OliveDrab&quot;, 0x6B, 0x8E, 0x23));\r\n        colorList.add(new ColorName(&quot;Orange&quot;, 0xFF, 0xA5, 0x00));\r\n        colorList.add(new ColorName(&quot;OrangeRed&quot;, 0xFF, 0x45, 0x00));\r\n        colorList.add(new ColorName(&quot;Orchid&quot;, 0xDA, 0x70, 0xD6));\r\n        colorList.add(new ColorName(&quot;PaleGoldenRod&quot;, 0xEE, 0xE8, 0xAA));\r\n        colorList.add(new ColorName(&quot;PaleGreen&quot;, 0x98, 0xFB, 0x98));\r\n        colorList.add(new ColorName(&quot;PaleTurquoise&quot;, 0xAF, 0xEE, 0xEE));\r\n        colorList.add(new ColorName(&quot;PaleVioletRed&quot;, 0xDB, 0x70, 0x93));\r\n        colorList.add(new ColorName(&quot;PapayaWhip&quot;, 0xFF, 0xEF, 0xD5));\r\n        colorList.add(new ColorName(&quot;PeachPuff&quot;, 0xFF, 0xDA, 0xB9));\r\n        colorList.add(new ColorName(&quot;Peru&quot;, 0xCD, 0x85, 0x3F));\r\n        colorList.add(new ColorName(&quot;Pink&quot;, 0xFF, 0xC0, 0xCB));\r\n        colorList.add(new ColorName(&quot;Plum&quot;, 0xDD, 0xA0, 0xDD));\r\n        colorList.add(new ColorName(&quot;PowderBlue&quot;, 0xB0, 0xE0, 0xE6));\r\n        colorList.add(new ColorName(&quot;Purple&quot;, 0x80, 0x00, 0x80));\r\n        colorList.add(new ColorName(&quot;Red&quot;, 0xFF, 0x00, 0x00));\r\n        colorList.add(new ColorName(&quot;RosyBrown&quot;, 0xBC, 0x8F, 0x8F));\r\n        colorList.add(new ColorName(&quot;RoyalBlue&quot;, 0x41, 0x69, 0xE1));\r\n        colorList.add(new ColorName(&quot;SaddleBrown&quot;, 0x8B, 0x45, 0x13));\r\n        colorList.add(new ColorName(&quot;Salmon&quot;, 0xFA, 0x80, 0x72));\r\n        colorList.add(new ColorName(&quot;SandyBrown&quot;, 0xF4, 0xA4, 0x60));\r\n        colorList.add(new ColorName(&quot;SeaGreen&quot;, 0x2E, 0x8B, 0x57));\r\n        colorList.add(new ColorName(&quot;SeaShell&quot;, 0xFF, 0xF5, 0xEE));\r\n        colorList.add(new ColorName(&quot;Sienna&quot;, 0xA0, 0x52, 0x2D));\r\n        colorList.add(new ColorName(&quot;Silver&quot;, 0xC0, 0xC0, 0xC0));\r\n        colorList.add(new ColorName(&quot;SkyBlue&quot;, 0x87, 0xCE, 0xEB));\r\n        colorList.add(new ColorName(&quot;SlateBlue&quot;, 0x6A, 0x5A, 0xCD));\r\n        colorList.add(new ColorName(&quot;SlateGray&quot;, 0x70, 0x80, 0x90));\r\n        colorList.add(new ColorName(&quot;Snow&quot;, 0xFF, 0xFA, 0xFA));\r\n        colorList.add(new ColorName(&quot;SpringGreen&quot;, 0x00, 0xFF, 0x7F));\r\n        colorList.add(new ColorName(&quot;SteelBlue&quot;, 0x46, 0x82, 0xB4));\r\n        colorList.add(new ColorName(&quot;Tan&quot;, 0xD2, 0xB4, 0x8C));\r\n        colorList.add(new ColorName(&quot;Teal&quot;, 0x00, 0x80, 0x80));\r\n        colorList.add(new ColorName(&quot;Thistle&quot;, 0xD8, 0xBF, 0xD8));\r\n        colorList.add(new ColorName(&quot;Tomato&quot;, 0xFF, 0x63, 0x47));\r\n        colorList.add(new ColorName(&quot;Turquoise&quot;, 0x40, 0xE0, 0xD0));\r\n        colorList.add(new ColorName(&quot;Violet&quot;, 0xEE, 0x82, 0xEE));\r\n        colorList.add(new ColorName(&quot;Wheat&quot;, 0xF5, 0xDE, 0xB3));\r\n        colorList.add(new ColorName(&quot;White&quot;, 0xFF, 0xFF, 0xFF));\r\n        colorList.add(new ColorName(&quot;WhiteSmoke&quot;, 0xF5, 0xF5, 0xF5));\r\n        colorList.add(new ColorName(&quot;Yellow&quot;, 0xFF, 0xFF, 0x00));\r\n        colorList.add(new ColorName(&quot;YellowGreen&quot;, 0x9A, 0xCD, 0x32));\r\n        return colorList;\r\n    }\r\n\r\n    public static String getColorNameFromRgb(int r, int g, int b) {\r\n        ArrayList&lt;ColorName&gt; colorList = initColorList();\r\n        ColorName closestMatch = null;\r\n        int minMSE = Integer.MAX_VALUE;\r\n        int mse;\r\n        for (ColorName c : colorList) {\r\n            mse = c.computeMSE(r, g, b);\r\n            if (mse &lt; minMSE) {\r\n                minMSE = mse;\r\n                closestMatch = c;\r\n            }\r\n        }\r\n\r\n        if (closestMatch != null) {\r\n            return closestMatch.getName();\r\n        } else {\r\n            return &quot;No matched color name.&quot;;\r\n        }\r\n    }\r\n\r\n    public static String getColorNameFromColor(Color color) {\r\n        return getColorNameFromRgb(color.getRed(), color.getGreen(),\r\n                color.getBlue());\r\n    }\r\n\r\n    public static Color stringToColor(final String value) {\r\n        if (value == null) {\r\n            return Color.black;\r\n        }\r\n        try {\r\n            return Color.decode(value);\r\n        } catch (NumberFormatException nfe) {\r\n            try {\r\n                final Field f = Color.class.getField(value);\r\n                return (Color) f.get(null);\r\n            } catch (Exception ce) {\r\n                return Color.black;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class ColorName {\r\n        public int r, g, b;\r\n        public String name;\r\n\r\n    public ColorName(String name, int r, int g, int b) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.name = name;\r\n    }\r\n\r\n    public int computeMSE(int pixR, int pixG, int pixB) {\r\n        return ((pixR - r) * (pixR - r) + (pixG - g) * (pixG - g) + (pixB - b)\r\n                * (pixB - b)) / 3;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n}`\r\n\r\nAn example of the usage of this class.\r\n\r\n    public String getElementColor(WebElement element) {\r\n    \r\n        String color = element.getCssValue(&quot;color&quot;);\r\n        String hex = Color.fromString(color).asHex();\r\n        java.awt.Color c = stringToColor(hex);\r\n        return getColorNameFromColor(c);\r\n    }\r\n\r\n","title":"How to get element color with Selenium","body":"<p>If you want to validate with selenium the color by Name, you can add this class in your utils files and use it in your tests for color validation.</p>\n<pre><code>import java.awt.*;\nimport java.lang.reflect.Field;\nimport java.util.ArrayList;\n\npublic class ColorUtils {\n\nprivate static ArrayList&lt;ColorName&gt; initColorList() {\n    ArrayList&lt;ColorName&gt; colorList = new ArrayList&lt;&gt;();\n    colorList.add(new ColorName(&quot;AliceBlue&quot;, 0xF0, 0xF8, 0xFF));\n    colorList.add(new ColorName(&quot;AntiqueWhite&quot;, 0xFA, 0xEB, 0xD7));\n    colorList.add(new ColorName(&quot;Aqua&quot;, 0x00, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;Aquamarine&quot;, 0x7F, 0xFF, 0xD4));\n    colorList.add(new ColorName(&quot;Azure&quot;, 0xF0, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;Beige&quot;, 0xF5, 0xF5, 0xDC));\n    colorList.add(new ColorName(&quot;Bisque&quot;, 0xFF, 0xE4, 0xC4));\n    colorList.add(new ColorName(&quot;Black&quot;, 0x00, 0x00, 0x00));\n    colorList.add(new ColorName(&quot;BlanchedAlmond&quot;, 0xFF, 0xEB, 0xCD));\n    colorList.add(new ColorName(&quot;Blue&quot;, 0x00, 0x00, 0xFF));\n    colorList.add(new ColorName(&quot;BlueViolet&quot;, 0x8A, 0x2B, 0xE2));\n    colorList.add(new ColorName(&quot;Brown&quot;, 0xA5, 0x2A, 0x2A));\n    colorList.add(new ColorName(&quot;BurlyWood&quot;, 0xDE, 0xB8, 0x87));\n    colorList.add(new ColorName(&quot;CadetBlue&quot;, 0x5F, 0x9E, 0xA0));\n    colorList.add(new ColorName(&quot;Chartreuse&quot;, 0x7F, 0xFF, 0x00));\n    colorList.add(new ColorName(&quot;Chocolate&quot;, 0xD2, 0x69, 0x1E));\n    colorList.add(new ColorName(&quot;Coral&quot;, 0xFF, 0x7F, 0x50));\n    colorList.add(new ColorName(&quot;CornflowerBlue&quot;, 0x64, 0x95, 0xED));\n    colorList.add(new ColorName(&quot;Cornsilk&quot;, 0xFF, 0xF8, 0xDC));\n    colorList.add(new ColorName(&quot;Crimson&quot;, 0xDC, 0x14, 0x3C));\n    colorList.add(new ColorName(&quot;Cyan&quot;, 0x00, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;DarkBlue&quot;, 0x00, 0x00, 0x8B));\n    colorList.add(new ColorName(&quot;DarkCyan&quot;, 0x00, 0x8B, 0x8B));\n    colorList.add(new ColorName(&quot;DarkGoldenRod&quot;, 0xB8, 0x86, 0x0B));\n    colorList.add(new ColorName(&quot;DarkGray&quot;, 0xA9, 0xA9, 0xA9));\n    colorList.add(new ColorName(&quot;DarkGreen&quot;, 0x00, 0x64, 0x00));\n    colorList.add(new ColorName(&quot;DarkKhaki&quot;, 0xBD, 0xB7, 0x6B));\n    colorList.add(new ColorName(&quot;DarkMagenta&quot;, 0x8B, 0x00, 0x8B));\n    colorList.add(new ColorName(&quot;DarkOliveGreen&quot;, 0x55, 0x6B, 0x2F));\n    colorList.add(new ColorName(&quot;DarkOrange&quot;, 0xFF, 0x8C, 0x00));\n    colorList.add(new ColorName(&quot;DarkOrchid&quot;, 0x99, 0x32, 0xCC));\n    colorList.add(new ColorName(&quot;DarkRed&quot;, 0x8B, 0x00, 0x00));\n    colorList.add(new ColorName(&quot;DarkSalmon&quot;, 0xE9, 0x96, 0x7A));\n    colorList.add(new ColorName(&quot;DarkSeaGreen&quot;, 0x8F, 0xBC, 0x8F));\n    colorList.add(new ColorName(&quot;DarkSlateBlue&quot;, 0x48, 0x3D, 0x8B));\n    colorList.add(new ColorName(&quot;DarkSlateGray&quot;, 0x2F, 0x4F, 0x4F));\n    colorList.add(new ColorName(&quot;DarkTurquoise&quot;, 0x00, 0xCE, 0xD1));\n    colorList.add(new ColorName(&quot;DarkViolet&quot;, 0x94, 0x00, 0xD3));\n    colorList.add(new ColorName(&quot;DeepPink&quot;, 0xFF, 0x14, 0x93));\n    colorList.add(new ColorName(&quot;DeepSkyBlue&quot;, 0x00, 0xBF, 0xFF));\n    colorList.add(new ColorName(&quot;DimGray&quot;, 0x69, 0x69, 0x69));\n    colorList.add(new ColorName(&quot;DodgerBlue&quot;, 0x1E, 0x90, 0xFF));\n    colorList.add(new ColorName(&quot;FireBrick&quot;, 0xB2, 0x22, 0x22));\n    colorList.add(new ColorName(&quot;FloralWhite&quot;, 0xFF, 0xFA, 0xF0));\n    colorList.add(new ColorName(&quot;ForestGreen&quot;, 0x22, 0x8B, 0x22));\n    colorList.add(new ColorName(&quot;Fuchsia&quot;, 0xFF, 0x00, 0xFF));\n    colorList.add(new ColorName(&quot;Gainsboro&quot;, 0xDC, 0xDC, 0xDC));\n    colorList.add(new ColorName(&quot;GhostWhite&quot;, 0xF8, 0xF8, 0xFF));\n    colorList.add(new ColorName(&quot;Gold&quot;, 0xFF, 0xD7, 0x00));\n    colorList.add(new ColorName(&quot;GoldenRod&quot;, 0xDA, 0xA5, 0x20));\n    colorList.add(new ColorName(&quot;Gray&quot;, 0x80, 0x80, 0x80));\n    colorList.add(new ColorName(&quot;Green&quot;, 0x00, 0x80, 0x00));\n    colorList.add(new ColorName(&quot;GreenYellow&quot;, 0xAD, 0xFF, 0x2F));\n    colorList.add(new ColorName(&quot;HoneyDew&quot;, 0xF0, 0xFF, 0xF0));\n    colorList.add(new ColorName(&quot;HotPink&quot;, 0xFF, 0x69, 0xB4));\n    colorList.add(new ColorName(&quot;IndianRed&quot;, 0xCD, 0x5C, 0x5C));\n    colorList.add(new ColorName(&quot;Indigo&quot;, 0x4B, 0x00, 0x82));\n    colorList.add(new ColorName(&quot;Ivory&quot;, 0xFF, 0xFF, 0xF0));\n    colorList.add(new ColorName(&quot;Khaki&quot;, 0xF0, 0xE6, 0x8C));\n    colorList.add(new ColorName(&quot;Lavender&quot;, 0xE6, 0xE6, 0xFA));\n    colorList.add(new ColorName(&quot;LavenderBlush&quot;, 0xFF, 0xF0, 0xF5));\n    colorList.add(new ColorName(&quot;LawnGreen&quot;, 0x7C, 0xFC, 0x00));\n    colorList.add(new ColorName(&quot;LemonChiffon&quot;, 0xFF, 0xFA, 0xCD));\n    colorList.add(new ColorName(&quot;LightBlue&quot;, 0xAD, 0xD8, 0xE6));\n    colorList.add(new ColorName(&quot;LightCoral&quot;, 0xF0, 0x80, 0x80));\n    colorList.add(new ColorName(&quot;LightCyan&quot;, 0xE0, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;LightGoldenRodYellow&quot;, 0xFA, 0xFA, 0xD2));\n    colorList.add(new ColorName(&quot;LightGray&quot;, 0xD3, 0xD3, 0xD3));\n    colorList.add(new ColorName(&quot;LightGreen&quot;, 0x90, 0xEE, 0x90));\n    colorList.add(new ColorName(&quot;LightPink&quot;, 0xFF, 0xB6, 0xC1));\n    colorList.add(new ColorName(&quot;LightSalmon&quot;, 0xFF, 0xA0, 0x7A));\n    colorList.add(new ColorName(&quot;LightSeaGreen&quot;, 0x20, 0xB2, 0xAA));\n    colorList.add(new ColorName(&quot;LightSkyBlue&quot;, 0x87, 0xCE, 0xFA));\n    colorList.add(new ColorName(&quot;LightSlateGray&quot;, 0x77, 0x88, 0x99));\n    colorList.add(new ColorName(&quot;LightSteelBlue&quot;, 0xB0, 0xC4, 0xDE));\n    colorList.add(new ColorName(&quot;LightYellow&quot;, 0xFF, 0xFF, 0xE0));\n    colorList.add(new ColorName(&quot;Lime&quot;, 0x00, 0xFF, 0x00));\n    colorList.add(new ColorName(&quot;LimeGreen&quot;, 0x32, 0xCD, 0x32));\n    colorList.add(new ColorName(&quot;Linen&quot;, 0xFA, 0xF0, 0xE6));\n    colorList.add(new ColorName(&quot;Magenta&quot;, 0xFF, 0x00, 0xFF));\n    colorList.add(new ColorName(&quot;Maroon&quot;, 0x80, 0x00, 0x00));\n    colorList.add(new ColorName(&quot;MediumAquaMarine&quot;, 0x66, 0xCD, 0xAA));\n    colorList.add(new ColorName(&quot;MediumBlue&quot;, 0x00, 0x00, 0xCD));\n    colorList.add(new ColorName(&quot;MediumOrchid&quot;, 0xBA, 0x55, 0xD3));\n    colorList.add(new ColorName(&quot;MediumPurple&quot;, 0x93, 0x70, 0xDB));\n    colorList.add(new ColorName(&quot;MediumSeaGreen&quot;, 0x3C, 0xB3, 0x71));\n    colorList.add(new ColorName(&quot;MediumSlateBlue&quot;, 0x7B, 0x68, 0xEE));\n    colorList.add(new ColorName(&quot;MediumSpringGreen&quot;, 0x00, 0xFA, 0x9A));\n    colorList.add(new ColorName(&quot;MediumTurquoise&quot;, 0x48, 0xD1, 0xCC));\n    colorList.add(new ColorName(&quot;MediumVioletRed&quot;, 0xC7, 0x15, 0x85));\n    colorList.add(new ColorName(&quot;MidnightBlue&quot;, 0x19, 0x19, 0x70));\n    colorList.add(new ColorName(&quot;MintCream&quot;, 0xF5, 0xFF, 0xFA));\n    colorList.add(new ColorName(&quot;MistyRose&quot;, 0xFF, 0xE4, 0xE1));\n    colorList.add(new ColorName(&quot;Moccasin&quot;, 0xFF, 0xE4, 0xB5));\n    colorList.add(new ColorName(&quot;NavajoWhite&quot;, 0xFF, 0xDE, 0xAD));\n    colorList.add(new ColorName(&quot;Navy&quot;, 0x00, 0x00, 0x80));\n    colorList.add(new ColorName(&quot;OldLace&quot;, 0xFD, 0xF5, 0xE6));\n    colorList.add(new ColorName(&quot;Olive&quot;, 0x80, 0x80, 0x00));\n    colorList.add(new ColorName(&quot;OliveDrab&quot;, 0x6B, 0x8E, 0x23));\n    colorList.add(new ColorName(&quot;Orange&quot;, 0xFF, 0xA5, 0x00));\n    colorList.add(new ColorName(&quot;OrangeRed&quot;, 0xFF, 0x45, 0x00));\n    colorList.add(new ColorName(&quot;Orchid&quot;, 0xDA, 0x70, 0xD6));\n    colorList.add(new ColorName(&quot;PaleGoldenRod&quot;, 0xEE, 0xE8, 0xAA));\n    colorList.add(new ColorName(&quot;PaleGreen&quot;, 0x98, 0xFB, 0x98));\n    colorList.add(new ColorName(&quot;PaleTurquoise&quot;, 0xAF, 0xEE, 0xEE));\n    colorList.add(new ColorName(&quot;PaleVioletRed&quot;, 0xDB, 0x70, 0x93));\n    colorList.add(new ColorName(&quot;PapayaWhip&quot;, 0xFF, 0xEF, 0xD5));\n    colorList.add(new ColorName(&quot;PeachPuff&quot;, 0xFF, 0xDA, 0xB9));\n    colorList.add(new ColorName(&quot;Peru&quot;, 0xCD, 0x85, 0x3F));\n    colorList.add(new ColorName(&quot;Pink&quot;, 0xFF, 0xC0, 0xCB));\n    colorList.add(new ColorName(&quot;Plum&quot;, 0xDD, 0xA0, 0xDD));\n    colorList.add(new ColorName(&quot;PowderBlue&quot;, 0xB0, 0xE0, 0xE6));\n    colorList.add(new ColorName(&quot;Purple&quot;, 0x80, 0x00, 0x80));\n    colorList.add(new ColorName(&quot;Red&quot;, 0xFF, 0x00, 0x00));\n    colorList.add(new ColorName(&quot;RosyBrown&quot;, 0xBC, 0x8F, 0x8F));\n    colorList.add(new ColorName(&quot;RoyalBlue&quot;, 0x41, 0x69, 0xE1));\n    colorList.add(new ColorName(&quot;SaddleBrown&quot;, 0x8B, 0x45, 0x13));\n    colorList.add(new ColorName(&quot;Salmon&quot;, 0xFA, 0x80, 0x72));\n    colorList.add(new ColorName(&quot;SandyBrown&quot;, 0xF4, 0xA4, 0x60));\n    colorList.add(new ColorName(&quot;SeaGreen&quot;, 0x2E, 0x8B, 0x57));\n    colorList.add(new ColorName(&quot;SeaShell&quot;, 0xFF, 0xF5, 0xEE));\n    colorList.add(new ColorName(&quot;Sienna&quot;, 0xA0, 0x52, 0x2D));\n    colorList.add(new ColorName(&quot;Silver&quot;, 0xC0, 0xC0, 0xC0));\n    colorList.add(new ColorName(&quot;SkyBlue&quot;, 0x87, 0xCE, 0xEB));\n    colorList.add(new ColorName(&quot;SlateBlue&quot;, 0x6A, 0x5A, 0xCD));\n    colorList.add(new ColorName(&quot;SlateGray&quot;, 0x70, 0x80, 0x90));\n    colorList.add(new ColorName(&quot;Snow&quot;, 0xFF, 0xFA, 0xFA));\n    colorList.add(new ColorName(&quot;SpringGreen&quot;, 0x00, 0xFF, 0x7F));\n    colorList.add(new ColorName(&quot;SteelBlue&quot;, 0x46, 0x82, 0xB4));\n    colorList.add(new ColorName(&quot;Tan&quot;, 0xD2, 0xB4, 0x8C));\n    colorList.add(new ColorName(&quot;Teal&quot;, 0x00, 0x80, 0x80));\n    colorList.add(new ColorName(&quot;Thistle&quot;, 0xD8, 0xBF, 0xD8));\n    colorList.add(new ColorName(&quot;Tomato&quot;, 0xFF, 0x63, 0x47));\n    colorList.add(new ColorName(&quot;Turquoise&quot;, 0x40, 0xE0, 0xD0));\n    colorList.add(new ColorName(&quot;Violet&quot;, 0xEE, 0x82, 0xEE));\n    colorList.add(new ColorName(&quot;Wheat&quot;, 0xF5, 0xDE, 0xB3));\n    colorList.add(new ColorName(&quot;White&quot;, 0xFF, 0xFF, 0xFF));\n    colorList.add(new ColorName(&quot;WhiteSmoke&quot;, 0xF5, 0xF5, 0xF5));\n    colorList.add(new ColorName(&quot;Yellow&quot;, 0xFF, 0xFF, 0x00));\n    colorList.add(new ColorName(&quot;YellowGreen&quot;, 0x9A, 0xCD, 0x32));\n    return colorList;\n}\n\npublic static String getColorNameFromRgb(int r, int g, int b) {\n    ArrayList&lt;ColorName&gt; colorList = initColorList();\n    ColorName closestMatch = null;\n    int minMSE = Integer.MAX_VALUE;\n    int mse;\n    for (ColorName c : colorList) {\n        mse = c.computeMSE(r, g, b);\n        if (mse &lt; minMSE) {\n            minMSE = mse;\n            closestMatch = c;\n        }\n    }\n\n    if (closestMatch != null) {\n        return closestMatch.getName();\n    } else {\n        return &quot;No matched color name.&quot;;\n    }\n}\n\npublic static String getColorNameFromColor(Color color) {\n    return getColorNameFromRgb(color.getRed(), color.getGreen(),\n            color.getBlue());\n}\n\npublic static Color stringToColor(final String value) {\n    if (value == null) {\n        return Color.black;\n    }\n    try {\n        return Color.decode(value);\n    } catch (NumberFormatException nfe) {\n        try {\n            final Field f = Color.class.getField(value);\n            return (Color) f.get(null);\n        } catch (Exception ce) {\n            return Color.black;\n        }\n    }\n}\n\npublic static class ColorName {\n    public int r, g, b;\n    public String name;\n\npublic ColorName(String name, int r, int g, int b) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.name = name;\n}\n\npublic int computeMSE(int pixR, int pixG, int pixB) {\n    return ((pixR - r) * (pixR - r) + (pixG - g) * (pixG - g) + (pixB - b)\n            * (pixB - b)) / 3;\n}\n\npublic String getName() {\n    return name;\n}\n</code></pre>\n<p>}\n}`</p>\n<p>An example of the usage of this class.</p>\n<pre><code>public String getElementColor(WebElement element) {\n\n    String color = element.getCssValue(&quot;color&quot;);\n    String hex = Color.fromString(color).asHex();\n    java.awt.Color c = stringToColor(hex);\n    return getColorNameFromColor(c);\n}\n</code></pre>\n"}],"owner":{"account_id":443730,"reputation":307,"user_id":835132,"accept_rate":0,"display_name":"user835132"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117240,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1676015039,"creation_date":1398172086,"question_id":23220575,"body_markdown":"I want to check the color of an element in an html page. \r\nThe color of this element is set with a javascript, look at the image [![enter image description here][1]][1]\r\n\r\nThe element with div-id &quot;Ab_banco_M1T1_switch&quot; can assume 4 values, of course only one of them is displayed according to the value of &quot;val&quot; variable. \r\nThe val variable is set from the server somehow, it seemes the script polls the server every X-seconds and update the value of val. \r\n\r\nI&#39;ve tried to get the color of the element as follow: \r\n\r\n\r\n    WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(By.id(&quot;Ab_banco_M1T1_switch&quot;)));\r\n\r\n    element.getAttribute(&quot;background&quot;)\r\n    element.getAttribute(&quot;style&quot;)\r\n    element.getAttribute(&quot;background-color&quot;) \r\n    element.getCssValue(&quot;style&quot;)\r\n    element.getCssValue(&quot;color&quot;)\r\n\r\n\r\nwith no success, they return &quot;null&quot; or the backgorund-color of the page.\r\n\r\n\r\nThe only way to get the color is to use the Xpath\r\n    `/html/body/div/div[2]/div[2]/div[2]/div/div/div/div[3]/div (for red, if I want the green \r\n   /html/body/div/div[2]/div[2]/div[2]/div/div/div/div[2]/div)`\r\n\r\nBut it is not what I want. Indeed, the Xpath localizes the element, but it doesn&#39;t tell me if the color displayed is red or another one, I can know it only by looking at the web page. \r\n\r\n\r\nIn other words, I would like to access the  current displayed color as Firebug does, look at the panel on right side, you can see that `element.style -&gt;background-Color = red`. \r\n\r\n\r\nWhen I invoke element,`getCssCValue(&quot;background-color&quot;)` I get the backgorund-color of `#body_right_div`. \r\n\r\nThank you in advance. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KbQOB.png","title":"How to get element color with Selenium","body":"<p>I want to check the color of an element in an html page. \nThe color of this element is set with a javascript, look at the image <a href=\"https://i.stack.imgur.com/KbQOB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KbQOB.png\" alt=\"enter image description here\"></a></p>\n\n<p>The element with div-id \"Ab_banco_M1T1_switch\" can assume 4 values, of course only one of them is displayed according to the value of \"val\" variable. \nThe val variable is set from the server somehow, it seemes the script polls the server every X-seconds and update the value of val. </p>\n\n<p>I've tried to get the color of the element as follow: </p>\n\n<pre><code>WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(By.id(\"Ab_banco_M1T1_switch\")));\n\nelement.getAttribute(\"background\")\nelement.getAttribute(\"style\")\nelement.getAttribute(\"background-color\") \nelement.getCssValue(\"style\")\nelement.getCssValue(\"color\")\n</code></pre>\n\n<p>with no success, they return \"null\" or the backgorund-color of the page.</p>\n\n<p>The only way to get the color is to use the Xpath\n    <code>/html/body/div/div[2]/div[2]/div[2]/div/div/div/div[3]/div (for red, if I want the green \n   /html/body/div/div[2]/div[2]/div[2]/div/div/div/div[2]/div)</code></p>\n\n<p>But it is not what I want. Indeed, the Xpath localizes the element, but it doesn't tell me if the color displayed is red or another one, I can know it only by looking at the web page. </p>\n\n<p>In other words, I would like to access the  current displayed color as Firebug does, look at the panel on right side, you can see that <code>element.style -&gt;background-Color = red</code>. </p>\n\n<p>When I invoke element,<code>getCssCValue(\"background-color\")</code> I get the backgorund-color of <code>#body_right_div</code>. </p>\n\n<p>Thank you in advance. </p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645974044,"creation_date":1645974044,"answer_id":71285831,"question_id":71285670,"body_markdown":"If the key actually has data, you shouldn&#39;t be using `Serdes.Void()` or `KStream&lt;Void,`","title":"Kafka Streams: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer","body":"<p>If the key actually has data, you shouldn't be using <code>Serdes.Void()</code> or <code>KStream&lt;Void,</code></p>\n"},{"tags":[],"owner":{"account_id":20110160,"reputation":31,"user_id":14746718,"display_name":"Akshay Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676014910,"creation_date":1675618559,"answer_id":75354221,"question_id":71285670,"body_markdown":"Changing Void to String will make the stream work in the example\r\n\r\n    KStream&lt;String, String&gt; stream = builder.stream(&quot;users&quot;);\r\n    \r\n    config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());","title":"Kafka Streams: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer","body":"<p>Changing Void to String will make the stream work in the example</p>\n<pre><code>KStream&lt;String, String&gt; stream = builder.stream(&quot;users&quot;);\n\nconfig.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n</code></pre>\n"}],"owner":{"account_id":244890,"reputation":14524,"user_id":518012,"accept_rate":66,"display_name":"Eugene Goldberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71285831,"answer_count":2,"score":0,"last_activity_date":1676014910,"creation_date":1645972883,"question_id":71285670,"body_markdown":"I am working through my first sample of Kafka Streams:\r\n\r\n    package com.example;\r\n    \r\n    import java.util.Properties;\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.Serdes;\r\n    import org.apache.kafka.streams.KafkaStreams;\r\n    import org.apache.kafka.streams.StreamsBuilder;\r\n    import org.apache.kafka.streams.StreamsConfig;\r\n    import org.apache.kafka.streams.kstream.KStream;\r\n    \r\n    class DslExample {\r\n    \r\n      public static void main(String[] args) {\r\n        // the builder is used to construct the topology\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n        // read from the source topic, &quot;users&quot;\r\n        KStream&lt;Void, String&gt; stream = builder.stream(&quot;users&quot;);\r\n    \r\n        // for each record that appears in the source topic,\r\n        // print the value\r\n        stream.foreach(\r\n            (key, value) -&gt; {\r\n              System.out.println(&quot;(DSL) Hello, &quot; + value);\r\n            });\r\n    \r\n        // you can also print using the `print` operator\r\n        // stream.print(Printed.&lt;String, String&gt;toSysOut().withLabel(&quot;source&quot;));\r\n    \r\n        // set the required properties for running Kafka Streams\r\n        Properties config = new Properties();\r\n        config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;dev1&quot;);\r\n        config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;10.0.0.24:29092&quot;);\r\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.Void().getClass());\r\n        config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n    \r\n        // build the topology and start streaming\r\n        KafkaStreams streams = new KafkaStreams(builder.build(), config);\r\n        streams.start();\r\n    \r\n        // close Kafka Streams when the JVM shuts down (e.g. SIGTERM)\r\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n      }\r\n    }\r\n\r\nWhen I attempt to run it I get this error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer.\r\n\r\nThis is a sample message from the &quot;users&quot; topic:\r\n\r\nValue:\r\n\r\n    {\r\n      &quot;registertime&quot;: 1517518703752,\r\n      &quot;userid&quot;: &quot;User_8&quot;,\r\n      &quot;regionid&quot;: &quot;Region_7&quot;,\r\n      &quot;gender&quot;: &quot;OTHER&quot;\r\n    }\r\n\r\nHeader:\r\n\r\n    [\r\n      {\r\n        &quot;key&quot;: &quot;task.generation&quot;,\r\n        &quot;stringValue&quot;: &quot;0&quot;\r\n      },\r\n      {\r\n        &quot;key&quot;: &quot;task.id&quot;,\r\n        &quot;stringValue&quot;: &quot;0&quot;\r\n      },\r\n      {\r\n        &quot;key&quot;: &quot;current.iteration&quot;,\r\n        &quot;stringValue&quot;: &quot;86144&quot;\r\n      }\r\n    ]\r\n\r\nKey:\r\n\r\n    User_8\r\n\r\n\r\nWhat should I do to avoid this problem?\r\n","title":"Kafka Streams: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer","body":"<p>I am working through my first sample of Kafka Streams:</p>\n<pre><code>package com.example;\n\nimport java.util.Properties;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.streams.KafkaStreams;\nimport org.apache.kafka.streams.StreamsBuilder;\nimport org.apache.kafka.streams.StreamsConfig;\nimport org.apache.kafka.streams.kstream.KStream;\n\nclass DslExample {\n\n  public static void main(String[] args) {\n    // the builder is used to construct the topology\n    StreamsBuilder builder = new StreamsBuilder();\n\n    // read from the source topic, &quot;users&quot;\n    KStream&lt;Void, String&gt; stream = builder.stream(&quot;users&quot;);\n\n    // for each record that appears in the source topic,\n    // print the value\n    stream.foreach(\n        (key, value) -&gt; {\n          System.out.println(&quot;(DSL) Hello, &quot; + value);\n        });\n\n    // you can also print using the `print` operator\n    // stream.print(Printed.&lt;String, String&gt;toSysOut().withLabel(&quot;source&quot;));\n\n    // set the required properties for running Kafka Streams\n    Properties config = new Properties();\n    config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;dev1&quot;);\n    config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;10.0.0.24:29092&quot;);\n    config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n    config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.Void().getClass());\n    config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n\n    // build the topology and start streaming\n    KafkaStreams streams = new KafkaStreams(builder.build(), config);\n    streams.start();\n\n    // close Kafka Streams when the JVM shuts down (e.g. SIGTERM)\n    Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n  }\n}\n</code></pre>\n<p>When I attempt to run it I get this error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Data should be null for a VoidDeserializer.\n</code></pre>\n<p>This is a sample message from the &quot;users&quot; topic:</p>\n<p>Value:</p>\n<pre><code>{\n  &quot;registertime&quot;: 1517518703752,\n  &quot;userid&quot;: &quot;User_8&quot;,\n  &quot;regionid&quot;: &quot;Region_7&quot;,\n  &quot;gender&quot;: &quot;OTHER&quot;\n}\n</code></pre>\n<p>Header:</p>\n<pre><code>[\n  {\n    &quot;key&quot;: &quot;task.generation&quot;,\n    &quot;stringValue&quot;: &quot;0&quot;\n  },\n  {\n    &quot;key&quot;: &quot;task.id&quot;,\n    &quot;stringValue&quot;: &quot;0&quot;\n  },\n  {\n    &quot;key&quot;: &quot;current.iteration&quot;,\n    &quot;stringValue&quot;: &quot;86144&quot;\n  }\n]\n</code></pre>\n<p>Key:</p>\n<pre><code>User_8\n</code></pre>\n<p>What should I do to avoid this problem?</p>\n"},{"tags":["java","treeset"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1676014302,"post_id":75407820,"comment_id":133055345,"body_markdown":"Note that some implementations might actually consider rebalancing the tree upon modification, which can yield a worse performance. But this will only be necessary _sometimes_ and not always. Yielding a proper **amortized** complexity of `O(log n)`, while the non-amortized is maybe `O(n)` in some implementations.","body":"Note that some implementations might actually consider rebalancing the tree upon modification, which can yield a worse performance. But this will only be necessary <i>sometimes</i> and not always. Yielding a proper <b>amortized</b> complexity of <code>O(log n)</code>, while the non-amortized is maybe <code>O(n)</code> in some implementations."}],"answers":[{"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1676014363,"post_id":75407960,"comment_id":133055356,"body_markdown":"Just a minor note, **some implementations** might consider rebalancing upon modification. Which can yield `O(n)`, while the amortized complexity is of course still `O(log n)`.","body":"Just a minor note, <b>some implementations</b> might consider rebalancing upon modification. Which can yield <code>O(n)</code>, while the amortized complexity is of course still <code>O(log n)</code>."},{"owner":{"account_id":17863533,"reputation":33,"user_id":12976429,"display_name":"Joseph Jang"},"score":0,"creation_date":1676014524,"post_id":75407960,"comment_id":133055397,"body_markdown":"Thank you! Does this mean operations like TreeSet.higher and TreeSet.lower is O(log N) as well?","body":"Thank you! Does this mean operations like TreeSet.higher and TreeSet.lower is O(log N) as well?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1676014677,"post_id":75407960,"comment_id":133055435,"body_markdown":"@JosephJang Well, the Docs don&#39;t provide a specific guarantee for that.","body":"@JosephJang Well, the Docs don&#39;t provide a specific guarantee for that."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1676015598,"post_id":75407960,"comment_id":133055644,"body_markdown":"@Zabuzard well, such an implementation would violate the contract, and should clearly document this. The OpenJdk implementation is based on `TreeMap` , which is a Red-Black tree and does not seem to do any O(N) operations in the listed methods.","body":"@Zabuzard well, such an implementation would violate the contract, and should clearly document this. The OpenJdk implementation is based on <code>TreeMap</code> , which is a Red-Black tree and does not seem to do any O(N) operations in the listed methods."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1676023044,"post_id":75407960,"comment_id":133057730,"body_markdown":"Yeah, I was more referring to TreeMap/Sets in general, not necessarily Javas implementation. You are absolutely right that the Javadoc requires log(n) here.","body":"Yeah, I was more referring to TreeMap/Sets in general, not necessarily Javas implementation. You are absolutely right that the Javadoc requires log(n) here."}],"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676014500,"creation_date":1676013206,"answer_id":75407960,"question_id":75407820,"body_markdown":"It **is** O(log N) according to the [JavaDocs for TreeSet:][1]\r\n\r\n&gt; This implementation provides guaranteed log(n) time cost for the basic\r\n&gt; operations (add, remove and contains).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeSet.html","title":"Why is TreeSet.remove&#39;s time complexity O(in N)?","body":"<p>It <strong>is</strong> O(log N) according to the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">JavaDocs for TreeSet:</a></p>\n<blockquote>\n<p>This implementation provides guaranteed log(n) time cost for the basic\noperations (add, remove and contains).</p>\n</blockquote>\n"}],"owner":{"account_id":17863533,"reputation":33,"user_id":12976429,"display_name":"Joseph Jang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75407960,"answer_count":1,"score":0,"last_activity_date":1676014500,"creation_date":1676012151,"question_id":75407820,"body_markdown":"A treeset is already sorted... so why isn&#39;t the time complexity to remove an object O(Log N) through binary search? Am I missing something?","title":"Why is TreeSet.remove&#39;s time complexity O(in N)?","body":"<p>A treeset is already sorted... so why isn't the time complexity to remove an object O(Log N) through binary search? Am I missing something?</p>\n"},{"tags":["java","json","spring-boot","bitbucket","bitbucket-api"],"answers":[{"tags":[],"owner":{"account_id":11454153,"reputation":99,"user_id":11023170,"display_name":"Udhav Mohata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676014294,"creation_date":1676014294,"answer_id":75408095,"question_id":73791252,"body_markdown":"I was able fix this issue, by using [Unirest][1]\r\n\r\nThe following syntax was used \r\n\r\n    String url = &quot;https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json&quot;;\r\n    HttpResponse&lt;T&gt; response = Unirest.get(url).headers(headers).asObject(responseClass);\r\n    JsonNode bucketData = response.getBody();\r\n\r\n  [1]: http://kong.github.io/unirest-java/","title":"Retrieve Text file content using Bitbucket server rest APIs in Java JsonNode format","body":"<p>I was able fix this issue, by using <a href=\"http://kong.github.io/unirest-java/\" rel=\"nofollow noreferrer\">Unirest</a></p>\n<p>The following syntax was used</p>\n<pre><code>String url = &quot;https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json&quot;;\nHttpResponse&lt;T&gt; response = Unirest.get(url).headers(headers).asObject(responseClass);\nJsonNode bucketData = response.getBody();\n</code></pre>\n"}],"owner":{"account_id":11454153,"reputation":99,"user_id":11023170,"display_name":"Udhav Mohata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75408095,"answer_count":1,"score":0,"last_activity_date":1676014294,"creation_date":1663699022,"question_id":73791252,"body_markdown":"I am trying to use the bitbucket server rest API to fetch file content(.json file) from a bitbucket repository in a Java spring boot Application but the response is not as expected.\r\n\r\n**Content in the file *meta.json***\r\n\r\n    {\r\n      &quot;key1&quot;: &quot;value1&quot;,\r\n      &quot;key2&quot;: &quot;value2&quot;\r\n    }\r\n\r\n**API used**\r\nhttps://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json\r\n\r\n**Java snippet used to get file content**\r\n\r\n    String url = &quot;https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json&quot;;\r\n    JsonNode bucketData = restTemplate.exchange(url, HttpMethod.GET, entity, JsonNode.class).getBody();\r\n\r\n**Actual output:**\r\n\r\n    {\r\n        &quot;lines&quot;: [\r\n            {\r\n                &quot;text&quot;: &quot;{&quot;\r\n            },\r\n            {\r\n                &quot;text&quot;: &quot;  \\&quot;key1\\&quot;: \\&quot;value1\\&quot;,&quot;\r\n            },\r\n            {\r\n                &quot;text&quot;: &quot;  \\&quot;key2\\&quot;: \\&quot;value2\\&quot;&quot;\r\n            },\r\n            {\r\n                &quot;text&quot;: &quot;}&quot;\r\n            }\r\n        ],\r\n        &quot;start&quot;: 0,\r\n        &quot;size&quot;: 4,\r\n        &quot;isLastPage&quot;: true\r\n    }\r\n\r\nWhereas the output I want is the following\r\n\r\n    {\r\n      &quot;key1&quot;: &quot;value1&quot;,\r\n      &quot;key2&quot;: &quot;value2&quot;\r\n    }\r\n\r\nSo I can convert it to JsonNode and use it.\r\n\r\n**Observation**\r\n\r\nWhile hitting the repo url with *?raw* param (https://bitbucket.domain.com/projects/my-project/repos/my-repo/browse/path/to/meta.json?raw) I was getting the excepted output in text format, not json format. I also tried using the same url in my spring boot application but that didnt work either.\r\n\r\nAny suggestion on how can I get the expected output?\r\n","title":"Retrieve Text file content using Bitbucket server rest APIs in Java JsonNode format","body":"<p>I am trying to use the bitbucket server rest API to fetch file content(.json file) from a bitbucket repository in a Java spring boot Application but the response is not as expected.</p>\n<p><strong>Content in the file <em>meta.json</em></strong></p>\n<pre><code>{\n  &quot;key1&quot;: &quot;value1&quot;,\n  &quot;key2&quot;: &quot;value2&quot;\n}\n</code></pre>\n<p><strong>API used</strong>\n<a href=\"https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json\" rel=\"nofollow noreferrer\">https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json</a></p>\n<p><strong>Java snippet used to get file content</strong></p>\n<pre><code>String url = &quot;https://bitbucket.domain.com/rest/api/1.0/projects/my-project/repos/my-repo/browse/path/to/meta.json&quot;;\nJsonNode bucketData = restTemplate.exchange(url, HttpMethod.GET, entity, JsonNode.class).getBody();\n</code></pre>\n<p><strong>Actual output:</strong></p>\n<pre><code>{\n    &quot;lines&quot;: [\n        {\n            &quot;text&quot;: &quot;{&quot;\n        },\n        {\n            &quot;text&quot;: &quot;  \\&quot;key1\\&quot;: \\&quot;value1\\&quot;,&quot;\n        },\n        {\n            &quot;text&quot;: &quot;  \\&quot;key2\\&quot;: \\&quot;value2\\&quot;&quot;\n        },\n        {\n            &quot;text&quot;: &quot;}&quot;\n        }\n    ],\n    &quot;start&quot;: 0,\n    &quot;size&quot;: 4,\n    &quot;isLastPage&quot;: true\n}\n</code></pre>\n<p>Whereas the output I want is the following</p>\n<pre><code>{\n  &quot;key1&quot;: &quot;value1&quot;,\n  &quot;key2&quot;: &quot;value2&quot;\n}\n</code></pre>\n<p>So I can convert it to JsonNode and use it.</p>\n<p><strong>Observation</strong></p>\n<p>While hitting the repo url with <em>?raw</em> param (<a href=\"https://bitbucket.domain.com/projects/my-project/repos/my-repo/browse/path/to/meta.json?raw\" rel=\"nofollow noreferrer\">https://bitbucket.domain.com/projects/my-project/repos/my-repo/browse/path/to/meta.json?raw</a>) I was getting the excepted output in text format, not json format. I also tried using the same url in my spring boot application but that didnt work either.</p>\n<p>Any suggestion on how can I get the expected output?</p>\n"},{"tags":["java","xml","dom","sax","root-element"],"owner":{"account_id":1013180,"reputation":757,"user_id":1025317,"accept_rate":49,"display_name":"pankaj_ar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676013662,"creation_date":1676013662,"question_id":75408008,"body_markdown":"I have some bigger XMLs to process and based on the root node I will get the type of content XML contains. Accordingly I will redirect XML files to their specific processor.\r\n\r\nRight now I am using DOM parser but trying to avoid unnecessary memory and time overhead.\r\n\r\n    Node node=doc.getDocumentElement();\r\n    if (node.getNodeName().equals(&quot;Settings&quot;))\r\n        submitFileToSettingsProcessor(file);\r\n    else if (node.getNodeName().equals(&quot;Data&quot;))\r\n        submitFileToDataProcessor(file);\r\n    // and so on . . .\r\n\r\nAny other best way to read just the root element and avoid hefty code of DocumentBuilderFactory or SAXParserFactory.","title":"Java XML parser get root node only","body":"<p>I have some bigger XMLs to process and based on the root node I will get the type of content XML contains. Accordingly I will redirect XML files to their specific processor.</p>\n<p>Right now I am using DOM parser but trying to avoid unnecessary memory and time overhead.</p>\n<pre><code>Node node=doc.getDocumentElement();\nif (node.getNodeName().equals(&quot;Settings&quot;))\n    submitFileToSettingsProcessor(file);\nelse if (node.getNodeName().equals(&quot;Data&quot;))\n    submitFileToDataProcessor(file);\n// and so on . . .\n</code></pre>\n<p>Any other best way to read just the root element and avoid hefty code of DocumentBuilderFactory or SAXParserFactory.</p>\n"},{"tags":["java","xml","serialization","jaxb","xmlelement"],"owner":{"account_id":17160138,"reputation":1,"user_id":21185280,"display_name":"Andrey Mokeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676013653,"creation_date":1676013131,"question_id":75407947,"body_markdown":"When I try to marshall to XML with nulls for Field1.code and Field2.description I have strange result.\r\n\r\n```\r\nimport javax.xml.bind.annotation.\\*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(propOrder = {\r\n&quot;id&quot;,\r\n&quot;fields&quot;,\r\n&quot;result&quot;,\r\n&quot;comment&quot;\r\n})\r\n@XmlRootElement(name = &quot;response&quot;)\r\npublic class MyXML {\r\n\r\n@XmlElement(required = true)\r\nprivate String id;\r\n@XmlElement(required = true)\r\nprivate MyXML.Fields fields;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(propOrder = {\r\n        &quot;field1&quot;,\r\n        &quot;field2&quot;\r\n})\r\npublic static class Fields {\r\n\r\n    @XmlElement(required = true)\r\n    private MyXML.Fields.Field1 field1;\r\n    @XmlElement(required = true)\r\n    private MyXML.Fields.Field2 field2;\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(propOrder = {\r\n            &quot;code&quot;\r\n    })\r\n    public static class Field1 {\r\n\r\n        @XmlValue\r\n        private Integer code;\r\n\r\n        @XmlAttribute\r\n        private String name;\r\n\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(propOrder = {\r\n            &quot;description&quot;\r\n    })\r\n    public static class Field2 {\r\n\r\n        @XmlValue\r\n        private String description;\r\n\r\n        @XmlAttribute\r\n        private String name;\r\n\r\n    }\r\n\r\n}\r\n\r\n}\r\n\r\n```\r\nResult:\r\n\r\n \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;response&gt;\r\n        &lt;id&gt;12345&lt;/id&gt;\r\n        &lt;fields&gt;\r\n            &lt;field1 name=&quot;name1&quot;/&gt;\r\n            &lt;field2 name=&quot;name2&quot;&gt;null&lt;/field2&gt;\r\n        &lt;/fields&gt;\r\n    &lt;/response&gt;\r\n```\r\n\r\nFor some reason JAXB serialize null for String type and doesnt serialize null for Integer.\r\nI want to see null in field1 as on field2.\r\n\r\nI tried to set nillable=true, but it didn&#39;t help.","title":"JAXB null/empty field","body":"<p>When I try to marshall to XML with nulls for Field1.code and Field2.description I have strange result.</p>\n<pre><code>import javax.xml.bind.annotation.\\*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder = {\n&quot;id&quot;,\n&quot;fields&quot;,\n&quot;result&quot;,\n&quot;comment&quot;\n})\n@XmlRootElement(name = &quot;response&quot;)\npublic class MyXML {\n\n@XmlElement(required = true)\nprivate String id;\n@XmlElement(required = true)\nprivate MyXML.Fields fields;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder = {\n        &quot;field1&quot;,\n        &quot;field2&quot;\n})\npublic static class Fields {\n\n    @XmlElement(required = true)\n    private MyXML.Fields.Field1 field1;\n    @XmlElement(required = true)\n    private MyXML.Fields.Field2 field2;\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(propOrder = {\n            &quot;code&quot;\n    })\n    public static class Field1 {\n\n        @XmlValue\n        private Integer code;\n\n        @XmlAttribute\n        private String name;\n\n\n    }\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(propOrder = {\n            &quot;description&quot;\n    })\n    public static class Field2 {\n\n        @XmlValue\n        private String description;\n\n        @XmlAttribute\n        private String name;\n\n    }\n\n}\n\n}\n\n</code></pre>\n<p>Result:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n    &lt;response&gt;\n        &lt;id&gt;12345&lt;/id&gt;\n        &lt;fields&gt;\n            &lt;field1 name=&quot;name1&quot;/&gt;\n            &lt;field2 name=&quot;name2&quot;&gt;null&lt;/field2&gt;\n        &lt;/fields&gt;\n    &lt;/response&gt;\n</code></pre>\n<p>For some reason JAXB serialize null for String type and doesnt serialize null for Integer.\nI want to see null in field1 as on field2.</p>\n<p>I tried to set nillable=true, but it didn't help.</p>\n"},{"tags":["java","spring-boot","inheritance","design-patterns","factory-pattern"],"comments":[{"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"score":0,"creation_date":1676013901,"post_id":75065501,"comment_id":133055262,"body_markdown":"You&#39;re presenting a problem in Spring but other than `@Autowired` there is nothing springy about the code. Either that is exactly the problem (this is not a spring application) or you left out the relevant parts","body":"You&#39;re presenting a problem in Spring but other than <code>@Autowired</code> there is nothing springy about the code. Either that is exactly the problem (this is not a spring application) or you left out the relevant parts"}],"answers":[{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676013454,"creation_date":1676013454,"answer_id":75407990,"question_id":75065501,"body_markdown":"In your example env is null because you need to initialize spring boot first. For example this works:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.core.env.Environment;\r\n    \r\n    import jakarta.annotation.PostConstruct;\r\n    \r\n    public class NotificationService {\r\n    \t@Autowired\r\n    \tEnvironment env;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(NotificationService.class, args);\r\n    \t}\r\n    \t\r\n    \t@PostConstruct\r\n    \tpublic void testNotifications() {\r\n    \t\tSystem.out.println(env);\r\n    \t\tNotificationFactory notificationFactory = new NotificationFactory();\r\n    \t\tNotification notification = notificationFactory.createNotification(&quot;SMS&quot;);\r\n    \t\tnotification.notifyUser();\r\n    \t}\r\n    }\r\n\r\nNow env is not null before creating NotificationFactory.\r\n\r\n&gt; ApplicationEnvironment {activeProfiles=[],\r\n&gt; defaultProfiles=[default],... \r\n&gt; \r\n&gt; Sending an SMS notification\r\n\r\nSo now you can pass env to NotificationFactory/Notification.\r\n\r\nIf you do not want to pass env to notifyUser method you could also do autowiring manually. Here I pass DefaultListableBeanFactory that does the job on each created Notification:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.support.DefaultListableBeanFactory;\r\n    import org.springframework.boot.SpringApplication;\r\n    \r\n    import jakarta.annotation.PostConstruct;\r\n    \r\n    public class NotificationService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate DefaultListableBeanFactory beanFactory;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(NotificationService.class, args);\r\n    \t}\r\n    \t\r\n    \t@PostConstruct\r\n    \tpublic void testNotifications() {\r\n    \t\tNotificationFactory notificationFactory = new NotificationFactory(beanFactory);\r\n    \t\tNotification notification = notificationFactory.createNotification(&quot;SMS&quot;);\r\n    \t\tnotification.notifyUser();\r\n    \t}\r\n    }\r\n\r\n    public class NotificationFactory {\r\n    \tprivate final DefaultListableBeanFactory beanFactory;\r\n    \t\r\n    \tpublic NotificationFactory(DefaultListableBeanFactory beanFactory) {\r\n    \t\tthis.beanFactory = beanFactory;\r\n    \t}\r\n        public Notification createNotification(String channel){\r\n            if (channel == null || channel.isEmpty()) {\r\n            \treturn null;\r\n            }\r\n            final Notification notification;\r\n            switch (channel) {\r\n            case &quot;SMS&quot;:\r\n            \tnotification = new SMSNotification();\r\n            \tbreak;\r\n            case &quot;EMAIL&quot;:\r\n            \tnotification = new EmailNotification();\r\n            \tbreak;\r\n            case &quot;PUSH&quot;:\r\n            \tnotification = new PushNotification();\r\n            \tbreak;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Unknown channel &quot;+channel);\r\n            }\r\n    \t\tbeanFactory.autowireBeanProperties(notification, AutowireCapableBeanFactory.AUTOWIRE_BY_NAME, false);\r\n    \t\treturn notification;\r\n        }\r\n    }\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.env.Environment;\r\n    \r\n    public class SMSNotification implements Notification {\r\n    \t\r\n    \t@Autowired\r\n    \tEnvironment env;\r\n        \r\n        @Override\r\n        public void notifyUser(){\r\n            System.out.println(&quot;Sending an SMS notification &quot; + env);\r\n        }\r\n    }\r\n\r\nThis will print:\r\n\r\n&gt; Sending an SMS notification ApplicationEnvironment {activeProfiles=[],\r\n&gt; defaultProfiles=[default],\r\n&gt; propertySources=[ConfigurationPropertySourcesPropertySource...\r\n\r\nWith this you can just autowire additional fields as needed without changing interface","title":"Unable to autowire Spring Boot components while using factory pattern","body":"<p>In your example env is null because you need to initialize spring boot first. For example this works:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.core.env.Environment;\n\nimport jakarta.annotation.PostConstruct;\n\npublic class NotificationService {\n    @Autowired\n    Environment env;\n\n    public static void main(String[] args) {\n        SpringApplication.run(NotificationService.class, args);\n    }\n    \n    @PostConstruct\n    public void testNotifications() {\n        System.out.println(env);\n        NotificationFactory notificationFactory = new NotificationFactory();\n        Notification notification = notificationFactory.createNotification(&quot;SMS&quot;);\n        notification.notifyUser();\n    }\n}\n</code></pre>\n<p>Now env is not null before creating NotificationFactory.</p>\n<blockquote>\n<p>ApplicationEnvironment {activeProfiles=[],\ndefaultProfiles=[default],...</p>\n<p>Sending an SMS notification</p>\n</blockquote>\n<p>So now you can pass env to NotificationFactory/Notification.</p>\n<p>If you do not want to pass env to notifyUser method you could also do autowiring manually. Here I pass DefaultListableBeanFactory that does the job on each created Notification:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.support.DefaultListableBeanFactory;\nimport org.springframework.boot.SpringApplication;\n\nimport jakarta.annotation.PostConstruct;\n\npublic class NotificationService {\n    \n    @Autowired\n    private DefaultListableBeanFactory beanFactory;\n\n    public static void main(String[] args) {\n        SpringApplication.run(NotificationService.class, args);\n    }\n    \n    @PostConstruct\n    public void testNotifications() {\n        NotificationFactory notificationFactory = new NotificationFactory(beanFactory);\n        Notification notification = notificationFactory.createNotification(&quot;SMS&quot;);\n        notification.notifyUser();\n    }\n}\n\npublic class NotificationFactory {\n    private final DefaultListableBeanFactory beanFactory;\n    \n    public NotificationFactory(DefaultListableBeanFactory beanFactory) {\n        this.beanFactory = beanFactory;\n    }\n    public Notification createNotification(String channel){\n        if (channel == null || channel.isEmpty()) {\n            return null;\n        }\n        final Notification notification;\n        switch (channel) {\n        case &quot;SMS&quot;:\n            notification = new SMSNotification();\n            break;\n        case &quot;EMAIL&quot;:\n            notification = new EmailNotification();\n            break;\n        case &quot;PUSH&quot;:\n            notification = new PushNotification();\n            break;\n        default:\n            throw new IllegalArgumentException(&quot;Unknown channel &quot;+channel);\n        }\n        beanFactory.autowireBeanProperties(notification, AutowireCapableBeanFactory.AUTOWIRE_BY_NAME, false);\n        return notification;\n    }\n}\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.env.Environment;\n\npublic class SMSNotification implements Notification {\n    \n    @Autowired\n    Environment env;\n    \n    @Override\n    public void notifyUser(){\n        System.out.println(&quot;Sending an SMS notification &quot; + env);\n    }\n}\n</code></pre>\n<p>This will print:</p>\n<blockquote>\n<p>Sending an SMS notification ApplicationEnvironment {activeProfiles=[],\ndefaultProfiles=[default],\npropertySources=[ConfigurationPropertySourcesPropertySource...</p>\n</blockquote>\n<p>With this you can just autowire additional fields as needed without changing interface</p>\n"}],"owner":{"account_id":10482525,"reputation":31,"user_id":9952551,"display_name":"Soph_dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676013454,"creation_date":1673325137,"question_id":75065501,"body_markdown":"I&#39;m not able to inject Environment dependencies in the classes that extend the base interface in a factory pattern. My architect advised me to pass the dependency through method parameters, but now the requirement has changed to add more dependencies. I don&#39;t feel comfortable in adding more parameters to the same function anymore. The parameter change in one function has to be updated in base interface along with all the classes implementing it. Please suggest a better way of solving this issue.\r\n\r\nI tried to add more parameters in the function to accommodate new dependencies, but this doesn&#39;t look like a scalable and clean approach.\r\n\r\nTaking the example of this NotifierFactory:\r\n\r\n\r\n```\r\n\r\npublic interface Notification {\r\n    void notifyUser();\r\n}\r\n\r\npublic class SMSNotification implements Notification {\r\n \r\n    @Override\r\n    public void notifyUser()\r\n    {\r\n        // TODO Auto-generated method stub\r\n        System.out.println(&quot;Sending an SMS notification&quot;);\r\n    }\r\n}\r\n\r\npublic class EmailNotification implements Notification {\r\n \r\n    @Override\r\n    public void notifyUser()\r\n    {\r\n        // TODO Auto-generated method stub\r\n        System.out.println(&quot;Sending an e-mail notification&quot;);\r\n    }\r\n}\r\n\r\npublic class PushNotification implements Notification {\r\n \r\n    @Override\r\n    public void notifyUser()\r\n    {\r\n        // TODO Auto-generated method stub\r\n        System.out.println(&quot;Sending a push notification&quot;);\r\n    }\r\n}\r\n\r\npublic class NotificationFactory {\r\n    public Notification createNotification(String channel)\r\n    {\r\n        if (channel == null || channel.isEmpty())\r\n            return null;\r\n        switch (channel) {\r\n        case &quot;SMS&quot;:\r\n            return new SMSNotification();\r\n        case &quot;EMAIL&quot;:\r\n            return new EmailNotification();\r\n        case &quot;PUSH&quot;:\r\n            return new PushNotification();\r\n        default:\r\n            throw new IllegalArgumentException(&quot;Unknown channel &quot;+channel);\r\n        }\r\n    }\r\n}\r\n\r\npublic class NotificationService {\r\n@Autowired\r\nEnvironment env;\r\n    public static void main(String[] args)\r\n    {\r\n        NotificationFactory notificationFactory = new NotificationFactory();\r\n        Notification notification = notificationFactory.createNotification(&quot;SMS&quot;);\r\n        notification.notifyUser();\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow, say I need to use the Environment bean that is autowired in NotificationService inside notifyUser() method of EmailNotification class. If I try to do simple autowiring, the value of env is resolved to null. So the workaround I used was to pass env in notifiyUser() function like, notifyUser(env). The drawback of this approach is that now I need to change the definition of notifyUser() method in all classes implementing Notfication class, even though the env dependency is not used there. And in future, if I need to add more such dependencies, every time the function signature will change.","title":"Unable to autowire Spring Boot components while using factory pattern","body":"<p>I'm not able to inject Environment dependencies in the classes that extend the base interface in a factory pattern. My architect advised me to pass the dependency through method parameters, but now the requirement has changed to add more dependencies. I don't feel comfortable in adding more parameters to the same function anymore. The parameter change in one function has to be updated in base interface along with all the classes implementing it. Please suggest a better way of solving this issue.</p>\n<p>I tried to add more parameters in the function to accommodate new dependencies, but this doesn't look like a scalable and clean approach.</p>\n<p>Taking the example of this NotifierFactory:</p>\n<pre><code>\npublic interface Notification {\n    void notifyUser();\n}\n\npublic class SMSNotification implements Notification {\n \n    @Override\n    public void notifyUser()\n    {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Sending an SMS notification&quot;);\n    }\n}\n\npublic class EmailNotification implements Notification {\n \n    @Override\n    public void notifyUser()\n    {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Sending an e-mail notification&quot;);\n    }\n}\n\npublic class PushNotification implements Notification {\n \n    @Override\n    public void notifyUser()\n    {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Sending a push notification&quot;);\n    }\n}\n\npublic class NotificationFactory {\n    public Notification createNotification(String channel)\n    {\n        if (channel == null || channel.isEmpty())\n            return null;\n        switch (channel) {\n        case &quot;SMS&quot;:\n            return new SMSNotification();\n        case &quot;EMAIL&quot;:\n            return new EmailNotification();\n        case &quot;PUSH&quot;:\n            return new PushNotification();\n        default:\n            throw new IllegalArgumentException(&quot;Unknown channel &quot;+channel);\n        }\n    }\n}\n\npublic class NotificationService {\n@Autowired\nEnvironment env;\n    public static void main(String[] args)\n    {\n        NotificationFactory notificationFactory = new NotificationFactory();\n        Notification notification = notificationFactory.createNotification(&quot;SMS&quot;);\n        notification.notifyUser();\n    }\n}\n\n</code></pre>\n<p>Now, say I need to use the Environment bean that is autowired in NotificationService inside notifyUser() method of EmailNotification class. If I try to do simple autowiring, the value of env is resolved to null. So the workaround I used was to pass env in notifiyUser() function like, notifyUser(env). The drawback of this approach is that now I need to change the definition of notifyUser() method in all classes implementing Notfication class, even though the env dependency is not used there. And in future, if I need to add more such dependencies, every time the function signature will change.</p>\n"},{"tags":["java","serialization","rabbitmq","spring-cloud-stream"],"comments":[{"owner":{"account_id":14505927,"reputation":472,"user_id":10477712,"display_name":"Raheela Aslam"},"score":1,"creation_date":1542696146,"post_id":53387516,"comment_id":93650506,"body_markdown":"Can you please try this \n\nreturn new ObjectMapper().configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);","body":"Can you please try this   return new ObjectMapper().configure(JsonParser.Feature.ALLOW_UNQUOTED_F&zwnj;&#8203;IELD_NAMES, true);"},{"owner":{"account_id":4851105,"reputation":2446,"user_id":3913366,"accept_rate":79,"display_name":"Shubham A."},"score":0,"creation_date":1542696459,"post_id":53387516,"comment_id":93650625,"body_markdown":"Sorry I missed that I tried this as well. Let me add this to the OP.","body":"Sorry I missed that I tried this as well. Let me add this to the OP."},{"owner":{"account_id":14505927,"reputation":472,"user_id":10477712,"display_name":"Raheela Aslam"},"score":0,"creation_date":1542696791,"post_id":53387516,"comment_id":93650747,"body_markdown":"Can you please check your JSON is vaild. Please also have a look into https://stackoverflow.com/questions/4815231/allow-unquoted-field-names-in-jackon-json-library","body":"Can you please check your JSON is vaild. Please also have a look into <a href=\"https://stackoverflow.com/questions/4815231/allow-unquoted-field-names-in-jackon-json-library\" title=\"allow unquoted field names in jackon json library\">stackoverflow.com/questions/4815231/&hellip;</a>"},{"owner":{"account_id":4851105,"reputation":2446,"user_id":3913366,"accept_rate":79,"display_name":"Shubham A."},"score":0,"creation_date":1542696928,"post_id":53387516,"comment_id":93650794,"body_markdown":"Yes it is. I mean publisher publishes it as a POJO so it is internally converted into JSON and consumer accepts the object as `AppMessageEnvelope` and no problem happens there. The problem is when it tries to convert internal object.","body":"Yes it is. I mean publisher publishes it as a POJO so it is internally converted into JSON and consumer accepts the object as <code>AppMessageEnvelope</code> and no problem happens there. The problem is when it tries to convert internal object."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1542697608,"post_id":53387516,"comment_id":93651061,"body_markdown":"What is printed when you print `messageEnvelope.getMessageBody().toString()` and `messageEnvelope.getMessageBody().getClass()`?","body":"What is printed when you print <code>messageEnvelope.getMessageBody().toString()</code> and <code>messageEnvelope.getMessageBody().getClass()</code>?"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1542715465,"post_id":53387516,"comment_id":93660483,"body_markdown":"I actually have few questions. \n1. Why do you have a custom message structure (`AppMessageEnvelope -&gt; Job`) when Spring Message gives you everything you need? I am actually having a hard time understanding what the actual JSON for your object looks like given it&#39;s complexity which I don&#39;t think is justified. Perhaps you can post it as suggested by @JBNizer. \n2. Why do you explicitly send message to Source.OUTPUT and then returning AppMessageEnvelope? Do you realize that you effectively sending two messages? You don&#39;t need to interact with Source in any explicit way.","body":"I actually have few questions.  1. Why do you have a custom message structure (<code>AppMessageEnvelope -&gt; Job</code>) when Spring Message gives you everything you need? I am actually having a hard time understanding what the actual JSON for your object looks like given it&#39;s complexity which I don&#39;t think is justified. Perhaps you can post it as suggested by @JBNizer.  2. Why do you explicitly send message to Source.OUTPUT and then returning AppMessageEnvelope? Do you realize that you effectively sending two messages? You don&#39;t need to interact with Source in any explicit way."},{"owner":{"account_id":11047599,"reputation":140,"user_id":8113107,"display_name":"RaRa"},"score":0,"creation_date":1548567531,"post_id":53387516,"comment_id":95584053,"body_markdown":"As already suggested, the issue seems to be with `messageEnvelope.getMessageBody().toString()` which you are assuming will give a JSON string. (Error also points out the same, i.e. JSON property not starting with &quot;) Can you print this value and validate the same.\nAlso, you can use ObjectMapper to get a JSON string from `messageEnvelope.getMessageBody()` and then map it to the desired pojo.","body":"As already suggested, the issue seems to be with <code>messageEnvelope.getMessageBody().toString()</code> which you are assuming will give a JSON string. (Error also points out the same, i.e. JSON property not starting with &quot;) Can you print this value and validate the same. Also, you can use ObjectMapper to get a JSON string from <code>messageEnvelope.getMessageBody()</code> and then map it to the desired pojo."}],"answers":[{"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565705209,"creation_date":1565705209,"answer_id":57479513,"question_id":53387516,"body_markdown":"Use below json conversion to convert JSON to Model / Entity\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\tJob job = objectMapper.convertValue(messageEnvelope.getMessageBody().toString(), Job.class);","title":"JsonParseException: Unexpected character (&#39;i&#39; (code 105)): was expecting double-quote","body":"<p>Use below json conversion to convert JSON to Model / Entity</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nJob job = objectMapper.convertValue(messageEnvelope.getMessageBody().toString(), Job.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15310186,"reputation":1,"user_id":11045708,"display_name":"krishna kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618056874,"creation_date":1618056874,"answer_id":67034256,"question_id":53387516,"body_markdown":"This may be funny error please copy your json and past into online json [formatter][1].\r\nif the validation wrong please rewrite the json manually or encode it.\r\n\r\nError cause: character encoding issue at time of copy from various sources\r\n \r\n\r\n\r\n  [1]: https://jsonformatter.curiousconcept.com/","title":"JsonParseException: Unexpected character (&#39;i&#39; (code 105)): was expecting double-quote","body":"<p>This may be funny error please copy your json and past into online json <a href=\"https://jsonformatter.curiousconcept.com/\" rel=\"nofollow noreferrer\">formatter</a>.\nif the validation wrong please rewrite the json manually or encode it.</p>\n<p>Error cause: character encoding issue at time of copy from various sources</p>\n"},{"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1676270886,"post_id":75407973,"comment_id":133096281,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75407973/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14284138,"reputation":1,"user_id":10317918,"display_name":"chad liu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676013308,"creation_date":1676013308,"answer_id":75407973,"question_id":53387516,"body_markdown":"Here the problem:\r\nJob job = objectMapper.readValue(messageEnvelope.getMessageBody().toString(), mapType);\r\nJust like this:\r\nJob job = objectMapper.readValue(objectMapper.writeValueAsString(messageEnvelope.getMessageBody()), mapType);\r\n\r\n\r\n\r\n","title":"JsonParseException: Unexpected character (&#39;i&#39; (code 105)): was expecting double-quote","body":"<p>Here the problem:\nJob job = objectMapper.readValue(messageEnvelope.getMessageBody().toString(), mapType);\nJust like this:\nJob job = objectMapper.readValue(objectMapper.writeValueAsString(messageEnvelope.getMessageBody()), mapType);</p>\n"}],"owner":{"account_id":4851105,"reputation":2446,"user_id":3913366,"accept_rate":79,"display_name":"Shubham A."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18456,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676013308,"creation_date":1542695807,"question_id":53387516,"body_markdown":"I am trying to integrate Spring Cloud streams and publishing a custom Java Object across services with RabbitMQ as broker. The object I am publishing looks like:\r\n\r\n    public class AppMessageEnvelope implements Serializable {\r\n      ...\r\n      private Object messageBody;\r\n      private Date sentAt = new Date();\r\n      ...\r\n\r\n      // setters and getters\r\n    }\r\nThis is just a wrapper object and the original object is put in `messageBody`. The object I am putting in `messageBody` looks like:\r\n\r\n    public class Job {\r\n        ...\r\n        private String message;\r\n        private Map&lt;MyEnum, String&gt; myMap;\r\n        ...\r\n    }\r\n\r\nNote that both `AppMessageEnvelope` and `Job` are in a different **model** project which is imported as a Maven dependency in the publisher and subscriber Spring Boot projects, so models are exactly the same.\r\n\r\nIn producer, I publish the object as:\r\n\r\n    @EnableBinding(Source.class)\r\n    public class JobDistributor {\r\n\r\n        private final Source jobQueue;\r\n\r\n        @Autowired\r\n        public JobDistributor(Source jobQueue) {\r\n            this.jobQueue = jobQueue;\r\n        }\r\n\r\n        public AppMessageEnvelope publishJob(AppMessageEnvelope message) {\r\n            LOG.info(&quot;Sending message: {}.&quot;, message);\r\n            jobQueue.output().send(MessageBuilder.withPayload(message).build());\r\n            return message;\r\n        }\r\n    }\r\nIn consumer, I get the message as:\r\n\r\n    @Component\r\n    @EnableBinding(Sink.class)\r\n    public class JobConsumer {\r\n\r\n        private final JobManager jobManager;\r\n        private final ObjectMapper objectMapper;\r\n\r\n        @Autowired\r\n        public JobConsumer(\r\n                JobManager jobManager, ObjectMapper objectMapper) {\r\n            this.jobManager = jobManager;\r\n            this.objectMapper = objectMapper;\r\n        }\r\n\r\n        @StreamListener(target = Sink.INPUT)\r\n        public void processData(AppMessageEnvelope messageEnvelope) {\r\n            LOG.info(&quot;Envelope received: {}.&quot;, messageEnvelope);\r\n\r\n            try {\r\n                TypeReference&lt;Job&gt; mapType = new TypeReference&lt;Job&gt;() {};\r\n                Job job = objectMapper.readValue(messageEnvelope.getMessageBody().toString(), mapType);\r\n                jobManager.processRequest(job);\r\n            } catch (Exception ex) {\r\n                LOG.error(&quot;Couldn&#39;t convert to correct object for processing: {}.&quot;, ex);\r\n            }\r\n        }\r\n    }\r\nI try to use `TypeReference` to convert the internal object into a correct object but I get an error as:\r\n\r\n    JobConsumer - Couldn&#39;t convert to correct object for processing: {}.\r\n        com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;i&#39; (code 105)): was expecting double-quote to start field name\r\n        at [Source: (StringReader); line: 1, column: 3]\r\n\r\nBefore the message is converted, I log it:\r\n\r\n    JobConsumer - Envelope received: AppMessageEnvelope{..., messageBody={id=5bf3a7302dbe9c7cf9927c60, jobId=8c0bfcb0b21248e694b5cd52337a1f9e, submittedAt=2018-11-20T06:18:24+0000, lastUpdatedOn=null, message=null, ..., fileContentMap={FILE_BYTES=JVBERi0xLjUKJb/3ov}}, sentAt=Tue Nov 20 11:48:24 IST 2018}\r\n\r\nI tried configuring `ObjectMapper` as:\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper() {\r\n        JsonFactory factory = new JsonFactory();\r\n        factory.enable(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES);\r\n        return new ObjectMapper(factory);\r\n    }\r\nI tried enabling unquoting fields with this too:\r\n\r\n    objectMapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n\r\nI tried solutions provided by [this blog][1] and some similar SO problem but nothing solved. What am I missing?\r\n\r\n  [1]: https://www.mkyong.com/java/jackson-was-expecting-double-quote-to-start-field-name/","title":"JsonParseException: Unexpected character (&#39;i&#39; (code 105)): was expecting double-quote","body":"<p>I am trying to integrate Spring Cloud streams and publishing a custom Java Object across services with RabbitMQ as broker. The object I am publishing looks like:</p>\n\n<pre><code>public class AppMessageEnvelope implements Serializable {\n  ...\n  private Object messageBody;\n  private Date sentAt = new Date();\n  ...\n\n  // setters and getters\n}\n</code></pre>\n\n<p>This is just a wrapper object and the original object is put in <code>messageBody</code>. The object I am putting in <code>messageBody</code> looks like:</p>\n\n<pre><code>public class Job {\n    ...\n    private String message;\n    private Map&lt;MyEnum, String&gt; myMap;\n    ...\n}\n</code></pre>\n\n<p>Note that both <code>AppMessageEnvelope</code> and <code>Job</code> are in a different <strong>model</strong> project which is imported as a Maven dependency in the publisher and subscriber Spring Boot projects, so models are exactly the same.</p>\n\n<p>In producer, I publish the object as:</p>\n\n<pre><code>@EnableBinding(Source.class)\npublic class JobDistributor {\n\n    private final Source jobQueue;\n\n    @Autowired\n    public JobDistributor(Source jobQueue) {\n        this.jobQueue = jobQueue;\n    }\n\n    public AppMessageEnvelope publishJob(AppMessageEnvelope message) {\n        LOG.info(\"Sending message: {}.\", message);\n        jobQueue.output().send(MessageBuilder.withPayload(message).build());\n        return message;\n    }\n}\n</code></pre>\n\n<p>In consumer, I get the message as:</p>\n\n<pre><code>@Component\n@EnableBinding(Sink.class)\npublic class JobConsumer {\n\n    private final JobManager jobManager;\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public JobConsumer(\n            JobManager jobManager, ObjectMapper objectMapper) {\n        this.jobManager = jobManager;\n        this.objectMapper = objectMapper;\n    }\n\n    @StreamListener(target = Sink.INPUT)\n    public void processData(AppMessageEnvelope messageEnvelope) {\n        LOG.info(\"Envelope received: {}.\", messageEnvelope);\n\n        try {\n            TypeReference&lt;Job&gt; mapType = new TypeReference&lt;Job&gt;() {};\n            Job job = objectMapper.readValue(messageEnvelope.getMessageBody().toString(), mapType);\n            jobManager.processRequest(job);\n        } catch (Exception ex) {\n            LOG.error(\"Couldn't convert to correct object for processing: {}.\", ex);\n        }\n    }\n}\n</code></pre>\n\n<p>I try to use <code>TypeReference</code> to convert the internal object into a correct object but I get an error as:</p>\n\n<pre><code>JobConsumer - Couldn't convert to correct object for processing: {}.\n    com.fasterxml.jackson.core.JsonParseException: Unexpected character ('i' (code 105)): was expecting double-quote to start field name\n    at [Source: (StringReader); line: 1, column: 3]\n</code></pre>\n\n<p>Before the message is converted, I log it:</p>\n\n<pre><code>JobConsumer - Envelope received: AppMessageEnvelope{..., messageBody={id=5bf3a7302dbe9c7cf9927c60, jobId=8c0bfcb0b21248e694b5cd52337a1f9e, submittedAt=2018-11-20T06:18:24+0000, lastUpdatedOn=null, message=null, ..., fileContentMap={FILE_BYTES=JVBERi0xLjUKJb/3ov}}, sentAt=Tue Nov 20 11:48:24 IST 2018}\n</code></pre>\n\n<p>I tried configuring <code>ObjectMapper</code> as:</p>\n\n<pre><code>@Autowired\nprivate ObjectMapper objectMapper() {\n    JsonFactory factory = new JsonFactory();\n    factory.enable(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES);\n    return new ObjectMapper(factory);\n}\n</code></pre>\n\n<p>I tried enabling unquoting fields with this too:</p>\n\n<pre><code>objectMapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n</code></pre>\n\n<p>I tried solutions provided by <a href=\"https://www.mkyong.com/java/jackson-was-expecting-double-quote-to-start-field-name/\" rel=\"nofollow noreferrer\">this blog</a> and some similar SO problem but nothing solved. What am I missing?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-test","component-scan"],"comments":[{"owner":{"account_id":11512222,"reputation":87,"user_id":8436642,"display_name":"Nico S."},"score":0,"creation_date":1675962574,"post_id":75402029,"comment_id":133045296,"body_markdown":"Is the bean part of a component u scanned?","body":"Is the bean part of a component u scanned?"},{"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"score":0,"creation_date":1675972926,"post_id":75402029,"comment_id":133048422,"body_markdown":"@NicoS. Do you mean a dependency of a component I scan or a return value of a `@Bean` method?","body":"@NicoS. Do you mean a dependency of a component I scan or a return value of a <code>@Bean</code> method?"},{"owner":{"account_id":11512222,"reputation":87,"user_id":8436642,"display_name":"Nico S."},"score":0,"creation_date":1676005889,"post_id":75402029,"comment_id":133054079,"body_markdown":"i mean a dependency of a component you scan. Do you use intellij ultimate ?","body":"i mean a dependency of a component you scan. Do you use intellij ultimate ?"},{"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"score":0,"creation_date":1676013155,"post_id":75402029,"comment_id":133055106,"body_markdown":"@NicoS. As far as I know, it is not a dependency of any of my components (but maybe I&#39;m and there is some path to it). If it is a dependency of a component I would expect to see a missing dependency error and not that it will just try to create it","body":"@NicoS. As far as I know, it is not a dependency of any of my components (but maybe I&#39;m and there is some path to it). If it is a dependency of a component I would expect to see a missing dependency error and not that it will just try to create it"}],"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676013223,"creation_date":1675962242,"question_id":75402029,"body_markdown":"I have a `@SpringBootTest` that use a `@Configuration` class with `@ComponentScan`:\r\n```\r\n@SpringBootTest(classes = BaseTest.Conf.class)\r\npublic class SocGenTest extends BaseTest {\r\n```\r\nAnd the configuration class:\r\n```\r\npublic class BaseTest {\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = {\r\n            &quot;com.capitolis.novation&quot;,\r\n            &quot;com.capitolis.generated&quot;,\r\n            &quot;com.capitolis.trade&quot;\r\n    },\r\n    excludeFilters = {\r\n            @ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;com.capitolis.trade.resolve.clients.*&quot;)\r\n    })\r\n    public static class Conf {\r\n\r\n    }\r\n```\r\nBut when I run the test it complains about a missing dependency for a component that is not in one of the scanned packages and shouldn&#39;t be created at all:\r\n```\r\nUnsatisfiedDependencyException: Error creating bean with name &#39;pageReplacerModelConverter&#39;\r\n```\r\nThis class is in another package:\r\n```\r\npackage com.capitolis.springboot.openapi;\r\n\r\n@Component\r\npublic class PageReplacerModelConverter extends AbstractModelConverter {\r\n```\r\n\r\n* Anybody knows of a reason this component is being created?\r\n* Is there some other thing in my project that may cause my test to try load things from outside of the packages I defined?\r\n* Is there a way to turn on tracing of the component scan so I can maybe understand why it is trying to create this component?\r\n\r\nThank you","title":"Why does SpringBootTest ComponentScan finds a bean outside of the basePackages and tries to create it?","body":"<p>I have a <code>@SpringBootTest</code> that use a <code>@Configuration</code> class with <code>@ComponentScan</code>:</p>\n<pre><code>@SpringBootTest(classes = BaseTest.Conf.class)\npublic class SocGenTest extends BaseTest {\n</code></pre>\n<p>And the configuration class:</p>\n<pre><code>public class BaseTest {\n\n    @Configuration\n    @ComponentScan(basePackages = {\n            &quot;com.capitolis.novation&quot;,\n            &quot;com.capitolis.generated&quot;,\n            &quot;com.capitolis.trade&quot;\n    },\n    excludeFilters = {\n            @ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;com.capitolis.trade.resolve.clients.*&quot;)\n    })\n    public static class Conf {\n\n    }\n</code></pre>\n<p>But when I run the test it complains about a missing dependency for a component that is not in one of the scanned packages and shouldn't be created at all:</p>\n<pre><code>UnsatisfiedDependencyException: Error creating bean with name 'pageReplacerModelConverter'\n</code></pre>\n<p>This class is in another package:</p>\n<pre><code>package com.capitolis.springboot.openapi;\n\n@Component\npublic class PageReplacerModelConverter extends AbstractModelConverter {\n</code></pre>\n<ul>\n<li>Anybody knows of a reason this component is being created?</li>\n<li>Is there some other thing in my project that may cause my test to try load things from outside of the packages I defined?</li>\n<li>Is there a way to turn on tracing of the component scan so I can maybe understand why it is trying to create this component?</li>\n</ul>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","state-machine"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676014294,"post_id":75407927,"comment_id":133055344,"body_markdown":"You need to show the full stack trace of the exception and how you create your service.","body":"You need to show the full stack trace of the exception and how you create your service."}],"owner":{"account_id":13474613,"reputation":157,"user_id":9722013,"display_name":"Divya Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676029928,"answer_count":0,"score":0,"last_activity_date":1676012954,"creation_date":1676012954,"question_id":75407927,"body_markdown":"I am trying to implement stateMachine using java spring boot,I am using this to perform change the status, I haven&#39;t implemented any logic as of now all i want is that stateMachine should start, but i am getting following error when i hit the patch api.\r\n\r\nError:\r\n \r\n\r\n    Cannot invoke &quot;org.springframework.statemachine.config.StateMachineFactory.getStateMachine(String)&quot; because &quot;this.stateMachineFactory&quot; is null\r\n\r\ncontroller file:\r\n\r\n     @PatchMapping(value = &quot;/updateStatus&quot;, consumes = MediaType.APPLICATION_JSON_VALUE,produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; updateOrderStatus(@Valid @RequestBody OrderStatusUpdateDTO orderStatusUpdateDTO) throws Exception  {\r\n\t\t\treturn ResponseEntity.ok().body(orderService.updateOrderStatus1(orderStatusUpdateDTO));\r\n\r\n    }\r\n\r\nService implementation\r\n\r\n       private StateMachineFactory  &lt;OrderStates, OrderEvents&gt; stateMachineFactory;\r\n\r\n\r\n       public StateMachine&lt;OrderStates,OrderEvents&gt; updateOrderStatus1(OrderStatusUpdateDTO orderDto){\r\n        var stateMachine =  stateMachineFactory.getStateMachine(orderDto.getOrderUuid().toString());\r\n        stateMachine.start();\r\n        return stateMachine;\r\n    }\r\n\r\nSateMachine config class\r\n\r\n    @Configuration\r\n    @EnableStateMachine\r\n    public class SimpleStateMachineConfiguration extends \r\n      StateMachineConfigurerAdapter&lt;OrderStates, OrderEvents&gt; {\r\n\r\n    @Override\r\n    public void configure(StateMachineStateConfigurer&lt;OrderStates, OrderEvents&gt; states) throws Exception {\r\n        states.withStates()\r\n                .initial(OrderStates.NEW)\r\n                .state(OrderStates.SCHEDULED)\r\n                .state(OrderStates.DISPATCHED)\r\n                .end(OrderStates.FULFILLED)\r\n                .end(OrderStates.CANCELLED   );\r\n    }\r\n\r\n    @Override\r\n    public void configure(StateMachineTransitionConfigurer&lt;OrderStates,\r\n                OrderEvents&gt; transitions) throws Exception {\r\n        transitions\r\n                .withExternal()\r\n                .source(OrderStates.NEW)\r\n                .target(OrderStates.SCHEDULED)\r\n                .event(OrderEvents.SCHEDULED)\r\n                .guard(ctx -&gt; {\r\n                    System.out.println(&quot;This PAID handler where we can perform some logging&quot;);\r\n                    return true;\r\n                })\r\n                .and()\r\n                .withExternal()\r\n                .source(OrderStates.DISPATCHED)\r\n                .target(OrderStates.FULFILLED)\r\n                .event(OrderEvents.FULFILLED)\r\n                .action(ctx -&gt; {\r\n                    System.out.println(&quot;This SUBMITTED handler where we can perform some logging&quot;);\r\n                });\r\n    }}\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error: Cannot invok org.springframework.statemachine.config.StateMachineFactory.getStateMachine(String)","body":"<p>I am trying to implement stateMachine using java spring boot,I am using this to perform change the status, I haven't implemented any logic as of now all i want is that stateMachine should start, but i am getting following error when i hit the patch api.</p>\n<p>Error:</p>\n<pre><code>Cannot invoke &quot;org.springframework.statemachine.config.StateMachineFactory.getStateMachine(String)&quot; because &quot;this.stateMachineFactory&quot; is null\n</code></pre>\n<p>controller file:</p>\n<pre><code> @PatchMapping(value = &quot;/updateStatus&quot;, consumes = MediaType.APPLICATION_JSON_VALUE,produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;String&gt; updateOrderStatus(@Valid @RequestBody OrderStatusUpdateDTO orderStatusUpdateDTO) throws Exception  {\n        return ResponseEntity.ok().body(orderService.updateOrderStatus1(orderStatusUpdateDTO));\n\n}\n</code></pre>\n<p>Service implementation</p>\n<pre><code>   private StateMachineFactory  &lt;OrderStates, OrderEvents&gt; stateMachineFactory;\n\n\n   public StateMachine&lt;OrderStates,OrderEvents&gt; updateOrderStatus1(OrderStatusUpdateDTO orderDto){\n    var stateMachine =  stateMachineFactory.getStateMachine(orderDto.getOrderUuid().toString());\n    stateMachine.start();\n    return stateMachine;\n}\n</code></pre>\n<p>SateMachine config class</p>\n<pre><code>@Configuration\n@EnableStateMachine\npublic class SimpleStateMachineConfiguration extends \n  StateMachineConfigurerAdapter&lt;OrderStates, OrderEvents&gt; {\n\n@Override\npublic void configure(StateMachineStateConfigurer&lt;OrderStates, OrderEvents&gt; states) throws Exception {\n    states.withStates()\n            .initial(OrderStates.NEW)\n            .state(OrderStates.SCHEDULED)\n            .state(OrderStates.DISPATCHED)\n            .end(OrderStates.FULFILLED)\n            .end(OrderStates.CANCELLED   );\n}\n\n@Override\npublic void configure(StateMachineTransitionConfigurer&lt;OrderStates,\n            OrderEvents&gt; transitions) throws Exception {\n    transitions\n            .withExternal()\n            .source(OrderStates.NEW)\n            .target(OrderStates.SCHEDULED)\n            .event(OrderEvents.SCHEDULED)\n            .guard(ctx -&gt; {\n                System.out.println(&quot;This PAID handler where we can perform some logging&quot;);\n                return true;\n            })\n            .and()\n            .withExternal()\n            .source(OrderStates.DISPATCHED)\n            .target(OrderStates.FULFILLED)\n            .event(OrderEvents.FULFILLED)\n            .action(ctx -&gt; {\n                System.out.println(&quot;This SUBMITTED handler where we can perform some logging&quot;);\n            });\n}}\n</code></pre>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675949705,"post_id":75398095,"comment_id":133040322,"body_markdown":"Try `setRange()`, for [example](https://stackoverflow.com/a/67230096/230513).","body":"Try <code>setRange()</code>, for <a href=\"https://stackoverflow.com/a/67230096/230513\">example</a>."},{"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"score":0,"creation_date":1675977780,"post_id":75398095,"comment_id":133049711,"body_markdown":"But what would the range be?","body":"But what would the range be?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675982666,"post_id":75398095,"comment_id":133050791,"body_markdown":"The range you choose, typically based on values in your dataset; if you have trouble, please [edit] your question to include a [mre] that shows your revised approach with a small subset of data.","body":"The range you choose, typically based on values in your dataset; if you have trouble, please <a href=\"https://stackoverflow.com/posts/75398095/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach with a small subset of data."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1676036673,"post_id":75398095,"comment_id":133061717,"body_markdown":"I&#39;m not sure where your code goes awry; the example cited also uses dates; I don&#39;t see your sample data or call to `setRange()`.","body":"I&#39;m not sure where your code goes awry; the example cited also uses dates; I don&#39;t see your sample data or call to <code>setRange()</code>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1679007226,"post_id":75398095,"comment_id":133648442,"body_markdown":"A related example is seen [here](https://stackoverflow.com/q/75726661/230513).","body":"A related example is seen <a href=\"https://stackoverflow.com/q/75726661/230513\">here</a>."}],"owner":{"account_id":15326941,"reputation":685,"user_id":11057811,"display_name":"BitQueen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676012743,"creation_date":1675942940,"question_id":75398095,"body_markdown":"I have an app and I somehow successfully managed to get a candlestick chart visible. However, once the chart is displayed, it shows all the candles (can be several hundred) which causes the chart to be very tiny and zoomed out. What I actually want is, the chart to be zoomed into the range of the last N candles so it looks more visible to the eye.\r\n\r\nHere is how my charts look once they get created\r\n[![enter image description here][1]][1]\r\n\r\nI tried working with setRange, the Range on the Date Axis returns values in the format of [09.02.2023, 23:21:02 --&gt; 10.02.2023, 08:29:56]\r\n\r\nI dont seem to get how to make the chart like zoom in to a range of for example range.length-100 -&gt; range.length. Whatever I tried, I always end up somewhere randomly without any data really shown.\r\n\r\nIs there a way to define the last n entries on the range and set the dateAxis to start showing this range?\r\n \r\nWhat I actually want to see after creation is something like this\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TvMDU.png\r\n  [2]: https://i.stack.imgur.com/W7wcQ.png\r\n\r\n     private  void displayChart(String title, String quoteMarket, BarSeries series) {\r\n        OHLCDataset dataSet = createOHLCDataset(title,series);\r\n        JFreeChart chart = ChartFactory.createCandlestickChart(\r\n              title,\r\n                &quot;Time&quot;,\r\n                quoteMarket,\r\n                dataSet,\r\n                false);\r\n        chart.setBackgroundPaint(new Color(28, 39, 57));\r\n        chart.setBorderVisible(false);\r\n        chart.getTitle().setPaint(Color.WHITE);\r\n        // Candlestick rendering\r\n        CandlestickRenderer renderer = new CandlestickRenderer();\r\n        renderer.setAutoWidthMethod(CandlestickRenderer.WIDTHMETHOD_INTERVALDATA);\r\n        renderer.setUpPaint(new Color(0, 214, 110));\r\n        renderer.setDownPaint(new Color(196, 19, 30));\r\n        renderer.setSeriesPaint(0,new Color(211, 211, 211));\r\n        renderer.setCandleWidth(3.0);\r\n        XYPlot plot = chart.getXYPlot();\r\n        plot.setRenderer(renderer);\r\n        plot.setRangeGridlinePaint(Color.lightGray);\r\n        plot.setBackgroundPaint(new Color(28, 39, 57));\r\n        plot.setDomainGridlinesVisible( false );\r\n        plot.setRangeGridlinesVisible( false );\r\n\r\n        NumberAxis numberAxis = (NumberAxis) plot.getRangeAxis();\r\n        numberAxis.setAutoRangeIncludesZero(false);\r\n        numberAxis.setLabelPaint(Color.WHITE);\r\n        numberAxis.setTickLabelPaint(Color.WHITE);\r\n        numberAxis.setAutoRangeIncludesZero(false);\r\n\r\n\r\n        DateAxis dateAxis = (DateAxis) plot.getDomainAxis();\r\n\r\n        dateAxis.setAutoRange(true);\r\n        dateAxis.setLabelPaint(Color.WHITE);\r\n        dateAxis.setTickLabelPaint(Color.WHITE);\r\n        dateAxis.setTickMarkPosition(DateTickMarkPosition.MIDDLE);\r\n        plot.setDatasetRenderingOrder(DatasetRenderingOrder.FORWARD);\r\n        ChartPanel panel = new ChartPanel(chart);\r\n\r\n        panel.setMouseWheelEnabled(true);\r\n        panel.setMouseZoomable(true);\r\n        panel.setRangeZoomable(true);\r\n        panel.setDomainZoomable(true);\r\n        this.add(panel);\r\n\r\n        System.out.println(dateAxis.getRange());\r\n    }","title":"JFreeChart Candlestick zoom into last n candles on creation","body":"<p>I have an app and I somehow successfully managed to get a candlestick chart visible. However, once the chart is displayed, it shows all the candles (can be several hundred) which causes the chart to be very tiny and zoomed out. What I actually want is, the chart to be zoomed into the range of the last N candles so it looks more visible to the eye.</p>\n<p>Here is how my charts look once they get created\n<a href=\"https://i.stack.imgur.com/TvMDU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvMDU.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried working with setRange, the Range on the Date Axis returns values in the format of [09.02.2023, 23:21:02 --&gt; 10.02.2023, 08:29:56]</p>\n<p>I dont seem to get how to make the chart like zoom in to a range of for example range.length-100 -&gt; range.length. Whatever I tried, I always end up somewhere randomly without any data really shown.</p>\n<p>Is there a way to define the last n entries on the range and set the dateAxis to start showing this range?</p>\n<p>What I actually want to see after creation is something like this\n<a href=\"https://i.stack.imgur.com/W7wcQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W7wcQ.png\" alt=\"enter image description here\" /></a></p>\n<pre><code> private  void displayChart(String title, String quoteMarket, BarSeries series) {\n    OHLCDataset dataSet = createOHLCDataset(title,series);\n    JFreeChart chart = ChartFactory.createCandlestickChart(\n          title,\n            &quot;Time&quot;,\n            quoteMarket,\n            dataSet,\n            false);\n    chart.setBackgroundPaint(new Color(28, 39, 57));\n    chart.setBorderVisible(false);\n    chart.getTitle().setPaint(Color.WHITE);\n    // Candlestick rendering\n    CandlestickRenderer renderer = new CandlestickRenderer();\n    renderer.setAutoWidthMethod(CandlestickRenderer.WIDTHMETHOD_INTERVALDATA);\n    renderer.setUpPaint(new Color(0, 214, 110));\n    renderer.setDownPaint(new Color(196, 19, 30));\n    renderer.setSeriesPaint(0,new Color(211, 211, 211));\n    renderer.setCandleWidth(3.0);\n    XYPlot plot = chart.getXYPlot();\n    plot.setRenderer(renderer);\n    plot.setRangeGridlinePaint(Color.lightGray);\n    plot.setBackgroundPaint(new Color(28, 39, 57));\n    plot.setDomainGridlinesVisible( false );\n    plot.setRangeGridlinesVisible( false );\n\n    NumberAxis numberAxis = (NumberAxis) plot.getRangeAxis();\n    numberAxis.setAutoRangeIncludesZero(false);\n    numberAxis.setLabelPaint(Color.WHITE);\n    numberAxis.setTickLabelPaint(Color.WHITE);\n    numberAxis.setAutoRangeIncludesZero(false);\n\n\n    DateAxis dateAxis = (DateAxis) plot.getDomainAxis();\n\n    dateAxis.setAutoRange(true);\n    dateAxis.setLabelPaint(Color.WHITE);\n    dateAxis.setTickLabelPaint(Color.WHITE);\n    dateAxis.setTickMarkPosition(DateTickMarkPosition.MIDDLE);\n    plot.setDatasetRenderingOrder(DatasetRenderingOrder.FORWARD);\n    ChartPanel panel = new ChartPanel(chart);\n\n    panel.setMouseWheelEnabled(true);\n    panel.setMouseZoomable(true);\n    panel.setRangeZoomable(true);\n    panel.setDomainZoomable(true);\n    this.add(panel);\n\n    System.out.println(dateAxis.getRange());\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":4,"creation_date":1533649815,"post_id":22688402,"comment_id":90417425,"body_markdown":"did you ever find a solution to this? same problem in very latest spring version also. according to mysql log table, no deletion statement is ever issued, no error message available.","body":"did you ever find a solution to this? same problem in very latest spring version also. according to mysql log table, no deletion statement is ever issued, no error message available."},{"owner":{"account_id":1910474,"reputation":1273,"user_id":1724420,"display_name":"userspaced"},"score":1,"creation_date":1533661479,"post_id":22688402,"comment_id":90424821,"body_markdown":"Unfortunately no. I no longer had a need to do it here anymore and the other places I had to do it seemed to work fine. I don&#39;t know what was so special about this case.","body":"Unfortunately no. I no longer had a need to do it here anymore and the other places I had to do it seemed to work fine. I don&#39;t know what was so special about this case."},{"owner":{"account_id":4095196,"reputation":1305,"user_id":3362191,"accept_rate":70,"display_name":"Taugenichts"},"score":0,"creation_date":1563226057,"post_id":22688402,"comment_id":100622127,"body_markdown":"you should consider posting that @Modifying delete statement as an answer. It was the only way I could resolve it as well. I upvoted the question, but I&#39;d upvote that answer as well.","body":"you should consider posting that @Modifying delete statement as an answer. It was the only way I could resolve it as well. I upvoted the question, but I&#39;d upvote that answer as well."},{"owner":{"account_id":9143806,"reputation":324,"user_id":6800811,"display_name":"Brunaldo"},"score":2,"creation_date":1592927614,"post_id":22688402,"comment_id":110597689,"body_markdown":"overriding the delete method(s) solved it for me as well, not sure why this happened (upgrading from spring boot 2.1.5 to 2.1.6)","body":"overriding the delete method(s) solved it for me as well, not sure why this happened (upgrading from spring boot 2.1.5 to 2.1.6)"},{"owner":{"account_id":4458992,"reputation":1216,"user_id":3628421,"accept_rate":67,"display_name":"JRA_TLL"},"score":1,"creation_date":1623055194,"post_id":22688402,"comment_id":119959423,"body_markdown":"Same problem here on a most simple entity using no relations. save then delete in one transaction, e.g. test method works no longer with Spring 2.1.6.\nWe use Spring 2.4.1 now, but downgrade spring-data to 2.1.8.RELEASE to overcome it. Hibernate remains unchanged 5.4.25.","body":"Same problem here on a most simple entity using no relations. save then delete in one transaction, e.g. test method works no longer with Spring 2.1.6. We use Spring 2.4.1 now, but downgrade spring-data to 2.1.8.RELEASE to overcome it. Hibernate remains unchanged 5.4.25."}],"answers":[{"comments":[{"owner":{"account_id":1910474,"reputation":1273,"user_id":1724420,"display_name":"userspaced"},"score":0,"creation_date":1396010821,"post_id":22689134,"comment_id":34611366,"body_markdown":"I don&#39;t think that&#39;s the issue here because when I seed the test with test data I&#39;m specifying the id to be 1.","body":"I don&#39;t think that&#39;s the issue here because when I seed the test with test data I&#39;m specifying the id to be 1."}],"tags":[],"owner":{"account_id":2760657,"reputation":1996,"user_id":2377629,"display_name":"Bitman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395927449,"creation_date":1395926938,"answer_id":22689134,"question_id":22688402,"body_markdown":"Your initial value for id is 500. That means your id starts with 500\r\n\r\n    @SequenceGenerator(name = &quot;seqToken&quot;, sequenceName = &quot;SEQ_TOKEN&quot;,\r\n    initialValue = 500, allocationSize = 1)\r\n\r\n\r\nAnd you select one item with id 1 here\r\n\r\n     Token deleted = tokenRepository.findOne(1L);\r\n\r\nSo check your database to clarify that","title":"Delete Not Working with JpaRepository","body":"<p>Your initial value for id is 500. That means your id starts with 500</p>\n\n<pre><code>@SequenceGenerator(name = \"seqToken\", sequenceName = \"SEQ_TOKEN\",\ninitialValue = 500, allocationSize = 1)\n</code></pre>\n\n<p>And you select one item with id 1 here</p>\n\n<pre><code> Token deleted = tokenRepository.findOne(1L);\n</code></pre>\n\n<p>So check your database to clarify that</p>\n"},{"comments":[{"owner":{"account_id":1720411,"reputation":1802,"user_id":1576467,"accept_rate":62,"display_name":"GameSalutes"},"score":1,"creation_date":1459895787,"post_id":27954027,"comment_id":60491340,"body_markdown":"This worked for me as well. Specifically I played around and was able to keep these cascade types: [CascadeType.PERSIST,CascadeType.REFRESH] and still get the delete to work through child repository.  What made no sense to me is that I made the owner entity the child via &quot;mappedBy&quot; on the parent","body":"This worked for me as well. Specifically I played around and was able to keep these cascade types: [CascadeType.PERSIST,CascadeType.REFRESH] and still get the delete to work through child repository.  What made no sense to me is that I made the owner entity the child via &quot;mappedBy&quot; on the parent"},{"owner":{"account_id":6093037,"reputation":145,"user_id":4754733,"display_name":"Ivan Matavulj"},"score":19,"creation_date":1494258713,"post_id":27954027,"comment_id":74739766,"body_markdown":"This solution seems to work but does not give any explanation .","body":"This solution seems to work but does not give any explanation ."},{"owner":{"account_id":11899869,"reputation":580,"user_id":8797900,"display_name":"gromyk"},"score":0,"creation_date":1662937418,"post_id":27954027,"comment_id":130115323,"body_markdown":"Would you like to share any explanation? It has helped me as well.","body":"Would you like to share any explanation? It has helped me as well."}],"tags":[],"owner":{"account_id":1957494,"reputation":717,"user_id":1760142,"accept_rate":43,"display_name":"Davi Arimateia"},"comment_count":3,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1421276268,"creation_date":1421276268,"answer_id":27954027,"question_id":22688402,"body_markdown":"I had the same problem\r\n\r\nPerhaps your UserAccount entity has an @OneToMany with Cascade on some attribute.\r\n\r\nI&#39;ve just remove the cascade, than it could persist when deleting...\r\n","title":"Delete Not Working with JpaRepository","body":"<p>I had the same problem</p>\n\n<p>Perhaps your UserAccount entity has an @OneToMany with Cascade on some attribute.</p>\n\n<p>I've just remove the cascade, than it could persist when deleting...</p>\n"},{"comments":[{"owner":{"account_id":5961146,"reputation":480,"user_id":4686283,"accept_rate":50,"display_name":"Brian Kates"},"score":0,"creation_date":1447862397,"post_id":30248348,"comment_id":55336180,"body_markdown":"I had the same problem and came across this thread.  I don&#39;t know if I would call this a solution or a workaround, but this is how to delete the child objects.","body":"I had the same problem and came across this thread.  I don&#39;t know if I would call this a solution or a workaround, but this is how to delete the child objects."}],"tags":[],"owner":{"account_id":1354657,"reputation":3826,"user_id":1293320,"accept_rate":80,"display_name":"Lucas Holt"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431641658,"creation_date":1431641658,"answer_id":30248348,"question_id":22688402,"body_markdown":"I just went through this too. In my case, I had to make the child table have a nullable foreign key field and then remove the parent from the relationship by setting null, then calling save and delete and flush. \r\n\r\nI didn&#39;t see a delete in the log or any exception prior to doing this. ","title":"Delete Not Working with JpaRepository","body":"<p>I just went through this too. In my case, I had to make the child table have a nullable foreign key field and then remove the parent from the relationship by setting null, then calling save and delete and flush. </p>\n\n<p>I didn't see a delete in the log or any exception prior to doing this. </p>\n"},{"tags":[],"owner":{"account_id":3526599,"reputation":670,"user_id":2947505,"display_name":"Eruvanos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462370555,"creation_date":1462370555,"answer_id":37030089,"question_id":22688402,"body_markdown":"If you use an newer version of Spring Data, you could use deleteBy syntax...so you are able to remove one of your annotations :P\r\n\r\nthe next thing is, that the behaviour is already tract by a Jira ticket:\r\nhttps://jira.spring.io/browse/DATAJPA-727\r\n\r\n\r\n\r\n","title":"Delete Not Working with JpaRepository","body":"<p>If you use an newer version of Spring Data, you could use deleteBy syntax...so you are able to remove one of your annotations :P</p>\n\n<p>the next thing is, that the behaviour is already tract by a Jira ticket:\n<a href=\"https://jira.spring.io/browse/DATAJPA-727\" rel=\"nofollow\">https://jira.spring.io/browse/DATAJPA-727</a></p>\n"},{"tags":[],"owner":{"account_id":1749061,"reputation":559,"user_id":1598592,"accept_rate":60,"display_name":"Taimur"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1504712257,"creation_date":1488987541,"answer_id":42675619,"question_id":22688402,"body_markdown":"You need to add PreRemove function ,in the class where you have many object as attribute e.g in Education Class which have relation with UserProfile\r\nEducation.java\r\n\t\r\n\r\n    private Set&lt;UserProfile&gt; userProfiles = new HashSet&lt;UserProfile&gt;(0);\r\n\r\n\t@ManyToMany(fetch = FetchType.EAGER, mappedBy = &quot;educations&quot;)\r\n\tpublic Set&lt;UserProfile&gt; getUserProfiles() {\r\n\t\treturn this.userProfiles;\r\n\t}\r\n\r\n\t@PreRemove\r\n\tprivate void removeEducationFromUsersProfile() {\r\n\t    for (UsersProfile u : usersProfiles) {\r\n\t    \tu.getEducationses().remove(this);\r\n\t    }\r\n\t}","title":"Delete Not Working with JpaRepository","body":"<p>You need to add PreRemove function ,in the class where you have many object as attribute e.g in Education Class which have relation with UserProfile\nEducation.java</p>\n\n<pre><code>private Set&lt;UserProfile&gt; userProfiles = new HashSet&lt;UserProfile&gt;(0);\n\n@ManyToMany(fetch = FetchType.EAGER, mappedBy = \"educations\")\npublic Set&lt;UserProfile&gt; getUserProfiles() {\n    return this.userProfiles;\n}\n\n@PreRemove\nprivate void removeEducationFromUsersProfile() {\n    for (UsersProfile u : usersProfiles) {\n        u.getEducationses().remove(this);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen MiÅ¡iÄ‡"},"score":3,"creation_date":1572517061,"post_id":52525033,"comment_id":103587743,"body_markdown":"Real good job on the explanation here. I had the same issue and the same apparent &quot;workaround&quot; - delete through a custom query, but I didn&#39;t want to use it as it was obviously a hack. The @PreRemove hook really did wonders here. Thanks!","body":"Real good job on the explanation here. I had the same issue and the same apparent &quot;workaround&quot; - delete through a custom query, but I didn&#39;t want to use it as it was obviously a hack. The @PreRemove hook really did wonders here. Thanks!"},{"owner":{"account_id":4271002,"reputation":2019,"user_id":3492805,"accept_rate":72,"display_name":"pzeszko"},"score":0,"creation_date":1572535788,"post_id":52525033,"comment_id":103598331,"body_markdown":"Glad I could help!","body":"Glad I could help!"},{"owner":{"account_id":6837881,"reputation":115,"user_id":5267610,"accept_rate":75,"display_name":"driversti"},"score":0,"creation_date":1615809929,"post_id":52525033,"comment_id":117797761,"body_markdown":"I had a similar issue with @OneToOne relation and your explanation helped me to resolve it. Very nice! Thank you.","body":"I had a similar issue with @OneToOne relation and your explanation helped me to resolve it. Very nice! Thank you."},{"owner":{"account_id":22287436,"reputation":123,"user_id":16514844,"display_name":"kelsanity"},"score":0,"creation_date":1630331658,"post_id":52525033,"comment_id":121920243,"body_markdown":"kind of late to this, but what do you mean by synchronizing in this context?","body":"kind of late to this, but what do you mean by synchronizing in this context?"}],"tags":[],"owner":{"account_id":4271002,"reputation":2019,"user_id":3492805,"accept_rate":72,"display_name":"pzeszko"},"comment_count":4,"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1573898815,"creation_date":1537990971,"answer_id":52525033,"question_id":22688402,"body_markdown":"Most probably such behaviour occurs when you have bidirectional relationship and you&#39;re not synchronizing both sides WHILE having both parent and child persisted (attached to the current session). \r\n\r\nThis is tricky and I&#39;m gonna explain this with the following example.\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n        private Long id;\r\n\r\n        @OneToMany(cascade = CascadeType.PERSIST, mappedBy = &quot;parent&quot;)\r\n        private Set&lt;Child&gt; children = new HashSet&lt;&gt;(0);\r\n\r\n        public void setChildren(Set&lt;Child&gt; children) {\r\n            this.children = children;\r\n            this.children.forEach(child -&gt; child.setParent(this));\r\n        }\r\n    }\r\n    @Entity\r\n    public class Child {\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n        private Long id;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;parent_id&quot;)\r\n        private Parent parent;\r\n\r\n        public void setParent(Parent parent) {\r\n            this.parent = parent;\r\n        }\r\n    }\r\n\r\nLet&#39;s write a test (a transactional one btw)\r\n\r\n    public class ParentTest extends IntegrationTestSpec {\r\n\r\n        @Autowired\r\n        private ParentRepository parentRepository;\r\n\r\n        @Autowired\r\n        private ChildRepository childRepository;\r\n\r\n        @Autowired\r\n        private ParentFixture parentFixture;\r\n\r\n        @Test\r\n        public void test() {\r\n            Parent parent = new Parent();\r\n            Child child = new Child();\r\n\r\n            parent.setChildren(Set.of(child));\r\n            parentRepository.save(parent);\r\n\r\n            Child fetchedChild = childRepository.findAll().get(0);\r\n            childRepository.delete(fetchedChild);\r\n\r\n            assertEquals(1, parentRepository.count());\r\n            assertEquals(0, childRepository.count()); // FAILS!!! childRepostitory.counts() returns 1\r\n        }\r\n    }\r\n\r\nPretty simple test right? We&#39;re creating parent and child, save it to database, then fetching a child from database, removing it and at last making sure everything works just as expected. And it&#39;s not.\r\n\r\nThe delete here didn&#39;t work because we didn&#39;t synchronized the other part of relationship which is PERSISTED IN CURRENT SESSION. If Parent wasn&#39;t associated with current session our test would pass, i.e.\r\n\r\n    @Component\r\n    public class ParentFixture {\r\n        ...\r\n        @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n        public void thereIsParentWithChildren() {\r\n            Parent parent = new Parent();\r\n            Child child = new Child();\r\n            parent.setChildren(Set.of(child));\r\n  \r\n            parentRepository.save(parent);\r\n        }\r\n    } \r\n\r\nand\r\n\r\n    @Test\r\n    public void test() {\r\n        parentFixture.thereIsParentWithChildren(); // we&#39;re saving Child and Parent in seperate transaction\r\n\r\n        Child fetchedChild = childRepository.findAll().get(0);\r\n        childRepository.delete(fetchedChild);\r\n\r\n        assertEquals(1, parentRepository.count());\r\n        assertEquals(0, childRepository.count()); // WORKS!\r\n    }\r\n\r\nOf course it only proves my point and explains the behaviour OP faced. The proper way to go is obviously keeping in sync both parts of relationship which means:\r\n\r\n    class Parent {\r\n        ...\r\n         public void dismissChild(Child child) {\r\n             this.children.remove(child);\r\n         }\r\n\r\n         public void dismissChildren() {\r\n            this.children.forEach(child -&gt; child.dismissParent()); // SYNCHRONIZING THE OTHER SIDE OF RELATIONSHIP \r\n            this.children.clear();\r\n         }\r\n\r\n    }\r\n\r\n    class Child {\r\n        ...\r\n        public void dismissParent() {\r\n            this.parent.dismissChild(this); //SYNCHRONIZING THE OTHER SIDE OF RELATIONSHIP\r\n            this.parent = null;\r\n        }\r\n    }\r\n\r\nObviously `@PreRemove` could be used here.\r\n","title":"Delete Not Working with JpaRepository","body":"<p>Most probably such behaviour occurs when you have bidirectional relationship and you're not synchronizing both sides WHILE having both parent and child persisted (attached to the current session). </p>\n\n<p>This is tricky and I'm gonna explain this with the following example.</p>\n\n<pre><code>@Entity\npublic class Parent {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    @Column(name = \"id\", unique = true, nullable = false)\n    private Long id;\n\n    @OneToMany(cascade = CascadeType.PERSIST, mappedBy = \"parent\")\n    private Set&lt;Child&gt; children = new HashSet&lt;&gt;(0);\n\n    public void setChildren(Set&lt;Child&gt; children) {\n        this.children = children;\n        this.children.forEach(child -&gt; child.setParent(this));\n    }\n}\n@Entity\npublic class Child {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    @Column(name = \"id\", unique = true, nullable = false)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = \"parent_id\")\n    private Parent parent;\n\n    public void setParent(Parent parent) {\n        this.parent = parent;\n    }\n}\n</code></pre>\n\n<p>Let's write a test (a transactional one btw)</p>\n\n<pre><code>public class ParentTest extends IntegrationTestSpec {\n\n    @Autowired\n    private ParentRepository parentRepository;\n\n    @Autowired\n    private ChildRepository childRepository;\n\n    @Autowired\n    private ParentFixture parentFixture;\n\n    @Test\n    public void test() {\n        Parent parent = new Parent();\n        Child child = new Child();\n\n        parent.setChildren(Set.of(child));\n        parentRepository.save(parent);\n\n        Child fetchedChild = childRepository.findAll().get(0);\n        childRepository.delete(fetchedChild);\n\n        assertEquals(1, parentRepository.count());\n        assertEquals(0, childRepository.count()); // FAILS!!! childRepostitory.counts() returns 1\n    }\n}\n</code></pre>\n\n<p>Pretty simple test right? We're creating parent and child, save it to database, then fetching a child from database, removing it and at last making sure everything works just as expected. And it's not.</p>\n\n<p>The delete here didn't work because we didn't synchronized the other part of relationship which is PERSISTED IN CURRENT SESSION. If Parent wasn't associated with current session our test would pass, i.e.</p>\n\n<pre><code>@Component\npublic class ParentFixture {\n    ...\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void thereIsParentWithChildren() {\n        Parent parent = new Parent();\n        Child child = new Child();\n        parent.setChildren(Set.of(child));\n\n        parentRepository.save(parent);\n    }\n} \n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Test\npublic void test() {\n    parentFixture.thereIsParentWithChildren(); // we're saving Child and Parent in seperate transaction\n\n    Child fetchedChild = childRepository.findAll().get(0);\n    childRepository.delete(fetchedChild);\n\n    assertEquals(1, parentRepository.count());\n    assertEquals(0, childRepository.count()); // WORKS!\n}\n</code></pre>\n\n<p>Of course it only proves my point and explains the behaviour OP faced. The proper way to go is obviously keeping in sync both parts of relationship which means:</p>\n\n<pre><code>class Parent {\n    ...\n     public void dismissChild(Child child) {\n         this.children.remove(child);\n     }\n\n     public void dismissChildren() {\n        this.children.forEach(child -&gt; child.dismissParent()); // SYNCHRONIZING THE OTHER SIDE OF RELATIONSHIP \n        this.children.clear();\n     }\n\n}\n\nclass Child {\n    ...\n    public void dismissParent() {\n        this.parent.dismissChild(this); //SYNCHRONIZING THE OTHER SIDE OF RELATIONSHIP\n        this.parent = null;\n    }\n}\n</code></pre>\n\n<p>Obviously <code>@PreRemove</code> could be used here.</p>\n"},{"comments":[{"owner":{"account_id":9145233,"reputation":81,"user_id":7944901,"display_name":"Chester mi ni&#241;o"},"score":0,"creation_date":1687567322,"post_id":53450191,"comment_id":134959835,"body_markdown":"I removed @Transactional and added: userRepository.save(user); thank you","body":"I removed @Transactional and added: userRepository.save(user); thank you"}],"tags":[],"owner":{"account_id":4564521,"reputation":177,"user_id":3705883,"accept_rate":70,"display_name":"venge"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1542990742,"creation_date":1542990742,"answer_id":53450191,"question_id":22688402,"body_markdown":"One way is to use `cascade = CascadeType.ALL` like this in your userAccount service:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    private List&lt;Token&gt; tokens;\r\n\r\nThen do something like the following (or similar logic)\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Transactional\r\n    public void deleteUserToken(Token token){\r\n        userAccount.getTokens().remove(token);\r\n    }\r\n\r\nNotice the `@Transactional` annotation. This will allow Spring (Hibernate) to know if you want to either persist, merge, or whatever it is you are doing in the method. AFAIK the example above *should* work as if you had no CascadeType set, and call `JPARepository.delete(token)`.\r\n","title":"Delete Not Working with JpaRepository","body":"<p>One way is to use <code>cascade = CascadeType.ALL</code> like this in your userAccount service:\n</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.ALL)\nprivate List&lt;Token&gt; tokens;\n</code></pre>\n\n<p>Then do something like the following (or similar logic)\n</p>\n\n<pre><code>@Transactional\npublic void deleteUserToken(Token token){\n    userAccount.getTokens().remove(token);\n}\n</code></pre>\n\n<p>Notice the <code>@Transactional</code> annotation. This will allow Spring (Hibernate) to know if you want to either persist, merge, or whatever it is you are doing in the method. AFAIK the example above <em>should</em> work as if you had no CascadeType set, and call <code>JPARepository.delete(token)</code>.</p>\n"},{"tags":[],"owner":{"account_id":9628037,"reputation":43,"user_id":7147007,"display_name":"Federico Quaglia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556609980,"creation_date":1556609980,"answer_id":55916042,"question_id":22688402,"body_markdown":"I&#39;ve the same problem, test is ok but on db row isn&#39;t deleted.\r\n\r\nhave you added the @Transactional annotation to method? for me this change makes it work ","title":"Delete Not Working with JpaRepository","body":"<p>I've the same problem, test is ok but on db row isn't deleted.</p>\n\n<p>have you added the @Transactional annotation to method? for me this change makes it work </p>\n"},{"tags":[],"owner":{"account_id":12114036,"reputation":471,"user_id":9950567,"display_name":"Sham Fiorin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565010169,"creation_date":1565010169,"answer_id":57359176,"question_id":22688402,"body_markdown":"In my case was the CASCADE.PERSIST, i changed for CASCADE.ALL, and made the change through the cascade (changing the father object).\r\n\r\n","title":"Delete Not Working with JpaRepository","body":"<p>In my case was the CASCADE.PERSIST, i changed for CASCADE.ALL, and made the change through the cascade (changing the father object).</p>\n"},{"tags":[],"owner":{"account_id":1058465,"reputation":353,"user_id":1060619,"display_name":"Dejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566888797,"creation_date":1566888797,"answer_id":57669102,"question_id":22688402,"body_markdown":"CascadeType.PERSIST and orphanRemoval=true doesn&#39;t work together.","title":"Delete Not Working with JpaRepository","body":"<p>CascadeType.PERSIST and orphanRemoval=true doesn't work together.</p>\n"},{"tags":[],"owner":{"account_id":95669,"reputation":3983,"user_id":260411,"accept_rate":88,"display_name":"Toribio"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587048181,"creation_date":1587048181,"answer_id":61253080,"question_id":22688402,"body_markdown":"This is for anyone coming from Google on why their delete method is not working in **Spring Boot/Hibernate**, whether it&#39;s used from the JpaRepository/CrudRepository&#39;s `delete` or from a custom repository calling `session.delete(entity)` or `entityManager.remove(entity)`.\r\n\r\nI was upgrading from Spring Boot 1.5 to version 2.2.6 (and Hibernate 5.4.13) and had been using a custom configuration for `transactionManager`, something like this:\r\n\r\n    @Bean\r\n    public HibernateTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n        return new HibernateTransactionManager(entityManagerFactory.unwrap(SessionFactory.class));\r\n    }\r\n\r\n**And I managed to solve it by using `@EnableTransactionManagement` and deleting the custom \r\n`transactionManager` bean definition above.**\r\n\r\nIf you still have to use a custom transaction manager of sorts, changing the bean definition to the code below may also work:\r\n\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\r\n        return new JpaTransactionManager(entityManagerFactory);\r\n    }\r\n\r\nAs a final note, remember to enable Spring Boot&#39;s auto-configuration so the `entityManagerFactory` bean can be created automatically, and also remove any `sessionFactory` bean if you&#39;re upgrading to `entityManager` (otherwise Spring Boot won&#39;t do the auto-configuration properly). And lastly, ensure that your methods are `@Transactional` if you&#39;re not dealing with transactions manually.","title":"Delete Not Working with JpaRepository","body":"<p>This is for anyone coming from Google on why their delete method is not working in <strong>Spring Boot/Hibernate</strong>, whether it's used from the JpaRepository/CrudRepository's <code>delete</code> or from a custom repository calling <code>session.delete(entity)</code> or <code>entityManager.remove(entity)</code>.</p>\n\n<p>I was upgrading from Spring Boot 1.5 to version 2.2.6 (and Hibernate 5.4.13) and had been using a custom configuration for <code>transactionManager</code>, something like this:</p>\n\n<pre><code>@Bean\npublic HibernateTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n    return new HibernateTransactionManager(entityManagerFactory.unwrap(SessionFactory.class));\n}\n</code></pre>\n\n<p><strong>And I managed to solve it by using <code>@EnableTransactionManagement</code> and deleting the custom \n<code>transactionManager</code> bean definition above.</strong></p>\n\n<p>If you still have to use a custom transaction manager of sorts, changing the bean definition to the code below may also work:</p>\n\n<pre><code>@Bean\npublic PlatformTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n    return new JpaTransactionManager(entityManagerFactory);\n}\n</code></pre>\n\n<p>As a final note, remember to enable Spring Boot's auto-configuration so the <code>entityManagerFactory</code> bean can be created automatically, and also remove any <code>sessionFactory</code> bean if you're upgrading to <code>entityManager</code> (otherwise Spring Boot won't do the auto-configuration properly). And lastly, ensure that your methods are <code>@Transactional</code> if you're not dealing with transactions manually.</p>\n"},{"tags":[],"owner":{"account_id":10228606,"reputation":71,"user_id":7550229,"display_name":"M Shafaghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597666981,"creation_date":1597666981,"answer_id":63450739,"question_id":22688402,"body_markdown":"   \r\n    @Transactional\r\n    int deleteAuthorByName(String name);\r\n\r\n\r\nyou should write @Transactional in Repository extends JpaRepository","title":"Delete Not Working with JpaRepository","body":"<pre><code>@Transactional\nint deleteAuthorByName(String name);\n</code></pre>\n<p>you should write @Transactional in Repository extends JpaRepository</p>\n"},{"tags":[],"owner":{"account_id":16224731,"reputation":101,"user_id":11715400,"display_name":"Dhawal Kamdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645129813,"creation_date":1645030730,"answer_id":71146102,"question_id":22688402,"body_markdown":"I was facing the similar issue.\r\n\r\n# Solution 1:\r\n\r\nThe reason why the records are not being deleted could be that the entities are still attached. So we&#39;ve to detach them first and then try to delete them.\r\n\r\nHere is my code example:\r\n\r\n`User Entity:`\r\n\r\n    @Entity\r\n    public class User {\r\n    \t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n        private List&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n`Contact Entity:`\r\n\r\n    @Entity\r\n    public class Contact {\r\n    \t@Id\r\n        private int cId;\r\n    \t\r\n    \t@ManyToOne\r\n        private User user;\r\n    }\r\n\r\n`Delete Code:`\r\n\r\n    user.getContacts().removeIf(c -&gt; c.getcId() == contact.getcId());\r\n    this.userRepository.save(user);\r\n    this.contactRepository.delete(contact);\r\n\r\nHere we are first removing the Contact object (which we want to delete) from the User&#39;s contacts ArrayList, and then we are using the delete() method.\r\n\r\n# Solution 2:\r\n\r\nHere we are using the **orphanRemoval** attribute, which is used to delete orphaned entities from the database. An entity that is no longer attached to its parent is known as an orphaned entity.\r\n\r\nCode example:\r\n\r\n`User Entity:`\r\n\r\n    @Entity\r\n    public class User {\r\n    \t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n        private List&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\r\n`Contact Entity:`\r\n\r\n    @Entity\r\n    public class Contact {\r\n    \t@Id\r\n        private int cId;\r\n    \t\r\n    \t@ManyToOne\r\n        private User user;\r\n    }\r\n\r\n\r\n`Delete Code:`\r\n\r\n    user.getContacts().removeIf(c -&gt; c.getcId() == contact.getcId());\r\n    this.userRepository.save(user);\r\n\r\nHere, as the Contact entity is no longer attached to its parent, it is an orphaned entity and will be deleted from the database.","title":"Delete Not Working with JpaRepository","body":"<p>I was facing the similar issue.</p>\n<h1>Solution 1:</h1>\n<p>The reason why the records are not being deleted could be that the entities are still attached. So we've to detach them first and then try to delete them.</p>\n<p>Here is my code example:</p>\n<p><code>User Entity:</code></p>\n<pre><code>@Entity\npublic class User {\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n    private List&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p><code>Contact Entity:</code></p>\n<pre><code>@Entity\npublic class Contact {\n    @Id\n    private int cId;\n    \n    @ManyToOne\n    private User user;\n}\n</code></pre>\n<p><code>Delete Code:</code></p>\n<pre><code>user.getContacts().removeIf(c -&gt; c.getcId() == contact.getcId());\nthis.userRepository.save(user);\nthis.contactRepository.delete(contact);\n</code></pre>\n<p>Here we are first removing the Contact object (which we want to delete) from the User's contacts ArrayList, and then we are using the delete() method.</p>\n<h1>Solution 2:</h1>\n<p>Here we are using the <strong>orphanRemoval</strong> attribute, which is used to delete orphaned entities from the database. An entity that is no longer attached to its parent is known as an orphaned entity.</p>\n<p>Code example:</p>\n<p><code>User Entity:</code></p>\n<pre><code>@Entity\npublic class User {\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, orphanRemoval = true)\n    private List&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p><code>Contact Entity:</code></p>\n<pre><code>@Entity\npublic class Contact {\n    @Id\n    private int cId;\n    \n    @ManyToOne\n    private User user;\n}\n</code></pre>\n<p><code>Delete Code:</code></p>\n<pre><code>user.getContacts().removeIf(c -&gt; c.getcId() == contact.getcId());\nthis.userRepository.save(user);\n</code></pre>\n<p>Here, as the Contact entity is no longer attached to its parent, it is an orphaned entity and will be deleted from the database.</p>\n"},{"tags":[],"owner":{"account_id":10150878,"reputation":26,"user_id":7497544,"display_name":"Adam Botha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676012589,"creation_date":1676012589,"answer_id":75407879,"question_id":22688402,"body_markdown":"Try calling `deleteById` instead of `delete` on the repository. I also noticed that you are providing an `Optional` entity to the `delete` (since findOne returns an `Optional` entity). It is actually strange that you are not getting any compilation errors because of this. Anyways, my thinking is that the repository is not finding the entity to delete.\r\n\r\nTry this instead:\r\n\r\n```\r\n@Test\r\npublic void testDeleteToken() {\r\n    assertThat(tokenRepository.findAll().size(), is(2));\r\n\r\n    Optional&lt;Token&gt; toDelete = tokenRepository.findOne(1L);\r\n    toDelete.ifExists(toDeleteThatExists -&gt; tokenRepository.deleteById(toDeleteThatExists.getId()))\r\n\r\n    tokenRepository.flush();\r\n    assertThat(tokenRepository.findAll().size(), is(1));\r\n}\r\n```\r\n\r\nBy doing the above, you can avoid having to add the `@Modifying` query to your repository (since what you are implementing in that `@Modifying` query is essentially the same as calling `deleteById`, which already exists on the JpaRepository interface).\r\n\r\n","title":"Delete Not Working with JpaRepository","body":"<p>Try calling <code>deleteById</code> instead of <code>delete</code> on the repository. I also noticed that you are providing an <code>Optional</code> entity to the <code>delete</code> (since findOne returns an <code>Optional</code> entity). It is actually strange that you are not getting any compilation errors because of this. Anyways, my thinking is that the repository is not finding the entity to delete.</p>\n<p>Try this instead:</p>\n<pre><code>@Test\npublic void testDeleteToken() {\n    assertThat(tokenRepository.findAll().size(), is(2));\n\n    Optional&lt;Token&gt; toDelete = tokenRepository.findOne(1L);\n    toDelete.ifExists(toDeleteThatExists -&gt; tokenRepository.deleteById(toDeleteThatExists.getId()))\n\n    tokenRepository.flush();\n    assertThat(tokenRepository.findAll().size(), is(1));\n}\n</code></pre>\n<p>By doing the above, you can avoid having to add the <code>@Modifying</code> query to your repository (since what you are implementing in that <code>@Modifying</code> query is essentially the same as calling <code>deleteById</code>, which already exists on the JpaRepository interface).</p>\n"}],"owner":{"account_id":1910474,"reputation":1273,"user_id":1724420,"display_name":"userspaced"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157408,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"answer_count":14,"score":107,"last_activity_date":1676012589,"creation_date":1395925170,"question_id":22688402,"body_markdown":"I have a spring 4 app where I&#39;m trying to delete an instance of an entity from my database.  I have the following entity:\r\n\r\n    @Entity\r\n    public class Token implements Serializable {\r\n      \r\n        @Id\r\n        @SequenceGenerator(name = &quot;seqToken&quot;, sequenceName = &quot;SEQ_TOKEN&quot;, initialValue = 500, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seqToken&quot;)\r\n        @Column(name = &quot;TOKEN_ID&quot;, nullable = false, precision = 19, scale = 0)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;VALUE&quot;, unique = true)\r\n        private String value;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;USER_ACCOUNT_ID&quot;, nullable = false)\r\n        private UserAccount userAccount;\r\n        \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @Column(name = &quot;EXPIRES&quot;, length = 11)\r\n        private Date expires;\r\n        \r\n        ...\r\n        // getters and setters omitted to keep it simple\r\n    }\r\n\r\nI have a JpaRepository interface defined:\r\n\r\n    public interface TokenRepository extends JpaRepository&lt;Token, Long&gt; {\r\n    \r\n        Token findByValue(@Param(&quot;value&quot;) String value);\r\n    \r\n    }\r\n\r\nI have a unit test setup that works with an in memory database (H2) and I am pre-filling the database with two tokens:\r\n\r\n    @Test\r\n    public void testDeleteToken() {\r\n        assertThat(tokenRepository.findAll().size(), is(2));\r\n        Token deleted = tokenRepository.findOne(1L);\r\n        tokenRepository.delete(deleted);\r\n        tokenRepository.flush();\r\n        assertThat(tokenRepository.findAll().size(), is(1));\r\n    }\r\n\r\nThe first assertion passes, the second fails.  I tried another test that changes the token value and saves that to the database and it does indeed work, so I&#39;m not sure why delete isn&#39;t working.  It doesn&#39;t throw any exceptions either, just doesn&#39;t persist it to the database.  It doesn&#39;t work against my oracle database either.\r\n\r\n\r\n----------\r\n\r\n\r\n**Edit**\r\n========\r\n\r\nStill having this issue. I was able to get the delete to persist to the database by adding this to my TokenRepository interface:\r\n\r\n    @Modifying\r\n    @Query(&quot;delete from Token t where t.id = ?1&quot;)\r\n    void delete(Long entityId);\r\n\r\nHowever this is not an ideal solution. Any ideas as to what I need to do to get it working without this extra method?","title":"Delete Not Working with JpaRepository","body":"<p>I have a spring 4 app where I'm trying to delete an instance of an entity from my database.  I have the following entity:</p>\n\n<pre><code>@Entity\npublic class Token implements Serializable {\n\n    @Id\n    @SequenceGenerator(name = \"seqToken\", sequenceName = \"SEQ_TOKEN\", initialValue = 500, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"seqToken\")\n    @Column(name = \"TOKEN_ID\", nullable = false, precision = 19, scale = 0)\n    private Long id;\n\n    @NotNull\n    @Column(name = \"VALUE\", unique = true)\n    private String value;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = \"USER_ACCOUNT_ID\", nullable = false)\n    private UserAccount userAccount;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = \"EXPIRES\", length = 11)\n    private Date expires;\n\n    ...\n    // getters and setters omitted to keep it simple\n}\n</code></pre>\n\n<p>I have a JpaRepository interface defined:</p>\n\n<pre><code>public interface TokenRepository extends JpaRepository&lt;Token, Long&gt; {\n\n    Token findByValue(@Param(\"value\") String value);\n\n}\n</code></pre>\n\n<p>I have a unit test setup that works with an in memory database (H2) and I am pre-filling the database with two tokens:</p>\n\n<pre><code>@Test\npublic void testDeleteToken() {\n    assertThat(tokenRepository.findAll().size(), is(2));\n    Token deleted = tokenRepository.findOne(1L);\n    tokenRepository.delete(deleted);\n    tokenRepository.flush();\n    assertThat(tokenRepository.findAll().size(), is(1));\n}\n</code></pre>\n\n<p>The first assertion passes, the second fails.  I tried another test that changes the token value and saves that to the database and it does indeed work, so I'm not sure why delete isn't working.  It doesn't throw any exceptions either, just doesn't persist it to the database.  It doesn't work against my oracle database either.</p>\n\n<hr>\n\n<h1><strong>Edit</strong></h1>\n\n<p>Still having this issue. I was able to get the delete to persist to the database by adding this to my TokenRepository interface:</p>\n\n<pre><code>@Modifying\n@Query(\"delete from Token t where t.id = ?1\")\nvoid delete(Long entityId);\n</code></pre>\n\n<p>However this is not an ideal solution. Any ideas as to what I need to do to get it working without this extra method?</p>\n"},{"tags":["java","android","google-api","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":3891523,"reputation":1159,"user_id":3221576,"accept_rate":86,"display_name":"KCE"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1465770376,"creation_date":1465770376,"answer_id":37779681,"question_id":37652328,"body_markdown":"I think what you want to do is check the list of running apps before initializing your app. Each of the SDKs have a method for getting this array, in android it&#39;s `getApps`:\r\n\r\nhttps://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseApp.html\r\n\r\nThen you can check to see if your app is already initialized.\r\n\r\nIn my case I just ended up checking the length of the array (I&#39;m using the javascript / web sdk so I&#39;m sure it&#39;s a little different for Android) and initializing a new app if it is 0.","title":"How to check if a Firebase App is already initialized on Android","body":"<p>I think what you want to do is check the list of running apps before initializing your app. Each of the SDKs have a method for getting this array, in android it's <code>getApps</code>:</p>\n\n<p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseApp.html\" rel=\"noreferrer\">https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseApp.html</a></p>\n\n<p>Then you can check to see if your app is already initialized.</p>\n\n<p>In my case I just ended up checking the length of the array (I'm using the javascript / web sdk so I'm sure it's a little different for Android) and initializing a new app if it is 0.</p>\n"},{"comments":[{"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"score":3,"creation_date":1516367337,"post_id":41005100,"comment_id":83668916,"body_markdown":"Cool but in android this impossible","body":"Cool but in android this impossible"},{"owner":{"account_id":2242598,"reputation":1157,"user_id":1976720,"accept_rate":73,"display_name":"eoinmullan"},"score":0,"creation_date":1594329661,"post_id":41005100,"comment_id":111096759,"body_markdown":"I had been using the `App` returned from `initializeApp()` but with the above approach this is no longer possible, so I&#39;m using now `firebase.app(&#39;[DEFAULT]&#39;)`, but I&#39;m not sure if that&#39;s recommended.","body":"I had been using the <code>App</code> returned from <code>initializeApp()</code> but with the above approach this is no longer possible, so I&#39;m using now <code>firebase.app(&#39;[DEFAULT]&#39;)</code>, but I&#39;m not sure if that&#39;s recommended."},{"owner":{"account_id":15265405,"reputation":323,"user_id":11014216,"display_name":"Pumuckelo"},"score":1,"creation_date":1627972413,"post_id":41005100,"comment_id":121290412,"body_markdown":"@eoinmullan this worked for me https://githubmemory.com/repo/firebase/firebase-js-sdk/issues/5037","body":"@eoinmullan this worked for me <a href=\"https://githubmemory.com/repo/firebase/firebase-js-sdk/issues/5037\" rel=\"nofollow noreferrer\">githubmemory.com/repo/firebase/firebase-js-sdk/issues/5037</a>"},{"owner":{"account_id":238356,"reputation":6988,"user_id":507203,"accept_rate":84,"display_name":"cjmling"},"score":0,"creation_date":1632728346,"post_id":41005100,"comment_id":122561295,"body_markdown":"and in case if you want to get instance in else you can get by `firebase.app();`","body":"and in case if you want to get instance in else you can get by <code>firebase.app();</code>"},{"owner":{"account_id":19038526,"reputation":514,"user_id":13899155,"display_name":"Ayush Kumar"},"score":0,"creation_date":1637084821,"post_id":41005100,"comment_id":123729753,"body_markdown":"Can you update it to web 9?","body":"Can you update it to web 9?"}],"tags":[],"owner":{"account_id":1911513,"reputation":2638,"user_id":1725215,"display_name":"Daniel Laurindo"},"comment_count":5,"down_vote_count":3,"up_vote_count":229,"is_accepted":true,"score":226,"last_activity_date":1581522567,"creation_date":1481059099,"answer_id":41005100,"question_id":37652328,"body_markdown":"On firebase web, you check if already initialized with:\r\n\r\n    if (firebase.apps.length === 0) {\r\n        firebase.initializeApp({});\r\n    }\r\n","title":"How to check if a Firebase App is already initialized on Android","body":"<p>On firebase web, you check if already initialized with:</p>\n\n<pre><code>if (firebase.apps.length === 0) {\n    firebase.initializeApp({});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6577381,"reputation":185,"user_id":5082866,"display_name":"Harendra Kr. Jadon"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507709634,"creation_date":1507709634,"answer_id":46683124,"question_id":37652328,"body_markdown":"I faced the similar issue, I resolved it as following:\r\n\r\n 1. Create a var for the application and initialize it with null\r\n 2. Take reference of the application while initialization\r\n 3. Check before initializing it again\r\n\r\n\r\n----------\r\n\r\n\r\n    //global variable\r\n    var firebaseResumeDownloadAdd = null;\r\n    \r\n    //inside function check before initializing\r\n    if(firebaseResumeDownloadAdd==null){\r\n       firebaseResumeDownloadAdd =\r\n       firebase.initializeApp(functions.config().firebase);\r\n    }","title":"How to check if a Firebase App is already initialized on Android","body":"<p>I faced the similar issue, I resolved it as following:</p>\n\n<ol>\n<li>Create a var for the application and initialize it with null</li>\n<li>Take reference of the application while initialization</li>\n<li>Check before initializing it again</li>\n</ol>\n\n<hr>\n\n<pre><code>//global variable\nvar firebaseResumeDownloadAdd = null;\n\n//inside function check before initializing\nif(firebaseResumeDownloadAdd==null){\n   firebaseResumeDownloadAdd =\n   firebase.initializeApp(functions.config().firebase);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"score":0,"creation_date":1561945365,"post_id":47880299,"comment_id":100210825,"body_markdown":"doesn&#39;t work anymore - https://github.com/zeit/next.js/issues/1999#issuecomment-302244429","body":"doesn&#39;t work anymore - <a href=\"https://github.com/zeit/next.js/issues/1999#issuecomment-302244429\" rel=\"nofollow noreferrer\">github.com/zeit/next.js/issues/1999#issuecomment-302244429</a>"}],"tags":[],"owner":{"account_id":9248166,"reputation":69,"user_id":6869438,"display_name":"Manoj Pathak"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1513659776,"creation_date":1513659776,"answer_id":47880299,"question_id":37652328,"body_markdown":"I faced the similar issue.\r\nI solved the following problem by deleting the already initialized app.\r\n\r\n        // Access your firebase app\r\n        let app = firebase.app();\r\n        // Delete your app.\r\n        app.delete(app);\r\n\r\nSolution works for web.","title":"How to check if a Firebase App is already initialized on Android","body":"<p>I faced the similar issue.\nI solved the following problem by deleting the already initialized app.</p>\n\n<pre><code>    // Access your firebase app\n    let app = firebase.app();\n    // Delete your app.\n    app.delete(app);\n</code></pre>\n\n<p>Solution works for web.</p>\n"},{"tags":[],"owner":{"account_id":610458,"reputation":5834,"user_id":333381,"display_name":"Jorge Arimany"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1513790424,"creation_date":1513790424,"answer_id":47911300,"question_id":37652328,"body_markdown":"You can try to get the Firebase app instance, in it&#39;s code firebase checks if it&#39;s initialized, if not it throws an `IllegalStateException`.\r\n\r\n        try{\r\n\t\t\tFirebaseApp.getInstance();\r\n\t\t}\r\n\t\tcatch (IllegalStateException e)\r\n\t\t{\r\n\t\t\t//Firebase not initialized automatically, do it manually\r\n\t\t\tFirebaseApp.initializeApp(this);\r\n\t\t}\r\n\r\n\r\n","title":"How to check if a Firebase App is already initialized on Android","body":"<p>You can try to get the Firebase app instance, in it's code firebase checks if it's initialized, if not it throws an <code>IllegalStateException</code>.</p>\n\n<pre><code>    try{\n        FirebaseApp.getInstance();\n    }\n    catch (IllegalStateException e)\n    {\n        //Firebase not initialized automatically, do it manually\n        FirebaseApp.initializeApp(this);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960314,"reputation":20995,"user_id":984830,"accept_rate":93,"display_name":"Nick Cardoso"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1528198635,"creation_date":1528198635,"answer_id":50699136,"question_id":37652328,"body_markdown":"For those wondering how to do the same as the accepted answer, in Android:\r\n\r\n\r\n    if (FirebaseApp.getApps(context).isEmpty()) {\r\n        FirebaseApp.initializeApp(context);\r\n    }\r\n\r\nand in an instrumented test environment, use this context:\r\n\r\n    InstrumentationRegistry.getContext()","title":"How to check if a Firebase App is already initialized on Android","body":"<p>For those wondering how to do the same as the accepted answer, in Android:</p>\n\n<pre><code>if (FirebaseApp.getApps(context).isEmpty()) {\n    FirebaseApp.initializeApp(context);\n}\n</code></pre>\n\n<p>and in an instrumented test environment, use this context:</p>\n\n<pre><code>InstrumentationRegistry.getContext()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394569,"reputation":110,"user_id":1324612,"display_name":"razorRun"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1580625177,"creation_date":1580625177,"answer_id":60023793,"question_id":37652328,"body_markdown":"Not sure in android, but how about using a singleton method. In JS you can do this. Hope this helps someone \r\n\r\n    // Config file\r\n    import * as firebase from &quot;firebase&quot;;\r\n\r\n    const config = {...};\r\n    \r\n    export default !firebase.apps.length ? firebase.initializeApp(config) : firebase.app();\r\n    \r\n    // Other file\r\n    import firebase from &#39;../firebase&#39;;\r\n\r\n","title":"How to check if a Firebase App is already initialized on Android","body":"<p>Not sure in android, but how about using a singleton method. In JS you can do this. Hope this helps someone </p>\n\n<pre><code>// Config file\nimport * as firebase from \"firebase\";\n\nconst config = {...};\n\nexport default !firebase.apps.length ? firebase.initializeApp(config) : firebase.app();\n\n// Other file\nimport firebase from '../firebase';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3198933,"reputation":169,"user_id":2701425,"display_name":"edyrkaj"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1584148052,"creation_date":1584148052,"answer_id":60678870,"question_id":37652328,"body_markdown":"If you are using Nativescript to build an hybrid mobile app for Android | iOS you can use this script:\r\n\r\n\r\n```\r\nimport * as firebase from &#39;nativescript-plugin-firebase&#39;;\r\n\r\n_initFirebase(): Promise&lt;any&gt; {\r\n    if (!(firebase as any).initialized) {\r\n      return firebase.init({}).then(\r\n        () =&gt; {\r\n          console.info(&#39;firebase started...&#39;);\r\n        },\r\n        (error) =&gt; console.error(error)\r\n      );\r\n    }\r\n  }\r\n\r\n\r\n```","title":"How to check if a Firebase App is already initialized on Android","body":"<p>If you are using Nativescript to build an hybrid mobile app for Android | iOS you can use this script:</p>\n\n<pre><code>import * as firebase from 'nativescript-plugin-firebase';\n\n_initFirebase(): Promise&lt;any&gt; {\n    if (!(firebase as any).initialized) {\n      return firebase.init({}).then(\n        () =&gt; {\n          console.info('firebase started...');\n        },\n        (error) =&gt; console.error(error)\n      );\n    }\n  }\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355005,"reputation":7146,"user_id":693687,"accept_rate":50,"display_name":"J&#252;rgen Brandstetter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604577920,"creation_date":1604577920,"answer_id":64696853,"question_id":37652328,"body_markdown":"```\r\nimport * as firebase from &quot;firebase/app&quot;;\r\nfirebase.apps.map(e =&gt; e.name); // Give you an array of initialized apps\r\n```","title":"How to check if a Firebase App is already initialized on Android","body":"<pre><code>import * as firebase from &quot;firebase/app&quot;;\nfirebase.apps.map(e =&gt; e.name); // Give you an array of initialized apps\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6919146,"reputation":5271,"user_id":5312371,"accept_rate":82,"display_name":"Mina Farid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616924696,"creation_date":1616924387,"answer_id":66840056,"question_id":37652328,"body_markdown":"in Android, depending on **Daniel Laurindo&#39;s** answer:\r\n\r\n    if (FirebaseApp.getApps(context).size != 0) {\r\n\r\n    } ","title":"How to check if a Firebase App is already initialized on Android","body":"<p>in Android, depending on <strong>Daniel Laurindo's</strong> answer:</p>\n<pre><code>if (FirebaseApp.getApps(context).size != 0) {\n\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":4145233,"reputation":486,"user_id":3399180,"display_name":"user3399180"},"score":0,"creation_date":1651122038,"post_id":67144062,"comment_id":127288621,"body_markdown":"I tried this but I get this error - https://stackoverflow.com/questions/72028182/how-to-initialize-firebase-in-firebase-version-9-firebase-v9/72029160#72029160","body":"I tried this but I get this error - <a href=\"https://stackoverflow.com/questions/72028182/how-to-initialize-firebase-in-firebase-version-9-firebase-v9/72029160#72029160\" title=\"how to initialize firebase in firebase version 9 firebase v9\">stackoverflow.com/questions/72028182/&hellip;</a>"}],"tags":[],"owner":{"account_id":1732135,"reputation":7347,"user_id":1585523,"accept_rate":60,"display_name":"Nitin"},"comment_count":1,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1618704249,"creation_date":1618704249,"answer_id":67144062,"question_id":37652328,"body_markdown":"In v9, Firebase has been modularized for better tree shaking. So we can no longer import entire app and check the `apps` property AFAIK. The below approach can be used instead.\r\n\r\n```js\r\nimport { initializeApp, getApps, getApp } from &quot;firebase/app&quot;;\r\ngetApps().length === 0 ? initializeApp(firebaseConfig) : getApp();\r\n```\r\n\r\nhttps://firebase.google.com/docs/reference/js/v9/app.md#getapps for documentation","title":"How to check if a Firebase App is already initialized on Android","body":"<p>In v9, Firebase has been modularized for better tree shaking. So we can no longer import entire app and check the <code>apps</code> property AFAIK. The below approach can be used instead.</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { initializeApp, getApps, getApp } from &quot;firebase/app&quot;;\ngetApps().length === 0 ? initializeApp(firebaseConfig) : getApp();\n</code></pre>\n<p><a href=\"https://firebase.google.com/docs/reference/js/v9/app.md#getapps\" rel=\"noreferrer\">https://firebase.google.com/docs/reference/js/v9/app.md#getapps</a> for documentation</p>\n"},{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621196894,"creation_date":1621196894,"answer_id":67561308,"question_id":37652328,"body_markdown":"In firebase admin SDK for java, initialize the app if and only if there is no app.\r\n\r\n```java\r\nif (FirebaseApp.getApps().isEmpty()) {\r\n    FirebaseApp.initializeApp();\r\n}\r\n```","title":"How to check if a Firebase App is already initialized on Android","body":"<p>In firebase admin SDK for java, initialize the app if and only if there is no app.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (FirebaseApp.getApps().isEmpty()) {\n    FirebaseApp.initializeApp();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2847621,"reputation":135,"user_id":2445583,"accept_rate":100,"display_name":"mr3mo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623678420,"creation_date":1623678420,"answer_id":67971436,"question_id":37652328,"body_markdown":"A cleaner solution for ES6+ is \r\n\r\n```javascript\r\n\r\nif (!firebase.apps.length) {\r\n ...\r\n}\r\n```","title":"How to check if a Firebase App is already initialized on Android","body":"<p>A cleaner solution for ES6+ is</p>\n<pre class=\"lang-js prettyprint-override\"><code>\nif (!firebase.apps.length) {\n ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20870480,"reputation":200,"user_id":15330564,"display_name":"Levi Wilkerson"},"score":0,"creation_date":1645538450,"post_id":68232389,"comment_id":125893781,"body_markdown":"Thank you. One of the few explanations that make sense for being able to export the firebaseApp variable.","body":"Thank you. One of the few explanations that make sense for being able to export the firebaseApp variable."},{"owner":{"account_id":11739465,"reputation":28833,"user_id":10128619,"display_name":"cbdeveloper"},"score":0,"creation_date":1662967743,"post_id":68232389,"comment_id":130119715,"body_markdown":"How to do it with `firebase-admin` ? Any ideas?","body":"How to do it with <code>firebase-admin</code> ? Any ideas?"}],"tags":[],"owner":{"account_id":7352334,"reputation":1090,"user_id":5598044,"display_name":"Max Ma"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1625271969,"creation_date":1625271969,"answer_id":68232389,"question_id":37652328,"body_markdown":"Firebase Version 9\r\n\r\n```javascript\r\nimport { initializeApp, getApp } from &quot;firebase/app&quot;;\r\n\r\nconst createFirebaseApp = (config = {}) =&gt; {\r\n  try {\r\n    return getApp();\r\n  } catch () {\r\n    return initializeApp(config);\r\n  }\r\n};\r\n\r\nconst firebaseApp = createFirebaseApp({/* your config */})\r\n```","title":"How to check if a Firebase App is already initialized on Android","body":"<p>Firebase Version 9</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { initializeApp, getApp } from &quot;firebase/app&quot;;\n\nconst createFirebaseApp = (config = {}) =&gt; {\n  try {\n    return getApp();\n  } catch () {\n    return initializeApp(config);\n  }\n};\n\nconst firebaseApp = createFirebaseApp({/* your config */})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4066076,"reputation":2498,"user_id":3340968,"accept_rate":43,"display_name":"Yasir Shabbir Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625561941,"creation_date":1625561941,"answer_id":68267496,"question_id":37652328,"body_markdown":"Simple use Java 8 Stream and Optional featured.\r\n\r\nCode below as \r\n\r\n    FirebaseApp.getApps()\r\n    .stream()\r\n    .filter(firebaseApp -&gt; \r\n        firebaseApp.getName().equals(&quot;APP_NAME&quot;))\r\n       .findFirst()\r\n       .orElseGet(() -&gt; FirebaseApp.initializeApp(firebaseOptions, &quot;APP_NAME&quot;));","title":"How to check if a Firebase App is already initialized on Android","body":"<p>Simple use Java 8 Stream and Optional featured.</p>\n<p>Code below as</p>\n<pre><code>FirebaseApp.getApps()\n.stream()\n.filter(firebaseApp -&gt; \n    firebaseApp.getName().equals(&quot;APP_NAME&quot;))\n   .findFirst()\n   .orElseGet(() -&gt; FirebaseApp.initializeApp(firebaseOptions, &quot;APP_NAME&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9964271,"reputation":843,"user_id":9108471,"display_name":"Zeeshan Ahmad Khalil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627362870,"creation_date":1627362870,"answer_id":68539299,"question_id":37652328,"body_markdown":"For those who are using dotNet FirebaseAdmin SDK\r\n\r\n    if (FirebaseApp.GetInstance(&quot;[DEFAULT]&quot;) == null)\r\n    {\r\n        var createdApp = FirebaseApp.Create(new AppOptions()\r\n        {\r\n            Credential = GoogleCredential.FromFile(&quot;private-key.json&quot;)\r\n        });\r\n    }","title":"How to check if a Firebase App is already initialized on Android","body":"<p>For those who are using dotNet FirebaseAdmin SDK</p>\n<pre><code>if (FirebaseApp.GetInstance(&quot;[DEFAULT]&quot;) == null)\n{\n    var createdApp = FirebaseApp.Create(new AppOptions()\n    {\n        Credential = GoogleCredential.FromFile(&quot;private-key.json&quot;)\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22063450,"reputation":1,"user_id":16325695,"display_name":"awes0m"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649320268,"creation_date":1649320268,"answer_id":71778788,"question_id":37652328,"body_markdown":"Th\r\nUse Platform check to initialize according to environment\r\n\r\nOn firebase web, you check if already initialized with\r\n\r\nuse the below snippet while launching MYAPP()\r\n\r\n    import &#39;dart:io&#39;;\r\n\r\n    void main() async {\r\n\r\n  WidgetsFlutterBinding.ensureInitialized();\r\n\r\n  if (Platform.isAndroid || Platform.isIOS) {\r\n\r\n    await Firebase.initializeApp();\r\n\r\n  } else {\r\n\r\n    if (Firebase.apps.isEmpty) {\r\n\r\n      await Firebase.initializeApp(\r\n\r\n          // connect for web to firebase\r\n          options:firebaseOptions\r\n\r\n    }\r\n\r\n  }\r\n  runApp(const MyApp());\r\n\r\n}\r\n","title":"How to check if a Firebase App is already initialized on Android","body":"<p>Th\nUse Platform check to initialize according to environment</p>\n<p>On firebase web, you check if already initialized with</p>\n<p>use the below snippet while launching MYAPP()</p>\n<pre><code>import 'dart:io';\n\nvoid main() async {\n</code></pre>\n<p>WidgetsFlutterBinding.ensureInitialized();</p>\n<p>if (Platform.isAndroid || Platform.isIOS) {</p>\n<pre><code>await Firebase.initializeApp();\n</code></pre>\n<p>} else {</p>\n<pre><code>if (Firebase.apps.isEmpty) {\n\n  await Firebase.initializeApp(\n\n      // connect for web to firebase\n      options:firebaseOptions\n\n}\n</code></pre>\n<p>}\nrunApp(const MyApp());</p>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1669125117,"post_id":74530546,"comment_id":131568933,"body_markdown":"Just a coding style thing, but I don&#39;t think it&#39;s good to treat numbers as Booleans like that.","body":"Just a coding style thing, but I don&#39;t think it&#39;s good to treat numbers as Booleans like that."}],"tags":[],"owner":{"account_id":22659108,"reputation":169,"user_id":16832516,"display_name":"RaySun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669110530,"creation_date":1669110530,"answer_id":74530546,"question_id":37652328,"body_markdown":"    const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();","title":"How to check if a Firebase App is already initialized on Android","body":"<pre><code>const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25747385,"reputation":1,"user_id":19500414,"display_name":"ronthetech"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673620615,"creation_date":1673620615,"answer_id":75110624,"question_id":37652328,"body_markdown":"For web, you could use:\r\n```\r\nimport { getApp, initializeApp } from &quot;firebase/app&quot;\r\n\r\nconst firebaseConfig = {/* YOUR CONFIG */}\r\n\r\nfunction createFirebaseApp(config) {\r\n\ttry {\r\n\t\treturn getApp()\r\n\t} catch {\r\n\t\treturn initializeApp(config)\r\n\t}\r\n}\r\n\r\nconst firebaseApp = createFirebaseApp(firebaseConfig)\r\n```","title":"How to check if a Firebase App is already initialized on Android","body":"<p>For web, you could use:</p>\n<pre><code>import { getApp, initializeApp } from &quot;firebase/app&quot;\n\nconst firebaseConfig = {/* YOUR CONFIG */}\n\nfunction createFirebaseApp(config) {\n    try {\n        return getApp()\n    } catch {\n        return initializeApp(config)\n    }\n}\n\nconst firebaseApp = createFirebaseApp(firebaseConfig)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27750503,"reputation":1,"user_id":21185004,"display_name":"Explorer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676012585,"creation_date":1676012353,"answer_id":75407842,"question_id":37652328,"body_markdown":"As of now, I Do not have access to comments or likes. But I think this point is important to make.\r\n\r\nMany good answers here, but it is also essential to talk about the best answers and performance. \r\n\r\nIdeally, you want to minimize code that goes into your production and also want to make sure that there are no unnecessary pieces out there. Thus, a tree-shaking solution is best.\r\n\r\nI do following\r\n```\r\nimport { initializeApp, getApps, cert } from &quot;firebase-admin/app&quot;;\r\n\r\nconst secret = JSON.parse(process.env.FIREBASE_SECRET || &quot;{}&quot;);\r\n\r\nif (!getApps().length) initializeApp({ credential: cert(secret) });\r\n```\r\n\r\n","title":"How to check if a Firebase App is already initialized on Android","body":"<p>As of now, I Do not have access to comments or likes. But I think this point is important to make.</p>\n<p>Many good answers here, but it is also essential to talk about the best answers and performance.</p>\n<p>Ideally, you want to minimize code that goes into your production and also want to make sure that there are no unnecessary pieces out there. Thus, a tree-shaking solution is best.</p>\n<p>I do following</p>\n<pre><code>import { initializeApp, getApps, cert } from &quot;firebase-admin/app&quot;;\n\nconst secret = JSON.parse(process.env.FIREBASE_SECRET || &quot;{}&quot;);\n\nif (!getApps().length) initializeApp({ credential: cert(secret) });\n</code></pre>\n"}],"owner":{"account_id":3428175,"reputation":8022,"user_id":2873357,"accept_rate":65,"display_name":"Relm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101369,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"accepted_answer_id":41005100,"answer_count":20,"score":102,"last_activity_date":1676012585,"creation_date":1465200128,"question_id":37652328,"body_markdown":"With the following, the first time it&#39;s called it works, but then fails on subsequent calls with &quot;FirebaseApp name [DEFAULT] already exists!&quot;\r\n\r\n    \r\n    public FirebaseDatabase conn(Context c) {\r\n             FirebaseOptions options = new FirebaseOptions.Builder()\r\n                    .setApiKey(&quot;key&quot;)\r\n                    .setDatabaseUrl(&quot;url&quot;)\r\n                    .setApplicationId(&quot;ID&quot;)\r\n                    .build();\r\n    \r\n\r\n            /////I tried Try and Catch with no success//////\r\n            FirebaseApp app = FirebaseApp.initializeApp(c, options);\r\n\r\n            /// for this : FirebaseApp app = FirebaseApp.initializeApp(c, options, &quot;some_app&quot;);\r\n            //// will fail with &quot;FirebaseApp name some_app already exists!&quot;\r\n            return FirebaseDatabase.getInstance(app);\r\n    }\r\n\r\nAll of the above is an attempt to connect to a second Firebase App. ","title":"How to check if a Firebase App is already initialized on Android","body":"<p>With the following, the first time it's called it works, but then fails on subsequent calls with \"FirebaseApp name [DEFAULT] already exists!\"</p>\n\n<pre><code>public FirebaseDatabase conn(Context c) {\n         FirebaseOptions options = new FirebaseOptions.Builder()\n                .setApiKey(\"key\")\n                .setDatabaseUrl(\"url\")\n                .setApplicationId(\"ID\")\n                .build();\n\n\n        /////I tried Try and Catch with no success//////\n        FirebaseApp app = FirebaseApp.initializeApp(c, options);\n\n        /// for this : FirebaseApp app = FirebaseApp.initializeApp(c, options, \"some_app\");\n        //// will fail with \"FirebaseApp name some_app already exists!\"\n        return FirebaseDatabase.getInstance(app);\n}\n</code></pre>\n\n<p>All of the above is an attempt to connect to a second Firebase App. </p>\n"},{"tags":["java","postgresql","spring-boot","api"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675929257,"post_id":75395633,"comment_id":133034181,"body_markdown":"That highly depends on your requirements. If each value of `kode_coa` must every exist only once in the DB you should use a unique constraint. If that only applies to testing you might use a query to check if it returns something for the value you&#39;re looking for.","body":"That highly depends on your requirements. If each value of <code>kode_coa</code> must every exist only once in the DB you should use a unique constraint. If that only applies to testing you might use a query to check if it returns something for the value you&#39;re looking for."},{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":1,"creation_date":1675929387,"post_id":75395633,"comment_id":133034208,"body_markdown":"Create a unique constraint on the table (-s) involved. Your application can&#39;t see uncommitted data and thus it will miss all data that has not been committed yet.","body":"Create a unique constraint on the table (-s) involved. Your application can&#39;t see uncommitted data and thus it will miss all data that has not been committed yet."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675929464,"post_id":75395633,"comment_id":133034226,"body_markdown":"Btw, that code looks problematic since it doesn&#39;t follow the Java beans conventions which state the getter for `nominal` should be `getNominal()` instead of `getnominal()`. Many frameworks use this and if your getters look different they might run into problems. Also, you should do yourself a favor and read up and stick to the Java code conventions, e.g. class names should start with an uppercase character. You might also look up some best practices, e.g. those published by Google.","body":"Btw, that code looks problematic since it doesn&#39;t follow the Java beans conventions which state the getter for <code>nominal</code> should be <code>getNominal()</code> instead of <code>getnominal()</code>. Many frameworks use this and if your getters look different they might run into problems. Also, you should do yourself a favor and read up and stick to the Java code conventions, e.g. class names should start with an uppercase character. You might also look up some best practices, e.g. those published by Google."},{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1675929498,"post_id":75395633,"comment_id":133034231,"body_markdown":"See this [https://stackoverflow.com/a/469553/12715723](https://stackoverflow.com/a/469553/12715723) to set unique value on spesific column.","body":"See this <a href=\"https://stackoverflow.com/a/469553/12715723\">https://stackoverflow.com/a/469553/12715723</a> to set unique value on spesific column."},{"owner":{"account_id":20987194,"reputation":23,"user_id":15420727,"display_name":"Timothy Justin William"},"score":0,"creation_date":1675930332,"post_id":75395633,"comment_id":133034459,"body_markdown":"This is actually an API that was converted from PHP to Java, so I need to follow the naming. Anyway what if I just want to make a function that return a value of true or false depending if the data already exist inside the database or not since I need to return an error message if the data already exist to the user","body":"This is actually an API that was converted from PHP to Java, so I need to follow the naming. Anyway what if I just want to make a function that return a value of true or false depending if the data already exist inside the database or not since I need to return an error message if the data already exist to the user"},{"owner":{"account_id":23201300,"reputation":3123,"user_id":17296084,"display_name":"Ramin Faracov"},"score":0,"creation_date":1675931443,"post_id":75395633,"comment_id":133034776,"body_markdown":"This is not the correct approach - [if a value in the POST request is already in the database] All http requests work async. For example, you can convert all post methods to sync for waiting results. Result may be succussing or failing. But duplicates are controlled by unique indexes on the DB side.","body":"This is not the correct approach - [if a value in the POST request is already in the database] All http requests work async. For example, you can convert all post methods to sync for waiting results. Result may be succussing or failing. But duplicates are controlled by unique indexes on the DB side."}],"owner":{"account_id":20987194,"reputation":23,"user_id":15420727,"display_name":"Timothy Justin William"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676012460,"creation_date":1675929116,"question_id":75395633,"body_markdown":"So I&#39;m making an API using Java Spring-boot and JBDC with PostgreSQL as the database and Postman for testing. All the basic CRUD function is already implemented, but I&#39;m trying to validates if a value in the POST request is already in the database or not so there are no duplicate data.\r\n\r\nHere&#39;s the model:\r\n```\r\npackage com.akuntansi.akuntansi.model;\r\n\r\nimport java.sql.Timestamp;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\n\r\npublic class mAkuntansi {\r\n    private Integer id_md_jurnal_Integer;\r\n    private Integer id_dd_wilayah_kerja;\r\n    private String kode_file;\r\n    private String file_id;\r\n    private String tanggal;\r\n    private String debet_kredit;\r\n    private String kode_coa;\r\n    private long nominal;\r\n    private Integer flag;\r\n    private Integer id_akmt_subledger;\r\n    private Integer id_referensi;\r\n    private String no_bukti;\r\n    private Timestamp created_date;\r\n\r\n    public mAkuntansi(){}\r\n\r\n    public mAkuntansi(Integer id_md_jurnal_Integer, Integer id_dd_wilayah_kerja, String kode_file, String file_id, String tanggal, String debet_kredit, String kode_coa, \r\n    long nominal, Integer flag, Integer id_akmt_subledger, Integer id_referensi, String no_bukti, Timestamp created_date){\r\n        this.id_md_jurnal_Integer = id_md_jurnal_Integer;\r\n        this.id_dd_wilayah_kerja = id_dd_wilayah_kerja;\r\n        this.kode_file = kode_file;\r\n        this.file_id = file_id;\r\n        this.tanggal = tanggal;\r\n        this.debet_kredit = debet_kredit;\r\n        this.kode_coa = kode_coa;\r\n        this.nominal = nominal;\r\n        this.flag = flag;\r\n        this.id_akmt_subledger = id_akmt_subledger;\r\n        this.id_referensi = id_referensi;\r\n        this.no_bukti = no_bukti;\r\n        this.created_date = created_date;\r\n    }\r\n\r\n    public mAkuntansi(Integer id_dd_wilayah_kerja, String kode_file, String file_id, String tanggal, String debet_kredit, String kode_coa, \r\n    long nominal, Integer flag, Integer id_akmt_subledger, Integer id_referensi, String no_bukti, Timestamp created_date){\r\n        this.id_dd_wilayah_kerja = id_dd_wilayah_kerja;\r\n        this.kode_file = kode_file;\r\n        this.file_id = file_id;\r\n        this.tanggal = tanggal;\r\n        this.debet_kredit = debet_kredit;\r\n        this.kode_coa = kode_coa;\r\n        this.nominal = nominal;\r\n        this.flag = flag;\r\n        this.id_akmt_subledger = id_akmt_subledger;\r\n        this.id_referensi = id_referensi;\r\n        this.no_bukti = no_bukti;\r\n        this.created_date = created_date;\r\n    }\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Integer getid_md_jurnal_int(){\r\n        return id_md_jurnal_Integer;\r\n    }\r\n\r\n    public void setid_md_jurnal_int(Integer id_md_jurnal_Integer){\r\n        this.id_md_jurnal_Integer = id_md_jurnal_Integer;\r\n    }\r\n\r\n    public Integer getid_dd_wilayah_kerja(){\r\n        return id_dd_wilayah_kerja;\r\n    }\r\n\r\n    public void setid_dd_wilayah_kerja(Integer id_dd_wilayah_kerja){\r\n        this.id_dd_wilayah_kerja = id_dd_wilayah_kerja;\r\n    }\r\n\r\n    public String getkode_file(){\r\n        return kode_file;\r\n    }\r\n\r\n    public void setkode_file(String kode_file){\r\n        this.kode_file = kode_file;\r\n    }\r\n\r\n    public String getfile_id(){\r\n        return file_id;\r\n    }\r\n\r\n    public void setfile_id(String file_id){\r\n        this.file_id = file_id;\r\n    }\r\n\r\n    public String gettanggal(){\r\n        return tanggal;\r\n    }\r\n\r\n    public void settanggal(String tanggal){\r\n        this.tanggal = tanggal;\r\n    }\r\n\r\n    public String getdebet_kredit(){\r\n        return debet_kredit;\r\n    }\r\n\r\n    public void setdebet_kredit(String debet_kredit){\r\n        this.debet_kredit = debet_kredit;\r\n    }\r\n\r\n    public String getkode_coa(){\r\n        return kode_coa;\r\n    }\r\n\r\n    public void setkode_coa(String kode_coa){\r\n        this.kode_coa = kode_coa;\r\n    }\r\n\r\n    public long getnominal(){\r\n        return nominal;\r\n    }\r\n\r\n    public void setnominal(long nominal){\r\n        this.nominal = nominal;\r\n    }\r\n\r\n    public Integer getflag(){\r\n        return flag;\r\n    }\r\n\r\n    public void setflag(Integer flag){\r\n        this.flag = flag;\r\n    }\r\n\r\n    public Integer getid_akmt_subledger(){\r\n        return id_akmt_subledger;\r\n    }\r\n\r\n    public void setid_akmt_subledger(Integer id_akmt_subledger){\r\n        this.id_akmt_subledger = id_akmt_subledger;\r\n    }\r\n\r\n    public Integer getid_referensi(){\r\n        return id_referensi;\r\n    }\r\n\r\n    public void setid_referensi(Integer id_refrensi){\r\n        this.id_referensi = id_refrensi;\r\n    }\r\n\r\n    public String getno_bukti(){\r\n        return no_bukti;\r\n    }\r\n\r\n    public void setno_bukti(String no_bukti){\r\n        this.no_bukti = no_bukti;\r\n    }\r\n\r\n    public Timestamp getcreated_date(){\r\n        return created_date;\r\n    }\r\n\r\n    public void setcreated_date(Timestamp created_date){\r\n        this.created_date = created_date;\r\n    }\r\n\r\n}\r\n```\r\n\r\nLet say for example I want to validates the `kode_coa`. There&#39;s a POST request with `kode_coa` of `K1` but in the database, a data with value `K1` already exist, how do you prevent a duplicate data from getting inserted into the database?","title":"How to make a Java function that checks if data from a POST request is already in the database?","body":"<p>So I'm making an API using Java Spring-boot and JBDC with PostgreSQL as the database and Postman for testing. All the basic CRUD function is already implemented, but I'm trying to validates if a value in the POST request is already in the database or not so there are no duplicate data.</p>\n<p>Here's the model:</p>\n<pre><code>package com.akuntansi.akuntansi.model;\n\nimport java.sql.Timestamp;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\n\npublic class mAkuntansi {\n    private Integer id_md_jurnal_Integer;\n    private Integer id_dd_wilayah_kerja;\n    private String kode_file;\n    private String file_id;\n    private String tanggal;\n    private String debet_kredit;\n    private String kode_coa;\n    private long nominal;\n    private Integer flag;\n    private Integer id_akmt_subledger;\n    private Integer id_referensi;\n    private String no_bukti;\n    private Timestamp created_date;\n\n    public mAkuntansi(){}\n\n    public mAkuntansi(Integer id_md_jurnal_Integer, Integer id_dd_wilayah_kerja, String kode_file, String file_id, String tanggal, String debet_kredit, String kode_coa, \n    long nominal, Integer flag, Integer id_akmt_subledger, Integer id_referensi, String no_bukti, Timestamp created_date){\n        this.id_md_jurnal_Integer = id_md_jurnal_Integer;\n        this.id_dd_wilayah_kerja = id_dd_wilayah_kerja;\n        this.kode_file = kode_file;\n        this.file_id = file_id;\n        this.tanggal = tanggal;\n        this.debet_kredit = debet_kredit;\n        this.kode_coa = kode_coa;\n        this.nominal = nominal;\n        this.flag = flag;\n        this.id_akmt_subledger = id_akmt_subledger;\n        this.id_referensi = id_referensi;\n        this.no_bukti = no_bukti;\n        this.created_date = created_date;\n    }\n\n    public mAkuntansi(Integer id_dd_wilayah_kerja, String kode_file, String file_id, String tanggal, String debet_kredit, String kode_coa, \n    long nominal, Integer flag, Integer id_akmt_subledger, Integer id_referensi, String no_bukti, Timestamp created_date){\n        this.id_dd_wilayah_kerja = id_dd_wilayah_kerja;\n        this.kode_file = kode_file;\n        this.file_id = file_id;\n        this.tanggal = tanggal;\n        this.debet_kredit = debet_kredit;\n        this.kode_coa = kode_coa;\n        this.nominal = nominal;\n        this.flag = flag;\n        this.id_akmt_subledger = id_akmt_subledger;\n        this.id_referensi = id_referensi;\n        this.no_bukti = no_bukti;\n        this.created_date = created_date;\n    }\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Integer getid_md_jurnal_int(){\n        return id_md_jurnal_Integer;\n    }\n\n    public void setid_md_jurnal_int(Integer id_md_jurnal_Integer){\n        this.id_md_jurnal_Integer = id_md_jurnal_Integer;\n    }\n\n    public Integer getid_dd_wilayah_kerja(){\n        return id_dd_wilayah_kerja;\n    }\n\n    public void setid_dd_wilayah_kerja(Integer id_dd_wilayah_kerja){\n        this.id_dd_wilayah_kerja = id_dd_wilayah_kerja;\n    }\n\n    public String getkode_file(){\n        return kode_file;\n    }\n\n    public void setkode_file(String kode_file){\n        this.kode_file = kode_file;\n    }\n\n    public String getfile_id(){\n        return file_id;\n    }\n\n    public void setfile_id(String file_id){\n        this.file_id = file_id;\n    }\n\n    public String gettanggal(){\n        return tanggal;\n    }\n\n    public void settanggal(String tanggal){\n        this.tanggal = tanggal;\n    }\n\n    public String getdebet_kredit(){\n        return debet_kredit;\n    }\n\n    public void setdebet_kredit(String debet_kredit){\n        this.debet_kredit = debet_kredit;\n    }\n\n    public String getkode_coa(){\n        return kode_coa;\n    }\n\n    public void setkode_coa(String kode_coa){\n        this.kode_coa = kode_coa;\n    }\n\n    public long getnominal(){\n        return nominal;\n    }\n\n    public void setnominal(long nominal){\n        this.nominal = nominal;\n    }\n\n    public Integer getflag(){\n        return flag;\n    }\n\n    public void setflag(Integer flag){\n        this.flag = flag;\n    }\n\n    public Integer getid_akmt_subledger(){\n        return id_akmt_subledger;\n    }\n\n    public void setid_akmt_subledger(Integer id_akmt_subledger){\n        this.id_akmt_subledger = id_akmt_subledger;\n    }\n\n    public Integer getid_referensi(){\n        return id_referensi;\n    }\n\n    public void setid_referensi(Integer id_refrensi){\n        this.id_referensi = id_refrensi;\n    }\n\n    public String getno_bukti(){\n        return no_bukti;\n    }\n\n    public void setno_bukti(String no_bukti){\n        this.no_bukti = no_bukti;\n    }\n\n    public Timestamp getcreated_date(){\n        return created_date;\n    }\n\n    public void setcreated_date(Timestamp created_date){\n        this.created_date = created_date;\n    }\n\n}\n</code></pre>\n<p>Let say for example I want to validates the <code>kode_coa</code>. There's a POST request with <code>kode_coa</code> of <code>K1</code> but in the database, a data with value <code>K1</code> already exist, how do you prevent a duplicate data from getting inserted into the database?</p>\n"},{"tags":["java","android","tensorflow","tensorflow-lite","tflite"],"owner":{"account_id":21101320,"reputation":362,"user_id":15511159,"display_name":"Faizan Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676011829,"creation_date":1676011829,"question_id":75407774,"body_markdown":"I am working on an app where I have to pass an image to my own TFLite model. It will then return me result containing different values.\r\nInput is an image\r\n\r\n**Sample output is:**\r\n\r\n     [\r\n      {\r\n       &quot;points&quot;: {\r\n       &quot;left&quot;: -5.070770263671875,\r\n       &quot;top&quot;: 6.558062851428986,\r\n       &quot;width&quot;: 994.1088562011719,\r\n       &quot;height&quot;: 627.7321452498436\r\n      },\r\n      &quot;type&quot;: &quot;Doc&quot;,\r\n      &quot;score&quot;: 0.998\r\n     }\r\n    ]\r\n\r\n\r\nMy code to run tflite model is:\r\n\r\n    protected Interpreter tflite;\r\n    private TensorImage inputImageBuffer;\r\n    private  int imageSizeX;\r\n    private  int imageSizeY;\r\n    private TensorBuffer outputProbabilityBuffer;\r\n    private static final float PROBABILITY_MEAN = 0.0f;\r\n    private static final float PROBABILITY_STD = 1.0f;\r\n    Context context;\r\n    ResultBitmap resultBitmap;\r\n    Bitmap bitmap;\r\n    String modelName;\r\n    public void run(Context context, ResultBitmap resultBitmap, Bitmap bitmap, String modelName) {\r\n        this.context=context;\r\n        this.resultBitmap= resultBitmap;\r\n        this.bitmap=bitmap;\r\n        this.modelName=modelName;\r\n        try{\r\n            tflite=new Interpreter(loadmodelfile((Activity) context));\r\n        }catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        int imageTensorIndex = 0;\r\n        int[] imageShape = tflite.getInputTensor(imageTensorIndex).shape();\r\n        imageSizeY = imageShape[1];\r\n        imageSizeX = imageShape[2];\r\n        DataType imageDataType = tflite.getInputTensor(imageTensorIndex).dataType();\r\n        int probabilityTensorIndex = 0;\r\n        int[] probabilityShape = tflite.getOutputTensor(probabilityTensorIndex).shape();\r\n        DataType probabilityDataType = tflite.getOutputTensor(probabilityTensorIndex).dataType();\r\n        inputImageBuffer = new TensorImage(imageDataType);\r\n        outputProbabilityBuffer = TensorBuffer.createFixedSize(probabilityShape, probabilityDataType);\r\n        inputImageBuffer = loadImage(bitmap);\r\n        tflite.run(inputImageBuffer.getBuffer(),outputProbabilityBuffer.getBuffer().rewind());\r\n    // here I want to get output\r\n    }\r\n    private TensorImage loadImage(final Bitmap bitmap) {\r\n        inputImageBuffer.load(bitmap);\r\n        ImageProcessor imageProcessor =\r\n                new ImageProcessor.Builder()\r\n                        .add(new ResizeOp(imageSizeX, imageSizeY, ResizeOp.ResizeMethod.BILINEAR))\r\n                        .add(new NormalizeOp(0, 255))\r\n                        .add(new CastOp(DataType.UINT8))\r\n                        .build();\r\n        return imageProcessor.process(inputImageBuffer);\r\n    }\r\n    private MappedByteBuffer loadmodelfile(Activity activity) throws IOException {\r\n        AssetFileDescriptor fileDescriptor=activity.getAssets().openFd(modelName);\r\n        FileInputStream inputStream=new FileInputStream(fileDescriptor.getFileDescriptor());\r\n        FileChannel fileChannel=inputStream.getChannel();\r\n        long startoffset = fileDescriptor.getStartOffset();\r\n        long declaredLength=fileDescriptor.getDeclaredLength();\r\n        return fileChannel.map(FileChannel.MapMode.READ_ONLY,startoffset,declaredLength);\r\n    }\r\n\r\n\r\nI want to get output (as sample output) after running this model.","title":"How to get JsonArray/JsonObject output from TFLite model in android (java)?","body":"<p>I am working on an app where I have to pass an image to my own TFLite model. It will then return me result containing different values.\nInput is an image</p>\n<p><strong>Sample output is:</strong></p>\n<pre><code> [\n  {\n   &quot;points&quot;: {\n   &quot;left&quot;: -5.070770263671875,\n   &quot;top&quot;: 6.558062851428986,\n   &quot;width&quot;: 994.1088562011719,\n   &quot;height&quot;: 627.7321452498436\n  },\n  &quot;type&quot;: &quot;Doc&quot;,\n  &quot;score&quot;: 0.998\n }\n]\n</code></pre>\n<p>My code to run tflite model is:</p>\n<pre><code>protected Interpreter tflite;\nprivate TensorImage inputImageBuffer;\nprivate  int imageSizeX;\nprivate  int imageSizeY;\nprivate TensorBuffer outputProbabilityBuffer;\nprivate static final float PROBABILITY_MEAN = 0.0f;\nprivate static final float PROBABILITY_STD = 1.0f;\nContext context;\nResultBitmap resultBitmap;\nBitmap bitmap;\nString modelName;\npublic void run(Context context, ResultBitmap resultBitmap, Bitmap bitmap, String modelName) {\n    this.context=context;\n    this.resultBitmap= resultBitmap;\n    this.bitmap=bitmap;\n    this.modelName=modelName;\n    try{\n        tflite=new Interpreter(loadmodelfile((Activity) context));\n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n    int imageTensorIndex = 0;\n    int[] imageShape = tflite.getInputTensor(imageTensorIndex).shape();\n    imageSizeY = imageShape[1];\n    imageSizeX = imageShape[2];\n    DataType imageDataType = tflite.getInputTensor(imageTensorIndex).dataType();\n    int probabilityTensorIndex = 0;\n    int[] probabilityShape = tflite.getOutputTensor(probabilityTensorIndex).shape();\n    DataType probabilityDataType = tflite.getOutputTensor(probabilityTensorIndex).dataType();\n    inputImageBuffer = new TensorImage(imageDataType);\n    outputProbabilityBuffer = TensorBuffer.createFixedSize(probabilityShape, probabilityDataType);\n    inputImageBuffer = loadImage(bitmap);\n    tflite.run(inputImageBuffer.getBuffer(),outputProbabilityBuffer.getBuffer().rewind());\n// here I want to get output\n}\nprivate TensorImage loadImage(final Bitmap bitmap) {\n    inputImageBuffer.load(bitmap);\n    ImageProcessor imageProcessor =\n            new ImageProcessor.Builder()\n                    .add(new ResizeOp(imageSizeX, imageSizeY, ResizeOp.ResizeMethod.BILINEAR))\n                    .add(new NormalizeOp(0, 255))\n                    .add(new CastOp(DataType.UINT8))\n                    .build();\n    return imageProcessor.process(inputImageBuffer);\n}\nprivate MappedByteBuffer loadmodelfile(Activity activity) throws IOException {\n    AssetFileDescriptor fileDescriptor=activity.getAssets().openFd(modelName);\n    FileInputStream inputStream=new FileInputStream(fileDescriptor.getFileDescriptor());\n    FileChannel fileChannel=inputStream.getChannel();\n    long startoffset = fileDescriptor.getStartOffset();\n    long declaredLength=fileDescriptor.getDeclaredLength();\n    return fileChannel.map(FileChannel.MapMode.READ_ONLY,startoffset,declaredLength);\n}\n</code></pre>\n<p>I want to get output (as sample output) after running this model.</p>\n"},{"tags":["java","spring","jwt"],"answers":[{"comments":[{"owner":{"account_id":25743094,"reputation":13,"user_id":19496782,"display_name":"noxi3534"},"score":0,"creation_date":1676118345,"post_id":75407766,"comment_id":133075743,"body_markdown":"That doesn&#39;t work: `The signing key&#39;s size is 48 bits which is not secure enough for the HS512 algorithm.` How can I make it accept such short token secrets?","body":"That doesn&#39;t work: <code>The signing key&#39;s size is 48 bits which is not secure enough for the HS512 algorithm.</code> How can I make it accept such short token secrets?"},{"owner":{"account_id":24323550,"reputation":1,"user_id":18263470,"display_name":"user18263470"},"score":0,"creation_date":1676252776,"post_id":75407766,"comment_id":133094303,"body_markdown":"I don&#39;t know how to make it accept a shorter SECRET key.\nYou can make the secret key longer. The longer the secret key will have no effect on your code","body":"I don&#39;t know how to make it accept a shorter SECRET key. You can make the secret key longer. The longer the secret key will have no effect on your code"}],"tags":[],"owner":{"account_id":24323550,"reputation":1,"user_id":18263470,"display_name":"user18263470"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676011796,"creation_date":1676011796,"answer_id":75407766,"question_id":75405312,"body_markdown":"    private static final String TOKEN_SECRET = &quot;jwtToken&quot;;        \r\n    Map&lt;String, Object&gt; claimMaps = new HashMap&lt;&gt;();\r\n    claimMaps.put(&quot;id&quot;, &quot;123123123&quot;);\r\n    String jws = Jwts.builder().signWith(SignatureAlgorithm.HS512, TOKEN_SECRET).setClaims(claimMaps).setSubject(&quot;wahaha&quot;).compact();\r\n    System.out.println(jws);\r\n    Claims decoded = Jwts.parser().setSigningKey(TOKEN_SECRET).parseClaimsJws(jws).getBody();\r\n    System.out.printf(&quot;decoded: %s&quot;, decoded);\r\n\r\nconsole output\r\n\r\n    eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ3YWhhaGEiLCJpZCI6IjEyMzEyMzEyMyJ9.VtYAMdh1J9HxnLD3P6jKmY2018K_f0HUqsXxcy39em8LCTbZpwtAoj46lHcPFyfCWPi8knsIw1zWdayyjVeLcA\r\ndecoded: {sub=wahaha, id=123123123}","title":"&quot;Unsigned plaintext JWTs are not supported&quot; java spring","body":"<pre><code>private static final String TOKEN_SECRET = &quot;jwtToken&quot;;        \nMap&lt;String, Object&gt; claimMaps = new HashMap&lt;&gt;();\nclaimMaps.put(&quot;id&quot;, &quot;123123123&quot;);\nString jws = Jwts.builder().signWith(SignatureAlgorithm.HS512, TOKEN_SECRET).setClaims(claimMaps).setSubject(&quot;wahaha&quot;).compact();\nSystem.out.println(jws);\nClaims decoded = Jwts.parser().setSigningKey(TOKEN_SECRET).parseClaimsJws(jws).getBody();\nSystem.out.printf(&quot;decoded: %s&quot;, decoded);\n</code></pre>\n<p>console output</p>\n<pre><code>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ3YWhhaGEiLCJpZCI6IjEyMzEyMzEyMyJ9.VtYAMdh1J9HxnLD3P6jKmY2018K_f0HUqsXxcy39em8LCTbZpwtAoj46lHcPFyfCWPi8knsIw1zWdayyjVeLcA\n</code></pre>\n<p>decoded: {sub=wahaha, id=123123123}</p>\n"}],"owner":{"account_id":25743094,"reputation":13,"user_id":19496782,"display_name":"noxi3534"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676011796,"creation_date":1675983379,"question_id":75405312,"body_markdown":"I&#39;m using `io.jsonwebtoken.Jwts` in my java spring app.\r\nI&#39;m trying to generate a JWT token and decode it immediately (for testing purposes) but it results in an error:\r\n```\r\nio.jsonwebtoken.UnsupportedJwtException: Unsigned plaintext JWTs are not supported.\r\n```\r\n\r\nmy code:\r\n```java\r\n        String jws = Jwts.builder().setSubject(user.getId()).compact();\r\n        String decoded = Jwts.parserBuilder().build().parseClaimsJws(jws).getBody().getSubject();\r\n        System.out.printf(&quot;decoded: %s&quot;, decoded);\r\n```\r\nIf I use .setSigningKey() then the error changes to:\r\n`Signed plaintext JWSs are not supported.`","title":"&quot;Unsigned plaintext JWTs are not supported&quot; java spring","body":"<p>I'm using <code>io.jsonwebtoken.Jwts</code> in my java spring app.\nI'm trying to generate a JWT token and decode it immediately (for testing purposes) but it results in an error:</p>\n<pre><code>io.jsonwebtoken.UnsupportedJwtException: Unsigned plaintext JWTs are not supported.\n</code></pre>\n<p>my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String jws = Jwts.builder().setSubject(user.getId()).compact();\n        String decoded = Jwts.parserBuilder().build().parseClaimsJws(jws).getBody().getSubject();\n        System.out.printf(&quot;decoded: %s&quot;, decoded);\n</code></pre>\n<p>If I use .setSigningKey() then the error changes to:\n<code>Signed plaintext JWSs are not supported.</code></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":4076695,"reputation":424,"user_id":3348195,"accept_rate":70,"display_name":"ctrlmaniac"},"score":0,"creation_date":1675879010,"post_id":75389015,"comment_id":133024703,"body_markdown":"My client is postman, it seems that jsessionid is set","body":"My client is postman, it seems that jsessionid is set"},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1675886988,"post_id":75389015,"comment_id":133026952,"body_markdown":"At a high level you need spring security to intercept all the requests and validate them for authorization, in your above example it only does for &quot;&quot; url. You need to customize some spring filters in your SecurityFilterChain based on your auth needs e.g. form based auth or basic etc etc and provide a way to lookup the user that is being authenticated... e.g. https://howtodoinjava.com/spring5/security/login-form-example/","body":"At a high level you need spring security to intercept all the requests and validate them for authorization, in your above example it only does for &quot;&quot; url. You need to customize some spring filters in your SecurityFilterChain based on your auth needs e.g. form based auth or basic etc etc and provide a way to lookup the user that is being authenticated... e.g. <a href=\"https://howtodoinjava.com/spring5/security/login-form-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring5/security/login-form-example</a>"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":2,"creation_date":1675896106,"post_id":75389015,"comment_id":133029162,"body_markdown":"Yes, you are missing. If you are on Spring Security 6 you have to explicit save the `SecurityContext` https://docs.spring.io/spring-security/reference/5.8/migration/servlet/session-management.html#_require_explicit_saving_of_securitycontextrepository","body":"Yes, you are missing. If you are on Spring Security 6 you have to explicit save the <code>SecurityContext</code> <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/session-management.html#_require_explicit_saving_of_securitycontextrepository\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/5.8/migration/servl&zwnj;&#8203;et/&hellip;</a>"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1675975715,"post_id":75389015,"comment_id":133049183,"body_markdown":"@MarcusHertdaCoregio If you post that as an answer, you have my upvote.","body":"@MarcusHertdaCoregio If you post that as an answer, you have my upvote."},{"owner":{"account_id":4076695,"reputation":424,"user_id":3348195,"accept_rate":70,"display_name":"ctrlmaniac"},"score":0,"creation_date":1676011193,"post_id":75389015,"comment_id":133054758,"body_markdown":"@MarcusHertdaCoregio I&#39;ve updated my answer according to the documentation you&#39;ve provided me. is it correct in this way?","body":"@MarcusHertdaCoregio I&#39;ve updated my answer according to the documentation you&#39;ve provided me. is it correct in this way?"}],"answers":[{"comments":[{"owner":{"account_id":964649,"reputation":458,"user_id":988304,"display_name":"stevestorey"},"score":0,"creation_date":1675941547,"post_id":75391468,"comment_id":133037894,"body_markdown":"You shouldn&#39;t be creating and managing sessions like this yourself. Instead you should be using the built-in Spring Security persistence mechanisms (which _may_ use sessions if configured so): https://docs.spring.io/spring-security/reference/servlet/authentication/persistence.html","body":"You shouldn&#39;t be creating and managing sessions like this yourself. Instead you should be using the built-in Spring Security persistence mechanisms (which <i>may</i> use sessions if configured so): <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/persistence.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"}],"tags":[],"owner":{"account_id":4076695,"reputation":424,"user_id":3348195,"accept_rate":70,"display_name":"ctrlmaniac"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1676011145,"creation_date":1675888531,"answer_id":75391468,"question_id":75389015,"body_markdown":"UPDATED:\r\n\r\nAs @MarcusHertdaCoregio said I had to save the context with the securitycontextrepository. Here&#39;s the code:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n\t@Bean\r\n\tSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp = http.csrf().disable();\r\n\r\n\t\thttp = http.authorizeHttpRequests((requests) -&gt; requests\r\n\t\t\t\t.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/api/aziende/exists&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/api&quot;, &quot;/api/**&quot;).authenticated()\r\n\t\t\t\t.requestMatchers(&quot;/app&quot;, &quot;/app/**&quot;).authenticated()\r\n\t\t\t\t.requestMatchers(&quot;/admin&quot;, &quot;/admin/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;)\r\n\t\t\t\t.requestMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll()\r\n\r\n\t\t);\r\n\r\n\t\thttp = http.formLogin((form) -&gt; form.loginPage(&quot;/accedi&quot;).permitAll());\r\n\r\n\t\thttp = http.logout((logout) -&gt; logout.logoutUrl(&quot;/esci&quot;).logoutSuccessUrl(&quot;/&quot;).permitAll());\r\n\r\n\t\thttp = http.securityContext((securityContext) -&gt; securityContext\r\n\t\t\t\t.requireExplicitSave(true));\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tAuthenticationManager authenticationManager(\r\n\t\t\tAuthenticationConfiguration configuration) throws Exception {\r\n\t\treturn configuration.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tSecurityContextRepository securityContextRepository() {\r\n\t\treturn new HttpSessionSecurityContextRepository();\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n\t@PostMapping(&quot;/login&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; login(@RequestBody Login payload, HttpServletRequest request,\r\n\t\t\tHttpServletResponse response) {\r\n\t\tSecurityContext context = SecurityContextHolder.createEmptyContext();\r\n\r\n\t\ttry {\r\n\t\t\tUsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(payload.getEmail(),\r\n\t\t\t\t\tpayload.getPassword());\r\n\r\n\t\t\tAuthentication auth = authManager.authenticate(token);\r\n\r\n\t\t\tif (auth.isAuthenticated()) {\r\n\t\t\t\tcontext.setAuthentication(auth);\r\n\t\t\t\tSecurityContextHolder.setContext(context);\r\n\r\n\t\t\t\tsecurityContextRepository.saveContext(context, request, response);\r\n\r\n\t\t\t\treturn ResponseEntity.ok(&quot;utente autenticato&quot;);\r\n\t\t\t} else {\r\n\t\t\t\treturn ResponseEntity.status(401).body(&quot;credenziali non valide&quot;);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn ResponseEntity.status(401).body(e.getMessage());\r\n\t\t}\r\n\t}\r\n```","title":"Spring SecurityContextHolder doesn&#39;t mantain authentication","body":"<p>UPDATED:</p>\n<p>As @MarcusHertdaCoregio said I had to save the context with the securitycontextrepository. Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http = http.csrf().disable();\n\n        http = http.authorizeHttpRequests((requests) -&gt; requests\n                .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/aziende/exists&quot;).permitAll()\n                .requestMatchers(&quot;/api&quot;, &quot;/api/**&quot;).authenticated()\n                .requestMatchers(&quot;/app&quot;, &quot;/app/**&quot;).authenticated()\n                .requestMatchers(&quot;/admin&quot;, &quot;/admin/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;)\n                .requestMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll()\n\n        );\n\n        http = http.formLogin((form) -&gt; form.loginPage(&quot;/accedi&quot;).permitAll());\n\n        http = http.logout((logout) -&gt; logout.logoutUrl(&quot;/esci&quot;).logoutSuccessUrl(&quot;/&quot;).permitAll());\n\n        http = http.securityContext((securityContext) -&gt; securityContext\n                .requireExplicitSave(true));\n\n        return http.build();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    AuthenticationManager authenticationManager(\n            AuthenticationConfiguration configuration) throws Exception {\n        return configuration.getAuthenticationManager();\n    }\n\n    @Bean\n    SecurityContextRepository securityContextRepository() {\n        return new HttpSessionSecurityContextRepository();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;?&gt; login(@RequestBody Login payload, HttpServletRequest request,\n            HttpServletResponse response) {\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n\n        try {\n            UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(payload.getEmail(),\n                    payload.getPassword());\n\n            Authentication auth = authManager.authenticate(token);\n\n            if (auth.isAuthenticated()) {\n                context.setAuthentication(auth);\n                SecurityContextHolder.setContext(context);\n\n                securityContextRepository.saveContext(context, request, response);\n\n                return ResponseEntity.ok(&quot;utente autenticato&quot;);\n            } else {\n                return ResponseEntity.status(401).body(&quot;credenziali non valide&quot;);\n            }\n        } catch (Exception e) {\n            return ResponseEntity.status(401).body(e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4076695,"reputation":424,"user_id":3348195,"accept_rate":70,"display_name":"ctrlmaniac"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676011145,"creation_date":1675874683,"question_id":75389015,"body_markdown":"I&#39;m trying to manually authenticate to Spring Security through REST API. I&#39;ve managed to open an endpoint where users can perfom the authentication. The endpoint works only whithin itself. If I try to get data from other secured endpoints the authentication is not provided. It seems that the user is authenticated but not remembered. Am I missing some steps?\r\n\r\nHere&#39;s my endpoint where users can login:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/account/login&quot;)\r\npublic class LoginRestController {\r\n\r\n\t@Autowired\r\n\tAuthenticationManager authenticationManager;\r\n\r\n\t@PostMapping(&quot;&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; login(@RequestBody LoginPayload payload) {\r\n\t\ttry {\r\n\t\t\tAuthentication auth = authenticationManager\r\n\t\t\t\t\t.authenticate(new UsernamePasswordAuthenticationToken(payload.getEmail(), payload.getPassword()));\r\n\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(auth);\r\n\t\t\treturn new ResponseEntity&lt;&gt;(&quot;Utente autenticato&quot;, HttpStatus.OK);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(null);\r\n\t\t\treturn new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.UNAUTHORIZED);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nhere&#39;s my configuration:\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n\t@Bean\r\n\tSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable()\r\n\t\t\t\t.authorizeHttpRequests((requests) -&gt; requests\r\n\t\t\t\t\t\t.requestMatchers(&quot;/api/account/register&quot;, &quot;/api/account/register/**&quot;).permitAll()\r\n\t\t\t\t\t\t.requestMatchers(&quot;/api/account/login&quot;).permitAll()\r\n\t\t\t\t\t\t.requestMatchers(&quot;/api/aziende/exists&quot;).permitAll()\r\n\t\t\t\t\t\t.requestMatchers(&quot;/api&quot;, &quot;/api/**&quot;).authenticated()\r\n\t\t\t\t\t\t.requestMatchers(&quot;/app&quot;, &quot;/app/**&quot;).authenticated()\r\n\t\t\t\t\t\t.requestMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll()\r\n\r\n\t\t\t\t)\r\n\t\t\t\t.formLogin((form) -&gt; form.loginPage(&quot;/accedi&quot;).permitAll())\r\n\t\t\t\t.logout((logout) -&gt; logout.logoutUrl(&quot;/esci&quot;).permitAll());\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tAuthenticationManager authenticationManager(\r\n\t\t\tAuthenticationConfiguration configuration) throws Exception {\r\n\t\treturn configuration.getAuthenticationManager();\r\n\t}\r\n}\r\n```\r\n","title":"Spring SecurityContextHolder doesn&#39;t mantain authentication","body":"<p>I'm trying to manually authenticate to Spring Security through REST API. I've managed to open an endpoint where users can perfom the authentication. The endpoint works only whithin itself. If I try to get data from other secured endpoints the authentication is not provided. It seems that the user is authenticated but not remembered. Am I missing some steps?</p>\n<p>Here's my endpoint where users can login:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/account/login&quot;)\npublic class LoginRestController {\n\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @PostMapping(&quot;&quot;)\n    public ResponseEntity&lt;String&gt; login(@RequestBody LoginPayload payload) {\n        try {\n            Authentication auth = authenticationManager\n                    .authenticate(new UsernamePasswordAuthenticationToken(payload.getEmail(), payload.getPassword()));\n\n            SecurityContextHolder.getContext().setAuthentication(auth);\n            return new ResponseEntity&lt;&gt;(&quot;Utente autenticato&quot;, HttpStatus.OK);\n        } catch (Exception e) {\n            SecurityContextHolder.getContext().setAuthentication(null);\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.UNAUTHORIZED);\n        }\n    }\n}\n</code></pre>\n<p>here's my configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/api/account/register&quot;, &quot;/api/account/register/**&quot;).permitAll()\n                        .requestMatchers(&quot;/api/account/login&quot;).permitAll()\n                        .requestMatchers(&quot;/api/aziende/exists&quot;).permitAll()\n                        .requestMatchers(&quot;/api&quot;, &quot;/api/**&quot;).authenticated()\n                        .requestMatchers(&quot;/app&quot;, &quot;/app/**&quot;).authenticated()\n                        .requestMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll()\n\n                )\n                .formLogin((form) -&gt; form.loginPage(&quot;/accedi&quot;).permitAll())\n                .logout((logout) -&gt; logout.logoutUrl(&quot;/esci&quot;).permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    AuthenticationManager authenticationManager(\n            AuthenticationConfiguration configuration) throws Exception {\n        return configuration.getAuthenticationManager();\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","xml","kotlin","apache-poi"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1675984103,"post_id":75401317,"comment_id":133051040,"body_markdown":"I don&#39;t think you can apply this kind of mapping to what appears to be a spreadsheet of different types of data mashed together. Your snippet of XML output kind of proves this -- most rows don&#39;t have titles, and the few that do don&#39;t have sections. My guess is that you have to parse the spreadsheet and create the respective XML manually. You could filter for rows that have `name` values and extract the data. Then then filter for rows with `code2` values, and extract that data. From that, you would construct your XML in the format you have shown above.","body":"I don&#39;t think you can apply this kind of mapping to what appears to be a spreadsheet of different types of data mashed together. Your snippet of XML output kind of proves this -- most rows don&#39;t have titles, and the few that do don&#39;t have sections. My guess is that you have to parse the spreadsheet and create the respective XML manually. You could filter for rows that have <code>name</code> values and extract the data. Then then filter for rows with <code>code2</code> values, and extract that data. From that, you would construct your XML in the format you have shown above."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1676042130,"post_id":75401317,"comment_id":133063562,"body_markdown":"On approach would be to create JavaBeans that represent the structure you need to represent your required XML. You can create an instance of your JavaBean and fill in the data that you need. POI is a good way to get the data but it up to you to write the code to take the Sheet/Row/Cell data and fill in the fields on your JavaBeans. You can use something like jackson-dataformat-xml to deserialize your top level JavaBean instance as XML.","body":"On approach would be to create JavaBeans that represent the structure you need to represent your required XML. You can create an instance of your JavaBean and fill in the data that you need. POI is a good way to get the data but it up to you to write the code to take the Sheet/Row/Cell data and fill in the fields on your JavaBeans. You can use something like jackson-dataformat-xml to deserialize your top level JavaBean instance as XML."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1676042239,"post_id":75401317,"comment_id":133063594,"body_markdown":"Another approach is to use XSSFExportToXml and use something like XSLT to transform the XML generated by XSSFExportToXml into the XML of the form you need.","body":"Another approach is to use XSSFExportToXml and use something like XSLT to transform the XML generated by XSSFExportToXml into the XML of the form you need."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1676042391,"post_id":75401317,"comment_id":133063647,"body_markdown":"Or you could copy https://github.com/apache/poi/blob/trunk/poi-ooxml/src/main/java/org/apache/poi/xssf/extractor/XSSFExportToXml.java and customise the code to change the names of the XML elements it produces.","body":"Or you could copy <a href=\"https://github.com/apache/poi/blob/trunk/poi-ooxml/src/main/java/org/apache/poi/xssf/extractor/XSSFExportToXml.java\" rel=\"nofollow noreferrer\">github.com/apache/poi/blob/trunk/poi-ooxml/src/main/java/org&zwnj;&#8203;/&hellip;</a> and customise the code to change the names of the XML elements it produces."}],"owner":{"account_id":27745879,"reputation":1,"user_id":21181399,"display_name":"Ð’Ð°Ð´Ð¸Ð¼ ÐšÐ¾Ð·ÐµÐ½ÐºÐ¾Ð²"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676010735,"creation_date":1675958921,"question_id":75401317,"body_markdown":"Need to create xml file from excel (source xml).\r\n\r\nI have excel map.\r\n\r\n[1]:https://i.stack.imgur.com/kW6Ny.png\r\n\r\n![1]\r\n\r\nI need to get the following xml file.\r\n\r\n\r\n```\r\n&lt;report code=&quot;&quot; form=&quot;&quot; format-version=&quot;&quot; period=&quot;&quot; shifr=&quot;&quot; version=&quot;&quot; year=&quot;&quot;&gt;\r\n    &lt;title&gt;\r\n        &lt;item name=&quot;okpo&quot; value=&quot;&quot;/&gt;\r\n        &lt;item name=&quot;name&quot; value=&quot;&quot;/&gt;\r\n        &lt;item name=&quot;leader_fio&quot; value=&quot;&quot;/&gt;\r\n        &lt;item name=&quot;responsible_post&quot; value=&quot;&quot;/&gt;\r\n        &lt;item name=&quot;responsible_fio&quot; value=&quot;&quot;/&gt;\r\n        &lt;item name=&quot;phone&quot; value=&quot;&quot;/&gt;\r\n        &lt;item name=&quot;mail&quot; value=&quot;&quot;/&gt;\r\n    &lt;/title&gt;\r\n    &lt;sections&gt;\r\n        &lt;section code=&quot;1&quot;&gt;\r\n            &lt;row code=&quot;1&quot; s1=&quot;&quot;&gt;\r\n                &lt;col code=&quot;1&quot;&gt;189451&lt;/col&gt;\r\n                &lt;col code=&quot;2&quot;&gt;4562&lt;/col&gt;\r\n                &lt;col code=&quot;3&quot;&gt;184037&lt;/col&gt;\r\n                &lt;col code=&quot;4&quot;&gt;852&lt;/col&gt;\r\n                &lt;col code=&quot;5&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;6&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;7&quot;&gt;31424&lt;/col&gt;\r\n            &lt;/row&gt;\r\n            &lt;row code=&quot;2&quot; s1=&quot;&quot;&gt;\r\n                &lt;col code=&quot;1&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;2&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;3&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;4&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;5&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;6&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;7&quot;&gt;0&lt;/col&gt;\r\n            &lt;/row&gt;\r\n        &lt;/section&gt;\r\n        &lt;section code=&quot;2&quot;&gt;\r\n            &lt;row code=&quot;1&quot; s1=&quot;&quot;&gt;\r\n                &lt;col code=&quot;1&quot;&gt;189451&lt;/col&gt;\r\n                &lt;col code=&quot;2&quot;&gt;4562&lt;/col&gt;\r\n                &lt;col code=&quot;3&quot;&gt;184037&lt;/col&gt;\r\n                &lt;col code=&quot;4&quot;&gt;852&lt;/col&gt;\r\n                &lt;col code=&quot;5&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;6&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;7&quot;&gt;31424&lt;/col&gt;\r\n            &lt;/row&gt;\r\n            &lt;row code=&quot;2&quot; s1=&quot;&quot;&gt;\r\n                &lt;col code=&quot;1&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;2&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;3&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;4&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;5&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;6&quot;&gt;0&lt;/col&gt;\r\n                &lt;col code=&quot;7&quot;&gt;0&lt;/col&gt;\r\n            &lt;/row&gt;\r\n        &lt;/section&gt;\r\n    &lt;/sections&gt;\r\n&lt;/report&gt;\r\n\r\n```\r\n\r\n\r\nNow i try use Apache poi.\r\n\r\n```\r\ntry {\r\n            val wb = XSSFWorkbook(&quot;C:\\\\Users\\\\Vadim\\\\IdeaProjects\\\\forep2\\\\data\\\\templates\\\\xmlTest.XLSX&quot;)\r\n\r\n            for (map in wb.customXMLMappings) {\r\n                val exporter = XSSFExportToXml(map)\r\n\r\n                val os = ByteArrayOutputStream()\r\n                exporter.exportToXML(os, true)\r\n                val xml = os.toString(&quot;UTF-8&quot;)\r\n                println(xml)\r\n            }\r\n        } catch (ex: Exception) {\r\n            println(ex.message)\r\n        }\r\n```\r\n\r\nBut instead of what I want, I get only one element of the nested collection.\r\n\r\n\r\n```\r\n&lt;report code=&quot;606010005012&quot; form=&quot;5&quot; format-version=&quot;1.3&quot; period=&quot;2&quot; shifr=&quot;un_p4&quot; version=&quot;21-01-2021&quot; year=&quot;2022&quot;&gt;\r\n    &lt;title&gt;\r\n        &lt;item name=&quot;&quot; value=&quot;&quot;/&gt;\r\n    &lt;/title&gt;\r\n    &lt;sections&gt;\r\n        &lt;section code=&quot;2&quot;&gt;\r\n            &lt;row code=&quot;2&quot; s1=&quot;&quot;&gt;\r\n                &lt;col code=&quot;7&quot;&gt;0&lt;/col&gt;\r\n            &lt;/row&gt;\r\n        &lt;/section&gt;\r\n    &lt;/sections&gt;\r\n&lt;/report&gt;\r\n```\r\n\r\n\r\nI try to use method exportToXML. But instead of a nested collection, I get one root element of each node. ","title":"How to export xml from excel (xml source) with apache poi (ready to use other libs). Java, Kotlin","body":"<p>Need to create xml file from excel (source xml).</p>\n<p>I have excel map.</p>\n<p><img src=\"https://i.stack.imgur.com/kW6Ny.png\" alt=\"1\" /></p>\n<p>I need to get the following xml file.</p>\n<pre><code>&lt;report code=&quot;&quot; form=&quot;&quot; format-version=&quot;&quot; period=&quot;&quot; shifr=&quot;&quot; version=&quot;&quot; year=&quot;&quot;&gt;\n    &lt;title&gt;\n        &lt;item name=&quot;okpo&quot; value=&quot;&quot;/&gt;\n        &lt;item name=&quot;name&quot; value=&quot;&quot;/&gt;\n        &lt;item name=&quot;leader_fio&quot; value=&quot;&quot;/&gt;\n        &lt;item name=&quot;responsible_post&quot; value=&quot;&quot;/&gt;\n        &lt;item name=&quot;responsible_fio&quot; value=&quot;&quot;/&gt;\n        &lt;item name=&quot;phone&quot; value=&quot;&quot;/&gt;\n        &lt;item name=&quot;mail&quot; value=&quot;&quot;/&gt;\n    &lt;/title&gt;\n    &lt;sections&gt;\n        &lt;section code=&quot;1&quot;&gt;\n            &lt;row code=&quot;1&quot; s1=&quot;&quot;&gt;\n                &lt;col code=&quot;1&quot;&gt;189451&lt;/col&gt;\n                &lt;col code=&quot;2&quot;&gt;4562&lt;/col&gt;\n                &lt;col code=&quot;3&quot;&gt;184037&lt;/col&gt;\n                &lt;col code=&quot;4&quot;&gt;852&lt;/col&gt;\n                &lt;col code=&quot;5&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;6&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;7&quot;&gt;31424&lt;/col&gt;\n            &lt;/row&gt;\n            &lt;row code=&quot;2&quot; s1=&quot;&quot;&gt;\n                &lt;col code=&quot;1&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;2&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;3&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;4&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;5&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;6&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;7&quot;&gt;0&lt;/col&gt;\n            &lt;/row&gt;\n        &lt;/section&gt;\n        &lt;section code=&quot;2&quot;&gt;\n            &lt;row code=&quot;1&quot; s1=&quot;&quot;&gt;\n                &lt;col code=&quot;1&quot;&gt;189451&lt;/col&gt;\n                &lt;col code=&quot;2&quot;&gt;4562&lt;/col&gt;\n                &lt;col code=&quot;3&quot;&gt;184037&lt;/col&gt;\n                &lt;col code=&quot;4&quot;&gt;852&lt;/col&gt;\n                &lt;col code=&quot;5&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;6&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;7&quot;&gt;31424&lt;/col&gt;\n            &lt;/row&gt;\n            &lt;row code=&quot;2&quot; s1=&quot;&quot;&gt;\n                &lt;col code=&quot;1&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;2&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;3&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;4&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;5&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;6&quot;&gt;0&lt;/col&gt;\n                &lt;col code=&quot;7&quot;&gt;0&lt;/col&gt;\n            &lt;/row&gt;\n        &lt;/section&gt;\n    &lt;/sections&gt;\n&lt;/report&gt;\n\n</code></pre>\n<p>Now i try use Apache poi.</p>\n<pre><code>try {\n            val wb = XSSFWorkbook(&quot;C:\\\\Users\\\\Vadim\\\\IdeaProjects\\\\forep2\\\\data\\\\templates\\\\xmlTest.XLSX&quot;)\n\n            for (map in wb.customXMLMappings) {\n                val exporter = XSSFExportToXml(map)\n\n                val os = ByteArrayOutputStream()\n                exporter.exportToXML(os, true)\n                val xml = os.toString(&quot;UTF-8&quot;)\n                println(xml)\n            }\n        } catch (ex: Exception) {\n            println(ex.message)\n        }\n</code></pre>\n<p>But instead of what I want, I get only one element of the nested collection.</p>\n<pre><code>&lt;report code=&quot;606010005012&quot; form=&quot;5&quot; format-version=&quot;1.3&quot; period=&quot;2&quot; shifr=&quot;un_p4&quot; version=&quot;21-01-2021&quot; year=&quot;2022&quot;&gt;\n    &lt;title&gt;\n        &lt;item name=&quot;&quot; value=&quot;&quot;/&gt;\n    &lt;/title&gt;\n    &lt;sections&gt;\n        &lt;section code=&quot;2&quot;&gt;\n            &lt;row code=&quot;2&quot; s1=&quot;&quot;&gt;\n                &lt;col code=&quot;7&quot;&gt;0&lt;/col&gt;\n            &lt;/row&gt;\n        &lt;/section&gt;\n    &lt;/sections&gt;\n&lt;/report&gt;\n</code></pre>\n<p>I try to use method exportToXML. But instead of a nested collection, I get one root element of each node.</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675586569,"post_id":75351028,"comment_id":132958121,"body_markdown":"Kindly add your code in question as without that , no one can figure out what is wrong there ?","body":"Kindly add your code in question as without that , no one can figure out what is wrong there ?"},{"owner":{"account_id":27707096,"reputation":13,"user_id":21150501,"display_name":"Kmor Keltas"},"score":0,"creation_date":1675587092,"post_id":75351028,"comment_id":132958187,"body_markdown":"All right Ä± will thank you","body":"All right Ä± will thank you"},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1675723811,"post_id":75351028,"comment_id":132987044,"body_markdown":"Show us the error after crashing, u can find it on logcat","body":"Show us the error after crashing, u can find it on logcat"}],"answers":[{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675609569,"creation_date":1675609569,"answer_id":75353236,"question_id":75351028,"body_markdown":"I try to guess, in some place of your code you are calling some convert method like `Double.parseDouble`, and you pass as argument your `editText.getText()`.\r\n\r\nSo when trying to convert your `String` to `Double`, it will crash because your text is **Empty**, and you can&#39;t convert **Empty** text to **Double**.\r\n\r\n\r\n&gt; **Solution 1** : Try to surround your Convert Method with `try/catch`.\r\n&gt; \r\n&gt; **Solution 2** : Try to use ***Input Control***, for example: Check if all your fields are not **Empty**, after that you do your stuff\r\n","title":"Android empty edittext and button","body":"<p>I try to guess, in some place of your code you are calling some convert method like <code>Double.parseDouble</code>, and you pass as argument your <code>editText.getText()</code>.</p>\n<p>So when trying to convert your <code>String</code> to <code>Double</code>, it will crash because your text is <strong>Empty</strong>, and you can't convert <strong>Empty</strong> text to <strong>Double</strong>.</p>\n<blockquote>\n<p><strong>Solution 1</strong> : Try to surround your Convert Method with <code>try/catch</code>.</p>\n<p><strong>Solution 2</strong> : Try to use <em><strong>Input Control</strong></em>, for example: Check if all your fields are not <strong>Empty</strong>, after that you do your stuff</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10780313,"reputation":192,"user_id":7931023,"display_name":"Ashfaque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676010145,"creation_date":1676010145,"answer_id":75407578,"question_id":75351028,"body_markdown":"when trying to convert your String to Double, it will crash because your text is Empty, and you can&#39;t convert Empty text to Double.\r\n\r\nTry below code for every editText:-\r\n\r\n    //init EditText\r\n     EditText editText1=findViewById(R.id.t1);\r\n     EditText editText2=findViewById(R.id.t2);\r\n     EditText editText3=findViewById(R.id.t3);\r\n     ...\r\n     \r\n     //set value\r\n     double value1 = Double.parseDouble(!String.valueOf(editText1.getText()).isEmpty() ? String.valueOf(editText1.getText()) : &quot;0&quot;);\r\n     double value2 = Double.parseDouble(!String.valueOf(editText2.getText()).isEmpty() ? String.valueOf(editText2.getText()) : &quot;0&quot;);\r\n     double value3 = Double.parseDouble(!String.valueOf(editText3.getText()).isEmpty() ? String.valueOf(editText3.getText()) : &quot;0&quot;);\r\n     ...\r\n\r\nIn the above code. when editText is Empty that time it will assign a Zero( 0 ) otherwise is set a editText Value","title":"Android empty edittext and button","body":"<p>when trying to convert your String to Double, it will crash because your text is Empty, and you can't convert Empty text to Double.</p>\n<p>Try below code for every editText:-</p>\n<pre><code>//init EditText\n EditText editText1=findViewById(R.id.t1);\n EditText editText2=findViewById(R.id.t2);\n EditText editText3=findViewById(R.id.t3);\n ...\n \n //set value\n double value1 = Double.parseDouble(!String.valueOf(editText1.getText()).isEmpty() ? String.valueOf(editText1.getText()) : &quot;0&quot;);\n double value2 = Double.parseDouble(!String.valueOf(editText2.getText()).isEmpty() ? String.valueOf(editText2.getText()) : &quot;0&quot;);\n double value3 = Double.parseDouble(!String.valueOf(editText3.getText()).isEmpty() ? String.valueOf(editText3.getText()) : &quot;0&quot;);\n ...\n</code></pre>\n<p>In the above code. when editText is Empty that time it will assign a Zero( 0 ) otherwise is set a editText Value</p>\n"}],"owner":{"account_id":27707096,"reputation":13,"user_id":21150501,"display_name":"Kmor Keltas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75407578,"answer_count":2,"score":1,"last_activity_date":1676010145,"creation_date":1675586517,"question_id":75351028,"body_markdown":"I have a problem about button clicking. I have 7 edittext covered with double value. When I dont enter at least one edittext and after click button app crashes. Also when enter all values app runs well. \r\n\r\nWhats the problem Ä± dont know and Ä± am really beginner at programing. Thanks for help from now\r\n\r\nI tried toast message set eror message if else statements but nothing works.\r\n\r\n**This Is My Main Activity Code**\r\n\r\n     @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    }\r\n\r\n    public void baslat (View view) {\r\n        TableLayout resultLayout = findViewById(R.id.resultLayout);\r\n        resultLayout.setVisibility(View.VISIBLE);\r\n\r\n        // Keyboard hide kÄ±smÄ± //\r\n            InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(resultLayout.getWindowToken(), 0);\r\n\r\n            //Virg&#252;lden sonraki basamak sayÄ±sÄ±nÄ± ayarlayan kÄ±sÄ±m //\r\n        NumberFormat sonUmut = NumberFormat.getNumberInstance();\r\n        sonUmut.setMaximumFractionDigits(3);\r\n\r\n\r\n\r\n\r\n                // T1 Hedef Hesaplama KÄ±smÄ± //\r\n\r\n        EditText t1 = findViewById(R.id.t1);\r\n        EditText yapilan = findViewById(R.id.yapilan);\r\n        EditText ayGun = findViewById(R.id.ayGun);\r\n        EditText bugun = findViewById(R.id.bugun);\r\n        TextView t1Sonuc = findViewById(R.id.t1Sonuc);\r\n\r\n        double t1Veri = Double.parseDouble(t1.getText().toString());\r\n\r\n        double yapilanVeri = Double.parseDouble(yapilan.getText().toString()); //MULTI USE\r\n        double ayGunVeri = Double.parseDouble(ayGun.getText().toString()); //MULTI USE\r\n        double bugunVeri = Double.parseDouble(bugun.getText().toString()); //MULTI USE\r\n\r\n\r\n\r\n        double t1Formul = (t1Veri - yapilanVeri) / (ayGunVeri - bugunVeri);\r\n        String t1Formula = sonUmut.format(t1Formul);\r\n        t1Sonuc.setText(&quot;&quot;+t1Formula+&quot;&quot;);\r\n\r\n\r\n\r\n                // T1 Hedef Hesaplama KÄ±smÄ± //\r\n\r\n                          // // // //\r\n\r\n                // T2 Hedef Hesaplama KÄ±smÄ± //\r\n\r\n        EditText t2 = findViewById(R.id.t2);\r\n        TextView t2Sonuc = findViewById(R.id.t2Sonuc);\r\n\r\n        double t2Veri = Double.parseDouble(t2.getText().toString());\r\n\r\n        double t2Formul = (t2Veri - yapilanVeri) / (ayGunVeri - bugunVeri);\r\n        String t2Formula = sonUmut.format(t2Formul);\r\n        t2Sonuc.setText(&quot;&quot;+t2Formula+&quot;&quot;);\r\n\r\n                // T2 Hedef Hesaplama KÄ±smÄ± //\r\n\r\n                        // // // //\r\n\r\n                // Adet Hedef Hesaplama KÄ±smÄ± //\r\n\r\n        EditText adet = findViewById(R.id.adet);\r\n        TextView adetSonuc = findViewById(R.id.adetSonuc);\r\n\r\n        double adetVeri = Double.parseDouble(adet.getText().toString());\r\n\r\n        double adetFormul = t2Formul / (yapilanVeri / adetVeri);\r\n        String adetFormula = sonUmut.format(adetFormul);\r\n        adetSonuc.setText(&quot;&quot;+adetFormula+&quot;&quot;);\r\n\r\n                // Adet Hedef Hesaplama KÄ±smÄ± //\r\n\r\n                        // // // //\r\n\r\n                // TL Verim Hesaplama KÄ±smÄ± //\r\n\r\n        EditText saat = findViewById(R.id.saat);\r\n        TextView tlVerimSonuc = findViewById(R.id.tlVerimSonuc);\r\n\r\n        double saatVeri = Double.parseDouble(saat.getText().toString());\r\n\r\n        double tlVerimFormul = (t2Formul / saatVeri);\r\n        String tlVerimFormula = sonUmut.format(tlVerimFormul);\r\n        tlVerimSonuc.setText(&quot;&quot;+tlVerimFormula+&quot;&quot;);\r\n\r\n                // TL Verim Hesaplama KÄ±smÄ± //\r\n\r\n                        // // // //\r\n\r\n            // Adet Verim Hesaplama KÄ±smÄ± //\r\n\r\n        TextView adetVerimSonuc = findViewById(R.id.adetVerimSonuc);\r\n\r\n        double adetVerimFormul = (adetFormul / saatVeri);\r\n        String adetVerimFormula = sonUmut.format(adetVerimFormul);\r\n        adetVerimSonuc.setText(&quot;&quot;+adetVerimFormula+&quot;&quot;);\r\n\r\n            // Adet Verim Hesaplama KÄ±smÄ± //\r\n\r\n                    // // // //\r\n\r\n            //  T1 Tamamlanan KÄ±smÄ± //\r\n\r\n            TextView t1TamamlananSonuc = findViewById(R.id.t1Tam);\r\n\r\n            double t1TamFormul = (yapilanVeri / t1Veri) * 100;\r\n\r\n            String t1TamFormula = sonUmut.format(t1TamFormul);\r\n            t1TamamlananSonuc.setText(&quot;% &quot; + &quot;&quot;+t1TamFormula+&quot;&quot;);\r\n\r\n            //  T1 Tamamlanan KÄ±smÄ± //\r\n\r\n                    // // // //\r\n\r\n            //  T2 Tamamlanan KÄ±smÄ± //\r\n\r\n            TextView t2TamamlananSonuc = findViewById(R.id.t2Tam);\r\n\r\n            double t2TamFormul = (yapilanVeri / t2Veri) * 100;\r\n\r\n            String t2TamFormula = sonUmut.format(t2TamFormul);\r\n            t2TamamlananSonuc.setText(&quot;% &quot; + &quot;&quot;+t2TamFormula+&quot;&quot;);\r\n\r\n            //  T2 Tamamlanan KÄ±smÄ± //\r\n\r\n                    // // // //\r\n\r\n            // Ay Tamamlanan KÄ±smÄ± //\r\n\r\n\r\n            TextView ayTamamlananSonuc = findViewById(R.id.ayTam);\r\n\r\n            double ayTamFormul = ((bugunVeri - 1) / ayGunVeri) * 100;\r\n\r\n            String ayTamFormula = sonUmut.format(ayTamFormul);\r\n            ayTamamlananSonuc.setText(&quot;% &quot; + &quot;&quot;+ayTamFormula+&quot;&quot;);\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n","title":"Android empty edittext and button","body":"<p>I have a problem about button clicking. I have 7 edittext covered with double value. When I dont enter at least one edittext and after click button app crashes. Also when enter all values app runs well.</p>\n<p>Whats the problem Ä± dont know and Ä± am really beginner at programing. Thanks for help from now</p>\n<p>I tried toast message set eror message if else statements but nothing works.</p>\n<p><strong>This Is My Main Activity Code</strong></p>\n<pre><code> @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n}\n\npublic void baslat (View view) {\n    TableLayout resultLayout = findViewById(R.id.resultLayout);\n    resultLayout.setVisibility(View.VISIBLE);\n\n    // Keyboard hide kÄ±smÄ± //\n        InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(resultLayout.getWindowToken(), 0);\n\n        //VirgÃ¼lden sonraki basamak sayÄ±sÄ±nÄ± ayarlayan kÄ±sÄ±m //\n    NumberFormat sonUmut = NumberFormat.getNumberInstance();\n    sonUmut.setMaximumFractionDigits(3);\n\n\n\n\n            // T1 Hedef Hesaplama KÄ±smÄ± //\n\n    EditText t1 = findViewById(R.id.t1);\n    EditText yapilan = findViewById(R.id.yapilan);\n    EditText ayGun = findViewById(R.id.ayGun);\n    EditText bugun = findViewById(R.id.bugun);\n    TextView t1Sonuc = findViewById(R.id.t1Sonuc);\n\n    double t1Veri = Double.parseDouble(t1.getText().toString());\n\n    double yapilanVeri = Double.parseDouble(yapilan.getText().toString()); //MULTI USE\n    double ayGunVeri = Double.parseDouble(ayGun.getText().toString()); //MULTI USE\n    double bugunVeri = Double.parseDouble(bugun.getText().toString()); //MULTI USE\n\n\n\n    double t1Formul = (t1Veri - yapilanVeri) / (ayGunVeri - bugunVeri);\n    String t1Formula = sonUmut.format(t1Formul);\n    t1Sonuc.setText(&quot;&quot;+t1Formula+&quot;&quot;);\n\n\n\n            // T1 Hedef Hesaplama KÄ±smÄ± //\n\n                      // // // //\n\n            // T2 Hedef Hesaplama KÄ±smÄ± //\n\n    EditText t2 = findViewById(R.id.t2);\n    TextView t2Sonuc = findViewById(R.id.t2Sonuc);\n\n    double t2Veri = Double.parseDouble(t2.getText().toString());\n\n    double t2Formul = (t2Veri - yapilanVeri) / (ayGunVeri - bugunVeri);\n    String t2Formula = sonUmut.format(t2Formul);\n    t2Sonuc.setText(&quot;&quot;+t2Formula+&quot;&quot;);\n\n            // T2 Hedef Hesaplama KÄ±smÄ± //\n\n                    // // // //\n\n            // Adet Hedef Hesaplama KÄ±smÄ± //\n\n    EditText adet = findViewById(R.id.adet);\n    TextView adetSonuc = findViewById(R.id.adetSonuc);\n\n    double adetVeri = Double.parseDouble(adet.getText().toString());\n\n    double adetFormul = t2Formul / (yapilanVeri / adetVeri);\n    String adetFormula = sonUmut.format(adetFormul);\n    adetSonuc.setText(&quot;&quot;+adetFormula+&quot;&quot;);\n\n            // Adet Hedef Hesaplama KÄ±smÄ± //\n\n                    // // // //\n\n            // TL Verim Hesaplama KÄ±smÄ± //\n\n    EditText saat = findViewById(R.id.saat);\n    TextView tlVerimSonuc = findViewById(R.id.tlVerimSonuc);\n\n    double saatVeri = Double.parseDouble(saat.getText().toString());\n\n    double tlVerimFormul = (t2Formul / saatVeri);\n    String tlVerimFormula = sonUmut.format(tlVerimFormul);\n    tlVerimSonuc.setText(&quot;&quot;+tlVerimFormula+&quot;&quot;);\n\n            // TL Verim Hesaplama KÄ±smÄ± //\n\n                    // // // //\n\n        // Adet Verim Hesaplama KÄ±smÄ± //\n\n    TextView adetVerimSonuc = findViewById(R.id.adetVerimSonuc);\n\n    double adetVerimFormul = (adetFormul / saatVeri);\n    String adetVerimFormula = sonUmut.format(adetVerimFormul);\n    adetVerimSonuc.setText(&quot;&quot;+adetVerimFormula+&quot;&quot;);\n\n        // Adet Verim Hesaplama KÄ±smÄ± //\n\n                // // // //\n\n        //  T1 Tamamlanan KÄ±smÄ± //\n\n        TextView t1TamamlananSonuc = findViewById(R.id.t1Tam);\n\n        double t1TamFormul = (yapilanVeri / t1Veri) * 100;\n\n        String t1TamFormula = sonUmut.format(t1TamFormul);\n        t1TamamlananSonuc.setText(&quot;% &quot; + &quot;&quot;+t1TamFormula+&quot;&quot;);\n\n        //  T1 Tamamlanan KÄ±smÄ± //\n\n                // // // //\n\n        //  T2 Tamamlanan KÄ±smÄ± //\n\n        TextView t2TamamlananSonuc = findViewById(R.id.t2Tam);\n\n        double t2TamFormul = (yapilanVeri / t2Veri) * 100;\n\n        String t2TamFormula = sonUmut.format(t2TamFormul);\n        t2TamamlananSonuc.setText(&quot;% &quot; + &quot;&quot;+t2TamFormula+&quot;&quot;);\n\n        //  T2 Tamamlanan KÄ±smÄ± //\n\n                // // // //\n\n        // Ay Tamamlanan KÄ±smÄ± //\n\n\n        TextView ayTamamlananSonuc = findViewById(R.id.ayTam);\n\n        double ayTamFormul = ((bugunVeri - 1) / ayGunVeri) * 100;\n\n        String ayTamFormula = sonUmut.format(ayTamFormul);\n        ayTamamlananSonuc.setText(&quot;% &quot; + &quot;&quot;+ayTamFormula+&quot;&quot;);\n\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","google-chrome","svg","render","echarts"],"answers":[{"tags":[],"owner":{"account_id":9306921,"reputation":8081,"user_id":6910253,"display_name":"Badacadabra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675982806,"creation_date":1675982806,"answer_id":75405232,"question_id":75401552,"body_markdown":"First of all, I think your first tag is wrong. You are talking about **JavaScript**, right?\r\n\r\nI am not sure to fully understand your question, but if you want to get the **SVG** code behind a chart, you have to make sure that developers you work with do not use the **Canvas** API.\r\n\r\n**Echarts** has two renderers: `canvas` and `svg`. See [Canvas vs. SVG - Best Practices - Handbook - Apache ECharts][1]. If you want to use the **SVG renderer**, charts should be [initialized][2] like this:\r\n\r\n```javascript\r\nlet myChart = echarts.init(document.getElementById(&#39;main&#39;), null, { renderer: &#39;svg&#39; });\r\n```\r\n\r\nNow, to export your chart to SVG, you can:\r\n\r\n - Configure the **toolbox** (see [`toolbox.feature.saveAsImage.type`][3]). A download button will appear in the top right corner of the main container.\r\n - Copy/paste the code using **browser developer tools**.\r\n\r\nHere is an example ([JSFiddle][4]):\r\n\r\n```javascript\r\nlet option = {\r\n  toolbox: {\r\n    feature: {\r\n      saveAsImage: {\r\n        type: &#39;svg&#39; // &lt;--- HERE\r\n      }\r\n    }\r\n  },\r\n  xAxis: {\r\n    type: &#39;category&#39;,\r\n    data: [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]\r\n  },\r\n  yAxis: {\r\n    type: &#39;value&#39;\r\n  },\r\n  series: [\r\n    {\r\n      data: [10, 20, 15],\r\n      type: &#39;bar&#39;\r\n    }\r\n  ]\r\n};\r\n\r\nlet myChart = echarts.init(document.getElementById(&#39;main&#39;), null, { renderer: &#39;svg&#39; });\r\nmyChart.setOption(option);\r\n```\r\n\r\n```css\r\n#main {\r\n  width: 350px;\r\n  height: 350px;\r\n}\r\n```\r\n\r\n```html\r\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;div id=&quot;main&quot;&gt;&lt;/div&gt;\r\n```\r\n  [1]: https://apache.github.io/echarts-handbook/en/best-practices/canvas-vs-svg/#\r\n  [2]: https://echarts.apache.org/en/api.html#echarts.init\r\n  [3]: https://echarts.apache.org/en/option.html#toolbox.feature.saveAsImage.type\r\n  [4]: https://jsfiddle.net/Badacadabra/gvtz0745/","title":"Using Apache &quot;echarts&quot; code to render a chart as svg for offline use?","body":"<p>First of all, I think your first tag is wrong. You are talking about <strong>JavaScript</strong>, right?</p>\n<p>I am not sure to fully understand your question, but if you want to get the <strong>SVG</strong> code behind a chart, you have to make sure that developers you work with do not use the <strong>Canvas</strong> API.</p>\n<p><strong>Echarts</strong> has two renderers: <code>canvas</code> and <code>svg</code>. See <a href=\"https://apache.github.io/echarts-handbook/en/best-practices/canvas-vs-svg/#\" rel=\"nofollow noreferrer\">Canvas vs. SVG - Best Practices - Handbook - Apache ECharts</a>. If you want to use the <strong>SVG renderer</strong>, charts should be <a href=\"https://echarts.apache.org/en/api.html#echarts.init\" rel=\"nofollow noreferrer\">initialized</a> like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>let myChart = echarts.init(document.getElementById('main'), null, { renderer: 'svg' });\n</code></pre>\n<p>Now, to export your chart to SVG, you can:</p>\n<ul>\n<li>Configure the <strong>toolbox</strong> (see <a href=\"https://echarts.apache.org/en/option.html#toolbox.feature.saveAsImage.type\" rel=\"nofollow noreferrer\"><code>toolbox.feature.saveAsImage.type</code></a>). A download button will appear in the top right corner of the main container.</li>\n<li>Copy/paste the code using <strong>browser developer tools</strong>.</li>\n</ul>\n<p>Here is an example (<a href=\"https://jsfiddle.net/Badacadabra/gvtz0745/\" rel=\"nofollow noreferrer\">JSFiddle</a>):</p>\n<pre class=\"lang-js prettyprint-override\"><code>let option = {\n  toolbox: {\n    feature: {\n      saveAsImage: {\n        type: 'svg' // &lt;--- HERE\n      }\n    }\n  },\n  xAxis: {\n    type: 'category',\n    data: ['A', 'B', 'C']\n  },\n  yAxis: {\n    type: 'value'\n  },\n  series: [\n    {\n      data: [10, 20, 15],\n      type: 'bar'\n    }\n  ]\n};\n\nlet myChart = echarts.init(document.getElementById('main'), null, { renderer: 'svg' });\nmyChart.setOption(option);\n</code></pre>\n<pre class=\"lang-css prettyprint-override\"><code>#main {\n  width: 350px;\n  height: 350px;\n}\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.min.js&quot;&gt;&lt;/script&gt;\n\n&lt;div id=&quot;main&quot;&gt;&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":27736951,"reputation":1,"user_id":21174314,"display_name":"Aidos98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2032,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676009833,"creation_date":1675960011,"question_id":75401552,"body_markdown":"Apologies, I&#39;m not a programmer so this is a new world for me.\r\n\r\nIs at all possible to pull element data from the java or css code on a website thats being used to generate a chart through apache echarts and convert it to an svg for later use?\r\nPart of my job is animating charts and data and having access to the individual shapes, lines and numbers rather than just a &quot;baked&quot; .png would be invaluable for my work.\r\n\r\nThis is an example of the code in question\r\n\r\n[1]:https://i.stack.imgur.com/qMYN5.png\r\n\r\n![1]\r\n\r\nI&#39;ve asked a few web developers who couldn&#39;t help so if anyone has any ideas or can point me in the right direction I&#39;d be extremely grateful. \r\n\r\nCheers.\r\n\r\n\r\nI have yet to try anything as I&#39;m pretty lost, as above several web developers have been unable to help so far.","title":"Using Apache &quot;echarts&quot; code to render a chart as svg for offline use?","body":"<p>Apologies, I'm not a programmer so this is a new world for me.</p>\n<p>Is at all possible to pull element data from the java or css code on a website thats being used to generate a chart through apache echarts and convert it to an svg for later use?\nPart of my job is animating charts and data and having access to the individual shapes, lines and numbers rather than just a &quot;baked&quot; .png would be invaluable for my work.</p>\n<p>This is an example of the code in question</p>\n<p><img src=\"https://i.stack.imgur.com/qMYN5.png\" alt=\"1\" /></p>\n<p>I've asked a few web developers who couldn't help so if anyone has any ideas or can point me in the right direction I'd be extremely grateful.</p>\n<p>Cheers.</p>\n<p>I have yet to try anything as I'm pretty lost, as above several web developers have been unable to help so far.</p>\n"},{"tags":["java","json","gson","objectmapper"],"answers":[{"comments":[{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1676050413,"post_id":75407464,"comment_id":133066215,"body_markdown":"Sorry tried but not worked.","body":"Sorry tried but not worked."},{"owner":{"account_id":25726754,"reputation":3,"user_id":19482987,"display_name":"SneakyFoxy"},"score":0,"creation_date":1676097956,"post_id":75407464,"comment_id":133073164,"body_markdown":"@Rocky4Ever What the result? Error?","body":"@Rocky4Ever What the result? Error?"},{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1676128174,"post_id":75407464,"comment_id":133077345,"body_markdown":"No Error, but i saw same result as my input.","body":"No Error, but i saw same result as my input."}],"tags":[],"owner":{"account_id":25726754,"reputation":3,"user_id":19482987,"display_name":"SneakyFoxy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676009202,"creation_date":1676008997,"answer_id":75407464,"question_id":75406239,"body_markdown":"Just unquote special character \\n\r\n```\r\n      String body = &quot;{\\&quot;provision\\&quot; : \\&quot;purpose of usefuleness.\\\\n\\\\n shall not use personal-provided facilities.\\\\n\\\\nWe shall not be required to pay you.\\&quot;}&quot;;\r\n      ObjectMapper mapper = new ObjectMapper();\r\n      String result = null;\r\n      try {\r\n        JsonNode node = mapper.readTree(body);\r\n        result = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(node);\r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n      System.out.println(result);\r\n```\r\n```\r\n{\r\n  &quot;provision&quot; : &quot;purpose of usefuleness.\\n\\n shall not use personal-provided facilities.\\n\\nWe shall not be required to pay you.&quot;\r\n}\r\n```","title":"Java JsonObject: Converting to invalid string","body":"<p>Just unquote special character \\n</p>\n<pre><code>      String body = &quot;{\\&quot;provision\\&quot; : \\&quot;purpose of usefuleness.\\\\n\\\\n shall not use personal-provided facilities.\\\\n\\\\nWe shall not be required to pay you.\\&quot;}&quot;;\n      ObjectMapper mapper = new ObjectMapper();\n      String result = null;\n      try {\n        JsonNode node = mapper.readTree(body);\n        result = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(node);\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n      System.out.println(result);\n</code></pre>\n<pre><code>{\n  &quot;provision&quot; : &quot;purpose of usefuleness.\\n\\n shall not use personal-provided facilities.\\n\\nWe shall not be required to pay you.&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676009202,"creation_date":1675994116,"question_id":75406239,"body_markdown":"I am using objectMapper to convert object as string. While converting mappper is creating invalid string. How can I keep `JsonNode`/`JsonObject` string intact while using object mapper.\r\n\r\nJsonObject:\r\n\r\n    {\r\n    \t&quot;provision&quot;: &quot; purpose of usefuleness.\\n\\n shall not use personal-provided facilities.\\n\\nWe shall not be required to pay you. \r\n    }\r\n\r\n\r\nIs Converted to\r\n\r\n    {\r\n        \t&quot;provision&quot;: &quot; purpose of usefuleness.\r\n     \\shall not use personal-provided facilities.\r\n    \\We shall not be required to pay you. \r\n    }\r\n\r\nUsed:\r\n\r\n    new ObjectMapper().writeValuesAsString(json);\r\n\r\nHow can keep the original String intact.\r\nwith \r\n\r\n    new JsonObject(String)\r\n\r\nor\r\nwhen using\r\n\r\n     new ObjectMapper().writeValuesAsString(json);\r\n\r\n","title":"Java JsonObject: Converting to invalid string","body":"<p>I am using objectMapper to convert object as string. While converting mappper is creating invalid string. How can I keep <code>JsonNode</code>/<code>JsonObject</code> string intact while using object mapper.</p>\n<p>JsonObject:</p>\n<pre><code>{\n    &quot;provision&quot;: &quot; purpose of usefuleness.\\n\\n shall not use personal-provided facilities.\\n\\nWe shall not be required to pay you. \n}\n</code></pre>\n<p>Is Converted to</p>\n<pre><code>{\n        &quot;provision&quot;: &quot; purpose of usefuleness.\n \\shall not use personal-provided facilities.\n\\We shall not be required to pay you. \n}\n</code></pre>\n<p>Used:</p>\n<pre><code>new ObjectMapper().writeValuesAsString(json);\n</code></pre>\n<p>How can keep the original String intact.\nwith</p>\n<pre><code>new JsonObject(String)\n</code></pre>\n<p>or\nwhen using</p>\n<pre><code> new ObjectMapper().writeValuesAsString(json);\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1675514133,"post_id":75343597,"comment_id":132947668,"body_markdown":"You&#39;re focusing on the caret, but you&#39;re describing the desired behavior of a Swing component.  Are you using a `JTextArea`, a `JEditorPane`, or a `JTextPane`?  Either way, you&#39;ll have to add this additional text editing behavior with your application code.","body":"You&#39;re focusing on the caret, but you&#39;re describing the desired behavior of a Swing component.  Are you using a <code>JTextArea</code>, a <code>JEditorPane</code>, or a <code>JTextPane</code>?  Either way, you&#39;ll have to add this additional text editing behavior with your application code."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675516044,"post_id":75343597,"comment_id":132947997,"body_markdown":"I think you need to look into [editor kits](https://stackoverflow.com/questions/23414137/what-are-editorkits-in-jtextcomponents-and-what-is-their-job) and also maybe [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html).","body":"I think you need to look into <a href=\"https://stackoverflow.com/questions/23414137/what-are-editorkits-in-jtextcomponents-and-what-is-their-job\">editor kits</a> and also maybe <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675525120,"post_id":75343597,"comment_id":132949593,"body_markdown":"To the best of my knowldege, items 1 and 4 are not â€œstandard caret behavior.â€  I have never seen any editor or program exhibit that behavior except Word.  Item 3 does work in Swing when I try it.","body":"To the best of my knowldege, items 1 and 4 are not â€œstandard caret behavior.â€  I have never seen any editor or program exhibit that behavior except Word.  Item 3 does work in Swing when I try it."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1675548997,"post_id":75343597,"comment_id":132954183,"body_markdown":"@VGR Item 4 is surprisingly common. It works in Mac&#39;s TextEdit, Windows&#39; WordPad, in most Browsers, excluding Edge. I just tried it in Chrome and it works regardless of whether the text is editable. It seems to work everywhere the triple-click works. Item 1 works everywhere I&#39;ve tried it except for Windows Notepad, including all those I just mentioned. As for Item 3 in Swing, it selects the entire line, rather than the paragraph. Lines are delimited by soft line breaks rather than hard ones.","body":"@VGR Item 4 is surprisingly common. It works in Mac&#39;s TextEdit, Windows&#39; WordPad, in most Browsers, excluding Edge. I just tried it in Chrome and it works regardless of whether the text is editable. It seems to work everywhere the triple-click works. Item 1 works everywhere I&#39;ve tried it except for Windows Notepad, including all those I just mentioned. As for Item 3 in Swing, it selects the entire line, rather than the paragraph. Lines are delimited by soft line breaks rather than hard ones."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1675549072,"post_id":75343597,"comment_id":132954192,"body_markdown":"@GilbertLeBlanc The selection is controlled by the Caret. The code to do this is in `JTextComponent`, which is the common ancestor of `JTextArea`, `JEditorPane`, and `JTextPane`, as well as `JTextField`. That&#39;s where this would be done.","body":"@GilbertLeBlanc The selection is controlled by the Caret. The code to do this is in <code>JTextComponent</code>, which is the common ancestor of <code>JTextArea</code>, <code>JEditorPane</code>, and <code>JTextPane</code>, as well as <code>JTextField</code>. That&#39;s where this would be done."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1675549508,"post_id":75343597,"comment_id":132954263,"body_markdown":"@Abra Editor kits are for making changes to a file, which is a different topic. All of the behaviors I&#39;ve described work the same whether or not the component is editable. Key bindings do also affect the selection, but they communicate with the Caret class, because that&#39;s what controls the selection.","body":"@Abra Editor kits are for making changes to a file, which is a different topic. All of the behaviors I&#39;ve described work the same whether or not the component is editable. Key bindings do also affect the selection, but they communicate with the Caret class, because that&#39;s what controls the selection."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1697491163,"post_id":75343597,"comment_id":136284173,"body_markdown":"There are features I described above that don&#39;t work in Edge. Except, with my version of Edge, on my Mac, they now work. I&#39;m delighted.","body":"There are features I described above that don&#39;t work in Edge. Except, with my version of Edge, on my Mac, they now work. I&#39;m delighted."}],"answers":[{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675762116,"creation_date":1675762116,"answer_id":75371306,"question_id":75343597,"body_markdown":"Here&#39;s a class I wrote to address these issues. It addresses issues 1 and 2. As far as triple-clicks go, it doesn&#39;t change the behavior of selecting the line instead the paragraph, but it addresses issue 4 on the selected line, consistent with the triple-click behavior. It doesn&#39;t address issue 5.\r\n\r\nThis class also has two factory methods that will do trouble-free installations of this caret into your text components.\r\n\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.MouseEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.Caret;\r\n    import javax.swing.text.DefaultCaret;\r\n    import javax.swing.text.JTextComponent;\r\n    import javax.swing.text.Position;\r\n    import javax.swing.text.Utilities;\r\n    \r\n    /**\r\n     * &lt;p&gt;Implements Standard rules for extending the selection, consistent with the standard\r\n     * behavior for extending the selection in all word processors, browsers, and other text\r\n     * editing tools, on all platforms. Without this, Swing&#39;s behavior on extending the\r\n     * selection is inconsistent with all other text editing tools.\r\n     * &lt;/p&gt;&lt;p&gt;\r\n     * Swing components don&#39;t handle selectByWord the way most UI text components do. If you\r\n     * double-click on a word, they will all select the entire word. But if you do a \r\n     * click-and-drag, most components will (a) select the entire clicked word, and\r\n     * (b) extend the selection a word at a time as the user drags across the text. And if\r\n     * you double- click on a word and follow that with a shift-click, most components will\r\n     * also extend the selection a word at a time.  Swing components handle a double-clicked\r\n     * word the standard way, but do not handle click-and-drag or shift-click correctly. This\r\n     * caret, which replaces the standard DefaultCaret, fixes this.&lt;/p&gt;\r\n     * &lt;p&gt;Created by IntelliJ IDEA.&lt;/p&gt;\r\n     * &lt;p&gt;Date: 2/23/20&lt;/p&gt;\r\n     * &lt;p&gt;Time: 10:58 PM&lt;/p&gt;\r\n     *\r\n     * @author Miguel Mu\\u00f1oz\r\n     */\r\n    public class StandardCaret extends DefaultCaret {\r\n      // In the event of a double-click, these are the positions of the low end and high end\r\n      // of the word that was clicked.\r\n      private int highMark;\r\n      private int lowMark;\r\n      private boolean selectingByWord = false; // true when the last selection was done by word.\r\n      private boolean selectingByRow = false; // true when the last selection was done by paragraph. \r\n    \r\n      /**\r\n       * Instantiate an EnhancedCaret.\r\n       */\r\n      public StandardCaret() {\r\n        super();\r\n      }\r\n    \r\n      /**\r\n       * &lt;p&gt;Install this Caret into a JTextComponent. Carets may not be shared among multiple\r\n       * components.&lt;/p&gt;\r\n       * @param component The component to use the EnhancedCaret.\r\n       */\r\n      public void installInto(JTextComponent component) {\r\n        replaceCaret(component, this);\r\n      }\r\n\r\n      /**\r\n       * Install a new StandardCaret into a JTextComponent, such as a JTextField or\r\n       * JTextArea, and starts the Caret blinking using the same blink-rate as the\r\n       * previous Caret.\r\n       *\r\n       * @param component The JTextComponent subclass\r\n       */\r\n      public static void installStandardCaret(JTextComponent component) {\r\n        replaceCaret(component, new StandardCaret());\r\n      }\r\n\r\n      /**\r\n       * Installs the specified Caret into the JTextComponent, and starts the Caret blinking\r\n       * using the same blink-rate as the previous Caret. This works with any Caret\r\n       *\r\n       * @param component The text component to get the new Caret\r\n       * @param caret     The new Caret to install\r\n       */\r\n      public static void replaceCaret(final JTextComponent component, final Caret caret) {\r\n        final Caret priorCaret = component.getCaret();\r\n        int blinkRate = priorCaret.getBlinkRate();\r\n        if (priorCaret instanceof PropertyChangeListener) {\r\n          // For example, com.apple.laf.AquaCaret, the troublemaker, installs this listener\r\n          // which doesn&#39;t get removed when the Caret gets uninstalled.\r\n          component.removePropertyChangeListener((PropertyChangeListener) priorCaret);\r\n        }\r\n        component.setCaret(caret);\r\n        caret.setBlinkRate(blinkRate); // Starts the new caret blinking.\r\n      }\r\n\r\n      @Override\r\n      public void mousePressed(final MouseEvent e) {\r\n        // if user is doing a shift-click. Construct a new MouseEvent that happened at one\r\n        // end of the word, and send that to super.mousePressed().\r\n        boolean isExtended = isExtendSelection(e);\r\n        if (selectingByWord &amp;&amp; isExtended) {\r\n          MouseEvent alternateEvent = getRevisedMouseEvent(e, Utilities::getWordStart, Utilities::getWordEnd);\r\n          super.mousePressed(alternateEvent);\r\n        } else if (selectingByRow &amp;&amp; isExtended) {\r\n          MouseEvent alternateEvent = getRevisedMouseEvent(e, Utilities::getRowStart, Utilities::getRowEnd);\r\n          super.mousePressed(alternateEvent);\r\n        } else  {\r\n          if (!isExtended) {\r\n            int clickCount = e.getClickCount();\r\n            selectingByWord = clickCount == 2;\r\n            selectingByRow = clickCount == 3;\r\n          }\r\n          super.mousePressed(e); // let the system select the clicked word\r\n          // save the low end of the selected word.\r\n          lowMark = getMark();\r\n          if (selectingByWord || selectingByRow) {\r\n            // User did a double- or triple-click...\r\n            // They&#39;ve selected the whole word. Record the high end.\r\n            highMark = getDot();\r\n          } else {\r\n            // Not a double-click.\r\n            highMark = lowMark;\r\n          }\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void mouseClicked(final MouseEvent e) {\r\n        super.mouseClicked(e);\r\n        if (selectingByRow) {\r\n          int mark = getMark();\r\n          int dot = getDot();\r\n          lowMark = Math.min(mark, dot);\r\n          highMark = Math.max(mark, dot);\r\n        }\r\n      }\r\n    \r\n      private MouseEvent getRevisedMouseEvent(final MouseEvent e, final BiTextFunction getStart, final BiTextFunction getEnd) {\r\n        int newPos;\r\n        int pos = getPos(e);\r\n        final JTextComponent textComponent = getComponent();\r\n        try {\r\n          if (pos &gt; highMark) {\r\n            newPos = getEnd.loc(textComponent, pos);\r\n            setDot(lowMark);\r\n          } else if (pos &lt; lowMark) {\r\n            newPos = getStart.loc(textComponent, pos);\r\n            setDot(highMark);\r\n          } else {\r\n            if (getMark() == lowMark) {\r\n              newPos = getEnd.loc(textComponent, pos);\r\n            } else {\r\n              newPos = getStart.loc(textComponent, pos);\r\n            }\r\n            pos = -1; // ensure we make a new event\r\n          }\r\n        } catch (BadLocationException ex) {\r\n          throw new IllegalStateException(ex);\r\n        }\r\n        MouseEvent alternateEvent;\r\n        if (newPos == pos) {\r\n          alternateEvent = e;\r\n        } else {\r\n          alternateEvent = makeNewEvent(e, newPos);\r\n        }\r\n        return alternateEvent;\r\n      }\r\n    \r\n      private boolean isExtendSelection(MouseEvent e) {\r\n        // We extend the selection when the shift is down but control is not. Other modifiers don&#39;t matter.\r\n        int modifiers = e.getModifiersEx();\r\n        int shiftAndControlDownMask = MouseEvent.SHIFT_DOWN_MASK | MouseEvent.CTRL_DOWN_MASK;\r\n        return (modifiers &amp; shiftAndControlDownMask) == MouseEvent.SHIFT_DOWN_MASK;\r\n      }\r\n    \r\n      @Override\r\n      public void setDot(final int dot, final Position.Bias dotBias) {\r\n        super.setDot(dot, dotBias);\r\n      }\r\n    \r\n      @Override\r\n      public void mouseDragged(final MouseEvent e) {\r\n        if (!selectingByWord &amp;&amp; !selectingByRow) {\r\n          super.mouseDragged(e);\r\n        } else {\r\n          BiTextFunction getStart;\r\n          BiTextFunction getEnd;\r\n          if (selectingByWord) {\r\n            getStart = Utilities::getWordStart;\r\n            getEnd = Utilities::getWordEnd;\r\n          } else {\r\n            // selecting by paragraph\r\n            getStart = Utilities::getRowStart;\r\n            getEnd = Utilities::getRowEnd;\r\n          }\r\n          // super.mouseDragged just calls moveDot() after getting the position. We can do\r\n          // the same thing...\r\n          // There&#39;s no &quot;setMark()&quot; method. You can set the mark by calling setDot(). It sets\r\n          // both the mark and the dot to the same place. Then you can call moveDot() to put\r\n          // the dot somewhere else.\r\n          if ((!e.isConsumed()) &amp;&amp; SwingUtilities.isLeftMouseButton(e)) {\r\n            int pos = getPos(e);\r\n            JTextComponent component = getComponent();\r\n            try {\r\n              if (pos &gt; highMark) {\r\n                int wordEnd = getEnd.loc(component, pos);\r\n                setDot(lowMark);\r\n                moveDot(wordEnd);\r\n              } else if (pos &lt; lowMark) {\r\n                int wordStart = getStart.loc(component, pos);\r\n                setDot(wordStart); // Sets the mark, too\r\n                moveDot(highMark);\r\n              } else {\r\n                setDot(lowMark);\r\n                moveDot(highMark);\r\n              }\r\n            } catch (BadLocationException ex) {\r\n              ex.printStackTrace();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      private int getPos(final MouseEvent e) {\r\n        JTextComponent component = getComponent();\r\n        Point pt = new Point(e.getX(), e.getY());\r\n        Position.Bias[] biasRet = new Position.Bias[1];\r\n        return component.getUI().viewToModel(component, pt, biasRet);\r\n      }\r\n      \r\n      private MouseEvent makeNewEvent(MouseEvent e, int pos) {\r\n        JTextComponent component = getComponent();\r\n        try {\r\n          Rectangle rect = component.getUI().modelToView(component, pos);\r\n          return new MouseEvent(\r\n              component,\r\n              e.getID(),\r\n              e.getWhen(),\r\n              e.getModifiers(),\r\n              rect.x,\r\n              rect.y,\r\n              e.getClickCount(),\r\n              e.isPopupTrigger(),\r\n              e.getButton()\r\n          );\r\n        } catch (BadLocationException ev) {\r\n          ev.printStackTrace();\r\n          throw new IllegalStateException(ev);\r\n        }\r\n      }\r\n    \r\n    // For eventual use by a &quot;select paragraph&quot; feature:\r\n    //  private static final char NEW_LINE = &#39;\\n&#39;;\r\n    //  private static int getParagraphStart(JTextComponent component, int position) {\r\n    //    return component.getText().substring(0, position).lastIndexOf(NEW_LINE);\r\n    //  }\r\n    //  \r\n    //  private static int getParagraphEnd(JTextComponent component, int position) {\r\n    //    return component.getText().indexOf(NEW_LINE, position);\r\n    //  }\r\n\r\n      /**\r\n       * Don&#39;t use this. I should throw CloneNotSupportedException, but it won&#39;t compile if I\r\n       * do. Changing the access to protected doesn&#39;t help. If you don&#39;t believe me, try it\r\n       * yourself.\r\n       * @return A bad clone of this.\r\n       */      \r\n      @SuppressWarnings({&quot;CloneReturnsClassType&quot;, &quot;UseOfClone&quot;})\r\n      @Override\r\n      public Object clone() {\r\n        return super.clone();\r\n      }\r\n      \r\n      @FunctionalInterface\r\n      private interface BiTextFunction {\r\n        int loc(JTextComponent component, int position) throws BadLocationException;\r\n      }\r\n    }\r\n","title":"How do I get standard Caret behavior in Java Swing?","body":"<p>Here's a class I wrote to address these issues. It addresses issues 1 and 2. As far as triple-clicks go, it doesn't change the behavior of selecting the line instead the paragraph, but it addresses issue 4 on the selected line, consistent with the triple-click behavior. It doesn't address issue 5.</p>\n<p>This class also has two factory methods that will do trouble-free installations of this caret into your text components.</p>\n<pre><code>import java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseEvent;\nimport java.beans.PropertyChangeListener;\nimport javax.swing.SwingUtilities;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Caret;\nimport javax.swing.text.DefaultCaret;\nimport javax.swing.text.JTextComponent;\nimport javax.swing.text.Position;\nimport javax.swing.text.Utilities;\n\n/**\n * &lt;p&gt;Implements Standard rules for extending the selection, consistent with the standard\n * behavior for extending the selection in all word processors, browsers, and other text\n * editing tools, on all platforms. Without this, Swing's behavior on extending the\n * selection is inconsistent with all other text editing tools.\n * &lt;/p&gt;&lt;p&gt;\n * Swing components don't handle selectByWord the way most UI text components do. If you\n * double-click on a word, they will all select the entire word. But if you do a \n * click-and-drag, most components will (a) select the entire clicked word, and\n * (b) extend the selection a word at a time as the user drags across the text. And if\n * you double- click on a word and follow that with a shift-click, most components will\n * also extend the selection a word at a time.  Swing components handle a double-clicked\n * word the standard way, but do not handle click-and-drag or shift-click correctly. This\n * caret, which replaces the standard DefaultCaret, fixes this.&lt;/p&gt;\n * &lt;p&gt;Created by IntelliJ IDEA.&lt;/p&gt;\n * &lt;p&gt;Date: 2/23/20&lt;/p&gt;\n * &lt;p&gt;Time: 10:58 PM&lt;/p&gt;\n *\n * @author Miguel Mu\\u00f1oz\n */\npublic class StandardCaret extends DefaultCaret {\n  // In the event of a double-click, these are the positions of the low end and high end\n  // of the word that was clicked.\n  private int highMark;\n  private int lowMark;\n  private boolean selectingByWord = false; // true when the last selection was done by word.\n  private boolean selectingByRow = false; // true when the last selection was done by paragraph. \n\n  /**\n   * Instantiate an EnhancedCaret.\n   */\n  public StandardCaret() {\n    super();\n  }\n\n  /**\n   * &lt;p&gt;Install this Caret into a JTextComponent. Carets may not be shared among multiple\n   * components.&lt;/p&gt;\n   * @param component The component to use the EnhancedCaret.\n   */\n  public void installInto(JTextComponent component) {\n    replaceCaret(component, this);\n  }\n\n  /**\n   * Install a new StandardCaret into a JTextComponent, such as a JTextField or\n   * JTextArea, and starts the Caret blinking using the same blink-rate as the\n   * previous Caret.\n   *\n   * @param component The JTextComponent subclass\n   */\n  public static void installStandardCaret(JTextComponent component) {\n    replaceCaret(component, new StandardCaret());\n  }\n\n  /**\n   * Installs the specified Caret into the JTextComponent, and starts the Caret blinking\n   * using the same blink-rate as the previous Caret. This works with any Caret\n   *\n   * @param component The text component to get the new Caret\n   * @param caret     The new Caret to install\n   */\n  public static void replaceCaret(final JTextComponent component, final Caret caret) {\n    final Caret priorCaret = component.getCaret();\n    int blinkRate = priorCaret.getBlinkRate();\n    if (priorCaret instanceof PropertyChangeListener) {\n      // For example, com.apple.laf.AquaCaret, the troublemaker, installs this listener\n      // which doesn't get removed when the Caret gets uninstalled.\n      component.removePropertyChangeListener((PropertyChangeListener) priorCaret);\n    }\n    component.setCaret(caret);\n    caret.setBlinkRate(blinkRate); // Starts the new caret blinking.\n  }\n\n  @Override\n  public void mousePressed(final MouseEvent e) {\n    // if user is doing a shift-click. Construct a new MouseEvent that happened at one\n    // end of the word, and send that to super.mousePressed().\n    boolean isExtended = isExtendSelection(e);\n    if (selectingByWord &amp;&amp; isExtended) {\n      MouseEvent alternateEvent = getRevisedMouseEvent(e, Utilities::getWordStart, Utilities::getWordEnd);\n      super.mousePressed(alternateEvent);\n    } else if (selectingByRow &amp;&amp; isExtended) {\n      MouseEvent alternateEvent = getRevisedMouseEvent(e, Utilities::getRowStart, Utilities::getRowEnd);\n      super.mousePressed(alternateEvent);\n    } else  {\n      if (!isExtended) {\n        int clickCount = e.getClickCount();\n        selectingByWord = clickCount == 2;\n        selectingByRow = clickCount == 3;\n      }\n      super.mousePressed(e); // let the system select the clicked word\n      // save the low end of the selected word.\n      lowMark = getMark();\n      if (selectingByWord || selectingByRow) {\n        // User did a double- or triple-click...\n        // They've selected the whole word. Record the high end.\n        highMark = getDot();\n      } else {\n        // Not a double-click.\n        highMark = lowMark;\n      }\n    }\n  }\n\n  @Override\n  public void mouseClicked(final MouseEvent e) {\n    super.mouseClicked(e);\n    if (selectingByRow) {\n      int mark = getMark();\n      int dot = getDot();\n      lowMark = Math.min(mark, dot);\n      highMark = Math.max(mark, dot);\n    }\n  }\n\n  private MouseEvent getRevisedMouseEvent(final MouseEvent e, final BiTextFunction getStart, final BiTextFunction getEnd) {\n    int newPos;\n    int pos = getPos(e);\n    final JTextComponent textComponent = getComponent();\n    try {\n      if (pos &gt; highMark) {\n        newPos = getEnd.loc(textComponent, pos);\n        setDot(lowMark);\n      } else if (pos &lt; lowMark) {\n        newPos = getStart.loc(textComponent, pos);\n        setDot(highMark);\n      } else {\n        if (getMark() == lowMark) {\n          newPos = getEnd.loc(textComponent, pos);\n        } else {\n          newPos = getStart.loc(textComponent, pos);\n        }\n        pos = -1; // ensure we make a new event\n      }\n    } catch (BadLocationException ex) {\n      throw new IllegalStateException(ex);\n    }\n    MouseEvent alternateEvent;\n    if (newPos == pos) {\n      alternateEvent = e;\n    } else {\n      alternateEvent = makeNewEvent(e, newPos);\n    }\n    return alternateEvent;\n  }\n\n  private boolean isExtendSelection(MouseEvent e) {\n    // We extend the selection when the shift is down but control is not. Other modifiers don't matter.\n    int modifiers = e.getModifiersEx();\n    int shiftAndControlDownMask = MouseEvent.SHIFT_DOWN_MASK | MouseEvent.CTRL_DOWN_MASK;\n    return (modifiers &amp; shiftAndControlDownMask) == MouseEvent.SHIFT_DOWN_MASK;\n  }\n\n  @Override\n  public void setDot(final int dot, final Position.Bias dotBias) {\n    super.setDot(dot, dotBias);\n  }\n\n  @Override\n  public void mouseDragged(final MouseEvent e) {\n    if (!selectingByWord &amp;&amp; !selectingByRow) {\n      super.mouseDragged(e);\n    } else {\n      BiTextFunction getStart;\n      BiTextFunction getEnd;\n      if (selectingByWord) {\n        getStart = Utilities::getWordStart;\n        getEnd = Utilities::getWordEnd;\n      } else {\n        // selecting by paragraph\n        getStart = Utilities::getRowStart;\n        getEnd = Utilities::getRowEnd;\n      }\n      // super.mouseDragged just calls moveDot() after getting the position. We can do\n      // the same thing...\n      // There's no &quot;setMark()&quot; method. You can set the mark by calling setDot(). It sets\n      // both the mark and the dot to the same place. Then you can call moveDot() to put\n      // the dot somewhere else.\n      if ((!e.isConsumed()) &amp;&amp; SwingUtilities.isLeftMouseButton(e)) {\n        int pos = getPos(e);\n        JTextComponent component = getComponent();\n        try {\n          if (pos &gt; highMark) {\n            int wordEnd = getEnd.loc(component, pos);\n            setDot(lowMark);\n            moveDot(wordEnd);\n          } else if (pos &lt; lowMark) {\n            int wordStart = getStart.loc(component, pos);\n            setDot(wordStart); // Sets the mark, too\n            moveDot(highMark);\n          } else {\n            setDot(lowMark);\n            moveDot(highMark);\n          }\n        } catch (BadLocationException ex) {\n          ex.printStackTrace();\n        }\n      }\n    }\n  }\n\n  private int getPos(final MouseEvent e) {\n    JTextComponent component = getComponent();\n    Point pt = new Point(e.getX(), e.getY());\n    Position.Bias[] biasRet = new Position.Bias[1];\n    return component.getUI().viewToModel(component, pt, biasRet);\n  }\n  \n  private MouseEvent makeNewEvent(MouseEvent e, int pos) {\n    JTextComponent component = getComponent();\n    try {\n      Rectangle rect = component.getUI().modelToView(component, pos);\n      return new MouseEvent(\n          component,\n          e.getID(),\n          e.getWhen(),\n          e.getModifiers(),\n          rect.x,\n          rect.y,\n          e.getClickCount(),\n          e.isPopupTrigger(),\n          e.getButton()\n      );\n    } catch (BadLocationException ev) {\n      ev.printStackTrace();\n      throw new IllegalStateException(ev);\n    }\n  }\n\n// For eventual use by a &quot;select paragraph&quot; feature:\n//  private static final char NEW_LINE = '\\n';\n//  private static int getParagraphStart(JTextComponent component, int position) {\n//    return component.getText().substring(0, position).lastIndexOf(NEW_LINE);\n//  }\n//  \n//  private static int getParagraphEnd(JTextComponent component, int position) {\n//    return component.getText().indexOf(NEW_LINE, position);\n//  }\n\n  /**\n   * Don't use this. I should throw CloneNotSupportedException, but it won't compile if I\n   * do. Changing the access to protected doesn't help. If you don't believe me, try it\n   * yourself.\n   * @return A bad clone of this.\n   */      \n  @SuppressWarnings({&quot;CloneReturnsClassType&quot;, &quot;UseOfClone&quot;})\n  @Override\n  public Object clone() {\n    return super.clone();\n  }\n  \n  @FunctionalInterface\n  private interface BiTextFunction {\n    int loc(JTextComponent component, int position) throws BadLocationException;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75371306,"answer_count":1,"score":1,"last_activity_date":1676008844,"creation_date":1675495485,"question_id":75343597,"body_markdown":"The Swing Text components, all of which extend `JTextComponent`, when the user selects some text, the `JTextComponent` class delegates the work of handling selected text to an instance of the `Caret` interface, called `DefaultCaret`. This interface not only shows the blinking caret, it keeps track of whatever text the user has selected, and response to mouse and keyboard events that changes the selection range.\r\n\r\nThe Swing `DefaultCaret` has most of the behavior of a standard caret, but some of my high-end users have pointed out what it doesn&#39;t do. Here are their issues:\r\n\r\n(Note: These examples have trouble in Microsoft Edge because, when you select text, it puts up a &quot;...&quot; menu. In these examples, if you&#39;re using Edge, you need to type the escape key to get rid of that menu before going on to the next step.)\r\n\r\n 1. If I double-click on a word, it should select the entire word. Java Swing&#39;s Caret does this. But, after doubling-clicking on a word, if I then try to extend the selection by shift-clicking on a second word, a standard caret extends the selection to include the entire second word. To illustrate, in the example text below, if I double-click after the o in clock, it selects the word clock, as it should. But if I then hold down the shift key and click after the o in wound, it should extend the selection all the way to the d. It does so on this page, but not in Java Swing. In Swing, it still extends the selection, but only to the location of the mouse-click.\r\n\r\n    Example: The clock has been wound too tight.\r\n\r\n 2. If I try to select a block of text by doing a full click, then drag, it should extend the selection by an entire word at a time as I drag through the text. (By &quot;full click, then drag, I mean the following events done quickly on the same spot: mouseDown, mouseUp, mouseDown, mouseMove. This is like a double-click without the final mouse-up event.) You can try it on this page, and it will work, but it won&#39;t work in Java Swing. In Swing it will still extend the selection, but only to the position of the mouse.\r\n\r\n 3. If I triple-click on some text, it will select the whole paragraph. (This doesn&#39;t work in Microsoft Edge, but it works in most browsers and editors) This doesn&#39;t work in Swing.\r\n\r\n 4. If, after triple-clicking to select a paragraph, I then do a shift-click on a different paragraph, it should extend the selection to include the entire new paragraph.\r\n\r\n 5. Like the full-click and drag example in item 2, if you do a full double-click and drag, it should first select the entire paragraph, then extend the selection one paragraph at a time. (Again, this doesn&#39;t work in Edge.) This behavior is less standard than the others, but it&#39;s still pretty common.\r\n\r\nSome of my power users want to be able to use these in the Java Swing application that I maintain, and I want to give it to them. The whole point of my application is to speed up the processing of their data, and these changes will help with that. How can I do this?","title":"How do I get standard Caret behavior in Java Swing?","body":"<p>The Swing Text components, all of which extend <code>JTextComponent</code>, when the user selects some text, the <code>JTextComponent</code> class delegates the work of handling selected text to an instance of the <code>Caret</code> interface, called <code>DefaultCaret</code>. This interface not only shows the blinking caret, it keeps track of whatever text the user has selected, and response to mouse and keyboard events that changes the selection range.</p>\n<p>The Swing <code>DefaultCaret</code> has most of the behavior of a standard caret, but some of my high-end users have pointed out what it doesn't do. Here are their issues:</p>\n<p>(Note: These examples have trouble in Microsoft Edge because, when you select text, it puts up a &quot;...&quot; menu. In these examples, if you're using Edge, you need to type the escape key to get rid of that menu before going on to the next step.)</p>\n<ol>\n<li><p>If I double-click on a word, it should select the entire word. Java Swing's Caret does this. But, after doubling-clicking on a word, if I then try to extend the selection by shift-clicking on a second word, a standard caret extends the selection to include the entire second word. To illustrate, in the example text below, if I double-click after the o in clock, it selects the word clock, as it should. But if I then hold down the shift key and click after the o in wound, it should extend the selection all the way to the d. It does so on this page, but not in Java Swing. In Swing, it still extends the selection, but only to the location of the mouse-click.</p>\n<p>Example: The clock has been wound too tight.</p>\n</li>\n<li><p>If I try to select a block of text by doing a full click, then drag, it should extend the selection by an entire word at a time as I drag through the text. (By &quot;full click, then drag, I mean the following events done quickly on the same spot: mouseDown, mouseUp, mouseDown, mouseMove. This is like a double-click without the final mouse-up event.) You can try it on this page, and it will work, but it won't work in Java Swing. In Swing it will still extend the selection, but only to the position of the mouse.</p>\n</li>\n<li><p>If I triple-click on some text, it will select the whole paragraph. (This doesn't work in Microsoft Edge, but it works in most browsers and editors) This doesn't work in Swing.</p>\n</li>\n<li><p>If, after triple-clicking to select a paragraph, I then do a shift-click on a different paragraph, it should extend the selection to include the entire new paragraph.</p>\n</li>\n<li><p>Like the full-click and drag example in item 2, if you do a full double-click and drag, it should first select the entire paragraph, then extend the selection one paragraph at a time. (Again, this doesn't work in Edge.) This behavior is less standard than the others, but it's still pretty common.</p>\n</li>\n</ol>\n<p>Some of my power users want to be able to use these in the Java Swing application that I maintain, and I want to give it to them. The whole point of my application is to speed up the processing of their data, and these changes will help with that. How can I do this?</p>\n"},{"tags":["java","json","concatenation"],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676008615,"creation_date":1676008615,"answer_id":75407426,"question_id":75390657,"body_markdown":"Usually you use a third-party library for parsing JSON. There are several. The below code uses [Gson][1].\r\n\r\nNote that the below code is not terribly robust, it assumes that there are no nested elements and that the values are all primitives. That is what you specifically asked for, i.e. specific input and specific output, and I am posting a solution that achieves what you specifically asked for.\r\n```java\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport com.google.gson.JsonPrimitive;\r\n\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\npublic class GsonTst0 {\r\n\r\n    public static void main(String[] args) {\r\n        String json = &quot;{ \\&quot;Id\\&quot;: 200, \\&quot;TimeStamp\\&quot;: 1596466800, \\&quot;Animal\\&quot;: \\&quot;cat\\&quot;}&quot;;\r\n        JsonElement root = JsonParser.parseString(json);\r\n        if (root.isJsonObject()) {\r\n            JsonObject jsonObj = root.getAsJsonObject();\r\n            Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entries = jsonObj.entrySet();\r\n            StringBuilder sb = new StringBuilder();\r\n            for (Map.Entry&lt;String, JsonElement&gt; entry : entries) {\r\n                sb.append(entry.getKey());\r\n                JsonElement elem = entry.getValue();\r\n                JsonPrimitive prim = elem.getAsJsonPrimitive();\r\n                if (prim.isNumber()) {\r\n                    sb.append(prim.getAsBigDecimal());\r\n                }\r\n                else {\r\n                    sb.append(prim.getAsString());\r\n                }\r\n            }\r\n            System.out.println(sb);\r\n        }\r\n    }\r\n}\r\n```\r\nRunning the above code prints the following:\r\n```none\r\nId200TimeStamp1596466800Animalcat\r\n```\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"Concatenate all JSON key-value pairs into a String","body":"<p>Usually you use a third-party library for parsing JSON. There are several. The below code uses <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a>.</p>\n<p>Note that the below code is not terribly robust, it assumes that there are no nested elements and that the values are all primitives. That is what you specifically asked for, i.e. specific input and specific output, and I am posting a solution that achieves what you specifically asked for.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.google.gson.JsonPrimitive;\n\nimport java.util.Map;\nimport java.util.Set;\n\npublic class GsonTst0 {\n\n    public static void main(String[] args) {\n        String json = &quot;{ \\&quot;Id\\&quot;: 200, \\&quot;TimeStamp\\&quot;: 1596466800, \\&quot;Animal\\&quot;: \\&quot;cat\\&quot;}&quot;;\n        JsonElement root = JsonParser.parseString(json);\n        if (root.isJsonObject()) {\n            JsonObject jsonObj = root.getAsJsonObject();\n            Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entries = jsonObj.entrySet();\n            StringBuilder sb = new StringBuilder();\n            for (Map.Entry&lt;String, JsonElement&gt; entry : entries) {\n                sb.append(entry.getKey());\n                JsonElement elem = entry.getValue();\n                JsonPrimitive prim = elem.getAsJsonPrimitive();\n                if (prim.isNumber()) {\n                    sb.append(prim.getAsBigDecimal());\n                }\n                else {\n                    sb.append(prim.getAsString());\n                }\n            }\n            System.out.println(sb);\n        }\n    }\n}\n</code></pre>\n<p>Running the above code prints the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Id200TimeStamp1596466800Animalcat\n</code></pre>\n"}],"owner":{"account_id":27737989,"reputation":1,"user_id":21175108,"display_name":"Aliaksandr Rybin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1676008615,"creation_date":1675883576,"question_id":75390657,"body_markdown":"I have input:\r\n{\r\n  &quot;Id&quot;: 200,\r\n  &quot;TimeStamp&quot;: 1596466800,\r\n  &quot;Animal&quot;: &quot;cat&quot;\r\n}\r\n\r\nI need to concatenate all key-value pairs in one String\r\n\r\nI need output:\r\n&quot;Id200Timestamp1596466800Animalcat&quot;","title":"Concatenate all JSON key-value pairs into a String","body":"<p>I have input:\n{\n&quot;Id&quot;: 200,\n&quot;TimeStamp&quot;: 1596466800,\n&quot;Animal&quot;: &quot;cat&quot;\n}</p>\n<p>I need to concatenate all key-value pairs in one String</p>\n<p>I need output:\n&quot;Id200Timestamp1596466800Animalcat&quot;</p>\n"},{"tags":["java","memory","footprint"],"answers":[{"tags":[],"owner":{"account_id":2391,"reputation":36935,"user_id":3320,"accept_rate":100,"display_name":"Mendelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1225700777,"creation_date":1225700777,"answer_id":258124,"question_id":258120,"body_markdown":"No, registering an object takes a bit of memory too. 100 objects with 1 attribute will take up more memory.","title":"What is the memory consumption of an object in Java?","body":"<p>No, registering an object takes a bit of memory too. 100 objects with 1 attribute will take up more memory.</p>\n"},{"tags":[],"owner":{"account_id":7406,"reputation":14638,"user_id":12860,"accept_rate":98,"display_name":"Burkhard"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1225700832,"creation_date":1225700832,"answer_id":258127,"question_id":258120,"body_markdown":"no, 100 small objects needs more information (memory) than one big.","title":"What is the memory consumption of an object in Java?","body":"<p>no, 100 small objects needs more information (memory) than one big.</p>\n"},{"comments":[{"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"score":9,"creation_date":1295832386,"post_id":258143,"comment_id":5290269,"body_markdown":"Actually, one instance of SingleByte would take 16 bytes on a Sun JVM, that is 8 bytes overhead, 4 bytes for the field, and then 4 bytes for object padding, since the HotSpot compiler rounds everything to multiples of 8.","body":"Actually, one instance of SingleByte would take 16 bytes on a Sun JVM, that is 8 bytes overhead, 4 bytes for the field, and then 4 bytes for object padding, since the HotSpot compiler rounds everything to multiples of 8."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1295850187,"creation_date":1225701592,"answer_id":258143,"question_id":258120,"body_markdown":"Each object has a certain overhead for its associated monitor and type information, as well as the fields themselves. Beyond that, fields can be laid out pretty much however the JVM sees fit (I believe) - but as [shown in another answer][1], at least *some* JVMs will pack fairly tightly. Consider a class like this:\r\n\r\n    public class SingleByte\r\n    {\r\n        private byte b;\r\n    }\r\n\r\nvs\r\n\r\n    public class OneHundredBytes\r\n    {\r\n        private byte b00, b01, ..., b99;\r\n    }\r\n\r\nOn a 32-bit JVM, I&#39;d expect 100 instances of `SingleByte` to take 1200 bytes (8 bytes of overhead + 4 bytes for the field due to padding/alignment). I&#39;d expect one instance of `OneHundredBytes` to take 108 bytes - the overhead, and then 100 bytes, packed. It can certainly vary by JVM though - one implementation may decide not to pack the fields in `OneHundredBytes`, leading to it taking 408 bytes (= 8 bytes overhead + 4 * 100 aligned/padded bytes). On a 64 bit JVM the overhead may well be bigger too (not sure).\r\n\r\nEDIT: See the comment below; apparently HotSpot pads to 8 byte boundaries instead of 32, so each instance of `SingleByte` would take 16 bytes.\r\n\r\nEither way, the &quot;single large object&quot; will be at least as efficient as multiple small objects - for simple cases like this.\r\n\r\n  [1]: https://stackoverflow.com/questions/229886/size-of-a-byte-in-memory-java#230063\r\n\r\n","title":"What is the memory consumption of an object in Java?","body":"<p>Each object has a certain overhead for its associated monitor and type information, as well as the fields themselves. Beyond that, fields can be laid out pretty much however the JVM sees fit (I believe) - but as <a href=\"https://stackoverflow.com/questions/229886/size-of-a-byte-in-memory-java#230063\">shown in another answer</a>, at least <em>some</em> JVMs will pack fairly tightly. Consider a class like this:</p>\n\n<pre><code>public class SingleByte\n{\n    private byte b;\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>public class OneHundredBytes\n{\n    private byte b00, b01, ..., b99;\n}\n</code></pre>\n\n<p>On a 32-bit JVM, I'd expect 100 instances of <code>SingleByte</code> to take 1200 bytes (8 bytes of overhead + 4 bytes for the field due to padding/alignment). I'd expect one instance of <code>OneHundredBytes</code> to take 108 bytes - the overhead, and then 100 bytes, packed. It can certainly vary by JVM though - one implementation may decide not to pack the fields in <code>OneHundredBytes</code>, leading to it taking 408 bytes (= 8 bytes overhead + 4 * 100 aligned/padded bytes). On a 64 bit JVM the overhead may well be bigger too (not sure).</p>\n\n<p>EDIT: See the comment below; apparently HotSpot pads to 8 byte boundaries instead of 32, so each instance of <code>SingleByte</code> would take 16 bytes.</p>\n\n<p>Either way, the \"single large object\" will be at least as efficient as multiple small objects - for simple cases like this.</p>\n"},{"comments":[{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":0,"creation_date":1239120448,"post_id":258150,"comment_id":538168,"body_markdown":"int[128][6]: 128 arrays of 6 ints - 768 ints in total, 3072 bytes of data + 2064 bytes Object overhead = 5166 bytes total.\nint[256]: 256 ints in total - therefore non-comparable.\nint[768]: 3072 bytes of data + 16 byes overhead - about 3/5th of the space of the 2D array - not quite 246% overhead!","body":"int[128][6]: 128 arrays of 6 ints - 768 ints in total, 3072 bytes of data + 2064 bytes Object overhead = 5166 bytes total. int[256]: 256 ints in total - therefore non-comparable. int[768]: 3072 bytes of data + 16 byes overhead - about 3/5th of the space of the 2D array - not quite 246% overhead!"},{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":0,"creation_date":1239120588,"post_id":258150,"comment_id":538182,"body_markdown":"Ah, the original article used int[128][2] not int[128][6] - wonder how that got changed. Also shows that extreme examples can tell a different story.","body":"Ah, the original article used int[128][2] not int[128][6] - wonder how that got changed. Also shows that extreme examples can tell a different story."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1239123741,"post_id":258150,"comment_id":538357,"body_markdown":"@Jeebee: I have fixed the typos. int[128][2] became int[128][6] because of a bug in the Javascript editor: the links are referenced with [aTest][x] and the editor assumed [128][2] to be an link address! It did &quot;re-order&quot; the indexes of those links, changing the [2] into [6]... tricky!","body":"@Jeebee: I have fixed the typos. int[128][2] became int[128][6] because of a bug in the Javascript editor: the links are referenced with [aTest][x] and the editor assumed [128][2] to be an link address! It did &quot;re-order&quot; the indexes of those links, changing the [2] into [6]... tricky!"},{"owner":{"account_id":6328,"reputation":10132,"user_id":10592,"accept_rate":79,"display_name":"Tim Cooper"},"score":2,"creation_date":1365771610,"post_id":258150,"comment_id":22766036,"body_markdown":"The overhead is 16 bytes in 64bit JVM&#39;s.","body":"The overhead is 16 bytes in 64bit JVM&#39;s."},{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1405609598,"post_id":258150,"comment_id":38506158,"body_markdown":"@TimCooper No! The overhead (= new Object()) of Sun VM Java 1.6 64bit running on Win7 64 bit Intel is 12 bytes + 4 padding to next multiple of 8 makes 16 bytes. So if you have an object with one field int, it is still 16 bytes. (no padding)","body":"@TimCooper No! The overhead (= new Object()) of Sun VM Java 1.6 64bit running on Win7 64 bit Intel is 12 bytes + 4 padding to next multiple of 8 makes 16 bytes. So if you have an object with one field int, it is still 16 bytes. (no padding)"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":3,"creation_date":1411144494,"post_id":258150,"comment_id":40607527,"body_markdown":"@AlexWien: Some garbage-collection schemes may impose a minimum object size which is separate from padding.  During garbage collection, once an object gets copied from an old location to a new one, the old location may not need to hold the data for the object any more, but it will need to hold a reference to the new location; it may also need to store a reference to the old location of the object wherein the first reference was discovered and the offset of that reference within the old object [since the old object may still contain references that haven&#39;t yet been processed].","body":"@AlexWien: Some garbage-collection schemes may impose a minimum object size which is separate from padding.  During garbage collection, once an object gets copied from an old location to a new one, the old location may not need to hold the data for the object any more, but it will need to hold a reference to the new location; it may also need to store a reference to the old location of the object wherein the first reference was discovered and the offset of that reference within the old object [since the old object may still contain references that haven&#39;t yet been processed]."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1411144715,"post_id":258150,"comment_id":40607641,"body_markdown":"@AlexWien: Using memory at an object&#39;s old location to hold the garbage-collector&#39;s book-keeping information avoids the need to allocate other memory for that purpose, but may impose a minimum object size which is larger than would otherwise be required.  I think at least one version of .NET garbage collector uses that approach; it would certainly be possible for some Java garbage collectors to do so as well.","body":"@AlexWien: Using memory at an object&#39;s old location to hold the garbage-collector&#39;s book-keeping information avoids the need to allocate other memory for that purpose, but may impose a minimum object size which is larger than would otherwise be required.  I think at least one version of .NET garbage collector uses that approach; it would certainly be possible for some Java garbage collectors to do so as well."},{"owner":{"account_id":6328,"reputation":10132,"user_id":10592,"accept_rate":79,"display_name":"Tim Cooper"},"score":0,"creation_date":1455532990,"post_id":258150,"comment_id":58515575,"body_markdown":"@VonC This answer is outdated because lots of people are using 64bit JVM&#39;s these days and your answer is effectively ignoring 64bit JVM&#39;s.  It&#39;s good to say &quot;well, it depends...&quot; but it&#39;s also good to give some good practical advice - things that are true for 99% of JVM&#39;s out there such as &quot;8 bytes for 32bit, 12 bytes + 8-byte alignment for 64 bit, plus pointers are 8 bytes above -Xmx32G&quot;.","body":"@VonC This answer is outdated because lots of people are using 64bit JVM&#39;s these days and your answer is effectively ignoring 64bit JVM&#39;s.  It&#39;s good to say &quot;well, it depends...&quot; but it&#39;s also good to give some good practical advice - things that are true for 99% of JVM&#39;s out there such as &quot;8 bytes for 32bit, 12 bytes + 8-byte alignment for 64 bit, plus pointers are 8 bytes above -Xmx32G&quot;."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":8,"down_vote_count":0,"up_vote_count":200,"is_accepted":false,"score":200,"last_activity_date":1457134801,"creation_date":1225701739,"answer_id":258150,"question_id":258120,"body_markdown":"[Mindprod][12] points out that this is not a straightforward question to answer:\r\n\r\n&gt; A JVM is free to store data any way it pleases internally, big or little endian, with any amount of padding or overhead, though primitives must behave as if they had the official sizes.  \r\nFor example, the JVM or native compiler might decide to store a `boolean[]` in 64-bit long chunks like a `BitSet`. It does not have to tell you, so long as the program gives the same answers.\r\n\r\n&gt; - It might allocate some temporary Objects on the stack. \r\n&gt; - It may optimize some variables or method calls totally out of existence replacing them with constants. \r\n&gt; - It might version methods or loops, i.e. compile two versions of a method, each optimized for a certain situation, then decide up front which one to call. \r\n\r\n&gt; Then of course the hardware and OS have multilayer caches, on chip-cache, SRAM cache, DRAM cache, ordinary RAM working set and backing store on disk. Your data may be duplicated at every cache level. All this complexity means you can only very roughly predict RAM consumption. \r\n\r\n## Measurement methods\r\n\r\nYou can use [`Instrumentation.getObjectSize()`][10] to obtain an estimate of the storage consumed by an object.\r\n\r\nTo visualize the *actual* object layout, footprint, and references, you can use the [JOL (Java Object Layout) tool][5].\r\n\r\n## Object headers and Object references\r\n\r\nIn a modern 64-bit JDK, an object has a 12-byte header, padded to a multiple of 8 bytes, so the minimum object size is 16 bytes.  For 32-bit JVMs, the overhead is 8 bytes, padded to a multiple of 4 bytes.  _(From [Dmitry Spikhalskiy&#39;s answer][2], [Jayen&#39;s answer][4], and [JavaWorld][9].)_\r\n\r\nTypically, references are 4 bytes on 32bit platforms or on 64bit platforms up to `-Xmx32G`; and 8 bytes above 32Gb (`-Xmx32G`).  _(See [compressed object references][13].)_\r\n\r\nAs a result, a 64-bit JVM would typically require 30-50% more heap space. _([Should I use a 32- or a 64-bit JVM?][7], 2012, JDK 1.7)_\r\n\r\n## Boxed types, arrays, and strings\r\n\r\nBoxed wrappers have overhead compared to primitive types (from [JavaWorld][9]):\r\n\r\n&gt; - **`Integer`**: The 16-byte result is a little worse than I expected because an `int` value can fit into just 4 extra bytes. Using an `Integer` costs me a 300 percent memory overhead compared to when I can store the value as a primitive type\r\n&gt; \r\n&gt; - **`Long`**: 16 bytes also: Clearly, actual object size on the heap is subject to low-level memory alignment done by a particular JVM implementation for a particular CPU type. It looks like a `Long` is 8 bytes of Object overhead, plus 8 bytes more for the actual long value. In contrast, `Integer` had an unused 4-byte hole, most likely because the JVM I use forces object alignment on an 8-byte word boundary. \r\n\r\nOther containers are costly too:\r\n\r\n&gt; - **Multidimensional arrays**: it offers another surprise.  \r\nDevelopers commonly employ constructs like `int[dim1][dim2]` in numerical and scientific computing.\r\n&gt; \r\n&gt;   In an `int[dim1][dim2]` array instance, every nested `int[dim2]` array is an `Object` in its own right. Each adds the usual 16-byte array overhead. When I don&#39;t need a triangular or ragged array, that represents pure overhead. The impact grows when array dimensions greatly differ.\r\n&gt; \r\n&gt;   For example, a `int[128][2]` instance takes 3,600 bytes. Compared to the 1,040 bytes an `int[256]` instance uses (which has the same capacity), 3,600 bytes represent a 246 percent overhead. In the extreme case of `byte[256][1]`, the overhead factor is almost 19! Compare that to the C/C++ situation in which the same syntax does not add any storage overhead. \r\n&gt; \r\n&gt; - **`String`**: a `String`&#39;s memory growth tracks its internal char array&#39;s growth. However, the `String` class adds another 24 bytes of overhead.\r\n&gt; \r\n&gt;   For a nonempty `String` of size 10 characters or less, the added overhead cost relative to useful payload (2 bytes for each char plus 4 bytes for the length), ranges from 100 to 400 percent. \r\n\r\n## Alignment\r\n\r\nConsider this [example object][8]:\r\n\r\n    class X {                      // 8 bytes for reference to the class definition\r\n       int a;                      // 4 bytes\r\n       byte b;                     // 1 byte\r\n       Integer c = new Integer();  // 4 bytes for a reference\r\n    }\r\n\r\nA na&#239;ve sum would suggest that an instance of `X` would use 17 bytes.  However, due to alignment (also called padding), the JVM allocates the memory in multiples of 8 bytes, so instead of 17 bytes it would allocate 24 bytes.\r\n\r\n\r\n  [2]: https://stackoverflow.com/a/32224498/6309\r\n  [4]: https://stackoverflow.com/a/35407947/6309\r\n  [5]: http://openjdk.java.net/projects/code-tools/jol/\r\n  [6]: http://hg.openjdk.java.net/code-tools/jol/\r\n  [7]: http://www.javacodegeeks.com/2012/12/should-i-use-a-32-or-a-64-bit-jvm.html\r\n  [8]: https://plumbr.eu/blog/memory-leaks/how-much-memory-do-i-need-part-2-what-is-shallow-heap\r\n  [9]: http://www.javaworld.com/javaworld/javatips/jw-javatip130.html\r\n  [10]: https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#getObjectSize-java.lang.Object-\r\n  [12]: http://mindprod.com/jgloss/sizeof.html\r\n  [13]: http://www.lowtek.ca/roo/2008/java-performance-in-64bit-land/","title":"What is the memory consumption of an object in Java?","body":"<p><a href=\"http://mindprod.com/jgloss/sizeof.html\" rel=\"noreferrer\">Mindprod</a> points out that this is not a straightforward question to answer:</p>\n\n<blockquote>\n  <p>A JVM is free to store data any way it pleases internally, big or little endian, with any amount of padding or overhead, though primitives must behave as if they had the official sizes.<br>\n  For example, the JVM or native compiler might decide to store a <code>boolean[]</code> in 64-bit long chunks like a <code>BitSet</code>. It does not have to tell you, so long as the program gives the same answers.</p>\n  \n  <ul>\n  <li>It might allocate some temporary Objects on the stack. </li>\n  <li>It may optimize some variables or method calls totally out of existence replacing them with constants. </li>\n  <li>It might version methods or loops, i.e. compile two versions of a method, each optimized for a certain situation, then decide up front which one to call. </li>\n  </ul>\n  \n  <p>Then of course the hardware and OS have multilayer caches, on chip-cache, SRAM cache, DRAM cache, ordinary RAM working set and backing store on disk. Your data may be duplicated at every cache level. All this complexity means you can only very roughly predict RAM consumption. </p>\n</blockquote>\n\n<h2>Measurement methods</h2>\n\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html#getObjectSize-java.lang.Object-\" rel=\"noreferrer\"><code>Instrumentation.getObjectSize()</code></a> to obtain an estimate of the storage consumed by an object.</p>\n\n<p>To visualize the <em>actual</em> object layout, footprint, and references, you can use the <a href=\"http://openjdk.java.net/projects/code-tools/jol/\" rel=\"noreferrer\">JOL (Java Object Layout) tool</a>.</p>\n\n<h2>Object headers and Object references</h2>\n\n<p>In a modern 64-bit JDK, an object has a 12-byte header, padded to a multiple of 8 bytes, so the minimum object size is 16 bytes.  For 32-bit JVMs, the overhead is 8 bytes, padded to a multiple of 4 bytes.  <em>(From <a href=\"https://stackoverflow.com/a/32224498/6309\">Dmitry Spikhalskiy's answer</a>, <a href=\"https://stackoverflow.com/a/35407947/6309\">Jayen's answer</a>, and <a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip130.html\" rel=\"noreferrer\">JavaWorld</a>.)</em></p>\n\n<p>Typically, references are 4 bytes on 32bit platforms or on 64bit platforms up to <code>-Xmx32G</code>; and 8 bytes above 32Gb (<code>-Xmx32G</code>).  <em>(See <a href=\"http://www.lowtek.ca/roo/2008/java-performance-in-64bit-land/\" rel=\"noreferrer\">compressed object references</a>.)</em></p>\n\n<p>As a result, a 64-bit JVM would typically require 30-50% more heap space. <em>(<a href=\"http://www.javacodegeeks.com/2012/12/should-i-use-a-32-or-a-64-bit-jvm.html\" rel=\"noreferrer\">Should I use a 32- or a 64-bit JVM?</a>, 2012, JDK 1.7)</em></p>\n\n<h2>Boxed types, arrays, and strings</h2>\n\n<p>Boxed wrappers have overhead compared to primitive types (from <a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip130.html\" rel=\"noreferrer\">JavaWorld</a>):</p>\n\n<blockquote>\n  <ul>\n  <li><p><strong><code>Integer</code></strong>: The 16-byte result is a little worse than I expected because an <code>int</code> value can fit into just 4 extra bytes. Using an <code>Integer</code> costs me a 300 percent memory overhead compared to when I can store the value as a primitive type</p></li>\n  <li><p><strong><code>Long</code></strong>: 16 bytes also: Clearly, actual object size on the heap is subject to low-level memory alignment done by a particular JVM implementation for a particular CPU type. It looks like a <code>Long</code> is 8 bytes of Object overhead, plus 8 bytes more for the actual long value. In contrast, <code>Integer</code> had an unused 4-byte hole, most likely because the JVM I use forces object alignment on an 8-byte word boundary. </p></li>\n  </ul>\n</blockquote>\n\n<p>Other containers are costly too:</p>\n\n<blockquote>\n  <ul>\n  <li><p><strong>Multidimensional arrays</strong>: it offers another surprise.<br>\n  Developers commonly employ constructs like <code>int[dim1][dim2]</code> in numerical and scientific computing.</p>\n  \n  <p>In an <code>int[dim1][dim2]</code> array instance, every nested <code>int[dim2]</code> array is an <code>Object</code> in its own right. Each adds the usual 16-byte array overhead. When I don't need a triangular or ragged array, that represents pure overhead. The impact grows when array dimensions greatly differ.</p>\n  \n  <p>For example, a <code>int[128][2]</code> instance takes 3,600 bytes. Compared to the 1,040 bytes an <code>int[256]</code> instance uses (which has the same capacity), 3,600 bytes represent a 246 percent overhead. In the extreme case of <code>byte[256][1]</code>, the overhead factor is almost 19! Compare that to the C/C++ situation in which the same syntax does not add any storage overhead. </p></li>\n  <li><p><strong><code>String</code></strong>: a <code>String</code>'s memory growth tracks its internal char array's growth. However, the <code>String</code> class adds another 24 bytes of overhead.</p>\n  \n  <p>For a nonempty <code>String</code> of size 10 characters or less, the added overhead cost relative to useful payload (2 bytes for each char plus 4 bytes for the length), ranges from 100 to 400 percent. </p></li>\n  </ul>\n</blockquote>\n\n<h2>Alignment</h2>\n\n<p>Consider this <a href=\"https://plumbr.eu/blog/memory-leaks/how-much-memory-do-i-need-part-2-what-is-shallow-heap\" rel=\"noreferrer\">example object</a>:</p>\n\n<pre><code>class X {                      // 8 bytes for reference to the class definition\n   int a;                      // 4 bytes\n   byte b;                     // 1 byte\n   Integer c = new Integer();  // 4 bytes for a reference\n}\n</code></pre>\n\n<p>A naÃ¯ve sum would suggest that an instance of <code>X</code> would use 17 bytes.  However, due to alignment (also called padding), the JVM allocates the memory in multiples of 8 bytes, so instead of 17 bytes it would allocate 24 bytes.</p>\n"},{"tags":[],"owner":{"account_id":15824,"reputation":4589,"user_id":33836,"accept_rate":92,"display_name":"Matt Passell"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1225762050,"creation_date":1225762050,"answer_id":260545,"question_id":258120,"body_markdown":"I&#39;ve gotten very good results from the [java.lang.instrument.Instrumentation][1] approach mentioned in another answer.  For good examples of its use, see the entry, *[Instrumentation Memory Counter][2]* from the JavaSpecialists&#39; Newsletter and the [java.sizeOf][3] library on SourceForge.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html\r\n  [2]: http://www.javaspecialists.eu/archive/Issue142.html\r\n  [3]: https://sourceforge.net/projects/sizeof/","title":"What is the memory consumption of an object in Java?","body":"<p>I've gotten very good results from the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html\" rel=\"nofollow noreferrer\">java.lang.instrument.Instrumentation</a> approach mentioned in another answer.  For good examples of its use, see the entry, <em><a href=\"http://www.javaspecialists.eu/archive/Issue142.html\" rel=\"nofollow noreferrer\">Instrumentation Memory Counter</a></em> from the JavaSpecialists' Newsletter and the <a href=\"https://sourceforge.net/projects/sizeof/\" rel=\"nofollow noreferrer\">java.sizeOf</a> library on SourceForge.</p>\n"},{"comments":[{"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1405538294,"post_id":286504,"comment_id":38472201,"body_markdown":"I am pretty sure Sun Java 1.6 64bit, need 12 bytes for a plain object + 4 padding = 16; an Object + one integer field = 12 + 4 = 16","body":"I am pretty sure Sun Java 1.6 64bit, need 12 bytes for a plain object + 4 padding = 16; an Object + one integer field = 12 + 4 = 16"},{"owner":{"account_id":22033,"reputation":1989,"user_id":54013,"display_name":"Johan Boul&#233;"},"score":0,"creation_date":1580610387,"post_id":286504,"comment_id":106152923,"body_markdown":"Did you shutdown your blog?","body":"Did you shutdown your blog?"},{"owner":{"account_id":13068,"reputation":2596,"user_id":26056,"accept_rate":0,"display_name":"kohlerm"},"score":0,"creation_date":1581175177,"post_id":286504,"comment_id":106346291,"body_markdown":"Not really, Not sure the SAP blogs somehow moved. Most of it can be found here http://kohlerm.blogspot.com/","body":"Not really, Not sure the SAP blogs somehow moved. Most of it can be found here <a href=\"http://kohlerm.blogspot.com/\" rel=\"nofollow noreferrer\">kohlerm.blogspot.com</a>"}],"tags":[],"owner":{"account_id":13068,"reputation":2596,"user_id":26056,"accept_rate":0,"display_name":"kohlerm"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1314180105,"creation_date":1226564292,"answer_id":286504,"question_id":258120,"body_markdown":"The rules about how much memory is consumed depend on the JVM implementation and the CPU architecture (32 bit versus 64 bit for example). \r\n\r\nFor the detailed rules for the SUN JVM check [my old blog](http://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/5163)\r\n\r\nRegards,\r\n[Markus][2]\r\n\r\n\r\n  [1]: https://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/5163\r\n  [2]: http://kohlerm.blogspot.com/","title":"What is the memory consumption of an object in Java?","body":"<p>The rules about how much memory is consumed depend on the JVM implementation and the CPU architecture (32 bit versus 64 bit for example). </p>\n\n<p>For the detailed rules for the SUN JVM check <a href=\"http://www.sdn.sap.com/irj/scn/weblogs?blog=/pub/wlg/5163\" rel=\"nofollow noreferrer\">my old blog</a></p>\n\n<p>Regards,\n<a href=\"http://kohlerm.blogspot.com/\" rel=\"nofollow noreferrer\">Markus</a></p>\n"},{"comments":[{"owner":{"account_id":104236,"reputation":2064,"user_id":278800,"accept_rate":58,"display_name":"Steve K"},"score":0,"creation_date":1446576873,"post_id":726709,"comment_id":54797234,"body_markdown":"This worked great for getting a rough estimate of how much memory a `(String, Integer)` Guava Cache uses, per-element. Thanks!","body":"This worked great for getting a rough estimate of how much memory a <code>(String, Integer)</code> Guava Cache uses, per-element. Thanks!"}],"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1239124251,"creation_date":1239124251,"answer_id":726709,"question_id":258120,"body_markdown":"In case it&#39;s useful to anyone, you can download from my web site a small [Java agent for querying the memory usage of an object][1]. It&#39;ll let you query &quot;deep&quot; memory usage as well.\r\n\r\n  [1]: http://www.javamex.com/classmexer/","title":"What is the memory consumption of an object in Java?","body":"<p>In case it's useful to anyone, you can download from my web site a small <a href=\"http://www.javamex.com/classmexer/\" rel=\"nofollow noreferrer\">Java agent for querying the memory usage of an object</a>. It'll let you query \"deep\" memory usage as well.</p>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1608569118,"creation_date":1359032132,"answer_id":14501891,"question_id":258120,"body_markdown":"The total used / free memory of a program can be obtained in the program via \r\n\r\n    java.lang.Runtime.getRuntime();\r\n\r\nThe runtime has several methods which relate to the memory. The following coding example demonstrates its usage.\r\n\r\n     public class PerformanceTest {\r\n         private static final long MEGABYTE = 1024L * 1024L;\r\n    \r\n         public static long bytesToMegabytes(long bytes) {\r\n             return bytes / MEGABYTE;\r\n         }\r\n    \r\n         public static void main(String[] args) {\r\n             // I assume you will know how to create an object Person yourself...\r\n             List &lt;Person&gt; list = new ArrayList &lt;Person&gt; ();\r\n             for (int i = 0; i &lt;= 100_000; i++) {\r\n                 list.add(new Person(&quot;Jim&quot;, &quot;Knopf&quot;));\r\n             }\r\n\r\n             // Get the Java runtime\r\n             Runtime runtime = Runtime.getRuntime();\r\n\r\n             // Run the garbage collector\r\n             runtime.gc();\r\n\r\n             // Calculate the used memory\r\n             long memory = runtime.totalMemory() - runtime.freeMemory();\r\n             System.out.println(&quot;Used memory is bytes: &quot; + memory);\r\n             System.out.println(&quot;Used memory is megabytes: &quot; + bytesToMegabytes(memory));\r\n         }\r\n     }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#getRuntime()","title":"What is the memory consumption of an object in Java?","body":"<p>The total used / free memory of a program can be obtained in the program via</p>\n<pre><code>java.lang.Runtime.getRuntime();\n</code></pre>\n<p>The runtime has several methods which relate to the memory. The following coding example demonstrates its usage.</p>\n<pre><code> public class PerformanceTest {\n     private static final long MEGABYTE = 1024L * 1024L;\n\n     public static long bytesToMegabytes(long bytes) {\n         return bytes / MEGABYTE;\n     }\n\n     public static void main(String[] args) {\n         // I assume you will know how to create an object Person yourself...\n         List &lt;Person&gt; list = new ArrayList &lt;Person&gt; ();\n         for (int i = 0; i &lt;= 100_000; i++) {\n             list.add(new Person(&quot;Jim&quot;, &quot;Knopf&quot;));\n         }\n\n         // Get the Java runtime\n         Runtime runtime = Runtime.getRuntime();\n\n         // Run the garbage collector\n         runtime.gc();\n\n         // Calculate the used memory\n         long memory = runtime.totalMemory() - runtime.freeMemory();\n         System.out.println(&quot;Used memory is bytes: &quot; + memory);\n         System.out.println(&quot;Used memory is megabytes: &quot; + bytesToMegabytes(memory));\n     }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":62583,"reputation":21173,"user_id":1059025,"display_name":"quellish"},"score":0,"creation_date":1389837249,"post_id":16625324,"comment_id":31837240,"body_markdown":"Readers may also find this paper very illuminating: http://www.cs.virginia.edu/kim/publicity/pldi09tutorials/memory-efficient-java-tutorial.pdf","body":"Readers may also find this paper very illuminating: <a href=\"http://www.cs.virginia.edu/kim/publicity/pldi09tutorials/memory-efficient-java-tutorial.pdf\" rel=\"nofollow noreferrer\">cs.virginia.edu/kim/publicity/pldi09tutorials/&hellip;</a>"}],"tags":[],"owner":{"account_id":1299099,"reputation":26248,"user_id":2218452,"accept_rate":36,"display_name":"Nikhil Agrawal"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1368886998,"creation_date":1368886998,"answer_id":16625324,"question_id":258120,"body_markdown":"The question will be a very broad one.\r\n\r\nIt depends on the class variable or you may call as states memory usage in java.\r\n\r\nIt also has some additional memory requirement for headers and referencing.\r\n\r\n**The heap memory used by a Java object includes**\r\n \r\n\r\n - memory for primitive fields, according to their size (see below for Sizes of primitive types); \r\n\r\n - memory for reference fields (4 bytes each); \r\n\r\n - an object header, consisting of a few bytes of &quot;housekeeping&quot; information; \r\n\r\nObjects in java also requires some &quot;housekeeping&quot; information, such as recording an object&#39;s class, ID and status flags such as whether the object is currently reachable, currently synchronization-locked etc. \r\n\r\nJava object header size varies on 32 and 64 bit jvm.\r\n\r\nAlthough these are the main memory consumers jvm also requires additional fields sometimes like for alignment of the code e.t.c.\r\n\r\n**Sizes of primitive types**\r\n\r\n**boolean\t&amp; byte** -- 1\r\n\r\n**char &amp; short** -- 2\r\n\r\n**int &amp; float** -- 4\r\n\r\n**long &amp; double** -- 8  ","title":"What is the memory consumption of an object in Java?","body":"<p>The question will be a very broad one.</p>\n\n<p>It depends on the class variable or you may call as states memory usage in java.</p>\n\n<p>It also has some additional memory requirement for headers and referencing.</p>\n\n<p><strong>The heap memory used by a Java object includes</strong></p>\n\n<ul>\n<li><p>memory for primitive fields, according to their size (see below for Sizes of primitive types); </p></li>\n<li><p>memory for reference fields (4 bytes each); </p></li>\n<li><p>an object header, consisting of a few bytes of \"housekeeping\" information; </p></li>\n</ul>\n\n<p>Objects in java also requires some \"housekeeping\" information, such as recording an object's class, ID and status flags such as whether the object is currently reachable, currently synchronization-locked etc. </p>\n\n<p>Java object header size varies on 32 and 64 bit jvm.</p>\n\n<p>Although these are the main memory consumers jvm also requires additional fields sometimes like for alignment of the code e.t.c.</p>\n\n<p><strong>Sizes of primitive types</strong></p>\n\n<p><strong>boolean   &amp; byte</strong> -- 1</p>\n\n<p><strong>char &amp; short</strong> -- 2</p>\n\n<p><strong>int &amp; float</strong> -- 4</p>\n\n<p><strong>long &amp; double</strong> -- 8  </p>\n"},{"comments":[{"owner":{"account_id":249267,"reputation":5487,"user_id":525203,"accept_rate":86,"display_name":"Dmitry Spikhalskiy"},"score":0,"creation_date":1441580345,"post_id":30063849,"comment_id":52723280,"body_markdown":"&quot;It appears that every object has an overhead of 16 bytes on 32-bit systems (and 24-byte on 64-bit systems).&quot; It&#39;s not correct, at least for current JDKs. Take a look at my [answer](https://stackoverflow.com/questions/258120/what-is-the-memory-consumption-of-an-object-in-java/32224498#32224498) for Integer example. Overhead of object is at least 12 bytes for header for 64-bit system and modern JDK. Can be more because of padding, depends on actual layout of fields in object.","body":"&quot;It appears that every object has an overhead of 16 bytes on 32-bit systems (and 24-byte on 64-bit systems).&quot; It&#39;s not correct, at least for current JDKs. Take a look at my <a href=\"https://stackoverflow.com/questions/258120/what-is-the-memory-consumption-of-an-object-in-java/32224498#32224498\">answer</a> for Integer example. Overhead of object is at least 12 bytes for header for 64-bit system and modern JDK. Can be more because of padding, depends on actual layout of fields in object."},{"owner":{"account_id":4115138,"reputation":319,"user_id":3376926,"display_name":"tsleyson"},"score":0,"creation_date":1502143759,"post_id":30063849,"comment_id":78072881,"body_markdown":"The second link to the memory efficient Java tutorial seems to be deadâ€“I get &quot;Forbidden&quot;.","body":"The second link to the memory efficient Java tutorial seems to be deadâ€“I get &quot;Forbidden&quot;."}],"tags":[],"owner":{"account_id":104023,"reputation":19959,"user_id":278326,"accept_rate":72,"display_name":"Arun"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1430862566,"creation_date":1430862566,"answer_id":30063849,"question_id":258120,"body_markdown":"It appears that every object has an overhead of 16 bytes on 32-bit systems (and 24-byte on 64-bit systems).\r\n\r\nhttp://algs4.cs.princeton.edu/14analysis/ is a good source of information. One example among many good ones is the following.\r\n\r\n![enter image description here][1]\r\n\r\nhttp://www.cs.virginia.edu/kim/publicity/pldi09tutorials/memory-efficient-java-tutorial.pdf is also very informative, for example:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/d5jNj.png\r\n  [2]: http://i.stack.imgur.com/E8l6J.png","title":"What is the memory consumption of an object in Java?","body":"<p>It appears that every object has an overhead of 16 bytes on 32-bit systems (and 24-byte on 64-bit systems).</p>\n\n<p><a href=\"http://algs4.cs.princeton.edu/14analysis/\" rel=\"noreferrer\">http://algs4.cs.princeton.edu/14analysis/</a> is a good source of information. One example among many good ones is the following.</p>\n\n<p><img src=\"https://i.stack.imgur.com/d5jNj.png\" alt=\"enter image description here\"></p>\n\n<p><a href=\"http://www.cs.virginia.edu/kim/publicity/pldi09tutorials/memory-efficient-java-tutorial.pdf\" rel=\"noreferrer\">http://www.cs.virginia.edu/kim/publicity/pldi09tutorials/memory-efficient-java-tutorial.pdf</a> is also very informative, for example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/E8l6J.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":249267,"reputation":5487,"user_id":525203,"accept_rate":86,"display_name":"Dmitry Spikhalskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1676008430,"creation_date":1440585836,"answer_id":32224498,"question_id":258120,"body_markdown":"It depends on the CPU architecture and JDK. For a modern JDK and 64-bit architecture, an object has 12-byte header and padding of 8 bytes - so the minimum object size is 16 bytes. You can use a tool called [Java Object Layout][1] to determine a size and get details about any entity&#39;s object layout and internal structure or guess this information by class reference. Example of output for `Integer` instance on my environment:\r\n\r\n    Running 64-bit HotSpot VM.\r\n    Using compressed oop with 3-bit shift.\r\n    Using compressed klass with 3-bit shift.\r\n    Objects are 8 bytes aligned.\r\n    Field sizes by type: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]\r\n    Array element sizes: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]\r\n    \r\n    java.lang.Integer object internals:\r\n     OFFSET  SIZE  TYPE DESCRIPTION                    VALUE\r\n          0    12       (object header)                N/A\r\n         12     4   int Integer.value                  N/A\r\n    Instance size: 16 bytes (estimated, the sample instance is not available)\r\n    Space losses: 0 bytes internal + 0 bytes external = 0 bytes total\r\n\r\nFor `Integer`, the instance size is 16 bytes: 4-bytes int is placed in place right after the 12-byte header. And it doesn&#39;t need any additional &quot;padding&quot;, because 16 is a multiple of 8 (which is a RAM word size on 64-bits architecture) without remainder.\r\n\r\nCode sample:\r\n\r\n    import org.openjdk.jol.info.ClassLayout;\r\n    import org.openjdk.jol.util.VMSupport;\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(VMSupport.vmDetails());\r\n        System.out.println(ClassLayout.parseClass(Integer.class).toPrintable());\r\n    }\r\n\r\nIf you use maven, to get JOL:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjdk.jol&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jol-core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: http://openjdk.java.net/projects/code-tools/jol/\r\n","title":"What is the memory consumption of an object in Java?","body":"<p>It depends on the CPU architecture and JDK. For a modern JDK and 64-bit architecture, an object has 12-byte header and padding of 8 bytes - so the minimum object size is 16 bytes. You can use a tool called <a href=\"http://openjdk.java.net/projects/code-tools/jol/\" rel=\"nofollow noreferrer\">Java Object Layout</a> to determine a size and get details about any entity's object layout and internal structure or guess this information by class reference. Example of output for <code>Integer</code> instance on my environment:</p>\n<pre><code>Running 64-bit HotSpot VM.\nUsing compressed oop with 3-bit shift.\nUsing compressed klass with 3-bit shift.\nObjects are 8 bytes aligned.\nField sizes by type: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]\nArray element sizes: 4, 1, 1, 2, 2, 4, 4, 8, 8 [bytes]\n\njava.lang.Integer object internals:\n OFFSET  SIZE  TYPE DESCRIPTION                    VALUE\n      0    12       (object header)                N/A\n     12     4   int Integer.value                  N/A\nInstance size: 16 bytes (estimated, the sample instance is not available)\nSpace losses: 0 bytes internal + 0 bytes external = 0 bytes total\n</code></pre>\n<p>For <code>Integer</code>, the instance size is 16 bytes: 4-bytes int is placed in place right after the 12-byte header. And it doesn't need any additional &quot;padding&quot;, because 16 is a multiple of 8 (which is a RAM word size on 64-bits architecture) without remainder.</p>\n<p>Code sample:</p>\n<pre><code>import org.openjdk.jol.info.ClassLayout;\nimport org.openjdk.jol.util.VMSupport;\n\npublic static void main(String[] args) {\n    System.out.println(VMSupport.vmDetails());\n    System.out.println(ClassLayout.parseClass(Integer.class).toPrintable());\n}\n</code></pre>\n<p>If you use maven, to get JOL:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjdk.jol&lt;/groupId&gt;\n    &lt;artifactId&gt;jol-core&lt;/artifactId&gt;\n    &lt;version&gt;0.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":209251,"reputation":5134,"user_id":460175,"display_name":"comonad"},"score":2,"creation_date":1561571935,"post_id":35407947,"comment_id":100112361,"body_markdown":"a char is 16bit, not 8bit.","body":"a char is 16bit, not 8bit."},{"owner":{"account_id":65542,"reputation":5772,"user_id":192798,"accept_rate":48,"display_name":"Jayen"},"score":0,"creation_date":1561601991,"post_id":35407947,"comment_id":100120711,"body_markdown":"right you are.  someone seems to have edited my original answer","body":"right you are.  someone seems to have edited my original answer"}],"tags":[],"owner":{"account_id":65542,"reputation":5772,"user_id":192798,"accept_rate":48,"display_name":"Jayen"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561602003,"creation_date":1455534975,"answer_id":35407947,"question_id":258120,"body_markdown":"&gt; Is the memory space consumed by one object with 100 attributes the same as that of 100 objects, with one attribute each?\r\n\r\nNo.\r\n\r\n&gt; How much memory is allocated for an object?\r\n\r\n* The overhead is 8 bytes on 32-bit, 12 bytes on 64-bit;  and then rounded up to a multiple of 4 bytes (32-bit) or 8 bytes (64-bit).\r\n\r\n&gt; How much additional space is used when adding an attribute?\r\n\r\n* Attributes range from 1 byte (byte) to 8 bytes (long/double), but references are either 4 bytes or 8 bytes depending *not* on whether it&#39;s 32bit or 64bit, but rather whether -Xmx is &lt; 32Gb or &gt;= 32Gb:  typical 64-bit JVM&#39;s have an optimisation called &quot;-UseCompressedOops&quot; which compress references to 4 bytes if the heap is below 32Gb.\r\n\r\n","title":"What is the memory consumption of an object in Java?","body":"<blockquote>\n  <p>Is the memory space consumed by one object with 100 attributes the same as that of 100 objects, with one attribute each?</p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>How much memory is allocated for an object?</p>\n</blockquote>\n\n<ul>\n<li>The overhead is 8 bytes on 32-bit, 12 bytes on 64-bit;  and then rounded up to a multiple of 4 bytes (32-bit) or 8 bytes (64-bit).</li>\n</ul>\n\n<blockquote>\n  <p>How much additional space is used when adding an attribute?</p>\n</blockquote>\n\n<ul>\n<li>Attributes range from 1 byte (byte) to 8 bytes (long/double), but references are either 4 bytes or 8 bytes depending <em>not</em> on whether it's 32bit or 64bit, but rather whether -Xmx is &lt; 32Gb or >= 32Gb:  typical 64-bit JVM's have an optimisation called \"-UseCompressedOops\" which compress references to 4 bytes if the heap is below 32Gb.</li>\n</ul>\n"}],"owner":{"display_name":"manuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148427,"favorite_count":0,"down_vote_count":0,"up_vote_count":245,"answer_count":12,"score":245,"last_activity_date":1676008430,"creation_date":1225700688,"question_id":258120,"body_markdown":"Is the memory space consumed by one object with 100 attributes the same as that of 100 objects, with one attribute each?\r\n\r\nHow much memory is allocated for an object?  \r\nHow much additional space is used when adding an attribute?","title":"What is the memory consumption of an object in Java?","body":"<p>Is the memory space consumed by one object with 100 attributes the same as that of 100 objects, with one attribute each?</p>\n\n<p>How much memory is allocated for an object?<br>\nHow much additional space is used when adding an attribute?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1675986914,"post_id":75405591,"comment_id":133051490,"body_markdown":"`int i = 0; for (int a : A) while (a &gt; 0) System.out.println(a + &quot;-&quot; + B[i] + &quot;=&quot; + (a -= B[i++]));`","body":"<code>int i = 0; for (int a : A) while (a &gt; 0) System.out.println(a + &quot;-&quot; + B[i] + &quot;=&quot; + (a -= B[i++]));</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675991049,"post_id":75405591,"comment_id":133052145,"body_markdown":"Is there a guarantee the sum of numbers in one list will be equal to the sum of numbers in the other list?","body":"Is there a guarantee the sum of numbers in one list will be equal to the sum of numbers in the other list?"},{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1675995914,"post_id":75405591,"comment_id":133052792,"body_markdown":"@OldDogProgrammer: even if there is such a guarantee, the problem is equivalent to the knapsack problem, so it&#39;s NP complete. It certainly does not have a simple greedy solution. (Unless you&#39;re allowed to split a value in List B between two or more values in List A.)","body":"@OldDogProgrammer: even if there is such a guarantee, the problem is equivalent to the knapsack problem, so it&#39;s NP complete. It certainly does not have a simple greedy solution. (Unless you&#39;re allowed to split a value in List B between two or more values in List A.)"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1676009806,"post_id":75405591,"comment_id":133054547,"body_markdown":"@rici I also thought this was a hard problem until I saw the first comment. Maybe the exercise really is that trivial, i.e. the prefix subarray of B will always add to the first element of A. In other words, maybe this is an &quot;Introduction to Coding&quot; homework problem, and not a coding contest question.","body":"@rici I also thought this was a hard problem until I saw the first comment. Maybe the exercise really is that trivial, i.e. the prefix subarray of B will always add to the first element of A. In other words, maybe this is an &quot;Introduction to Coding&quot; homework problem, and not a coding contest question."},{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1676086814,"post_id":75405591,"comment_id":133072379,"body_markdown":"@OldDogProgrammer: I think I understood your question. But it&#39;s not sufficient for the sums to be equal. Consider A={11, 9}, B={2, 4, 6, 8}. No solution even though both sum to 20. Or change A to {10, 10}. Now there&#39;s a solution, but the greedy algorithm won&#39;t find it; you need an algorithm which can backtrack.","body":"@OldDogProgrammer: I think I understood your question. But it&#39;s not sufficient for the sums to be equal. Consider A={11, 9}, B={2, 4, 6, 8}. No solution even though both sum to 20. Or change A to {10, 10}. Now there&#39;s a solution, but the greedy algorithm won&#39;t find it; you need an algorithm which can backtrack."}],"answers":[{"comments":[{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":1,"creation_date":1676011276,"post_id":75407405,"comment_id":133054768,"body_markdown":"OOoooo. I thought it was some obscure math thing, but that makes way more sense.","body":"OOoooo. I thought it was some obscure math thing, but that makes way more sense."}],"tags":[],"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676008362,"creation_date":1676008362,"answer_id":75407405,"question_id":75405591,"body_markdown":"You can make your logic more simpler with early breaks if `a` becomes `0` before subtracting from all elements in `B`. Also, it looks like you wish to subtract them in a circular manner until `a` becomes `0`. \r\n\r\n**Snippet:**\r\n\r\n    for(int a : A){\r\n        int ptr = 0;\r\n        while(a &gt; 0){\r\n            System.out.println(a + &quot; - &quot; + B.get(ptr) + &quot; = &quot; + (a - B.get(ptr)));\r\n            a -= B.get(ptr);\r\n            ptr = (ptr + 1) % B.size();\r\n        }\r\n    }\r\n\r\n\r\n[**Online Demo**](https://onecompiler.com/java/3yxg29d3v)\r\n\r\n**Note:** Not every element subtraction leads to the beautiful 0, but that is how your array is kept in the first place. \r\n\r\nAlso, there is no other optimized way looking at your current requirements since you will have to loop through each one and show the subtraction steps. ","title":"How to substract a list of numbers from another list of numbers until 0 in java","body":"<p>You can make your logic more simpler with early breaks if <code>a</code> becomes <code>0</code> before subtracting from all elements in <code>B</code>. Also, it looks like you wish to subtract them in a circular manner until <code>a</code> becomes <code>0</code>.</p>\n<p><strong>Snippet:</strong></p>\n<pre><code>for(int a : A){\n    int ptr = 0;\n    while(a &gt; 0){\n        System.out.println(a + &quot; - &quot; + B.get(ptr) + &quot; = &quot; + (a - B.get(ptr)));\n        a -= B.get(ptr);\n        ptr = (ptr + 1) % B.size();\n    }\n}\n</code></pre>\n<p><a href=\"https://onecompiler.com/java/3yxg29d3v\" rel=\"nofollow noreferrer\"><strong>Online Demo</strong></a></p>\n<p><strong>Note:</strong> Not every element subtraction leads to the beautiful 0, but that is how your array is kept in the first place.</p>\n<p>Also, there is no other optimized way looking at your current requirements since you will have to loop through each one and show the subtraction steps.</p>\n"}],"owner":{"account_id":15465429,"reputation":9,"user_id":11156919,"display_name":"Azfar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676008362,"creation_date":1675986192,"question_id":75405591,"body_markdown":"I have 2 lists of numbers. I need to subtract the second list from the first in a way that shows the balance until the first list equals 0. \r\nFor example \r\n\r\n    List A = [10,9] \r\n    List B - [1,2,3,4,5,4]\r\n\r\nI need to show \r\n\r\n    10-1=9\r\n    9-2=7\r\n    7-3=4\r\n    4-4=0\r\n    9-5=4\r\n    4-4=0\r\n\r\nI tried\r\n\r\n     for (int a : List A){\r\n            do {\r\n                for (int b : List B){\r\n                    a = -b\r\n                }\r\n            } while (a &gt;= 0)\r\n        }\r\n\r\nI don&#39;t think the logic is sound enough and could use a few pointers.   \r\n  ","title":"How to substract a list of numbers from another list of numbers until 0 in java","body":"<p>I have 2 lists of numbers. I need to subtract the second list from the first in a way that shows the balance until the first list equals 0.\nFor example</p>\n<pre><code>List A = [10,9] \nList B - [1,2,3,4,5,4]\n</code></pre>\n<p>I need to show</p>\n<pre><code>10-1=9\n9-2=7\n7-3=4\n4-4=0\n9-5=4\n4-4=0\n</code></pre>\n<p>I tried</p>\n<pre><code> for (int a : List A){\n        do {\n            for (int b : List B){\n                a = -b\n            }\n        } while (a &gt;= 0)\n    }\n</code></pre>\n<p>I don't think the logic is sound enough and could use a few pointers.</p>\n"},{"tags":["java","spring-boot","maven","amazon-s3"],"answers":[{"comments":[{"owner":{"account_id":5271602,"reputation":23,"user_id":4209691,"display_name":"Marco Simone"},"score":0,"creation_date":1676018938,"post_id":75407383,"comment_id":133056504,"body_markdown":"unfortunately, the bucket is set up correctly","body":"unfortunately, the bucket is set up correctly"},{"owner":{"account_id":27505610,"reputation":101,"user_id":20988418,"display_name":"arjunrawal"},"score":0,"creation_date":1676050732,"post_id":75407383,"comment_id":133066307,"body_markdown":"where is this exception getting thrown? Is there a larger stack trace?","body":"where is this exception getting thrown? Is there a larger stack trace?"}],"tags":[],"owner":{"account_id":27505610,"reputation":101,"user_id":20988418,"display_name":"arjunrawal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676007993,"creation_date":1676007993,"answer_id":75407383,"question_id":75403752,"body_markdown":"For buckets created in regions outside of us-east-1 (N. Virginia) a location constraint is required. See https://docs.aws.amazon.com/cli/latest/reference/s3api/create-bucket.html for more details\r\n\r\n&gt;LocationConstraint -&gt; (string)\r\nSpecifies the Region where the bucket will be created. If you don&#39;t specify a Region, the bucket is created in the US East (N. Virginia) Region (us-east-1).\r\n","title":"Java AWS SDK problem with me-central-1 region","body":"<p>For buckets created in regions outside of us-east-1 (N. Virginia) a location constraint is required. See <a href=\"https://docs.aws.amazon.com/cli/latest/reference/s3api/create-bucket.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cli/latest/reference/s3api/create-bucket.html</a> for more details</p>\n<blockquote>\n<p>LocationConstraint -&gt; (string)\nSpecifies the Region where the bucket will be created. If you don't specify a Region, the bucket is created in the US East (N. Virginia) Region (us-east-1).</p>\n</blockquote>\n"}],"owner":{"account_id":5271602,"reputation":23,"user_id":4209691,"display_name":"Marco Simone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676007993,"creation_date":1675972304,"question_id":75403752,"body_markdown":"i&#39;m trying to use the aws sdk for java (it&#39;s not the first time and it&#39;s always worked) but i&#39;m getting this error: \r\n\r\n**com.amazonaws.services.s3.model.AmazonS3Exception: The unspecified location constraint is incompatible for the region specific endpoint this request was sent to**\r\n\r\nIn my pom i have this maven dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.12.402&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand this is my code to instantiate the s3 client:\r\n\r\n    @Bean\r\n    public AmazonS3 amazonS3() {\r\n        AWSCredentials cred = new BasicAWSCredentials(accesskey, secretkey);\r\n        AWSCredentialsProvider credProvider = new AWSStaticCredentialsProvider(cred);\r\n        return AmazonS3Client.builder()\r\n        \t\t.withRegion(Regions.ME_CENTRAL_1)\r\n        \t\t//.withCredentials(credProvider)\r\n        \t\t.withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\r\n        \t\t.build();\r\n    }\r\n\r\nAs you can see I tried two different AWSCredentialsProviders, but I always get the same error","title":"Java AWS SDK problem with me-central-1 region","body":"<p>i'm trying to use the aws sdk for java (it's not the first time and it's always worked) but i'm getting this error:</p>\n<p><strong>com.amazonaws.services.s3.model.AmazonS3Exception: The unspecified location constraint is incompatible for the region specific endpoint this request was sent to</strong></p>\n<p>In my pom i have this maven dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n    &lt;version&gt;1.12.402&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and this is my code to instantiate the s3 client:</p>\n<pre><code>@Bean\npublic AmazonS3 amazonS3() {\n    AWSCredentials cred = new BasicAWSCredentials(accesskey, secretkey);\n    AWSCredentialsProvider credProvider = new AWSStaticCredentialsProvider(cred);\n    return AmazonS3Client.builder()\n            .withRegion(Regions.ME_CENTRAL_1)\n            //.withCredentials(credProvider)\n            .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\n            .build();\n}\n</code></pre>\n<p>As you can see I tried two different AWSCredentialsProviders, but I always get the same error</p>\n"},{"tags":["java","settings","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"score":0,"creation_date":1280784986,"post_id":3386565,"comment_id":3527127,"body_markdown":"Thanks!  The second part of the response was exactly what I wanted.  After adding a NEW interface template to the &#39;file templates&#39; section, it immediately appeared in my context menu.","body":"Thanks!  The second part of the response was exactly what I wanted.  After adding a NEW interface template to the &#39;file templates&#39; section, it immediately appeared in my context menu."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":1,"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1280742080,"creation_date":1280742080,"answer_id":3386565,"question_id":3385232,"body_markdown":"New | Java Class, **Create New Class** dialog appears, in this dialog you can choose **Kind** between one of the following:\r\n\r\n - Class\r\n - Interface\r\n - Enum\r\n - Annotation\r\n\r\n(tested with IDEA 9.0.3)\r\n\r\nIf you want Interface directly in the New list, then you have to add new template in Settings | File Templates, name it something like **Java Interface** and copy the contents of the **Interface** template into this one.","title":"Intellij: Adding &#39;Interface&#39; to my context menu in the Project Pane","body":"<p>New | Java Class, <strong>Create New Class</strong> dialog appears, in this dialog you can choose <strong>Kind</strong> between one of the following:</p>\n\n<ul>\n<li>Class</li>\n<li>Interface</li>\n<li>Enum</li>\n<li>Annotation</li>\n</ul>\n\n<p>(tested with IDEA 9.0.3)</p>\n\n<p>If you want Interface directly in the New list, then you have to add new template in Settings | File Templates, name it something like <strong>Java Interface</strong> and copy the contents of the <strong>Interface</strong> template into this one.</p>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542007228,"creation_date":1542007228,"answer_id":53257468,"question_id":3385232,"body_markdown":"Also you can create a shortcut to save some secs.\r\n\r\n`Alt+Ctr+S` -&gt; `Keymap` -&gt; in search box type &#39;`create new`&#39; and select `Java class` and then assign any shortcut like `Ctrl+N`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LeNBN.png","title":"Intellij: Adding &#39;Interface&#39; to my context menu in the Project Pane","body":"<p>Also you can create a shortcut to save some secs.</p>\n\n<p><code>Alt+Ctr+S</code> -> <code>Keymap</code> -> in search box type '<code>create new</code>' and select <code>Java class</code> and then assign any shortcut like <code>Ctrl+N</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LeNBN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LeNBN.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10053537,"reputation":83,"user_id":7432544,"display_name":"Yekta &#214;zdemir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584652581,"creation_date":1584652581,"answer_id":60765175,"question_id":3385232,"body_markdown":"It&#39;s under the New Java Class menu.","title":"Intellij: Adding &#39;Interface&#39; to my context menu in the Project Pane","body":"<p>It's under the New Java Class menu.</p>\n"},{"tags":[],"owner":{"account_id":7959412,"reputation":1,"user_id":6007657,"display_name":"vjaidegavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641539945,"creation_date":1641539945,"answer_id":70617786,"question_id":3385232,"body_markdown":"Yes its available in Class menu : New--&gt; Java class  --&gt; Interface .\r\n","title":"Intellij: Adding &#39;Interface&#39; to my context menu in the Project Pane","body":"<p>Yes its available in Class menu : New--&gt; Java class  --&gt; Interface .</p>\n"},{"tags":[],"owner":{"account_id":23297249,"reputation":94,"user_id":17394517,"display_name":"shanaka prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676007645,"creation_date":1676007645,"answer_id":75407354,"question_id":3385232,"body_markdown":"create a package and then select create new class from that select interface and give a name.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IvmrR.png\r\n\r\nthen; you need to import the references files.\r\n","title":"Intellij: Adding &#39;Interface&#39; to my context menu in the Project Pane","body":"<p>create a package and then select create new class from that select interface and give a name.\n<a href=\"https://i.stack.imgur.com/IvmrR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>then; you need to import the references files.</p>\n"}],"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39393,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":3386565,"answer_count":5,"score":29,"last_activity_date":1676007645,"creation_date":1280726916,"question_id":3385232,"body_markdown":"Currently in IntelliJ, if I right-click a package in the Project pane, I can see things such as:\r\n\r\n    new &gt; Java class\r\n    new &gt; File\r\n    new &gt; Package\r\n\r\nI want to add some new menu items in the &#39;new&#39; context menu such as Interface and Enum.  Does anyone know how to do this?\r\n\r\nI&#39;ve been playing around in the &lt;b&gt;Settings &gt; Menus and Toolbars&lt;/b&gt; without any luck.\r\n\r\nEdit: The funny thing is if I right click a package and choose &lt;b&gt;New &gt; Edit File Templates...&lt;/b&gt;, I can see the template for an Interface and in the description it actually says:\r\n\r\n    This is a built-in template used by IDEA each time you create a new Java interface, by selecting New | Interface from the popup menu in one of the project views.\r\n\r\nUnless I need to look at a different pane other than &lt;b&gt;Project&lt;/b&gt;, I can&#39;t seem to find any context menu that lets me choose &lt;b&gt;New &gt; Interface&lt;/b&gt; as suggested by the above description.","title":"Intellij: Adding &#39;Interface&#39; to my context menu in the Project Pane","body":"<p>Currently in IntelliJ, if I right-click a package in the Project pane, I can see things such as:</p>\n\n<pre><code>new &gt; Java class\nnew &gt; File\nnew &gt; Package\n</code></pre>\n\n<p>I want to add some new menu items in the 'new' context menu such as Interface and Enum.  Does anyone know how to do this?</p>\n\n<p>I've been playing around in the <b>Settings > Menus and Toolbars</b> without any luck.</p>\n\n<p>Edit: The funny thing is if I right click a package and choose <b>New > Edit File Templates...</b>, I can see the template for an Interface and in the description it actually says:</p>\n\n<pre><code>This is a built-in template used by IDEA each time you create a new Java interface, by selecting New | Interface from the popup menu in one of the project views.\n</code></pre>\n\n<p>Unless I need to look at a different pane other than <b>Project</b>, I can't seem to find any context menu that lets me choose <b>New > Interface</b> as suggested by the above description.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":2,"creation_date":1675998720,"post_id":75406485,"comment_id":133053144,"body_markdown":"Here&#39;s an obvious one for you: if the first time you call `addLast` it is with an array with less than 3 elements then you will get a `IndexOutOfBounds` Exception.","body":"Here&#39;s an obvious one for you: if the first time you call <code>addLast</code> it is with an array with less than 3 elements then you will get a <code>IndexOutOfBounds</code> Exception."},{"owner":{"account_id":6929680,"reputation":574,"user_id":5319542,"accept_rate":50,"display_name":"chk.buddi"},"score":0,"creation_date":1675999156,"post_id":75406485,"comment_id":133053194,"body_markdown":"Yes, I also noticed that. But it provides more than 3 elements.","body":"Yes, I also noticed that. But it provides more than 3 elements."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":2,"creation_date":1675999693,"post_id":75406485,"comment_id":133053255,"body_markdown":"How do you know the test cases provide more than 3 elements? The question says that you don&#39;t have the test scenarios.","body":"How do you know the test cases provide more than 3 elements? The question says that you don&#39;t have the test scenarios."},{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1676000780,"post_id":75406485,"comment_id":133053373,"body_markdown":"&quot; ( I don&#39;t have the the exact test cases) &quot; Doesn&#39;t hurt to add in those edge cases that @sprinter mentioned... returning false when not enough elements are present is a good start to see if you pass testcases.","body":"&quot; ( I don&#39;t have the the exact test cases) &quot; Doesn&#39;t hurt to add in those edge cases that @sprinter mentioned... returning false when not enough elements are present is a good start to see if you pass testcases."},{"owner":{"account_id":6929680,"reputation":574,"user_id":5319542,"accept_rate":50,"display_name":"chk.buddi"},"score":0,"creation_date":1676002943,"post_id":75406485,"comment_id":133053673,"body_markdown":"Hi @DennisLLopis, yes, I will handle his point and see. thanks","body":"Hi @DennisLLopis, yes, I will handle his point and see. thanks"}],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1676007281,"post_id":75407302,"comment_id":133054242,"body_markdown":"OP&#39;s code and yours obviously does not cover integer overflows","body":"OP&#39;s code and yours obviously does not cover integer overflows"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1676028468,"post_id":75407302,"comment_id":133059313,"body_markdown":"Excellent point. I&#39;d be surprised if that&#39;s the failing tests but good pickup nonetheless","body":"Excellent point. I&#39;d be surprised if that&#39;s the failing tests but good pickup nonetheless"}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676007067,"creation_date":1676007067,"answer_id":75407302,"question_id":75406485,"body_markdown":"I generated large random collections of integers and couldn&#39;t find any obvious cases your code fails for beyond the insufficient elements. Incidentally, the function I wrote to check if a list has any consecutive n elements that sum to a given value was:\r\n\r\n    public static boolean containsSum(List&lt;Integer&gt; list, int sum, int n) {\r\n        return IntStream.range(0, list.size() - n + 1)\r\n                .anyMatch(i -&gt; list.subList(i, i + n).stream()\r\n                        .reduce(0, Integer::sum) == sum);\r\n    }\r\n\r\nI can&#39;t see any reason for your code that keeps all the list of lists: the space / time tradeoff doesn&#39;t make a lot of sense. I suggest you could simplify `addLast` to just add the elements to `mergeList`. There are a bunch of stylistic issues with your code but I&#39;m sure you&#39;ll work those out in your own time.","title":"Find sum of subsequent 3 elements of an array","body":"<p>I generated large random collections of integers and couldn't find any obvious cases your code fails for beyond the insufficient elements. Incidentally, the function I wrote to check if a list has any consecutive n elements that sum to a given value was:</p>\n<pre><code>public static boolean containsSum(List&lt;Integer&gt; list, int sum, int n) {\n    return IntStream.range(0, list.size() - n + 1)\n            .anyMatch(i -&gt; list.subList(i, i + n).stream()\n                    .reduce(0, Integer::sum) == sum);\n}\n</code></pre>\n<p>I can't see any reason for your code that keeps all the list of lists: the space / time tradeoff doesn't make a lot of sense. I suggest you could simplify <code>addLast</code> to just add the elements to <code>mergeList</code>. There are a bunch of stylistic issues with your code but I'm sure you'll work those out in your own time.</p>\n"}],"owner":{"account_id":6929680,"reputation":574,"user_id":5319542,"accept_rate":50,"display_name":"chk.buddi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75407302,"answer_count":1,"score":0,"last_activity_date":1676007067,"creation_date":1675997652,"question_id":75406485,"body_markdown":"I need to sum the three consecutive elements of an array when appending numbers to the same array dynamically and return true if the sum is equal to the argument value. I have already written the code below and it all return required output but it fails for some test cases( I don&#39;t have the the exact test cases), Can anybody tell me what exact scenario which my programme can be failed?\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n        List&lt;Integer&gt; mergeList = new LinkedList&lt;Integer&gt;();\r\n        List&lt;List&lt;Integer&gt;&gt; allList = new LinkedList&lt;List&lt;Integer&gt;&gt;();\r\n        List&lt;Integer&gt; tail;\r\n        int from = 0;\r\n        int to = 0;\r\n\r\n        public void addLast(int[] list) {\r\n            allList.removeAll(allList);\r\n\r\n            for(int i : list) {\r\n                mergeList.add(i);\r\n            }\r\n\r\n            if (mergeList.size() &gt; 0) {\r\n                int j = 0;\r\n    \r\n                while(to &lt; mergeList.size()){\r\n                    from = j;\r\n                    to = j + 3;\r\n                    tail = mergeList.subList(from, to);\r\n                    j++;\r\n                    allList.add(tail);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public boolean containsSum3(int sum) {\r\n            boolean retVal = false;\r\n            \r\n            for (List&lt;Integer&gt; sum3List : allList) {\r\n                if (sum3List.stream().mapToInt(Integer::intValue).sum() == sum) {\r\n                    retVal = true;\r\n                }\r\n            }\r\n\r\n            return retVal;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Test s = new Test();\r\n    \r\n            s.addLast(new int[] { 1, 2, 3 });\r\n            System.out.println(s.containsSum3(6));\r\n            System.out.println(s.containsSum3(9));\r\n    \r\n            s.addLast(new int[] { 4 });\r\n            System.out.println(s.containsSum3(9));\r\n\r\n            s.addLast(new int[] { 5, 2});\r\n            System.out.println(s.containsSum3(11));\r\n            \r\n            s.addLast(new int[] { 0, -1 });\r\n            System.out.println(s.containsSum3(7));\r\n            System.out.println(s.containsSum3(2));\r\n        }\r\n    }\r\n\r\nOutput:\r\n \r\n\r\n    true\r\n    false\r\n    true\r\n    true\r\n    true\r\n    false","title":"Find sum of subsequent 3 elements of an array","body":"<p>I need to sum the three consecutive elements of an array when appending numbers to the same array dynamically and return true if the sum is equal to the argument value. I have already written the code below and it all return required output but it fails for some test cases( I don't have the the exact test cases), Can anybody tell me what exact scenario which my programme can be failed?</p>\n<pre><code>import java.util.LinkedList;\nimport java.util.List;\n\npublic class Test {\n    List&lt;Integer&gt; mergeList = new LinkedList&lt;Integer&gt;();\n    List&lt;List&lt;Integer&gt;&gt; allList = new LinkedList&lt;List&lt;Integer&gt;&gt;();\n    List&lt;Integer&gt; tail;\n    int from = 0;\n    int to = 0;\n\n    public void addLast(int[] list) {\n        allList.removeAll(allList);\n\n        for(int i : list) {\n            mergeList.add(i);\n        }\n\n        if (mergeList.size() &gt; 0) {\n            int j = 0;\n\n            while(to &lt; mergeList.size()){\n                from = j;\n                to = j + 3;\n                tail = mergeList.subList(from, to);\n                j++;\n                allList.add(tail);\n            }\n        }\n    }\n\n    public boolean containsSum3(int sum) {\n        boolean retVal = false;\n        \n        for (List&lt;Integer&gt; sum3List : allList) {\n            if (sum3List.stream().mapToInt(Integer::intValue).sum() == sum) {\n                retVal = true;\n            }\n        }\n\n        return retVal;\n    }\n\n    public static void main(String[] args) {\n        Test s = new Test();\n\n        s.addLast(new int[] { 1, 2, 3 });\n        System.out.println(s.containsSum3(6));\n        System.out.println(s.containsSum3(9));\n\n        s.addLast(new int[] { 4 });\n        System.out.println(s.containsSum3(9));\n\n        s.addLast(new int[] { 5, 2});\n        System.out.println(s.containsSum3(11));\n        \n        s.addLast(new int[] { 0, -1 });\n        System.out.println(s.containsSum3(7));\n        System.out.println(s.containsSum3(2));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>true\nfalse\ntrue\ntrue\ntrue\nfalse\n</code></pre>\n"},{"tags":["java","switch-statement","pattern-matching"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1655825181,"post_id":72703351,"comment_id":128420812,"body_markdown":"You can recompile the interface and add new values which doesn&#39;t break binary compatibility, but does break compile time safety without a default case.","body":"You can recompile the interface and add new values which doesn&#39;t break binary compatibility, but does break compile time safety without a default case."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1655831473,"post_id":72703351,"comment_id":128423092,"body_markdown":"@clay did you try to remove generics from the example? Does it work when you do so?","body":"@clay did you try to remove generics from the example? Does it work when you do so?"},{"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"score":0,"creation_date":1656631869,"post_id":72703351,"comment_id":128626506,"body_markdown":"@PanagiotisBougioukos, if I remove generics, it works. I&#39;m not doing some exotic edge case, this seems a very simple example. I presume they will fix this closer to the GA release.","body":"@PanagiotisBougioukos, if I remove generics, it works. I&#39;m not doing some exotic edge case, this seems a very simple example. I presume they will fix this closer to the GA release."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656655008,"post_id":72703351,"comment_id":128629752,"body_markdown":"JDK is in rampdown so I&#39;d suggest posting this on the compiler issue list as soon as possible, otherwise if this is a bug, it won&#39;t be fixed until 20.","body":"JDK is in rampdown so I&#39;d suggest posting this on the compiler issue list as soon as possible, otherwise if this is a bug, it won&#39;t be fixed until 20."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1657873426,"post_id":72703351,"comment_id":128917854,"body_markdown":"Either @BrianGoetz article is wrong or javac has a bug.","body":"Either @BrianGoetz article is wrong or javac has a bug."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1655833411,"creation_date":1655832192,"answer_id":72704820,"question_id":72703351,"body_markdown":"[JDK 19][1] has only Early-Access Builds available now. \r\n\r\nI think I have found the important part for this question in the [JEPS 427 documentation][2]\r\n\r\nThe progress of **Pattern Matching (Third Preview)** could also be tracked from [here][3].\r\n\r\nAccording to the following JEPS example, I would expect this to work, so I think that you should wait first for the first **JDK 19 build for general availability** and try again. If it still not works then I think you should proceed and report it as a bug.\r\n\r\n\r\n&gt; Some extra care is needed when a permitted direct subclass only\r\n&gt; implements a specific parameterization of a (**generic**) sealed\r\n&gt; superclass. For example:\r\n\r\n    sealed interface I&lt;T&gt; permits A, B {}\r\n    final class A&lt;X&gt; implements I&lt;String&gt; {}\r\n    final class B&lt;Y&gt; implements I&lt;Y&gt; {}\r\n    \r\n    static int testGenericSealedExhaustive(I&lt;Integer&gt; i) {\r\n        return switch (i) {\r\n            // Exhaustive as no A case possible!\r\n            case B&lt;Integer&gt; bi -&gt; 42;\r\n        }\r\n    }\r\n\r\n&gt; The only permitted subclasses of I are A and B, but the compiler can\r\n&gt; detect that the switch block need only cover the class B to be\r\n&gt; exhaustive since the selector expression is of type I&lt;Integer&gt;.\r\n&gt; \r\n\r\nI also think that the comment from @**Kayaman** is not the case here as it is explicitly stated in the documentation how this case is handled to be safe.\r\n\r\n\r\n&gt; **To defend against incompatible separate compilation, in this case of a\r\n&gt; switch over a sealed class where the switch block is exhaustive and\r\n&gt; there is no match-all case, the compiler automatically adds a default\r\n&gt; label whose code throws an IncompatibleClassChangeError. This label\r\n&gt; will only be reached if the sealed interface is changed and the switch\r\n&gt; code is not recompiled.** In effect, the compiler hardens your code for\r\n&gt; you.\r\n&gt; \r\n\r\n\r\n  [1]: https://jdk.java.net/19/\r\n  [2]: https://openjdk.org/jeps/427\r\n  [3]: https://bugs.openjdk.org/browse/JDK-8282272","title":"Java 19 Pattern Matching Compilation Error: &quot;the switch statement does not cover all possible input values&quot;","body":"<p><a href=\"https://jdk.java.net/19/\" rel=\"nofollow noreferrer\">JDK 19</a> has only Early-Access Builds available now.</p>\n<p>I think I have found the important part for this question in the <a href=\"https://openjdk.org/jeps/427\" rel=\"nofollow noreferrer\">JEPS 427 documentation</a></p>\n<p>The progress of <strong>Pattern Matching (Third Preview)</strong> could also be tracked from <a href=\"https://bugs.openjdk.org/browse/JDK-8282272\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>According to the following JEPS example, I would expect this to work, so I think that you should wait first for the first <strong>JDK 19 build for general availability</strong> and try again. If it still not works then I think you should proceed and report it as a bug.</p>\n<blockquote>\n<p>Some extra care is needed when a permitted direct subclass only\nimplements a specific parameterization of a (<strong>generic</strong>) sealed\nsuperclass. For example:</p>\n</blockquote>\n<pre><code>sealed interface I&lt;T&gt; permits A, B {}\nfinal class A&lt;X&gt; implements I&lt;String&gt; {}\nfinal class B&lt;Y&gt; implements I&lt;Y&gt; {}\n\nstatic int testGenericSealedExhaustive(I&lt;Integer&gt; i) {\n    return switch (i) {\n        // Exhaustive as no A case possible!\n        case B&lt;Integer&gt; bi -&gt; 42;\n    }\n}\n</code></pre>\n<blockquote>\n<p>The only permitted subclasses of I are A and B, but the compiler can\ndetect that the switch block need only cover the class B to be\nexhaustive since the selector expression is of type I.</p>\n</blockquote>\n<p>I also think that the comment from @<strong>Kayaman</strong> is not the case here as it is explicitly stated in the documentation how this case is handled to be safe.</p>\n<blockquote>\n<p><strong>To defend against incompatible separate compilation, in this case of a\nswitch over a sealed class where the switch block is exhaustive and\nthere is no match-all case, the compiler automatically adds a default\nlabel whose code throws an IncompatibleClassChangeError. This label\nwill only be reached if the sealed interface is changed and the switch\ncode is not recompiled.</strong> In effect, the compiler hardens your code for\nyou.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676006990,"creation_date":1665077485,"answer_id":73977879,"question_id":72703351,"body_markdown":"This is a known bug in Java 19. This was confirmed by Brian Goetz himself on the amber-dev mailing list.\r\n\r\n**UPDATE**: This issue is completely fixed in Java 20.","title":"Java 19 Pattern Matching Compilation Error: &quot;the switch statement does not cover all possible input values&quot;","body":"<p>This is a known bug in Java 19. This was confirmed by Brian Goetz himself on the amber-dev mailing list.</p>\n<p><strong>UPDATE</strong>: This issue is completely fixed in Java 20.</p>\n"}],"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":73977879,"answer_count":2,"score":9,"last_activity_date":1676006990,"creation_date":1655824820,"question_id":72703351,"body_markdown":"Using the Brian Goetz article: https://www.infoq.com/articles/data-oriented-programming-java/\r\n\r\n```java\r\nsealed interface Opt&lt;T&gt; { \r\n    record Some&lt;T&gt;(T value) implements Opt&lt;T&gt; { }\r\n    record None&lt;T&gt;() implements Opt&lt;T&gt; { }\r\n}\r\n```\r\n\r\nThis compiles and runs as expected. The exhaustive pattern matching works:\r\n\r\n```java\r\nOpt&lt;String&gt; optValue = doCalc(value);\r\nswitch (optValue) {\r\n  case Opt.Some&lt;String&gt; some -&gt; System.out.printf(&quot;got string: %s%n&quot;, some.value());\r\n  case Opt.None&lt;String&gt; none -&gt; System.out.printf(&quot;got none%n&quot;);\r\n};\r\n```\r\n\r\nThis variation where I use the new Record patterns preview feature, breaks the exhaustive pattern matching, where this won&#39;t compile without adding a default case statement:\r\n\r\n```java\r\nOpt&lt;String&gt; optValue = doCalc(value);\r\nswitch (optValue) {\r\n    case Opt.Some&lt;String&gt;(String v) -&gt; System.out.printf(&quot;got string: %s%n&quot;, v);\r\n    case Opt.None&lt;String&gt; none -&gt; System.out.printf(&quot;got none%n&quot;);\r\n};\r\n```\r\n\r\nWith `OpenJDK Runtime Environment (build 19-ea+32-2220)`, I get the compilation error: `the switch statement does not cover all possible input values`.\r\n\r\nWhen I add a default case statement, and the program works, but I don&#39;t get exhaustive pattern matching.\r\n\r\nIf I remove the record pattern matching, the program works.\r\n\r\nIf I create a variation of this without generics, that uses sealed classes, exhaustive pattern matching, and record patterns, it works.\r\n\r\nHowever, it seems the combination of record patterns, generics and exhaustive pattern matching does not work.","title":"Java 19 Pattern Matching Compilation Error: &quot;the switch statement does not cover all possible input values&quot;","body":"<p>Using the Brian Goetz article: <a href=\"https://www.infoq.com/articles/data-oriented-programming-java/\" rel=\"nofollow noreferrer\">https://www.infoq.com/articles/data-oriented-programming-java/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>sealed interface Opt&lt;T&gt; { \n    record Some&lt;T&gt;(T value) implements Opt&lt;T&gt; { }\n    record None&lt;T&gt;() implements Opt&lt;T&gt; { }\n}\n</code></pre>\n<p>This compiles and runs as expected. The exhaustive pattern matching works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Opt&lt;String&gt; optValue = doCalc(value);\nswitch (optValue) {\n  case Opt.Some&lt;String&gt; some -&gt; System.out.printf(&quot;got string: %s%n&quot;, some.value());\n  case Opt.None&lt;String&gt; none -&gt; System.out.printf(&quot;got none%n&quot;);\n};\n</code></pre>\n<p>This variation where I use the new Record patterns preview feature, breaks the exhaustive pattern matching, where this won't compile without adding a default case statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Opt&lt;String&gt; optValue = doCalc(value);\nswitch (optValue) {\n    case Opt.Some&lt;String&gt;(String v) -&gt; System.out.printf(&quot;got string: %s%n&quot;, v);\n    case Opt.None&lt;String&gt; none -&gt; System.out.printf(&quot;got none%n&quot;);\n};\n</code></pre>\n<p>With <code>OpenJDK Runtime Environment (build 19-ea+32-2220)</code>, I get the compilation error: <code>the switch statement does not cover all possible input values</code>.</p>\n<p>When I add a default case statement, and the program works, but I don't get exhaustive pattern matching.</p>\n<p>If I remove the record pattern matching, the program works.</p>\n<p>If I create a variation of this without generics, that uses sealed classes, exhaustive pattern matching, and record patterns, it works.</p>\n<p>However, it seems the combination of record patterns, generics and exhaustive pattern matching does not work.</p>\n"},{"tags":["java","javadoc"],"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676006849,"creation_date":1676003562,"question_id":75406973,"body_markdown":"Till jdk1.8 atleast, the downloaded javadoc.zip once inflated could be opened like this :\r\n\r\nhttps://drive.google.com/file/d/1NUbuIrgOydKaepWquLUt0yFlekhz7a-R/view?usp=share_link\r\n\r\nHowever with jdk17, it is not having the left pane with all packages and classes. This was very useful if we do not know the exact class name and just want to browse through some of the packages.\r\nAny suggestions?","title":"jdk17 javadoc viewing issue","body":"<p>Till jdk1.8 atleast, the downloaded javadoc.zip once inflated could be opened like this :</p>\n<p><a href=\"https://drive.google.com/file/d/1NUbuIrgOydKaepWquLUt0yFlekhz7a-R/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1NUbuIrgOydKaepWquLUt0yFlekhz7a-R/view?usp=share_link</a></p>\n<p>However with jdk17, it is not having the left pane with all packages and classes. This was very useful if we do not know the exact class name and just want to browse through some of the packages.\nAny suggestions?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"score":4,"creation_date":1313742215,"post_id":7118178,"comment_id":8529995,"body_markdown":"@Caroline:If you are trying to initialize the 2d array with 0,u need not do so as it is already initialized with 0 when you allocate the array,and you cannot initialize any array without using a loop.You can just hide the loop in a function just as Arrays.fill does.","body":"@Caroline:If you are trying to initialize the 2d array with 0,u need not do so as it is already initialized with 0 when you allocate the array,and you cannot initialize any array without using a loop.You can just hide the loop in a function just as Arrays.fill does."},{"owner":{"account_id":3389528,"reputation":4700,"user_id":2844702,"accept_rate":82,"display_name":"Number945"},"score":2,"creation_date":1482736139,"post_id":7118178,"comment_id":69858755,"body_markdown":"Hey guys don&#39;t exaggerate it now. All he wanted was some method in Java API to initialize multidimensional arrays to some default value in single step. That&#39;s what he wanted to say without a loop.","body":"Hey guys don&#39;t exaggerate it now. All he wanted was some method in Java API to initialize multidimensional arrays to some default value in single step. That&#39;s what he wanted to say without a loop."},{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":2,"creation_date":1593419354,"post_id":7118178,"comment_id":110763900,"body_markdown":"@Number945 I believe Caroline is a feminine name.","body":"@Number945 I believe Caroline is a feminine name."}],"answers":[{"comments":[{"owner":{"account_id":459293,"reputation":2358,"user_id":859678,"accept_rate":83,"display_name":"Maverik"},"score":4,"creation_date":1313739132,"post_id":7118208,"comment_id":8529294,"body_markdown":"Hi. I&#39;m just curios to know why you suggest this solution and not a classic `for`. Is there a motivation? Thanks!","body":"Hi. I&#39;m just curios to know why you suggest this solution and not a classic <code>for</code>. Is there a motivation? Thanks!"},{"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":125,"creation_date":1313739559,"post_id":7118208,"comment_id":8529384,"body_markdown":"Because of the following words in the question: &quot;without using a loop&quot;.  My solution is plainly ridiculous, but it does answer the question correctly.","body":"Because of the following words in the question: &quot;without using a loop&quot;.  My solution is plainly ridiculous, but it does answer the question correctly."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":4,"creation_date":1313739877,"post_id":7118208,"comment_id":8529446,"body_markdown":"Sorry, missed the &quot;without using a loop&quot; from the OP: removed my down-vote. Perhaps you should have made a remark in your answer that the suggestion shouldn&#39;t be taken too seriously.","body":"Sorry, missed the &quot;without using a loop&quot; from the OP: removed my down-vote. Perhaps you should have made a remark in your answer that the suggestion shouldn&#39;t be taken too seriously."},{"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":36,"creation_date":1313740648,"post_id":7118208,"comment_id":8529601,"body_markdown":"No, it&#39;s also an interesting experiment: How many downvotes can you get for a correct answer?","body":"No, it&#39;s also an interesting experiment: How many downvotes can you get for a correct answer?"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1313742345,"post_id":7118208,"comment_id":8530042,"body_markdown":"@trojanfoe, sorry for messing up your experiment... :)","body":"@trojanfoe, sorry for messing up your experiment... :)"},{"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":2,"creation_date":1313742559,"post_id":7118208,"comment_id":8530095,"body_markdown":"@Bart: No problem - it doesn&#39;t matter :D","body":"@Bart: No problem - it doesn&#39;t matter :D"},{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":0,"creation_date":1593419534,"post_id":7118208,"comment_id":110763971,"body_markdown":"If you did want to take the question literally, then the correct answer would be to do nothing after `double[][] arr = new double[20][4];`, because in Java, newly created number arrays are already initialized with zero values. On the other hand, `Arrays.fill` uses a loop internally, so there is no way to avoid a loop for other initial values.","body":"If you did want to take the question literally, then the correct answer would be to do nothing after <code>double[][] arr = new double[20][4];</code>, because in Java, newly created number arrays are already initialized with zero values. On the other hand, <code>Arrays.fill</code> uses a loop internally, so there is no way to avoid a loop for other initial values."},{"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":1,"creation_date":1594798146,"post_id":7118208,"comment_id":111248715,"body_markdown":"@JohnMcClane *You are most troublesome for a security guard*.","body":"@JohnMcClane <i>You are most troublesome for a security guard</i>."},{"owner":{"account_id":16406315,"reputation":105,"user_id":11850787,"display_name":"gulgulu"},"score":0,"creation_date":1636607367,"post_id":7118208,"comment_id":123604072,"body_markdown":"I&#39;m just curious, if the question would have mentioned 50 rows instead of 20, would you use a loop to write this answer. You would be technically wrong in that case.","body":"I&#39;m just curious, if the question would have mentioned 50 rows instead of 20, would you use a loop to write this answer. You would be technically wrong in that case."},{"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":0,"creation_date":1636622756,"post_id":7118208,"comment_id":123608235,"body_markdown":"@gulgulu No I wouldn&#39;t have done.  I think I&#39;ve been clear that my stupid answer is structured in this way to avoid using loops.","body":"@gulgulu No I wouldn&#39;t have done.  I think I&#39;ve been clear that my stupid answer is structured in this way to avoid using loops."},{"owner":{"account_id":254381,"reputation":13701,"user_id":533738,"accept_rate":74,"display_name":"James"},"score":0,"creation_date":1649979151,"post_id":7118208,"comment_id":127016792,"body_markdown":":trollface: haha","body":":trollface: haha"}],"tags":[],"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"comment_count":11,"down_vote_count":10,"up_vote_count":103,"is_accepted":false,"score":93,"last_activity_date":1313739798,"creation_date":1313738383,"answer_id":7118208,"question_id":7118178,"body_markdown":"    double[][] arr = new double[20][4];\r\n    Arrays.fill(arr[0], 0);\r\n    Arrays.fill(arr[1], 0);\r\n    Arrays.fill(arr[2], 0);\r\n    Arrays.fill(arr[3], 0);\r\n    Arrays.fill(arr[4], 0);\r\n    Arrays.fill(arr[5], 0);\r\n    Arrays.fill(arr[6], 0);\r\n    Arrays.fill(arr[7], 0);\r\n    Arrays.fill(arr[8], 0);\r\n    Arrays.fill(arr[9], 0);\r\n    Arrays.fill(arr[10], 0);\r\n    Arrays.fill(arr[11], 0);\r\n    Arrays.fill(arr[12], 0);\r\n    Arrays.fill(arr[13], 0);\r\n    Arrays.fill(arr[14], 0);\r\n    Arrays.fill(arr[15], 0);\r\n    Arrays.fill(arr[16], 0);\r\n    Arrays.fill(arr[17], 0);\r\n    Arrays.fill(arr[18], 0);\r\n    Arrays.fill(arr[19], 0);\r\n","title":"Arrays.fill with multidimensional array in Java","body":"<pre><code>double[][] arr = new double[20][4];\nArrays.fill(arr[0], 0);\nArrays.fill(arr[1], 0);\nArrays.fill(arr[2], 0);\nArrays.fill(arr[3], 0);\nArrays.fill(arr[4], 0);\nArrays.fill(arr[5], 0);\nArrays.fill(arr[6], 0);\nArrays.fill(arr[7], 0);\nArrays.fill(arr[8], 0);\nArrays.fill(arr[9], 0);\nArrays.fill(arr[10], 0);\nArrays.fill(arr[11], 0);\nArrays.fill(arr[12], 0);\nArrays.fill(arr[13], 0);\nArrays.fill(arr[14], 0);\nArrays.fill(arr[15], 0);\nArrays.fill(arr[16], 0);\nArrays.fill(arr[17], 0);\nArrays.fill(arr[18], 0);\nArrays.fill(arr[19], 0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1313738751,"post_id":7118214,"comment_id":8529180,"body_markdown":"This suffices too `Arrays.fill(arr, 0d);` or `Arrays.fill(arr, (double)0);`","body":"This suffices too <code>Arrays.fill(arr, 0d);</code> or <code>Arrays.fill(arr, (double)0);</code>"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":4,"creation_date":1313738836,"post_id":7118214,"comment_id":8529199,"body_markdown":"I get `Exception in thread &quot;main&quot; java.lang.ArrayStoreException: java.lang.Double` unless I loop over the rows.","body":"I get <code>Exception in thread &quot;main&quot; java.lang.ArrayStoreException: java.lang.Double</code> unless I loop over the rows."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1313739337,"post_id":7118214,"comment_id":8529344,"body_markdown":"To nit-pick, Arrays.fill() tries to place a double into each *row* in the matrix.","body":"To nit-pick, Arrays.fill() tries to place a double into each <i>row</i> in the matrix."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":3,"down_vote_count":3,"up_vote_count":132,"is_accepted":false,"score":129,"last_activity_date":1313742241,"creation_date":1313738445,"answer_id":7118214,"question_id":7118178,"body_markdown":"This is because a `double[][]` is an array of `double[]` which you can&#39;t assign `0.0` to (it would be like doing `double[] vector = 0.0`). In fact, Java has no true multidimensional arrays.\r\n\r\nAs it happens, **`0.0` is the default value for doubles** in Java, thus the matrix will actually already be filled with zeros when you get it from `new`. However, if you wanted to fill it with, say, `1.0` you could do the following:\r\n\r\nI don&#39;t believe the API provides a method to solve this without using a loop. It&#39;s simple enough however to do it with a for-each loop.\r\n\r\n    double[][] matrix = new double[20][4];\r\n    \r\n    // Fill each row with 1.0\r\n    for (double[] row: matrix)\r\n        Arrays.fill(row, 1.0);\r\n        ","title":"Arrays.fill with multidimensional array in Java","body":"<p>This is because a <code>double[][]</code> is an array of <code>double[]</code> which you can't assign <code>0.0</code> to (it would be like doing <code>double[] vector = 0.0</code>). In fact, Java has no true multidimensional arrays.</p>\n\n<p>As it happens, <strong><code>0.0</code> is the default value for doubles</strong> in Java, thus the matrix will actually already be filled with zeros when you get it from <code>new</code>. However, if you wanted to fill it with, say, <code>1.0</code> you could do the following:</p>\n\n<p>I don't believe the API provides a method to solve this without using a loop. It's simple enough however to do it with a for-each loop.</p>\n\n<pre><code>double[][] matrix = new double[20][4];\n\n// Fill each row with 1.0\nfor (double[] row: matrix)\n    Arrays.fill(row, 1.0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313739084,"creation_date":1313739084,"answer_id":7118321,"question_id":7118178,"body_markdown":"&gt;how can I fill a multidimensional array in Java without using a loop?\r\n\r\nMultidimensional arrays are just arrays of arrays and `fill(...)` doesn&#39;t check the type of the array and the value you pass in (this responsibility is upon the developer). \r\n\r\nThus you can&#39;t fill a multidimensional array reasonably well without using a loop.\r\n\r\nBe aware of the fact that, unlike languages like C or C++, Java arrays are objects and in multidimensional arrays all but the last level contain references to other `Array` objects. I&#39;m not 100% sure about this, but most likely they are distributed in memory, thus you can&#39;t just fill a contiguous block without a loop, like C/C++ would allow you to do.","title":"Arrays.fill with multidimensional array in Java","body":"<blockquote>\n  <p>how can I fill a multidimensional array in Java without using a loop?</p>\n</blockquote>\n\n<p>Multidimensional arrays are just arrays of arrays and <code>fill(...)</code> doesn't check the type of the array and the value you pass in (this responsibility is upon the developer). </p>\n\n<p>Thus you can't fill a multidimensional array reasonably well without using a loop.</p>\n\n<p>Be aware of the fact that, unlike languages like C or C++, Java arrays are objects and in multidimensional arrays all but the last level contain references to other <code>Array</code> objects. I'm not 100% sure about this, but most likely they are distributed in memory, thus you can't just fill a contiguous block without a loop, like C/C++ would allow you to do.</p>\n"},{"comments":[{"owner":{"account_id":751581,"reputation":929,"user_id":901978,"display_name":"Caroline"},"score":1,"creation_date":1313855994,"post_id":7118404,"comment_id":8551072,"body_markdown":"Thanks for all your solutions!\nThe reason why I don&#39;t want to use a loop? I was looking for a simple solution for generating a n-by-n matrix of zeros like in MATLAB.","body":"Thanks for all your solutions! The reason why I don&#39;t want to use a loop? I was looking for a simple solution for generating a n-by-n matrix of zeros like in MATLAB."},{"owner":{"account_id":269319,"reputation":10479,"user_id":558592,"accept_rate":82,"display_name":"Kevin Ji"},"score":0,"creation_date":1436124517,"post_id":7118404,"comment_id":50466958,"body_markdown":"This might still cause a stack overflow, as Java has no tail recursion support, so loops definitely &gt; recursion.","body":"This might still cause a stack overflow, as Java has no tail recursion support, so loops definitely &gt; recursion."},{"owner":{"account_id":8748147,"reputation":473,"user_id":6542561,"display_name":"Bruce David Wilner"},"score":0,"creation_date":1468455965,"post_id":7118404,"comment_id":64139677,"body_markdown":"I&#39;ll tell you why it&#39;s &quot;fashionable to avoid loops.&quot;  Everyone and his brother fancies himself a Linux kernel programmer.  Look at the code, and you&#39;ll find that loops are few and far between; people have, rather, hand-coded tests and branches, and the code is riddled with gotos.  This made sense in early UNIX kernels in 1974, when it could be legitimately argued that the compiler generated suboptimal code for loops, but this HARDLY applies in 2016.  However, every also-ran thinks that this looks terribly senior, particularly if he peppers the code with inane comments and has a Dutch surname.","body":"I&#39;ll tell you why it&#39;s &quot;fashionable to avoid loops.&quot;  Everyone and his brother fancies himself a Linux kernel programmer.  Look at the code, and you&#39;ll find that loops are few and far between; people have, rather, hand-coded tests and branches, and the code is riddled with gotos.  This made sense in early UNIX kernels in 1974, when it could be legitimately argued that the compiler generated suboptimal code for loops, but this HARDLY applies in 2016.  However, every also-ran thinks that this looks terribly senior, particularly if he peppers the code with inane comments and has a Dutch surname."}],"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1313739655,"creation_date":1313739655,"answer_id":7118404,"question_id":7118178,"body_markdown":"The OP asked how to solve this problem _without a loop_!  For some reason it is fashionable these days to avoid loops.  Why is this?  Probably there is a realization that using `map`, `reduce`, `filter`, and friends, and methods like `each` hide loops and cut down on program verbage and are kind of cool.  The same goes for really sweet Unix pipelines.  Or jQuery code.  Things just look great without loops.\r\n\r\nBut does Java have a `map` method?  Not really, but we could define one with a `Function` interface with an `eval` or `exec` method.  It isn&#39;t too hard and would be a good exercise.  It might be expensive and not used in practice.\r\n\r\nAnother way to do this *without a loop* is to use tail recursion.  Yes, it is kind of silly and no one would use it in practice either, but it does show, maybe, that loops are fine in this case.  Nevertheless, just to show &quot;yet another loop free example&quot; and to have fun, here is:\r\n\r\n    import java.util.Arrays;\r\n    public class FillExample {\r\n        private static void fillRowsWithZeros(double[][] a, int rows, int cols) {\r\n            if (rows &gt;= 0) {\r\n                double[] row = new double[cols];\r\n                Arrays.fill(row, 0.0);\r\n                a[rows] = row;\r\n                fillRowsWithZeros(a, rows - 1, cols);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            double[][] arr = new double[20][4];\r\n            fillRowsWithZeros(arr, arr.length - 1, arr[0].length);\r\n            System.out.println(Arrays.deepToString(arr));\r\n        }\r\n    }\r\n\r\nIt isn&#39;t pretty, but in answer to the OP&#39;s question, there are no _explicit_ loops.\r\n\r\n\r\n","title":"Arrays.fill with multidimensional array in Java","body":"<p>The OP asked how to solve this problem <em>without a loop</em>!  For some reason it is fashionable these days to avoid loops.  Why is this?  Probably there is a realization that using <code>map</code>, <code>reduce</code>, <code>filter</code>, and friends, and methods like <code>each</code> hide loops and cut down on program verbage and are kind of cool.  The same goes for really sweet Unix pipelines.  Or jQuery code.  Things just look great without loops.</p>\n\n<p>But does Java have a <code>map</code> method?  Not really, but we could define one with a <code>Function</code> interface with an <code>eval</code> or <code>exec</code> method.  It isn't too hard and would be a good exercise.  It might be expensive and not used in practice.</p>\n\n<p>Another way to do this <em>without a loop</em> is to use tail recursion.  Yes, it is kind of silly and no one would use it in practice either, but it does show, maybe, that loops are fine in this case.  Nevertheless, just to show \"yet another loop free example\" and to have fun, here is:</p>\n\n<pre><code>import java.util.Arrays;\npublic class FillExample {\n    private static void fillRowsWithZeros(double[][] a, int rows, int cols) {\n        if (rows &gt;= 0) {\n            double[] row = new double[cols];\n            Arrays.fill(row, 0.0);\n            a[rows] = row;\n            fillRowsWithZeros(a, rows - 1, cols);\n        }\n    }\n\n    public static void main(String[] args) {\n        double[][] arr = new double[20][4];\n        fillRowsWithZeros(arr, arr.length - 1, arr[0].length);\n        System.out.println(Arrays.deepToString(arr));\n    }\n}\n</code></pre>\n\n<p>It isn't pretty, but in answer to the OP's question, there are no <em>explicit</em> loops.</p>\n"},{"tags":[],"owner":{"account_id":2699789,"reputation":509,"user_id":2499830,"display_name":"k3yz101"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1371623559,"creation_date":1371623559,"answer_id":17184344,"question_id":7118178,"body_markdown":"As an extension to the answer, I found this post but was looking to fill a 4 dimensional array.\r\nThe original example is only a two dimensional array, but the question says &quot;multidimensional&quot;. I didn&#39;t want to post a new question for this...\r\n\r\nYou can use the same method, but you have to nest them so that you eventually get to a single dimensional array.\r\n\r\n    fourDArray = new float[10][10][10][1];\r\n    // Fill each row with null\r\n    for (float[][][] row: fourDArray)\r\n    {\r\n    \tfor (float[][] innerRow: row)\r\n    \t{\r\n    \t\tfor (float[] innerInnerRow: innerRow)\r\n    \t\t{\r\n    \t\tArrays.fill(innerInnerRow, -1000);\r\n    \t\t}\r\n    \t}\r\n    };\r\n","title":"Arrays.fill with multidimensional array in Java","body":"<p>As an extension to the answer, I found this post but was looking to fill a 4 dimensional array.\nThe original example is only a two dimensional array, but the question says \"multidimensional\". I didn't want to post a new question for this...</p>\n\n<p>You can use the same method, but you have to nest them so that you eventually get to a single dimensional array.</p>\n\n<pre><code>fourDArray = new float[10][10][10][1];\n// Fill each row with null\nfor (float[][][] row: fourDArray)\n{\n    for (float[][] innerRow: row)\n    {\n        for (float[] innerInnerRow: innerRow)\n        {\n        Arrays.fill(innerInnerRow, -1000);\n        }\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":75981,"reputation":801,"user_id":217802,"accept_rate":86,"display_name":"minhle_r7"},"score":6,"creation_date":1462270330,"post_id":19199560,"comment_id":61555472,"body_markdown":"This line makes every row refer to the same memory block, i.e. changing arr[1][5] will also change arr[100][5].","body":"This line makes every row refer to the same memory block, i.e. changing arr[1][5] will also change arr[100][5]."}],"tags":[],"owner":{"account_id":1596019,"reputation":1,"user_id":1478124,"display_name":"watereater"},"comment_count":1,"down_vote_count":10,"up_vote_count":0,"is_accepted":false,"score":-10,"last_activity_date":1403661237,"creation_date":1380987939,"answer_id":19199560,"question_id":7118178,"body_markdown":"    Arrays.fill(arr, new double[4]);","title":"Arrays.fill with multidimensional array in Java","body":"<pre><code>Arrays.fill(arr, new double[4]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454150156,"creation_date":1454150156,"answer_id":35100713,"question_id":7118178,"body_markdown":"Don&#39;t we all sometimes wish there was a  \r\n`&lt;T&gt;void java.util.Arrays.deepFill(T[]â€¦multiDimensional)`. Problems start with  \r\n`Object threeByThree[][] = new Object[3][3];`  \r\n`threeByThree[1] = null;` and  \r\n`threeByThree[2][1] = new int[]{42};` being perfectly legal.  \r\n(If only `Object twoDim[]final[]` was legal and well definedâ€¦)  \r\n(Using one of the public methods from below keeps loops from the calling source code.  \r\nIf you insist on using no loops at all, substitute the loops and the call to `Arrays.fill()`(!) using recursion.)\r\n\r\n    /** Fills matrix {@code m} with {@code value}.\r\n     * @return {@code m}&#39;s dimensionality.\r\n     * @throws java.lang.ArrayStoreException if the component type\r\n     *  of a subarray of non-zero length at the bottom level\r\n     *  doesn&#39;t agree with {@code value}&#39;s type. */\r\n    public static &lt;T&gt;int deepFill(Object[] m, T value) {\r\n   \t\tClass&lt;?&gt; components; \r\n       \tif (null == m ||\r\n            null == (components = m.getClass().getComponentType()))\r\n            return 0;\r\n       \tint dim = 0;\r\n       \tdo\r\n       \t\tdim++;\r\n       \twhile (null != (components = components.getComponentType()));\r\n       \tfiller((Object[][])m, value, dim);\r\n       \treturn dim;\r\n    }\r\n    /** Fills matrix {@code m} with {@code value}.\r\n     * @throws java.lang.ArrayStoreException if the component type\r\n     *  of a subarray of non-zero length at level {@code dimensions}\r\n     *  doesn&#39;t agree with {@code value}&#39;s type. */\r\n    public static &lt;T&gt;void fill(Object[] m, T value, int dimensions) {\r\n    \tif (null != m)\r\n    \t\tfiller(m, value, dimensions);\r\n    }\r\n    \r\n    static &lt;T&gt;void filler(Object[] m, T value, int toGo) {\r\n    \tif (--toGo &lt;= 0)\r\n    \t\tjava.util.Arrays.fill(m, value);\r\n    \telse\r\n    \t\tfor (Object[] subArray : (Object[][])m)\r\n    \t\t\tif (null != subArray)\r\n    \t\t\t\tfiller(subArray, value, toGo);\r\n    }","title":"Arrays.fill with multidimensional array in Java","body":"<p>Don't we all sometimes wish there was a<br>\n<code>&lt;T&gt;void java.util.Arrays.deepFill(T[]â€¦multiDimensional)</code>. Problems start with<br>\n<code>Object threeByThree[][] = new Object[3][3];</code><br>\n<code>threeByThree[1] = null;</code> and<br>\n<code>threeByThree[2][1] = new int[]{42};</code> being perfectly legal.<br>\n(If only <code>Object twoDim[]final[]</code> was legal and well definedâ€¦)<br>\n(Using one of the public methods from below keeps loops from the calling source code.<br>\nIf you insist on using no loops at all, substitute the loops and the call to <code>Arrays.fill()</code>(!) using recursion.)</p>\n\n<pre><code>/** Fills matrix {@code m} with {@code value}.\n * @return {@code m}'s dimensionality.\n * @throws java.lang.ArrayStoreException if the component type\n *  of a subarray of non-zero length at the bottom level\n *  doesn't agree with {@code value}'s type. */\npublic static &lt;T&gt;int deepFill(Object[] m, T value) {\n    Class&lt;?&gt; components; \n    if (null == m ||\n        null == (components = m.getClass().getComponentType()))\n        return 0;\n    int dim = 0;\n    do\n        dim++;\n    while (null != (components = components.getComponentType()));\n    filler((Object[][])m, value, dim);\n    return dim;\n}\n/** Fills matrix {@code m} with {@code value}.\n * @throws java.lang.ArrayStoreException if the component type\n *  of a subarray of non-zero length at level {@code dimensions}\n *  doesn't agree with {@code value}'s type. */\npublic static &lt;T&gt;void fill(Object[] m, T value, int dimensions) {\n    if (null != m)\n        filler(m, value, dimensions);\n}\n\nstatic &lt;T&gt;void filler(Object[] m, T value, int toGo) {\n    if (--toGo &lt;= 0)\n        java.util.Arrays.fill(m, value);\n    else\n        for (Object[] subArray : (Object[][])m)\n            if (null != subArray)\n                filler(subArray, value, toGo);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1527540695,"post_id":35859915,"comment_id":88156130,"body_markdown":"This doesn&#39;t do well at all!  Just add `maze[2][2] = &#39;X&#39;;` after `fillArray(maze, fillArray(maze[0], &#39;?&#39;));` and you&#39;re in for a big surprise.  The problem is that you create only one instance of a row and you refer to it 10 times.  You discard 9 of the original 10 rows you created.","body":"This doesn&#39;t do well at all!  Just add <code>maze[2][2] = &#39;X&#39;;</code> after <code>fillArray(maze, fillArray(maze[0], &#39;?&#39;));</code> and you&#39;re in for a big surprise.  The problem is that you create only one instance of a row and you refer to it 10 times.  You discard 9 of the original 10 rows you created."},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1527542649,"post_id":35859915,"comment_id":88156672,"body_markdown":"And it doesn&#39;t work win an `int[][]` array.  It works with `Character[][]` because `Character` is an object.","body":"And it doesn&#39;t work win an <code>int[][]</code> array.  It works with <code>Character[][]</code> because <code>Character</code> is an object."}],"tags":[],"owner":{"account_id":7079337,"reputation":323,"user_id":5418289,"display_name":"Ahmed Mazher"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457416027,"creation_date":1457416027,"answer_id":35859915,"question_id":7118178,"body_markdown":"    public static Object[] fillArray(Object[] arr,Object item){\r\n        Arrays.fill(arr, item);\r\n        return arr;\r\n    }\r\n    Character[][] maze = new Character[10][10];\r\n        fillArray(maze, fillArray(maze[0], &#39;?&#39;));\r\n        \r\n        for(int i = 0;i&lt;10;i++){\r\n            System.out.println();\r\n            for(int j = 0;j&lt;10;j++){\r\n                System.out.print(maze[i][j]);\r\n            }\r\n        }\r\ni hope this do well","title":"Arrays.fill with multidimensional array in Java","body":"<pre><code>public static Object[] fillArray(Object[] arr,Object item){\n    Arrays.fill(arr, item);\n    return arr;\n}\nCharacter[][] maze = new Character[10][10];\n    fillArray(maze, fillArray(maze[0], '?'));\n\n    for(int i = 0;i&lt;10;i++){\n        System.out.println();\n        for(int j = 0;j&lt;10;j++){\n            System.out.print(maze[i][j]);\n        }\n    }\n</code></pre>\n\n<p>i hope this do well</p>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1615052038,"post_id":45686121,"comment_id":117574749,"body_markdown":"This achieves the goal but man it&#39;s not simple.  Java should have filled this gap when streams came in version 8.","body":"This achieves the goal but man it&#39;s not simple.  Java should have filled this gap when streams came in version 8."}],"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502780073,"creation_date":1502768126,"answer_id":45686121,"question_id":7118178,"body_markdown":"Using Java 8, you can declare and initialize a two-dimensional array without using a (explicit) loop as follows:\r\n\r\n    int x = 20; // first dimension\r\n    int y = 4; // second dimension\r\n\r\n    double[][] a = IntStream.range(0, x)\r\n                            .mapToObj(i -&gt; new double[y])\r\n                            .toArray(i -&gt; new double[x][]);\r\n\r\nThis will initialize the arrays with default values (`0.0` in the case of `double`).\r\n\r\nIn case you want to explicitly define the fill value to be used, You can add in a `DoubleStream`:\r\n\r\n    int x = 20; // first dimension\r\n    int y = 4; // second dimension\r\n    double v = 5.0; // fill value\r\n\r\n    double[][] a = IntStream\r\n            .range(0, x)\r\n            .mapToObj(i -&gt; DoubleStream.generate(() -&gt; v).limit(y).toArray())\r\n            .toArray(i -&gt; new double[x][]);","title":"Arrays.fill with multidimensional array in Java","body":"<p>Using Java 8, you can declare and initialize a two-dimensional array without using a (explicit) loop as follows:</p>\n\n<pre><code>int x = 20; // first dimension\nint y = 4; // second dimension\n\ndouble[][] a = IntStream.range(0, x)\n                        .mapToObj(i -&gt; new double[y])\n                        .toArray(i -&gt; new double[x][]);\n</code></pre>\n\n<p>This will initialize the arrays with default values (<code>0.0</code> in the case of <code>double</code>).</p>\n\n<p>In case you want to explicitly define the fill value to be used, You can add in a <code>DoubleStream</code>:</p>\n\n<pre><code>int x = 20; // first dimension\nint y = 4; // second dimension\ndouble v = 5.0; // fill value\n\ndouble[][] a = IntStream\n        .range(0, x)\n        .mapToObj(i -&gt; DoubleStream.generate(() -&gt; v).limit(y).toArray())\n        .toArray(i -&gt; new double[x][]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9421037,"reputation":530,"user_id":9851598,"display_name":"surendrapanday"},"score":0,"creation_date":1550784839,"post_id":52564974,"comment_id":96409358,"body_markdown":"He wants to implement that without using the Loop, and your answer uses Loop to solve the problem.","body":"He wants to implement that without using the Loop, and your answer uses Loop to solve the problem."}],"tags":[],"owner":{"account_id":13478834,"reputation":2234,"user_id":9724820,"display_name":"Sanjeev Guglani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538193550,"creation_date":1538193550,"answer_id":52564974,"question_id":7118178,"body_markdown":"**In simple words java donot provide such an API.\r\nYou need to iterate through loop and using fill method you can fill 2D array with one loop.**\r\n\r\n          int row = 5;\r\n    \t  int col = 6;\r\n    \t  int cache[][]=new int[row][col];\r\n    \t  for(int i=0;i&lt;=row;i++){\r\n    \t      Arrays.fill(cache[i]);\r\n    \t  }","title":"Arrays.fill with multidimensional array in Java","body":"<p><strong>In simple words java donot provide such an API.\nYou need to iterate through loop and using fill method you can fill 2D array with one loop.</strong></p>\n\n<pre><code>      int row = 5;\n      int col = 6;\n      int cache[][]=new int[row][col];\n      for(int i=0;i&lt;=row;i++){\n          Arrays.fill(cache[i]);\n      }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3354060,"reputation":5435,"user_id":2817457,"accept_rate":50,"display_name":"Jianwu Chen"},"score":2,"creation_date":1564500268,"post_id":53973186,"comment_id":101048130,"body_markdown":"I feel this is no better than a for loop from readability point of view.","body":"I feel this is no better than a for loop from readability point of view."},{"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"score":6,"creation_date":1589374400,"post_id":53973186,"comment_id":109267658,"body_markdown":"@JianwuChen the OP asked to fill the array without a loop","body":"@JianwuChen the OP asked to fill the array without a loop"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1615052824,"post_id":53973186,"comment_id":117574968,"body_markdown":"@JianwuChen Actually readability depends somewhat on background: coming from scala this feels natural.","body":"@JianwuChen Actually readability depends somewhat on background: coming from scala this feels natural."}],"tags":[],"owner":{"account_id":2479594,"reputation":707,"user_id":2159344,"display_name":"Bipool"},"comment_count":3,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1647310115,"creation_date":1546116015,"answer_id":53973186,"question_id":7118178,"body_markdown":"As Per Java 8, we can use this way. \r\n\r\n```java\r\ndouble[][] arr = new double[20][4];\r\nArrays.stream(arr).forEach(a -&gt; Arrays.fill(a, 0));\r\n```\r\n\r\nWe can initialize a value in multidimensional array in a nicer and smart way. ","title":"Arrays.fill with multidimensional array in Java","body":"<p>As Per Java 8, we can use this way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[][] arr = new double[20][4];\nArrays.stream(arr).forEach(a -&gt; Arrays.fill(a, 0));\n</code></pre>\n<p>We can initialize a value in multidimensional array in a nicer and smart way.</p>\n"},{"tags":[],"owner":{"account_id":17015507,"reputation":258,"user_id":12309508,"display_name":"PHPoenX"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591858758,"creation_date":1581793926,"answer_id":60242227,"question_id":7118178,"body_markdown":"Arrays.fill works only with one-dimensional array\r\n\r\nSource of java.util.Arrays:\r\n```\r\npublic static void fill(Object[] a, Object val) {\r\n        int i = 0;\r\n\r\n        for(int len = a.length; i &lt; len; ++i) {\r\n            a[i] = val;\r\n        }\r\n```\r\nUse own loops for initialization array","title":"Arrays.fill with multidimensional array in Java","body":"<p>Arrays.fill works only with one-dimensional array</p>\n\n<p>Source of java.util.Arrays:</p>\n\n<pre><code>public static void fill(Object[] a, Object val) {\n        int i = 0;\n\n        for(int len = a.length; i &lt; len; ++i) {\n            a[i] = val;\n        }\n</code></pre>\n\n<p>Use own loops for initialization array</p>\n"},{"tags":[],"owner":{"account_id":6840936,"reputation":619,"user_id":5261352,"display_name":"Ashish Bhosle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584627616,"creation_date":1584627616,"answer_id":60759068,"question_id":7118178,"body_markdown":"Arrays.fill works with single dimensional array, so to fill two dimensional array we can do below\r\n\r\n    for (int i = 0, len = arr.length; i &lt; len; i++)\r\n    \tArrays.fill(arr[i], 0);","title":"Arrays.fill with multidimensional array in Java","body":"<p>Arrays.fill works with single dimensional array, so to fill two dimensional array we can do below</p>\n\n<pre><code>for (int i = 0, len = arr.length; i &lt; len; i++)\n    Arrays.fill(arr[i], 0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5589309,"reputation":2044,"user_id":4429015,"display_name":"B001á›¦"},"score":3,"creation_date":1624112777,"post_id":68047100,"comment_id":120271936,"body_markdown":"You should at least add some explanation to your answer.","body":"You should at least add some explanation to your answer."}],"tags":[],"owner":{"account_id":19963901,"reputation":1,"user_id":14630887,"display_name":"Vineeth Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626364609,"creation_date":1624108256,"answer_id":68047100,"question_id":7118178,"body_markdown":"Recursive Solution\r\n-------   \r\n A simple Recursive Solution to fill every row of a 2d array with any given value.\r\n\r\n\r\n    double[][] arr = new double[20][4];\r\n    int n=arr.length;\r\n    fillArrRecursively(arr, n-1, 10); //Recursion call\r\n\r\n\r\n\r\n   \r\n\r\n\r\n----------\r\n\r\n\r\n \r\n\r\n    //Recursive method to fill every row of &#39;arr&#39; with the passed variable &#39;val&#39;\r\n\r\n\tpublic static int fillArrRecursively(double arr[][], int n, int val){\r\n\t    if(n&lt;0) return 1;\r\n\t    Arrays.fill(arr[n], val);\r\n\t    return fillArrRecursively(arr, n-1, val);\r\n\t}\r\n\r\n","title":"Arrays.fill with multidimensional array in Java","body":"<h2 id=\"recursive-solution\">Recursive Solution</h2>\n<p>A simple Recursive Solution to fill every row of a 2d array with any given value.</p>\n<pre><code>double[][] arr = new double[20][4];\nint n=arr.length;\nfillArrRecursively(arr, n-1, 10); //Recursion call\n</code></pre>\n<hr />\n<pre><code>//Recursive method to fill every row of 'arr' with the passed variable 'val'\n\npublic static int fillArrRecursively(double arr[][], int n, int val){\n    if(n&lt;0) return 1;\n    Arrays.fill(arr[n], val);\n    return fillArrRecursively(arr, n-1, val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23563494,"reputation":1,"user_id":17604557,"display_name":"R..V"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676006781,"creation_date":1676006781,"answer_id":75407273,"question_id":7118178,"body_markdown":"         int dis[][]=new int[n][n];\r\n         for(int x[]:dis)\r\n            Arrays.fill(x,-1);\r\n         ","title":"Arrays.fill with multidimensional array in Java","body":"<pre><code>     int dis[][]=new int[n][n];\n     for(int x[]:dis)\n        Arrays.fill(x,-1);\n     \n</code></pre>\n"}],"owner":{"account_id":751581,"reputation":929,"user_id":901978,"display_name":"Caroline"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223778,"favorite_count":0,"down_vote_count":1,"up_vote_count":93,"answer_count":15,"score":92,"last_activity_date":1676006781,"creation_date":1313738189,"question_id":7118178,"body_markdown":"How can I fill a multidimensional array in Java without using a loop? I&#39;ve tried:\r\n\r\n    double[][] arr = new double[20][4];\r\n    Arrays.fill(arr, 0);\r\n\r\nThis results in `java.lang.ArrayStoreException: java.lang.Double`","title":"Arrays.fill with multidimensional array in Java","body":"<p>How can I fill a multidimensional array in Java without using a loop? I've tried:</p>\n\n<pre><code>double[][] arr = new double[20][4];\nArrays.fill(arr, 0);\n</code></pre>\n\n<p>This results in <code>java.lang.ArrayStoreException: java.lang.Double</code></p>\n"},{"tags":["java","spring","rest","server","cloud"],"comments":[{"owner":{"account_id":15195949,"reputation":406,"user_id":11282562,"display_name":"Saarthak Gupta"},"score":0,"creation_date":1675911846,"post_id":75393705,"comment_id":133031414,"body_markdown":"I tried your web app. Something looks buggy in the way you have routed your login page. I believe the issue is present in the login page only. Can you please post the code snippet of how you are routing to the pages?","body":"I tried your web app. Something looks buggy in the way you have routed your login page. I believe the issue is present in the login page only. Can you please post the code snippet of how you are routing to the pages?"},{"owner":{"account_id":26079322,"reputation":23,"user_id":19777784,"display_name":"Jay Wu"},"score":0,"creation_date":1675912710,"post_id":75393705,"comment_id":133031525,"body_markdown":"@SaarthakGupta this happens to all the actions that I do in my App actually. I just added the routing codes","body":"@SaarthakGupta this happens to all the actions that I do in my App actually. I just added the routing codes"}],"answers":[{"comments":[{"owner":{"account_id":15195949,"reputation":406,"user_id":11282562,"display_name":"Saarthak Gupta"},"score":1,"creation_date":1676019865,"post_id":75407152,"comment_id":133056773,"body_markdown":"I just checked the hosting service you are using i.e. render. Did you try this out? https://render.com/docs/deploy-vue-js#using-client-side-routing","body":"I just checked the hosting service you are using i.e. render. Did you try this out? <a href=\"https://render.com/docs/deploy-vue-js#using-client-side-routing\" rel=\"nofollow noreferrer\">render.com/docs/deploy-vue-js#using-client-side-routing</a>"},{"owner":{"account_id":26079322,"reputation":23,"user_id":19777784,"display_name":"Jay Wu"},"score":0,"creation_date":1676084070,"post_id":75407152,"comment_id":133072178,"body_markdown":"No, but I just tried it and the site is working perfectly now!! thank you so much!","body":"No, but I just tried it and the site is working perfectly now!! thank you so much!"}],"tags":[],"owner":{"account_id":15195949,"reputation":406,"user_id":11282562,"display_name":"Saarthak Gupta"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676006145,"creation_date":1676005400,"answer_id":75407152,"question_id":75393705,"body_markdown":"I believe this is due to the configuration of the front-end server (nginx or Apache etc...) on which you have deployed your Vue app. That&#39;s the reason, it is working on your local &amp; not working when you deploy it.\r\nYou might need to configure your frontend deployed server configuration.\r\n\r\nPlease check this link out: https://stackoverflow.com/questions/36399319/vue-router-return-404-when-revisit-to-the-url\r\n\r\nI can help you out more if you provide me with your deployed frontend server details.","title":"My Web App on Render keep showing Not Found after performing &quot;GET&quot;","body":"<p>I believe this is due to the configuration of the front-end server (nginx or Apache etc...) on which you have deployed your Vue app. That's the reason, it is working on your local &amp; not working when you deploy it.\nYou might need to configure your frontend deployed server configuration.</p>\n<p>Please check this link out: <a href=\"https://stackoverflow.com/questions/36399319/vue-router-return-404-when-revisit-to-the-url\">Vue Router return 404 when revisit to the url</a></p>\n<p>I can help you out more if you provide me with your deployed frontend server details.</p>\n"}],"owner":{"account_id":26079322,"reputation":23,"user_id":19777784,"display_name":"Jay Wu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75407152,"answer_count":1,"score":2,"last_activity_date":1676006145,"creation_date":1675910988,"question_id":75393705,"body_markdown":"So I have finally deployed my full stack Java Spring Boot app (my backend server) and frontend on Render, with database runing on Railway.\r\n\r\nHere is the link:\r\nhttps://shoppinglistapp-k7td.onrender.com/\r\n\r\nMy problem is the app runs fine on my local machine but after delpoyed, almost all the buttons that I clinck lead to a &quot;Not Found&quot; page. I have to go back, refresh, click the button again to see the content. \r\n\r\nFor example, after logging in, if you click logout, it should take you back to the login page but instead, it takes you to a &quot;Not Found&quot; page. You have to go back and refresh, otherwise the login page wont load.\r\n\r\n\r\nI am only a recent graduate and I would love to get some help.\r\n \r\n\r\nI have tried upgrading my free Render webservice to a paid plan as I thought it was because the server was responding too slow, but the problem remains. \r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    const router = new Router({\r\n      mode: &#39;history&#39;,\r\n      base: process.env.BASE_URL,\r\n      routes: [\r\n      {\r\n          path: &#39;/&#39;,\r\n          name: &#39;home&#39;,\r\n          component: Home,\r\n          meta: {\r\n            requiresAuth: true\r\n          }\r\n        },\r\n        {\r\n          path: &quot;/login&quot;,\r\n          name: &quot;login&quot;,\r\n          component: Login,\r\n          meta: {\r\n            requiresAuth: false\r\n          }\r\n        },\r\n        {\r\n          path: &quot;/logout&quot;,\r\n          name: &quot;logout&quot;,\r\n          component: Logout,\r\n          meta: {\r\n            requiresAuth: false\r\n          }\r\n        }\r\n     ]\r\n    })\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"My Web App on Render keep showing Not Found after performing &quot;GET&quot;","body":"<p>So I have finally deployed my full stack Java Spring Boot app (my backend server) and frontend on Render, with database runing on Railway.</p>\n<p>Here is the link:\n<a href=\"https://shoppinglistapp-k7td.onrender.com/\" rel=\"nofollow noreferrer\">https://shoppinglistapp-k7td.onrender.com/</a></p>\n<p>My problem is the app runs fine on my local machine but after delpoyed, almost all the buttons that I clinck lead to a &quot;Not Found&quot; page. I have to go back, refresh, click the button again to see the content.</p>\n<p>For example, after logging in, if you click logout, it should take you back to the login page but instead, it takes you to a &quot;Not Found&quot; page. You have to go back and refresh, otherwise the login page wont load.</p>\n<p>I am only a recent graduate and I would love to get some help.</p>\n<p>I have tried upgrading my free Render webservice to a paid plan as I thought it was because the server was responding too slow, but the problem remains.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n  {\n      path: '/',\n      name: 'home',\n      component: Home,\n      meta: {\n        requiresAuth: true\n      }\n    },\n    {\n      path: \"/login\",\n      name: \"login\",\n      component: Login,\n      meta: {\n        requiresAuth: false\n      }\n    },\n    {\n      path: \"/logout\",\n      name: \"logout\",\n      component: Logout,\n      meta: {\n        requiresAuth: false\n      }\n    }\n ]\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","android-fragments","fragment","swiperefreshlayout"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1676005875,"post_id":75407072,"comment_id":133054074,"body_markdown":"You should refresh your data only . You don&#39;t remove and add same fragment again.  Move all data loading call inside a method and call that method on refresh .","body":"You should refresh your data only . You don&#39;t remove and add same fragment again.  Move all data loading call inside a method and call that method on refresh ."},{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1676006431,"post_id":75407072,"comment_id":133054138,"body_markdown":"@ADM This method was one of the accepted answer for similar question like this... that&#39;s why I tried it and I need to refresh entire fragment not just the data.That&#39;s my task","body":"@ADM This method was one of the accepted answer for similar question like this... that&#39;s why I tried it and I need to refresh entire fragment not just the data.That&#39;s my task"}],"answers":[{"comments":[{"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"score":0,"creation_date":1676006180,"post_id":75407193,"comment_id":133054106,"body_markdown":"dependency is included... it doesn&#39;t matter when to start the swipe layout unless the widget that has to be refreshed is outside the layout...","body":"dependency is included... it doesn&#39;t matter when to start the swipe layout unless the widget that has to be refreshed is outside the layout..."}],"tags":[],"owner":{"account_id":27441711,"reputation":1,"user_id":20936463,"display_name":"Harshal Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676005817,"creation_date":1676005817,"answer_id":75407193,"question_id":75407072,"body_markdown":"first check that you have added dependencies in build.gradle file\r\ni.e implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\r\n\r\nSecondly swipe to refresh layout tag should start from start instead of fragment\r\nfor eg :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     android:id=&quot;@+id/swipe&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     android:background=&quot;@drawable/gradient_drawable&quot;\r\n     android:padding=&quot;10dp&quot;\r\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n     tools:context=&quot;.Fragment_1&quot;&gt;\r\n   \r\n     &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progress&quot;\r\n            android:layout_width=&quot;76dp&quot;\r\n            android:layout_height=&quot;64dp&quot;\r\n            android:elevation=&quot;10dp&quot;\r\n            android:foregroundGravity=&quot;center&quot;\r\n            android:indeterminateTint=&quot;@color/black&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.84&quot; /&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/listview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:padding=&quot;5dp&quot;/&gt;\r\n      &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;    \r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\nthird then write swipeRefreshLayout.setOnRefreshListener code in java file\r\n\r\n","title":"How to Refresh Fragments with swipe to refresh widget?","body":"<p>first check that you have added dependencies in build.gradle file\ni.e implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;</p>\n<p>Secondly swipe to refresh layout tag should start from start instead of fragment\nfor eg :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout \n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n android:id=&quot;@+id/swipe&quot;\n android:layout_width=&quot;match_parent&quot;\n android:layout_height=&quot;match_parent&quot;\n android:background=&quot;@drawable/gradient_drawable&quot;\n android:padding=&quot;10dp&quot;\n xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n tools:context=&quot;.Fragment_1&quot;&gt;\n\n &lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progress&quot;\n        android:layout_width=&quot;76dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:elevation=&quot;10dp&quot;\n        android:foregroundGravity=&quot;center&quot;\n        android:indeterminateTint=&quot;@color/black&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.84&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/listview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:padding=&quot;5dp&quot;/&gt;\n  &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;    \n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n<p>third then write swipeRefreshLayout.setOnRefreshListener code in java file</p>\n"}],"owner":{"account_id":27326609,"reputation":15,"user_id":20839486,"display_name":"Shakthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676005817,"creation_date":1676004559,"question_id":75407072,"body_markdown":"I wanted to refresh my fragment with SwipeToRefresh widget.\r\n\r\nThis is my **XML Code**\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/gradient_drawable&quot;\r\n    android:padding=&quot;10dp&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.Fragment_1&quot;&gt;\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:id=&quot;@+id/swipe&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n   \r\n     &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progress&quot;\r\n            android:layout_width=&quot;76dp&quot;\r\n            android:layout_height=&quot;64dp&quot;\r\n            android:elevation=&quot;10dp&quot;\r\n            android:foregroundGravity=&quot;center&quot;\r\n            android:indeterminateTint=&quot;@color/black&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.84&quot; /&gt;\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/listview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:padding=&quot;5dp&quot;/&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n``` \r\nand this is my **JAVA code**\r\n\r\n```\r\n @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        View view=inflater.inflate(R.layout.fragment_1, container, false);\r\n\r\n        newconfig= getResources().getConfiguration();\r\n        db=new DBHandler(getActivity());\r\n        swipeRefreshLayout=view.findViewById(R.id.swipe);\r\n        recyclerView=view.findViewById(R.id.listview);\r\n        progressBar=view.findViewById(R.id.progress);\r\n        if(book.size()==0) {\r\n            book = db.readCourses();\r\n        }\r\n        progressBar.setVisibility(View.GONE);\r\n        BookFragAdapter adapter = new BookFragAdapter(Fragment_land1.this,book);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity(),RecyclerView.VERTICAL,false));\r\n        recyclerView.setAdapter(adapter);\r\n        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n               this.onRefresh();\r\n                getFragmentManager().beginTransaction().detach(Fragment_land1.this).attach(Fragment_land1.this).commit();\r\n                swipeRefreshLayout.setRefreshing(false);\r\n            }\r\n        });\r\n\r\n\r\n        return view;\r\n    }\r\n```\r\nWhen I try to refresh it doesn&#39;t refresh and the widget doesn&#39;t stops after 250ms. I assume that the code inside **onRefreshListener** is not actually executing therefore the next line is ignored. I don&#39;t know how change it with. I surfed in **Stackoverflow** and **Developer.android** none of the answers solved my problem. Can anyone help me? ","title":"How to Refresh Fragments with swipe to refresh widget?","body":"<p>I wanted to refresh my fragment with SwipeToRefresh widget.</p>\n<p>This is my <strong>XML Code</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/gradient_drawable&quot;\n    android:padding=&quot;10dp&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.Fragment_1&quot;&gt;\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n        android:id=&quot;@+id/swipe&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n   \n     &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;ProgressBar\n            android:id=&quot;@+id/progress&quot;\n            android:layout_width=&quot;76dp&quot;\n            android:layout_height=&quot;64dp&quot;\n            android:elevation=&quot;10dp&quot;\n            android:foregroundGravity=&quot;center&quot;\n            android:indeterminateTint=&quot;@color/black&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.84&quot; /&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/listview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:padding=&quot;5dp&quot;/&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>and this is my <strong>JAVA code</strong></p>\n<pre><code> @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        View view=inflater.inflate(R.layout.fragment_1, container, false);\n\n        newconfig= getResources().getConfiguration();\n        db=new DBHandler(getActivity());\n        swipeRefreshLayout=view.findViewById(R.id.swipe);\n        recyclerView=view.findViewById(R.id.listview);\n        progressBar=view.findViewById(R.id.progress);\n        if(book.size()==0) {\n            book = db.readCourses();\n        }\n        progressBar.setVisibility(View.GONE);\n        BookFragAdapter adapter = new BookFragAdapter(Fragment_land1.this,book);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity(),RecyclerView.VERTICAL,false));\n        recyclerView.setAdapter(adapter);\n        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n               this.onRefresh();\n                getFragmentManager().beginTransaction().detach(Fragment_land1.this).attach(Fragment_land1.this).commit();\n                swipeRefreshLayout.setRefreshing(false);\n            }\n        });\n\n\n        return view;\n    }\n</code></pre>\n<p>When I try to refresh it doesn't refresh and the widget doesn't stops after 250ms. I assume that the code inside <strong>onRefreshListener</strong> is not actually executing therefore the next line is ignored. I don't know how change it with. I surfed in <strong>Stackoverflow</strong> and <strong>Developer.android</strong> none of the answers solved my problem. Can anyone help me?</p>\n"},{"tags":["java","postgresql","jdbc","rowmapper"],"comments":[{"owner":{"account_id":2195832,"reputation":4154,"user_id":1941545,"accept_rate":83,"display_name":"Refugnic Eternium"},"score":0,"creation_date":1675837318,"post_id":75381996,"comment_id":133011676,"body_markdown":"I am not an expert, but to my understanding you get the data from the database as string. As such, you could run your serialized list through a parser (something as simple as &#39;split&#39; might already do and you&#39;ll get your list back.","body":"I am not an expert, but to my understanding you get the data from the database as string. As such, you could run your serialized list through a parser (something as simple as &#39;split&#39; might already do and you&#39;ll get your list back."}],"answers":[{"comments":[{"owner":{"account_id":27610560,"reputation":3,"user_id":21073780,"display_name":"Vasek"},"score":0,"creation_date":1675862747,"post_id":75382304,"comment_id":133018694,"body_markdown":"Thanks for comment. Not sure, I have compilation error. &quot;Required type List, provided Object&quot;","body":"Thanks for comment. Not sure, I have compilation error. &quot;Required type List, provided Object&quot;"}],"tags":[],"owner":{"account_id":26534196,"reputation":36,"user_id":20165976,"display_name":"Manali Lakhani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676005455,"creation_date":1675839417,"answer_id":75382304,"question_id":75381996,"body_markdown":"I have tried it and working fine. You can try the below code what I have understand from your description.\r\n\r\n\tString firstName = rs.getString(&quot;name&quot;);\r\n\tString lastName =  rs.getString(&quot;lastName&quot;);\r\n\tList&lt;String&gt; list  =  rs.getObject(&quot;habits&quot;);\r\n\r\nif you get compilation error, it will work definitly\r\n\r\nList&lt;String&gt; stringList = new ArrayList&lt;String&gt;;\r\nList&lt;Object&gt; objectList = stringList;// this does compile only if List&lt;String&gt; where subtypes of List&lt;Object&gt;\r\nobjectList.add(new Object());\r\nString s = stringList.get(0);\r\n\r\nit should work. \r\nLet me know if you facing still issue","title":"Create ArrayList from Postgresql query","body":"<p>I have tried it and working fine. You can try the below code what I have understand from your description.</p>\n<pre><code>String firstName = rs.getString(&quot;name&quot;);\nString lastName =  rs.getString(&quot;lastName&quot;);\nList&lt;String&gt; list  =  rs.getObject(&quot;habits&quot;);\n</code></pre>\n<p>if you get compilation error, it will work definitly</p>\n<p>List stringList = new ArrayList;\nList objectList = stringList;// this does compile only if List where subtypes of List\nobjectList.add(new Object());\nString s = stringList.get(0);</p>\n<p>it should work.\nLet me know if you facing still issue</p>\n"},{"tags":[],"owner":{"account_id":27610560,"reputation":3,"user_id":21073780,"display_name":"Vasek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675950193,"creation_date":1675950193,"answer_id":75399477,"question_id":75381996,"body_markdown":"Found an answer\r\n\r\n\r\nThe code below is working fine\r\n\r\n\r\n```\r\nString[] habits;\r\n        try {\r\n            habits = objectMapper.readValue(rs.getString(&quot;habits&quot;), String[].class);\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        List&lt;String&gt; habitsList = Arrays.stream(habits).toList();\r\n```","title":"Create ArrayList from Postgresql query","body":"<p>Found an answer</p>\n<p>The code below is working fine</p>\n<pre><code>String[] habits;\n        try {\n            habits = objectMapper.readValue(rs.getString(&quot;habits&quot;), String[].class);\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n        List&lt;String&gt; habitsList = Arrays.stream(habits).toList();\n</code></pre>\n"}],"owner":{"account_id":27610560,"reputation":3,"user_id":21073780,"display_name":"Vasek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676005455,"creation_date":1675837085,"question_id":75381996,"body_markdown":"I have following class:\r\n\r\n```\r\npublic class Person {\r\n\r\n private String firstName;\r\n private String lastName;\r\n private List&lt;String&gt; habits;\r\n}\r\n```\r\n\r\nI have Postgres query which returns me following result using inner join from 2 tables\r\n\r\n```\r\nname | lastname|      habits\r\n--------------------------------------      \r\nJohn | Smith   | [&quot;walking&quot;, &quot;eating&quot;]\r\n\r\n```\r\n\r\n\r\n\r\nI am trying to write RowMapper as following:\r\n\r\n```\r\nprivate final RowMapper&lt;Person&gt; rowMapper = (rs, rowNum) -&gt; {\r\n\r\n String firstName = rs.getString(&quot;name&quot;);\r\n String lastName =  rs.getString(&quot;lastName&quot;);\r\n}\r\n\r\n```\r\n\r\nI am not sure how to create List&lt;String&gt; habits from &quot;habits column in my result table&quot;\r\n\r\nPlease advise\r\n\r\nThanks","title":"Create ArrayList from Postgresql query","body":"<p>I have following class:</p>\n<pre><code>public class Person {\n\n private String firstName;\n private String lastName;\n private List&lt;String&gt; habits;\n}\n</code></pre>\n<p>I have Postgres query which returns me following result using inner join from 2 tables</p>\n<pre><code>name | lastname|      habits\n--------------------------------------      \nJohn | Smith   | [&quot;walking&quot;, &quot;eating&quot;]\n\n</code></pre>\n<p>I am trying to write RowMapper as following:</p>\n<pre><code>private final RowMapper&lt;Person&gt; rowMapper = (rs, rowNum) -&gt; {\n\n String firstName = rs.getString(&quot;name&quot;);\n String lastName =  rs.getString(&quot;lastName&quot;);\n}\n\n</code></pre>\n<p>I am not sure how to create List habits from &quot;habits column in my result table&quot;</p>\n<p>Please advise</p>\n<p>Thanks</p>\n"},{"tags":["java","android","eclipse","user-interface","wizard"],"comments":[{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":1,"creation_date":1360425814,"post_id":14789905,"comment_id":20710204,"body_markdown":"most of these implement some kind of viewpager as in this article : http://developer.android.com/training/animation/screen-slide.html","body":"most of these implement some kind of viewpager as in this article : <a href=\"http://developer.android.com/training/animation/screen-slide.html\" rel=\"nofollow noreferrer\">developer.android.com/training/animation/screen-slide.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":2081438,"reputation":67,"user_id":1853344,"display_name":"AhmedRed"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1360426155,"creation_date":1360426155,"answer_id":14789964,"question_id":14789905,"body_markdown":"The best way to do this is using Shared Preferences in android. \r\nhttp://developer.android.com/reference/android/content/SharedPreferences.html\r\nYou just need to check if the value is not already set then show your setup wizard else proceed straight to the application. \r\n\r\nYou can also show the wizard in dialog box or the other way is just develop a separate activity along with UI.","title":"Creating setup wizard on Android","body":"<p>The best way to do this is using Shared Preferences in android. \n<a href=\"http://developer.android.com/reference/android/content/SharedPreferences.html\" rel=\"nofollow\">http://developer.android.com/reference/android/content/SharedPreferences.html</a>\nYou just need to check if the value is not already set then show your setup wizard else proceed straight to the application. </p>\n\n<p>You can also show the wizard in dialog box or the other way is just develop a separate activity along with UI.</p>\n"},{"comments":[{"owner":{"account_id":927563,"reputation":3050,"user_id":958025,"accept_rate":86,"display_name":"Nimrod Dayan"},"score":0,"creation_date":1379233863,"post_id":14789972,"comment_id":27742694,"body_markdown":"I think Roman Nurik example is too complex. There is a library that enables you to create wizard functionality very easy, check out [WizarDroid](http://wizardroid.codepond.org). It&#39;s well documented and on constant development.","body":"I think Roman Nurik example is too complex. There is a library that enables you to create wizard functionality very easy, check out <a href=\"http://wizardroid.codepond.org\" rel=\"nofollow noreferrer\">WizarDroid</a>. It&#39;s well documented and on constant development."}],"tags":[],"owner":{"account_id":1070763,"reputation":16795,"user_id":1070117,"accept_rate":86,"display_name":"Leandros"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1384178740,"creation_date":1360426223,"answer_id":14789972,"question_id":14789905,"body_markdown":"Creating a wizard is explained here, also: https://plus.google.com/113735310430199015092/posts/6cVymZvn3f4\r\n\r\nYou can get the code here:\r\nhttps://github.com/romannurik/android-wizardpager","title":"Creating setup wizard on Android","body":"<p>Creating a wizard is explained here, also: <a href=\"https://plus.google.com/113735310430199015092/posts/6cVymZvn3f4\" rel=\"noreferrer\">https://plus.google.com/113735310430199015092/posts/6cVymZvn3f4</a></p>\n\n<p>You can get the code here:\n<a href=\"https://github.com/romannurik/android-wizardpager\" rel=\"noreferrer\">https://github.com/romannurik/android-wizardpager</a></p>\n"}],"owner":{"account_id":1336768,"reputation":4924,"user_id":1279334,"accept_rate":59,"display_name":"MikkoP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15950,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1676005410,"creation_date":1360425752,"question_id":14789905,"body_markdown":"In my application I need to ask the user some information in the beginning. Like Google asks users when they first launch the phone. \r\n\r\nUsing Java and Android, how do I make the same kind of setup wizard for my application? I could create multiple activities and when moving to the next page in the wizard I&#39;d launch that. That doesn&#39;t seem a good way to do it. \r\n\r\nI&#39;d like to use Eclipse&#39;s GUI builder to design it.","title":"Creating setup wizard on Android","body":"<p>In my application I need to ask the user some information in the beginning. Like Google asks users when they first launch the phone. </p>\n\n<p>Using Java and Android, how do I make the same kind of setup wizard for my application? I could create multiple activities and when moving to the next page in the wizard I'd launch that. That doesn't seem a good way to do it. </p>\n\n<p>I'd like to use Eclipse's GUI builder to design it.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":0,"creation_date":1676002252,"post_id":75406826,"comment_id":133053592,"body_markdown":"I think you should refer [this](https://firebase.google.com/docs/database/android/read-and-write) document before asking the question.","body":"I think you should refer <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">this</a> document before asking the question."}],"answers":[{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676005142,"creation_date":1676005142,"answer_id":75407131,"question_id":75406826,"body_markdown":"For Continuously observe data firebase is refer to use **addValueEventListener()**\r\n\r\n        ValueEventListener postListener = new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(DataSnapshot dataSnapshot) {\r\n            // Get Post object and use the values to update the UI\r\n            Post post = dataSnapshot.getValue(Post.class);\r\n            // ..\r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(DatabaseError databaseError) {\r\n            // Getting Post failed, log a message\r\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\r\n        }\r\n    };\r\n    mPostReference.addValueEventListener(postListener);\r\n\r\n[Documentation Reference][1] also There are many video tutorial available on youtube \r\n\r\n\r\n  [1]: https://firebase.google.com/docs/database/android/read-and-write#java_4","title":"Accessing real-time firebase database in Android Studio","body":"<p>For Continuously observe data firebase is refer to use <strong>addValueEventListener()</strong></p>\n<pre><code>    ValueEventListener postListener = new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        // Get Post object and use the values to update the UI\n        Post post = dataSnapshot.getValue(Post.class);\n        // ..\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        // Getting Post failed, log a message\n        Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\n    }\n};\nmPostReference.addValueEventListener(postListener);\n</code></pre>\n<p><a href=\"https://firebase.google.com/docs/database/android/read-and-write#java_4\" rel=\"nofollow noreferrer\">Documentation Reference</a> also There are many video tutorial available on youtube</p>\n"}],"owner":{"account_id":27749915,"reputation":1,"user_id":21184520,"display_name":"Muhammad Jawad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676005142,"creation_date":1676001814,"question_id":75406826,"body_markdown":"I am currently working on a project where we have to access the real-time firebase database data in Android Studio. The data stored in the real-time d[enter image description here](https://i.stack.imgur.com/Rzycu.jpg)atabase is in this Format.\r\n\r\nHow do we access this data in Android Studio Continuously?","title":"Accessing real-time firebase database in Android Studio","body":"<p>I am currently working on a project where we have to access the real-time firebase database data in Android Studio. The data stored in the real-time d<a href=\"https://i.stack.imgur.com/Rzycu.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>atabase is in this Format.</p>\n<p>How do we access this data in Android Studio Continuously?</p>\n"},{"tags":["java","spring-boot","kubernetes","spring-cloud","spring-cloud-kubernetes"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1676700332,"post_id":75407008,"comment_id":133194577,"body_markdown":"can you try our latest `3.x.x` dependencies in spring-cloud-kubernetes please?","body":"can you try our latest <code>3.x.x</code> dependencies in spring-cloud-kubernetes please?"},{"owner":{"account_id":8306240,"reputation":462,"user_id":6243160,"accept_rate":29,"display_name":"Columb1a"},"score":0,"creation_date":1678199260,"post_id":75407008,"comment_id":133484169,"body_markdown":"Did you mean to start using Spring Boot 3.x.x dependencies? That won&#39;t be possible as that deserves first a proper migration of dependencies. Also, if that is what you meant, why to do so? I don&#39;t see any reason as that is not part of the instructions in the documentation to try to reload the configmap.","body":"Did you mean to start using Spring Boot 3.x.x dependencies? That won&#39;t be possible as that deserves first a proper migration of dependencies. Also, if that is what you meant, why to do so? I don&#39;t see any reason as that is not part of the instructions in the documentation to try to reload the configmap."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1678199788,"post_id":75407008,"comment_id":133484353,"body_markdown":"I only recently (1.5 years) been working in the `3.x.x` branches (as a spring-cloud-kubernetes contributor) that is why I was suggesting to try that. But if that is not an option, you can go to the github repo and open a defect. But without a minimal, reproducible example that we can see this in action, the chances of helping you are rather slim.","body":"I only recently (1.5 years) been working in the <code>3.x.x</code> branches (as a spring-cloud-kubernetes contributor) that is why I was suggesting to try that. But if that is not an option, you can go to the github repo and open a defect. But without a minimal, reproducible example that we can see this in action, the chances of helping you are rather slim."}],"owner":{"account_id":8306240,"reputation":462,"user_id":6243160,"accept_rate":29,"display_name":"Columb1a"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676005064,"creation_date":1676003879,"question_id":75407008,"body_markdown":"I have a spring boot (2.7.0) with spring-cloud-depependencies (2021.0.3) under GKE, where since I noticed Kubernetes api client is failing to connect but just few milliseconds later succeeding (And I can&#39;t figure out the reason why yet, although one detail is GKE cluster was upgraded, but that is another story), I rather on the meantime to fail fast the spring boot application and try to wait till the configmap is ready to be read.\r\n\r\nIn order to do so, I configured my bootstrap as follows:\r\n\r\n``` spring:\r\n  profiles: some-profile\r\n  cloud:\r\n    kubernetes:\r\n      config:\r\n        retry:\r\n          initial-interval: 1000\r\n          max-attempts: 6\r\n          max-interval: 2000\r\n          multiplier: 1.1\r\n        fail-fast: true\r\n        enabled: true\r\n        enableApi: true\r\n        namespace: some-namespace\r\n        name: someConfigmapName\r\n      reload:\r\n        enabled: true\r\n        monitoring-config-maps: true\r\n        mode: event\r\n        strategy: refresh \r\n```\r\nI added the respective dependencies as well:\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nAs those are the steps declared here: https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#configmap-propertysource\r\n\r\n&gt; You can also make your application retry loading ConfigMap property sources on a failure. First, you need to set spring.cloud.kubernetes.config.fail-fast=true. Then you need to add spring-retry and spring-boot-starter-aop to your classpath. You can configure retry properties such as the maximum number of attempts, backoff options like initial interval, multiplier, max interval by setting the spring.cloud.kubernetes.config.retry.* properties.\r\n\r\nBut I&#39;m getting as an error:\r\n\r\n``` ***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nA component required a bean named &#39;configServerRetryInterceptor&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;configServerRetryInterceptor&#39; in your configuration.\r\n ```\r\n\r\n\r\nWhy should I add the `configServerRetryInterceptor` bean? shouldn&#39;t that one instantiated automatically based on the steps declared in the the documentation? Regardless if that, if I create such a `@bean` in a class annotated with `@Configuration` it doesn&#39;t work either.\r\n\r\nWhat step am I missing? ","title":"Spring Boot with GKE: Retry loading ConfigMap not working as expected by spring cloud kubernetes documentation","body":"<p>I have a spring boot (2.7.0) with spring-cloud-depependencies (2021.0.3) under GKE, where since I noticed Kubernetes api client is failing to connect but just few milliseconds later succeeding (And I can't figure out the reason why yet, although one detail is GKE cluster was upgraded, but that is another story), I rather on the meantime to fail fast the spring boot application and try to wait till the configmap is ready to be read.</p>\n<p>In order to do so, I configured my bootstrap as follows:</p>\n<pre><code>  profiles: some-profile\n  cloud:\n    kubernetes:\n      config:\n        retry:\n          initial-interval: 1000\n          max-attempts: 6\n          max-interval: 2000\n          multiplier: 1.1\n        fail-fast: true\n        enabled: true\n        enableApi: true\n        namespace: some-namespace\n        name: someConfigmapName\n      reload:\n        enabled: true\n        monitoring-config-maps: true\n        mode: event\n        strategy: refresh \n</code></pre>\n<p>I added the respective dependencies as well:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>As those are the steps declared here: <a href=\"https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#configmap-propertysource\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#configmap-propertysource</a></p>\n<blockquote>\n<p>You can also make your application retry loading ConfigMap property sources on a failure. First, you need to set spring.cloud.kubernetes.config.fail-fast=true. Then you need to add spring-retry and spring-boot-starter-aop to your classpath. You can configure retry properties such as the maximum number of attempts, backoff options like initial interval, multiplier, max interval by setting the spring.cloud.kubernetes.config.retry.* properties.</p>\n</blockquote>\n<p>But I'm getting as an error:</p>\n<pre><code>APPLICATION FAILED TO START\n***************************\n\nDescription:\n\nA component required a bean named 'configServerRetryInterceptor' that could not be found.\n\n\nAction:\n\nConsider defining a bean named 'configServerRetryInterceptor' in your configuration.\n</code></pre>\n<p>Why should I add the <code>configServerRetryInterceptor</code> bean? shouldn't that one instantiated automatically based on the steps declared in the the documentation? Regardless if that, if I create such a <code>@bean</code> in a class annotated with <code>@Configuration</code> it doesn't work either.</p>\n<p>What step am I missing?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":24519139,"reputation":23,"user_id":19894782,"display_name":"Borka192"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676004026,"creation_date":1676004026,"question_id":75407028,"body_markdown":"\r\n\r\n**AuthenticationFilter**\r\n\r\n     public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n\r\n        ServerHttpRequest request = exchange.getRequest();\r\n        \r\n        final List&lt;String&gt; apiEndpoints = List.of(&quot;/code&quot;, &quot;/login&quot;);\r\n\r\n        Predicate&lt;ServerHttpRequest&gt; isApiSecured = r -&gt; apiEndpoints.stream()\r\n                .noneMatch(uri -&gt; r.getURI().getPath().contains(uri));\r\n\r\n\r\n        if (isApiSecured.test(request) &amp;&amp; !request.getPath().value().contains(&quot;/auth/token/&quot;)) {\r\n            ServerHttpResponse response = exchange.getResponse();\r\n\r\n            if (!request.getHeaders().containsKey(&quot;Authorization&quot;)) {\r\n                response.setStatusCode(HttpStatus.UNAUTHORIZED);\r\n\r\n                return response.setComplete();\r\n            }\r\n\r\n            final String token = request.getHeaders().getOrEmpty(&quot;Authorization&quot;).get(0);\r\n\r\n            try {\r\n                jwtUtil.validateToken(token);\r\n            } catch (SignatureException ex) {\r\n                throw new UnauthorizedExceptions(&quot;Invalid JWT signature&quot;);\r\n            } catch (MalformedJwtException ex) {\r\n                throw new UnauthorizedExceptions(&quot;Invalid JWT token&quot;);\r\n            } catch (ExpiredJwtException ex) {\r\n                throw new TimeOutException(&quot;Expired JWT token&quot;);\r\n            } catch (UnsupportedJwtException ex) {\r\n                throw new UnauthorizedExceptions(&quot;Unsupported JWT token&quot;);\r\n            }\r\n\r\n            Claims claims = jwtUtil.getClaims(token);\r\n\r\n            exchange.getRequest()\r\n                    .mutate()\r\n                    .header(&quot;id&quot;, String.valueOf(claims.get(&quot;id&quot;)))\r\n                    .build();\r\n\r\n        }\r\n\r\n\r\n\r\nI need to get the request body before authorization in the getway api using serverWebExchange , request.getBody = WebFlux?need to pull out the user&#39;s login before authorization and write it to the logs.How can i do it? ","title":"Get Request Body from api-gateway","body":"<p><strong>AuthenticationFilter</strong></p>\n<pre><code> public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n\n    ServerHttpRequest request = exchange.getRequest();\n    \n    final List&lt;String&gt; apiEndpoints = List.of(&quot;/code&quot;, &quot;/login&quot;);\n\n    Predicate&lt;ServerHttpRequest&gt; isApiSecured = r -&gt; apiEndpoints.stream()\n            .noneMatch(uri -&gt; r.getURI().getPath().contains(uri));\n\n\n    if (isApiSecured.test(request) &amp;&amp; !request.getPath().value().contains(&quot;/auth/token/&quot;)) {\n        ServerHttpResponse response = exchange.getResponse();\n\n        if (!request.getHeaders().containsKey(&quot;Authorization&quot;)) {\n            response.setStatusCode(HttpStatus.UNAUTHORIZED);\n\n            return response.setComplete();\n        }\n\n        final String token = request.getHeaders().getOrEmpty(&quot;Authorization&quot;).get(0);\n\n        try {\n            jwtUtil.validateToken(token);\n        } catch (SignatureException ex) {\n            throw new UnauthorizedExceptions(&quot;Invalid JWT signature&quot;);\n        } catch (MalformedJwtException ex) {\n            throw new UnauthorizedExceptions(&quot;Invalid JWT token&quot;);\n        } catch (ExpiredJwtException ex) {\n            throw new TimeOutException(&quot;Expired JWT token&quot;);\n        } catch (UnsupportedJwtException ex) {\n            throw new UnauthorizedExceptions(&quot;Unsupported JWT token&quot;);\n        }\n\n        Claims claims = jwtUtil.getClaims(token);\n\n        exchange.getRequest()\n                .mutate()\n                .header(&quot;id&quot;, String.valueOf(claims.get(&quot;id&quot;)))\n                .build();\n\n    }\n</code></pre>\n<p>I need to get the request body before authorization in the getway api using serverWebExchange , request.getBody = WebFlux?need to pull out the user's login before authorization and write it to the logs.How can i do it?</p>\n"},{"tags":["java","tomcat","servlets","http-status-code-404"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676009613,"post_id":75407003,"comment_id":133054514,"body_markdown":"(1) Apache Tomcat/10.0.23  use `jakarta.servlet` not `javax.servlet` (2) Check all log files under the tomcat/logs directory for error messages?","body":"(1) Apache Tomcat/10.0.23  use <code>jakarta.servlet</code> not <code>javax.servlet</code> (2) Check all log files under the tomcat/logs directory for error messages?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676019312,"post_id":75407003,"comment_id":133056596,"body_markdown":"your web.xml is config  `com.example.servlets.TestServlet`,  but in TestServlet.java package is `com.fourdcontrols.servlets`. Maybe you can change your web.xml config to correct servlet:  `com.fourdcontrols.servlets.TestServlet`","body":"your web.xml is config  <code>com.example.servlets.TestServlet</code>,  but in TestServlet.java package is <code>com.fourdcontrols.servlets</code>. Maybe you can change your web.xml config to correct servlet:  <code>com.fourdcontrols.servlets.TestServlet</code>"}],"owner":{"account_id":26958837,"reputation":75,"user_id":20526798,"display_name":"Stewart LloydJones"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676026434,"answer_count":0,"score":1,"last_activity_date":1676003832,"creation_date":1676003832,"question_id":75407003,"body_markdown":"After deploying the webapp to a remote server all servlets return HTTP Status 404 but index.jsp works fine.\r\nAll servlets work on localhost, running the same version of tomcat. Logs are:\r\n\r\ncatalina.out\r\n\r\n```\r\n10-Feb-2023 04:19:42.728 INFO [ajp-nio-127.0.0.1-8009-exec-86] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/bitnami/tomcat/webapps/test-api.war]\r\n10-Feb-2023 04:19:43.296 INFO [ajp-nio-127.0.0.1-8009-exec-86] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n10-Feb-2023 04:19:43.306 INFO [ajp-nio-127.0.0.1-8009-exec-86] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/bitnami/tomcat/webapps/test-api.war] has finished in [577] ms\r\n```\r\nlocalhost_access_log\r\n\r\n```\r\n- [10/Feb/2023:04:08:03 +0000] &quot;GET /test-api/test HTTP/1.1&quot; 404 778\r\n- [10/Feb/2023:04:19:54 +0000] &quot;GET /test-api/test-two HTTP/1.1&quot; 404 772\r\n```\r\n\r\n\r\n\r\n\r\nweb.xml\r\n```\r\ntype he&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n                      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n  version=&quot;3.0&quot;&gt;\r\n\r\n  &lt;display-name&gt;Test API&lt;/display-name&gt;\r\n\r\n  &lt;context-param&gt;\r\n    &lt;param-name&gt;contextPath&lt;/param-name&gt;\r\n    &lt;param-value&gt;/test-api&lt;/param-value&gt;\r\n  &lt;/context-param&gt;\r\n\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.example.servlets.TestServlet&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/test&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n&lt;servlet&gt;\r\n    &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.example.servlets.TestServlet&lt;/servlet-class&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;TestServletTwo&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/test-two&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\nTestServlet.java\r\n\r\n```\r\npackage com.fourdcontrols.servlets;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/test&quot;)\r\npublic class TestServlet extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        response.getWriter().write(&quot;Testing?&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Apache Tomcat/10.0.23 Servlet HTTP Status 404 â€“ Not Found but works on localhost","body":"<p>After deploying the webapp to a remote server all servlets return HTTP Status 404 but index.jsp works fine.\nAll servlets work on localhost, running the same version of tomcat. Logs are:</p>\n<p>catalina.out</p>\n<pre><code>10-Feb-2023 04:19:42.728 INFO [ajp-nio-127.0.0.1-8009-exec-86] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/bitnami/tomcat/webapps/test-api.war]\n10-Feb-2023 04:19:43.296 INFO [ajp-nio-127.0.0.1-8009-exec-86] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n10-Feb-2023 04:19:43.306 INFO [ajp-nio-127.0.0.1-8009-exec-86] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/bitnami/tomcat/webapps/test-api.war] has finished in [577] ms\n</code></pre>\n<p>localhost_access_log</p>\n<pre><code>- [10/Feb/2023:04:08:03 +0000] &quot;GET /test-api/test HTTP/1.1&quot; 404 778\n- [10/Feb/2023:04:19:54 +0000] &quot;GET /test-api/test-two HTTP/1.1&quot; 404 772\n</code></pre>\n<p>web.xml</p>\n<pre><code>type he&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\n                      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n  version=&quot;3.0&quot;&gt;\n\n  &lt;display-name&gt;Test API&lt;/display-name&gt;\n\n  &lt;context-param&gt;\n    &lt;param-name&gt;contextPath&lt;/param-name&gt;\n    &lt;param-value&gt;/test-api&lt;/param-value&gt;\n  &lt;/context-param&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.example.servlets.TestServlet&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/test&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;TestServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.example.servlets.TestServlet&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;TestServletTwo&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/test-two&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>TestServlet.java</p>\n<pre><code>package com.fourdcontrols.servlets;\n\nimport java.io.IOException;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/test&quot;)\npublic class TestServlet extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.getWriter().write(&quot;Testing?&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","cucumber","karate"],"answers":[{"comments":[{"owner":{"account_id":17627317,"reputation":127,"user_id":12792142,"display_name":"TestingCodes"},"score":0,"creation_date":1676048617,"post_id":75406926,"comment_id":133065729,"body_markdown":"Is there a way to itirate through the JsList with Java? - This is the error I am getting when calling the table in my Java fucntion org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (updateJson) on helpers.JSonUtils@202f054f failed due to: Cannot convert &#39;[{key=abc, value=abc}]&#39;(language: Java, type: com.intuit.karate.graal.JsList) to Java type &#39;com.intuit.karate.graal.JsList&#39;: Unsupported target type.","body":"Is there a way to itirate through the JsList with Java? - This is the error I am getting when calling the table in my Java fucntion org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (updateJson) on helpers.JSonUtils@202f054f failed due to: Cannot convert &#39;[{key=abc, value=abc}]&#39;(language: Java, type: com.intuit.karate.graal.JsList) to Java type &#39;com.intuit.karate.graal.JsList&#39;: Unsupported target type."},{"owner":{"account_id":17627317,"reputation":127,"user_id":12792142,"display_name":"TestingCodes"},"score":1,"creation_date":1676049364,"post_id":75406926,"comment_id":133065962,"body_markdown":"Found my answer - In Java I need to call for a Java List - I can then iterate through it","body":"Found my answer - In Java I need to call for a Java List - I can then iterate through it"}],"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676003022,"creation_date":1676003022,"answer_id":75406926,"question_id":75404348,"body_markdown":"I think you are expecting Karate to work like Cucumber, no that&#39;s not how it works. There&#39;s no such thing as a `DataTable` in Karate.\r\n\r\nPlease spend some time how Karate uses JSON arrays where you want to loop over a data source: https://github.com/karatelabs/karate#data-driven-features\r\n\r\nAnd there is a way to do dynamic scenario outlines, look it up: https://github.com/karatelabs/karate#setup","title":"Karate: How to use a datatable in a java function?","body":"<p>I think you are expecting Karate to work like Cucumber, no that's not how it works. There's no such thing as a <code>DataTable</code> in Karate.</p>\n<p>Please spend some time how Karate uses JSON arrays where you want to loop over a data source: <a href=\"https://github.com/karatelabs/karate#data-driven-features\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#data-driven-features</a></p>\n<p>And there is a way to do dynamic scenario outlines, look it up: <a href=\"https://github.com/karatelabs/karate#setup\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#setup</a></p>\n"}],"owner":{"account_id":17627317,"reputation":127,"user_id":12792142,"display_name":"TestingCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75406926,"answer_count":1,"score":1,"last_activity_date":1676003022,"creation_date":1675976277,"question_id":75404348,"body_markdown":"I have a feature file that looks like:\r\n\r\n    * def javaFunction = Java.type(&#39;my.javaClass&#39;);\r\n    * def generateFile = new javaFunction().functionName(???)\r\n\r\nAnd my function looks like\r\n\r\n    public String functionName(DataTable dm){\r\n      for (DataModel aDataModel : dm) {\r\n          String username = aDataModel.user;\r\n          String password = aDataModel.password;\r\n      }\r\n    }\r\n\r\nI want to use a Data table that looks like this but I&#39;m not sure how to call it in the functionName(???) in my .feature file\r\n\r\n    |user       |password |\r\n    |cucumber1  |cucumber |\r\n    |cucumber2  |cucumber |","title":"Karate: How to use a datatable in a java function?","body":"<p>I have a feature file that looks like:</p>\n<pre><code>* def javaFunction = Java.type('my.javaClass');\n* def generateFile = new javaFunction().functionName(???)\n</code></pre>\n<p>And my function looks like</p>\n<pre><code>public String functionName(DataTable dm){\n  for (DataModel aDataModel : dm) {\n      String username = aDataModel.user;\n      String password = aDataModel.password;\n  }\n}\n</code></pre>\n<p>I want to use a Data table that looks like this but I'm not sure how to call it in the functionName(???) in my .feature file</p>\n<pre><code>|user       |password |\n|cucumber1  |cucumber |\n|cucumber2  |cucumber |\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9563,"page":660,"page_size":100}
