{"items":[{"tags":["java","list","arraylist","sublist","notserializableexception"],"comments":[{"owner":{"account_id":21250929,"reputation":11,"user_id":15633157,"display_name":"SnailK"},"score":0,"creation_date":1675408936,"post_id":75332569,"comment_id":132926630,"body_markdown":"I tried to change the type to ArrayList but it gives me class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList (java.util.ArrayList$SubList and java.util.ArrayList are in module java.base of loader &#39;bootstrap&#39;)]. So no, the above solution did not work for me.","body":"I tried to change the type to ArrayList but it gives me class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList (java.util.ArrayList$SubList and java.util.ArrayList are in module java.base of loader &#39;bootstrap&#39;)]. So no, the above solution did not work for me."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675409754,"post_id":75332569,"comment_id":132926790,"body_markdown":"see the accepted answer from the question linked in first comment - note: it is NOT using cast (a cast does NOT change the instance type); it is creating a new `ArrayList`","body":"see the accepted answer from the question linked in first comment - note: it is NOT using cast (a cast does NOT change the instance type); it is creating a new <code>ArrayList</code>"},{"owner":{"account_id":21250929,"reputation":11,"user_id":15633157,"display_name":"SnailK"},"score":0,"creation_date":1675424103,"post_id":75332569,"comment_id":132930867,"body_markdown":"Thanks @user16320675! It worked. I misunderstood and tried casting hence was getting class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList .","body":"Thanks @user16320675! It worked. I misunderstood and tried casting hence was getting class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList ."}],"owner":{"account_id":21250929,"reputation":11,"user_id":15633157,"display_name":"SnailK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675431066,"answer_count":0,"score":0,"last_activity_date":1675408474,"creation_date":1675408474,"question_id":75332569,"body_markdown":"I am receiving error **caused java.io.NotSerializableException: java.util.ArrayList$SubList, please check method&#39;s implementation for the cause nested exception is:java.io.NotSerializableException: java.util.ArrayList$SubList ** with my below mentioned code...\r\n\r\n```\r\npublic static &lt;T&gt; List&lt;T&gt; safeSubList(List&lt;T&gt; list, int fromIndex, int toIndex) {\r\n        int size = list.size();\r\n        if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\r\n            return Collections.emptyList();\r\n        } \r\n        fromIndex = Math.max(0, fromIndex);\r\n        toIndex = Math.min(size, toIndex); \r\n        return list.subList(fromIndex, toIndex);\r\n    }\r\n```\r\nThe sublist not able to be serialized as it is of type List and sublist method of List is from RandomAccess and RandomAccess doesn&#39;t implement Serializable.\r\n\r\nAttaching the code where and how this method is called:\r\n\r\n\r\n```\r\nList&lt;String&gt; subList = ContextUtil.safeSubList(customerIds, i, i+10); \r\n               List&lt;Customer&gt; customers = convertObjectsToCustomers(asiakashallinta.haeAsiakaslistaAsiakastunnuksila(getCustomerListQuery(subList, jopoContext), jopoContext)); \r\n               if(customers != null){\r\n                  result.addAll(customers);\r\n```\r\n\r\n\r\nI tried to change the type to ArrayList, but then it gives **class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList (java.util.ArrayList$SubList and java.util.ArrayList are in module java.base of loader &#39;bootstrap&#39;)]**\r\n\r\nBelow is the code that I tried: \r\n\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; safeSubList(ArrayList&lt;T&gt; list, int fromIndex, int toIndex) {\r\n        int size = list.size();\r\n        if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\r\n            return (ArrayList&lt;T&gt;)Collections.emptyList();\r\n        } \r\n        fromIndex = Math.max(0, fromIndex);\r\n        toIndex = Math.min(size, toIndex); \r\n        return (ArrayList&lt;T&gt;) list.subList(fromIndex, toIndex);\r\n    }\r\n```\r\nI am sure, this is not the correct way to fix it but wanted desperately to fix the issue. Any help would be appreciated.","title":"How do I resolve *caused java.io.NotSerializableException: java.util.ArrayList$SubList*","body":"<p>I am receiving error **caused java.io.NotSerializableException: java.util.ArrayList$SubList, please check method's implementation for the cause nested exception is:java.io.NotSerializableException: java.util.ArrayList$SubList ** with my below mentioned code...</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; safeSubList(List&lt;T&gt; list, int fromIndex, int toIndex) {\n        int size = list.size();\n        if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\n            return Collections.emptyList();\n        } \n        fromIndex = Math.max(0, fromIndex);\n        toIndex = Math.min(size, toIndex); \n        return list.subList(fromIndex, toIndex);\n    }\n</code></pre>\n<p>The sublist not able to be serialized as it is of type List and sublist method of List is from RandomAccess and RandomAccess doesn't implement Serializable.</p>\n<p>Attaching the code where and how this method is called:</p>\n<pre><code>List&lt;String&gt; subList = ContextUtil.safeSubList(customerIds, i, i+10); \n               List&lt;Customer&gt; customers = convertObjectsToCustomers(asiakashallinta.haeAsiakaslistaAsiakastunnuksila(getCustomerListQuery(subList, jopoContext), jopoContext)); \n               if(customers != null){\n                  result.addAll(customers);\n</code></pre>\n<p>I tried to change the type to ArrayList, but then it gives <strong>class java.util.ArrayList$SubList cannot be cast to class java.util.ArrayList (java.util.ArrayList$SubList and java.util.ArrayList are in module java.base of loader 'bootstrap')]</strong></p>\n<p>Below is the code that I tried:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; ArrayList&lt;T&gt; safeSubList(ArrayList&lt;T&gt; list, int fromIndex, int toIndex) {\n        int size = list.size();\n        if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\n            return (ArrayList&lt;T&gt;)Collections.emptyList();\n        } \n        fromIndex = Math.max(0, fromIndex);\n        toIndex = Math.min(size, toIndex); \n        return (ArrayList&lt;T&gt;) list.subList(fromIndex, toIndex);\n    }\n</code></pre>\n<p>I am sure, this is not the correct way to fix it but wanted desperately to fix the issue. Any help would be appreciated.</p>\n"},{"tags":["java","spring-mvc","spring-boot-actuator","spring-autoconfiguration"],"owner":{"account_id":16883170,"reputation":11,"user_id":12208647,"display_name":"Joshua Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675408212,"creation_date":1675407946,"question_id":75332494,"body_markdown":"I&#39;m trying to upgrade the version from \r\nspringVersion = &#39;4.3.27.RELEASE&#39;\r\nspringBootVersion = &#39;1.5.22.RELEASE&#39;to \r\n\r\nspringVersion = &#39;5.3.25&#39;\r\nspringBootVersion =&#39;2.3.5.RELEASE&#39;\r\n\r\nThe issue i face is in ActuatorConfiguation.java where **No beans of &#39;WebEndpointsSupplier&#39; type found.** \r\n\r\n\r\n\r\n**ActuatorConfiguration.java:**\r\n```\r\n\r\n\r\n@Configuration\r\n@Import({\r\n        EndpointAutoConfiguration.class,\r\n        HealthIndicatorAutoConfiguration.class,\r\n\r\n        InfoEndpointAutoConfiguration.class,\r\n        HealthEndpointAutoConfiguration.class,\r\n\r\n        WebEndpointAutoConfiguration.class,\r\n        ServletManagementContextAutoConfiguration.class,\r\n        ManagementContextAutoConfiguration.class,\r\n})\r\n@EnableConfigurationProperties(CorsEndpointProperties.class)\r\nclass ActuatorConfiguration {\r\n\r\n    @Bean //taken from WebMvcEndpointManagementContextConfiguration.class\r\n    public WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier,\r\n                                                                         ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier,\r\n                                                                         EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties,\r\n                                                                         WebEndpointProperties webEndpointProperties) {\r\n        List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList&lt;&gt;();\r\n        Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\r\n        allEndpoints.addAll(webEndpoints);\r\n        allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\r\n        allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\r\n        EndpointMapping endpointMapping = new EndpointMapping(webEndpointProperties.getBasePath());\r\n        return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes,\r\n                corsProperties.toCorsConfiguration(),\r\n                new EndpointLinksResolver(allEndpoints, webEndpointProperties.getBasePath()),true);\r\n    }\r\n\r\n    @Bean\r\n    DispatcherServletPath dispatcherServletPath() {\r\n        return () -&gt; &quot;/&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**build.gradle:**\r\n```\r\nplugins {\r\n    id &#39;java-library&#39;\r\n}\r\nbootstrap {\r\n\tjava()\r\n\tjavaLibrary()\r\n}\r\n\r\ngroup = &#39;be.cipal.common&#39;\r\ndescription = &quot;Spring Actuator support for CipalCommon&quot;\r\n\r\ndependencies {\r\n    api &quot;org.springframework.boot:spring-boot-actuator:${springBootVersion}&quot;\r\n    \r\n    api &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\r\n    api &quot;org.springframework.boot:spring-boot-starter-aop:${springBootVersion}&quot;\r\n    api &quot;org.springframework.boot:spring-boot-actuator-autoconfigure:${springBootVersion}&quot;\r\n    \r\n    api &quot;org.springframework:spring-web:${springVersion}&quot;\r\n    api &quot;org.springframework:spring-webmvc:${springVersion}&quot;\r\n\r\n    api (&#39;io.prometheus:simpleclient_spring_boot:0.8.1&#39;) {\r\n        exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n    }\r\n\r\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-starter-aop:${springBootVersion}&quot;\r\n\r\n\r\n    implementation &#39;io.prometheus:simpleclient_hotspot:0.8.1&#39;\r\n\r\n    implementation &#39;javax.inject:javax.inject:1&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    testImplementation &#39;org.assertj:assertj-core:3.13.2&#39;\r\n    testImplementation &#39;org.mockito:mockito-core:2.28.2&#39;\r\n}\r\n```\r\n\r\n**Web.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; version=&quot;2.5&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;description&gt;Application code for this application, this code is used to authenticate users against porta&lt;/description&gt;\r\n\t\t&lt;param-name&gt;appCode&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;METIS&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;LoadingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipalschaubroeck.common.modern.ui.startup.StartupFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;UncaughtExceptionFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.filter.UncaughtExceptionFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.setup.SetupFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;description&gt;Filter that handles the security. This filter is responsible for the user Authentication&lt;/description&gt;\r\n\t\t&lt;filter-name&gt;SsoAuthenticationFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;targetBeanName&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;ssoAuthenticationFilter&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;description&gt;Filter that synchronizes the appModeCookie&lt;/description&gt;\r\n\t\t&lt;display-name&gt;AppModeFilter&lt;/display-name&gt;\r\n\t\t&lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.web.struts.tiles.AppModeFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.web.filter.NoCacheFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;UTF8Filter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.filter.UTF8Filter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;RestSecurityFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;be.cipal.metis.web.filter.MetisRestSecurityFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;UncaughtExceptionFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;UTF8Filter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SsoAuthenticationFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;RestSecurityFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/rs/secured/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;rest-api&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/rest-api-servlet.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;config&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/struts-config.xml, struts-anafora-config.xml, struts-config-porta-sso.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;debug&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;3&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;detail&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;3&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;chainConfig&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;org/apache/struts/tiles/chain-config.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;ResourceServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;be.cipal.web.servlet.ResourceServlet&lt;/servlet-class&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;ManualServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;be.cipal.manual.ManualServlet&lt;/servlet-class&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;actuator&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/actuator-config.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t\r\n\t\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;ResourceServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/static/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;ManualServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/help/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;rest-api&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/rs/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;actuator&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/actuator/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;be.cipal.charta.openoffice.listener.OfficeServiceServletContextListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;be.cipal.web.util.SessionAttributeListener&lt;/listener-class&gt;\t\t\r\n\t&lt;/listener&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n**actuator-config.xml**\r\n``` &lt;context:annotation-config /&gt;\r\n    &lt;bean name=&quot;actuatorConfiguration&quot; class=&quot;be.cipalschaubroeck.common.actuator.ActuatorConfiguration&quot; /&gt;\r\n&lt;/beans&gt;\r\n\r\n```\r\n\r\n\r\nI&#39;m new to springboot and spring. Went through various resources but couldn&#39;t find the solution\r\n\r\n\r\n","title":"No Beans Found: spring-boot-actuator 2.3.5 in spring mvc without springboot","body":"<p>I'm trying to upgrade the version from\nspringVersion = '4.3.27.RELEASE'\nspringBootVersion = '1.5.22.RELEASE'to</p>\n<p>springVersion = '5.3.25'\nspringBootVersion ='2.3.5.RELEASE'</p>\n<p>The issue i face is in ActuatorConfiguation.java where <strong>No beans of 'WebEndpointsSupplier' type found.</strong></p>\n<p><strong>ActuatorConfiguration.java:</strong></p>\n<pre><code>\n\n@Configuration\n@Import({\n        EndpointAutoConfiguration.class,\n        HealthIndicatorAutoConfiguration.class,\n\n        InfoEndpointAutoConfiguration.class,\n        HealthEndpointAutoConfiguration.class,\n\n        WebEndpointAutoConfiguration.class,\n        ServletManagementContextAutoConfiguration.class,\n        ManagementContextAutoConfiguration.class,\n})\n@EnableConfigurationProperties(CorsEndpointProperties.class)\nclass ActuatorConfiguration {\n\n    @Bean //taken from WebMvcEndpointManagementContextConfiguration.class\n    public WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier,\n                                                                         ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier,\n                                                                         EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties,\n                                                                         WebEndpointProperties webEndpointProperties) {\n        List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList&lt;&gt;();\n        Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\n        allEndpoints.addAll(webEndpoints);\n        allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\n        allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\n        EndpointMapping endpointMapping = new EndpointMapping(webEndpointProperties.getBasePath());\n        return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes,\n                corsProperties.toCorsConfiguration(),\n                new EndpointLinksResolver(allEndpoints, webEndpointProperties.getBasePath()),true);\n    }\n\n    @Bean\n    DispatcherServletPath dispatcherServletPath() {\n        return () -&gt; &quot;/&quot;;\n    }\n\n}\n\n</code></pre>\n<p><strong>build.gradle:</strong></p>\n<pre><code>plugins {\n    id 'java-library'\n}\nbootstrap {\n    java()\n    javaLibrary()\n}\n\ngroup = 'be.cipal.common'\ndescription = &quot;Spring Actuator support for CipalCommon&quot;\n\ndependencies {\n    api &quot;org.springframework.boot:spring-boot-actuator:${springBootVersion}&quot;\n    \n    api &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\n    api &quot;org.springframework.boot:spring-boot-starter-aop:${springBootVersion}&quot;\n    api &quot;org.springframework.boot:spring-boot-actuator-autoconfigure:${springBootVersion}&quot;\n    \n    api &quot;org.springframework:spring-web:${springVersion}&quot;\n    api &quot;org.springframework:spring-webmvc:${springVersion}&quot;\n\n    api ('io.prometheus:simpleclient_spring_boot:0.8.1') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\n    compile &quot;org.springframework.boot:spring-boot-starter-aop:${springBootVersion}&quot;\n\n\n    implementation 'io.prometheus:simpleclient_hotspot:0.8.1'\n\n    implementation 'javax.inject:javax.inject:1'\n\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.assertj:assertj-core:3.13.2'\n    testImplementation 'org.mockito:mockito-core:2.28.2'\n}\n</code></pre>\n<p><strong>Web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; version=&quot;2.5&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n\n    &lt;context-param&gt;\n        &lt;description&gt;Application code for this application, this code is used to authenticate users against porta&lt;/description&gt;\n        &lt;param-name&gt;appCode&lt;/param-name&gt;\n        &lt;param-value&gt;METIS&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;LoadingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipalschaubroeck.common.modern.ui.startup.StartupFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;UncaughtExceptionFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.filter.UncaughtExceptionFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.setup.SetupFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;description&gt;Filter that handles the security. This filter is responsible for the user Authentication&lt;/description&gt;\n        &lt;filter-name&gt;SsoAuthenticationFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;targetBeanName&lt;/param-name&gt;\n            &lt;param-value&gt;ssoAuthenticationFilter&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;description&gt;Filter that synchronizes the appModeCookie&lt;/description&gt;\n        &lt;display-name&gt;AppModeFilter&lt;/display-name&gt;\n        &lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.web.struts.tiles.AppModeFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.web.filter.NoCacheFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;UTF8Filter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.filter.UTF8Filter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;RestSecurityFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;be.cipal.metis.web.filter.MetisRestSecurityFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    \n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;UncaughtExceptionFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;UTF8Filter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;AppModeFilter&lt;/filter-name&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SetupFilter&lt;/filter-name&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SsoAuthenticationFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;NoCacheFilter&lt;/filter-name&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;RestSecurityFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/rs/secured/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;rest-api&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/rest-api-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;config&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/struts-config.xml, struts-anafora-config.xml, struts-config-porta-sso.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;debug&lt;/param-name&gt;\n            &lt;param-value&gt;3&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;detail&lt;/param-name&gt;\n            &lt;param-value&gt;3&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;chainConfig&lt;/param-name&gt;\n            &lt;param-value&gt;org/apache/struts/tiles/chain-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ResourceServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;be.cipal.web.servlet.ResourceServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ManualServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;be.cipal.manual.ManualServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;actuator&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/actuator-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    \n    \n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ResourceServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/static/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ManualServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/help/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;rest-api&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rs/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;actuator&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/actuator/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;be.cipal.charta.openoffice.listener.OfficeServiceServletContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;be.cipal.web.util.SessionAttributeListener&lt;/listener-class&gt;     \n    &lt;/listener&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>actuator-config.xml</strong></p>\n<pre><code>    &lt;bean name=&quot;actuatorConfiguration&quot; class=&quot;be.cipalschaubroeck.common.actuator.ActuatorConfiguration&quot; /&gt;\n&lt;/beans&gt;\n\n</code></pre>\n<p>I'm new to springboot and spring. Went through various resources but couldn't find the solution</p>\n"},{"tags":["java","ajax","liferay","liferay-6"],"answers":[{"tags":[],"owner":{"account_id":82643,"reputation":2663,"user_id":232206,"accept_rate":100,"display_name":"Jonny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1356334589,"creation_date":1356334589,"answer_id":14018507,"question_id":14017867,"body_markdown":"Simple answer is because you&#39;re not actually navigating around Liferay. Using AJAX doesn&#39;t count as the user performing actions that stop their session expiring. You&#39;ll need the page to reload or extend the session time. ","title":"Liferay session expire even when user is doing activities on the page","body":"<p>Simple answer is because you're not actually navigating around Liferay. Using AJAX doesn't count as the user performing actions that stop their session expiring. You'll need the page to reload or extend the session time. </p>\n"},{"tags":[],"owner":{"account_id":1028902,"reputation":467,"user_id":1037615,"accept_rate":52,"display_name":"wikimix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356562073,"creation_date":1356562073,"answer_id":14047219,"question_id":14017867,"body_markdown":"You can fix this problem by following this two steps:\r\n\r\n1- add this lines to the **portal-ext.properties** file:\r\n\r\n(3000 is the number of minutes before the session will expired)\r\n\r\n    session.timeout=3000\r\n    \r\n    session.timeout.warning=0\r\n\r\n\r\n2-Go to **/conf/web.xml** ( Tomcat server) and edit the session configuration Timeout:\r\n\r\n \r\n\r\n    &lt;session-config&gt;\r\n            &lt;session-timeout&gt;3000&lt;/session-timeout&gt;\r\n      &lt;/session-config&gt;\r\n\r\n\r\n","title":"Liferay session expire even when user is doing activities on the page","body":"<p>You can fix this problem by following this two steps:</p>\n\n<p>1- add this lines to the <strong>portal-ext.properties</strong> file:</p>\n\n<p>(3000 is the number of minutes before the session will expired)</p>\n\n<pre><code>session.timeout=3000\n\nsession.timeout.warning=0\n</code></pre>\n\n<p>2-Go to <strong>/conf/web.xml</strong> ( Tomcat server) and edit the session configuration Timeout:</p>\n\n<pre><code>&lt;session-config&gt;\n        &lt;session-timeout&gt;3000&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10211887,"reputation":213,"user_id":8186824,"display_name":"Juhil Kamothi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675408033,"creation_date":1675408033,"answer_id":75332504,"question_id":14017867,"body_markdown":"Another way\r\n\r\nIf You have React/Angular/Vue (SPA) portlets or any JS Code where you can predict that the user will not reload for some time, You can use Liferay web API to extend the session whenever you want. \r\n\r\n    Liferay.Session.extend();\r\n\r\n You can run the above code in many scenarios, Like calling Ajax Or in some functions where the user is interacting with only SPA apps. Or you can make a global timer in your portlet which extends Liferay&#39;s session automatically. ","title":"Liferay session expire even when user is doing activities on the page","body":"<p>Another way</p>\n<p>If You have React/Angular/Vue (SPA) portlets or any JS Code where you can predict that the user will not reload for some time, You can use Liferay web API to extend the session whenever you want.</p>\n<pre><code>Liferay.Session.extend();\n</code></pre>\n<p>You can run the above code in many scenarios, Like calling Ajax Or in some functions where the user is interacting with only SPA apps. Or you can make a global timer in your portlet which extends Liferay's session automatically.</p>\n"}],"owner":{"account_id":1211926,"reputation":2415,"user_id":1180313,"accept_rate":35,"display_name":"Seeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14018507,"answer_count":3,"score":1,"last_activity_date":1675408033,"creation_date":1356330554,"question_id":14017867,"body_markdown":"I have a portlet on my page, for all the user action we are calling the resource URLs with ajax, and only the contents inside the portlet keeps changing.\r\nNow the problem is, even though the user continuously active on the page, we are getting session expired on page. Why is this happening?","title":"Liferay session expire even when user is doing activities on the page","body":"<p>I have a portlet on my page, for all the user action we are calling the resource URLs with ajax, and only the contents inside the portlet keeps changing.\nNow the problem is, even though the user continuously active on the page, we are getting session expired on page. Why is this happening?</p>\n"},{"tags":["java","spring-boot","jhipster","jdl"],"answers":[{"tags":[],"owner":{"account_id":13382267,"reputation":515,"user_id":9657154,"display_name":"chrisdns"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1533714765,"creation_date":1533714765,"answer_id":51741343,"question_id":51739007,"body_markdown":"You cannot use List directly\r\n\r\nInstead you can create a one-to-many relationship in order to make **ResponseJson** have multiple String by wrapping this String in another Object\r\n\r\nYour JDL should be:\r\n\r\n    entity ResponseJson {\r\n        ...\r\n    }\r\n    \r\n    entity ObjectContainingString {\r\n        name String\r\n    }\r\n    \r\n    relationship OneToMany {\r\n        ResponseJson{name} to ObjectContainingString{json}\r\n    } \r\n\r\n","title":"How to use List with JDL entities in Jhipster","body":"<p>You cannot use List directly</p>\n\n<p>Instead you can create a one-to-many relationship in order to make <strong>ResponseJson</strong> have multiple String by wrapping this String in another Object</p>\n\n<p>Your JDL should be:</p>\n\n<pre><code>entity ResponseJson {\n    ...\n}\n\nentity ObjectContainingString {\n    name String\n}\n\nrelationship OneToMany {\n    ResponseJson{name} to ObjectContainingString{json}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13350837,"reputation":553,"user_id":9636100,"display_name":"Alexandre GC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533728648,"creation_date":1533717534,"answer_id":51742213,"question_id":51739007,"body_markdown":"If you want to opt for a solution that is not using JDL, you can change you model to use a `List` like this:\r\n\r\n\r\n    public class ResponseJson implements Serializable {\r\n        @ElementCollection\r\n        @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n        private Set&lt;String&gt; names = new HashSet&lt;&gt;();\r\n        \r\n        ...\r\n    \r\n    }","title":"How to use List with JDL entities in Jhipster","body":"<p>If you want to opt for a solution that is not using JDL, you can change you model to use a <code>List</code> like this:</p>\n\n<pre><code>public class ResponseJson implements Serializable {\n    @ElementCollection\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n    private Set&lt;String&gt; names = new HashSet&lt;&gt;();\n\n    ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17428561,"reputation":109,"user_id":12632999,"display_name":"Ranjul Arumadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675407356,"creation_date":1675405614,"answer_id":75332212,"question_id":51739007,"body_markdown":"Jhipsters page on [Field types and validations][1] discusses the available JDL types. \r\n\r\nCurrently, it does not support List, text[] etc directly.\r\n\r\nFor people who want to create entities having these types, one workaround is to make the entity with the types that Jhipster JDL offers and then use [Liquibase][2] to add the other fields types like List, text[] etc.\r\n\r\n\r\n  [1]: https://www.jhipster.tech/jdl/entities-fields#field-types-and-validations\r\n  [2]: https://www.liquibase.org/","title":"How to use List with JDL entities in Jhipster","body":"<p>Jhipsters page on <a href=\"https://www.jhipster.tech/jdl/entities-fields#field-types-and-validations\" rel=\"nofollow noreferrer\">Field types and validations</a> discusses the available JDL types.</p>\n<p>Currently, it does not support List, text[] etc directly.</p>\n<p>For people who want to create entities having these types, one workaround is to make the entity with the types that Jhipster JDL offers and then use <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">Liquibase</a> to add the other fields types like List, text[] etc.</p>\n"}],"owner":{"account_id":3170095,"reputation":439,"user_id":2679280,"accept_rate":77,"display_name":"RYJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6114,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51741343,"answer_count":3,"score":4,"last_activity_date":1675407356,"creation_date":1533705058,"question_id":51739007,"body_markdown":"I&#39;m new to use Jhipster. I want to create a JDL entity using my existing model classes. Here is my model class.\r\n\r\n    @Data\r\n    public class ResponseJson implements Serializable {\r\n        private List&lt;String&gt; names;\r\n    }\r\n\r\nNormal JDL entity can be created like,\r\n\r\n    entity ResponseJson{\r\n      names String\r\n    }\r\n\r\nBut I need to know **how to use List** in JDL entities. ","title":"How to use List with JDL entities in Jhipster","body":"<p>I'm new to use Jhipster. I want to create a JDL entity using my existing model classes. Here is my model class.</p>\n\n<pre><code>@Data\npublic class ResponseJson implements Serializable {\n    private List&lt;String&gt; names;\n}\n</code></pre>\n\n<p>Normal JDL entity can be created like,</p>\n\n<pre><code>entity ResponseJson{\n  names String\n}\n</code></pre>\n\n<p>But I need to know <strong>how to use List</strong> in JDL entities. </p>\n"},{"tags":["java","maven","logging","log4j"],"comments":[{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":2,"creation_date":1651609793,"post_id":72105057,"comment_id":127403445,"body_markdown":"Log4J version 1.x is completely different from version 2.x, and was not vulnerable to Log4Shell.","body":"Log4J version 1.x is completely different from version 2.x, and was not vulnerable to Log4Shell."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1651609869,"post_id":72105057,"comment_id":127403473,"body_markdown":"If you do want to upgrade, then the Log4J 2.x project [has instructions](https://logging.apache.org/log4j/2.x/manual/migration.html).","body":"If you do want to upgrade, then the Log4J 2.x project <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">has instructions</a>."},{"owner":{"account_id":21607587,"reputation":43,"user_id":15934752,"display_name":"Vani"},"score":0,"creation_date":1651635115,"post_id":72105057,"comment_id":127407736,"body_markdown":"I agree, but log4j 1.x is not allowed in my org and it is considered an outdated version","body":"I agree, but log4j 1.x is not allowed in my org and it is considered an outdated version"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1651647386,"post_id":72105057,"comment_id":127409949,"body_markdown":"You are clearly performing some programmatic configuration in your code, you should share the code that has compile errors. Remark that Log4j2 is not binary compatible with Log4j 1.x (they are different projects), but `log4j-1.2-api` provides _some_ binary compatibility.","body":"You are clearly performing some programmatic configuration in your code, you should share the code that has compile errors. Remark that Log4j2 is not binary compatible with Log4j 1.x (they are different projects), but <code>log4j-1.2-api</code> provides <i>some</i> binary compatibility."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1651666430,"post_id":72105057,"comment_id":127416304,"body_markdown":"@Vani - so follow the upgrade guide that I linked. It&#39;s not as simple as changing the JAR.","body":"@Vani - so follow the upgrade guide that I linked. It&#39;s not as simple as changing the JAR."}],"answers":[{"tags":[],"owner":{"account_id":27692090,"reputation":11,"user_id":21138561,"display_name":"seshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675407331,"creation_date":1675407331,"answer_id":75332406,"question_id":72105057,"body_markdown":"Change your imports as follows:\r\n\r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.apache.logging.log4j.core.appender.ConsoleAppender;\r\n    import org.apache.logging.log4j.core.layout.PatternLayout;\r\nThis is because 2.x.x version of log4j had major structure changes.","title":"log4j - log4j-core update","body":"<p>Change your imports as follows:</p>\n<pre><code>import org.apache.logging.log4j.core.Logger;\nimport org.apache.logging.log4j.core.appender.ConsoleAppender;\nimport org.apache.logging.log4j.core.layout.PatternLayout;\n</code></pre>\n<p>This is because 2.x.x version of log4j had major structure changes.</p>\n"}],"owner":{"account_id":21607587,"reputation":43,"user_id":15934752,"display_name":"Vani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675407331,"creation_date":1651609361,"question_id":72105057,"body_markdown":"I have updated my log4j version from 1.2.17 to log4j-core-2.17.1, this is for the log4jshell&#160;vulnerability fix.\r\n\r\nWhile building the code, I am getting the cannot find PatternLayout and ConsoleAppender error message.\r\n\r\nI should not have other any log4j version other than log4j-core-2.17.1 in the war file, so I have excluded lo4j in the slf4j dependency in pom.xml file\r\n\r\nPlease know how to fix this error.\r\n\r\n**Code Snippet**\r\n```\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.ConsoleAppender;\r\nimport org.apache.logging.log4j.PatternLayout;\r\n\r\nimport jxl.common.Logger;\r\n\r\npublic class Booking {\r\n\r\n    static Logger logger = Logger.getLogger(Booking.class);\r\n\r\n    public static boolean isChecked(String[] includeProps) {\r\n\r\n        logger.info(&quot;Start of method&quot;);\r\n\treturn true;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n   &lt;version&gt;2.17.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n   &lt;version&gt;2.17.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n   &lt;version&gt;1.7.36&lt;/version&gt;\r\n   &lt;exclusions&gt;\r\n   &lt;exclusion&gt;\r\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n   &lt;exclusion&gt;\r\n   &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n   &lt;version&gt;1.7.36&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**log4j.properties**\r\n```\r\nlog4j.rootLogger=INFO,stdout\r\nlog4j.logger.requestLogger=debug, requestAppender\r\nlog4j.additivity.requestLogger=false\r\nlog4j.appender.stdout=org.apache.log4j.FileAppender\r\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.stdout.File=/apps/opt/logs/App.log\r\nlog4j.appender.stdout.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\r\n```\r\n\r\n**Error message**\r\n```\r\ncannot find symbol\r\n[ERROR] symbol: class PatternLayout\r\n\r\ncannot find symbol\r\n[ERROR] symbol: class ConsoleAppender\r\n\r\n[ERROR] symbol: class variable Logger\r\n```","title":"log4j - log4j-core update","body":"<p>I have updated my log4j version from 1.2.17 to log4j-core-2.17.1, this is for the log4jshellÂ vulnerability fix.</p>\n<p>While building the code, I am getting the cannot find PatternLayout and ConsoleAppender error message.</p>\n<p>I should not have other any log4j version other than log4j-core-2.17.1 in the war file, so I have excluded lo4j in the slf4j dependency in pom.xml file</p>\n<p>Please know how to fix this error.</p>\n<p><strong>Code Snippet</strong></p>\n<pre><code>import org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.ConsoleAppender;\nimport org.apache.logging.log4j.PatternLayout;\n\nimport jxl.common.Logger;\n\npublic class Booking {\n\n    static Logger logger = Logger.getLogger(Booking.class);\n\n    public static boolean isChecked(String[] includeProps) {\n\n        logger.info(&quot;Start of method&quot;);\n    return true;\n\n    }\n\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n   &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n   &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n   &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n   &lt;version&gt;2.17.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n   &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n   &lt;version&gt;1.7.36&lt;/version&gt;\n   &lt;exclusions&gt;\n   &lt;exclusion&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n   &lt;exclusion&gt;\n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n   &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n   &lt;version&gt;1.7.36&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>log4j.properties</strong></p>\n<pre><code>log4j.rootLogger=INFO,stdout\nlog4j.logger.requestLogger=debug, requestAppender\nlog4j.additivity.requestLogger=false\nlog4j.appender.stdout=org.apache.log4j.FileAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.File=/apps/opt/logs/App.log\nlog4j.appender.stdout.layout.ConversionPattern=%d [%24F:%t:%L] - %m%n\n</code></pre>\n<p><strong>Error message</strong></p>\n<pre><code>cannot find symbol\n[ERROR] symbol: class PatternLayout\n\ncannot find symbol\n[ERROR] symbol: class ConsoleAppender\n\n[ERROR] symbol: class variable Logger\n</code></pre>\n"},{"tags":["java","scala","hdfs"],"answers":[{"tags":[],"owner":{"account_id":27692024,"reputation":1,"user_id":21138508,"display_name":"AllenYang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675407317,"creation_date":1675407317,"answer_id":75332405,"question_id":57212002,"body_markdown":"When you create your FileSystem, more exactly the Configuration Class, add the flowing property setting:\r\n\r\n    \r\n    Configuration conf = new Configuration();\r\n    conf.set(&quot;fs.defaultFS&quot;, HDFS_PATH);\r\n    conf.set(&quot;fs.hdfs.impl&quot;, DistributedFileSystem.class.getName());\r\n    conf.set(&quot;dfs.client.block.write.replace-datanode-on-failure.policy&quot;, &quot;NEVER&quot;);\r\n    conf.set(&quot;dfs.client.block.write.replace-datanode-on-failure.enable&quot;, &quot;true&quot;);\r\n\r\n","title":"How to fix hdfs append excepiton:already the current lease holder","body":"<p>When you create your FileSystem, more exactly the Configuration Class, add the flowing property setting:</p>\n<pre><code>Configuration conf = new Configuration();\nconf.set(&quot;fs.defaultFS&quot;, HDFS_PATH);\nconf.set(&quot;fs.hdfs.impl&quot;, DistributedFileSystem.class.getName());\nconf.set(&quot;dfs.client.block.write.replace-datanode-on-failure.policy&quot;, &quot;NEVER&quot;);\nconf.set(&quot;dfs.client.block.write.replace-datanode-on-failure.enable&quot;, &quot;true&quot;);\n</code></pre>\n"}],"owner":{"account_id":16377256,"reputation":21,"user_id":11829094,"display_name":"Spring Brother"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675407317,"creation_date":1564104318,"question_id":57212002,"body_markdown":"I pull data from kafka,and append data to HDFS.But I got exception message when append data.\r\n\r\nhere is exception message\r\n\r\n```\r\nCaused by: org.apache.hadoop.ipc.RemoteException: Failed to APPEND_FILE T_LOG_RECORD_CS/web-Thread-3 for DFSClient_NONMAPREDUCE_-558981961_18 on IPå°å because DFSClient_NONMAPREDUCE_-558981961_18 is already the current lease holder.\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.recoverLeaseInternal(FSNamesystem.java:2970)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.appendFileInternal(FSNamesystem.java:2766)\r\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.appendFileInt(FSNamesystem.java:3073)\r\n        at ...\r\ncom.sharing.hdfs.HdfsHelper$.getFSDataOutputSteam(HdfsHelper.scala:225)\r\n        at com.sharing.hdfs.HdfsHelper$.writeLines(HdfsHelper.scala:149)\r\n```\r\n\r\nthis is my code,I use writeLines method to append datas to HDFS.\r\n\r\n```\r\n/**\r\n    * åå»ºfsDataOutputSteam\r\n    *\r\n    * @param path\r\n    * @return\r\n    */\r\n  def getFSDataOutputSteam(path: String): FSDataOutputStream = {\r\n    val pathIsExist = isExist(path)\r\n    if (pathIsExist) {\r\n      fileSystem.append(path)\r\n    } else {\r\n      fileSystem.create(path)\r\n    }\r\n  }\r\n\r\n// åå¥æ°æ®\r\ndef writeLines(lines: java.util.List[String], path: String): Unit = {\r\n\r\n\r\n    var outputStream: FSDataOutputStream = null\r\n    try {\r\n\r\n      outputStream = getFSDataOutputSteam(path)\r\n      lines.foreach({\r\n        line =&gt;\r\n          outputStream.write(line.trim.getBytes(&quot;UTF-8&quot;))\r\n          outputStream.write(&quot;\\n&quot;.getBytes(&quot;UTF-8&quot;))\r\n      })\r\n      LOGGER.info(&quot;HDFSåå¥æåï¼&quot;)\r\n    }\r\n    catch {\r\n      case e: IOException =&gt;\r\n        LOGGER.error(e.getMessage, e)\r\n        updateLease(path)\r\n        throw new IOException(e)\r\n    } finally {\r\n      if (Objects.nonNull(outputStream)) {\r\n        outputStream.close()\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nPlease give me some helpï¼Thank you~","title":"How to fix hdfs append excepiton:already the current lease holder","body":"<p>I pull data from kafka,and append data to HDFS.But I got exception message when append data.</p>\n\n<p>here is exception message</p>\n\n<pre><code>Caused by: org.apache.hadoop.ipc.RemoteException: Failed to APPEND_FILE T_LOG_RECORD_CS/web-Thread-3 for DFSClient_NONMAPREDUCE_-558981961_18 on IPå°å because DFSClient_NONMAPREDUCE_-558981961_18 is already the current lease holder.\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.recoverLeaseInternal(FSNamesystem.java:2970)\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.appendFileInternal(FSNamesystem.java:2766)\n        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.appendFileInt(FSNamesystem.java:3073)\n        at ...\ncom.sharing.hdfs.HdfsHelper$.getFSDataOutputSteam(HdfsHelper.scala:225)\n        at com.sharing.hdfs.HdfsHelper$.writeLines(HdfsHelper.scala:149)\n</code></pre>\n\n<p>this is my code,I use writeLines method to append datas to HDFS.</p>\n\n<pre><code>/**\n    * åå»ºfsDataOutputSteam\n    *\n    * @param path\n    * @return\n    */\n  def getFSDataOutputSteam(path: String): FSDataOutputStream = {\n    val pathIsExist = isExist(path)\n    if (pathIsExist) {\n      fileSystem.append(path)\n    } else {\n      fileSystem.create(path)\n    }\n  }\n\n// åå¥æ°æ®\ndef writeLines(lines: java.util.List[String], path: String): Unit = {\n\n\n    var outputStream: FSDataOutputStream = null\n    try {\n\n      outputStream = getFSDataOutputSteam(path)\n      lines.foreach({\n        line =&gt;\n          outputStream.write(line.trim.getBytes(\"UTF-8\"))\n          outputStream.write(\"\\n\".getBytes(\"UTF-8\"))\n      })\n      LOGGER.info(\"HDFSåå¥æåï¼\")\n    }\n    catch {\n      case e: IOException =&gt;\n        LOGGER.error(e.getMessage, e)\n        updateLease(path)\n        throw new IOException(e)\n    } finally {\n      if (Objects.nonNull(outputStream)) {\n        outputStream.close()\n      }\n    }\n  }\n</code></pre>\n\n<p>Please give me some helpï¼Thank you~</p>\n"},{"tags":["java","android","kotlin","stripe-payments"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675417511,"post_id":75331802,"comment_id":132928860,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":132746,"reputation":1266,"user_id":333638,"display_name":"qichuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675407033,"creation_date":1675407033,"answer_id":75332374,"question_id":75331802,"body_markdown":"Yes. You can create a payment method from your Android app by calling [stripe.createPaymentMethod()][1].\r\n\r\nThere&#39;s also an [example code][2] that you find from the Stripe Android Github repo.\r\n\r\n\r\n  [1]: https://stripe.dev/stripe-android/payments-core/com.stripe.android/create-payment-method.html\r\n  [2]: https://github.com/stripe/stripe-android/blob/master/example/src/main/java/com/stripe/example/activity/PaymentMethodViewModel.kt#L21","title":"Can I add card on stripe using stripe public key with android SDK","body":"<p>Yes. You can create a payment method from your Android app by calling <a href=\"https://stripe.dev/stripe-android/payments-core/com.stripe.android/create-payment-method.html\" rel=\"nofollow noreferrer\">stripe.createPaymentMethod()</a>.</p>\n<p>There's also an <a href=\"https://github.com/stripe/stripe-android/blob/master/example/src/main/java/com/stripe/example/activity/PaymentMethodViewModel.kt#L21\" rel=\"nofollow noreferrer\">example code</a> that you find from the Stripe Android Github repo.</p>\n"}],"owner":{"account_id":27691516,"reputation":1,"user_id":21138084,"display_name":"Bhringesh Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675407033,"creation_date":1675401523,"question_id":75331802,"body_markdown":"I am unable to card on stripe using public key, I want add card on stripe for feature payment using PaymentMethodId. Is it possible?\r\n\r\nIt is working with stripe secret key, But I cant use secret key at App level.","title":"Can I add card on stripe using stripe public key with android SDK","body":"<p>I am unable to card on stripe using public key, I want add card on stripe for feature payment using PaymentMethodId. Is it possible?</p>\n<p>It is working with stripe secret key, But I cant use secret key at App level.</p>\n"},{"tags":["java","libgdx","collision-detection","collision"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675360787,"post_id":75326046,"comment_id":132917646,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1675382075,"post_id":75326046,"comment_id":132922927,"body_markdown":"Do you need this as additional check in your //Collidable code for all the possibilities ```daShape instanceof daRect &amp;&amp; nextShape instanceof daCircle``` because they might not necessarily always be in this order ```daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect ``` i.e you might find a rect before a circle as you iterate which would be missed.","body":"Do you need this as additional check in your //Collidable code for all the possibilities <code>daShape instanceof daRect &amp;&amp; nextShape instanceof daCircle</code> because they might not necessarily always be in this order <code>daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect </code> i.e you might find a rect before a circle as you iterate which would be missed."},{"owner":{"account_id":27687066,"reputation":11,"user_id":21134633,"display_name":"CrazeyFazey"},"score":0,"creation_date":1675409094,"post_id":75326046,"comment_id":132926672,"body_markdown":"@londonBadger You are absolutely right. One of the problems I have now is that my circles are able to collide with my rectangle but my rectangles are not able to collide with my circle(Code crashes). I believe this has something to do with my conditional checks or at least the math logic of circIntersectRect. I am still trying to find ways to get my Rectangle to collide with my circle but i&#39;m at an impasse. If you got any idea, I would love to try them!","body":"@londonBadger You are absolutely right. One of the problems I have now is that my circles are able to collide with my rectangle but my rectangles are not able to collide with my circle(Code crashes). I believe this has something to do with my conditional checks or at least the math logic of circIntersectRect. I am still trying to find ways to get my Rectangle to collide with my circle but i&#39;m at an impasse. If you got any idea, I would love to try them!"},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1675444235,"post_id":75326046,"comment_id":132937400,"body_markdown":"If you are suspicious about your intersection test (and all this is axis-aligned), replace it with this one which seems optimised as well https://stackoverflow.com/questions/401847/circle-rectangle-collision-detection-intersection","body":"If you are suspicious about your intersection test (and all this is axis-aligned), replace it with this one which seems optimised as well <a href=\"https://stackoverflow.com/questions/401847/circle-rectangle-collision-detection-intersection\" title=\"circle rectangle collision detection intersection\">stackoverflow.com/questions/401847/&hellip;</a>"},{"owner":{"account_id":27687066,"reputation":11,"user_id":21134633,"display_name":"CrazeyFazey"},"score":0,"creation_date":1675541032,"post_id":75326046,"comment_id":132952852,"body_markdown":"@londonBadger That is the one I am using! XD\nUPDATE: I manage to get the Rectangle intersecting with the circle by tweaking the algorithm a little and account for the move position of the rectangle. However, I have a slight issue whereas if the rectangle collides into a shape from the left or right, they are unable to back out. Weird, I&#39;ll keep trying and update my progress!","body":"@londonBadger That is the one I am using! XD UPDATE: I manage to get the Rectangle intersecting with the circle by tweaking the algorithm a little and account for the move position of the rectangle. However, I have a slight issue whereas if the rectangle collides into a shape from the left or right, they are unable to back out. Weird, I&#39;ll keep trying and update my progress!"}],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675406267,"creation_date":1675406267,"answer_id":75332280,"question_id":75326046,"body_markdown":"The problem might be your `checkForCollision` method.\r\n\r\nYou are iterating over all `GeometricObjects` in `listOfAllShapes`. Then you set the collision flag for the current iteration of the GeometricObject:\r\n\r\n    setCirclesCollisionFlag(isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction));\r\n\r\nSo if any collision is detected the flag will be set to true. **But if the next object doesn&#39;t collide, the flag is reset to false**. Therefore it seems that only the last shapes of each type in the iteration list can collide.\r\n\r\nTo fix this you need to change the lines `set...CollisionFlag ...` to **not reset the flag if it was already set to true**. Also you need to reset the flags once before the start of the loop.\r\n\r\nA solution could look like this:\r\n\r\n    public void checkForCollision(ArrayList&lt;GeometricObjects&gt; listOfAllShapes, String direction) {\r\n        // initially reset the flags before the loop\r\n        setCirclesCollisionFlag(false);\r\n        setRectanglesCollisionFlag(false);\r\n        setCircleRectangleCollisionFlag(false);\r\n\r\n        for (GeometricObjects daShape : listOfAllShapes) {\r\n            if (daShape instanceof Collidable) {\r\n                Iterator&lt;GeometricObjects&gt; iter = listOfAllShapes.iterator();\r\n                while(iter.hasNext()) {\r\n                    GeometricObjects nextShape = iter.next();\r\n                    if (daShape != nextShape) {\r\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daCircle //\r\n                            &amp;&amp; isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction)) { // only set to true, but never reset to false here\r\n                            setCirclesCollisionFlag(true);\r\n                        }\r\n                        if (daShape instanceof daRect &amp;&amp; nextShape instanceof daRect //\r\n                            &amp;&amp; isRectanglesColliding((daRect)daShape, (daRect)nextShape, direction)) { // only set to true, but never reset to false here\r\n                            setRectanglesCollisionFlag(true);\r\n                        }\r\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect //\r\n                            &amp;&amp; circIntersectRect((daCircle)daShape, (daRect)nextShape, direction)) { // only set to true, but never reset to false here\r\n                            setCircleRectangleCollisionFlag(true);\r\n                        } \r\n                    } \r\n                } \r\n            }\r\n        }\r\n    }","title":"LibGDX - Collision Detection | Collision Reaction | Collision doesn&#39;t apply to all?","body":"<p>The problem might be your <code>checkForCollision</code> method.</p>\n<p>You are iterating over all <code>GeometricObjects</code> in <code>listOfAllShapes</code>. Then you set the collision flag for the current iteration of the GeometricObject:</p>\n<pre><code>setCirclesCollisionFlag(isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction));\n</code></pre>\n<p>So if any collision is detected the flag will be set to true. <strong>But if the next object doesn't collide, the flag is reset to false</strong>. Therefore it seems that only the last shapes of each type in the iteration list can collide.</p>\n<p>To fix this you need to change the lines <code>set...CollisionFlag ...</code> to <strong>not reset the flag if it was already set to true</strong>. Also you need to reset the flags once before the start of the loop.</p>\n<p>A solution could look like this:</p>\n<pre><code>public void checkForCollision(ArrayList&lt;GeometricObjects&gt; listOfAllShapes, String direction) {\n    // initially reset the flags before the loop\n    setCirclesCollisionFlag(false);\n    setRectanglesCollisionFlag(false);\n    setCircleRectangleCollisionFlag(false);\n\n    for (GeometricObjects daShape : listOfAllShapes) {\n        if (daShape instanceof Collidable) {\n            Iterator&lt;GeometricObjects&gt; iter = listOfAllShapes.iterator();\n            while(iter.hasNext()) {\n                GeometricObjects nextShape = iter.next();\n                if (daShape != nextShape) {\n                    if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daCircle //\n                        &amp;&amp; isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction)) { // only set to true, but never reset to false here\n                        setCirclesCollisionFlag(true);\n                    }\n                    if (daShape instanceof daRect &amp;&amp; nextShape instanceof daRect //\n                        &amp;&amp; isRectanglesColliding((daRect)daShape, (daRect)nextShape, direction)) { // only set to true, but never reset to false here\n                        setRectanglesCollisionFlag(true);\n                    }\n                    if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect //\n                        &amp;&amp; circIntersectRect((daCircle)daShape, (daRect)nextShape, direction)) { // only set to true, but never reset to false here\n                        setCircleRectangleCollisionFlag(true);\n                    } \n                } \n            } \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27687066,"reputation":11,"user_id":21134633,"display_name":"CrazeyFazey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675406267,"creation_date":1675354817,"question_id":75326046,"body_markdown":"I have parent classes that create shape entities and I can choose to make the entity a collidable entity or a Non-Collidable Entity.\r\nSo far, in this project, Circles and Rectangles are collidables. Whereas, the ellipse is a Non-Collidable.\r\nThe funny thing is even though I have created multiple circles and rectangles. Only 1 pair of circles and rectangles are collidable whereas the rest isn&#39;t. I am really confused as I thought the child always inherits the property from the parent. Therefore, if all shapes have the same parent. I do not see how is it possible that the child does not behave the same way.\r\n\r\n// CIRCLE ENTITY\r\n\r\n```\r\npublic class daCircle extends Collidable{\r\n\r\n    protected float circleRadius;\r\n    protected int upKey;\r\n    protected int downKey;\r\n    protected int leftKey;\r\n    protected int rightKey;\r\n\r\n    public daCircle(int circleXPos, int circleYPos, float circleRadius, int circleSpeed, Color circleColor, \r\n    int upKey, int downKey, int leftKey, int rightKey) {\r\n        super(circleXPos, circleYPos, circleColor, circleSpeed);\r\n        this.circleRadius = circleRadius;\r\n        super.keyMovementList.set(0, upKey);\r\n        super.keyMovementList.set(1, downKey);\r\n        super.keyMovementList.set(2, leftKey);\r\n        super.keyMovementList.set(3, rightKey);\r\n    }\r\n}\r\n```\r\n\r\n// Collidable \r\n\r\n```\r\npublic void checkForCollision(ArrayList&lt;GeometricObjects&gt; listOfAllShapes, String direction) {      \r\n        for (GeometricObjects daShape : listOfAllShapes) {\r\n            if (daShape instanceof Collidable) {\r\n                Iterator&lt;GeometricObjects&gt; iter = listOfAllShapes.iterator();\r\n                while(iter.hasNext()) {\r\n                    GeometricObjects nextShape = iter.next();\r\n                    if (daShape != nextShape) {\r\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daCircle) {\r\n                            setCirclesCollisionFlag(isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction));\r\n                        }\r\n                        if (daShape instanceof daRect &amp;&amp; nextShape instanceof daRect) {\r\n                            setRectanglesCollisionFlag(isRectanglesColliding((daRect)daShape, (daRect)nextShape, direction));\r\n                        }\r\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect ) {\r\n                            setCircleRectangleCollisionFlag(circIntersectRect((daCircle)daShape, (daRect)nextShape, direction));\r\n                        } \r\n                    } \r\n                } \r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n// Controller\r\n\r\n\r\n```\r\npublic void movementController(ArrayList&lt;GeometricObjects&gt; allGeometricShapes) { \r\n        int temporaryObjSpeedHolder = 0;\r\n\r\n        GeometricObjects daObject = (GeometricObjects) this;\r\n        if (daObject instanceof Collidable) {\r\n            collidableShape = (Collidable) daObject;\r\n            daObject = collidableShape;\r\n        }\r\n\r\n        // if (Gdx.input.isTouched()) {\r\n        //     daObject.setXPos(Gdx.input.getX());\r\n        //     daObject.setYPos(Gdx.graphics.getHeight() - Gdx.input.getY());\r\n        // }\r\n\r\n        if(Gdx.input.isKeyPressed(keyMovementList.get(0))){\r\n            if (daObject instanceof Collidable) {\r\n                collidableShape.checkForCollision(allGeometricShapes, &quot;UP&quot;);\r\n            }\r\n            \r\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\r\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\r\n            } else {\r\n                temporaryObjSpeedHolder = objectSpeed;\r\n            }\r\n\r\n            daObject.yPos += temporaryObjSpeedHolder;\r\n        \r\n        } else if(Gdx.input.isKeyPressed(keyMovementList.get(1))){\r\n            if (daObject instanceof Collidable) {\r\n                collidableShape.checkForCollision(allGeometricShapes, &quot;DOWN&quot;);\r\n            }\r\n\r\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\r\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\r\n            } else {\r\n                temporaryObjSpeedHolder = objectSpeed;\r\n            }\r\n\r\n            daObject.yPos -= temporaryObjSpeedHolder;\r\n\r\n        }\r\n\r\n        if(Gdx.input.isKeyPressed(keyMovementList.get(2))){\r\n            if (daObject instanceof Collidable) {\r\n                collidableShape.checkForCollision(allGeometricShapes, &quot;LEFT&quot;);\r\n            }\r\n\r\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\r\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\r\n            } else {\r\n                temporaryObjSpeedHolder = objectSpeed;\r\n            }\r\n\r\n            daObject.xPos -= temporaryObjSpeedHolder;\r\n\r\n        } else if(Gdx.input.isKeyPressed(keyMovementList.get(3))){\r\n            if (daObject instanceof Collidable) {\r\n                collidableShape.checkForCollision(allGeometricShapes, &quot;RIGHT&quot;);\r\n            }\r\n\r\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\r\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\r\n            } else {\r\n                temporaryObjSpeedHolder = objectSpeed;\r\n            }\r\n\r\n            daObject.xPos += temporaryObjSpeedHolder;\r\n        }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have created many circles and rectangles and discovered that only the latest created shapes are able to collide.\r\nI thought that maybe since the shapes are all on different layers that it might not be able to collide. \r\nI really dk what else I can be testing to see why it is the way it is. If you guys got suggestions of testing. I&#39;m all for it!","title":"LibGDX - Collision Detection | Collision Reaction | Collision doesn&#39;t apply to all?","body":"<p>I have parent classes that create shape entities and I can choose to make the entity a collidable entity or a Non-Collidable Entity.\nSo far, in this project, Circles and Rectangles are collidables. Whereas, the ellipse is a Non-Collidable.\nThe funny thing is even though I have created multiple circles and rectangles. Only 1 pair of circles and rectangles are collidable whereas the rest isn't. I am really confused as I thought the child always inherits the property from the parent. Therefore, if all shapes have the same parent. I do not see how is it possible that the child does not behave the same way.</p>\n<p>// CIRCLE ENTITY</p>\n<pre><code>public class daCircle extends Collidable{\n\n    protected float circleRadius;\n    protected int upKey;\n    protected int downKey;\n    protected int leftKey;\n    protected int rightKey;\n\n    public daCircle(int circleXPos, int circleYPos, float circleRadius, int circleSpeed, Color circleColor, \n    int upKey, int downKey, int leftKey, int rightKey) {\n        super(circleXPos, circleYPos, circleColor, circleSpeed);\n        this.circleRadius = circleRadius;\n        super.keyMovementList.set(0, upKey);\n        super.keyMovementList.set(1, downKey);\n        super.keyMovementList.set(2, leftKey);\n        super.keyMovementList.set(3, rightKey);\n    }\n}\n</code></pre>\n<p>// Collidable</p>\n<pre><code>public void checkForCollision(ArrayList&lt;GeometricObjects&gt; listOfAllShapes, String direction) {      \n        for (GeometricObjects daShape : listOfAllShapes) {\n            if (daShape instanceof Collidable) {\n                Iterator&lt;GeometricObjects&gt; iter = listOfAllShapes.iterator();\n                while(iter.hasNext()) {\n                    GeometricObjects nextShape = iter.next();\n                    if (daShape != nextShape) {\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daCircle) {\n                            setCirclesCollisionFlag(isCirclesColliding((daCircle)daShape, (daCircle)nextShape, direction));\n                        }\n                        if (daShape instanceof daRect &amp;&amp; nextShape instanceof daRect) {\n                            setRectanglesCollisionFlag(isRectanglesColliding((daRect)daShape, (daRect)nextShape, direction));\n                        }\n                        if (daShape instanceof daCircle &amp;&amp; nextShape instanceof daRect ) {\n                            setCircleRectangleCollisionFlag(circIntersectRect((daCircle)daShape, (daRect)nextShape, direction));\n                        } \n                    } \n                } \n            }\n        }\n    }\n</code></pre>\n<p>// Controller</p>\n<pre><code>public void movementController(ArrayList&lt;GeometricObjects&gt; allGeometricShapes) { \n        int temporaryObjSpeedHolder = 0;\n\n        GeometricObjects daObject = (GeometricObjects) this;\n        if (daObject instanceof Collidable) {\n            collidableShape = (Collidable) daObject;\n            daObject = collidableShape;\n        }\n\n        // if (Gdx.input.isTouched()) {\n        //     daObject.setXPos(Gdx.input.getX());\n        //     daObject.setYPos(Gdx.graphics.getHeight() - Gdx.input.getY());\n        // }\n\n        if(Gdx.input.isKeyPressed(keyMovementList.get(0))){\n            if (daObject instanceof Collidable) {\n                collidableShape.checkForCollision(allGeometricShapes, &quot;UP&quot;);\n            }\n            \n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\n            } else {\n                temporaryObjSpeedHolder = objectSpeed;\n            }\n\n            daObject.yPos += temporaryObjSpeedHolder;\n        \n        } else if(Gdx.input.isKeyPressed(keyMovementList.get(1))){\n            if (daObject instanceof Collidable) {\n                collidableShape.checkForCollision(allGeometricShapes, &quot;DOWN&quot;);\n            }\n\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\n            } else {\n                temporaryObjSpeedHolder = objectSpeed;\n            }\n\n            daObject.yPos -= temporaryObjSpeedHolder;\n\n        }\n\n        if(Gdx.input.isKeyPressed(keyMovementList.get(2))){\n            if (daObject instanceof Collidable) {\n                collidableShape.checkForCollision(allGeometricShapes, &quot;LEFT&quot;);\n            }\n\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\n            } else {\n                temporaryObjSpeedHolder = objectSpeed;\n            }\n\n            daObject.xPos -= temporaryObjSpeedHolder;\n\n        } else if(Gdx.input.isKeyPressed(keyMovementList.get(3))){\n            if (daObject instanceof Collidable) {\n                collidableShape.checkForCollision(allGeometricShapes, &quot;RIGHT&quot;);\n            }\n\n            if (circlesAreColliding || rectanglesAreColliding || circleRectangleAreColliding) {\n                temporaryObjSpeedHolder = incomingCollisionSpeed;\n            } else {\n                temporaryObjSpeedHolder = objectSpeed;\n            }\n\n            daObject.xPos += temporaryObjSpeedHolder;\n        }\n</code></pre>\n<p>I have created many circles and rectangles and discovered that only the latest created shapes are able to collide.\nI thought that maybe since the shapes are all on different layers that it might not be able to collide.\nI really dk what else I can be testing to see why it is the way it is. If you guys got suggestions of testing. I'm all for it!</p>\n"},{"tags":["java","powershell","performance","jvm","processbuilder"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675334823,"post_id":75321805,"comment_id":132908271,"body_markdown":"ProcessBuilder just launches external processes, it shouldn&#39;t have a major impact on how those processes execute, since it uses the exact same mechanism that the rest of the OS uses (fork/exec or whatever the Windows equivalent is). One thing that could influence your script is how much memory and/or cpu time is available while your Java application is running. Is your application doing any heavy work *while* waiting for the script to execute? How much memory is available and how much is used by your JVM?","body":"ProcessBuilder just launches external processes, it shouldn&#39;t have a major impact on how those processes execute, since it uses the exact same mechanism that the rest of the OS uses (fork/exec or whatever the Windows equivalent is). One thing that could influence your script is how much memory and/or cpu time is available while your Java application is running. Is your application doing any heavy work <i>while</i> waiting for the script to execute? How much memory is available and how much is used by your JVM?"},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675339202,"post_id":75321805,"comment_id":132909747,"body_markdown":"Yes, the application will be doing heavy work all the time. Maximum heap memory available for JVM is 2093 MB (May increase during usage) but under normal conditions with less work, the JVM will be consuming around 800MB with 350 threads. Will this information suffice?","body":"Yes, the application will be doing heavy work all the time. Maximum heap memory available for JVM is 2093 MB (May increase during usage) but under normal conditions with less work, the JVM will be consuming around 800MB with 350 threads. Will this information suffice?"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1675339960,"post_id":75321805,"comment_id":132910000,"body_markdown":"Check with Task manager memory.  You may have an object that is not being disposed.  If memory is constantly increasing that an object is not being disposed or the application is using more memory as time goes on.","body":"Check with Task manager memory.  You may have an object that is not being disposed.  If memory is constantly increasing that an object is not being disposed or the application is using more memory as time goes on."},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675340256,"post_id":75321805,"comment_id":132910095,"body_markdown":"The above info is from the task manager only. Memory will increase during usage and will decrease after it. But the thing is PowerShell runs as a separate service when invoked from JVM in task manager. So, why is it running so slow?","body":"The above info is from the task manager only. Memory will increase during usage and will decrease after it. But the thing is PowerShell runs as a separate service when invoked from JVM in task manager. So, why is it running so slow?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675345969,"post_id":75321805,"comment_id":132912192,"body_markdown":"[This question](https://stackoverflow.com/q/74362226/2711488) seems to have a similar or even the same issue, a program running slower with `ProcessBuilder` than stand-alone. But again we have not enough information, i.e. code to reproduce the issue. At the moment, itâs not clear whether the issue is connected to the way you use the API (e.g. reading the pipe) or whether thereâs a deeper problem with the API itself.","body":"<a href=\"https://stackoverflow.com/q/74362226/2711488\">This question</a> seems to have a similar or even the same issue, a program running slower with <code>ProcessBuilder</code> than stand-alone. But again we have not enough information, i.e. code to reproduce the issue. At the moment, itâs not clear whether the issue is connected to the way you use the API (e.g. reading the pipe) or whether thereâs a deeper problem with the API itself."},{"owner":{"account_id":7111967,"reputation":4904,"user_id":7411885,"display_name":"Cpt.Whale"},"score":0,"creation_date":1675359594,"post_id":75321805,"comment_id":132917246,"body_markdown":"Please add the basic powershell script too, or a simplified version. If you&#39;re just getting mailbox properties, include about how many mailboxes you process too. When running via processBuilder, are you launching multiple instances of powershell? Exchange Online has some tight throttling and concurrency limits per-user and per-tenant.","body":"Please add the basic powershell script too, or a simplified version. If you&#39;re just getting mailbox properties, include about how many mailboxes you process too. When running via processBuilder, are you launching multiple instances of powershell? Exchange Online has some tight throttling and concurrency limits per-user and per-tenant."},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675399563,"post_id":75321805,"comment_id":132925122,"body_markdown":"Have added code snippets as requested. Please look into it. @Cpt.Whale","body":"Have added code snippets as requested. Please look into it. @Cpt.Whale"},{"owner":{"account_id":7111967,"reputation":4904,"user_id":7411885,"display_name":"Cpt.Whale"},"score":0,"creation_date":1675438283,"post_id":75321805,"comment_id":132935328,"body_markdown":"Do you ever have more than one instance of powershell running? You may want to `Disconnect-ExchangeOnline` between. The majority of the performance there is going to be just the response time from EXO which can be pretty inconsistent, and always going to be pretty slow for all mailboxes. Since you&#39;re doing all mailboxes anyways, the ms graph reports might be better, `/reports/getMailboxUsageDetail(period=&#39;D7&#39;)` only takes a second or two for example for a few hundred mailboxes","body":"Do you ever have more than one instance of powershell running? You may want to <code>Disconnect-ExchangeOnline</code> between. The majority of the performance there is going to be just the response time from EXO which can be pretty inconsistent, and always going to be pretty slow for all mailboxes. Since you&#39;re doing all mailboxes anyways, the ms graph reports might be better, <code>&#47;reports&#47;getMailboxUsageDetail(period=&#39;D7&#39;)</code> only takes a second or two for example for a few hundred mailboxes"},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675661105,"post_id":75321805,"comment_id":132969570,"body_markdown":"We do use the `/reports/getMailboxUsageDetail(period=&#39;D7&#39;)` API but it is archived data. For live data, we are using PowerShell. As you suggested we are not using `Disconnect-ExchangeOnline` command. However, I think the lag is not due to this as I have tested the same code in a separate JAVA file but the time lag was not there. The delay is only when executing this via our JVM environment with multiple threads even though memory allocation is sufficient and similar to standalone PowerShell console.","body":"We do use the <code>&#47;reports&#47;getMailboxUsageDetail(period=&#39;D7&#39;)</code> API but it is archived data. For live data, we are using PowerShell. As you suggested we are not using <code>Disconnect-ExchangeOnline</code> command. However, I think the lag is not due to this as I have tested the same code in a separate JAVA file but the time lag was not there. The delay is only when executing this via our JVM environment with multiple threads even though memory allocation is sufficient and similar to standalone PowerShell console."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1675786401,"post_id":75321805,"comment_id":133001800,"body_markdown":"In my own PB-PWSH tests I noticed two ways that speed was improved:  Use a more recent version of Powershell than v1.0, and trim excessive stdout. If writing huge reports, perhaps try adding `| Out-File -FilePath reportXYZ.csv` in appropriate places to generate directly to file within Powershell, and scan in Java afterwards. However I didn&#39;t see much difference between PB-PWSH vs PWSH.","body":"In my own PB-PWSH tests I noticed two ways that speed was improved:  Use a more recent version of Powershell than v1.0, and trim excessive stdout. If writing huge reports, perhaps try adding <code>| Out-File -FilePath reportXYZ.csv</code> in appropriate places to generate directly to file within Powershell, and scan in Java afterwards. However I didn&#39;t see much difference between PB-PWSH vs PWSH."},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675833741,"post_id":75321805,"comment_id":133011145,"body_markdown":"`v1.0` is the folder name where `PowerShell.exe` is present. The Output will be around 50 lines only. Performance should not differ for 50 lines. Tried the `Out-File` method also, couldn&#39;t find any difference.","body":"<code>v1.0</code> is the folder name where <code>PowerShell.exe</code> is present. The Output will be around 50 lines only. Performance should not differ for 50 lines. Tried the <code>Out-File</code> method also, couldn&#39;t find any difference."},{"owner":{"account_id":7111967,"reputation":4904,"user_id":7411885,"display_name":"Cpt.Whale"},"score":0,"creation_date":1675867794,"post_id":75321805,"comment_id":133020568,"body_markdown":"@Meiruko Are you running multiple EXO queries -at the same time- in different threads? Exchange online will suspend your connections if you open too many. Are you using a current version of the `ExchangeOnlineManagement` module?","body":"@Meiruko Are you running multiple EXO queries -at the same time- in different threads? Exchange online will suspend your connections if you open too many. Are you using a current version of the <code>ExchangeOnlineManagement</code> module?"},{"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"score":0,"creation_date":1675917020,"post_id":75321805,"comment_id":133032070,"body_markdown":"@Cpt.Whale we are not running multiple queries at the same time. Exchange Online will allow only upto three simultaneous connections. We have suggested the below command for EXO for users.\n`Install-Module -Name ExchangeOnlineManagement -RequiredVersion 2.0.5`","body":"@Cpt.Whale we are not running multiple queries at the same time. Exchange Online will allow only upto three simultaneous connections. We have suggested the below command for EXO for users. <code>Install-Module -Name ExchangeOnlineManagement -RequiredVersion 2.0.5</code>"}],"owner":{"account_id":27683867,"reputation":11,"user_id":21132017,"display_name":"Meiruko"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675406240,"creation_date":1675333858,"question_id":75321805,"body_markdown":"I&#39;m trying to execute a PowerShell script which retirves Exchange Online mailboxes. When running the script separately in PowerShell prompt and running the script via JAVA class file (in eclipse), the time taken is 5 minutes. But when invoking the script inside our application which is multi threaded JVM environment with huge heap memory, it takes almost double the time.\r\n\r\nWe are using ProcessBuilder to invoke the script and read the InuptStream. Only the script execution time is higher and parsing time is fast enough  in JAVA side. If any extra info needed, feel free to comment.\r\n\r\nI&#39;m quite new to JAVA ProcessBuilder. So, still trying to understand some concepts.\r\n\r\nI tried to trobleshoot in our environemnt but the issue seems to be of PowerShell side.\r\nI seacrhed everywhere about this but couldn&#39;t find any.\r\n\r\n\r\n**Edit**: We are fetching mailboxes and processing to sort top 10 mailboxes based on usage and top inactive mailboxes in desired format. Please find the **PowerShell snippet** requested below:\r\n\r\n    Import-Module ExchangeOnlineManagement -ErrorAction Stop -WarningAction SilentlyContinue\r\n    Connect-ExchangeOnline -ShowBanner:$false -Credential $credential -ErrorAction Stop -WarningAction SilentlyContinue\r\n    $mailboxes = $null\r\n    if ($metricsList -contains &quot;InactiveMailboxes&quot; -or $metricsList -contains &quot;TopMailboxes&quot;) {\r\n    $mailboxes = Get-EXOMailbox -ResultSize Unlimited -WarningAction SilentlyContinue | Where-Object { (!$_.Name.startswith(&quot;SystemMailbox&quot;)) -and (!$_.Name.startswith(&quot;FederatedEmail&quot;)) -and (!$_.Name.startswith(&quot;DiscoverySearchMailbox&quot;)) } | select -expand userprincipalname | Get-EXOMailboxStatistics -Properties DisplayName,ItemCount,TotalItemSize,LastLogonTime -WarningAction SilentlyContinue}\r\n\r\n    $inactivemailbox = $mailboxes | Where-Object { $_.LastLogonTime -ne $null } | Where-Object { $_.LastLogonTime -lt (Get-Date).AddDays(-30) } | Sort-Object LastLogonTime -Descending | Select-Object -First 100 | Select-Object DisplayName,LastLogonTime | ConvertTo-Csv -Delimiter &quot;|&quot; -NoTypeInformation | ForEach-Object { $_.Replace(&#39;&quot;&#39;,&#39;&#39;) } | Select-Object -Skip 1\r\n\r\n    $topmailbox = $mailboxes | Sort-Object TotalItemSize -Descending | Select-Object -First 10 | Select-Object DisplayName,@{ Name = &quot;TotalItemSizeMB&quot;; expression = { [math]::Round(($_.TotalItemSize.ToString().split(&quot;(&quot;)[1].split(&quot; &quot;)[0].Replace(&quot;,&quot;,&quot;&quot;) / 1MB),2) } },ItemCount | ConvertTo-Csv -Delimiter &quot;|&quot; -NoTypeInformation | ForEach-Object { $_.Replace(&#39;&quot;&#39;,&#39;&#39;) } | Select-Object -Skip 1\r\n\r\n**Java Code snippet**:\r\nWe are framing the script execution for ProcessBuilder like below for security reasons:\r\n\r\n    String POWERSHELL_PATH = System.getenv(&quot;SystemRoot&quot;) + File.separator + &quot;System32&quot; + File.separator + &quot;WindowsPowerShell&quot; + File.separator + &quot;v1.0&quot; + File.separator + &quot;powershell.exe&quot;;\r\n    ProcessBuilder pb = new ProcessBuilder(POWERSHELL_PATH);\r\n    List args = [-ExecutionPolicy, Bypass, -NoLogo, -NonInteractive, -NoProfile, -WindowStyle, Hidden, &quot;&amp;{&amp;, &#39;Script_With_Path&#39;, &#39;Comma separated args&#39; }&quot;]; // Sample values\r\n    pb.command().addAll(args);\r\n\r\nReading the InputStream as below:\r\n\r\n    BufferedReader br=new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    while((str = br.readLine()) != null) {\r\n    \tif(str.indexOf(&quot;Script execution time was exceeded&quot;)!=-1) {\r\n    \t\toutputBuff.append(&quot;Error # Script execution time was exceeded for the host&quot;); // NO I18N\r\n    \t\tbr.close();\r\n    \t\treturn;\r\n    \t}\r\n    \toutputBuff.append(str);\r\n    \toutputBuff.append(&quot;\\n&quot;); // NO I18N\r\n    }\r\n","title":"Why running a PowerShell script is slow inside a JVM multithreaded environment whereas it is faster otherwise?","body":"<p>I'm trying to execute a PowerShell script which retirves Exchange Online mailboxes. When running the script separately in PowerShell prompt and running the script via JAVA class file (in eclipse), the time taken is 5 minutes. But when invoking the script inside our application which is multi threaded JVM environment with huge heap memory, it takes almost double the time.</p>\n<p>We are using ProcessBuilder to invoke the script and read the InuptStream. Only the script execution time is higher and parsing time is fast enough  in JAVA side. If any extra info needed, feel free to comment.</p>\n<p>I'm quite new to JAVA ProcessBuilder. So, still trying to understand some concepts.</p>\n<p>I tried to trobleshoot in our environemnt but the issue seems to be of PowerShell side.\nI seacrhed everywhere about this but couldn't find any.</p>\n<p><strong>Edit</strong>: We are fetching mailboxes and processing to sort top 10 mailboxes based on usage and top inactive mailboxes in desired format. Please find the <strong>PowerShell snippet</strong> requested below:</p>\n<pre><code>Import-Module ExchangeOnlineManagement -ErrorAction Stop -WarningAction SilentlyContinue\nConnect-ExchangeOnline -ShowBanner:$false -Credential $credential -ErrorAction Stop -WarningAction SilentlyContinue\n$mailboxes = $null\nif ($metricsList -contains &quot;InactiveMailboxes&quot; -or $metricsList -contains &quot;TopMailboxes&quot;) {\n$mailboxes = Get-EXOMailbox -ResultSize Unlimited -WarningAction SilentlyContinue | Where-Object { (!$_.Name.startswith(&quot;SystemMailbox&quot;)) -and (!$_.Name.startswith(&quot;FederatedEmail&quot;)) -and (!$_.Name.startswith(&quot;DiscoverySearchMailbox&quot;)) } | select -expand userprincipalname | Get-EXOMailboxStatistics -Properties DisplayName,ItemCount,TotalItemSize,LastLogonTime -WarningAction SilentlyContinue}\n\n$inactivemailbox = $mailboxes | Where-Object { $_.LastLogonTime -ne $null } | Where-Object { $_.LastLogonTime -lt (Get-Date).AddDays(-30) } | Sort-Object LastLogonTime -Descending | Select-Object -First 100 | Select-Object DisplayName,LastLogonTime | ConvertTo-Csv -Delimiter &quot;|&quot; -NoTypeInformation | ForEach-Object { $_.Replace('&quot;','') } | Select-Object -Skip 1\n\n$topmailbox = $mailboxes | Sort-Object TotalItemSize -Descending | Select-Object -First 10 | Select-Object DisplayName,@{ Name = &quot;TotalItemSizeMB&quot;; expression = { [math]::Round(($_.TotalItemSize.ToString().split(&quot;(&quot;)[1].split(&quot; &quot;)[0].Replace(&quot;,&quot;,&quot;&quot;) / 1MB),2) } },ItemCount | ConvertTo-Csv -Delimiter &quot;|&quot; -NoTypeInformation | ForEach-Object { $_.Replace('&quot;','') } | Select-Object -Skip 1\n</code></pre>\n<p><strong>Java Code snippet</strong>:\nWe are framing the script execution for ProcessBuilder like below for security reasons:</p>\n<pre><code>String POWERSHELL_PATH = System.getenv(&quot;SystemRoot&quot;) + File.separator + &quot;System32&quot; + File.separator + &quot;WindowsPowerShell&quot; + File.separator + &quot;v1.0&quot; + File.separator + &quot;powershell.exe&quot;;\nProcessBuilder pb = new ProcessBuilder(POWERSHELL_PATH);\nList args = [-ExecutionPolicy, Bypass, -NoLogo, -NonInteractive, -NoProfile, -WindowStyle, Hidden, &quot;&amp;{&amp;, 'Script_With_Path', 'Comma separated args' }&quot;]; // Sample values\npb.command().addAll(args);\n</code></pre>\n<p>Reading the InputStream as below:</p>\n<pre><code>BufferedReader br=new BufferedReader(new InputStreamReader(p.getInputStream()));\nwhile((str = br.readLine()) != null) {\n    if(str.indexOf(&quot;Script execution time was exceeded&quot;)!=-1) {\n        outputBuff.append(&quot;Error # Script execution time was exceeded for the host&quot;); // NO I18N\n        br.close();\n        return;\n    }\n    outputBuff.append(str);\n    outputBuff.append(&quot;\\n&quot;); // NO I18N\n}\n</code></pre>\n"},{"tags":["java","javafx-2","javafx","java-3d","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1384198839,"creation_date":1384127748,"answer_id":19896794,"question_id":19896562,"body_markdown":"Not in 2D world. But you can imitate card flip using two `ScaleTransition`s:\r\n\r\n    Rectangle front = new Rectangle(50, 50);\r\n\r\n    ScaleTransition stHideFront = new ScaleTransition(Duration.millis(1500), front);\r\n    stHideFront.setFromX(1);\r\n    stHideFront.setToX(0);\r\n\r\n    Rectangle back = new Rectangle(50, 50, Color.RED);\r\n    back.setScaleX(0);\r\n\r\n    ScaleTransition stShowBack = new ScaleTransition(Duration.millis(1500), back);\r\n    stShowBack.setFromX(0);\r\n    stShowBack.setToX(1);\r\n\r\n    stHideFront.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\r\n        @Override\r\n        public void handle(ActionEvent t) {\r\n            stShowBack.play();\r\n        }\r\n    });\r\n\r\n    StackPane root = new StackPane();\r\n    root.getChildren().addAll(front, back);\r\n    Scene scene = new Scene(root, 300, 250);\r\n    primaryStage.setScene(scene);\r\n\r\n    primaryStage.show();\r\n    stHideFront.play();","title":"Flip a card animation","body":"<p>Not in 2D world. But you can imitate card flip using two <code>ScaleTransition</code>s:</p>\n\n<pre><code>Rectangle front = new Rectangle(50, 50);\n\nScaleTransition stHideFront = new ScaleTransition(Duration.millis(1500), front);\nstHideFront.setFromX(1);\nstHideFront.setToX(0);\n\nRectangle back = new Rectangle(50, 50, Color.RED);\nback.setScaleX(0);\n\nScaleTransition stShowBack = new ScaleTransition(Duration.millis(1500), back);\nstShowBack.setFromX(0);\nstShowBack.setToX(1);\n\nstHideFront.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\n    @Override\n    public void handle(ActionEvent t) {\n        stShowBack.play();\n    }\n});\n\nStackPane root = new StackPane();\nroot.getChildren().addAll(front, back);\nScene scene = new Scene(root, 300, 250);\nprimaryStage.setScene(scene);\n\nprimaryStage.show();\nstHideFront.play();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1384170951,"creation_date":1384170951,"answer_id":19905744,"question_id":19896562,"body_markdown":"I like Sergey&#39;s solution, it is such a clever use of ScaleTransition and working in 2D means you don&#39;t need to deal with some of the complexities of 3D.\r\n\r\n-----\r\n\r\nHere a couple of 3D rotation samples.  \r\n\r\nRotates a 2D Node (an ImageView) round the Y axis (requires JavaFX 2.2 + 3D support). \r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.transform.Rotate;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class QuickFlip extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Node card = createCard();\r\n    \r\n            stage.setScene(createScene(card));\r\n            stage.show();\r\n    \r\n            RotateTransition rotator = createRotator(card);\r\n            rotator.play();\r\n        }\r\n    \r\n        private Scene createScene(Node card) {\r\n            StackPane root = new StackPane();\r\n            root.getChildren().addAll(card);\r\n    \r\n            Scene scene = new Scene(root, 600, 700, true, SceneAntialiasing.BALANCED);\r\n            scene.setCamera(new PerspectiveCamera());\r\n    \r\n            return scene;\r\n        }\r\n    \r\n        private Node createCard() {\r\n            return new ImageView(\r\n                new Image(\r\n                    &quot;http://www.ohmz.net/wp-content/uploads/2012/05/Game-of-Throne-Magic-trading-cards-2.jpg&quot;\r\n                )\r\n            );\r\n        }\r\n    \r\n        private RotateTransition createRotator(Node card) {\r\n            RotateTransition rotator = new RotateTransition(Duration.millis(10000), card);\r\n            rotator.setAxis(Rotate.Y_AXIS);\r\n            rotator.setFromAngle(0);\r\n            rotator.setToAngle(360);\r\n            rotator.setInterpolator(Interpolator.LINEAR);\r\n            rotator.setCycleCount(10);\r\n    \r\n            return rotator;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n![Daenerys][1]\r\n\r\n-----\r\n\r\nRotates a 3D Node (a TriangleMesh) round the Y axis (requires Java 8 + 3D support).\r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.*;\r\n    import javafx.scene.shape.*;\r\n    import javafx.scene.transform.Rotate;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class CardFlip extends Application {\r\n        final Image CARD_IMAGE = new Image(\r\n            &quot;http://fc05.deviantart.net/fs70/i/2010/345/7/7/vitam_et_mortem_by_obviouschild-d34oni2.png&quot;\r\n            // sourced from: http://obviouschild.deviantart.com/art/Vitam-et-Mortem-189267194\r\n        );\r\n        final int W = (int) (CARD_IMAGE.getWidth()  / 2);\r\n        final int H = (int) CARD_IMAGE.getHeight();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Node card = createCard();\r\n    \r\n            stage.setScene(createScene(card));\r\n            stage.show();\r\n    \r\n            RotateTransition rotator = createRotator(card);\r\n            rotator.play();\r\n        }\r\n    \r\n        private Scene createScene(Node card) {\r\n            StackPane root = new StackPane();\r\n            root.getChildren().addAll(card, new AmbientLight(Color.WHITE));\r\n    \r\n            Scene scene = new Scene(root, W + 200, H + 200, true, SceneAntialiasing.BALANCED);\r\n            scene.setFill(Color.MIDNIGHTBLUE.darker().darker().darker().darker());\r\n            scene.setCamera(new PerspectiveCamera());\r\n    \r\n            return scene;\r\n        }\r\n    \r\n        private RotateTransition createRotator(Node card) {\r\n            RotateTransition rotator = new RotateTransition(Duration.millis(10000), card);\r\n            rotator.setAxis(Rotate.Y_AXIS);\r\n            rotator.setFromAngle(0);\r\n            rotator.setToAngle(360);\r\n            rotator.setInterpolator(Interpolator.LINEAR);\r\n            rotator.setCycleCount(10);\r\n    \r\n            return rotator;\r\n        }\r\n    \r\n        private Node createCard() {\r\n            MeshView card = new MeshView(createCardMesh());\r\n    \r\n            PhongMaterial material = new PhongMaterial();\r\n            material.setDiffuseMap(CARD_IMAGE);\r\n            card.setMaterial(material);\r\n    \r\n            return card;\r\n        }\r\n    \r\n        private TriangleMesh createCardMesh() {\r\n            TriangleMesh mesh = new TriangleMesh();\r\n    \r\n            mesh.getPoints().addAll(-1 * W/2, -1 * H/2 , 0, 1 * W/2, -1 * H/2, 0, -1 * W/2, 1 * H/2, 0, 1 * W/2, 1 * H/2, 0);\r\n            mesh.getFaces().addAll(0, 0, 2, 2, 3, 3, 3, 3, 1, 1, 0, 0);\r\n            mesh.getFaces().addAll(0, 4, 3, 7, 2, 6, 3, 7, 0, 4, 1, 5);\r\n            mesh.getTexCoords().addAll(0, 0, 0.5f, 0, 0, 1, 0.5f, 1, 0.5f, 0, 1, 0, 0.5f, 1, 1, 1);\r\n    \r\n            return mesh;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n![lightanddark][2]\r\n\r\n  [1]: http://i.stack.imgur.com/Gr2ya.png\r\n  [2]: http://i.stack.imgur.com/PWsac.png","title":"Flip a card animation","body":"<p>I like Sergey's solution, it is such a clever use of ScaleTransition and working in 2D means you don't need to deal with some of the complexities of 3D.</p>\n\n<hr>\n\n<p>Here a couple of 3D rotation samples.  </p>\n\n<p>Rotates a 2D Node (an ImageView) round the Y axis (requires JavaFX 2.2 + 3D support). </p>\n\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class QuickFlip extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        Node card = createCard();\n\n        stage.setScene(createScene(card));\n        stage.show();\n\n        RotateTransition rotator = createRotator(card);\n        rotator.play();\n    }\n\n    private Scene createScene(Node card) {\n        StackPane root = new StackPane();\n        root.getChildren().addAll(card);\n\n        Scene scene = new Scene(root, 600, 700, true, SceneAntialiasing.BALANCED);\n        scene.setCamera(new PerspectiveCamera());\n\n        return scene;\n    }\n\n    private Node createCard() {\n        return new ImageView(\n            new Image(\n                \"http://www.ohmz.net/wp-content/uploads/2012/05/Game-of-Throne-Magic-trading-cards-2.jpg\"\n            )\n        );\n    }\n\n    private RotateTransition createRotator(Node card) {\n        RotateTransition rotator = new RotateTransition(Duration.millis(10000), card);\n        rotator.setAxis(Rotate.Y_AXIS);\n        rotator.setFromAngle(0);\n        rotator.setToAngle(360);\n        rotator.setInterpolator(Interpolator.LINEAR);\n        rotator.setCycleCount(10);\n\n        return rotator;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Gr2ya.png\" alt=\"Daenerys\"></p>\n\n<hr>\n\n<p>Rotates a 3D Node (a TriangleMesh) round the Y axis (requires Java 8 + 3D support).</p>\n\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.*;\nimport javafx.scene.shape.*;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class CardFlip extends Application {\n    final Image CARD_IMAGE = new Image(\n        \"http://fc05.deviantart.net/fs70/i/2010/345/7/7/vitam_et_mortem_by_obviouschild-d34oni2.png\"\n        // sourced from: http://obviouschild.deviantart.com/art/Vitam-et-Mortem-189267194\n    );\n    final int W = (int) (CARD_IMAGE.getWidth()  / 2);\n    final int H = (int) CARD_IMAGE.getHeight();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Node card = createCard();\n\n        stage.setScene(createScene(card));\n        stage.show();\n\n        RotateTransition rotator = createRotator(card);\n        rotator.play();\n    }\n\n    private Scene createScene(Node card) {\n        StackPane root = new StackPane();\n        root.getChildren().addAll(card, new AmbientLight(Color.WHITE));\n\n        Scene scene = new Scene(root, W + 200, H + 200, true, SceneAntialiasing.BALANCED);\n        scene.setFill(Color.MIDNIGHTBLUE.darker().darker().darker().darker());\n        scene.setCamera(new PerspectiveCamera());\n\n        return scene;\n    }\n\n    private RotateTransition createRotator(Node card) {\n        RotateTransition rotator = new RotateTransition(Duration.millis(10000), card);\n        rotator.setAxis(Rotate.Y_AXIS);\n        rotator.setFromAngle(0);\n        rotator.setToAngle(360);\n        rotator.setInterpolator(Interpolator.LINEAR);\n        rotator.setCycleCount(10);\n\n        return rotator;\n    }\n\n    private Node createCard() {\n        MeshView card = new MeshView(createCardMesh());\n\n        PhongMaterial material = new PhongMaterial();\n        material.setDiffuseMap(CARD_IMAGE);\n        card.setMaterial(material);\n\n        return card;\n    }\n\n    private TriangleMesh createCardMesh() {\n        TriangleMesh mesh = new TriangleMesh();\n\n        mesh.getPoints().addAll(-1 * W/2, -1 * H/2 , 0, 1 * W/2, -1 * H/2, 0, -1 * W/2, 1 * H/2, 0, 1 * W/2, 1 * H/2, 0);\n        mesh.getFaces().addAll(0, 0, 2, 2, 3, 3, 3, 3, 1, 1, 0, 0);\n        mesh.getFaces().addAll(0, 4, 3, 7, 2, 6, 3, 7, 0, 4, 1, 5);\n        mesh.getTexCoords().addAll(0, 0, 0.5f, 0, 0, 1, 0.5f, 1, 0.5f, 0, 1, 0, 0.5f, 1, 1, 1);\n\n        return mesh;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/PWsac.png\" alt=\"lightanddark\"></p>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675405796,"creation_date":1675405796,"answer_id":75332233,"question_id":19896562,"body_markdown":"Here is an extension of @jewelsea&#39;s answer. This example shows one way to flip and show the back of the card. The way I thought of this was to change the `ImageView&#39;s` image at half the duration of the `RotateTransition`.\r\n\r\n```\r\nimport javafx.animation.*;\r\nimport javafx.application.Application;\r\nimport javafx.scene.*;\r\nimport javafx.scene.image.*;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class App extends Application {\r\n\r\n    boolean isFrontShowing = true;\r\n    Image frontImage = new Image(getClass().getResourceAsStream(&quot;image/front.jpg&quot;));\r\n    Image backImage = new Image(getClass().getResourceAsStream(&quot;image/back.jpg&quot;));\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        ImageView card = createCard();\r\n        card.setOnMouseClicked((t) -&gt; {\r\n            RotateTransition rotator = createRotator(card);\r\n            PauseTransition ptChangeCardFace = changeCardFace(card);\r\n            \r\n            ParallelTransition parallelTransition = new ParallelTransition(rotator, ptChangeCardFace);\r\n            parallelTransition.play();\r\n\r\n            isFrontShowing = !isFrontShowing;\r\n        });\r\n\r\n        stage.setScene(createScene(card));\r\n        stage.show();\r\n    }\r\n\r\n    private Scene createScene(Node card) {\r\n        StackPane root = new StackPane();\r\n        root.getChildren().addAll(card);\r\n\r\n        Scene scene = new Scene(root, 600, 700, true, SceneAntialiasing.BALANCED);\r\n        scene.setCamera(new PerspectiveCamera());\r\n\r\n        return scene;\r\n    }\r\n\r\n    private ImageView createCard() {\r\n        ImageView card = new ImageView(frontImage);\r\n\r\n        return card;\r\n    }\r\n\r\n    private RotateTransition createRotator(ImageView card) {\r\n        RotateTransition rotator = new RotateTransition(Duration.millis(1000), card);\r\n        rotator.setAxis(Rotate.Y_AXIS);\r\n\r\n        if (isFrontShowing) {\r\n            rotator.setFromAngle(0);\r\n            rotator.setToAngle(180);\r\n        } else {\r\n            rotator.setFromAngle(180);\r\n            rotator.setToAngle(360);\r\n        }\r\n        rotator.setInterpolator(Interpolator.LINEAR);\r\n        rotator.setCycleCount(1);\r\n\r\n        return rotator;\r\n    }\r\n\r\n    private PauseTransition changeCardFace(ImageView card) {\r\n        PauseTransition pause = new PauseTransition(Duration.millis(500));\r\n\r\n        if (isFrontShowing) {\r\n            pause.setOnFinished(\r\n                    e -&gt; {\r\n                        card.setImage(backImage);\r\n                    });\r\n        } else {\r\n            pause.setOnFinished(\r\n                    e -&gt; {\r\n                        card.setImage(frontImage);\r\n                    });\r\n        }\r\n\r\n        return pause;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LWdtU.gif","title":"Flip a card animation","body":"<p>Here is an extension of @jewelsea's answer. This example shows one way to flip and show the back of the card. The way I thought of this was to change the <code>ImageView's</code> image at half the duration of the <code>RotateTransition</code>.</p>\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class App extends Application {\n\n    boolean isFrontShowing = true;\n    Image frontImage = new Image(getClass().getResourceAsStream(&quot;image/front.jpg&quot;));\n    Image backImage = new Image(getClass().getResourceAsStream(&quot;image/back.jpg&quot;));\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ImageView card = createCard();\n        card.setOnMouseClicked((t) -&gt; {\n            RotateTransition rotator = createRotator(card);\n            PauseTransition ptChangeCardFace = changeCardFace(card);\n            \n            ParallelTransition parallelTransition = new ParallelTransition(rotator, ptChangeCardFace);\n            parallelTransition.play();\n\n            isFrontShowing = !isFrontShowing;\n        });\n\n        stage.setScene(createScene(card));\n        stage.show();\n    }\n\n    private Scene createScene(Node card) {\n        StackPane root = new StackPane();\n        root.getChildren().addAll(card);\n\n        Scene scene = new Scene(root, 600, 700, true, SceneAntialiasing.BALANCED);\n        scene.setCamera(new PerspectiveCamera());\n\n        return scene;\n    }\n\n    private ImageView createCard() {\n        ImageView card = new ImageView(frontImage);\n\n        return card;\n    }\n\n    private RotateTransition createRotator(ImageView card) {\n        RotateTransition rotator = new RotateTransition(Duration.millis(1000), card);\n        rotator.setAxis(Rotate.Y_AXIS);\n\n        if (isFrontShowing) {\n            rotator.setFromAngle(0);\n            rotator.setToAngle(180);\n        } else {\n            rotator.setFromAngle(180);\n            rotator.setToAngle(360);\n        }\n        rotator.setInterpolator(Interpolator.LINEAR);\n        rotator.setCycleCount(1);\n\n        return rotator;\n    }\n\n    private PauseTransition changeCardFace(ImageView card) {\n        PauseTransition pause = new PauseTransition(Duration.millis(500));\n\n        if (isFrontShowing) {\n            pause.setOnFinished(\n                    e -&gt; {\n                        card.setImage(backImage);\n                    });\n        } else {\n            pause.setOnFinished(\n                    e -&gt; {\n                        card.setImage(frontImage);\n                    });\n        }\n\n        return pause;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LWdtU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWdtU.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1143417,"reputation":776,"user_id":1126722,"accept_rate":71,"display_name":"Cyberlurk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13357,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":19905744,"answer_count":3,"score":8,"last_activity_date":1675405796,"creation_date":1384126014,"question_id":19896562,"body_markdown":"I&#39;m trying to flip a coloured rectangle. Is it possible to use the rotateTransition to do this?\r\n\r\nI have tried the following code:\r\n    \r\n     public void rotateField(){\r\n        RotateTransition rt = new RotateTransition(Duration.millis(3000), field[4][4]);\r\n        rt.setByAngle(360);\r\n        rt.setCycleCount(1);\r\n        rt.play();\r\n    }\r\n\r\nHowever, this doesn&#39;t flip the rectangle, it just rotates it.\r\nI would like to actually flip the rectangle as you would flip a playing card. \r\n\r\nIs it possible to use the rotateTransition class for this?","title":"Flip a card animation","body":"<p>I'm trying to flip a coloured rectangle. Is it possible to use the rotateTransition to do this?</p>\n\n<p>I have tried the following code:</p>\n\n<pre><code> public void rotateField(){\n    RotateTransition rt = new RotateTransition(Duration.millis(3000), field[4][4]);\n    rt.setByAngle(360);\n    rt.setCycleCount(1);\n    rt.play();\n}\n</code></pre>\n\n<p>However, this doesn't flip the rectangle, it just rotates it.\nI would like to actually flip the rectangle as you would flip a playing card. </p>\n\n<p>Is it possible to use the rotateTransition class for this?</p>\n"},{"tags":["java","filenet-p8","filenet"],"answers":[{"tags":[],"owner":{"account_id":18065627,"reputation":33,"user_id":14643406,"display_name":"Puck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675405770,"creation_date":1675405770,"answer_id":75332230,"question_id":75319857,"body_markdown":"So I eventually solved it myself, although I&#39;m sure there are better ways to do this.\r\n\r\n`fnService` is a class that essentially does what the code in the question does: creating a connection and executing an SQL query. The query doesn&#39;t really have to make much sense, even if it finds nothing it won&#39;t throw an exception. It will have to be valid SQL though.\r\n\r\n```java\r\n@Component\r\npublic class FilenetHealthIndicator implements HealthIndicator {\r\n    private final FilenetService fnService;\r\n\r\n    @Autowired\r\n    public FilenetHealthIndicator(FilenetService fnService) {\r\n        this.fnService = fnService;\r\n    }\r\n\r\n    @Override\r\n    public Health health() {\r\n        log.debug(&quot;Executing automated health check Filenet&quot;);\r\n\r\n        try {\r\n            //We try to make an SQL query, if something doesn&#39;t work it will throw an EngineRuntimeException\r\n            this.fnService.searchObjectStoreWithSqlQuery(&quot;SELECT Id FROM Document WHERE Id = &#39;{B1111111-1111-1111-AFB1-1111CD1DF11E}&#39;&quot;);\r\n        } catch (EngineRuntimeException e){\r\n            log.error(&quot;Automated health check cannot connect to Filenet&quot;);\r\n            return Health\r\n                    .down(e)\r\n                    .build();\r\n        }\r\n\r\n        log.debug(&quot;Automated health check to Filenet succeeded&quot;);\r\n        return Health\r\n                .up()\r\n                .build();\r\n    }\r\n}\r\n```","title":"How can I check if the connection to Filenet was successful?","body":"<p>So I eventually solved it myself, although I'm sure there are better ways to do this.</p>\n<p><code>fnService</code> is a class that essentially does what the code in the question does: creating a connection and executing an SQL query. The query doesn't really have to make much sense, even if it finds nothing it won't throw an exception. It will have to be valid SQL though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class FilenetHealthIndicator implements HealthIndicator {\n    private final FilenetService fnService;\n\n    @Autowired\n    public FilenetHealthIndicator(FilenetService fnService) {\n        this.fnService = fnService;\n    }\n\n    @Override\n    public Health health() {\n        log.debug(&quot;Executing automated health check Filenet&quot;);\n\n        try {\n            //We try to make an SQL query, if something doesn't work it will throw an EngineRuntimeException\n            this.fnService.searchObjectStoreWithSqlQuery(&quot;SELECT Id FROM Document WHERE Id = '{B1111111-1111-1111-AFB1-1111CD1DF11E}'&quot;);\n        } catch (EngineRuntimeException e){\n            log.error(&quot;Automated health check cannot connect to Filenet&quot;);\n            return Health\n                    .down(e)\n                    .build();\n        }\n\n        log.debug(&quot;Automated health check to Filenet succeeded&quot;);\n        return Health\n                .up()\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18065627,"reputation":33,"user_id":14643406,"display_name":"Puck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332230,"answer_count":1,"score":0,"last_activity_date":1675405770,"creation_date":1675322626,"question_id":75319857,"body_markdown":"My Spring Boot application should connect to Filenet, which it is doing fine with the Filenet Java SDK. Now I&#39;d like to implement a health indicator, to periodically check if the connection is still okey. Which leads me to my question:\r\n\r\n*How do I check if the connection to Filenet is successful?*\r\n\r\n**What I&#39;ve already tried**  \r\nCreating a connection and checking if I can get the ObjectStore, which always works and never throws any error:\r\n```Java\r\nConnection conn = com.filenet.api.core.Factory.Connection.getConnection(&quot;https://...&quot;);\r\nSubject subject = UserContext.createSubject(conn, &quot;User&quot;, &quot;password&quot;, &quot;jaasStanzaName&quot;);\r\nUserContext uc = UserContext.get();\r\nuc.pushSubject(subject);\r\nObjectStore os = Factory.ObjectStore.getInstance(Factory.Domain.getInstance(conn, null), &quot;objectStoreName&quot;);\r\n```\r\n\r\nTrying to do any SQL query works sort of, because it throws an `EngineRuntimeException`.\r\n\r\n```java\r\n// Same connection as above\r\nSearchSQL sqlObject = new SearchSQL(&quot;SELECT * FROM ...&quot;);\r\nSearchScope searchScope = new SearchScope(conn.getObjectStore());\r\nIndependentObjectSet results = searchScope.fetchObjects(sqlObject, null, filter, true);\r\n```\r\nBut using an Exception for logic and method flows seems to me like bad code.\r\n\r\n*So are there any good methods or tried practices that I am missing?*\r\n\r\nThanks in advance","title":"How can I check if the connection to Filenet was successful?","body":"<p>My Spring Boot application should connect to Filenet, which it is doing fine with the Filenet Java SDK. Now I'd like to implement a health indicator, to periodically check if the connection is still okey. Which leads me to my question:</p>\n<p><em>How do I check if the connection to Filenet is successful?</em></p>\n<p><strong>What I've already tried</strong><br />\nCreating a connection and checking if I can get the ObjectStore, which always works and never throws any error:</p>\n<pre><code>Connection conn = com.filenet.api.core.Factory.Connection.getConnection(&quot;https://...&quot;);\nSubject subject = UserContext.createSubject(conn, &quot;User&quot;, &quot;password&quot;, &quot;jaasStanzaName&quot;);\nUserContext uc = UserContext.get();\nuc.pushSubject(subject);\nObjectStore os = Factory.ObjectStore.getInstance(Factory.Domain.getInstance(conn, null), &quot;objectStoreName&quot;);\n</code></pre>\n<p>Trying to do any SQL query works sort of, because it throws an <code>EngineRuntimeException</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Same connection as above\nSearchSQL sqlObject = new SearchSQL(&quot;SELECT * FROM ...&quot;);\nSearchScope searchScope = new SearchScope(conn.getObjectStore());\nIndependentObjectSet results = searchScope.fetchObjects(sqlObject, null, filter, true);\n</code></pre>\n<p>But using an Exception for logic and method flows seems to me like bad code.</p>\n<p><em>So are there any good methods or tried practices that I am missing?</em></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":3581588,"reputation":1354,"user_id":2989680,"display_name":"Carlo Espino"},"score":0,"creation_date":1533571498,"post_id":51707267,"comment_id":90384528,"body_markdown":"What is the version of you MongoDB Compass?","body":"What is the version of you MongoDB Compass?"},{"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"score":0,"creation_date":1533620675,"post_id":51707267,"comment_id":90399853,"body_markdown":"I am using 1.14.6 version of Compass","body":"I am using 1.14.6 version of Compass"}],"answers":[{"tags":[],"owner":{"account_id":3581588,"reputation":1354,"user_id":2989680,"display_name":"Carlo Espino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533571328,"creation_date":1533570807,"answer_id":51711465,"question_id":51707267,"body_markdown":"Please try with:\r\n\r\n\r\n    Hostname: experimental-1-epdri.mongodb.net\r\n    SRV Record: checked\r\n    Authentication: Username / Password\r\n    Username: admin_eventdb\r\n    Password: &lt;PASSWORD&gt;\r\n    Authentication Database: admin\r\n    Replica Set Name:\r\n    Read Preference: Primary\r\n    SSL: System CA / Atlas Deployment\r\n    SSL Tunnel: None\r\n\r\n\r\n","title":"MongoDB atlas, connection not working","body":"<p>Please try with:</p>\n\n<pre><code>Hostname: experimental-1-epdri.mongodb.net\nSRV Record: checked\nAuthentication: Username / Password\nUsername: admin_eventdb\nPassword: &lt;PASSWORD&gt;\nAuthentication Database: admin\nReplica Set Name:\nRead Preference: Primary\nSSL: System CA / Atlas Deployment\nSSL Tunnel: None\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624126953,"creation_date":1538522719,"answer_id":52617710,"question_id":51707267,"body_markdown":"I had the same [issue][1]. Via connection string using Java Driver 3.4 it would be:\r\n\r\n\r\n    mongodb://user:&lt;PASSWORD&gt;@cluster0-shard-00-00-ox90k.mongodb.net:27017,cluster0-shard-00-01-ox90k.mongodb.net:27017,cluster0-shard-00-02-ox90k.mongodb.net:27017/test?ssl=true&amp;replicaSet=Cluster0-shard-0&amp;authSource=admin&amp;retryWrites=true\r\n    \r\n\r\n[![!\\[enter image description here][2]][2]\r\n\r\n\r\nInstead of `&lt;PASSWORD&gt;` I wrote own password. `admin1`is my admin-user.\r\n[![enter image description here][3]][3]\r\n\r\n\r\n----------\r\n**Updated:** if you want to use drivers `3.7+`, you need to write instead of format connection (and to avoid my issues above)\r\n\r\n    MongoClientURI uri = new MongoClientURI(&quot;mongodb+srv://admin:mypassword@cluster0-ox90k.mongodb.net/test?retryWrites=true&quot;);\r\n    MongoClient mongoClient = new MongoClient(uri);\r\n\r\nanother variant using `MongoClients.create()` [(as of the 3.7 release),][4]:\r\n\r\n       MongoClient mongoClient = MongoClients.create(&quot;mongodb+srv://admin:mypassword@cluster0-ox90k.mongodb.net/test?retryWrites=true&quot;);\r\n\r\n\r\n**Note:** the password need to write not like `mongodb://user:&lt;mypassword&gt;@...`, just in format `mongodb://user:mypassword@...` without braces `&lt;&gt;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51042704/8370915\r\n  [2]: https://i.stack.imgur.com/D6wbd.png\r\n  [3]: https://i.stack.imgur.com/p8O6X.png\r\n  [4]: https://mongodb.github.io/mongo-java-driver/3.7/driver/tutorials/connect-to-mongodb/","title":"MongoDB atlas, connection not working","body":"<p>I had the same <a href=\"https://stackoverflow.com/a/51042704/8370915\">issue</a>. Via connection string using Java Driver 3.4 it would be:</p>\n<pre><code>mongodb://user:&lt;PASSWORD&gt;@cluster0-shard-00-00-ox90k.mongodb.net:27017,cluster0-shard-00-01-ox90k.mongodb.net:27017,cluster0-shard-00-02-ox90k.mongodb.net:27017/test?ssl=true&amp;replicaSet=Cluster0-shard-0&amp;authSource=admin&amp;retryWrites=true\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/D6wbd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6wbd.png\" alt=\"![enter image description here\" /></a></p>\n<p>Instead of <code>&lt;PASSWORD&gt;</code> I wrote own password. <code>admin1</code>is my admin-user.\n<a href=\"https://i.stack.imgur.com/p8O6X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p8O6X.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>Updated:</strong> if you want to use drivers <code>3.7+</code>, you need to write instead of format connection (and to avoid my issues above)</p>\n<pre><code>MongoClientURI uri = new MongoClientURI(&quot;mongodb+srv://admin:mypassword@cluster0-ox90k.mongodb.net/test?retryWrites=true&quot;);\nMongoClient mongoClient = new MongoClient(uri);\n</code></pre>\n<p>another variant using <code>MongoClients.create()</code> <a href=\"https://mongodb.github.io/mongo-java-driver/3.7/driver/tutorials/connect-to-mongodb/\" rel=\"nofollow noreferrer\">(as of the 3.7 release),</a>:</p>\n<pre><code>   MongoClient mongoClient = MongoClients.create(&quot;mongodb+srv://admin:mypassword@cluster0-ox90k.mongodb.net/test?retryWrites=true&quot;);\n</code></pre>\n<p><strong>Note:</strong> the password need to write not like <code>mongodb://user:&lt;mypassword&gt;@...</code>, just in format <code>mongodb://user:mypassword@...</code> without braces <code>&lt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":17656603,"reputation":9583,"user_id":12816049,"display_name":"Rafiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590390708,"creation_date":1590390708,"answer_id":61997446,"question_id":51707267,"body_markdown":"**for Node.js** : checkout https://stackoverflow.com/questions/55971993/atlas-mongodb-connection/61997396#61997396\r\n\r\n```\r\nconst mongoose = require(&#39;mongoose&#39;);\r\nconst conStr = &#39;mongodb+srv://lord:&lt;password&gt;@cluster5-eeev8.mongodb.net/test?retryWrites=true&amp;w=majority&#39;\r\n\r\nconst DB = conStr.replace(\r\n  &#39;&lt;password&gt;&#39;,\r\n  myPass\r\n);\r\n\r\nconst DB = conStr.replace(\r\n  &#39;test&#39;,\r\n  myDatabaseName\r\n);\r\n//remember mongoose.connect() return promise\r\nmongoose\r\n  .connect(DB, {\r\n    usedNewUrlParser: true,\r\n    useCreateIndex: true,\r\n    useFindAndModify: false,\r\n  })\r\n  .then((con) =&gt; {\r\n    console.log(con.connection);\r\n    console.log(&#39;DB connection successful&#39;);\r\n  });\r\n```\r\n","title":"MongoDB atlas, connection not working","body":"<p><strong>for Node.js</strong> : checkout <a href=\"https://stackoverflow.com/questions/55971993/atlas-mongodb-connection/61997396#61997396\">Atlas MongoDB connection</a></p>\n\n<pre><code>const mongoose = require('mongoose');\nconst conStr = 'mongodb+srv://lord:&lt;password&gt;@cluster5-eeev8.mongodb.net/test?retryWrites=true&amp;w=majority'\n\nconst DB = conStr.replace(\n  '&lt;password&gt;',\n  myPass\n);\n\nconst DB = conStr.replace(\n  'test',\n  myDatabaseName\n);\n//remember mongoose.connect() return promise\nmongoose\n  .connect(DB, {\n    usedNewUrlParser: true,\n    useCreateIndex: true,\n    useFindAndModify: false,\n  })\n  .then((con) =&gt; {\n    console.log(con.connection);\n    console.log('DB connection successful');\n  });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593413163,"creation_date":1593413163,"answer_id":62632614,"question_id":51707267,"body_markdown":"Just tried to use Atlas.  This is the configuration that worked for me with Spring Boot 2.3.1.RELEASE\r\n\r\n    spring:\r\n      data:\r\n        mongodb:\r\n          database: sample_training \r\n          uri: mongodb+srv://&lt;user&gt;:&lt;pass&gt;@cluster0-hosturl.aws|gcp.mongodb.net/?retryWrites=true&amp;w=majority\r\n\r\n","title":"MongoDB atlas, connection not working","body":"<p>Just tried to use Atlas.  This is the configuration that worked for me with Spring Boot 2.3.1.RELEASE</p>\n<pre><code>spring:\n  data:\n    mongodb:\n      database: sample_training \n      uri: mongodb+srv://&lt;user&gt;:&lt;pass&gt;@cluster0-hosturl.aws|gcp.mongodb.net/?retryWrites=true&amp;w=majority\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9485984,"reputation":61,"user_id":7052355,"display_name":"Rakesh Maurya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675405667,"creation_date":1660894213,"answer_id":73413259,"question_id":51707267,"body_markdown":"    I point I mentioned\r\n    \r\n    Please login to mongodb atlas\r\n    1.go to security section\r\n    2.network access\r\n    Then allow anywhere access that it&#39;s may be helps. ","title":"MongoDB atlas, connection not working","body":"<pre><code>I point I mentioned\n\nPlease login to mongodb atlas\n1.go to security section\n2.network access\nThen allow anywhere access that it's may be helps. \n</code></pre>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12321,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1675405667,"creation_date":1533557181,"question_id":51707267,"body_markdown":"I just created a free MongoDB atlas cluster instance. But somehow I am failing to connect it from my application as well as from the MongoDB Compas.\n\nI get below error when I try to run my application.\n\n    Caused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=experimental-1-epdri.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: experimental-1-epdri.mongodb.net}, caused by {java.net.UnknownHostException: experimental-1-epdri.mongodb.net}}]\n        at com.mongodb.connection.BaseCluster.createTimeoutException(BaseCluster.java:377) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.connection.BaseCluster.selectServer(BaseCluster.java:104) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.binding.ClusterBinding$ClusterBindingConnectionSource.&lt;init&gt;(ClusterBinding.java:75) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.binding.ClusterBinding$ClusterBindingConnectionSource.&lt;init&gt;(ClusterBinding.java:71) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.binding.ClusterBinding.getWriteConnectionSource(ClusterBinding.java:68) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:411) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:144) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:71) ~[mongodb-driver-core-3.4.2.jar:na]\n        at com.mongodb.Mongo.execute(Mongo.java:845) ~[mongodb-driver-3.4.2.jar:na]\n        at com.mongodb.Mongo$2.execute(Mongo.java:828) ~[mongodb-driver-3.4.2.jar:na]\n        at com.mongodb.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:491) ~[mongodb-driver-3.4.2.jar:na]\n        at com.mongodb.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:458) ~[mongodb-driver-3.4.2.jar:na]\n        at org.axonframework.mongo.eventsourcing.eventstore.AbstractMongoEventStorageStrategy.ensureIndexes(AbstractMongoEventStorageStrategy.java:201) ~[axon-mongo-3.0.5.jar:3.0.5]\n        at org.axonframework.mongo.eventsourcing.eventstore.MongoEventStorageEngine.ensureIndexes(MongoEventStorageEngine.java:123) ~[axon-mongo-3.0.5.jar:3.0.5]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n        ... 76 common frames omitted\n    \n    \n    Process finished with exit code 1\n\nOn Compas it simply says MongoDB instance isn&#39;t running at this place. I have checked my cluster and I see below. \n\n[![Seems like it is up..][1]][1]\n\nBut still I can&#39;t connect to mongo cluster. Further more I tried with `Mongo CLI as well where I found error as shown below.\n[![Error while connecting using CLI.][2]][2]\n\nBelow is the connection string that I get from the MongoDB atlas page.\n\n`mongodb+srv://admin_eventdb:&lt;PASSWORD&gt;@experimental-1-epdri.mongodb.net/test?retryWrites=true`\n\nPlease help solve this.\n\n  [1]: https://i.stack.imgur.com/bwitV.png\n  [2]: https://i.stack.imgur.com/T1Bfu.png","title":"MongoDB atlas, connection not working","body":"<p>I just created a free MongoDB atlas cluster instance. But somehow I am failing to connect it from my application as well as from the MongoDB Compas.</p>\n<p>I get below error when I try to run my application.</p>\n<pre><code>Caused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=experimental-1-epdri.mongodb.net:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketException: experimental-1-epdri.mongodb.net}, caused by {java.net.UnknownHostException: experimental-1-epdri.mongodb.net}}]\n    at com.mongodb.connection.BaseCluster.createTimeoutException(BaseCluster.java:377) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.connection.BaseCluster.selectServer(BaseCluster.java:104) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.binding.ClusterBinding$ClusterBindingConnectionSource.&lt;init&gt;(ClusterBinding.java:75) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.binding.ClusterBinding$ClusterBindingConnectionSource.&lt;init&gt;(ClusterBinding.java:71) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.binding.ClusterBinding.getWriteConnectionSource(ClusterBinding.java:68) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:411) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:144) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:71) ~[mongodb-driver-core-3.4.2.jar:na]\n    at com.mongodb.Mongo.execute(Mongo.java:845) ~[mongodb-driver-3.4.2.jar:na]\n    at com.mongodb.Mongo$2.execute(Mongo.java:828) ~[mongodb-driver-3.4.2.jar:na]\n    at com.mongodb.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:491) ~[mongodb-driver-3.4.2.jar:na]\n    at com.mongodb.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:458) ~[mongodb-driver-3.4.2.jar:na]\n    at org.axonframework.mongo.eventsourcing.eventstore.AbstractMongoEventStorageStrategy.ensureIndexes(AbstractMongoEventStorageStrategy.java:201) ~[axon-mongo-3.0.5.jar:3.0.5]\n    at org.axonframework.mongo.eventsourcing.eventstore.MongoEventStorageEngine.ensureIndexes(MongoEventStorageEngine.java:123) ~[axon-mongo-3.0.5.jar:3.0.5]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134) ~[spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    ... 76 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>On Compas it simply says MongoDB instance isn't running at this place. I have checked my cluster and I see below.</p>\n<p><a href=\"https://i.stack.imgur.com/bwitV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bwitV.png\" alt=\"Seems like it is up..\" /></a></p>\n<p>But still I can't connect to mongo cluster. Further more I tried with `Mongo CLI as well where I found error as shown below.\n<a href=\"https://i.stack.imgur.com/T1Bfu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T1Bfu.png\" alt=\"Error while connecting using CLI.\" /></a></p>\n<p>Below is the connection string that I get from the MongoDB atlas page.</p>\n<p><code>mongodb+srv://admin_eventdb:&lt;PASSWORD&gt;@experimental-1-epdri.mongodb.net/test?retryWrites=true</code></p>\n<p>Please help solve this.</p>\n"},{"tags":["java","string","jvm","constants"],"comments":[{"owner":{"account_id":66671,"reputation":3328,"user_id":2591612,"accept_rate":96,"display_name":"Engineer2021"},"score":0,"creation_date":1398279431,"post_id":23252767,"comment_id":35581477,"body_markdown":"https://stackoverflow.com/questions/5457146/regarding-java-string-constant-pool?rq=1","body":"<a href=\"https://stackoverflow.com/questions/5457146/regarding-java-string-constant-pool?rq=1\" title=\"regarding java string constant pool\">stackoverflow.com/questions/5457146/&hellip;</a>"},{"owner":{"account_id":3868683,"reputation":44952,"user_id":3204551,"accept_rate":75,"display_name":"Deduplicator"},"score":0,"creation_date":1398279696,"post_id":23252767,"comment_id":35581618,"body_markdown":"possible duplicate of [When should we use intern method of String on String constants](http://stackoverflow.com/questions/1855170/when-should-we-use-intern-method-of-string-on-string-constants)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1855170/when-should-we-use-intern-method-of-string-on-string-constants\">When should we use intern method of String on String constants</a>"}],"answers":[{"tags":[],"owner":{"account_id":3868683,"reputation":44952,"user_id":3204551,"accept_rate":75,"display_name":"Deduplicator"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398280082,"creation_date":1398279323,"answer_id":23252917,"question_id":23252767,"body_markdown":"There is only one string pool, and all string literals are automatically interned.  \r\nAlso, there are other pools for autoboxing and such.\r\n\r\nThe constant pool is where those literals are put for the class.","title":"String pool vs Constant pool","body":"<p>There is only one string pool, and all string literals are automatically interned.<br>\nAlso, there are other pools for autoboxing and such.</p>\n\n<p>The constant pool is where those literals are put for the class.</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1398280363,"creation_date":1398280036,"answer_id":23253122,"question_id":23252767,"body_markdown":"&gt; My questions are,\n&gt;\n&gt; 1. Does string pool refers to the pool of constant string object in the constant pool?\n\nNo.\n\n&quot;Constant pool&quot; refers to a specially formatted collection of bytes in a class file that has meaning to the Java class loader.  The &quot;strings&quot; in it are [serialized](http://en.wikipedia.org/wiki/Serialization), they are not Java objects.  There are also many kinds of constants, not just strings in it.\n\nSee [Chapter 4.4 the constant pool table](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4)\n\n&gt; Java Virtual Machine instructions do not rely on the run-time layout of classes, interfaces, class instances, or arrays. Instead, instructions refer to symbolic information in the `constant_pool` table.\n\nIn contrast, the &quot;String pool&quot; is used at runtime (not just during class loading), **contains only strings**, and the &quot;strings&quot; in the string pool are java objects.\nThe &quot;string pool&quot; is a thread-safe weak-map from `java.lang.String` instances to `java.lang.String` instances used to intern strings.\n\n[Chapter 3.10.5. String Literals](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5) says\n\n&gt; A string literal is a reference to an instance of class `String` (&#167;4.3.1, &#167;4.3.3).\n&gt;\n&gt; Moreover, a string literal always refers to the **same** instance of class `String`. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.28) - are &quot;interned&quot; so as to share unique instances, using the method `String.intern`.","title":"String pool vs Constant pool","body":"<blockquote>\n<p>My questions are,</p>\n<ol>\n<li>Does string pool refers to the pool of constant string object in the constant pool?</li>\n</ol>\n</blockquote>\n<p>No.</p>\n<p>&quot;Constant pool&quot; refers to a specially formatted collection of bytes in a class file that has meaning to the Java class loader.  The &quot;strings&quot; in it are <a href=\"http://en.wikipedia.org/wiki/Serialization\" rel=\"noreferrer\">serialized</a>, they are not Java objects.  There are also many kinds of constants, not just strings in it.</p>\n<p>See <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4\" rel=\"noreferrer\">Chapter 4.4 the constant pool table</a></p>\n<blockquote>\n<p>Java Virtual Machine instructions do not rely on the run-time layout of classes, interfaces, class instances, or arrays. Instead, instructions refer to symbolic information in the <code>constant_pool</code> table.</p>\n</blockquote>\n<p>In contrast, the &quot;String pool&quot; is used at runtime (not just during class loading), <strong>contains only strings</strong>, and the &quot;strings&quot; in the string pool are java objects.\nThe &quot;string pool&quot; is a thread-safe weak-map from <code>java.lang.String</code> instances to <code>java.lang.String</code> instances used to intern strings.</p>\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">Chapter 3.10.5. String Literals</a> says</p>\n<blockquote>\n<p>A string literal is a reference to an instance of class <code>String</code> (Â§4.3.1, Â§4.3.3).</p>\n<p>Moreover, a string literal always refers to the <strong>same</strong> instance of class <code>String</code>. This is because string literals - or, more generally, strings that are the values of constant expressions (Â§15.28) - are &quot;interned&quot; so as to share unique instances, using the method <code>String.intern</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27475651,"reputation":1,"user_id":20963703,"display_name":"Bruce_he"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675405649,"creation_date":1675403826,"answer_id":75332009,"question_id":23252767,"body_markdown":"constans_pool(all constans, including Strings) is a data structure in class file(out of JVM). \r\nWhen class file is loaded into JVM, then constans_pool -&gt; run-time constans_pool(General), in hotspot &amp; SE8:\r\n1. Strings in constans_pool will be stored in Heap, and we call it string-pool;  https://openjdk.org/jeps/122    https://wiki.openjdk.org/display/HotSpot/Caching+Java+Heap+Objects\r\n2. the other data in constans_pool will be stored in native-memory(Metaspace),and we call it run-time constans_pool(Special).","title":"String pool vs Constant pool","body":"<p>constans_pool(all constans, including Strings) is a data structure in class file(out of JVM).\nWhen class file is loaded into JVM, then constans_pool -&gt; run-time constans_pool(General), in hotspot &amp; SE8:</p>\n<ol>\n<li>Strings in constans_pool will be stored in Heap, and we call it string-pool;  <a href=\"https://openjdk.org/jeps/122\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/122</a>    <a href=\"https://wiki.openjdk.org/display/HotSpot/Caching+Java+Heap+Objects\" rel=\"nofollow noreferrer\">https://wiki.openjdk.org/display/HotSpot/Caching+Java+Heap+Objects</a></li>\n<li>the other data in constans_pool will be stored in native-memory(Metaspace),and we call it run-time constans_pool(Special).</li>\n</ol>\n"}],"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13814,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"accepted_answer_id":23253122,"answer_count":3,"score":24,"last_activity_date":1675405649,"creation_date":1398278815,"question_id":23252767,"body_markdown":"Let&#39;s look at the folloing code snippet:\r\n\r\n      String s1 = &quot;Hello&quot;;\r\n      String s2 = &quot;Hello&quot;; \r\n\r\nBoth variables refer to the same object due to interning. Since strings are immutable, only one object is created and both refer to the same object.\r\n\r\nA `constant pool` is also something, which holds all the constants (integer, string, etc.) that are declared in a class. It is specific to each class.\r\n\r\n     System.out.println(&quot;Hello&quot;);  // I believe this Hello is different from above.\r\n\r\n  \r\n**Questions:**\r\n   \r\n   1. Does `string pool` refer to the pool of a constant string object in the constant pool?\r\n   2. If yes, is *String pool* common throughout the whole application or specific to a class?","title":"String pool vs Constant pool","body":"<p>Let's look at the folloing code snippet:</p>\n\n<pre><code>  String s1 = \"Hello\";\n  String s2 = \"Hello\"; \n</code></pre>\n\n<p>Both variables refer to the same object due to interning. Since strings are immutable, only one object is created and both refer to the same object.</p>\n\n<p>A <code>constant pool</code> is also something, which holds all the constants (integer, string, etc.) that are declared in a class. It is specific to each class.</p>\n\n<pre><code> System.out.println(\"Hello\");  // I believe this Hello is different from above.\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li>Does <code>string pool</code> refer to the pool of a constant string object in the constant pool?</li>\n<li>If yes, is <em>String pool</em> common throughout the whole application or specific to a class?</li>\n</ol>\n"},{"tags":["java","spring-boot","apache-pulsar","pulsar","spring-pulsar"],"answers":[{"tags":[],"owner":{"account_id":24209301,"reputation":491,"user_id":18166042,"display_name":"onobc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675405312,"creation_date":1675405312,"answer_id":75332174,"question_id":75330621,"body_markdown":"cho ,\r\nWelcome to Pulsar and Spring Pulsar! I believe there are a few things to cover to fully answer your question.\r\n\r\n### Spring Pulsar Usage\r\nIn your example you are crafting a Producer directly from the PulsarClient. There is absolutely nothing wrong/bad about using that API directly. However, if you want to use Spring Pulsar, the recommended approach to send messages in a Spring Boot app using Spring Pulsar is via the auto-configured `PulsarTemplate` (or `ReactivePulsarTemplate` if using Reactive). It simplifies usage and allows configuring the template/producer using configuration properties. For example, instead of building up and then using `Producer.send()` you would instead inject the pulsar template and use it as follows:\r\n```java\r\npulsarTemplate.newMessage(foo)\r\n    .withTopic(&quot;Json_Test&quot;)\r\n    .withSchema(Schema.JSON(Foo.class))\r\n    .withProducerCustomizer((producerBuilder) -&gt; {\r\n      producerBuilder\r\n          .batchingMaxPublishDelay(60, TimeUnit.SECONDS)\r\n          .batchingMaxMessages(2)\r\n          .enableBatching(true)\r\n          .compressionType(CompressionType.LZ4);\r\n    })\r\n    .send();\r\n```\r\nFurthermore you can replace the builder calls w/ configuration properties like:\r\n```yaml\r\nspring:\r\n  pulsar:\r\n    producer:\r\n      batching-enabled: true\r\n      batching-max-publish-delay: 60s\r\n      batching-max-messages: 2\r\n      compression-type: lz4\r\n```\r\nand then your code becomes:\r\n```java\r\npulsarTemplate.newMessage(foo)\r\n    .withTopic(&quot;Json_Test&quot;)\r\n    .withSchema(Schema.JSON(Foo.class))\r\n    .send();\r\n```\r\n**NOTE:** I replace json array w/ Foo for simplicity.\r\n\r\n### Schemas\r\nIn Pulsar, the [Schema](https://pulsar.apache.org/docs/2.10.x/schema-get-started/) knows how to de/serialize the data. The built-in Pulsar `Schema.JSON` by default uses the Jackson json lib to de/serialize the data. This requires that the data must be able to be handled by Jackson `ObjectMapper.readValue/writeValue` methods. It handles POJOs really well, but does not handle the JSON impl you are using.  \r\n\r\nI noticed the latest `json-lib` is `2.4` and (AFAICT) has [9 CVEs](https://mvnrepository.com/artifact/net.sf.json-lib/json-lib/2.4) against it and was last released in 2010. If I had to use a Json level API for my data I would pick a more contemporary and well supported / used lib such as Jackson or Gson. \r\n\r\nI switched your sample to use Jackson ArrayNode and it worked well. I did have to replace the single quotes in your data string to backslash double-quote as Jackson by default does not like single-quoted data. Here is the re-worked sample app using Jackson ArrayNode:\r\n```\r\n@SpringBootApplication\r\npublic class HyunginChoSpringPulsarUserApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HyunginChoSpringPulsarUserApp.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner sendDataOnStartup(PulsarTemplate&lt;ArrayNode&gt; pulsarTemplate) {\r\n\t\treturn (args) -&gt; {\r\n\t\t\tString data2 = &quot;{\\&quot;users\\&quot;: [{\\&quot;userId\\&quot;: 1,\\&quot;firstName\\&quot;: \\&quot;AAAAA\\&quot;},{\\&quot;userId\\&quot;: 2,\\&quot;firstName\\&quot;: \\&quot;BBBB\\&quot;},{\\&quot;userId\\&quot;: 3,\\&quot;firstName\\&quot;: \\&quot;CCCCC\\&quot;},{\\&quot;userId\\&quot;: 4,\\&quot;firstName\\&quot;: \\&quot;DDDDD\\&quot;},{\\&quot;userId\\&quot;: 5,\\&quot;firstName\\&quot;: \\&quot;EEEEE\\&quot;}]}&quot;;\r\n\t\t\tArrayNode jsonArray = (ArrayNode) ObjectMapperFactory.create().readTree(data2).get(&quot;users&quot;);\r\n\t\t\tSystem.out.printf(&quot;*** SENDING: %s%n&quot;, jsonArray);\r\n\t\t\tpulsarTemplate.newMessage(jsonArray)\r\n\t\t\t\t\t.withTopic(&quot;Json_Test&quot;)\r\n\t\t\t\t\t.withSchema(Schema.JSON(ArrayNode.class))\r\n\t\t\t\t\t.send();\r\n\t\t};\r\n\t}\r\n\r\n\t@PulsarListener(topics = &quot;Json_Test&quot;, schemaType = SchemaType.JSON, batch = true)\r\n\tpublic void listenForData(List&lt;ArrayNode&gt; user) {\r\n\t\tSystem.out.printf(&quot;***** LISTEN: %s%n&quot;.formatted(user));\r\n\t}\r\n}\r\n```\r\nThe output looks like:\r\n```\r\n*** SENDING: [{&quot;userId&quot;:1,&quot;firstName&quot;:&quot;AAAAA&quot;},{&quot;userId&quot;:2,&quot;firstName&quot;:&quot;BBBB&quot;},{&quot;userId&quot;:3,&quot;firstName&quot;:&quot;CCCCC&quot;},{&quot;userId&quot;:4,&quot;firstName&quot;:&quot;DDDDD&quot;},{&quot;userId&quot;:5,&quot;firstName&quot;:&quot;EEEEE&quot;}]\r\n\r\n***** LISTEN: [{&quot;userId&quot;:1,&quot;firstName&quot;:&quot;AAAAA&quot;},{&quot;userId&quot;:2,&quot;firstName&quot;:&quot;BBBB&quot;},{&quot;userId&quot;:3,&quot;firstName&quot;:&quot;CCCCC&quot;},{&quot;userId&quot;:4,&quot;firstName&quot;:&quot;DDDDD&quot;},{&quot;userId&quot;:5,&quot;firstName&quot;:&quot;EEEEE&quot;}]\r\n```\r\n\r\n### Data Model\r\nYour data is an array of users. Do you have a requirement to use a Json level API or you instead deal with a `List&lt;User&gt;` POJOs? This would simplify things and make it much better experience to use. The Java record is a great choice such as: \r\n```java\r\npublic record(String userId, String firstName) {}\r\n```\r\nthen you can pass in a `List&lt;User&gt;` to your PulsarTemplate and everything will work well. For example:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class HyunginChoSpringPulsarUserApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HyunginChoSpringPulsarUserApp.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner sendDataOnStartup(PulsarTemplate&lt;User&gt; pulsarTemplate) {\r\n\t\treturn (args) -&gt; {\r\n\t\t\tString data2 = &quot;{\\&quot;users\\&quot;: [{\\&quot;userId\\&quot;: 1,\\&quot;firstName\\&quot;: \\&quot;AAAAA\\&quot;},{\\&quot;userId\\&quot;: 2,\\&quot;firstName\\&quot;: \\&quot;BBBB\\&quot;},{\\&quot;userId\\&quot;: 3,\\&quot;firstName\\&quot;: \\&quot;CCCCC\\&quot;},{\\&quot;userId\\&quot;: 4,\\&quot;firstName\\&quot;: \\&quot;DDDDD\\&quot;},{\\&quot;userId\\&quot;: 5,\\&quot;firstName\\&quot;: \\&quot;EEEEE\\&quot;}]}&quot;;\r\n\t\t\tObjectMapper objectMapper = ObjectMapperFactory.create();\r\n\t\t\tJsonNode usersNode = objectMapper.readTree(data2).get(&quot;users&quot;);\r\n\t\t\tList&lt;User&gt; users = objectMapper.convertValue(usersNode, new TypeReference&lt;&gt;() {});\r\n\t\t\tSystem.out.printf(&quot;*** SENDING: %s%n&quot;, users);\r\n\t\t\tfor (User user : users) {\r\n\t\t\t\tpulsarTemplate.newMessage(user)\r\n\t\t\t\t\t\t.withTopic(&quot;Json_Test2&quot;)\r\n\t\t\t\t\t\t.withSchema(Schema.JSON(User.class))\r\n\t\t\t\t\t\t.send();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@PulsarListener(topics = &quot;Json_Test2&quot;, schemaType = SchemaType.JSON, batch = true)\r\n\tpublic void listenForData(List&lt;User&gt; users) {\r\n\t\tusers.forEach((user) -&gt; System.out.printf(&quot;***** LISTEN: %s%n&quot;.formatted(user)));\r\n\t}\r\n\r\n\tpublic record User(String userId, String firstName) {}\r\n}\r\n```\r\n\r\n```\r\n*** SENDING: [User[userId=1, firstName=AAAAA], User[userId=2, firstName=BBBB], User[userId=3, firstName=CCCCC], User[userId=4, firstName=DDDDD], User[userId=5, firstName=EEEEE]]\r\n...\r\n***** LISTEN: User[userId=1, firstName=AAAAA]\r\n***** LISTEN: User[userId=2, firstName=BBBB]\r\n***** LISTEN: User[userId=3, firstName=CCCCC]\r\n***** LISTEN: User[userId=4, firstName=DDDDD]\r\n***** LISTEN: User[userId=5, firstName=EEEEE]\r\n```\r\nI hope this helps. Take care.","title":"How to send JsonArray data in apache-pulsar-client?","body":"<p>cho ,\nWelcome to Pulsar and Spring Pulsar! I believe there are a few things to cover to fully answer your question.</p>\n<h3>Spring Pulsar Usage</h3>\n<p>In your example you are crafting a Producer directly from the PulsarClient. There is absolutely nothing wrong/bad about using that API directly. However, if you want to use Spring Pulsar, the recommended approach to send messages in a Spring Boot app using Spring Pulsar is via the auto-configured <code>PulsarTemplate</code> (or <code>ReactivePulsarTemplate</code> if using Reactive). It simplifies usage and allows configuring the template/producer using configuration properties. For example, instead of building up and then using <code>Producer.send()</code> you would instead inject the pulsar template and use it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pulsarTemplate.newMessage(foo)\n    .withTopic(&quot;Json_Test&quot;)\n    .withSchema(Schema.JSON(Foo.class))\n    .withProducerCustomizer((producerBuilder) -&gt; {\n      producerBuilder\n          .batchingMaxPublishDelay(60, TimeUnit.SECONDS)\n          .batchingMaxMessages(2)\n          .enableBatching(true)\n          .compressionType(CompressionType.LZ4);\n    })\n    .send();\n</code></pre>\n<p>Furthermore you can replace the builder calls w/ configuration properties like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  pulsar:\n    producer:\n      batching-enabled: true\n      batching-max-publish-delay: 60s\n      batching-max-messages: 2\n      compression-type: lz4\n</code></pre>\n<p>and then your code becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pulsarTemplate.newMessage(foo)\n    .withTopic(&quot;Json_Test&quot;)\n    .withSchema(Schema.JSON(Foo.class))\n    .send();\n</code></pre>\n<p><strong>NOTE:</strong> I replace json array w/ Foo for simplicity.</p>\n<h3>Schemas</h3>\n<p>In Pulsar, the <a href=\"https://pulsar.apache.org/docs/2.10.x/schema-get-started/\" rel=\"nofollow noreferrer\">Schema</a> knows how to de/serialize the data. The built-in Pulsar <code>Schema.JSON</code> by default uses the Jackson json lib to de/serialize the data. This requires that the data must be able to be handled by Jackson <code>ObjectMapper.readValue/writeValue</code> methods. It handles POJOs really well, but does not handle the JSON impl you are using.</p>\n<p>I noticed the latest <code>json-lib</code> is <code>2.4</code> and (AFAICT) has <a href=\"https://mvnrepository.com/artifact/net.sf.json-lib/json-lib/2.4\" rel=\"nofollow noreferrer\">9 CVEs</a> against it and was last released in 2010. If I had to use a Json level API for my data I would pick a more contemporary and well supported / used lib such as Jackson or Gson.</p>\n<p>I switched your sample to use Jackson ArrayNode and it worked well. I did have to replace the single quotes in your data string to backslash double-quote as Jackson by default does not like single-quoted data. Here is the re-worked sample app using Jackson ArrayNode:</p>\n<pre><code>@SpringBootApplication\npublic class HyunginChoSpringPulsarUserApp {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HyunginChoSpringPulsarUserApp.class, args);\n    }\n\n    @Bean\n    ApplicationRunner sendDataOnStartup(PulsarTemplate&lt;ArrayNode&gt; pulsarTemplate) {\n        return (args) -&gt; {\n            String data2 = &quot;{\\&quot;users\\&quot;: [{\\&quot;userId\\&quot;: 1,\\&quot;firstName\\&quot;: \\&quot;AAAAA\\&quot;},{\\&quot;userId\\&quot;: 2,\\&quot;firstName\\&quot;: \\&quot;BBBB\\&quot;},{\\&quot;userId\\&quot;: 3,\\&quot;firstName\\&quot;: \\&quot;CCCCC\\&quot;},{\\&quot;userId\\&quot;: 4,\\&quot;firstName\\&quot;: \\&quot;DDDDD\\&quot;},{\\&quot;userId\\&quot;: 5,\\&quot;firstName\\&quot;: \\&quot;EEEEE\\&quot;}]}&quot;;\n            ArrayNode jsonArray = (ArrayNode) ObjectMapperFactory.create().readTree(data2).get(&quot;users&quot;);\n            System.out.printf(&quot;*** SENDING: %s%n&quot;, jsonArray);\n            pulsarTemplate.newMessage(jsonArray)\n                    .withTopic(&quot;Json_Test&quot;)\n                    .withSchema(Schema.JSON(ArrayNode.class))\n                    .send();\n        };\n    }\n\n    @PulsarListener(topics = &quot;Json_Test&quot;, schemaType = SchemaType.JSON, batch = true)\n    public void listenForData(List&lt;ArrayNode&gt; user) {\n        System.out.printf(&quot;***** LISTEN: %s%n&quot;.formatted(user));\n    }\n}\n</code></pre>\n<p>The output looks like:</p>\n<pre><code>*** SENDING: [{&quot;userId&quot;:1,&quot;firstName&quot;:&quot;AAAAA&quot;},{&quot;userId&quot;:2,&quot;firstName&quot;:&quot;BBBB&quot;},{&quot;userId&quot;:3,&quot;firstName&quot;:&quot;CCCCC&quot;},{&quot;userId&quot;:4,&quot;firstName&quot;:&quot;DDDDD&quot;},{&quot;userId&quot;:5,&quot;firstName&quot;:&quot;EEEEE&quot;}]\n\n***** LISTEN: [{&quot;userId&quot;:1,&quot;firstName&quot;:&quot;AAAAA&quot;},{&quot;userId&quot;:2,&quot;firstName&quot;:&quot;BBBB&quot;},{&quot;userId&quot;:3,&quot;firstName&quot;:&quot;CCCCC&quot;},{&quot;userId&quot;:4,&quot;firstName&quot;:&quot;DDDDD&quot;},{&quot;userId&quot;:5,&quot;firstName&quot;:&quot;EEEEE&quot;}]\n</code></pre>\n<h3>Data Model</h3>\n<p>Your data is an array of users. Do you have a requirement to use a Json level API or you instead deal with a <code>List&lt;User&gt;</code> POJOs? This would simplify things and make it much better experience to use. The Java record is a great choice such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record(String userId, String firstName) {}\n</code></pre>\n<p>then you can pass in a <code>List&lt;User&gt;</code> to your PulsarTemplate and everything will work well. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class HyunginChoSpringPulsarUserApp {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HyunginChoSpringPulsarUserApp.class, args);\n    }\n\n    @Bean\n    ApplicationRunner sendDataOnStartup(PulsarTemplate&lt;User&gt; pulsarTemplate) {\n        return (args) -&gt; {\n            String data2 = &quot;{\\&quot;users\\&quot;: [{\\&quot;userId\\&quot;: 1,\\&quot;firstName\\&quot;: \\&quot;AAAAA\\&quot;},{\\&quot;userId\\&quot;: 2,\\&quot;firstName\\&quot;: \\&quot;BBBB\\&quot;},{\\&quot;userId\\&quot;: 3,\\&quot;firstName\\&quot;: \\&quot;CCCCC\\&quot;},{\\&quot;userId\\&quot;: 4,\\&quot;firstName\\&quot;: \\&quot;DDDDD\\&quot;},{\\&quot;userId\\&quot;: 5,\\&quot;firstName\\&quot;: \\&quot;EEEEE\\&quot;}]}&quot;;\n            ObjectMapper objectMapper = ObjectMapperFactory.create();\n            JsonNode usersNode = objectMapper.readTree(data2).get(&quot;users&quot;);\n            List&lt;User&gt; users = objectMapper.convertValue(usersNode, new TypeReference&lt;&gt;() {});\n            System.out.printf(&quot;*** SENDING: %s%n&quot;, users);\n            for (User user : users) {\n                pulsarTemplate.newMessage(user)\n                        .withTopic(&quot;Json_Test2&quot;)\n                        .withSchema(Schema.JSON(User.class))\n                        .send();\n            }\n        };\n    }\n\n    @PulsarListener(topics = &quot;Json_Test2&quot;, schemaType = SchemaType.JSON, batch = true)\n    public void listenForData(List&lt;User&gt; users) {\n        users.forEach((user) -&gt; System.out.printf(&quot;***** LISTEN: %s%n&quot;.formatted(user)));\n    }\n\n    public record User(String userId, String firstName) {}\n}\n</code></pre>\n<pre><code>*** SENDING: [User[userId=1, firstName=AAAAA], User[userId=2, firstName=BBBB], User[userId=3, firstName=CCCCC], User[userId=4, firstName=DDDDD], User[userId=5, firstName=EEEEE]]\n...\n***** LISTEN: User[userId=1, firstName=AAAAA]\n***** LISTEN: User[userId=2, firstName=BBBB]\n***** LISTEN: User[userId=3, firstName=CCCCC]\n***** LISTEN: User[userId=4, firstName=DDDDD]\n***** LISTEN: User[userId=5, firstName=EEEEE]\n</code></pre>\n<p>I hope this helps. Take care.</p>\n"}],"owner":{"account_id":25831681,"reputation":35,"user_id":19568750,"display_name":"Hyungin Cho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332174,"answer_count":1,"score":0,"last_activity_date":1675405312,"creation_date":1675387825,"question_id":75330621,"body_markdown":"I am a beginner who just started developing pulsar-client with spring boot.\r\nFirst of all, I learned the basics through pulsar doc and git, but I was stuck testing batch transmission of messages from the pulsar-client producer.\r\nIn particular, I want to send JsonArray data in batches, but I keep getting a JsonArray.getAsInt error.\r\nPlease take a look at my code and tell me what&#39;s wrong\r\n\r\n```\r\npackage com.refactorizando.example.pulsar.producer;\r\n\r\nimport static java.util.stream.Collectors.toList;\r\n\r\nimport com.refactorizando.example.pulsar.config.PulsarConfiguration;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.IntStream;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport net.sf.json.JSONArray;\r\n\r\nimport org.apache.pulsar.client.api.CompressionType;\r\nimport org.apache.pulsar.client.api.Message;\r\nimport org.apache.pulsar.client.api.MessageId;\r\nimport org.apache.pulsar.client.api.Producer;\r\nimport org.apache.pulsar.client.api.PulsarClient;\r\nimport org.apache.pulsar.client.api.PulsarClientException;\r\nimport org.apache.pulsar.client.impl.schema.JSONSchema;\r\nimport org.apache.pulsar.shade.com.google.gson.JsonArray;\r\nimport org.apache.pulsar.shade.com.google.gson.JsonElement;\r\nimport org.apache.pulsar.shade.com.google.gson.JsonObject;\r\nimport org.apache.pulsar.shade.com.google.gson.JsonParser;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class PulsarProducer {\r\n\r\n  private static final String TOPIC_NAME = &quot;Json_Test&quot;;\r\n\r\n  private final PulsarClient client;\r\n\r\n\r\n  @Bean(name = &quot;producer&quot;)\r\n  public void producer() throws PulsarClientException {\r\n   \r\n    // batching\r\n    Producer&lt;JsonArray&gt; producer = client.newProducer(JSONSchema.of(JsonArray.class))\r\n        .topic(TOPIC_NAME)\r\n        .batchingMaxPublishDelay(60, TimeUnit.SECONDS)\r\n        .batchingMaxMessages(2)\r\n        .enableBatching(true)\r\n        .compressionType(CompressionType.LZ4)\r\n        .create();\r\n    String data = &quot;{&#39;users&#39;: [{&#39;userId&#39;: 1,&#39;firstName&#39;: &#39;AAAAA&#39;},{&#39;userId&#39;: 2,&#39;firstName&#39;: &#39;BBBB&#39;},{&#39;userId&#39;: 3,&#39;firstName&#39;: &#39;CCCCC&#39;},{&#39;userId&#39;: 4,&#39;firstName&#39;: &#39;DDDDD&#39;},{&#39;userId&#39;: 5,&#39;firstName&#39;: &#39;EEEEE&#39;}]}&quot;;\r\n    JsonElement element = JsonParser.parseString(data);\r\n    JsonObject obj = element.getAsJsonObject();\r\n    JsonArray arr = obj.getAsJsonArray(&quot;users&quot;);\r\n    try {\r\n      producer.send(arr);\r\n    } catch (Exception e) {\r\n      log.error(&quot;Error sending mesasage&quot;);\r\n      e.printStackTrace();\r\n    }\r\n\r\n    producer.close();\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nI&#39;m still a beginner developer, so I couldn&#39;t find it on stackOverflow because I couldn&#39;t search well. If you have anything related to it, please leave a link and I&#39;ll delete the question.\r\nThanks for reading my question and have a nice day!\r\n\r\nI tried several things, such as converting to JsonObject and sending, converting to String and sending, etc., but the same error came out.","title":"How to send JsonArray data in apache-pulsar-client?","body":"<p>I am a beginner who just started developing pulsar-client with spring boot.\nFirst of all, I learned the basics through pulsar doc and git, but I was stuck testing batch transmission of messages from the pulsar-client producer.\nIn particular, I want to send JsonArray data in batches, but I keep getting a JsonArray.getAsInt error.\nPlease take a look at my code and tell me what's wrong</p>\n<pre><code>package com.refactorizando.example.pulsar.producer;\n\nimport static java.util.stream.Collectors.toList;\n\nimport com.refactorizando.example.pulsar.config.PulsarConfiguration;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.IntStream;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport net.sf.json.JSONArray;\n\nimport org.apache.pulsar.client.api.CompressionType;\nimport org.apache.pulsar.client.api.Message;\nimport org.apache.pulsar.client.api.MessageId;\nimport org.apache.pulsar.client.api.Producer;\nimport org.apache.pulsar.client.api.PulsarClient;\nimport org.apache.pulsar.client.api.PulsarClientException;\nimport org.apache.pulsar.client.impl.schema.JSONSchema;\nimport org.apache.pulsar.shade.com.google.gson.JsonArray;\nimport org.apache.pulsar.shade.com.google.gson.JsonElement;\nimport org.apache.pulsar.shade.com.google.gson.JsonObject;\nimport org.apache.pulsar.shade.com.google.gson.JsonParser;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Component;\n\n@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class PulsarProducer {\n\n  private static final String TOPIC_NAME = &quot;Json_Test&quot;;\n\n  private final PulsarClient client;\n\n\n  @Bean(name = &quot;producer&quot;)\n  public void producer() throws PulsarClientException {\n   \n    // batching\n    Producer&lt;JsonArray&gt; producer = client.newProducer(JSONSchema.of(JsonArray.class))\n        .topic(TOPIC_NAME)\n        .batchingMaxPublishDelay(60, TimeUnit.SECONDS)\n        .batchingMaxMessages(2)\n        .enableBatching(true)\n        .compressionType(CompressionType.LZ4)\n        .create();\n    String data = &quot;{'users': [{'userId': 1,'firstName': 'AAAAA'},{'userId': 2,'firstName': 'BBBB'},{'userId': 3,'firstName': 'CCCCC'},{'userId': 4,'firstName': 'DDDDD'},{'userId': 5,'firstName': 'EEEEE'}]}&quot;;\n    JsonElement element = JsonParser.parseString(data);\n    JsonObject obj = element.getAsJsonObject();\n    JsonArray arr = obj.getAsJsonArray(&quot;users&quot;);\n    try {\n      producer.send(arr);\n    } catch (Exception e) {\n      log.error(&quot;Error sending mesasage&quot;);\n      e.printStackTrace();\n    }\n\n    producer.close();\n\n  }\n\n}\n</code></pre>\n<p>I'm still a beginner developer, so I couldn't find it on stackOverflow because I couldn't search well. If you have anything related to it, please leave a link and I'll delete the question.\nThanks for reading my question and have a nice day!</p>\n<p>I tried several things, such as converting to JsonObject and sending, converting to String and sending, etc., but the same error came out.</p>\n"},{"tags":["java","csv","filter","stream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675402969,"post_id":75331844,"comment_id":132925605,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":10252307,"reputation":115,"user_id":8310489,"display_name":"Marco Aur&#233;lio Lopes J&#250;nior"},"score":0,"creation_date":1675403786,"post_id":75331844,"comment_id":132925709,"body_markdown":"Unfortunately no, still having the incorrect visualization","body":"Unfortunately no, still having the incorrect visualization"}],"answers":[{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675405012,"creation_date":1675405012,"answer_id":75332148,"question_id":75331844,"body_markdown":"You are making this more complicated that it needs to be. The common pseudo code for finding lowest value is:\r\n\r\n    set lowestValue to null\r\n    for each value\r\n       if lowestValue == null || value &lt; lowestValue\r\n           lowestValue = value\r\n\r\nAs you have multiple values to look for, each identified by the stock name, you define lowest_value as `Map&lt;String, BigDecimal&gt;` where the key is the stock identifier. Once you have processed each line in the input data, the map contains the lowest value for each stock. There is no need for nested loops, as everyting is done during the single pass. Once the you have populated the map, you can do the printing in a separate single loop over the map data.","title":"Visualizating incorrect dada using the stream filter in Java","body":"<p>You are making this more complicated that it needs to be. The common pseudo code for finding lowest value is:</p>\n<pre><code>set lowestValue to null\nfor each value\n   if lowestValue == null || value &lt; lowestValue\n       lowestValue = value\n</code></pre>\n<p>As you have multiple values to look for, each identified by the stock name, you define lowest_value as <code>Map&lt;String, BigDecimal&gt;</code> where the key is the stock identifier. Once you have processed each line in the input data, the map contains the lowest value for each stock. There is no need for nested loops, as everyting is done during the single pass. Once the you have populated the map, you can do the printing in a separate single loop over the map data.</p>\n"}],"owner":{"account_id":10252307,"reputation":115,"user_id":8310489,"display_name":"Marco Aur&#233;lio Lopes J&#250;nior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675405012,"creation_date":1675402016,"question_id":75331844,"body_markdown":"I have a csv file of the stock exchange I am taking data from, reading it and printing it under certain conditions. One of the conditions under which I must display them is to display the lowest value of a share of each share. My code only shows the first record of each of the three stocks, and does not show the lowest value of these stocks. Where am I going wrong in my filtering using the filter?\r\n\r\nMy code\r\n\r\n```\r\nprivate static void smallestPriceByStock(List&lt;String&gt; stocks) throws ParseException {\r\n\t\tList&lt;StockPrice&gt; stockPrices = new ArrayList&lt;&gt;();\r\n\t\tHashSet&lt;String&gt; stock = new HashSet&lt;&gt;();\r\n\t\tSimpleDateFormat sdfOriginal = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tSimpleDateFormat sdfNovaData = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tfor (String s : stocks) {\r\n\t\t\t\tString[] array = a.split(&quot;,&quot;);\r\n\t\t\t\tString name = array[0];\r\n\t\t\t\tString date = array[1];\r\n\t\t\t\tDate dataOriginal = sdfOriginal.parse(date);\r\n\t\t\t\tfloat fechamento = Float.parseFloat(array[2]);\r\n\t\t\t\tlong volume = Long.parseLong(array[3]);\r\n\t\t\t\tStockPrice stockPrice = new StockPrice(nome, dataOriginal, price, volume);\r\n\t\t\t\tstockPrices.add(stockPrice);\r\n\t\t\t\tStock st = new Stock(name);\r\n\t\t\t\tst.addStockPrice(stockPrice);\r\n\t\t\t\tstock.add(st.getNome());\r\n\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Menores fechamentos&quot;);\r\n\t\t\tList&lt;Cotacao&gt; cotas = new ArrayList&lt;&gt;();\r\n\t\t\tdouble smallestValue = 0;\r\n\t\t\tfor(String a : acao) {\r\n\t\t\t\tfor (Cotacao c : cotacoes) {\r\n\t\t\t\t\tif (c.getNome().contains(a)) {\r\n\t\t\t\t\t\tsmallestValue = cotacoes.stream()\r\n\t\t\t\t\t\t\t\t.filter(x -&gt; x.getNome() == a)\r\n\t\t\t\t\t\t\t\t.mapToDouble(x -&gt; x.getValue()).summaryStatistics().getMax();\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Stock: &quot; + c.getNome() + &quot;, &quot; + &quot;Price: &quot; + smallestValue + &quot;, &quot; + &quot;Date: &quot; + sdfNovaData.format(c.getData()));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\tfor(Cotacao cotacao : cotas){\r\n\t\t\t\tSystem.out.println(cotacao.getNome());\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t} catch (UnsupportedOperationException | ParseException e) {\r\n\t\t\tthrow new UnsupportedOperationException(&quot;calculaMenorFechamentoPorAcao n&#227;o implementado&quot;, e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nA little sampe of the csv file\r\n\r\n```\r\nAcao,Data,Fechamento,Volume\r\nOGXP3,2013-01-01,4.38,0\r\nOGXP3,2013-01-02,4.76,45904000\r\nOGXP3,2013-01-03,4.90,38143400\r\nPETR4,2013-01-02,19.69,30182600\r\nPETR4,2013-01-03,20.40,30552600\r\nPETR4,2013-01-04,20.43,36141000\r\nPETR4,2013-01-07,20.08,28069600\r\nVALE5,2013-01-01,40.87,0\r\nVALE5,2013-01-02,42.60,18515700\r\nVALE5,2013-01-03,42.09,15001800\r\nVALE5,2013-01-04,41.36,26351900\r\n\r\n```\r\n\r\n","title":"Visualizating incorrect dada using the stream filter in Java","body":"<p>I have a csv file of the stock exchange I am taking data from, reading it and printing it under certain conditions. One of the conditions under which I must display them is to display the lowest value of a share of each share. My code only shows the first record of each of the three stocks, and does not show the lowest value of these stocks. Where am I going wrong in my filtering using the filter?</p>\n<p>My code</p>\n<pre><code>private static void smallestPriceByStock(List&lt;String&gt; stocks) throws ParseException {\n        List&lt;StockPrice&gt; stockPrices = new ArrayList&lt;&gt;();\n        HashSet&lt;String&gt; stock = new HashSet&lt;&gt;();\n        SimpleDateFormat sdfOriginal = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        SimpleDateFormat sdfNovaData = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n\n        try {\n            for (String s : stocks) {\n                String[] array = a.split(&quot;,&quot;);\n                String name = array[0];\n                String date = array[1];\n                Date dataOriginal = sdfOriginal.parse(date);\n                float fechamento = Float.parseFloat(array[2]);\n                long volume = Long.parseLong(array[3]);\n                StockPrice stockPrice = new StockPrice(nome, dataOriginal, price, volume);\n                stockPrices.add(stockPrice);\n                Stock st = new Stock(name);\n                st.addStockPrice(stockPrice);\n                stock.add(st.getNome());\n\n            }\n            System.out.println(&quot;Menores fechamentos&quot;);\n            List&lt;Cotacao&gt; cotas = new ArrayList&lt;&gt;();\n            double smallestValue = 0;\n            for(String a : acao) {\n                for (Cotacao c : cotacoes) {\n                    if (c.getNome().contains(a)) {\n                        smallestValue = cotacoes.stream()\n                                .filter(x -&gt; x.getNome() == a)\n                                .mapToDouble(x -&gt; x.getValue()).summaryStatistics().getMax();\n                            System.out.println(&quot;Stock: &quot; + c.getNome() + &quot;, &quot; + &quot;Price: &quot; + smallestValue + &quot;, &quot; + &quot;Date: &quot; + sdfNovaData.format(c.getData()));\n                            break;\n                        }\n                    }\n                }\n\n            for(Cotacao cotacao : cotas){\n                System.out.println(cotacao.getNome());\n            }\n            System.out.println();\n        } catch (UnsupportedOperationException | ParseException e) {\n            throw new UnsupportedOperationException(&quot;calculaMenorFechamentoPorAcao nÃ£o implementado&quot;, e);\n        }\n    }\n</code></pre>\n<p>A little sampe of the csv file</p>\n<pre><code>Acao,Data,Fechamento,Volume\nOGXP3,2013-01-01,4.38,0\nOGXP3,2013-01-02,4.76,45904000\nOGXP3,2013-01-03,4.90,38143400\nPETR4,2013-01-02,19.69,30182600\nPETR4,2013-01-03,20.40,30552600\nPETR4,2013-01-04,20.43,36141000\nPETR4,2013-01-07,20.08,28069600\nVALE5,2013-01-01,40.87,0\nVALE5,2013-01-02,42.60,18515700\nVALE5,2013-01-03,42.09,15001800\nVALE5,2013-01-04,41.36,26351900\n\n</code></pre>\n"},{"tags":["java","jackson","migration","gson"],"comments":[{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":1,"creation_date":1675371811,"post_id":75328730,"comment_id":132920752,"body_markdown":"can you share the class `PermissionOverwrites` ?","body":"can you share the class <code>PermissionOverwrites</code> ?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675373832,"post_id":75328730,"comment_id":132921246,"body_markdown":"Can you drop a sample of the json?","body":"Can you drop a sample of the json?"}],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675403667,"creation_date":1675403226,"answer_id":75331948,"question_id":75328730,"body_markdown":"This code uses Jackson to do the same as your code that uses Gson:\r\n\r\n```\r\nJsonNode array = mapper.readTree(json);\r\nfor (JsonNode element : array) {\r\n  Map&lt;Permissionable, Permissions&gt; map = new HashMap&lt;&gt;();\r\n  Permissionable p = switch (element.get(&quot;type&quot;).asInt()) {\r\n    case 0 -&gt; new Permissionable.MockPermissionable(element.get(&quot;id&quot;).asLong());\r\n    case 1 -&gt; new Permissionable.MockPermissionable(element.get(&quot;id&quot;).asLong());\r\n    default -&gt; throw new JsonParseException(&quot;Unknown permissionable type&quot;, null);\r\n  };\r\n  Permissions perms = new Permissions(element.get(&quot;allow&quot;).asLong(), element.get(&quot;deny&quot;).asLong());\r\n  map.put(p, perms);\r\n}\r\n\r\nreturn new PermissionOverwrites(map);\r\n```\r\n\r\nHere&#39;s [an article about how to work with Jackson JSON tree model ](https://www.baeldung.com/jackson-json-node-tree-model).","title":"Deserialize a JSON array into a Java object (Not a List nor a Collection) using Jackson","body":"<p>This code uses Jackson to do the same as your code that uses Gson:</p>\n<pre><code>JsonNode array = mapper.readTree(json);\nfor (JsonNode element : array) {\n  Map&lt;Permissionable, Permissions&gt; map = new HashMap&lt;&gt;();\n  Permissionable p = switch (element.get(&quot;type&quot;).asInt()) {\n    case 0 -&gt; new Permissionable.MockPermissionable(element.get(&quot;id&quot;).asLong());\n    case 1 -&gt; new Permissionable.MockPermissionable(element.get(&quot;id&quot;).asLong());\n    default -&gt; throw new JsonParseException(&quot;Unknown permissionable type&quot;, null);\n  };\n  Permissions perms = new Permissions(element.get(&quot;allow&quot;).asLong(), element.get(&quot;deny&quot;).asLong());\n  map.put(p, perms);\n}\n\nreturn new PermissionOverwrites(map);\n</code></pre>\n<p>Here's <a href=\"https://www.baeldung.com/jackson-json-node-tree-model\" rel=\"nofollow noreferrer\">an article about how to work with Jackson JSON tree model </a>.</p>\n"}],"owner":{"account_id":19221358,"reputation":35,"user_id":15464124,"display_name":"RedDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75331948,"answer_count":1,"score":0,"last_activity_date":1675403667,"creation_date":1675370670,"question_id":75328730,"body_markdown":"I was previously using Gson and decided to move to Jackson for practical reasons.\r\nPreviously, I had a JSON deserializer that was deserializing an array of json objects into a single java object.\r\n\r\nThe json structure of the field is :\r\n```json\r\n{\r\n    id: number,\r\n    type: (0 | 1),\r\n    allow: number,\r\n    deny: number\r\n}[]\r\n```\r\n\r\nAnd I need to deserialize this array into my own object: `PermissionOverwrites`.\r\n\r\nPreviously, I was using this code with Gson:\r\n```java\r\nJsonArray array = json.getAsJsonArray();\r\nMap&lt;Permissionable, Permissions&gt; map = new HashMap&lt;&gt;();\r\n \r\nfor (JsonElement element : array) {\r\n    JsonObject object = element.getAsJsonObject();\r\n    Permissionable p = switch (object.get(&quot;type&quot;).getAsInt()) {\r\n        case 0 -&gt; new Permissionable.MockPermissionable(object.get(&quot;id&quot;).getAsLong()); \r\n        case 1 -&gt; new Permissionable.MockPermissionable(object.get(&quot;id&quot;).getAsLong()); \r\n        default -&gt; throw new JsonParseException(&quot;Unknown permissionable type&quot;);\r\n    };\r\n    Permissions perms = new Permissions(object.get(&quot;allow&quot;).getAsLong(), object.get(&quot;deny&quot;).getAsLong());\r\n    map.put(p, perms);\r\n}\r\n \r\nreturn new PermissionOverwrites(map);\r\n```\r\n\r\nBut now, with Jackson, I&#39;ve got a JsonParser and a DeserializationContext and I can&#39;t find anything in any of the two files to parse an ArrayNode. Do you know any way I can do this using Jackson.\r\n\r\nThank you in advance!\r\n\r\nEDIT:\r\n\r\n`PermissionsOverwrites.java`\r\n```java\r\n@ToString\r\n@EqualsAndHashCode\r\npublic class PermissionOverwrites {\r\n\r\n    private Map&lt;Permissionable, Permissions&gt; overwrites;\r\n    \r\n    public PermissionOverwrites(Map&lt;Permissionable, Permissions&gt; overwrites) {\r\n        this.overwrites = overwrites;\r\n    }\r\n    \r\n    public PermissionOverwrites() {\r\n        this.overwrites = new HashMap&lt;&gt;();\r\n    }\r\n    \r\n    public Map&lt;Permissionable, Permissions&gt; getOverwrites() {\r\n        return Collections.unmodifiableMap(overwrites);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nExample of the JSON object:\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;111111111111111111&quot;,\r\n        &quot;type&quot;: &quot;0&quot;,\r\n        &quot;allow&quot;: &quot;01010&quot;,\r\n        &quot;deny&quot;: &quot;10101&quot;\r\n    }\r\n],\r\n```","title":"Deserialize a JSON array into a Java object (Not a List nor a Collection) using Jackson","body":"<p>I was previously using Gson and decided to move to Jackson for practical reasons.\nPreviously, I had a JSON deserializer that was deserializing an array of json objects into a single java object.</p>\n<p>The json structure of the field is :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    id: number,\n    type: (0 | 1),\n    allow: number,\n    deny: number\n}[]\n</code></pre>\n<p>And I need to deserialize this array into my own object: <code>PermissionOverwrites</code>.</p>\n<p>Previously, I was using this code with Gson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonArray array = json.getAsJsonArray();\nMap&lt;Permissionable, Permissions&gt; map = new HashMap&lt;&gt;();\n \nfor (JsonElement element : array) {\n    JsonObject object = element.getAsJsonObject();\n    Permissionable p = switch (object.get(&quot;type&quot;).getAsInt()) {\n        case 0 -&gt; new Permissionable.MockPermissionable(object.get(&quot;id&quot;).getAsLong()); \n        case 1 -&gt; new Permissionable.MockPermissionable(object.get(&quot;id&quot;).getAsLong()); \n        default -&gt; throw new JsonParseException(&quot;Unknown permissionable type&quot;);\n    };\n    Permissions perms = new Permissions(object.get(&quot;allow&quot;).getAsLong(), object.get(&quot;deny&quot;).getAsLong());\n    map.put(p, perms);\n}\n \nreturn new PermissionOverwrites(map);\n</code></pre>\n<p>But now, with Jackson, I've got a JsonParser and a DeserializationContext and I can't find anything in any of the two files to parse an ArrayNode. Do you know any way I can do this using Jackson.</p>\n<p>Thank you in advance!</p>\n<p>EDIT:</p>\n<p><code>PermissionsOverwrites.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToString\n@EqualsAndHashCode\npublic class PermissionOverwrites {\n\n    private Map&lt;Permissionable, Permissions&gt; overwrites;\n    \n    public PermissionOverwrites(Map&lt;Permissionable, Permissions&gt; overwrites) {\n        this.overwrites = overwrites;\n    }\n    \n    public PermissionOverwrites() {\n        this.overwrites = new HashMap&lt;&gt;();\n    }\n    \n    public Map&lt;Permissionable, Permissions&gt; getOverwrites() {\n        return Collections.unmodifiableMap(overwrites);\n    }\n    \n}\n</code></pre>\n<p>Example of the JSON object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: &quot;111111111111111111&quot;,\n        &quot;type&quot;: &quot;0&quot;,\n        &quot;allow&quot;: &quot;01010&quot;,\n        &quot;deny&quot;: &quot;10101&quot;\n    }\n],\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1457444007,"post_id":35865949,"comment_id":59401344,"body_markdown":"Do you have write permissions on the classes directory?  See: http://stackoverflow.com/questions/12514867/cannot-compile-wordcount-java","body":"Do you have write permissions on the classes directory?  See: <a href=\"http://stackoverflow.com/questions/12514867/cannot-compile-wordcount-java\" title=\"cannot compile wordcount java\">stackoverflow.com/questions/12514867/&hellip;</a>"},{"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"score":0,"creation_date":1457483694,"post_id":35865949,"comment_id":59424734,"body_markdown":"Yes, I have. The only special thing here is that it is on mounted directory.","body":"Yes, I have. The only special thing here is that it is on mounted directory."},{"owner":{"account_id":7709938,"reputation":89,"user_id":5839609,"display_name":"Ravi"},"score":0,"creation_date":1602544149,"post_id":35865949,"comment_id":113748696,"body_markdown":"@zjffdu Were you able to resolve this issue? If so, can you please share more details? Thanks.","body":"@zjffdu Were you able to resolve this issue? If so, can you please share more details? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2168211,"reputation":152,"user_id":1920823,"accept_rate":50,"display_name":"Atmaram"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1488210715,"creation_date":1488210715,"answer_id":42490041,"question_id":35865949,"body_markdown":"I also faced this is issue.. It occurs mainly due to two reasons:\r\n\r\n1. Permission Problem: some folder doesn&#39;t have write permission in the project. Try to change the permission of those folders.\r\n2. While importing the code from any repository, their might chances of file may get ^M characters at end of line. For this use &quot;dos2unix&quot; command. (I faced same problem due to this, as all my java files were containing this character.) ","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>I also faced this is issue.. It occurs mainly due to two reasons:</p>\n\n<ol>\n<li>Permission Problem: some folder doesn't have write permission in the project. Try to change the permission of those folders.</li>\n<li>While importing the code from any repository, their might chances of file may get ^M characters at end of line. For this use \"dos2unix\" command. (I faced same problem due to this, as all my java files were containing this character.) </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17579345,"reputation":11,"user_id":12753460,"display_name":"Sunny Chunchuwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579598003,"creation_date":1579598003,"answer_id":59837606,"question_id":35865949,"body_markdown":"My issue is resolved after restarting the eclipse.","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>My issue is resolved after restarting the eclipse.</p>\n"},{"tags":[],"owner":{"account_id":5010108,"reputation":1772,"user_id":4026629,"display_name":"JL_SO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660812421,"creation_date":1660812421,"answer_id":73400020,"question_id":35865949,"body_markdown":"For me I think I was out of disk space. Hoovering up some files with `sudo journalctl --vacuum-size=500M` seems to have fixed it.","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>For me I think I was out of disk space. Hoovering up some files with <code>sudo journalctl --vacuum-size=500M</code> seems to have fixed it.</p>\n"},{"tags":[],"owner":{"account_id":12619254,"reputation":1,"user_id":19852410,"display_name":"Knocksholesinwalls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661522810,"creation_date":1661522810,"answer_id":73502288,"question_id":35865949,"body_markdown":"From August 2022, I was getting this error on everything I tried, all java maven projects.  For me simply upgrading from Maven 3.6.3 -&gt; Maven 3.8.6 solved the issue.","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>From August 2022, I was getting this error on everything I tried, all java maven projects.  For me simply upgrading from Maven 3.6.3 -&gt; Maven 3.8.6 solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":942897,"reputation":2171,"user_id":970673,"accept_rate":69,"display_name":"Jordan Morris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675403159,"creation_date":1675403159,"answer_id":75331937,"question_id":35865949,"body_markdown":"May be caused by a file lock, e.g. if you previously built it in your IDE and the IDE is still open.","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>May be caused by a file lock, e.g. if you previously built it in your IDE and the IDE is still open.</p>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19578,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1675403159,"creation_date":1457435981,"question_id":35865949,"body_markdown":"Got the following weird exception, any one can help ? Thanks\r\n\r\n    [info] Compiling 3 Java sources to /mnt/nfs0/jzhang/spark-1.6.1/tags/target/scala-2.10/classes...\r\n    [error] /mnt/nfs0/jzhang/spark-1.6.1/tags/src/main/java/org/apache/spark/tags/DockerTest.java:26: error: error while writing DockerTest: could not create parent directories\r\n    [error] public @interface DockerTest { }\r\n    [error]         ^\r\n    [error] 1 error\r\n    [error] Compile failed at Mar 8, 2016 11:17:18 AM [0.817s]","title":"Hit &quot;could not create parent directories&quot; error when build project using mvn","body":"<p>Got the following weird exception, any one can help ? Thanks</p>\n\n<pre><code>[info] Compiling 3 Java sources to /mnt/nfs0/jzhang/spark-1.6.1/tags/target/scala-2.10/classes...\n[error] /mnt/nfs0/jzhang/spark-1.6.1/tags/src/main/java/org/apache/spark/tags/DockerTest.java:26: error: error while writing DockerTest: could not create parent directories\n[error] public @interface DockerTest { }\n[error]         ^\n[error] 1 error\n[error] Compile failed at Mar 8, 2016 11:17:18 AM [0.817s]\n</code></pre>\n"},{"tags":["java","rmi"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675402680,"creation_date":1578264803,"answer_id":59604908,"question_id":59603819,"body_markdown":"Your `ImlementationInterfaceChefDept` RMI server is incorrectly registered. You are binding both to the same `ServerDesAvis` endpoint :\r\n\r\n```\r\nImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\r\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\r\n\r\nImplementationInterfaceEtudiant s = new ImplementationInterfaceEtudiant();\r\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, s);\r\n```\r\n\r\n... which means the first one (`ImlementationInterfaceChefDept`) will be overridden by the second one. You need to replace:\r\n\r\n```\r\nImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\r\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\r\n```\r\n... with this:\r\n\r\n```\r\nImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\r\nNaming.rebind(&quot;rmi://localhost/ImlementationInterfaceChefDept&quot;, c);\r\n```\r\n\r\nHope this helps.","title":"i have a problem in a java rmi multiclient code","body":"<p>Your <code>ImlementationInterfaceChefDept</code> RMI server is incorrectly registered. You are binding both to the same <code>ServerDesAvis</code> endpoint :</p>\n<pre><code>ImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\n\nImplementationInterfaceEtudiant s = new ImplementationInterfaceEtudiant();\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, s);\n</code></pre>\n<p>... which means the first one (<code>ImlementationInterfaceChefDept</code>) will be overridden by the second one. You need to replace:</p>\n<pre><code>ImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\nNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\n</code></pre>\n<p>... with this:</p>\n<pre><code>ImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\nNaming.rebind(&quot;rmi://localhost/ImlementationInterfaceChefDept&quot;, c);\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":17460042,"reputation":19,"user_id":12657945,"display_name":"user12657945"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":59604908,"answer_count":1,"score":0,"last_activity_date":1675402680,"creation_date":1578255273,"question_id":59603819,"body_markdown":"i am writing a java rmi multi_client code where the first client (client1 ) have the right to modify or create  an object and the succond client (client2) have access to the object created by client1 return the onject to see it, but it&#39;s not working \r\n**first client class** \r\n\r\n   \r\n\r\n     import java.net.MalformedURLException;\r\n    import java.rmi.Naming;\r\n    import java.rmi.NotBoundException;\r\n    import java.rmi.RemoteException;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class ChefDeDepartement {\r\n    \t\r\n    \tstatic Scanner sc1  =  new Scanner(System.in);\r\n    \tstatic Scanner sc2  =  new Scanner(System.in);\r\n    \tstatic Scanner sc3  =  new Scanner(System.in);\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args)throws RemoteException, NotBoundException, MalformedURLException {\r\n    \t\t\r\n    \t\tint i=0;\r\n    \t\t\ttry\r\n    \t        {\r\n    \t\t\t //java.rmi.registry.LocateRegistry.createRegistry(1000);\r\n    \t\t\t \r\n    \t\t\t InterfaceChefDept c = (InterfaceChefDept)Naming.lookup(&quot;rmi://localhost/ImlementationInterfaceChefDept&quot;);\r\n    \t\t\t \r\n    \t            System.out.println(&quot;connection au serveur&quot;);\r\n    \t    \t\t\r\n    \t            \r\n    \t            c.Ajouter(&quot;1ere avis&quot;);\r\n    \t    \t\tc.Ajouter(&quot;2eme avis&quot;);\r\n    \t    \t\tc.Ajouter(&quot;3eme avis&quot;);\r\n    \t    \t\tList&lt;String&gt; avis = c.returnArrayList();\r\n    \t    \t\tSystem.out.println(&quot;Bienvenu !!!!!!!!!!&quot;);\r\n    \t    \t\t\r\n    \t    \t\t\r\n    \t            while(i==0){\r\n    \t            \tSystem.out.println(&quot; &quot;);\r\n    \t            \tSystem.out.println(&quot; &quot;);\r\n    \t            \tSystem.out.println(&quot; &quot;);\r\n    \t            \t\r\n    \r\n    //affichage*************************************************************\t            \t\r\n    \t            \tSystem.out.println(&quot;La liste des avis :&quot;);\r\n    \t        \t\t\r\n    \t        \t\tList&lt;String&gt; listAvis = avis;\r\n    \t        \t\tint j=0;\r\n    \t        \t\tint k=0;\r\n    \t        \t\tfor(String e: listAvis){\r\n    \t        \t\t\tj=j+1;\r\n    \t        \t\t\tSystem.out.println(j + &quot; :&quot; + e);\r\n    \t        \t\t\t\r\n    \t        \t\t}\r\n    \t            \t\r\n    //affichage*************************************************************\t            \t\r\n    \t            \t\r\n    \t            \t\r\n    \t            \tSystem.out.println(&quot;*********************&quot;);\r\n    \t\t            System.out.println(&quot;**********&quot;);\r\n    \t\t            System.out.println(&quot;choisire votre Action :&quot;);\r\n    \t\t            System.out.println(&quot;             1: Ajouter un avis \\n&quot;);\r\n    \t\t            System.out.println(&quot;             2: Supprimer \\n&quot;);\r\n    \t\t            int choice  = sc1.nextInt();\r\n    \t\t            String newAvis;\r\n    \t\t            int idAvis;\r\n    \t\t            \r\n    \t\t            if (choice==1)\r\n    \r\n    \t\t                {\r\n    \t\t                    System.out.println(&quot;donner le nouvel avis : &quot;);\r\n    \t\t                    newAvis = sc2.nextLine();\r\n    \t\t                    c.Ajouter(newAvis);\r\n    \t\t                    avis = c.returnArrayList();\r\n    /*\t\t                    \r\n    //affichage*************************************************************\t            \t\r\n    \t\t\t            \tSystem.out.println(&quot;La liste des avis :&quot;);\r\n    \t\t\t        \t\t\r\n    \t\t\t        \t\tint l=0;\r\n    \t\t\t        \t\tfor(String f: avis){\r\n    \t\t\t        \t\t\tl=l+1;\r\n    \t\t\t        \t\t\tSystem.out.println(l + &quot; :&quot; + f);\r\n    \t\t\t        \t\t\t\r\n    \t\t\t        \t\t}\r\n    \t\t\t            \t\r\n    //affichage*************************************************************\r\n    \t\r\n      */\r\n    \t\t                }\r\n    \t\t                \r\n    \t\t                \r\n    \t\t                if (choice==2)\r\n    \t\t                {\r\n    \t\t                    System.out.println(&quot;donner l&#39;indice de l&#39;avis a supprimer &quot;);\r\n    \t\t                    idAvis = sc3.nextInt();\r\n    \t\t                    System.out.println(&quot;scan done&quot;);\r\n    \t\t                    c.Supprimer(idAvis);\r\n    \t\t                    System.out.println(&quot;supp done &quot;);\r\n    \t\t                    avis = c.returnArrayList();\r\n    /*\t\t                    \r\n     //affichage*************************************************************\t            \t\r\n    \t\t\t            \tSystem.out.println(&quot;La liste des avis :&quot;);\r\n    \t\t\t        \t\t\r\n    \t\t\t        \t\tint n=0;\r\n    \t\t\t        \t\tfor(String f: avis){\r\n    \t\t\t        \t\t\tn=n+1;\r\n    \t\t\t        \t\t\tSystem.out.println(n + &quot; :&quot; + f);\r\n    \t\t\t        \t\t\t\r\n    \t\t\t        \t\t}\r\n    \t\t\t            \t\r\n    //affichage*************************************************************\t\t                    \r\n    */\t\t                    \r\n    \t\t                }\r\n    \t            }\r\n    \t    \t\t\r\n    \t        \r\n    \t        }\r\n    \t\t \r\n    \t        catch(Exception e)\r\n    \t        {\r\n    \t            System.out.println(e);\r\n    \t        \r\n    \t        }\r\n    \t        }\r\n    \r\n    }\r\n\r\n**succond client class**\r\n\r\n   \r\n\r\n     import java.rmi.Naming;\r\n    import java.rmi.RemoteException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Etudiant {\r\n    \t\r\n    public static void main(String [] args) throws RemoteException {\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\tint i=0;\r\n    \t\t\t\r\n    \t\t\tInterfaceChefDept c = (InterfaceChefDept) Naming.lookup(&quot;rmi://localhost/ImlementationInterfaceChefDept&quot;);\r\n    \t\t\tInterfaceEtudiant s = (InterfaceEtudiant) Naming.lookup(&quot;rmi://localhost/ServerDesAvis&quot;);\r\n    \t\t\t\r\n    \t\t\tList&lt;String&gt; avis = c.returnArrayList();\r\n    \t\t\tList&lt;String&gt; lavis = s.AfficherAvis(avis);\r\n    \t\r\n            \tSystem.out.println(&quot;La liste des avis disponibles :&quot;);\r\n        \t\t\r\n        \t\tfor(String f: lavis){\r\n        \t\t\ti=i+1;\r\n        \t\t\tSystem.out.println(i + &quot; :   &quot; + f);\r\n        \t\t\t\r\n        \t\t}\r\n        \t\tSystem.out.println(&quot;:) :) :) :) :) &quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n**server class** \r\n\r\n        import java.rmi.Naming;\r\n    import java.rmi.RemoteException;\r\n    import java.rmi.registry.LocateRegistry;\r\n    import java.rmi.registry.Registry;\r\n    import java.rmi.NotBoundException;\r\n    import java.rmi.Remote;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class ServerDesAvis {\r\n    \r\n    \r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) throws RemoteException,NotBoundException{\r\n    \r\n    \r\n    \t\ttry\r\n    \t    {\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\r\n    \t\t\tNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, c);\r\n    \t\t\t\r\n    \t\t\tImplementationInterfaceEtudiant s = new ImplementationInterfaceEtudiant();\r\n    \t\t\tNaming.rebind(&quot;rmi://localhost/ServerDesAvis&quot;, s);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t        System.out.println(&quot;server is running&quot;);\r\n    \t        System.out.println(&quot;.......&quot;);\r\n    \t        System.out.println(&quot;.....&quot;);\r\n    \t        System.out.println(&quot;...&quot;);\r\n    \t    }\r\n    \t\t\r\n    \t\tcatch(RemoteException re){\r\n    \t\t\tre.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t    catch(Exception e) {\r\n    \t                System.out.println(e);\r\n    \t            }\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nafter **java ChefDeDepartement localhost**\r\ni get this error \r\njava.rmi.NotBoundException: ImlementationInterfaceChefDept\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"i have a problem in a java rmi multiclient code","body":"<p>i am writing a java rmi multi_client code where the first client (client1 ) have the right to modify or create  an object and the succond client (client2) have access to the object created by client1 return the onject to see it, but it's not working \n<strong>first client class</strong> </p>\n\n<pre><code> import java.net.MalformedURLException;\nimport java.rmi.Naming;\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\nimport java.util.List;\n\n\npublic class ChefDeDepartement {\n\n    static Scanner sc1  =  new Scanner(System.in);\n    static Scanner sc2  =  new Scanner(System.in);\n    static Scanner sc3  =  new Scanner(System.in);\n\n\n    public static void main(String[] args)throws RemoteException, NotBoundException, MalformedURLException {\n\n        int i=0;\n            try\n            {\n             //java.rmi.registry.LocateRegistry.createRegistry(1000);\n\n             InterfaceChefDept c = (InterfaceChefDept)Naming.lookup(\"rmi://localhost/ImlementationInterfaceChefDept\");\n\n                System.out.println(\"connection au serveur\");\n\n\n                c.Ajouter(\"1ere avis\");\n                c.Ajouter(\"2eme avis\");\n                c.Ajouter(\"3eme avis\");\n                List&lt;String&gt; avis = c.returnArrayList();\n                System.out.println(\"Bienvenu !!!!!!!!!!\");\n\n\n                while(i==0){\n                    System.out.println(\" \");\n                    System.out.println(\" \");\n                    System.out.println(\" \");\n\n\n//affichage*************************************************************                    \n                    System.out.println(\"La liste des avis :\");\n\n                    List&lt;String&gt; listAvis = avis;\n                    int j=0;\n                    int k=0;\n                    for(String e: listAvis){\n                        j=j+1;\n                        System.out.println(j + \" :\" + e);\n\n                    }\n\n//affichage*************************************************************                    \n\n\n                    System.out.println(\"*********************\");\n                    System.out.println(\"**********\");\n                    System.out.println(\"choisire votre Action :\");\n                    System.out.println(\"             1: Ajouter un avis \\n\");\n                    System.out.println(\"             2: Supprimer \\n\");\n                    int choice  = sc1.nextInt();\n                    String newAvis;\n                    int idAvis;\n\n                    if (choice==1)\n\n                        {\n                            System.out.println(\"donner le nouvel avis : \");\n                            newAvis = sc2.nextLine();\n                            c.Ajouter(newAvis);\n                            avis = c.returnArrayList();\n/*                          \n//affichage*************************************************************                    \n                            System.out.println(\"La liste des avis :\");\n\n                            int l=0;\n                            for(String f: avis){\n                                l=l+1;\n                                System.out.println(l + \" :\" + f);\n\n                            }\n\n//affichage*************************************************************\n\n  */\n                        }\n\n\n                        if (choice==2)\n                        {\n                            System.out.println(\"donner l'indice de l'avis a supprimer \");\n                            idAvis = sc3.nextInt();\n                            System.out.println(\"scan done\");\n                            c.Supprimer(idAvis);\n                            System.out.println(\"supp done \");\n                            avis = c.returnArrayList();\n/*                          \n //affichage*************************************************************                   \n                            System.out.println(\"La liste des avis :\");\n\n                            int n=0;\n                            for(String f: avis){\n                                n=n+1;\n                                System.out.println(n + \" :\" + f);\n\n                            }\n\n//affichage*************************************************************                            \n*/                          \n                        }\n                }\n\n\n            }\n\n            catch(Exception e)\n            {\n                System.out.println(e);\n\n            }\n            }\n\n}\n</code></pre>\n\n<p><strong>succond client class</strong></p>\n\n<pre><code> import java.rmi.Naming;\nimport java.rmi.RemoteException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Etudiant {\n\npublic static void main(String [] args) throws RemoteException {\n\n        try{\n            int i=0;\n\n            InterfaceChefDept c = (InterfaceChefDept) Naming.lookup(\"rmi://localhost/ImlementationInterfaceChefDept\");\n            InterfaceEtudiant s = (InterfaceEtudiant) Naming.lookup(\"rmi://localhost/ServerDesAvis\");\n\n            List&lt;String&gt; avis = c.returnArrayList();\n            List&lt;String&gt; lavis = s.AfficherAvis(avis);\n\n            System.out.println(\"La liste des avis disponibles :\");\n\n            for(String f: lavis){\n                i=i+1;\n                System.out.println(i + \" :   \" + f);\n\n            }\n            System.out.println(\":) :) :) :) :) \");\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n\n    }\n\n\n\n}\n</code></pre>\n\n<p><strong>server class</strong> </p>\n\n<pre><code>    import java.rmi.Naming;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.rmi.NotBoundException;\nimport java.rmi.Remote;\nimport java.util.ArrayList;\n\n\npublic class ServerDesAvis {\n\n\n\n\n    public static void main(String[] args) throws RemoteException,NotBoundException{\n\n\n        try\n        {\n\n\n            ImlementationInterfaceChefDept c = new ImlementationInterfaceChefDept();\n            Naming.rebind(\"rmi://localhost/ServerDesAvis\", c);\n\n            ImplementationInterfaceEtudiant s = new ImplementationInterfaceEtudiant();\n            Naming.rebind(\"rmi://localhost/ServerDesAvis\", s);\n\n\n            System.out.println(\"server is running\");\n            System.out.println(\".......\");\n            System.out.println(\".....\");\n            System.out.println(\"...\");\n        }\n\n        catch(RemoteException re){\n            re.printStackTrace();\n        }\n\n        catch(Exception e) {\n                    System.out.println(e);\n                }\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>after <strong>java ChefDeDepartement localhost</strong>\ni get this error \njava.rmi.NotBoundException: ImlementationInterfaceChefDept</p>\n"},{"tags":["java","collections","java-8","functional-programming","java-stream"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1578197475,"post_id":59587180,"comment_id":105358622,"body_markdown":"Since the current answer doesn&#39;t explain much. Relate *binary operator for Float type elements* =&gt; `BinaryOperator&lt;Float&gt; binaryOp`. No from the stream you need to filter elements for which the predicate holds true using `stream.filter(predicate)` and finally reduce such elements when found in multiple occurrence using the operation with `stream.filter(predicate).reduce(binaryOp).`","body":"Since the current answer doesn&#39;t explain much. Relate <i>binary operator for Float type elements</i> =&gt; <code>BinaryOperator&lt;Float&gt; binaryOp</code>. No from the stream you need to filter elements for which the predicate holds true using <code>stream.filter(predicate)</code> and finally reduce such elements when found in multiple occurrence using the operation with <code>stream.filter(predicate).reduce(binaryOp).</code>"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1675402676,"creation_date":1578101720,"answer_id":59587217,"question_id":59587180,"body_markdown":"The following method is the one you are looking for:\r\n\r\n```java\r\npublic Optional&lt;Float&gt; davidist(\r\n\t\tStream&lt;Float&gt; stream, Predicate&lt;Float&gt; tester, BinaryOperator&lt;Float&gt; op) {\r\n\r\n\treturn stream           // Elements stream\r\n\t\t\t.filter(tester) // Stream of elements that passed &#39;tester&#39; test\r\n\t\t\t.reduce(op);    // Optional&lt;Float&gt; resulting by reducing elements using &#39;op&#39;\r\n}\r\n```\r\n\r\nHope this helps.\r\n","title":"Functional Programming/Streams Exercise","body":"<p>The following method is the one you are looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;Float&gt; davidist(\n        Stream&lt;Float&gt; stream, Predicate&lt;Float&gt; tester, BinaryOperator&lt;Float&gt; op) {\n\n    return stream           // Elements stream\n            .filter(tester) // Stream of elements that passed 'tester' test\n            .reduce(op);    // Optional&lt;Float&gt; resulting by reducing elements using 'op'\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":17247342,"reputation":31,"user_id":12488280,"display_name":"spinos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":59587217,"answer_count":1,"score":0,"last_activity_date":1675402676,"creation_date":1578101222,"question_id":59587180,"body_markdown":"&gt; Write a method named davidist which returns an `Optional&lt;Float&gt;`\r\n&gt; result and has 3 parameters:\r\n&gt; \r\n&gt; * a Stream s (Float type)\r\n&gt; * a Predicate p for Float type elements\r\n&gt; * a binary operator for Float type elements\r\n&gt; \r\n&gt; Method chooses from the stream the elements for which p is true and\r\n&gt; returns: if there are more than one elements, the result of the binary\r\n&gt; operator applied between the elements for which p is true (i.e a1 c a2\r\n&gt; c a3 c a4 c), otherwise it returns Optional.empty().\r\n\r\nThis is what I&#39;ve done so far, can somebody help me out?\r\n\r\n```\t\r\npublic Optional&lt;Float&gt; davidist(Stream&lt;Float&gt; s, Predicate&lt;Float&gt; p, byte b) {\r\n    if () {\r\n\r\n    } else {\r\n\t    return Optional.empty();\r\n\t}\r\n}\r\n```\r\n","title":"Functional Programming/Streams Exercise","body":"<blockquote>\n  <p>Write a method named davidist which returns an <code>Optional&lt;Float&gt;</code>\n  result and has 3 parameters:</p>\n  \n  <ul>\n  <li>a Stream s (Float type)</li>\n  <li>a Predicate p for Float type elements</li>\n  <li>a binary operator for Float type elements</li>\n  </ul>\n  \n  <p>Method chooses from the stream the elements for which p is true and\n  returns: if there are more than one elements, the result of the binary\n  operator applied between the elements for which p is true (i.e a1 c a2\n  c a3 c a4 c), otherwise it returns Optional.empty().</p>\n</blockquote>\n\n<p>This is what I've done so far, can somebody help me out?</p>\n\n<pre><code>public Optional&lt;Float&gt; davidist(Stream&lt;Float&gt; s, Predicate&lt;Float&gt; p, byte b) {\n    if () {\n\n    } else {\n        return Optional.empty();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","gradle","android-studio","android-gradle-plugin"],"comments":[{"owner":{"account_id":3576085,"reputation":79494,"user_id":2985303,"display_name":"Scott Barta"},"score":0,"creation_date":1400857755,"post_id":23828085,"comment_id":36670220,"body_markdown":"Try deleting the .gradle folders in both your home directory and your project&#39;s directory.","body":"Try deleting the .gradle folders in both your home directory and your project&#39;s directory."},{"owner":{"account_id":1339540,"reputation":6509,"user_id":1281522,"accept_rate":85,"display_name":"Omri Btian"},"score":0,"creation_date":1400885835,"post_id":23828085,"comment_id":36683555,"body_markdown":"@ScottBarta deleting .gradle folder from my user&#39;s directory and then clicking &#39;Sync Project with Gradle files&#39; solved it for me. if you&#39;ll write it as an answer i&#39;ll mark it as accepted. Thanks :)","body":"@ScottBarta deleting .gradle folder from my user&#39;s directory and then clicking &#39;Sync Project with Gradle files&#39; solved it for me. if you&#39;ll write it as an answer i&#39;ll mark it as accepted. Thanks :)"},{"owner":{"account_id":5812009,"reputation":549,"user_id":4582746,"accept_rate":65,"display_name":"Akshay Kumar"},"score":0,"creation_date":1488106399,"post_id":23828085,"comment_id":72076268,"body_markdown":"@ScottBarta can you tell me where the .gradle folder exists. sorry i am very new in android","body":"@ScottBarta can you tell me where the .gradle folder exists. sorry i am very new in android"}],"answers":[{"tags":[],"owner":{"account_id":3576085,"reputation":79494,"user_id":2985303,"display_name":"Scott Barta"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1400887529,"creation_date":1400887529,"answer_id":23839694,"question_id":23828085,"body_markdown":"An &quot;error in opening zip file&quot; tends to mean that a file that Gradle has downloaded has somehow become corrupted -- this might be the download of Gradle itself (which the wrapper does), or a dependency that Gradle has downloaded to run your build.\r\n\r\nGradle doesn&#39;t attempt to detect or resolve the problem, so you need to fix it manually. The solution is often to purge Gradle&#39;s download caches and let it get fresh copies of what it needs. To do that, delete the `.gradle` directories in both your home directory and in your project&#39;s root directory and try building again.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>An \"error in opening zip file\" tends to mean that a file that Gradle has downloaded has somehow become corrupted -- this might be the download of Gradle itself (which the wrapper does), or a dependency that Gradle has downloaded to run your build.</p>\n\n<p>Gradle doesn't attempt to detect or resolve the problem, so you need to fix it manually. The solution is often to purge Gradle's download caches and let it get fresh copies of what it needs. To do that, delete the <code>.gradle</code> directories in both your home directory and in your project's root directory and try building again.</p>\n"},{"tags":[],"owner":{"account_id":4997543,"reputation":1,"user_id":4429756,"display_name":"HadenRobert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422410241,"creation_date":1422410241,"answer_id":28183377,"question_id":23828085,"body_markdown":"I fixed this issue by...\r\n\r\n - Going to Settings... &gt; Gradle\r\n - Selecting &quot;Use local Gradle distribution.&quot;\r\n - Pointed it to my Gradle zip file: **home/kersting/.gradle/wrapper/dists/gradle-1.12-all/6vpvhqu0efs1fqmqr2decq1v12/gradle-1.12**\r\n\r\nIt should be something similar for you if you downloaded Gradle which you should have when you downloaded Android Studio. Be careful, the .gradle file may be hidden. I found it through the terminal, but &quot;ls&quot; didn&#39;t reveal it.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I fixed this issue by...</p>\n\n<ul>\n<li>Going to Settings... > Gradle</li>\n<li>Selecting \"Use local Gradle distribution.\"</li>\n<li>Pointed it to my Gradle zip file: <strong>home/kersting/.gradle/wrapper/dists/gradle-1.12-all/6vpvhqu0efs1fqmqr2decq1v12/gradle-1.12</strong></li>\n</ul>\n\n<p>It should be something similar for you if you downloaded Gradle which you should have when you downloaded Android Studio. Be careful, the .gradle file may be hidden. I found it through the terminal, but \"ls\" didn't reveal it.</p>\n"},{"tags":[],"owner":{"account_id":480291,"reputation":21721,"user_id":893432,"accept_rate":66,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429609942,"creation_date":1429609942,"answer_id":29768719,"question_id":23828085,"body_markdown":"I had the same problem, happened after turning on and off jack and jill tool chain. I tried removing .gradle but it didn&#39;t help. Removing the **build** directory inside my project folder resolves the problem. \r\n\r\nTry this before removing .gradle as it will need near 200MB worth of download.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I had the same problem, happened after turning on and off jack and jill tool chain. I tried removing .gradle but it didn't help. Removing the <strong>build</strong> directory inside my project folder resolves the problem. </p>\n\n<p>Try this before removing .gradle as it will need near 200MB worth of download.</p>\n"},{"tags":[],"owner":{"display_name":"user5008047"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434276810,"creation_date":1434276810,"answer_id":30828166,"question_id":23828085,"body_markdown":"I fixed the same issue via the following:\r\n\r\nGo to File -&gt; Settings -&gt; Gradle\r\n\r\nInput the following in the &quot;Gradle VM options:&quot; box: -XX:MaxHeapSize=256m -Xmx256m\r\n\r\nHit apply and Android Studio should build your project successfully.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I fixed the same issue via the following:</p>\n\n<p>Go to File -> Settings -> Gradle</p>\n\n<p>Input the following in the \"Gradle VM options:\" box: -XX:MaxHeapSize=256m -Xmx256m</p>\n\n<p>Hit apply and Android Studio should build your project successfully.</p>\n"},{"tags":[],"owner":{"account_id":6592644,"reputation":349,"user_id":5093366,"display_name":"Khurshid A Bhuyan"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1675308452,"creation_date":1436351442,"answer_id":31290028,"question_id":23828085,"body_markdown":"If you have limited internet plan then use the following method.\r\n\r\n**Step1**: Close android studio\r\n\r\n**Step2**: *Go to C:\\Users\\Khurshid\\\\.gradle\\wrapper\\dists\\gradle-1.12-all\\2apkk7d25miauqf1pdjp1bm0uo* (if you want to configure gradle 1.12)\r\n\r\n**Step3**: try to open the gradle-1.12-all.zip by double clicking it. If it gives error message then delete the zip file.\r\n\r\n**step4**: go to https://services.gradle.org/distributions and download gradle-1.12-all.zip (54mb approx) and copy the same to the folder where you have previously deleted the zip file.\r\n\r\n**step5**: open android studio and go to file-&gt;setting select &#39;gradle&#39; and click on &#39;use local gradle distribution&#39; and set &#39;gradle home&#39; to  &#39;*C:\\Users\\Khurshid\\\\.gradle\\wrapper\\dists\\gradle-1.12-all\\2apkk7d25miauqf1pdjp1bm0uo\\gradle-1.12-all.zip*&#39; and click ok. \r\n\r\n**step6**: It will download some file over the internet. If download doesn&#39;t start automatically then restart android studio. \r\n\r\n**step7**: Be patience and let it download some important stuff and after that everything should be working fine. This method will help you save your internet data. Downloading the entire gradle directory will consume double the data.\r\n\r\n\r\n\r\n","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>If you have limited internet plan then use the following method.</p>\n<p><strong>Step1</strong>: Close android studio</p>\n<p><strong>Step2</strong>: <em>Go to C:\\Users\\Khurshid\\.gradle\\wrapper\\dists\\gradle-1.12-all\\2apkk7d25miauqf1pdjp1bm0uo</em> (if you want to configure gradle 1.12)</p>\n<p><strong>Step3</strong>: try to open the gradle-1.12-all.zip by double clicking it. If it gives error message then delete the zip file.</p>\n<p><strong>step4</strong>: go to <a href=\"https://services.gradle.org/distributions\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions</a> and download gradle-1.12-all.zip (54mb approx) and copy the same to the folder where you have previously deleted the zip file.</p>\n<p><strong>step5</strong>: open android studio and go to file-&gt;setting select 'gradle' and click on 'use local gradle distribution' and set 'gradle home' to  '<em>C:\\Users\\Khurshid\\.gradle\\wrapper\\dists\\gradle-1.12-all\\2apkk7d25miauqf1pdjp1bm0uo\\gradle-1.12-all.zip</em>' and click ok.</p>\n<p><strong>step6</strong>: It will download some file over the internet. If download doesn't start automatically then restart android studio.</p>\n<p><strong>step7</strong>: Be patience and let it download some important stuff and after that everything should be working fine. This method will help you save your internet data. Downloading the entire gradle directory will consume double the data.</p>\n"},{"tags":[],"owner":{"account_id":1746603,"reputation":2185,"user_id":1596646,"display_name":"asamoylenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453136633,"creation_date":1453136633,"answer_id":34860223,"question_id":23828085,"body_markdown":"Clearing **.gradle** directory didn&#39;t help, but clearing **build** directory did the job for me.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>Clearing <strong>.gradle</strong> directory didn't help, but clearing <strong>build</strong> directory did the job for me.</p>\n"},{"tags":[],"owner":{"account_id":4278962,"reputation":1983,"user_id":3498931,"accept_rate":60,"display_name":"Ajay P. Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456955102,"creation_date":1456955102,"answer_id":35758714,"question_id":23828085,"body_markdown":"You just have to edit `build.gradle` file.\r\n\r\nyou should set the classpath to the latest gradle version\r\n\r\n      dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:1.5.0&#39;\r\n    }\r\n\r\nand Sync the project. All errors will be gone. What you can do is, make new project in android studio, which will have classpath of latest gradle and paste it into your project that having `Cause: error in opening zip file.` this error.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>You just have to edit <code>build.gradle</code> file.</p>\n\n<p>you should set the classpath to the latest gradle version</p>\n\n<pre><code>  dependencies {\n    classpath 'com.android.tools.build:gradle:1.5.0'\n}\n</code></pre>\n\n<p>and Sync the project. All errors will be gone. What you can do is, make new project in android studio, which will have classpath of latest gradle and paste it into your project that having <code>Cause: error in opening zip file.</code> this error.</p>\n"},{"tags":[],"owner":{"account_id":458026,"reputation":2652,"user_id":857681,"display_name":"speedynomads"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485457298,"creation_date":1485457298,"answer_id":41880963,"question_id":23828085,"body_markdown":"For me the solution to this error was to change the gradle wrapper version in ../gradle/wraper/gradle-wrapper.properties to a different/newer version.. I used:\r\n&gt; distributionUrl=https\\://services.gradle.org/distributions/gradle-2.14.1-all.zip\r\n\r\nThen call:\r\n\r\n&gt; ./gradlew --refresh-dependencies \r\n\r\nThis tells the wrapper to point to a new version and re-download all required dependencies. I suspect the error for me was caused by an interrupted download when first building the relevant project.\r\n\r\n ","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>For me the solution to this error was to change the gradle wrapper version in ../gradle/wraper/gradle-wrapper.properties to a different/newer version.. I used:</p>\n\n<blockquote>\n  <p>distributionUrl=https://services.gradle.org/distributions/gradle-2.14.1-all.zip</p>\n</blockquote>\n\n<p>Then call:</p>\n\n<blockquote>\n  <p>./gradlew --refresh-dependencies </p>\n</blockquote>\n\n<p>This tells the wrapper to point to a new version and re-download all required dependencies. I suspect the error for me was caused by an interrupted download when first building the relevant project.</p>\n"},{"tags":[],"owner":{"account_id":9906941,"reputation":65,"user_id":7335167,"accept_rate":75,"display_name":"na3na3iss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490184210,"creation_date":1490184210,"answer_id":42951110,"question_id":23828085,"body_markdown":"I had the same problem so and to fix it i download  the last version of gradle:\r\n\r\nhttps://services.gradle.org/distributions\r\n\r\nand  open the gradle in the right bar then choose gradle parameters and change the path of the old gradle into the new one.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I had the same problem so and to fix it i download  the last version of gradle:</p>\n\n<p><a href=\"https://services.gradle.org/distributions\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions</a></p>\n\n<p>and  open the gradle in the right bar then choose gradle parameters and change the path of the old gradle into the new one.</p>\n"},{"tags":[],"owner":{"account_id":10328378,"reputation":1,"user_id":7619154,"display_name":"fera10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492283245,"creation_date":1492283245,"answer_id":43430152,"question_id":23828085,"body_markdown":"Deleting the .gradle folder worked for me. Problem resolved after I deleted .gradle folder","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>Deleting the .gradle folder worked for me. Problem resolved after I deleted .gradle folder</p>\n"},{"tags":[],"owner":{"account_id":1247402,"reputation":2062,"user_id":1208563,"accept_rate":80,"display_name":"Virag Brahme"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492588462,"creation_date":1492588462,"answer_id":43489725,"question_id":23828085,"body_markdown":"I also faced the similar issue when imported the existing project into Android Studio, this might happened because of gradle version mismatch between two different Android Studio platform.\r\n\r\n**Solution(on Mac OS):**\r\n\r\n1. Close the Android Studio.\r\n2. Locate the .gradle folder at **User/.gradle/**\r\n3. Delete the folder &amp; clear the Trash.\r\n4. Relaunch the Android Studio &amp; Sync your project. It will re-download the gradle plugins &amp; configurations.\r\n\r\n","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I also faced the similar issue when imported the existing project into Android Studio, this might happened because of gradle version mismatch between two different Android Studio platform.</p>\n\n<p><strong>Solution(on Mac OS):</strong></p>\n\n<ol>\n<li>Close the Android Studio.</li>\n<li>Locate the .gradle folder at <strong>User/.gradle/</strong></li>\n<li>Delete the folder &amp; clear the Trash.</li>\n<li>Relaunch the Android Studio &amp; Sync your project. It will re-download the gradle plugins &amp; configurations.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":399349,"reputation":4195,"user_id":764624,"display_name":"Ivan Wooll"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1495795191,"creation_date":1495795191,"answer_id":44199471,"question_id":23828085,"body_markdown":"In recent versions of Android Studio File -&gt; Invalidate Caches / Restart is worth trying.","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>In recent versions of Android Studio File -> Invalidate Caches / Restart is worth trying.</p>\n"},{"tags":[],"owner":{"account_id":11541044,"reputation":1,"user_id":8456732,"display_name":"Jesus Navas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502604371,"creation_date":1502592823,"answer_id":45656639,"question_id":23828085,"body_markdown":"I had the same issue\r\n\r\n - Go to C:\\Users\\Jesus Navas\\.gradle\\wrapper\\dists\\gradle-3.3-all(your gradle version). \r\n\r\n - Erase your current gradle version and write again in cmd &quot;ionic build android&quot;. \r\n\r\n - However, your gradle will download again, then it will unzip it automatically, ready checkout the output .apk, \r\n\r\nthis solved my issue","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I had the same issue</p>\n\n<ul>\n<li><p>Go to C:\\Users\\Jesus Navas.gradle\\wrapper\\dists\\gradle-3.3-all(your gradle version). </p></li>\n<li><p>Erase your current gradle version and write again in cmd \"ionic build android\". </p></li>\n<li><p>However, your gradle will download again, then it will unzip it automatically, ready checkout the output .apk, </p></li>\n</ul>\n\n<p>this solved my issue</p>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402672,"creation_date":1575791266,"answer_id":59233472,"question_id":23828085,"body_markdown":"One of the causes of this problem (since late 2019) is the [decommissioning of HTTP services by Gradle][1] - and I see you are using `HTTP` protocol in your `distributionUrl`. This means that if your `[PROJECT_PATH]/gradle/wrapper/gradle-wrapper.properties` file has an entry like:\r\n\r\n```\r\ndistributionUrl=http\\://services.gradle.org/distributions/gradle-{version}.zip\r\n```\r\n\r\n... then this entry will try to retrieve a `ZIP` file from a service no longer servicing it (`http` based one) and it will silently return an empty `ZIP` file; which consequentially will be the source of an error from any process trying to unzip that empty `ZIP` file.\r\n\r\nTo fix this, just change your `[PROJECT_PATH]/gradle/wrapper/gradle-wrapper.properties` file to have its `distributionUrl` entry to use `https`:\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-{version}.zip\r\n```\r\n\r\nHope this helps.\r\n\r\n\r\n[1]: https://blog.gradle.org/decommissioning-http","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>One of the causes of this problem (since late 2019) is the <a href=\"https://blog.gradle.org/decommissioning-http\" rel=\"nofollow noreferrer\">decommissioning of HTTP services by Gradle</a> - and I see you are using <code>HTTP</code> protocol in your <code>distributionUrl</code>. This means that if your <code>[PROJECT_PATH]/gradle/wrapper/gradle-wrapper.properties</code> file has an entry like:</p>\n<pre><code>distributionUrl=http\\://services.gradle.org/distributions/gradle-{version}.zip\n</code></pre>\n<p>... then this entry will try to retrieve a <code>ZIP</code> file from a service no longer servicing it (<code>http</code> based one) and it will silently return an empty <code>ZIP</code> file; which consequentially will be the source of an error from any process trying to unzip that empty <code>ZIP</code> file.</p>\n<p>To fix this, just change your <code>[PROJECT_PATH]/gradle/wrapper/gradle-wrapper.properties</code> file to have its <code>distributionUrl</code> entry to use <code>https</code>:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-{version}.zip\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":8635468,"reputation":972,"user_id":6465824,"accept_rate":56,"display_name":"Fajar Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580473513,"creation_date":1580473513,"answer_id":60003879,"question_id":23828085,"body_markdown":"Simply change `distributionUrl` to latest like this:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-all.zip\r\n\r\nIt will download all necessary gradle files and your good to go.\r\n","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>Simply change <code>distributionUrl</code> to latest like this:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.1-all.zip\n</code></pre>\n\n<p>It will download all necessary gradle files and your good to go.</p>\n"}],"owner":{"account_id":1339540,"reputation":6509,"user_id":1281522,"accept_rate":85,"display_name":"Omri Btian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76182,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":23839694,"answer_count":15,"score":29,"last_activity_date":1675402672,"creation_date":1400844701,"question_id":23828085,"body_markdown":"I&#39;m new to android development and android studio IDE.\r\n\r\nI&#39;ve checked-out a project from bitbucket and when I try to compile it I get the following error:\r\n\r\n&gt; Failed to complete Gradle Execution\r\n&gt; \r\n&gt; Cause:\r\n&gt; error in opening zip file.\r\n\r\nMy `gradle-wrapper.properties` is as follows:\r\n\r\n&gt; distributionBase=GRADLE_USER_HOME  \r\n&gt; distributionPath=wrapper/dists  \r\n&gt; zipStoreBase=GRADLE_USER_HOME  \r\n&gt; zipStorePath=wrapper/dists  \r\n&gt; distributionUrl=http\\://services.gradle.org/distributions/gradle-1.11-all.zip\r\n\r\nI wasn&#39;t able to get too much information from this but the full log states:\r\n\r\n&gt; 2014-05-23 14:06:28,950 [  32077]   WARN -\r\n&gt; nal.AbstractExternalSystemTask - Cause: error in opening zip file \r\n&gt; com.intellij.openapi.externalSystem.model.ExternalSystemException:\r\n&gt; Cause: error in opening zip file \tat\r\n&gt; org.jetbrains.plugins.gradle.service.project.GradleExecutionHelper.execute(GradleExecutionHelper.java:206)\r\n&gt; \tat\r\n&gt; org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:116)\r\n&gt; \tat\r\n&gt; org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:64)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:41)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:37)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:59)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:49)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:48)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:137)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:123)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:467)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4$2.run(ExternalSystemUtil.java:546)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl$TaskRunnable.run(ProgressManagerImpl.java:464)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl$2.run(ProgressManagerImpl.java:178)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.ProgressManager.executeProcessUnderProgress(ProgressManager.java:209)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:212)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcess(ProgressManagerImpl.java:171)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.progress.impl.ProgressManagerImpl$8.run(ProgressManagerImpl.java:373)\r\n&gt; \tat\r\n&gt; com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:419)\r\n&gt; \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745) \tat\r\n&gt; com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:149)\r\n&gt; \r\n&gt; 2014-05-23 14:06:28,950 [  32077]   WARN -\r\n&gt; .project.GradleProjectImporter -   2014-05-23 14:06:28,951 [  32078]  \r\n&gt; INFO - .project.GradleProjectImporter - Cause: error in opening zip\r\n&gt; file\r\n\r\nI&#39;m using Android studio 0.5.2.\r\n\r\nCan someone point me in the right direction on how to solve this?","title":"Android studio - Failed to complete gradle execution - error in opening zip file","body":"<p>I'm new to android development and android studio IDE.</p>\n\n<p>I've checked-out a project from bitbucket and when I try to compile it I get the following error:</p>\n\n<blockquote>\n  <p>Failed to complete Gradle Execution</p>\n  \n  <p>Cause:\n  error in opening zip file.</p>\n</blockquote>\n\n<p>My <code>gradle-wrapper.properties</code> is as follows:</p>\n\n<blockquote>\n  <p>distributionBase=GRADLE_USER_HOME<br>\n  distributionPath=wrapper/dists<br>\n  zipStoreBase=GRADLE_USER_HOME<br>\n  zipStorePath=wrapper/dists<br>\n  distributionUrl=http\\://services.gradle.org/distributions/gradle-1.11-all.zip</p>\n</blockquote>\n\n<p>I wasn't able to get too much information from this but the full log states:</p>\n\n<blockquote>\n  <p>2014-05-23 14:06:28,950 [  32077]   WARN -\n  nal.AbstractExternalSystemTask - Cause: error in opening zip file \n  com.intellij.openapi.externalSystem.model.ExternalSystemException:\n  Cause: error in opening zip file  at\n  org.jetbrains.plugins.gradle.service.project.GradleExecutionHelper.execute(GradleExecutionHelper.java:206)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:116)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:64)\n    at\n  com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:41)\n    at\n  com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl$1.produce(RemoteExternalSystemProjectResolverImpl.java:37)\n    at\n  com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:59)\n    at\n  com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\n    at\n  com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:49)\n    at\n  com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:48)\n    at\n  com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:137)\n    at\n  com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:123)\n    at\n  com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:467)\n    at\n  com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4$2.run(ExternalSystemUtil.java:546)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl$TaskRunnable.run(ProgressManagerImpl.java:464)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl$2.run(ProgressManagerImpl.java:178)\n    at\n  com.intellij.openapi.progress.ProgressManager.executeProcessUnderProgress(ProgressManager.java:209)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:212)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcess(ProgressManagerImpl.java:171)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl$8.run(ProgressManagerImpl.java:373)\n    at\n  com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:419)\n    at\n  java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)    at\n  com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:149)</p>\n  \n  <p>2014-05-23 14:06:28,950 [  32077]   WARN -\n  .project.GradleProjectImporter -   2014-05-23 14:06:28,951 [  32078]<br>\n  INFO - .project.GradleProjectImporter - Cause: error in opening zip\n  file</p>\n</blockquote>\n\n<p>I'm using Android studio 0.5.2.</p>\n\n<p>Can someone point me in the right direction on how to solve this?</p>\n"},{"tags":["java","generics","design-patterns","collections","java-8"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1575139887,"post_id":59119189,"comment_id":104468213,"body_markdown":"Do these objects implement a common interface? Can they? Are you sure?","body":"Do these objects implement a common interface? Can they? Are you sure?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1575139950,"post_id":59119189,"comment_id":104468230,"body_markdown":"To make all the classes implement a common interface or extend a common superclass, defining the common `call()` method. Then to create a List&lt;ThatInterface&gt;, to iterate over it, and to call `.call()` on each of them. That&#39;s the whole principle of polymorphism.","body":"To make all the classes implement a common interface or extend a common superclass, defining the common <code>call()</code> method. Then to create a List&lt;ThatInterface&gt;, to iterate over it, and to call <code>.call()</code> on each of them. That&#39;s the whole principle of polymorphism."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1575142975,"post_id":59119189,"comment_id":104468950,"body_markdown":"@JBNizet What would this `call` method do, what behavior?","body":"@JBNizet What would this <code>call</code> method do, what behavior?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1575143242,"post_id":59119189,"comment_id":104469018,"body_markdown":"It would do what the OP means by &quot;They need to be [...] recalled in the order they were stored&quot;.","body":"It would do what the OP means by &quot;They need to be [...] recalled in the order they were stored&quot;."},{"owner":{"account_id":8250673,"reputation":355,"user_id":6205449,"accept_rate":75,"display_name":"EndOfAll"},"score":0,"creation_date":1575148936,"post_id":59119189,"comment_id":104470368,"body_markdown":"@JBNizet How would the interface manage this functionality? Can you give a rough outline of your logic here?","body":"@JBNizet How would the interface manage this functionality? Can you give a rough outline of your logic here?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1575149736,"post_id":59119189,"comment_id":104470513,"body_markdown":"The interface doesn&#39;t manage anything. All classes implement the interface, and when you call thatInterface.call(), you actually call A.call() if thatInterface is an instance of A, or B.call if thatInterface is an instance of B. Really, it&#39;s the basic principle of interfaces and polymorphism. Your text book **must** cover that. The Java tutorial does: https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html","body":"The interface doesn&#39;t manage anything. All classes implement the interface, and when you call thatInterface.call(), you actually call A.call() if thatInterface is an instance of A, or B.call if thatInterface is an instance of B. Really, it&#39;s the basic principle of interfaces and polymorphism. Your text book <b>must</b> cover that. The Java tutorial does: <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html</a>"},{"owner":{"account_id":8250673,"reputation":355,"user_id":6205449,"accept_rate":75,"display_name":"EndOfAll"},"score":0,"creation_date":1575159151,"post_id":59119189,"comment_id":104472440,"body_markdown":"@JBNizet I believe you are misunderstanding the issue. These classes aren&#39;t related. They share no common ancestor. I must simply create and remember what order they were added to a collection of some sort. This is an architecture issue - but one I cannot resolve. I could implement a common interface - but I see how that could get the order in any meaningful way that offers advantages besides a basic list of untyped objects.\n\nCan you clarify your suggested implemented?","body":"@JBNizet I believe you are misunderstanding the issue. These classes aren&#39;t related. They share no common ancestor. I must simply create and remember what order they were added to a collection of some sort. This is an architecture issue - but one I cannot resolve. I could implement a common interface - but I see how that could get the order in any meaningful way that offers advantages besides a basic list of untyped objects.  Can you clarify your suggested implemented?"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675402601,"creation_date":1575162321,"answer_id":59121698,"question_id":59119189,"body_markdown":"If the objects do not share a common ancestor: \r\n\r\n&gt; These classes aren&#39;t related. They share no common ancestor.\r\n\r\nThen what you can do is to create another class that acts as a wrapper for:\r\n\r\n1. An object of type `T`.\r\n2. A `Consumer&lt;T&gt;` object to act as a reference to the code that needs to be invoked.\r\n\r\nFor example:\r\n\r\n```\r\n\tclass Invocable&lt;T&gt; {\r\n\t\tprivate final T target;\r\n\t\tprivate final Consumer&lt;T&gt; invocation;\r\n\t\t\r\n\t\tpublic Invocable(T target, Consumer&lt;T&gt; invocation) {\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.invocation = invocation;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void runInvocation() {\r\n\t\t\tinvocation.accept(target);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThen create another class that manages a `List&lt;Invocable&gt;` like the following:\r\n\r\n```\r\nclass RunnableList {\r\n\t\r\n\tprivate List&lt;Invocable&lt;?&gt;&gt; invocables = new ArrayList&lt;Invocable&lt;?&gt;&gt;();\r\n\t\r\n\tpublic &lt;T&gt; void add(T target, Consumer&lt;T&gt; invocation) {\r\n\t\tinvocables.add(new Invocable&lt;T&gt;(target, invocation));\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tinvocables.forEach(Invocable::runInvocation);\r\n\t}\r\n}\t\r\n```\r\n\r\nAnd that&#39;s it! Just add ANY object to the `RunnableList` using the `add(T target, Consumer&lt;T&gt; invocation)` method and when you are done adding all your objects (with a reference to the respective code to be invoked) just invoke `run` on the `RunnableList`.\r\n\r\nThe following is a full working example of this, try it out to get the idea:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.function.Consumer;\r\n\r\npublic class RunnableList {\r\n\t\r\n\tprivate List&lt;Invocable&lt;?&gt;&gt; invocables = new ArrayList&lt;Invocable&lt;?&gt;&gt;();\r\n\t\r\n\tpublic &lt;T&gt; void add(T target, Consumer&lt;T&gt; invocation) {\r\n\t\tinvocables.add(new Invocable&lt;T&gt;(target, invocation));\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tinvocables.forEach(Invocable::runInvocation);\r\n\t}\r\n\r\n\tstatic class Invocable&lt;T&gt; {\r\n\t\tprivate final T target;\r\n\t\tprivate final Consumer&lt;T&gt; invocation;\r\n\t\t\r\n\t\tpublic Invocable(T target, Consumer&lt;T&gt; invocation) {\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.invocation = invocation;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void runInvocation() {\r\n\t\t\tinvocation.accept(target);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// TEST\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tRunnableList runnableList = new RunnableList();\r\n\t\trunnableList.add(new ClassA(), o -&gt; o.run1(&quot;hello from A1&quot;));\r\n\t\trunnableList.add(new ClassB(), o -&gt; o.run1(&quot;hello from B1&quot;));\r\n\t\trunnableList.add(new ClassC(), o -&gt; o.run1(&quot;hello from C1&quot;));\r\n\r\n\t\trunnableList.add(new ClassA(), ClassA::run2);\r\n\t\trunnableList.add(new ClassB(), ClassB::run2);\r\n\t\trunnableList.add(new ClassC(), ClassC::run2);\r\n\t\trunnableList.run();\r\n\t}\r\n\t\r\n\tstatic class ClassA {\r\n\t\tpublic void run1(String msg) {\r\n\t\t\tSystem.out.println(&quot;A.run1: &quot; + msg);\r\n\t\t}\r\n\t\tpublic void run2() { System.out.println(&quot;A.run2&quot;); }\r\n\t}\r\n\tstatic class ClassB {\r\n\t\tpublic void run1(String msg) {\r\n\t\t\tSystem.out.println(&quot;B.run1: &quot; + msg);\r\n\t\t}\r\n\t\tpublic void run2() { System.out.println(&quot;B.run2&quot;); }\r\n\t}\r\n\tstatic class ClassC {\r\n\t\tpublic void run1(String msg) {\r\n\t\t\tSystem.out.println(&quot;C.run1: &quot; + msg);\r\n\t\t}\r\n\t\tpublic void run2() { System.out.println(&quot;C.run2&quot;); }\r\n\t}\r\n}\r\n```\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59121698)\r\n\r\nHope this helps.","title":"Best way to store an ordered list of objects that are of different types in Java?","body":"<p>If the objects do not share a common ancestor:</p>\n<blockquote>\n<p>These classes aren't related. They share no common ancestor.</p>\n</blockquote>\n<p>Then what you can do is to create another class that acts as a wrapper for:</p>\n<ol>\n<li>An object of type <code>T</code>.</li>\n<li>A <code>Consumer&lt;T&gt;</code> object to act as a reference to the code that needs to be invoked.</li>\n</ol>\n<p>For example:</p>\n<pre><code>    class Invocable&lt;T&gt; {\n        private final T target;\n        private final Consumer&lt;T&gt; invocation;\n        \n        public Invocable(T target, Consumer&lt;T&gt; invocation) {\n            this.target = target;\n            this.invocation = invocation;\n        }\n        \n        public void runInvocation() {\n            invocation.accept(target);\n        }\n    }\n</code></pre>\n<p>Then create another class that manages a <code>List&lt;Invocable&gt;</code> like the following:</p>\n<pre><code>class RunnableList {\n    \n    private List&lt;Invocable&lt;?&gt;&gt; invocables = new ArrayList&lt;Invocable&lt;?&gt;&gt;();\n    \n    public &lt;T&gt; void add(T target, Consumer&lt;T&gt; invocation) {\n        invocables.add(new Invocable&lt;T&gt;(target, invocation));\n    }\n    \n    public void run() {\n        invocables.forEach(Invocable::runInvocation);\n    }\n}   \n</code></pre>\n<p>And that's it! Just add ANY object to the <code>RunnableList</code> using the <code>add(T target, Consumer&lt;T&gt; invocation)</code> method and when you are done adding all your objects (with a reference to the respective code to be invoked) just invoke <code>run</code> on the <code>RunnableList</code>.</p>\n<p>The following is a full working example of this, try it out to get the idea:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\npublic class RunnableList {\n    \n    private List&lt;Invocable&lt;?&gt;&gt; invocables = new ArrayList&lt;Invocable&lt;?&gt;&gt;();\n    \n    public &lt;T&gt; void add(T target, Consumer&lt;T&gt; invocation) {\n        invocables.add(new Invocable&lt;T&gt;(target, invocation));\n    }\n    \n    public void run() {\n        invocables.forEach(Invocable::runInvocation);\n    }\n\n    static class Invocable&lt;T&gt; {\n        private final T target;\n        private final Consumer&lt;T&gt; invocation;\n        \n        public Invocable(T target, Consumer&lt;T&gt; invocation) {\n            this.target = target;\n            this.invocation = invocation;\n        }\n        \n        public void runInvocation() {\n            invocation.accept(target);\n        }\n    }\n    \n    // TEST\n    \n    public static void main(String[] args) {\n        RunnableList runnableList = new RunnableList();\n        runnableList.add(new ClassA(), o -&gt; o.run1(&quot;hello from A1&quot;));\n        runnableList.add(new ClassB(), o -&gt; o.run1(&quot;hello from B1&quot;));\n        runnableList.add(new ClassC(), o -&gt; o.run1(&quot;hello from C1&quot;));\n\n        runnableList.add(new ClassA(), ClassA::run2);\n        runnableList.add(new ClassB(), ClassB::run2);\n        runnableList.add(new ClassC(), ClassC::run2);\n        runnableList.run();\n    }\n    \n    static class ClassA {\n        public void run1(String msg) {\n            System.out.println(&quot;A.run1: &quot; + msg);\n        }\n        public void run2() { System.out.println(&quot;A.run2&quot;); }\n    }\n    static class ClassB {\n        public void run1(String msg) {\n            System.out.println(&quot;B.run1: &quot; + msg);\n        }\n        public void run2() { System.out.println(&quot;B.run2&quot;); }\n    }\n    static class ClassC {\n        public void run1(String msg) {\n            System.out.println(&quot;C.run1: &quot; + msg);\n        }\n        public void run2() { System.out.println(&quot;C.run2&quot;); }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59121698\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8250673,"reputation":355,"user_id":6205449,"accept_rate":75,"display_name":"EndOfAll"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59121698,"answer_count":1,"score":2,"last_activity_date":1675402601,"creation_date":1575139735,"question_id":59119189,"body_markdown":"I have several classes that are used to create objects. These objects each have code that must be run that depends on the order of insertion.\r\n\r\nThey need to be stored in order - and recalled in the order they were stored.\r\n\r\n 1. Object A\r\n 2. Object B\r\n 3. Object A\r\n 4. Object A\r\n 5. Object C\r\n 6. Object D\r\n\r\n\r\nI&#39;m not sure if the proper way of handling this in Java is a generic list and checking typing at runtime.\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n\r\nI&#39;ve also thought about storing each object type in their own typed list with a parent object reading from the lists in the proper order. However, this seems more complex than just dealing with checking object types at runtime.\r\n\r\nWhat is the proper &quot;Java&quot; way to handle this?","title":"Best way to store an ordered list of objects that are of different types in Java?","body":"<p>I have several classes that are used to create objects. These objects each have code that must be run that depends on the order of insertion.</p>\n\n<p>They need to be stored in order - and recalled in the order they were stored.</p>\n\n<ol>\n<li>Object A</li>\n<li>Object B</li>\n<li>Object A</li>\n<li>Object A</li>\n<li>Object C</li>\n<li>Object D</li>\n</ol>\n\n<p>I'm not sure if the proper way of handling this in Java is a generic list and checking typing at runtime.</p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n</code></pre>\n\n<p>I've also thought about storing each object type in their own typed list with a parent object reading from the lists in the proper order. However, this seems more complex than just dealing with checking object types at runtime.</p>\n\n<p>What is the proper \"Java\" way to handle this?</p>\n"},{"tags":["java","algorithm","design-patterns","enums","functional-interface"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1574982545,"post_id":59097012,"comment_id":104427326,"body_markdown":"Are they actually strings? (Which seems like the wrong data type for a number.)","body":"Are they actually strings? (Which seems like the wrong data type for a number.)"},{"owner":{"account_id":15275486,"reputation":376,"user_id":11021331,"display_name":"Kelvin Ho"},"score":0,"creation_date":1574984864,"post_id":59097012,"comment_id":104427733,"body_markdown":"Do you store the value as String in DB? If they are actually numeric, it is better to do the mapping using comparison operators.","body":"Do you store the value as String in DB? If they are actually numeric, it is better to do the mapping using comparison operators."}],"answers":[{"tags":[],"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574983293,"creation_date":1574983293,"answer_id":59097113,"question_id":59097012,"body_markdown":"Use other hash map to store expected value and involve values based on your database value and put into your hashmap.\r\nDatabase value would be key to your expected hashmap hm in below example.\r\nfor example:\r\n\r\n    HashMap&lt;Integer,String&gt; hm=new HashMap&lt;Integer,String&gt;();  \r\n    hm.put(1,&quot;Sad&quot;); \r\n    hm.put(2,&quot;Sad&quot;); \r\n    hm.put(3,&quot;Sad&quot;);\r\n    hm.put(7,&quot;Ok&quot;);\r\n    hm.put(10,&quot;Happy&quot;);\r\n    String expval = hm.get(3);\r\n    map.put(Value, expval)\r\n","title":"How to create HashMap, using value retrieved from Database?","body":"<p>Use other hash map to store expected value and involve values based on your database value and put into your hashmap.\nDatabase value would be key to your expected hashmap hm in below example.\nfor example:</p>\n\n<pre><code>HashMap&lt;Integer,String&gt; hm=new HashMap&lt;Integer,String&gt;();  \nhm.put(1,\"Sad\"); \nhm.put(2,\"Sad\"); \nhm.put(3,\"Sad\");\nhm.put(7,\"Ok\");\nhm.put(10,\"Happy\");\nString expval = hm.get(3);\nmap.put(Value, expval)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675402596,"creation_date":1574984358,"answer_id":59097202,"question_id":59097012,"body_markdown":"You could use Java `enum`. Define an `enum` that contains all your message mappings linked to the associated numbers. Then create an API in this enum to reverse look for the enum constant that contains a specific number and use that API to resolve what to put in your map.\r\n\r\nThe following is a working demo of this approach, you can run it to see how it works:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\nimport java.util.stream.Stream;\r\n\r\npublic class EnumSelector {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;Integer, String&gt; store = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tstore.computeIfAbsent(1, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(4, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(8, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(10, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(35, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(0, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(40, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(25, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(33, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(55, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(-1, EmotionalState::findLabel);\r\n\t\tstore.computeIfAbsent(100, EmotionalState::findLabel);\r\n\r\n\t\tSystem.out.println(store);\r\n\t}\r\n\r\n\tpublic static enum EmotionalState {\r\n\t\tNULL(&quot;Null&quot;), // No levels\r\n\t\tSINGLE(&quot;Single&quot;, 0), // Single level of 0\r\n\t\tCOMBO_ENUM(&quot;Combo&quot;, 20, 30, 40, 50, 60), // From 20-30 + 40, 50, 60\r\n\t\tENUMERATED(&quot;Enumerated&quot;, 33, 33, 28, 55), // From 33-33 + 28, 55\r\n\t\t\r\n\t\tSAD(&quot;Sad&quot;, 1, 6), \r\n\t\tOK(&quot;Ok&quot;, 7, 8), \r\n\t\tHAPPY(&quot;Happy&quot;, 9, 15),\r\n\t\tDEFAULT_STATE(&quot;Default&quot;);\r\n\t\t\r\n\t\tprivate String name;\r\n\t\tprivate List&lt;Integer&gt; levels;\r\n\t\t\r\n\t\tEmotionalState(String name, int... levels) {\r\n\t\t\tthis.name = name;\r\n\r\n\t\t\t// The first two values will be considered as range\r\n\t\t\tIntStream initialStream = (levels.length &lt; 2) ? \r\n\t\t\t\t\tArrays.stream(levels) : // Single value\r\n\t\t\t\t\tIntStream.range(levels[0], levels[1] + 1); // Range of values\r\n\t\t\t\r\n\t\t\tthis.levels = initialStream\r\n\t\t\t\t\t.mapToObj(Integer::new)\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t\t\r\n\t\t\t// Add remaining values as literals\r\n\t\t\tif (levels.length &gt; 2)\r\n\t\t\t\tArrays.stream(Arrays.copyOfRange(levels, 2, levels.length))\r\n\t\t\t\t\t.mapToObj(Integer::new)\r\n\t\t\t\t\t.forEach(this.levels::add);\r\n\t\t}\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic boolean containsLevel(int level) {\r\n\t\t\treturn levels.stream()\r\n\t\t\t\t\t.filter(l -&gt; l.intValue() == level)\r\n\t\t\t\t\t.findAny()\r\n\t\t\t\t\t.isPresent();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static EmotionalState findFor(int level) {\r\n\t\t\treturn Stream.of(EmotionalState.values())\r\n\t\t\t\t\t.filter(en -&gt; en.containsLevel(level))\r\n\t\t\t\t\t.findAny()\r\n\t\t\t\t\t.orElse(DEFAULT_STATE);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static String findLabel(String level) {\r\n\t\t\treturn findLabel(Integer.parseInt(level));\r\n\t\t}\r\n\r\n\t\tpublic static String findLabel(int level) {\r\n\t\t\treturn EmotionalState.findFor(level).getName();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59097202)\r\n\r\nHope this helps.","title":"How to create HashMap, using value retrieved from Database?","body":"<p>You could use Java <code>enum</code>. Define an <code>enum</code> that contains all your message mappings linked to the associated numbers. Then create an API in this enum to reverse look for the enum constant that contains a specific number and use that API to resolve what to put in your map.</p>\n<p>The following is a working demo of this approach, you can run it to see how it works:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\nimport java.util.stream.Stream;\n\npublic class EnumSelector {\n    \n    public static void main(String[] args) {\n        Map&lt;Integer, String&gt; store = new HashMap&lt;&gt;();\n        \n        store.computeIfAbsent(1, EmotionalState::findLabel);\n        store.computeIfAbsent(4, EmotionalState::findLabel);\n        store.computeIfAbsent(8, EmotionalState::findLabel);\n        store.computeIfAbsent(10, EmotionalState::findLabel);\n        store.computeIfAbsent(35, EmotionalState::findLabel);\n        store.computeIfAbsent(0, EmotionalState::findLabel);\n        store.computeIfAbsent(40, EmotionalState::findLabel);\n        store.computeIfAbsent(25, EmotionalState::findLabel);\n        store.computeIfAbsent(33, EmotionalState::findLabel);\n        store.computeIfAbsent(55, EmotionalState::findLabel);\n        store.computeIfAbsent(-1, EmotionalState::findLabel);\n        store.computeIfAbsent(100, EmotionalState::findLabel);\n\n        System.out.println(store);\n    }\n\n    public static enum EmotionalState {\n        NULL(&quot;Null&quot;), // No levels\n        SINGLE(&quot;Single&quot;, 0), // Single level of 0\n        COMBO_ENUM(&quot;Combo&quot;, 20, 30, 40, 50, 60), // From 20-30 + 40, 50, 60\n        ENUMERATED(&quot;Enumerated&quot;, 33, 33, 28, 55), // From 33-33 + 28, 55\n        \n        SAD(&quot;Sad&quot;, 1, 6), \n        OK(&quot;Ok&quot;, 7, 8), \n        HAPPY(&quot;Happy&quot;, 9, 15),\n        DEFAULT_STATE(&quot;Default&quot;);\n        \n        private String name;\n        private List&lt;Integer&gt; levels;\n        \n        EmotionalState(String name, int... levels) {\n            this.name = name;\n\n            // The first two values will be considered as range\n            IntStream initialStream = (levels.length &lt; 2) ? \n                    Arrays.stream(levels) : // Single value\n                    IntStream.range(levels[0], levels[1] + 1); // Range of values\n            \n            this.levels = initialStream\n                    .mapToObj(Integer::new)\n                    .collect(Collectors.toList());\n            \n            // Add remaining values as literals\n            if (levels.length &gt; 2)\n                Arrays.stream(Arrays.copyOfRange(levels, 2, levels.length))\n                    .mapToObj(Integer::new)\n                    .forEach(this.levels::add);\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public boolean containsLevel(int level) {\n            return levels.stream()\n                    .filter(l -&gt; l.intValue() == level)\n                    .findAny()\n                    .isPresent();\n        }\n        \n        public static EmotionalState findFor(int level) {\n            return Stream.of(EmotionalState.values())\n                    .filter(en -&gt; en.containsLevel(level))\n                    .findAny()\n                    .orElse(DEFAULT_STATE);\n        }\n        \n        public static String findLabel(String level) {\n            return findLabel(Integer.parseInt(level));\n        }\n\n        public static String findLabel(int level) {\n            return EmotionalState.findFor(level).getName();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59097202\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":16923780,"reputation":73,"user_id":12239920,"display_name":"Jazz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59097202,"answer_count":2,"score":2,"last_activity_date":1675402596,"creation_date":1574982195,"question_id":59097012,"body_markdown":"I have a database column which contains values from 0 to 10\r\nBased on value retrieved from database, i need to create a HashMap&lt;String, String&gt;\r\n\r\nExample: If I get value from 0 to 6, I need to store &#39;sad&#39; in HashMap\r\n         If I get value from 7 to 8 , I need to store &#39;ok&#39; in HashMap\r\n         If I get value from 9 to 10, I need to store &#39;happy&#39; in HashMap\r\n\r\nI know one way to do it like \r\n\r\n    if (value.equals(&quot;1&quot;) || value.equals(&quot;2&quot;) || value.equals(&quot;3&quot;)..... || value.equals(&quot;6&quot;){\r\n    map.put (value,&quot;sad&quot;)\r\n    }\r\n    else if (value.equals(&quot;7&quot;) || value.equals(&quot;8&quot;)){\r\n    map.put(value, &quot;ok&quot;)\r\n    } else{\r\n    map.put(value, &quot;happy&quot;)\r\n    }\r\n\r\nI am not sure if this is the Correct way to do it or not? Because if there are more values from lets say 0 to 50, it would be cumbersome. Is there any better way to do it?","title":"How to create HashMap, using value retrieved from Database?","body":"<p>I have a database column which contains values from 0 to 10\nBased on value retrieved from database, i need to create a HashMap</p>\n\n<p>Example: If I get value from 0 to 6, I need to store 'sad' in HashMap\n         If I get value from 7 to 8 , I need to store 'ok' in HashMap\n         If I get value from 9 to 10, I need to store 'happy' in HashMap</p>\n\n<p>I know one way to do it like </p>\n\n<pre><code>if (value.equals(\"1\") || value.equals(\"2\") || value.equals(\"3\")..... || value.equals(\"6\"){\nmap.put (value,\"sad\")\n}\nelse if (value.equals(\"7\") || value.equals(\"8\")){\nmap.put(value, \"ok\")\n} else{\nmap.put(value, \"happy\")\n}\n</code></pre>\n\n<p>I am not sure if this is the Correct way to do it or not? Because if there are more values from lets say 0 to 50, it would be cumbersome. Is there any better way to do it?</p>\n"},{"tags":["java","android","arrays","arraylist","collections"],"comments":[{"owner":{"account_id":7921597,"reputation":1911,"user_id":5982406,"accept_rate":94,"display_name":"Syed Ahmed Jamil"},"score":2,"creation_date":1574972360,"post_id":59095599,"comment_id":104424885,"body_markdown":"It would be great if you could share some screenshots of what you are currently experiencing and also some related code.","body":"It would be great if you could share some screenshots of what you are currently experiencing and also some related code."},{"owner":{"account_id":5292766,"reputation":576,"user_id":4224811,"accept_rate":100,"display_name":"Gabriel Vasconcelos"},"score":0,"creation_date":1574972681,"post_id":59095599,"comment_id":104424977,"body_markdown":"Sounds to me that what you want is to simply get the one item in the list you want and throw within *another* `ArrayList` that can be then passed to the other ArrayAdapter.","body":"Sounds to me that what you want is to simply get the one item in the list you want and throw within <i>another</i> <code>ArrayList</code> that can be then passed to the other ArrayAdapter."},{"owner":{"account_id":14724325,"reputation":39,"user_id":10633880,"display_name":"Nima"},"score":0,"creation_date":1574977395,"post_id":59095599,"comment_id":104426220,"body_markdown":"@SyedAhmedJamil Good point, I added a screenshot but let me know what code you&#39;d like me to include and I will.","body":"@SyedAhmedJamil Good point, I added a screenshot but let me know what code you&#39;d like me to include and I will."},{"owner":{"account_id":14724325,"reputation":39,"user_id":10633880,"display_name":"Nima"},"score":0,"creation_date":1574978733,"post_id":59095599,"comment_id":104426523,"body_markdown":"@GabrielVasconcelos I was beginning to think the same. I will give it a try.","body":"@GabrielVasconcelos I was beginning to think the same. I will give it a try."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675402591,"creation_date":1574973791,"answer_id":59095919,"question_id":59095599,"body_markdown":"You could start by creating a *trimmed version* of the object you want to view and then create a method utility that allows you to filter out the elements of your original `List` according to a parametrized condition. The elements left standing you map them to the new *trim* version and use that new `List` as the source for your custom `ArrayAdapter`. The following is a skeleton of this idea:\r\n\r\n```\r\n\tpublic ArrayAdapter&lt;TrimmedElement&gt; createCustomArrayAdapter(\r\n\t\t\tContext context, List&lt;WholeElement&gt; target, Predicate&lt;WholeElement&gt; condition) {\r\n\t\t\r\n\t\tList&lt;TrimmedElement&gt; trimmedList = target.stream()\r\n\t\t\t\t.filter(condition)\r\n\t\t\t\t.map(TrimmedElement::new)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\treturn new MyCustomArrayAdapter&lt;TrimmedElement&gt;(context, trimmedList);\r\n\t}\r\n\t\r\n\tstatic class WholeElement {}\r\n\tstatic class TrimmedElement {\r\n\t\tpublic TrimmedElement(WholeElement ele) {\r\n\t\t\t// Copy the information desired\r\n\t\t}\r\n\t}\r\n```\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59095919)\r\n\r\nHope this helps.","title":"How to pass only 1 element to ArrayAdapter and make sure it only displays unique items","body":"<p>You could start by creating a <em>trimmed version</em> of the object you want to view and then create a method utility that allows you to filter out the elements of your original <code>List</code> according to a parametrized condition. The elements left standing you map them to the new <em>trim</em> version and use that new <code>List</code> as the source for your custom <code>ArrayAdapter</code>. The following is a skeleton of this idea:</p>\n<pre><code>    public ArrayAdapter&lt;TrimmedElement&gt; createCustomArrayAdapter(\n            Context context, List&lt;WholeElement&gt; target, Predicate&lt;WholeElement&gt; condition) {\n        \n        List&lt;TrimmedElement&gt; trimmedList = target.stream()\n                .filter(condition)\n                .map(TrimmedElement::new)\n                .collect(Collectors.toList());\n        \n        return new MyCustomArrayAdapter&lt;TrimmedElement&gt;(context, trimmedList);\n    }\n    \n    static class WholeElement {}\n    static class TrimmedElement {\n        public TrimmedElement(WholeElement ele) {\n            // Copy the information desired\n        }\n    }\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59095919\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7921597,"reputation":1911,"user_id":5982406,"accept_rate":94,"display_name":"Syed Ahmed Jamil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575056654,"creation_date":1574974559,"answer_id":59096053,"question_id":59095599,"body_markdown":"By default the `ArrayAdapter` will create views for each array item in your `ArrayList`. To customise how the `ArrayAdapter` create views for your data you need to extend it and override its `getView()` method and use a different layout for each item like this \r\n\r\n***NOTE:** Im assuming `Music` is that class which has those 3 strings and you have created a new layout called `unique_layout.xml` which has only one `TextView` to display one you those strings.*\r\n\r\n    public class CustomArrayAdapter extends ArrayAdapter&lt;Music&gt; {\r\n        public CustomArrayAdapter(Context context, ArrayList&lt;Music&gt; musicList) {\r\n           super(context, 0, users);\r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n           Music music = getItem(position); \r\n   \r\n           // Here use that new layout that you created \r\n           if (convertView == null) {\r\n              convertView = LayoutInflater.from(getContext()).inflate(R.layout.unique_layout, parent, false);\r\n           }\r\n\r\n           // Assign text to the TextView from that new layout\r\n           TextView category = (TextView) convertView.findViewById(R.id.category);\r\n           category.setText(music.category);\r\n\r\n           return convertView;\r\n       }\r\n    }\r\n\r\n\r\n**UPDATE: Remove Duplicates from ArrayList**\r\n\r\n***NOTE:** The following methods removes duplicates and put the resulting list in a new `ArrayList&lt;String&gt;` which you can use as source of your `ArrayAdapter`. So you don&#39;t have to extend `ArrayAdapter` now.* \r\n\r\nThere are 3 common ways to remove duplicates from `ArrayList`\r\n\r\n 1. Do it manually *( good luck in that )*\r\n 2. Use `Streams` *( only available for API 24: Nougat and greater )*\r\n 3. Use `LinkedHashSet` *( available since API 1 )*\r\n\r\nLets say you have array list defined as follows\r\n\r\n    ArrayList&lt;Music&gt; musicList = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; categoryList = new ArrayList&lt;&gt;();\r\n\r\n    musicList.add(new Music(&quot;song1&quot;, &quot;category1&quot;, &quot;artist1&quot;));\r\n    musicList.add(new Music(&quot;song2&quot;, &quot;category2&quot;, &quot;artist2&quot;));\r\n    musicList.add(new Music(&quot;song3&quot;, &quot;category3&quot;, &quot;artist3&quot;));\r\n    musicList.add(new Music(&quot;song4&quot;, &quot;category2&quot;, &quot;artist4&quot;));\r\n    musicList.add(new Music(&quot;song5&quot;, &quot;category1&quot;, &quot;artist1&quot;));\r\n    musicList.add(new Music(&quot;song6&quot;, &quot;category4&quot;, &quot;artist5&quot;));\r\n    musicList.add(new Music(&quot;song7&quot;, &quot;category3&quot;, &quot;artist2&quot;));\r\n\r\n\r\n\r\n**Option 2 : Using `Streams`**\r\n\r\nWhat I&#39;m doing here is that I&#39;m extracting only the `category` field using the `map()` method and removing duplicates using the `distinct()` method then finally  collecting all this modification in `categoryList`. If you need to extract unique artist, just change `music.category` to `music.artist` \r\n\r\nEZ !\r\n\r\n***NOTE:** After the `map()` method we are now dealing with array of strings so `distinct()` uses the `equals()` and `hashCode()` methods of the `String` class to find and remove duplicates. If you are using `distinct()` directly on your `musicList` which is an array of `Music` class then your `Music` class should override and provide implementation of `equals()` and `hashCode()` methods.*\r\n\r\nRead more about them [here][1] or [here][2]\r\n\r\n\r\n    categoryList = musicList.stream()\r\n                  .map((music)-&gt; music.category)\r\n                  .distinct()\r\n                  .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n    Log.d(&quot;CATEGORY LIST&quot; ,  categoryList.toString())\r\n\r\n    //LOG Output \r\n    CATEGORY LIST: [category1, category2, category3, category4]\r\n\r\n**Option 3 : Using `LinkedHashSet`**\r\n\r\nThis method is rather simple. As before first extracting `category` fields and storing them into `categoryList`. Creating `LinkedHashSet` will automatically remove duplicate values just like the `distinct()` method did when using streams. Afterwards just clearing the `categoryList` and updating it with unique values from the hash set.\r\n\r\n    musicList.forEach((music) -&gt; {\r\n        categoryList.add(music.category);\r\n    });\r\n\r\n    LinkedHashSet&lt;String&gt; uniqueCategoryHashSet = new LinkedHashSet(categoryList);\r\n\r\n    categoryList.clear();\r\n    categoryList.addAll(uniqueCategoryHashSet);\r\n\r\n    Log.d(&quot;CATEGORY LIST&quot; ,  categoryList.toString())\r\n\r\n    //LOG Output \r\n    CATEGORY LIST: [category1, category2, category3, category4]\r\n\r\nNow by no means I would mark **Option 3** as an efficient solution. Maybe you can do better doing it manually if you can&#39;t use streams due to API restriction. But this gets the job done.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-equals-hashcode-contracts\r\n  [2]: https://www.journaldev.com/21095/java-equals-hashcode","title":"How to pass only 1 element to ArrayAdapter and make sure it only displays unique items","body":"<p>By default the <code>ArrayAdapter</code> will create views for each array item in your <code>ArrayList</code>. To customise how the <code>ArrayAdapter</code> create views for your data you need to extend it and override its <code>getView()</code> method and use a different layout for each item like this </p>\n\n<p><strong><em>NOTE:</strong> Im assuming <code>Music</code> is that class which has those 3 strings and you have created a new layout called <code>unique_layout.xml</code> which has only one <code>TextView</code> to display one you those strings.</em></p>\n\n<pre><code>public class CustomArrayAdapter extends ArrayAdapter&lt;Music&gt; {\n    public CustomArrayAdapter(Context context, ArrayList&lt;Music&gt; musicList) {\n       super(context, 0, users);\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n       Music music = getItem(position); \n\n       // Here use that new layout that you created \n       if (convertView == null) {\n          convertView = LayoutInflater.from(getContext()).inflate(R.layout.unique_layout, parent, false);\n       }\n\n       // Assign text to the TextView from that new layout\n       TextView category = (TextView) convertView.findViewById(R.id.category);\n       category.setText(music.category);\n\n       return convertView;\n   }\n}\n</code></pre>\n\n<p><strong>UPDATE: Remove Duplicates from ArrayList</strong></p>\n\n<p><strong><em>NOTE:</strong> The following methods removes duplicates and put the resulting list in a new <code>ArrayList&lt;String&gt;</code> which you can use as source of your <code>ArrayAdapter</code>. So you don't have to extend <code>ArrayAdapter</code> now.</em> </p>\n\n<p>There are 3 common ways to remove duplicates from <code>ArrayList</code></p>\n\n<ol>\n<li>Do it manually <em>( good luck in that )</em></li>\n<li>Use <code>Streams</code> <em>( only available for API 24: Nougat and greater )</em></li>\n<li>Use <code>LinkedHashSet</code> <em>( available since API 1 )</em></li>\n</ol>\n\n<p>Lets say you have array list defined as follows</p>\n\n<pre><code>ArrayList&lt;Music&gt; musicList = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; categoryList = new ArrayList&lt;&gt;();\n\nmusicList.add(new Music(\"song1\", \"category1\", \"artist1\"));\nmusicList.add(new Music(\"song2\", \"category2\", \"artist2\"));\nmusicList.add(new Music(\"song3\", \"category3\", \"artist3\"));\nmusicList.add(new Music(\"song4\", \"category2\", \"artist4\"));\nmusicList.add(new Music(\"song5\", \"category1\", \"artist1\"));\nmusicList.add(new Music(\"song6\", \"category4\", \"artist5\"));\nmusicList.add(new Music(\"song7\", \"category3\", \"artist2\"));\n</code></pre>\n\n<p><strong>Option 2 : Using <code>Streams</code></strong></p>\n\n<p>What I'm doing here is that I'm extracting only the <code>category</code> field using the <code>map()</code> method and removing duplicates using the <code>distinct()</code> method then finally  collecting all this modification in <code>categoryList</code>. If you need to extract unique artist, just change <code>music.category</code> to <code>music.artist</code> </p>\n\n<p>EZ !</p>\n\n<p><strong><em>NOTE:</strong> After the <code>map()</code> method we are now dealing with array of strings so <code>distinct()</code> uses the <code>equals()</code> and <code>hashCode()</code> methods of the <code>String</code> class to find and remove duplicates. If you are using <code>distinct()</code> directly on your <code>musicList</code> which is an array of <code>Music</code> class then your <code>Music</code> class should override and provide implementation of <code>equals()</code> and <code>hashCode()</code> methods.</em></p>\n\n<p>Read more about them <a href=\"https://www.baeldung.com/java-equals-hashcode-contracts\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://www.journaldev.com/21095/java-equals-hashcode\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>categoryList = musicList.stream()\n              .map((music)-&gt; music.category)\n              .distinct()\n              .collect(Collectors.toCollection(ArrayList::new));\n\nLog.d(\"CATEGORY LIST\" ,  categoryList.toString())\n\n//LOG Output \nCATEGORY LIST: [category1, category2, category3, category4]\n</code></pre>\n\n<p><strong>Option 3 : Using <code>LinkedHashSet</code></strong></p>\n\n<p>This method is rather simple. As before first extracting <code>category</code> fields and storing them into <code>categoryList</code>. Creating <code>LinkedHashSet</code> will automatically remove duplicate values just like the <code>distinct()</code> method did when using streams. Afterwards just clearing the <code>categoryList</code> and updating it with unique values from the hash set.</p>\n\n<pre><code>musicList.forEach((music) -&gt; {\n    categoryList.add(music.category);\n});\n\nLinkedHashSet&lt;String&gt; uniqueCategoryHashSet = new LinkedHashSet(categoryList);\n\ncategoryList.clear();\ncategoryList.addAll(uniqueCategoryHashSet);\n\nLog.d(\"CATEGORY LIST\" ,  categoryList.toString())\n\n//LOG Output \nCATEGORY LIST: [category1, category2, category3, category4]\n</code></pre>\n\n<p>Now by no means I would mark <strong>Option 3</strong> as an efficient solution. Maybe you can do better doing it manually if you can't use streams due to API restriction. But this gets the job done.</p>\n"}],"owner":{"account_id":14724325,"reputation":39,"user_id":10633880,"display_name":"Nima"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59096053,"answer_count":2,"score":0,"last_activity_date":1675402591,"creation_date":1574971862,"question_id":59095599,"body_markdown":"\r\nWorking on a project and have hit a mental wall trying to use a custom ````ArrayAdapter```` to display only unique elements from a class. I have a Class I&#39;ve created that is simply made up of 3 strings. SongName, Category and Artist. \r\n\r\nWith that class I have created an ````ArrayList```` in my `MainActivity`. I would like to use that `ArrayList` in a few different activities. I&#39;ve been able to use it in an ````ArrayAdapter```` that I created that displays all 3 fields in ````TextViews```` but I would like to create another `ArrayAdapter` for a different activity that only displays 1 of those fields and doesn&#39;t show the repeating items. So, for example, an `ArrayAdapter`  that is only provided Category element and only displays the unique ones.  \r\n\r\nI&#39;m having a hard time wrapping my head around how to only pass 1 element from the `ArrayList` to `ArrayAdapter` and make sure it doesn&#39;t display duplicates. \r\n\r\n\r\nFairly new to the android development and haven&#39;t been able to find an answer to this, so would appreciate it if you could help me or point me in the right direction, I would greatly appreciate it.\r\n\r\nEdit Answer: was able to get it to work by adding this:\r\n````\r\n        ArrayList&lt;Music&gt; Library = MainActivity.music;\r\n\r\n\r\n        ArrayList&lt;String&gt; artists = new ArrayList&lt;String&gt;();\r\n\r\n        Log.i(&quot;MainActivity&quot;, String.valueOf(Library.size()));\r\n        for (int i = 0; i&lt;Library.size(); i++){\r\n            String artist = Library.get(i).getArtist();\r\n            if (!artists.contains(artist))\r\n            artists.add(artist);\r\n\r\n            Log.i(&quot;MainActivity&quot;, &quot;artist&quot;);\r\n        } \r\n````\r\n\r\nEdit: including screenshot of the original ArrayList below. As you can see in my idea some of the categories and artists would repeat. I would like to create an activity that only displays the artists and another that only displays the categories. With the caveat being I only want the unique values to be displayed not duplicates &amp; including github link. \r\n\r\ngithub : https://github.com/Nimzr/Music-Player\r\n\r\n[![Arraylist music from the Music class][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Syc4V.png","title":"How to pass only 1 element to ArrayAdapter and make sure it only displays unique items","body":"<p>Working on a project and have hit a mental wall trying to use a custom <code>ArrayAdapter</code> to display only unique elements from a class. I have a Class I've created that is simply made up of 3 strings. SongName, Category and Artist.</p>\n<p>With that class I have created an <code>ArrayList</code> in my <code>MainActivity</code>. I would like to use that <code>ArrayList</code> in a few different activities. I've been able to use it in an <code>ArrayAdapter</code> that I created that displays all 3 fields in <code>TextViews</code> but I would like to create another <code>ArrayAdapter</code> for a different activity that only displays 1 of those fields and doesn't show the repeating items. So, for example, an <code>ArrayAdapter</code>  that is only provided Category element and only displays the unique ones.</p>\n<p>I'm having a hard time wrapping my head around how to only pass 1 element from the <code>ArrayList</code> to <code>ArrayAdapter</code> and make sure it doesn't display duplicates.</p>\n<p>Fairly new to the android development and haven't been able to find an answer to this, so would appreciate it if you could help me or point me in the right direction, I would greatly appreciate it.</p>\n<p>Edit Answer: was able to get it to work by adding this:</p>\n<pre><code>        ArrayList&lt;Music&gt; Library = MainActivity.music;\n\n\n        ArrayList&lt;String&gt; artists = new ArrayList&lt;String&gt;();\n\n        Log.i(&quot;MainActivity&quot;, String.valueOf(Library.size()));\n        for (int i = 0; i&lt;Library.size(); i++){\n            String artist = Library.get(i).getArtist();\n            if (!artists.contains(artist))\n            artists.add(artist);\n\n            Log.i(&quot;MainActivity&quot;, &quot;artist&quot;);\n        } \n</code></pre>\n<p>Edit: including screenshot of the original ArrayList below. As you can see in my idea some of the categories and artists would repeat. I would like to create an activity that only displays the artists and another that only displays the categories. With the caveat being I only want the unique values to be displayed not duplicates &amp; including github link.</p>\n<p>github : <a href=\"https://github.com/Nimzr/Music-Player\" rel=\"nofollow noreferrer\">https://github.com/Nimzr/Music-Player</a></p>\n<p><a href=\"https://i.stack.imgur.com/Syc4V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Syc4V.png\" alt=\"Arraylist music from the Music class\" /></a></p>\n"},{"tags":["java","math","finance"],"comments":[{"owner":{"account_id":2332358,"reputation":93,"user_id":2045423,"display_name":"Tony Farias"},"score":0,"creation_date":1574908673,"post_id":59080847,"comment_id":104398714,"body_markdown":"For Java switch statements, you should  add &quot;break;&quot; at the end of the case, or you will execute subsequent statement. So you may see multiple print statements here. Regarding the maturity formula, what is the unit of the time of investment you are entering in ? Is it  years? can you give an example of the inputs and the result you are getting?","body":"For Java switch statements, you should  add &quot;break;&quot; at the end of the case, or you will execute subsequent statement. So you may see multiple print statements here. Regarding the maturity formula, what is the unit of the time of investment you are entering in ? Is it  years? can you give an example of the inputs and the result you are getting?"},{"owner":{"account_id":16993181,"reputation":51,"user_id":12292281,"display_name":"attash"},"score":0,"creation_date":1574909479,"post_id":59080847,"comment_id":104398859,"body_markdown":"for example, im putting 11 but its as a month so i have to do 11/12 and then the calculation part where im stuck on","body":"for example, im putting 11 but its as a month so i have to do 11/12 and then the calculation part where im stuck on"},{"owner":{"account_id":16993181,"reputation":51,"user_id":12292281,"display_name":"attash"},"score":0,"creation_date":1574910272,"post_id":59080847,"comment_id":104399006,"body_markdown":"for example The maturity value of $700 at an interest rate of 1.5% p.m. after 4 months =  is $742 but i get something else","body":"for example The maturity value of $700 at an interest rate of 1.5% p.m. after 4 months =  is $742 but i get something else"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1574911850,"post_id":59080847,"comment_id":104399345,"body_markdown":"What is the &quot;something else&quot; you are getting? With your example, are you getting $3.5 rather than $42?","body":"What is the &quot;something else&quot; you are getting? With your example, are you getting $3.5 rather than $42?"},{"owner":{"account_id":9716614,"reputation":736,"user_id":7206778,"accept_rate":75,"display_name":"Austin"},"score":0,"creation_date":1574912774,"post_id":59080847,"comment_id":104399563,"body_markdown":"What is the exact formula you are trying to use to calculate the maturity","body":"What is the exact formula you are trying to use to calculate the maturity"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402586,"creation_date":1574923164,"answer_id":59083054,"question_id":59080847,"body_markdown":"The formula for maturity includes a compounding rate, so instead of:\r\n\r\n```\r\nprinciple * (1 + rate * monthly)\r\n```\r\n\r\nyou should be using in general:\r\n\r\n```\r\nprinciple * Math.pow(1 + periodicRate, compoundingPeriods)\r\n```\r\n\r\nSo specifically for your monthly compounding, the following method computes the desired maturity:\r\n\r\n```\r\n\tdouble computeMaturity(double principle, double monthlyRate, double months) {\r\n\t\treturn principle * Math.pow(1 + monthlyRate, months);\r\n\t}\r\n``` \r\n\r\nA final note to remind that the annual rate has to be given in fractional value and not percentual (10% rate = 0.1 `monthlyRate`).\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59083054)\r\n\r\nHope this helps.","title":"How to get the maturity value from simple interest and the equation for it","body":"<p>The formula for maturity includes a compounding rate, so instead of:</p>\n<pre><code>principle * (1 + rate * monthly)\n</code></pre>\n<p>you should be using in general:</p>\n<pre><code>principle * Math.pow(1 + periodicRate, compoundingPeriods)\n</code></pre>\n<p>So specifically for your monthly compounding, the following method computes the desired maturity:</p>\n<pre><code>    double computeMaturity(double principle, double monthlyRate, double months) {\n        return principle * Math.pow(1 + monthlyRate, months);\n    }\n</code></pre>\n<p>A final note to remind that the annual rate has to be given in fractional value and not percentual (10% rate = 0.1 <code>monthlyRate</code>).</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59083054\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":16993181,"reputation":51,"user_id":12292281,"display_name":"attash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59083054,"answer_count":1,"score":1,"last_activity_date":1675402586,"creation_date":1574907235,"question_id":59080847,"body_markdown":"For the maturity I think the formula is wrong and it gives wrong answer. I just want it monthly. Maturity case is at the end. Any help would be appreciated.\r\n\r\n\r\n```\r\npackage interest;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Interest {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner userInput = new Scanner(System.in);\r\n        Scanner whatKindPeriod = new Scanner(System.in);\r\n        double principle;\r\n        double rate;\r\n        double period;\r\n        double result;\r\n        double periodNumber;\r\n        String type;\r\n        String matOrSimp;\r\n        double matResult;\r\n\r\n        System.out.println(&quot;find maturity or simple interest? for simple interest enter simple, and for maturity enter maturity&quot;);\r\n        matOrSimp = userInput.next();\r\n        switch (matOrSimp) {\r\n            case &quot;simple&quot;:\r\n                System.out.println(&quot;please enter the principle:&quot;);\r\n                principle = userInput.nextDouble();\r\n                System.out.println(&quot;Enter the rate:&quot;);\r\n                rate = userInput.nextDouble();\r\n                System.out.println(&quot;enter period:&quot;);\r\n                period = userInput.nextDouble();\r\n                System.out.println(&quot;is it daily, monthly or yearly?&quot;);\r\n                type = userInput.next();\r\n                switch (type) {\r\n                    case &quot;yearly&quot;:\r\n                        result = (principle * rate * period) / 100;\r\n                        System.out.println(&quot;your simple interest is: $&quot; + result);\r\n\r\n                    case &quot;daily&quot;:\r\n                        double daily = period / 365;\r\n                        result = (principle * rate * daily) / 100;\r\n                        System.out.println(&quot;your simple interest is: $&quot; + result);\r\n\r\n                    case &quot;monthly&quot;:\r\n                        double monthly = period / 12;\r\n                        result = (principle * rate * monthly) / 100;\r\n                        System.out.println(&quot;your simple interest is: $&quot; + result);\r\n\r\n                        SimpleInterest interest = new SimpleInterest(principle, rate, period);\r\n                }\r\n            case &quot;maturity&quot;:\r\n\r\n                System.out.println(&quot;please enter the principle:&quot;);\r\n                principle = userInput.nextDouble();\r\n                System.out.println(&quot;Enter the rate:&quot;);\r\n                rate = userInput.nextDouble();\r\n                System.out.println(&quot;enter time of invesment:&quot;);\r\n                period = userInput.nextDouble();\r\n                double monthly = period / 12;\r\n\r\n                matResult = (principle * (1 + rate * monthly));\r\n                System.out.println(&quot;result is:&quot; + matResult);\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"How to get the maturity value from simple interest and the equation for it","body":"<p>For the maturity I think the formula is wrong and it gives wrong answer. I just want it monthly. Maturity case is at the end. Any help would be appreciated.</p>\n\n<pre><code>package interest;\n\nimport java.util.Scanner;\n\npublic class Interest {\n\n    public static void main(String[] args) {\n        Scanner userInput = new Scanner(System.in);\n        Scanner whatKindPeriod = new Scanner(System.in);\n        double principle;\n        double rate;\n        double period;\n        double result;\n        double periodNumber;\n        String type;\n        String matOrSimp;\n        double matResult;\n\n        System.out.println(\"find maturity or simple interest? for simple interest enter simple, and for maturity enter maturity\");\n        matOrSimp = userInput.next();\n        switch (matOrSimp) {\n            case \"simple\":\n                System.out.println(\"please enter the principle:\");\n                principle = userInput.nextDouble();\n                System.out.println(\"Enter the rate:\");\n                rate = userInput.nextDouble();\n                System.out.println(\"enter period:\");\n                period = userInput.nextDouble();\n                System.out.println(\"is it daily, monthly or yearly?\");\n                type = userInput.next();\n                switch (type) {\n                    case \"yearly\":\n                        result = (principle * rate * period) / 100;\n                        System.out.println(\"your simple interest is: $\" + result);\n\n                    case \"daily\":\n                        double daily = period / 365;\n                        result = (principle * rate * daily) / 100;\n                        System.out.println(\"your simple interest is: $\" + result);\n\n                    case \"monthly\":\n                        double monthly = period / 12;\n                        result = (principle * rate * monthly) / 100;\n                        System.out.println(\"your simple interest is: $\" + result);\n\n                        SimpleInterest interest = new SimpleInterest(principle, rate, period);\n                }\n            case \"maturity\":\n\n                System.out.println(\"please enter the principle:\");\n                principle = userInput.nextDouble();\n                System.out.println(\"Enter the rate:\");\n                rate = userInput.nextDouble();\n                System.out.println(\"enter time of invesment:\");\n                period = userInput.nextDouble();\n                double monthly = period / 12;\n\n                matResult = (principle * (1 + rate * monthly));\n                System.out.println(\"result is:\" + matResult);\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","math","design-patterns","twos-complement"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1574906848,"post_id":59080627,"comment_id":104398368,"body_markdown":"You seem to have skipped a step, or at least not shown it. You&#39;ve described what needs to be done. The next step is to define an algorithm, and reason why you think it works. Then, only after you&#39;ve convinced yourself it&#39;s correct, you should reduce it to code. It will help us if you can add a high-level description of the algorithm with enough detail to evaluate its correctness and check that your code implements it.","body":"You seem to have skipped a step, or at least not shown it. You&#39;ve described what needs to be done. The next step is to define an algorithm, and reason why you think it works. Then, only after you&#39;ve convinced yourself it&#39;s correct, you should reduce it to code. It will help us if you can add a high-level description of the algorithm with enough detail to evaluate its correctness and check that your code implements it."}],"answers":[{"tags":[],"owner":{"account_id":9950285,"reputation":1410,"user_id":7363235,"display_name":"D M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574906697,"creation_date":1574906697,"answer_id":59080788,"question_id":59080627,"body_markdown":"I think there&#39;s a problem around here:\r\n\r\n    if (i &lt; outDigits.length - 1) {\r\n        outDigits[i + 1] = outDigits[i] / base;\r\n    }\r\n\r\nLet&#39;s say you&#39;re using base 10. Since a digit can only be 0 through 9, dividing by 10 would mean the result of this calculation is always 0. I don&#39;t think you intended this.","title":"Base Negation given an inDigits","body":"<p>I think there's a problem around here:</p>\n\n<pre><code>if (i &lt; outDigits.length - 1) {\n    outDigits[i + 1] = outDigits[i] / base;\n}\n</code></pre>\n\n<p>Let's say you're using base 10. Since a digit can only be 0 through 9, dividing by 10 would mean the result of this calculation is always 0. I don't think you intended this.</p>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402557,"creation_date":1574910630,"answer_id":59081207,"question_id":59080627,"body_markdown":"Your problem is that you may seem to be trying to do the negation of the complement while calculating the complement and it is complicating your solution.\r\n\r\nYou could try to simplify your solution by splitting it into two phases:\r\n\r\n* First compute the complement.\r\n* Second add the +1 to the computed complement.\r\n\r\nThe following method is a working version of this:\r\n\r\n```java\r\n\tpublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\t// Compute the complement of the digits\r\n\t\tfor (int i = outDigits.length - 1; i &gt;= 0; i--)  \r\n\t\t\toutDigits[i] = base - (1 + inDigits[i]);\r\n\r\n\t\t// Negate the complement by adding +1 to the computed number (collection of digits)\r\n\t\tfor (int i = 0; i &lt; outDigits.length; i++) {  \r\n\t\t\tif (outDigits[i] == base - 1) {\r\n\t\t\t\t// Max out digit. Set it to zero and try with the higher order next. \r\n\t\t\t\toutDigits[i] = 0;\r\n\t\t\t} else {\r\n\t\t\t\t// Digit that has room for +1. Finally add the 1 and DONE!\r\n\t\t\t\toutDigits[i]++;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThis approach is clearer, better performing and the code is self explanatory; but I added comments in the code to follow the logic used.\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59081207)\r\n\r\nHope this helps.","title":"Base Negation given an inDigits","body":"<p>Your problem is that you may seem to be trying to do the negation of the complement while calculating the complement and it is complicating your solution.</p>\n<p>You could try to simplify your solution by splitting it into two phases:</p>\n<ul>\n<li>First compute the complement.</li>\n<li>Second add the +1 to the computed complement.</li>\n</ul>\n<p>The following method is a working version of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n        // Compute the complement of the digits\n        for (int i = outDigits.length - 1; i &gt;= 0; i--)  \n            outDigits[i] = base - (1 + inDigits[i]);\n\n        // Negate the complement by adding +1 to the computed number (collection of digits)\n        for (int i = 0; i &lt; outDigits.length; i++) {  \n            if (outDigits[i] == base - 1) {\n                // Max out digit. Set it to zero and try with the higher order next. \n                outDigits[i] = 0;\n            } else {\n                // Digit that has room for +1. Finally add the 1 and DONE!\n                outDigits[i]++;\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>This approach is clearer, better performing and the code is self explanatory; but I added comments in the code to follow the logic used.</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59081207\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574911106,"creation_date":1574910708,"answer_id":59081215,"question_id":59080627,"body_markdown":"Since the &quot;expected&quot; values show that index 0 is the lowest order digit, it means that for number `123ââ` the array would be `[3, 2, 1]`, i.e. the digits are in reverse order of what you&#39;d expect as a human. To a computer, it makes sense that value at index `i` is the value that must be multiplied by `baseâ±`.\r\n\r\nThat means you need the `i` loop to iterate up, not down, so you can track the carry-over. Otherwise you code works fine:\r\n\r\n\tpublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\toutDigits[0] = 1;\r\n\t\tfor (int i = 0; i &lt; outDigits.length; i++) { // &lt;== reversed iteration\r\n\t\t\toutDigits[i] += base - (1 + inDigits[i]);\r\n\t\t\tif (i &lt; outDigits.length - 1) {\r\n\t\t\t\toutDigits[i + 1] = outDigits[i] / base;\r\n\t\t\t}\r\n\t\t\toutDigits[i] %= base;\r\n\t\t}\r\n\t}\r\n\r\nPersonally, writing it like this makes more sense, especially since it doesn&#39;t rely on `outDigits` array to be pre-initialized to all 0&#39;s:\r\n\r\n\tpublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\tint carry = 0;\r\n\t\tfor (int i = 0; i &lt; outDigits.length; i++) {\r\n\t\t\toutDigits[i] = (base - inDigits[i] - carry) % base;\r\n\t\t\tcarry = (inDigits[i] + outDigits[i] + carry) / base;\r\n\t\t}\r\n\t}\r\n\r\nFor better performance, you don&#39;t want to use `%` and `/`, so something like this might be better:\r\n\r\n\tpublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\tboolean carry = false;\r\n\t\tfor (int i = 0; i &lt; outDigits.length; i++) {\r\n\t\t\tif (carry) {\r\n\t\t\t\toutDigits[i] = base - inDigits[i] - 1;\r\n\t\t\t} else if (inDigits[i] != 0) {\r\n\t\t\t\toutDigits[i] = base - inDigits[i];\r\n\t\t\t\tcarry = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n*Test*\r\n\r\nAll 3 will give the same result:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttest(10, 5,6,3);\r\n\t\ttest(2,  1,1,0,0,1,1,0,1,0,1);\r\n\t\ttest(16, 0,15,10,7);\r\n\t\ttest(8,  0,0,0); // 0 -&gt; 0 (000)\r\n\t\ttest(8,  1,0,0); // 1 -&gt; -1 (777)\r\n\t\ttest(8,  7,7,3); // 255 -&gt; -255 (104)\r\n\t\ttest(8,  0,0,4); // -256 -&gt; -256 (004)\r\n\t}\r\n\r\n\tstatic void test(int base, int... inDigits) {\r\n\t\tint[] outDigits = new int[inDigits.length];\r\n\t\tbaseNegate(base, inDigits, outDigits);\r\n\t\tSystem.out.printf(&quot;%d: %s -&gt; %s%n&quot;, base, Arrays.toString(inDigits),\r\n\t\t                                    Arrays.toString(outDigits));\r\n\t}\r\n\r\n*Output*\r\n\r\n```lang-none\r\n10: [5, 6, 3] -&gt; [5, 3, 6]\r\n2: [1, 1, 0, 0, 1, 1, 0, 1, 0, 1] -&gt; [1, 0, 1, 1, 0, 0, 1, 0, 1, 0]\r\n16: [0, 15, 10, 7] -&gt; [0, 1, 5, 8]\r\n8: [0, 0, 0] -&gt; [0, 0, 0]\r\n8: [1, 0, 0] -&gt; [7, 7, 7]\r\n8: [7, 7, 3] -&gt; [1, 0, 4]\r\n8: [0, 0, 4] -&gt; [0, 0, 4]\r\n```","title":"Base Negation given an inDigits","body":"<p>Since the \"expected\" values show that index 0 is the lowest order digit, it means that for number <code>123ââ</code> the array would be <code>[3, 2, 1]</code>, i.e. the digits are in reverse order of what you'd expect as a human. To a computer, it makes sense that value at index <code>i</code> is the value that must be multiplied by <code>baseâ±</code>.</p>\n\n<p>That means you need the <code>i</code> loop to iterate up, not down, so you can track the carry-over. Otherwise you code works fine:</p>\n\n<pre><code>public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n    outDigits[0] = 1;\n    for (int i = 0; i &lt; outDigits.length; i++) { // &lt;== reversed iteration\n        outDigits[i] += base - (1 + inDigits[i]);\n        if (i &lt; outDigits.length - 1) {\n            outDigits[i + 1] = outDigits[i] / base;\n        }\n        outDigits[i] %= base;\n    }\n}\n</code></pre>\n\n<p>Personally, writing it like this makes more sense, especially since it doesn't rely on <code>outDigits</code> array to be pre-initialized to all 0's:</p>\n\n<pre><code>public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n    int carry = 0;\n    for (int i = 0; i &lt; outDigits.length; i++) {\n        outDigits[i] = (base - inDigits[i] - carry) % base;\n        carry = (inDigits[i] + outDigits[i] + carry) / base;\n    }\n}\n</code></pre>\n\n<p>For better performance, you don't want to use <code>%</code> and <code>/</code>, so something like this might be better:</p>\n\n<pre><code>public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n    boolean carry = false;\n    for (int i = 0; i &lt; outDigits.length; i++) {\n        if (carry) {\n            outDigits[i] = base - inDigits[i] - 1;\n        } else if (inDigits[i] != 0) {\n            outDigits[i] = base - inDigits[i];\n            carry = true;\n        }\n    }\n}\n</code></pre>\n\n<p><em>Test</em></p>\n\n<p>All 3 will give the same result:</p>\n\n<pre><code>public static void main(String[] args) {\n    test(10, 5,6,3);\n    test(2,  1,1,0,0,1,1,0,1,0,1);\n    test(16, 0,15,10,7);\n    test(8,  0,0,0); // 0 -&gt; 0 (000)\n    test(8,  1,0,0); // 1 -&gt; -1 (777)\n    test(8,  7,7,3); // 255 -&gt; -255 (104)\n    test(8,  0,0,4); // -256 -&gt; -256 (004)\n}\n\nstatic void test(int base, int... inDigits) {\n    int[] outDigits = new int[inDigits.length];\n    baseNegate(base, inDigits, outDigits);\n    System.out.printf(\"%d: %s -&gt; %s%n\", base, Arrays.toString(inDigits),\n                                        Arrays.toString(outDigits));\n}\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>10: [5, 6, 3] -&gt; [5, 3, 6]\n2: [1, 1, 0, 0, 1, 1, 0, 1, 0, 1] -&gt; [1, 0, 1, 1, 0, 0, 1, 0, 1, 0]\n16: [0, 15, 10, 7] -&gt; [0, 1, 5, 8]\n8: [0, 0, 0] -&gt; [0, 0, 0]\n8: [1, 0, 0] -&gt; [7, 7, 7]\n8: [7, 7, 3] -&gt; [1, 0, 4]\n8: [0, 0, 4] -&gt; [0, 0, 4]\n</code></pre>\n"}],"owner":{"account_id":12629452,"reputation":365,"user_id":9181509,"display_name":"Yuki1112"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59081207,"answer_count":3,"score":0,"last_activity_date":1675402557,"creation_date":1574905200,"question_id":59080627,"body_markdown":"I have the following problem:\r\nGiven an input in base (the input is given as an array of its digits in that base), write the negation of the number in &quot;base&#39;s&quot;-complement notatation in outDigits.    \r\nThe &quot;base&#39;s complement&quot; notation of a number is a generalization of &quot;two&#39;s complement&quot;: if we treat (-x) as an unsigned number in base and add it to x, we should get 0 (modulo base^digit-size). **I cannot call other function (even Math.pow)**     \r\nI keep getting an error with my tests. My code:\r\n\r\n```\r\npublic static void baseNegate(int base, int[] inDigits, int[] outDigits) {\r\n\t\toutDigits[0] = 1;\r\n\t\tfor (int i = outDigits.length - 1; i &gt;= 0; i--) {\r\n\t\t\toutDigits[i] += base - (1 + inDigits[i]);\r\n\t\t\tif (i &lt; outDigits.length - 1) {\r\n\t\t\t\toutDigits[i + 1] = outDigits[i] / base;\r\n\t\t\t}\r\n\t\t\toutDigits[i] %= base;\r\n\t\t}\r\n\t}\r\n```\r\nI cannot find the error in my calculations, please help.\r\nmy test:\r\n```\r\n\r\n------------------------------------ Negate number 365 in base 10 ------------------------------------\r\nTest case have FAILED.\r\nBase:    10\r\nInput number:    [5, 6, 3]\r\nExpected:        [5, 3, 6]\r\nOutput:          [5, 0, 0]\r\n\r\n-------------------------------- Negate number b1010110011 in base 2 --------------------------------\r\nTest case have FAILED.\r\nBase:    2\r\nInput number:    [1, 1, 0, 0, 1, 1, 0, 1, 0, 1]\r\nExpected:        [1, 0, 1, 1, 0, 0, 1, 0, 1, 0]\r\nOutput:          [1, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n\r\n-------------------------------------- Negate 0x7AF0 in base 16 --------------------------------------\r\nTest case have FAILED.\r\nBase:    16\r\nInput number:    [0, 15, 10, 7]\r\nExpected:        [0, 1, 5, 8]\r\nOutput:          [0, 1, 0, 0]\r\n```","title":"Base Negation given an inDigits","body":"<p>I have the following problem:\nGiven an input in base (the input is given as an array of its digits in that base), write the negation of the number in \"base's\"-complement notatation in outDigits.<br>\nThe \"base's complement\" notation of a number is a generalization of \"two's complement\": if we treat (-x) as an unsigned number in base and add it to x, we should get 0 (modulo base^digit-size). <strong>I cannot call other function (even Math.pow)</strong><br>\nI keep getting an error with my tests. My code:</p>\n\n<pre><code>public static void baseNegate(int base, int[] inDigits, int[] outDigits) {\n        outDigits[0] = 1;\n        for (int i = outDigits.length - 1; i &gt;= 0; i--) {\n            outDigits[i] += base - (1 + inDigits[i]);\n            if (i &lt; outDigits.length - 1) {\n                outDigits[i + 1] = outDigits[i] / base;\n            }\n            outDigits[i] %= base;\n        }\n    }\n</code></pre>\n\n<p>I cannot find the error in my calculations, please help.\nmy test:</p>\n\n<pre><code>\n------------------------------------ Negate number 365 in base 10 ------------------------------------\nTest case have FAILED.\nBase:    10\nInput number:    [5, 6, 3]\nExpected:        [5, 3, 6]\nOutput:          [5, 0, 0]\n\n-------------------------------- Negate number b1010110011 in base 2 --------------------------------\nTest case have FAILED.\nBase:    2\nInput number:    [1, 1, 0, 0, 1, 1, 0, 1, 0, 1]\nExpected:        [1, 0, 1, 1, 0, 0, 1, 0, 1, 0]\nOutput:          [1, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n-------------------------------------- Negate 0x7AF0 in base 16 --------------------------------------\nTest case have FAILED.\nBase:    16\nInput number:    [0, 15, 10, 7]\nExpected:        [0, 1, 5, 8]\nOutput:          [0, 1, 0, 0]\n</code></pre>\n"},{"tags":["java","algorithm","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1574895490,"post_id":59078887,"comment_id":104396137,"body_markdown":"can you please give us more information on your problem that you are trying to solve: is it `IllegalStateException` exception or `the category table we&#39;ll be full of duplicates`. if it is the later one, can you please add more clarifications on this statement?","body":"can you please give us more information on your problem that you are trying to solve: is it <code>IllegalStateException</code> exception or <code>the category table we&#39;ll be full of duplicates</code>. if it is the later one, can you please add more clarifications on this statement?"},{"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"score":0,"creation_date":1574898937,"post_id":59078887,"comment_id":104396955,"body_markdown":"The table of categories should have n categories and each question from the questions table should point to it&#39;s categorie using a foreign key but what i&#39;m getting is a table (categories) where for each question the categorie is persisted again so the categories table has the exact amount of rows as the questions instead of heaving n rows wich makes the table full of duplicates and i think this is because of the cascade. is it more clear ?","body":"The table of categories should have n categories and each question from the questions table should point to it&#39;s categorie using a foreign key but what i&#39;m getting is a table (categories) where for each question the categorie is persisted again so the categories table has the exact amount of rows as the questions instead of heaving n rows wich makes the table full of duplicates and i think this is because of the cascade. is it more clear ?"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1574900163,"post_id":59078887,"comment_id":104397202,"body_markdown":"For me it not a `cascade` problem : in fact `cascade` is a handy feature from JPA to avoid calling `persist` method on child entities which is in your case `Question` entities and many other handy tasks. For your problem, can you give more information on the `data` variable that you have on the `persist` method, what you obtain in the database and what you expect ?","body":"For me it not a <code>cascade</code> problem : in fact <code>cascade</code> is a handy feature from JPA to avoid calling <code>persist</code> method on child entities which is in your case <code>Question</code> entities and many other handy tasks. For your problem, can you give more information on the <code>data</code> variable that you have on the <code>persist</code> method, what you obtain in the database and what you expect ?"},{"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"score":0,"creation_date":1574901053,"post_id":59078887,"comment_id":104397361,"body_markdown":"the persist method takes a categorie object ( in the code above ) from a list that contains many categories. i obtain questions table like it should be and  categorie table that has for every question a row so it&#39;s does not use the fk that in the questions table ( fk_categorieID)","body":"the persist method takes a categorie object ( in the code above ) from a list that contains many categories. i obtain questions table like it should be and  categorie table that has for every question a row so it&#39;s does not use the fk that in the questions table ( fk_categorieID)"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1574929075,"post_id":59078887,"comment_id":104404619,"body_markdown":"So if I understand your problem, in `data` variable, you have let say 5 `Category` and for each one you have 3 `Question`. You expect obtaining 5 rows in the `Category` table and 15 rows in the `Question` table. But you obtain 15 rows in each table, isn&#39;t ?","body":"So if I understand your problem, in <code>data</code> variable, you have let say 5 <code>Category</code> and for each one you have 3 <code>Question</code>. You expect obtaining 5 rows in the <code>Category</code> table and 15 rows in the <code>Question</code> table. But you obtain 15 rows in each table, isn&#39;t ?"},{"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"score":0,"creation_date":1575010748,"post_id":59078887,"comment_id":104432695,"body_markdown":"this is exactly what i meant","body":"this is exactly what i meant"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1575015567,"post_id":59078887,"comment_id":104434432,"body_markdown":"OK, can you please show us your implenetation of `equals` and `hashcode` methods ? I think that they are the root cause of your problem","body":"OK, can you please show us your implenetation of <code>equals</code> and <code>hashcode</code> methods ? I think that they are the root cause of your problem"},{"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"score":0,"creation_date":1575016636,"post_id":59078887,"comment_id":104434949,"body_markdown":"i&#39;ve added them to the entities","body":"i&#39;ve added them to the entities"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402553,"creation_date":1574905283,"answer_id":59080640,"question_id":59078887,"body_markdown":"Without much details it is hard to infer the root of your problems; so if what you want to accomplish is to persist a collection of an entity with a one to many association with another entity, then you surely do it semi brute force programmatically without chasing the problem with your annotations configuration. \r\n\r\nFirst remove all `CascadeType` annotations from your entities.\r\n\r\nThen write your persist method as follows:\r\n\r\n```java\r\n\tpublic void persist(Collection&lt;Category&gt; categories) {\r\n\t\tEntityManager em = getEntityManager();\r\n\t\tem.getTransaction().begin();\r\n\t\t\r\n\t\t// Persist all categories first, without persisting the questions\r\n\t\tcategories.forEach(cat -&gt; safelyPersistCategory(em, cat));\r\n\t\t// Associated the not yet persisted questions with the persisted categories  \r\n\t\tcategories.stream().forEach(cat -&gt; cat.getQuestions().stream().forEach(question -&gt; question.setCategory(cat)));\r\n\t\t// Finally persist each question\r\n\t\tcategories.stream().flatMap(cat -&gt; cat.getQuestions().stream()).forEach(question -&gt; em.persist(question));\r\n\r\n\t\tem.getTransaction().commit();\r\n\t\tem.close();\r\n\t}\r\n\t\r\n\t// Safely persists Category without trying to create a relationship to \r\n\t// potentially not persisted Questions\r\n\tprivate void safelyPersistCategory(EntityManager em, Category category) {\r\n\t\tList&lt;Question&gt; questions = category.getQuestions();\r\n\t\tcategory.setQuestions(null);\r\n\t\tem.persist(category);\r\n\t\tcategory.setQuestions(questions);\r\n\t}\r\n```\r\n\r\nAs you can see in the comments in the code you manually:\r\n\r\n* Add the `Category` entities to the persistence context safely (without\r\nassociating them to potentially non-managed Questions).\r\n* Then associate these **managed** `Category` entities with their `Question` entities.\r\n* Finally add the `Question` entities to the persistence context. \r\n\r\nFrom there you can commit the transaction. \r\n\r\nThe reason for this sequence is that the `Question` entity is the owner of the relationship, so it must relate to an **already persisted/managed** entity (`Category`), otherwise it will try to link to create an association to a non-persisted/non-managed entity which would cause problems (and which I suspect was what was happening with your original `IllegalStateException`). \r\n\r\nFinally, by persisting the `Category` entities first, you can link the `Question` entities to already managed entities and not create them on the fly.\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59080640)\r\n\r\nHope this helps.","title":"IllegalStateException : a relationship that was not marked cascade PERSIST","body":"<p>Without much details it is hard to infer the root of your problems; so if what you want to accomplish is to persist a collection of an entity with a one to many association with another entity, then you surely do it semi brute force programmatically without chasing the problem with your annotations configuration.</p>\n<p>First remove all <code>CascadeType</code> annotations from your entities.</p>\n<p>Then write your persist method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void persist(Collection&lt;Category&gt; categories) {\n        EntityManager em = getEntityManager();\n        em.getTransaction().begin();\n        \n        // Persist all categories first, without persisting the questions\n        categories.forEach(cat -&gt; safelyPersistCategory(em, cat));\n        // Associated the not yet persisted questions with the persisted categories  \n        categories.stream().forEach(cat -&gt; cat.getQuestions().stream().forEach(question -&gt; question.setCategory(cat)));\n        // Finally persist each question\n        categories.stream().flatMap(cat -&gt; cat.getQuestions().stream()).forEach(question -&gt; em.persist(question));\n\n        em.getTransaction().commit();\n        em.close();\n    }\n    \n    // Safely persists Category without trying to create a relationship to \n    // potentially not persisted Questions\n    private void safelyPersistCategory(EntityManager em, Category category) {\n        List&lt;Question&gt; questions = category.getQuestions();\n        category.setQuestions(null);\n        em.persist(category);\n        category.setQuestions(questions);\n    }\n</code></pre>\n<p>As you can see in the comments in the code you manually:</p>\n<ul>\n<li>Add the <code>Category</code> entities to the persistence context safely (without\nassociating them to potentially non-managed Questions).</li>\n<li>Then associate these <strong>managed</strong> <code>Category</code> entities with their <code>Question</code> entities.</li>\n<li>Finally add the <code>Question</code> entities to the persistence context.</li>\n</ul>\n<p>From there you can commit the transaction.</p>\n<p>The reason for this sequence is that the <code>Question</code> entity is the owner of the relationship, so it must relate to an <strong>already persisted/managed</strong> entity (<code>Category</code>), otherwise it will try to link to create an association to a non-persisted/non-managed entity which would cause problems (and which I suspect was what was happening with your original <code>IllegalStateException</code>).</p>\n<p>Finally, by persisting the <code>Category</code> entities first, you can link the <code>Question</code> entities to already managed entities and not create them on the fly.</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59080640\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575061260,"creation_date":1575026921,"answer_id":59103941,"question_id":59078887,"body_markdown":"The only thing I have done to fix your problem in my local machine, was to change the type of your entities id: `int` to `Long`\r\n\r\n**Working example based on your code :**\r\n\r\n*Category entity*\r\n\r\n```java\r\npackage io.ahenteti.java;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.NamedQueries;\r\nimport javax.persistence.NamedQuery;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Category&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@NamedQueries({@NamedQuery(name = Category.FIND_ALL, query = &quot;SELECT c FROM Category c&quot;)})\r\npublic class Category {\r\n\r\n    public static final String FIND_ALL = &quot;Category.findAll&quot;;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;CID&quot;)\r\n    private Long categoryId;\r\n\r\n    @Column(name = &quot;CNAME&quot;)\r\n    private String categoryName;\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;, cascade = CascadeType.PERSIST)\r\n    public List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (!(o instanceof Category)) {\r\n            return false;\r\n        }\r\n        Category category = (Category) o;\r\n        return categoryId == category.categoryId &amp;&amp; getCategoryName().equals(category.getCategoryName()) &amp;&amp; questions\r\n                .equals(category.questions);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getCategoryName());\r\n    }\r\n}\r\n\r\n```\r\n\r\n*Question*\r\n\r\n```java\r\npackage io.ahenteti.java;\r\n\r\nimport java.util.Objects;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.NamedQueries;\r\nimport javax.persistence.NamedQuery;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Question&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@NamedQueries({@NamedQuery(name = Question.FIND_ALL, query = &quot;SELECT q FROM Question q&quot;)})\r\npublic class Question {\r\n\r\n    public static final String FIND_ALL = &quot;Question.findAll&quot;;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;QID&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;QText&quot;)\r\n    private String question;\r\n    @ManyToOne()\r\n    private Category category;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (!(o instanceof Question)) {\r\n            return false;\r\n        }\r\n        Question question = (Question) o;\r\n        return getId() == question.getId();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId());\r\n    }\r\n}\r\n```\r\n\r\n*persistence.xml*\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence \r\n  xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;\r\n  version=&quot;2.2&quot;&gt;\r\n\r\n  &lt;persistence-unit name=&quot;persistence-unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n    &lt;class&gt;io.ahenteti.java.Question&lt;/class&gt;\r\n    &lt;class&gt;io.ahenteti.java.Category&lt;/class&gt;\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:h2:mem:demo&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\n*Main*\r\n\r\n```java\r\npackage io.ahenteti.java;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityTransaction;\r\nimport javax.persistence.Persistence;\r\nimport javax.persistence.TypedQuery;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        EntityManager em = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;).createEntityManager();\r\n        EntityTransaction transaction = em.getTransaction();\r\n        transaction.begin();\r\n        em.persist(createCategory(&quot;C1&quot;));\r\n        em.persist(createCategory(&quot;C2&quot;));\r\n        em.persist(createCategory(&quot;C3&quot;));\r\n        transaction.commit();\r\n        System.out.println(&quot;number of categories in database: &quot; + getAllCategories(em).size());\r\n        System.out.println(&quot;number of questions in database: &quot; + getAllQuestions(em).size());\r\n    }\r\n\r\n    private static List&lt;Question&gt; getAllQuestions(EntityManager em) {\r\n        TypedQuery&lt;Question&gt; getAllQuestions = em.createNamedQuery(Question.FIND_ALL, Question.class);\r\n        return getAllQuestions.getResultList();\r\n    }\r\n\r\n    private static List&lt;Category&gt; getAllCategories(EntityManager em) {\r\n        TypedQuery&lt;Category&gt; getAllCategories = em.createNamedQuery(Category.FIND_ALL, Category.class);\r\n        return getAllCategories.getResultList();\r\n    }\r\n\r\n    private static Category createCategory(String category) {\r\n        Category res = new Category();\r\n        res.setCategoryName(category);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            res.getQuestions().add(createQuestion(res, category + &quot; - Q&quot; + i));\r\n        }\r\n        return res;\r\n    }\r\n\r\n    private static Question createQuestion(Category category, String question) {\r\n        Question q1 = new Question();\r\n        q1.setQuestion(question);\r\n        q1.setCategory(category);\r\n        return q1;\r\n    }\r\n\r\n}\r\n```\r\n\r\n*output*\r\n\r\n```\r\nnumber of categories in database: 3\r\nnumber of questions in database: 15\r\n```\r\n\r\nHope it helps :)","title":"IllegalStateException : a relationship that was not marked cascade PERSIST","body":"<p>The only thing I have done to fix your problem in my local machine, was to change the type of your entities id: <code>int</code> to <code>Long</code></p>\n\n<p><strong>Working example based on your code :</strong></p>\n\n<p><em>Category entity</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.ahenteti.java;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Entity\n@Table(name = \"Category\")\n@AllArgsConstructor\n@NoArgsConstructor\n@NamedQueries({@NamedQuery(name = Category.FIND_ALL, query = \"SELECT c FROM Category c\")})\npublic class Category {\n\n    public static final String FIND_ALL = \"Category.findAll\";\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"CID\")\n    private Long categoryId;\n\n    @Column(name = \"CNAME\")\n    private String categoryName;\n\n    @OneToMany(mappedBy = \"category\", cascade = CascadeType.PERSIST)\n    public List&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof Category)) {\n            return false;\n        }\n        Category category = (Category) o;\n        return categoryId == category.categoryId &amp;&amp; getCategoryName().equals(category.getCategoryName()) &amp;&amp; questions\n                .equals(category.questions);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getCategoryName());\n    }\n}\n\n</code></pre>\n\n<p><em>Question</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.ahenteti.java;\n\nimport java.util.Objects;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.NamedQueries;\nimport javax.persistence.NamedQuery;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Entity\n@Table(name = \"Question\")\n@AllArgsConstructor\n@NoArgsConstructor\n@NamedQueries({@NamedQuery(name = Question.FIND_ALL, query = \"SELECT q FROM Question q\")})\npublic class Question {\n\n    public static final String FIND_ALL = \"Question.findAll\";\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"QID\")\n    private Long id;\n    @Column(name = \"QText\")\n    private String question;\n    @ManyToOne()\n    private Category category;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (!(o instanceof Question)) {\n            return false;\n        }\n        Question question = (Question) o;\n        return getId() == question.getId();\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId());\n    }\n}\n</code></pre>\n\n<p><em>persistence.xml</em></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;persistence \n  xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd\"\n  version=\"2.2\"&gt;\n\n  &lt;persistence-unit name=\"persistence-unit\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;class&gt;io.ahenteti.java.Question&lt;/class&gt;\n    &lt;class&gt;io.ahenteti.java.Category&lt;/class&gt;\n    &lt;properties&gt;\n      &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.h2.Driver\"/&gt;\n      &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:h2:mem:demo\"/&gt;\n      &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p><em>Main</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.ahenteti.java;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.Persistence;\nimport javax.persistence.TypedQuery;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        EntityManager em = Persistence.createEntityManagerFactory(\"persistence-unit\").createEntityManager();\n        EntityTransaction transaction = em.getTransaction();\n        transaction.begin();\n        em.persist(createCategory(\"C1\"));\n        em.persist(createCategory(\"C2\"));\n        em.persist(createCategory(\"C3\"));\n        transaction.commit();\n        System.out.println(\"number of categories in database: \" + getAllCategories(em).size());\n        System.out.println(\"number of questions in database: \" + getAllQuestions(em).size());\n    }\n\n    private static List&lt;Question&gt; getAllQuestions(EntityManager em) {\n        TypedQuery&lt;Question&gt; getAllQuestions = em.createNamedQuery(Question.FIND_ALL, Question.class);\n        return getAllQuestions.getResultList();\n    }\n\n    private static List&lt;Category&gt; getAllCategories(EntityManager em) {\n        TypedQuery&lt;Category&gt; getAllCategories = em.createNamedQuery(Category.FIND_ALL, Category.class);\n        return getAllCategories.getResultList();\n    }\n\n    private static Category createCategory(String category) {\n        Category res = new Category();\n        res.setCategoryName(category);\n        for (int i = 0; i &lt; 5; i++) {\n            res.getQuestions().add(createQuestion(res, category + \" - Q\" + i));\n        }\n        return res;\n    }\n\n    private static Question createQuestion(Category category, String question) {\n        Question q1 = new Question();\n        q1.setQuestion(question);\n        q1.setCategory(category);\n        return q1;\n    }\n\n}\n</code></pre>\n\n<p><em>output</em></p>\n\n<pre><code>number of categories in database: 3\nnumber of questions in database: 15\n</code></pre>\n\n<p>Hope it helps :)</p>\n"}],"owner":{"account_id":17195454,"reputation":59,"user_id":12448320,"display_name":"hamza madridista"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675402553,"creation_date":1574891214,"question_id":59078887,"body_markdown":"I&#39;m trying to persist two entities Categorie and Question in a PostgreSQL db with one to many (categorie has many questions and a question is in one categorie).\r\n\r\nAfter a lot of search and trying, adding CascadeType.PERSIST to the both entities is the only solution I found to the error but with CascadeType.PERSIST on the question side the category table we&#39;ll be full of duplicates. Is there any better solution because the categories should be unique in the table.\r\n```  \r\n@Entity\r\n@Table(name = &quot;Category&quot;)\r\npublic class Category {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;CID&quot;)\r\n  private int categoryId;\r\n  @Column(name = &quot;CNAME&quot;)\r\n  private String categoryName;\r\n  @OneToMany(mappedBy = &quot;category&quot; , cascade = CascadeType.PERSIST)\r\n  public List&lt;Question&gt; questions;\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (!(o instanceof Category)) {\r\n      return false;\r\n    }\r\n    Category category = (Category) o;\r\n    return categoryId == category.categoryId\r\n        &amp;&amp; getCategoryName().equals(category.getCategoryName())\r\n        &amp;&amp; questions.equals(category.questions);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(getCategoryName());\r\n  }\r\n```  \r\n```  \r\n@Entity\r\n@Table(name = &quot;Question&quot; )\r\npublic class Question {\r\n  @Id\r\n  @Column(name = &quot;QID&quot;)\r\n  private int id;\r\n @Column(name = &quot;QText&quot;)\r\n  private String question;\r\n@ManyToOne()\r\n  private Category category;\r\n\r\n\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (!(o instanceof Question)) {\r\n      return false;\r\n    }\r\n    Question question = (Question) o;\r\n    return getId() == question.getId();\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(getId());\r\n  }\r\n\r\n```  \r\n```  \r\npublic persist(){\r\n EntityManager em = getEntityManager();\r\n      em.getTransaction().begin();\r\n      for (Category c : data.getCategories()) {\r\n        em.persist(c);\r\n      }\r\n      em.getTransaction().commit();\r\n      em.close();\r\n}\r\n```  ","title":"IllegalStateException : a relationship that was not marked cascade PERSIST","body":"<p>I'm trying to persist two entities Categorie and Question in a PostgreSQL db with one to many (categorie has many questions and a question is in one categorie).</p>\n\n<p>After a lot of search and trying, adding CascadeType.PERSIST to the both entities is the only solution I found to the error but with CascadeType.PERSIST on the question side the category table we'll be full of duplicates. Is there any better solution because the categories should be unique in the table.</p>\n\n<pre><code>@Entity\n@Table(name = \"Category\")\npublic class Category {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"CID\")\n  private int categoryId;\n  @Column(name = \"CNAME\")\n  private String categoryName;\n  @OneToMany(mappedBy = \"category\" , cascade = CascadeType.PERSIST)\n  public List&lt;Question&gt; questions;\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (!(o instanceof Category)) {\n      return false;\n    }\n    Category category = (Category) o;\n    return categoryId == category.categoryId\n        &amp;&amp; getCategoryName().equals(category.getCategoryName())\n        &amp;&amp; questions.equals(category.questions);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getCategoryName());\n  }\n</code></pre>\n\n<pre><code>@Entity\n@Table(name = \"Question\" )\npublic class Question {\n  @Id\n  @Column(name = \"QID\")\n  private int id;\n @Column(name = \"QText\")\n  private String question;\n@ManyToOne()\n  private Category category;\n\n\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (!(o instanceof Question)) {\n      return false;\n    }\n    Question question = (Question) o;\n    return getId() == question.getId();\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(getId());\n  }\n\n</code></pre>\n\n<pre><code>public persist(){\n EntityManager em = getEntityManager();\n      em.getTransaction().begin();\n      for (Category c : data.getCategories()) {\n        em.persist(c);\n      }\n      em.getTransaction().commit();\n      em.close();\n}\n</code></pre>\n"},{"tags":["java","algorithm","design-patterns","collections","java-8"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574900854,"post_id":59077910,"comment_id":104397325,"body_markdown":"You *read* a text file in Java.","body":"You <i>read</i> a text file in Java."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675402549,"creation_date":1574900478,"answer_id":59080158,"question_id":59077910,"body_markdown":"In Java any `List` is an ordered collection of elements; but these elements can be objects of **ANY** class. So, the idea is that your element should be the unit of concern in your business logic. In your case, this is the pair of numbers. Given this, you could create a custom class called `Edge` for example that will be used as the `element`s of the `List` and have this `Edge` class store the respective pair of number. For example:\r\n\r\n```\r\n\tstatic class Edge {\r\n\t\tprivate int first;\r\n\t\tprivate int second;\r\n\t\t\r\n\t\tpublic Edge(Scanner scanner) {\r\n\t\t\tthis(scanner.nextInt(), scanner.nextInt());\r\n\t\t}\r\n\t\t\r\n\t\tpublic Edge(int first, int second) {\r\n\t\t\tthis.first = first;\r\n\t\t\tthis.second = second;\r\n\t\t}\r\n\r\n\t\tpublic int getFirst() {\r\n\t\t\treturn first;\r\n\t\t}\r\n\r\n\t\tpublic int getSecond() {\r\n\t\t\treturn second;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Edge [first=&quot; + first + &quot;, second=&quot; + second + &quot;]&quot;;\r\n\t\t}\r\n\t}\r\n``` \r\n\r\nThen in your code change:\r\n\r\n```\r\nLinkedList&lt;Integer,Integer&gt; adj = new LinkedList&lt;Integer,Integer&gt;();\r\n```\r\n\r\n(which actually won&#39;t compile since `List` requires only a single generic type, not two) and replace it with:\r\n\r\n```\r\nList&lt;Edge&gt; adj = new LinkedList&lt;Edge&gt;();\r\n```\r\n\r\nmaking `adj` a `List` of `Edge` objects.\r\n\r\n* Additional Tips:\r\n\r\nYou could also take advantage of Java 8 streams and enhanced NIO Apis and rewrite the entire transformation of the text file to a `List&lt;Edge&gt;` with the simple following method:\r\n\r\n```\r\n\tpublic static List&lt;Edge&gt; readEdges(String filename) throws IOException {\r\n\t\ttry (Stream&lt;String&gt; linesStream = Files.lines(Paths.get(filename))) {\r\n\t\t\treturn linesStream\r\n\t\t\t\t\t.map(line -&gt; new Edge(new Scanner(line)))\r\n\t\t\t        .collect(Collectors.toList());\r\n\t\t}\r\n\t}\r\n```\r\n\r\nFinally, the following is a full working demo of this approach, run it to get a feeling for it:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class EdgesReader {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tList&lt;Edge&gt; edges = readEdges(&quot;PATH/TO/MY/EDGES/TEXT/FILE&quot;);\r\n\t\tSystem.out.println(edges);\r\n\t}\r\n\r\n\tpublic static List&lt;Edge&gt; readEdges(String filename) throws IOException {\r\n\t\ttry (Stream&lt;String&gt; linesStream = Files.lines(Paths.get(filename))) {\r\n\t\t\treturn linesStream\r\n\t\t\t\t\t.map(line -&gt; new Edge(new Scanner(line)))\r\n\t\t\t        .collect(Collectors.toList());\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic class Edge {\r\n\t\tprivate int first;\r\n\t\tprivate int second;\r\n\t\t\r\n\t\tpublic Edge(Scanner scanner) {\r\n\t\t\tthis(scanner.nextInt(), scanner.nextInt());\r\n\t\t}\r\n\t\t\r\n\t\tpublic Edge(int first, int second) {\r\n\t\t\tthis.first = first;\r\n\t\t\tthis.second = second;\r\n\t\t}\r\n\r\n\t\tpublic int getFirst() {\r\n\t\t\treturn first;\r\n\t\t}\r\n\r\n\t\tpublic int getSecond() {\r\n\t\t\treturn second;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;Edge [first=&quot; + first + &quot;, second=&quot; + second + &quot;]&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59080158)\r\n\r\nHope this helps.","title":"I read a txt file to Java and I want to make it be encoded as edges where each edges is a pair of nodes(DFS)","body":"<p>In Java any <code>List</code> is an ordered collection of elements; but these elements can be objects of <strong>ANY</strong> class. So, the idea is that your element should be the unit of concern in your business logic. In your case, this is the pair of numbers. Given this, you could create a custom class called <code>Edge</code> for example that will be used as the <code>element</code>s of the <code>List</code> and have this <code>Edge</code> class store the respective pair of number. For example:</p>\n<pre><code>    static class Edge {\n        private int first;\n        private int second;\n        \n        public Edge(Scanner scanner) {\n            this(scanner.nextInt(), scanner.nextInt());\n        }\n        \n        public Edge(int first, int second) {\n            this.first = first;\n            this.second = second;\n        }\n\n        public int getFirst() {\n            return first;\n        }\n\n        public int getSecond() {\n            return second;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Edge [first=&quot; + first + &quot;, second=&quot; + second + &quot;]&quot;;\n        }\n    }\n</code></pre>\n<p>Then in your code change:</p>\n<pre><code>LinkedList&lt;Integer,Integer&gt; adj = new LinkedList&lt;Integer,Integer&gt;();\n</code></pre>\n<p>(which actually won't compile since <code>List</code> requires only a single generic type, not two) and replace it with:</p>\n<pre><code>List&lt;Edge&gt; adj = new LinkedList&lt;Edge&gt;();\n</code></pre>\n<p>making <code>adj</code> a <code>List</code> of <code>Edge</code> objects.</p>\n<ul>\n<li>Additional Tips:</li>\n</ul>\n<p>You could also take advantage of Java 8 streams and enhanced NIO Apis and rewrite the entire transformation of the text file to a <code>List&lt;Edge&gt;</code> with the simple following method:</p>\n<pre><code>    public static List&lt;Edge&gt; readEdges(String filename) throws IOException {\n        try (Stream&lt;String&gt; linesStream = Files.lines(Paths.get(filename))) {\n            return linesStream\n                    .map(line -&gt; new Edge(new Scanner(line)))\n                    .collect(Collectors.toList());\n        }\n    }\n</code></pre>\n<p>Finally, the following is a full working demo of this approach, run it to get a feeling for it:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class EdgesReader {\n\n    public static void main(String[] args) throws IOException {\n        List&lt;Edge&gt; edges = readEdges(&quot;PATH/TO/MY/EDGES/TEXT/FILE&quot;);\n        System.out.println(edges);\n    }\n\n    public static List&lt;Edge&gt; readEdges(String filename) throws IOException {\n        try (Stream&lt;String&gt; linesStream = Files.lines(Paths.get(filename))) {\n            return linesStream\n                    .map(line -&gt; new Edge(new Scanner(line)))\n                    .collect(Collectors.toList());\n        }\n    }\n    \n    static class Edge {\n        private int first;\n        private int second;\n        \n        public Edge(Scanner scanner) {\n            this(scanner.nextInt(), scanner.nextInt());\n        }\n        \n        public Edge(int first, int second) {\n            this.first = first;\n            this.second = second;\n        }\n\n        public int getFirst() {\n            return first;\n        }\n\n        public int getSecond() {\n            return second;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Edge [first=&quot; + first + &quot;, second=&quot; + second + &quot;]&quot;;\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a59080158\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14276265,"reputation":304,"user_id":10312263,"display_name":"Leogao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574901211,"creation_date":1574901211,"answer_id":59080241,"question_id":59077910,"body_markdown":"First of all, you already mention an error shows `linked-list only allow one type`. the root cause is LinkedList support one type based on the doc java.util.LinkedList&lt;E&gt; https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\r\n\r\nTo allow LinkedList to store edges, we have to solutions : \r\n\r\n1. We could create Edge class which contains two integer elements that represent the from_note and the to_node.\r\nAnd we know LinkedList is a generic class, LinkedList could store any type inside LinkedList.\r\n\r\n2. We could use int[] to represent the edge. And the first element inside the array is from_note and the second element inside the array is to_node.\r\n\r\nAnd there are other things we could improve the code.  such as class naming. you could follow Google Java Style Guide https://google.github.io/styleguide/javaguide.html\r\n\r\nWhen we learn a new class or new java library, we could go over the class by looking into their doc like https://docs.oracle.com to understand the meaning of the function, and parameter.\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    class Main {\r\n        // solution 1: by introduce Edge class\r\n        public static class Edge{\r\n            int from;\r\n            int to;\r\n            public Edge(int from, int to){\r\n                this.from = from;\r\n                this.to = to;\r\n            }\r\n    \r\n            public String toString(){\r\n                return from+&quot;-&gt;&quot;+to;\r\n            }\r\n        }\r\n    \r\n        public static class readfile{\r\n            public Scanner x;\r\n            public void openFile(){\r\n                try{\r\n                    x = new Scanner(new File(&quot;facebook_combined.txt&quot;));\r\n                }\r\n    \r\n                catch(Exception e){\r\n                    System.out.println(&quot;could not open file&quot;);\r\n                }\r\n            }\r\n    \r\n            public void readFile(){ // solution 1: represent edge by using Edge class\r\n                LinkedList&lt;Edge&gt; adj = new LinkedList&lt;Edge&gt;();\r\n                while(x.hasNext()){\r\n                    String a = x.next();\r\n                    int resa = Integer.parseInt(a);\r\n                    String b = x.next();\r\n                    int resb = Integer.parseInt(b);\r\n                    Edge edge = new Main.Edge(resa, resb);\r\n                    adj.add(edge);\r\n                    System.out.println(edge);\r\n                }\r\n            }\r\n    \r\n            public void readFile1(){ //solution 2: represent edge by using array\r\n                LinkedList&lt;int[]&gt; adj = new LinkedList&lt;int[]&gt;();\r\n                while(x.hasNext()){\r\n                    String a = x.next();\r\n                    int resa = Integer.parseInt(a);\r\n                    String b = x.next();\r\n                    int resb = Integer.parseInt(b);\r\n                    int[] edge = new int[]{resa, resb};\r\n                    adj.add(edge);\r\n                    System.out.println(edge[0] + &quot;-&gt;&quot;+ edge[1]);\r\n                }\r\n            }\r\n    \r\n            public void closeFile(){\r\n                x.close();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            readfile r = new readfile();\r\n            r.openFile();\r\n            r.readFile();\r\n            r.closeFile();\r\n        }\r\n    }","title":"I read a txt file to Java and I want to make it be encoded as edges where each edges is a pair of nodes(DFS)","body":"<p>First of all, you already mention an error shows <code>linked-list only allow one type</code>. the root cause is LinkedList support one type based on the doc java.util.LinkedList <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html</a></p>\n\n<p>To allow LinkedList to store edges, we have to solutions : </p>\n\n<ol>\n<li><p>We could create Edge class which contains two integer elements that represent the from_note and the to_node.\nAnd we know LinkedList is a generic class, LinkedList could store any type inside LinkedList.</p></li>\n<li><p>We could use int[] to represent the edge. And the first element inside the array is from_note and the second element inside the array is to_node.</p></li>\n</ol>\n\n<p>And there are other things we could improve the code.  such as class naming. you could follow Google Java Style Guide <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"nofollow noreferrer\">https://google.github.io/styleguide/javaguide.html</a></p>\n\n<p>When we learn a new class or new java library, we could go over the class by looking into their doc like <a href=\"https://docs.oracle.com\" rel=\"nofollow noreferrer\">https://docs.oracle.com</a> to understand the meaning of the function, and parameter.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass Main {\n    // solution 1: by introduce Edge class\n    public static class Edge{\n        int from;\n        int to;\n        public Edge(int from, int to){\n            this.from = from;\n            this.to = to;\n        }\n\n        public String toString(){\n            return from+\"-&gt;\"+to;\n        }\n    }\n\n    public static class readfile{\n        public Scanner x;\n        public void openFile(){\n            try{\n                x = new Scanner(new File(\"facebook_combined.txt\"));\n            }\n\n            catch(Exception e){\n                System.out.println(\"could not open file\");\n            }\n        }\n\n        public void readFile(){ // solution 1: represent edge by using Edge class\n            LinkedList&lt;Edge&gt; adj = new LinkedList&lt;Edge&gt;();\n            while(x.hasNext()){\n                String a = x.next();\n                int resa = Integer.parseInt(a);\n                String b = x.next();\n                int resb = Integer.parseInt(b);\n                Edge edge = new Main.Edge(resa, resb);\n                adj.add(edge);\n                System.out.println(edge);\n            }\n        }\n\n        public void readFile1(){ //solution 2: represent edge by using array\n            LinkedList&lt;int[]&gt; adj = new LinkedList&lt;int[]&gt;();\n            while(x.hasNext()){\n                String a = x.next();\n                int resa = Integer.parseInt(a);\n                String b = x.next();\n                int resb = Integer.parseInt(b);\n                int[] edge = new int[]{resa, resb};\n                adj.add(edge);\n                System.out.println(edge[0] + \"-&gt;\"+ edge[1]);\n            }\n        }\n\n        public void closeFile(){\n            x.close();\n        }\n    }\n\n    public static void main(String[] args) {\n        readfile r = new readfile();\n        r.openFile();\n        r.readFile();\n        r.closeFile();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16941364,"reputation":241,"user_id":12253159,"display_name":"TIGUZI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":59080158,"answer_count":2,"score":1,"last_activity_date":1675402549,"creation_date":1574886179,"question_id":59077910,"body_markdown":"The text file looks like:\r\n0 1\r\n\r\n0 2\r\n\r\n0 3\r\n\r\n1 133\r\n\r\n1 194\r\n\r\n2 20\r\n\r\n2 115\r\n\r\n2 116\r\n\r\n5 231.....\r\n\r\nSo what I wanna do is read my txt file and store each line content(because each edge is made by a pair of nodes) in an linked list, I tried this:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    \r\n    public class readfile{\r\n\r\n \r\n\r\n     public Scanner x;\r\n      public void openFile(){\r\n        try{\r\n          x = new Scanner(new File(&quot;facebook_combined.txt&quot;));\r\n        }\r\n\r\n    catch(Exception e){\r\n      System.out.println(&quot;could not open file&quot;);\r\n    }\r\n    }\r\n\r\n      public void readFile(){\r\n        LinkedList&lt;Integer,Integer&gt; adj = new LinkedList&lt;Integer,Integer&gt;();\r\n        while(x.hasNext()){\r\n          String a = x.next();\r\n          int resa = Integer.parseInt(a);\t\t\r\n          String b = x.next();\r\n          int resb = Integer.parseInt(b);\r\n          adj.add(resa, resb);\r\n          System.out.println(adj);\r\n        }\r\n      }\r\n    \r\n      public void closeFile(){\r\n        x.close();\r\n      }\r\n    }\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        readfile r = new readfile();\r\n        r.openFile();\r\n        r.readFile();\r\n        r.closeFile();\r\n      }\r\n    }\r\n\r\nBut it&#39;s return an error that linked-list only allow one type which means I can&#39;t store a pair of nodes that is connected to each other. \r\n\r\nSo is there any other way to store edges(a pair of nodes)?\r\n\r\nI&#39;m a real fresh man in java field and I&#39;m tring to learn this language better, I would appreciate for any suggestion!\r\n\r\n\r\n","title":"I read a txt file to Java and I want to make it be encoded as edges where each edges is a pair of nodes(DFS)","body":"<p>The text file looks like:\n0 1</p>\n\n<p>0 2</p>\n\n<p>0 3</p>\n\n<p>1 133</p>\n\n<p>1 194</p>\n\n<p>2 20</p>\n\n<p>2 115</p>\n\n<p>2 116</p>\n\n<p>5 231.....</p>\n\n<p>So what I wanna do is read my txt file and store each line content(because each edge is made by a pair of nodes) in an linked list, I tried this:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\n\npublic class readfile{\n\n\n\n public Scanner x;\n  public void openFile(){\n    try{\n      x = new Scanner(new File(\"facebook_combined.txt\"));\n    }\n\ncatch(Exception e){\n  System.out.println(\"could not open file\");\n}\n}\n\n  public void readFile(){\n    LinkedList&lt;Integer,Integer&gt; adj = new LinkedList&lt;Integer,Integer&gt;();\n    while(x.hasNext()){\n      String a = x.next();\n      int resa = Integer.parseInt(a);       \n      String b = x.next();\n      int resb = Integer.parseInt(b);\n      adj.add(resa, resb);\n      System.out.println(adj);\n    }\n  }\n\n  public void closeFile(){\n    x.close();\n  }\n}\nclass Main {\n  public static void main(String[] args) {\n    readfile r = new readfile();\n    r.openFile();\n    r.readFile();\n    r.closeFile();\n  }\n}\n</code></pre>\n\n<p>But it's return an error that linked-list only allow one type which means I can't store a pair of nodes that is connected to each other. </p>\n\n<p>So is there any other way to store edges(a pair of nodes)?</p>\n\n<p>I'm a real fresh man in java field and I'm tring to learn this language better, I would appreciate for any suggestion!</p>\n"},{"tags":["java","algorithm","design-patterns","collections","java-8"],"comments":[{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":0,"creation_date":1572813887,"post_id":58684441,"comment_id":103668165,"body_markdown":"What specifically are you having problems with? It&#39;s better to narrow it down.","body":"What specifically are you having problems with? It&#39;s better to narrow it down."},{"owner":{"account_id":11828002,"reputation":103,"user_id":8655469,"accept_rate":50,"display_name":"a.p. patel"},"score":0,"creation_date":1572814734,"post_id":58684441,"comment_id":103668377,"body_markdown":"I am not able to insert the odd positions to odd and vise Versa for even","body":"I am not able to insert the odd positions to odd and vise Versa for even"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675402545,"creation_date":1572825697,"answer_id":58685728,"question_id":58684441,"body_markdown":"You can break up your problem in 3 parts: \r\n\r\n1. First create two lists, one containing in encountered order the even numbers and the other the odd numbers:\r\n\r\n```\r\n\tprivate static List&lt;List&lt;Integer&gt;&gt; createOddityLists(int... numbers) {\r\n\t\tList&lt;Integer&gt; numsList = Arrays.stream(numbers).boxed().collect(Collectors.toList());\r\n\t\t\r\n\t\tList&lt;List&lt;Integer&gt;&gt; numsByOddity = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tnumsByOddity.add(new ArrayList&lt;&gt;()); // List of odd numbers\r\n\t\tnumsByOddity.add(new ArrayList&lt;&gt;()); // List of even numbers\r\n\t\t\r\n\t\tnumsList.forEach(num -&gt; numsByOddity.get(num % 2).add(num));\r\n\t\treturn numsByOddity;\r\n\t}\r\n```\r\n\r\n2. Pad the shorter of the two lists with zeros (`0`s) to make it equal length as the other one:\r\n\r\n```\r\n\tprivate static void padShorterList(List&lt;List&lt;Integer&gt;&gt; numsByOddity) {\r\n\t\tint sizeDiff = numsByOddity.get(0).size() - numsByOddity.get(1).size();\r\n\t\tint listIndexToBePadded = sizeDiff &lt; 0 ? 0 : 1;\r\n\t\tList&lt;Integer&gt; padding = Collections.nCopies(Math.abs(sizeDiff), 0);\r\n\t\tnumsByOddity.get(listIndexToBePadded).addAll(padding);\r\n\t}\r\n```\r\n\r\n3. Finally join intertwining both lists:\r\n\r\n```\r\n\tprivate static List&lt;Integer&gt; joinLists(List&lt;List&lt;Integer&gt;&gt; numsByOddity) {\r\n\t\tList&lt;Integer&gt; resultList = new ArrayList&lt;&gt;(numsByOddity.get(1));\r\n\t\tfor (int idx = 0; idx &lt; numsByOddity.get(0).size(); idx++)\r\n\t\t\tresultList.add(idx * 2, numsByOddity.get(0).get(idx));\r\n\t\treturn resultList;\r\n\t}\r\n```\r\n\r\nThe following is the full working example:\r\n\r\n```\r\npublic class ArrayRearrangement {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n//\t\tint[] result = rearrange(1, 2, 3, 4);\r\n\t\tint[] result = rearrange(1, 1, 1, 4);\r\n\t\tSystem.out.println(Arrays.stream(result).boxed().collect(Collectors.toList()));\r\n\t}\r\n\t\r\n\tprivate static int[] rearrange(int... numbers) {\r\n\t\tList&lt;List&lt;Integer&gt;&gt; numsByOddity = createOddityLists(numbers);\r\n\t\tpadShorterList(numsByOddity);\r\n\t\treturn joinLists(numsByOddity).stream().mapToInt(i-&gt;i).toArray();\r\n\t}\r\n\r\n\tprivate static List&lt;List&lt;Integer&gt;&gt; createOddityLists(int... numbers) {\r\n\t\tList&lt;Integer&gt; numsList = Arrays.stream(numbers).boxed().collect(Collectors.toList());\r\n\t\t\r\n\t\tList&lt;List&lt;Integer&gt;&gt; numsByOddity = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tnumsByOddity.add(new ArrayList&lt;&gt;()); // List of odd numbers\r\n\t\tnumsByOddity.add(new ArrayList&lt;&gt;()); // List of even numbers\r\n\t\t\r\n\t\tnumsList.forEach(num -&gt; numsByOddity.get(num % 2).add(num));\r\n\t\treturn numsByOddity;\r\n\t}\r\n\r\n\tprivate static void padShorterList(List&lt;List&lt;Integer&gt;&gt; numsByOddity) {\r\n\t\tint sizeDiff = numsByOddity.get(0).size() - numsByOddity.get(1).size();\r\n\t\tint listIndexToBePadded = sizeDiff &lt; 0 ? 0 : 1;\r\n\t\tList&lt;Integer&gt; padding = Collections.nCopies(Math.abs(sizeDiff), 0);\r\n\t\tnumsByOddity.get(listIndexToBePadded).addAll(padding);\r\n\t}\r\n\r\n\tprivate static List&lt;Integer&gt; joinLists(List&lt;List&lt;Integer&gt;&gt; numsByOddity) {\r\n\t\tList&lt;Integer&gt; resultList = new ArrayList&lt;&gt;(numsByOddity.get(1));\r\n\t\tfor (int idx = 0; idx &lt; numsByOddity.get(0).size(); idx++)\r\n\t\t\tresultList.add(idx * 2, numsByOddity.get(0).get(idx));\r\n\t\treturn resultList;\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a58684441)\r\n\r\nHope this helps.\r\n\r\n","title":"java assign even elements to even index and odd to odd places and if the numbers are not equal add zeros to the places","body":"<p>You can break up your problem in 3 parts:</p>\n<ol>\n<li>First create two lists, one containing in encountered order the even numbers and the other the odd numbers:</li>\n</ol>\n<pre><code>    private static List&lt;List&lt;Integer&gt;&gt; createOddityLists(int... numbers) {\n        List&lt;Integer&gt; numsList = Arrays.stream(numbers).boxed().collect(Collectors.toList());\n        \n        List&lt;List&lt;Integer&gt;&gt; numsByOddity = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        numsByOddity.add(new ArrayList&lt;&gt;()); // List of odd numbers\n        numsByOddity.add(new ArrayList&lt;&gt;()); // List of even numbers\n        \n        numsList.forEach(num -&gt; numsByOddity.get(num % 2).add(num));\n        return numsByOddity;\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Pad the shorter of the two lists with zeros (<code>0</code>s) to make it equal length as the other one:</li>\n</ol>\n<pre><code>    private static void padShorterList(List&lt;List&lt;Integer&gt;&gt; numsByOddity) {\n        int sizeDiff = numsByOddity.get(0).size() - numsByOddity.get(1).size();\n        int listIndexToBePadded = sizeDiff &lt; 0 ? 0 : 1;\n        List&lt;Integer&gt; padding = Collections.nCopies(Math.abs(sizeDiff), 0);\n        numsByOddity.get(listIndexToBePadded).addAll(padding);\n    }\n</code></pre>\n<ol start=\"3\">\n<li>Finally join intertwining both lists:</li>\n</ol>\n<pre><code>    private static List&lt;Integer&gt; joinLists(List&lt;List&lt;Integer&gt;&gt; numsByOddity) {\n        List&lt;Integer&gt; resultList = new ArrayList&lt;&gt;(numsByOddity.get(1));\n        for (int idx = 0; idx &lt; numsByOddity.get(0).size(); idx++)\n            resultList.add(idx * 2, numsByOddity.get(0).get(idx));\n        return resultList;\n    }\n</code></pre>\n<p>The following is the full working example:</p>\n<pre><code>public class ArrayRearrangement {\n    \n    public static void main(String[] args) {\n//      int[] result = rearrange(1, 2, 3, 4);\n        int[] result = rearrange(1, 1, 1, 4);\n        System.out.println(Arrays.stream(result).boxed().collect(Collectors.toList()));\n    }\n    \n    private static int[] rearrange(int... numbers) {\n        List&lt;List&lt;Integer&gt;&gt; numsByOddity = createOddityLists(numbers);\n        padShorterList(numsByOddity);\n        return joinLists(numsByOddity).stream().mapToInt(i-&gt;i).toArray();\n    }\n\n    private static List&lt;List&lt;Integer&gt;&gt; createOddityLists(int... numbers) {\n        List&lt;Integer&gt; numsList = Arrays.stream(numbers).boxed().collect(Collectors.toList());\n        \n        List&lt;List&lt;Integer&gt;&gt; numsByOddity = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        numsByOddity.add(new ArrayList&lt;&gt;()); // List of odd numbers\n        numsByOddity.add(new ArrayList&lt;&gt;()); // List of even numbers\n        \n        numsList.forEach(num -&gt; numsByOddity.get(num % 2).add(num));\n        return numsByOddity;\n    }\n\n    private static void padShorterList(List&lt;List&lt;Integer&gt;&gt; numsByOddity) {\n        int sizeDiff = numsByOddity.get(0).size() - numsByOddity.get(1).size();\n        int listIndexToBePadded = sizeDiff &lt; 0 ? 0 : 1;\n        List&lt;Integer&gt; padding = Collections.nCopies(Math.abs(sizeDiff), 0);\n        numsByOddity.get(listIndexToBePadded).addAll(padding);\n    }\n\n    private static List&lt;Integer&gt; joinLists(List&lt;List&lt;Integer&gt;&gt; numsByOddity) {\n        List&lt;Integer&gt; resultList = new ArrayList&lt;&gt;(numsByOddity.get(1));\n        for (int idx = 0; idx &lt; numsByOddity.get(0).size(); idx++)\n            resultList.add(idx * 2, numsByOddity.get(0).get(idx));\n        return resultList;\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a58684441\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":9120575,"reputation":294,"user_id":11418933,"display_name":"zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572834388,"creation_date":1572834388,"answer_id":58686476,"question_id":58684441,"body_markdown":"Using arrays something like this we can do. Code needs to be optimised.\r\n\r\n\t    public static int[]  arrangeInEvenOddOrder(int[] arr)\r\n\t    {\r\n\t    \t// Create odd and even arrays\r\n\t    \tint[] oddArr = new int[arr.length];\r\n\t    \tint[] evenArr = new int[arr.length];\r\n\t    \tint oCount = 0, eCount = 0;\r\n\t    \t// populate arrays even and odd\r\n\t    \tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\t\tif (arr[i] % 2 == 0)\r\n\t\t\t\t\tevenArr[eCount++] = arr[i];\r\n\t\t\t\telse\r\n\t\t\t\t\toddArr[oCount++] = arr[i];\r\n\t\t\t}\r\n\t    \tint[] resArr = new int[oCount &gt;= eCount?\r\n\t    \t                       2*oCount :  2*eCount-1];\r\n\t    \t// populate elements upto min of the\r\n\t    \t// two arrays\r\n\t    \tfor (int i =0; i &lt; (oCount &lt;= eCount?\r\n\t    \t\t\t2*oCount : 2*eCount ); i++ )\r\n\t    \t{\r\n\t    \t\tif( i%2 == 0)\r\n\t    \t\t\tresArr[i] = evenArr[i/2];\r\n\t    \t\telse\r\n\t    \t\t\tresArr[i] = oddArr[i/2];\r\n\t    \t}\r\n\t    \t// populate rest of elements of max array\r\n\t    \t// and add zeroes\r\n\t    \tif (eCount &gt; oCount)\r\n\t    \t{\r\n\t\t    \tfor (int i=2*oCount,j=0;i&lt;2*eCount-1; i++)\r\n\t\t    \t{\r\n\t\t    \t\tif (i%2 == 0)\r\n\t\t    \t\t{\r\n\t\t    \t\t\tresArr[i] = evenArr[oCount+j];\r\n\t\t    \t\t\tj++;\r\n\t\t    \t\t}\r\n\t\t    \t\telse\r\n\t\t    \t\t\tresArr[i] = 0;\r\n\t\t    \t}\r\n\t    \t}\r\n\t    \telse if (eCount &lt; oCount)\r\n\t    \t{\r\n\t\t    \tfor (int i=2*eCount,j=0;i&lt;2*oCount; i++)\r\n\t\t    \t{\r\n\t\t    \t\tif ( i%2 != 0)\r\n\t\t    \t\t{\r\n\t\t    \t\t\tresArr[i] = oddArr[eCount+j];\r\n\t\t    \t\t\tj++;\r\n\t\t    \t\t}\r\n\t\t    \t\telse\r\n\t\t    \t\t\tresArr[i] = 0;\r\n\t\t    \t}\r\n\t    \t}\r\n\t    \treturn resArr;\r\n\t    }","title":"java assign even elements to even index and odd to odd places and if the numbers are not equal add zeros to the places","body":"<p>Using arrays something like this we can do. Code needs to be optimised.</p>\n\n<pre><code>    public static int[]  arrangeInEvenOddOrder(int[] arr)\n    {\n        // Create odd and even arrays\n        int[] oddArr = new int[arr.length];\n        int[] evenArr = new int[arr.length];\n        int oCount = 0, eCount = 0;\n        // populate arrays even and odd\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] % 2 == 0)\n                evenArr[eCount++] = arr[i];\n            else\n                oddArr[oCount++] = arr[i];\n        }\n        int[] resArr = new int[oCount &gt;= eCount?\n                               2*oCount :  2*eCount-1];\n        // populate elements upto min of the\n        // two arrays\n        for (int i =0; i &lt; (oCount &lt;= eCount?\n                2*oCount : 2*eCount ); i++ )\n        {\n            if( i%2 == 0)\n                resArr[i] = evenArr[i/2];\n            else\n                resArr[i] = oddArr[i/2];\n        }\n        // populate rest of elements of max array\n        // and add zeroes\n        if (eCount &gt; oCount)\n        {\n            for (int i=2*oCount,j=0;i&lt;2*eCount-1; i++)\n            {\n                if (i%2 == 0)\n                {\n                    resArr[i] = evenArr[oCount+j];\n                    j++;\n                }\n                else\n                    resArr[i] = 0;\n            }\n        }\n        else if (eCount &lt; oCount)\n        {\n            for (int i=2*eCount,j=0;i&lt;2*oCount; i++)\n            {\n                if ( i%2 != 0)\n                {\n                    resArr[i] = oddArr[eCount+j];\n                    j++;\n                }\n                else\n                    resArr[i] = 0;\n            }\n        }\n        return resArr;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14165201,"reputation":161,"user_id":10233351,"display_name":"RAJNISH YADAV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596007389,"creation_date":1596005076,"answer_id":63147795,"question_id":58684441,"body_markdown":"   ***Sort element based on index i.e if the element is even, it must be at even position and vise-versa***  \r\n    \r\n     int sortArrayByEvenOddIndex(int arr[]) {\r\n         int n = arr.length;\r\n         int res[] = new int[n];\r\n         int odd = 1;\r\n         int even = 0;\r\n        \r\n         for (int i = 0; i &lt; n; i++) {\r\n             if (arr[i] % 2 == 0) {\r\n                 res[even] = arr[i];\r\n                 even += 2;\r\n             } else {\r\n                 res[odd] = arr[i];\r\n                 odd += 2;\r\n             }\r\n         }\r\n         return  res;\r\n     }\r\n\r\n","title":"java assign even elements to even index and odd to odd places and if the numbers are not equal add zeros to the places","body":"<p><em><strong>Sort element based on index i.e if the element is even, it must be at even position and vise-versa</strong></em></p>\n<pre><code> int sortArrayByEvenOddIndex(int arr[]) {\n     int n = arr.length;\n     int res[] = new int[n];\n     int odd = 1;\n     int even = 0;\n    \n     for (int i = 0; i &lt; n; i++) {\n         if (arr[i] % 2 == 0) {\n             res[even] = arr[i];\n             even += 2;\n         } else {\n             res[odd] = arr[i];\n             odd += 2;\n         }\n     }\n     return  res;\n }\n</code></pre>\n"}],"owner":{"account_id":11828002,"reputation":103,"user_id":8655469,"accept_rate":50,"display_name":"a.p. patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675402545,"creation_date":1572813709,"question_id":58684441,"body_markdown":"I am trying to write code to display the even elements to even indexes and odd to odd indexes and if the numbers added numbers are same then add zeros accordingly.\r\n\r\nExample:\r\n\r\nx = [1,2,3,4]\r\noutput: 2 1 4 3\r\nx = [1 1 1 4]\r\noutput: 4 1 0 1 0 1\r\n\r\nI reached to get even and odd positions but stuck after that.\r\n\r\nBelow is my code.\r\n\r\n    import java.util.*;\r\n\r\n    class ArrayDemo3 {\r\n    \t\r\n        public static void main(String[] args) {\r\n    \t\tScanner s = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter Size of Array :: &quot;);\r\n    \t\tint size = s.nextInt();\r\n    \t\tint[] x = new int[size];\r\n\r\n    \t\tSystem.out.println(&quot;Array Created having the size :: &quot; + size);\r\n    \t\tSystem.out.println(&quot;Enter Elements for Array :: &quot;);\r\n    \t\tfor (int i = 0; i &lt; size; i++) {\r\n    \t\t\tSystem.out.println(&quot;Enter element no-&quot; + (i + 1) + &quot; ::&quot;);\r\n    \t\t\tx[i] = s.nextInt();\r\n    \t\t}\r\n\r\n    \t\tSystem.out.println(&quot;Contents of Array ::&quot;);\r\n    \t\tfor (int i = 0; i &lt; size; i++) {\r\n    \t\t\tSystem.out.print(x[i] + &quot;  &quot;);\r\n    \t\t}\r\n    \t\t\r\n            for (int i = 0; i &lt; size; i = i + 1) {\r\n                int even = 0;\r\n    \t \t    int odd = 1;\r\n    \t \t    if (i &lt; size &amp;&amp; x[i] % 2 == 0) {\r\n    \t \t        System.out.print(&quot;even : &quot;);\r\n    \t \t        even = even + i;\r\n    \t \t        System.out.print(&quot;position&quot; + i + &quot; &quot; + x[i] + &quot;  &quot;);\r\n    \t \t    } else {\r\n    \t \t        System.out.print(&quot;odd : &quot;);\r\n    \t \t        odd = odd + i;\r\n    \t \t        System.out.print(i + &quot; &quot; + x[i] + &quot;  &quot;);\r\n    \t \t    }\r\n             \tif (even &lt; size &amp;&amp; odd &lt; size) { \r\n    \t \t        int temp = x[even]; \r\n    \t \t        x[even] = x[odd]; \r\n    \t \t        x[odd] = temp; \r\n    \t \t    } else {\r\n    \t \t            \t\r\n    \t \t    }\r\n    \t \t    //System.out.print(x[i] + &quot;  &quot;);\r\n    \t    }\r\n        }\r\n\r\n    }\r\n\t     ","title":"java assign even elements to even index and odd to odd places and if the numbers are not equal add zeros to the places","body":"<p>I am trying to write code to display the even elements to even indexes and odd to odd indexes and if the numbers added numbers are same then add zeros accordingly.</p>\n<p>Example:</p>\n<p>x = [1,2,3,4]\noutput: 2 1 4 3\nx = [1 1 1 4]\noutput: 4 1 0 1 0 1</p>\n<p>I reached to get even and odd positions but stuck after that.</p>\n<p>Below is my code.</p>\n<pre><code>import java.util.*;\n\nclass ArrayDemo3 {\n    \n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Enter Size of Array :: &quot;);\n        int size = s.nextInt();\n        int[] x = new int[size];\n\n        System.out.println(&quot;Array Created having the size :: &quot; + size);\n        System.out.println(&quot;Enter Elements for Array :: &quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.println(&quot;Enter element no-&quot; + (i + 1) + &quot; ::&quot;);\n            x[i] = s.nextInt();\n        }\n\n        System.out.println(&quot;Contents of Array ::&quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.print(x[i] + &quot;  &quot;);\n        }\n        \n        for (int i = 0; i &lt; size; i = i + 1) {\n            int even = 0;\n            int odd = 1;\n            if (i &lt; size &amp;&amp; x[i] % 2 == 0) {\n                System.out.print(&quot;even : &quot;);\n                even = even + i;\n                System.out.print(&quot;position&quot; + i + &quot; &quot; + x[i] + &quot;  &quot;);\n            } else {\n                System.out.print(&quot;odd : &quot;);\n                odd = odd + i;\n                System.out.print(i + &quot; &quot; + x[i] + &quot;  &quot;);\n            }\n            if (even &lt; size &amp;&amp; odd &lt; size) { \n                int temp = x[even]; \n                x[even] = x[odd]; \n                x[odd] = temp; \n            } else {\n                        \n            }\n            //System.out.print(x[i] + &quot;  &quot;);\n        }\n    }\n\n}\n     \n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","aop","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402541,"creation_date":1558653569,"answer_id":56284028,"question_id":56278581,"body_markdown":"Your problem is due to the extra parameter `HttpServletRequest` in `logBefore`; which the aspect cannot bind to. If you need an argument from the join point; it is best to inspect it within the aspect. So your `logBefore` method should change from:\r\n\r\n```\r\n    @Before(CONTROLLER_EXPRESION)\r\n    public void logBefore(JoinPoint joinPoint, HttpServletRequest request) {\r\n\r\n    \t// ASPECT LOGIC\r\n    \t// ...\r\n    }\r\n```\r\nto this:\r\n\r\n```\r\n    @Before(CONTROLLER_EXPRESION)\r\n    public void logBefore(JoinPoint joinPoint) {\r\n    \tHttpServletRequest request = (HttpServletRequest)joinPoint.getArgs()[0];\r\n\r\n    \t// ASPECT LOGIC\r\n    \t// ...\r\n    }\r\n```\r\nHope this helps.\r\n","title":"Monitor method with Spring Aspect","body":"<p>Your problem is due to the extra parameter <code>HttpServletRequest</code> in <code>logBefore</code>; which the aspect cannot bind to. If you need an argument from the join point; it is best to inspect it within the aspect. So your <code>logBefore</code> method should change from:</p>\n<pre><code>    @Before(CONTROLLER_EXPRESION)\n    public void logBefore(JoinPoint joinPoint, HttpServletRequest request) {\n\n        // ASPECT LOGIC\n        // ...\n    }\n</code></pre>\n<p>to this:</p>\n<pre><code>    @Before(CONTROLLER_EXPRESION)\n    public void logBefore(JoinPoint joinPoint) {\n        HttpServletRequest request = (HttpServletRequest)joinPoint.getArgs()[0];\n\n        // ASPECT LOGIC\n        // ...\n    }\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675402541,"creation_date":1558625415,"question_id":56278581,"body_markdown":"I want to implement Spring Aspect for logging. I tried this implementation:\r\n\r\nAspect for logging:\r\n    \r\n        import org.apache.commons.lang.builder.ReflectionToStringBuilder;\r\n        import org.aspectj.lang.JoinPoint;\r\n        import org.aspectj.lang.ProceedingJoinPoint;\r\n        import org.aspectj.lang.annotation.*;\r\n        import org.slf4j.Logger;\r\n        import org.slf4j.LoggerFactory;\r\n        import org.springframework.stereotype.Component;\r\n        import javax.servlet.http.HttpServletRequest;\r\n        import java.util.Arrays;\r\n        import java.util.Enumeration;\r\n        \r\n        @Aspect\r\n        @Component\r\n        public class LoggingAspect {\r\n        \r\n            private static final String CONTROLLER_EXPRESION = &quot;within(@org.springframework.stereotype.Controller *) &amp;&amp; execution(* *.*(..))&quot;;\r\n            private static final Logger log = LoggerFactory.getLogger(LoggingAspect.class);\r\n        \r\n            /**\r\n             * Before -&gt; Any resource annotated with @Controller annotation and all method\r\n             * and function taking HttpServletRequest as first parameter.\r\n             *\r\n             * @param joinPoint\r\n             * @param request\r\n             */\r\n            @Before(CONTROLLER_EXPRESION)\r\n            public void logBefore(JoinPoint joinPoint, HttpServletRequest request) {\r\n        \r\n                log.debug(&quot;Entering in Method : {}&quot;, joinPoint.getSignature().getName());\r\n                log.debug(&quot;Class Name :  {}&quot;, joinPoint.getSignature().getDeclaringTypeName());\r\n                log.debug(&quot;Arguments :  {}&quot;, Arrays.toString(joinPoint.getArgs()));\r\n                log.debug(&quot;Target class : {}&quot;, joinPoint.getTarget().getClass().getName());\r\n        \r\n                if (null != request) {\r\n                    log.debug(&quot;Start Header Section of request &quot;);\r\n                    log.debug(&quot;Method Type : {}&quot;, request.getMethod());\r\n                    Enumeration headerNames = request.getHeaderNames();\r\n                    while (headerNames.hasMoreElements()) {\r\n                        String headerName = headerNames.nextElement().toString();\r\n                        String headerValue = request.getHeader(headerName);\r\n                        log.debug(&quot;Header Name: {} Header Value : {}&quot;, headerName, headerValue);\r\n                    }\r\n                    log.debug(&quot;Request Path info : {}&quot;, request.getServletPath());\r\n                    log.debug(&quot;End Header Section of request &quot;);\r\n                }\r\n            }\r\n        \r\n            /**\r\n             * After -&gt; All method within resource annotated with @Controller annotation.\r\n             *\r\n             * @param joinPoint\r\n             * @param result\r\n             */\r\n            @AfterReturning(pointcut = CONTROLLER_EXPRESION, returning = &quot;result&quot;)\r\n            public void logAfter(JoinPoint joinPoint, Object result) {\r\n                String returnValue = this.getValue(result);\r\n                log.debug(&quot;Method Return value : {}&quot;, returnValue);\r\n            }\r\n        \r\n            /**\r\n             * After -&gt; Any method within resource annotated with @Controller annotation and throws an exception ...Log it \r\n             * @param joinPoint\r\n             * @param exception\r\n             */\r\n            @AfterThrowing(pointcut = CONTROLLER_EXPRESION, throwing = &quot;exception&quot;)\r\n            public void logAfterThrowing(JoinPoint joinPoint, Throwable exception) {\r\n                log.error(&quot;An exception has been thrown in {} {}&quot;, joinPoint.getSignature().getName(), &quot; ()&quot;);\r\n                log.error(&quot;Cause : {}&quot;, exception.getCause());\r\n            }\r\n        \r\n            /**\r\n             * Around -&gt; Any method within resource annotated with @Controller annotation. \r\n             * @param joinPoint\r\n             * @return\r\n             * @throws Throwable\r\n             */\r\n            @Around(CONTROLLER_EXPRESION)\r\n            public Object logAround(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        \r\n                long start = System.currentTimeMillis();\r\n                try {\r\n                    String className = joinPoint.getSignature().getDeclaringTypeName();\r\n                    String methodName = joinPoint.getSignature().getName();\r\n                    Object result = joinPoint.proceed();\r\n                    long elapsedTime = System.currentTimeMillis() - start;\r\n                    log.debug(&quot;Method {}.{} () execution time :  {} ms&quot;, className, methodName, elapsedTime);\r\n        \r\n                    return result;\r\n                } catch (IllegalArgumentException e) {\r\n                    log.error(&quot;Illegal argument {} in {}()&quot;, Arrays.toString(joinPoint.getArgs()), joinPoint.getSignature().getName());\r\n                    throw e;\r\n                }\r\n            }\r\n        \r\n            private String getValue(Object result) {\r\n                String returnValue = null;\r\n                if (null != result) {\r\n                    if (result.toString().endsWith(&quot;@&quot; + Integer.toHexString(result.hashCode()))) {\r\n                        returnValue = ReflectionToStringBuilder.toString(result);\r\n                    } else {\r\n                        returnValue = result.toString();\r\n                    }\r\n                }\r\n                return returnValue;\r\n            }\r\n        }\r\n\r\nBut when I deploy the code on app server I get this error stack:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut \r\n\r\nThe Controller that I want to monitor is located under `org.rest.api.server.controller.Homecontroller` - Java method handle. Do I need to specify the exact path or I&#39;m missing something else?","title":"Monitor method with Spring Aspect","body":"<p>I want to implement Spring Aspect for logging. I tried this implementation:</p>\n\n<p>Aspect for logging:</p>\n\n<pre><code>    import org.apache.commons.lang.builder.ReflectionToStringBuilder;\n    import org.aspectj.lang.JoinPoint;\n    import org.aspectj.lang.ProceedingJoinPoint;\n    import org.aspectj.lang.annotation.*;\n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.stereotype.Component;\n    import javax.servlet.http.HttpServletRequest;\n    import java.util.Arrays;\n    import java.util.Enumeration;\n\n    @Aspect\n    @Component\n    public class LoggingAspect {\n\n        private static final String CONTROLLER_EXPRESION = \"within(@org.springframework.stereotype.Controller *) &amp;&amp; execution(* *.*(..))\";\n        private static final Logger log = LoggerFactory.getLogger(LoggingAspect.class);\n\n        /**\n         * Before -&gt; Any resource annotated with @Controller annotation and all method\n         * and function taking HttpServletRequest as first parameter.\n         *\n         * @param joinPoint\n         * @param request\n         */\n        @Before(CONTROLLER_EXPRESION)\n        public void logBefore(JoinPoint joinPoint, HttpServletRequest request) {\n\n            log.debug(\"Entering in Method : {}\", joinPoint.getSignature().getName());\n            log.debug(\"Class Name :  {}\", joinPoint.getSignature().getDeclaringTypeName());\n            log.debug(\"Arguments :  {}\", Arrays.toString(joinPoint.getArgs()));\n            log.debug(\"Target class : {}\", joinPoint.getTarget().getClass().getName());\n\n            if (null != request) {\n                log.debug(\"Start Header Section of request \");\n                log.debug(\"Method Type : {}\", request.getMethod());\n                Enumeration headerNames = request.getHeaderNames();\n                while (headerNames.hasMoreElements()) {\n                    String headerName = headerNames.nextElement().toString();\n                    String headerValue = request.getHeader(headerName);\n                    log.debug(\"Header Name: {} Header Value : {}\", headerName, headerValue);\n                }\n                log.debug(\"Request Path info : {}\", request.getServletPath());\n                log.debug(\"End Header Section of request \");\n            }\n        }\n\n        /**\n         * After -&gt; All method within resource annotated with @Controller annotation.\n         *\n         * @param joinPoint\n         * @param result\n         */\n        @AfterReturning(pointcut = CONTROLLER_EXPRESION, returning = \"result\")\n        public void logAfter(JoinPoint joinPoint, Object result) {\n            String returnValue = this.getValue(result);\n            log.debug(\"Method Return value : {}\", returnValue);\n        }\n\n        /**\n         * After -&gt; Any method within resource annotated with @Controller annotation and throws an exception ...Log it \n         * @param joinPoint\n         * @param exception\n         */\n        @AfterThrowing(pointcut = CONTROLLER_EXPRESION, throwing = \"exception\")\n        public void logAfterThrowing(JoinPoint joinPoint, Throwable exception) {\n            log.error(\"An exception has been thrown in {} {}\", joinPoint.getSignature().getName(), \" ()\");\n            log.error(\"Cause : {}\", exception.getCause());\n        }\n\n        /**\n         * Around -&gt; Any method within resource annotated with @Controller annotation. \n         * @param joinPoint\n         * @return\n         * @throws Throwable\n         */\n        @Around(CONTROLLER_EXPRESION)\n        public Object logAround(ProceedingJoinPoint joinPoint) throws Throwable {\n\n            long start = System.currentTimeMillis();\n            try {\n                String className = joinPoint.getSignature().getDeclaringTypeName();\n                String methodName = joinPoint.getSignature().getName();\n                Object result = joinPoint.proceed();\n                long elapsedTime = System.currentTimeMillis() - start;\n                log.debug(\"Method {}.{} () execution time :  {} ms\", className, methodName, elapsedTime);\n\n                return result;\n            } catch (IllegalArgumentException e) {\n                log.error(\"Illegal argument {} in {}()\", Arrays.toString(joinPoint.getArgs()), joinPoint.getSignature().getName());\n                throw e;\n            }\n        }\n\n        private String getValue(Object result) {\n            String returnValue = null;\n            if (null != result) {\n                if (result.toString().endsWith(\"@\" + Integer.toHexString(result.hashCode()))) {\n                    returnValue = ReflectionToStringBuilder.toString(result);\n                } else {\n                    returnValue = result.toString();\n                }\n            }\n            return returnValue;\n        }\n    }\n</code></pre>\n\n<p>But when I deploy the code on app server I get this error stack:</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut \n</code></pre>\n\n<p>The Controller that I want to monitor is located under <code>org.rest.api.server.controller.Homecontroller</code> - Java method handle. Do I need to specify the exact path or I'm missing something else?</p>\n"},{"tags":["java","javafx","java-8","treeview","tableview"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1558578455,"post_id":56267183,"comment_id":99150451,"body_markdown":"Looking for [`TreeTableView`](https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeTableView.html)?","body":"Looking for <a href=\"https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeTableView.html\" rel=\"nofollow noreferrer\"><code>TreeTableView</code></a>?"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675402537,"creation_date":1558578696,"answer_id":56267335,"question_id":56267183,"body_markdown":"You may want to check out [`TreeTableView`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TreeTableView.html). With it, you may be able to sort by whatever criteria you like, while at the same time having the records grouped by any other criteria (for example by `name`)\r\n\r\nThis component gets its data from a tree structure model built on the [`TreeItem`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TreeItem.html) class.\r\n\r\nWith it a root `TreeItem` can be built for the root object of your bill of materials having as children a `TreeItem` for each group you want (name of the material?). Then, each of these *grouping* `TreeItem` objects should contain as children the corresponding `TreeItem` children for each of the actual `material` in the bill of materials being displayed.\r\n\r\nThere are multiple good tutorials out there that cover in detail the technical aspects of this:\r\n\r\n- https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/tree-table-view.htm\r\n- https://o7planning.org/en/11149/javafx-treetableview-tutorial\r\n- https://examples.javacodegeeks.com/desktop-java/javafx/javafx-treetableview-example/\r\n\r\nHope this helps.","title":"Can I group rows in a Javafx TableView?","body":"<p>You may want to check out <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TreeTableView.html\" rel=\"nofollow noreferrer\"><code>TreeTableView</code></a>. With it, you may be able to sort by whatever criteria you like, while at the same time having the records grouped by any other criteria (for example by <code>name</code>)</p>\n<p>This component gets its data from a tree structure model built on the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/TreeItem.html\" rel=\"nofollow noreferrer\"><code>TreeItem</code></a> class.</p>\n<p>With it a root <code>TreeItem</code> can be built for the root object of your bill of materials having as children a <code>TreeItem</code> for each group you want (name of the material?). Then, each of these <em>grouping</em> <code>TreeItem</code> objects should contain as children the corresponding <code>TreeItem</code> children for each of the actual <code>material</code> in the bill of materials being displayed.</p>\n<p>There are multiple good tutorials out there that cover in detail the technical aspects of this:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/tree-table-view.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/tree-table-view.htm</a></li>\n<li><a href=\"https://o7planning.org/en/11149/javafx-treetableview-tutorial\" rel=\"nofollow noreferrer\">https://o7planning.org/en/11149/javafx-treetableview-tutorial</a></li>\n<li><a href=\"https://examples.javacodegeeks.com/desktop-java/javafx/javafx-treetableview-example/\" rel=\"nofollow noreferrer\">https://examples.javacodegeeks.com/desktop-java/javafx/javafx-treetableview-example/</a></li>\n</ul>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635371373,"creation_date":1635371373,"answer_id":69745856,"question_id":56267183,"body_markdown":"This answer uses a TreeTableView to represent the data rather than a TableView.\r\n\r\nIt uses a demonstration data model with hard-coded data.\r\n\r\nThe complicated nested lambda expressions could be replaced by procedural code mapping your actual model data to the TreeItem data structure which backs the TreeTableView.\r\n\r\n[![screenshot][1]][1]\r\n\r\n    import java.util.*;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.property.*;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.stage.Stage;\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public class TreeTableViewSample extends Application {\r\n    \r\n        private final List&lt;String&gt; employeesNames = Arrays.asList(\r\n                &quot;Ethan Williams&quot;,\r\n                &quot;Emma Jones&quot;,\r\n                &quot;Michael Brown&quot;\r\n        );\r\n    \r\n        private final Random random = new Random(42);\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ObservableList&lt;DutyAssignment&gt; assignments =\r\n                    determineAssignments(employeesNames);\r\n    \r\n            TreeItem&lt;DutyAssignment&gt; assignmentTree = createAssignmentTree(assignments);\r\n            TreeTableView&lt;DutyAssignment&gt; dutyAssignmentView = createAssigmentTreeTableView(assignmentTree);\r\n    \r\n            stage.setScene(new Scene(dutyAssignmentView));\r\n            stage.show();\r\n        }\r\n    \r\n        private TreeTableView&lt;DutyAssignment&gt; createAssigmentTreeTableView(TreeItem&lt;DutyAssignment&gt; root) {\r\n            TreeTableColumn&lt;DutyAssignment, String&gt; employeeColumn =\r\n                    new TreeTableColumn&lt;&gt;(&quot;Employee&quot;);\r\n            employeeColumn.setPrefWidth(120);\r\n            employeeColumn.setCellValueFactory(\r\n                    param -&gt; param.getValue().getValue().nameProperty()\r\n            );\r\n    \r\n            TreeTableColumn&lt;DutyAssignment, Workday&gt; dayColumn =\r\n                    new TreeTableColumn&lt;&gt;(&quot;Day&quot;);\r\n            dayColumn.setPrefWidth(100);\r\n            dayColumn.setCellValueFactory(param -&gt;\r\n                    param.getValue().getValue().dayProperty()\r\n            );\r\n    \r\n            TreeTableColumn&lt;DutyAssignment, Duty&gt; dutyColumn =\r\n                    new TreeTableColumn&lt;&gt;(&quot;Duty&quot;);\r\n            dutyColumn.setPrefWidth(100);\r\n            dutyColumn.setCellValueFactory(param -&gt;\r\n                    param.getValue().getValue().dutyProperty()\r\n            );\r\n    \r\n            TreeTableView&lt;DutyAssignment&gt; dutyAssignmentView = new TreeTableView&lt;&gt;(root);\r\n            dutyAssignmentView.getColumns().setAll(employeeColumn, dayColumn, dutyColumn);\r\n            dutyAssignmentView.setShowRoot(false);\r\n            dutyAssignmentView.setPrefSize(380, 500);\r\n            \r\n            return dutyAssignmentView;\r\n        }\r\n    \r\n        private TreeItem&lt;DutyAssignment&gt; createAssignmentTree(ObservableList&lt;DutyAssignment&gt; assignments) {\r\n            TreeItem&lt;DutyAssignment&gt; root = new TreeItem&lt;&gt;(\r\n                    new DutyAssignment(&quot;All Assignments&quot;, null, null)\r\n            );\r\n            root.setExpanded(true);\r\n            employeesNames.stream()\r\n                    .sorted()\r\n                    .forEach(employeeName -&gt; {\r\n                        TreeItem&lt;DutyAssignment&gt; employeeTitleItem = new TreeItem&lt;&gt;(\r\n                                new DutyAssignment(employeeName, null, null)\r\n                        );\r\n                        root.getChildren().add(employeeTitleItem);\r\n                        employeeTitleItem.setExpanded(true);\r\n    \r\n                        assignments.stream()\r\n                                .sorted()\r\n                                .filter(assignment -&gt; employeeName.equals(assignment.getName()))\r\n                                .forEach(dutyAssignment -&gt; {\r\n                                    TreeItem&lt;DutyAssignment&gt; assignmentLineItem = new TreeItem&lt;&gt;(\r\n                                            new DutyAssignment(null, dutyAssignment.getDay(), dutyAssignment.getDuty())\r\n                                    );\r\n                                    employeeTitleItem.getChildren().add(assignmentLineItem);\r\n                                });\r\n                    });\r\n            \r\n            return root;\r\n        }\r\n    \r\n        private ObservableList&lt;DutyAssignment&gt; determineAssignments(List&lt;String&gt; employeesNames) {\r\n            ObservableList&lt;DutyAssignment&gt; assignments = FXCollections.observableArrayList();\r\n    \r\n            for (String employeeName : employeesNames) {\r\n                for (Workday day : Workday.values()) {\r\n                    assignments.add(\r\n                            new DutyAssignment(\r\n                                    employeeName,\r\n                                    day,\r\n                                    selectRandomDuty()\r\n                            )\r\n                    );\r\n                }\r\n            }\r\n    \r\n            return assignments;\r\n        }\r\n    \r\n        private Duty selectRandomDuty() {\r\n            return\r\n                    Duty.values()[\r\n                            random.nextInt(\r\n                                    Duty.values().length\r\n                            )\r\n                    ];\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(TreeTableViewSample.class, args);\r\n        }\r\n    \r\n        public class DutyAssignment implements Comparable&lt;DutyAssignment&gt; {\r\n            final private SimpleStringProperty name = new SimpleStringProperty();\r\n            final private SimpleObjectProperty&lt;Workday&gt; day = new SimpleObjectProperty&lt;&gt;();\r\n            final private SimpleObjectProperty&lt;Duty&gt; duty = new SimpleObjectProperty&lt;&gt;();\r\n    \r\n            final private Comparator&lt;DutyAssignment&gt; nameDayDutyComparator =\r\n                    Comparator.comparing(DutyAssignment::getName)\r\n                            .thenComparing(DutyAssignment::getDay)\r\n                            .thenComparing(DutyAssignment::getDuty);\r\n    \r\n            public DutyAssignment(String name, Workday day, Duty duty) {\r\n                setName(name);\r\n                setDay(day);\r\n                setDuty(duty);\r\n            }\r\n    \r\n            public String getName() {\r\n                return name.get();\r\n            }\r\n    \r\n            public SimpleStringProperty nameProperty() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name.set(name);\r\n            }\r\n    \r\n            public Workday getDay() {\r\n                return day.get();\r\n            }\r\n    \r\n            public SimpleObjectProperty&lt;Workday&gt; dayProperty() {\r\n                return day;\r\n            }\r\n    \r\n            public void setDay(Workday day) {\r\n                this.day.set(day);\r\n            }\r\n    \r\n            public Duty getDuty() {\r\n                return duty.get();\r\n            }\r\n    \r\n            public SimpleObjectProperty&lt;Duty&gt; dutyProperty() {\r\n                return duty;\r\n            }\r\n    \r\n            public void setDuty(Duty duty) {\r\n                this.duty.set(duty);\r\n            }\r\n    \r\n            @Override\r\n            public int compareTo(DutyAssignment o) {\r\n                return nameDayDutyComparator.compare(this, o);\r\n            }\r\n        }\r\n    \r\n        public enum Duty {\r\n            WRITING, EDITING, COLORING, COMPOSITING\r\n        }\r\n    \r\n        public enum Workday {\r\n            MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/0JEEr.png","title":"Can I group rows in a Javafx TableView?","body":"<p>This answer uses a TreeTableView to represent the data rather than a TableView.</p>\n<p>It uses a demonstration data model with hard-coded data.</p>\n<p>The complicated nested lambda expressions could be replaced by procedural code mapping your actual model data to the TreeItem data structure which backs the TreeTableView.</p>\n<p><a href=\"https://i.stack.imgur.com/0JEEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0JEEr.png\" alt=\"screenshot\" /></a></p>\n<pre><code>import java.util.*;\n\nimport javafx.application.Application;\nimport javafx.beans.property.*;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.stage.Stage;\n\n@SuppressWarnings(&quot;unchecked&quot;)\npublic class TreeTableViewSample extends Application {\n\n    private final List&lt;String&gt; employeesNames = Arrays.asList(\n            &quot;Ethan Williams&quot;,\n            &quot;Emma Jones&quot;,\n            &quot;Michael Brown&quot;\n    );\n\n    private final Random random = new Random(42);\n\n    @Override\n    public void start(Stage stage) {\n        ObservableList&lt;DutyAssignment&gt; assignments =\n                determineAssignments(employeesNames);\n\n        TreeItem&lt;DutyAssignment&gt; assignmentTree = createAssignmentTree(assignments);\n        TreeTableView&lt;DutyAssignment&gt; dutyAssignmentView = createAssigmentTreeTableView(assignmentTree);\n\n        stage.setScene(new Scene(dutyAssignmentView));\n        stage.show();\n    }\n\n    private TreeTableView&lt;DutyAssignment&gt; createAssigmentTreeTableView(TreeItem&lt;DutyAssignment&gt; root) {\n        TreeTableColumn&lt;DutyAssignment, String&gt; employeeColumn =\n                new TreeTableColumn&lt;&gt;(&quot;Employee&quot;);\n        employeeColumn.setPrefWidth(120);\n        employeeColumn.setCellValueFactory(\n                param -&gt; param.getValue().getValue().nameProperty()\n        );\n\n        TreeTableColumn&lt;DutyAssignment, Workday&gt; dayColumn =\n                new TreeTableColumn&lt;&gt;(&quot;Day&quot;);\n        dayColumn.setPrefWidth(100);\n        dayColumn.setCellValueFactory(param -&gt;\n                param.getValue().getValue().dayProperty()\n        );\n\n        TreeTableColumn&lt;DutyAssignment, Duty&gt; dutyColumn =\n                new TreeTableColumn&lt;&gt;(&quot;Duty&quot;);\n        dutyColumn.setPrefWidth(100);\n        dutyColumn.setCellValueFactory(param -&gt;\n                param.getValue().getValue().dutyProperty()\n        );\n\n        TreeTableView&lt;DutyAssignment&gt; dutyAssignmentView = new TreeTableView&lt;&gt;(root);\n        dutyAssignmentView.getColumns().setAll(employeeColumn, dayColumn, dutyColumn);\n        dutyAssignmentView.setShowRoot(false);\n        dutyAssignmentView.setPrefSize(380, 500);\n        \n        return dutyAssignmentView;\n    }\n\n    private TreeItem&lt;DutyAssignment&gt; createAssignmentTree(ObservableList&lt;DutyAssignment&gt; assignments) {\n        TreeItem&lt;DutyAssignment&gt; root = new TreeItem&lt;&gt;(\n                new DutyAssignment(&quot;All Assignments&quot;, null, null)\n        );\n        root.setExpanded(true);\n        employeesNames.stream()\n                .sorted()\n                .forEach(employeeName -&gt; {\n                    TreeItem&lt;DutyAssignment&gt; employeeTitleItem = new TreeItem&lt;&gt;(\n                            new DutyAssignment(employeeName, null, null)\n                    );\n                    root.getChildren().add(employeeTitleItem);\n                    employeeTitleItem.setExpanded(true);\n\n                    assignments.stream()\n                            .sorted()\n                            .filter(assignment -&gt; employeeName.equals(assignment.getName()))\n                            .forEach(dutyAssignment -&gt; {\n                                TreeItem&lt;DutyAssignment&gt; assignmentLineItem = new TreeItem&lt;&gt;(\n                                        new DutyAssignment(null, dutyAssignment.getDay(), dutyAssignment.getDuty())\n                                );\n                                employeeTitleItem.getChildren().add(assignmentLineItem);\n                            });\n                });\n        \n        return root;\n    }\n\n    private ObservableList&lt;DutyAssignment&gt; determineAssignments(List&lt;String&gt; employeesNames) {\n        ObservableList&lt;DutyAssignment&gt; assignments = FXCollections.observableArrayList();\n\n        for (String employeeName : employeesNames) {\n            for (Workday day : Workday.values()) {\n                assignments.add(\n                        new DutyAssignment(\n                                employeeName,\n                                day,\n                                selectRandomDuty()\n                        )\n                );\n            }\n        }\n\n        return assignments;\n    }\n\n    private Duty selectRandomDuty() {\n        return\n                Duty.values()[\n                        random.nextInt(\n                                Duty.values().length\n                        )\n                ];\n    }\n\n    public static void main(String[] args) {\n        Application.launch(TreeTableViewSample.class, args);\n    }\n\n    public class DutyAssignment implements Comparable&lt;DutyAssignment&gt; {\n        final private SimpleStringProperty name = new SimpleStringProperty();\n        final private SimpleObjectProperty&lt;Workday&gt; day = new SimpleObjectProperty&lt;&gt;();\n        final private SimpleObjectProperty&lt;Duty&gt; duty = new SimpleObjectProperty&lt;&gt;();\n\n        final private Comparator&lt;DutyAssignment&gt; nameDayDutyComparator =\n                Comparator.comparing(DutyAssignment::getName)\n                        .thenComparing(DutyAssignment::getDay)\n                        .thenComparing(DutyAssignment::getDuty);\n\n        public DutyAssignment(String name, Workday day, Duty duty) {\n            setName(name);\n            setDay(day);\n            setDuty(duty);\n        }\n\n        public String getName() {\n            return name.get();\n        }\n\n        public SimpleStringProperty nameProperty() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name.set(name);\n        }\n\n        public Workday getDay() {\n            return day.get();\n        }\n\n        public SimpleObjectProperty&lt;Workday&gt; dayProperty() {\n            return day;\n        }\n\n        public void setDay(Workday day) {\n            this.day.set(day);\n        }\n\n        public Duty getDuty() {\n            return duty.get();\n        }\n\n        public SimpleObjectProperty&lt;Duty&gt; dutyProperty() {\n            return duty;\n        }\n\n        public void setDuty(Duty duty) {\n            this.duty.set(duty);\n        }\n\n        @Override\n        public int compareTo(DutyAssignment o) {\n            return nameDayDutyComparator.compare(this, o);\n        }\n    }\n\n    public enum Duty {\n        WRITING, EDITING, COLORING, COMPOSITING\n    }\n\n    public enum Workday {\n        MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12267166,"reputation":35,"user_id":8953385,"display_name":"Megabuttons"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56267335,"answer_count":2,"score":2,"last_activity_date":1675402537,"creation_date":1558577181,"question_id":56267183,"body_markdown":"I&#39;d like to make a javafx TableView with rows that may (or may not) have &quot;related&quot; rows. Basically, I think it might be a tableview of tableviews, but (a) I&#39;m not sure that would work and (b) my gut tells me there&#39;s an easier way.\r\n\r\nImagine a bill or materials like\r\n```\r\nitem    material    quantity    name\r\n1       wood        1           base\r\n2       wood        4           drawer\r\n        wood        4           drawer sides\r\n        wood        1           drawer base\r\n        hardware    1           pull\r\n        hardware    8           nails\r\n3       aluminum    4           leg\r\n        plastic     1           foot\r\n        hardware    1           screws\r\n```\r\n\r\nRight now, it&#39;s sorted by name (base, drawer, leg). If I sort it by material, I want the items to be 3, 1, 2 (or 3, 2, 1): aluminum, wood, wood. I need the &quot;subitems&quot; to remain with the numbered items.\r\n\r\nCan I make &quot;complex rows&quot;? (And I don&#39;t even know what I&#39;d call it!)\r\nOr do I need a custom sort that will keep groups together?","title":"Can I group rows in a Javafx TableView?","body":"<p>I'd like to make a javafx TableView with rows that may (or may not) have \"related\" rows. Basically, I think it might be a tableview of tableviews, but (a) I'm not sure that would work and (b) my gut tells me there's an easier way.</p>\n\n<p>Imagine a bill or materials like</p>\n\n<pre><code>item    material    quantity    name\n1       wood        1           base\n2       wood        4           drawer\n        wood        4           drawer sides\n        wood        1           drawer base\n        hardware    1           pull\n        hardware    8           nails\n3       aluminum    4           leg\n        plastic     1           foot\n        hardware    1           screws\n</code></pre>\n\n<p>Right now, it's sorted by name (base, drawer, leg). If I sort it by material, I want the items to be 3, 1, 2 (or 3, 2, 1): aluminum, wood, wood. I need the \"subitems\" to remain with the numbered items.</p>\n\n<p>Can I make \"complex rows\"? (And I don't even know what I'd call it!)\nOr do I need a custom sort that will keep groups together?</p>\n"},{"tags":["java","xml","javafx","java-8","jaxb"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675402533,"creation_date":1558574545,"answer_id":56266915,"question_id":56266633,"body_markdown":"If you have getter and setters for a field of the same name, then you need to use `XmlAccessType.PROPERTY` rather than `XmlAccessType.FIELD`:\r\n\r\n```\r\n\t@XmlRootElement\r\n\t@XmlAccessorType(XmlAccessType.PROPERTY)\r\n\tpublic static class ImageCap {\r\n\t\tprivate String filePath;\r\n\t\tprivate String caption;\r\n\t\t\r\n...\r\n```\r\n\r\nAlso, another problem that you will encounter is that you misspelled `getCaption`**`s`**`()` as plural, when it should be `getCaption()`. JAXB will complain about it as well.\r\n\r\nFinally, by marshaling your file inside the loop, you are rewriting over and over the same file with the currently processed `imageCap`. If what you want is to marshall all `imageCap`s you need to put them on a `List` and marshall the `List` instead. In order to do that you&#39;d need a new JAXB model class like:\r\n\r\n```\r\n\t@XmlRootElement(name = &quot;myImageCapList&quot;)\r\n\tclass ImageCapList {\r\n\t\t@XmlElement\r\n\t\tList&lt;ImageCap&gt; imageCap;\r\n\r\n\t\tpublic ImageCapList() {}\r\n\r\n\t\tpublic ImageCapList(List&lt;ImageCap&gt; imageCaps) {\r\n\t\t\tthis.imageCap = imageCaps;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nand you&#39;d need to create an instance of this object wrapping your list of `ImageCap` objects (`List&lt;ImageCap&gt;`) and use it as the target to invoke the `jaxbMarshaller.marshal` method as shown in the following method:\r\n\r\n```\r\n\tpublic void imageCapsMarshal(List&lt;ImageCap&gt; imageCaps, File outFile) {\r\n\t\ttry {\r\n\t\t\tjaxbMarshaller.marshal(new ImageCapList(imageCaps), outFile);\r\n\t\t} catch (JAXBException e) {\r\n\t\t\t// HANDLE EXCEPTIONS\r\n\t\t}\r\n\t}\r\n```\r\nalso, you&#39;ll need to instantiate your `JAXBContext` appropriately: \r\n\r\n```\r\n\tjaxbContext = JAXBContext.newInstance(ImageCapList.class);\r\n```\r\nThe following is a complete working demo of this for you to play with:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.JAXBException;\r\nimport javax.xml.bind.Marshaller;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\npublic class JAXBMarshall {\r\n\t\r\n\tprivate JAXBContext jaxbContext;\r\n\tprivate Marshaller jaxbMarshaller;\r\n\r\n\tpublic JAXBMarshall() throws JAXBException {\r\n\t\tjaxbContext = JAXBContext.newInstance(ImageCapList.class);\r\n\t\tjaxbMarshaller = jaxbContext.createMarshaller();\r\n\t\tjaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t}\r\n\r\n\tpublic void imageCapsMarshal(List&lt;ImageCap&gt; imageCaps, File outFile) {\r\n\t\ttry {\r\n\t\t\tjaxbMarshaller.marshal(new ImageCapList(imageCaps), outFile);\r\n\t\t} catch (JAXBException e) {\r\n\t\t\t// HANDLE EXCEPTIONS\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tpublic static void main(String[] args) throws JAXBException {\r\n\t\tJAXBMarshall jaxbMarshaller = new JAXBMarshall();\r\n\r\n\t\tFile file = new File(&quot;file.xml&quot;);\r\n\t\tList&lt;ImageCap&gt; imageCaps = IntStream.range(0, 10)\r\n\t\t\t\t.mapToObj(idx -&gt; new ImageCap(&quot;my/file/path/&quot; + idx, idx + &quot;. The Caption!&quot;))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\tjaxbMarshaller.imageCapsMarshal(imageCaps, file);\r\n\t}\r\n\r\n\t@XmlRootElement(name = &quot;myImageCapList&quot;)\r\n\tstatic class ImageCapList {\r\n\t\t@XmlElement\r\n\t\tList&lt;ImageCap&gt; imageCap;\r\n\r\n\t\tpublic ImageCapList() {}\r\n\r\n\t\tpublic ImageCapList(List&lt;ImageCap&gt; imageCaps) {\r\n\t\t\tthis.imageCap = imageCaps;\r\n\t\t}\r\n\t}\r\n\r\n\t@XmlRootElement\r\n\tstatic class ImageCap {\r\n\t\t@XmlElement\r\n\t\tString filePath;\r\n\r\n\t\t@XmlElement\r\n\t\tString caption;\r\n\t\t\r\n\t\tpublic ImageCap() {}\r\n\t\t\r\n\t\tpublic ImageCap(String filePath, String caption) {\r\n\t\t\tthis.filePath = filePath;\r\n\t\t\tthis.caption = caption;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;ImageCap{&quot; + &quot;filePath=&quot; + filePath + &quot;, caption=&quot; + caption + &#39;}&#39;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56266915)\r\n\r\nHope this helps.","title":"XML JAXB marshall not saving to xml file","body":"<p>If you have getter and setters for a field of the same name, then you need to use <code>XmlAccessType.PROPERTY</code> rather than <code>XmlAccessType.FIELD</code>:</p>\n<pre><code>    @XmlRootElement\n    @XmlAccessorType(XmlAccessType.PROPERTY)\n    public static class ImageCap {\n        private String filePath;\n        private String caption;\n        \n...\n</code></pre>\n<p>Also, another problem that you will encounter is that you misspelled <code>getCaption</code><strong><code>s</code></strong><code>()</code> as plural, when it should be <code>getCaption()</code>. JAXB will complain about it as well.</p>\n<p>Finally, by marshaling your file inside the loop, you are rewriting over and over the same file with the currently processed <code>imageCap</code>. If what you want is to marshall all <code>imageCap</code>s you need to put them on a <code>List</code> and marshall the <code>List</code> instead. In order to do that you'd need a new JAXB model class like:</p>\n<pre><code>    @XmlRootElement(name = &quot;myImageCapList&quot;)\n    class ImageCapList {\n        @XmlElement\n        List&lt;ImageCap&gt; imageCap;\n\n        public ImageCapList() {}\n\n        public ImageCapList(List&lt;ImageCap&gt; imageCaps) {\n            this.imageCap = imageCaps;\n        }\n    }\n</code></pre>\n<p>and you'd need to create an instance of this object wrapping your list of <code>ImageCap</code> objects (<code>List&lt;ImageCap&gt;</code>) and use it as the target to invoke the <code>jaxbMarshaller.marshal</code> method as shown in the following method:</p>\n<pre><code>    public void imageCapsMarshal(List&lt;ImageCap&gt; imageCaps, File outFile) {\n        try {\n            jaxbMarshaller.marshal(new ImageCapList(imageCaps), outFile);\n        } catch (JAXBException e) {\n            // HANDLE EXCEPTIONS\n        }\n    }\n</code></pre>\n<p>also, you'll need to instantiate your <code>JAXBContext</code> appropriately:</p>\n<pre><code>    jaxbContext = JAXBContext.newInstance(ImageCapList.class);\n</code></pre>\n<p>The following is a complete working demo of this for you to play with:</p>\n<pre><code>import java.io.File;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Marshaller;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n\npublic class JAXBMarshall {\n    \n    private JAXBContext jaxbContext;\n    private Marshaller jaxbMarshaller;\n\n    public JAXBMarshall() throws JAXBException {\n        jaxbContext = JAXBContext.newInstance(ImageCapList.class);\n        jaxbMarshaller = jaxbContext.createMarshaller();\n        jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n    }\n\n    public void imageCapsMarshal(List&lt;ImageCap&gt; imageCaps, File outFile) {\n        try {\n            jaxbMarshaller.marshal(new ImageCapList(imageCaps), outFile);\n        } catch (JAXBException e) {\n            // HANDLE EXCEPTIONS\n        }\n    }\n\n    \n    public static void main(String[] args) throws JAXBException {\n        JAXBMarshall jaxbMarshaller = new JAXBMarshall();\n\n        File file = new File(&quot;file.xml&quot;);\n        List&lt;ImageCap&gt; imageCaps = IntStream.range(0, 10)\n                .mapToObj(idx -&gt; new ImageCap(&quot;my/file/path/&quot; + idx, idx + &quot;. The Caption!&quot;))\n                .collect(Collectors.toList());\n        jaxbMarshaller.imageCapsMarshal(imageCaps, file);\n    }\n\n    @XmlRootElement(name = &quot;myImageCapList&quot;)\n    static class ImageCapList {\n        @XmlElement\n        List&lt;ImageCap&gt; imageCap;\n\n        public ImageCapList() {}\n\n        public ImageCapList(List&lt;ImageCap&gt; imageCaps) {\n            this.imageCap = imageCaps;\n        }\n    }\n\n    @XmlRootElement\n    static class ImageCap {\n        @XmlElement\n        String filePath;\n\n        @XmlElement\n        String caption;\n        \n        public ImageCap() {}\n        \n        public ImageCap(String filePath, String caption) {\n            this.filePath = filePath;\n            this.caption = caption;\n        }\n        \n        @Override\n        public String toString() {\n            return &quot;ImageCap{&quot; + &quot;filePath=&quot; + filePath + &quot;, caption=&quot; + caption + '}';\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56266915\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":14259657,"reputation":27,"user_id":10300866,"display_name":"Zieryn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56266915,"answer_count":1,"score":1,"last_activity_date":1675402533,"creation_date":1558571557,"question_id":56266633,"body_markdown":"I have a javafx program that brings up a filechooser to allow a user to pick and image an display it to a grid view with an inserted caption that pops up after an image was pciked. I save both the filepath and the caption to different arraylists [for now] and my goal is to save both to xml file so that I can unmarshall it when the application is re opened so the images would still be there. Right now I just want to be able to save the two strings to an xml file and then figure out the rest later. I am currently able to run my code with no errors until I reach my stop method where I try to save every image and caption the user has added to the array lists.\r\n\r\n\r\nMy JAXB Annotation:\r\n```\r\n@XmlRootElement\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class ImageCap {\r\n    private String filePath;\r\n    private String caption;\r\n\r\n    public ImageCap() {\r\n    }\r\n\r\n    public ImageCap(String filePath, String caption) {\r\n        this.filePath = filePath;\r\n        this.caption = caption;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ImageCap{&quot; + &quot;filePath=&quot; + filePath + &quot;, caption=&quot; + caption + &#39;}&#39;;\r\n    }\r\n\r\n    public String getFilePath() {\r\n  \t\treturn filePath;\r\n  \t}\r\n\r\n    @XmlElement\r\n    \tpublic void setFilePath(String filePath) {\r\n    \t\tthis.filePath = filePath;\r\n    \t}\r\n\r\n      public String getCaptions() {\r\n    \t\treturn caption;\r\n    \t}\r\n\r\n      @XmlElement\r\n      \tpublic void setCaption(String caption) {\r\n      \t\tthis.caption = caption;\r\n      \t}\r\n\r\n    }\r\n```\r\nAnd my main to test:\r\n\r\n```\r\npublic static void main(String[] args) {launch(args);}\r\n\r\n  public void start(Stage primaryStage) throws JAXBException{\r\n\r\n  final JFXPanel bananarama = new JFXPanel();\r\n\r\n  //import the library (read))\r\n\r\n  // create the (initial) display\r\n  display.makeBrowseButton(primaryStage);\r\n  display.createDisplay(primaryStage);\r\n\r\n  // show user\r\n  primaryStage.show();\r\n\r\n\r\n\r\n}@Override\r\npublic void stop() throws JAXBException{\r\n  File file = new File(&quot;file.xml&quot;);\r\n  JAXBContext jaxbContext = JAXBContext.newInstance(ImageCap.class);\r\n  Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\r\n\r\n//this.context = JAXBContext.newInstance(ImageCap.class);\r\n  //Marshaller marshaller = context.createMarshaller();\r\n  for(int i = 0; i &lt; display.filePaths.size(); i++)\r\n{\r\n  ImageCap imageCap = new ImageCap();\r\n\r\n   imageCap.setFilePath(display.filePaths.get(i));\r\n   imageCap.setCaption(display.captions.get(i).toString());\r\n\r\nSystem.out.println(display.filePaths.get(i).toString());\r\n   try {\r\n\r\n   // output pretty printed\r\n   jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\n   jaxbMarshaller.marshal(imageCap, file);\r\n\r\n\r\n       } catch (JAXBException e) {\r\n   e.printStackTrace();\r\n       }\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere are my errors after the stop command:\r\n```Class has two properties of the same name &quot;caption&quot;\r\n\tthis problem is related to the following location:\r\n\t\tat public void ImageCap.setCaption(java.lang.String)\r\n\t\tat ImageCap\r\n\tthis problem is related to the following location:\r\n\t\tat private java.lang.String ImageCap.caption\r\n\t\tat ImageCap\r\n    Class has two properties of the same name &quot;filePath&quot;\r\n\tthis problem is related to the following location:\r\n\t\tat public java.lang.String ImageCap.getFilePath()\r\n\t\tat ImageCap\r\n\tthis problem is related to the following location:\r\n\t\tat private java.lang.String ImageCap.filePath\r\n\t\tat ImageCap\r\n```\r\n\r\nbut it specically cuts off at line 81 which is: \r\n``` JAXBContext jaxbContext = JAXBContext.newInstance(ImageCap.class);```\r\n\r\nany ideas why?","title":"XML JAXB marshall not saving to xml file","body":"<p>I have a javafx program that brings up a filechooser to allow a user to pick and image an display it to a grid view with an inserted caption that pops up after an image was pciked. I save both the filepath and the caption to different arraylists [for now] and my goal is to save both to xml file so that I can unmarshall it when the application is re opened so the images would still be there. Right now I just want to be able to save the two strings to an xml file and then figure out the rest later. I am currently able to run my code with no errors until I reach my stop method where I try to save every image and caption the user has added to the array lists.</p>\n\n<p>My JAXB Annotation:</p>\n\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class ImageCap {\n    private String filePath;\n    private String caption;\n\n    public ImageCap() {\n    }\n\n    public ImageCap(String filePath, String caption) {\n        this.filePath = filePath;\n        this.caption = caption;\n    }\n\n    @Override\n    public String toString() {\n        return \"ImageCap{\" + \"filePath=\" + filePath + \", caption=\" + caption + '}';\n    }\n\n    public String getFilePath() {\n        return filePath;\n    }\n\n    @XmlElement\n        public void setFilePath(String filePath) {\n            this.filePath = filePath;\n        }\n\n      public String getCaptions() {\n            return caption;\n        }\n\n      @XmlElement\n        public void setCaption(String caption) {\n            this.caption = caption;\n        }\n\n    }\n</code></pre>\n\n<p>And my main to test:</p>\n\n<pre><code>public static void main(String[] args) {launch(args);}\n\n  public void start(Stage primaryStage) throws JAXBException{\n\n  final JFXPanel bananarama = new JFXPanel();\n\n  //import the library (read))\n\n  // create the (initial) display\n  display.makeBrowseButton(primaryStage);\n  display.createDisplay(primaryStage);\n\n  // show user\n  primaryStage.show();\n\n\n\n}@Override\npublic void stop() throws JAXBException{\n  File file = new File(\"file.xml\");\n  JAXBContext jaxbContext = JAXBContext.newInstance(ImageCap.class);\n  Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\n\n//this.context = JAXBContext.newInstance(ImageCap.class);\n  //Marshaller marshaller = context.createMarshaller();\n  for(int i = 0; i &lt; display.filePaths.size(); i++)\n{\n  ImageCap imageCap = new ImageCap();\n\n   imageCap.setFilePath(display.filePaths.get(i));\n   imageCap.setCaption(display.captions.get(i).toString());\n\nSystem.out.println(display.filePaths.get(i).toString());\n   try {\n\n   // output pretty printed\n   jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\n   jaxbMarshaller.marshal(imageCap, file);\n\n\n       } catch (JAXBException e) {\n   e.printStackTrace();\n       }\n\n  }\n}\n\n\n\n</code></pre>\n\n<p>Here are my errors after the stop command:</p>\n\n<pre><code>    this problem is related to the following location:\n        at public void ImageCap.setCaption(java.lang.String)\n        at ImageCap\n    this problem is related to the following location:\n        at private java.lang.String ImageCap.caption\n        at ImageCap\n    Class has two properties of the same name \"filePath\"\n    this problem is related to the following location:\n        at public java.lang.String ImageCap.getFilePath()\n        at ImageCap\n    this problem is related to the following location:\n        at private java.lang.String ImageCap.filePath\n        at ImageCap\n</code></pre>\n\n<p>but it specically cuts off at line 81 which is: \n<code>JAXBContext jaxbContext = JAXBContext.newInstance(ImageCap.class);</code></p>\n\n<p>any ideas why?</p>\n"},{"tags":["java","multithreading","algorithm","design-patterns","java-8"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1558569203,"post_id":56266299,"comment_id":99148849,"body_markdown":"Look into CompletableFuture.","body":"Look into CompletableFuture."},{"owner":{"account_id":3816947,"reputation":511,"user_id":3166095,"display_name":"thehole"},"score":2,"creation_date":1558569637,"post_id":56266299,"comment_id":99148932,"body_markdown":"This for-loop is a bit old-fashioned, too. Look into the Streams API for a more expressive iteration construct. (Bonus, streams are trivial to parallelize). Beware, Java objects arenât all inherently threadsafe, and `sendAPIRequest` might not take kindly to being invoked in parallel.","body":"This for-loop is a bit old-fashioned, too. Look into the Streams API for a more expressive iteration construct. (Bonus, streams are trivial to parallelize). Beware, Java objects arenât all inherently threadsafe, and <code>sendAPIRequest</code> might not take kindly to being invoked in parallel."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675402529,"creation_date":1558569781,"answer_id":56266453,"question_id":56266299,"body_markdown":"You can use parallel streams. The following invocation will invoke in parallel `createAPICallDetails(idx)` and add their return objects into a `List`:\r\n\r\n```\r\n\tList&lt;APICallDetails&gt; result = IntStream.range(0, callsCount)\r\n\t\t\t.parallel()\r\n\t\t\t.mapToObj(idx -&gt; createAPICallDetails(idx))\r\n\t\t\t.collect(Collectors.toList());\r\n```\r\n\r\nSo, the only thing left for you is to implement the logic of:\r\n\r\n```\r\n\tAPICallDetails createAPICallDetails(int index) { ... }\r\n```\r\n\r\nTo create a single object of your `APICallDetails` given the `index` argument, so it can be used in the previous lambda.\r\n\r\nHope this helps.","title":"How to use multi-threading to parallellize a for loop in Java?","body":"<p>You can use parallel streams. The following invocation will invoke in parallel <code>createAPICallDetails(idx)</code> and add their return objects into a <code>List</code>:</p>\n<pre><code>    List&lt;APICallDetails&gt; result = IntStream.range(0, callsCount)\n            .parallel()\n            .mapToObj(idx -&gt; createAPICallDetails(idx))\n            .collect(Collectors.toList());\n</code></pre>\n<p>So, the only thing left for you is to implement the logic of:</p>\n<pre><code>    APICallDetails createAPICallDetails(int index) { ... }\n</code></pre>\n<p>To create a single object of your <code>APICallDetails</code> given the <code>index</code> argument, so it can be used in the previous lambda.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":11981695,"reputation":33,"user_id":8767418,"display_name":"bharat dangi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56266453,"answer_count":1,"score":1,"last_activity_date":1675402529,"creation_date":1558568358,"question_id":56266299,"body_markdown":"I am writing a code which picks the multiple API call details from a file and executes those ones by one and provides the response data in an ArrayList. Below is my current code.\r\n\r\n\tArrayList&lt;APICallDetails&gt; apiCallDetailsArray = new ArrayList&lt;&gt;();\r\n\tAPICallDetails apiCallDetails = new APICallDetails();\r\n\tfor (count= 1; count &lt;= callsCount; count++){\r\n\t\t\ttry{\r\n\t\t\t\tapiCallDetails = new APICallDetails();\r\n\t\t\t\tapiCallDetails.setName(property.getPropertyReader(callName+&quot;_&quot;+count+&quot;_Name&quot;, propsFile));\r\n\t\t\t\tapiCallDetails.setHost(marketConfigs.getRawJson().get(property.getPropertyReader(callName+&quot;_&quot;+count+&quot;_Host&quot;, propsFile)).toString().replaceAll(&quot;\\&quot;&quot;, &quot;&quot;));\r\n\t\t\t\tapiCallDetails.setPath(property.getPropertyReader(callName+&quot;_&quot;+count+&quot;_Path&quot;, propsFile));\r\n\t\t\t\tapiCallDetails.setMethod(property.getPropertyReader(callName+&quot;_&quot;+count+&quot;_Method&quot;, propsFile));\r\n\t\t\t\tapiCallDetails.setBody(property.getPropertyReader(callName+&quot;_&quot;+count+&quot;_Body&quot;, propsFile));\r\n\t\t\t\t\r\n\t\t\t\tapiCallDetails = sendAPIRequest.mwRequestWithoutBody(apiCallDetails, marketConfigs);\r\n\t\t\t\tBufferedWriter out = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tout = new BufferedWriter ( new FileWriter ( &quot;C:\\\\file&quot;+count+&quot;.html&quot;));\r\n\t\t\t\t\t\tout.write(&quot;something&quot;);\r\n\t\t\t\t\t\tout.close();\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\tlogger.error(new Date()+&quot; - Error in &quot;+getClass()+&quot;.apiCallRequester() flow: &quot;+e.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tapiCallDetailsArray.add(apiCallDetails);\r\n\t\t\t\t\t\t\t\r\n\t\t\t}catch(NullPointerException e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tlogger.error(new Date()+&quot; - Error in &quot;+getClass()+&quot;.apiCallRequester() flow: &quot;+e.toString());\r\n\t\t\t}\r\n\t\t}\r\n\r\nAs there are more API calls, this is taking the sum of the response time of all the calls. I want these calls to run parallelly and store the response data in an ArrayList which I can use further. \r\nI am new to Java so, can someone please help me with this?","title":"How to use multi-threading to parallellize a for loop in Java?","body":"<p>I am writing a code which picks the multiple API call details from a file and executes those ones by one and provides the response data in an ArrayList. Below is my current code.</p>\n\n<pre><code>ArrayList&lt;APICallDetails&gt; apiCallDetailsArray = new ArrayList&lt;&gt;();\nAPICallDetails apiCallDetails = new APICallDetails();\nfor (count= 1; count &lt;= callsCount; count++){\n        try{\n            apiCallDetails = new APICallDetails();\n            apiCallDetails.setName(property.getPropertyReader(callName+\"_\"+count+\"_Name\", propsFile));\n            apiCallDetails.setHost(marketConfigs.getRawJson().get(property.getPropertyReader(callName+\"_\"+count+\"_Host\", propsFile)).toString().replaceAll(\"\\\"\", \"\"));\n            apiCallDetails.setPath(property.getPropertyReader(callName+\"_\"+count+\"_Path\", propsFile));\n            apiCallDetails.setMethod(property.getPropertyReader(callName+\"_\"+count+\"_Method\", propsFile));\n            apiCallDetails.setBody(property.getPropertyReader(callName+\"_\"+count+\"_Body\", propsFile));\n\n            apiCallDetails = sendAPIRequest.mwRequestWithoutBody(apiCallDetails, marketConfigs);\n            BufferedWriter out = null;\n            try {\n                out = new BufferedWriter ( new FileWriter ( \"C:\\\\file\"+count+\".html\"));\n                    out.write(\"something\");\n                    out.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    logger.error(new Date()+\" - Error in \"+getClass()+\".apiCallRequester() flow: \"+e.toString());\n                }\n\n            apiCallDetailsArray.add(apiCallDetails);\n\n        }catch(NullPointerException e){\n            e.printStackTrace();\n            logger.error(new Date()+\" - Error in \"+getClass()+\".apiCallRequester() flow: \"+e.toString());\n        }\n    }\n</code></pre>\n\n<p>As there are more API calls, this is taking the sum of the response time of all the calls. I want these calls to run parallelly and store the response data in an ArrayList which I can use further. \nI am new to Java so, can someone please help me with this?</p>\n"},{"tags":["java","algorithm","design-patterns","reflection","javabeans"],"comments":[{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1558555669,"post_id":56261526,"comment_id":99144843,"body_markdown":"Give a sample of the file that you are reading and the expected JSON.","body":"Give a sample of the file that you are reading and the expected JSON."},{"owner":{"account_id":4912186,"reputation":6976,"user_id":3957182,"accept_rate":59,"display_name":"wandermonk"},"score":0,"creation_date":1558596154,"post_id":56261526,"comment_id":99154898,"body_markdown":"@DwB Added the input text file and output which needs to be generated.","body":"@DwB Added the input text file and output which needs to be generated."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675402523,"creation_date":1558555245,"answer_id":56264144,"question_id":56261526,"body_markdown":"You don&#39;t need to write all that logic, you can just use [Apache Commons BeanUtils](http://commons.apache.org/proper/commons-beanutils/); which provides a utility method (among *MANY* other utilities), that takes a `Map` of field names versus field values and populate a given bean with it:\r\n\r\n```\r\n\tBeanUtils.populate(target, fieldNameValueMap);\r\n```\r\n\r\nThen the only thing you need to implement is the logic to create the `fieldNameValueMap` `Map`; which you can do with this simple method:\r\n\r\n```\r\n\tMap&lt;String, String&gt; createFieldNameValueMap(String headerLine, String valuesLine) {\r\n\t\tString[] fieldNames = headerLine.split(&quot;\\t&quot;);\r\n\t\tString[] fieldValues = valuesLine.split(&quot;\\t&quot;);\r\n\t\t\r\n\t\treturn IntStream.range(0, fieldNames.length)\r\n\t\t\t.mapToObj(Integer::new)\r\n\t\t\t.collect(Collectors.toMap(idx -&gt; fieldNames[idx], idx -&gt; fieldValues[idx]));\r\n\t}\r\n```\r\nYou can test this solution with the following working demo:\r\n\r\n```\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nimport org.apache.commons.beanutils.BeanUtils;\r\n\r\nimport lombok.Data;\r\n\r\npublic class DynamicBeanUtils {\r\n\t\r\n\tstatic Map&lt;String, String&gt; createFieldNameValueMap(String headerLine, String valuesLine) {\r\n\t\tString[] fieldNames = headerLine.split(&quot;\\t&quot;);\r\n\t\tString[] fieldValues = valuesLine.split(&quot;\\t&quot;);\r\n\t\t\r\n\t\treturn IntStream.range(0, fieldNames.length)\r\n\t\t\t.mapToObj(Integer::new)\r\n\t\t\t.collect(Collectors.toMap(idx -&gt; fieldNames[idx], idx -&gt; fieldValues[idx]));\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString headerLine = &quot;booleanValue\\tintValue\\tstringValue\\tdoubleValue\\totherValue&quot;;\r\n\t\tString valuesLine = &quot;true\\t12\\tthis bean will be populated\\t22.44\\ttest string!!!&quot;;\r\n\t\t\r\n\t\tObject target = new MyBean();\r\n\t\ttry {\r\n\t\t\tBeanUtils.populate(target, createFieldNameValueMap(headerLine, valuesLine));\r\n\t\t} catch (IllegalAccessException | InvocationTargetException e) {\r\n\t\t\t// HANDLE EXCEPTIONS!\r\n\t\t}\r\n\r\n\t\tSystem.out.println(target);\r\n\t}\r\n\t\r\n\t@Data\r\n\tpublic static class MyBean {\r\n\t\tprivate String stringValue;\r\n\t\tprivate double doubleValue;\r\n\t\tprivate int intValue;\r\n\t\tprivate boolean booleanValue;\r\n\t\tprivate String otherValue;\r\n\t}\r\n}\r\n```\r\nThis is the maven repository page for this dependency, so you can include it in your build: https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils/1.9.3\r\n\r\nI used [Lombok](https://projectlombok.org/features/all) in this solution as well, only to save me the pain of writing getter/setters/toString to test this solution; but it is not required for your solution.\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56264144)\r\n\r\nHope this helps.\r\n\r\n","title":"Creating POJO/beans dynamically and set values using CGLib","body":"<p>You don't need to write all that logic, you can just use <a href=\"http://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow noreferrer\">Apache Commons BeanUtils</a>; which provides a utility method (among <em>MANY</em> other utilities), that takes a <code>Map</code> of field names versus field values and populate a given bean with it:</p>\n<pre><code>    BeanUtils.populate(target, fieldNameValueMap);\n</code></pre>\n<p>Then the only thing you need to implement is the logic to create the <code>fieldNameValueMap</code> <code>Map</code>; which you can do with this simple method:</p>\n<pre><code>    Map&lt;String, String&gt; createFieldNameValueMap(String headerLine, String valuesLine) {\n        String[] fieldNames = headerLine.split(&quot;\\t&quot;);\n        String[] fieldValues = valuesLine.split(&quot;\\t&quot;);\n        \n        return IntStream.range(0, fieldNames.length)\n            .mapToObj(Integer::new)\n            .collect(Collectors.toMap(idx -&gt; fieldNames[idx], idx -&gt; fieldValues[idx]));\n    }\n</code></pre>\n<p>You can test this solution with the following working demo:</p>\n<pre><code>import java.lang.reflect.InvocationTargetException;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport org.apache.commons.beanutils.BeanUtils;\n\nimport lombok.Data;\n\npublic class DynamicBeanUtils {\n    \n    static Map&lt;String, String&gt; createFieldNameValueMap(String headerLine, String valuesLine) {\n        String[] fieldNames = headerLine.split(&quot;\\t&quot;);\n        String[] fieldValues = valuesLine.split(&quot;\\t&quot;);\n        \n        return IntStream.range(0, fieldNames.length)\n            .mapToObj(Integer::new)\n            .collect(Collectors.toMap(idx -&gt; fieldNames[idx], idx -&gt; fieldValues[idx]));\n    }\n    \n    public static void main(String[] args) {\n        String headerLine = &quot;booleanValue\\tintValue\\tstringValue\\tdoubleValue\\totherValue&quot;;\n        String valuesLine = &quot;true\\t12\\tthis bean will be populated\\t22.44\\ttest string!!!&quot;;\n        \n        Object target = new MyBean();\n        try {\n            BeanUtils.populate(target, createFieldNameValueMap(headerLine, valuesLine));\n        } catch (IllegalAccessException | InvocationTargetException e) {\n            // HANDLE EXCEPTIONS!\n        }\n\n        System.out.println(target);\n    }\n    \n    @Data\n    public static class MyBean {\n        private String stringValue;\n        private double doubleValue;\n        private int intValue;\n        private boolean booleanValue;\n        private String otherValue;\n    }\n}\n</code></pre>\n<p>This is the maven repository page for this dependency, so you can include it in your build: <a href=\"https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils/1.9.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils/1.9.3</a></p>\n<p>I used <a href=\"https://projectlombok.org/features/all\" rel=\"nofollow noreferrer\">Lombok</a> in this solution as well, only to save me the pain of writing getter/setters/toString to test this solution; but it is not required for your solution.</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56264144\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558880650,"creation_date":1558615496,"answer_id":56275536,"question_id":56261526,"body_markdown":"You are going way overboard with your solution.  \r\nYour data is organized as an array of variable length arrays;\r\nand does not require some crazy on-the-fly class generation solution.\r\nAs a side note,\r\non-the-fly class generation is not inherently crazy;\r\nit is crazy to use on-the-fly class generation in this situation.\r\n\r\nDo this:\r\n\r\n1. Look at your data;\r\nit is organized as follows:\r\n    1. first: outer key\r\n    1. second: exactly one line containing a variable number of space separated array of inner keys.\r\n    1. third: some number of lines containing values.\r\n1. Design a solution to fix your problem\r\n    1. Read the outer key.\r\nUse that value to create the outer key portion of your JSON.\r\n    1. Read the inner keys.\r\nStore these in an array;\r\nuse LinkedList,\r\nnot ClownList (ArrayList).\r\n    1. Do this until the next empty line:\r\n        1. Read a line of values.\r\n        1. Write the inner JSON; use the inner keys as the keys for this.\r\n    1. Skip empty lines until one of the following:\r\n        1. If at end of file, write the ending portion of the JSON.\r\n        1. If you read the next outer key, goto to line 2 (Read the inner keys) above.\r\n1. Write the code.\r\n\r\n","title":"Creating POJO/beans dynamically and set values using CGLib","body":"<p>You are going way overboard with your solution.<br>\nYour data is organized as an array of variable length arrays;\nand does not require some crazy on-the-fly class generation solution.\nAs a side note,\non-the-fly class generation is not inherently crazy;\nit is crazy to use on-the-fly class generation in this situation.</p>\n\n<p>Do this:</p>\n\n<ol>\n<li>Look at your data;\nit is organized as follows:\n\n<ol>\n<li>first: outer key</li>\n<li>second: exactly one line containing a variable number of space separated array of inner keys.</li>\n<li>third: some number of lines containing values.</li>\n</ol></li>\n<li>Design a solution to fix your problem\n\n<ol>\n<li>Read the outer key.\nUse that value to create the outer key portion of your JSON.</li>\n<li>Read the inner keys.\nStore these in an array;\nuse LinkedList,\nnot ClownList (ArrayList).</li>\n<li>Do this until the next empty line:\n\n<ol>\n<li>Read a line of values.</li>\n<li>Write the inner JSON; use the inner keys as the keys for this.</li>\n</ol></li>\n<li>Skip empty lines until one of the following:\n\n<ol>\n<li>If at end of file, write the ending portion of the JSON.</li>\n<li>If you read the next outer key, goto to line 2 (Read the inner keys) above.</li>\n</ol></li>\n</ol></li>\n<li>Write the code.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4912186,"reputation":6976,"user_id":3957182,"accept_rate":59,"display_name":"wandermonk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558840415,"creation_date":1558840415,"answer_id":56310361,"question_id":56261526,"body_markdown":"I realized that instead of creating the POJOs with a complex approach. It is better to use the `Map`s and convert them to JSON using Jackson `ObjectMapper`. Posting for others who think this might be a useful approach.\r\n\r\n    public String convert(Map&lt;String, ? extends Metadata&gt; metadataMap) {\r\n            String output = &quot;&quot;;\r\n            Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; finalMap = new HashMap&lt;&gt;();\r\n            metadataMap.forEach((k, v) -&gt; {\r\n    \r\n                List&lt;Map&lt;String, String&gt;&gt; datamap = new LinkedList&lt;&gt;();\r\n    \r\n                String key = k;\r\n                String[] fields = v.getFields();\r\n                List&lt;String&gt; lines = v.getLines();\r\n    \r\n    \r\n                lines.forEach(line -&gt; {\r\n                    if (line != null &amp;&amp; !line.isEmpty() &amp;&amp; !line.equals(&quot;null&quot;)) {\r\n                        String[] fieldData = line.split(&quot;\\t&quot;,-1);\r\n                        Map&lt;String, String&gt; eachLineMap = new HashMap&lt;&gt;();\r\n                        for (int index = 0; index &lt; fields.length; index++) {\r\n                            if (index &lt; fieldData.length &amp;&amp; (fieldData[index] != null &amp;&amp; !fieldData[index].isEmpty())) {\r\n                                eachLineMap.put(fields[index], fieldData[index]);\r\n                            } else {\r\n                                eachLineMap.put(fields[index], &quot; &quot;);\r\n                            }\r\n                            datamap.add(eachLineMap);\r\n                        }\r\n                    }\r\n                });\r\n                finalMap.put(key, datamap);\r\n            });\r\n    \r\n            try {\r\n                output = new ObjectMapper().writeValueAsString(finalMap);\r\n            }catch(JsonProcessingException e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return output;\r\n        }\r\n\r\n","title":"Creating POJO/beans dynamically and set values using CGLib","body":"<p>I realized that instead of creating the POJOs with a complex approach. It is better to use the <code>Map</code>s and convert them to JSON using Jackson <code>ObjectMapper</code>. Posting for others who think this might be a useful approach.</p>\n\n<pre><code>public String convert(Map&lt;String, ? extends Metadata&gt; metadataMap) {\n        String output = \"\";\n        Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; finalMap = new HashMap&lt;&gt;();\n        metadataMap.forEach((k, v) -&gt; {\n\n            List&lt;Map&lt;String, String&gt;&gt; datamap = new LinkedList&lt;&gt;();\n\n            String key = k;\n            String[] fields = v.getFields();\n            List&lt;String&gt; lines = v.getLines();\n\n\n            lines.forEach(line -&gt; {\n                if (line != null &amp;&amp; !line.isEmpty() &amp;&amp; !line.equals(\"null\")) {\n                    String[] fieldData = line.split(\"\\t\",-1);\n                    Map&lt;String, String&gt; eachLineMap = new HashMap&lt;&gt;();\n                    for (int index = 0; index &lt; fields.length; index++) {\n                        if (index &lt; fieldData.length &amp;&amp; (fieldData[index] != null &amp;&amp; !fieldData[index].isEmpty())) {\n                            eachLineMap.put(fields[index], fieldData[index]);\n                        } else {\n                            eachLineMap.put(fields[index], \" \");\n                        }\n                        datamap.add(eachLineMap);\n                    }\n                }\n            });\n            finalMap.put(key, datamap);\n        });\n\n        try {\n            output = new ObjectMapper().writeValueAsString(finalMap);\n        }catch(JsonProcessingException e){\n            e.printStackTrace();\n        }\n\n        return output;\n    }\n</code></pre>\n"}],"owner":{"account_id":4912186,"reputation":6976,"user_id":3957182,"accept_rate":59,"display_name":"wandermonk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56310361,"answer_count":3,"score":1,"last_activity_date":1675402523,"creation_date":1558543423,"question_id":56261526,"body_markdown":"I have a requirement to parse a text file and generate JSON document. The text file has a pattern of text which contains a key which is a name and the value is a huge text of TSV with headers. \r\n\r\nI could parse the text file and generate bean classes using the headers and now i want to set the data to this generated bean class. I am using reflection to do this.\r\n\r\n \r\n\r\n    Class&lt;?&gt; beanClass = BeanClassGenerator.beanGenerator(k, mapForBeanGeneration);\r\n                try {\r\n                    Object beanClassObject = beanClass.newInstance();\r\n                    lines.forEach(line -&gt; {\r\n                        if (line != null &amp;&amp; !line.isEmpty() &amp;&amp; !line.equals(&quot;null&quot;)) {\r\n                            String[] lineData = line.split(&quot;\\t&quot;);\r\n                            System.out.println(&quot;LineData length :: &quot; + lineData.length);\r\n                            Method[] methods = beanClass.getMethods();\r\n                            System.out.println(&quot;Methods length :: &quot; + methods.length);\r\n                            int index = 0;\r\n                            for (Method m : methods) {\r\n                                m.setAccessible(true);\r\n                                if (m.getName().startsWith(&quot;set&quot;)) {\r\n                                    try {\r\n                                        if ((lineData.length &lt;= index) &amp;&amp; lineData[index] != null) {\r\n                                            m.invoke(beanClassObject, lineData[index]);\r\n                                            index++;\r\n                                        } else {\r\n                                            m.invoke(beanClassObject, &quot; &quot;);\r\n                                        }\r\n                                    } catch (IllegalAccessException | InvocationTargetException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    ObjectMapper om = new ObjectMapper();\r\n                    System.out.println(om.writeValueAsString(beanClassObject));\r\n                } catch (InstantiationException | IllegalAccessException | JsonProcessingException e) {\r\n                    e.printStackTrace();\r\n      }});\r\n\r\nThe problem with the approach is that most of the times all the column values may not have data it can be nulled.\r\n\r\nI am wondering if there is an easier way of doing this. Any help is appreciated.\r\n\r\nHere is the bean generation method.\r\n\r\n    public static Class&lt;?&gt; beanGenerator(final String className, final Map&lt;String, Class&lt;?&gt;&gt; properties) {\r\n            BeanGenerator beanGenerator = new BeanGenerator();\r\n            beanGenerator.setNamingPolicy(new NamingPolicy() {\r\n                @Override\r\n                public String getClassName(String prefix, String source, Object key, Predicate names) {\r\n                    return className;\r\n                }\r\n            });\r\n    \r\n            BeanGenerator.addProperties(beanGenerator, properties);\r\n            return (Class&lt;?&gt;) beanGenerator.createClass();\r\n        }\r\n\r\nHere is the sample text file which needs to be converted to the JSON output.\r\n\r\n    &lt;Data1&gt;\r\n    Col1  col2 col3 col4 col5\r\n    even\tsense\tmet\thas\r\n    root\tgreatest\tspin\tmostly\r\n    gentle\theld\tintroduced\tpalace\r\n    cold\tequator\tremember\tgrandmother\r\n    slightly\tbutter\tdepth\tlike\r\n    distant\tsecond\tcoast\teveryone\r\n    \r\n    \r\n    &lt;Data2&gt;\r\n    Col1  col2 col3 col4 col5 col6 col7 col8\r\n    greatest\trope\toperation\tflies\tbrown\tcontinent\tcombination\tread\r\n    slightly\tdiagram\the\tgrandfather\twhere\tparty\tfifty\tpour\r\n    well\tput\tplastic\tanyway\trefer\tcareful\tcorrect\tfurniture\r\n    how\tsince\tarmy\ttongue\tbirthday\tbeen\tclock\tofficial\r\n    table\tcommand\tspecific\tdistant\tcutting\thill\tmovie\texperience\r\n    national\tthough\tstopped\tyouth\tarmy\tunderline\tfive\tknow\r\n    \r\n    &lt;Data3&gt;\r\n    Col1 col2 col3 col4 col5 col6 col7 col8 col9 col9 col10\r\n    vessels\tcharacteristic\tship\tjoy\tthan\ttomorrow\thigh\tseven\tfuture\ttrade\r\n    try\tgray\tfourth\tadvice\tweek\tstream\tmotion\tmusical\twhom\ttin\r\n    limited\tdaughter\tlarge\trice\tcame\thome\tchicken\twheat\tengine\tbox\r\n    easy\tcity\tpair\tstrange\tstage\tvisitor\tcoach\tannounced\tallow\tsimple\r\n    jet\ttherefore\tsingle\tduring\tconstruction\tflag\tbigger\tmuscle\tcomplex\tpleasure\r\n    income\tseveral\tcoat\trange\tdull\tcattle\tdamage\tjump\tpresent\tshake\r\n\r\nJSON output:\r\n\r\n    [{\r\n    \t&quot;&lt;Data1&gt;&quot;: [{\r\n    \t\t\t&quot;col1&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col2&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col3&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col4&quot;: &quot;&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;col1&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col2&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col3&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col4&quot;: &quot;&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;col1&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col2&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col3&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col4&quot;: &quot;&quot;\r\n    \t\t}\r\n    \t]\r\n    \r\n    }, {\r\n    \t&quot;&lt;Data2&gt;&quot;: [{\r\n    \t\t\t&quot;col1&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col2&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col3&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col4&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col5&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col6&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col7&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col8&quot;: &quot;&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;col1&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col2&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col3&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col4&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col5&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col6&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col7&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col8&quot;: &quot;&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;col1&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col2&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col3&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col4&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col5&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col6&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col7&quot;: &quot;&quot;,\r\n    \t\t\t&quot;col8&quot;: &quot;&quot;\r\n    \t\t}\r\n    \t]\r\n    \r\n    }]\r\n\r\nI came up with a solution using the Maps.\r\n\r\n \r\n\r\n    Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; finalMap = new HashMap&lt;&gt;();\r\n            metadataMap.forEach((k, v) -&gt; {\r\n    \r\n                List&lt;Map&lt;String, String&gt;&gt; datamap = new ArrayList&lt;&gt;();\r\n    \r\n                String key = k;\r\n                String[] fields = v.getFields();\r\n                List&lt;String&gt; lines = v.getLines();\r\n    \r\n    \r\n                lines.forEach(line -&gt; {\r\n                    if (line != null &amp;&amp; !line.isEmpty() &amp;&amp; !line.equals(&quot;null&quot;)) {\r\n                        String[] fieldData = line.split(&quot;\\t&quot;);\r\n                        Map&lt;String, String&gt; eachLineMap = new HashMap&lt;&gt;();\r\n                        for (int index = 0; index &lt; fields.length; index++) {\r\n                            if (index &lt; fieldData.length &amp;&amp; (fieldData[index] != null &amp;&amp; !fieldData[index].isEmpty())) {\r\n                                eachLineMap.put(fields[index], fieldData[index]);\r\n                            } else {\r\n                                eachLineMap.put(fields[index], &quot; &quot;);\r\n                            }\r\n                            datamap.add(eachLineMap);\r\n                        }\r\n                    }\r\n                });\r\n                finalMap.put(key, datamap);\r\n            });\r\n    \r\n            try {\r\n                output = new ObjectMapper().writeValueAsString(finalMap);\r\n            }catch(JsonProcessingException e){\r\n                e.printStackTrace();\r\n            }\r\n\r\n","title":"Creating POJO/beans dynamically and set values using CGLib","body":"<p>I have a requirement to parse a text file and generate JSON document. The text file has a pattern of text which contains a key which is a name and the value is a huge text of TSV with headers. </p>\n\n<p>I could parse the text file and generate bean classes using the headers and now i want to set the data to this generated bean class. I am using reflection to do this.</p>\n\n<pre><code>Class&lt;?&gt; beanClass = BeanClassGenerator.beanGenerator(k, mapForBeanGeneration);\n            try {\n                Object beanClassObject = beanClass.newInstance();\n                lines.forEach(line -&gt; {\n                    if (line != null &amp;&amp; !line.isEmpty() &amp;&amp; !line.equals(\"null\")) {\n                        String[] lineData = line.split(\"\\t\");\n                        System.out.println(\"LineData length :: \" + lineData.length);\n                        Method[] methods = beanClass.getMethods();\n                        System.out.println(\"Methods length :: \" + methods.length);\n                        int index = 0;\n                        for (Method m : methods) {\n                            m.setAccessible(true);\n                            if (m.getName().startsWith(\"set\")) {\n                                try {\n                                    if ((lineData.length &lt;= index) &amp;&amp; lineData[index] != null) {\n                                        m.invoke(beanClassObject, lineData[index]);\n                                        index++;\n                                    } else {\n                                        m.invoke(beanClassObject, \" \");\n                                    }\n                                } catch (IllegalAccessException | InvocationTargetException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        }\n                    }\n                });\n                ObjectMapper om = new ObjectMapper();\n                System.out.println(om.writeValueAsString(beanClassObject));\n            } catch (InstantiationException | IllegalAccessException | JsonProcessingException e) {\n                e.printStackTrace();\n  }});\n</code></pre>\n\n<p>The problem with the approach is that most of the times all the column values may not have data it can be nulled.</p>\n\n<p>I am wondering if there is an easier way of doing this. Any help is appreciated.</p>\n\n<p>Here is the bean generation method.</p>\n\n<pre><code>public static Class&lt;?&gt; beanGenerator(final String className, final Map&lt;String, Class&lt;?&gt;&gt; properties) {\n        BeanGenerator beanGenerator = new BeanGenerator();\n        beanGenerator.setNamingPolicy(new NamingPolicy() {\n            @Override\n            public String getClassName(String prefix, String source, Object key, Predicate names) {\n                return className;\n            }\n        });\n\n        BeanGenerator.addProperties(beanGenerator, properties);\n        return (Class&lt;?&gt;) beanGenerator.createClass();\n    }\n</code></pre>\n\n<p>Here is the sample text file which needs to be converted to the JSON output.</p>\n\n<pre><code>&lt;Data1&gt;\nCol1  col2 col3 col4 col5\neven    sense   met has\nroot    greatest    spin    mostly\ngentle  held    introduced  palace\ncold    equator remember    grandmother\nslightly    butter  depth   like\ndistant second  coast   everyone\n\n\n&lt;Data2&gt;\nCol1  col2 col3 col4 col5 col6 col7 col8\ngreatest    rope    operation   flies   brown   continent   combination read\nslightly    diagram he  grandfather where   party   fifty   pour\nwell    put plastic anyway  refer   careful correct furniture\nhow since   army    tongue  birthday    been    clock   official\ntable   command specific    distant cutting hill    movie   experience\nnational    though  stopped youth   army    underline   five    know\n\n&lt;Data3&gt;\nCol1 col2 col3 col4 col5 col6 col7 col8 col9 col9 col10\nvessels characteristic  ship    joy than    tomorrow    high    seven   future  trade\ntry gray    fourth  advice  week    stream  motion  musical whom    tin\nlimited daughter    large   rice    came    home    chicken wheat   engine  box\neasy    city    pair    strange stage   visitor coach   announced   allow   simple\njet therefore   single  during  construction    flag    bigger  muscle  complex pleasure\nincome  several coat    range   dull    cattle  damage  jump    present shake\n</code></pre>\n\n<p>JSON output:</p>\n\n<pre><code>[{\n    \"&lt;Data1&gt;\": [{\n            \"col1\": \"\",\n            \"col2\": \"\",\n            \"col3\": \"\",\n            \"col4\": \"\"\n        },\n        {\n            \"col1\": \"\",\n            \"col2\": \"\",\n            \"col3\": \"\",\n            \"col4\": \"\"\n        },\n        {\n            \"col1\": \"\",\n            \"col2\": \"\",\n            \"col3\": \"\",\n            \"col4\": \"\"\n        }\n    ]\n\n}, {\n    \"&lt;Data2&gt;\": [{\n            \"col1\": \"\",\n            \"col2\": \"\",\n            \"col3\": \"\",\n            \"col4\": \"\",\n            \"col5\": \"\",\n            \"col6\": \"\",\n            \"col7\": \"\",\n            \"col8\": \"\"\n        },\n        {\n            \"col1\": \"\",\n            \"col2\": \"\",\n            \"col3\": \"\",\n            \"col4\": \"\",\n            \"col5\": \"\",\n            \"col6\": \"\",\n            \"col7\": \"\",\n            \"col8\": \"\"\n        },\n        {\n            \"col1\": \"\",\n            \"col2\": \"\",\n            \"col3\": \"\",\n            \"col4\": \"\",\n            \"col5\": \"\",\n            \"col6\": \"\",\n            \"col7\": \"\",\n            \"col8\": \"\"\n        }\n    ]\n\n}]\n</code></pre>\n\n<p>I came up with a solution using the Maps.</p>\n\n<pre><code>Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; finalMap = new HashMap&lt;&gt;();\n        metadataMap.forEach((k, v) -&gt; {\n\n            List&lt;Map&lt;String, String&gt;&gt; datamap = new ArrayList&lt;&gt;();\n\n            String key = k;\n            String[] fields = v.getFields();\n            List&lt;String&gt; lines = v.getLines();\n\n\n            lines.forEach(line -&gt; {\n                if (line != null &amp;&amp; !line.isEmpty() &amp;&amp; !line.equals(\"null\")) {\n                    String[] fieldData = line.split(\"\\t\");\n                    Map&lt;String, String&gt; eachLineMap = new HashMap&lt;&gt;();\n                    for (int index = 0; index &lt; fields.length; index++) {\n                        if (index &lt; fieldData.length &amp;&amp; (fieldData[index] != null &amp;&amp; !fieldData[index].isEmpty())) {\n                            eachLineMap.put(fields[index], fieldData[index]);\n                        } else {\n                            eachLineMap.put(fields[index], \" \");\n                        }\n                        datamap.add(eachLineMap);\n                    }\n                }\n            });\n            finalMap.put(key, datamap);\n        });\n\n        try {\n            output = new ObjectMapper().writeValueAsString(finalMap);\n        }catch(JsonProcessingException e){\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","multithreading","algorithm","design-patterns","java-threads"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1558457646,"post_id":56242731,"comment_id":99104830,"body_markdown":"The minimum, you could do, is to `close()` the sockets before proceeding. Even then, you might need to insert a delay to give the other process a chance. But I canât see any reason for a `NullPointerException` in the posted code.","body":"The minimum, you could do, is to <code>close()</code> the sockets before proceeding. Even then, you might need to insert a delay to give the other process a chance. But I canât see any reason for a <code>NullPointerException</code> in the posted code."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1558458089,"post_id":56242731,"comment_id":99105010,"body_markdown":"I&#39;m pretty certain you can&#39;t do that just by using threads and sockets. Closest I can think of is to try and keep some commonly known file around and occasionally check it in a specific daemon thread. When a process starts, it sets some value inside that file (could be anything, even just a last access timestamp). When running server sees that file contains anything, it initiates an orderly app shutdown. Once shutdown is complete, another app can pick up the socket, clear the file and start watching it itself.","body":"I&#39;m pretty certain you can&#39;t do that just by using threads and sockets. Closest I can think of is to try and keep some commonly known file around and occasionally check it in a specific daemon thread. When a process starts, it sets some value inside that file (could be anything, even just a last access timestamp). When running server sees that file contains anything, it initiates an orderly app shutdown. Once shutdown is complete, another app can pick up the socket, clear the file and start watching it itself."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402519,"creation_date":1558477292,"answer_id":56247038,"question_id":56242731,"body_markdown":"The main problem is that the logic in `startServer` method should run in an infinite loop to account for the weak nature of sockets that may be disconnected at any time, and more importantly for the scenario in which is trying to connect to a port that is bound by a previous instance that is in the process of shutting down.\r\n\r\n```\r\n\t\twhile (true) \r\n\t\t\trunServer(port);\r\n```\r\n\r\nOther problems include closing resources when problems arise and nesting away the exceptions that arise from a client `Socket` from those that come from a `ServerSocket`; so that whenever an exception is thrown for a `ServerSocket` is not interpreted as an exception that would end the execution of `startServer` method.\r\n\r\n```\r\n\tvoid runServer(int port) {\r\n\t\ttry (ServerSocket serverSocket = new ServerSocket(port, 1)) {\r\n\t\t\tlogger.debug(&quot;Server started!&quot;);\r\n\t\t\ttry (Socket clientSocket = serverSocket.accept()) {\r\n\t\t\t\tlogger.debug(&quot;Signal to shutdown received. Shutting down.&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.debug(&quot;The other application is still shutting down...&quot;);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe following is a complete working example of this:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class ServerReplacer {\r\n\t\r\n\tprivate static Logger logger = LoggerFactory.getLogger(ServerReplacer.class);\r\n\t\r\n\tpublic static void runReplacerService(int port) {\r\n\t\tsearchOlderInstances(port);\r\n\t\t\r\n\t\tlogger.debug(&quot;Server starting...&quot;);\r\n\t\twhile (true) \r\n\t\t\trunServer(port);\r\n\t}\r\n\r\n\tprivate static void searchOlderInstances(int port) {\r\n\t\tlogger.debug(&quot;Attempting to find older instance...&quot;);\r\n\t\ttry (Socket socket = new Socket(&quot;127.0.0.1&quot;, port)) {\r\n\t\t\tlogOtherInstanceFound(socket.isConnected());\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogOtherInstanceFound(false);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void logOtherInstanceFound(boolean otherInstanceFound) {\r\n\t\tlogger.debug(otherInstanceFound ? \r\n\t\t\t&quot;FOUND ANOTHER INSTANCE RUNNING! It has been signaled to shut down.&quot; : \r\n\t\t\t&quot;No older instance found.&quot;);\r\n\t}\r\n\r\n\tprivate static void runServer(int port) {\r\n\t\ttry (ServerSocket serverSocket = new ServerSocket(port, 1)) {\r\n\t\t\tlogger.debug(&quot;Server started!&quot;);\r\n\t\t\ttry (Socket clientSocket = serverSocket.accept()) {\r\n\t\t\t\tlogger.debug(&quot;Signal to shutdown received. Shutting down.&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.debug(&quot;The other application is still shutting down...&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\trunReplacerService(9665);\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56247038)\r\n\r\nHope this helps.\r\n\r\n\r\n","title":"Terminating the older instance of a program if a newer instance is started","body":"<p>The main problem is that the logic in <code>startServer</code> method should run in an infinite loop to account for the weak nature of sockets that may be disconnected at any time, and more importantly for the scenario in which is trying to connect to a port that is bound by a previous instance that is in the process of shutting down.</p>\n<pre><code>        while (true) \n            runServer(port);\n</code></pre>\n<p>Other problems include closing resources when problems arise and nesting away the exceptions that arise from a client <code>Socket</code> from those that come from a <code>ServerSocket</code>; so that whenever an exception is thrown for a <code>ServerSocket</code> is not interpreted as an exception that would end the execution of <code>startServer</code> method.</p>\n<pre><code>    void runServer(int port) {\n        try (ServerSocket serverSocket = new ServerSocket(port, 1)) {\n            logger.debug(&quot;Server started!&quot;);\n            try (Socket clientSocket = serverSocket.accept()) {\n                logger.debug(&quot;Signal to shutdown received. Shutting down.&quot;);\n                System.exit(0);\n            }\n        } catch (IOException e) {\n            logger.debug(&quot;The other application is still shutting down...&quot;);\n        }\n    }\n</code></pre>\n<p>The following is a complete working example of this:</p>\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class ServerReplacer {\n    \n    private static Logger logger = LoggerFactory.getLogger(ServerReplacer.class);\n    \n    public static void runReplacerService(int port) {\n        searchOlderInstances(port);\n        \n        logger.debug(&quot;Server starting...&quot;);\n        while (true) \n            runServer(port);\n    }\n\n    private static void searchOlderInstances(int port) {\n        logger.debug(&quot;Attempting to find older instance...&quot;);\n        try (Socket socket = new Socket(&quot;127.0.0.1&quot;, port)) {\n            logOtherInstanceFound(socket.isConnected());\n        } catch (Exception e) {\n            logOtherInstanceFound(false);\n        }\n    }\n\n    private static void logOtherInstanceFound(boolean otherInstanceFound) {\n        logger.debug(otherInstanceFound ? \n            &quot;FOUND ANOTHER INSTANCE RUNNING! It has been signaled to shut down.&quot; : \n            &quot;No older instance found.&quot;);\n    }\n\n    private static void runServer(int port) {\n        try (ServerSocket serverSocket = new ServerSocket(port, 1)) {\n            logger.debug(&quot;Server started!&quot;);\n            try (Socket clientSocket = serverSocket.accept()) {\n                logger.debug(&quot;Signal to shutdown received. Shutting down.&quot;);\n                System.exit(0);\n            }\n        } catch (IOException e) {\n            logger.debug(&quot;The other application is still shutting down...&quot;);\n        }\n    }\n    \n    public static void main(String[] args) {\n        runReplacerService(9665);\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56247038\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":14302904,"reputation":167,"user_id":10331792,"display_name":"AJ_4real"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675402519,"creation_date":1558456353,"question_id":56242731,"body_markdown":"Scenario: A program starts a server and listens for another program to connect to said server; if another program connects, kill the server on the old program and start the same server on the new program, and repeat the cycle.\r\n\r\n\r\n\r\nAfter running the program for the first time, I get:\r\n```\r\nthread started\r\nattempting connection\r\nserver started\r\n```\r\nThen, after running the program again, the first instance reads:\r\n```\r\nthread started\r\nattempting connection\r\nserver started\r\nAnother instance was started, this instance has been shut down\r\nException in thread &quot;Thread-0&quot; java.lang.NullPointerException\r\n\tat me.aj.phoenix.util.JustOneServer.startServer(JustOneServer.java:37)\r\n\tat me.aj.phoenix.util.JustOneServer.run(JustOneServer.java:28)\r\n```\r\nand the second instance reads:\r\n```thread started\r\nattempting connection\r\nAnother instance was running and has been closed.\r\nserver started\r\njava.net.BindException: Address already in use: NET_Bind\r\n\tat java.base/java.net.PlainSocketImpl.bind0(Native Method)\r\n\tat java.base/java.net.PlainSocketImpl.socketBind(PlainSocketImpl.java:132)\r\n\tat java.base/java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:436)\r\n\tat java.base/java.net.ServerSocket.bind(ServerSocket.java:381)\r\n\tat java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:243)\r\n\tat java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:187)\r\n\tat me.aj.phoenix.util.JustOneServer.startServer(JustOneServer.java:34)\r\n\tat me.aj.phoenix.util.JustOneServer.run(JustOneServer.java:26)\r\n```\r\nEssentially what im trying to do is whenever a new version of the program is started, close the older program and start the listener on the newer program\r\n\r\nHere is the code:\r\n```\r\npublic class TestProgram extends Thread {\r\n\tpublic final int port = 9665;\r\n\tServerSocket serverSocket = null;\r\n\tSocket clientSocket = null;\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;thread started&quot;);\r\n\t\ttry {\r\n\t\t\tthis.check();\r\n\t\t\tthis.startServer();\r\n\t\t} catch (IOException ioe) {\r\n\t\t\tthis.startServer();\r\n\t\t}\r\n\t}\r\n\tpublic void startServer() {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;server started&quot;);\r\n\t\t\tserverSocket = new ServerSocket(port, 1);\r\n\t\t\tclientSocket = serverSocket.accept();\r\n\t\t\tLogger.print(&quot;Another instance was started, this instance has been shut down&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\tpublic void check() throws UnknownHostException, IOException {\r\n\t\tSystem.out.println(&quot;attempting connection&quot;);\r\n\t\tSocket socket = new Socket(&quot;localhost&quot;, port);\r\n\t\tif(socket.isConnected()) {\r\n\t\t\tLogger.print(&quot;Another instance was running and has been closed.&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe second program is not waiting for the first programs listening server to unbind from the port, and I&#39;m not quite sure how to fix it.","title":"Terminating the older instance of a program if a newer instance is started","body":"<p>Scenario: A program starts a server and listens for another program to connect to said server; if another program connects, kill the server on the old program and start the same server on the new program, and repeat the cycle.</p>\n\n<p>After running the program for the first time, I get:</p>\n\n<pre><code>thread started\nattempting connection\nserver started\n</code></pre>\n\n<p>Then, after running the program again, the first instance reads:</p>\n\n<pre><code>thread started\nattempting connection\nserver started\nAnother instance was started, this instance has been shut down\nException in thread \"Thread-0\" java.lang.NullPointerException\n    at me.aj.phoenix.util.JustOneServer.startServer(JustOneServer.java:37)\n    at me.aj.phoenix.util.JustOneServer.run(JustOneServer.java:28)\n</code></pre>\n\n<p>and the second instance reads:</p>\n\n<pre><code>attempting connection\nAnother instance was running and has been closed.\nserver started\njava.net.BindException: Address already in use: NET_Bind\n    at java.base/java.net.PlainSocketImpl.bind0(Native Method)\n    at java.base/java.net.PlainSocketImpl.socketBind(PlainSocketImpl.java:132)\n    at java.base/java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:436)\n    at java.base/java.net.ServerSocket.bind(ServerSocket.java:381)\n    at java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:243)\n    at java.base/java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:187)\n    at me.aj.phoenix.util.JustOneServer.startServer(JustOneServer.java:34)\n    at me.aj.phoenix.util.JustOneServer.run(JustOneServer.java:26)\n</code></pre>\n\n<p>Essentially what im trying to do is whenever a new version of the program is started, close the older program and start the listener on the newer program</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public class TestProgram extends Thread {\n    public final int port = 9665;\n    ServerSocket serverSocket = null;\n    Socket clientSocket = null;\n\n    @Override\n    public void run() {\n        System.out.println(\"thread started\");\n        try {\n            this.check();\n            this.startServer();\n        } catch (IOException ioe) {\n            this.startServer();\n        }\n    }\n    public void startServer() {\n        try {\n            System.out.println(\"server started\");\n            serverSocket = new ServerSocket(port, 1);\n            clientSocket = serverSocket.accept();\n            Logger.print(\"Another instance was started, this instance has been shut down\");\n            System.exit(0);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    public void check() throws UnknownHostException, IOException {\n        System.out.println(\"attempting connection\");\n        Socket socket = new Socket(\"localhost\", port);\n        if(socket.isConnected()) {\n            Logger.print(\"Another instance was running and has been closed.\");\n        }\n    }\n}\n</code></pre>\n\n<p>The second program is not waiting for the first programs listening server to unbind from the port, and I'm not quite sure how to fix it.</p>\n"},{"tags":["java","swing","awt","look-and-feel","uimanager"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402514,"creation_date":1558463053,"answer_id":56244317,"question_id":56243020,"body_markdown":"The Windows look and feel is defined in the [`LookAndFeel`](https://docs.oracle.com/javase/7/docs/api/javax/swing/LookAndFeel.html) class [`com.sun.java.swing.plaf.windows.WindowsLookAndFeel`](http://www.docjar.com/docs/api/com/sun/java/swing/plaf/windows/WindowsLookAndFeel.html). You can use it by invoking the `UIManager.setLookAndFeel` with fully qualified class name as an argument:\r\n\r\n```\r\n\ttry {\r\n\t    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);\r\n\t    System.out.println(UIManager.getColor(&quot;TableHeader.background&quot;));\r\n\t} catch (Exception ex) {\r\n\t    // HANDLE EXCEPTION\r\n\t}\r\n```\r\n\r\n\r\nThis is the list of the available look and feels in the Swing framework: https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#available\r\n\r\nHope this helps.","title":"UIManager, how to get values of different LookAndFeels?","body":"<p>The Windows look and feel is defined in the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/LookAndFeel.html\" rel=\"nofollow noreferrer\"><code>LookAndFeel</code></a> class <a href=\"http://www.docjar.com/docs/api/com/sun/java/swing/plaf/windows/WindowsLookAndFeel.html\" rel=\"nofollow noreferrer\"><code>com.sun.java.swing.plaf.windows.WindowsLookAndFeel</code></a>. You can use it by invoking the <code>UIManager.setLookAndFeel</code> with fully qualified class name as an argument:</p>\n<pre><code>    try {\n        UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);\n        System.out.println(UIManager.getColor(&quot;TableHeader.background&quot;));\n    } catch (Exception ex) {\n        // HANDLE EXCEPTION\n    }\n</code></pre>\n<p>This is the list of the available look and feels in the Swing framework: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#available\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#available</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558484798,"creation_date":1558484798,"answer_id":56247834,"question_id":56243020,"body_markdown":"Your code works fine for me. I tried:\r\n\r\n    try\r\n    {\r\n    \tSystem.out.println(UIManager.getColor(&quot;TableHeader.background&quot;));\r\n    \tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    \tSystem.out.println(UIManager.getColor(&quot;TableHeader.background&quot;));\r\n    }\r\n    catch (Exception e) { e.printStackTrace(); }\r\n\r\nand got the following output:\r\n\r\n    javax.swing.plaf.ColorUIResource[r=238,g=238,b=238]\r\n    javax.swing.plaf.ColorUIResource[r=240,g=240,b=240]\r\n\r\nSo there is only a slight difference.\r\n\r\nYou can also verify the results by checking out [UIManager Defaults](https://tips4java.wordpress.com/2008/10/09/uimanager-defaults/) which displays all the properties for each LAF.\r\n","title":"UIManager, how to get values of different LookAndFeels?","body":"<p>Your code works fine for me. I tried:</p>\n\n<pre><code>try\n{\n    System.out.println(UIManager.getColor(\"TableHeader.background\"));\n    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    System.out.println(UIManager.getColor(\"TableHeader.background\"));\n}\ncatch (Exception e) { e.printStackTrace(); }\n</code></pre>\n\n<p>and got the following output:</p>\n\n<pre><code>javax.swing.plaf.ColorUIResource[r=238,g=238,b=238]\njavax.swing.plaf.ColorUIResource[r=240,g=240,b=240]\n</code></pre>\n\n<p>So there is only a slight difference.</p>\n\n<p>You can also verify the results by checking out <a href=\"https://tips4java.wordpress.com/2008/10/09/uimanager-defaults/\" rel=\"nofollow noreferrer\">UIManager Defaults</a> which displays all the properties for each LAF.</p>\n"}],"owner":{"account_id":15909252,"reputation":141,"user_id":11479592,"display_name":"KaNaDa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1378,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56244317,"answer_count":2,"score":3,"last_activity_date":1675402514,"creation_date":1558457453,"question_id":56243020,"body_markdown":"I need to get the default background color of a `TableHeader` but of the Windows `LookAndFeel`. I have already tried:\r\n\r\n    try {\r\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    \tSystem.out.println(UIManager.getColor(&quot;TableHeader.background&quot;));\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nBut it just returns the default color (so the Metal theme one). How do I get the background color of a component from a specific `LookAndFeel`?\r\n\r\n\r\n**PS.**\r\n\r\nIn this case\r\n\r\n    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\r\nis the same as\r\n\r\n    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);\r\n\r\n\r\n**EDIT:**\r\n\r\nOk I found out, why it returns a &quot;wrong&quot; value for `TabHeaader.background`. That&#39;s because the color I want is not the `TabHeader.background` or `TabHeader.foreground`. But do one know how one get the color of the &quot;background&quot;?\r\n\r\n**EDIT 2:**\r\n\r\nI found out, that `header.setBackground(COLOR);` works if you are on default theme. But when I set `LookAndFeel` on Windows look and feel `header.setBackground(COLOR)` changes the border color.","title":"UIManager, how to get values of different LookAndFeels?","body":"<p>I need to get the default background color of a <code>TableHeader</code> but of the Windows <code>LookAndFeel</code>. I have already tried:</p>\n\n<pre><code>try {\n    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    System.out.println(UIManager.getColor(\"TableHeader.background\"));\ncatch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>But it just returns the default color (so the Metal theme one). How do I get the background color of a component from a specific <code>LookAndFeel</code>?</p>\n\n<p><strong>PS.</strong></p>\n\n<p>In this case</p>\n\n<pre><code>UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>UIManager.setLookAndFeel(\"com.sun.java.swing.plaf.windows.WindowsLookAndFeel\");\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Ok I found out, why it returns a \"wrong\" value for <code>TabHeaader.background</code>. That's because the color I want is not the <code>TabHeader.background</code> or <code>TabHeader.foreground</code>. But do one know how one get the color of the \"background\"?</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>I found out, that <code>header.setBackground(COLOR);</code> works if you are on default theme. But when I set <code>LookAndFeel</code> on Windows look and feel <code>header.setBackground(COLOR)</code> changes the border color.</p>\n"},{"tags":["java","algorithm","generics","design-patterns","collections"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1558452068,"post_id":56241465,"comment_id":99101855,"body_markdown":"You could use one method with generics in case the only difference is the return type.","body":"You could use one method with generics in case the only difference is the return type."},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1558452076,"post_id":56241465,"comment_id":99101863,"body_markdown":"Possible duplicate of [How to have Java method return generic list of any type?](https://stackoverflow.com/questions/17840483/how-to-have-java-method-return-generic-list-of-any-type)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/17840483/how-to-have-java-method-return-generic-list-of-any-type\">How to have Java method return generic list of any type?</a>"},{"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"score":0,"creation_date":1558452080,"post_id":56241465,"comment_id":99101864,"body_markdown":"It is not possible to do it if they have the same name. How would the compiler be able to know which one to execute when you are calling remove(List)? The one which is returning List&lt;Base&gt; or List&lt;Subclass&gt;?","body":"It is not possible to do it if they have the same name. How would the compiler be able to know which one to execute when you are calling remove(List)? The one which is returning List&lt;Base&gt; or List&lt;Subclass&gt;?"},{"owner":{"account_id":6732228,"reputation":81,"user_id":5188129,"display_name":"Sumit Bhardwaj"},"score":0,"creation_date":1558452152,"post_id":56241465,"comment_id":99101907,"body_markdown":"Java does not support return-type-based method overloading. Rename the method and call one from another, if you want to avoid redundancy. [link](https://community.oracle.com/docs/DOC-983207)","body":"Java does not support return-type-based method overloading. Rename the method and call one from another, if you want to avoid redundancy. <a href=\"https://community.oracle.com/docs/DOC-983207\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1558452317,"post_id":56241465,"comment_id":99102004,"body_markdown":"You can create a common method call remove(List&lt;T&gt; arrange) and call it from both the classes.","body":"You can create a common method call remove(List&lt;T&gt; arrange) and call it from both the classes."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1558455792,"post_id":56241465,"comment_id":99103925,"body_markdown":"Just keep `List&lt;Subclass&gt; remove(List&lt;Subclass&gt;)` and drop the other. There is no reason for keeping a second method.","body":"Just keep <code>List&lt;Subclass&gt; remove(List&lt;Subclass&gt;)</code> and drop the other. There is no reason for keeping a second method."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402509,"creation_date":1558452271,"answer_id":56241580,"question_id":56241465,"body_markdown":"If you have a method which has the same logic with different parameter types you can create a generic version of such method. In your case such a method would look like: \r\n\r\n```\r\n\tpublic static &lt;T&gt; List&lt;T&gt; remove(List&lt;T&gt; arrange) {\r\n\t\tList&lt;T&gt; update = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tfor (T arranging : arrange) {\r\n\t\t\t//For-loop body here\r\n\t\t}\r\n\t\treturn update;\r\n\t}\r\n```\r\nThen you can use this method with any `T` (`Base` or `Subclass`) and the method will work with the elements of the list pass as argument and return the appropriate type as well:\r\n\r\n```\r\n\t\tList&lt;Subclass&gt; one = ...;\r\n\t\tone = remove(one);\r\n\t\t\r\n\t\tList&lt;Base&gt; two = ...;\r\n\t\ttwo = remove(two);\r\n```\r\n\r\n\r\nHope this helps.","title":"how to implement the method which have parameter same but different signature","body":"<p>If you have a method which has the same logic with different parameter types you can create a generic version of such method. In your case such a method would look like:</p>\n<pre><code>    public static &lt;T&gt; List&lt;T&gt; remove(List&lt;T&gt; arrange) {\n        List&lt;T&gt; update = new ArrayList&lt;&gt;();\n        \n        for (T arranging : arrange) {\n            //For-loop body here\n        }\n        return update;\n    }\n</code></pre>\n<p>Then you can use this method with any <code>T</code> (<code>Base</code> or <code>Subclass</code>) and the method will work with the elements of the list pass as argument and return the appropriate type as well:</p>\n<pre><code>        List&lt;Subclass&gt; one = ...;\n        one = remove(one);\n        \n        List&lt;Base&gt; two = ...;\n        two = remove(two);\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14093595,"reputation":1000,"user_id":10181124,"display_name":"chakwok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558452664,"creation_date":1558452274,"answer_id":56241582,"question_id":56241465,"body_markdown":"What you need here is called generic method. \r\n\r\nA single generic method declaration that can be called with arguments of different types. The generic function you need will look like this:\r\n\r\n    public static &lt; E &gt; List&lt;E&gt; remove( List&lt;E&gt; arrange ) {...}\r\n\r\nIn the case that there are more than one generic type and one is the subclass of the other (e.g. BaseClass and SubClass), the declaration will look like\r\n\r\n    public static &lt; E, F &gt; List&lt;E&gt; remove( List&lt;F extends E&gt; arrange ) {...}\r\n\r\n\r\n\r\nFor more information, you can refer to [https://www.tutorialspoint.com/java/java_generics.htm][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/java_generics.htm","title":"how to implement the method which have parameter same but different signature","body":"<p>What you need here is called generic method. </p>\n\n<p>A single generic method declaration that can be called with arguments of different types. The generic function you need will look like this:</p>\n\n<pre><code>public static &lt; E &gt; List&lt;E&gt; remove( List&lt;E&gt; arrange ) {...}\n</code></pre>\n\n<p>In the case that there are more than one generic type and one is the subclass of the other (e.g. BaseClass and SubClass), the declaration will look like</p>\n\n<pre><code>public static &lt; E, F &gt; List&lt;E&gt; remove( List&lt;F extends E&gt; arrange ) {...}\n</code></pre>\n\n<p>For more information, you can refer to <a href=\"https://www.tutorialspoint.com/java/java_generics.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java/java_generics.htm</a></p>\n"},{"tags":[],"owner":{"account_id":10527497,"reputation":51,"user_id":7758048,"display_name":"Jayant Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558453353,"creation_date":1558453353,"answer_id":56241881,"question_id":56241465,"body_markdown":"I see you are in a situation where two methods does almost the same thing but present the result differently to the caller. Use generics if the domain of return type is larger.\r\n`public static E remove(List&lt;E&gt; arrange)`\r\n\r\nIf the return types are limited you might develop a relationship between Base and SubClass. And use co-variances to deal with multiple return types.","title":"how to implement the method which have parameter same but different signature","body":"<p>I see you are in a situation where two methods does almost the same thing but present the result differently to the caller. Use generics if the domain of return type is larger.\n<code>public static E remove(List&lt;E&gt; arrange)</code></p>\n\n<p>If the return types are limited you might develop a relationship between Base and SubClass. And use co-variances to deal with multiple return types.</p>\n"}],"owner":{"account_id":15983353,"reputation":3,"user_id":11534513,"display_name":"ROHIT PATHAK"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56241580,"answer_count":3,"score":0,"last_activity_date":1675402509,"creation_date":1558451836,"question_id":56241465,"body_markdown":"I have to implement the function which have the same functionality but different return type and the parameter of the function is also same.\r\n\r\n\r\n```\r\npublic static List&lt;Base&gt; remove(List&lt;Subclass&gt; arrange ) {\r\n    List&lt;Base&gt;update = new ArrayList&lt;&gt;();\r\n\r\n    for(Subclass arranging : arrange){\r\n        //For-loop body here\r\n    }\r\n    return update;\r\n}\r\n\r\npublic static List&lt;Subclass&gt; remove(List&lt;Subclass&gt; arrange ) {\r\n    List&lt;Subclass&gt;update = new ArrayList&lt;&gt;();\r\n\r\n    for(Subclass arranging : arrange){\r\n        //For-loop body here\r\n    }\r\n    return update;\r\n}  \r\n```\r\n\r\nHere `Base` and `Subclass` are the classes already defined.\r\n\r\nOnly one method should be there named `remove` because the functionality is same so redundancy will occur if I implement the same method twice just because of different datatype","title":"how to implement the method which have parameter same but different signature","body":"<p>I have to implement the function which have the same functionality but different return type and the parameter of the function is also same.</p>\n\n<pre><code>public static List&lt;Base&gt; remove(List&lt;Subclass&gt; arrange ) {\n    List&lt;Base&gt;update = new ArrayList&lt;&gt;();\n\n    for(Subclass arranging : arrange){\n        //For-loop body here\n    }\n    return update;\n}\n\npublic static List&lt;Subclass&gt; remove(List&lt;Subclass&gt; arrange ) {\n    List&lt;Subclass&gt;update = new ArrayList&lt;&gt;();\n\n    for(Subclass arranging : arrange){\n        //For-loop body here\n    }\n    return update;\n}  \n</code></pre>\n\n<p>Here <code>Base</code> and <code>Subclass</code> are the classes already defined.</p>\n\n<p>Only one method should be there named <code>remove</code> because the functionality is same so redundancy will occur if I implement the same method twice just because of different datatype</p>\n"},{"tags":["java","gradle","groovy","gradle-tooling-api"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1675402502,"creation_date":1558430464,"answer_id":56235127,"question_id":56233641,"body_markdown":"The entire `build.gradle` file is translated into a `project` object during the build&#39;s [initialization phase](https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html):\r\n\r\n&gt; There is a one-to-one relationship between a Project and a &quot;build.gradle&quot; file. During build initialisation, Gradle assembles a Project object for each project which is to participate in the build\r\n\r\nSo you can access any configuration (implicit or explicit) from your `build.gradle` by accessing the programatic `project` object model after the `build.gradle` file has been translated, during [execution phase](https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:build_phases)\r\n\r\nYou can do this in a customized gradle plugin or in a simple gradle type right inside your `build.gradle` (seems recursive; but that&#39;s why you have phases to delimit reading the file and accessing the `project` object).\r\n\r\nPaste the following task in your `build.gradle` and execute it in the command line (gradle diagnostics) to output all `plugins`, `configurations` and the names of the `tasks` present in the `build.gradle` file:\r\n\r\n```\r\ntask diagnostics {\r\n\tdoLast {\r\n\t\tprintln project.plugins\r\n\t\tprintln project.tasks*.name\r\n\t\tprintln project.configurations\r\n\t}\r\n}\r\n```\r\nThese links will help you check how to navigate to the different properties inside the gradle `project` object:\r\n\r\n- [Project DSL Reference](https://docs.gradle.org/current/dsl/org.gradle.api.Project.html)\r\n- [Project API Reference](https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html)\r\n\r\nFor properties and methods exposed by other plugins you have to reach the plugin first and then refer to their respective documentation to follow from there. Finally plugins may register what are know as [extensions](https://docs.gradle.org/current/dsl/org.gradle.api.plugins.ExtensionAware.html) right into the project object, so you can reach them as direct properties of the `project`.\r\n\r\nHope this helps.\r\n","title":"Access build.gradle contents programmatically","body":"<p>The entire <code>build.gradle</code> file is translated into a <code>project</code> object during the build's <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html\" rel=\"nofollow noreferrer\">initialization phase</a>:</p>\n<blockquote>\n<p>There is a one-to-one relationship between a Project and a &quot;build.gradle&quot; file. During build initialisation, Gradle assembles a Project object for each project which is to participate in the build</p>\n</blockquote>\n<p>So you can access any configuration (implicit or explicit) from your <code>build.gradle</code> by accessing the programatic <code>project</code> object model after the <code>build.gradle</code> file has been translated, during <a href=\"https://docs.gradle.org/current/userguide/build_lifecycle.html#sec:build_phases\" rel=\"nofollow noreferrer\">execution phase</a></p>\n<p>You can do this in a customized gradle plugin or in a simple gradle type right inside your <code>build.gradle</code> (seems recursive; but that's why you have phases to delimit reading the file and accessing the <code>project</code> object).</p>\n<p>Paste the following task in your <code>build.gradle</code> and execute it in the command line (gradle diagnostics) to output all <code>plugins</code>, <code>configurations</code> and the names of the <code>tasks</code> present in the <code>build.gradle</code> file:</p>\n<pre><code>task diagnostics {\n    doLast {\n        println project.plugins\n        println project.tasks*.name\n        println project.configurations\n    }\n}\n</code></pre>\n<p>These links will help you check how to navigate to the different properties inside the gradle <code>project</code> object:</p>\n<ul>\n<li><a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.Project.html\" rel=\"nofollow noreferrer\">Project DSL Reference</a></li>\n<li><a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html\" rel=\"nofollow noreferrer\">Project API Reference</a></li>\n</ul>\n<p>For properties and methods exposed by other plugins you have to reach the plugin first and then refer to their respective documentation to follow from there. Finally plugins may register what are know as <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.plugins.ExtensionAware.html\" rel=\"nofollow noreferrer\">extensions</a> right into the project object, so you can reach them as direct properties of the <code>project</code>.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":14058294,"reputation":285,"user_id":10155039,"display_name":"Prasanth Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56235127,"answer_count":1,"score":0,"last_activity_date":1675402502,"creation_date":1558425181,"question_id":56233641,"body_markdown":"Do we have any option to read the contents of the build.gradle file in a java program. I was able to do something similar in maven using the below code. Now, I&#39;m looking at options to do the same in gradle. I tried using Gradle-tooling-api as explained below, but getting some errors (not sure if I&#39;m following the right approach).\r\n\r\nreading pom.xml using MavenXpp3Reader\r\n\r\n        ```FileReader fileReader;\r\n        try {\r\n            fileReader = new FileReader(destPath);\r\n        } catch (FileNotFoundException fileNotFoundException) {\r\n            fileNotFoundException.printStackTrace();\r\n        }\r\n        MavenXpp3Reader reader = new MavenXpp3Reader();\r\n        Model pomModel = reader.read(fileReader);\r\n\r\n        //close the file reader\r\n        fileReader.close();\r\n        ```\r\n\r\nTried to leverage gradle-tooling-api as below, but got the below error.\r\n\r\n```\r\npublic class ToolingApiCustomModelPlugin implements Plugin&lt;Project&gt; {\r\n    private final ToolingModelBuilderRegistry registry;\r\n   \r\n    @Inject\r\n    public ToolingApiCustomModelPlugin(ToolingModelBuilderRegistry registry) {\r\n        this.registry = registry;\r\n    }\r\n\r\n    @Override\r\n    public void apply(Project project) {\r\n        registry.register(new CustomToolingModelBuilder());\r\n    }\r\n\r\n    private static class CustomToolingModelBuilder implements ToolingModelBuilder {\r\n        @Override\r\n        public boolean canBuild(String modelName) {\r\n            return modelName.equals(CustomModel.class.getName());\r\n        }\r\n\r\n        @Override\r\n        public Object buildAll(String modelName, Project project) {\r\n            List&lt;String&gt; pluginClassNames = new ArrayList&lt;String&gt;();\r\n\r\n            for(Plugin plugin : project.getPlugins()) {\r\n                pluginClassNames.add(plugin.getClass().getName());\r\n            }\r\n\r\n            return new DefaultModel(pluginClassNames);\r\n        }\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n        GradleConnector connector = GradleConnector.newConnector();\r\n        connector.forProjectDirectory(new File(&quot;./sample&quot;));\r\n        ProjectConnection connection = null;\r\n        \r\n        try {\r\n            connection = connector.connect();\r\n            ModelBuilder&lt;CustomModel&gt; customModelBuilder = connection.model(CustomModel.class);\r\n            //customModelBuilder.withArguments(&quot;--init-script&quot;, &quot;init.gradle&quot;);\r\n            CustomModel model = customModelBuilder.get();    \r\n}   \r\n```\r\n\r\nException in thread &quot;main&quot; org.gradle.tooling.UnknownModelException: No model of type &#39;CustomModel&#39; is available in this build.\r\n\r\nCaused by: org.gradle.tooling.provider.model.UnknownModelException: No builders are available to build a model of type &#39;org.gradle.sample.toolingapi.CustomModel&#39;.","title":"Access build.gradle contents programmatically","body":"<p>Do we have any option to read the contents of the build.gradle file in a java program. I was able to do something similar in maven using the below code. Now, I'm looking at options to do the same in gradle. I tried using Gradle-tooling-api as explained below, but getting some errors (not sure if I'm following the right approach).</p>\n\n<p>reading pom.xml using MavenXpp3Reader</p>\n\n<pre><code>    ```FileReader fileReader;\n    try {\n        fileReader = new FileReader(destPath);\n    } catch (FileNotFoundException fileNotFoundException) {\n        fileNotFoundException.printStackTrace();\n    }\n    MavenXpp3Reader reader = new MavenXpp3Reader();\n    Model pomModel = reader.read(fileReader);\n\n    //close the file reader\n    fileReader.close();\n    ```\n</code></pre>\n\n<p>Tried to leverage gradle-tooling-api as below, but got the below error.</p>\n\n<pre><code>public class ToolingApiCustomModelPlugin implements Plugin&lt;Project&gt; {\n    private final ToolingModelBuilderRegistry registry;\n\n    @Inject\n    public ToolingApiCustomModelPlugin(ToolingModelBuilderRegistry registry) {\n        this.registry = registry;\n    }\n\n    @Override\n    public void apply(Project project) {\n        registry.register(new CustomToolingModelBuilder());\n    }\n\n    private static class CustomToolingModelBuilder implements ToolingModelBuilder {\n        @Override\n        public boolean canBuild(String modelName) {\n            return modelName.equals(CustomModel.class.getName());\n        }\n\n        @Override\n        public Object buildAll(String modelName, Project project) {\n            List&lt;String&gt; pluginClassNames = new ArrayList&lt;String&gt;();\n\n            for(Plugin plugin : project.getPlugins()) {\n                pluginClassNames.add(plugin.getClass().getName());\n            }\n\n            return new DefaultModel(pluginClassNames);\n        }\n    }\n}\n\npublic static void main(String[] args) {\n        GradleConnector connector = GradleConnector.newConnector();\n        connector.forProjectDirectory(new File(\"./sample\"));\n        ProjectConnection connection = null;\n\n        try {\n            connection = connector.connect();\n            ModelBuilder&lt;CustomModel&gt; customModelBuilder = connection.model(CustomModel.class);\n            //customModelBuilder.withArguments(\"--init-script\", \"init.gradle\");\n            CustomModel model = customModelBuilder.get();    \n}   \n</code></pre>\n\n<p>Exception in thread \"main\" org.gradle.tooling.UnknownModelException: No model of type 'CustomModel' is available in this build.</p>\n\n<p>Caused by: org.gradle.tooling.provider.model.UnknownModelException: No builders are available to build a model of type 'org.gradle.sample.toolingapi.CustomModel'.</p>\n"},{"tags":["java","spring-boot","gradle","groovy","compilation"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675402494,"creation_date":1558397232,"answer_id":56229558,"question_id":56215988,"body_markdown":"This is multiple question scenario, so I am going to address it in parts.\r\n\r\n&gt; 1. Since all `3PP_X_module` have the same building requirements create a `build.gradle` in each of the submodules that refer to an actual build gradle that have the common functionality required:\r\n\r\n```\r\napply from: &#39;../tarArtifact.gradle&#39;\r\n```\r\n\r\n&gt; 2. In the parent folder create the previously referred `tarArtifact.gradle` to have the functionality to TAR the contents of a subfolder (arbitrarily chosen as `contents`) of a referring subproject:\r\n\r\n```\r\napply plugin: &#39;base&#39;\r\n\r\ntask tarContents(type: Tar) {\r\n\tfrom &#39;contents&#39;\r\n\tarchiveName = &quot;${project.name}.tar&quot;\r\n    destinationDir file(&#39;build/tar&#39;)\r\n}\r\n\r\nartifacts {\r\n\tarchives file: tarContents.archivePath, type: &#39;tar&#39;, builtBy: tarContents\r\n}\r\n```\r\n\r\nSince the `archives` configuration is wired to the output of the `tarContents` (`builtBy: tarContents`), then the `archives` configuration can be used to retrieve the desired `TAR` as the output of building this project naturally.\r\n\r\n&gt; 3. Create in `dist-module` the following `build.gradle` file:\r\n\r\n```\r\napply plugin: &#39;distribution&#39;\r\n\r\nplugins.withType(DistributionPlugin) {\r\n\tdistTar {\r\n\t\tcompression = Compression.GZIP\r\n\t\textension = &#39;tar.gz&#39;\r\n\t}\r\n}\r\n\r\nconfigurations {\r\n\twholeProjectDist\r\n}\r\n\r\ndependencies {\r\n\twholeProjectDist project(path: &#39;:3pp-a-module&#39;, configuration: &#39;archives&#39;)\r\n\twholeProjectDist project(path: &#39;:3pp-b-module&#39;, configuration: &#39;archives&#39;)\r\n\twholeProjectDist project(&#39;:lib-java-module&#39;)\r\n\twholeProjectDist project(&#39;:spring-boot-module&#39;)\r\n}\r\n\r\ndistributions {\r\n\tmain {\r\n\t\tcontents {\r\n\t\t\tfrom configurations.wholeProjectDist\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThis gradle file includes the following:\r\n\r\n- Applies the [Distribution plugin](https://docs.gradle.org/current/userguide/distribution_plugin.html), so we can generate the final `tar.gz` file from the artifacts generated by all the other subprojects.\r\n- Configures the `distTar` task (of the `DistributionPlugin` plugin) to compress any generated `TAR` using it by using `GZIP`.\r\n- Creates the configuration `wholeProjectDist` to capture the dependencies of `dist-module` itself; which we will use with the distribution plugin&#39;s tasks.\r\n- Declares the dependencies of `dist-module` as the artifacts output by the siblings&#39; subprojects; using the newly created `wholeProjectDist`.\r\n- Configures the distribution&#39;s plugin `main` configuration to have as `contents` all the files from `configurations.wholeProjectDist`\r\n\r\n&gt; 4. Create a `settings.gradle` file under `dist-module` to allow it to access its siblings modules using `includeFlat`:\r\n\r\n```\r\nincludeFlat &#39;3pp-a-module&#39;, &#39;3pp-b-module&#39;, &#39;lib-java-module&#39;, &#39;spring-boot-module&#39;\r\n```\r\n\r\n&gt; 5. Include in the parent folder a `settings.gradle` file to include all children submodules (as the root project):\r\n\r\n```\r\nincludeFlat &#39;3pp-a-module&#39;, &#39;3pp-b-module&#39;, &#39;lib-java-module&#39;, &#39;spring-boot-module&#39;\r\n```\r\n\r\n&gt; 6. Build the desired `tar.gz` files by invoking the gradle command (from the root folder):\r\n\r\n```\r\ngradle :dist-module:distTar\r\n```\r\n\r\nHope this helps.","title":"How to build distribution package in multi-module Gradle project?","body":"<p>This is multiple question scenario, so I am going to address it in parts.</p>\n<blockquote>\n<ol>\n<li>Since all <code>3PP_X_module</code> have the same building requirements create a <code>build.gradle</code> in each of the submodules that refer to an actual build gradle that have the common functionality required:</li>\n</ol>\n</blockquote>\n<pre><code>apply from: '../tarArtifact.gradle'\n</code></pre>\n<blockquote>\n<ol start=\"2\">\n<li>In the parent folder create the previously referred <code>tarArtifact.gradle</code> to have the functionality to TAR the contents of a subfolder (arbitrarily chosen as <code>contents</code>) of a referring subproject:</li>\n</ol>\n</blockquote>\n<pre><code>apply plugin: 'base'\n\ntask tarContents(type: Tar) {\n    from 'contents'\n    archiveName = &quot;${project.name}.tar&quot;\n    destinationDir file('build/tar')\n}\n\nartifacts {\n    archives file: tarContents.archivePath, type: 'tar', builtBy: tarContents\n}\n</code></pre>\n<p>Since the <code>archives</code> configuration is wired to the output of the <code>tarContents</code> (<code>builtBy: tarContents</code>), then the <code>archives</code> configuration can be used to retrieve the desired <code>TAR</code> as the output of building this project naturally.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Create in <code>dist-module</code> the following <code>build.gradle</code> file:</li>\n</ol>\n</blockquote>\n<pre><code>apply plugin: 'distribution'\n\nplugins.withType(DistributionPlugin) {\n    distTar {\n        compression = Compression.GZIP\n        extension = 'tar.gz'\n    }\n}\n\nconfigurations {\n    wholeProjectDist\n}\n\ndependencies {\n    wholeProjectDist project(path: ':3pp-a-module', configuration: 'archives')\n    wholeProjectDist project(path: ':3pp-b-module', configuration: 'archives')\n    wholeProjectDist project(':lib-java-module')\n    wholeProjectDist project(':spring-boot-module')\n}\n\ndistributions {\n    main {\n        contents {\n            from configurations.wholeProjectDist\n        }\n    }\n}\n</code></pre>\n<p>This gradle file includes the following:</p>\n<ul>\n<li>Applies the <a href=\"https://docs.gradle.org/current/userguide/distribution_plugin.html\" rel=\"nofollow noreferrer\">Distribution plugin</a>, so we can generate the final <code>tar.gz</code> file from the artifacts generated by all the other subprojects.</li>\n<li>Configures the <code>distTar</code> task (of the <code>DistributionPlugin</code> plugin) to compress any generated <code>TAR</code> using it by using <code>GZIP</code>.</li>\n<li>Creates the configuration <code>wholeProjectDist</code> to capture the dependencies of <code>dist-module</code> itself; which we will use with the distribution plugin's tasks.</li>\n<li>Declares the dependencies of <code>dist-module</code> as the artifacts output by the siblings' subprojects; using the newly created <code>wholeProjectDist</code>.</li>\n<li>Configures the distribution's plugin <code>main</code> configuration to have as <code>contents</code> all the files from <code>configurations.wholeProjectDist</code></li>\n</ul>\n<blockquote>\n<ol start=\"4\">\n<li>Create a <code>settings.gradle</code> file under <code>dist-module</code> to allow it to access its siblings modules using <code>includeFlat</code>:</li>\n</ol>\n</blockquote>\n<pre><code>includeFlat '3pp-a-module', '3pp-b-module', 'lib-java-module', 'spring-boot-module'\n</code></pre>\n<blockquote>\n<ol start=\"5\">\n<li>Include in the parent folder a <code>settings.gradle</code> file to include all children submodules (as the root project):</li>\n</ol>\n</blockquote>\n<pre><code>includeFlat '3pp-a-module', '3pp-b-module', 'lib-java-module', 'spring-boot-module'\n</code></pre>\n<blockquote>\n<ol start=\"6\">\n<li>Build the desired <code>tar.gz</code> files by invoking the gradle command (from the root folder):</li>\n</ol>\n</blockquote>\n<pre><code>gradle :dist-module:distTar\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1976,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56229558,"answer_count":1,"score":3,"last_activity_date":1675402494,"creation_date":1558336570,"question_id":56215988,"body_markdown":"I have seen this post https://stackoverflow.com/questions/17709707/gradle-multi-project-distribution but still have some doubts.  \r\nI would like to create the following project layout\r\n\r\n&lt;pre&gt;\r\nroot\r\n  |--lib-java-module\r\n  |--spring-boot-module\r\n  |--3PP_A_module         # not java \r\n  |       |-- custom scripts, config\r\n  |--3PP_B_module         # not java \r\n  |       |-- custom scripts, config\r\n  |--dist-module\r\n&lt;/pre&gt;\r\n\r\nAs you might have guessed, I want the dist-module to build myapp-dist.tar.gz with libjava.jar, sprintbootapp.jar, 3pp-a.tar, 3pp-b.tar.\r\n&lt;pre&gt;\r\nmyapp-dist.tar.gz\r\n   libjava.jar\r\n   sprintbootapp.jar\r\n   3pp-a.tar\r\n   3pp-b.tar.\r\n&lt;/pre&gt;\r\n\r\nThe 3pp-a-module and the 3pp-b-module only contain some configuration files and startup scripts. No java or any compiled code. How to package them individually into tar files (no compression)? \r\n\r\nHow to define dependencies in dist-module to the other modules? Is it possible to get the other modules built when build is triggered from dist-module?\r\n\r\n**Update:**\r\n\r\nI setup my test project based on @marco-r&#39;s answer and it works except for packaging the war file. Checkout the test project from github https://github.com/KiranMohan/study-spring-boot. \r\n\r\nThis is the project setup of interest.\r\n\r\n    include &#39;:sb-2.1-multi-package&#39;, &#39;:sb-2.1-multi-package:hello-rest-lib&#39;, \r\n            &#39;:sb-2.1-multi-package:hello-rest-standalone-jar&#39;,\r\n            &#39;:sb-2.1-multi-package:hello-rest-war&#39;\r\n    include &#39;sb-2.1-3pp-resources&#39;\r\n    include &#39;sb-2.1-build&#39;\r\n\r\nHowever adding hello-rest-war to sb-2.1-build.tar.gz fails.  \r\nInstead of war files, its the dependencies that are getting packaged.\r\n\r\n    dependencies {\r\n        archivesDeps    project(path: &#39;:sb-2.1-3pp-resources&#39;, configuration: &#39;archives&#39;)\r\n        javaDeps project(&quot;:sb-2.1-multi-package:hello-rest-war&quot;)\r\n    }\r\n    \r\n    ...    \r\n    task copyJavaDeps(type: Copy) {\r\n        inputs.files(configurations.javaDeps)\r\n        from configurations.javaDeps\r\n        into &quot;${ARCHIVE_DIRECTORY}/lib&quot;\r\n    }\r\n    \r\n    ...\r\n    // create distribution bundle\r\n    distributions {\r\n        main {\r\n            contents {\r\n                from ARCHIVE_DIRECTORY\r\n                into &quot;/springapp/multimodule&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nContents of the package\r\n\r\n    springapp/multimodule/lib/classmate-1.4.0.jar\r\n    springapp/multimodule/lib/hello-rest-lib-0.0.1-SNAPSHOT.jar\r\n    springapp/multimodule/lib/hibernate-validator-6.0.16.Final.jar\r\n    ...\r\n    springapp/multimodule/lib/tomcat-embed-websocket-9.0.17.jar\r\n    springapp/multimodule/lib/validation-api-2.0.1.Final.jar    \r\n    springapp/multimodule/sb-2.1-3pp-resources/config/3pp.json\r\n\r\nHow to package war file (hello-rest-war module) and without all the transitive dependencies?","title":"How to build distribution package in multi-module Gradle project?","body":"<p>I have seen this post <a href=\"https://stackoverflow.com/questions/17709707/gradle-multi-project-distribution\">Gradle multi project distribution</a> but still have some doubts.<br>\nI would like to create the following project layout</p>\n\n<pre>\nroot\n  |--lib-java-module\n  |--spring-boot-module\n  |--3PP_A_module         # not java \n  |       |-- custom scripts, config\n  |--3PP_B_module         # not java \n  |       |-- custom scripts, config\n  |--dist-module\n</pre>\n\n<p>As you might have guessed, I want the dist-module to build myapp-dist.tar.gz with libjava.jar, sprintbootapp.jar, 3pp-a.tar, 3pp-b.tar.</p>\n\n<pre>\nmyapp-dist.tar.gz\n   libjava.jar\n   sprintbootapp.jar\n   3pp-a.tar\n   3pp-b.tar.\n</pre>\n\n<p>The 3pp-a-module and the 3pp-b-module only contain some configuration files and startup scripts. No java or any compiled code. How to package them individually into tar files (no compression)? </p>\n\n<p>How to define dependencies in dist-module to the other modules? Is it possible to get the other modules built when build is triggered from dist-module?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I setup my test project based on @marco-r's answer and it works except for packaging the war file. Checkout the test project from github <a href=\"https://github.com/KiranMohan/study-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/KiranMohan/study-spring-boot</a>. </p>\n\n<p>This is the project setup of interest.</p>\n\n<pre><code>include ':sb-2.1-multi-package', ':sb-2.1-multi-package:hello-rest-lib', \n        ':sb-2.1-multi-package:hello-rest-standalone-jar',\n        ':sb-2.1-multi-package:hello-rest-war'\ninclude 'sb-2.1-3pp-resources'\ninclude 'sb-2.1-build'\n</code></pre>\n\n<p>However adding hello-rest-war to sb-2.1-build.tar.gz fails.<br>\nInstead of war files, its the dependencies that are getting packaged.</p>\n\n<pre><code>dependencies {\n    archivesDeps    project(path: ':sb-2.1-3pp-resources', configuration: 'archives')\n    javaDeps project(\":sb-2.1-multi-package:hello-rest-war\")\n}\n\n...    \ntask copyJavaDeps(type: Copy) {\n    inputs.files(configurations.javaDeps)\n    from configurations.javaDeps\n    into \"${ARCHIVE_DIRECTORY}/lib\"\n}\n\n...\n// create distribution bundle\ndistributions {\n    main {\n        contents {\n            from ARCHIVE_DIRECTORY\n            into \"/springapp/multimodule\"\n        }\n    }\n}\n</code></pre>\n\n<p>Contents of the package</p>\n\n<pre><code>springapp/multimodule/lib/classmate-1.4.0.jar\nspringapp/multimodule/lib/hello-rest-lib-0.0.1-SNAPSHOT.jar\nspringapp/multimodule/lib/hibernate-validator-6.0.16.Final.jar\n...\nspringapp/multimodule/lib/tomcat-embed-websocket-9.0.17.jar\nspringapp/multimodule/lib/validation-api-2.0.1.Final.jar    \nspringapp/multimodule/sb-2.1-3pp-resources/config/3pp.json\n</code></pre>\n\n<p>How to package war file (hello-rest-war module) and without all the transitive dependencies?</p>\n"},{"tags":["java","groovy","functional-programming"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675402486,"creation_date":1558309093,"answer_id":56212874,"question_id":56212797,"body_markdown":"You can use [`@ClosureParam`](http://docs.groovy-lang.org/latest/html/gapi/groovy/transform/stc/ClosureParams.html) to annotate your `Closure` argument declaration with its parameters specifications. In your particular case:\r\n\r\n```\r\nimport groovy.transform.stc.ClosureParams\r\nimport groovy.transform.stc.FirstParam\r\n\r\nint foo(int num, @ClosureParams(FirstParam) Closure closure) {\r\n\tdef sum = num\r\n\tsum += closure.call(5)\r\n}\r\n```\r\nwhere `FirstParam` is a *hint* that says that the argument of `closure` is of type equals as the *first parameter* of this method.\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/groovy/so/a56212874)","title":"How to give groovy closure parameter a type","body":"<p>You can use <a href=\"http://docs.groovy-lang.org/latest/html/gapi/groovy/transform/stc/ClosureParams.html\" rel=\"nofollow noreferrer\"><code>@ClosureParam</code></a> to annotate your <code>Closure</code> argument declaration with its parameters specifications. In your particular case:</p>\n<pre><code>import groovy.transform.stc.ClosureParams\nimport groovy.transform.stc.FirstParam\n\nint foo(int num, @ClosureParams(FirstParam) Closure closure) {\n    def sum = num\n    sum += closure.call(5)\n}\n</code></pre>\n<p>where <code>FirstParam</code> is a <em>hint</em> that says that the argument of <code>closure</code> is of type equals as the <em>first parameter</em> of this method.</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/groovy/so/a56212874\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n"}],"owner":{"account_id":5825764,"reputation":437,"user_id":4592228,"accept_rate":22,"display_name":"Claudiga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675402486,"creation_date":1558308056,"question_id":56212797,"body_markdown":"I know closures have implicit type &#39;it&#39; such that we can define a function \r\n\r\n    def int foo(int num, Closure closure){\r\n      def sum = num\r\n       sum+=closure.call(1)\r\n    }\r\n\r\nthen i call this function like\r\n\r\n    def total = foo(1,{it+1})\r\n    print total\r\n    //prints 2\r\n\r\n\r\nMy question  is how do i force the closure to take an explicit parameter of type int. Like how we can define lambda functions in java.","title":"How to give groovy closure parameter a type","body":"<p>I know closures have implicit type 'it' such that we can define a function </p>\n\n<pre><code>def int foo(int num, Closure closure){\n  def sum = num\n   sum+=closure.call(1)\n}\n</code></pre>\n\n<p>then i call this function like</p>\n\n<pre><code>def total = foo(1,{it+1})\nprint total\n//prints 2\n</code></pre>\n\n<p>My question  is how do i force the closure to take an explicit parameter of type int. Like how we can define lambda functions in java.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558309860,"creation_date":1558307755,"answer_id":56212772,"question_id":56212724,"body_markdown":" \r\n\r\n    public Rent(LocalDate dateOfRent) {\r\n           dateOfRent = LocalDate.now();\r\n     }\r\n\r\nYou are &quot;resetting&quot; the local parameter `dateOfRent`, not setting the member.  Try:\r\n\r\n    this.dateOfRent = LocalDate.now();\r\n\r\nThis is known as [parameter shadowing][1]. \r\n\r\n(btw: why even have the parameter?)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Variable_shadowing","title":"LocalDate in array gives me null result","body":"<pre><code>public Rent(LocalDate dateOfRent) {\n       dateOfRent = LocalDate.now();\n }\n</code></pre>\n\n<p>You are \"resetting\" the local parameter <code>dateOfRent</code>, not setting the member.  Try:</p>\n\n<pre><code>this.dateOfRent = LocalDate.now();\n</code></pre>\n\n<p>This is known as <a href=\"https://en.wikipedia.org/wiki/Variable_shadowing\" rel=\"nofollow noreferrer\">parameter shadowing</a>. </p>\n\n<p>(btw: why even have the parameter?)</p>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402467,"creation_date":1558307813,"answer_id":56212779,"question_id":56212724,"body_markdown":"Since your constructor argument has the same name as your field `dateOfRent` you have to use `this.dateOfRent` to reference the field, otherwise you are assigning the value to the argument variable. So change this:\r\n\r\n```\r\n\tpublic RentApp(LocalDate dateOfRent) {\r\n\t\tdateOfRent = LocalDate.now();\r\n\t}\r\n\r\n```\r\n\r\nwith this:\r\n\r\n```\r\n\tpublic RentApp(LocalDate dateOfRent) {\r\n//\t\tthis.dateOfRent = LocalDate.now(); // DON&#39;T YOU WANT TO USE THE ARGUMENT?\r\n\t\tthis.dateOfRent = dateOfRent;\r\n\t}\r\n```\r\n\r\nHope this helps.","title":"LocalDate in array gives me null result","body":"<p>Since your constructor argument has the same name as your field <code>dateOfRent</code> you have to use <code>this.dateOfRent</code> to reference the field, otherwise you are assigning the value to the argument variable. So change this:</p>\n<pre><code>    public RentApp(LocalDate dateOfRent) {\n        dateOfRent = LocalDate.now();\n    }\n\n</code></pre>\n<p>with this:</p>\n<pre><code>    public RentApp(LocalDate dateOfRent) {\n//      this.dateOfRent = LocalDate.now(); // DON'T YOU WANT TO USE THE ARGUMENT?\n        this.dateOfRent = dateOfRent;\n    }\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"display_name":"user11370982"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1558307849,"accepted_answer_id":56212779,"answer_count":2,"score":0,"last_activity_date":1675402467,"creation_date":1558307162,"question_id":56212724,"body_markdown":"I have an array of Rentals for my Book program. Date of Return must be not null. The date in LocalDate.parse must show up.\r\n\r\n\r\n\r\n\r\n````\r\npublic class Rent implements {\r\n\tprivate LocalDate dateOfRent;\r\n\r\n\r\n\tpublic Rent(LocalDate dateOfRent) {\r\n       dateOfRent = LocalDate.now();\r\n }\r\n\r\n\r\n public LocalDate getdateOfRent(){\r\n\t\t   return dateOfRent;\r\n\t\t }\r\n\r\n\t public void setLocalDate(LocalDate dateOfRent){\r\n\t\t   this.dateOfRent = dateOfRent;\r\n\t\t }\r\n\t \t \r\n\r\npublic String toString() {\r\n\t\treturn &quot;Date of Rent:&quot; + dateOfRent;\r\n\t}\r\n}\r\n````\r\nMy rental array\r\n````\r\nRent rentals = {\r\nLocalDate.parse(&quot;2008-05-16&quot;)\r\n};\r\n````","title":"LocalDate in array gives me null result","body":"<p>I have an array of Rentals for my Book program. Date of Return must be not null. The date in LocalDate.parse must show up.</p>\n\n<pre><code>public class Rent implements {\n    private LocalDate dateOfRent;\n\n\n    public Rent(LocalDate dateOfRent) {\n       dateOfRent = LocalDate.now();\n }\n\n\n public LocalDate getdateOfRent(){\n           return dateOfRent;\n         }\n\n     public void setLocalDate(LocalDate dateOfRent){\n           this.dateOfRent = dateOfRent;\n         }\n\n\npublic String toString() {\n        return \"Date of Rent:\" + dateOfRent;\n    }\n}\n</code></pre>\n\n<p>My rental array</p>\n\n<pre><code>Rent rentals = {\nLocalDate.parse(\"2008-05-16\")\n};\n</code></pre>\n"},{"tags":["java","spring","spring-boot","design-patterns","spring-data"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1558023280,"post_id":56172360,"comment_id":98971953,"body_markdown":"What is exact problem? Is `dao`&#39;s class derived from CrudRepository or its your custom class?","body":"What is exact problem? Is <code>dao</code>&#39;s class derived from CrudRepository or its your custom class?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1558023469,"post_id":56172360,"comment_id":98972045,"body_markdown":"Dao is a repository: `public interface PaymentTransactionRepository extends JpaRepository&lt;PaymentTransactions, Integer&gt;, JpaSpecificationExecutor&lt;PaymentTransactions&gt;` I can&#39;t find how to implement findAll with specification, paging and sort direction.","body":"Dao is a repository: <code>public interface PaymentTransactionRepository extends JpaRepository&lt;PaymentTransactions, Integer&gt;, JpaSpecificationExecutor&lt;PaymentTransactions&gt;</code> I can&#39;t find how to implement findAll with specification, paging and sort direction."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1558023759,"post_id":56172360,"comment_id":98972182,"body_markdown":"Am I missing something? You don&#39;t need to implement it as long as `JpaSpecificationExecutor` already provides `Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable);` method. Sorting settings are packed inside your PageRequest","body":"Am I missing something? You don&#39;t need to implement it as long as <code>JpaSpecificationExecutor</code> already provides <code>Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable);</code> method. Sorting settings are packed inside your PageRequest"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1558023968,"post_id":56172360,"comment_id":98972280,"body_markdown":"hm.... can you show me some code example please?","body":"hm.... can you show me some code example please?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1558024000,"post_id":56172360,"comment_id":98972291,"body_markdown":"And in my case I want to set `int page, int size`","body":"And in my case I want to set <code>int page, int size</code>"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1558024092,"post_id":56172360,"comment_id":98972335,"body_markdown":"I can&#39;t because I don&#39;t understand what is the problem. Update your post with [mcve]","body":"I can&#39;t because I don&#39;t understand what is the problem. Update your post with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675402454,"creation_date":1558294284,"answer_id":56211328,"question_id":56172360,"body_markdown":"You don&#39;t need anything else other than [`JpaSpecificationExecutor`](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html). Spring will use this interface to automatically create the:\r\n\r\n&gt; [`Page&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; spec, Pageable pageable)`](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html#findAll-org.springframework.data.jpa.domain.Specification-org.springframework.data.domain.Pageable-)\r\n\r\n method you seem to be looking for. So, it is unclear what the problem is, maybe you are importing the wrong classes? Or if you just want to generate `PageRequest` for the `getAllBySpecification` using `page` and `size` you can have something like this:\r\n\r\n```\r\n\tpublic Page&lt;Entity&gt; getAllBySpecification(\r\n\t\t\tSpecification&lt;Entity&gt; specification, \r\n\t\t\tint page, int size) {\r\n\t\t\r\n\t\treturn dao.findAll(specification, createMyPageRequest(page, size));\r\n\t}\r\n\r\n\tprivate PageRequest createMyPageRequest(int page, int size) {\r\n\t\treturn PageRequest.of(page, size, new Sort(Sort.Direction.DESC, &quot;createdAt&quot;));\r\n\t}\r\n```\r\n\r\nIn any event, if you need a complete compiling example of these APIs...\r\n\r\n&gt; can you show me some code example please?\r\n\r\n... here it is:\r\n\r\n```\r\nimport org.springframework.data.domain.*;\r\nimport org.springframework.data.jpa.domain.Specification;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\n\r\npublic class SortFunctionality {\r\n\tprivate Dao dao;\r\n\t\r\n\tpublic Page&lt;Entity&gt; findAll(int page, int size) {\r\n\t\treturn dao.findAll(createMyPageRequest(page, size));\r\n\t}\r\n\r\n\tpublic Page&lt;Entity&gt; getAllBySpecification(\r\n\t\t\tSpecification&lt;Entity&gt; specification, \r\n\t\t\tint page, int size) {\r\n\t\t\r\n\t\treturn dao.findAll(specification, createMyPageRequest(page, size));\r\n\t}\r\n\t\r\n    public Page&lt;Entity&gt; getAllBySpecification(\r\n    \t\tSpecification&lt;Entity&gt; specification, \r\n    \t\tPageable pageable) {\r\n    \t\r\n        PageRequest pageRequest = createMyPageRequest(\r\n        \t\tpageable.getPageNumber(), \r\n        \t\tpageable.getPageSize());\r\n        \r\n\t\treturn dao.findAll(specification, pageRequest);\r\n    }\t\r\n\r\n\tprivate PageRequest createMyPageRequest(int page, int size) {\r\n\t\treturn PageRequest.of(page, size, new Sort(Sort.Direction.DESC, &quot;createdAt&quot;));\r\n\t}\r\n\r\n\tstatic interface Dao extends \r\n\t\tJpaRepository&lt;Entity, Integer&gt;, JpaSpecificationExecutor&lt;Entity&gt; {}\r\n\t\r\n\tstatic class Entity {}\r\n}\r\n```\r\n**Additional Question&#39;s Edit:**\r\n\r\nYes you can achieve this by extracting the `pageNumber` and the `pageSize` from the `Pageable` argument and using them to create your custom `PageRequest` (`PageRequest` with hardcoded sorting criteria) with the `createMyPageRequest` utility that I included in the demo code. Finally, you can use that `PageRequest` to invoke the `findAll` method as usual:\r\n\r\n```\r\n    public Page&lt;Entity&gt; getAllBySpecification(\r\n    \t\tSpecification&lt;Entity&gt; specification, \r\n    \t\tPageable pageable) {\r\n    \t\r\n        PageRequest pageRequest = createMyPageRequest(\r\n        \t\tpageable.getPageNumber(), \r\n        \t\tpageable.getPageSize());\r\n        \r\n\t\treturn dao.findAll(specification, pageRequest);\r\n    }\t\r\n```\r\n\r\nI updated the previous full demo to reflect this new addition as well. Also it is a little bit refactored, so if you paste this new method over a copy previous version of the demo it will have errors.\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56211328)\r\n\r\nHope this helps.","title":"Sort order in search functionality","body":"<p>You don't need anything else other than <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html\" rel=\"nofollow noreferrer\"><code>JpaSpecificationExecutor</code></a>. Spring will use this interface to automatically create the:</p>\n<blockquote>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaSpecificationExecutor.html#findAll-org.springframework.data.jpa.domain.Specification-org.springframework.data.domain.Pageable-\" rel=\"nofollow noreferrer\"><code>Page&lt;T&gt; findAll(@Nullable Specification&lt;T&gt; spec, Pageable pageable)</code></a></p>\n</blockquote>\n<p>method you seem to be looking for. So, it is unclear what the problem is, maybe you are importing the wrong classes? Or if you just want to generate <code>PageRequest</code> for the <code>getAllBySpecification</code> using <code>page</code> and <code>size</code> you can have something like this:</p>\n<pre><code>    public Page&lt;Entity&gt; getAllBySpecification(\n            Specification&lt;Entity&gt; specification, \n            int page, int size) {\n        \n        return dao.findAll(specification, createMyPageRequest(page, size));\n    }\n\n    private PageRequest createMyPageRequest(int page, int size) {\n        return PageRequest.of(page, size, new Sort(Sort.Direction.DESC, &quot;createdAt&quot;));\n    }\n</code></pre>\n<p>In any event, if you need a complete compiling example of these APIs...</p>\n<blockquote>\n<p>can you show me some code example please?</p>\n</blockquote>\n<p>... here it is:</p>\n<pre><code>import org.springframework.data.domain.*;\nimport org.springframework.data.jpa.domain.Specification;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\n\npublic class SortFunctionality {\n    private Dao dao;\n    \n    public Page&lt;Entity&gt; findAll(int page, int size) {\n        return dao.findAll(createMyPageRequest(page, size));\n    }\n\n    public Page&lt;Entity&gt; getAllBySpecification(\n            Specification&lt;Entity&gt; specification, \n            int page, int size) {\n        \n        return dao.findAll(specification, createMyPageRequest(page, size));\n    }\n    \n    public Page&lt;Entity&gt; getAllBySpecification(\n            Specification&lt;Entity&gt; specification, \n            Pageable pageable) {\n        \n        PageRequest pageRequest = createMyPageRequest(\n                pageable.getPageNumber(), \n                pageable.getPageSize());\n        \n        return dao.findAll(specification, pageRequest);\n    }   \n\n    private PageRequest createMyPageRequest(int page, int size) {\n        return PageRequest.of(page, size, new Sort(Sort.Direction.DESC, &quot;createdAt&quot;));\n    }\n\n    static interface Dao extends \n        JpaRepository&lt;Entity, Integer&gt;, JpaSpecificationExecutor&lt;Entity&gt; {}\n    \n    static class Entity {}\n}\n</code></pre>\n<p><strong>Additional Question's Edit:</strong></p>\n<p>Yes you can achieve this by extracting the <code>pageNumber</code> and the <code>pageSize</code> from the <code>Pageable</code> argument and using them to create your custom <code>PageRequest</code> (<code>PageRequest</code> with hardcoded sorting criteria) with the <code>createMyPageRequest</code> utility that I included in the demo code. Finally, you can use that <code>PageRequest</code> to invoke the <code>findAll</code> method as usual:</p>\n<pre><code>    public Page&lt;Entity&gt; getAllBySpecification(\n            Specification&lt;Entity&gt; specification, \n            Pageable pageable) {\n        \n        PageRequest pageRequest = createMyPageRequest(\n                pageable.getPageNumber(), \n                pageable.getPageSize());\n        \n        return dao.findAll(specification, pageRequest);\n    }   \n</code></pre>\n<p>I updated the previous full demo to reflect this new addition as well. Also it is a little bit refactored, so if you paste this new method over a copy previous version of the demo it will have errors.</p>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56211328\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3065469,"reputation":1545,"user_id":2597267,"display_name":"Borislav Markov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1558299477,"creation_date":1558299477,"answer_id":56211951,"question_id":56172360,"body_markdown":"You can use only naming convention and let Spring generate implementation for you. You have to use Spring data JPA repositories. You can follow the examples given and refactor your logic accordingly.\r\n\r\n&gt; https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters\r\n\r\nIt also an take parameter Pageable.\r\nPlease look at the examples:\r\n\r\n    List&lt;Person&gt; findByLastnameOrderByFirstnameDesc(String lastname);\r\n\r\nAnd this one:\r\n\r\n    Page&lt;User&gt; findByLastname(String lastname, Pageable pageable);\r\n\r\nPageable and Slice are described in 4.4.4 Special parameter handling.","title":"Sort order in search functionality","body":"<p>You can use only naming convention and let Spring generate implementation for you. You have to use Spring data JPA repositories. You can follow the examples given and refactor your logic accordingly.</p>\n\n<blockquote>\n  <p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters</a></p>\n</blockquote>\n\n<p>It also an take parameter Pageable.\nPlease look at the examples:</p>\n\n<pre><code>List&lt;Person&gt; findByLastnameOrderByFirstnameDesc(String lastname);\n</code></pre>\n\n<p>And this one:</p>\n\n<pre><code>Page&lt;User&gt; findByLastname(String lastname, Pageable pageable);\n</code></pre>\n\n<p>Pageable and Slice are described in 4.4.4 Special parameter handling.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56211328,"answer_count":2,"score":4,"last_activity_date":1675402454,"creation_date":1558021823,"question_id":56172360,"body_markdown":"I use this code to get DB rows using JPA and Spring:\r\n\r\n    return transactionService.findAll(page, size)\r\n    \r\n    \r\n            public Page&lt;PaymentTransactions&gt; findAll(int page, int size) {\r\n    \t\treturn dao.findAll(PageRequest.of(page,size, new Sort(Sort.Direction.DESC, &quot;createdAt&quot;)));\r\n    \t    }\r\n\r\nI would like to implement the same sorting for this code:\r\n\r\n    return transactionService.getAllBySpecification(specification, pageable)\r\n    \r\n          @Override\r\n    \t  public Page&lt;PaymentTransactions&gt; getAllBySpecification(final Specification&lt;PaymentTransactions&gt; specification, final Pageable pageable) {\r\n    \t      return dao.findAll(specification, pageable);\r\n    \t  }\r\n\r\nDo you know how I can implement sorting direction by column using specification. Something like this:\r\n\r\n    return dao.findAll(specification, PageRequest.of(page,size, new Sort(Sort.Direction.DESC, &quot;createdAt&quot;)));\r\n\r\n**Additionnal question:**\r\n\r\nCan I set Pagable object with sort direction? Something like this:\r\n\r\n          @Override\r\n    \t  public Page&lt;PaymentTransactions&gt; getAllBySpecification(final Specification&lt;PaymentTransactions&gt; specification, final Pageable pageable) {\r\n    \t      return dao.findAll(specification, PageRequest.of(pageable, new Sort(Sort.Direction.DESC, &quot;createdAt&quot;)));\r\n    \t  }","title":"Sort order in search functionality","body":"<p>I use this code to get DB rows using JPA and Spring:</p>\n\n<pre><code>return transactionService.findAll(page, size)\n\n\n        public Page&lt;PaymentTransactions&gt; findAll(int page, int size) {\n        return dao.findAll(PageRequest.of(page,size, new Sort(Sort.Direction.DESC, \"createdAt\")));\n        }\n</code></pre>\n\n<p>I would like to implement the same sorting for this code:</p>\n\n<pre><code>return transactionService.getAllBySpecification(specification, pageable)\n\n      @Override\n      public Page&lt;PaymentTransactions&gt; getAllBySpecification(final Specification&lt;PaymentTransactions&gt; specification, final Pageable pageable) {\n          return dao.findAll(specification, pageable);\n      }\n</code></pre>\n\n<p>Do you know how I can implement sorting direction by column using specification. Something like this:</p>\n\n<pre><code>return dao.findAll(specification, PageRequest.of(page,size, new Sort(Sort.Direction.DESC, \"createdAt\")));\n</code></pre>\n\n<p><strong>Additionnal question:</strong></p>\n\n<p>Can I set Pagable object with sort direction? Something like this:</p>\n\n<pre><code>      @Override\n      public Page&lt;PaymentTransactions&gt; getAllBySpecification(final Specification&lt;PaymentTransactions&gt; specification, final Pageable pageable) {\n          return dao.findAll(specification, PageRequest.of(pageable, new Sort(Sort.Direction.DESC, \"createdAt\")));\n      }\n</code></pre>\n"},{"tags":["java","arrays","algorithm","design-patterns","collections"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1558261747,"post_id":56206814,"comment_id":99035429,"body_markdown":"the question is not clear. what is the type of the items in the array? is it `Double`? you want to sort the array to match the order of items in the list?","body":"the question is not clear. what is the type of the items in the array? is it <code>Double</code>? you want to sort the array to match the order of items in the list?"},{"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"score":0,"creation_date":1558262463,"post_id":56206814,"comment_id":99035589,"body_markdown":"*as in ArrayList which is already sorted.* Meaning same order as in another array list ?","body":"<i>as in ArrayList which is already sorted.</i> Meaning same order as in another array list ?"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1558262525,"post_id":56206814,"comment_id":99035599,"body_markdown":"I canât understand the question either, maybe you could add an example to help us understand what you want?","body":"I canât understand the question either, maybe you could add an example to help us understand what you want?"},{"owner":{"account_id":10372756,"reputation":35,"user_id":9046894,"display_name":"alexbako"},"score":0,"creation_date":1558265796,"post_id":56206814,"comment_id":99036256,"body_markdown":"@SharonbenAsher The items in the array are not Double. It&#39;s an array of Objects. The Object can be anything like Cars[] array = new Cars[] and yes I want to sort this to match the order in ArrayList&lt;Double&gt;","body":"@SharonbenAsher The items in the array are not Double. It&#39;s an array of Objects. The Object can be anything like Cars[] array = new Cars[] and yes I want to sort this to match the order in ArrayList&lt;Double&gt;"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":2,"creation_date":1558267681,"post_id":56206814,"comment_id":99036658,"body_markdown":"you cannot sort an array of `Object`s by anything other than `Object`&#39;s properties","body":"you cannot sort an array of <code>Object</code>s by anything other than <code>Object</code>&#39;s properties"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1558292329,"post_id":56206814,"comment_id":99043250,"body_markdown":"Please provide some sample data so we can understand your question. Currently, it is not clear how a list of double can be related to an array of object.","body":"Please provide some sample data so we can understand your question. Currently, it is not clear how a list of double can be related to an array of object."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675402449,"creation_date":1558262065,"answer_id":56206925,"question_id":56206814,"body_markdown":"A `Comparator` is not defined in terms of the `Collection` is going to operate over; but in terms of the *elements* is going to operate on.\r\n\r\nSo, your `Comparator` needs to be something like `Comparator&lt;Double&gt;` rather than `Comparator&lt;ArrayList&lt;Double&gt;&gt;`, then you can use it to sort any `Collection` including arrays indistinctly.\r\n\r\nThe following is a working demo of how a the SAME `Comparator` is used indistinctly to sort a `List` of custom objects and also to sort an array of the same custom objects:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic class SortArrayLists {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tComparator&lt;MyObject&gt; comparator = Comparator.comparingDouble(MyObject::getDoubleValue);\t\t\r\n\t\t\r\n\t\tMyObject[] array = new MyObject[] {\r\n\t\t\t\tnew MyObject(55),\r\n\t\t\t\tnew MyObject(17.3),\r\n\t\t\t\tnew MyObject(2.43),\r\n\t\t\t\tnew MyObject(375),\r\n\t\t\t\tnew MyObject(100),\r\n\t\t\t\tnew MyObject(255)\r\n\t\t};\r\n\t\tList&lt;MyObject&gt; list = Arrays.asList(array);\r\n\t\tlist.sort(comparator);\r\n\t\tArrays.sort(array, comparator);\r\n\r\n\t\tlist.stream().forEach(System.out::println);\r\n\t\tSystem.out.println(&quot;\\n\\n&quot;);\r\n\t\tArrays.stream(array).forEach(System.out::println);\r\n\t}\r\n\r\n\tstatic class MyObject {\r\n\t\tprivate double doubleValue;\r\n\r\n\t\tpublic MyObject(double doubleValue) {\r\n\t\t\tthis.doubleValue = doubleValue;\r\n\t\t}\r\n\r\n\t\tpublic double getDoubleValue() {\r\n\t\t\treturn doubleValue;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String toString() {\r\n\t\t\treturn doubleValue + &quot;&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56206925)\r\n\r\nHope this helps.","title":"Sorting Array according to ArrayList using comparator","body":"<p>A <code>Comparator</code> is not defined in terms of the <code>Collection</code> is going to operate over; but in terms of the <em>elements</em> is going to operate on.</p>\n<p>So, your <code>Comparator</code> needs to be something like <code>Comparator&lt;Double&gt;</code> rather than <code>Comparator&lt;ArrayList&lt;Double&gt;&gt;</code>, then you can use it to sort any <code>Collection</code> including arrays indistinctly.</p>\n<p>The following is a working demo of how a the SAME <code>Comparator</code> is used indistinctly to sort a <code>List</code> of custom objects and also to sort an array of the same custom objects:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class SortArrayLists {\n\n    public static void main(String[] args) {\n        Comparator&lt;MyObject&gt; comparator = Comparator.comparingDouble(MyObject::getDoubleValue);     \n        \n        MyObject[] array = new MyObject[] {\n                new MyObject(55),\n                new MyObject(17.3),\n                new MyObject(2.43),\n                new MyObject(375),\n                new MyObject(100),\n                new MyObject(255)\n        };\n        List&lt;MyObject&gt; list = Arrays.asList(array);\n        list.sort(comparator);\n        Arrays.sort(array, comparator);\n\n        list.stream().forEach(System.out::println);\n        System.out.println(&quot;\\n\\n&quot;);\n        Arrays.stream(array).forEach(System.out::println);\n    }\n\n    static class MyObject {\n        private double doubleValue;\n\n        public MyObject(double doubleValue) {\n            this.doubleValue = doubleValue;\n        }\n\n        public double getDoubleValue() {\n            return doubleValue;\n        }\n        \n        public String toString() {\n            return doubleValue + &quot;&quot;;\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56206925\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":10372756,"reputation":35,"user_id":9046894,"display_name":"alexbako"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675402449,"creation_date":1558260901,"question_id":56206814,"body_markdown":"I&#39;m trying to sort an Array (Object hits[]) that stores Objects and I need to be sorted with the exact order (asceding, descending) as in ArrayList&lt;Double&gt; which is already sorted. These two are not related in any way.\r\n\r\nI have seen similar problems, with the difference that you sort the ArrayList using the order in the Array. But I want the opposite.\r\nI tried to convert the ArrayList to simple Array and go from there, so the problem becomes &quot;sorting array using another array&quot; but that didn&#39;t really helped me since I want &quot;sorting array of Objects using another array&quot;.\r\n\r\n    Arrays.sort(hits, new Comparator&lt;ArrayList&lt;Double&gt;&gt;() {\r\n\t    \t@Override\r\n\t    \tpublic int compare(ArrayList&lt;Double&gt; c1, ArrayList&lt;Double&gt; c2) {\r\n\t    \t      return Double.compare(c1.get(0), c2.get(0));\r\n\t    \t}\r\n\t    });\r\n\r\nI want something in the vein of the code above, which is giving me the error &quot;not applicable&quot; with the types I&#39;m currently using as arguments.","title":"Sorting Array according to ArrayList using comparator","body":"<p>I'm trying to sort an Array (Object hits[]) that stores Objects and I need to be sorted with the exact order (asceding, descending) as in ArrayList which is already sorted. These two are not related in any way.</p>\n\n<p>I have seen similar problems, with the difference that you sort the ArrayList using the order in the Array. But I want the opposite.\nI tried to convert the ArrayList to simple Array and go from there, so the problem becomes \"sorting array using another array\" but that didn't really helped me since I want \"sorting array of Objects using another array\".</p>\n\n<pre><code>Arrays.sort(hits, new Comparator&lt;ArrayList&lt;Double&gt;&gt;() {\n        @Override\n        public int compare(ArrayList&lt;Double&gt; c1, ArrayList&lt;Double&gt; c2) {\n              return Double.compare(c1.get(0), c2.get(0));\n        }\n    });\n</code></pre>\n\n<p>I want something in the vein of the code above, which is giving me the error \"not applicable\" with the types I'm currently using as arguments.</p>\n"},{"tags":["java","algorithm","design-patterns","collections","java-8"],"comments":[{"owner":{"account_id":2172,"reputation":364880,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"score":0,"creation_date":1558251798,"post_id":56205718,"comment_id":99033219,"body_markdown":"What is the code you are having trouble with? What trouble do you have with your code? Do you get an error message? What is the error message? Is the result you are getting not the result you are expecting? What result do you expect and why, what is the result you are getting and how do the two differ? Is the behavior you are observing not the desired behavior? What is the desired behavior and why, what is the observed behavior, and in what way do they differ? Please, provide a [mcve].","body":"What is the code you are having trouble with? What trouble do you have with your code? Do you get an error message? What is the error message? Is the result you are getting not the result you are expecting? What result do you expect and why, what is the result you are getting and how do the two differ? Is the behavior you are observing not the desired behavior? What is the desired behavior and why, what is the observed behavior, and in what way do they differ? Please, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":10525953,"reputation":4129,"user_id":7756971,"display_name":"gamechanger17"},"score":0,"creation_date":1558254181,"post_id":56205718,"comment_id":99033720,"body_markdown":"Hi I expanded my question","body":"Hi I expanded my question"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675402443,"creation_date":1558260993,"answer_id":56206826,"question_id":56205718,"body_markdown":"It is always best to abstract away logical units of data within classes. In your problem you have two clear units:\r\n\r\n1. Words occurrence (word string and line numbers).\r\n\r\n\t\t\tclass WordOccurrence {\r\n\t\t\t\tprivate final String word;\r\n\t\t\t\tprivate final int lineNumber;\r\n\t\t\t\t\r\n\t\t\t\t...\r\n\t\t\t}\r\n\r\n2. Statistics about words (number occurrences, set of line numbers where they occur, etc).\r\n\r\n\t\t\tclass WordStats {\r\n\t\t\t\tprivate List&lt;Word&gt; occurrences;\r\n\t\t\t\r\n\t\t\t\tpublic String getWord() { ... }\r\n\t\t\t\tpublic int getCount() { ... }\r\n\t\t\t\tpublic Set&lt;Integer&gt; getLines() { ... }\r\n\t\t\t}\r\n\r\nWith these classes you can first break down your `text` into a `Map` of `List` of `WordOccurrence`; so for each different word, the `Map` will contain an entry with:\r\n\r\n1. Key equal to the actual `String` word \r\n2. Value equal to a `List` containing `WordOccurrence` objects for each of its occurrences in the `text`\r\n\r\nYou can achieve this with something like:\r\n\r\n```\r\n\tpublic static Map&lt;String, List&lt;WordOccurrence&gt;&gt; createOccurrencesMap(String text) {\r\n\t\ttext = text.replaceAll(&quot;\\\\.&quot;, &quot; &quot;);\r\n//\t\ttext = text.replaceAll(&quot;&#39;s&quot;, &quot;&quot;); // dog&#39;s != dog ???\r\n\t\tMap&lt;String, List&lt;WordOccurrence&gt;&gt; result = new HashMap&lt;&gt;();\r\n\t\tString[] lines = text.split(&quot;\\n&quot;);\r\n\t\tfor (int i = 0; i &lt; lines.length; i++)\r\n\t\t\tfor (String word : lines[i].split(&quot;\\\\s+&quot;)) \r\n\t\t\t\tresult.computeIfAbsent(word, w -&gt; new ArrayList&lt;&gt;())\r\n\t\t\t\t\t\t\t.add(new WordOccurrence(word, i + 1));\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n```\r\nThen you can easily transform this map into a `List` of `WordStats` (sorted using a flexible parametrizable criteria) with something like this:\r\n\r\n```\r\n\tList&lt;WordStats&gt; createStats(String text, Comparator&lt;WordStats&gt; sortingCriteria) {\r\n\t\treturn createOccurrencesMap(text).values().stream()\r\n\t\t\t\t.map(WordStats::new)\r\n\t\t\t\t.sorted(sortingCriteria)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t}\r\n```\r\nAnd that&#39;s it! Once you break down your problem into smaller intuitively logically grouped components (classes, methods, data structure, etc), the only thing left is to wire them all up. \r\n\r\nThe following code is a complete working demo of this solution for you to play with:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class CountWords {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString text = &quot;the quick brown fox jumped over the lazy dog&#39;s bowl.\\nthe dog was angry with the fox for considering him lazy.&quot;;\r\n\t\tComparator&lt;WordStats&gt; sortingCriteria = Comparator\r\n\t\t\t\t.comparing(WordStats::getCount).reversed()\r\n\t\t\t\t.thenComparing(WordStats::getWord);\r\n\r\n\t\tcreateStats(text, sortingCriteria).forEach(System.out::println);\r\n\t}\r\n\r\n\tpublic static List&lt;WordStats&gt; createStats(String text, Comparator&lt;WordStats&gt; sortingCriteria) {\r\n\t\treturn createOccurrencesMap(text).values().stream()\r\n\t\t\t\t.map(WordStats::new)\r\n\t\t\t\t.sorted(sortingCriteria)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t}\r\n\t\r\n\tpublic static Map&lt;String, List&lt;WordOccurrence&gt;&gt; createOccurrencesMap(String text) {\r\n\t\ttext = text.replaceAll(&quot;\\\\.&quot;, &quot; &quot;);\r\n//\t\ttext = text.replaceAll(&quot;&#39;s&quot;, &quot;&quot;); // dog&#39;s != dog ???\r\n\t\tMap&lt;String, List&lt;WordOccurrence&gt;&gt; result = new HashMap&lt;&gt;();\r\n\t\tString[] lines = text.split(&quot;\\n&quot;);\r\n\t\tfor (int i = 0; i &lt; lines.length; i++)\r\n\t\t\tfor (String word : lines[i].split(&quot;\\\\s+&quot;)) \r\n\t\t\t\tresult.computeIfAbsent(word, w -&gt; new ArrayList&lt;&gt;())\r\n\t\t\t\t\t\t\t.add(new WordOccurrence(word, i + 1));\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tstatic class WordStats {\r\n\t\tprivate List&lt;WordOccurrence&gt; occurrences;\r\n\r\n\t\tpublic WordStats(List&lt;WordOccurrence&gt; words) {\r\n\t\t\tthis.occurrences = words;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getWord() {\r\n\t\t\treturn occurrences.get(0).getWord();\r\n\t\t}\r\n\r\n\t\tpublic int getCount() {\r\n\t\t\treturn occurrences.size();\r\n\t\t}\r\n\t\t\r\n\t\tpublic Set&lt;Integer&gt; getLines() {\r\n\t\t\treturn occurrences.stream().map(WordOccurrence::getLineNumber).collect(Collectors.toSet());\r\n\t\t}\r\n\t\t\r\n\t\tpublic String toString() {\r\n\t\t\treturn String.format(&quot;%s %d %s&quot;, getWord(), getCount(), getLines());\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic class WordOccurrence {\r\n\t\tprivate final String word;\r\n\t\tprivate final int lineNumber;\r\n\r\n\t\tpublic WordOccurrence(String word, int lineNumber) {\r\n\t\t\tthis.word = word;\r\n\t\t\tthis.lineNumber = lineNumber;\r\n\t\t}\r\n\r\n\t\tpublic String getWord() {\r\n\t\t\treturn word;\r\n\t\t}\r\n\r\n\t\tpublic int getLineNumber() {\r\n\t\t\treturn lineNumber;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String toString() {\r\n\t\t\treturn word + &quot;@&quot; + lineNumber;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56206826)\r\n\r\nHope this helps.\r\n","title":"How to sort the map as per the word occurrence in a string array","body":"<p>It is always best to abstract away logical units of data within classes. In your problem you have two clear units:</p>\n<ol>\n<li><p>Words occurrence (word string and line numbers).</p>\n<pre><code>     class WordOccurrence {\n         private final String word;\n         private final int lineNumber;\n\n         ...\n     }\n</code></pre>\n</li>\n<li><p>Statistics about words (number occurrences, set of line numbers where they occur, etc).</p>\n<pre><code>     class WordStats {\n         private List&lt;Word&gt; occurrences;\n\n         public String getWord() { ... }\n         public int getCount() { ... }\n         public Set&lt;Integer&gt; getLines() { ... }\n     }\n</code></pre>\n</li>\n</ol>\n<p>With these classes you can first break down your <code>text</code> into a <code>Map</code> of <code>List</code> of <code>WordOccurrence</code>; so for each different word, the <code>Map</code> will contain an entry with:</p>\n<ol>\n<li>Key equal to the actual <code>String</code> word</li>\n<li>Value equal to a <code>List</code> containing <code>WordOccurrence</code> objects for each of its occurrences in the <code>text</code></li>\n</ol>\n<p>You can achieve this with something like:</p>\n<pre><code>    public static Map&lt;String, List&lt;WordOccurrence&gt;&gt; createOccurrencesMap(String text) {\n        text = text.replaceAll(&quot;\\\\.&quot;, &quot; &quot;);\n//      text = text.replaceAll(&quot;'s&quot;, &quot;&quot;); // dog's != dog ???\n        Map&lt;String, List&lt;WordOccurrence&gt;&gt; result = new HashMap&lt;&gt;();\n        String[] lines = text.split(&quot;\\n&quot;);\n        for (int i = 0; i &lt; lines.length; i++)\n            for (String word : lines[i].split(&quot;\\\\s+&quot;)) \n                result.computeIfAbsent(word, w -&gt; new ArrayList&lt;&gt;())\n                            .add(new WordOccurrence(word, i + 1));\n        \n        return result;\n    }\n</code></pre>\n<p>Then you can easily transform this map into a <code>List</code> of <code>WordStats</code> (sorted using a flexible parametrizable criteria) with something like this:</p>\n<pre><code>    List&lt;WordStats&gt; createStats(String text, Comparator&lt;WordStats&gt; sortingCriteria) {\n        return createOccurrencesMap(text).values().stream()\n                .map(WordStats::new)\n                .sorted(sortingCriteria)\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>And that's it! Once you break down your problem into smaller intuitively logically grouped components (classes, methods, data structure, etc), the only thing left is to wire them all up.</p>\n<p>The following code is a complete working demo of this solution for you to play with:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\npublic class CountWords {\n\n    public static void main(String[] args) {\n        String text = &quot;the quick brown fox jumped over the lazy dog's bowl.\\nthe dog was angry with the fox for considering him lazy.&quot;;\n        Comparator&lt;WordStats&gt; sortingCriteria = Comparator\n                .comparing(WordStats::getCount).reversed()\n                .thenComparing(WordStats::getWord);\n\n        createStats(text, sortingCriteria).forEach(System.out::println);\n    }\n\n    public static List&lt;WordStats&gt; createStats(String text, Comparator&lt;WordStats&gt; sortingCriteria) {\n        return createOccurrencesMap(text).values().stream()\n                .map(WordStats::new)\n                .sorted(sortingCriteria)\n                .collect(Collectors.toList());\n    }\n    \n    public static Map&lt;String, List&lt;WordOccurrence&gt;&gt; createOccurrencesMap(String text) {\n        text = text.replaceAll(&quot;\\\\.&quot;, &quot; &quot;);\n//      text = text.replaceAll(&quot;'s&quot;, &quot;&quot;); // dog's != dog ???\n        Map&lt;String, List&lt;WordOccurrence&gt;&gt; result = new HashMap&lt;&gt;();\n        String[] lines = text.split(&quot;\\n&quot;);\n        for (int i = 0; i &lt; lines.length; i++)\n            for (String word : lines[i].split(&quot;\\\\s+&quot;)) \n                result.computeIfAbsent(word, w -&gt; new ArrayList&lt;&gt;())\n                            .add(new WordOccurrence(word, i + 1));\n        \n        return result;\n    }\n    \n    static class WordStats {\n        private List&lt;WordOccurrence&gt; occurrences;\n\n        public WordStats(List&lt;WordOccurrence&gt; words) {\n            this.occurrences = words;\n        }\n        \n        public String getWord() {\n            return occurrences.get(0).getWord();\n        }\n\n        public int getCount() {\n            return occurrences.size();\n        }\n        \n        public Set&lt;Integer&gt; getLines() {\n            return occurrences.stream().map(WordOccurrence::getLineNumber).collect(Collectors.toSet());\n        }\n        \n        public String toString() {\n            return String.format(&quot;%s %d %s&quot;, getWord(), getCount(), getLines());\n        }\n    }\n    \n    static class WordOccurrence {\n        private final String word;\n        private final int lineNumber;\n\n        public WordOccurrence(String word, int lineNumber) {\n            this.word = word;\n            this.lineNumber = lineNumber;\n        }\n\n        public String getWord() {\n            return word;\n        }\n\n        public int getLineNumber() {\n            return lineNumber;\n        }\n        \n        public String toString() {\n            return word + &quot;@&quot; + lineNumber;\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56206826\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":10525953,"reputation":4129,"user_id":7756971,"display_name":"gamechanger17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":56206826,"answer_count":1,"score":0,"last_activity_date":1675402443,"creation_date":1558251549,"question_id":56205718,"body_markdown":"I am writing a java program logic for printing wrods with number of occurance and line number. Below is the code\r\n\r\n    package test;\r\n    import java.util.HashMap;\r\n     import java.util.Scanner;\r\n     import java.util.Set;\r\n    \r\n     public class Countcharacters {\r\n    \r\n    /**\r\n     * @param args\r\n     */\r\n    static HashMap&lt;String, Integer&gt; countcharact=new HashMap&lt;&gt;();\r\n    static HashMap&lt;String, String&gt; linenumbertrack=new HashMap&lt;&gt;();\r\n    static int count=1;\r\n    static void countwords(String line){\r\n        //System.out.println(line);\r\n        String[] input=line.split(&quot;\\\\s&quot;);\r\n        int j=0;\r\n        String linenumber=&quot;&quot;;\r\n        for(int i=0;i&lt;input.length;i++){\r\n            //System.out.println(input[i]);\r\n            if(countcharact.containsKey(input[i])==true){\r\n                j=countcharact.get(input[i]);\r\n                linenumber=linenumbertrack.get(input[i]);\r\n                countcharact.put(input[i],j+1);\r\n                linenumbertrack.put(input[i],linenumber+&quot;, &quot;+count);\r\n    \r\n            }\r\n            else{\r\n                countcharact.put(input[i], 1);\r\n                linenumbertrack.put(input[i],count+&quot;&quot; );\r\n            }\r\n    \r\n        }\r\n        count++;\r\n    \r\n    \r\n    }\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n       String inp=&quot;the quick brown fox jumped over the lazy dog&#39;s bowl.\\nthe dog was angry with the fox for considering him lazy.&quot;;\r\n       String[] line=inp.split(&quot;\\n&quot;);\r\n       for(int i=0;i&lt;line.length;i++){\r\n           Countcharacters.countwords(line[i]);\r\n       }\r\n        Set&lt;String&gt; s=countcharact.keySet();\r\n        for(String c:s){\r\n            System.out.println(c+&quot; &quot;+countcharact.get(c)+&quot; &quot;+&quot;[&quot;+linenumbertrack.get(c)+&quot;]&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nThe output I am getting is \r\n\r\n    over 1 [1]\r\n    quick 1 [1]\r\n    lazy. 1 [2]\r\n    lazy 1 [1]\r\n    considering 1 [2]\r\n    jumped 1 [1]\r\n    was 1 [2]\r\n    for 1 [2]\r\n    angry 1 [2]\r\n    brown 1 [1]\r\n    him 1 [2]\r\n    fox 2 [1, 2]\r\n    the 4 [1, 1, 2, 2]\r\n    with 1 [2]\r\n    bowl. 1 [1]\r\n    dog&#39;s 1 [1]\r\n    dog 1 [2]\r\n\r\nBut I am having two issue.\r\n\r\n1st: if you see &quot;the&quot; occurrence is 4 but number of line is [1,1,2,2] instead it should be [1,2] only.\r\n\r\n2nd: I want to sort them. It should be sorted first by descending order of cardinality and then alphabetical order. \r\n\r\nLike this:\r\n\r\n    the 4 [1,2]\r\n    fox 2 [1,2]\r\n    lazy 2 [1,2]\r\n    angry 1 [1]\r\n    bowl 1 [1]\r\n    .\r\n    .\r\n\r\n","title":"How to sort the map as per the word occurrence in a string array","body":"<p>I am writing a java program logic for printing wrods with number of occurance and line number. Below is the code</p>\n\n<pre><code>package test;\nimport java.util.HashMap;\n import java.util.Scanner;\n import java.util.Set;\n\n public class Countcharacters {\n\n/**\n * @param args\n */\nstatic HashMap&lt;String, Integer&gt; countcharact=new HashMap&lt;&gt;();\nstatic HashMap&lt;String, String&gt; linenumbertrack=new HashMap&lt;&gt;();\nstatic int count=1;\nstatic void countwords(String line){\n    //System.out.println(line);\n    String[] input=line.split(\"\\\\s\");\n    int j=0;\n    String linenumber=\"\";\n    for(int i=0;i&lt;input.length;i++){\n        //System.out.println(input[i]);\n        if(countcharact.containsKey(input[i])==true){\n            j=countcharact.get(input[i]);\n            linenumber=linenumbertrack.get(input[i]);\n            countcharact.put(input[i],j+1);\n            linenumbertrack.put(input[i],linenumber+\", \"+count);\n\n        }\n        else{\n            countcharact.put(input[i], 1);\n            linenumbertrack.put(input[i],count+\"\" );\n        }\n\n    }\n    count++;\n\n\n}\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n   String inp=\"the quick brown fox jumped over the lazy dog's bowl.\\nthe dog was angry with the fox for considering him lazy.\";\n   String[] line=inp.split(\"\\n\");\n   for(int i=0;i&lt;line.length;i++){\n       Countcharacters.countwords(line[i]);\n   }\n    Set&lt;String&gt; s=countcharact.keySet();\n    for(String c:s){\n        System.out.println(c+\" \"+countcharact.get(c)+\" \"+\"[\"+linenumbertrack.get(c)+\"]\");\n    }\n\n}\n\n}\n</code></pre>\n\n<p>The output I am getting is </p>\n\n<pre><code>over 1 [1]\nquick 1 [1]\nlazy. 1 [2]\nlazy 1 [1]\nconsidering 1 [2]\njumped 1 [1]\nwas 1 [2]\nfor 1 [2]\nangry 1 [2]\nbrown 1 [1]\nhim 1 [2]\nfox 2 [1, 2]\nthe 4 [1, 1, 2, 2]\nwith 1 [2]\nbowl. 1 [1]\ndog's 1 [1]\ndog 1 [2]\n</code></pre>\n\n<p>But I am having two issue.</p>\n\n<p>1st: if you see \"the\" occurrence is 4 but number of line is [1,1,2,2] instead it should be [1,2] only.</p>\n\n<p>2nd: I want to sort them. It should be sorted first by descending order of cardinality and then alphabetical order. </p>\n\n<p>Like this:</p>\n\n<pre><code>the 4 [1,2]\nfox 2 [1,2]\nlazy 2 [1,2]\nangry 1 [1]\nbowl 1 [1]\n.\n.\n</code></pre>\n"},{"tags":["java","algorithm","design-patterns","lambda","functional-interface"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1558228698,"post_id":56204034,"comment_id":99030244,"body_markdown":"I don&#39;t actually see a problem statement explaining what you are trying to achieve.  You might want to add this to your question for best results here.","body":"I don&#39;t actually see a problem statement explaining what you are trying to achieve.  You might want to add this to your question for best results here."},{"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"score":0,"creation_date":1558231952,"post_id":56204034,"comment_id":99030579,"body_markdown":"Please clarify your question. Are you trying to find not only the minimum distance between any two values but also the indices of those values that correspond to the minimum distance?","body":"Please clarify your question. Are you trying to find not only the minimum distance between any two values but also the indices of those values that correspond to the minimum distance?"},{"owner":{"account_id":13626309,"reputation":23,"user_id":11015686,"display_name":"revilo zednem"},"score":0,"creation_date":1558234292,"post_id":56204034,"comment_id":99030808,"body_markdown":"Yes bro! @PhilipWrage","body":"Yes bro! @PhilipWrage"}],"answers":[{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558240724,"creation_date":1558240724,"answer_id":56204789,"question_id":56204034,"body_markdown":"I found this on the Internet. Are you doing this exercise?\r\n\r\nReference: https://www.geeksforgeeks.org/find-the-minimum-distance-between-two-numbers/\r\n    \r\n    \r\n    public class MinimumDistance {\r\n        int minDist(int arr[], int n, int x, int y)  \r\n        { \r\n            int i, j; \r\n            int min_dist = Integer.MAX_VALUE; \r\n            for (i = 0; i &lt; n; i++)  \r\n            { \r\n                for (j = i + 1; j &lt; n; j++)  \r\n                { \r\n                    if ((x == arr[i] &amp;&amp; y == arr[j] \r\n                        || y == arr[i] &amp;&amp; x == arr[j]) \r\n                        &amp;&amp; min_dist &gt; Math.abs(i - j))  \r\n                        min_dist = Math.abs(i - j); \r\n                } \r\n            } \r\n            return min_dist; \r\n        } \r\n      \r\n        public static void main(String[] args)  \r\n        { \r\n        \tMinimumDistance min = new MinimumDistance(); \r\n            int arr[] = {3, 5, 4, 2, 6, 5, 6, 6, 5, 4, 8, 3}; \r\n            int n = arr.length; \r\n            int x = 3; \r\n            int y = 6; \r\n      \r\n            System.out.println(&quot;Minimum distance between &quot; + x + &quot; and &quot; + y  \r\n                    + &quot; is &quot; + min.minDist(arr, n, x, y)); \r\n        } \r\n    }\r\n\r\n","title":"Find the positions in which the elements located in these have the least distance between them","body":"<p>I found this on the Internet. Are you doing this exercise?</p>\n\n<p>Reference: <a href=\"https://www.geeksforgeeks.org/find-the-minimum-distance-between-two-numbers/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/find-the-minimum-distance-between-two-numbers/</a></p>\n\n<pre><code>public class MinimumDistance {\n    int minDist(int arr[], int n, int x, int y)  \n    { \n        int i, j; \n        int min_dist = Integer.MAX_VALUE; \n        for (i = 0; i &lt; n; i++)  \n        { \n            for (j = i + 1; j &lt; n; j++)  \n            { \n                if ((x == arr[i] &amp;&amp; y == arr[j] \n                    || y == arr[i] &amp;&amp; x == arr[j]) \n                    &amp;&amp; min_dist &gt; Math.abs(i - j))  \n                    min_dist = Math.abs(i - j); \n            } \n        } \n        return min_dist; \n    } \n\n    public static void main(String[] args)  \n    { \n        MinimumDistance min = new MinimumDistance(); \n        int arr[] = {3, 5, 4, 2, 6, 5, 6, 6, 5, 4, 8, 3}; \n        int n = arr.length; \n        int x = 3; \n        int y = 6; \n\n        System.out.println(\"Minimum distance between \" + x + \" and \" + y  \n                + \" is \" + min.minDist(arr, n, x, y)); \n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558243450,"creation_date":1558242999,"answer_id":56204965,"question_id":56204034,"body_markdown":"While iterating through your for loops, you could populate a `Map` of `Integer` distances to a `List` of indices `Map&lt;Integer,List&lt;Integer&gt;&gt;` (or even the actual values depending upon your use case). If you always add both indices to the `List` together, then you know they are always adjacent to one another in the `List` for later retrieval as pairs. Then just use your minimum distance as the key to the map to pull the list of adjacent pairs. Keep in mind that as described this list will have duplicates.","title":"Find the positions in which the elements located in these have the least distance between them","body":"<p>While iterating through your for loops, you could populate a <code>Map</code> of <code>Integer</code> distances to a <code>List</code> of indices <code>Map&lt;Integer,List&lt;Integer&gt;&gt;</code> (or even the actual values depending upon your use case). If you always add both indices to the <code>List</code> together, then you know they are always adjacent to one another in the <code>List</code> for later retrieval as pairs. Then just use your minimum distance as the key to the map to pull the list of adjacent pairs. Keep in mind that as described this list will have duplicates.</p>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402397,"creation_date":1558253886,"answer_id":56205976,"question_id":56204034,"body_markdown":"Ideally when handling data that is logically grouped together, you should abstract away a class to encapsulate it. In your case you want to keep track of every possible `distance` combination. Each `Combination` should keep track of:\r\n\r\n1. Indexes of the values.\r\n2. Values themselves.\r\n3. Distance.\r\n4. Which one is low and which one is high.\r\n\r\n\r\nOut of these 3. and 4. can be computed from 1. and 2.\r\n\r\n```\r\n\tclass Combination {\r\n\t\tint indexA, indexB, valueA, valueB;\r\n\r\n\t\tpublic Combination(int[] array, int indexA, int indexB) {\r\n\t\t\tthis.indexA = indexA;\r\n\t\t\tthis.indexB = indexB;\r\n\t\t\tthis.valueA = array[indexA];\r\n\t\t\tthis.valueB = array[indexB];\r\n\t\t}\r\n\r\n\t\tpublic int getDistance() { ... }\r\n\t\tpublic int getHigh() { ... }\r\n\t\tpublic int getLow() { ... }\r\n\t\tpublic int getHighIndex() { ... }\r\n\t\tpublic int getLowIndex() { ... }\r\n\t}\r\n```\r\n\r\nWith such data structure (class) available, you can construct objects for each of the possible combinations (without repetitions of course - pay attention how `j` starts *variably* at `i + 1` to do not repeat possible combinations):\r\n\r\n```\r\n\t\tList&lt;Combination&gt; combinations = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; array.length; i++) \r\n\t\t\tfor (int j = i + 1; j &lt; array.length; j++) \r\n\t\t\t\tcombinations.add(new Combination(array, i, j));\r\n```\r\n\r\nThen using this `List` of `Combination` you can compute the minimum distance among them all:\r\n\r\n```\r\n\t\tint min = combinations.stream()\r\n\t\t\t\t.mapToInt(Combination::getDistance)\r\n\t\t\t\t.min().getAsInt();\r\n```\r\n\r\nAnd finally, you can select those combinations that match the minimum distance previously computed:\r\n\r\n```\r\n\t\tcombinations.stream()\r\n\t\t\t.filter(c -&gt; c.getDistance() == min)\r\n\t\t\t.forEach(c -&gt; System.out.println(c));\r\n```\r\n\r\nThe key is having the `Combination` class abstracted away in its own encapsulated class, so it can be solely responsible of providing the necessary APIs to inspect a particular combination: indexes, values, distances, high value, low value and even **`String`** (`toString`) representations. \r\n\r\nThe following is a full working demo of this approach, run it to get a feeling for it:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MinimumDistance {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tprintMinimums(5, 50, 3, 42, 18, 16, 8, 30, 44);\r\n\t}\r\n\r\n\tpublic static void printMinimums(int... array) {\r\n\t\tList&lt;Combination&gt; combinations = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; array.length; i++) \r\n\t\t\tfor (int j = i + 1; j &lt; array.length; j++) \r\n\t\t\t\tcombinations.add(new Combination(array, i, j));\r\n\t\t\r\n\t\tint min = combinations.stream()\r\n\t\t\t\t.mapToInt(Combination::getDistance)\r\n\t\t\t\t.min().getAsInt();\r\n\t\t\r\n\t\tcombinations.stream()\r\n\t\t\t.filter(c -&gt; c.getDistance() == min)\r\n\t\t\t.forEach(c -&gt; System.out.println(c));\r\n\t}\r\n\t\r\n\tstatic class Combination {\r\n\t\tint indexA, indexB, valueA, valueB;\r\n\r\n\t\tpublic Combination(int[] array, int indexA, int indexB) {\r\n\t\t\tthis.indexA = indexA;\r\n\t\t\tthis.indexB = indexB;\r\n\t\t\tthis.valueA = array[indexA];\r\n\t\t\tthis.valueB = array[indexB];\r\n\t\t}\r\n\r\n\t\tpublic int getDistance() {\r\n\t\t\treturn getHigh() - getLow();\r\n\t\t}\r\n\r\n\t\tpublic boolean isValueAHigh() {\r\n\t\t\treturn valueA &gt; valueB;\r\n\t\t}\r\n\r\n\t\tpublic int getHigh() {\r\n\t\t\treturn isValueAHigh() ? valueA : valueB; \r\n\t\t}\r\n\r\n\t\tpublic int getLow() {\r\n\t\t\treturn isValueAHigh() ? valueB : valueA; \r\n\t\t}\r\n\r\n\t\tpublic int getHighIndex() {\r\n\t\t\treturn isValueAHigh() ? indexA : indexB; \r\n\t\t}\r\n\r\n\t\tpublic int getLowIndex() {\r\n\t\t\treturn isValueAHigh() ? indexB : indexA; \r\n\t\t}\r\n\r\n\t\tpublic String toString() {\r\n\t\t\treturn String.format(&quot;%d[%d] - %d[%d] = %d&quot;, \r\n\t\t\t\t\t\t\t\t\tgetHigh(), getHighIndex(), \r\n\t\t\t\t\t\t\t\t\tgetLow(), getLowIndex(), \r\n\t\t\t\t\t\t\t\t\tgetDistance());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56205976)\r\n\r\nHope this helps.\r\n","title":"Find the positions in which the elements located in these have the least distance between them","body":"<p>Ideally when handling data that is logically grouped together, you should abstract away a class to encapsulate it. In your case you want to keep track of every possible <code>distance</code> combination. Each <code>Combination</code> should keep track of:</p>\n<ol>\n<li>Indexes of the values.</li>\n<li>Values themselves.</li>\n<li>Distance.</li>\n<li>Which one is low and which one is high.</li>\n</ol>\n<p>Out of these 3. and 4. can be computed from 1. and 2.</p>\n<pre><code>    class Combination {\n        int indexA, indexB, valueA, valueB;\n\n        public Combination(int[] array, int indexA, int indexB) {\n            this.indexA = indexA;\n            this.indexB = indexB;\n            this.valueA = array[indexA];\n            this.valueB = array[indexB];\n        }\n\n        public int getDistance() { ... }\n        public int getHigh() { ... }\n        public int getLow() { ... }\n        public int getHighIndex() { ... }\n        public int getLowIndex() { ... }\n    }\n</code></pre>\n<p>With such data structure (class) available, you can construct objects for each of the possible combinations (without repetitions of course - pay attention how <code>j</code> starts <em>variably</em> at <code>i + 1</code> to do not repeat possible combinations):</p>\n<pre><code>        List&lt;Combination&gt; combinations = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; array.length; i++) \n            for (int j = i + 1; j &lt; array.length; j++) \n                combinations.add(new Combination(array, i, j));\n</code></pre>\n<p>Then using this <code>List</code> of <code>Combination</code> you can compute the minimum distance among them all:</p>\n<pre><code>        int min = combinations.stream()\n                .mapToInt(Combination::getDistance)\n                .min().getAsInt();\n</code></pre>\n<p>And finally, you can select those combinations that match the minimum distance previously computed:</p>\n<pre><code>        combinations.stream()\n            .filter(c -&gt; c.getDistance() == min)\n            .forEach(c -&gt; System.out.println(c));\n</code></pre>\n<p>The key is having the <code>Combination</code> class abstracted away in its own encapsulated class, so it can be solely responsible of providing the necessary APIs to inspect a particular combination: indexes, values, distances, high value, low value and even <strong><code>String</code></strong> (<code>toString</code>) representations.</p>\n<p>The following is a full working demo of this approach, run it to get a feeling for it:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class MinimumDistance {\n    \n    public static void main(String[] args) {\n        printMinimums(5, 50, 3, 42, 18, 16, 8, 30, 44);\n    }\n\n    public static void printMinimums(int... array) {\n        List&lt;Combination&gt; combinations = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; array.length; i++) \n            for (int j = i + 1; j &lt; array.length; j++) \n                combinations.add(new Combination(array, i, j));\n        \n        int min = combinations.stream()\n                .mapToInt(Combination::getDistance)\n                .min().getAsInt();\n        \n        combinations.stream()\n            .filter(c -&gt; c.getDistance() == min)\n            .forEach(c -&gt; System.out.println(c));\n    }\n    \n    static class Combination {\n        int indexA, indexB, valueA, valueB;\n\n        public Combination(int[] array, int indexA, int indexB) {\n            this.indexA = indexA;\n            this.indexB = indexB;\n            this.valueA = array[indexA];\n            this.valueB = array[indexB];\n        }\n\n        public int getDistance() {\n            return getHigh() - getLow();\n        }\n\n        public boolean isValueAHigh() {\n            return valueA &gt; valueB;\n        }\n\n        public int getHigh() {\n            return isValueAHigh() ? valueA : valueB; \n        }\n\n        public int getLow() {\n            return isValueAHigh() ? valueB : valueA; \n        }\n\n        public int getHighIndex() {\n            return isValueAHigh() ? indexA : indexB; \n        }\n\n        public int getLowIndex() {\n            return isValueAHigh() ? indexB : indexA; \n        }\n\n        public String toString() {\n            return String.format(&quot;%d[%d] - %d[%d] = %d&quot;, \n                                    getHigh(), getHighIndex(), \n                                    getLow(), getLowIndex(), \n                                    getDistance());\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56205976\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":13626309,"reputation":23,"user_id":11015686,"display_name":"revilo zednem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56205976,"answer_count":3,"score":2,"last_activity_date":1675402397,"creation_date":1558228494,"question_id":56204034,"body_markdown":"I try to achieve the positions in which the elements located in these have the least distance between them? i have this code in java 11:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int [] arr= {5, 50, 3, 42, 18, 16, 8, 30, 44};      // Array\r\n        menorD l = new menorD();        \r\n        menorD.MinD(arr);   \r\n    }\r\n}\r\n\r\npublic class  menorD {\r\n\r\n    static int arr_zise;\r\n\r\n    public static void minD (int [] arr) {\r\n        arr_zise = arr.length;\r\n        int i, j;\r\n        int minD=0;\r\n\r\n        for(i=0;i&lt;arr_zise; i++) {\r\n            for(j=0;j&lt;arr_zise; j++) {\r\n                if(arr[i]!=arr[j]) {\r\n                    minD=arr[i]-arr[j];\r\n                    System.out.print(&quot; i=&quot;+ arr[i]+ &quot; j=&quot;+ arr[j]+ &quot; minD es: &quot;+Math.abs(min));\r\n                    System.out.println();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\ni try to find this:\r\n```\r\narr = {5, 50, 3, 42, 18, 16, 8, 30, 44}\r\n```\r\n\r\nmy Dmin would be the difference between the numbers with less distance between them, in this case,\r\n```\r\nDmin1 = 5-3 = 2;\r\n\r\nDmin2 = 18-16 = 2;\r\n\r\nDmin3 44-42 = 2;\r\n```\r\n\r\nWithout repeating the index of the number in the array. I have made this code but I have difficulty finding what I am looking for.","title":"Find the positions in which the elements located in these have the least distance between them","body":"<p>I try to achieve the positions in which the elements located in these have the least distance between them? i have this code in java 11:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int [] arr= {5, 50, 3, 42, 18, 16, 8, 30, 44};      // Array\n        menorD l = new menorD();        \n        menorD.MinD(arr);   \n    }\n}\n\npublic class  menorD {\n\n    static int arr_zise;\n\n    public static void minD (int [] arr) {\n        arr_zise = arr.length;\n        int i, j;\n        int minD=0;\n\n        for(i=0;i&lt;arr_zise; i++) {\n            for(j=0;j&lt;arr_zise; j++) {\n                if(arr[i]!=arr[j]) {\n                    minD=arr[i]-arr[j];\n                    System.out.print(\" i=\"+ arr[i]+ \" j=\"+ arr[j]+ \" minD es: \"+Math.abs(min));\n                    System.out.println();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>i try to find this:</p>\n\n<pre><code>arr = {5, 50, 3, 42, 18, 16, 8, 30, 44}\n</code></pre>\n\n<p>my Dmin would be the difference between the numbers with less distance between them, in this case,</p>\n\n<pre><code>Dmin1 = 5-3 = 2;\n\nDmin2 = 18-16 = 2;\n\nDmin3 44-42 = 2;\n</code></pre>\n\n<p>Without repeating the index of the number in the array. I have made this code but I have difficulty finding what I am looking for.</p>\n"},{"tags":["java","sql","jdbc","prepared-statement","persistence"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675402392,"creation_date":1558235715,"answer_id":56204467,"question_id":56203409,"body_markdown":"Looks good, you just need to invoke your `getArticleById` method in `start`:\r\n\r\n```\r\nprivate void start() throws IOException, SQLException {\r\n    try (Connection conn = DBConnectionUtils.getConnectionFromSrcFolder(&quot;connection.properties&quot;)) {\r\n        System.out.print(&quot;Enter the article id: &gt; &quot;);\r\n        int id = Integer.parseInt(Keyboard.readInput());\r\n        Article article = getArticleById(id, conn);\r\n        // DO SOMETHING WITH ARTICLE\r\n    }\r\n}\r\n```\r\n\r\nHope this helps.","title":"Print out an Article based on the supplied id","body":"<p>Looks good, you just need to invoke your <code>getArticleById</code> method in <code>start</code>:</p>\n<pre><code>private void start() throws IOException, SQLException {\n    try (Connection conn = DBConnectionUtils.getConnectionFromSrcFolder(&quot;connection.properties&quot;)) {\n        System.out.print(&quot;Enter the article id: &gt; &quot;);\n        int id = Integer.parseInt(Keyboard.readInput());\n        Article article = getArticleById(id, conn);\n        // DO SOMETHING WITH ARTICLE\n    }\n}\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":5597846,"reputation":343,"user_id":4435028,"display_name":"saum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56204467,"answer_count":1,"score":1,"last_activity_date":1675402392,"creation_date":1558219475,"question_id":56203409,"body_markdown":"I am trying to print out an article based on the supplied id. I have a method getArticleById which returns the article if it exists or returns null if it doesn&#39;t exist. I also have a start() method which prompts the user to enter an id and prints out the article if it exists. I&#39;m not sure if I have implemented the getArticleById correctly. Also, I need some direction start() method to check whether the id that was entered exists or not.\r\n\r\n\r\n\r\n    public Article getArticleById(int id, Connection conn) throws SQLException {\r\n        try (PreparedStatement stmt = conn.prepareStatement(\r\n                &quot;SELECT * FROM articles  WHERE id = ?&quot;)) {\r\n            stmt.setInt(1, id);\r\n            try (ResultSet r = stmt.executeQuery()) {\r\n                if (r.next()) {\r\n                    return getAllArticles(conn).get(id);\r\n                } else {\r\n                    return null;\r\n                }\r\n            } \r\n        }\r\n    }\r\n\r\n    private void start() throws IOException, SQLException {\r\n        try (Connection conn = DBConnectionUtils.getConnectionFromSrcFolder(&quot;connection.properties&quot;)) {\r\n            System.out.print(&quot;Enter the article id: &gt; &quot;);\r\n            int id = Integer.parseInt(Keyboard.readInput());\r\n        }\r\n    }","title":"Print out an Article based on the supplied id","body":"<p>I am trying to print out an article based on the supplied id. I have a method getArticleById which returns the article if it exists or returns null if it doesn't exist. I also have a start() method which prompts the user to enter an id and prints out the article if it exists. I'm not sure if I have implemented the getArticleById correctly. Also, I need some direction start() method to check whether the id that was entered exists or not.</p>\n\n<pre><code>public Article getArticleById(int id, Connection conn) throws SQLException {\n    try (PreparedStatement stmt = conn.prepareStatement(\n            \"SELECT * FROM articles  WHERE id = ?\")) {\n        stmt.setInt(1, id);\n        try (ResultSet r = stmt.executeQuery()) {\n            if (r.next()) {\n                return getAllArticles(conn).get(id);\n            } else {\n                return null;\n            }\n        } \n    }\n}\n\nprivate void start() throws IOException, SQLException {\n    try (Connection conn = DBConnectionUtils.getConnectionFromSrcFolder(\"connection.properties\")) {\n        System.out.print(\"Enter the article id: &gt; \");\n        int id = Integer.parseInt(Keyboard.readInput());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","rest","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675402387,"creation_date":1558235341,"answer_id":56204448,"question_id":56203496,"body_markdown":"The http request `GET /packet/modify` is not being handled in your controller and you are redirecting your `POST` method to that http request:\r\n\r\n```\r\n        return &quot;redirect:/packet/modify&quot;;\r\n```\r\n\r\nTo solve this you need to do one of the following:\r\n\r\n1. Change the redirect request in your `POST` to an endpoint that is being handled:\r\n\r\n            return &quot;redirect:/packet/modify/&quot; + packetDto.getPacketId();\r\n\r\n2. Or, handle that `GET` endpoint:\r\n\r\n            @GetMapping(&quot;/modify/&quot;)\r\n            public String retrievePacket(...) { ... }\r\n\r\nHope this helps.\r\n","title":"405 - request GET and POST","body":"<p>The http request <code>GET /packet/modify</code> is not being handled in your controller and you are redirecting your <code>POST</code> method to that http request:</p>\n<pre><code>        return &quot;redirect:/packet/modify&quot;;\n</code></pre>\n<p>To solve this you need to do one of the following:</p>\n<ol>\n<li><p>Change the redirect request in your <code>POST</code> to an endpoint that is being handled:</p>\n<pre><code>     return &quot;redirect:/packet/modify/&quot; + packetDto.getPacketId();\n</code></pre>\n</li>\n<li><p>Or, handle that <code>GET</code> endpoint:</p>\n<pre><code>     @GetMapping(&quot;/modify/&quot;)\n     public String retrievePacket(...) { ... }\n</code></pre>\n</li>\n</ol>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":15305977,"reputation":39,"user_id":11042713,"display_name":"user11042713"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56204448,"answer_count":1,"score":1,"last_activity_date":1675402387,"creation_date":1558220539,"question_id":56203496,"body_markdown":"Hello i have problem with update object, i dont know how always aftre update data i have message: Request method &#39;GET&#39; not supported. But date after refresh object is update.\r\n\r\nController with GET and POST method to update object\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/packet&quot;)\r\n    public class PacketController {\r\n    \r\n    \r\n    \r\n        @GetMapping(&quot;/modify/{id}&quot;)\r\n        public String modifyPacketGet(Model model, @PathVariable Long id)\r\n        {\r\n            model.addAttribute(&quot;channels&quot;, channelService.getAllChannels());\r\n            model.addAttribute(&quot;packet&quot;, packetService.getById(id));\r\n            return &quot;packet/modify&quot;;\r\n        }\r\n    \r\n    \r\n        @PostMapping(&quot;/modify&quot;)\r\n        public String modifyPacketPost(Model model, @ModelAttribute PacketDto packetDto)\r\n        {\r\n            packetService.updatePacket(packetDto);\r\n            return &quot;redirect:/packet/modify&quot;;\r\n        }\r\n\r\n\r\n\r\nHTML form\r\n\r\n\r\n            &lt;form th:action=&quot;@{/packet/modify}&quot; method=&quot;post&quot; th:object=&quot;${packet}&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n                &lt;input type=&quot;text&quot; hidden=&quot;hidden&quot; readonly=&quot;readonly&quot; th:field=&quot;*{id}&quot; /&gt;\r\n                &lt;input type=&quot;text&quot; hidden=&quot;hidden&quot; readonly=&quot;readonly&quot; th:field=&quot;*{filename}&quot; /&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;name&quot; class=&quot;h3 text-success&quot;&gt;Name:&lt;/label&gt;\r\n                    &lt;input id=&quot;name&quot; type=&quot;text&quot; th:field=&quot;*{name}&quot; class=&quot;form-control&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;price&quot; class=&quot;h3 text-success&quot;&gt;Price:&lt;/label&gt;\r\n                    &lt;input id=&quot;price&quot; type=&quot;text&quot; th:field=&quot;*{price}&quot; class=&quot;form-control&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;description&quot; class=&quot;h3 text-success&quot;&gt;Description:&lt;/label&gt;\r\n                    &lt;textarea class=&quot;form-control&quot; rows=&quot;5&quot; th:field=&quot;*{description}&quot; id=&quot;description&quot;&gt;&lt;/textarea&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;image&quot; class=&quot;h3 text-success&quot;&gt;Image:&lt;/label&gt;\r\n                    &lt;input id=&quot;image&quot; type=&quot;file&quot; th:field=&quot;*{multipartFile}&quot;  accept=&quot;image/**&quot; class=&quot;form-control&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;channel&quot; class=&quot;h2 text-secondary&quot;&gt;Channels:&lt;/label&gt;\r\n                    &lt;ul class=&quot;list-inline&quot;&gt;\r\n                        &lt;li  class=&quot;list-inline-item&quot; th:each=&quot;c : ${channels}&quot;&gt;\r\n                            &lt;input id=&quot;channel&quot; type=&quot;checkbox&quot; th:field=&quot;*{channelIds}&quot; th:value=&quot;${c.id}&quot;&gt;\r\n                            &lt;label th:text=&quot;${c.name}&quot;&gt;&lt;/label&gt;\r\n                        &lt;/li&gt;\r\n                    &lt;/ul&gt;\r\n                &lt;/div&gt;\r\n           \r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success btn-lg mr-2&quot;&gt;Add&lt;/button&gt;\r\n            &lt;/form&gt;","title":"405 - request GET and POST","body":"<p>Hello i have problem with update object, i dont know how always aftre update data i have message: Request method 'GET' not supported. But date after refresh object is update.</p>\n\n<p>Controller with GET and POST method to update object</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/packet\")\npublic class PacketController {\n\n\n\n    @GetMapping(\"/modify/{id}\")\n    public String modifyPacketGet(Model model, @PathVariable Long id)\n    {\n        model.addAttribute(\"channels\", channelService.getAllChannels());\n        model.addAttribute(\"packet\", packetService.getById(id));\n        return \"packet/modify\";\n    }\n\n\n    @PostMapping(\"/modify\")\n    public String modifyPacketPost(Model model, @ModelAttribute PacketDto packetDto)\n    {\n        packetService.updatePacket(packetDto);\n        return \"redirect:/packet/modify\";\n    }\n</code></pre>\n\n<p>HTML form</p>\n\n<pre><code>        &lt;form th:action=\"@{/packet/modify}\" method=\"post\" th:object=\"${packet}\" enctype=\"multipart/form-data\"&gt;\n            &lt;input type=\"text\" hidden=\"hidden\" readonly=\"readonly\" th:field=\"*{id}\" /&gt;\n            &lt;input type=\"text\" hidden=\"hidden\" readonly=\"readonly\" th:field=\"*{filename}\" /&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"name\" class=\"h3 text-success\"&gt;Name:&lt;/label&gt;\n                &lt;input id=\"name\" type=\"text\" th:field=\"*{name}\" class=\"form-control\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"price\" class=\"h3 text-success\"&gt;Price:&lt;/label&gt;\n                &lt;input id=\"price\" type=\"text\" th:field=\"*{price}\" class=\"form-control\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"description\" class=\"h3 text-success\"&gt;Description:&lt;/label&gt;\n                &lt;textarea class=\"form-control\" rows=\"5\" th:field=\"*{description}\" id=\"description\"&gt;&lt;/textarea&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"image\" class=\"h3 text-success\"&gt;Image:&lt;/label&gt;\n                &lt;input id=\"image\" type=\"file\" th:field=\"*{multipartFile}\"  accept=\"image/**\" class=\"form-control\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"channel\" class=\"h2 text-secondary\"&gt;Channels:&lt;/label&gt;\n                &lt;ul class=\"list-inline\"&gt;\n                    &lt;li  class=\"list-inline-item\" th:each=\"c : ${channels}\"&gt;\n                        &lt;input id=\"channel\" type=\"checkbox\" th:field=\"*{channelIds}\" th:value=\"${c.id}\"&gt;\n                        &lt;label th:text=\"${c.name}\"&gt;&lt;/label&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n\n                &lt;button type=\"submit\" class=\"btn btn-success btn-lg mr-2\"&gt;Add&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n"},{"tags":["java","algorithm","swing","collections","grid-layout"],"comments":[{"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"score":0,"creation_date":1558167469,"post_id":56197115,"comment_id":99017971,"body_markdown":"Which JButtons? Ca you show an example of the code for println versus the JButtons, with actual and expected results to diagnose?","body":"Which JButtons? Ca you show an example of the code for println versus the JButtons, with actual and expected results to diagnose?"},{"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"score":0,"creation_date":1558167614,"post_id":56197115,"comment_id":99017992,"body_markdown":"Updated, the JButtons are the &quot;Casella_Grafic&quot; object","body":"Updated, the JButtons are the &quot;Casella_Grafic&quot; object"},{"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"score":0,"creation_date":1558167942,"post_id":56197115,"comment_id":99018070,"body_markdown":"What kind of layout does `chessBoard` has?","body":"What kind of layout does <code>chessBoard</code> has?"},{"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"score":0,"creation_date":1558168009,"post_id":56197115,"comment_id":99018084,"body_markdown":"A grid layout ```chessBoard = new JPanel(new GridLayout(0, 9))```","body":"A grid layout <code>chessBoard = new JPanel(new GridLayout(0, 9))</code>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1558169425,"post_id":56197115,"comment_id":99018353,"body_markdown":"BTW - glad you found the chess set in [this answer](https://stackoverflow.com/a/19209651/418556) helpful. :)","body":"BTW - glad you found the chess set in <a href=\"https://stackoverflow.com/a/19209651/418556\">this answer</a> helpful. :)"}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675402374,"creation_date":1558168472,"answer_id":56197291,"question_id":56197115,"body_markdown":"Apparently you are iterating your double array of `JButton`s over rows then over columns (top to bottom, then left to right) when adding the to the `chessBoard`:\r\n\r\n```\r\nchessBoard.add(t.getFitxaGrafic(i, j));\r\n```\r\n\r\n when it should be the opposite (columns then rows), so you just need to swap the `i` and `j`:\r\n\r\n```\r\nchessBoard.add(t.getFitxaGrafic(j, i));\r\n```\r\nHope this helps.","title":"Sort JButtons in JPanel","body":"<p>Apparently you are iterating your double array of <code>JButton</code>s over rows then over columns (top to bottom, then left to right) when adding the to the <code>chessBoard</code>:</p>\n<pre><code>chessBoard.add(t.getFitxaGrafic(i, j));\n</code></pre>\n<p>when it should be the opposite (columns then rows), so you just need to swap the <code>i</code> and <code>j</code>:</p>\n<pre><code>chessBoard.add(t.getFitxaGrafic(j, i));\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56197291,"answer_count":1,"score":2,"last_activity_date":1675402374,"creation_date":1558166751,"question_id":56197115,"body_markdown":"I am creating a chess game using Java, everything was fine when I saw that the JButtons are not added to the JPanel in order, that is, the (0,0) is not in the same position as it would be using System.out.Println Does anyone know how I could solve it?\r\n\r\n    private void configurarCaselles() {\r\n        Insets marge = new Insets(0, 0, 0, 0);\r\n        for (int i = 0; i &lt; t.getTaulerCaselles().length; i++) {\r\n            for (int j = 0; j &lt; t.getTaulerCaselles()[0].length; j++) {\r\n                Casella_Grafic c = t.getFitxaGrafic(i, j);\r\n                c.setMargin(marge);\r\n    \r\n                ImageIcon icon = new ImageIcon(new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB));\r\n                c.setIcon(icon);\r\n                if ((i % 2 == 1 &amp;&amp; j % 2 == 1) || (i % 2 == 0 &amp;&amp; j % 2 == 0)) {\r\n                    c.setBackground(Color.WHITE);\r\n                } else {\r\n                    c.setBackground(Color.BLACK);\r\n                }\r\n            }\r\n        }\r\n        chessBoard.add(new JLabel(&quot;&quot;));\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            chessBoard.add(new JLabel(COLS.substring(i, i + 1), SwingConstants.CENTER));\r\n    \r\n        }\r\n    \r\n        for (int j = 0; j &lt; 8; j++) {\r\n            for (int i = 0; i &lt; 8; i++) {\r\n                switch (i) {\r\n                    case 0:\r\n                        chessBoard.add(new JLabel(&quot;&quot; + (9 - (j + 1)), SwingConstants.CENTER));\r\n                    default:\r\n                        chessBoard.add(t.getFitxaGrafic(i, j));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[Icons Extracted here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UOuMR.png\r\n  [2]: https://i.stack.imgur.com/jLNEL.png\r\n  [3]: https://stackoverflow.com/questions/19209650/example-images-for-code-and-mark-up-qas/19209651#19209651","title":"Sort JButtons in JPanel","body":"<p>I am creating a chess game using Java, everything was fine when I saw that the JButtons are not added to the JPanel in order, that is, the (0,0) is not in the same position as it would be using System.out.Println Does anyone know how I could solve it?</p>\n\n<pre><code>private void configurarCaselles() {\n    Insets marge = new Insets(0, 0, 0, 0);\n    for (int i = 0; i &lt; t.getTaulerCaselles().length; i++) {\n        for (int j = 0; j &lt; t.getTaulerCaselles()[0].length; j++) {\n            Casella_Grafic c = t.getFitxaGrafic(i, j);\n            c.setMargin(marge);\n\n            ImageIcon icon = new ImageIcon(new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB));\n            c.setIcon(icon);\n            if ((i % 2 == 1 &amp;&amp; j % 2 == 1) || (i % 2 == 0 &amp;&amp; j % 2 == 0)) {\n                c.setBackground(Color.WHITE);\n            } else {\n                c.setBackground(Color.BLACK);\n            }\n        }\n    }\n    chessBoard.add(new JLabel(\"\"));\n    for (int i = 0; i &lt; 8; i++) {\n        chessBoard.add(new JLabel(COLS.substring(i, i + 1), SwingConstants.CENTER));\n\n    }\n\n    for (int j = 0; j &lt; 8; j++) {\n        for (int i = 0; i &lt; 8; i++) {\n            switch (i) {\n                case 0:\n                    chessBoard.add(new JLabel(\"\" + (9 - (j + 1)), SwingConstants.CENTER));\n                default:\n                    chessBoard.add(t.getFitxaGrafic(i, j));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UOuMR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOuMR.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/jLNEL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLNEL.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/19209650/example-images-for-code-and-mark-up-qas/19209651#19209651\">Icons Extracted here</a></p>\n"},{"tags":["java","algorithm","generics","design-patterns","collections"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402369,"creation_date":1558149409,"answer_id":56195697,"question_id":56195282,"body_markdown":"When it comes down to *composing behavior* it is always best to either use composition over inheritance, and this is actually your case. The `mapper` does not *augment* behavior already existing in your `Dao` as much as *adds* behavior, an extra layer of indirection in it; which is not necessarily a concern of the `Dao`, like an [*aspect/cross cutting concern*](https://en.wikipedia.org/wiki/Aspect-oriented_programming).\r\n\r\nSo, my recommendation is to create a single `AbstractDao` class with the ability to compose `mappers` (you can have just one as you wanted; but with composition is easy to allow a single `Dao` object to support multiple mappers):\r\n\r\n```\r\n\t\tprivate Map&lt;Class, Function&gt; mappers;\r\n\t\t\r\n\t\tpublic &lt;M&gt; void registerMapper(Class&lt;M&gt; mappingClass, Function&lt;M, R&gt; mapper) {\r\n\t\t\tmappers.put(mappingClass, mapper);\r\n\t\t}\r\n```\r\n\r\nThen create an `insert` method that allows for handling the *pre-transformation* of the records that do not extend `Record` using the `mappers` that it has registered, like this:\r\n\r\n```\r\n\t\tpublic &lt;M&gt; List&lt;M&gt; insert(List&lt;M&gt; records) {\r\n\t\t\tif (records.isEmpty()) return records;\r\n\t\t\tM rec = records.get(0);\r\n\t\t\t\r\n\t\t\tList&lt;? extends Record&gt; actualRecords = (rec instanceof Record) ? \r\n\t\t\t\t\t(List&lt;Record&gt;)records : createMappedRecords(records, rec.getClass());\r\n\t\t\t\r\n\t\t\tconnection.insertBulk(actualRecords);\r\n\t\t\treturn records;\r\n\t\t}\r\n```\r\n\r\nThis is cleaner, more robust and more extensible, since your `insert` can be made to entertain all sorts of concerns in a centralized manner with *composed concerns*. The full compiling code would look like something like this:\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ParentErasure {\r\n\r\n\tpublic abstract class AbstractDao&lt;T extends DatabaseTable, R extends Record&gt; {\r\n\t\tprivate Connection connection;\r\n\t\tprivate Map&lt;Class, Function&gt; mappers = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tpublic &lt;M&gt; void registerMapper(Class&lt;M&gt; mappingClass, Function&lt;M, R&gt; mapper) {\r\n\t\t\tmappers.put(mappingClass, mapper);\r\n\t\t}\r\n\t\t\r\n\t\tpublic &lt;M&gt; List&lt;M&gt; insert(List&lt;M&gt; records) {\r\n\t\t\tif (records.isEmpty()) return records;\r\n\t\t\tM rec = records.get(0);\r\n\t\t\t\r\n\t\t\tList&lt;? extends Record&gt; actualRecords = (rec instanceof Record) ? \r\n\t\t\t\t\t(List&lt;Record&gt;)records : createMappedRecords(records, rec.getClass());\r\n\t\t\t\r\n\t\t\tconnection.insertBulk(actualRecords);\r\n\t\t\treturn records;\r\n\t\t}\r\n\r\n\t\tprivate &lt;M&gt; List&lt;R&gt; createMappedRecords(List&lt;M&gt; records, Class&lt;? extends Object&gt; recordsClazz) {\r\n\t\t\tFunction&lt;M, R&gt; mapper = mappers.get(recordsClazz);\r\n\t\t\treturn records.stream()\r\n\t\t\t\t\t.map(mapper::apply)\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic interface Dao&lt;T&gt; {\r\n\t\tpublic List&lt;T&gt; insert(List&lt;T&gt; records);\r\n\t}\r\n}\r\n\r\nclass Record {}\r\nclass DatabaseTable {}\r\nclass DatabaseRecord {}\r\nclass Connection {\r\n\tpublic void insertBulk(List&lt;? extends Record&gt; records) {}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56195697)\r\n\r\nHope this helps.","title":"Same erasure on for subclass that maps parent method to a different class","body":"<p>When it comes down to <em>composing behavior</em> it is always best to either use composition over inheritance, and this is actually your case. The <code>mapper</code> does not <em>augment</em> behavior already existing in your <code>Dao</code> as much as <em>adds</em> behavior, an extra layer of indirection in it; which is not necessarily a concern of the <code>Dao</code>, like an <a href=\"https://en.wikipedia.org/wiki/Aspect-oriented_programming\" rel=\"nofollow noreferrer\"><em>aspect/cross cutting concern</em></a>.</p>\n<p>So, my recommendation is to create a single <code>AbstractDao</code> class with the ability to compose <code>mappers</code> (you can have just one as you wanted; but with composition is easy to allow a single <code>Dao</code> object to support multiple mappers):</p>\n<pre><code>        private Map&lt;Class, Function&gt; mappers;\n        \n        public &lt;M&gt; void registerMapper(Class&lt;M&gt; mappingClass, Function&lt;M, R&gt; mapper) {\n            mappers.put(mappingClass, mapper);\n        }\n</code></pre>\n<p>Then create an <code>insert</code> method that allows for handling the <em>pre-transformation</em> of the records that do not extend <code>Record</code> using the <code>mappers</code> that it has registered, like this:</p>\n<pre><code>        public &lt;M&gt; List&lt;M&gt; insert(List&lt;M&gt; records) {\n            if (records.isEmpty()) return records;\n            M rec = records.get(0);\n            \n            List&lt;? extends Record&gt; actualRecords = (rec instanceof Record) ? \n                    (List&lt;Record&gt;)records : createMappedRecords(records, rec.getClass());\n            \n            connection.insertBulk(actualRecords);\n            return records;\n        }\n</code></pre>\n<p>This is cleaner, more robust and more extensible, since your <code>insert</code> can be made to entertain all sorts of concerns in a centralized manner with <em>composed concerns</em>. The full compiling code would look like something like this:</p>\n<pre><code>import java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class ParentErasure {\n\n    public abstract class AbstractDao&lt;T extends DatabaseTable, R extends Record&gt; {\n        private Connection connection;\n        private Map&lt;Class, Function&gt; mappers = new HashMap&lt;&gt;();\n        \n        public &lt;M&gt; void registerMapper(Class&lt;M&gt; mappingClass, Function&lt;M, R&gt; mapper) {\n            mappers.put(mappingClass, mapper);\n        }\n        \n        public &lt;M&gt; List&lt;M&gt; insert(List&lt;M&gt; records) {\n            if (records.isEmpty()) return records;\n            M rec = records.get(0);\n            \n            List&lt;? extends Record&gt; actualRecords = (rec instanceof Record) ? \n                    (List&lt;Record&gt;)records : createMappedRecords(records, rec.getClass());\n            \n            connection.insertBulk(actualRecords);\n            return records;\n        }\n\n        private &lt;M&gt; List&lt;R&gt; createMappedRecords(List&lt;M&gt; records, Class&lt;? extends Object&gt; recordsClazz) {\n            Function&lt;M, R&gt; mapper = mappers.get(recordsClazz);\n            return records.stream()\n                    .map(mapper::apply)\n                    .collect(Collectors.toList());\n        }\n    }\n    \n    public interface Dao&lt;T&gt; {\n        public List&lt;T&gt; insert(List&lt;T&gt; records);\n    }\n}\n\nclass Record {}\nclass DatabaseTable {}\nclass DatabaseRecord {}\nclass Connection {\n    public void insertBulk(List&lt;? extends Record&gt; records) {}\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56195697\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":14126817,"reputation":189,"user_id":10205830,"display_name":"Anthony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56195697,"answer_count":1,"score":2,"last_activity_date":1675402369,"creation_date":1558142989,"question_id":56195282,"body_markdown":"I am attempting to refactor a DAO to make it a bit more usable in our code base. We currently have a parameterized AbstractDao that takes in three types: \r\n\r\n1. The database table\r\n2. The database pojo\r\n3. A different mapped pojo representation of 2)\r\n\r\nSo it ends up looking like:\r\n\r\n    public class AbstractDao&lt;T extends DatabaseTable, R extends DatabaseRecord, M&gt; {\r\n      public AbstractDao(Connection connection, Mapper&lt;R,M&gt; mapper) {\r\n      //save connection and mapper to protected variables\r\n    }\r\n    public List&lt;M&gt; insert(List&lt;M&gt; records) {\r\n     connection.insertBulk(\r\n       StreamEx.of(records).map(mapper::map).toList()\r\n     );\r\n     }\r\n    }\r\n\r\nHowever, this doesn&#39;t work on the classic DAO case where we are dealing only with the pojo and the table. \r\n\r\nHowever, there is a common functionality here that can be abstracted into a more basic AbstractDao that is useful across projects. Something like:\r\n\r\n    AbstractDao&lt;T extends DatabaseTable, R extends Record&gt;\r\n    \r\nwhich has a subclass\r\n \r\n    AbstractMappedDao&lt;T extends DatabaseTable, R extends Record, M&gt; extends AbstractDao&lt;T, R&gt;\r\n\r\nThe Abstract has a method like: \r\n\r\n    public List&lt;R&gt; insert(List&lt;R&gt; records) {\r\n      connection.insertBulk(records);\r\n    }\r\n\r\nand the Mapped should have a method like:\r\n\r\n    public List&lt;M&gt; insert(List&lt;M&gt; records) {\r\n      super.insert(StreamEx.of(records).map(mapper::map).toList());\r\n    }\r\n\r\n\r\nHowever, this gives a &quot;same erasure&quot; issue because insert takes in a List of generics. \r\n\r\nI have tried abstracting it out into an interface: \r\n\r\n    public interface Dao&lt;T&gt; {\r\n      public List&lt;T&gt; insert(List&lt;T&gt; records);\r\n    }\r\n\r\nAnd making Abstract implement Dao&lt;R&gt; and Mapped implement Dao&lt;M&gt;, but again, same issue. \r\n\r\nSo my question is how to best approach this problem? This works as expected if I change map&#39;s signature to something like:\r\n\r\n    insertMapped(List&lt;M&gt; mapped);\r\n\r\nBut I would prefer to keep the contract the same. \r\n\r\nThanks for the help. Looking forward to the discussion!","title":"Same erasure on for subclass that maps parent method to a different class","body":"<p>I am attempting to refactor a DAO to make it a bit more usable in our code base. We currently have a parameterized AbstractDao that takes in three types: </p>\n\n<ol>\n<li>The database table</li>\n<li>The database pojo</li>\n<li>A different mapped pojo representation of 2)</li>\n</ol>\n\n<p>So it ends up looking like:</p>\n\n<pre><code>public class AbstractDao&lt;T extends DatabaseTable, R extends DatabaseRecord, M&gt; {\n  public AbstractDao(Connection connection, Mapper&lt;R,M&gt; mapper) {\n  //save connection and mapper to protected variables\n}\npublic List&lt;M&gt; insert(List&lt;M&gt; records) {\n connection.insertBulk(\n   StreamEx.of(records).map(mapper::map).toList()\n );\n }\n}\n</code></pre>\n\n<p>However, this doesn't work on the classic DAO case where we are dealing only with the pojo and the table. </p>\n\n<p>However, there is a common functionality here that can be abstracted into a more basic AbstractDao that is useful across projects. Something like:</p>\n\n<pre><code>AbstractDao&lt;T extends DatabaseTable, R extends Record&gt;\n</code></pre>\n\n<p>which has a subclass</p>\n\n<pre><code>AbstractMappedDao&lt;T extends DatabaseTable, R extends Record, M&gt; extends AbstractDao&lt;T, R&gt;\n</code></pre>\n\n<p>The Abstract has a method like: </p>\n\n<pre><code>public List&lt;R&gt; insert(List&lt;R&gt; records) {\n  connection.insertBulk(records);\n}\n</code></pre>\n\n<p>and the Mapped should have a method like:</p>\n\n<pre><code>public List&lt;M&gt; insert(List&lt;M&gt; records) {\n  super.insert(StreamEx.of(records).map(mapper::map).toList());\n}\n</code></pre>\n\n<p>However, this gives a \"same erasure\" issue because insert takes in a List of generics. </p>\n\n<p>I have tried abstracting it out into an interface: </p>\n\n<pre><code>public interface Dao&lt;T&gt; {\n  public List&lt;T&gt; insert(List&lt;T&gt; records);\n}\n</code></pre>\n\n<p>And making Abstract implement Dao and Mapped implement Dao, but again, same issue. </p>\n\n<p>So my question is how to best approach this problem? This works as expected if I change map's signature to something like:</p>\n\n<pre><code>insertMapped(List&lt;M&gt; mapped);\n</code></pre>\n\n<p>But I would prefer to keep the contract the same. </p>\n\n<p>Thanks for the help. Looking forward to the discussion!</p>\n"},{"tags":["java","generics","design-patterns","persistence","dao"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1558134956,"post_id":56194580,"comment_id":99013589,"body_markdown":"`interface Resource&lt;I extends ResourceId&gt; {` is a raw type. You need another type variable, e.g. `interface Resource&lt;T, I extends ResourceId&lt;T&gt;&gt; {`","body":"<code>interface Resource&lt;I extends ResourceId&gt; {</code> is a raw type. You need another type variable, e.g. <code>interface Resource&lt;T, I extends ResourceId&lt;T&gt;&gt; {</code>"},{"owner":{"account_id":3348675,"reputation":5862,"user_id":2813227,"display_name":"Andreas Rayo Kniep"},"score":0,"creation_date":1558139041,"post_id":56194580,"comment_id":99014245,"body_markdown":"@AndyTurner: Thanks for the comment! Ok, I think I get it. Java cannot imply the type of generic types used in an interface. So for the resources/models, I will have to create the interface as `Resource&lt;T, I extends ResourceId&lt;T&gt;&gt;` and an appropriate implementation `User implements Resource&lt;String, UserId&gt;`. For the the DAO classes, I will have to create the interface as `Dao&lt;T, I extends ResourceId&lt;T&gt;, R extends Resource&lt;I&gt;&gt;` and an appropriate implementation `UserDao implements Dao&lt;String, UserId, User&gt;`. Ok, I think I get it, but I&#39;m still disappointed at Java that there is no cleaner way.","body":"@AndyTurner: Thanks for the comment! Ok, I think I get it. Java cannot imply the type of generic types used in an interface. So for the resources/models, I will have to create the interface as <code>Resource&lt;T, I extends ResourceId&lt;T&gt;&gt;</code> and an appropriate implementation <code>User implements Resource&lt;String, UserId&gt;</code>. For the the DAO classes, I will have to create the interface as <code>Dao&lt;T, I extends ResourceId&lt;T&gt;, R extends Resource&lt;I&gt;&gt;</code> and an appropriate implementation <code>UserDao implements Dao&lt;String, UserId, User&gt;</code>. Ok, I think I get it, but I&#39;m still disappointed at Java that there is no cleaner way."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675402365,"creation_date":1558140012,"answer_id":56195065,"question_id":56194580,"body_markdown":"Your option # 1 will work just fine by tweaking it appropriately. First add the `ResourceId` generic type specification to your `Dao` declaration:\r\n\r\n```\r\n\tstatic interface Dao&lt;I extends ResourceId&lt;?&gt;, R extends Resource&lt;I&gt;&gt; {\r\n\t\tR findById(I id);\r\n\t\t\r\n\t\tvoid save(R u);\r\n\t}\r\n```\r\n\r\n... and then do the same with the `Dao` subclasses:\r\n\r\n```\r\n\tstatic class UserDao implements Dao&lt;UserId, User&gt; {\r\n\t\tpublic User findById(UserId id) { return null; }\r\n\t\t\r\n\t\tpublic void save(User u) {}\r\n\t}\r\n```\r\n\r\nSince you don&#39;t need to know what is the generic type of a `ResourceId` (`&lt;T&gt;`) within the context of the `Resource` class, you can just dismiss it there with a wildcard:\r\n\r\n```\r\n\tstatic interface Resource&lt;I extends ResourceId&lt;?&gt;&gt; {\r\n\t\tI id();\r\n\t}\r\n```\r\n\r\nFinally, the full code would compile as:\r\n\r\n```\r\npublic class NestedGenerics {\r\n\t\r\n\tstatic interface ResourceId&lt;T&gt; {\r\n\t\tT get();\r\n\t}\r\n\t\r\n\tstatic class UserId implements ResourceId&lt;String&gt; {\r\n\t\tpublic String get() { return null; } \r\n\t}\r\n\t\r\n\tstatic interface Resource&lt;I extends ResourceId&lt;?&gt;&gt; {\r\n\t\tI id();\r\n\t}\r\n\t\r\n\tstatic class User implements Resource&lt;UserId&gt; {\r\n\t\tpublic UserId id() { return null; } \r\n\t}\r\n\t\r\n\tstatic interface Dao&lt;I extends ResourceId&lt;?&gt;, R extends Resource&lt;I&gt;&gt; {\r\n\t\tR findById(I id);\r\n\t\t\r\n\t\tvoid save(R u);\r\n\t}\r\n\t\r\n\tstatic class UserDao implements Dao&lt;UserId, User&gt; {\r\n\t\tpublic User findById(UserId id) { return null; }\r\n\t\t\r\n\t\tpublic void save(User u) {}\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56195065)\r\n\r\nHope this helps.\r\n\r\n","title":"How to create generic Java interface typed with another generic Java interface?","body":"<p>Your option # 1 will work just fine by tweaking it appropriately. First add the <code>ResourceId</code> generic type specification to your <code>Dao</code> declaration:</p>\n<pre><code>    static interface Dao&lt;I extends ResourceId&lt;?&gt;, R extends Resource&lt;I&gt;&gt; {\n        R findById(I id);\n        \n        void save(R u);\n    }\n</code></pre>\n<p>... and then do the same with the <code>Dao</code> subclasses:</p>\n<pre><code>    static class UserDao implements Dao&lt;UserId, User&gt; {\n        public User findById(UserId id) { return null; }\n        \n        public void save(User u) {}\n    }\n</code></pre>\n<p>Since you don't need to know what is the generic type of a <code>ResourceId</code> (<code>&lt;T&gt;</code>) within the context of the <code>Resource</code> class, you can just dismiss it there with a wildcard:</p>\n<pre><code>    static interface Resource&lt;I extends ResourceId&lt;?&gt;&gt; {\n        I id();\n    }\n</code></pre>\n<p>Finally, the full code would compile as:</p>\n<pre><code>public class NestedGenerics {\n    \n    static interface ResourceId&lt;T&gt; {\n        T get();\n    }\n    \n    static class UserId implements ResourceId&lt;String&gt; {\n        public String get() { return null; } \n    }\n    \n    static interface Resource&lt;I extends ResourceId&lt;?&gt;&gt; {\n        I id();\n    }\n    \n    static class User implements Resource&lt;UserId&gt; {\n        public UserId id() { return null; } \n    }\n    \n    static interface Dao&lt;I extends ResourceId&lt;?&gt;, R extends Resource&lt;I&gt;&gt; {\n        R findById(I id);\n        \n        void save(R u);\n    }\n    \n    static class UserDao implements Dao&lt;UserId, User&gt; {\n        public User findById(UserId id) { return null; }\n        \n        public void save(User u) {}\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56195065\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":3348675,"reputation":5862,"user_id":2813227,"display_name":"Andreas Rayo Kniep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675402365,"creation_date":1558134524,"question_id":56194580,"body_markdown":"The goal of our approach is to introduce interfaces to our existing DAO and model classes. The model classes are identified by resource-IDs of various types and the resource-IDs are not just random numbers, but carry semantics and behavior. Thus, we have to represent resource-IDs by objects rather than primitive types.\r\n\r\nCurrent approach for resource-IDs:\r\n```java\r\ninterface ResourceId&lt;T&gt; {\r\n  T get();\r\n}\r\nclass UserId implements ResourceId&lt;String&gt; {\r\n  public String get();\r\n}\r\n```\r\nCurrent approach for our resources/models:\r\n```java\r\ninterface Resource&lt;I extends ResourceId&gt; {\r\n  I id();\r\n}\r\nclass User implements Resource&lt;UserId&gt; {\r\n  public UserId id();\r\n}\r\n```\r\n&lt;hr&gt;\r\nI am struggling finding a working solution for our DAO classes. Here are some approaches I tried but failed:\r\n\r\n**=== Option 1 ===**  \r\nfails with:  \r\n`error: &gt; expected`  \r\nmultiple levels of generic types seem forbidden in Java\r\n\r\n```java\r\ninterface Dao&lt;R extends Resource&lt;I extends ResourceId&gt;&gt; {\r\n  R findById(I id);\r\n  void save(R u);\r\n}\r\nclass UserDao implements Dao&lt;User&gt; {\r\n  public User findById(UserId id);\r\n  public void save(User u);\r\n}\r\n```\r\n\r\n**=== Option 2 ===**  \r\nfails with:  \r\n`UserDao is not abstract and does not override abstract method &lt;R&gt;save(R) in Dao`  \r\nAlso Dao&amp;lt;UserId&amp;gt; looks stupid. UserDao should be a Dao&amp;lt;User&amp;gt; object.\r\n```java\r\ninterface Dao&lt;I extends ResourceId&gt; {\r\n  &lt;R extends Resource&lt;I&gt;&gt; R findById(I id);\r\n  &lt;R extends Resource&lt;I&gt;&gt; void save(R u);\r\n}\r\nclass UserDao implements Dao&lt;UserId&gt; {\r\n  public User findById(UserId id);\r\n  public void save(User u);\r\n}\r\n```\r\n\r\n**=== Option 3 ===**  \r\nfails with:  \r\n`UserDao is not abstract and does not override abstract method &lt;I&gt;findById(I) in Dao`\r\nEven if it worked, I is not bound by the ResourceId actually implemented by R.\r\n\r\n```java\r\ninterface Dao&lt;R extends Resource&gt; {\r\n  &lt;I extends ResourceId&gt; R findById(I id);\r\n  void save(R u);\r\n}\r\nclass UserDao implements Dao&lt;User&gt; {\r\n  public User findById(UserId id);\r\n  public void save(User u);\r\n}\r\n\r\n```\r\n\r\n**=== Option 4 ===**  \r\ncompiles.  \r\nHowever #findById in UserDao would have to take a generic parameter of type ResourceId instead of UserId. Also, inside of the implementation of #findById we would have to cast the result of #get() to String.  \r\nGenerally the problem is that the type of ResourceId is not bound by the ResourceId actually implemented by R.\r\n\r\n```java\r\ninterface Dao&lt;R extends Resource&gt; {\r\n  R findById(ResourceId id);\r\n  void save(R u);\r\n}\r\nclass UserDao implements Dao&lt;User&gt; {\r\n  public User findById(ResourceId id);\r\n  public void save(User u);\r\n}\r\n\r\n```\r\n\r\n**=== Option 5 ===**  \r\ncompiles.  \r\nHowever Dao&amp;lt;User, UserId&amp;gt; looks stupid. The information which ResourceId we want to use (i.e. UserId) is already available in the implementation of the Resource (i.e. User). Is there no cleaner way?\r\n\r\n```java\r\ninterface Dao&lt;R extends Resource, I extends ResourceId&gt; {\r\n  R findById(I id);\r\n  void save(R u);\r\n}\r\nclass UserDao implements Dao&lt;User, UserId&gt; {\r\n  public User findById(UserId id);\r\n  public void save(User u);\r\n}\r\n\r\n```\r\n\r\nAny ideas how to properly solve this?","title":"How to create generic Java interface typed with another generic Java interface?","body":"<p>The goal of our approach is to introduce interfaces to our existing DAO and model classes. The model classes are identified by resource-IDs of various types and the resource-IDs are not just random numbers, but carry semantics and behavior. Thus, we have to represent resource-IDs by objects rather than primitive types.</p>\n\n<p>Current approach for resource-IDs:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface ResourceId&lt;T&gt; {\n  T get();\n}\nclass UserId implements ResourceId&lt;String&gt; {\n  public String get();\n}\n</code></pre>\n\n<p>Current approach for our resources/models:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface Resource&lt;I extends ResourceId&gt; {\n  I id();\n}\nclass User implements Resource&lt;UserId&gt; {\n  public UserId id();\n}\n</code></pre>\n\n<p><hr>\nI am struggling finding a working solution for our DAO classes. Here are some approaches I tried but failed:</p>\n\n<p><strong>=== Option 1 ===</strong><br>\nfails with:<br>\n<code>error: &gt; expected</code><br>\nmultiple levels of generic types seem forbidden in Java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface Dao&lt;R extends Resource&lt;I extends ResourceId&gt;&gt; {\n  R findById(I id);\n  void save(R u);\n}\nclass UserDao implements Dao&lt;User&gt; {\n  public User findById(UserId id);\n  public void save(User u);\n}\n</code></pre>\n\n<p><strong>=== Option 2 ===</strong><br>\nfails with:<br>\n<code>UserDao is not abstract and does not override abstract method &lt;R&gt;save(R) in Dao</code><br>\nAlso Dao&lt;UserId&gt; looks stupid. UserDao should be a Dao&lt;User&gt; object.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface Dao&lt;I extends ResourceId&gt; {\n  &lt;R extends Resource&lt;I&gt;&gt; R findById(I id);\n  &lt;R extends Resource&lt;I&gt;&gt; void save(R u);\n}\nclass UserDao implements Dao&lt;UserId&gt; {\n  public User findById(UserId id);\n  public void save(User u);\n}\n</code></pre>\n\n<p><strong>=== Option 3 ===</strong><br>\nfails with:<br>\n<code>UserDao is not abstract and does not override abstract method &lt;I&gt;findById(I) in Dao</code>\nEven if it worked, I is not bound by the ResourceId actually implemented by R.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface Dao&lt;R extends Resource&gt; {\n  &lt;I extends ResourceId&gt; R findById(I id);\n  void save(R u);\n}\nclass UserDao implements Dao&lt;User&gt; {\n  public User findById(UserId id);\n  public void save(User u);\n}\n\n</code></pre>\n\n<p><strong>=== Option 4 ===</strong><br>\ncompiles.<br>\nHowever #findById in UserDao would have to take a generic parameter of type ResourceId instead of UserId. Also, inside of the implementation of #findById we would have to cast the result of #get() to String.<br>\nGenerally the problem is that the type of ResourceId is not bound by the ResourceId actually implemented by R.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface Dao&lt;R extends Resource&gt; {\n  R findById(ResourceId id);\n  void save(R u);\n}\nclass UserDao implements Dao&lt;User&gt; {\n  public User findById(ResourceId id);\n  public void save(User u);\n}\n\n</code></pre>\n\n<p><strong>=== Option 5 ===</strong><br>\ncompiles.<br>\nHowever Dao&lt;User, UserId&gt; looks stupid. The information which ResourceId we want to use (i.e. UserId) is already available in the implementation of the Resource (i.e. User). Is there no cleaner way?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface Dao&lt;R extends Resource, I extends ResourceId&gt; {\n  R findById(I id);\n  void save(R u);\n}\nclass UserDao implements Dao&lt;User, UserId&gt; {\n  public User findById(UserId id);\n  public void save(User u);\n}\n\n</code></pre>\n\n<p>Any ideas how to properly solve this?</p>\n"},{"tags":["java","docker","gradle","docker-for-mac"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402360,"creation_date":1558128730,"answer_id":56193809,"question_id":48380168,"body_markdown":"Try *removing* all of your `${DOCKER_*}` environment variables and running it. Many `docker` utilities manipulate these variables and sometimes they get inconsistent values. I found out that just removing them solved my problems for running the `docker` command from the propmt.\r\n\r\nHope this helps.","title":"Gradle can&#39;t run docker task on Mac","body":"<p>Try <em>removing</em> all of your <code>${DOCKER_*}</code> environment variables and running it. Many <code>docker</code> utilities manipulate these variables and sometimes they get inconsistent values. I found out that just removing them solved my problems for running the <code>docker</code> command from the propmt.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":6052716,"reputation":1842,"user_id":4859182,"accept_rate":92,"display_name":"solomkinmv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1675402360,"creation_date":1516619223,"question_id":48380168,"body_markdown":"I&#39;m using `gradle-docker` plugin from Palantir. When I try to build docker I receive following error message:\r\n\r\n`Starting process &#39;command &#39;docker&#39;&#39;. Working directory: /Users/msolomkin/Projects/glossary/discovery-server/build/docker Command: docker build --build-arg JAR_FILE=discovery-server-0.0.1-SNAPSHOT.jar -t solomkinmv/discovery-server .`\r\n\r\nBut when I go to the working directory (`/Users/msolomkin/Projects/glossary/discovery-server/build/docker`) manually and run command `docker build --build-arg JAR_FILE=discovery-server-0.0.1-SNAPSHOT.jar -t solomkinmv/discovery-server .` everything works fine.\r\n\r\nAlso, my Travis is able to build docker image. Looks like it is problem of my Docker installation for Mac.\r\n\r\nDocker for Mac version: 17.12.0-ce-mac49 (21995)\r\n\r\nGradle version: 4.4.1\r\n\r\nHere is my task configuration:\r\n\r\n    docker {\r\n        name &quot;solomkinmv/${bootJar.baseName}&quot;\r\n        println &quot;==&gt; Docker task for ${name}&quot;\r\n        files bootJar.archivePath\r\n        buildArgs([&#39;JAR_FILE&#39;: &quot;${bootJar.archiveName}&quot;])\r\n    }\r\n\r\nAnd here is the link to GitHub: https://github.com/solomkinmv/glossary/tree/discovery-server/discovery-server\r\n\r\nWhat is the proper way of configuring env variables for Docker for Mac to be able to run gradle tasks?","title":"Gradle can&#39;t run docker task on Mac","body":"<p>I'm using <code>gradle-docker</code> plugin from Palantir. When I try to build docker I receive following error message:</p>\n\n<p><code>Starting process 'command 'docker''. Working directory: /Users/msolomkin/Projects/glossary/discovery-server/build/docker Command: docker build --build-arg JAR_FILE=discovery-server-0.0.1-SNAPSHOT.jar -t solomkinmv/discovery-server .</code></p>\n\n<p>But when I go to the working directory (<code>/Users/msolomkin/Projects/glossary/discovery-server/build/docker</code>) manually and run command <code>docker build --build-arg JAR_FILE=discovery-server-0.0.1-SNAPSHOT.jar -t solomkinmv/discovery-server .</code> everything works fine.</p>\n\n<p>Also, my Travis is able to build docker image. Looks like it is problem of my Docker installation for Mac.</p>\n\n<p>Docker for Mac version: 17.12.0-ce-mac49 (21995)</p>\n\n<p>Gradle version: 4.4.1</p>\n\n<p>Here is my task configuration:</p>\n\n<pre><code>docker {\n    name \"solomkinmv/${bootJar.baseName}\"\n    println \"==&gt; Docker task for ${name}\"\n    files bootJar.archivePath\n    buildArgs(['JAR_FILE': \"${bootJar.archiveName}\"])\n}\n</code></pre>\n\n<p>And here is the link to GitHub: <a href=\"https://github.com/solomkinmv/glossary/tree/discovery-server/discovery-server\" rel=\"noreferrer\">https://github.com/solomkinmv/glossary/tree/discovery-server/discovery-server</a></p>\n\n<p>What is the proper way of configuring env variables for Docker for Mac to be able to run gradle tasks?</p>\n"},{"tags":["java","rest","api","http","ovh"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402355,"creation_date":1558084640,"answer_id":56183288,"question_id":56126574,"body_markdown":"The API of the java wrapper specifies that the `api.get` method receives as the second parameter (in the three parameters version of `api.get`) the GET body; but you are passing a string containing the URL parameters:\r\n\r\n```\r\napi.get(&quot;/telephony/{ACCT}/line/{NUM}/statistics&quot;, &quot;timeframe=daily&amp;type=maxDelay&quot;, true);\r\n```\r\n\r\nSince the request you need does not require a body and does require the parameters in the URL, you need to use the following invocation:\r\n\r\n```\r\napi.get(&quot;/telephony/{ACCT}/line/{NUM}/statistics?timeframe=daily&amp;type=maxDelay&quot;, true);\r\n```\r\n\r\nPay attention that `{ACCT}` and `{NUM}` must be replaced by the actual account and service number values in that first string. Also, notice the parameters are appended directly into the string URL.\r\n\r\nHope this helps.","title":"OVH JAVA API using Get request with parameters","body":"<p>The API of the java wrapper specifies that the <code>api.get</code> method receives as the second parameter (in the three parameters version of <code>api.get</code>) the GET body; but you are passing a string containing the URL parameters:</p>\n<pre><code>api.get(&quot;/telephony/{ACCT}/line/{NUM}/statistics&quot;, &quot;timeframe=daily&amp;type=maxDelay&quot;, true);\n</code></pre>\n<p>Since the request you need does not require a body and does require the parameters in the URL, you need to use the following invocation:</p>\n<pre><code>api.get(&quot;/telephony/{ACCT}/line/{NUM}/statistics?timeframe=daily&amp;type=maxDelay&quot;, true);\n</code></pre>\n<p>Pay attention that <code>{ACCT}</code> and <code>{NUM}</code> must be replaced by the actual account and service number values in that first string. Also, notice the parameters are appended directly into the string URL.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":6483147,"reputation":396,"user_id":5019550,"accept_rate":63,"display_name":"Aymen Ragoubi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56183288,"answer_count":1,"score":4,"last_activity_date":1675402355,"creation_date":1557824587,"question_id":56126574,"body_markdown":" am trying to create a web interface to interact with OVH&#39;s telephony API [ovh telephony api][1]  using the official JAVA wrapper [OVH java wrapper][2]. \r\n\r\nI am trying to use a GET endpoint with parameters. this is the endpoint:\r\n\r\n&gt; GET /telephony/{billingAccount}/line/{serviceName}/statistics\r\n\r\n&gt; Parameters:\r\n \r\n&gt;               timeframe: string;  \r\n\r\n&gt;               type : string  \r\n\r\nThis is how I am doing the call:\r\n\r\n    api.get(&quot;/telephony/{myBuildingAccount}/line/{myServiceNumber}/statistics&quot;, &quot;timeframe=daily&amp;type=maxDelay&quot;, true);\r\n\r\nBut I am getting an error 400 bad signature.\r\n\r\nCould someone help me with this ? \r\n\r\n\r\n  [1]: https://api.ovh.com/console/#/telephony\r\n  [2]: https://github.com/ovh/java-ovh","title":"OVH JAVA API using Get request with parameters","body":"<p>am trying to create a web interface to interact with OVH's telephony API <a href=\"https://api.ovh.com/console/#/telephony\" rel=\"noreferrer\">ovh telephony api</a>  using the official JAVA wrapper <a href=\"https://github.com/ovh/java-ovh\" rel=\"noreferrer\">OVH java wrapper</a>. </p>\n\n<p>I am trying to use a GET endpoint with parameters. this is the endpoint:</p>\n\n<blockquote>\n  <p>GET /telephony/{billingAccount}/line/{serviceName}/statistics</p>\n  \n  <p>Parameters:</p>\n\n<pre><code>          timeframe: string;  \n\n          type : string  \n</code></pre>\n</blockquote>\n\n<p>This is how I am doing the call:</p>\n\n<pre><code>api.get(\"/telephony/{myBuildingAccount}/line/{myServiceNumber}/statistics\", \"timeframe=daily&amp;type=maxDelay\", true);\n</code></pre>\n\n<p>But I am getting an error 400 bad signature.</p>\n\n<p>Could someone help me with this ? </p>\n"},{"tags":["java","hibernate","jpa","design-patterns","persistence"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675402348,"creation_date":1558042893,"answer_id":56176959,"question_id":56175515,"body_markdown":"The reason you may be getting this error is due to the fact that `merge` copies the contents of a detached entity into a managed entity. So, if you are passing as an argument to `merge` a `User` or `Admin` entity (from now on referred as `PERSON`) that contains a **detached** copy of a `Credentials` entity persisted in the DB; then you will definitely be getting this problem. The reason for this is:\r\n\r\n1. `merge` will copy the entire state of the `PERSON` entity argument into the corresponding **context managed** `PERSON` entity.\r\n2. This copy will include the `Credentials` entity inside the `PERSON` argument.\r\n3. Since the `Credentials` entity was detached, the persistence manager will assume this entity corresponds to an entity not persisted yet.\r\n4. The persistence context, when flushing the session, will save the **merged** `Credentials` using an `INSERT` (persist the new `Credentials`) rather than an `UPDATE`.\r\n5. The `INSERT` will trigger the duplicate constrain violation on the `login` field you are getting, because the original `Credentials` record exist with the `login` value being used in the `INSERT`.\r\n\r\n**EDIT: (How to merge)**\r\n\r\nIf you are not updating the `Credentials` in `PERSON`, then when merging in your `PERSON_DAO`, you could: \r\n\r\n1. Temporarily remove `Credentials` from `PERSON` (`null`) before merging.\r\n2. Merge `PERSON`.\r\n3. Add the original `Credentials` back to your **newly merged** `PERSON` \r\n\r\nSince I have no access to your `DAO` code, here is a pseudo code of the previous:\r\n\r\n```\r\n\tpublic PERSON mergeSafely(PERSON person) {\r\n\t\tCredentials originalCredentials = person.getCredentials();\r\n\t\tperson.setCredentials(null);\r\n\t    person = em.merge(person);\r\n\t    person.setCredentials(originalCredentials);\r\n\t    return person;\r\n\t}\r\n```\r\n\r\nIn case you want to merge also the `Credentials`, then you should (for cleanness sake) use the `service` layer above the `dao` layer. A pseudo code of a utility method to accomplish this in that layer would look like:\r\n\r\n```\r\n\tpublic PERSON mergeCompletely(PERSON person) {\r\n\t\tCredentials mergedCredentials = credentialsDAO.merge(person.getCredentials());\r\n\t    person.setCredentials(mergedCredentials);\r\n\t\tperson = personDAO.merge(person);\r\n\t    return person;\r\n\t}\r\n```\r\n\r\nHope this helps.","title":"How to cascade update to child entity in Hibernate","body":"<p>The reason you may be getting this error is due to the fact that <code>merge</code> copies the contents of a detached entity into a managed entity. So, if you are passing as an argument to <code>merge</code> a <code>User</code> or <code>Admin</code> entity (from now on referred as <code>PERSON</code>) that contains a <strong>detached</strong> copy of a <code>Credentials</code> entity persisted in the DB; then you will definitely be getting this problem. The reason for this is:</p>\n<ol>\n<li><code>merge</code> will copy the entire state of the <code>PERSON</code> entity argument into the corresponding <strong>context managed</strong> <code>PERSON</code> entity.</li>\n<li>This copy will include the <code>Credentials</code> entity inside the <code>PERSON</code> argument.</li>\n<li>Since the <code>Credentials</code> entity was detached, the persistence manager will assume this entity corresponds to an entity not persisted yet.</li>\n<li>The persistence context, when flushing the session, will save the <strong>merged</strong> <code>Credentials</code> using an <code>INSERT</code> (persist the new <code>Credentials</code>) rather than an <code>UPDATE</code>.</li>\n<li>The <code>INSERT</code> will trigger the duplicate constrain violation on the <code>login</code> field you are getting, because the original <code>Credentials</code> record exist with the <code>login</code> value being used in the <code>INSERT</code>.</li>\n</ol>\n<p><strong>EDIT: (How to merge)</strong></p>\n<p>If you are not updating the <code>Credentials</code> in <code>PERSON</code>, then when merging in your <code>PERSON_DAO</code>, you could:</p>\n<ol>\n<li>Temporarily remove <code>Credentials</code> from <code>PERSON</code> (<code>null</code>) before merging.</li>\n<li>Merge <code>PERSON</code>.</li>\n<li>Add the original <code>Credentials</code> back to your <strong>newly merged</strong> <code>PERSON</code></li>\n</ol>\n<p>Since I have no access to your <code>DAO</code> code, here is a pseudo code of the previous:</p>\n<pre><code>    public PERSON mergeSafely(PERSON person) {\n        Credentials originalCredentials = person.getCredentials();\n        person.setCredentials(null);\n        person = em.merge(person);\n        person.setCredentials(originalCredentials);\n        return person;\n    }\n</code></pre>\n<p>In case you want to merge also the <code>Credentials</code>, then you should (for cleanness sake) use the <code>service</code> layer above the <code>dao</code> layer. A pseudo code of a utility method to accomplish this in that layer would look like:</p>\n<pre><code>    public PERSON mergeCompletely(PERSON person) {\n        Credentials mergedCredentials = credentialsDAO.merge(person.getCredentials());\n        person.setCredentials(mergedCredentials);\n        person = personDAO.merge(person);\n        return person;\n    }\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":9813580,"reputation":43,"user_id":7270828,"display_name":"Igor RMS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56176959,"answer_count":1,"score":1,"last_activity_date":1675402348,"creation_date":1558035439,"question_id":56175515,"body_markdown":"I have three entities: Credentials, User and Admin. Both User and Admin entities have a field credentials, which is related to Credentials entity using OneToOne annotation.\r\n\r\nWhen updating an existing User or Admin entry, through entityManager.merge, I am getting duplicated key over Credentials.login column, which has unique constraint.\r\n\r\n```java\r\n@Entity\r\n@Table\r\npublic class Credentials {\r\n    @Id\r\n    @Column(name=&quot;id&quot;, unique=true, nullable=false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\t\r\n    @Column(unique=true, nullable=false, length=50)\r\n    private String login;\r\n\t\r\n    @Column(nullable=false, length=50)\r\n    private String password;\r\n\r\n    /*********************************************\r\n    *  getters and setters here\r\n    **********************************************/\r\n}\r\n\r\n@Entity\r\n@Table\r\npublic class User{\r\n    @Id\r\n    @Column(name=&quot;id&quot;, unique=true, nullable=false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\t\r\n    /*********************************************\r\n    *  Specific user columns here\r\n    **********************************************/\r\n\t\r\n    @OneToOne(cascade = {CascadeType.ALL})\r\n    @JoinColumn(nullable=false, name = &quot;idCredentials&quot;)\r\n    private Credentials credentials;\r\n\r\n    /*********************************************\r\n    *  getters and setters here\r\n    **********************************************/\r\n}\r\n\r\n@Entity\r\n@Table\r\npublic class Admin{\r\n    @Id\r\n    @Column(name=&quot;id&quot;, unique=true, nullable=false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\t\r\n    /*********************************************\r\n    *  Specific admin columns here\r\n    **********************************************/\r\n\t\r\n    @OneToOne(cascade = {CascadeType.ALL})\r\n    @JoinColumn(nullable=false, name = &quot;idCredentials&quot;)\r\n    private Credentials credentials;\r\n\r\n    /*********************************************\r\n    *  getters and setters here\r\n    **********************************************/\r\n}\r\n\r\n```\r\n\r\nI expect to have user and user.credentials updated in respective database tables after calling entityManager.merge(user), but I am getting the error &quot;Duplicate entry &#39;loginname&#39; for key &#39;login_UNIQUE. The same happens with Admin entity.\r\n\r\nThank you in advance for any help.","title":"How to cascade update to child entity in Hibernate","body":"<p>I have three entities: Credentials, User and Admin. Both User and Admin entities have a field credentials, which is related to Credentials entity using OneToOne annotation.</p>\n\n<p>When updating an existing User or Admin entry, through entityManager.merge, I am getting duplicated key over Credentials.login column, which has unique constraint.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Credentials {\n    @Id\n    @Column(name=\"id\", unique=true, nullable=false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique=true, nullable=false, length=50)\n    private String login;\n\n    @Column(nullable=false, length=50)\n    private String password;\n\n    /*********************************************\n    *  getters and setters here\n    **********************************************/\n}\n\n@Entity\n@Table\npublic class User{\n    @Id\n    @Column(name=\"id\", unique=true, nullable=false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    /*********************************************\n    *  Specific user columns here\n    **********************************************/\n\n    @OneToOne(cascade = {CascadeType.ALL})\n    @JoinColumn(nullable=false, name = \"idCredentials\")\n    private Credentials credentials;\n\n    /*********************************************\n    *  getters and setters here\n    **********************************************/\n}\n\n@Entity\n@Table\npublic class Admin{\n    @Id\n    @Column(name=\"id\", unique=true, nullable=false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    /*********************************************\n    *  Specific admin columns here\n    **********************************************/\n\n    @OneToOne(cascade = {CascadeType.ALL})\n    @JoinColumn(nullable=false, name = \"idCredentials\")\n    private Credentials credentials;\n\n    /*********************************************\n    *  getters and setters here\n    **********************************************/\n}\n\n</code></pre>\n\n<p>I expect to have user and user.credentials updated in respective database tables after calling entityManager.merge(user), but I am getting the error \"Duplicate entry 'loginname' for key 'login_UNIQUE. The same happens with Admin entity.</p>\n\n<p>Thank you in advance for any help.</p>\n"},{"tags":["java","spring-boot","datetime","design-patterns","jackson"],"comments":[{"owner":{"account_id":4642475,"reputation":816,"user_id":4283034,"accept_rate":75,"display_name":"karfai"},"score":2,"creation_date":1557960494,"post_id":56158387,"comment_id":98945911,"body_markdown":"I don&#39;t think there are settings to enable this. Write your own custom JsonSerializer should be the only way, i.e. `@JsonSerialize(using = CustomSerializer.class) private Instant time;`.","body":"I don&#39;t think there are settings to enable this. Write your own custom JsonSerializer should be the only way, i.e. <code>@JsonSerialize(using = CustomSerializer.class) private Instant time;</code>."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675402341,"creation_date":1557964596,"answer_id":56159078,"question_id":56158387,"body_markdown":"&gt; Are there Jackson annotations I can use on my Instant field, or properties I can set to apply this kind of behaviour? Or is a custom deserializer my only option?\r\n\r\nI am not personally aware of annotations that will do this out-of-the-box for you; but the following is a simple deserializer that does the job:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.time.Instant;\r\n\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n\r\npublic class JacksonInstantDeserializer extends StdDeserializer&lt;Instant&gt; {\r\n\tpublic JacksonInstantDeserializer() { this(null); }\r\n\tpublic JacksonInstantDeserializer(Class&lt;?&gt; clazz) { super(clazz); }\r\n\t\r\n\t@Override\r\n\tpublic Instant deserialize(JsonParser parser, DeserializationContext ctx) throws IOException {\r\n\t\treturn Instant.parse(parser.getText());\r\n\t}\r\n}\r\n```\r\nIt basically uses [`Instant.parse`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#parse-java.lang.CharSequence-); which accepts **ONLY** an [ISO-8601 formatted string](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT) (it will throw a [`DateTimeParseException`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html) if the string is not formatted accordingly) and creates an `Instant` based on its representation. Then you can use tell jackson to use this converter to deserialize the `Instant` properties of your DTOs in the following manner:\r\n\r\n```\r\n\tpublic class MyDTO {\r\n\t    @JsonDeserialize(using = JacksonInstantDeserializer.class)\r\n\t    public Instant instant;\r\n\t}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56159078)\r\n\r\nHope this helps.","title":"How to disable Jackson from deserializing an Instant from epoch millis?","body":"<blockquote>\n<p>Are there Jackson annotations I can use on my Instant field, or properties I can set to apply this kind of behaviour? Or is a custom deserializer my only option?</p>\n</blockquote>\n<p>I am not personally aware of annotations that will do this out-of-the-box for you; but the following is a simple deserializer that does the job:</p>\n<pre><code>import java.io.IOException;\nimport java.time.Instant;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\npublic class JacksonInstantDeserializer extends StdDeserializer&lt;Instant&gt; {\n    public JacksonInstantDeserializer() { this(null); }\n    public JacksonInstantDeserializer(Class&lt;?&gt; clazz) { super(clazz); }\n    \n    @Override\n    public Instant deserialize(JsonParser parser, DeserializationContext ctx) throws IOException {\n        return Instant.parse(parser.getText());\n    }\n}\n</code></pre>\n<p>It basically uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Instant.parse</code></a>; which accepts <strong>ONLY</strong> an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">ISO-8601 formatted string</a> (it will throw a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\" rel=\"nofollow noreferrer\"><code>DateTimeParseException</code></a> if the string is not formatted accordingly) and creates an <code>Instant</code> based on its representation. Then you can use tell jackson to use this converter to deserialize the <code>Instant</code> properties of your DTOs in the following manner:</p>\n<pre><code>    public class MyDTO {\n        @JsonDeserialize(using = JacksonInstantDeserializer.class)\n        public Instant instant;\n    }\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56159078\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":3109635,"reputation":93,"user_id":2631689,"display_name":"Jamie Williams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2381,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56159078,"answer_count":1,"score":6,"last_activity_date":1675402341,"creation_date":1557958765,"question_id":56158387,"body_markdown":"I am developing an API using Spring Boot and am using Jackson for payload (de)serialization. I want to deserialize an ISO-8601 formatted datetime into a `java.time.Instant`, but do not want to support deserializing from epoch time in milliseconds or nanoseconds. I want to only support the data being provided to my API in one format to reduce the chance of client error.\r\n\r\nCurrently, Jackson deserializes to an Instant from both an ISO-8601 formatted string AND from a string containing only numbers e.g. `&quot;20190520&quot;`.\r\n\r\nAre there Jackson annotations I can use on my `Instant` field, or properties I can set to apply this kind of behaviour? Or is a custom deserializer my only option?","title":"How to disable Jackson from deserializing an Instant from epoch millis?","body":"<p>I am developing an API using Spring Boot and am using Jackson for payload (de)serialization. I want to deserialize an ISO-8601 formatted datetime into a <code>java.time.Instant</code>, but do not want to support deserializing from epoch time in milliseconds or nanoseconds. I want to only support the data being provided to my API in one format to reduce the chance of client error.</p>\n\n<p>Currently, Jackson deserializes to an Instant from both an ISO-8601 formatted string AND from a string containing only numbers e.g. <code>\"20190520\"</code>.</p>\n\n<p>Are there Jackson annotations I can use on my <code>Instant</code> field, or properties I can set to apply this kind of behaviour? Or is a custom deserializer my only option?</p>\n"},{"tags":["java","multithreading","lambda","compilation","functional-interface"],"comments":[{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1558783511,"post_id":56149752,"comment_id":99219480,"body_markdown":"Could you please provide more details on that `DO SOMETHING`? It is crucial to give a precise answer. For example, if `DO SOMETHING` is empty, the first code block with `while (true)` will just not compile. See my answer for more details.","body":"Could you please provide more details on that <code>DO SOMETHING</code>? It is crucial to give a precise answer. For example, if <code>DO SOMETHING</code> is empty, the first code block with <code>while (true)</code> will just not compile. See my answer for more details."},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":0,"creation_date":1558814873,"post_id":56149752,"comment_id":99227031,"body_markdown":"Sorry guys, my bad: the first code block actually compiles (I was misled by my IDE), and no additional information from the OP is needed. I&#39;ve totally rewritten my answer after the new research.","body":"Sorry guys, my bad: the first code block actually compiles (I was misled by my IDE), and no additional information from the OP is needed. I&#39;ve totally rewritten my answer after the new research."}],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1675402337,"creation_date":1557926404,"answer_id":56150419,"question_id":56149752,"body_markdown":"The reason for this, is that these invocations are in fact, invocations to two different overloaded methods available in `ExecutorService`; each of these methods taking a single argument of different types:\r\n\r\n&gt; 1. `    &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task);`\r\n2. `    Future&lt;?&gt; submit(Runnable task);`\r\n\r\nThen what happens is that the compiler is converting the lambda in the first case of your problem into a `Callable&lt;?&gt;` functional interface (invoking the first overloaded method); and in the second case of your problem converts the lambda into a `Runnable` functional interface (invoking therefore the second overloaded method), requiring because of this to handle the `Exception` thrown; but not in the previous case using the `Callable`.\r\n\r\nAlthough both functional interfaces don&#39;t take any arguments, `Callable&lt;?&gt;` **returns a value**:\r\n\r\n&gt; 1. Callable&lt;?&gt;: `V call() throws Exception;`\r\n2. Runnable: `public abstract void run();`\r\n\r\nIf we switch to examples that trim the code to the relevant pieces (to easily investigate just the curious bits) then we can write, equivalently to the original examples:\r\n\r\n```\r\n\tExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\n    // LAMBDA COMPILED INTO A &#39;Callable&lt;?&gt;&#39;\r\n    executor.submit(() -&gt; {\r\n    \twhile (true)\r\n    \t\tthrow new Exception();\r\n    });\r\n    \r\n\t// LAMBDA COMPILED INTO A &#39;Runnable&#39;: EXCEPTIONS MUST BE HANDLED BY LAMBDA ITSELF!\r\n    executor.submit(() -&gt; {\r\n    \tboolean value = true;\r\n    \twhile (value)\r\n    \t\tthrow new Exception();\r\n    });\r\n```\r\n\r\nWith these examples, it may be easier to observe that the reason why the first one is converted to a `Callable&lt;?&gt;`, while the second one is converted to a `Runnable` is because of *compiler inferences*. \r\n\r\nIn both cases, the lambda bodies are [void-compatible][1], since every return statement in the block has the form `return;`.\r\n\r\nNow, in the first case, the compiler does the following:\r\n\r\n1. Detects that all execution paths in the lambda declare throwing [checked exceptions](https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html) (from now on we will refer as *&#39;exception&#39;*, implying only *&#39;checked exceptions&#39;*). This includes the invocation of any method declaring throwing exceptions and the explicit invocation to `throw new &lt;CHECKED_EXCEPTION&gt;()`.\r\n2. Concludes correctly that the **WHOLE** body of the lambda is equivalent to a block of code declaring throwing exceptions; which of course **MUST** be either: handled or re-thrown.\r\n3. Since the lambda is not handling the exception, then the compiler defaults to assume that these exception(s) must be re-thrown.\r\n4. Safely infers that this lambda must match a functional interface cannot `complete normally` and therefore is [value-compatible][1].\r\n5. Since `Callable&lt;?&gt;` and `Runnable` are potential matches for this lambda, the compiler selects the most specific match (to cover all scenarios); which is the `Callable&lt;?&gt;`, converting the lambda into an instance of it and creating an invocation reference to the `submit(Callable&lt;?&gt;)` overloaded method.\r\n\r\nWhile, in the second case, the compiler does the following:\r\n\r\n1. Detects that there may be execution paths in the lambda that **DO NOT** declare throwing exceptions (depending on *to-be-evaluated logic*).\r\n2. Since not all execution paths declare throwing exceptions, the compiler concludes that the body of the lambda is **NOT NECESSARILY** equivalent to a block of code declaring throwing exceptions - compiler doesn&#39;t care/pay attention if some portions of the code do declare that they may, only if the whole body does or not. \r\n3. Safely infers that the lambda is not [value-compatible][1]; since it **MAY** `complete normally`.\r\n4. Selects `Runnable` (as it is the only available *fitting* functional interface for the lambda to be converted into) and creates an invocation reference to the `submit(Runnable)` overloaded method. All this coming at the price of delegating to the user, the responsibility of handling any `Exception`s thrown wherever they **MAY** occur within portions of the lambda body.\r\n\r\nThis was a great question - I had a lot of fun chasing it down, thanks!\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2","title":"Thread.sleep inside infinite while loop in lambda doesn&#39;t require &#39;catch (InterruptedException)&#39; - why not?","body":"<p>The reason for this, is that these invocations are in fact, invocations to two different overloaded methods available in <code>ExecutorService</code>; each of these methods taking a single argument of different types:</p>\n<blockquote>\n<ol>\n<li><code>    &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task);</code>\n2. <code>    Future&lt;?&gt; submit(Runnable task);</code></li>\n</ol>\n</blockquote>\n<p>Then what happens is that the compiler is converting the lambda in the first case of your problem into a <code>Callable&lt;?&gt;</code> functional interface (invoking the first overloaded method); and in the second case of your problem converts the lambda into a <code>Runnable</code> functional interface (invoking therefore the second overloaded method), requiring because of this to handle the <code>Exception</code> thrown; but not in the previous case using the <code>Callable</code>.</p>\n<p>Although both functional interfaces don't take any arguments, <code>Callable&lt;?&gt;</code> <strong>returns a value</strong>:</p>\n<blockquote>\n<ol>\n<li>Callable&lt;?&gt;: <code>V call() throws Exception;</code>\n2. Runnable: <code>public abstract void run();</code></li>\n</ol>\n</blockquote>\n<p>If we switch to examples that trim the code to the relevant pieces (to easily investigate just the curious bits) then we can write, equivalently to the original examples:</p>\n<pre><code>    ExecutorService executor = Executors.newSingleThreadExecutor();\n\n    // LAMBDA COMPILED INTO A 'Callable&lt;?&gt;'\n    executor.submit(() -&gt; {\n        while (true)\n            throw new Exception();\n    });\n    \n    // LAMBDA COMPILED INTO A 'Runnable': EXCEPTIONS MUST BE HANDLED BY LAMBDA ITSELF!\n    executor.submit(() -&gt; {\n        boolean value = true;\n        while (value)\n            throw new Exception();\n    });\n</code></pre>\n<p>With these examples, it may be easier to observe that the reason why the first one is converted to a <code>Callable&lt;?&gt;</code>, while the second one is converted to a <code>Runnable</code> is because of <em>compiler inferences</em>.</p>\n<p>In both cases, the lambda bodies are <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">void-compatible</a>, since every return statement in the block has the form <code>return;</code>.</p>\n<p>Now, in the first case, the compiler does the following:</p>\n<ol>\n<li>Detects that all execution paths in the lambda declare throwing <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow noreferrer\">checked exceptions</a> (from now on we will refer as <em>'exception'</em>, implying only <em>'checked exceptions'</em>). This includes the invocation of any method declaring throwing exceptions and the explicit invocation to <code>throw new &lt;CHECKED_EXCEPTION&gt;()</code>.</li>\n<li>Concludes correctly that the <strong>WHOLE</strong> body of the lambda is equivalent to a block of code declaring throwing exceptions; which of course <strong>MUST</strong> be either: handled or re-thrown.</li>\n<li>Since the lambda is not handling the exception, then the compiler defaults to assume that these exception(s) must be re-thrown.</li>\n<li>Safely infers that this lambda must match a functional interface cannot <code>complete normally</code> and therefore is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">value-compatible</a>.</li>\n<li>Since <code>Callable&lt;?&gt;</code> and <code>Runnable</code> are potential matches for this lambda, the compiler selects the most specific match (to cover all scenarios); which is the <code>Callable&lt;?&gt;</code>, converting the lambda into an instance of it and creating an invocation reference to the <code>submit(Callable&lt;?&gt;)</code> overloaded method.</li>\n</ol>\n<p>While, in the second case, the compiler does the following:</p>\n<ol>\n<li>Detects that there may be execution paths in the lambda that <strong>DO NOT</strong> declare throwing exceptions (depending on <em>to-be-evaluated logic</em>).</li>\n<li>Since not all execution paths declare throwing exceptions, the compiler concludes that the body of the lambda is <strong>NOT NECESSARILY</strong> equivalent to a block of code declaring throwing exceptions - compiler doesn't care/pay attention if some portions of the code do declare that they may, only if the whole body does or not.</li>\n<li>Safely infers that the lambda is not <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\" rel=\"nofollow noreferrer\">value-compatible</a>; since it <strong>MAY</strong> <code>complete normally</code>.</li>\n<li>Selects <code>Runnable</code> (as it is the only available <em>fitting</em> functional interface for the lambda to be converted into) and creates an invocation reference to the <code>submit(Runnable)</code> overloaded method. All this coming at the price of delegating to the user, the responsibility of handling any <code>Exception</code>s thrown wherever they <strong>MAY</strong> occur within portions of the lambda body.</li>\n</ol>\n<p>This was a great question - I had a lot of fun chasing it down, thanks!</p>\n"},{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558865971,"creation_date":1558857755,"answer_id":56311746,"question_id":56149752,"body_markdown":"# Briefly #\n\n`ExecutorService` has both `submit(Callable)` and `submit(Runnable)` methods.\n\n1. In the first case (with the `while (true)`), both `submit(Callable)` and `submit(Runnable)` match, so the compiler has to choose between them\n    * `submit(Callable)` is chosen over `submit(Runnable)` because `Callable` is *more specific* than `Runnable`\n    * `Callable` has `throws Exception` in `call()`, so it is not necessary to catch an exception inside it\n2. In the second case (with the `while (tasksObserving)`) only `submit(Runnable)` match, so the compiler chooses it\n    * `Runnable` has no `throws` declaration on its `run()` method, so it is a compilation error to not catch the exception inside the `run()` method.\n\n# The full story #\n\nJava Language Specification describes how the method is chosen during program compilation in [$15.2.2][1] :\n\n1. Identify Potentially Applicable Methods ([$15.12.2.1][2]) which is done in 3 phases for strict, loose and variable arity invocation\n2. Choose the Most Specific Method ([$15.12.2.5][3]) from the methods found on the first step.\n\nLet&#39;s analyze the situation with 2 `submit()` methods in two code snippets provided by the OP:\n\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n        executor.submit(() -&gt; {\n            while(true)\n            {\n                //DO SOMETHING\n                Thread.sleep(5000);\n            }\n        });\n\nand\n\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n        executor.submit(() -&gt; {\n            while(tasksObserving)\n            {\n                //DO SOMETHING\n                Thread.sleep(5000);\n            }\n        });\n\n(where `tasksObserving` is not a final variable).\n\n## Identify Potentially Applicable Methods ##\n\nFirst, the compiler has to identify the *potentially applicable methods*: $15.12.2.1\n\n&gt;If the member is a fixed arity method with arity n, the arity of the method invocation is equal to n, and for all i (1 â¤ i â¤ n), the i&#39;th argument of the method invocation is *potentially compatible*, as defined below, with the type of the i&#39;th parameter of the method.\n\nand a bit further in the same section\n\n&gt;An expression is *potentially compatible* with a target type according to the following rules:\n&gt;\n&gt;A lambda expression (&#167;15.27) is potentially compatible with a functional interface type (&#167;9.8) if all of the following are true:\n&gt;\n&gt;The arity of the target type&#39;s function type is the same as the arity of the lambda expression.\n&gt;\n&gt;If the target type&#39;s function type has a void return, then the lambda body is either a statement expression (&#167;14.8) or a void-compatible block (&#167;15.27.2).\n&gt;\n&gt;If the target type&#39;s function type has a (non-void) return type, then the lambda body is either an expression or a value-compatible block (&#167;15.27.2).\n\nLet&#39;s note that in both cases, the lambda is a block lambda.\n\nLet&#39;s also note that `Runnable` has `void` return type, so to be *potentially compatible* with `Runnable`, a block lambda must be *void-compatible block*. At the same time, `Callable` has a non-void return type, so to be *potentially comtatible* with `Callable`, a block lambda must be *value-compatible block*.\n\n$15.27.2 defines what a *void-compatible-block* and *value-compatible-block* are.\n\n&gt;A block lambda body is void-compatible if every return statement in the block has the form `return;`.\n&gt;\n&gt;A block lambda body is value-compatible if it cannot complete normally (&#167;14.21) and every return statement in the block has the form `return Expression;`.\n\nLet&#39;s look at $14.21, paragraph about `while` loop:\n\n&gt;A while statement can complete normally iff at least one of the following is true:\n&gt;\n&gt;The while statement is reachable and the condition expression is not a constant expression (&#167;15.28) with value true.\n&gt;\n&gt;There is a reachable break statement that exits the while statement.\n\nIn borh cases, lambdas are actually block lambdas.\n\nIn the first case, as it can be seen, there is a `while` loop with a constant expression with value `true` (without `break` statements), so it cannot complete normallly (by $14.21); also it has no return statements, hence the first lambda is *value-compatible*.\n\nAt the same time, there are no `return` statements at all, so it is also *void-compatible*. So, in the end, **in the first case, the lambda is both void- and value-compatible**.\n\nIn the second case, the `while` loop *can complete normally* from the point of view of the compiler (because the loop expression is not a constant expression anymore), so the lambda in its entirety *can complete normally*, so it is **not** a *value-compatible block*. But **it is still a void-compatible block** because it contains no `return` statements.\n\nThe intermediate result is that in the first case the lambda is both a *void-compatible block* and a *value-compatible block*; in the second case it is **only** a *void-compatible block*.\n\nRecalling what we noted earlier, this means that in the first case, the lambda will be *potentially compatible* both with `Callable` and `Runnable`; in the second case, the lambda will only be *potentially compatible* with `Runnable`.\n\n## Choose the Most Specific Method ##\n\nFor the first case, the compiler has to choose between the two methods because both are *potentially applicable*. It does so using the procedure called &#39;Choose the Most Specific Method&#39; and described in $15.12.2.5. Here is an excerpt:\n\n&gt;A functional interface type S is more specific than a functional interface type T for an expression e if T is not a subtype of S and one of the following is true (where U1 ... Uk and R1 are the parameter types and return type of the function type of the capture of S, and V1 ... Vk and R2 are the parameter types and return type of the function type of T):\n&gt;\n&gt;If e is an explicitly typed lambda expression (&#167;15.27.1), then one of the following is true:\n&gt;\n&gt;R2 is void.\n\nFirst of all,\n\n&gt;A lambda expression with zero parameters is explicitly typed.\n\nAlso, neither of `Runnable` and `Callable` is a subclass of one another, and `Runnable` return type is `void`, so we have a match: **`Callable` is more specific than `Runnable`**. This means that between `submit(Callable)` and `submit(Runnable)` in the first case the method with `Callable` will be chosen.\n\nAs for the second case, there we only have one *potentially applicable* method, `submit(Runnable)`, so it is chosen.\n\n## So why does the change surface? ##\n\nSo, in the end, we can see that in these cases different methods are chosen by the compiler. In the first case, the lambda is inferred to be a `Callable` which has `throws Exception` on its `call()` method, so that `sleep()` call compiles. In the second case, it&#39;s `Runnable` which `run()` does not declare any throwable exceptions, so the compiler complains about an exception not being caught.\n\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.1\n  [3]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5","title":"Thread.sleep inside infinite while loop in lambda doesn&#39;t require &#39;catch (InterruptedException)&#39; - why not?","body":"<h1>Briefly</h1>\n<p><code>ExecutorService</code> has both <code>submit(Callable)</code> and <code>submit(Runnable)</code> methods.</p>\n<ol>\n<li>In the first case (with the <code>while (true)</code>), both <code>submit(Callable)</code> and <code>submit(Runnable)</code> match, so the compiler has to choose between them\n<ul>\n<li><code>submit(Callable)</code> is chosen over <code>submit(Runnable)</code> because <code>Callable</code> is <em>more specific</em> than <code>Runnable</code></li>\n<li><code>Callable</code> has <code>throws Exception</code> in <code>call()</code>, so it is not necessary to catch an exception inside it</li>\n</ul>\n</li>\n<li>In the second case (with the <code>while (tasksObserving)</code>) only <code>submit(Runnable)</code> match, so the compiler chooses it\n<ul>\n<li><code>Runnable</code> has no <code>throws</code> declaration on its <code>run()</code> method, so it is a compilation error to not catch the exception inside the <code>run()</code> method.</li>\n</ul>\n</li>\n</ol>\n<h1>The full story</h1>\n<p>Java Language Specification describes how the method is chosen during program compilation in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\" rel=\"nofollow noreferrer\">$15.2.2</a> :</p>\n<ol>\n<li>Identify Potentially Applicable Methods (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.1\" rel=\"nofollow noreferrer\">$15.12.2.1</a>) which is done in 3 phases for strict, loose and variable arity invocation</li>\n<li>Choose the Most Specific Method (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5\" rel=\"nofollow noreferrer\">$15.12.2.5</a>) from the methods found on the first step.</li>\n</ol>\n<p>Let's analyze the situation with 2 <code>submit()</code> methods in two code snippets provided by the OP:</p>\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n    executor.submit(() -&gt; {\n        while(true)\n        {\n            //DO SOMETHING\n            Thread.sleep(5000);\n        }\n    });\n</code></pre>\n<p>and</p>\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n    executor.submit(() -&gt; {\n        while(tasksObserving)\n        {\n            //DO SOMETHING\n            Thread.sleep(5000);\n        }\n    });\n</code></pre>\n<p>(where <code>tasksObserving</code> is not a final variable).</p>\n<h2>Identify Potentially Applicable Methods</h2>\n<p>First, the compiler has to identify the <em>potentially applicable methods</em>: $15.12.2.1</p>\n<blockquote>\n<p>If the member is a fixed arity method with arity n, the arity of the method invocation is equal to n, and for all i (1 â¤ i â¤ n), the i'th argument of the method invocation is <em>potentially compatible</em>, as defined below, with the type of the i'th parameter of the method.</p>\n</blockquote>\n<p>and a bit further in the same section</p>\n<blockquote>\n<p>An expression is <em>potentially compatible</em> with a target type according to the following rules:</p>\n<p>A lambda expression (Â§15.27) is potentially compatible with a functional interface type (Â§9.8) if all of the following are true:</p>\n<p>The arity of the target type's function type is the same as the arity of the lambda expression.</p>\n<p>If the target type's function type has a void return, then the lambda body is either a statement expression (Â§14.8) or a void-compatible block (Â§15.27.2).</p>\n<p>If the target type's function type has a (non-void) return type, then the lambda body is either an expression or a value-compatible block (Â§15.27.2).</p>\n</blockquote>\n<p>Let's note that in both cases, the lambda is a block lambda.</p>\n<p>Let's also note that <code>Runnable</code> has <code>void</code> return type, so to be <em>potentially compatible</em> with <code>Runnable</code>, a block lambda must be <em>void-compatible block</em>. At the same time, <code>Callable</code> has a non-void return type, so to be <em>potentially comtatible</em> with <code>Callable</code>, a block lambda must be <em>value-compatible block</em>.</p>\n<p>$15.27.2 defines what a <em>void-compatible-block</em> and <em>value-compatible-block</em> are.</p>\n<blockquote>\n<p>A block lambda body is void-compatible if every return statement in the block has the form <code>return;</code>.</p>\n<p>A block lambda body is value-compatible if it cannot complete normally (Â§14.21) and every return statement in the block has the form <code>return Expression;</code>.</p>\n</blockquote>\n<p>Let's look at $14.21, paragraph about <code>while</code> loop:</p>\n<blockquote>\n<p>A while statement can complete normally iff at least one of the following is true:</p>\n<p>The while statement is reachable and the condition expression is not a constant expression (Â§15.28) with value true.</p>\n<p>There is a reachable break statement that exits the while statement.</p>\n</blockquote>\n<p>In borh cases, lambdas are actually block lambdas.</p>\n<p>In the first case, as it can be seen, there is a <code>while</code> loop with a constant expression with value <code>true</code> (without <code>break</code> statements), so it cannot complete normallly (by $14.21); also it has no return statements, hence the first lambda is <em>value-compatible</em>.</p>\n<p>At the same time, there are no <code>return</code> statements at all, so it is also <em>void-compatible</em>. So, in the end, <strong>in the first case, the lambda is both void- and value-compatible</strong>.</p>\n<p>In the second case, the <code>while</code> loop <em>can complete normally</em> from the point of view of the compiler (because the loop expression is not a constant expression anymore), so the lambda in its entirety <em>can complete normally</em>, so it is <strong>not</strong> a <em>value-compatible block</em>. But <strong>it is still a void-compatible block</strong> because it contains no <code>return</code> statements.</p>\n<p>The intermediate result is that in the first case the lambda is both a <em>void-compatible block</em> and a <em>value-compatible block</em>; in the second case it is <strong>only</strong> a <em>void-compatible block</em>.</p>\n<p>Recalling what we noted earlier, this means that in the first case, the lambda will be <em>potentially compatible</em> both with <code>Callable</code> and <code>Runnable</code>; in the second case, the lambda will only be <em>potentially compatible</em> with <code>Runnable</code>.</p>\n<h2>Choose the Most Specific Method</h2>\n<p>For the first case, the compiler has to choose between the two methods because both are <em>potentially applicable</em>. It does so using the procedure called 'Choose the Most Specific Method' and described in $15.12.2.5. Here is an excerpt:</p>\n<blockquote>\n<p>A functional interface type S is more specific than a functional interface type T for an expression e if T is not a subtype of S and one of the following is true (where U1 ... Uk and R1 are the parameter types and return type of the function type of the capture of S, and V1 ... Vk and R2 are the parameter types and return type of the function type of T):</p>\n<p>If e is an explicitly typed lambda expression (Â§15.27.1), then one of the following is true:</p>\n<p>R2 is void.</p>\n</blockquote>\n<p>First of all,</p>\n<blockquote>\n<p>A lambda expression with zero parameters is explicitly typed.</p>\n</blockquote>\n<p>Also, neither of <code>Runnable</code> and <code>Callable</code> is a subclass of one another, and <code>Runnable</code> return type is <code>void</code>, so we have a match: <strong><code>Callable</code> is more specific than <code>Runnable</code></strong>. This means that between <code>submit(Callable)</code> and <code>submit(Runnable)</code> in the first case the method with <code>Callable</code> will be chosen.</p>\n<p>As for the second case, there we only have one <em>potentially applicable</em> method, <code>submit(Runnable)</code>, so it is chosen.</p>\n<h2>So why does the change surface?</h2>\n<p>So, in the end, we can see that in these cases different methods are chosen by the compiler. In the first case, the lambda is inferred to be a <code>Callable</code> which has <code>throws Exception</code> on its <code>call()</code> method, so that <code>sleep()</code> call compiles. In the second case, it's <code>Runnable</code> which <code>run()</code> does not declare any throwable exceptions, so the compiler complains about an exception not being caught.</p>\n"}],"owner":{"account_id":14282966,"reputation":559,"user_id":10317111,"display_name":"schemaboi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3133,"favorite_count":0,"down_vote_count":1,"up_vote_count":62,"accepted_answer_id":56150419,"answer_count":2,"score":61,"last_activity_date":1675402337,"creation_date":1557924528,"question_id":56149752,"body_markdown":"My question is about `InterruptedException`, which is thrown from the `Thread.sleep` method. While working with `ExecutorService` I noticed some weird behaviour that I don&#39;t understand; here is what I mean:\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        executor.submit(() -&gt; {\r\n            while(true)\r\n            {\r\n                //DO SOMETHING\r\n                Thread.sleep(5000);\r\n            }\r\n        });\r\n\r\nWith this code, the compiler doesn&#39;t give me any error or message that `InterruptedException` from `Thread.sleep` should be caught. But when I am trying to change the loop condition and replace &quot;true&quot; with some variable like this:\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        executor.submit(() -&gt; {\r\n            while(tasksObserving)\r\n            {\r\n                //DO SOMETHING\r\n                Thread.sleep(5000);\r\n            }\r\n        });\r\n\r\nThe compiler constantly complains that `InterruptedException` has to be handled. Can someone explain to me why this happens, and why if the condition is set to true the compiler ignores the InterruptedException?","title":"Thread.sleep inside infinite while loop in lambda doesn&#39;t require &#39;catch (InterruptedException)&#39; - why not?","body":"<p>My question is about <code>InterruptedException</code>, which is thrown from the <code>Thread.sleep</code> method. While working with <code>ExecutorService</code> I noticed some weird behaviour that I don't understand; here is what I mean:</p>\n\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n    executor.submit(() -&gt; {\n        while(true)\n        {\n            //DO SOMETHING\n            Thread.sleep(5000);\n        }\n    });\n</code></pre>\n\n<p>With this code, the compiler doesn't give me any error or message that <code>InterruptedException</code> from <code>Thread.sleep</code> should be caught. But when I am trying to change the loop condition and replace \"true\" with some variable like this:</p>\n\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n    executor.submit(() -&gt; {\n        while(tasksObserving)\n        {\n            //DO SOMETHING\n            Thread.sleep(5000);\n        }\n    });\n</code></pre>\n\n<p>The compiler constantly complains that <code>InterruptedException</code> has to be handled. Can someone explain to me why this happens, and why if the condition is set to true the compiler ignores the InterruptedException?</p>\n"},{"tags":["java","generics","compilation","jackson","yaml"],"answers":[{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675402328,"creation_date":1557917201,"answer_id":56147505,"question_id":56146447,"body_markdown":"You have 2 problems with your code, due to [java&#39;s type erasure](https://www.baeldung.com/java-type-erasure); which requires for jackson to know **all** the concrete types to use when deserializing data. In the case of generic types, it needs to know the bounds (concrete classes for the parametrized types) of the generic classes to use. Jackson is informed of this bounds through type references; which you need to provide. Then the two problems you have are:\r\n\r\n1. As far as I know, Jackson cannot be informed of the bounds of generic methods (and it doesn&#39;t makes much sense). So, in `Example`, the property `user` (`public &lt;T extends IUser&gt; void setUser(T t)`), represents an impediment, as jackson is unable to know which `T` to use to deserialize/write into.\r\n\r\n2. The types to read into, (including the bounded ones), need to be explicitly informed to jackson, when invoking `mapper.readValue`; which is missing (you are just using `Example.class`):\r\n\r\n\r\n\t\tIExample example = mapper.readValue(new File(path), Example.class);\r\n\r\n\r\nSo, to solved these problems you need to change:\r\n\r\n1. Replace the generic methods with generics classes in `IExample/Example`:\r\n\r\n```\r\n...\r\n\tstatic interface IExample&lt;T extends IUser&gt; {\r\n\t\tT getUser();\r\n\t\tvoid setUser(T user);\r\n\t}\r\n\t\r\n\tstatic class Example&lt;T extends IUser&gt; implements IExample&lt;T&gt; {\r\n\t\t\r\n\t\t@JsonProperty(&quot;user&quot;)\r\n\t\tprivate T user;\r\n\t\t@JsonIgnore\r\n\t\tprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\t\t\r\n\t\t@JsonProperty(&quot;user&quot;)\r\n\t\tpublic T getUser() {\r\n\t\t\treturn user;\r\n\t\t}\r\n\t\t\r\n\t\t@JsonProperty(&quot;user&quot;)\r\n\t\tpublic void setUser(T t) {\r\n\t\t\tthis.user = t;\r\n\t\t}\r\n...\r\n```\r\n\r\n2. Inform jackson of the `Example` bounded type by passing the appropriate jackson `TypeReference`:\r\n\r\n```\r\n...\r\n\tTypeReference&lt;Example&lt;User&gt;&gt; typeReference = new TypeReference&lt;Example&lt;User&gt;&gt;() { };\r\n\tIExample example = mapper.readValue(new File(path), typeReference);\r\n...\r\n```\r\n\r\nHope this helps.\r\n\r\n**Addendum:** \r\n\r\nThe new problems you are finding, regarding the extra generic types `IAddress/Address`; are not around the `TypeReference`, which you are correctly setting as:\r\n\r\n```\r\n\tTypeReference&lt;Example&lt;User, Address&gt;&gt; typeReference = new TypeReference&lt;Example&lt;User, Address&gt;&gt;() { };\r\n```\r\n\r\nThe problem is with the declaration of the generic types in the interface and class. \r\n\r\nWhen you say `U extends IUser &amp; IAddress` you are saying that `U` extends/implements **BOTH** `IUser` and `IAddress`; and that&#39;s why jackson complains about `Address` not extending `IUser`; because it only extends `IAddress`. Additionally, `T` will be implicitly constrained to be capable of binding to any class extending `java.lang.Object` (and not `IUser`; which is what you may be expecting), since you didn&#39;t specify an `extends...` for it.\r\n\r\nSo, to solve this, replace the generic type declarations of `IExample` and `Example`:\r\n\r\n```\r\n\t&lt;T, U extends IUser &amp; IAddress&gt;\r\n```\r\n\r\nwith\r\n\r\n```\r\n\t&lt;T extends IUser, U extends IAddress&gt;\r\n``` \r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56147505)","title":"Type variable &#39;T&#39; can not be resolved (with context of class com.yaml.Example)","body":"<p>You have 2 problems with your code, due to <a href=\"https://www.baeldung.com/java-type-erasure\" rel=\"nofollow noreferrer\">java's type erasure</a>; which requires for jackson to know <strong>all</strong> the concrete types to use when deserializing data. In the case of generic types, it needs to know the bounds (concrete classes for the parametrized types) of the generic classes to use. Jackson is informed of this bounds through type references; which you need to provide. Then the two problems you have are:</p>\n<ol>\n<li><p>As far as I know, Jackson cannot be informed of the bounds of generic methods (and it doesn't makes much sense). So, in <code>Example</code>, the property <code>user</code> (<code>public &lt;T extends IUser&gt; void setUser(T t)</code>), represents an impediment, as jackson is unable to know which <code>T</code> to use to deserialize/write into.</p>\n</li>\n<li><p>The types to read into, (including the bounded ones), need to be explicitly informed to jackson, when invoking <code>mapper.readValue</code>; which is missing (you are just using <code>Example.class</code>):</p>\n<pre><code> IExample example = mapper.readValue(new File(path), Example.class);\n</code></pre>\n</li>\n</ol>\n<p>So, to solved these problems you need to change:</p>\n<ol>\n<li>Replace the generic methods with generics classes in <code>IExample/Example</code>:</li>\n</ol>\n<pre><code>...\n    static interface IExample&lt;T extends IUser&gt; {\n        T getUser();\n        void setUser(T user);\n    }\n    \n    static class Example&lt;T extends IUser&gt; implements IExample&lt;T&gt; {\n        \n        @JsonProperty(&quot;user&quot;)\n        private T user;\n        @JsonIgnore\n        private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n        \n        @JsonProperty(&quot;user&quot;)\n        public T getUser() {\n            return user;\n        }\n        \n        @JsonProperty(&quot;user&quot;)\n        public void setUser(T t) {\n            this.user = t;\n        }\n...\n</code></pre>\n<ol start=\"2\">\n<li>Inform jackson of the <code>Example</code> bounded type by passing the appropriate jackson <code>TypeReference</code>:</li>\n</ol>\n<pre><code>...\n    TypeReference&lt;Example&lt;User&gt;&gt; typeReference = new TypeReference&lt;Example&lt;User&gt;&gt;() { };\n    IExample example = mapper.readValue(new File(path), typeReference);\n...\n</code></pre>\n<p>Hope this helps.</p>\n<p><strong>Addendum:</strong></p>\n<p>The new problems you are finding, regarding the extra generic types <code>IAddress/Address</code>; are not around the <code>TypeReference</code>, which you are correctly setting as:</p>\n<pre><code>    TypeReference&lt;Example&lt;User, Address&gt;&gt; typeReference = new TypeReference&lt;Example&lt;User, Address&gt;&gt;() { };\n</code></pre>\n<p>The problem is with the declaration of the generic types in the interface and class.</p>\n<p>When you say <code>U extends IUser &amp; IAddress</code> you are saying that <code>U</code> extends/implements <strong>BOTH</strong> <code>IUser</code> and <code>IAddress</code>; and that's why jackson complains about <code>Address</code> not extending <code>IUser</code>; because it only extends <code>IAddress</code>. Additionally, <code>T</code> will be implicitly constrained to be capable of binding to any class extending <code>java.lang.Object</code> (and not <code>IUser</code>; which is what you may be expecting), since you didn't specify an <code>extends...</code> for it.</p>\n<p>So, to solve this, replace the generic type declarations of <code>IExample</code> and <code>Example</code>:</p>\n<pre><code>    &lt;T, U extends IUser &amp; IAddress&gt;\n</code></pre>\n<p>with</p>\n<pre><code>    &lt;T extends IUser, U extends IAddress&gt;\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56147505\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n"}],"owner":{"account_id":4031918,"reputation":68,"user_id":3317682,"display_name":"roshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675402328,"creation_date":1557913913,"question_id":56146447,"body_markdown":"I&#39;m a beginner in java generics, and I&#39;m trying to parse my user.yaml file using generics inside my class. When i try to parse yaml file I&#39;m getting *Type variable &#39;T&#39; can not be resolved* not sure where I&#39;m going wrong.\r\n\r\nInitially this were just a normal class, then I implemented generics.\r\n\r\n```java\r\nmy yaml file\r\n\r\nuser:\r\n    name: Test User\r\n    age: 30\r\n```\r\n\r\n```java\r\npublic interface IUser {\r\n    String getName();\r\n    IUser  setName(String name);\r\n\r\n    Integer getAge();\r\n    IUser setAge(Integer age);\r\n}\r\n\r\npublic class User implements IUser{\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    private String name;\r\n    @JsonProperty(&quot;age&quot;)\r\n    private Integer age;\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    public User setName(String name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n\r\n    @JsonProperty(&quot;age&quot;)\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    @JsonProperty(&quot;age&quot;)\r\n    public User setAge(Integer age) {\r\n        this.age = age;\r\n        return this;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return this.additionalProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new ToStringBuilder(this).append(&quot;name&quot;, name).append(&quot;age&quot;, age).append(&quot;additionalProperties&quot;, additionalProperties).toString();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return new HashCodeBuilder().append(additionalProperties).append(age).append(name).toHashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        if (other == this) {\r\n            return true;\r\n        }\r\n        if ((other instanceof User) == false) {\r\n            return false;\r\n        }\r\n        User rhs = ((User) other);\r\n        return new EqualsBuilder().append(additionalProperties, rhs.additionalProperties).append(age, rhs.age).append(name, rhs.name).isEquals();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic interface IExample {\r\n    &lt;T extends IUser&gt; T getUser();\r\n    &lt;T extends IUser&gt; void setUser(T user);\r\n}\r\n\r\npublic class Example implements IExample{\r\n\r\n    @JsonProperty(&quot;user&quot;)\r\n    private User user;\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n    @JsonProperty(&quot;user&quot;)\r\n    public &lt;T extends IUser&gt; T getUser() {\r\n        return (T) user;\r\n    }\r\n\r\n    @JsonProperty(&quot;user&quot;)\r\n    public &lt;T extends IUser&gt; void setUser(T t) {\r\n        this.user = (User)t;\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return this.additionalProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return new ToStringBuilder(this).append(&quot;user&quot;, user).append(&quot;additionalProperties&quot;, additionalProperties).toString();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return new HashCodeBuilder().append(additionalProperties).append(user).toHashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        if (other == this) {\r\n            return true;\r\n        }\r\n        if ((other instanceof Example) == false) {\r\n            return false;\r\n        }\r\n        Example rhs = ((Example) other);\r\n        return new EqualsBuilder().append(additionalProperties, rhs.additionalProperties).append(user, rhs.user).isEquals();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nmy main class where i&#39;m trying to parse yaml object\r\n\r\npublic class ReadYaml {\r\n\r\n    public void parse(){\r\n        String path = &quot;path/to/user.yaml&quot;;\r\n        ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\r\n\r\n        try {\r\n             IExample example = mapper.readValue(new File(path), Example.class);\r\n             System.out.println(example.getUser().getName());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args){\r\n      new ReadYaml().parse();\r\n    }\r\n}\r\n```\r\n\r\nI expect the output to be: *Test User*, but the actual output is *com.fasterxml.jackson.databind.JsonMappingException: Type variable &#39;T&#39; can not be resolved (with context of class com.yaml.Example)*\r\n\r\n\r\n-------\r\nUPDATE\r\n------\r\n```\r\nupdated yaml file\r\n\r\nuser:\r\n    name: Test User\r\n    age: 30\r\naddress:\r\n    line1: bangalore\r\n    line2: karnataka\r\n```\r\n\r\n```\r\npublic interface IAddress {\r\n\r\n    String getLine1();\r\n    IAddress setLine1(String line1);\r\n\r\n    String getLine2();\r\n    IAddress setLine2(String line2);\r\n}\r\n```\r\n\r\n```\r\npublic class Address implements IAddress {\r\n    // code getters and setters\r\n}\r\n```\r\n\r\n```\r\npublic interface IExample&lt;T, U extends IUser &amp; IAddress&gt; {\r\n    T getUser();\r\n    void setUser(T user);\r\n\r\n    U getAddress();\r\n    void setAddress(U address);\r\n}\r\n```\r\n\r\n```\r\npublic class Example&lt;T, U extends IUser &amp; IAddress&gt; implements IExample&lt;T, U&gt;{\r\n```\r\n\r\n```\r\nnow i&#39;m trying to parse yaml file.\r\npublic class ReadYaml {\r\n.\r\n.\r\n.\r\n\r\nTypeReference&lt;Example&lt;User, Address&gt; typeReference = new TypeReference&lt;Example&lt;User, Address&gt;() {\r\n            };\r\nIExample example = mapper.readValue(new File(path), typeReference);\r\nSystem.out.println(example.getAddress.getLine1());\r\n\r\n```\r\n\r\nI&#39;m getting Error in declaration of `TypeReference&lt;Example&lt;User, Address&gt; typeReference` : Type parameter &#39;Address&#39; is not within its bound, Should Implement &#39;IUser&#39;\r\n\r\n\r\n\r\n","title":"Type variable &#39;T&#39; can not be resolved (with context of class com.yaml.Example)","body":"<p>I'm a beginner in java generics, and I'm trying to parse my user.yaml file using generics inside my class. When i try to parse yaml file I'm getting <em>Type variable 'T' can not be resolved</em> not sure where I'm going wrong.</p>\n\n<p>Initially this were just a normal class, then I implemented generics.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>my yaml file\n\nuser:\n    name: Test User\n    age: 30\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface IUser {\n    String getName();\n    IUser  setName(String name);\n\n    Integer getAge();\n    IUser setAge(Integer age);\n}\n\npublic class User implements IUser{\n\n    @JsonProperty(\"name\")\n    private String name;\n    @JsonProperty(\"age\")\n    private Integer age;\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(\"name\")\n    public String getName() {\n        return name;\n    }\n\n    @JsonProperty(\"name\")\n    public User setName(String name) {\n        this.name = name;\n        return this;\n    }\n\n    @JsonProperty(\"age\")\n    public Integer getAge() {\n        return age;\n    }\n\n    @JsonProperty(\"age\")\n    public User setAge(Integer age) {\n        this.age = age;\n        return this;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n    @Override\n    public String toString() {\n        return new ToStringBuilder(this).append(\"name\", name).append(\"age\", age).append(\"additionalProperties\", additionalProperties).toString();\n    }\n\n    @Override\n    public int hashCode() {\n        return new HashCodeBuilder().append(additionalProperties).append(age).append(name).toHashCode();\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (other == this) {\n            return true;\n        }\n        if ((other instanceof User) == false) {\n            return false;\n        }\n        User rhs = ((User) other);\n        return new EqualsBuilder().append(additionalProperties, rhs.additionalProperties).append(age, rhs.age).append(name, rhs.name).isEquals();\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface IExample {\n    &lt;T extends IUser&gt; T getUser();\n    &lt;T extends IUser&gt; void setUser(T user);\n}\n\npublic class Example implements IExample{\n\n    @JsonProperty(\"user\")\n    private User user;\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(\"user\")\n    public &lt;T extends IUser&gt; T getUser() {\n        return (T) user;\n    }\n\n    @JsonProperty(\"user\")\n    public &lt;T extends IUser&gt; void setUser(T t) {\n        this.user = (User)t;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n    @Override\n    public String toString() {\n        return new ToStringBuilder(this).append(\"user\", user).append(\"additionalProperties\", additionalProperties).toString();\n    }\n\n    @Override\n    public int hashCode() {\n        return new HashCodeBuilder().append(additionalProperties).append(user).toHashCode();\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (other == this) {\n            return true;\n        }\n        if ((other instanceof Example) == false) {\n            return false;\n        }\n        Example rhs = ((Example) other);\n        return new EqualsBuilder().append(additionalProperties, rhs.additionalProperties).append(user, rhs.user).isEquals();\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>my main class where i'm trying to parse yaml object\n\npublic class ReadYaml {\n\n    public void parse(){\n        String path = \"path/to/user.yaml\";\n        ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\n\n        try {\n             IExample example = mapper.readValue(new File(path), Example.class);\n             System.out.println(example.getUser().getName());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public static void main(String[] args){\n      new ReadYaml().parse();\n    }\n}\n</code></pre>\n\n<p>I expect the output to be: <em>Test User</em>, but the actual output is <em>com.fasterxml.jackson.databind.JsonMappingException: Type variable 'T' can not be resolved (with context of class com.yaml.Example)</em></p>\n\n<hr>\n\n<h2>UPDATE</h2>\n\n<pre><code>updated yaml file\n\nuser:\n    name: Test User\n    age: 30\naddress:\n    line1: bangalore\n    line2: karnataka\n</code></pre>\n\n<pre><code>public interface IAddress {\n\n    String getLine1();\n    IAddress setLine1(String line1);\n\n    String getLine2();\n    IAddress setLine2(String line2);\n}\n</code></pre>\n\n<pre><code>public class Address implements IAddress {\n    // code getters and setters\n}\n</code></pre>\n\n<pre><code>public interface IExample&lt;T, U extends IUser &amp; IAddress&gt; {\n    T getUser();\n    void setUser(T user);\n\n    U getAddress();\n    void setAddress(U address);\n}\n</code></pre>\n\n<pre><code>public class Example&lt;T, U extends IUser &amp; IAddress&gt; implements IExample&lt;T, U&gt;{\n</code></pre>\n\n<pre><code>now i'm trying to parse yaml file.\npublic class ReadYaml {\n.\n.\n.\n\nTypeReference&lt;Example&lt;User, Address&gt; typeReference = new TypeReference&lt;Example&lt;User, Address&gt;() {\n            };\nIExample example = mapper.readValue(new File(path), typeReference);\nSystem.out.println(example.getAddress.getLine1());\n\n</code></pre>\n\n<p>I'm getting Error in declaration of <code>TypeReference&lt;Example&lt;User, Address&gt; typeReference</code> : Type parameter 'Address' is not within its bound, Should Implement 'IUser'</p>\n"},{"tags":["java","algorithm","filewriter"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1557908133,"post_id":56143581,"comment_id":98919106,"body_markdown":"Please read &quot;How to create a [mcve]&quot;. Then use the [edit] link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you.","body":"Please read &quot;How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>&quot;. Then use the <a href=\"https://stackoverflow.com/posts/56143581/edit\">edit</a> link to improve your question (do not add more information via comments). Otherwise we are not able to answer your question and help you."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1557908195,"post_id":56143581,"comment_id":98919134,"body_markdown":"Meaning: separate your code. Dont put all things into if blocks. Write helper methods, like: `writeFile()` or so. Then you can *test* these methods separately, too. And you wouldnt need to copy/paste your whole huge program to us, but just that one method!","body":"Meaning: separate your code. Dont put all things into if blocks. Write helper methods, like: <code>writeFile()</code> or so. Then you can <i>test</i> these methods separately, too. And you wouldnt need to copy/paste your whole huge program to us, but just that one method!"}],"answers":[{"tags":[],"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557905562,"creation_date":1557905562,"answer_id":56143857,"question_id":56143581,"body_markdown":"The following instruction will look for the file in the current working directory.\r\n\r\n```file = new File(&quot;./monster_file&quot;);```\r\n\r\nThe working directory depends on how you call your java application.\r\n\r\nThe best thing to do in such case is to emit some error message that clearly state what you are looking for and where, for example.\r\n\r\n```\r\n\t\tFile file = new File(&quot;./monster_file&quot;);\r\n\t\tif(!file.exists()){\r\n\t\t\tSystem.err.println(&quot;I can&#39;t find &quot;+file.getAbsolutePath());\r\n\t\t}\r\n```\r\n\r\nKeep also in mind that you are looking for a file __without__ extension, and maybe you instead have a file __with__ extension. So you maybe are trying to open `monster_file` but in your directory you have `monster_file.txt`.\r\n\r\n\r\n","title":"How to ensure a file is found in Java with FileReader?","body":"<p>The following instruction will look for the file in the current working directory.</p>\n\n<p><code>file = new File(\"./monster_file\");</code></p>\n\n<p>The working directory depends on how you call your java application.</p>\n\n<p>The best thing to do in such case is to emit some error message that clearly state what you are looking for and where, for example.</p>\n\n<pre><code>        File file = new File(\"./monster_file\");\n        if(!file.exists()){\n            System.err.println(\"I can't find \"+file.getAbsolutePath());\n        }\n</code></pre>\n\n<p>Keep also in mind that you are looking for a file <strong>without</strong> extension, and maybe you instead have a file <strong>with</strong> extension. So you maybe are trying to open <code>monster_file</code> but in your directory you have <code>monster_file.txt</code>.</p>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675402322,"creation_date":1557906016,"answer_id":56143974,"question_id":56143581,"body_markdown":"It seems that your problem is due to naming the file differently when you are trying to read it than when you wrote it. The file name you are using when trying to read is **`&quot;./monster_file&quot;`**:\r\n\r\n```\r\n...\r\n        file = new File(&quot;./monster_file&quot;);\r\n        FileReader reader = new FileReader(file);\r\n...\r\n```\r\n\r\nwhile the name of the file you actually wrote is **`&quot;./monster_table.txt&quot;`**:\r\n\r\n```\r\n...\r\n        File file = new File(&quot;./monster_table.txt&quot;);\r\n        if (!file.exists()) {\r\n            createMonsterFile();\r\n        }\r\n\r\n...\r\n\r\n    private static void createMonsterFile() {\r\n        File monsterFile = new File(&quot;./monster_table.txt&quot;);\r\n        BufferedWriter writer;\r\n        try {\r\n            writer = new BufferedWriter(new FileWriter(monsterFile));\r\n...\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56143974)\r\n\r\nHope this helps.\r\n","title":"How to ensure a file is found in Java with FileReader?","body":"<p>It seems that your problem is due to naming the file differently when you are trying to read it than when you wrote it. The file name you are using when trying to read is <strong><code>&quot;./monster_file&quot;</code></strong>:</p>\n<pre><code>...\n        file = new File(&quot;./monster_file&quot;);\n        FileReader reader = new FileReader(file);\n...\n</code></pre>\n<p>while the name of the file you actually wrote is <strong><code>&quot;./monster_table.txt&quot;</code></strong>:</p>\n<pre><code>...\n        File file = new File(&quot;./monster_table.txt&quot;);\n        if (!file.exists()) {\n            createMonsterFile();\n        }\n\n...\n\n    private static void createMonsterFile() {\n        File monsterFile = new File(&quot;./monster_table.txt&quot;);\n        BufferedWriter writer;\n        try {\n            writer = new BufferedWriter(new FileWriter(monsterFile));\n...\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56143974\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":15796957,"reputation":21,"user_id":11398511,"display_name":"iNeededAUsername"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675402322,"creation_date":1557904495,"question_id":56143581,"body_markdown":"I&#39;m currently writing a DnD styled program for school, and i&#39;m attempting to read out monsters and data about them from a text file. This is required to be done this way, so I elected to use FileReader. However, despite my best attempts, FileReader cannot find the path to the file, even after I attempt to create it if filereader can&#39;t find it.\r\n\r\nI have tried placing copies of the required text file all throughout the directories that the program utilizes, however, I have yet to see any change.\r\n\r\nI expect the filereader to find and establish a link to the file, however it fails to do so. I receive the error Java.io.FileNotFoundException. (I know I should be catching this in a try, will be done once I get this figured out)\r\n\r\n```Java\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Main class variable declaration\r\n        int menChoice;\r\n        int numInElems = 3;\r\n        int deaths = 0;\r\n        String statRoll;\r\n        Player player = new Player();\r\n        Monster monster = new Monster();\r\n        // Read in monster table\r\n        /*File file = new File(&quot;monster_table&quot;);\r\n        BufferedReader reader = new BufferedReader(new FileReader(file));\r\n        if (!file.exists()) {\r\n            createMonsterFile();\r\n            System.err.println(file.getAbsolutePath());\r\n        }\r\n        try {\r\n            reader = new BufferedReader(new FileReader(&quot;monster_table.txt&quot;));\r\n            if (reader.readLine() != null) {\r\n                System.out.println(&quot;Monster table successfully loaded.\\n&quot;);\r\n                clr();\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;That&#39;s a pretty dank error mate.\\nSeems as if you can&#39;t read your monster table\\ninto your program, or create it.\\n\\nOuch.\\n&quot; + e);\r\n        }*/\r\n        // Begin user interaction\r\n        System.out.println(&quot;Hello, welcome to the DnD program.\\nPlease select and option to continue.\\n1: Start\\n2: Quit\\n\\n&quot;);\r\n        Scanner in = new Scanner(System.in);\r\n        menChoice = in.nextInt();\r\n        System.out.println(&quot;\\n&quot;);\r\n        while (menChoice != 1 &amp;&amp; menChoice != 2) {\r\n            System.out.println(&quot;Invalid input. Please only enter 1 or 2.\\n&quot;);\r\n            menChoice = in.nextInt();\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n        if (menChoice == 1) {\r\n            // If i had time i could like, be super cool and make a function for this, but that&#39;s for fuckin nerds lmfao\r\n            System.out.println(&quot;Please pick a class.\\n1. Barbarian\\n2. Bard\\n3. Druid\\n4. Monk\\n5. Paladin\\n6. Rogue\\n7. Warlock\\n8. Wizard\\n\\n&quot;);\r\n            String[] classes = {&quot;Barbarian&quot;, &quot;Bard&quot;, &quot;Druid&quot;, &quot;Monk&quot;, &quot;Paladin&quot;, &quot;Rogue&quot;, &quot;Warlock&quot;, &quot;Wizard&quot;};\r\n            menChoice = in.nextInt();\r\n            while (menChoice &lt; 1 || menChoice &gt; 8) {\r\n                System.out.println(&quot;Invalid input. Please only enter a valid choice.\\n&quot;);\r\n                menChoice = in.nextInt();\r\n                System.out.println(&quot;\\n&quot;);\r\n            }\r\n            player.setPlayerClass(classes[menChoice - 1]);\r\n            System.out.println(&quot;Please pick a race.\\n1. Dwarf\\n2. Elf\\n3. Gnome\\n4. Halfling\\n5. Human\\n\\n&quot;);\r\n            String[] races = {&quot;Dwarf&quot;, &quot;Elf&quot;, &quot;Gnome&quot;, &quot;Halfling&quot;, &quot;Human&quot;};\r\n            menChoice = in.nextInt();\r\n            while (menChoice &lt; 1 || menChoice &gt; 5) {\r\n                System.out.println(&quot;Invalid input. Please only enter a valid choice.\\n&quot;);\r\n                menChoice = in.nextInt();\r\n                System.out.println(&quot;\\n&quot;);\r\n            }\r\n            player.setRace(races[menChoice - 1]);\r\n            System.out.println(&quot;Please pick a profession.\\n1. Herbalist\\n2. Alchemist\\n3. Blacksmith\\n4. Soldier\\n5. Hunter\\n6. Gambler\\n\\n&quot;);\r\n            String[] professions = {&quot;Herbalist&quot;, &quot;Alchemist&quot;, &quot;Blacksmith&quot;, &quot;Soldier&quot;, &quot;Hunter&quot;, &quot;Gambler&quot;};\r\n            menChoice = in.nextInt();\r\n            while (menChoice &lt; 1 || menChoice &gt; 6) {\r\n                System.out.println(&quot;Invalid input. Please only enter a valid choice.\\n&quot;);\r\n                menChoice = in.nextInt();\r\n                System.out.println(&quot;\\n&quot;);\r\n            }\r\n            player.setProfession(professions[menChoice - 1]);\r\n            // R A N D O M R O L L I N G  &gt; * B E G I N ! *\r\n            do {\r\n                System.out.println(&quot;Rolling stats!&quot;);\r\n                player.setSTR(ThreadLocalRandom.current().nextInt(3, 18 + 1));\r\n                player.setINT(ThreadLocalRandom.current().nextInt(3, 18 + 1));\r\n                player.setWIS(ThreadLocalRandom.current().nextInt(3, 18 + 1));\r\n                player.setCON(ThreadLocalRandom.current().nextInt(3, 18 + 1));\r\n                player.setDEX(ThreadLocalRandom.current().nextInt(3, 18 + 1));\r\n                player.setCHR(ThreadLocalRandom.current().nextInt(3, 18 + 1));\r\n                System.out.println(&quot;STR: &quot; + player.getSTR() + &quot;\\n&quot; + &quot;INT: &quot; + player.getINT() + &quot;\\n&quot; + &quot;WIS: &quot; + player.getWIS() + &quot;\\n&quot; + &quot;CON: &quot; + player.getCON() + &quot;\\n&quot; + &quot;DEX: &quot; + player.getDEX() + &quot;\\n&quot; + &quot;CHR: &quot; + player.getCHR() + &quot;\\n&quot; + &quot;Are you happy with this roll?\\n(y/n)&quot;);\r\n                statRoll = in.nextLine();\r\n                while (!statRoll.equals(&quot;n&quot;) &amp;&amp; !statRoll.equals(&quot;N&quot;) &amp;&amp; !statRoll.equals(&quot;y&quot;) &amp;&amp; !statRoll.equals(&quot;Y&quot;)) {\r\n                    System.out.println(&quot;Invalid input. Please only respond with (y/n).\\n&quot;);\r\n                    statRoll = in.nextLine();\r\n                    System.out.println(&quot;\\n&quot;);\r\n                }\r\n            } while (statRoll.equals(&quot;n&quot;) || statRoll.equals(&quot;N&quot;));\r\n            System.out.println(&quot;\\n&quot;);\r\n            player.setHealth(player.getSTR() + 10);\r\n            System.out.println(&quot;Your character has been created.\\nIt is time to move forward to combat!\\n\\n&quot;);\r\n            // Combat will begin here.\r\n            while (player.getLevel() &lt; 2) {\r\n                File file = new File(&quot;./monster_table.txt&quot;);\r\n                FileReader reader = new FileReader(&quot;./monster_table.txt&quot;);\r\n                if (!file.exists()) {\r\n                    createMonsterFile();\r\n                    System.err.println(file.getAbsolutePath());\r\n                }\r\n                try {\r\n                    if (reader.readLine() != null) {\r\n                        System.out.println(&quot;Monster table successfully loaded.\\n&quot;);\r\n                        clr();\r\n                    }\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;That&#39;s a pretty dank error mate.\\nSeems as if you can&#39;t read your monster table\\ninto your program, or create it.\\n\\nOuch.\\n&quot; + e);\r\n                }\r\n                player.setHealth(player.getSTR() + 10);\r\n                if (deaths &gt; 0) {\r\n                    System.out.println(&quot;You awake in a nearby town, and on your way back to your party, you encounter another beast.&quot;);\r\n                }\r\n                int importNum = (int)(Math.floor(Math.random() * 11) + 1);\r\n                if (importNum &gt; 11) {\r\n                    importNum = 11;\r\n                } else if (importNum == 1) {\r\n                    importNum = 2;\r\n                }\r\n                for (int i = 1; i &lt; importNum; i++) {\r\n                    reader.readLine();\r\n                }\r\n                String selectedMonster = reader.readLine();\r\n                String[] monsterImport = selectedMonster.split(&quot; &quot;);\r\n                if (monsterImport.length &gt; numInElems) {\r\n                    monsterImport[0] = (monsterImport[0] + &quot; &quot; + monsterImport[1]);\r\n                    monsterImport[1] = monsterImport[2];\r\n                    monsterImport[2] = monsterImport[3];\r\n                    monster.setName(monsterImport[0]);\r\n                    monster.setHealth(Integer.parseInt(monsterImport[1]));\r\n                    monster.setDamage(Integer.parseInt(monsterImport[2]));\r\n                }\r\n                else {\r\n                    monster.setName(monsterImport[0]);\r\n                    monster.setHealth(Integer.parseInt(monsterImport[1]));\r\n                    monster.setDamage(Integer.parseInt(monsterImport[2]));\r\n                }\r\n                while (player.getHealth() &gt; 0 &amp;&amp; monster.getHealth() &gt; 0) {\r\n                    System.out.println(&quot;You are at &quot; + player.getHealth() + &quot;. Your opponent, &quot; + monster.getName() + &quot;, is at &quot; + monster.getHealth() + &quot;.\\nWhat will you do?\\n1. Fight\\n2. Run&quot;);\r\n                    menChoice = in.nextInt();\r\n                    while (menChoice != 1 &amp;&amp; menChoice != 2) {\r\n                        System.out.println(&quot;Invalid input. Please only enter 1 or 2.\\n&quot;);\r\n                        menChoice = in.nextInt();\r\n                        System.out.println(&quot;\\n&quot;);\r\n                    }\r\n                    if (menChoice == 1) {\r\n                        int RNG = (int)Math.floor(Math.random() * 4);\r\n                        int monsterRNG = (int)Math.floor(Math.random() * 4);\r\n                        if (RNG == 1 || RNG == 2 || RNG == 3) {\r\n                            monster.setHealth(monster.getHealth() - player.getDamage());\r\n                            System.out.println(&quot;You dealt &quot; + player.getDamage() + &quot; damage to &quot; + monster.getName() + &quot;!&quot;);\r\n                            if (monster.getHealth() &lt;= 0) {\r\n                                player.setExp(player.getExp() + 5);\r\n                                if (player.getExp() &gt; (player.getSTR() + 10) * 50) {\r\n                                    player.setLevel(player.getLevel() + 1);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            System.out.println(&quot;You missed!&quot;);\r\n                        }\r\n                        if (monsterRNG == 1) {\r\n                            player.setHealth(player.getHealth() - monster.getDamage());\r\n                            System.out.println(&quot;The monster dealt &quot; + monster.getDamage() + &quot; to you!&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;The monster missed.&quot;);\r\n                        }\r\n                    } else {\r\n                        int prayToRNGesus = (int)Math.floor(Math.random() * 4);\r\n                        if (prayToRNGesus == 1) {\r\n                            monster.setHealth(0);\r\n                            System.out.println(&quot;You have successfully fled.\\n&quot;);\r\n                        } else {\r\n                            player.setHealth(0);\r\n                            System.out.println(&quot;In your attempts to flee, you were slain.&quot;);\r\n                            player.setExp(player.getExp() - 10);\r\n                            deaths++;\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n            System.out.println(&quot;Congratulations on making it to level 2!\\nDo you wish to save your character?\\n1. Yes\\n2. No&quot;);\r\n            menChoice = in.nextInt();\r\n            while (menChoice != 1 &amp;&amp; menChoice != 2) {\r\n                System.out.println(&quot;Invalid input. Please only enter 1 or 2.\\n&quot;);\r\n                menChoice = in.nextInt();\r\n                System.out.println(&quot;\\n&quot;);\r\n            }\r\n            if (menChoice == 1) {\r\n                System.out.println(&quot;Excellent! Please name your character.&quot;);\r\n                String name = in.nextLine();\r\n                player.setName(name);\r\n                System.out.println(&quot;Saving your character...&quot;);\r\n                BufferedWriter writer;\r\n                int i = 1;\r\n                File outFile = new File(&quot;./character&quot; + String.valueOf(i) + &quot;.txt&quot;);\r\n                while (outFile.exists() &amp;&amp; i &lt; 3) {\r\n                    i++;\r\n                    outFile = new File(&quot;./character&quot; + String.valueOf(i) + &quot;.txt&quot;);\r\n                }\r\n                try {\r\n                    writer = new BufferedWriter(new FileWriter(outFile));\r\n                    writer.write(&quot;Name: &quot; + player.getName());\r\n                    writer.newLine();\r\n                    writer.write(&quot;Race: &quot; + player.getRace());\r\n                    writer.newLine();\r\n                    writer.write(&quot;Profession: &quot; + player.getProfession());\r\n                    writer.newLine();\r\n                    writer.write(&quot;Class: &quot; + player.getPlayerClass());\r\n                    writer.newLine();\r\n                    writer.write(&quot;INT: &quot; + String.valueOf(player.getINT()));\r\n                    writer.newLine();\r\n                    writer.write(&quot;STR: &quot; + String.valueOf(player.getSTR()));\r\n                    writer.newLine();\r\n                    writer.write(&quot;WIS: &quot; + String.valueOf(player.getWIS()));\r\n                    writer.newLine();\r\n                    writer.write(&quot;CON: &quot; + String.valueOf(player.getCON()));\r\n                    writer.newLine();\r\n                    writer.write(&quot;DEX: &quot; + String.valueOf(player.getDEX()));\r\n                    writer.newLine();\r\n                    writer.write(&quot;CHR: &quot; + String.valueOf(player.getCHR()));\r\n                    writer.newLine();\r\n                    writer.flush();\r\n                    writer.close();\r\n                } catch(IOException e) {\r\n                    System.out.println(&quot;IO error. &quot; + e);\r\n                }\r\n            }\r\n\r\n        } else if (menChoice == 2) {\r\n            System.exit(0);\r\n        } else {\r\n            System.out.println(&quot;User input validation error.\\n&quot;);\r\n        }\r\n    }\r\n\r\n    private static void createMonsterFile() {\r\n        File monsterFile = new File(&quot;./monster_table.txt&quot;);\r\n        BufferedWriter writer;\r\n        try {\r\n            writer = new BufferedWriter(new FileWriter(monsterFile));\r\n            writer.write(&quot;MonsterName HitPoints HitDamage\\nHydra 50 6\\nCyclops 20 1\\nGiant Snake 5 1\\nPhred 100 5\\nPurple Monkey 10 2\\nIce Golem 25 10\\nHeat Miser 50 2\\nSquirrel 2 5\\nWhite Whale 80 4\\nSmurf 5 2&quot;);\r\n            writer.flush();\r\n            System.out.println(&quot;Monster table successfully loaded.\\n&quot;);\r\n            clr();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;That&#39;s a pretty dank error mate.\\nSeems as if you can&#39;t write your monster table.\\n\\nOuch.\\n&quot; + e);\r\n        }\r\n    }\r\n\r\n    static void clr() {\r\n        for (int i = 0; i &lt; 50; i++) {\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n    }\r\n}","title":"How to ensure a file is found in Java with FileReader?","body":"<p>I'm currently writing a DnD styled program for school, and i'm attempting to read out monsters and data about them from a text file. This is required to be done this way, so I elected to use FileReader. However, despite my best attempts, FileReader cannot find the path to the file, even after I attempt to create it if filereader can't find it.</p>\n\n<p>I have tried placing copies of the required text file all throughout the directories that the program utilizes, however, I have yet to see any change.</p>\n\n<p>I expect the filereader to find and establish a link to the file, however it fails to do so. I receive the error Java.io.FileNotFoundException. (I know I should be catching this in a try, will be done once I get this figured out)</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Main class variable declaration\n        int menChoice;\n        int numInElems = 3;\n        int deaths = 0;\n        String statRoll;\n        Player player = new Player();\n        Monster monster = new Monster();\n        // Read in monster table\n        /*File file = new File(\"monster_table\");\n        BufferedReader reader = new BufferedReader(new FileReader(file));\n        if (!file.exists()) {\n            createMonsterFile();\n            System.err.println(file.getAbsolutePath());\n        }\n        try {\n            reader = new BufferedReader(new FileReader(\"monster_table.txt\"));\n            if (reader.readLine() != null) {\n                System.out.println(\"Monster table successfully loaded.\\n\");\n                clr();\n            }\n        } catch (IOException e) {\n            System.out.println(\"That's a pretty dank error mate.\\nSeems as if you can't read your monster table\\ninto your program, or create it.\\n\\nOuch.\\n\" + e);\n        }*/\n        // Begin user interaction\n        System.out.println(\"Hello, welcome to the DnD program.\\nPlease select and option to continue.\\n1: Start\\n2: Quit\\n\\n\");\n        Scanner in = new Scanner(System.in);\n        menChoice = in.nextInt();\n        System.out.println(\"\\n\");\n        while (menChoice != 1 &amp;&amp; menChoice != 2) {\n            System.out.println(\"Invalid input. Please only enter 1 or 2.\\n\");\n            menChoice = in.nextInt();\n            System.out.println(\"\\n\");\n        }\n        if (menChoice == 1) {\n            // If i had time i could like, be super cool and make a function for this, but that's for fuckin nerds lmfao\n            System.out.println(\"Please pick a class.\\n1. Barbarian\\n2. Bard\\n3. Druid\\n4. Monk\\n5. Paladin\\n6. Rogue\\n7. Warlock\\n8. Wizard\\n\\n\");\n            String[] classes = {\"Barbarian\", \"Bard\", \"Druid\", \"Monk\", \"Paladin\", \"Rogue\", \"Warlock\", \"Wizard\"};\n            menChoice = in.nextInt();\n            while (menChoice &lt; 1 || menChoice &gt; 8) {\n                System.out.println(\"Invalid input. Please only enter a valid choice.\\n\");\n                menChoice = in.nextInt();\n                System.out.println(\"\\n\");\n            }\n            player.setPlayerClass(classes[menChoice - 1]);\n            System.out.println(\"Please pick a race.\\n1. Dwarf\\n2. Elf\\n3. Gnome\\n4. Halfling\\n5. Human\\n\\n\");\n            String[] races = {\"Dwarf\", \"Elf\", \"Gnome\", \"Halfling\", \"Human\"};\n            menChoice = in.nextInt();\n            while (menChoice &lt; 1 || menChoice &gt; 5) {\n                System.out.println(\"Invalid input. Please only enter a valid choice.\\n\");\n                menChoice = in.nextInt();\n                System.out.println(\"\\n\");\n            }\n            player.setRace(races[menChoice - 1]);\n            System.out.println(\"Please pick a profession.\\n1. Herbalist\\n2. Alchemist\\n3. Blacksmith\\n4. Soldier\\n5. Hunter\\n6. Gambler\\n\\n\");\n            String[] professions = {\"Herbalist\", \"Alchemist\", \"Blacksmith\", \"Soldier\", \"Hunter\", \"Gambler\"};\n            menChoice = in.nextInt();\n            while (menChoice &lt; 1 || menChoice &gt; 6) {\n                System.out.println(\"Invalid input. Please only enter a valid choice.\\n\");\n                menChoice = in.nextInt();\n                System.out.println(\"\\n\");\n            }\n            player.setProfession(professions[menChoice - 1]);\n            // R A N D O M R O L L I N G  &gt; * B E G I N ! *\n            do {\n                System.out.println(\"Rolling stats!\");\n                player.setSTR(ThreadLocalRandom.current().nextInt(3, 18 + 1));\n                player.setINT(ThreadLocalRandom.current().nextInt(3, 18 + 1));\n                player.setWIS(ThreadLocalRandom.current().nextInt(3, 18 + 1));\n                player.setCON(ThreadLocalRandom.current().nextInt(3, 18 + 1));\n                player.setDEX(ThreadLocalRandom.current().nextInt(3, 18 + 1));\n                player.setCHR(ThreadLocalRandom.current().nextInt(3, 18 + 1));\n                System.out.println(\"STR: \" + player.getSTR() + \"\\n\" + \"INT: \" + player.getINT() + \"\\n\" + \"WIS: \" + player.getWIS() + \"\\n\" + \"CON: \" + player.getCON() + \"\\n\" + \"DEX: \" + player.getDEX() + \"\\n\" + \"CHR: \" + player.getCHR() + \"\\n\" + \"Are you happy with this roll?\\n(y/n)\");\n                statRoll = in.nextLine();\n                while (!statRoll.equals(\"n\") &amp;&amp; !statRoll.equals(\"N\") &amp;&amp; !statRoll.equals(\"y\") &amp;&amp; !statRoll.equals(\"Y\")) {\n                    System.out.println(\"Invalid input. Please only respond with (y/n).\\n\");\n                    statRoll = in.nextLine();\n                    System.out.println(\"\\n\");\n                }\n            } while (statRoll.equals(\"n\") || statRoll.equals(\"N\"));\n            System.out.println(\"\\n\");\n            player.setHealth(player.getSTR() + 10);\n            System.out.println(\"Your character has been created.\\nIt is time to move forward to combat!\\n\\n\");\n            // Combat will begin here.\n            while (player.getLevel() &lt; 2) {\n                File file = new File(\"./monster_table.txt\");\n                FileReader reader = new FileReader(\"./monster_table.txt\");\n                if (!file.exists()) {\n                    createMonsterFile();\n                    System.err.println(file.getAbsolutePath());\n                }\n                try {\n                    if (reader.readLine() != null) {\n                        System.out.println(\"Monster table successfully loaded.\\n\");\n                        clr();\n                    }\n                } catch (IOException e) {\n                    System.out.println(\"That's a pretty dank error mate.\\nSeems as if you can't read your monster table\\ninto your program, or create it.\\n\\nOuch.\\n\" + e);\n                }\n                player.setHealth(player.getSTR() + 10);\n                if (deaths &gt; 0) {\n                    System.out.println(\"You awake in a nearby town, and on your way back to your party, you encounter another beast.\");\n                }\n                int importNum = (int)(Math.floor(Math.random() * 11) + 1);\n                if (importNum &gt; 11) {\n                    importNum = 11;\n                } else if (importNum == 1) {\n                    importNum = 2;\n                }\n                for (int i = 1; i &lt; importNum; i++) {\n                    reader.readLine();\n                }\n                String selectedMonster = reader.readLine();\n                String[] monsterImport = selectedMonster.split(\" \");\n                if (monsterImport.length &gt; numInElems) {\n                    monsterImport[0] = (monsterImport[0] + \" \" + monsterImport[1]);\n                    monsterImport[1] = monsterImport[2];\n                    monsterImport[2] = monsterImport[3];\n                    monster.setName(monsterImport[0]);\n                    monster.setHealth(Integer.parseInt(monsterImport[1]));\n                    monster.setDamage(Integer.parseInt(monsterImport[2]));\n                }\n                else {\n                    monster.setName(monsterImport[0]);\n                    monster.setHealth(Integer.parseInt(monsterImport[1]));\n                    monster.setDamage(Integer.parseInt(monsterImport[2]));\n                }\n                while (player.getHealth() &gt; 0 &amp;&amp; monster.getHealth() &gt; 0) {\n                    System.out.println(\"You are at \" + player.getHealth() + \". Your opponent, \" + monster.getName() + \", is at \" + monster.getHealth() + \".\\nWhat will you do?\\n1. Fight\\n2. Run\");\n                    menChoice = in.nextInt();\n                    while (menChoice != 1 &amp;&amp; menChoice != 2) {\n                        System.out.println(\"Invalid input. Please only enter 1 or 2.\\n\");\n                        menChoice = in.nextInt();\n                        System.out.println(\"\\n\");\n                    }\n                    if (menChoice == 1) {\n                        int RNG = (int)Math.floor(Math.random() * 4);\n                        int monsterRNG = (int)Math.floor(Math.random() * 4);\n                        if (RNG == 1 || RNG == 2 || RNG == 3) {\n                            monster.setHealth(monster.getHealth() - player.getDamage());\n                            System.out.println(\"You dealt \" + player.getDamage() + \" damage to \" + monster.getName() + \"!\");\n                            if (monster.getHealth() &lt;= 0) {\n                                player.setExp(player.getExp() + 5);\n                                if (player.getExp() &gt; (player.getSTR() + 10) * 50) {\n                                    player.setLevel(player.getLevel() + 1);\n                                }\n                            }\n                        } else {\n                            System.out.println(\"You missed!\");\n                        }\n                        if (monsterRNG == 1) {\n                            player.setHealth(player.getHealth() - monster.getDamage());\n                            System.out.println(\"The monster dealt \" + monster.getDamage() + \" to you!\");\n                        } else {\n                            System.out.println(\"The monster missed.\");\n                        }\n                    } else {\n                        int prayToRNGesus = (int)Math.floor(Math.random() * 4);\n                        if (prayToRNGesus == 1) {\n                            monster.setHealth(0);\n                            System.out.println(\"You have successfully fled.\\n\");\n                        } else {\n                            player.setHealth(0);\n                            System.out.println(\"In your attempts to flee, you were slain.\");\n                            player.setExp(player.getExp() - 10);\n                            deaths++;\n                        }\n                    }\n\n                }\n            }\n            System.out.println(\"Congratulations on making it to level 2!\\nDo you wish to save your character?\\n1. Yes\\n2. No\");\n            menChoice = in.nextInt();\n            while (menChoice != 1 &amp;&amp; menChoice != 2) {\n                System.out.println(\"Invalid input. Please only enter 1 or 2.\\n\");\n                menChoice = in.nextInt();\n                System.out.println(\"\\n\");\n            }\n            if (menChoice == 1) {\n                System.out.println(\"Excellent! Please name your character.\");\n                String name = in.nextLine();\n                player.setName(name);\n                System.out.println(\"Saving your character...\");\n                BufferedWriter writer;\n                int i = 1;\n                File outFile = new File(\"./character\" + String.valueOf(i) + \".txt\");\n                while (outFile.exists() &amp;&amp; i &lt; 3) {\n                    i++;\n                    outFile = new File(\"./character\" + String.valueOf(i) + \".txt\");\n                }\n                try {\n                    writer = new BufferedWriter(new FileWriter(outFile));\n                    writer.write(\"Name: \" + player.getName());\n                    writer.newLine();\n                    writer.write(\"Race: \" + player.getRace());\n                    writer.newLine();\n                    writer.write(\"Profession: \" + player.getProfession());\n                    writer.newLine();\n                    writer.write(\"Class: \" + player.getPlayerClass());\n                    writer.newLine();\n                    writer.write(\"INT: \" + String.valueOf(player.getINT()));\n                    writer.newLine();\n                    writer.write(\"STR: \" + String.valueOf(player.getSTR()));\n                    writer.newLine();\n                    writer.write(\"WIS: \" + String.valueOf(player.getWIS()));\n                    writer.newLine();\n                    writer.write(\"CON: \" + String.valueOf(player.getCON()));\n                    writer.newLine();\n                    writer.write(\"DEX: \" + String.valueOf(player.getDEX()));\n                    writer.newLine();\n                    writer.write(\"CHR: \" + String.valueOf(player.getCHR()));\n                    writer.newLine();\n                    writer.flush();\n                    writer.close();\n                } catch(IOException e) {\n                    System.out.println(\"IO error. \" + e);\n                }\n            }\n\n        } else if (menChoice == 2) {\n            System.exit(0);\n        } else {\n            System.out.println(\"User input validation error.\\n\");\n        }\n    }\n\n    private static void createMonsterFile() {\n        File monsterFile = new File(\"./monster_table.txt\");\n        BufferedWriter writer;\n        try {\n            writer = new BufferedWriter(new FileWriter(monsterFile));\n            writer.write(\"MonsterName HitPoints HitDamage\\nHydra 50 6\\nCyclops 20 1\\nGiant Snake 5 1\\nPhred 100 5\\nPurple Monkey 10 2\\nIce Golem 25 10\\nHeat Miser 50 2\\nSquirrel 2 5\\nWhite Whale 80 4\\nSmurf 5 2\");\n            writer.flush();\n            System.out.println(\"Monster table successfully loaded.\\n\");\n            clr();\n        } catch (IOException e) {\n            System.out.println(\"That's a pretty dank error mate.\\nSeems as if you can't write your monster table.\\n\\nOuch.\\n\" + e);\n        }\n    }\n\n    static void clr() {\n        for (int i = 0; i &lt; 50; i++) {\n            System.out.println(\"\\n\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","math","design-patterns","rounding"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1557872679,"post_id":56139345,"comment_id":98909469,"body_markdown":"Fascinating. Try `System.out.println(0.05 + 0.05 + 0.05);`","body":"Fascinating. Try <code>System.out.println(0.05 + 0.05 + 0.05);</code>"},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":2,"creation_date":1557872807,"post_id":56139345,"comment_id":98909497,"body_markdown":"`double` is an entirely inappropriate storage format for currency. I don&#39;t think you will be able to get this to work they way you expect without using a decimal storage format of some kind.","body":"<code>double</code> is an entirely inappropriate storage format for currency. I don&#39;t think you will be able to get this to work they way you expect without using a decimal storage format of some kind."},{"owner":{"account_id":7987645,"reputation":454,"user_id":6026545,"accept_rate":71,"display_name":"Dylan"},"score":0,"creation_date":1557873103,"post_id":56139345,"comment_id":98909577,"body_markdown":"@DanielPryden I actually store the value as a BigDecimal, but this is part of an android application. At one stage, I need to pass the value that is owed through an intent, which means it needs to be stored as a string at some point. I just converted the BigDecimal to a double when passing through the intent and representing it on screen","body":"@DanielPryden I actually store the value as a BigDecimal, but this is part of an android application. At one stage, I need to pass the value that is owed through an intent, which means it needs to be stored as a string at some point. I just converted the BigDecimal to a double when passing through the intent and representing it on screen"},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":1,"creation_date":1557873509,"post_id":56139345,"comment_id":98909679,"body_markdown":"And what will you do if the total was, say, 199 00 instead of 200.00? Use long int for number of cents assigned to each one, then assign  residual cents one at a time until you run out of the residual.","body":"And what will you do if the total was, say, 199 00 instead of 200.00? Use long int for number of cents assigned to each one, then assign  residual cents one at a time until you run out of the residual."},{"owner":{"account_id":7987645,"reputation":454,"user_id":6026545,"accept_rate":71,"display_name":"Dylan"},"score":0,"creation_date":1557873695,"post_id":56139345,"comment_id":98909722,"body_markdown":"@FredK This is another case. Again, there is a strong possibility I&#39;m not attacking this problem the right way. Maths is not a strong skill of mine so I&#39;m sure I&#39;m missing out on plenty of cases... I&#39;m open to alternative solutions by all means!","body":"@FredK This is another case. Again, there is a strong possibility I&#39;m not attacking this problem the right way. Maths is not a strong skill of mine so I&#39;m sure I&#39;m missing out on plenty of cases... I&#39;m open to alternative solutions by all means!"}],"answers":[{"tags":[],"owner":{"account_id":9369931,"reputation":133,"user_id":7196662,"display_name":"Babatope.Festus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557873480,"creation_date":1557873480,"answer_id":56139517,"question_id":56139345,"body_markdown":"You can use BigDecimal with half rounding mode:\r\n\r\n```\r\n    private String calculateAmountToPay(String noOfParticipants, String owed) {\r\n        double amountOwed = Double.parseDouble(owed);\r\n        int noOfMembers = Integer.parseInt(noOfParticipants);\r\n        BigDecimal amount= new BigDecimal((amountOwed / (double) noOfMembers) / 100);\r\n        return amount.setScale(2, RoundingMode.HALF_UP).toString();\r\n    }\r\n```","title":"CURRENCY - Round double value ONLY if it has more than 2 decimal places","body":"<p>You can use BigDecimal with half rounding mode:</p>\n\n<pre><code>    private String calculateAmountToPay(String noOfParticipants, String owed) {\n        double amountOwed = Double.parseDouble(owed);\n        int noOfMembers = Integer.parseInt(noOfParticipants);\n        BigDecimal amount= new BigDecimal((amountOwed / (double) noOfMembers) / 100);\n        return amount.setScale(2, RoundingMode.HALF_UP).toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15787989,"reputation":2685,"user_id":11392116,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675402309,"creation_date":1557874710,"answer_id":56139678,"question_id":56139345,"body_markdown":"You can just do all the computation with basic primitives converting everything to cents (2 decimals precision), and dividing the left over cents over a portion of the members, no need to overcomplicate it with extra sdks/math manipulations. The following is a working example solving this problem entirely, using these suggestions:\r\n\r\n```\r\npublic class AmountDivider {\r\n\tprivate int totalMembers, luckies, unluckies;\r\n\tprivate double totalAmount, amountPerLucky, amountPerUnlucky;\r\n\t\r\n\tpublic AmountDivider(int numMembers, double amountOwed) {\r\n\t\ttotalMembers = numMembers;\r\n\t\ttotalAmount = amountOwed;\r\n\r\n\t\tdouble centsOwed = amountOwed * 100;\r\n        int centsPerMember = (int)(centsOwed / totalMembers);\r\n        int centsLeft = (int)centsOwed - centsPerMember * totalMembers;\r\n        \r\n        luckies = totalMembers - centsLeft;\r\n        amountPerLucky = centsPerMember / 100.0;\r\n        unluckies = centsLeft;\r\n        amountPerUnlucky = (centsPerMember + 1) / 100.0;\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\tString luckiesStr = String.format(&quot;%d lucky persons will pay %.2f&quot;, luckies, amountPerLucky);\r\n\t\tString unluckiesStr = String.format(&quot;%d unlucky persons will pay %.2f&quot;, unluckies, amountPerUnlucky);\r\n\t\treturn String.format(&quot;For amount %f divided among %d: \\n%s\\n%s\\n&quot;, \r\n\t\t\t\t\t\t\t\ttotalAmount, totalMembers, luckiesStr, unluckiesStr);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(new AmountDivider(3, 200));\r\n\t\tSystem.out.println(new AmountDivider(17, 365.99));\r\n\t}\r\n}\r\n```\r\n\r\n[Complete code on GitHub](https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56139678)\r\n\r\nHope this helps.","title":"CURRENCY - Round double value ONLY if it has more than 2 decimal places","body":"<p>You can just do all the computation with basic primitives converting everything to cents (2 decimals precision), and dividing the left over cents over a portion of the members, no need to overcomplicate it with extra sdks/math manipulations. The following is a working example solving this problem entirely, using these suggestions:</p>\n<pre><code>public class AmountDivider {\n    private int totalMembers, luckies, unluckies;\n    private double totalAmount, amountPerLucky, amountPerUnlucky;\n    \n    public AmountDivider(int numMembers, double amountOwed) {\n        totalMembers = numMembers;\n        totalAmount = amountOwed;\n\n        double centsOwed = amountOwed * 100;\n        int centsPerMember = (int)(centsOwed / totalMembers);\n        int centsLeft = (int)centsOwed - centsPerMember * totalMembers;\n        \n        luckies = totalMembers - centsLeft;\n        amountPerLucky = centsPerMember / 100.0;\n        unluckies = centsLeft;\n        amountPerUnlucky = (centsPerMember + 1) / 100.0;\n    }\n\n    public String toString() {\n        String luckiesStr = String.format(&quot;%d lucky persons will pay %.2f&quot;, luckies, amountPerLucky);\n        String unluckiesStr = String.format(&quot;%d unlucky persons will pay %.2f&quot;, unluckies, amountPerUnlucky);\n        return String.format(&quot;For amount %f divided among %d: \\n%s\\n%s\\n&quot;, \n                                totalAmount, totalMembers, luckiesStr, unluckiesStr);\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(new AmountDivider(3, 200));\n        System.out.println(new AmountDivider(17, 365.99));\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/marco-ruiz/stackoverflow-qa/tree/master/so-common/src/main/java/so/a56139678\" rel=\"nofollow noreferrer\">Complete code on GitHub</a></p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1557885255,"creation_date":1557875381,"answer_id":56139763,"question_id":56139345,"body_markdown":"Before even thinking about arithmetic, you need to know that `double` is **not** an appropriate data type for use with currency, because itâs *imprecise*. So, stop using a floating point type (eg `double`) as the data type for the quantity of *dollars* and start using a precise type (eg `long`) as the data type for the quantity of *cents*.\r\n\r\nThe steps then to do the calculation would be to immediately convert everything, with rounding, to cents:\r\n\r\n    double amountOwed = ...;\r\n    int noOfMembers = ...;\r\n    long centsOwed = Math.round(amountOwed * 100);\r\n    long portionCents = Math.round(amountOwed * 100 / noOfMembers);\r\n    long errorCents = portionCents * noOfMembers - centsOwed;\r\n\r\nHereâs one way to deal with the error:\r\n\r\n    long lastPortionCents = portionCents - errorCents;\r\n\r\nBut itâs possible that the error is more than 1 cent, so a better solution would be to spread the error out evenly by subtracting (or adding if the error is negative) 1 cent from the first (or last, or randomly chosen) `errorCents` diners.\r\n\r\nThe rest of the solution is then about rending the above, which I leave to the reader.\r\n\r\nAs a side note, using cents is how banks transmit amounts (at least for EFTPOS anyway).\r\n\r\n---\r\n\r\nRegarding basic software design, I would create a separate method that accepts integer cents and people count as its parameters and returns an array of the &quot;split&quot; amounts. Doing this will not only make your code easier to read, but it will compartmentaise the arithmetic operation and thus enable lots of simple tests to more easily be written, so you can know you have all the edge cases that you can think of covered.\r\n\r\n","title":"CURRENCY - Round double value ONLY if it has more than 2 decimal places","body":"<p>Before even thinking about arithmetic, you need to know that <code>double</code> is <strong>not</strong> an appropriate data type for use with currency, because itâs <em>imprecise</em>. So, stop using a floating point type (eg <code>double</code>) as the data type for the quantity of <em>dollars</em> and start using a precise type (eg <code>long</code>) as the data type for the quantity of <em>cents</em>.</p>\n\n<p>The steps then to do the calculation would be to immediately convert everything, with rounding, to cents:</p>\n\n<pre><code>double amountOwed = ...;\nint noOfMembers = ...;\nlong centsOwed = Math.round(amountOwed * 100);\nlong portionCents = Math.round(amountOwed * 100 / noOfMembers);\nlong errorCents = portionCents * noOfMembers - centsOwed;\n</code></pre>\n\n<p>Hereâs one way to deal with the error:</p>\n\n<pre><code>long lastPortionCents = portionCents - errorCents;\n</code></pre>\n\n<p>But itâs possible that the error is more than 1 cent, so a better solution would be to spread the error out evenly by subtracting (or adding if the error is negative) 1 cent from the first (or last, or randomly chosen) <code>errorCents</code> diners.</p>\n\n<p>The rest of the solution is then about rending the above, which I leave to the reader.</p>\n\n<p>As a side note, using cents is how banks transmit amounts (at least for EFTPOS anyway).</p>\n\n<hr>\n\n<p>Regarding basic software design, I would create a separate method that accepts integer cents and people count as its parameters and returns an array of the \"split\" amounts. Doing this will not only make your code easier to read, but it will compartmentaise the arithmetic operation and thus enable lots of simple tests to more easily be written, so you can know you have all the edge cases that you can think of covered.</p>\n"}],"owner":{"account_id":7987645,"reputation":454,"user_id":6026545,"accept_rate":71,"display_name":"Dylan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1568972920,"accepted_answer_id":56139763,"answer_count":3,"score":2,"last_activity_date":1675402309,"creation_date":1557872176,"question_id":56139345,"body_markdown":"I&#39;m trying to split a bill and need to calculate how much each person would owe if the bill was split in even amounts. I know one amount will be different than the rest to account for the lost cents.\r\n\r\nAssume 3 people try to split a bill for 200. 200 / 3 is 66.6666666667. What I planned on doing was charging the 2 first people 66.67 and the last gets lucky with the 66.66 bill.\r\n\r\nAt the minute, I have this so far: \r\n\r\n```\r\nprivate String calculateAmountToPay(String noOfParticipants, String owed) {\r\n    double amountOwed = Double.parseDouble(owed);\r\n    int noOfMembers = Integer.parseInt(noOfParticipants);\r\n    DecimalFormat amountFormat = new DecimalFormat(&quot;#.##&quot;);\r\n    amountFormat.setRoundingMode(RoundingMode.CEILING);\r\n    return amountFormat.format((amountOwed/(double)noOfMembers) / 100);\r\n  }\r\n```\r\n\r\nBut this always will return 66.67. Is there a way that I can get it to only round up if there is a number greater than 2 decimal places, if not, it stays at 66.66 for example?\r\n\r\nMaybe I&#39;m approaching this the wrong way. I know currency can be finicky to deal with.","title":"CURRENCY - Round double value ONLY if it has more than 2 decimal places","body":"<p>I'm trying to split a bill and need to calculate how much each person would owe if the bill was split in even amounts. I know one amount will be different than the rest to account for the lost cents.</p>\n\n<p>Assume 3 people try to split a bill for 200. 200 / 3 is 66.6666666667. What I planned on doing was charging the 2 first people 66.67 and the last gets lucky with the 66.66 bill.</p>\n\n<p>At the minute, I have this so far: </p>\n\n<pre><code>private String calculateAmountToPay(String noOfParticipants, String owed) {\n    double amountOwed = Double.parseDouble(owed);\n    int noOfMembers = Integer.parseInt(noOfParticipants);\n    DecimalFormat amountFormat = new DecimalFormat(\"#.##\");\n    amountFormat.setRoundingMode(RoundingMode.CEILING);\n    return amountFormat.format((amountOwed/(double)noOfMembers) / 100);\n  }\n</code></pre>\n\n<p>But this always will return 66.67. Is there a way that I can get it to only round up if there is a number greater than 2 decimal places, if not, it stays at 66.66 for example?</p>\n\n<p>Maybe I'm approaching this the wrong way. I know currency can be finicky to deal with.</p>\n"},{"tags":["java","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1675338665,"post_id":75008721,"comment_id":132909580,"body_markdown":"Hi @sato-yusuke, thanks for your detailed question! Sorry it took a while to spot your question; we&#39;re a little [more active on Slack](https://join.slack.com/t/rewriteoss/shared_invite/zt-nj42n3ea-b~62rIHzb3Vo0E1APKCXEA), but will monitor here as well. I&#39;ve asked a colleague to have a look and answer here!","body":"Hi @sato-yusuke, thanks for your detailed question! Sorry it took a while to spot your question; we&#39;re a little <a href=\"https://join.slack.com/t/rewriteoss/shared_invite/zt-nj42n3ea-b~62rIHzb3Vo0E1APKCXEA\" rel=\"nofollow noreferrer\">more active on Slack</a>, but will monitor here as well. I&#39;ve asked a colleague to have a look and answer here!"}],"answers":[{"tags":[],"owner":{"account_id":27691455,"reputation":21,"user_id":21138032,"display_name":"keelunt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675401446,"creation_date":1675401179,"answer_id":75331765,"question_id":75008721,"body_markdown":"By the given example code below\r\n```\r\nimport lombok.Generated;\r\n\r\nclass A {\r\n  // parasoft-begin-suppress ALL\r\n  @Generated\r\n  public String hello() {\r\n      return &quot;Hello from com.yourorg.FooBar!&quot;;\r\n  }\r\n  //parasoft-end-suppress ALL\r\n  \r\n  void method2() {\r\n  }\r\n  \r\n  // comment2\r\n}\r\n```\r\nIf you debug and put a breakpoint anywhere in the method `visitMethodDeclaration`,  evaluate expression `TreeVisitingPrinter.printTree(getCursor());`, you can get a printed LST tree looks like this \r\n```\r\n----J.CompilationUnit\r\n    |-------J.Import | &quot;import lombok.Generated&quot;\r\n    |       \\---J.FieldAccess | &quot;lombok.Generated&quot;\r\n    |           |---J.Identifier | &quot;lombok&quot;\r\n    |           \\-------J.Identifier | &quot;Generated&quot;\r\n    \\---J.ClassDeclaration\r\n        |---J.Identifier | &quot;A&quot;\r\n        \\---J.Block                                                                                                     // J.Block.end.comments.get(0).text = &quot;comment2&quot;\r\n            |-------J.MethodDeclaration | &quot;MethodDeclaration{A{name=hello,return=java.lang.String,parameters=[]}}&quot;      // J.MethodDeclaration.prefix.comments.get(0).text = &quot;parasoft-begin-suppress ALL&quot;\r\n            |       |---J.Annotation | &quot;@Generated&quot;\r\n            |       |   \\---J.Identifier | &quot;Generated&quot;\r\n            |       |---J.Modifier | &quot;public&quot;\r\n            |       |---J.Identifier | &quot;String&quot;\r\n            |       |---J.Identifier | &quot;hello&quot;\r\n            |       |-----------J.Empty\r\n            |       \\---J.Block\r\n            |           \\-------J.Return | &quot;return &quot;Hello from com.yourorg.FooBar!&quot;&quot;\r\n            |                   \\---J.Literal\r\n            \\-------J.MethodDeclaration | &quot;MethodDeclaration{A{name=method2,return=void,parameters=[]}}&quot;                // J.MethodDeclaration.prefix.comments.get(0).text = &quot;parasoft-end-suppress ALL&quot;\r\n                    |---J.Primitive | &quot;void&quot;\r\n                    |---J.Identifier | &quot;method2&quot;\r\n                    |-----------J.Empty\r\n                    \\---J.Block\r\n```\r\n\r\nI put 3 comments there to indicate where is the comment located in the tree.\r\nyou can see the expected method end comment `parasoft-end-suppress ALL` actually doesn&#39;t belong to the 1st method declaration, but the 2nd method declaration, or if there is only one method there, the comment `comment2` is at the end of the J.Block. \r\nSo the solution should be to add a method-end comment to the next method declaration prefix. or the parent block&#39;s end if there is not following method.\r\n\r\nHope this helps.\r\n\r\nIf you have further questions, welcome to ask in the openRewrite slack \r\n[here][1]\r\n\r\n\r\n  [1]: https://rewriteoss.slack.com/join/shared_invite/zt-nj42n3ea-b~62rIHzb3Vo0E1APKCXEA#/shared-invite/email","title":"How to add a line comment just after a method with OpenRewrite","body":"<p>By the given example code below</p>\n<pre><code>import lombok.Generated;\n\nclass A {\n  // parasoft-begin-suppress ALL\n  @Generated\n  public String hello() {\n      return &quot;Hello from com.yourorg.FooBar!&quot;;\n  }\n  //parasoft-end-suppress ALL\n  \n  void method2() {\n  }\n  \n  // comment2\n}\n</code></pre>\n<p>If you debug and put a breakpoint anywhere in the method <code>visitMethodDeclaration</code>,  evaluate expression <code>TreeVisitingPrinter.printTree(getCursor());</code>, you can get a printed LST tree looks like this</p>\n<pre><code>----J.CompilationUnit\n    |-------J.Import | &quot;import lombok.Generated&quot;\n    |       \\---J.FieldAccess | &quot;lombok.Generated&quot;\n    |           |---J.Identifier | &quot;lombok&quot;\n    |           \\-------J.Identifier | &quot;Generated&quot;\n    \\---J.ClassDeclaration\n        |---J.Identifier | &quot;A&quot;\n        \\---J.Block                                                                                                     // J.Block.end.comments.get(0).text = &quot;comment2&quot;\n            |-------J.MethodDeclaration | &quot;MethodDeclaration{A{name=hello,return=java.lang.String,parameters=[]}}&quot;      // J.MethodDeclaration.prefix.comments.get(0).text = &quot;parasoft-begin-suppress ALL&quot;\n            |       |---J.Annotation | &quot;@Generated&quot;\n            |       |   \\---J.Identifier | &quot;Generated&quot;\n            |       |---J.Modifier | &quot;public&quot;\n            |       |---J.Identifier | &quot;String&quot;\n            |       |---J.Identifier | &quot;hello&quot;\n            |       |-----------J.Empty\n            |       \\---J.Block\n            |           \\-------J.Return | &quot;return &quot;Hello from com.yourorg.FooBar!&quot;&quot;\n            |                   \\---J.Literal\n            \\-------J.MethodDeclaration | &quot;MethodDeclaration{A{name=method2,return=void,parameters=[]}}&quot;                // J.MethodDeclaration.prefix.comments.get(0).text = &quot;parasoft-end-suppress ALL&quot;\n                    |---J.Primitive | &quot;void&quot;\n                    |---J.Identifier | &quot;method2&quot;\n                    |-----------J.Empty\n                    \\---J.Block\n</code></pre>\n<p>I put 3 comments there to indicate where is the comment located in the tree.\nyou can see the expected method end comment <code>parasoft-end-suppress ALL</code> actually doesn't belong to the 1st method declaration, but the 2nd method declaration, or if there is only one method there, the comment <code>comment2</code> is at the end of the J.Block.\nSo the solution should be to add a method-end comment to the next method declaration prefix. or the parent block's end if there is not following method.</p>\n<p>Hope this helps.</p>\n<p>If you have further questions, welcome to ask in the openRewrite slack\n<a href=\"https://rewriteoss.slack.com/join/shared_invite/zt-nj42n3ea-b%7E62rIHzb3Vo0E1APKCXEA#/shared-invite/email\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675401446,"creation_date":1672851334,"question_id":75008721,"body_markdown":"## What I want to do\r\n\r\nI am trying to add single-line comments around a method annotated with Lombok&#39;s `@Generated` to tell Parasoft Jtest to suppress the reporting of findings in the method like this:\r\n\r\n```java\r\nclass FooBar {\r\n    // parasoft-begin-suppress ALL\r\n    @Generated\r\n    public String hello() {\r\n        return &quot;Hello from com.yourorg.FooBar!&quot;;\r\n    }\r\n    //parasoft-end-suppress ALL\r\n}\r\n```\r\n\r\n## What I tried\r\n\r\nI have found that JavaParser breaks up single-line comments at the end of the line (see https://stackoverflow.com/q/74841993/3902663), so I have tried to write an OpenRewrite recipe.\r\nI have successfully added the comment before the annotation with this code:\r\n\r\n```java\r\npublic class JtestSuppressDelombokVisitor extends JavaIsoVisitor&lt;ExecutionContext&gt; {\r\n    @Override\r\n    public MethodDeclaration visitMethodDeclaration(MethodDeclaration methodDecl, ExecutionContext context) {\r\n        boolean hasGeneratedAnnotation = methodDecl.getLeadingAnnotations().stream()\r\n                .anyMatch(annotation -&gt; annotation.getType().toString().equals(&quot;lombok.Generated&quot;));\r\n\r\n        Iterator&lt;Comment&gt; it = methodDecl.getPrefix().getComments().iterator();\r\n        boolean alreadyHasSuppressComment = false;\r\n        while (it.hasNext()) {\r\n            Comment comment = it.next();\r\n            PrintOutputCapture&lt;String&gt; p = new PrintOutputCapture&lt;String&gt;(&quot;&quot;);\r\n            comment.printComment(this.getCursor(), p);\r\n            if (p.out.toString().matches(&quot;.*parasoft-begin-suppress\\sALL.*&quot;)) {\r\n                alreadyHasSuppressComment = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (hasGeneratedAnnotation &amp;&amp; !alreadyHasSuppressComment) {\r\n            String methodDeclWhitespace = methodDecl.getPrefix().getWhitespace();\r\n            if (methodDecl.getPrefix().getComments().size() == 0) {\r\n                methodDecl = methodDecl.withComments(Arrays.asList(new TextComment(false, &quot;parasoft-begin-suppress ALL&quot;, methodDeclWhitespace, Markers.EMPTY)));\r\n            } else {\r\n                methodDecl.getPrefix().getComments().add(new TextComment(false, &quot;parasoft-begin-suppress ALL&quot;, methodDeclWhitespace, Markers.EMPTY));\r\n            }\r\n            return methodDecl;\r\n        }\r\n\r\n        return methodDecl;\r\n    }\r\n}\r\n```\r\n\r\n## Problem\r\n\r\nI couldn&#39;t add the comment after the method. I have tried three ways:\r\n\r\n### 1. Create a comment with JavaTemplate and add it to the method\r\n\r\nI have tried the following code, but nothing is added to the code.\r\n\r\n```java\r\nfinal JavaTemplate endSuppressCommentTemplate =\r\n        JavaTemplate.builder(this::getCursor, &quot;// parasoft-end-suppress ALL&quot;).build();\r\nmethodDecl = methodDecl.withBody(methodDecl.getBody().withTemplate(\r\n        endSuppressCommentTemplate,\r\n        methodDecl.getBody().getCoordinates().lastStatement()\r\n        ));\r\n```\r\n\r\n### 2. Added comment at the end of the method body\r\n\r\nI have tried the following code.\r\n\r\n```java\r\nmethodDecl.getBody().getEnd().getComments().add(new TextComment(false, &quot;parasoft-end-suppress ALL&quot;, &quot;\\n&quot;, Markers.EMPTY));\r\n```\r\n\r\nThis code added the comment on the last line of the method (not after the method). This code also inserted the comment not only on the last line of the method but also on the other line and overwrote the comment before the annotation like this:\r\n\r\n```java\r\nclass FooBar {\r\n    //parasoft-end-suppress ALL\r\n@Generated\r\n    //parasoft-end-suppress ALL\r\npublic String hello() {\r\n        return &quot;Hello from com.yourorg.FooBar!&quot;;\r\n    //parasoft-end-suppress ALL\r\n}\r\n```\r\n\r\n### 3. Create a `Space` instance with a comment and add it to the method\r\n\r\nThe following code resulted in the same as 2.\r\n\r\n```java\r\nSpace currentSpace = methodDecl.getBody().getEnd();\r\nSpace newSpace = Space.build(currentSpace.getWhitespace(), currentSpace.getComments());\r\nnewSpace.getComments().add(new TextComment(false, &quot;parasoft-end-suppress ALL&quot;, &quot;\\n&quot;, Markers.EMPTY));\r\nmethodDecl = methodDecl.withBody(methodDecl.getBody().withEnd(newSpace));\r\n```\r\n\r\n\r\n## Question\r\n\r\nHow can I add a line comment just after a method (or, at the end of a method) with an OpenRewrite recipe?\r\n","title":"How to add a line comment just after a method with OpenRewrite","body":"<h2>What I want to do</h2>\n<p>I am trying to add single-line comments around a method annotated with Lombok's <code>@Generated</code> to tell Parasoft Jtest to suppress the reporting of findings in the method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooBar {\n    // parasoft-begin-suppress ALL\n    @Generated\n    public String hello() {\n        return &quot;Hello from com.yourorg.FooBar!&quot;;\n    }\n    //parasoft-end-suppress ALL\n}\n</code></pre>\n<h2>What I tried</h2>\n<p>I have found that JavaParser breaks up single-line comments at the end of the line (see <a href=\"https://stackoverflow.com/q/74841993/3902663\">How to prepend to move a line comment to the middle of field declaration with JavaParser</a>), so I have tried to write an OpenRewrite recipe.\nI have successfully added the comment before the annotation with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JtestSuppressDelombokVisitor extends JavaIsoVisitor&lt;ExecutionContext&gt; {\n    @Override\n    public MethodDeclaration visitMethodDeclaration(MethodDeclaration methodDecl, ExecutionContext context) {\n        boolean hasGeneratedAnnotation = methodDecl.getLeadingAnnotations().stream()\n                .anyMatch(annotation -&gt; annotation.getType().toString().equals(&quot;lombok.Generated&quot;));\n\n        Iterator&lt;Comment&gt; it = methodDecl.getPrefix().getComments().iterator();\n        boolean alreadyHasSuppressComment = false;\n        while (it.hasNext()) {\n            Comment comment = it.next();\n            PrintOutputCapture&lt;String&gt; p = new PrintOutputCapture&lt;String&gt;(&quot;&quot;);\n            comment.printComment(this.getCursor(), p);\n            if (p.out.toString().matches(&quot;.*parasoft-begin-suppress\\sALL.*&quot;)) {\n                alreadyHasSuppressComment = true;\n                break;\n            }\n        }\n\n        if (hasGeneratedAnnotation &amp;&amp; !alreadyHasSuppressComment) {\n            String methodDeclWhitespace = methodDecl.getPrefix().getWhitespace();\n            if (methodDecl.getPrefix().getComments().size() == 0) {\n                methodDecl = methodDecl.withComments(Arrays.asList(new TextComment(false, &quot;parasoft-begin-suppress ALL&quot;, methodDeclWhitespace, Markers.EMPTY)));\n            } else {\n                methodDecl.getPrefix().getComments().add(new TextComment(false, &quot;parasoft-begin-suppress ALL&quot;, methodDeclWhitespace, Markers.EMPTY));\n            }\n            return methodDecl;\n        }\n\n        return methodDecl;\n    }\n}\n</code></pre>\n<h2>Problem</h2>\n<p>I couldn't add the comment after the method. I have tried three ways:</p>\n<h3>1. Create a comment with JavaTemplate and add it to the method</h3>\n<p>I have tried the following code, but nothing is added to the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final JavaTemplate endSuppressCommentTemplate =\n        JavaTemplate.builder(this::getCursor, &quot;// parasoft-end-suppress ALL&quot;).build();\nmethodDecl = methodDecl.withBody(methodDecl.getBody().withTemplate(\n        endSuppressCommentTemplate,\n        methodDecl.getBody().getCoordinates().lastStatement()\n        ));\n</code></pre>\n<h3>2. Added comment at the end of the method body</h3>\n<p>I have tried the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>methodDecl.getBody().getEnd().getComments().add(new TextComment(false, &quot;parasoft-end-suppress ALL&quot;, &quot;\\n&quot;, Markers.EMPTY));\n</code></pre>\n<p>This code added the comment on the last line of the method (not after the method). This code also inserted the comment not only on the last line of the method but also on the other line and overwrote the comment before the annotation like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooBar {\n    //parasoft-end-suppress ALL\n@Generated\n    //parasoft-end-suppress ALL\npublic String hello() {\n        return &quot;Hello from com.yourorg.FooBar!&quot;;\n    //parasoft-end-suppress ALL\n}\n</code></pre>\n<h3>3. Create a <code>Space</code> instance with a comment and add it to the method</h3>\n<p>The following code resulted in the same as 2.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Space currentSpace = methodDecl.getBody().getEnd();\nSpace newSpace = Space.build(currentSpace.getWhitespace(), currentSpace.getComments());\nnewSpace.getComments().add(new TextComment(false, &quot;parasoft-end-suppress ALL&quot;, &quot;\\n&quot;, Markers.EMPTY));\nmethodDecl = methodDecl.withBody(methodDecl.getBody().withEnd(newSpace));\n</code></pre>\n<h2>Question</h2>\n<p>How can I add a line comment just after a method (or, at the end of a method) with an OpenRewrite recipe?</p>\n"},{"tags":["java","ubuntu","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1594620851,"post_id":62869788,"comment_id":111177500,"body_markdown":"I suspect that you didn&#39;t actually use JDK 8 when you thought you did, and that actually using JDK 8 would fix it.","body":"I suspect that you didn&#39;t actually use JDK 8 when you thought you did, and that actually using JDK 8 would fix it."}],"answers":[{"tags":[],"owner":{"display_name":"user13049687"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594824484,"creation_date":1594824484,"answer_id":62917641,"question_id":62869788,"body_markdown":"This issue occurs when you don&#39;t use JDK 8, please try using it again, uninstall JDK 11 and check your JDK version with `java -version`.","title":"Ubuntu Minecraft Server java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader","body":"<p>This issue occurs when you don't use JDK 8, please try using it again, uninstall JDK 11 and check your JDK version with <code>java -version</code>.</p>\n"},{"tags":[],"owner":{"account_id":17664504,"reputation":121,"user_id":12822225,"display_name":"Likqez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594827328,"creation_date":1594827328,"answer_id":62918525,"question_id":62869788,"body_markdown":"Forge, as i know right now, sadly only supports Java 8 Development Kits. Be sure that you&#39;re running JDK8 by typing ``java --version``. Try uninstalling other versions or specify which version shall be used. I suggest reading [this][1]\r\n\r\n  [1]: https://support.inductiveautomation.com/index.php?/Knowledgebase/Article/View/87/0/running-multiple-versions-of-java-on-the-same-windows-machine","title":"Ubuntu Minecraft Server java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader","body":"<p>Forge, as i know right now, sadly only supports Java 8 Development Kits. Be sure that you're running JDK8 by typing <code>java --version</code>. Try uninstalling other versions or specify which version shall be used. I suggest reading <a href=\"https://support.inductiveautomation.com/index.php?/Knowledgebase/Article/View/87/0/running-multiple-versions-of-java-on-the-same-windows-machine\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":19065132,"reputation":89,"user_id":13920365,"display_name":"Saif Abdein"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675401149,"creation_date":1594835027,"answer_id":62920814,"question_id":62869788,"body_markdown":"I figured out how to switch java versions without uninstalling any:\r\n\r\n```\r\nsudo update-alternatives --config java\r\n```\r\n\r\nThanks to Joseph Sible, Novarch, and Likqez for pushing me in the right direction.","title":"Ubuntu Minecraft Server java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader","body":"<p>I figured out how to switch java versions without uninstalling any:</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>Thanks to Joseph Sible, Novarch, and Likqez for pushing me in the right direction.</p>\n"}],"owner":{"account_id":19065132,"reputation":89,"user_id":13920365,"display_name":"Saif Abdein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22736,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":62920814,"answer_count":3,"score":3,"last_activity_date":1675401149,"creation_date":1594618535,"question_id":62869788,"body_markdown":"Im trying to run my modded mc server. It works on wondows but when I try to run it on ubuntu it gives me this error:\r\n```\r\n    saif@Saif-Ubuntu:~/Desktop/Minecraft Server$ java -Xmx2048M -Xms2048M -jar forge-1.12.2- \r\n14.23.5.2854.jar\r\nA problem occurred running the Server launcher.java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat net.minecraftforge.fml.relauncher.ServerLaunchWrapper.run(ServerLaunchWrapper.java:70)\r\n\tat net.minecraftforge.fml.relauncher.ServerLaunchWrapper.main(ServerLaunchWrapper.java:34)\r\nCaused by: java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat net.minecraft.launchwrapper.Launch.&lt;init&gt;(Launch.java:34)\r\n\tat net.minecraft.launchwrapper.Launch.main(Launch.java:28)\r\n\t... 6 more\r\n```\r\n\r\nI tried uding jdk 11 and jdk 8 but for all I can tell neither work. Anyone know anything I can try?","title":"Ubuntu Minecraft Server java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader","body":"<p>Im trying to run my modded mc server. It works on wondows but when I try to run it on ubuntu it gives me this error:</p>\n<pre><code>    saif@Saif-Ubuntu:~/Desktop/Minecraft Server$ java -Xmx2048M -Xms2048M -jar forge-1.12.2- \n14.23.5.2854.jar\nA problem occurred running the Server launcher.java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at net.minecraftforge.fml.relauncher.ServerLaunchWrapper.run(ServerLaunchWrapper.java:70)\n    at net.minecraftforge.fml.relauncher.ServerLaunchWrapper.main(ServerLaunchWrapper.java:34)\nCaused by: java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')\n    at net.minecraft.launchwrapper.Launch.&lt;init&gt;(Launch.java:34)\n    at net.minecraft.launchwrapper.Launch.main(Launch.java:28)\n    ... 6 more\n</code></pre>\n<p>I tried uding jdk 11 and jdk 8 but for all I can tell neither work. Anyone know anything I can try?</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675330958,"post_id":75320520,"comment_id":132907023,"body_markdown":"Spring Boot 2.7 doesn&#39;t support HIbernate 6.1. Remove the hibernate dependency as the `spring-boot-starter-data-jpa` already has a compatible version. Or move to Spring Boot 3 (and also remove the dependency as again the compatible version is already being pulled in).","body":"Spring Boot 2.7 doesn&#39;t support HIbernate 6.1. Remove the hibernate dependency as the <code>spring-boot-starter-data-jpa</code> already has a compatible version. Or move to Spring Boot 3 (and also remove the dependency as again the compatible version is already being pulled in)."}],"owner":{"account_id":27683138,"reputation":1,"user_id":21131457,"display_name":"Zongbeen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675399661,"creation_date":1675327198,"question_id":75320520,"body_markdown":"I am working on java spring shopping mall project. I want to fix this error.  \r\n\r\nBelow is my code. Please fix my error.\r\n\r\n&gt; org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy113.save(Unknown Source)\r\n\tat com.maven_shopping.repository.ItemRepositoryTest.createItemTest(ItemRepositoryTest.java:32)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\r\nItem:\r\n\r\n```\r\ntype here\r\n```\r\n\r\nItemRepositoryTest :\r\n\r\n```\r\npackage com.maven_shopping.repository;\r\n\r\nimport com.maven_shopping.constant.ItemSellStatus;\r\nimport com.maven_shopping.entity.Item;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.TestPropertySource;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\nimport static org.junit.jupiter.api.Assertions.\\*;\r\n\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\nclass ItemRepositoryTest {\r\n@Autowired\r\nItemRepository itemRepository;\r\n\r\n    @Test\r\n    @DisplayName(&quot;ìí ì ì¥ íì¤í¸&quot;)\r\n    public void createItemTest() {\r\n        Item item = new Item();\r\n        item.setItemName(&quot;Test Product&quot;);\r\n        item.setPrice(10000);\r\n        item.setItemDetail(&quot;Test Product Detail&quot;);\r\n        item.setItemSellStatus(ItemSellStatus.SELL);\r\n        item.setStockNum(100);\r\n        item.setRegTime(LocalDateTime.now());\r\n        item.setUpdateTime(LocalDateTime.now());\r\n        Item savedItem = itemRepository.save(item);\r\n        System.out.println(savedItem.toString());\r\n    }\r\n\r\n}\r\n```\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.maven_shopping&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven_shopping&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;maven_shopping&lt;/name&gt;\r\n\t&lt;description&gt;maven_shopping project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\n#port setting\r\nserver.port=80\r\n\r\n#MySQL connect setting\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost::3306/shop?serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=****\r\n\r\n#show query console\r\nspring.jpa.properties.hibernate.show_sql=true\r\n\r\n#query hibernate formatting\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n#question mark parameter\r\nlogging.level.org.hibernate.type.descriptor.sql=trace\r\n\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\n\r\n##Thymeleaf cache ????\r\n#spring.thymeleaf.check-template-location=true\r\n#spring.thymeleaf.prefix=classpath:templates/\r\n#spring.thymeleaf.suffix=.html\r\n#spring.thymeleaf.cache=false\r\n\r\nspring.datasource.hikari.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/shop\r\nspring.datasource.hikari.username=root\r\nspring.datasource.hikari.password=****\r\nspring.datasource.hikari.pool-name=TestHikariPool\r\n```\r\n\r\napplication-test.properties :\r\n\r\n```\r\n# DataSource Setting\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:mem:test\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n\r\n#h2 Database dialect Setting\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nspring:\r\n  jpa:\r\n    show-sql: true\r\n  h2:\r\n    console:\r\n      enabled: true\r\n```","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet;;;;;","body":"<p>I am working on java spring shopping mall project. I want to fix this error.</p>\n<p>Below is my code. Please fix my error.</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\nat jdk.proxy2/jdk.proxy2.$Proxy113.save(Unknown Source)\nat com.maven_shopping.repository.ItemRepositoryTest.createItemTest(ItemRepositoryTest.java:32)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)</p>\n</blockquote>\n<p>Item:</p>\n<pre><code>type here\n</code></pre>\n<p>ItemRepositoryTest :</p>\n<pre><code>package com.maven_shopping.repository;\n\nimport com.maven_shopping.constant.ItemSellStatus;\nimport com.maven_shopping.entity.Item;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.TestPropertySource;\n\nimport java.time.LocalDateTime;\n\nimport static org.junit.jupiter.api.Assertions.\\*;\n\n@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\nclass ItemRepositoryTest {\n@Autowired\nItemRepository itemRepository;\n\n    @Test\n    @DisplayName(&quot;ìí ì ì¥ íì¤í¸&quot;)\n    public void createItemTest() {\n        Item item = new Item();\n        item.setItemName(&quot;Test Product&quot;);\n        item.setPrice(10000);\n        item.setItemDetail(&quot;Test Product Detail&quot;);\n        item.setItemSellStatus(ItemSellStatus.SELL);\n        item.setStockNum(100);\n        item.setRegTime(LocalDateTime.now());\n        item.setUpdateTime(LocalDateTime.now());\n        Item savedItem = itemRepository.save(item);\n        System.out.println(savedItem.toString());\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.maven_shopping&lt;/groupId&gt;\n    &lt;artifactId&gt;maven_shopping&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;maven_shopping&lt;/name&gt;\n    &lt;description&gt;maven_shopping project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>#port setting\nserver.port=80\n\n#MySQL connect setting\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost::3306/shop?serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=****\n\n#show query console\nspring.jpa.properties.hibernate.show_sql=true\n\n#query hibernate formatting\nspring.jpa.properties.hibernate.format_sql=true\n\n#question mark parameter\nlogging.level.org.hibernate.type.descriptor.sql=trace\n\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\n\n##Thymeleaf cache ????\n#spring.thymeleaf.check-template-location=true\n#spring.thymeleaf.prefix=classpath:templates/\n#spring.thymeleaf.suffix=.html\n#spring.thymeleaf.cache=false\n\nspring.datasource.hikari.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/shop\nspring.datasource.hikari.username=root\nspring.datasource.hikari.password=****\nspring.datasource.hikari.pool-name=TestHikariPool\n</code></pre>\n<p>application-test.properties :</p>\n<pre><code># DataSource Setting\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:test\nspring.datasource.username=sa\nspring.datasource.password=\n\n#h2 Database dialect Setting\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  jpa:\n    show-sql: true\n  h2:\n    console:\n      enabled: true\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":1,"creation_date":1390394592,"post_id":21283254,"comment_id":32070515,"body_markdown":"The error message says it all - remember that the Java language is case-sensitive...  But this won&#39;t do what you want as a String is not the same thing as a character array.","body":"The error message says it all - remember that the Java language is case-sensitive...  But this won&#39;t do what you want as a String is not the same thing as a character array."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1390394666,"post_id":21283254,"comment_id":32070570,"body_markdown":"JaVa iS cAse SeNsItIvE.","body":"JaVa iS cAse SeNsItIvE."},{"owner":{"account_id":3116309,"reputation":1315,"user_id":2637006,"accept_rate":50,"display_name":"Vinayak Pingale"},"score":0,"creation_date":1390395229,"post_id":21283254,"comment_id":32070958,"body_markdown":"1. `string[] to String[]` 2. `i+2 should be i+=2`. Though your str[0] = Welcome. So is this what you want.","body":"1. <code>string[] to String[]</code> 2. <code>i+2 should be i+=2</code>. Though your str[0] = Welcome. So is this what you want."}],"answers":[{"tags":[],"owner":{"account_id":2784074,"reputation":1439,"user_id":2395943,"accept_rate":50,"display_name":"sadhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390394568,"creation_date":1390394568,"answer_id":21283290,"question_id":21283254,"body_markdown":"    String str[]= new string[] {&quot;Welcome&quot;};\r\n\r\nshould be \r\n\r\n    String str[]= new String[] {&quot;Welcome&quot;};","title":"Printing alternate elements of a string array","body":"<pre><code>String str[]= new string[] {\"Welcome\"};\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>String str[]= new String[] {\"Welcome\"};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3871487,"reputation":314,"user_id":3206654,"display_name":"Alexander_Winter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390394582,"creation_date":1390394582,"answer_id":21283295,"question_id":21283254,"body_markdown":"You have an error.   \r\n\r\n     String str[]= new string[] --&gt; String str[]= new String[]","title":"Printing alternate elements of a string array","body":"<p>You have an error.   </p>\n\n<pre><code> String str[]= new string[] --&gt; String str[]= new String[]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390394595,"creation_date":1390394595,"answer_id":21283304,"question_id":21283254,"body_markdown":"Try:\r\n\r\n    String str = &quot;Welcome&quot;;\r\n    char[] strChars = str.toCharArray();\r\n    for(int i = 0; i &lt; strChars.length; i += 2) {  // go through all the characters\r\n        System.out.println(strChars[i]);\r\n    }","title":"Printing alternate elements of a string array","body":"<p>Try:</p>\n\n<pre><code>String str = \"Welcome\";\nchar[] strChars = str.toCharArray();\nfor(int i = 0; i &lt; strChars.length; i += 2) {  // go through all the characters\n    System.out.println(strChars[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390395176,"creation_date":1390394602,"answer_id":21283305,"question_id":21283254,"body_markdown":"  \r\n\r\nReplace\r\n\r\n    String str[]= new string[] {&quot;Welcome&quot;};\r\n    \r\n    to: \r\n    String str[]= new String[] {&quot;Welcome&quot;};\r\n\r\nFor the follow error:\r\n\r\n    Syntax error on token &quot;+&quot;, invalid AssignmentOperator\r\n\r\n    for (int i=0; i&lt;7; i++){\r\n\r\n    if(i%2 == 0) \r\n    {\r\n       System.out.println(str[i]);\r\n    }\r\n   }\r\n","title":"Printing alternate elements of a string array","body":"<p>Replace</p>\n\n<pre><code>String str[]= new string[] {\"Welcome\"};\n\nto: \nString str[]= new String[] {\"Welcome\"};\n</code></pre>\n\n<p>For the follow error:</p>\n\n<pre><code>Syntax error on token \"+\", invalid AssignmentOperator\n\nfor (int i=0; i&lt;7; i++){\n\nif(i%2 == 0) \n{\n   System.out.println(str[i]);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2287083,"reputation":4583,"user_id":2010838,"accept_rate":61,"display_name":"Vedant Terkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390403742,"creation_date":1390395792,"answer_id":21283729,"question_id":21283254,"body_markdown":"as every one stated:\r\n\r\nchange:\r\n\r\n    String str[]= new string[] {&quot;Welcome&quot;};\r\n\r\nto: \r\n\r\n    String str[]= new String[] {&quot;Welcome&quot;};\r\n\r\n**but why**?\r\n\r\nso here&#39;s my answer:\r\n\r\njava is strictly binded object oriented programming language.\r\neverything here is either class, object or method.\r\n\r\nIn Java, when you do:\r\n\r\n    String xyz = new String(&quot;abc&quot;);\r\n\r\nYou force the creation of a new String object of `String class`, this takes up some time and memory at time of creation.\r\n\r\nbut `string` on the other hand is treated as `literal`; which can&#39;t have its objects. and thus the error.\r\n\r\n**for the second error** :\r\n\r\nwe know that the syntax of for statement is,\r\n\r\n`for(initialization; condition;`**`increment/decrement`**`)`\r\n\r\nso as you note third condition isn&#39;t satisfiable in `i+2`,\r\nso change it to `i=i+2` or in short `i+=2`.\r\n\r\nthus you&#39;re getting that error.\r\n\r\nAlso ***you&#39;re creating array of String objects***. in which **`str[0]`th element is your string `&quot;Welcome&quot;`**.\r\nto access character from string at certain position we use `charAt(int position)` method for string objects.\r\n\r\nso here to access characters from `0`th string of `str` array, we&#39;ll use:\r\n\r\n**`str[0].charAt(position)`**.\r\n\r\n\r\nThus your final working code&#39;ll be:\r\n\r\n    public class AlternateStringArray {\r\n    \r\n       public static void main(String[] args) {\r\n    \r\n           String str[]= new String[] {&quot;Welcome&quot;};  //note change \r\n           for (int i=0; i&lt;7; i=i+2){  //note change \r\n               System.out.println(str[0].charAt(i)); //note change\r\n        }\r\n      }\r\n    }\r\n\r\nalso **instead of using fixed length `i&lt;7`**, i&#39;ll suggest to **get the length of string dynamically** using **`.length()`** method. as:\r\n\r\n**`i&lt;str[0].length()`**.\r\n\r\nso the code now is :\r\n\r\n    public class AlternateStringArray {\r\n    \r\n       public static void main(String[] args) {\r\n    \r\n           String str[]= new String[] {&quot;Welcome&quot;};  //note change \r\n           for (int i=0; i&lt;str[0].length(); i+=2){  //note change 2\r\n               System.out.println(str[0].charAt(i)); //note change\r\n        }\r\n      }\r\n    }\r\n\r\n***&lt;font color=&#39;magenta&#39;&gt;always do understand your code before writing it &lt;/font&gt;***:-)..\r\n\r\nhope it&#39;ll help you.... cheers !!","title":"Printing alternate elements of a string array","body":"<p>as every one stated:</p>\n\n<p>change:</p>\n\n<pre><code>String str[]= new string[] {\"Welcome\"};\n</code></pre>\n\n<p>to: </p>\n\n<pre><code>String str[]= new String[] {\"Welcome\"};\n</code></pre>\n\n<p><strong>but why</strong>?</p>\n\n<p>so here's my answer:</p>\n\n<p>java is strictly binded object oriented programming language.\neverything here is either class, object or method.</p>\n\n<p>In Java, when you do:</p>\n\n<pre><code>String xyz = new String(\"abc\");\n</code></pre>\n\n<p>You force the creation of a new String object of <code>String class</code>, this takes up some time and memory at time of creation.</p>\n\n<p>but <code>string</code> on the other hand is treated as <code>literal</code>; which can't have its objects. and thus the error.</p>\n\n<p><strong>for the second error</strong> :</p>\n\n<p>we know that the syntax of for statement is,</p>\n\n<p><code>for(initialization; condition;</code><strong><code>increment/decrement</code></strong><code>)</code></p>\n\n<p>so as you note third condition isn't satisfiable in <code>i+2</code>,\nso change it to <code>i=i+2</code> or in short <code>i+=2</code>.</p>\n\n<p>thus you're getting that error.</p>\n\n<p>Also <strong><em>you're creating array of String objects</em></strong>. in which <strong><code>str[0]</code>th element is your string <code>\"Welcome\"</code></strong>.\nto access character from string at certain position we use <code>charAt(int position)</code> method for string objects.</p>\n\n<p>so here to access characters from <code>0</code>th string of <code>str</code> array, we'll use:</p>\n\n<p><strong><code>str[0].charAt(position)</code></strong>.</p>\n\n<p>Thus your final working code'll be:</p>\n\n<pre><code>public class AlternateStringArray {\n\n   public static void main(String[] args) {\n\n       String str[]= new String[] {\"Welcome\"};  //note change \n       for (int i=0; i&lt;7; i=i+2){  //note change \n           System.out.println(str[0].charAt(i)); //note change\n    }\n  }\n}\n</code></pre>\n\n<p>also <strong>instead of using fixed length <code>i&lt;7</code></strong>, i'll suggest to <strong>get the length of string dynamically</strong> using <strong><code>.length()</code></strong> method. as:</p>\n\n<p><strong><code>i&lt;str[0].length()</code></strong>.</p>\n\n<p>so the code now is :</p>\n\n<pre><code>public class AlternateStringArray {\n\n   public static void main(String[] args) {\n\n       String str[]= new String[] {\"Welcome\"};  //note change \n       for (int i=0; i&lt;str[0].length(); i+=2){  //note change 2\n           System.out.println(str[0].charAt(i)); //note change\n    }\n  }\n}\n</code></pre>\n\n<p><em><strong>always do understand your code before writing it </em></strong>:-)..</p>\n\n<p>hope it'll help you.... cheers !!</p>\n"},{"tags":[],"owner":{"account_id":3116309,"reputation":1315,"user_id":2637006,"accept_rate":50,"display_name":"Vinayak Pingale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390396795,"creation_date":1390395937,"answer_id":21283787,"question_id":21283254,"body_markdown":"This is what you are expecting to do.\r\n\r\n    String str[] = new String[] { &quot;Welcome&quot; };\r\n    for (int i = 0; i &lt; 7; i += 2) {\r\n    \t\tchar c = str[0].charAt(i);\r\n    \t\tSystem.out.println(c);\r\n    }\r\n\r\nBut whatever approach you are using is not at all valid for many reasons. As Vakh has said you can use that kind of approach , clean and easy to understand.\r\n\r\nOR something like this.\r\n\r\n    String str = new String(&quot;Welcome&quot;);\r\n\t\tfor (int i = 0; i &lt; str.length(); i += 2) {\r\n\t\t\tSystem.out.println(i + &quot;::&quot; + str.charAt(i));\r\n\t\t}","title":"Printing alternate elements of a string array","body":"<p>This is what you are expecting to do.</p>\n\n<pre><code>String str[] = new String[] { \"Welcome\" };\nfor (int i = 0; i &lt; 7; i += 2) {\n        char c = str[0].charAt(i);\n        System.out.println(c);\n}\n</code></pre>\n\n<p>But whatever approach you are using is not at all valid for many reasons. As Vakh has said you can use that kind of approach , clean and easy to understand.</p>\n\n<p>OR something like this.</p>\n\n<pre><code>String str = new String(\"Welcome\");\n    for (int i = 0; i &lt; str.length(); i += 2) {\n        System.out.println(i + \"::\" + str.charAt(i));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3768372,"reputation":197,"user_id":3131214,"accept_rate":50,"display_name":"FlarrowVerse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390400265,"creation_date":1390400265,"answer_id":21285381,"question_id":21283254,"body_markdown":"Change your line\r\n\r\n    String str[]=new string[]{&quot;Welcome&quot;};\r\nto-\r\n\r\n    String str[]=new String[]{&quot;Welcome&quot;};","title":"Printing alternate elements of a string array","body":"<p>Change your line</p>\n\n<pre><code>String str[]=new string[]{\"Welcome\"};\n</code></pre>\n\n<p>to-</p>\n\n<pre><code>String str[]=new String[]{\"Welcome\"};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11306958,"reputation":61,"user_id":8291270,"display_name":"Ankush kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540483981,"creation_date":1540483981,"answer_id":52993827,"question_id":21283254,"body_markdown":"public class PrintAlternativeCharacters {\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\r\n\t\tString str = &quot;ROCKSTAR&quot;;\r\n\t\tString newStr=&quot;&quot;;\r\n\t\t\r\n\t\t//EXPECTED OUT PUT :: OR-KC-TS-RA\r\n\t\t\r\n\t\tchar[] a = str.toCharArray();\r\n\t\t\r\n\t\tSystem.out.println(&quot;*****************&quot;+a.length);\r\n\t\t\r\n\t\tfor(int i = 0 ; i &lt; a.length ; i=i+2)\r\n\t\t{\r\n\t\t\tnewStr=newStr+str.charAt(i+1)+str.charAt(i);\r\n\t\t}\r\n\r\n\t\t\r\n\t\tSystem.out.println(newStr);\r\n\t}\r\n\r\n}","title":"Printing alternate elements of a string array","body":"<p>public class PrintAlternativeCharacters {</p>\n\n<pre><code>public static void main(String[] args)\n{\n\n    String str = \"ROCKSTAR\";\n    String newStr=\"\";\n\n    //EXPECTED OUT PUT :: OR-KC-TS-RA\n\n    char[] a = str.toCharArray();\n\n    System.out.println(\"*****************\"+a.length);\n\n    for(int i = 0 ; i &lt; a.length ; i=i+2)\n    {\n        newStr=newStr+str.charAt(i+1)+str.charAt(i);\n    }\n\n\n    System.out.println(newStr);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675399464,"creation_date":1675397975,"answer_id":75331488,"question_id":21283254,"body_markdown":"I am pretty late but may this answer help someone. I used java 8 and you can do this in one line of code.\r\n\r\n\r\nLet&#39;s say we have List of String as below (you can take String array and create a list of it)\r\n\r\nspecial\r\n\r\n    List&lt;String&gt; names = Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;);\r\n\r\nIn such case always get range of IntStream add filter like below \r\n\r\n    IntStream.range(0, names.size()).filter(f -&gt; f%2 == 1)\r\n\r\nif you print above line of code, it is going to print odd element (elements on 1, 3, 5 etc.) as filter condition is f%2 == 1 and if you want to get even elements, then change filter as f%2 == 0, this will give you elements at 0, 2, 4 etc.\r\n\r\nNow it&#39;s just matter of getting elements from the list, to do this, you can use function *`mapToObj`* as below\r\n\r\n**To get Odd element from the list** \r\n\r\n    IntStream.range(0, names.size()).filter(f -&gt; f%2 == 1).mapToObj(names::get).forEach(System.out::println);\r\n\r\n**To get even element from the list** \r\n\r\n    IntStream.range(0, names.size()).filter(f -&gt; f%2 == 0).mapToObj(names::get).forEach(System.out::println);\r\n\r\n\r\nYour specific problem \r\n\r\n    List&lt;String&gt; welcome = Arrays.asList(&quot;Welcome&quot;.split(&quot;&quot;));\r\n    IntStream.range(0, newA.size()).filter(f -&gt; f%2 == 0).mapToObj(newA::get).forEach(System.out::println);\r\n\r\nThis will print exactly what you want!\r\n\r\nHappy coding!\r\n","title":"Printing alternate elements of a string array","body":"<p>I am pretty late but may this answer help someone. I used java 8 and you can do this in one line of code.</p>\n<p>Let's say we have List of String as below (you can take String array and create a list of it)</p>\n<p>special</p>\n<pre><code>List&lt;String&gt; names = Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;);\n</code></pre>\n<p>In such case always get range of IntStream add filter like below</p>\n<pre><code>IntStream.range(0, names.size()).filter(f -&gt; f%2 == 1)\n</code></pre>\n<p>if you print above line of code, it is going to print odd element (elements on 1, 3, 5 etc.) as filter condition is f%2 == 1 and if you want to get even elements, then change filter as f%2 == 0, this will give you elements at 0, 2, 4 etc.</p>\n<p>Now it's just matter of getting elements from the list, to do this, you can use function <em><code>mapToObj</code></em> as below</p>\n<p><strong>To get Odd element from the list</strong></p>\n<pre><code>IntStream.range(0, names.size()).filter(f -&gt; f%2 == 1).mapToObj(names::get).forEach(System.out::println);\n</code></pre>\n<p><strong>To get even element from the list</strong></p>\n<pre><code>IntStream.range(0, names.size()).filter(f -&gt; f%2 == 0).mapToObj(names::get).forEach(System.out::println);\n</code></pre>\n<p>Your specific problem</p>\n<pre><code>List&lt;String&gt; welcome = Arrays.asList(&quot;Welcome&quot;.split(&quot;&quot;));\nIntStream.range(0, newA.size()).filter(f -&gt; f%2 == 0).mapToObj(newA::get).forEach(System.out::println);\n</code></pre>\n<p>This will print exactly what you want!</p>\n<p>Happy coding!</p>\n"}],"owner":{"account_id":3890153,"reputation":125,"user_id":3220565,"accept_rate":0,"display_name":"user3220565"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":9,"score":0,"last_activity_date":1675399464,"creation_date":1390394458,"question_id":21283254,"body_markdown":"I am having trouble executing the code for Printing alternate elements of a string array.\r\n\r\n I have declared a string &quot;welcome&quot; and I want to read the alternative elements like &quot;W, l, o, etc.\r\n\r\n    //Print alternate elements of a string array.\r\n\r\n    public class AlternateStringArray {\r\n\r\n       public static void main(String[] args) {\r\n \r\n           String str[]= new string[] {&quot;Welcome&quot;};\r\n\r\n           for (int i=0; i&lt;7; i+2){\r\n \r\n           System.out.println(str[i]);\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n----------\r\nReceiving the below error:\r\n\r\n\tType mismatch: cannot convert from string[] to String[]\r\n\r\n\tType mismatch: cannot convert from String to string\r\n\r\n\tSyntax error on token &quot;+&quot;, invalid AssignmentOperator\r\n\r\n**Please help.**","title":"Printing alternate elements of a string array","body":"<p>I am having trouble executing the code for Printing alternate elements of a string array.</p>\n\n<p>I have declared a string \"welcome\" and I want to read the alternative elements like \"W, l, o, etc.</p>\n\n<pre><code>//Print alternate elements of a string array.\n\npublic class AlternateStringArray {\n\n   public static void main(String[] args) {\n\n       String str[]= new string[] {\"Welcome\"};\n\n       for (int i=0; i&lt;7; i+2){\n\n       System.out.println(str[i]);\n\n    }\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>Receiving the below error:</p>\n\n<pre><code>Type mismatch: cannot convert from string[] to String[]\n\nType mismatch: cannot convert from String to string\n\nSyntax error on token \"+\", invalid AssignmentOperator\n</code></pre>\n\n<p><strong>Please help.</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6808041,"reputation":2384,"user_id":5456522,"display_name":"The Scientific Method"},"score":0,"creation_date":1675397243,"post_id":75331406,"comment_id":132924811,"body_markdown":"The main method should be within the class Name scope","body":"The main method should be within the class Name scope"}],"answers":[{"tags":[],"owner":{"account_id":12415371,"reputation":29,"user_id":9045207,"display_name":"Walsh grat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675397895,"creation_date":1675397444,"answer_id":75331447,"question_id":75331406,"body_markdown":"Yes, you have an error in your constructor. The constructor methods should have a return type of &quot;Name&quot;, not &quot;void&quot;.\r\n\r\nChange:\r\n\r\n\r\n    //Default Constructor\r\n    public void Name()\r\n    {\r\n    //Do nothing\r\n    }\r\n\r\n    //Other Constructor\r\n    public void Name(String firstName, String lastName)\r\n    {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\nto:\r\n\r\n\r\n\r\n    //Default Constructor\r\n    public Name()\r\n    {\r\n        //Do nothing\r\n    }\r\n\r\n    //Other Constructor\r\n    public Name(String firstName, String lastName)\r\n    {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }","title":"Is the constructor missing something?","body":"<p>Yes, you have an error in your constructor. The constructor methods should have a return type of &quot;Name&quot;, not &quot;void&quot;.</p>\n<p>Change:</p>\n<pre><code>//Default Constructor\npublic void Name()\n{\n//Do nothing\n}\n\n//Other Constructor\npublic void Name(String firstName, String lastName)\n{\n    this.firstName = firstName;\n    this.lastName = lastName;\n}\n</code></pre>\n<p>to:</p>\n<pre><code>//Default Constructor\npublic Name()\n{\n    //Do nothing\n}\n\n//Other Constructor\npublic Name(String firstName, String lastName)\n{\n    this.firstName = firstName;\n    this.lastName = lastName;\n}\n</code></pre>\n"}],"owner":{"account_id":27691124,"reputation":1,"user_id":21137794,"display_name":"JohnnyBJorden"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675431918,"answer_count":1,"score":-1,"last_activity_date":1675397895,"creation_date":1675397095,"question_id":75331406,"body_markdown":"I keep getting compilation error for name constructor, what am I missing/doing wrong here :/\r\n\r\n//I am new to coding in general, and as I have recently learnt java, I&#39;m trying to create a name constructor that takes in the first name and last name from a .txt file, using scanner function, which will print the names onto the terminal when code is executed, but I&#39;m facing some compilation error:\r\n\r\nd.java:330: error: constructor Name in class Name cannot be applied to given types;\r\n\r\n\r\n\r\nMy code:\r\n```\r\nclass Name\r\n{\r\n\tprivate String firstName, lastName;\r\n\t\r\n\t//Default Constructor\r\n\tpublic void Name()\r\n\t{\r\n\t\t//Do nothing\r\n\t}\r\n\t\r\n\t//Other Constructor\r\n\tpublic void Name(String firstName, String lastName)\r\n\t{\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\t\r\n\t//Copy Constructor\r\n\tpublic Name(Name n)\r\n\t{\r\n\t\tthis.firstName = n.firstName;\r\n\t\tthis.lastName = n.lastName;\r\n\t}\r\n\t\r\n\tpublic String getFirstName()\r\n\t{\r\n\t\treturn firstName;\r\n\t}\r\n\t\r\n\tpublic String getLastName()\r\n\t{\r\n\t\treturn lastName;\r\n\t}\r\n\t\r\n\tpublic void setName(String firstName, String lastName)\r\n\t{\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\t\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn &quot;Name: &quot; + firstName + &quot;, &quot; + lastName + &quot;\\n&quot;;\r\n\t}\r\n}\r\n\r\n\r\npublic static void main (String [ ] args) throws IOException\r\n\t{\r\n             //instance variables\r\n\t     String firstName, lastName;\r\n\t     Name name;\r\n\r\n             //Construct a Scanner\r\n             Scanner input = new Scanner (new File (&quot;input.txt&quot;));\r\n                \r\n             //Input variables from input.txt\r\n             firstName = input.nextLine();\r\n\t     lastName = input.nextLine();\r\n\r\n             //Construct the object\r\n             Name n1 = new Name (firstName, lastName);\r\n\r\n             Profile p1 = new Profile (n1, d1, h1, weight, year);\r\n         }\r\n\r\n             Name n1 = new Name (firstName, lastName);\r\n\t\t\r\n```\r\n","title":"Is the constructor missing something?","body":"<p>I keep getting compilation error for name constructor, what am I missing/doing wrong here :/</p>\n<p>//I am new to coding in general, and as I have recently learnt java, I'm trying to create a name constructor that takes in the first name and last name from a .txt file, using scanner function, which will print the names onto the terminal when code is executed, but I'm facing some compilation error:</p>\n<p>d.java:330: error: constructor Name in class Name cannot be applied to given types;</p>\n<p>My code:</p>\n<pre><code>class Name\n{\n    private String firstName, lastName;\n    \n    //Default Constructor\n    public void Name()\n    {\n        //Do nothing\n    }\n    \n    //Other Constructor\n    public void Name(String firstName, String lastName)\n    {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n    \n    //Copy Constructor\n    public Name(Name n)\n    {\n        this.firstName = n.firstName;\n        this.lastName = n.lastName;\n    }\n    \n    public String getFirstName()\n    {\n        return firstName;\n    }\n    \n    public String getLastName()\n    {\n        return lastName;\n    }\n    \n    public void setName(String firstName, String lastName)\n    {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n    \n    public String toString()\n    {\n        return &quot;Name: &quot; + firstName + &quot;, &quot; + lastName + &quot;\\n&quot;;\n    }\n}\n\n\npublic static void main (String [ ] args) throws IOException\n    {\n             //instance variables\n         String firstName, lastName;\n         Name name;\n\n             //Construct a Scanner\n             Scanner input = new Scanner (new File (&quot;input.txt&quot;));\n                \n             //Input variables from input.txt\n             firstName = input.nextLine();\n         lastName = input.nextLine();\n\n             //Construct the object\n             Name n1 = new Name (firstName, lastName);\n\n             Profile p1 = new Profile (n1, d1, h1, weight, year);\n         }\n\n             Name n1 = new Name (firstName, lastName);\n        \n</code></pre>\n"},{"tags":["java","binary","bitwise-operators"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1675397536,"post_id":75331425,"comment_id":132924848,"body_markdown":"What don&#39;t you understand about the two linked posts? Are you aware that an `int` has 4 bytes?","body":"What don&#39;t you understand about the two linked posts? Are you aware that an <code>int</code> has 4 bytes?"},{"owner":{"account_id":20738748,"reputation":249,"user_id":15228973,"display_name":"Ken Masters"},"score":0,"creation_date":1675397865,"post_id":75331425,"comment_id":132924891,"body_markdown":"@Sweeper, why does the out.write() call 4 times with different parameters ? What does the parameters themselves mean for the out.write() ?","body":"@Sweeper, why does the out.write() call 4 times with different parameters ? What does the parameters themselves mean for the out.write() ?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1675398306,"post_id":75331425,"comment_id":132924950,"body_markdown":"Well, an `int` has 4 bytes in it, and all 4 of them needs to be written. Each `write` call writes one of the bytes in the `int`. That&#39;s why I asked you, &quot;are you aware that an int has 4 bytes?&quot;","body":"Well, an <code>int</code> has 4 bytes in it, and all 4 of them needs to be written. Each <code>write</code> call writes one of the bytes in the <code>int</code>. That&#39;s why I asked you, &quot;are you aware that an int has 4 bytes?&quot;"},{"owner":{"account_id":20738748,"reputation":249,"user_id":15228973,"display_name":"Ken Masters"},"score":0,"creation_date":1675399234,"post_id":75331425,"comment_id":132925073,"body_markdown":"ohhh, it means that the v &gt;&gt;&gt; 24 shifts the first 8 bits to the right most part and the (v &gt;&gt;&gt; 24) &amp; 0xFF makes the leading 24 bits to 0 - then the resultant bits is written into the file. Each of the next out.write() method, it writes the next 8 bits into the byte stream.\nHope that my understanding correctly :)","body":"ohhh, it means that the v &gt;&gt;&gt; 24 shifts the first 8 bits to the right most part and the (v &gt;&gt;&gt; 24) &amp; 0xFF makes the leading 24 bits to 0 - then the resultant bits is written into the file. Each of the next out.write() method, it writes the next 8 bits into the byte stream. Hope that my understanding correctly :)"}],"owner":{"account_id":20738748,"reputation":249,"user_id":15228973,"display_name":"Ken Masters"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675397260,"creation_date":1675397260,"question_id":75331425,"body_markdown":"I am learning about Java and I have the code as below:\r\n\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            try (DataOutputStream testFile = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(&quot;test_file.txt&quot;)))) {\r\n                testFile.writeInt(4);\r\n            }\r\n        }\r\n    }\r\n\r\nThe code above would write the number 4 as binary into the byte stream then appending it to the text_file.txt but when I checked the writeInt() method of the DataOutputStream class, it is shown as:\r\n\r\n    public final void writeInt(int v) throws IOException {\r\n        out.write((v &gt;&gt;&gt; 24) &amp; 0xFF);\r\n        out.write((v &gt;&gt;&gt; 16) &amp; 0xFF);\r\n        out.write((v &gt;&gt;&gt;  8) &amp; 0xFF);\r\n        out.write((v &gt;&gt;&gt;  0) &amp; 0xFF);\r\n        incCount(4);\r\n    }\r\nI did some research about &gt;&gt;&gt; and &amp; from [here][1] and [here][2] but still I can not figure out what the code above really doing under the hood\r\n\r\nCan someone elaborate more for me on this ?\r\n\r\nKind regards,\r\n\r\nKen\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19058859/what-does-mean-in-java\r\n  [2]: https://stackoverflow.com/questions/11380062/what-does-value-0xff-do-in-java","title":"What is the purpose of &gt;&gt;&gt; and &amp; (bitwise operators) in the writeInt method of the DataOutputStream class in Java?","body":"<p>I am learning about Java and I have the code as below:</p>\n<pre><code>import java.io.BufferedOutputStream;\nimport java.io.DataOutputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        try (DataOutputStream testFile = new DataOutputStream(new BufferedOutputStream(new FileOutputStream(&quot;test_file.txt&quot;)))) {\n            testFile.writeInt(4);\n        }\n    }\n}\n</code></pre>\n<p>The code above would write the number 4 as binary into the byte stream then appending it to the text_file.txt but when I checked the writeInt() method of the DataOutputStream class, it is shown as:</p>\n<pre><code>public final void writeInt(int v) throws IOException {\n    out.write((v &gt;&gt;&gt; 24) &amp; 0xFF);\n    out.write((v &gt;&gt;&gt; 16) &amp; 0xFF);\n    out.write((v &gt;&gt;&gt;  8) &amp; 0xFF);\n    out.write((v &gt;&gt;&gt;  0) &amp; 0xFF);\n    incCount(4);\n}\n</code></pre>\n<p>I did some research about &gt;&gt;&gt; and &amp; from <a href=\"https://stackoverflow.com/questions/19058859/what-does-mean-in-java\">here</a> and <a href=\"https://stackoverflow.com/questions/11380062/what-does-value-0xff-do-in-java\">here</a> but still I can not figure out what the code above really doing under the hood</p>\n<p>Can someone elaborate more for me on this ?</p>\n<p>Kind regards,</p>\n<p>Ken</p>\n"},{"tags":["java","android","gradle","android-version"],"comments":[{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1537866681,"post_id":52492459,"comment_id":91929470,"body_markdown":"Did you see https://developer.android.com/studio/write/java8-support? It explains the feature of Java 1.8 that are not supported on lower API levels.","body":"Did you see <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/java8-support</a>? It explains the feature of Java 1.8 that are not supported on lower API levels."}],"answers":[{"tags":[],"owner":{"account_id":195025,"reputation":13170,"user_id":437679,"accept_rate":63,"display_name":"Martin Algesten"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1564759859,"creation_date":1564759859,"answer_id":57329533,"question_id":52492459,"body_markdown":"The android toolchain does some extra steps before the code is run on your device:\r\n\r\n`.java` -&gt; `.class` -&gt; `.class (desugared)` -&gt; `.dex`\r\n\r\nThis is described here: https://developer.android.com/studio/write/java8-support\r\n\r\nThe desugaring step is responsible for turning your modern bytecode into something that works on older VMs. \r\n\r\nHow backwards compatible the desugaring makes your code depends on the `minSdkVersion`. If your project makes a combination of `sourceCompatibility`/`targetCompatibility` and `minSdkVersion` that isn&#39;t possible, the compiler will tell you. \r\n\r\nThis also goes for byte code from 3rd party libraries. Errors look like this:\r\n\r\n    Error: Static interface methods are only supported starting with Android N (--min-api 24): okhttp3.Request\r\n\r\n(this specific problem came from using 1.7 source compatibility with okhttp3 4.0.1 and went away by using target 1.8)","title":"How does sourceCompatibility and targetCompatibility impact number of supported devices?","body":"<p>The android toolchain does some extra steps before the code is run on your device:</p>\n\n<p><code>.java</code> -> <code>.class</code> -> <code>.class (desugared)</code> -> <code>.dex</code></p>\n\n<p>This is described here: <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"noreferrer\">https://developer.android.com/studio/write/java8-support</a></p>\n\n<p>The desugaring step is responsible for turning your modern bytecode into something that works on older VMs. </p>\n\n<p>How backwards compatible the desugaring makes your code depends on the <code>minSdkVersion</code>. If your project makes a combination of <code>sourceCompatibility</code>/<code>targetCompatibility</code> and <code>minSdkVersion</code> that isn't possible, the compiler will tell you. </p>\n\n<p>This also goes for byte code from 3rd party libraries. Errors look like this:</p>\n\n<pre><code>Error: Static interface methods are only supported starting with Android N (--min-api 24): okhttp3.Request\n</code></pre>\n\n<p>(this specific problem came from using 1.7 source compatibility with okhttp3 4.0.1 and went away by using target 1.8)</p>\n"}],"owner":{"account_id":4709931,"reputation":5615,"user_id":3810748,"accept_rate":98,"display_name":"AlanSTACK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8141,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":57329533,"answer_count":1,"score":35,"last_activity_date":1675396382,"creation_date":1537859233,"question_id":52492459,"body_markdown":"## What I understand so far\r\n\r\n`minSdkVersion 21` - means that the device must have at least Android API level 21 or higher installed in order to install the app. (This value should be set as low as possible to help reach the largest number of users while still maintaining all critical app functionality.)\r\n\r\n`targetSdkVersion 26` - means that it was developed for the Android API version 26, allowing the device to determine if compatibility mode or optional features should be enabled. (This value should be set as high as possible to allow developers to access new features and manage any deprecated API calls.)\r\n\r\n## What I am confused about\r\n\r\nBut what about the configurations `sourceCompatibility` and `targetCompatibility`? I have been receiving conflicting information about which JDK version should be used.\r\n\r\nAn example of this is seen in the project structure settings in Android Studio, where using the default JDK version that comes with Android Studio (version 1.8) is recommended by the tooltips.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, when I read other online sources such as the following:\r\n\r\n* https://www.christopherprice.net/which-jdk-do-i-use-with-android-studio-3686.html\r\n\r\n* https://stackoverflow.com/questions/17869069/which-jdk-version-language-level-is-required-for-android-studio\r\n\r\nIt appears that Android primarily runs on Java version 1.7, with only limited support for some features of version 1.8. This suggests that using version 1.7 would be the more logical choice.\r\n\r\n## Questions that I have\r\n\r\n**Question 1)** Which JDK version, 1.7 or 1.8, should I choose for maximum compatibility with both new and old Android devices? Does this configuration even make a difference in terms of reachable market size?\r\n\r\n**Question 2)** Is the choice of `sourceCompatibility` and `targetCompatibility` (and JDK version) only relevant during the compilation of .java files to .class files and have no effect once the Java bytecode is generated? Or does the chosen JDK version affect the end user&#39;s experience, for example if their device&#39;s JVM can&#39;t interpret version 1.8 bytecode, causing the app to crash during runtime?\r\n\r\n**Question 3)** What are the consequences of setting `minSdkVersion` to a low value (e.g. 10) and `sourceCompatibility` and `targetCompatibility` to a high value (e.g. 1.8)? Can I trust that Android Studio will detect all compatibility issues and if it builds an APK, it will function properly? Or can it still be built and installed on devices with API level &gt;= 10, but crash at runtime if the device&#39;s JVM can&#39;t handle version 1.8?\r\n\r\n[1]: https://i.stack.imgur.com/dQTMn.png","title":"How does sourceCompatibility and targetCompatibility impact number of supported devices?","body":"<h2>What I understand so far</h2>\n<p><code>minSdkVersion 21</code> - means that the device must have at least Android API level 21 or higher installed in order to install the app. (This value should be set as low as possible to help reach the largest number of users while still maintaining all critical app functionality.)</p>\n<p><code>targetSdkVersion 26</code> - means that it was developed for the Android API version 26, allowing the device to determine if compatibility mode or optional features should be enabled. (This value should be set as high as possible to allow developers to access new features and manage any deprecated API calls.)</p>\n<h2>What I am confused about</h2>\n<p>But what about the configurations <code>sourceCompatibility</code> and <code>targetCompatibility</code>? I have been receiving conflicting information about which JDK version should be used.</p>\n<p>An example of this is seen in the project structure settings in Android Studio, where using the default JDK version that comes with Android Studio (version 1.8) is recommended by the tooltips.</p>\n<p><a href=\"https://i.stack.imgur.com/dQTMn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dQTMn.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I read other online sources such as the following:</p>\n<ul>\n<li><p><a href=\"https://www.christopherprice.net/which-jdk-do-i-use-with-android-studio-3686.html\" rel=\"nofollow noreferrer\">https://www.christopherprice.net/which-jdk-do-i-use-with-android-studio-3686.html</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/17869069/which-jdk-version-language-level-is-required-for-android-studio\">Which JDK version (Language Level) is required for Android Studio?</a></p>\n</li>\n</ul>\n<p>It appears that Android primarily runs on Java version 1.7, with only limited support for some features of version 1.8. This suggests that using version 1.7 would be the more logical choice.</p>\n<h2>Questions that I have</h2>\n<p><strong>Question 1)</strong> Which JDK version, 1.7 or 1.8, should I choose for maximum compatibility with both new and old Android devices? Does this configuration even make a difference in terms of reachable market size?</p>\n<p><strong>Question 2)</strong> Is the choice of <code>sourceCompatibility</code> and <code>targetCompatibility</code> (and JDK version) only relevant during the compilation of .java files to .class files and have no effect once the Java bytecode is generated? Or does the chosen JDK version affect the end user's experience, for example if their device's JVM can't interpret version 1.8 bytecode, causing the app to crash during runtime?</p>\n<p><strong>Question 3)</strong> What are the consequences of setting <code>minSdkVersion</code> to a low value (e.g. 10) and <code>sourceCompatibility</code> and <code>targetCompatibility</code> to a high value (e.g. 1.8)? Can I trust that Android Studio will detect all compatibility issues and if it builds an APK, it will function properly? Or can it still be built and installed on devices with API level &gt;= 10, but crash at runtime if the device's JVM can't handle version 1.8?</p>\n"},{"tags":["java","spring-boot","ssl"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675325107,"post_id":75320171,"comment_id":132905363,"body_markdown":"You don&#39;t set those in `application.properties`. What do you need this for? If they are for tomcat (for https) you can configure some tomcat specific properties.","body":"You don&#39;t set those in <code>application.properties</code>. What do you need this for? If they are for tomcat (for https) you can configure some tomcat specific properties."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675325119,"post_id":75320171,"comment_id":132905365,"body_markdown":"where is your file found? it seems as if it&#39;s either not recognized as a properties/yml file, or it is in the wrong location. \nAnd why did you go from truststore.jks to truststore.p12 ? the values shouldn&#39;t change just because you change the way of configuring them","body":"where is your file found? it seems as if it&#39;s either not recognized as a properties/yml file, or it is in the wrong location.  And why did you go from truststore.jks to truststore.p12 ? the values shouldn&#39;t change just because you change the way of configuring them"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675326884,"post_id":75320171,"comment_id":132905819,"body_markdown":"Hey @Stultuske, typo, and the property file should be located correctly. all my other properties are taking effect, just not those javax.net.ssl. trustStore","body":"Hey @Stultuske, typo, and the property file should be located correctly. all my other properties are taking effect, just not those javax.net.ssl. trustStore"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675327021,"post_id":75320171,"comment_id":132905848,"body_markdown":"key @M.Deinum, I understand we can set them in the code (as I did) or in environment properties, or when launching the jar. However, I am wondering if we can set those in application.properties, where literally all my other properties are (instead of yet another place). I need those to configure http clients from third party jar that are looking at those values","body":"key @M.Deinum, I understand we can set them in the code (as I did) or in environment properties, or when launching the jar. However, I am wondering if we can set those in application.properties, where literally all my other properties are (instead of yet another place). I need those to configure http clients from third party jar that are looking at those values"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675327083,"post_id":75320171,"comment_id":132905862,"body_markdown":"@PatPanda sure you can, using a work around. Whether it&#39;s the best way to do so, though, is open for debate. This question shows you one way: https://stackoverflow.com/questions/27724544/specifying-trust-store-information-in-spring-boot-application-properties","body":"@PatPanda sure you can, using a work around. Whether it&#39;s the best way to do so, though, is open for debate. This question shows you one way: <a href=\"https://stackoverflow.com/questions/27724544/specifying-trust-store-information-in-spring-boot-application-properties\" title=\"specifying trust store information in spring boot application properties\">stackoverflow.com/questions/27724544/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675331205,"post_id":75320171,"comment_id":132907097,"body_markdown":"As I stated, you don&#39;t set those in `application.properties` you still would need something that exposes them as system properties. That is build in by default so you would have to build your own solution for that. Problem is if you want to load the properties you either have to make sure they execute early (maybe an `EnvironmentPostProcessor`) or some custom code that runs before that and loads the file itself (but that beats the purpose) or you find a different way to setup the 3rd party dependency (with explicitly setting the key-/truststore on it instead of relying on system properties).","body":"As I stated, you don&#39;t set those in <code>application.properties</code> you still would need something that exposes them as system properties. That is build in by default so you would have to build your own solution for that. Problem is if you want to load the properties you either have to make sure they execute early (maybe an <code>EnvironmentPostProcessor</code>) or some custom code that runs before that and loads the file itself (but that beats the purpose) or you find a different way to setup the 3rd party dependency (with explicitly setting the key-/truststore on it instead of relying on system properties)."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675395948,"creation_date":1675349077,"answer_id":75324820,"question_id":75320171,"body_markdown":"The properties file is parsed after `SpringApplication.run` is executed, and are therefore runtime arguments, not available as System properties.\r\n\r\nAs [linked in the comments](https://stackoverflow.com/questions/27724544/specifying-trust-store-information-in-spring-boot-application-properties), you need some PostConstruct hook to execute `System.setProperty` after Spring properties have loaded \r\n\r\nYou can still use external files such as `.env` (plus shell plugins to load this file automatically) to map environment variables, such as `JAVA_TOOL_OPTIONS` with any system properties you need, it just can&#39;t be `application.properties`","title":"Java SpringBoot: application.properties for javax.net.ssl. trustStore trustStorePassword keyStore keyStorePassword","body":"<p>The properties file is parsed after <code>SpringApplication.run</code> is executed, and are therefore runtime arguments, not available as System properties.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/27724544/specifying-trust-store-information-in-spring-boot-application-properties\">linked in the comments</a>, you need some PostConstruct hook to execute <code>System.setProperty</code> after Spring properties have loaded</p>\n<p>You can still use external files such as <code>.env</code> (plus shell plugins to load this file automatically) to map environment variables, such as <code>JAVA_TOOL_OPTIONS</code> with any system properties you need, it just can't be <code>application.properties</code></p>\n"},{"tags":[],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675395997,"creation_date":1675393484,"answer_id":75331092,"question_id":75320171,"body_markdown":"Based on:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class MyApplication  {\r\n\r\n\t@Value(&quot;${my.property.ssl.trustStore}&quot;)\r\n\tprivate String trustStore;\r\n\t@Value(&quot;${my.property.ssl.trustStorePassword}&quot;)\r\n\tprivate String trustStorePassword;\r\n\t@Value(&quot;${my.property.ssl.keyStore}&quot;)\r\n\tprivate String keyStore;\r\n\t@Value(&quot;${my.property.ssl.keyStorePassword}&quot;)\r\n\tprivate String keyStorePassword;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n\r\n\t@PostConstruct\r\n\tvoid postConstruct() {\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustStore);\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, trustStorePassword);\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, keyStore);\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, keyStorePassword);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWill pick up from application.properties:\r\n\r\n```\r\nmy.property.ssl.trustStore=truststore.jks\r\nmy.property.ssl.trustStorePassword=changeit\r\nmy.property.ssl.keyStore=keystore.jks\r\nmy.property.ssl.keyStorePassword=changeit\r\n```","title":"Java SpringBoot: application.properties for javax.net.ssl. trustStore trustStorePassword keyStore keyStorePassword","body":"<p>Based on:</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication  {\n\n    @Value(&quot;${my.property.ssl.trustStore}&quot;)\n    private String trustStore;\n    @Value(&quot;${my.property.ssl.trustStorePassword}&quot;)\n    private String trustStorePassword;\n    @Value(&quot;${my.property.ssl.keyStore}&quot;)\n    private String keyStore;\n    @Value(&quot;${my.property.ssl.keyStorePassword}&quot;)\n    private String keyStorePassword;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n    @PostConstruct\n    void postConstruct() {\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustStore);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, trustStorePassword);\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, keyStore);\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, keyStorePassword);\n    }\n\n}\n</code></pre>\n<p>Will pick up from application.properties:</p>\n<pre><code>my.property.ssl.trustStore=truststore.jks\nmy.property.ssl.trustStorePassword=changeit\nmy.property.ssl.keyStore=keystore.jks\nmy.property.ssl.keyStorePassword=changeit\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675395997,"creation_date":1675325001,"question_id":75320171,"body_markdown":"Small question regarding Java SpringBoot application.properties please.\r\n\r\nI have a simple SpringBoot web application, and during the business flow, it needs the ```javax.net.ssl. trustStore trustStorePassword keyStore keyStorePassword``` to be set.\r\n\r\nTherefore, in the main, this is what I tried:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class MyApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.jks&quot;);\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;keystore.jks&quot;);\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAnd I verified, this works fine. (removing the property from here will cause my app to fail) Therefore, I would believe those properties works. \r\n\r\nI understand I can pass those as command line, but I would like to use application.properties, where all my other properties are.\r\n\r\nNow, I would like to externalize those properties into the application.properties / yml please.\r\n\r\nWhat I tried:\r\n\r\n```\r\nserver.port=8080\r\njavax.net.ssl.trustStore=truststore.jks\r\njavax.net.ssl.trustStorePassword=changeit\r\njavax.net.ssl.keyStore=keystore.jks\r\njavax.net.ssl.keyStorePassword=changeit\r\n```\r\n\r\nHowever, those properties are not taken account, I am getting the same behaviour as if I did not set anything.\r\n\r\nMay I ask, how to set those system properties in application.properties please?\r\n\r\nThank you","title":"Java SpringBoot: application.properties for javax.net.ssl. trustStore trustStorePassword keyStore keyStorePassword","body":"<p>Small question regarding Java SpringBoot application.properties please.</p>\n<p>I have a simple SpringBoot web application, and during the business flow, it needs the <code>javax.net.ssl. trustStore trustStorePassword keyStore keyStorePassword</code> to be set.</p>\n<p>Therefore, in the main, this is what I tried:</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.jks&quot;);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;keystore.jks&quot;);\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>And I verified, this works fine. (removing the property from here will cause my app to fail) Therefore, I would believe those properties works.</p>\n<p>I understand I can pass those as command line, but I would like to use application.properties, where all my other properties are.</p>\n<p>Now, I would like to externalize those properties into the application.properties / yml please.</p>\n<p>What I tried:</p>\n<pre><code>server.port=8080\njavax.net.ssl.trustStore=truststore.jks\njavax.net.ssl.trustStorePassword=changeit\njavax.net.ssl.keyStore=keystore.jks\njavax.net.ssl.keyStorePassword=changeit\n</code></pre>\n<p>However, those properties are not taken account, I am getting the same behaviour as if I did not set anything.</p>\n<p>May I ask, how to set those system properties in application.properties please?</p>\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675418103,"post_id":75331224,"comment_id":132929044,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":27690957,"reputation":1,"user_id":21137665,"display_name":"Dexkai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675395228,"creation_date":1675395228,"question_id":75331224,"body_markdown":"I&#39;m new to Android Studio and i&#39;m trying to do a simple register and login app, but I have one problem with the Picasso on my &quot;Profile Picture&quot; ImageView where the image is uploaded and stored to firebase, but the stored image won&#39;t show on ImageView.\r\n\r\nHere&#39;s the Upload Photo code\r\n\r\n\r\n```\r\npublic class UploadFoto extends AppCompatActivity {\r\n    \r\n    private ProgressBar progressBar;\r\n    private ImageView imageViewUploadPic;\r\n    private Button upload_pic_btn, upload_pic_choose_btn;\r\n    private FirebaseAuth authProfile;\r\n    private StorageReference storageReference;\r\n    private FirebaseUser firebaseUser;\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n    private Uri uriImage;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_upload_foto);\r\n\r\n        getSupportActionBar().setTitle(&quot;Alterar Foto de Perfil&quot;);\r\n\r\n        Button buttonUploadPicChoose = findViewById(R.id.upload_pic_choose_btn);\r\n        Button buttonUploadPic = findViewById(R.id.upload_pic_btn);\r\n        ProgressBar progressBar = findViewById(R.id.progressBar);\r\n        imageViewUploadPic = findViewById(R.id.imageView_profile_dp);\r\n\r\n        authProfile = FirebaseAuth.getInstance();\r\n        firebaseUser = authProfile.getCurrentUser();\r\n\r\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;DisplayPics&quot;);\r\n\r\n        Uri uri = firebaseUser.getPhotoUrl();\r\n\r\n        //Setar foto atual do usu&#225;rio (caso j&#225; tenha sido upada pro firebase) no image view\r\n        //Regular Uris.\r\n        Picasso.with(UploadFoto.this).load(uri).into(imageViewUploadPic);\r\n\r\n        //Escolhe imagem pra dar upload\r\n        buttonUploadPicChoose.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openFileChooser();\r\n            }\r\n        });\r\n\r\n        //realizar upload da imagem pro storage do Firebase\r\n        buttonUploadPic.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                UploadPic();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void openFileChooser(){\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(intent, PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null){\r\n            uriImage = data.getData();\r\n            imageViewUploadPic.setImageURI(uriImage);\r\n        }\r\n    }\r\n\r\n\r\n    private void UploadPic(){\r\n        if (uriImage != null){\r\n\r\n            //Salvar imagem com o UID do usu&#225;rio atual\r\n            StorageReference fileReference = storageReference.child(authProfile.getCurrentUser().getUid() + &quot;.&quot;\r\n            + getFileExtension(uriImage));\r\n\r\n            //Realizar Upload da imagem pro storage\r\n            fileReference.putFile(uriImage).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    fileReference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n                            Uri downloadUri = uri;\r\n                            firebaseUser = authProfile.getCurrentUser();\r\n\r\n                            //Setar imagem do usu&#225;rio ap&#243;s upload\r\n                            UserProfileChangeRequest profireUpdates = new UserProfileChangeRequest.Builder()\r\n                                    .setPhotoUri(downloadUri).build();\r\n                            firebaseUser.updateProfile(profireUpdates);\r\n                        }\r\n                    });\r\n\r\n                    progressBar.setVisibility(View.GONE);\r\n                    Toast.makeText(UploadFoto.this, &quot;Imagem alterada com sucesso!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    Intent intent = new Intent(UploadFoto.this, Perfil.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(UploadFoto.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        } else {\r\n            progressBar.setVisibility(View.GONE);\r\n            Toast.makeText(UploadFoto.this, &quot;Nenhuma imagem foi selecionada!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    //Obter extens&#227;o da imagem\r\n\r\n    private String getFileExtension(Uri uri){\r\n        ContentResolver cR = getContentResolver();\r\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n        return mime.getExtensionFromMimeType(cR.getType(uri));\r\n    }\r\n\r\n    //Criar actionbar menu\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        //inflar menu\r\n        getMenuInflater().inflate(R.menu.common_menu, menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    //Quando for selecionado qualquer op&#231;&#227;o do menu\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n\r\n        if (id == R.id.menu_atualizar){\r\n            //atualizar atividade/p&#225;gina\r\n            startActivity(getIntent());\r\n            finish();\r\n            overridePendingTransition(0, 0);\r\n        } /*else if (id == R.id.menu_alterarinfo){\r\n            Intent intent = new Intent(Perfil.this, AtualizarPerfil.class);\r\n            startActivity(intent);\r\n        } */else if (id == R.id.menu_sair){\r\n            authProfile.signOut();\r\n            Toast.makeText(UploadFoto.this, &quot;Logout realizado com sucesso!&quot;, Toast.LENGTH_LONG).show();\r\n            Intent intent = new Intent(UploadFoto.this, Login.class);\r\n\r\n            //Limpar\r\n\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n            finish();\r\n        } else {\r\n            Toast.makeText(UploadFoto.this, &quot;Ocorreu um erro, tente novamente.&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here is the Profile code\r\n\r\n\r\n```\r\n\r\npublic class Perfil extends AppCompatActivity {\r\n\r\n    private TextView textViewApelido, textViewNome, textViewCNH, textViewCategoria, textViewNatural,\r\n            textViewEndereco, textViewBairro, textViewCEP, textViewEmail, textViewTelefone, textViewCelular, textViewProfissional,\r\n            textViewTipo_Sangu&#237;neo, textViewEstado_Civil, textViewNome_Garupa, textViewNatural_Garupa, textViewEndereco_Garupa,\r\n            textViewBairro_Garupa, textViewCEP_Garupa, textViewEmail_Garupa, textViewTelefone_Garupa, textViewCelular_Garupa,\r\n            textViewTipo_Sangu&#237;neo_Garupa, textViewMoto, textViewAno_Modelo, textViewCC, textViewPlaca, textViewNome_Contato_1,\r\n            textViewParentesco_Contato_1, textViewCelular_Contato_1, textViewNome_Contato_2, textViewParentesco_Contato_2,\r\n            textViewCelular_Contato_2, textViewNascimento, textViewNascimento_Garupa;\r\n\r\n    private String Apelido, Nome, CNH, Categoria, Natural, Endereco, Bairro, CEP, Email, Telefone, Celular,\r\n            Profissional, Tipo_Sangu&#237;neo, Estado_Civil, Nome_Garupa, Natural_Garupa, Endereco_Garupa, Bairro_Garupa, CEP_Garupa, Email_Garupa,\r\n            Telefone_Garupa, Celular_Garupa, Tipo_Sangu&#237;neo_Garupa, Moto, Ano_Modelo, CC, Placa, Nome_Contato_1, Parentesco_Contato_1, Celular_Contato_1,\r\n            Nome_Contato_2, Parentesco_Contato_2, Celular_Contato_2, Nascimento, Nascimento_Garupa;\r\n    private ImageView imageView;\r\n    private FirebaseAuth authProfile;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_perfil);\r\n\r\n        getSupportActionBar().setTitle(&quot;Perfil do Usu&#225;rio&quot;);\r\n\r\n        textViewApelido = (TextView) findViewById(R.id.textView_show_apelido);\r\n        textViewNome = (TextView) findViewById(R.id.textView_show_nome);\r\n        textViewCNH = (TextView) findViewById(R.id.textView_show_CNH);\r\n        textViewCategoria = (TextView) findViewById(R.id.textView_show_categoria);\r\n        textViewNatural = (TextView) findViewById(R.id.textView_show_natural);\r\n        textViewEndereco = (TextView) findViewById(R.id.textView_show_endereco);\r\n        textViewBairro = (TextView) findViewById(R.id.textView_show_bairro);\r\n        textViewCEP = (TextView) findViewById(R.id.textView_show_CEP);\r\n        textViewEmail = (TextView) findViewById(R.id.textView_show_email);\r\n        textViewTelefone = (TextView) findViewById(R.id.textView_show_telefone);\r\n        textViewCelular = (TextView) findViewById(R.id.textView_show_celular);\r\n        textViewProfissional = (TextView) findViewById(R.id.textView_show_profissional);\r\n        textViewTipo_Sangu&#237;neo = (TextView) findViewById(R.id.textView_show_sangue);\r\n        textViewEstado_Civil = (TextView) findViewById(R.id.textView_show_civil);\r\n        textViewNome_Garupa = (TextView) findViewById(R.id.textView_show_nomeg);\r\n        textViewNatural_Garupa = (TextView) findViewById(R.id.textView_show_naturalg);\r\n        textViewEndereco_Garupa = (TextView) findViewById(R.id.textView_show_enderecog);\r\n        textViewBairro_Garupa = (TextView) findViewById(R.id.textView_show_bairrog);\r\n        textViewCEP_Garupa = (TextView) findViewById(R.id.textView_show_CEPg);\r\n        textViewEmail_Garupa = (TextView) findViewById(R.id.textView_show_emailg);\r\n        textViewTelefone_Garupa = (TextView) findViewById(R.id.textView_show_telefoneg);\r\n        textViewCelular_Garupa = (TextView) findViewById(R.id.textView_show_celularg);\r\n        textViewTipo_Sangu&#237;neo_Garupa = (TextView) findViewById(R.id.textView_show_sangueg);\r\n        textViewMoto = (TextView) findViewById(R.id.textView_show_moto);\r\n        textViewAno_Modelo = (TextView) findViewById(R.id.textView_show_anomodelo);\r\n        textViewCC = (TextView) findViewById(R.id.textView_show_CC);\r\n        textViewPlaca = (TextView) findViewById(R.id.textView_show_placa);\r\n        textViewNome_Contato_1 = (TextView) findViewById(R.id.textView_show_nomecont1);\r\n        textViewParentesco_Contato_1 = (TextView) findViewById(R.id.textView_show_parentcont1);\r\n        textViewCelular_Contato_1 = (TextView) findViewById(R.id.textView_show_celcont1);\r\n        textViewNome_Contato_2 = (TextView) findViewById(R.id.textView_show_nomecont2);\r\n        textViewParentesco_Contato_2 = (TextView) findViewById(R.id.textView_show_parentcont2);\r\n        textViewCelular_Contato_2 = (TextView) findViewById(R.id.textView_show_celcont2);\r\n        textViewNascimento = (TextView) findViewById(R.id.textView_show_nascimento);\r\n        textViewNascimento_Garupa = (TextView) findViewById(R.id.textView_show_nascimentog);\r\n\r\n        //ClickListener ao clicar no ImageView para editar foto de perfil\r\n        imageView = (ImageView) findViewById(R.id.foto);\r\n        imageView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(Perfil.this, UploadFoto.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        authProfile = FirebaseAuth.getInstance();\r\n        FirebaseUser firebaseUser = authProfile.getCurrentUser();\r\n\r\n        if (firebaseUser == null){\r\n            Toast.makeText(Perfil.this, &quot;Erro, dados do usu&#225;rio indispon&#237;veis.&quot;, Toast.LENGTH_LONG).show();\r\n        } else{\r\n            CheckEmailVerified(firebaseUser);\r\n            showUserProfile(firebaseUser);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void CheckEmailVerified(FirebaseUser firebaseUser) {\r\n        if (!firebaseUser.isEmailVerified()){\r\n            showAlertDialog();\r\n        }\r\n    }\r\n\r\n    private void showAlertDialog() {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(Perfil.this);\r\n        builder.setTitle(&quot;Email n&#227;o verificado&quot;);\r\n        builder.setMessage(&quot;Favor verificar seu e-mail.&quot;);\r\n\r\n        //open email app\r\n        builder.setPositiveButton(&quot;continuar&quot;, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                Intent intent = new Intent(Intent.ACTION_MAIN);\r\n                intent.addCategory(Intent.CATEGORY_APP_EMAIL);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        AlertDialog alertDialog = builder.create();\r\n\r\n        alertDialog.show();\r\n\r\n    }\r\n\r\n    private void showUserProfile(FirebaseUser firebaseUser) {\r\n        String userID = firebaseUser.getUid();\r\n\r\n        //Extrair refer&#234;ncia do usu&#225;rio do BD para &quot;User&quot;\r\n        DatabaseReference referenceProfile = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        referenceProfile.child(userID).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            User readUser = snapshot.getValue(User.class);\r\n                if (readUser != null){\r\n                    Apelido = readUser.Apelido;\r\n                    Nome = readUser.Nome;\r\n                    CNH = readUser.CNH;\r\n                    Email = readUser.Email;\r\n                    Categoria = readUser.Categoria;\r\n                    Natural = readUser.Natural;\r\n                    Endereco = readUser.Endereco;\r\n                    Bairro = readUser.Bairro;\r\n                    CEP = readUser.CEP;\r\n                    Email = readUser.Email;\r\n                    Telefone = readUser.Telefone;\r\n                    Celular = readUser.Celular;\r\n                    Profissional = readUser.Profissional;\r\n                    Tipo_Sangu&#237;neo = readUser.Tipo_Sangu&#237;neo;\r\n                    Estado_Civil = readUser.Estado_Civil;\r\n                    Nome_Garupa = readUser.Nome_Garupa;\r\n                    Natural_Garupa = readUser.Natural_Garupa;\r\n                    Endereco_Garupa = readUser.Endereco_Garupa;\r\n                    Bairro_Garupa = readUser.Bairro_Garupa;\r\n                    CEP_Garupa = readUser.CEP_Garupa;\r\n                    Email_Garupa = readUser.Email_Garupa;\r\n                    Telefone_Garupa = readUser.Telefone_Garupa;\r\n                    Celular_Garupa = readUser.Celular_Garupa;\r\n                    Tipo_Sangu&#237;neo_Garupa = readUser.Tipo_Sangu&#237;neo_Garupa;\r\n                    Ano_Modelo = readUser.Ano_Modelo;\r\n                    CC = readUser.CC;\r\n                    Placa = readUser.Placa;\r\n                    Nome_Contato_1 = readUser.Nome_Contato_1;\r\n                    Parentesco_Contato_1 = readUser.Parentesco_Contato_1;\r\n                    Celular_Contato_1 = readUser.Celular_Contato_1;\r\n                    Nome_Contato_2 = readUser.Nome_Contato_2;\r\n                    Parentesco_Contato_2 = readUser.Parentesco_Contato_2;\r\n                    Celular_Contato_2 = readUser.Celular_Contato_2;\r\n                    Nascimento = readUser.Nascimento;\r\n                    Nascimento_Garupa = readUser.Nascimento_Garupa;\r\n\r\n\r\n                    textViewApelido.setText(Apelido);\r\n                    textViewNome.setText(Nome);\r\n                    textViewCNH.setText(CNH);\r\n                    textViewCategoria.setText(Categoria);\r\n                    textViewNatural.setText(Natural);\r\n                    textViewEndereco.setText(Endereco);\r\n                    textViewBairro.setText(Bairro);\r\n                    textViewCEP.setText(CEP);\r\n                    textViewEmail.setText(Email);\r\n                    textViewTelefone.setText(Telefone);\r\n                    textViewCelular.setText(Celular);\r\n                    textViewProfissional.setText(Profissional);\r\n                    textViewTipo_Sangu&#237;neo.setText(Tipo_Sangu&#237;neo);\r\n                    textViewEstado_Civil.setText(Estado_Civil);\r\n                    textViewNome_Garupa.setText(Nome_Garupa);\r\n                    textViewNatural_Garupa.setText(Natural_Garupa);\r\n                    textViewEndereco_Garupa.setText(Endereco_Garupa);\r\n                    textViewBairro_Garupa.setText(Bairro_Garupa);\r\n                    textViewCEP_Garupa.setText(CEP_Garupa);\r\n                    textViewEmail_Garupa.setText(Email_Garupa);\r\n                    textViewTelefone_Garupa.setText(Telefone_Garupa);\r\n                    textViewCelular_Garupa.setText(Celular_Garupa);\r\n                    textViewTipo_Sangu&#237;neo_Garupa.setText(Tipo_Sangu&#237;neo_Garupa);\r\n                    textViewMoto.setText(Moto);\r\n                    textViewAno_Modelo.setText(Ano_Modelo);\r\n                    textViewCC.setText(CC);\r\n                    textViewPlaca.setText(Placa);\r\n                    textViewNome_Contato_1.setText(Nome_Contato_1);\r\n                    textViewParentesco_Contato_1.setText(Parentesco_Contato_1);\r\n                    textViewCelular_Contato_1.setText(Celular_Contato_1);\r\n                    textViewNome_Contato_2.setText(Nome_Contato_2);\r\n                    textViewParentesco_Contato_2.setText(Parentesco_Contato_2);\r\n                    textViewCelular_Contato_2.setText(Celular_Contato_2);\r\n                    textViewNascimento.setText(Nascimento);\r\n                    textViewNascimento_Garupa.setText(Nascimento_Garupa);\r\n\r\n                    //Setar foto do usu&#225;rio ap&#243;s upload no perfil\r\n                    Uri uri = firebaseUser.getPhotoUrl();\r\n\r\n                    //ImageViewer setando Img no URI\r\n                    Picasso.with(Perfil.this).load(uri).into(imageView);\r\n\r\n                }else {\r\n                    Toast.makeText(Perfil.this, &quot;Erro.&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(Perfil.this, &quot;Erro!&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    //Criar actionbar menu\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        //inflar menu\r\n        getMenuInflater().inflate(R.menu.common_menu, menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    //Quando for selecionado qualquer op&#231;&#227;o do menu\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n\r\n        if (id == R.id.menu_atualizar){\r\n            //atualizar atividade/p&#225;gina\r\n            startActivity(getIntent());\r\n            finish();\r\n            overridePendingTransition(0, 0);\r\n        } /*else if (id == R.id.menu_alterarinfo){\r\n            Intent intent = new Intent(Perfil.this, AtualizarPerfil.class);\r\n            startActivity(intent);\r\n        } */else if (id == R.id.menu_sair){\r\n            authProfile.signOut();\r\n            Toast.makeText(Perfil.this, &quot;Logout realizado com sucesso!&quot;, Toast.LENGTH_LONG).show();\r\n            Intent intent = new Intent(Perfil.this, Login.class);\r\n\r\n            //Limpar\r\n\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n            finish();\r\n        } else {\r\n            Toast.makeText(Perfil.this, &quot;Ocorreu um erro, tente novamente.&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n}\r\n```\r\n\r\n\r\nUsing Picasso implementation 2.5.2.\r\nAlready have permission to internet.\r\n\r\nWanting Picasso to &quot;fetch&quot; the image from storage on firebase to display on the user profile.","title":"Picasso not showing firebase stored image","body":"<p>I'm new to Android Studio and i'm trying to do a simple register and login app, but I have one problem with the Picasso on my &quot;Profile Picture&quot; ImageView where the image is uploaded and stored to firebase, but the stored image won't show on ImageView.</p>\n<p>Here's the Upload Photo code</p>\n<pre><code>public class UploadFoto extends AppCompatActivity {\n    \n    private ProgressBar progressBar;\n    private ImageView imageViewUploadPic;\n    private Button upload_pic_btn, upload_pic_choose_btn;\n    private FirebaseAuth authProfile;\n    private StorageReference storageReference;\n    private FirebaseUser firebaseUser;\n    private static final int PICK_IMAGE_REQUEST = 1;\n    private Uri uriImage;\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_upload_foto);\n\n        getSupportActionBar().setTitle(&quot;Alterar Foto de Perfil&quot;);\n\n        Button buttonUploadPicChoose = findViewById(R.id.upload_pic_choose_btn);\n        Button buttonUploadPic = findViewById(R.id.upload_pic_btn);\n        ProgressBar progressBar = findViewById(R.id.progressBar);\n        imageViewUploadPic = findViewById(R.id.imageView_profile_dp);\n\n        authProfile = FirebaseAuth.getInstance();\n        firebaseUser = authProfile.getCurrentUser();\n\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;DisplayPics&quot;);\n\n        Uri uri = firebaseUser.getPhotoUrl();\n\n        //Setar foto atual do usuÃ¡rio (caso jÃ¡ tenha sido upada pro firebase) no image view\n        //Regular Uris.\n        Picasso.with(UploadFoto.this).load(uri).into(imageViewUploadPic);\n\n        //Escolhe imagem pra dar upload\n        buttonUploadPicChoose.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openFileChooser();\n            }\n        });\n\n        //realizar upload da imagem pro storage do Firebase\n        buttonUploadPic.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                progressBar.setVisibility(View.VISIBLE);\n                UploadPic();\n            }\n        });\n    }\n\n    private void openFileChooser(){\n        Intent intent = new Intent();\n        intent.setType(&quot;image/*&quot;);\n        intent.setAction(Intent.ACTION_GET_CONTENT);\n        startActivityForResult(intent, PICK_IMAGE_REQUEST);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null){\n            uriImage = data.getData();\n            imageViewUploadPic.setImageURI(uriImage);\n        }\n    }\n\n\n    private void UploadPic(){\n        if (uriImage != null){\n\n            //Salvar imagem com o UID do usuÃ¡rio atual\n            StorageReference fileReference = storageReference.child(authProfile.getCurrentUser().getUid() + &quot;.&quot;\n            + getFileExtension(uriImage));\n\n            //Realizar Upload da imagem pro storage\n            fileReference.putFile(uriImage).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    fileReference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                        @Override\n                        public void onSuccess(Uri uri) {\n                            Uri downloadUri = uri;\n                            firebaseUser = authProfile.getCurrentUser();\n\n                            //Setar imagem do usuÃ¡rio apÃ³s upload\n                            UserProfileChangeRequest profireUpdates = new UserProfileChangeRequest.Builder()\n                                    .setPhotoUri(downloadUri).build();\n                            firebaseUser.updateProfile(profireUpdates);\n                        }\n                    });\n\n                    progressBar.setVisibility(View.GONE);\n                    Toast.makeText(UploadFoto.this, &quot;Imagem alterada com sucesso!&quot;, Toast.LENGTH_SHORT).show();\n\n                    Intent intent = new Intent(UploadFoto.this, Perfil.class);\n                    startActivity(intent);\n                    finish();\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(UploadFoto.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            });\n        } else {\n            progressBar.setVisibility(View.GONE);\n            Toast.makeText(UploadFoto.this, &quot;Nenhuma imagem foi selecionada!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    //Obter extensÃ£o da imagem\n\n    private String getFileExtension(Uri uri){\n        ContentResolver cR = getContentResolver();\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\n        return mime.getExtensionFromMimeType(cR.getType(uri));\n    }\n\n    //Criar actionbar menu\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        //inflar menu\n        getMenuInflater().inflate(R.menu.common_menu, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    //Quando for selecionado qualquer opÃ§Ã£o do menu\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n\n        if (id == R.id.menu_atualizar){\n            //atualizar atividade/pÃ¡gina\n            startActivity(getIntent());\n            finish();\n            overridePendingTransition(0, 0);\n        } /*else if (id == R.id.menu_alterarinfo){\n            Intent intent = new Intent(Perfil.this, AtualizarPerfil.class);\n            startActivity(intent);\n        } */else if (id == R.id.menu_sair){\n            authProfile.signOut();\n            Toast.makeText(UploadFoto.this, &quot;Logout realizado com sucesso!&quot;, Toast.LENGTH_LONG).show();\n            Intent intent = new Intent(UploadFoto.this, Login.class);\n\n            //Limpar\n\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n            finish();\n        } else {\n            Toast.makeText(UploadFoto.this, &quot;Ocorreu um erro, tente novamente.&quot;, Toast.LENGTH_LONG).show();\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n}\n</code></pre>\n<p>And here is the Profile code</p>\n<pre><code>\npublic class Perfil extends AppCompatActivity {\n\n    private TextView textViewApelido, textViewNome, textViewCNH, textViewCategoria, textViewNatural,\n            textViewEndereco, textViewBairro, textViewCEP, textViewEmail, textViewTelefone, textViewCelular, textViewProfissional,\n            textViewTipo_SanguÃ­neo, textViewEstado_Civil, textViewNome_Garupa, textViewNatural_Garupa, textViewEndereco_Garupa,\n            textViewBairro_Garupa, textViewCEP_Garupa, textViewEmail_Garupa, textViewTelefone_Garupa, textViewCelular_Garupa,\n            textViewTipo_SanguÃ­neo_Garupa, textViewMoto, textViewAno_Modelo, textViewCC, textViewPlaca, textViewNome_Contato_1,\n            textViewParentesco_Contato_1, textViewCelular_Contato_1, textViewNome_Contato_2, textViewParentesco_Contato_2,\n            textViewCelular_Contato_2, textViewNascimento, textViewNascimento_Garupa;\n\n    private String Apelido, Nome, CNH, Categoria, Natural, Endereco, Bairro, CEP, Email, Telefone, Celular,\n            Profissional, Tipo_SanguÃ­neo, Estado_Civil, Nome_Garupa, Natural_Garupa, Endereco_Garupa, Bairro_Garupa, CEP_Garupa, Email_Garupa,\n            Telefone_Garupa, Celular_Garupa, Tipo_SanguÃ­neo_Garupa, Moto, Ano_Modelo, CC, Placa, Nome_Contato_1, Parentesco_Contato_1, Celular_Contato_1,\n            Nome_Contato_2, Parentesco_Contato_2, Celular_Contato_2, Nascimento, Nascimento_Garupa;\n    private ImageView imageView;\n    private FirebaseAuth authProfile;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_perfil);\n\n        getSupportActionBar().setTitle(&quot;Perfil do UsuÃ¡rio&quot;);\n\n        textViewApelido = (TextView) findViewById(R.id.textView_show_apelido);\n        textViewNome = (TextView) findViewById(R.id.textView_show_nome);\n        textViewCNH = (TextView) findViewById(R.id.textView_show_CNH);\n        textViewCategoria = (TextView) findViewById(R.id.textView_show_categoria);\n        textViewNatural = (TextView) findViewById(R.id.textView_show_natural);\n        textViewEndereco = (TextView) findViewById(R.id.textView_show_endereco);\n        textViewBairro = (TextView) findViewById(R.id.textView_show_bairro);\n        textViewCEP = (TextView) findViewById(R.id.textView_show_CEP);\n        textViewEmail = (TextView) findViewById(R.id.textView_show_email);\n        textViewTelefone = (TextView) findViewById(R.id.textView_show_telefone);\n        textViewCelular = (TextView) findViewById(R.id.textView_show_celular);\n        textViewProfissional = (TextView) findViewById(R.id.textView_show_profissional);\n        textViewTipo_SanguÃ­neo = (TextView) findViewById(R.id.textView_show_sangue);\n        textViewEstado_Civil = (TextView) findViewById(R.id.textView_show_civil);\n        textViewNome_Garupa = (TextView) findViewById(R.id.textView_show_nomeg);\n        textViewNatural_Garupa = (TextView) findViewById(R.id.textView_show_naturalg);\n        textViewEndereco_Garupa = (TextView) findViewById(R.id.textView_show_enderecog);\n        textViewBairro_Garupa = (TextView) findViewById(R.id.textView_show_bairrog);\n        textViewCEP_Garupa = (TextView) findViewById(R.id.textView_show_CEPg);\n        textViewEmail_Garupa = (TextView) findViewById(R.id.textView_show_emailg);\n        textViewTelefone_Garupa = (TextView) findViewById(R.id.textView_show_telefoneg);\n        textViewCelular_Garupa = (TextView) findViewById(R.id.textView_show_celularg);\n        textViewTipo_SanguÃ­neo_Garupa = (TextView) findViewById(R.id.textView_show_sangueg);\n        textViewMoto = (TextView) findViewById(R.id.textView_show_moto);\n        textViewAno_Modelo = (TextView) findViewById(R.id.textView_show_anomodelo);\n        textViewCC = (TextView) findViewById(R.id.textView_show_CC);\n        textViewPlaca = (TextView) findViewById(R.id.textView_show_placa);\n        textViewNome_Contato_1 = (TextView) findViewById(R.id.textView_show_nomecont1);\n        textViewParentesco_Contato_1 = (TextView) findViewById(R.id.textView_show_parentcont1);\n        textViewCelular_Contato_1 = (TextView) findViewById(R.id.textView_show_celcont1);\n        textViewNome_Contato_2 = (TextView) findViewById(R.id.textView_show_nomecont2);\n        textViewParentesco_Contato_2 = (TextView) findViewById(R.id.textView_show_parentcont2);\n        textViewCelular_Contato_2 = (TextView) findViewById(R.id.textView_show_celcont2);\n        textViewNascimento = (TextView) findViewById(R.id.textView_show_nascimento);\n        textViewNascimento_Garupa = (TextView) findViewById(R.id.textView_show_nascimentog);\n\n        //ClickListener ao clicar no ImageView para editar foto de perfil\n        imageView = (ImageView) findViewById(R.id.foto);\n        imageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(Perfil.this, UploadFoto.class);\n                startActivity(intent);\n            }\n        });\n\n        authProfile = FirebaseAuth.getInstance();\n        FirebaseUser firebaseUser = authProfile.getCurrentUser();\n\n        if (firebaseUser == null){\n            Toast.makeText(Perfil.this, &quot;Erro, dados do usuÃ¡rio indisponÃ­veis.&quot;, Toast.LENGTH_LONG).show();\n        } else{\n            CheckEmailVerified(firebaseUser);\n            showUserProfile(firebaseUser);\n        }\n\n\n    }\n\n    private void CheckEmailVerified(FirebaseUser firebaseUser) {\n        if (!firebaseUser.isEmailVerified()){\n            showAlertDialog();\n        }\n    }\n\n    private void showAlertDialog() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(Perfil.this);\n        builder.setTitle(&quot;Email nÃ£o verificado&quot;);\n        builder.setMessage(&quot;Favor verificar seu e-mail.&quot;);\n\n        //open email app\n        builder.setPositiveButton(&quot;continuar&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                Intent intent = new Intent(Intent.ACTION_MAIN);\n                intent.addCategory(Intent.CATEGORY_APP_EMAIL);\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                startActivity(intent);\n            }\n        });\n\n        AlertDialog alertDialog = builder.create();\n\n        alertDialog.show();\n\n    }\n\n    private void showUserProfile(FirebaseUser firebaseUser) {\n        String userID = firebaseUser.getUid();\n\n        //Extrair referÃªncia do usuÃ¡rio do BD para &quot;User&quot;\n        DatabaseReference referenceProfile = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n        referenceProfile.child(userID).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n            User readUser = snapshot.getValue(User.class);\n                if (readUser != null){\n                    Apelido = readUser.Apelido;\n                    Nome = readUser.Nome;\n                    CNH = readUser.CNH;\n                    Email = readUser.Email;\n                    Categoria = readUser.Categoria;\n                    Natural = readUser.Natural;\n                    Endereco = readUser.Endereco;\n                    Bairro = readUser.Bairro;\n                    CEP = readUser.CEP;\n                    Email = readUser.Email;\n                    Telefone = readUser.Telefone;\n                    Celular = readUser.Celular;\n                    Profissional = readUser.Profissional;\n                    Tipo_SanguÃ­neo = readUser.Tipo_SanguÃ­neo;\n                    Estado_Civil = readUser.Estado_Civil;\n                    Nome_Garupa = readUser.Nome_Garupa;\n                    Natural_Garupa = readUser.Natural_Garupa;\n                    Endereco_Garupa = readUser.Endereco_Garupa;\n                    Bairro_Garupa = readUser.Bairro_Garupa;\n                    CEP_Garupa = readUser.CEP_Garupa;\n                    Email_Garupa = readUser.Email_Garupa;\n                    Telefone_Garupa = readUser.Telefone_Garupa;\n                    Celular_Garupa = readUser.Celular_Garupa;\n                    Tipo_SanguÃ­neo_Garupa = readUser.Tipo_SanguÃ­neo_Garupa;\n                    Ano_Modelo = readUser.Ano_Modelo;\n                    CC = readUser.CC;\n                    Placa = readUser.Placa;\n                    Nome_Contato_1 = readUser.Nome_Contato_1;\n                    Parentesco_Contato_1 = readUser.Parentesco_Contato_1;\n                    Celular_Contato_1 = readUser.Celular_Contato_1;\n                    Nome_Contato_2 = readUser.Nome_Contato_2;\n                    Parentesco_Contato_2 = readUser.Parentesco_Contato_2;\n                    Celular_Contato_2 = readUser.Celular_Contato_2;\n                    Nascimento = readUser.Nascimento;\n                    Nascimento_Garupa = readUser.Nascimento_Garupa;\n\n\n                    textViewApelido.setText(Apelido);\n                    textViewNome.setText(Nome);\n                    textViewCNH.setText(CNH);\n                    textViewCategoria.setText(Categoria);\n                    textViewNatural.setText(Natural);\n                    textViewEndereco.setText(Endereco);\n                    textViewBairro.setText(Bairro);\n                    textViewCEP.setText(CEP);\n                    textViewEmail.setText(Email);\n                    textViewTelefone.setText(Telefone);\n                    textViewCelular.setText(Celular);\n                    textViewProfissional.setText(Profissional);\n                    textViewTipo_SanguÃ­neo.setText(Tipo_SanguÃ­neo);\n                    textViewEstado_Civil.setText(Estado_Civil);\n                    textViewNome_Garupa.setText(Nome_Garupa);\n                    textViewNatural_Garupa.setText(Natural_Garupa);\n                    textViewEndereco_Garupa.setText(Endereco_Garupa);\n                    textViewBairro_Garupa.setText(Bairro_Garupa);\n                    textViewCEP_Garupa.setText(CEP_Garupa);\n                    textViewEmail_Garupa.setText(Email_Garupa);\n                    textViewTelefone_Garupa.setText(Telefone_Garupa);\n                    textViewCelular_Garupa.setText(Celular_Garupa);\n                    textViewTipo_SanguÃ­neo_Garupa.setText(Tipo_SanguÃ­neo_Garupa);\n                    textViewMoto.setText(Moto);\n                    textViewAno_Modelo.setText(Ano_Modelo);\n                    textViewCC.setText(CC);\n                    textViewPlaca.setText(Placa);\n                    textViewNome_Contato_1.setText(Nome_Contato_1);\n                    textViewParentesco_Contato_1.setText(Parentesco_Contato_1);\n                    textViewCelular_Contato_1.setText(Celular_Contato_1);\n                    textViewNome_Contato_2.setText(Nome_Contato_2);\n                    textViewParentesco_Contato_2.setText(Parentesco_Contato_2);\n                    textViewCelular_Contato_2.setText(Celular_Contato_2);\n                    textViewNascimento.setText(Nascimento);\n                    textViewNascimento_Garupa.setText(Nascimento_Garupa);\n\n                    //Setar foto do usuÃ¡rio apÃ³s upload no perfil\n                    Uri uri = firebaseUser.getPhotoUrl();\n\n                    //ImageViewer setando Img no URI\n                    Picasso.with(Perfil.this).load(uri).into(imageView);\n\n                }else {\n                    Toast.makeText(Perfil.this, &quot;Erro.&quot;, Toast.LENGTH_LONG).show();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(Perfil.this, &quot;Erro!&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n\n    //Criar actionbar menu\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        //inflar menu\n        getMenuInflater().inflate(R.menu.common_menu, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    //Quando for selecionado qualquer opÃ§Ã£o do menu\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n\n        if (id == R.id.menu_atualizar){\n            //atualizar atividade/pÃ¡gina\n            startActivity(getIntent());\n            finish();\n            overridePendingTransition(0, 0);\n        } /*else if (id == R.id.menu_alterarinfo){\n            Intent intent = new Intent(Perfil.this, AtualizarPerfil.class);\n            startActivity(intent);\n        } */else if (id == R.id.menu_sair){\n            authProfile.signOut();\n            Toast.makeText(Perfil.this, &quot;Logout realizado com sucesso!&quot;, Toast.LENGTH_LONG).show();\n            Intent intent = new Intent(Perfil.this, Login.class);\n\n            //Limpar\n\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n            finish();\n        } else {\n            Toast.makeText(Perfil.this, &quot;Ocorreu um erro, tente novamente.&quot;, Toast.LENGTH_LONG).show();\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p>Using Picasso implementation 2.5.2.\nAlready have permission to internet.</p>\n<p>Wanting Picasso to &quot;fetch&quot; the image from storage on firebase to display on the user profile.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675419817,"post_id":75331033,"comment_id":132929566,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675394671,"creation_date":1675394671,"answer_id":75331187,"question_id":75331033,"body_markdown":"Follow the getting started documentation at [openjfx.io](https://openjfx.io/openjfx-docs/).","title":"unable to run a JavaFX application","body":"<p>Follow the getting started documentation at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a>.</p>\n"}],"owner":{"account_id":27521238,"reputation":1,"user_id":21001368,"display_name":"user21001368"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675431561,"answer_count":1,"score":-1,"last_activity_date":1675394671,"creation_date":1675392841,"question_id":75331033,"body_markdown":"Every time I try to run my application I am getting this error message : &quot;Error: Unable to initialize main class TipCalculator&quot; Can You please assist?\r\n\r\nI am using Visual Studio Code as editor and I am trying to sun in the editor. \r\n\r\nWhen I use the command prompt I get this error: Exception in Application start method\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -2\r\n       \r\n\r\nI tried adding dependencies but I don&#39;t know how to and there is no proper flow for it ","title":"unable to run a JavaFX application","body":"<p>Every time I try to run my application I am getting this error message : &quot;Error: Unable to initialize main class TipCalculator&quot; Can You please assist?</p>\n<p>I am using Visual Studio Code as editor and I am trying to sun in the editor.</p>\n<p>When I use the command prompt I get this error: Exception in Application start method\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -2</p>\n<p>I tried adding dependencies but I don't know how to and there is no proper flow for it</p>\n"},{"tags":["java","spring","jpa"],"owner":{"account_id":15178561,"reputation":163,"user_id":16235371,"display_name":"Johnny boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675394232,"creation_date":1675394232,"question_id":75331154,"body_markdown":"I have a Shipment Entity class where there are two ShipmentAddress, one for the delivery address and the other, the destination address:\r\n\r\n    @Entity\r\n    @Table(name = &quot;shipment&quot;)\r\n    public class Shipment {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        @ManyToOne\r\n        private AppUser user;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        private ShipmentAddress fromAddress;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        private ShipmentAddress toAddress;\r\n    }\r\n\r\n\r\nI have a ShipmentAddress Entity class where it looks like this:\r\n\r\n    @Entity\r\n    public class ShipmentAddress {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        @Column(nullable = false)\r\n        private String street1;\r\n        private String street2;\r\n    \r\n        @OneToOne(mappedBy = &quot;fromAddress&quot;)\r\n        private Shipment shipment;\r\n    \r\n        @OneToOne(mappedBy = &quot;toAddress&quot;)\r\n        private Shipment shipment;\r\n    }\r\n\r\nI think we can agree that it is redunant to have two properties to define a Shipment inside ShipmentAddress, because they both point to the same Shipment. In ShipmentAddress class, I want to be able to have one Shipment in the ShipmentAddress Entity. JPA does not support multiple @OneToOne annotations for the same entity class. How can I accomplish this?","title":"JPA - Map child entity class to parent when parent has two child objects","body":"<p>I have a Shipment Entity class where there are two ShipmentAddress, one for the delivery address and the other, the destination address:</p>\n<pre><code>@Entity\n@Table(name = &quot;shipment&quot;)\npublic class Shipment {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToOne\n    private AppUser user;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private ShipmentAddress fromAddress;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private ShipmentAddress toAddress;\n}\n</code></pre>\n<p>I have a ShipmentAddress Entity class where it looks like this:</p>\n<pre><code>@Entity\npublic class ShipmentAddress {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @Column(nullable = false)\n    private String street1;\n    private String street2;\n\n    @OneToOne(mappedBy = &quot;fromAddress&quot;)\n    private Shipment shipment;\n\n    @OneToOne(mappedBy = &quot;toAddress&quot;)\n    private Shipment shipment;\n}\n</code></pre>\n<p>I think we can agree that it is redunant to have two properties to define a Shipment inside ShipmentAddress, because they both point to the same Shipment. In ShipmentAddress class, I want to be able to have one Shipment in the ShipmentAddress Entity. JPA does not support multiple @OneToOne annotations for the same entity class. How can I accomplish this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675391515,"post_id":75330880,"comment_id":132924125,"body_markdown":"Yes, you&#39;re right about the whole pass by reference thing.  The `x` that&#39;s passed to this method is always a new copy of the reference, so setting it to `new Node(k)` inside the method won&#39;t affect anything outside of the method.","body":"Yes, you&#39;re right about the whole pass by reference thing.  The <code>x</code> that&#39;s passed to this method is always a new copy of the reference, so setting it to <code>new Node(k)</code> inside the method won&#39;t affect anything outside of the method."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1675391596,"post_id":75330880,"comment_id":132924134,"body_markdown":"Return the root node. Whatever you do in the method, is local to it, unless you use a wrapper like `AtomicReference`. In general, modifying method arguments is bad news in Java.","body":"Return the root node. Whatever you do in the method, is local to it, unless you use a wrapper like <code>AtomicReference</code>. In general, modifying method arguments is bad news in Java."},{"owner":{"account_id":27690645,"reputation":1,"user_id":21137419,"display_name":"Hang"},"score":0,"creation_date":1675392367,"post_id":75330880,"comment_id":132924220,"body_markdown":"@Dawood ibn Kareem Thanks for the reply! Yeah, that is where I got confused. If we are talking about copy by reference, why changing one would not affect the other? Thanks.","body":"@Dawood ibn Kareem Thanks for the reply! Yeah, that is where I got confused. If we are talking about copy by reference, why changing one would not affect the other? Thanks."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675394404,"post_id":75330880,"comment_id":132924457,"body_markdown":"When you write `=` after a variable name, you&#39;re changing what reference the variable contains; you&#39;re not changing any properties of the object that the reference points to.  My answer to [this question](https://stackoverflow.com/q/19504839) might help you understand.","body":"When you write <code>=</code> after a variable name, you&#39;re changing what reference the variable contains; you&#39;re not changing any properties of the object that the reference points to.  My answer to <a href=\"https://stackoverflow.com/q/19504839\">this question</a> might help you understand."}],"answers":[{"tags":[],"owner":{"account_id":18769316,"reputation":105,"user_id":13686510,"display_name":"Fredrik HD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675392199,"creation_date":1675392199,"answer_id":75330979,"question_id":75330880,"body_markdown":"What you are trying to do is assign a Node that has been passed by reference a new value. You already noted this and that is correct (I see that others stated this too). \r\n\r\nHow you would do this in java is by splitting up the recursion into two steps. **EDIT:** Not necessarily in java, but helper functions can be a good design to have in mind.\r\n\r\n 1. Introduce the insert function which null checks the root.\r\n 2. Private helper method that can generalise the insertion in the tree with recursive calls.\r\n\r\nHere is an example:\r\n\r\n```\r\npublic boolean insertBST(int value) {\r\n    if (root == null) {\r\n        root = new Node(value);\r\n        return true;\r\n    }\r\n    return insertBSTHelper(value, root);\r\n}\r\n\r\nprivate boolean insertBSTHelper(int value, Node node) {\r\n    if (node.value == value){\r\n        return false;\r\n    }\r\n\r\n    if (node.value &gt; value){\r\n        if (node.left != null) {\r\n            return insertBSTHelper(value, node.left);\r\n        } else {\r\n            node.left = new Node(value);\r\n            return true;\r\n        }\r\n    } else {\r\n        if (node.right != null) {\r\n            return insertBSTHelper(value, node.right);\r\n        } else {\r\n            node.right = new Node(value);\r\n            return true;\r\n        }\r\n    }\r\n\r\n} \r\n```\r\n\r\nSince there can only exist distinct elements in a BST, we check for these to ensure that we don&#39;t insert the same element twice.\r\n\r\nHope this helps!\r\n","title":"Insert into BST with recursion in java","body":"<p>What you are trying to do is assign a Node that has been passed by reference a new value. You already noted this and that is correct (I see that others stated this too).</p>\n<p>How you would do this in java is by splitting up the recursion into two steps. <strong>EDIT:</strong> Not necessarily in java, but helper functions can be a good design to have in mind.</p>\n<ol>\n<li>Introduce the insert function which null checks the root.</li>\n<li>Private helper method that can generalise the insertion in the tree with recursive calls.</li>\n</ol>\n<p>Here is an example:</p>\n<pre><code>public boolean insertBST(int value) {\n    if (root == null) {\n        root = new Node(value);\n        return true;\n    }\n    return insertBSTHelper(value, root);\n}\n\nprivate boolean insertBSTHelper(int value, Node node) {\n    if (node.value == value){\n        return false;\n    }\n\n    if (node.value &gt; value){\n        if (node.left != null) {\n            return insertBSTHelper(value, node.left);\n        } else {\n            node.left = new Node(value);\n            return true;\n        }\n    } else {\n        if (node.right != null) {\n            return insertBSTHelper(value, node.right);\n        } else {\n            node.right = new Node(value);\n            return true;\n        }\n    }\n\n} \n</code></pre>\n<p>Since there can only exist distinct elements in a BST, we check for these to ensure that we don't insert the same element twice.</p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":27690645,"reputation":1,"user_id":21137419,"display_name":"Hang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675392199,"creation_date":1675390972,"question_id":75330880,"body_markdown":"New to Java. I learned BST tree insertion before with C++. But I try to replicate its recursive logic with Java like below:\r\n\r\n```\r\npublic void tree_insert(Node x, int k) {\r\n     if (x == null)\r\n         x = new Node(k);\r\n     else if (k &lt; x.val)\r\n         tree_insert(x.left, k);\r\n     else\r\n         tree_insert(x.right, k);\r\n}\r\n```\r\n\r\n\r\nSuppose I have an empty tree\r\n\r\n    tree_insert(tree.root, 1);\r\n\r\nBut the root has not been changed.... I am guessing it may have to to with pass by reference in Java. But I am not exactly sure why it does not work. Some hint? Thanks. ","title":"Insert into BST with recursion in java","body":"<p>New to Java. I learned BST tree insertion before with C++. But I try to replicate its recursive logic with Java like below:</p>\n<pre><code>public void tree_insert(Node x, int k) {\n     if (x == null)\n         x = new Node(k);\n     else if (k &lt; x.val)\n         tree_insert(x.left, k);\n     else\n         tree_insert(x.right, k);\n}\n</code></pre>\n<p>Suppose I have an empty tree</p>\n<pre><code>tree_insert(tree.root, 1);\n</code></pre>\n<p>But the root has not been changed.... I am guessing it may have to to with pass by reference in Java. But I am not exactly sure why it does not work. Some hint? Thanks.</p>\n"},{"tags":["java","amazon-web-services"],"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1393423282,"post_id":22043166,"comment_id":33421016,"body_markdown":"not exactly what you need, but keep this in mind: http://www.jcabi.com/jcabi-simpledb/","body":"not exactly what you need, but keep this in mind: <a href=\"http://www.jcabi.com/jcabi-simpledb/\" rel=\"nofollow noreferrer\">jcabi.com/jcabi-simpledb</a>"},{"owner":{"account_id":444584,"reputation":8231,"user_id":836487,"accept_rate":64,"display_name":"sethu"},"score":1,"creation_date":1393466767,"post_id":22043166,"comment_id":33446359,"body_markdown":"but this jcabi is wrapper of aws-sdk. So i need to ship aws-sdk jars and the jcabi jars. So it wont help my original problem. jar size.","body":"but this jcabi is wrapper of aws-sdk. So i need to ship aws-sdk jars and the jcabi jars. So it wont help my original problem. jar size."}],"answers":[{"tags":[],"owner":{"account_id":444584,"reputation":8231,"user_id":836487,"accept_rate":64,"display_name":"sethu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1406965342,"creation_date":1393563273,"answer_id":22086555,"question_id":22043166,"body_markdown":"I had to work it out with the aws-sdk-code. I excluded a few packages from the pom.xml and the size reduced to 800kb.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt; \r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;1.7&lt;/source&gt;\r\n        &lt;target&gt;1.7&lt;/target&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/autoscaling/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/cloudformation/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/cloudfront/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/cloudfront_2012_03_15/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/cloudsearch/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/cloudtrail/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/cloudwatch/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/datapipeline/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/directconnect/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/dynamodb/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/dynamodbv2/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/ec2/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/elasticache/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/elasticbeanstalk/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/elasticloadbalancing/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/elasticmapreduce/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/elastictranscoder/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/glacier/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/identitymanagement/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/importexport/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/kinesis/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/opsworks/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/rds/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/redshift/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/route53/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/s3/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/securitytoken/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/simpleemail/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/simpleworkflow/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/sns/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/sqs/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/storagegateway/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/services/support/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/metrics/**&lt;/exclude&gt;\r\n            &lt;exclude&gt;com/amazonaws/auth/policy/resources/SQSQueueResource.java&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAlso it needed to 3 dependencies alone for it to work\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;properties&gt;\r\n            &lt;jackson.version&gt;2.1.1&lt;/jackson.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt;\r\n        \r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt;\r\n        \r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt;\r\n        \r\n    &lt;/dependency&gt;\r\n\r\nSo in total it came out to less than 2MB. I was using typica and since this was a drop in replacement for it didn&#39;t increase my installer size at all.","title":"AWS SDK - very big - 11MB. I want to use only the SimpleDB service","body":"<p>I had to work it out with the aws-sdk-code. I excluded a few packages from the pom.xml and the size reduced to 800kb.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt; \n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.7&lt;/source&gt;\n    &lt;target&gt;1.7&lt;/target&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;com/amazonaws/services/autoscaling/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/cloudformation/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/cloudfront/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/cloudfront_2012_03_15/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/cloudsearch/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/cloudtrail/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/cloudwatch/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/datapipeline/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/directconnect/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/dynamodb/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/dynamodbv2/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/ec2/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/elasticache/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/elasticbeanstalk/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/elasticloadbalancing/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/elasticmapreduce/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/elastictranscoder/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/glacier/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/identitymanagement/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/importexport/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/kinesis/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/opsworks/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/rds/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/redshift/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/route53/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/s3/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/securitytoken/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/simpleemail/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/simpleworkflow/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/sns/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/sqs/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/storagegateway/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/services/support/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/metrics/**&lt;/exclude&gt;\n        &lt;exclude&gt;com/amazonaws/auth/policy/resources/SQSQueueResource.java&lt;/exclude&gt;\n    &lt;/excludes&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Also it needed to 3 dependencies alone for it to work</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;jackson.version&gt;2.1.1&lt;/jackson.version&gt;\n&lt;/properties&gt;\n\n &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n\n&lt;/dependency&gt;\n</code></pre>\n\n<p>So in total it came out to less than 2MB. I was using typica and since this was a drop in replacement for it didn't increase my installer size at all.</p>\n"},{"tags":[],"owner":{"account_id":4011368,"reputation":269,"user_id":3304632,"display_name":"Shakti Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675390829,"creation_date":1675390829,"answer_id":75330868,"question_id":22043166,"body_markdown":"I did similar by using maven-shade-plugin&#39;s minimizeJar configuration. Instead of specifying user-specified filters which are time-consuming and error-prone, this plugin can be configured to automatically remove all classes of dependencies that are not used by the project, thereby minimizing the resulting uber JAR.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"AWS SDK - very big - 11MB. I want to use only the SimpleDB service","body":"<p>I did similar by using maven-shade-plugin's minimizeJar configuration. Instead of specifying user-specified filters which are time-consuming and error-prone, this plugin can be configured to automatically remove all classes of dependencies that are not used by the project, thereby minimizing the resulting uber JAR.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":444584,"reputation":8231,"user_id":836487,"accept_rate":64,"display_name":"sethu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1981,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1675390829,"creation_date":1393422054,"question_id":22043166,"body_markdown":"I am using Amazon SimpleDB from a desktop java app. Thus my installer needs to ship the aws-sdk jar as well. The issue is, its 11mB and has a whole lot of classes for services that I will not use. \r\n\r\nIs there an easy way of splitting up the sdk into smaller chunks. Like have all the common code into one jar. And all the service specific code into another jar?\r\n\r\nIs there something that I could use out of the box? Or do I need to this myself after downloading the code?\r\n\r\nI am using the typica library. But its not maintained anymore and is not compatible with the latest httpcomponents.","title":"AWS SDK - very big - 11MB. I want to use only the SimpleDB service","body":"<p>I am using Amazon SimpleDB from a desktop java app. Thus my installer needs to ship the aws-sdk jar as well. The issue is, its 11mB and has a whole lot of classes for services that I will not use. </p>\n\n<p>Is there an easy way of splitting up the sdk into smaller chunks. Like have all the common code into one jar. And all the service specific code into another jar?</p>\n\n<p>Is there something that I could use out of the box? Or do I need to this myself after downloading the code?</p>\n\n<p>I am using the typica library. But its not maintained anymore and is not compatible with the latest httpcomponents.</p>\n"},{"tags":["java","android","localization"],"owner":{"account_id":27690662,"reputation":1,"user_id":21137434,"display_name":"Fake Account"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675390458,"creation_date":1675390458,"question_id":75330847,"body_markdown":"Android offers various date formats such as `LongDateFormat` and `MediumDateFormat`. But, the `LongDateFormat` and `MediumDateFormat` are identical for some languages. \r\n\r\nThis looks silly in a combo box/dropdown. Two of the options are the same. Is there an easy way to get the combo box to only show discreet options in each language? For example, if the `LongDateFormat` and `MediumDateFormat` are identical, can you only show the `MediumDateFormat`and &#39;MediumDateFormat&#39; options?\r\n\r\n\r\n\r\nThe only way I can think of solving this is to use Locale and then write each locale by hand in an &quot;if else&quot; list. ","title":"How do I offer different date format options based on user language on Android?","body":"<p>Android offers various date formats such as <code>LongDateFormat</code> and <code>MediumDateFormat</code>. But, the <code>LongDateFormat</code> and <code>MediumDateFormat</code> are identical for some languages.</p>\n<p>This looks silly in a combo box/dropdown. Two of the options are the same. Is there an easy way to get the combo box to only show discreet options in each language? For example, if the <code>LongDateFormat</code> and <code>MediumDateFormat</code> are identical, can you only show the <code>MediumDateFormat</code>and 'MediumDateFormat' options?</p>\n<p>The only way I can think of solving this is to use Locale and then write each locale by hand in an &quot;if else&quot; list.</p>\n"},{"tags":["java","spring-boot","docker","kubernetes","minikube"],"answers":[{"tags":[],"owner":{"account_id":14805918,"reputation":1075,"user_id":10692906,"display_name":"Ralle Mc Black"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673386774,"creation_date":1673386774,"answer_id":75076141,"question_id":75075680,"body_markdown":"Did you try from inside a clusternode if you can reach the internet. Ping google.com for example?\r\n```\r\nminikube ssh to access the minikube node.\r\n```\r\nMost likely it is network problem.\r\n\r\nIf so you need to specify a driver, according to your OS and Virtualizzation. (HyperV, VirtualBox ecc.)\r\n\r\nYou can found a complete list [here](https://minikube.sigs.k8s.io/docs/drivers/)","title":"Deploying Spring Boot Microservice to Kubernetes Issue - Failed to pull image","body":"<p>Did you try from inside a clusternode if you can reach the internet. Ping google.com for example?</p>\n<pre><code>minikube ssh to access the minikube node.\n</code></pre>\n<p>Most likely it is network problem.</p>\n<p>If so you need to specify a driver, according to your OS and Virtualizzation. (HyperV, VirtualBox ecc.)</p>\n<p>You can found a complete list <a href=\"https://minikube.sigs.k8s.io/docs/drivers/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675390007,"creation_date":1675390007,"answer_id":75330803,"question_id":75075680,"body_markdown":"Here is the answer.\r\n\r\nAfter I changed the line shown below, the issue disappeared.\r\n\r\n    imagePullPolicy: IfNotPresent","title":"Deploying Spring Boot Microservice to Kubernetes Issue - Failed to pull image","body":"<p>Here is the answer.</p>\n<p>After I changed the line shown below, the issue disappeared.</p>\n<pre><code>imagePullPolicy: IfNotPresent\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675436114,"accepted_answer_id":75330803,"answer_count":2,"score":-1,"last_activity_date":1675390007,"creation_date":1673383734,"question_id":75075680,"body_markdown":"I have a problem about deploying all spring boot microservices to Kubernetes.\r\n\r\nI use minikube to open kubernetes dashboard through all these commands shown below.\r\n\r\n    1 ) minikube start\r\n    2 ) minikube dashboard\r\n\r\nNext, I run `kubectl apply -f k8s` to deploy all services to Kubernetes.\r\n\r\nI get errors shown below.\r\n\r\n    Auth Service -&gt; Failed to pull image &quot;noyandocker/authservice&quot;: rpc error: code = Unknown desc = context deadline exceeded\r\n    \r\n    Api gateway -&gt; Failed to pull image &quot;noyandocker/apigateway&quot;: rpc error: code = Unknown desc = context deadline exceeded\r\n    \r\n    Config server -&gt; Failed to pull image &quot;noyandocker/configserver&quot;: rpc error: code = Unknown desc = context deadline exceeded\r\n    \r\n    Order Service -&gt; Failed to pull image &quot;noyandocker/orderservice&quot;: rpc error: code = Unknown desc = context deadline exceeded\r\n    \r\n    Payment Service -&gt; Failed to pull image &quot;noyandocker/paymentservice&quot;: rpc error: code = Unknown desc = context deadline exceeded\r\n    \r\n    Product Service -&gt; Failed to pull image &quot;noyandocker/productservice&quot;: rpc error: code = Unknown desc = Error response from daemon: Get &quot;https://registry-1.docker.io/v2/&quot;: dial tcp: lookup registry-1.docker.io on 192.168.65.2:53: read udp 192.168.49.2:59506-&gt;192.168.65.2:53: i/o timeout\r\n    \r\n    Mysql -&gt; Show always &quot;Pending&quot; -&gt; The selected container has not logged any messages yet.\r\n    \r\n    Eureka -&gt; container &quot;eureka&quot; in pod &quot;eureka-0&quot; is waiting to start: trying and failing to pull image\r\n\r\nHere is the screenshot folder :[Link][1]\r\n\r\nHere is the docker hub : [Link][2]\r\n\r\nHere is the repo : [Link][3]\r\n\r\nHere is the minikube running on docker.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\nHow can I fix all these issues?\r\n\r\n\r\n  [1]: https://drive.google.com/drive/folders/1nwPCDDIZ3_Go4YmJz5wG7rRF1pt7Bo4b?usp=share_link\r\n  [2]: https://hub.docker.com/search?q=noyandocker\r\n  [3]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [4]: https://i.stack.imgur.com/Dyq1W.png\r\n  [5]: https://i.stack.imgur.com/eSaud.png","title":"Deploying Spring Boot Microservice to Kubernetes Issue - Failed to pull image","body":"<p>I have a problem about deploying all spring boot microservices to Kubernetes.</p>\n<p>I use minikube to open kubernetes dashboard through all these commands shown below.</p>\n<pre><code>1 ) minikube start\n2 ) minikube dashboard\n</code></pre>\n<p>Next, I run <code>kubectl apply -f k8s</code> to deploy all services to Kubernetes.</p>\n<p>I get errors shown below.</p>\n<pre><code>Auth Service -&gt; Failed to pull image &quot;noyandocker/authservice&quot;: rpc error: code = Unknown desc = context deadline exceeded\n\nApi gateway -&gt; Failed to pull image &quot;noyandocker/apigateway&quot;: rpc error: code = Unknown desc = context deadline exceeded\n\nConfig server -&gt; Failed to pull image &quot;noyandocker/configserver&quot;: rpc error: code = Unknown desc = context deadline exceeded\n\nOrder Service -&gt; Failed to pull image &quot;noyandocker/orderservice&quot;: rpc error: code = Unknown desc = context deadline exceeded\n\nPayment Service -&gt; Failed to pull image &quot;noyandocker/paymentservice&quot;: rpc error: code = Unknown desc = context deadline exceeded\n\nProduct Service -&gt; Failed to pull image &quot;noyandocker/productservice&quot;: rpc error: code = Unknown desc = Error response from daemon: Get &quot;https://registry-1.docker.io/v2/&quot;: dial tcp: lookup registry-1.docker.io on 192.168.65.2:53: read udp 192.168.49.2:59506-&gt;192.168.65.2:53: i/o timeout\n\nMysql -&gt; Show always &quot;Pending&quot; -&gt; The selected container has not logged any messages yet.\n\nEureka -&gt; container &quot;eureka&quot; in pod &quot;eureka-0&quot; is waiting to start: trying and failing to pull image\n</code></pre>\n<p>Here is the screenshot folder :<a href=\"https://drive.google.com/drive/folders/1nwPCDDIZ3_Go4YmJz5wG7rRF1pt7Bo4b?usp=share_link\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the docker hub : <a href=\"https://hub.docker.com/search?q=noyandocker\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the minikube running on docker.</p>\n<p><a href=\"https://i.stack.imgur.com/Dyq1W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dyq1W.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eSaud.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSaud.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I fix all these issues?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675389072,"creation_date":1675389072,"answer_id":75330727,"question_id":75330696,"body_markdown":"The converter you have registered in the WebMvcConfigurer is used for formatting data in the view(The view in MVC).\r\n\r\nYou should add converter to Spring Data related custom conversions beans, every Spring Data sub project has its own registration entry there.\r\n\r\nPlease read the Spring Data related docs.","title":"Custom Return Type on Custom CrudRepository Method","body":"<p>The converter you have registered in the WebMvcConfigurer is used for formatting data in the view(The view in MVC).</p>\n<p>You should add converter to Spring Data related custom conversions beans, every Spring Data sub project has its own registration entry there.</p>\n<p>Please read the Spring Data related docs.</p>\n"}],"owner":{"account_id":1050987,"reputation":8285,"user_id":1054937,"accept_rate":88,"display_name":"Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75330727,"answer_count":1,"score":0,"last_activity_date":1675389072,"creation_date":1675388680,"question_id":75330696,"body_markdown":"I am trying to write an interface that extends CrudRepository that will return a list of a particular field. When I use that method, I get ConverterNotFoundException. I have two questions:\r\n\r\n 1. Is there a specific Spring Boot query if I want a list containing a specific field? \r\n 2. Am I implementing the converter correctly? I am not sure how to call WebConfig.\r\n\r\n```\r\n// EmployeeRepository.java\r\n@Repository\r\npublic interface EmployeeRepository extends CrudRepository&lt;Employee, Long&gt; {\r\n    List&lt;String&gt; findByEmployeeId(String employeeId);   // ConverterNotFoundException. Expecting list of employee&#39;s full name\r\n}\r\n\r\n\r\n// EmployeeToStringConverter.java\r\n@Component\r\npublic class EmployeeToStringConverter implements Converter&lt;Employee, String&gt; {\r\n    @Override\r\n    public String convert(Employee source) {\r\n        return source.getFullName();\r\n    }\r\n}\r\n\r\n\r\n// WebConfig.java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new EmployeeToStringConverter());\r\n    }\r\n}\r\n\r\n\r\n// Employee.java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@Getter\r\n@Table(name = &quot;employees&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;Id&quot;)\r\n    private Long id;\r\n    @Column(name=&quot;FullName&quot;)\r\n    private String fullName;\r\n    @Column(name=&quot;NickName&quot;)\r\n    private String nickName;\r\n\r\n    public HubKey(String fullName, String nickName) {\r\n        this.fullName = fullName;\r\n        this.nickName = nickName;\r\n    }\r\n}\r\n\r\n\r\n// Exception when calling EmployeeRepository.findByEmployeeId()\r\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [com.jon.demo.domain.entity.Employee] to type [java.lang.String]\r\n```\r\n\r\n","title":"Custom Return Type on Custom CrudRepository Method","body":"<p>I am trying to write an interface that extends CrudRepository that will return a list of a particular field. When I use that method, I get ConverterNotFoundException. I have two questions:</p>\n<ol>\n<li>Is there a specific Spring Boot query if I want a list containing a specific field?</li>\n<li>Am I implementing the converter correctly? I am not sure how to call WebConfig.</li>\n</ol>\n<pre><code>// EmployeeRepository.java\n@Repository\npublic interface EmployeeRepository extends CrudRepository&lt;Employee, Long&gt; {\n    List&lt;String&gt; findByEmployeeId(String employeeId);   // ConverterNotFoundException. Expecting list of employee's full name\n}\n\n\n// EmployeeToStringConverter.java\n@Component\npublic class EmployeeToStringConverter implements Converter&lt;Employee, String&gt; {\n    @Override\n    public String convert(Employee source) {\n        return source.getFullName();\n    }\n}\n\n\n// WebConfig.java\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new EmployeeToStringConverter());\n    }\n}\n\n\n// Employee.java\n@Entity\n@Data\n@NoArgsConstructor\n@Getter\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;Id&quot;)\n    private Long id;\n    @Column(name=&quot;FullName&quot;)\n    private String fullName;\n    @Column(name=&quot;NickName&quot;)\n    private String nickName;\n\n    public HubKey(String fullName, String nickName) {\n        this.fullName = fullName;\n        this.nickName = nickName;\n    }\n}\n\n\n// Exception when calling EmployeeRepository.findByEmployeeId()\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [com.jon.demo.domain.entity.Employee] to type [java.lang.String]\n</code></pre>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675388926,"creation_date":1675388926,"answer_id":75330717,"question_id":75330344,"body_markdown":"Assuming you are using Jackson, just create a secondary constructor and mark *that* as `JsonCreator` instead. Have the secondary constructor delegate to the primary one.\r\n\r\n```\r\ndata class PSR (\r\n    override val bugId: Int,\r\n    override val incidentDate: LocalDateTime,\r\n    override val pillar: String,\r\n    override val atb: Int = bugId,\r\n    ) : Incident {\r\n\r\n    @JsonCreator\r\n    constructor(\r\n        @JsonDeserialize(using = DoubleToInt::class)\r\n        @JsonProperty(&quot;bugId&quot;)\r\n        bugId: Int,\r\n\r\n        @JsonDeserialize(using = EpochToLocalDateTime::class)\r\n        @JsonProperty(&quot;incidentDate&quot;)\r\n        incidentDate: LocalDateTime,\r\n\r\n        @JsonProperty(&quot;pillar&quot;)\r\n        pillar: String,\r\n\r\n        @JsonDeserialize(using = DoubleToInt::class)\r\n        @JsonProperty(&quot;atb&quot;)\r\n        atb: Int?,\r\n    ): this(bugId, incidentDate, pillar, atb ?: bugId)\r\n\r\n    override val source: String = &quot;PSR&quot;\r\n}\r\n```","title":"Setting a default value in a Kotlin data class conditionally","body":"<p>Assuming you are using Jackson, just create a secondary constructor and mark <em>that</em> as <code>JsonCreator</code> instead. Have the secondary constructor delegate to the primary one.</p>\n<pre><code>data class PSR (\n    override val bugId: Int,\n    override val incidentDate: LocalDateTime,\n    override val pillar: String,\n    override val atb: Int = bugId,\n    ) : Incident {\n\n    @JsonCreator\n    constructor(\n        @JsonDeserialize(using = DoubleToInt::class)\n        @JsonProperty(&quot;bugId&quot;)\n        bugId: Int,\n\n        @JsonDeserialize(using = EpochToLocalDateTime::class)\n        @JsonProperty(&quot;incidentDate&quot;)\n        incidentDate: LocalDateTime,\n\n        @JsonProperty(&quot;pillar&quot;)\n        pillar: String,\n\n        @JsonDeserialize(using = DoubleToInt::class)\n        @JsonProperty(&quot;atb&quot;)\n        atb: Int?,\n    ): this(bugId, incidentDate, pillar, atb ?: bugId)\n\n    override val source: String = &quot;PSR&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75330717,"answer_count":1,"score":1,"last_activity_date":1675388926,"creation_date":1675384716,"question_id":75330344,"body_markdown":"I am trying to implement an interface in Kotlin, and basically what I am trying to do is say: &quot;If the value `atb` if null/not set, then set it to `bugId`&quot;. \r\n\r\nHere is the Kotlin interface I am trying to implement\r\n```kotlin\r\ninterface Incident {\r\n\r\n    @get:NotNull\r\n    @get:Past\r\n    val incidentDate: LocalDateTime\r\n\r\n    @get:NotNull\r\n    val source: String\r\n\r\n    @get:NotNull\r\n    @get:Positive\r\n    val bugId: Int\r\n\r\n    @get:NotNull\r\n    @get:Pattern(\r\n        regexp = &quot;FOO|BAZ&quot;,\r\n        message = &quot;&#39;\\${validatedValue}&#39; not allowed. Must be one of : {regexp}&quot;\r\n    )\r\n    val pillar: String\r\n\r\n    @get:Positive\r\n    val atb: Int\r\n\r\n}\r\n```\r\n\r\nAnd here is how I am trying to implement it:\r\n```kotlin\r\ndata class PSR (\r\n    @JsonDeserialize(using = DoubleToInt::class)\r\n    override val bugId: Int,\r\n\r\n    @JsonDeserialize(using = EpochToLocalDateTime::class)\r\n    override val incidentDate: LocalDateTime,\r\n\r\n    override val pillar: String,\r\n\r\n    @JsonDeserialize(using = DoubleToInt::class)\r\n    override val atb: Int = bugId,\r\n\r\n    ) : Incident {\r\n    override val source: String = &quot;PSR&quot;\r\n}\r\n```\r\n\r\n\r\nThe problem is I am trying to deserialize this data from JSON and when I do, I get the following (understandable) error:\r\n```\r\nInstantiation of [simple type, class com.company.models.spreadsheets.psr.PSR] value failed for JSON property atb due to missing (therefore NULL) value for creator parameter atb which is a non-nullable type\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: com.company.models.spreadsheets.psr.PSR[&quot;atb&quot;])\r\n\r\n```\r\n\r\nI&#39;ve given the equivalent java code below that achieves what I want. How can I do this in Kotlin (and keep the benefits of a data class)?\r\n```java\r\n    class PERF implements Incident {\r\n        private final LocalDateTime incidentDate;\r\n        private final Integer bugId;\r\n        private final String pillar;\r\n        private final Integer atb;\r\n\r\n        public PERF(LocalDateTime incidentDate, Integer bugId, String pillar, Integer atb) {\r\n            this.bugId = bugId;\r\n            this.atb = atb == null ? bugId: atb;\r\n            this.incidentDate = incidentDate;\r\n            this.pillar = pillar;\r\n        }\r\n\r\n        @NotNull\r\n        @Override\r\n        public LocalDateTime getIncidentDate() {\r\n            return incidentDate;\r\n        }\r\n\r\n        @Override\r\n        public int getBugId() {\r\n            return bugId;\r\n        }\r\n\r\n        @NotNull\r\n        @Override\r\n        public String getPillar() {\r\n            return pillar;\r\n        }\r\n\r\n        @Override\r\n        public int getAtb() {\r\n            return atb;\r\n        }\r\n        @Override\r\n        public String getSource() {\r\n            return &quot;PERF&quot;\r\n        }\r\n    }\r\n```","title":"Setting a default value in a Kotlin data class conditionally","body":"<p>I am trying to implement an interface in Kotlin, and basically what I am trying to do is say: &quot;If the value <code>atb</code> if null/not set, then set it to <code>bugId</code>&quot;.</p>\n<p>Here is the Kotlin interface I am trying to implement</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface Incident {\n\n    @get:NotNull\n    @get:Past\n    val incidentDate: LocalDateTime\n\n    @get:NotNull\n    val source: String\n\n    @get:NotNull\n    @get:Positive\n    val bugId: Int\n\n    @get:NotNull\n    @get:Pattern(\n        regexp = &quot;FOO|BAZ&quot;,\n        message = &quot;'\\${validatedValue}' not allowed. Must be one of : {regexp}&quot;\n    )\n    val pillar: String\n\n    @get:Positive\n    val atb: Int\n\n}\n</code></pre>\n<p>And here is how I am trying to implement it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class PSR (\n    @JsonDeserialize(using = DoubleToInt::class)\n    override val bugId: Int,\n\n    @JsonDeserialize(using = EpochToLocalDateTime::class)\n    override val incidentDate: LocalDateTime,\n\n    override val pillar: String,\n\n    @JsonDeserialize(using = DoubleToInt::class)\n    override val atb: Int = bugId,\n\n    ) : Incident {\n    override val source: String = &quot;PSR&quot;\n}\n</code></pre>\n<p>The problem is I am trying to deserialize this data from JSON and when I do, I get the following (understandable) error:</p>\n<pre><code>Instantiation of [simple type, class com.company.models.spreadsheets.psr.PSR] value failed for JSON property atb due to missing (therefore NULL) value for creator parameter atb which is a non-nullable type\n at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: com.company.models.spreadsheets.psr.PSR[&quot;atb&quot;])\n\n</code></pre>\n<p>I've given the equivalent java code below that achieves what I want. How can I do this in Kotlin (and keep the benefits of a data class)?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class PERF implements Incident {\n        private final LocalDateTime incidentDate;\n        private final Integer bugId;\n        private final String pillar;\n        private final Integer atb;\n\n        public PERF(LocalDateTime incidentDate, Integer bugId, String pillar, Integer atb) {\n            this.bugId = bugId;\n            this.atb = atb == null ? bugId: atb;\n            this.incidentDate = incidentDate;\n            this.pillar = pillar;\n        }\n\n        @NotNull\n        @Override\n        public LocalDateTime getIncidentDate() {\n            return incidentDate;\n        }\n\n        @Override\n        public int getBugId() {\n            return bugId;\n        }\n\n        @NotNull\n        @Override\n        public String getPillar() {\n            return pillar;\n        }\n\n        @Override\n        public int getAtb() {\n            return atb;\n        }\n        @Override\n        public String getSource() {\n            return &quot;PERF&quot;\n        }\n    }\n</code></pre>\n"},{"tags":["java","regex","xml"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1454811458,"post_id":35248876,"comment_id":58211553,"body_markdown":"By default `.` doesn&#39;t match line separators. It may match all characters (including line separators) if you use `Patter.DOTALL` flag. `[\\s\\S]` is set which includes all whitespaces \\s and all non-whitespaces \\S, effectively representing all characters (including line separators).","body":"By default <code>.</code> doesn&#39;t match line separators. It may match all characters (including line separators) if you use <code>Patter.DOTALL</code> flag. <code>[\\s\\S]</code> is set which includes all whitespaces \\s and all non-whitespaces \\S, effectively representing all characters (including line separators)."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1454830482,"post_id":35248876,"comment_id":58214798,"body_markdown":"The trailing ? contributes nothing in both cases.","body":"The trailing ? contributes nothing in both cases."},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"score":0,"creation_date":1454836752,"post_id":35248876,"comment_id":58216188,"body_markdown":"A very related one: [*What&#39;s the difference between these RegEx*](http://stackoverflow.com/a/14648811/3832970)","body":"A very related one: <a href=\"http://stackoverflow.com/a/14648811/3832970\"><i>What&#39;s the difference between these RegEx</i></a>"},{"owner":{"account_id":9711131,"reputation":253,"user_id":7238436,"display_name":"setholopolus"},"score":0,"creation_date":1565123615,"post_id":35248876,"comment_id":101251396,"body_markdown":"Fantastic question, I&#39;m really surprised it doesn&#39;t have more upvotes.","body":"Fantastic question, I&#39;m really surprised it doesn&#39;t have more upvotes."}],"answers":[{"tags":[],"owner":{"account_id":7637881,"reputation":727,"user_id":5790901,"accept_rate":100,"display_name":"z7r1k3"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455062485,"creation_date":1454810756,"answer_id":35248916,"question_id":35248876,"body_markdown":"[Here][1] is a sheet explaining all the regex commands.\r\n\r\nBasically, `\\s\\S` will pickup all characters, including newlines. Whereas `.` does not pickup line terminators per default (certain flags need to be set to pick them up).\r\n\r\n\r\n  [1]: http://www.rexegg.com/regex-quickstart.html","title":"Whats the difference between [\\s\\S]*? and .*? in Java regular expressions?","body":"<p><a href=\"http://www.rexegg.com/regex-quickstart.html\" rel=\"nofollow\">Here</a> is a sheet explaining all the regex commands.</p>\n\n<p>Basically, <code>\\s\\S</code> will pickup all characters, including newlines. Whereas <code>.</code> does not pickup line terminators per default (certain flags need to be set to pick them up).</p>\n"},{"tags":[],"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1528191683,"creation_date":1454811047,"answer_id":35248940,"question_id":35248876,"body_markdown":"The regular expressions `.` and `\\s\\S` are not equivalent, since `.` doesn&#39;t catch line terminators (like new line) by default.\r\n\r\nAccording to the [oracle website][1], `.` matches \r\n&gt;Any character (may or may not match line terminators)\r\n\r\nwhile a line terminator is any of the following:\r\n\r\n&gt;  - A newline (line feed) character (`&#39;\\n&#39;`),\r\n&gt;  - A carriage-return character followed immediately by a newline character (`&quot;\\r\\n&quot;`),\r\n&gt;  - A standalone carriage-return character (`&#39;\\r&#39;`),\r\n&gt;  - A next-line character (`&#39;\\u0085&#39;`),\r\n&gt;  - A line-separator character (`&#39;\\u2028&#39;`), or\r\n&gt;  - A paragraph-separator character (`&#39;\\u2029`).\r\n\r\nThe two expressions are not equivalent, as long as the necessary flags are not set. Again quoting the oracle website:\r\n\r\n&gt; If [`UNIX_LINES`][2] mode is activated, then the only line terminators\r\n&gt; recognized are newline characters.\r\n&gt; \r\n&gt; The regular expression `.` matches any character except a line\r\n&gt; terminator unless the [`DOTALL`][3] flag is specified.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#predef\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#UNIX_LINES\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL","title":"Whats the difference between [\\s\\S]*? and .*? in Java regular expressions?","body":"<p>The regular expressions <code>.</code> and <code>\\s\\S</code> are not equivalent, since <code>.</code> doesn't catch line terminators (like new line) by default.</p>\n\n<p>According to the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#predef\" rel=\"noreferrer\">oracle website</a>, <code>.</code> matches </p>\n\n<blockquote>\n  <p>Any character (may or may not match line terminators)</p>\n</blockquote>\n\n<p>while a line terminator is any of the following:</p>\n\n<blockquote>\n  <ul>\n  <li>A newline (line feed) character (<code>'\\n'</code>),</li>\n  <li>A carriage-return character followed immediately by a newline character (<code>\"\\r\\n\"</code>),</li>\n  <li>A standalone carriage-return character (<code>'\\r'</code>),</li>\n  <li>A next-line character (<code>'\\u0085'</code>),</li>\n  <li>A line-separator character (<code>'\\u2028'</code>), or</li>\n  <li>A paragraph-separator character (<code>'\\u2029</code>).</li>\n  </ul>\n</blockquote>\n\n<p>The two expressions are not equivalent, as long as the necessary flags are not set. Again quoting the oracle website:</p>\n\n<blockquote>\n  <p>If <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#UNIX_LINES\" rel=\"noreferrer\"><code>UNIX_LINES</code></a> mode is activated, then the only line terminators\n  recognized are newline characters.</p>\n  \n  <p>The regular expression <code>.</code> matches any character except a line\n  terminator unless the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"noreferrer\"><code>DOTALL</code></a> flag is specified.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":27690539,"reputation":1,"user_id":21137326,"display_name":"jiahe chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675388318,"creation_date":1675388318,"answer_id":75330661,"question_id":35248876,"body_markdown":"it is like in javascript although i don&#39;t get use to java, but java is a type of program and it is very useful in our real life.","title":"Whats the difference between [\\s\\S]*? and .*? in Java regular expressions?","body":"<p>it is like in javascript although i don't get use to java, but java is a type of program and it is very useful in our real life.</p>\n"}],"owner":{"account_id":5443475,"reputation":2089,"user_id":4330847,"accept_rate":59,"display_name":"Dmitry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16452,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":35248940,"answer_count":3,"score":14,"last_activity_date":1675388318,"creation_date":1454810410,"question_id":35248876,"body_markdown":"I have developed a regular expression to identify a block of xml inside a text file. The expression looks like this (I have removed all java escape slashes to make it read easy):\r\n\r\n    &lt;\\?xml\\s+version=&quot;[\\d\\.]+&quot;\\s*\\?&gt;\\s*&lt;\\s*rdf:RDF[^&gt;]*&gt;[\\s\\S]*?&lt;\\s*\\/\\s*rdf:RDF\\s*&gt;\r\n\r\nThen I optimised it and replaced `[\\s\\S]*?` with `.*?` It suddenly stopped recognising the xml. \r\n\r\nAs far as I know, `\\s` means all white-space symbols and `\\S` means all non white-spaced symbols or `[^\\s]` so `[\\s\\S]` logically should be equivalent to `.` I didn&#39;t use greedy filters, so what could be the difference?","title":"Whats the difference between [\\s\\S]*? and .*? in Java regular expressions?","body":"<p>I have developed a regular expression to identify a block of xml inside a text file. The expression looks like this (I have removed all java escape slashes to make it read easy):</p>\n\n<pre><code>&lt;\\?xml\\s+version=\"[\\d\\.]+\"\\s*\\?&gt;\\s*&lt;\\s*rdf:RDF[^&gt;]*&gt;[\\s\\S]*?&lt;\\s*\\/\\s*rdf:RDF\\s*&gt;\n</code></pre>\n\n<p>Then I optimised it and replaced <code>[\\s\\S]*?</code> with <code>.*?</code> It suddenly stopped recognising the xml. </p>\n\n<p>As far as I know, <code>\\s</code> means all white-space symbols and <code>\\S</code> means all non white-spaced symbols or <code>[^\\s]</code> so <code>[\\s\\S]</code> logically should be equivalent to <code>.</code> I didn't use greedy filters, so what could be the difference?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":7100728,"reputation":29,"user_id":5432388,"display_name":"neo83"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675387520,"creation_date":1675387520,"question_id":75330591,"body_markdown":"I am trying to add a servlet mapping to the dispatcher servlet in a spring boot application but it&#39;s not working. The request http://localhost:8080/demo/some_uri returns 404.\r\n\r\nIf I add `@EnableWebMvc` annotation to a config class which extends `WebMvcConfigurer` and register that to the application context (ac) then it works. But in that case it also works without the `/demo` in the URL (so http://localhost:8080/demo/some_uri and http://localhost:8080/some_uri both work)\r\n\r\nAs per the spring-boot documentation `@SpringBootApplication` annotation automatically adds `@EnableWebMvc` annotation if you have you declared `spring-boot-starter-web` as a dependency in your pom.\r\n\r\nI have 2 questions:\r\n- Why did the `addMapping` not work without explicitly annotating the class with `@EnableWebMvc`?\r\n- How is the request reaching the controller even when the servlet mapping is not in the request URL?\r\n\r\nMain Application class\r\n```\r\n@SpringBootApplication\r\n\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nServlet Initializer class\r\n```\r\npublic class ServletInitializer extends SpringBootServletInitializer {\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(Application.class);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n\t\tsuper.onStartup(servletContext);\r\n\t\tObject obj = servletContext.getAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE);\r\n\t\tif (obj instanceof AnnotationConfigServletWebServerApplicationContext) {\r\n\t\t\tAnnotationConfigServletWebServerApplicationContext ac = (AnnotationConfigServletWebServerApplicationContext) obj;\r\n\t\t\tservletContext.addListener(new RequestContextListener());\r\n\t\t\tServletRegistration.Dynamic registration = servletContext.addServlet(&quot;dispatcher&quot;,\r\n\t\t\t\t\tnew DispatcherServlet(ac));\r\n\t\t\tregistration.setLoadOnStartup(1);\r\n\t\t\tregistration.addMapping(&quot;/demo/*&quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\npom snippet\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```","title":"Why in a spring boot app the ServletRegistration.Dynamic addMapping is not working without explicitly annotating a config class with @EnableWebMvc?","body":"<p>I am trying to add a servlet mapping to the dispatcher servlet in a spring boot application but it's not working. The request http://localhost:8080/demo/some_uri returns 404.</p>\n<p>If I add <code>@EnableWebMvc</code> annotation to a config class which extends <code>WebMvcConfigurer</code> and register that to the application context (ac) then it works. But in that case it also works without the <code>/demo</code> in the URL (so http://localhost:8080/demo/some_uri and http://localhost:8080/some_uri both work)</p>\n<p>As per the spring-boot documentation <code>@SpringBootApplication</code> annotation automatically adds <code>@EnableWebMvc</code> annotation if you have you declared <code>spring-boot-starter-web</code> as a dependency in your pom.</p>\n<p>I have 2 questions:</p>\n<ul>\n<li>Why did the <code>addMapping</code> not work without explicitly annotating the class with <code>@EnableWebMvc</code>?</li>\n<li>How is the request reaching the controller even when the servlet mapping is not in the request URL?</li>\n</ul>\n<p>Main Application class</p>\n<pre><code>@SpringBootApplication\n\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>Servlet Initializer class</p>\n<pre><code>public class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        super.onStartup(servletContext);\n        Object obj = servletContext.getAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE);\n        if (obj instanceof AnnotationConfigServletWebServerApplicationContext) {\n            AnnotationConfigServletWebServerApplicationContext ac = (AnnotationConfigServletWebServerApplicationContext) obj;\n            servletContext.addListener(new RequestContextListener());\n            ServletRegistration.Dynamic registration = servletContext.addServlet(&quot;dispatcher&quot;,\n                    new DispatcherServlet(ac));\n            registration.setLoadOnStartup(1);\n            registration.addMapping(&quot;/demo/*&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>pom snippet</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":["java","sockets","server","client"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1675383618,"post_id":75330220,"comment_id":132923175,"body_markdown":"`(received != &quot;Exit&quot; || received != &quot;exit&quot;)`--This is not how you compare strings; and it is not how you test if a thing is unequal to two other things.","body":"<code>(received != &quot;Exit&quot; || received != &quot;exit&quot;)</code>--This is not how you compare strings; and it is not how you test if a thing is unequal to two other things."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1675383784,"post_id":75330220,"comment_id":132923206,"body_markdown":"See [How do I compare strings in Java?](https://stackoverflow.com/q/513832/3890632) and [Why does non-equality check of one variable against many values always return true?](https://stackoverflow.com/q/26337003/3890632)","body":"See <a href=\"https://stackoverflow.com/q/513832/3890632\">How do I compare strings in Java?</a> and <a href=\"https://stackoverflow.com/q/26337003/3890632\">Why does non-equality check of one variable against many values always return true?</a>"},{"owner":{"account_id":6208638,"reputation":33,"user_id":4835669,"display_name":"Nehemiah Newell"},"score":0,"creation_date":1675384119,"post_id":75330220,"comment_id":132923252,"body_markdown":"While that&#39;s helpful, that&#39;s not the source of the bug I&#39;m looking to solve, as my code never reaches there. Fixing problems with that loop will have to happen eventually, but it doesn&#39;t matter if I can&#39;t get the server and client talking.","body":"While that&#39;s helpful, that&#39;s not the source of the bug I&#39;m looking to solve, as my code never reaches there. Fixing problems with that loop will have to happen eventually, but it doesn&#39;t matter if I can&#39;t get the server and client talking."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675387005,"creation_date":1675385900,"answer_id":75330451,"question_id":75330220,"body_markdown":"The problem is that `reader.readLine()` doesnât return until it sees a new line character, but `streamOutput.writeChars(&quot;Client Begining Conversation&quot;)` doesnât send one.\r\n\r\nMore generally, mixing a `DataOutputStream` on the client with a `BufferedReader` on the server wonât work reliably, as the latter expects plain text, while the former produces formatted binary data. For example, the character encoding might not match. The same applies to communication in the opposite direction with `PrintStream` and `DataInputStream`. Itâs best to pick either a text based or binary protocol and then be consistent about the pair of classes used on both the client and server.\r\n\r\nIn the case of a text protocol, an explicit character encoding should be defined, as the default can vary between platforms. As a learning exercise, it might not matter, but itâs a good practice to be explicit about specifying a character encoding whenever handling networked communication. UTF-8 is a good choice unless thereâs a specific reason to use another one.\r\n\r\nIn addition, it is generally preferred to use `PrintWriter` instead of `PrintStream` for text output in new code. Read [this answer](https://stackoverflow.com/a/11372739/29470) for an explanation.","title":"I&#39;m misunderstanding something on how to set up sockets, but I&#39;m not suer if it&#39;s client side, server side, or both","body":"<p>The problem is that <code>reader.readLine()</code> doesnât return until it sees a new line character, but <code>streamOutput.writeChars(&quot;Client Begining Conversation&quot;)</code> doesnât send one.</p>\n<p>More generally, mixing a <code>DataOutputStream</code> on the client with a <code>BufferedReader</code> on the server wonât work reliably, as the latter expects plain text, while the former produces formatted binary data. For example, the character encoding might not match. The same applies to communication in the opposite direction with <code>PrintStream</code> and <code>DataInputStream</code>. Itâs best to pick either a text based or binary protocol and then be consistent about the pair of classes used on both the client and server.</p>\n<p>In the case of a text protocol, an explicit character encoding should be defined, as the default can vary between platforms. As a learning exercise, it might not matter, but itâs a good practice to be explicit about specifying a character encoding whenever handling networked communication. UTF-8 is a good choice unless thereâs a specific reason to use another one.</p>\n<p>In addition, it is generally preferred to use <code>PrintWriter</code> instead of <code>PrintStream</code> for text output in new code. Read <a href=\"https://stackoverflow.com/a/11372739/29470\">this answer</a> for an explanation.</p>\n"}],"owner":{"account_id":6208638,"reputation":33,"user_id":4835669,"display_name":"Nehemiah Newell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75330451,"answer_count":1,"score":-1,"last_activity_date":1675387005,"creation_date":1675383282,"question_id":75330220,"body_markdown":"I&#39;m setting up a simple program to test starting a server, and I&#39;m getting a silent failure state. My client seems to think it has sent, while my server doesn&#39;t think it&#39;s recieving. The two are managing the initial connection, it&#39;s just sending things after that where it&#39;s failing.\r\n\r\nI&#39;ve cut things down to the core of where it&#39;s currently failing I think.\r\n\r\nHere&#39;s part of the Client code\r\n\r\n```\r\npublic void Client (int port, String ip)\r\n\t{\r\n\t\ttry {\r\n\t\t\tsock = new Socket(ip, port);\r\n\t\t\tSystem.out.println(&quot;Found the server.&quot;);\r\n\t\t\tstreamInput = new DataInputStream(sock.getInputStream());\r\n\r\n\t\t\t// sends output to the socket\r\n\t\t\tstreamOutput = new DataOutputStream(\r\n\t\t\t\t\tsock.getOutputStream());\r\n\t\t\tstreamOutput.writeChars(&quot;Client Begining Conversation&quot;);\r\n\t\t\tSystem.out.println(streamInput.readUTF());\r\n\t\t}\r\n\t\tcatch (UnknownHostException u) {\r\n\t\t\tSystem.out.println(u);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcatch (IOException i) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// create the frame\r\n\r\n\t\ttry {\r\n\r\n\t\t\tClientGui main = new ClientGui();\r\n\t\t\tmain.Client(8000,&quot;127.0.0.1&quot;);\r\n\t\t\tmain.show(true);\r\n\r\n\t\t} catch (Exception e) {e.printStackTrace();}\r\n``` \r\n\r\nHere&#39;s server code.\r\n\r\n```\r\npublic Server(int port) throws Exception\r\n    {\r\n        ServerSocket gameServer = new ServerSocket(port);\r\n        Socket gameSocket = gameServer.accept();\r\n        System.out.println(&quot;Client has connected&quot;);\r\n\r\n        // to send data to the client\r\n        PrintStream dataOutput\r\n                = new PrintStream(gameSocket.getOutputStream());\r\n\r\n        // to read data coming from the client\r\n        BufferedReader reader = new BufferedReader( new InputStreamReader(\r\n                gameSocket.getInputStream()\r\n                ));\r\n\r\n        //play logic\r\n        Play(reader,dataOutput);\r\n```\r\n```\r\npublic void Play(BufferedReader reader, PrintStream dataOutput) throws Exception\r\n    {\r\n        String received, textSent;\r\n        System.out.println(&quot;Waiting for response.&quot;);\r\n        received = reader.readLine();\r\n        System.out.println(&quot;Client has responded&quot;);\r\n        //contenue until &#39;Exit&#39; is sent\r\n        while (received != &quot;Exit&quot; || received != &quot;exit&quot;) {\r\n            System.out.println(received);\r\n            textSent = received + &quot;recieved&quot;;\r\n\r\n            // send to client\r\n            dataOutput.println(textSent);\r\n        }\r\n    }\r\n```\r\n\r\nMy client gets to here -\r\n```\r\nFound the server.\r\n```\r\n\r\nand my server gets to here - \r\n```\r\nTrying to start server.\r\nClient has connected\r\nWaiting for response.\r\n```\r\n\r\nAt which point, it just hangs forever, each side waiting for the other. It doesn&#39;t throw an error, it just... waits until I force it closed.\r\n\r\nSo it appears that I&#39;m either doing something wrong when I send with &quot;streamOutput.writeChars&quot; in my client, or I&#39;m doing something wrong when I receive with my server with &quot;reader.readLine();&quot;, but I can&#39;t figure out what.\r\n\r\nOr I could be doing something more fundamentally wrong.","title":"I&#39;m misunderstanding something on how to set up sockets, but I&#39;m not suer if it&#39;s client side, server side, or both","body":"<p>I'm setting up a simple program to test starting a server, and I'm getting a silent failure state. My client seems to think it has sent, while my server doesn't think it's recieving. The two are managing the initial connection, it's just sending things after that where it's failing.</p>\n<p>I've cut things down to the core of where it's currently failing I think.</p>\n<p>Here's part of the Client code</p>\n<pre><code>public void Client (int port, String ip)\n    {\n        try {\n            sock = new Socket(ip, port);\n            System.out.println(&quot;Found the server.&quot;);\n            streamInput = new DataInputStream(sock.getInputStream());\n\n            // sends output to the socket\n            streamOutput = new DataOutputStream(\n                    sock.getOutputStream());\n            streamOutput.writeChars(&quot;Client Begining Conversation&quot;);\n            System.out.println(streamInput.readUTF());\n        }\n        catch (UnknownHostException u) {\n            System.out.println(u);\n            return;\n        }\n        catch (IOException i) {\n            System.out.println(i);\n            return;\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        // create the frame\n\n        try {\n\n            ClientGui main = new ClientGui();\n            main.Client(8000,&quot;127.0.0.1&quot;);\n            main.show(true);\n\n        } catch (Exception e) {e.printStackTrace();}\n</code></pre>\n<p>Here's server code.</p>\n<pre><code>public Server(int port) throws Exception\n    {\n        ServerSocket gameServer = new ServerSocket(port);\n        Socket gameSocket = gameServer.accept();\n        System.out.println(&quot;Client has connected&quot;);\n\n        // to send data to the client\n        PrintStream dataOutput\n                = new PrintStream(gameSocket.getOutputStream());\n\n        // to read data coming from the client\n        BufferedReader reader = new BufferedReader( new InputStreamReader(\n                gameSocket.getInputStream()\n                ));\n\n        //play logic\n        Play(reader,dataOutput);\n</code></pre>\n<pre><code>public void Play(BufferedReader reader, PrintStream dataOutput) throws Exception\n    {\n        String received, textSent;\n        System.out.println(&quot;Waiting for response.&quot;);\n        received = reader.readLine();\n        System.out.println(&quot;Client has responded&quot;);\n        //contenue until 'Exit' is sent\n        while (received != &quot;Exit&quot; || received != &quot;exit&quot;) {\n            System.out.println(received);\n            textSent = received + &quot;recieved&quot;;\n\n            // send to client\n            dataOutput.println(textSent);\n        }\n    }\n</code></pre>\n<p>My client gets to here -</p>\n<pre><code>Found the server.\n</code></pre>\n<p>and my server gets to here -</p>\n<pre><code>Trying to start server.\nClient has connected\nWaiting for response.\n</code></pre>\n<p>At which point, it just hangs forever, each side waiting for the other. It doesn't throw an error, it just... waits until I force it closed.</p>\n<p>So it appears that I'm either doing something wrong when I send with &quot;streamOutput.writeChars&quot; in my client, or I'm doing something wrong when I receive with my server with &quot;reader.readLine();&quot;, but I can't figure out what.</p>\n<p>Or I could be doing something more fundamentally wrong.</p>\n"},{"tags":["java","git","intellij-idea","java-8","corretto"],"comments":[{"owner":{"account_id":2700750,"reputation":688,"user_id":2331527,"display_name":"floating cat"},"score":0,"creation_date":1675424236,"post_id":75330457,"comment_id":132930902,"body_markdown":"Is this a Gradle project? Did the IDEA download the Corretto 11 automatically in your case without clicking any button notification?","body":"Is this a Gradle project? Did the IDEA download the Corretto 11 automatically in your case without clicking any button notification?"},{"owner":{"account_id":1000676,"reputation":15221,"user_id":1015595,"accept_rate":84,"display_name":"Big McLargeHuge"},"score":0,"creation_date":1675448375,"post_id":75330457,"comment_id":132938674,"body_markdown":"@floatingcat it is a Gradle project. It only downloaded Corretto 11 once I clicked the &quot;Import Project&quot; button.","body":"@floatingcat it is a Gradle project. It only downloaded Corretto 11 once I clicked the &quot;Import Project&quot; button."},{"owner":{"account_id":2700750,"reputation":688,"user_id":2331527,"display_name":"floating cat"},"score":0,"creation_date":1675843987,"post_id":75330457,"comment_id":133013016,"body_markdown":"Looks related to this issue: https://youtrack.jetbrains.com/issue/IDEA-281903/ In general, the IDEA should not download any JDK here without asking you if agree to download and when you open a JDK file, it will ask for a notification in the editor top to ask you to download the missed JDK. It seems the IntelliJ IDEA team is working on this feature request (which could configure the JDK vendor too) and may help for your use cases: https://youtrack.jetbrains.com/issue/IDEA-252328/","body":"Looks related to this issue: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-281903/\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-281903</a> In general, the IDEA should not download any JDK here without asking you if agree to download and when you open a JDK file, it will ask for a notification in the editor top to ask you to download the missed JDK. It seems the IntelliJ IDEA team is working on this feature request (which could configure the JDK vendor too) and may help for your use cases: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-252328/\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-252328</a>"}],"owner":{"account_id":1000676,"reputation":15221,"user_id":1015595,"accept_rate":84,"display_name":"Big McLargeHuge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675385980,"creation_date":1675385980,"question_id":75330457,"body_markdown":"A common pain point with IntelliJ IDEA is correctly configuring the JDK for each project you work on every time you clone the repository or lose the .idea folder.\r\n\r\nI want to include the JDK settings in Git to make it easier, especially for new developers, to get up and running. We all agreed to use Coretto 1.8.\r\n\r\nFirst, I added .idea/compiler.xml, which specifies the project language level:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;CompilerConfiguration&quot;&gt;\r\n    &lt;bytecodeTargetLevel target=&quot;1.8&quot; /&gt;\r\n  &lt;/component&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nNext, I added .idea/misc.xml, which specifies the project JDK:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;ExternalStorageConfigurationManager&quot; enabled=&quot;true&quot; /&gt;\r\n  &lt;component name=&quot;ProjectRootManager&quot; version=&quot;2&quot; languageLevel=&quot;JDK_1_8&quot; default=&quot;true&quot; project-jdk-name=&quot;corretto-1.8&quot; project-jdk-type=&quot;JavaSDK&quot; /&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThen I deleted the ~/.jdks directory, cleaned the project directory with `git clean -fdx` and reopened the project in IntelliJ. It correctly restored the language level to 1.8 but downloaded Corretto 11 and changed the contents of .idea/misc.xml to:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project version=&quot;4&quot;&gt;\r\n  &lt;component name=&quot;ExternalStorageConfigurationManager&quot; enabled=&quot;true&quot; /&gt;\r\n  &lt;component name=&quot;ProjectRootManager&quot; version=&quot;2&quot; languageLevel=&quot;JDK_1_8&quot; project-jdk-name=&quot;corretto-11&quot; project-jdk-type=&quot;JavaSDK&quot; /&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nDo I need to include some other file or is there some other trick?","title":"How can I add IntelliJ IDEA project JDK setting to Git?","body":"<p>A common pain point with IntelliJ IDEA is correctly configuring the JDK for each project you work on every time you clone the repository or lose the .idea folder.</p>\n<p>I want to include the JDK settings in Git to make it easier, especially for new developers, to get up and running. We all agreed to use Coretto 1.8.</p>\n<p>First, I added .idea/compiler.xml, which specifies the project language level:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;CompilerConfiguration&quot;&gt;\n    &lt;bytecodeTargetLevel target=&quot;1.8&quot; /&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Next, I added .idea/misc.xml, which specifies the project JDK:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;ExternalStorageConfigurationManager&quot; enabled=&quot;true&quot; /&gt;\n  &lt;component name=&quot;ProjectRootManager&quot; version=&quot;2&quot; languageLevel=&quot;JDK_1_8&quot; default=&quot;true&quot; project-jdk-name=&quot;corretto-1.8&quot; project-jdk-type=&quot;JavaSDK&quot; /&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Then I deleted the ~/.jdks directory, cleaned the project directory with <code>git clean -fdx</code> and reopened the project in IntelliJ. It correctly restored the language level to 1.8 but downloaded Corretto 11 and changed the contents of .idea/misc.xml to:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project version=&quot;4&quot;&gt;\n  &lt;component name=&quot;ExternalStorageConfigurationManager&quot; enabled=&quot;true&quot; /&gt;\n  &lt;component name=&quot;ProjectRootManager&quot; version=&quot;2&quot; languageLevel=&quot;JDK_1_8&quot; project-jdk-name=&quot;corretto-11&quot; project-jdk-type=&quot;JavaSDK&quot; /&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Do I need to include some other file or is there some other trick?</p>\n"},{"tags":["java","udp","packet"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675383019,"post_id":75329705,"comment_id":132923075,"body_markdown":"It is also worth noting that sending UDP messages that are larger than the end-to-end MTU will result in fragmentation and reassembly ... and will increase the probability of message loss.  (In some cases to 100% !!)","body":"It is also worth noting that sending UDP messages that are larger than the end-to-end MTU will result in fragmentation and reassembly ... and will increase the probability of message loss.  (In some cases to 100% !!)"}],"answers":[{"tags":[],"owner":{"account_id":27503600,"reputation":84,"user_id":20986750,"display_name":"Marco Riccetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675385692,"creation_date":1675381110,"answer_id":75330043,"question_id":75329705,"body_markdown":"Typically, in cases like this, you should create a custom protocol, either textual or binary, in which you specifies the length of the message to be read; it is not a TCP, so you can only wait until the entire datagram has been sent or received and after that parse the contents and extract the message.\r\n\r\nThis requires defining your own protocol to be used on top of UDP; there are two macro types of protocols: text-type and binary-type.\r\n\r\nIn text-type protocols you often make use of integers to put as prefixes that indicate the actual length of the message to be read. In fact if you know that the length of your messages, for example, stands at 32bit you can read the first four bytes of the datagram and know how many more you will have to read to get your string. The more complex text protocols make use of delimiting characters to specify a format that defines options and data; of this family you will certainly be familiar with HTTP.\r\n\r\nIn binary-type protocols it is a little more complex, you can have flags, various lengths referring to different fields that may or may not be optional.\r\nIn short in this case you have to define for yourself a frame type to use and interpret. If you have to deal with fragmentation, options and variable lengths, I would recommend that you take a look at this type of format.\r\n\r\n***Keep also in mind that with UDP you should in real projects also handle the retransmission of lost packets.***\r\n\r\n*Anyway, it&#39;s probably a typo, but your code is definitely missing a `send()` that actually sends the response data.\r\nSo from your code we can&#39;t see what you actually send.*\r\n\r\nIn conclusion, to answer you, from what can be inferred from the part of the code given and the output provided, you make use of `setData()` to send &quot;Bob.&quot;  The documentation for that method is as follows:\r\n\r\n&gt; Set the data buffer for this packet. With the offset of this\r\n&gt; DatagramPacket set to 0, and the length set to the length of buf.\r\n\r\nSo, no matter what buffer you initialized the datagram with it will now be reduced to a maximum length of three. In fact, when you receive the response you read the message with `getLength()` which will always return three.","title":"UDP response packet contents getting cut short","body":"<p>Typically, in cases like this, you should create a custom protocol, either textual or binary, in which you specifies the length of the message to be read; it is not a TCP, so you can only wait until the entire datagram has been sent or received and after that parse the contents and extract the message.</p>\n<p>This requires defining your own protocol to be used on top of UDP; there are two macro types of protocols: text-type and binary-type.</p>\n<p>In text-type protocols you often make use of integers to put as prefixes that indicate the actual length of the message to be read. In fact if you know that the length of your messages, for example, stands at 32bit you can read the first four bytes of the datagram and know how many more you will have to read to get your string. The more complex text protocols make use of delimiting characters to specify a format that defines options and data; of this family you will certainly be familiar with HTTP.</p>\n<p>In binary-type protocols it is a little more complex, you can have flags, various lengths referring to different fields that may or may not be optional.\nIn short in this case you have to define for yourself a frame type to use and interpret. If you have to deal with fragmentation, options and variable lengths, I would recommend that you take a look at this type of format.</p>\n<p><em><strong>Keep also in mind that with UDP you should in real projects also handle the retransmission of lost packets.</strong></em></p>\n<p><em>Anyway, it's probably a typo, but your code is definitely missing a <code>send()</code> that actually sends the response data.\nSo from your code we can't see what you actually send.</em></p>\n<p>In conclusion, to answer you, from what can be inferred from the part of the code given and the output provided, you make use of <code>setData()</code> to send &quot;Bob.&quot;  The documentation for that method is as follows:</p>\n<blockquote>\n<p>Set the data buffer for this packet. With the offset of this\nDatagramPacket set to 0, and the length set to the length of buf.</p>\n</blockquote>\n<p>So, no matter what buffer you initialized the datagram with it will now be reduced to a maximum length of three. In fact, when you receive the response you read the message with <code>getLength()</code> which will always return three.</p>\n"},{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675382854,"creation_date":1675382854,"answer_id":75330184,"question_id":75329705,"body_markdown":"In the client, you create a packet of length 3 (because the content is &#39;Bob&#39;).  You use the same packet for a receive, which per the doc will then truncate the received data to the packet length.\r\n\r\nThe DatagramPacket class does not appear to distinguish &#39;length of underlying buffer&#39; from &#39;length of data in buffer&#39;.\r\n\r\nBest to use separate packet structures; the send packet just needs to contain &#39;Bob&#39;; the receive packet needs to be large enough for the maximum expected response.\r\n\r\n(Debugging hint: figuring this out starts with noticing that it&#39;s unlikely to be mere coincidence that the lengths of the transmitted message and of the truncated received message are identical).\r\n","title":"UDP response packet contents getting cut short","body":"<p>In the client, you create a packet of length 3 (because the content is 'Bob').  You use the same packet for a receive, which per the doc will then truncate the received data to the packet length.</p>\n<p>The DatagramPacket class does not appear to distinguish 'length of underlying buffer' from 'length of data in buffer'.</p>\n<p>Best to use separate packet structures; the send packet just needs to contain 'Bob'; the receive packet needs to be large enough for the maximum expected response.</p>\n<p>(Debugging hint: figuring this out starts with noticing that it's unlikely to be mere coincidence that the lengths of the transmitted message and of the truncated received message are identical).</p>\n"}],"owner":{"account_id":22282664,"reputation":37,"user_id":16510829,"display_name":"Zeffia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75330184,"answer_count":2,"score":0,"last_activity_date":1675385692,"creation_date":1675378058,"question_id":75329705,"body_markdown":"I&#39;m trying to create a simple Java UDP Client-Server program. The server/host waits for an appropriate request from the client before doing something. Everything seems to be working fine but the reply from the host to the client is always truncated for some reason.\r\n\r\nI assume it has something to do with the the length of &quot;Bob&quot; as all responses from the host is shortened to 3. I tried messing around with setLength() and the buffer size but can&#39;t seem to figure it out...\r\n\r\n**Client.java:**\r\n```\r\npublic class Client {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\t//Use Java&#39;s built-in DatagramSocket and DatagramPacket to implement UDP\r\n\t\tDatagramSocket socket = new DatagramSocket(); //Create socket object to send data\r\n\t\tsocket.setSoTimeout(5000); //Throw an exception if no data received within 5000ms\r\n\t\t\r\n\t    //Create scanner to grab user input\r\n\t    Scanner input = new Scanner(System.in);\r\n\t    System.out.print(&quot;Please enter a message to send to Alice: &quot;);\r\n\t    String bobInput = input.nextLine(); //Storing user input\r\n\t    input.close(); //Close scanner to prevent memory leaks\r\n\t\t\r\n\t\tbyte[] buffer = new byte[65535];\r\n\t\t\r\n\t\t//Create packet containing message\r\n\t\tDatagramPacket packet = new DatagramPacket(buffer, buffer.length, InetAddress.getByName(&quot;localhost&quot;), 1500);\r\n\t\tpacket.setData(bobInput.getBytes());\r\n\t\tsocket.send(packet); //Send message to host\r\n\t\t\r\n\t\tsocket.receive(packet);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Received from Alice: &quot; + new String(packet.getData(),0,packet.getLength()));\r\n\t\t\r\n\t\tsocket.close();\r\n\t}\r\n}\r\n```\r\n\r\n**Host.java**\r\n```\r\npublic class Host {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\t//Use Java&#39;s built-in DatagramSocket and DatagramPacket to implement UDP\r\n\t\tDatagramSocket socket = new DatagramSocket(1500); //Create a socket to listen at port 1500\r\n\t    byte[] buf = new byte[65535]; //Byte array to wrap\r\n\t    \r\n        System.out.println(&quot;Parameters successfully read. Listening on port 1500...&quot;);\r\n\r\n\t    //While-loop to keep host running until terminated\r\n\t    while (true) {\r\n\t\t  DatagramPacket packet = new DatagramPacket(buf, buf.length); //Create a packet to receive message\r\n\t      socket.receive(packet); //Receive the packet\r\n\t      \r\n\t      //If Alice receives a packet with the message &quot;Bob&quot;\r\n\t      if(new String(packet.getData(),0,packet.getLength()).equals(&quot;Bob&quot;)) {\r\n\t    \t  System.out.println(&quot;Bob has sent a connection request.&quot;);\r\n\t    \t  \r\n\t    \t  String test = &quot;Hello Bob!&quot;;\r\n\t    \t  packet.setData(test.getBytes());\r\n\t    \t  \r\n\t    \t  System.out.println(&quot;Text sent: &quot; + new String(packet.getData(),0,packet.getLength()));\r\n\t    \t  \r\n\t      }\r\n\t    }\r\n\t}\r\n}\r\n```\r\n\r\nConsole output for client:\r\n\r\n&gt; Please enter a message to send to Alice: Bob\r\n&gt; \r\n&gt; Received from Alice: Hel\r\n\r\nConsole output for host:\r\n\r\n&gt; Parameters successfully read. Listening on port 1500...\r\n&gt; \r\n&gt; Bob has sent a connection request.\r\n&gt; \r\n&gt; Text sent: Hello Bob!\r\n\r\nIt&#39;s my first time working with UDP so I apologize if its some basic mistake that I made.","title":"UDP response packet contents getting cut short","body":"<p>I'm trying to create a simple Java UDP Client-Server program. The server/host waits for an appropriate request from the client before doing something. Everything seems to be working fine but the reply from the host to the client is always truncated for some reason.</p>\n<p>I assume it has something to do with the the length of &quot;Bob&quot; as all responses from the host is shortened to 3. I tried messing around with setLength() and the buffer size but can't seem to figure it out...</p>\n<p><strong>Client.java:</strong></p>\n<pre><code>public class Client {\n\n    public static void main(String[] args) throws Exception {\n        \n        //Use Java's built-in DatagramSocket and DatagramPacket to implement UDP\n        DatagramSocket socket = new DatagramSocket(); //Create socket object to send data\n        socket.setSoTimeout(5000); //Throw an exception if no data received within 5000ms\n        \n        //Create scanner to grab user input\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Please enter a message to send to Alice: &quot;);\n        String bobInput = input.nextLine(); //Storing user input\n        input.close(); //Close scanner to prevent memory leaks\n        \n        byte[] buffer = new byte[65535];\n        \n        //Create packet containing message\n        DatagramPacket packet = new DatagramPacket(buffer, buffer.length, InetAddress.getByName(&quot;localhost&quot;), 1500);\n        packet.setData(bobInput.getBytes());\n        socket.send(packet); //Send message to host\n        \n        socket.receive(packet);\n        \n        System.out.println(&quot;Received from Alice: &quot; + new String(packet.getData(),0,packet.getLength()));\n        \n        socket.close();\n    }\n}\n</code></pre>\n<p><strong>Host.java</strong></p>\n<pre><code>public class Host {\n\n    public static void main(String[] args) throws Exception {\n        \n        //Use Java's built-in DatagramSocket and DatagramPacket to implement UDP\n        DatagramSocket socket = new DatagramSocket(1500); //Create a socket to listen at port 1500\n        byte[] buf = new byte[65535]; //Byte array to wrap\n        \n        System.out.println(&quot;Parameters successfully read. Listening on port 1500...&quot;);\n\n        //While-loop to keep host running until terminated\n        while (true) {\n          DatagramPacket packet = new DatagramPacket(buf, buf.length); //Create a packet to receive message\n          socket.receive(packet); //Receive the packet\n          \n          //If Alice receives a packet with the message &quot;Bob&quot;\n          if(new String(packet.getData(),0,packet.getLength()).equals(&quot;Bob&quot;)) {\n              System.out.println(&quot;Bob has sent a connection request.&quot;);\n              \n              String test = &quot;Hello Bob!&quot;;\n              packet.setData(test.getBytes());\n              \n              System.out.println(&quot;Text sent: &quot; + new String(packet.getData(),0,packet.getLength()));\n              \n          }\n        }\n    }\n}\n</code></pre>\n<p>Console output for client:</p>\n<blockquote>\n<p>Please enter a message to send to Alice: Bob</p>\n<p>Received from Alice: Hel</p>\n</blockquote>\n<p>Console output for host:</p>\n<blockquote>\n<p>Parameters successfully read. Listening on port 1500...</p>\n<p>Bob has sent a connection request.</p>\n<p>Text sent: Hello Bob!</p>\n</blockquote>\n<p>It's my first time working with UDP so I apologize if its some basic mistake that I made.</p>\n"},{"tags":["java","maven","visual-studio-code","debugging"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1675233455,"post_id":75304937,"comment_id":132881916,"body_markdown":"Starting debugging in the `Run and Debug` panel will apply the configuration in *launch.json*. Also check if your `.jar` package is correct.","body":"Starting debugging in the <code>Run and Debug</code> panel will apply the configuration in <i>launch.json</i>. Also check if your <code>.jar</code> package is correct."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1675259336,"post_id":75304937,"comment_id":132889629,"body_markdown":"The JAR package is working fine as I can see the output of debug statements showing in the output when debug session is disconnected. I saw a similar problem reported on vscode Git Hub. If the source code is not available in the main project, it won&#39;t be recognized.","body":"The JAR package is working fine as I can see the output of debug statements showing in the output when debug session is disconnected. I saw a similar problem reported on vscode Git Hub. If the source code is not available in the main project, it won&#39;t be recognized."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1675385830,"post_id":75304937,"comment_id":132923453,"body_markdown":"@JialeDu I was able to solve the problem in Eclipse. Looks like there are some limitations with vscode Java debugging. See the answer added below.","body":"@JialeDu I was able to solve the problem in Eclipse. Looks like there are some limitations with vscode Java debugging. See the answer added below."}],"answers":[{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675385681,"creation_date":1675385681,"answer_id":75330435,"question_id":75304937,"body_markdown":"I could not solve the problem in vscode, but, in less than 5 minutes, I achieved what I wanted to do in Eclipse.\r\n\r\nThe problem in vscode is that the debugger is breaking somewhere between Jython and Java. I see this error on the &quot;CALL STACK&quot; section on the left panel:\r\n\r\n```\r\nIllegal character &lt;&lt;&gt; at index 71: C:/path/to/project/main/java/source/folder\\org\\python\\pycode\\&lt;string&gt;\r\n```\r\n\r\nSee the snapshots below for details.\r\n\r\nI thought if I kept only one project open in vscode and connect to the remote application running in debug mode, I thought it would work. No matter what I do, it won&#39;t show the source code while stepping through the debugging session. In vscode, if I set a breakpoint in the source code, it will break correctly, and I can step through, but the source code is not shown. I cannot even see the binary JAR anywhere on the screen which would allow me to attach the source in vscode. Usually, I see a decompiled version of the class, and I can right-click and attach the source from a ZIP or JAR file, but, in this case, I could not find this option while in the debug session.\r\n\r\nThen, I switched to Eclipse and disconnected the debugging session from vscode.  In Eclipse, I opened the same project and set up Remote Debugging, and it worked right away without any effort. I think vscode is a waste of time if you want to go to the next level with Java Projects.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kzuMo.png\r\n  [2]: https://i.stack.imgur.com/Ymh3P.png","title":"Java code in vscode not respecting breakpoints set in another thread, but it will break if set in the main thread","body":"<p>I could not solve the problem in vscode, but, in less than 5 minutes, I achieved what I wanted to do in Eclipse.</p>\n<p>The problem in vscode is that the debugger is breaking somewhere between Jython and Java. I see this error on the &quot;CALL STACK&quot; section on the left panel:</p>\n<pre><code>Illegal character &lt;&lt;&gt; at index 71: C:/path/to/project/main/java/source/folder\\org\\python\\pycode\\&lt;string&gt;\n</code></pre>\n<p>See the snapshots below for details.</p>\n<p>I thought if I kept only one project open in vscode and connect to the remote application running in debug mode, I thought it would work. No matter what I do, it won't show the source code while stepping through the debugging session. In vscode, if I set a breakpoint in the source code, it will break correctly, and I can step through, but the source code is not shown. I cannot even see the binary JAR anywhere on the screen which would allow me to attach the source in vscode. Usually, I see a decompiled version of the class, and I can right-click and attach the source from a ZIP or JAR file, but, in this case, I could not find this option while in the debug session.</p>\n<p>Then, I switched to Eclipse and disconnected the debugging session from vscode.  In Eclipse, I opened the same project and set up Remote Debugging, and it worked right away without any effort. I think vscode is a waste of time if you want to go to the next level with Java Projects.</p>\n<p><a href=\"https://i.stack.imgur.com/kzuMo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kzuMo.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Ymh3P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ymh3P.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75330435,"answer_count":1,"score":0,"last_activity_date":1675385681,"creation_date":1675216614,"question_id":75304937,"body_markdown":"I am using vscode to debug a relatively huge java application with multiple maven modules. The core application is loaded and compiled, can be launched successfully in debug mode, and all breakpoints for the code in the main thread are working properly. I managed to debug using launch and attach features.\r\n\r\nThis Java application has a feature it allows loading the `Jython` script which will call Java code and classes referenced in JAR files that are specified in the classpath of the `java.exe` command line. When the main application is launched, you can then load the Jython script. The moment you load a Jython script, it will launch that script in another thread and starts executing.\r\n\r\nI managed to launch the application in debug mode using this command line:\r\n\r\n```\r\n&gt;c:\\path\\to\\jdk1.8.0_351\\java.exe -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005 \r\n  -Xbootclasspath/p:../lib/somelib1.jar;../lib/somelib2.jar; \r\n  -classpath .;../lib/somelib3.jar;../lib/somelib4.jar;../lib/custome1.lib;\r\n    ../lib/custome2.lib \r\n  -Xincgc -Xms64m -Xmx1024m -Djava.security.policy=&quot;policy.all&quot;\r\n  -Dpython.home=&quot;..&quot; -Dsun.security.ssl.allowUnsafeRenegotiation=&quot;true&quot;\r\n  -Dcom.ibm.mq.cfg.useIBMCipherMappings=&quot;false&quot;\r\n  com.main.AppFrameClass\r\n```\r\n\r\nThe above command line is a summarized version of the one I am using to clarify the problem.\r\n\r\nFrom VS Code, I managed to attach it to the running application using this setting in vscode `launch.json`:\r\n\r\n```\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Attach to java debug port 5005&quot;,\r\n            &quot;projectName&quot;: &quot;Some_Project_Name&quot;,\r\n            &quot;request&quot;: &quot;attach&quot;,\r\n            &quot;hostName&quot;: &quot;localhost&quot;,\r\n            &quot;port&quot;: &quot;5005&quot;,\r\n            &quot;sourcePaths&quot;: [\r\n                &quot;path/to/source/code/src/main/java&quot;\r\n            ]\r\n        }\r\n```\r\n\r\nThe good thing is that if I set a breakpoint on the core application in the main thread, the execution will stop, and I can see the source code and debug without any problem.\r\n\r\nIn another separate small maven project (which is supposed to be part of the core application), I developed customization for some of the classes in the main application. The custom code is compiled and generated custom JAR files which are added to the classpath of the command line `java.exe` used to launch the main application. I simply copy the JAR files with the customization to the lib folder of the main application and launch the application using the correct command line which is similar to the one I mentioned above.\r\n\r\nThe main application and the customizations made are working fine. \r\n\r\nMy issue is that the breakpoints set for the Java code called from Jython are not working in vscode. In other words, the Jython code is invoking java code which is part of the customized code, and breakpoints set in that code are not working.\r\n\r\nFollowing are the steps I followed to debug and set breakpoints:\r\n\r\n1. Open the main Maven project in vscode.\r\n\r\n2. Open the other Maven project (2nd project) with the customizations using the vscode file/add a folder to the workspace.\r\n\r\n3. Wait until extensions are activated, builds are completed, and both projects are recognized.\r\n\r\n4. Now, I can see the projects under the &quot;JAVA PROJECTS&quot; section as well as under the &quot;MAVEN&quot; section on the left side. No errors and all seem fine.\r\n\r\n5. Save the workspace to a `.code-workspace` file.\r\n\r\n6. Launch the application with the customization using the command line similar to the one mentioned above - `java.exe ....`. The launching will happen from another folder on the same laptop using a clean install of the main application with the customized JAR files. It will not launch the application using the Maven Projects of VScode. \r\n\r\n7. From vscode debug view, run the attach debug configuration. It is successful.\r\n\r\n8. Now, the main application is loaded successfully, and all breakpoints in the main thread are hit successfully in vscode.\r\n\r\n9. Set a breakpoint in the Java code which is related to the customized parts in the 2nd Maven Project. Note that the main Maven Project and the Customization Maven Project are two separate projects in the vscode workspace, and they are not connected or related together. I am thinking that this is fine but not sure.\r\n\r\n9. From the main application, load the Jython script that will invoke Java code/classes in the customized JAR files.\r\n\r\n10. Now, here is the problem. I see that the debugger in VSCode is triggered, but I don&#39;t see the source code popping up as usual. I see that the debug controls are active, and when I try to click &quot;Next Step&quot; for example, I see the error: `Failed to step because the thread &#39;thread-name&#39; is not suspended in the target VM.`\r\n\r\n10. I repeated the steps above several times, but sometimes I don&#39;t see the error above when I step through the code. The execution will break and pause, and I can see the debug statements output is correct (in the application output), but, I don&#39;t see the source code of the related breakpoint, and I cannot watch any variable.\r\n\r\nI appreciate your help to solve this problem.\r\n\r\nSee the snapshot below for more details.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BuYBf.png\r\n  [2]: https://i.stack.imgur.com/4eqxY.png\r\n  [3]: https://i.stack.imgur.com/X1iBh.png","title":"Java code in vscode not respecting breakpoints set in another thread, but it will break if set in the main thread","body":"<p>I am using vscode to debug a relatively huge java application with multiple maven modules. The core application is loaded and compiled, can be launched successfully in debug mode, and all breakpoints for the code in the main thread are working properly. I managed to debug using launch and attach features.</p>\n<p>This Java application has a feature it allows loading the <code>Jython</code> script which will call Java code and classes referenced in JAR files that are specified in the classpath of the <code>java.exe</code> command line. When the main application is launched, you can then load the Jython script. The moment you load a Jython script, it will launch that script in another thread and starts executing.</p>\n<p>I managed to launch the application in debug mode using this command line:</p>\n<pre><code>&gt;c:\\path\\to\\jdk1.8.0_351\\java.exe -agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005 \n  -Xbootclasspath/p:../lib/somelib1.jar;../lib/somelib2.jar; \n  -classpath .;../lib/somelib3.jar;../lib/somelib4.jar;../lib/custome1.lib;\n    ../lib/custome2.lib \n  -Xincgc -Xms64m -Xmx1024m -Djava.security.policy=&quot;policy.all&quot;\n  -Dpython.home=&quot;..&quot; -Dsun.security.ssl.allowUnsafeRenegotiation=&quot;true&quot;\n  -Dcom.ibm.mq.cfg.useIBMCipherMappings=&quot;false&quot;\n  com.main.AppFrameClass\n</code></pre>\n<p>The above command line is a summarized version of the one I am using to clarify the problem.</p>\n<p>From VS Code, I managed to attach it to the running application using this setting in vscode <code>launch.json</code>:</p>\n<pre><code>        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Attach to java debug port 5005&quot;,\n            &quot;projectName&quot;: &quot;Some_Project_Name&quot;,\n            &quot;request&quot;: &quot;attach&quot;,\n            &quot;hostName&quot;: &quot;localhost&quot;,\n            &quot;port&quot;: &quot;5005&quot;,\n            &quot;sourcePaths&quot;: [\n                &quot;path/to/source/code/src/main/java&quot;\n            ]\n        }\n</code></pre>\n<p>The good thing is that if I set a breakpoint on the core application in the main thread, the execution will stop, and I can see the source code and debug without any problem.</p>\n<p>In another separate small maven project (which is supposed to be part of the core application), I developed customization for some of the classes in the main application. The custom code is compiled and generated custom JAR files which are added to the classpath of the command line <code>java.exe</code> used to launch the main application. I simply copy the JAR files with the customization to the lib folder of the main application and launch the application using the correct command line which is similar to the one I mentioned above.</p>\n<p>The main application and the customizations made are working fine.</p>\n<p>My issue is that the breakpoints set for the Java code called from Jython are not working in vscode. In other words, the Jython code is invoking java code which is part of the customized code, and breakpoints set in that code are not working.</p>\n<p>Following are the steps I followed to debug and set breakpoints:</p>\n<ol>\n<li><p>Open the main Maven project in vscode.</p>\n</li>\n<li><p>Open the other Maven project (2nd project) with the customizations using the vscode file/add a folder to the workspace.</p>\n</li>\n<li><p>Wait until extensions are activated, builds are completed, and both projects are recognized.</p>\n</li>\n<li><p>Now, I can see the projects under the &quot;JAVA PROJECTS&quot; section as well as under the &quot;MAVEN&quot; section on the left side. No errors and all seem fine.</p>\n</li>\n<li><p>Save the workspace to a <code>.code-workspace</code> file.</p>\n</li>\n<li><p>Launch the application with the customization using the command line similar to the one mentioned above - <code>java.exe ....</code>. The launching will happen from another folder on the same laptop using a clean install of the main application with the customized JAR files. It will not launch the application using the Maven Projects of VScode.</p>\n</li>\n<li><p>From vscode debug view, run the attach debug configuration. It is successful.</p>\n</li>\n<li><p>Now, the main application is loaded successfully, and all breakpoints in the main thread are hit successfully in vscode.</p>\n</li>\n<li><p>Set a breakpoint in the Java code which is related to the customized parts in the 2nd Maven Project. Note that the main Maven Project and the Customization Maven Project are two separate projects in the vscode workspace, and they are not connected or related together. I am thinking that this is fine but not sure.</p>\n</li>\n<li><p>From the main application, load the Jython script that will invoke Java code/classes in the customized JAR files.</p>\n</li>\n<li><p>Now, here is the problem. I see that the debugger in VSCode is triggered, but I don't see the source code popping up as usual. I see that the debug controls are active, and when I try to click &quot;Next Step&quot; for example, I see the error: <code>Failed to step because the thread 'thread-name' is not suspended in the target VM.</code></p>\n</li>\n<li><p>I repeated the steps above several times, but sometimes I don't see the error above when I step through the code. The execution will break and pause, and I can see the debug statements output is correct (in the application output), but, I don't see the source code of the related breakpoint, and I cannot watch any variable.</p>\n</li>\n</ol>\n<p>I appreciate your help to solve this problem.</p>\n<p>See the snapshot below for more details.</p>\n<p><a href=\"https://i.stack.imgur.com/BuYBf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BuYBf.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/4eqxY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4eqxY.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/X1iBh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X1iBh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","mvvm","kotlin-coroutines","android-mvvm"],"answers":[{"tags":[],"owner":{"account_id":7163663,"reputation":285,"user_id":5473567,"display_name":"David Kneys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675385573,"creation_date":1675385573,"answer_id":75330419,"question_id":75321084,"body_markdown":"The most naive and perhaps not so optimal solution *(when you ask for &quot;the correct way&quot;)* would be to use simple Singleton pattern. Another approach would be to use Service Locator or Dependency Injection design pattern, which we will focus on.\r\n\r\nIn your example you are actually already using Dependency Injection (DI), \r\n\r\n&gt; *you are simply passing your DAO classes through the constructor of your Repository class instead of for example creating those DAO instances in\r\n&gt; the Repository class itself*\r\n\r\nbut the missing piece is something what would help you with: \r\n- first **Injecting** and **Resolving** those dependencies in a better automatized way and \r\n- second provide you with mechanics, which would keep your classes instantiated once *(per application/activity/viewmodel/... scope)*.\r\n\r\n&gt; You can find further explanation about what and what for is Dependency\r\n&gt; Injection design pattern for example in [this][1] exhaustive thread.\r\n\r\nOne of the common approaches would be to use some kind of **Dependency Injection library**, which would help you with Injecting and Resolving dependencies of for example your already mentioned **Repository** classes.\r\n\r\nIn Android development one of the library being commonly used is called **Dagger**. [Here][2] you can find handy explanation and tutorial directly from Android. The Dagger with help of @Inject annotations and other principles described in the documentation above will generate the DI code for you in the compile time. Then in your code you only really care about getting and using an instance of a (Repository) class what is being constructed for you with the help of the Dagger. The learning curve might be little bit steep, but in my personal opinion, this is the way for middle to big projects.\r\n\r\nThere are also other heavily used libraries/frameworks which can help you with the task such as [Koin][3] which promises easier and better APIs, but I personally cannot talk much about it, because I haven&#39;t used it yet in some serious project. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/130794/what-is-dependency-injection\r\n  [2]: https://developer.android.com/training/dependency-injection/dagger-basics\r\n  [3]: https://insert-koin.io/","title":"How to instantiate DAO and Repository the correct way without Room DB?","body":"<p>The most naive and perhaps not so optimal solution <em>(when you ask for &quot;the correct way&quot;)</em> would be to use simple Singleton pattern. Another approach would be to use Service Locator or Dependency Injection design pattern, which we will focus on.</p>\n<p>In your example you are actually already using Dependency Injection (DI),</p>\n<blockquote>\n<p><em>you are simply passing your DAO classes through the constructor of your Repository class instead of for example creating those DAO instances in\nthe Repository class itself</em></p>\n</blockquote>\n<p>but the missing piece is something what would help you with:</p>\n<ul>\n<li>first <strong>Injecting</strong> and <strong>Resolving</strong> those dependencies in a better automatized way and</li>\n<li>second provide you with mechanics, which would keep your classes instantiated once <em>(per application/activity/viewmodel/... scope)</em>.</li>\n</ul>\n<blockquote>\n<p>You can find further explanation about what and what for is Dependency\nInjection design pattern for example in <a href=\"https://stackoverflow.com/questions/130794/what-is-dependency-injection\">this</a> exhaustive thread.</p>\n</blockquote>\n<p>One of the common approaches would be to use some kind of <strong>Dependency Injection library</strong>, which would help you with Injecting and Resolving dependencies of for example your already mentioned <strong>Repository</strong> classes.</p>\n<p>In Android development one of the library being commonly used is called <strong>Dagger</strong>. <a href=\"https://developer.android.com/training/dependency-injection/dagger-basics\" rel=\"nofollow noreferrer\">Here</a> you can find handy explanation and tutorial directly from Android. The Dagger with help of @Inject annotations and other principles described in the documentation above will generate the DI code for you in the compile time. Then in your code you only really care about getting and using an instance of a (Repository) class what is being constructed for you with the help of the Dagger. The learning curve might be little bit steep, but in my personal opinion, this is the way for middle to big projects.</p>\n<p>There are also other heavily used libraries/frameworks which can help you with the task such as <a href=\"https://insert-koin.io/\" rel=\"nofollow noreferrer\">Koin</a> which promises easier and better APIs, but I personally cannot talk much about it, because I haven't used it yet in some serious project.</p>\n"}],"owner":{"account_id":12339438,"reputation":81,"user_id":9003215,"display_name":"DevPeter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75330419,"answer_count":1,"score":0,"last_activity_date":1675385573,"creation_date":1675330307,"question_id":75321084,"body_markdown":"I am in the process to rewrite my app code from using Java to Kotlin with MVVM. My app uses the Sugar ORM instead of Room DB at the moment, however, I still would like to use some of the potentials of MVVM.\r\n\r\nMy goal is to instantiate the DAO and Repository in one place for instance in the application and create only one instance of it for the whole app the correct way. \r\n\r\n### DAO - Kotlin\r\n\r\n```kotlin\r\nclass&#160;FirstDao {\r\n...\r\n}\r\n\r\nclass&#160;SecondDao {\r\n...\r\n}\r\n```\r\n\r\n### Repository - Kotlin\r\n\r\n```kotlin\r\nclass InternalRepository(private val firstDao: FirstDao,\r\n                         private val secondDao: SecondDao\r\n) {\r\n...\r\n}\r\n```\r\n\r\n### View Model - Kotlin\r\n\r\n```kotlin\r\nclass FirstViewModel(private val repository: InternalRepository) :\r\n    ViewModel() {\r\n...\r\n}\r\n```\r\n\r\n### View Model Factory - Kotlin\r\n\r\n```kotlin\r\nclass FirstViewModelFactory(\r\n    private  val repository: InternalRepository\r\n): ViewModelProvider.Factory{\r\n\r\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\r\n        if (modelClass.isAssignableFrom(FirstViewModel::class.java)) {\r\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n            return FirstViewModel(repository) as T\r\n        }\r\n        throw IllegalArgumentException(&quot;Unknown ViewModel class&quot;)\r\n    }\r\n\r\n}\r\n```\r\n\r\n### Activity - Java\r\n\r\n```java\r\nFirstDao firstDao = new FirstDao();\r\nSecondDao secondDao = new SecondDao();\r\n\r\nInternalRepository repository = new InternalRepository(firstDao, secondDao);\r\n\r\nFirstViewModelFactory factory = new FirstViewModelFactory(repository);\r\nviewModel = new ViewModelProvider(this, factory).get(FirstViewModel.class);\r\n```\r\n\r\n### Application - Java\r\n```java\r\npublic class MyApplication extends Application {\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        SugarContext.init(this);\r\n    ...\r\n    }\r\n...\r\n}\r\n```\r\n\r\nThe code itself works correctly, however, when I have more DAO I have to instantiate every single one in the activity including the repository and there is a risk that the DAO and repository will be instantiated multiple times.","title":"How to instantiate DAO and Repository the correct way without Room DB?","body":"<p>I am in the process to rewrite my app code from using Java to Kotlin with MVVM. My app uses the Sugar ORM instead of Room DB at the moment, however, I still would like to use some of the potentials of MVVM.</p>\n<p>My goal is to instantiate the DAO and Repository in one place for instance in the application and create only one instance of it for the whole app the correct way.</p>\n<h3>DAO - Kotlin</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>classÂ FirstDao {\n...\n}\n\nclassÂ SecondDao {\n...\n}\n</code></pre>\n<h3>Repository - Kotlin</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class InternalRepository(private val firstDao: FirstDao,\n                         private val secondDao: SecondDao\n) {\n...\n}\n</code></pre>\n<h3>View Model - Kotlin</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class FirstViewModel(private val repository: InternalRepository) :\n    ViewModel() {\n...\n}\n</code></pre>\n<h3>View Model Factory - Kotlin</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class FirstViewModelFactory(\n    private  val repository: InternalRepository\n): ViewModelProvider.Factory{\n\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        if (modelClass.isAssignableFrom(FirstViewModel::class.java)) {\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\n            return FirstViewModel(repository) as T\n        }\n        throw IllegalArgumentException(&quot;Unknown ViewModel class&quot;)\n    }\n\n}\n</code></pre>\n<h3>Activity - Java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>FirstDao firstDao = new FirstDao();\nSecondDao secondDao = new SecondDao();\n\nInternalRepository repository = new InternalRepository(firstDao, secondDao);\n\nFirstViewModelFactory factory = new FirstViewModelFactory(repository);\nviewModel = new ViewModelProvider(this, factory).get(FirstViewModel.class);\n</code></pre>\n<h3>Application - Java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyApplication extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        SugarContext.init(this);\n    ...\n    }\n...\n}\n</code></pre>\n<p>The code itself works correctly, however, when I have more DAO I have to instantiate every single one in the activity including the repository and there is a risk that the DAO and repository will be instantiated multiple times.</p>\n"},{"tags":["java","tomcat","tomcat9"],"owner":{"account_id":16808691,"reputation":1,"user_id":12152192,"display_name":"Rogers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675385230,"creation_date":1675384236,"question_id":75330303,"body_markdown":"Unable to find documentation which states that the `StuckThreadDetectionValve` is applicable to `NIO` thread pool within tomcat. If I see the thread dump, the same set of threads gets recycled from the `NIO` pool, leaving the cpu elapsed time very high.\r\n\r\nhttps://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Stuck_Thread_Detection_Valve\r\n\r\nset the value in embedded tomcat","title":"is org.apache.catalina.valves.StuckThreadDetectionValve applicable for NIO threads in tomcat?","body":"<p>Unable to find documentation which states that the <code>StuckThreadDetectionValve</code> is applicable to <code>NIO</code> thread pool within tomcat. If I see the thread dump, the same set of threads gets recycled from the <code>NIO</code> pool, leaving the cpu elapsed time very high.</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Stuck_Thread_Detection_Valve\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/config/valve.html#Stuck_Thread_Detection_Valve</a></p>\n<p>set the value in embedded tomcat</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":2,"creation_date":1589403601,"post_id":20587840,"comment_id":109284882,"body_markdown":"javac is being found. The file first.txt isn&#39;t.","body":"javac is being found. The file first.txt isn&#39;t."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1644338969,"post_id":20587840,"comment_id":125578219,"body_markdown":"Problem from this question is NOT about inability to call `javac.exe` (so no need to fix `path`), but that WHILE executing `javac` it couldn&#39;t find `first.java` file which should be compiled.","body":"Problem from this question is NOT about inability to call <code>javac.exe</code> (so no need to fix <code>path</code>), but that WHILE executing <code>javac</code> it couldn&#39;t find <code>first.java</code> file which should be compiled."}],"answers":[{"tags":[],"owner":{"account_id":1299032,"reputation":5308,"user_id":1249325,"accept_rate":50,"display_name":"KhAn SaAb"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1387052651,"creation_date":1387052651,"answer_id":20587857,"question_id":20587840,"body_markdown":"SET path of JRE as well\r\n\r\njre is nothing but responsible for execute the program\r\n\r\nPATH Variable value:\r\n\r\n `C:\\Program Files\\Java\\jdk1.8.0\\bin;C:\\Program Files\\Java\\jre\\bin;.;`","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>SET path of JRE as well</p>\n\n<p>jre is nothing but responsible for execute the program</p>\n\n<p>PATH Variable value:</p>\n\n<p><code>C:\\Program Files\\Java\\jdk1.8.0\\bin;C:\\Program Files\\Java\\jre\\bin;.;</code></p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1387052842,"creation_date":1387052842,"answer_id":20587892,"question_id":20587840,"body_markdown":"For Windows, `javac` should be a command that you can run from anywhere.  If it *isn&#39;t* (which is strange in and of itself), you need to run `javac` from where it&#39;s located, but **navigate to the exact location** of your Java class file in order to compile it successfully.\r\n\r\nBy default, `javac` will compile a file name relative to the current path, and if it can&#39;t find the file, it won&#39;t compile it.\r\n\r\nPlease note:  You would only be able to use jdk1.8.0 to actually *compile*, since that would be the only library set that has `javac` contained in it.  Remember:  the Java Runtime Environment runs Java classes; the Java Development Kit compiles them.","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>For Windows, <code>javac</code> should be a command that you can run from anywhere.  If it <em>isn't</em> (which is strange in and of itself), you need to run <code>javac</code> from where it's located, but <strong>navigate to the exact location</strong> of your Java class file in order to compile it successfully.</p>\n\n<p>By default, <code>javac</code> will compile a file name relative to the current path, and if it can't find the file, it won't compile it.</p>\n\n<p>Please note:  You would only be able to use jdk1.8.0 to actually <em>compile</em>, since that would be the only library set that has <code>javac</code> contained in it.  Remember:  the Java Runtime Environment runs Java classes; the Java Development Kit compiles them.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1592472627,"creation_date":1387052953,"answer_id":20587905,"question_id":20587840,"body_markdown":"As &lt;kbd&gt;[KhAn SaAb](https://stackoverflow.com/users/1249325/khan-saab)&lt;/kbd&gt; has stated, you need to set your path.\r\n\r\nBut in order for your JDK to take advantage of tools such as Maven in the future, I would assign a `JAVA_HOME` path to point to your JDK folder and then just add the `%JAVA_HOME%\\bin` directory to your `PATH`.\r\n\r\n&lt;!-- language: lang-batch --&gt;\r\n\r\n    JAVA_HOME = &quot;C:\\Program Files\\Java\\jdk1.8.0&quot;\r\n    PATH = %PATH%\\%JAVA_HOME%\\bin\r\n\r\n---\r\n\r\nIn Windows:\r\n\r\n 1. &lt;kbd&gt;right-click&lt;/kbd&gt; &quot;My Computer&quot; and choose &quot;properties&quot; from the context menu.\r\n 2. Choose &quot;Advanced system settings&quot; on the left.\r\n 3. In the &quot;System Properties&quot; popup, in the &quot;Advanced&quot; tab, choose &quot;Environment Variables&quot;\r\n 4. In the &quot;Environment Variables&quot; popup, under the &quot;System variables&quot; section, click &quot;New&quot;\r\n 5. Type &quot;**JAVA_HOME**&quot; in the &quot;Variable name&quot; field\r\n 6. Paste the ***path to your JDK folder*** into the &quot;Variable value&quot; field.\r\n 7. Click &lt;kbd&gt;OK&lt;/kbd&gt;\r\n 8. In the same section, choose &quot;Path&quot; and change the text where it says:\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`blah;blah;blah;`**_C:\\Program Files\\Java\\jdk1.8.0\\bin;_**`blah,blah;blah`\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;to:\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`blah;blah;blah;`**_%JAVA\\_HOME%\\bin;_**`blah,blah;blah`\r\n","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>As <kbd><a href=\"https://stackoverflow.com/users/1249325/khan-saab\">KhAn SaAb</a></kbd> has stated, you need to set your path.</p>\n\n<p>But in order for your JDK to take advantage of tools such as Maven in the future, I would assign a <code>JAVA_HOME</code> path to point to your JDK folder and then just add the <code>%JAVA_HOME%\\bin</code> directory to your <code>PATH</code>.</p>\n\n<pre class=\"lang-batch prettyprint-override\"><code>JAVA_HOME = \"C:\\Program Files\\Java\\jdk1.8.0\"\nPATH = %PATH%\\%JAVA_HOME%\\bin\n</code></pre>\n\n<hr>\n\n<p>In Windows:</p>\n\n<ol>\n<li><kbd>right-click</kbd> \"My Computer\" and choose \"properties\" from the context menu.</li>\n<li>Choose \"Advanced system settings\" on the left.</li>\n<li>In the \"System Properties\" popup, in the \"Advanced\" tab, choose \"Environment Variables\"</li>\n<li>In the \"Environment Variables\" popup, under the \"System variables\" section, click \"New\"</li>\n<li>Type \"<strong>JAVA_HOME</strong>\" in the \"Variable name\" field</li>\n<li>Paste the <strong><em>path to your JDK folder</em></strong> into the \"Variable value\" field.</li>\n<li>Click <kbd>OK</kbd></li>\n<li>In the same section, choose \"Path\" and change the text where it says:</li>\n</ol>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>blah;blah;blah;</code><strong><em>C:\\Program Files\\Java\\jdk1.8.0\\bin;</em></strong><code>blah,blah;blah</code></p>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to:</p>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>blah;blah;blah;</code><strong><em>%JAVA_HOME%\\bin;</em></strong><code>blah,blah;blah</code></p>\n"},{"tags":[],"owner":{"account_id":5392649,"reputation":11,"user_id":4294695,"display_name":"vinaykotagi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416997999,"creation_date":1416996173,"answer_id":27146191,"question_id":20587840,"body_markdown":"If this is the problem then go to the place where the javac is present and then type \r\n\r\n 1. notepad Yourfilename.java\r\n 2. it will ask for creation of the file \r\n 3. say yes and copy the code from your previous source file to this file\r\n 4. now execute the cmd------&gt;javac Yourfilename.java\r\n\r\nIt will work for sure.\r\n","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>If this is the problem then go to the place where the javac is present and then type </p>\n\n<ol>\n<li>notepad Yourfilename.java</li>\n<li>it will ask for creation of the file </li>\n<li>say yes and copy the code from your previous source file to this file</li>\n<li>now execute the cmd------>javac Yourfilename.java</li>\n</ol>\n\n<p>It will work for sure.</p>\n"},{"tags":[],"owner":{"account_id":5500823,"reputation":135,"user_id":4370213,"accept_rate":57,"display_name":"Ramson Mwangi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422534789,"creation_date":1422534789,"answer_id":28214879,"question_id":20587840,"body_markdown":"Seems like you have your path right. But what is your working directory?\r\non command prompt run:\r\n\r\n    javac -version\r\n\r\nthis should show your java version. if it doesnt, you have not set java in path correctly.\r\n\r\nnavigate to C:\r\n\r\n    cd \\\r\nThen:\r\n\r\n    javac -sourcepath users\\AccName\\Desktop -d users\\AccName\\Desktop first.java\r\n\r\n-sourcepath is the complete path to your .java file, -d is the path/directory you want your .class files to be, then finally the file you want compiled (first.java). \r\n\r\n\r\n","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>Seems like you have your path right. But what is your working directory?\non command prompt run:</p>\n\n<pre><code>javac -version\n</code></pre>\n\n<p>this should show your java version. if it doesnt, you have not set java in path correctly.</p>\n\n<p>navigate to C:</p>\n\n<pre><code>cd \\\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>javac -sourcepath users\\AccName\\Desktop -d users\\AccName\\Desktop first.java\n</code></pre>\n\n<p>-sourcepath is the complete path to your .java file, -d is the path/directory you want your .class files to be, then finally the file you want compiled (first.java). </p>\n"},{"tags":[],"owner":{"account_id":6803483,"reputation":11,"user_id":5236060,"display_name":"Jai Bansal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439832286,"creation_date":1439828552,"answer_id":32055227,"question_id":20587840,"body_markdown":"So I had the same problem because I wasn&#39;t in the right directory where my file was located. So when I ran `javac Example.java` (for me) it said it  couldn&#39;t find it. But I needed to go to where my `Example.java` file was located. So I used the command `cd` and right after that the location of the file. That worked for me. Tell me if it helps! Thanks! \r\n","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>So I had the same problem because I wasn't in the right directory where my file was located. So when I ran <code>javac Example.java</code> (for me) it said it  couldn't find it. But I needed to go to where my <code>Example.java</code> file was located. So I used the command <code>cd</code> and right after that the location of the file. That worked for me. Tell me if it helps! Thanks! </p>\n"},{"tags":[],"owner":{"account_id":233086,"reputation":561,"user_id":498340,"display_name":"Stephen Dryden"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1441473487,"creation_date":1441473487,"answer_id":32415749,"question_id":20587840,"body_markdown":"I had the same issue and it was to do with my file name. If you set the file location using CD in CMD, and then type DIR it will list the files in that directory. Check that the file name appears and check that the spelling and filename ending is correct.\r\n\r\nIt should be .java but mine was .java.txt. The instructions on the [Java tutorials website][1] state that you should select &quot;Save as Type Text Documents&quot; but for me that always adds .txt onto the end of the file name. If I change it to &quot;Save as Type All Documents&quot; it correctly saved the file name.\r\n\r\n[![CMD DIR Example][2]][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html\r\n  [2]: http://i.stack.imgur.com/CQ0VB.png","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>I had the same issue and it was to do with my file name. If you set the file location using CD in CMD, and then type DIR it will list the files in that directory. Check that the file name appears and check that the spelling and filename ending is correct.</p>\n\n<p>It should be .java but mine was .java.txt. The instructions on the <a href=\"http://docs.oracle.com/javase/tutorial/getStarted/cupojava/win32.html\" rel=\"noreferrer\">Java tutorials website</a> state that you should select \"Save as Type Text Documents\" but for me that always adds .txt onto the end of the file name. If I change it to \"Save as Type All Documents\" it correctly saved the file name.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CQ0VB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CQ0VB.png\" alt=\"CMD DIR Example\"></a></p>\n"},{"tags":[],"owner":{"account_id":9444151,"reputation":31,"user_id":7023544,"display_name":"shareToProgress"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476544162,"creation_date":1476538239,"answer_id":40059633,"question_id":20587840,"body_markdown":"I had same problem. The origin of the problem was the creation of text file in Notepad and renaming it as a java file. This implied that the file was saved as WorCount.java.txt file.\r\n\r\nTo solve this I had **to save the file as java file** in an IDE or in Nodepad++.","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>I had same problem. The origin of the problem was the creation of text file in Notepad and renaming it as a java file. This implied that the file was saved as WorCount.java.txt file.</p>\n\n<p>To solve this I had <strong>to save the file as java file</strong> in an IDE or in Nodepad++.</p>\n"},{"tags":[],"owner":{"account_id":3269458,"reputation":54,"user_id":2753137,"display_name":"Android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477226312,"creation_date":1477226312,"answer_id":40202994,"question_id":20587840,"body_markdown":"First set your path to C:/Program Files/Java/jdk1.8.0/bin in the environment variables.\r\nSay, your file is saved in the C: drive\r\nNow open the command prompt and move to the directory using c:\r\njavac Filename.java\r\njava Filename\r\n\r\nMake sure you save the file name as .java.\r\n\r\nIf it is saved as a text file name then file not found error results as it cannot the text file.","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>First set your path to C:/Program Files/Java/jdk1.8.0/bin in the environment variables.\nSay, your file is saved in the C: drive\nNow open the command prompt and move to the directory using c:\njavac Filename.java\njava Filename</p>\n\n<p>Make sure you save the file name as .java.</p>\n\n<p>If it is saved as a text file name then file not found error results as it cannot the text file.</p>\n"},{"tags":[],"owner":{"account_id":10268011,"reputation":11,"user_id":7577361,"display_name":"Beginner_PCR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487279989,"creation_date":1487279989,"answer_id":42284851,"question_id":20587840,"body_markdown":"Here is the way I executed the program without environment variable configured.\r\n\r\nJava file execution procedure:\r\nAfter you saved a file MyFirstJavaProgram.java\r\n\r\nEnter the whole Path of &quot;Javac&quot; followed by java file &lt;MyFirstJavaProgram.java&gt;\r\nFor executing output\r\nPath of &lt;java&gt; followed by comment &lt;-cp&gt; followed by &lt;file directory&gt; followed by &lt;file name&gt;\r\n\r\nGiven below is the example of execution\r\n==========================================\r\nC:\\Program Files\\Java\\jdk1.8.0_101\\bin&gt;javac C:\\Sample\\MyFirstJavaProgram2.java\r\nC:\\Program Files\\Java\\jdk1.8.0_101\\bin&gt;java -cp C:\\Sample MyFirstJavaProgram2\r\nHello World","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>Here is the way I executed the program without environment variable configured.</p>\n\n<p>Java file execution procedure:\nAfter you saved a file MyFirstJavaProgram.java</p>\n\n<p>Enter the whole Path of \"Javac\" followed by java file \nFor executing output\nPath of  followed by comment &lt;-cp> followed by  followed by </p>\n\n<h1>Given below is the example of execution</h1>\n\n<p>C:\\Program Files\\Java\\jdk1.8.0_101\\bin>javac C:\\Sample\\MyFirstJavaProgram2.java\nC:\\Program Files\\Java\\jdk1.8.0_101\\bin>java -cp C:\\Sample MyFirstJavaProgram2\nHello World</p>\n"},{"tags":[],"owner":{"account_id":10268011,"reputation":11,"user_id":7577361,"display_name":"Beginner_PCR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487280202,"creation_date":1487280202,"answer_id":42284914,"question_id":20587840,"body_markdown":"Java file execution procedure:\r\nAfter you saved a file MyFirstJavaProgram2.java\r\n\r\nEnter the whole Path of &quot;Javac&quot; followed by java file &lt;MyFirstJavaProgram2.java&gt;\r\nFor executing output\r\nPath of &lt;java&gt; followed by comment &lt;-cp&gt; followed by &lt;file directory&gt; followed by &lt;file name&gt;\r\n\r\nGiven below is the example of execution\r\n==========================================\r\nC:\\Program Files\\Java\\jdk1.8.0_101\\bin&gt;javac C:\\Sample\\MyFirstJavaProgram2.java\r\n\r\n\r\nC:\\Program Files\\Java\\jdk1.8.0_101\\bin&gt;java -cp C:\\Sample MyFirstJavaProgram2\r\n\r\n\r\nHello World","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>Java file execution procedure:\nAfter you saved a file MyFirstJavaProgram2.java</p>\n\n<p>Enter the whole Path of \"Javac\" followed by java file \nFor executing output\nPath of  followed by comment &lt;-cp> followed by  followed by </p>\n\n<h1>Given below is the example of execution</h1>\n\n<p>C:\\Program Files\\Java\\jdk1.8.0_101\\bin>javac C:\\Sample\\MyFirstJavaProgram2.java</p>\n\n<p>C:\\Program Files\\Java\\jdk1.8.0_101\\bin>java -cp C:\\Sample MyFirstJavaProgram2</p>\n\n<p>Hello World</p>\n"},{"tags":[],"owner":{"account_id":13561872,"reputation":11,"user_id":9783285,"display_name":"Pankaj Dubey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526200195,"creation_date":1526200195,"answer_id":50314220,"question_id":20587840,"body_markdown":"Sometimes this issue occurs, If you are creating a java file for the first time in your system. The Extension of your Java file gets saved as the text file. \r\n\r\ne.g ***Example.java.txt (wrong extension)***\r\n\r\nYou need to change the text file extension to java file.\r\n\r\nIt should be like:\r\n\r\n***Example.java (right extension)***","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>Sometimes this issue occurs, If you are creating a java file for the first time in your system. The Extension of your Java file gets saved as the text file. </p>\n\n<p>e.g <strong><em>Example.java.txt (wrong extension)</em></strong></p>\n\n<p>You need to change the text file extension to java file.</p>\n\n<p>It should be like:</p>\n\n<p><strong><em>Example.java (right extension)</em></strong></p>\n"},{"tags":[],"owner":{"account_id":14118083,"reputation":380,"user_id":10199360,"display_name":"Mukul Kirti Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533752172,"creation_date":1533752172,"answer_id":51753223,"question_id":20587840,"body_markdown":"just open file \r\nthen click on save as\r\nthen name it as first.java\r\nthen in that box there is another dropdown in that dropdown (save as type) select type as all\r\nand save it\r\nnow you can compile it","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>just open file \nthen click on save as\nthen name it as first.java\nthen in that box there is another dropdown in that dropdown (save as type) select type as all\nand save it\nnow you can compile it</p>\n"},{"tags":[],"owner":{"account_id":7474829,"reputation":622,"user_id":5681567,"display_name":"Pravin Ghorle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582361028,"creation_date":1582361028,"answer_id":60350478,"question_id":20587840,"body_markdown":"first set the path of jdk bin \r\nsteps to be follow:\r\n - open computer properties.\r\n - Advanced system settings\r\n - Environment Variables\r\nlook for the system variables\r\n -Click on the &quot;path&quot; variable \r\n - Edit\r\ncopy the jdk bin path and done.\r\n\r\n \r\n\r\n\r\n\r\nThe Problem is you just open the command prompt which is default set on current user like &quot;C:\\users\\ABC&gt;&quot;\r\nYou have to change the location where your .java file store like &quot;D:\\javafiles&gt;&quot;\r\n\r\nNow you are able to run the command `javac filename.java` ","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>first set the path of jdk bin \nsteps to be follow:\n - open computer properties.\n - Advanced system settings\n - Environment Variables\nlook for the system variables\n -Click on the \"path\" variable \n - Edit\ncopy the jdk bin path and done.</p>\n\n<p>The Problem is you just open the command prompt which is default set on current user like \"C:\\users\\ABC>\"\nYou have to change the location where your .java file store like \"D:\\javafiles>\"</p>\n\n<p>Now you are able to run the command <code>javac filename.java</code> </p>\n"},{"tags":[],"owner":{"account_id":24323906,"reputation":128,"user_id":18263761,"display_name":"ilia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666725352,"creation_date":1666725352,"answer_id":74199127,"question_id":20587840,"body_markdown":"if your file located different folder\r\n\r\n    cd cd C:\\Users\\Owner\\IdeaProjects\\headFirst\\sink-startups-game\r\n\r\nthen `cd src`\r\n\r\nIf you have just one file that located somewhere press `Shift+right click -&gt; Copy file Path` and then you can execute same way : `cd + path(Ctrl+v)`\r\n\r\n   \r\nto see files in that directory -  `dir` +Enter\r\n\r\n    javac filename.java\r\n\r\nthen `java filename`\r\n\r\nTo compile all files in given directory: `javac *.java`\r\nthen easyly you can use `java anyfilename`\r\n\r\n ","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>if your file located different folder</p>\n<pre><code>cd cd C:\\Users\\Owner\\IdeaProjects\\headFirst\\sink-startups-game\n</code></pre>\n<p>then <code>cd src</code></p>\n<p>If you have just one file that located somewhere press <code>Shift+right click -&gt; Copy file Path</code> and then you can execute same way : <code>cd + path(Ctrl+v)</code></p>\n<p>to see files in that directory -  <code>dir</code> +Enter</p>\n<pre><code>javac filename.java\n</code></pre>\n<p>then <code>java filename</code></p>\n<p>To compile all files in given directory: <code>javac *.java</code>\nthen easyly you can use <code>java anyfilename</code></p>\n"},{"tags":[],"owner":{"account_id":24559488,"reputation":75,"user_id":18467494,"display_name":"Abdullah Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675383861,"creation_date":1675383861,"answer_id":75330274,"question_id":20587840,"body_markdown":"There was an extra space in my case. I wrote **MyFile .java** instead of **MyFile.java**. I corrected this mistake and I was free of this issue.","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>There was an extra space in my case. I wrote <strong>MyFile .java</strong> instead of <strong>MyFile.java</strong>. I corrected this mistake and I was free of this issue.</p>\n"}],"owner":{"account_id":3565606,"reputation":121,"user_id":2977218,"display_name":"Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215463,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":16,"score":11,"last_activity_date":1675383861,"creation_date":1387052531,"question_id":20587840,"body_markdown":"I have a filename named &quot;first.java&quot; saved on my desktop in notepad++. When I run the cmd command &quot;javac first.java&quot; it gives me this error.\r\n\r\n    javac: file not found: first.java \r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n\r\nI know you are required to go to C:\\Programfiles\\java\\jdk. \r\n\r\nand in my C:\\Program Files\\Java\\ I have thesE folders\r\n\r\n&quot;jdk1.8.0&quot;\r\n&quot;jre6&quot;\r\n&quot;jre8&quot;\r\n\r\nIn C:\\Program Files (x86)\\Java\r\nI have this folder  \r\n&quot;jre6&quot;\r\n\r\n\r\nThe Environmental settings are as follows\r\n\r\n**CLASSPATH**  \r\nC:\\Program Files\\Java\\jre8\\bin  \r\nVariable name: LEJOS_NXT_JAVA_HOME  \r\nVariable value: C:\\Program Files (x86)\\Java\\jdk1.6.0_21\\bin\r\n\r\n**PATH**  \r\nVariable name: PATH  \r\nVariable value: C:\\Program Files\\Java\\jdk1.8.0\\bin\r\n\r\nPlease tell me where I am going wrong.  I have read several posts on the Internet, and I can&#39;t figure it out.\r\n","title":"javac: file not found: first.java Usage: javac &lt;options&gt; &lt;source files&gt;","body":"<p>I have a filename named \"first.java\" saved on my desktop in notepad++. When I run the cmd command \"javac first.java\" it gives me this error.</p>\n\n<pre><code>javac: file not found: first.java \nUsage: javac &lt;options&gt; &lt;source files&gt;\n</code></pre>\n\n<p>I know you are required to go to C:\\Programfiles\\java\\jdk. </p>\n\n<p>and in my C:\\Program Files\\Java\\ I have thesE folders</p>\n\n<p>\"jdk1.8.0\"\n\"jre6\"\n\"jre8\"</p>\n\n<p>In C:\\Program Files (x86)\\Java\nI have this folder<br>\n\"jre6\"</p>\n\n<p>The Environmental settings are as follows</p>\n\n<p><strong>CLASSPATH</strong><br>\nC:\\Program Files\\Java\\jre8\\bin<br>\nVariable name: LEJOS_NXT_JAVA_HOME<br>\nVariable value: C:\\Program Files (x86)\\Java\\jdk1.6.0_21\\bin</p>\n\n<p><strong>PATH</strong><br>\nVariable name: PATH<br>\nVariable value: C:\\Program Files\\Java\\jdk1.8.0\\bin</p>\n\n<p>Please tell me where I am going wrong.  I have read several posts on the Internet, and I can't figure it out.</p>\n"},{"tags":["java","memory-leaks","jvm","jemalloc"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1675382994,"creation_date":1675382994,"answer_id":75330200,"question_id":75329813,"body_markdown":"Try [async-profiler](https://github.com/jvm-profiling-tools/async-profiler). It can show you complete Java stack traces of all callers of `Unsafe_AllocateMemory0`.\r\n\r\nExample:\r\n```\r\n./profiler.sh -e Unsafe_AllocateMemory0 -f alloc.html &lt;pid&gt;\r\n```\r\nThe output file `alloc.html` will be a flame graph of all `Unsafe_AllocateMemory0` calls:\r\n\r\n[![alloc.html][1]][1]\r\n\r\nFor more information about finding native memory leaks in Java, see [this question](https://stackoverflow.com/questions/53576163/interpreting-jemaloc-data-possible-off-heap-leak) and [this discussion](https://github.com/jvm-profiling-tools/async-profiler/discussions/491).\r\n\r\n  [1]: https://i.stack.imgur.com/N23CR.png","title":"JVM + LEAK + JEMALLOC = Unsafe_AllocateMemory","body":"<p>Try <a href=\"https://github.com/jvm-profiling-tools/async-profiler\" rel=\"nofollow noreferrer\">async-profiler</a>. It can show you complete Java stack traces of all callers of <code>Unsafe_AllocateMemory0</code>.</p>\n<p>Example:</p>\n<pre><code>./profiler.sh -e Unsafe_AllocateMemory0 -f alloc.html &lt;pid&gt;\n</code></pre>\n<p>The output file <code>alloc.html</code> will be a flame graph of all <code>Unsafe_AllocateMemory0</code> calls:</p>\n<p><a href=\"https://i.stack.imgur.com/N23CR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N23CR.png\" alt=\"alloc.html\" /></a></p>\n<p>For more information about finding native memory leaks in Java, see <a href=\"https://stackoverflow.com/questions/53576163/interpreting-jemaloc-data-possible-off-heap-leak\">this question</a> and <a href=\"https://github.com/jvm-profiling-tools/async-profiler/discussions/491\" rel=\"nofollow noreferrer\">this discussion</a>.</p>\n"}],"owner":{"account_id":3654844,"reputation":131,"user_id":3046156,"display_name":"usphisics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675436216,"accepted_answer_id":75330200,"answer_count":1,"score":-1,"last_activity_date":1675382994,"creation_date":1675379072,"question_id":75329813,"body_markdown":"It is being a lot of hour re-searching and try find wth is calling a unsafe.allocateMemory and no success at all. Kind of disappointed :-(\r\nIm not a expert or profile or with jemalloc but here is what I did so far and hopefully someone can see/find what I could not...\r\n\r\n* Heap and non-Heap memory are all good...I used yourkit.\r\n* General memory on the box increase crazily until 100% and the jvm crash.\r\n* Using Jemalloc and let the app run for a lot of time I was able to get some JEPROF files and converted some of them into PDF to see the memo/function stack calls:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI see that something is calling the ***unsafe.allocateMemory*** and not calling the ***unsafe.freeMemory*** after done, so it will eat all my memory.\r\nI did a thread dump from the application ([link to the txt with the thread dump][2]) but unfortunately I was not able to find anything related to the ***unsafe.allocateMemory***. Can anyone see something that I was not able to see or helping me by giving me any clue or pointing me in the right direction ?\r\nThank you....\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tnmRs.png\r\n  [2]: https://drive.google.com/drive/folders/19T7Ks3ja95OBwXyGfIULf73tzlTV747k?usp=sharing","title":"JVM + LEAK + JEMALLOC = Unsafe_AllocateMemory","body":"<p>It is being a lot of hour re-searching and try find wth is calling a unsafe.allocateMemory and no success at all. Kind of disappointed :-(\nIm not a expert or profile or with jemalloc but here is what I did so far and hopefully someone can see/find what I could not...</p>\n<ul>\n<li>Heap and non-Heap memory are all good...I used yourkit.</li>\n<li>General memory on the box increase crazily until 100% and the jvm crash.</li>\n<li>Using Jemalloc and let the app run for a lot of time I was able to get some JEPROF files and converted some of them into PDF to see the memo/function stack calls:\n<a href=\"https://i.stack.imgur.com/tnmRs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tnmRs.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<p>I see that something is calling the <em><strong>unsafe.allocateMemory</strong></em> and not calling the <em><strong>unsafe.freeMemory</strong></em> after done, so it will eat all my memory.\nI did a thread dump from the application (<a href=\"https://drive.google.com/drive/folders/19T7Ks3ja95OBwXyGfIULf73tzlTV747k?usp=sharing\" rel=\"nofollow noreferrer\">link to the txt with the thread dump</a>) but unfortunately I was not able to find anything related to the <em><strong>unsafe.allocateMemory</strong></em>. Can anyone see something that I was not able to see or helping me by giving me any clue or pointing me in the right direction ?\nThank you....</p>\n"},{"tags":["java","methods","return","return-value","return-type"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1675379837,"post_id":75329748,"comment_id":132922524,"body_markdown":"I don&#39;t think the number of days from start of year is a good return value for a method asking the user for their birthday. It sounds like the issue is not that you don&#39;t know how to use a method&#39;s result, but that you&#39;re not clear about how your data should look to accomplish your goal. Try returning a `LocalDate` from this function and see if you can use that.","body":"I don&#39;t think the number of days from start of year is a good return value for a method asking the user for their birthday. It sounds like the issue is not that you don&#39;t know how to use a method&#39;s result, but that you&#39;re not clear about how your data should look to accomplish your goal. Try returning a <code>LocalDate</code> from this function and see if you can use that."},{"owner":{"account_id":27689427,"reputation":1,"user_id":21136433,"display_name":"entropeutic"},"score":0,"creation_date":1675381098,"post_id":75329748,"comment_id":132922754,"body_markdown":"all i needed was to declare a variable in main and initialize it to the method i illustrated above, which would then hold the returned value in question, being able to pass that new declared variable as an argument to another method. the number of days from start of year was actually required as part of the program and how it functions, so you misunderstood, but i was possibly too vague. i could have included the whole program but i didnt want all the unfinished code getting in the way of helpful answers. this was my first post though, ill get better. thanks for the feedback!","body":"all i needed was to declare a variable in main and initialize it to the method i illustrated above, which would then hold the returned value in question, being able to pass that new declared variable as an argument to another method. the number of days from start of year was actually required as part of the program and how it functions, so you misunderstood, but i was possibly too vague. i could have included the whole program but i didnt want all the unfinished code getting in the way of helpful answers. this was my first post though, ill get better. thanks for the feedback!"}],"answers":[{"tags":[],"owner":{"account_id":16768135,"reputation":177,"user_id":12121297,"display_name":"vinodhraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675379067,"creation_date":1675379067,"answer_id":75329812,"question_id":75329748,"body_markdown":"I am not sure if I understand your question fully. But I think the following might work.\r\n\r\n    public static int inputUser(){\r\n     // Your code in question\r\n    }\r\n\r\n    public static int theOtherMethod(int n){\r\n     // already working method\r\n    }\r\n\r\nYou just have to call \r\n\r\n    int nDays = theOtherMethod(inputUser());","title":"i&#39;m trying to figure out how to access a returned value/variable from one method while writing a seperate method","body":"<p>I am not sure if I understand your question fully. But I think the following might work.</p>\n<pre><code>public static int inputUser(){\n // Your code in question\n}\n\npublic static int theOtherMethod(int n){\n // already working method\n}\n</code></pre>\n<p>You just have to call</p>\n<pre><code>int nDays = theOtherMethod(inputUser());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27689427,"reputation":1,"user_id":21136433,"display_name":"entropeutic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675381656,"creation_date":1675381656,"answer_id":75330095,"question_id":75329748,"body_markdown":"i just wanted to post what i ended up doing, for anyone browsing for help. \r\n\r\nall i needed was to declare a variable in main and initialize it to the method i illustrated above that holds my desired return value, which would then hold that returned value as well, allowing me to pass that new declared variable as an argument to another method, which i actually needed to do this twice, two new variables in main/2 return values from 2 different methods, to achieve my desired results.\r\n\r\ni actually solved my own issue before checking my answers here. i dont know if yall have heard of the rubber duck method? if youre stuck, ask a detailed version of your question out loud to a rubber duck, or anything really, or a friend whether they know anything about what youre asking or not, because the process of illustrating the question thoroughly activates additional useful resources in your analysis. basically, after i emailed my professor then posted this question here, i returned back to my program and suddenly had a much more clear and almost zen like perspective, and started connecting dots more efficiently which led me to discovering the answer to my own question. thanks for your time guys! this website has helped tremendously","title":"i&#39;m trying to figure out how to access a returned value/variable from one method while writing a seperate method","body":"<p>i just wanted to post what i ended up doing, for anyone browsing for help.</p>\n<p>all i needed was to declare a variable in main and initialize it to the method i illustrated above that holds my desired return value, which would then hold that returned value as well, allowing me to pass that new declared variable as an argument to another method, which i actually needed to do this twice, two new variables in main/2 return values from 2 different methods, to achieve my desired results.</p>\n<p>i actually solved my own issue before checking my answers here. i dont know if yall have heard of the rubber duck method? if youre stuck, ask a detailed version of your question out loud to a rubber duck, or anything really, or a friend whether they know anything about what youre asking or not, because the process of illustrating the question thoroughly activates additional useful resources in your analysis. basically, after i emailed my professor then posted this question here, i returned back to my program and suddenly had a much more clear and almost zen like perspective, and started connecting dots more efficiently which led me to discovering the answer to my own question. thanks for your time guys! this website has helped tremendously</p>\n"}],"owner":{"account_id":27689427,"reputation":1,"user_id":21136433,"display_name":"entropeutic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675381656,"creation_date":1675378385,"question_id":75329748,"body_markdown":"i understand what they do and what their purpose is and i&#39;ve used them successfully many times. but there seems to be some things i don&#39;t yet understand that keep getting in the way. for instance, im assigned to create a program to prompt the user to input their birthday then calculate the number of days until their birthday. The main should not have any print statements, just methods. here is a method i wrote:\r\n             \r\n    public static int inputUser () {\r\n\t\tScanner console = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please enter your birthday: &quot;);\r\n\t\tSystem.out.print(&quot;What is the month (1-12)? &quot;);\r\n\t\tint month1 = console.nextInt();\r\n\t\tif (month1 == 4 || month1 == 6 || month1 == 9 || month1 == 11) {\r\n\t\t\tSystem.out.print(&quot;What is the day   (1-30)? &quot;);\r\n\t\t} else if (month1 == 1 || month1 == 3 || month1 == 5 || month1 == 7 || month1 == 8 || month1 == 10 || month1 == 12) {\r\n\t\t\tSystem.out.print(&quot;What is the day   (1-31)? &quot;);\r\n\t\t} else if (month1 == 2) {\r\n\t\t\tSystem.out.print(&quot;What is the day   (1-28)? &quot;);\r\n\t\t}\r\n\t\tint day1 = console.nextInt();\r\n\t\tint absBday = daysInMonth(month1, day1);\r\n\t\tSystem.out.println(month1 + &quot;/&quot; + day1 + &quot; is day #&quot; + absBday + &quot; of 365.&quot;);\r\n\t\treturn absBday;\r\n\r\n i want to use the returned value in another method i&#39;m writing but i can&#39;t figure out how to access this returned value for the new method. the other method will basically calculate how many days from today until the user&#39;s inputted birthday, which i have another method already successfully written for determining how many days into the year any given day is, i just need this returned &quot;day #&quot; to do one last tiny little method. anybody got any pointers? \r\n\r\ni basically just tried things my intuition already knew wouldnt work, like trying to call absDays in the new method i&#39;m writing, trying to define the userInput method with a declared type and variable in the parameters, with AND without matching it to the absDay variable name...just basically a bunch of things i already pretty much knew were not going to work, but sometimes when i&#39;m experimenting i&#39;ll have an AHA! moment even if i&#39;m trying something that obviously won&#39;t work, but the AHA! moment never came :( ","title":"i&#39;m trying to figure out how to access a returned value/variable from one method while writing a seperate method","body":"<p>i understand what they do and what their purpose is and i've used them successfully many times. but there seems to be some things i don't yet understand that keep getting in the way. for instance, im assigned to create a program to prompt the user to input their birthday then calculate the number of days until their birthday. The main should not have any print statements, just methods. here is a method i wrote:</p>\n<pre><code>public static int inputUser () {\n    Scanner console = new Scanner(System.in);\n    \n    System.out.println(&quot;Please enter your birthday: &quot;);\n    System.out.print(&quot;What is the month (1-12)? &quot;);\n    int month1 = console.nextInt();\n    if (month1 == 4 || month1 == 6 || month1 == 9 || month1 == 11) {\n        System.out.print(&quot;What is the day   (1-30)? &quot;);\n    } else if (month1 == 1 || month1 == 3 || month1 == 5 || month1 == 7 || month1 == 8 || month1 == 10 || month1 == 12) {\n        System.out.print(&quot;What is the day   (1-31)? &quot;);\n    } else if (month1 == 2) {\n        System.out.print(&quot;What is the day   (1-28)? &quot;);\n    }\n    int day1 = console.nextInt();\n    int absBday = daysInMonth(month1, day1);\n    System.out.println(month1 + &quot;/&quot; + day1 + &quot; is day #&quot; + absBday + &quot; of 365.&quot;);\n    return absBday;\n</code></pre>\n<p>i want to use the returned value in another method i'm writing but i can't figure out how to access this returned value for the new method. the other method will basically calculate how many days from today until the user's inputted birthday, which i have another method already successfully written for determining how many days into the year any given day is, i just need this returned &quot;day #&quot; to do one last tiny little method. anybody got any pointers?</p>\n<p>i basically just tried things my intuition already knew wouldnt work, like trying to call absDays in the new method i'm writing, trying to define the userInput method with a declared type and variable in the parameters, with AND without matching it to the absDay variable name...just basically a bunch of things i already pretty much knew were not going to work, but sometimes when i'm experimenting i'll have an AHA! moment even if i'm trying something that obviously won't work, but the AHA! moment never came :(</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675252407,"post_id":75302320,"comment_id":132887338,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1675271251,"post_id":75302320,"comment_id":132894100,"body_markdown":"Please read [ask], especially the part about [mcve] (MCVE). Take the code you are using, reduce it to an MCVE, and then post that code, properly formatted. Post the full error message, properly formatted, and indicate on which line the error is occurring. Post the relevant HTML, also properly formatted.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, especially the part about <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (MCVE). Take the code you are using, reduce it to an MCVE, and then post that code, properly formatted. Post the full error message, properly formatted, and indicate on which line the error is occurring. Post the relevant HTML, also properly formatted."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675364504,"post_id":75302320,"comment_id":132918809,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675381575,"creation_date":1675381575,"answer_id":75330091,"question_id":75302320,"body_markdown":"To use the [**By**](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html) class you need to import `By` as follows:\r\n\r\n    import org.openqa.selenium.By;","title":"java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null","body":"<p>To use the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.html\" rel=\"nofollow noreferrer\"><strong>By</strong></a> class you need to import <code>By</code> as follows:</p>\n<pre><code>import org.openqa.selenium.By;\n</code></pre>\n"}],"owner":{"account_id":27669570,"reputation":1,"user_id":21120695,"display_name":"Bodhas Latha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675381575,"creation_date":1675193949,"question_id":75302320,"body_markdown":"I&#39;m facing an error:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\r\n\r\nCode and Error screenshot:\r\n\r\n[![code and error screenshot here][1]][1]\r\n\r\nCan I know why I am getting this error?\r\n\r\nI am trying to execute the script whose result should be printed as true, but gettting error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A7F49.png","title":"java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null","body":"<p>I'm facing an error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\n</code></pre>\n<p>Code and Error screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/A7F49.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A7F49.png\" alt=\"code and error screenshot here\" /></a></p>\n<p>Can I know why I am getting this error?</p>\n<p>I am trying to execute the script whose result should be printed as true, but gettting error.</p>\n"},{"tags":["java","spring","spring-boot","project-reactor","spring-mono"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1584359226,"post_id":60705382,"comment_id":107404191,"body_markdown":"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html","body":"<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15531470,"reputation":936,"user_id":11204852,"display_name":"Alessandro Candeloro"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1675381564,"creation_date":1584364725,"answer_id":60706755,"question_id":60705382,"body_markdown":"A `Mono&lt;T&gt;` is a specialized `Publisher&lt;T&gt;` that emits at most one item and then (optionally) terminates with an `onComplete` signal or an `onError` signal.\r\nIt offers only a subset of the operators that are available for a `Flux`, and some operators (notably those that combine the `Mono` with another `Publisher`) switch to a `Flux`. For example, `Mono#concatWith(Publisher)` returns a `Flux` while `Mono#then(Mono)` returns another `Mono`.\r\nNote that you can use a `Mono` to represent no-value asynchronous processes that only have the concept of completion (similar to a Runnable). To create one, you can use an empty `Mono&lt;Void&gt;`.\r\n\r\nMono and Flux are both reactive streams. They differ in what they express. A Mono is a stream of 0 to 1 element, whereas a Flux is a stream of 0 to N elements.\r\n\r\nThis difference in the semantics of these two streams is very useful, as for example making a request to an Http server expects to receive 0 or 1 response, it would be inappropriate to use a Flux in this case. On the opposite, computing the result of a mathematical function on an interval expects one result per number in the interval. In this other case, using a Flux is appropriate.\r\n\r\n\r\nHow to use it:\r\n\r\n\r\n```Java\r\nMono.just(&quot;Hello World !&quot;).subscribe(\r\n  successValue -&gt; System.out.println(successValue),\r\n  error -&gt; System.err.println(error.getMessage()),\r\n  () -&gt; System.out.println(&quot;Mono consumed.&quot;)\r\n);\r\n// This will display in the console :\r\n// Hello World !\r\n// Mono consumed.\r\n\r\n// In case of error, it would have displayed : \r\n// **the error message**\r\n// Mono consumed.\r\n\r\nFlux.range(1, 5).subscribe(\r\n  successValue -&gt; System.out.println(successValue),\r\n  error -&gt; System.err.println(error.getMessage()),\r\n  () -&gt; System.out.println(&quot;Flux consumed.&quot;)\r\n);\r\n// This will display in the console :\r\n// 1\r\n// 2\r\n// 3\r\n// 4\r\n// 5\r\n// Flux consumed.\r\n\r\n// Now imagine that when manipulating the values in the Flux, an exception\r\n// is thrown for the value 4. \r\n// The result in the console would be :\r\n// An error as occurred\r\n// 1\r\n// 2\r\n// 3\r\n//\r\n// As you can notice, the &quot;Flux consumed.&quot; doesn&#39;t display because the Flux\r\n// hasn&#39;t been fully consumed. This is because the stream stop handling future values\r\n// if an error occurs. Also, the error is handled before the successful values.\r\n```\r\n\r\n\r\nsources: [Reactor Java #1 - How to create Mono and Flux?][1], [Mono, an Asynchronous 0-1 Result][2]\r\n\r\nit might be helpful: [Mono doc][3]\r\n\r\n\r\n  [1]: https://medium.com/@cheron.antoine/reactor-java-1-how-to-create-mono-and-flux-471c505fa158\r\n  [2]: https://projectreactor.io/docs/core/release/reference/#mono\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html","title":"Mono class in Java: what is, and when to use?","body":"<p>A <code>Mono&lt;T&gt;</code> is a specialized <code>Publisher&lt;T&gt;</code> that emits at most one item and then (optionally) terminates with an <code>onComplete</code> signal or an <code>onError</code> signal.\nIt offers only a subset of the operators that are available for a <code>Flux</code>, and some operators (notably those that combine the <code>Mono</code> with another <code>Publisher</code>) switch to a <code>Flux</code>. For example, <code>Mono#concatWith(Publisher)</code> returns a <code>Flux</code> while <code>Mono#then(Mono)</code> returns another <code>Mono</code>.\nNote that you can use a <code>Mono</code> to represent no-value asynchronous processes that only have the concept of completion (similar to a Runnable). To create one, you can use an empty <code>Mono&lt;Void&gt;</code>.</p>\n<p>Mono and Flux are both reactive streams. They differ in what they express. A Mono is a stream of 0 to 1 element, whereas a Flux is a stream of 0 to N elements.</p>\n<p>This difference in the semantics of these two streams is very useful, as for example making a request to an Http server expects to receive 0 or 1 response, it would be inappropriate to use a Flux in this case. On the opposite, computing the result of a mathematical function on an interval expects one result per number in the interval. In this other case, using a Flux is appropriate.</p>\n<p>How to use it:</p>\n<pre><code>Mono.just(&quot;Hello World !&quot;).subscribe(\n  successValue -&gt; System.out.println(successValue),\n  error -&gt; System.err.println(error.getMessage()),\n  () -&gt; System.out.println(&quot;Mono consumed.&quot;)\n);\n// This will display in the console :\n// Hello World !\n// Mono consumed.\n\n// In case of error, it would have displayed : \n// **the error message**\n// Mono consumed.\n\nFlux.range(1, 5).subscribe(\n  successValue -&gt; System.out.println(successValue),\n  error -&gt; System.err.println(error.getMessage()),\n  () -&gt; System.out.println(&quot;Flux consumed.&quot;)\n);\n// This will display in the console :\n// 1\n// 2\n// 3\n// 4\n// 5\n// Flux consumed.\n\n// Now imagine that when manipulating the values in the Flux, an exception\n// is thrown for the value 4. \n// The result in the console would be :\n// An error as occurred\n// 1\n// 2\n// 3\n//\n// As you can notice, the &quot;Flux consumed.&quot; doesn't display because the Flux\n// hasn't been fully consumed. This is because the stream stop handling future values\n// if an error occurs. Also, the error is handled before the successful values.\n</code></pre>\n<p>sources: <a href=\"https://medium.com/@cheron.antoine/reactor-java-1-how-to-create-mono-and-flux-471c505fa158\" rel=\"noreferrer\">Reactor Java #1 - How to create Mono and Flux?</a>, <a href=\"https://projectreactor.io/docs/core/release/reference/#mono\" rel=\"noreferrer\">Mono, an Asynchronous 0-1 Result</a></p>\n<p>it might be helpful: <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"noreferrer\">Mono doc</a></p>\n"}],"owner":{"account_id":12525720,"reputation":705,"user_id":9115633,"display_name":"S.I.M.P.L.E"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74927,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"answer_count":1,"score":56,"last_activity_date":1675381564,"creation_date":1584359124,"question_id":60705382,"body_markdown":"I have this following code:\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.reactive.function.BodyInserters;\r\n    import org.springframework.web.reactive.function.server.ServerRequest;\r\n    import org.springframework.web.reactive.function.server.ServerResponse;\r\n    import reactor.core.publisher.Mono;\r\n\r\n    @Component\r\n    public class GreetingHandler \r\n        public Mono&lt;ServerResponse&gt; hello(ServerRequest request) {\r\n            return ServerResponse.ok().contentType(MediaType.TEXT_PLAIN)\r\n            .body(BodyInserters.fromValue(&quot;Hello Spring!&quot;));\r\n        }\r\n    }\r\n\r\nI understand this code except what the class Mono does and what are its features. I did a lot of search but it didn&#39;t goes straight to the point: **what is the class Mono** and **when to use it**?","title":"Mono class in Java: what is, and when to use?","body":"<p>I have this following code:</p>\n\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.reactive.function.BodyInserters;\nimport org.springframework.web.reactive.function.server.ServerRequest;\nimport org.springframework.web.reactive.function.server.ServerResponse;\nimport reactor.core.publisher.Mono;\n\n@Component\npublic class GreetingHandler \n    public Mono&lt;ServerResponse&gt; hello(ServerRequest request) {\n        return ServerResponse.ok().contentType(MediaType.TEXT_PLAIN)\n        .body(BodyInserters.fromValue(\"Hello Spring!\"));\n    }\n}\n</code></pre>\n\n<p>I understand this code except what the class Mono does and what are its features. I did a lot of search but it didn't goes straight to the point: <strong>what is the class Mono</strong> and <strong>when to use it</strong>?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1571985403,"post_id":58552789,"comment_id":103426474,"body_markdown":"Did you use maven build for your 2nd project? Is there any error message?","body":"Did you use maven build for your 2nd project? Is there any error message?"},{"owner":{"account_id":1376839,"reputation":853,"user_id":8636516,"display_name":"harkesh kumar"},"score":0,"creation_date":1571985890,"post_id":58552789,"comment_id":103426659,"body_markdown":"no am not getting error","body":"no am not getting error"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1571987739,"post_id":58552789,"comment_id":103427397,"body_markdown":"dependencies with a system-path aren&#39;t included in the archive. Why don&#39;t you just declare a dependency without a system path? Your jar of the first project should be published in a shared repository.","body":"dependencies with a system-path aren&#39;t included in the archive. Why don&#39;t you just declare a dependency without a system path? Your jar of the first project should be published in a shared repository."}],"answers":[{"tags":[],"owner":{"account_id":13230185,"reputation":126,"user_id":9554060,"display_name":"Sencer Seven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571987737,"creation_date":1571987737,"answer_id":58553886,"question_id":58552789,"body_markdown":"&gt; Firstly you can put this code into pom file which project do you want to inject to another \r\n&gt; \r\n&gt; `For example this is DAO &#39; s pom file`\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;tr.com.project&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project-dao&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;application.module.version&gt;0.0.1-SNAPSHOT&lt;/application.module.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\t\r\n\r\n&gt; And you can access into another project to this DAO \r\n&gt; You must put this code another project&#39; pom\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;tr.com.project&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;project.dao&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"add external jar to Spring boot maven project","body":"<blockquote>\n  <p>Firstly you can put this code into pom file which project do you want to inject to another </p>\n  \n  <p><code>For example this is DAO ' s pom file</code></p>\n</blockquote>\n\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;tr.com.project&lt;/groupId&gt;\n&lt;artifactId&gt;project-dao&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;application.module.version&gt;0.0.1-SNAPSHOT&lt;/application.module.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<blockquote>\n  <p>And you can access into another project to this DAO \n  You must put this code another project' pom</p>\n</blockquote>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;tr.com.project&lt;/groupId&gt;\n        &lt;artifactId&gt;project.dao&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8719383,"reputation":380,"user_id":6522992,"display_name":"Volokh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571988452,"creation_date":1571988452,"answer_id":58554047,"question_id":58552789,"body_markdown":"You could install the project of the external JAR using maven:\r\n\r\n    mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; \\\r\n        -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;\r\n\r\nor if the jar was built using maven then this already would be enough:\r\n\r\n    mvn install:install-file -Dfile=&lt;path-to-file&gt;\r\n\r\nThis project then will simply be available in your maven repository and you can include it as you do with any other maven dependency.\r\n\r\n","title":"add external jar to Spring boot maven project","body":"<p>You could install the project of the external JAR using maven:</p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; \\\n    -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;\n</code></pre>\n\n<p>or if the jar was built using maven then this already would be enough:</p>\n\n<pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt;\n</code></pre>\n\n<p>This project then will simply be available in your maven repository and you can include it as you do with any other maven dependency.</p>\n"},{"tags":[],"owner":{"account_id":22068744,"reputation":464,"user_id":16330119,"display_name":"Aamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675381559,"creation_date":1675381104,"answer_id":75330042,"question_id":58552789,"body_markdown":"For me this works:\r\n\r\n&gt; IMPORTANT NOTE: First add all jar files in lib folder in the root directory of the project.\r\n\r\n# Plugin to include all jar files in one .war\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\r\n            &lt;warName&gt;ROOT&lt;/warName&gt;\r\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n            &lt;webResources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/lib&lt;/directory&gt;\r\n                &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n                &lt;includes&gt;\r\n                  &lt;include&gt;*.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/webResources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n* This configuration tells Maven to include all jar files in the lib directory, and place them in the WEB-INF/lib directory in the war file. When you run mvn clean install, Maven will package the jar files with your war file.\r\n\r\n\r\n# Plugin to include all jars in one jar \r\n\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\r\n            &lt;warName&gt;ROOT&lt;/warName&gt;\r\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n            &lt;webResources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/lib&lt;/directory&gt;\r\n                &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n                &lt;includes&gt;\r\n                  &lt;include&gt;*.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/webResources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n* This configuration tells Maven to include the dependency.jar file in the lib directory in the jar file, and to specify the classpath in the jar&#39;s manifest. The jar file will be built in the target directory, and you can run the jar file with the command java -jar target/your-jar-file.jar.\r\n\r\n\r\n* Try building the project from Eclipse or any other IDEs. \r\n\r\n&gt; Right click Project &gt; Run as &gt; maven build... &gt; mvn clean install","title":"add external jar to Spring boot maven project","body":"<p>For me this works:</p>\n<blockquote>\n<p>IMPORTANT NOTE: First add all jar files in lib folder in the root directory of the project.</p>\n</blockquote>\n<h1>Plugin to include all jar files in one .war</h1>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.2.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\n        &lt;warName&gt;ROOT&lt;/warName&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;webResources&gt;\n          &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/lib&lt;/directory&gt;\n            &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n            &lt;includes&gt;\n              &lt;include&gt;*.jar&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/resource&gt;\n        &lt;/webResources&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<ul>\n<li>This configuration tells Maven to include all jar files in the lib directory, and place them in the WEB-INF/lib directory in the war file. When you run mvn clean install, Maven will package the jar files with your war file.</li>\n</ul>\n<h1>Plugin to include all jars in one jar</h1>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.2.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;warSourceDirectory&gt;src/main/webapp&lt;/warSourceDirectory&gt;\n        &lt;warName&gt;ROOT&lt;/warName&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;webResources&gt;\n          &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/lib&lt;/directory&gt;\n            &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n            &lt;includes&gt;\n              &lt;include&gt;*.jar&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/resource&gt;\n        &lt;/webResources&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<ul>\n<li><p>This configuration tells Maven to include the dependency.jar file in the lib directory in the jar file, and to specify the classpath in the jar's manifest. The jar file will be built in the target directory, and you can run the jar file with the command java -jar target/your-jar-file.jar.</p>\n</li>\n<li><p>Try building the project from Eclipse or any other IDEs.</p>\n</li>\n</ul>\n<blockquote>\n<p>Right click Project &gt; Run as &gt; maven build... &gt; mvn clean install</p>\n</blockquote>\n"}],"owner":{"account_id":1376839,"reputation":853,"user_id":8636516,"display_name":"harkesh kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4889,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1675381559,"creation_date":1571982156,"question_id":58552789,"body_markdown":"I have two spring boot projects\r\n\r\n1. first project contain my Entity, DTO and REPO class \r\n\r\n2. Second is containing all Controller and service \r\n\r\nso here what we trying to do i am creating jar of my entity project as add as mavan dependency into second project after adding dependency in Pom file of 2nd project i also add jar in .m2 or with 1st project directory \r\n\r\nAfter adding mavan dependency 1st project in pom am not getting any error but when i am trying to access any class or my 1st project am not able to find in class \r\n\r\n\r\n\r\n***2nd Project pom file*** \r\n\r\n\t\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.coreservice&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;bms-coreservice&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;bms-coreservice&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.bms&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;dataload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;!--\t&lt;scope&gt;system&lt;/scope&gt;\r\n    \t\t \t&lt;systemPath&gt;${project.basedir}/lib/dataload-0.0.1-SNAPSHOT.jar&lt;/systemPath&gt; --&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.github.munerf.modelmapper-spring-boot-starter/modelmapper-spring-boot-starter --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.munerf.modelmapper-spring-boot-starter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/postgresql/postgresql --&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n***After adding Dependency  mavan repo list  showing jar*** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**I also try that** \r\n\r\n   \r\n\r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;in-project&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;In Project Repo&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;file://${basedir}\\src\\lib\\dataload-0.0.1-SNAPSHOT.jar&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/x0LQT.png","title":"add external jar to Spring boot maven project","body":"<p>I have two spring boot projects</p>\n\n<ol>\n<li><p>first project contain my Entity, DTO and REPO class </p></li>\n<li><p>Second is containing all Controller and service </p></li>\n</ol>\n\n<p>so here what we trying to do i am creating jar of my entity project as add as mavan dependency into second project after adding dependency in Pom file of 2nd project i also add jar in .m2 or with 1st project directory </p>\n\n<p>After adding mavan dependency 1st project in pom am not getting any error but when i am trying to access any class or my 1st project am not able to find in class </p>\n\n<p><strong><em>2nd Project pom file</em></strong> </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.coreservice&lt;/groupId&gt;\n    &lt;artifactId&gt;bms-coreservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;bms-coreservice&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.bms&lt;/groupId&gt;\n            &lt;artifactId&gt;dataload&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;!--    &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/dataload-0.0.1-SNAPSHOT.jar&lt;/systemPath&gt; --&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.github.munerf.modelmapper-spring-boot-starter/modelmapper-spring-boot-starter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.munerf.modelmapper-spring-boot-starter&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/postgresql/postgresql --&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong><em>After adding Dependency  mavan repo list  showing jar</em></strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/x0LQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x0LQT.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>I also try that</strong> </p>\n\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;in-project&lt;/id&gt;\n            &lt;name&gt;In Project Repo&lt;/name&gt;\n            &lt;url&gt;file://${basedir}\\src\\lib\\dataload-0.0.1-SNAPSHOT.jar&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n"},{"tags":["java","maven","gradle","pmd"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675381229,"creation_date":1549784588,"answer_id":54614393,"question_id":54613445,"body_markdown":"It is &quot;rather unconventional&quot; to pmd over test sources, but that is not part of the question. :)\r\n\r\nUsing the [executions][1] tag and utilizing [maven-pmd-plugin][2], you can do this with maven.\r\n\r\n\r\n----------\r\n&gt;**EDIT:** In short &amp; applied to the given input (and maybe more than you wanted/need), it enables/forces you to make **both checks in every build**:\r\n\r\n    &lt;project&gt;&lt;build&gt;&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt; &lt;!-- latest up-to-date --&gt;\r\n        &lt;executions&gt;\r\n           &lt;execution&gt;\r\n               &lt;id&gt;pmd-execution&lt;/id&gt;\r\n               &lt;goals&gt;\r\n                   &lt;goal&gt;check&lt;/goal&gt;\r\n               &lt;/goals&gt;\r\n               &lt;configuration&gt;\r\n                   &lt;rulesets&gt;\r\n                       &lt;ruleset&gt;/path/to/.../src-pmd-rulesets.xml&lt;/ruleset&gt;\r\n                   &lt;/rulesets&gt;\r\n               &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n               &lt;id&gt;pmd-test-execution&lt;/id&gt;\r\n               &lt;goals&gt;\r\n                  &lt;goal&gt;check&lt;/goal&gt;\r\n               &lt;/goals&gt;\r\n               &lt;configuration&gt;\r\n                   &lt;includeTests&gt;true&lt;/includeTests&gt; &lt;!-- this defaults to false! --&gt;\r\n                   &lt;rulesets&gt;\r\n                       &lt;ruleset&gt;/path/to/.../test-pmd-rulesets.xml&lt;/ruleset&gt;\r\n                   &lt;/rulesets&gt;\r\n               &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    ...\r\n\r\nSee also: https://stackoverflow.com/q/16540808/592355\r\n\r\n\r\n----------\r\n&gt;**EDIT 2**: If you indeed don&#39;t need &quot;both executions&quot; (in 1 build), but only **&quot;two configurations&quot; for &quot;different builds&quot;**, then:\r\n[Maven Profiles][3] fits your needs (with profiles ... your &quot;possibilities converge to infinity&quot;) !\r\n\r\nYou would introduce profiles like:\r\n\r\n     &lt;project&gt;\r\n     ...\r\n     &lt;profiles&gt;\r\n       &lt;profile&gt;\r\n         &lt;id&gt;pmdMain&lt;/id&gt;\r\n         &lt;properties&gt;\r\n             &lt;myPmdRuleSetLocation&gt;/path/to/.../src-pmd-rulesets.xml&lt;/myPmdRuleSetLocation&gt;\r\n             &lt;myPmdTestsInclude&gt;false&lt;/myPmdTestsInclude&gt;\r\n         &lt;/properties&gt;\r\n       &lt;/profile&gt; \r\n       &lt;profile&gt;\r\n         &lt;id&gt;pmdTest&lt;/id&gt;\r\n         &lt;properties&gt;\r\n             &lt;myPmdRuleSetLocation&gt;/path/to/.../test-pmd-rulesets.xml&lt;/myPmdRuleSetLocation&gt;\r\n             &lt;myPmdTestsInclude&gt;true&lt;/myPmdTestsInclude&gt;\r\n         &lt;/properties&gt;\r\n       &lt;/profile&gt; \r\n     &lt;profiles&gt;\r\n     ...\r\n     &lt;/project&gt;\r\n\r\nAnd use it in your (single execution) pmd-plugin configuration:\r\n    \r\n    ...\r\n      &lt;ruleset&gt;${myPmdRuleSetLocation}&lt;/ruleset&gt;\r\n      &lt;includeTests&gt;${myPmdTestsInclude}&lt;/includeTests&gt;\r\n    ...\r\n\r\nPlease [read further][3] on profiles and their activation.\r\n\r\n(additionally `&lt;profile/&gt;` can contain &amp; override `&lt;build/&gt;` tag!)\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_executions_Tag\r\n  [2]: https://maven.apache.org/plugins/maven-pmd-plugin/examples/usingRuleSets.html\r\n  [3]: https://maven.apache.org/guides/introduction/introduction-to-profiles.html\r\n","title":"How can we have different PMD rulesets in Maven for the main and test java code sets?","body":"<p>It is &quot;rather unconventional&quot; to pmd over test sources, but that is not part of the question. :)</p>\n<p>Using the <a href=\"https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_executions_Tag\" rel=\"nofollow noreferrer\">executions</a> tag and utilizing <a href=\"https://maven.apache.org/plugins/maven-pmd-plugin/examples/usingRuleSets.html\" rel=\"nofollow noreferrer\">maven-pmd-plugin</a>, you can do this with maven.</p>\n<hr />\n<blockquote>\n<p><strong>EDIT:</strong> In short &amp; applied to the given input (and maybe more than you wanted/need), it enables/forces you to make <strong>both checks in every build</strong>:</p>\n</blockquote>\n<pre><code>&lt;project&gt;&lt;build&gt;&lt;plugins&gt;\n&lt;plugin&gt;\n    &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt; &lt;!-- latest up-to-date --&gt;\n    &lt;executions&gt;\n       &lt;execution&gt;\n           &lt;id&gt;pmd-execution&lt;/id&gt;\n           &lt;goals&gt;\n               &lt;goal&gt;check&lt;/goal&gt;\n           &lt;/goals&gt;\n           &lt;configuration&gt;\n               &lt;rulesets&gt;\n                   &lt;ruleset&gt;/path/to/.../src-pmd-rulesets.xml&lt;/ruleset&gt;\n               &lt;/rulesets&gt;\n           &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n           &lt;id&gt;pmd-test-execution&lt;/id&gt;\n           &lt;goals&gt;\n              &lt;goal&gt;check&lt;/goal&gt;\n           &lt;/goals&gt;\n           &lt;configuration&gt;\n               &lt;includeTests&gt;true&lt;/includeTests&gt; &lt;!-- this defaults to false! --&gt;\n               &lt;rulesets&gt;\n                   &lt;ruleset&gt;/path/to/.../test-pmd-rulesets.xml&lt;/ruleset&gt;\n               &lt;/rulesets&gt;\n           &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n...\n</code></pre>\n<p>See also: <a href=\"https://stackoverflow.com/q/16540808/592355\">Can I configure multiple plugin executions in pluginManagement, and choose from them in my child POM?</a></p>\n<hr />\n<blockquote>\n<p><strong>EDIT 2</strong>: If you indeed don't need &quot;both executions&quot; (in 1 build), but only <strong>&quot;two configurations&quot; for &quot;different builds&quot;</strong>, then:\n<a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">Maven Profiles</a> fits your needs (with profiles ... your &quot;possibilities converge to infinity&quot;) !</p>\n</blockquote>\n<p>You would introduce profiles like:</p>\n<pre><code> &lt;project&gt;\n ...\n &lt;profiles&gt;\n   &lt;profile&gt;\n     &lt;id&gt;pmdMain&lt;/id&gt;\n     &lt;properties&gt;\n         &lt;myPmdRuleSetLocation&gt;/path/to/.../src-pmd-rulesets.xml&lt;/myPmdRuleSetLocation&gt;\n         &lt;myPmdTestsInclude&gt;false&lt;/myPmdTestsInclude&gt;\n     &lt;/properties&gt;\n   &lt;/profile&gt; \n   &lt;profile&gt;\n     &lt;id&gt;pmdTest&lt;/id&gt;\n     &lt;properties&gt;\n         &lt;myPmdRuleSetLocation&gt;/path/to/.../test-pmd-rulesets.xml&lt;/myPmdRuleSetLocation&gt;\n         &lt;myPmdTestsInclude&gt;true&lt;/myPmdTestsInclude&gt;\n     &lt;/properties&gt;\n   &lt;/profile&gt; \n &lt;profiles&gt;\n ...\n &lt;/project&gt;\n</code></pre>\n<p>And use it in your (single execution) pmd-plugin configuration:</p>\n<pre><code>...\n  &lt;ruleset&gt;${myPmdRuleSetLocation}&lt;/ruleset&gt;\n  &lt;includeTests&gt;${myPmdTestsInclude}&lt;/includeTests&gt;\n...\n</code></pre>\n<p>Please <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">read further</a> on profiles and their activation.</p>\n<p>(additionally <code>&lt;profile/&gt;</code> can contain &amp; override <code>&lt;build/&gt;</code> tag!)</p>\n"}],"owner":{"account_id":1204405,"reputation":9409,"user_id":1174414,"accept_rate":100,"display_name":"Raja Nadar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54614393,"answer_count":1,"score":1,"last_activity_date":1675381229,"creation_date":1549774156,"question_id":54613445,"body_markdown":"In Gradle, we can specify different PMD configurations (including different rulesets) for the pmdMain and pmdTest source sets. e.g.\r\n\r\n    pmdMain {\r\n        ruleSetFiles = files(&quot;$javaBuildSystemRoot/src-pmd-rulesets.xml&quot;)\r\n    }\r\n    \r\n    pmdTest {\r\n        ruleSetFiles = files(&quot;$javaBuildSystemRoot/test-pmd-rulesets.xml&quot;)\r\n    }\r\n\r\nWe want to be less stringent on test code than main code.\r\n\r\nThere is a separate maven based project, where we cannot use gradle currently.But for now, we would like to at least apply the 2 different rulesets based on main vs test. It is a single module single project, using the maven PMD plugin.\r\n\r\nHow do we do this in the Maven pom file?","title":"How can we have different PMD rulesets in Maven for the main and test java code sets?","body":"<p>In Gradle, we can specify different PMD configurations (including different rulesets) for the pmdMain and pmdTest source sets. e.g.</p>\n\n<pre><code>pmdMain {\n    ruleSetFiles = files(\"$javaBuildSystemRoot/src-pmd-rulesets.xml\")\n}\n\npmdTest {\n    ruleSetFiles = files(\"$javaBuildSystemRoot/test-pmd-rulesets.xml\")\n}\n</code></pre>\n\n<p>We want to be less stringent on test code than main code.</p>\n\n<p>There is a separate maven based project, where we cannot use gradle currently.But for now, we would like to at least apply the 2 different rulesets based on main vs test. It is a single module single project, using the maven PMD plugin.</p>\n\n<p>How do we do this in the Maven pom file?</p>\n"},{"tags":["java","web-services","rest","quickbooks"],"answers":[{"tags":[],"owner":{"account_id":2455089,"reputation":5300,"user_id":2140489,"accept_rate":50,"display_name":"Manas Mukherjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675380201,"creation_date":1412198254,"answer_id":26150820,"question_id":26123728,"body_markdown":"401 suggests &#39;authentication&#39; error. \r\n\r\nPlease refer this post, where I&#39;ve mentioned how to call QBO V3 endpoints, using any standard Restclient.\r\n\r\nhttps://stackoverflow.com/questions/22587647/invalidtokenexception-unauthorized-401\r\n\r\nIf you see a 401 exception again, then please generate a new set of accessToken and accessSecret using [OAuthPlayground][1] tool and use those in Java devkit.\r\n\r\n  [1]: https://appcenter.intuit.com/Playground/OAuth/IA","title":"Quickbooks authentication error - Java SDK Quickbooks v3.0","body":"<p>401 suggests 'authentication' error.</p>\n<p>Please refer this post, where I've mentioned how to call QBO V3 endpoints, using any standard Restclient.</p>\n<p><a href=\"https://stackoverflow.com/questions/22587647/invalidtokenexception-unauthorized-401\">InvalidTokenException: Unauthorized-401</a></p>\n<p>If you see a 401 exception again, then please generate a new set of accessToken and accessSecret using <a href=\"https://appcenter.intuit.com/Playground/OAuth/IA\" rel=\"nofollow noreferrer\">OAuthPlayground</a> tool and use those in Java devkit.</p>\n"},{"tags":[],"owner":{"account_id":5959491,"reputation":31,"user_id":4685083,"display_name":"GowriShankar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426681388,"creation_date":1426679496,"answer_id":29121307,"question_id":26123728,"body_markdown":"Please add the below property:\r\n\r\n    Config.setProperty(Config.BASE_URL_QBO,&quot;https://sandboxquickbooks.api.intuit.com/v3/company&quot;);\r\n\r\nbefore:\r\n\r\n    DataService service = new DataService(context);\r\n\r\nThis worked for me.","title":"Quickbooks authentication error - Java SDK Quickbooks v3.0","body":"<p>Please add the below property:</p>\n\n<pre><code>Config.setProperty(Config.BASE_URL_QBO,\"https://sandboxquickbooks.api.intuit.com/v3/company\");\n</code></pre>\n\n<p>before:</p>\n\n<pre><code>DataService service = new DataService(context);\n</code></pre>\n\n<p>This worked for me.</p>\n"}],"owner":{"account_id":4140526,"reputation":349,"user_id":3396009,"accept_rate":44,"display_name":"Akg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675380275,"creation_date":1412088386,"question_id":26123728,"body_markdown":"This is my first attempt to work with [Quickbooks][1] API. To get started with it I wanted to try few API calls. \r\n\r\nI have already created account on Quickbooks and got the following credentials -\r\n\r\n    consumerKey\r\n    consumerSecret\r\n    accessToken\r\n    accessTokenSecret\r\n    appToken\r\n    companyId\r\n\r\nDownloaded [IPP java sdk for QuickBooks v3.0][2] and the from the downloaded package, I am currently using the following jar files -\r\n\r\n    ipp-v3-java-devkit-2.3.2-jar-with-dependencies.jar\r\n    ipp-java-qbapihelper-1.2.0-jar-with-dependencies.jar\r\n\r\n\r\nHere is the code which I am executing.\r\n\r\n\r\n    import com.intuit.ipp.core.Context;\r\n    import com.intuit.ipp.core.ServiceType;\r\n    import com.intuit.ipp.data.Customer;\r\n    import com.intuit.ipp.exception.FMSException;\r\n    import com.intuit.ipp.security.OAuthAuthorizer;\r\n    import com.intuit.ipp.services.DataService;\r\n\r\n     public class TestQuickBooks {\r\n      public static void main(String[] args) \r\n       throws FMSException \r\n       {\r\n        // following credentials are replaced with my original credential\r\n        // when executing the code \r\n        String consumerKey = &quot;...&quot;;\r\n        String consumerSecret = &quot;...&quot;;\r\n        String accessToken = &quot;...&quot;;\r\n        String accessTokenSecret = &quot;...&quot;;\r\n        String appToken = &quot;...&quot;;\r\n        String companyId = &quot;...&quot;;\r\n    \r\n        try {\r\n          OAuthAuthorizer oauth = new OAuthAuthorizer(consumerKey,\r\n                                                      consumerSecret,\r\n                                                      accessToken,\r\n                                                      accessTokenSecret);\r\n          Context context = new Context(oauth,\r\n                                        appToken,\r\n                                        ServiceType.QBO,\r\n                                        companyId);\r\n          DataService service = new DataService(context);\r\n    \r\n          Customer customer1 = new Customer();\r\n          customer1.setDisplayName(&quot;ABCD&quot;);\r\n\r\n          // this is the line which is throwing exception\r\n          Customer resultCustomer = service.add(customer1);\r\n    \r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\ncopying the exception message here --\r\n\r\n    com.intuit.ipp.exception.AuthenticationException: ERROR CODE:3200, ERROR MESSAGE:message=ApplicationAuthenticationFailed; errorCode=003200; statusCode=401, ERROR DETAIL:null  \r\n\r\n\r\nI am checking Quickbooks documentation but can&#39;t figure out what is causing this authentication exception. As for the credentials, I have double checked it and those are correct. \r\n\r\nI found that Quickbooks has an [API playground][3] but no luck with this as well.\r\n\r\nTried this API call -\r\n\r\n    https://appcenter.intuit.com/api/v1/PingSecure\r\n\r\nI provided my credentials and specified format as JSON and no url parameter.\r\nit is returning the following message -\r\n\r\n    {\r\n    \t&quot;ErrorMessage&quot;: &quot;This API requires Authorization.&quot;,\r\n    \t&quot;ErrorCode&quot;: 22,\r\n    \t&quot;ServerTime&quot;: &quot;/Date(1412166272838)/&quot;\r\n    }\r\n\r\nMy hope was api playground shouldn&#39;t return authentication error since my credentials were correct. However the only way I can see api calls is when I log in to the [API explorer][4] \r\n\r\nI am not really sure what is missing here - can&#39;t make an API call from API playground and also programmatically using Java SDK.\r\n\r\n  [1]: http://quickbooks.intuit.com/\r\n  [2]: https://developer.intuit.com/docs/0025_quickbooksapi/0055_devkits/0201_ipp_java_devkit_3.0\r\n  [3]: https://appcenter.intuit.com/Playground/API\r\n  [4]: https://developer.intuit.com/apiexplorer","title":"Quickbooks authentication error - Java SDK Quickbooks v3.0","body":"<p>This is my first attempt to work with <a href=\"http://quickbooks.intuit.com/\" rel=\"nofollow noreferrer\">Quickbooks</a> API. To get started with it I wanted to try few API calls.</p>\n<p>I have already created account on Quickbooks and got the following credentials -</p>\n<pre><code>consumerKey\nconsumerSecret\naccessToken\naccessTokenSecret\nappToken\ncompanyId\n</code></pre>\n<p>Downloaded <a href=\"https://developer.intuit.com/docs/0025_quickbooksapi/0055_devkits/0201_ipp_java_devkit_3.0\" rel=\"nofollow noreferrer\">IPP java sdk for QuickBooks v3.0</a> and the from the downloaded package, I am currently using the following jar files -</p>\n<pre><code>ipp-v3-java-devkit-2.3.2-jar-with-dependencies.jar\nipp-java-qbapihelper-1.2.0-jar-with-dependencies.jar\n</code></pre>\n<p>Here is the code which I am executing.</p>\n<pre><code>import com.intuit.ipp.core.Context;\nimport com.intuit.ipp.core.ServiceType;\nimport com.intuit.ipp.data.Customer;\nimport com.intuit.ipp.exception.FMSException;\nimport com.intuit.ipp.security.OAuthAuthorizer;\nimport com.intuit.ipp.services.DataService;\n\n public class TestQuickBooks {\n  public static void main(String[] args) \n   throws FMSException \n   {\n    // following credentials are replaced with my original credential\n    // when executing the code \n    String consumerKey = &quot;...&quot;;\n    String consumerSecret = &quot;...&quot;;\n    String accessToken = &quot;...&quot;;\n    String accessTokenSecret = &quot;...&quot;;\n    String appToken = &quot;...&quot;;\n    String companyId = &quot;...&quot;;\n\n    try {\n      OAuthAuthorizer oauth = new OAuthAuthorizer(consumerKey,\n                                                  consumerSecret,\n                                                  accessToken,\n                                                  accessTokenSecret);\n      Context context = new Context(oauth,\n                                    appToken,\n                                    ServiceType.QBO,\n                                    companyId);\n      DataService service = new DataService(context);\n\n      Customer customer1 = new Customer();\n      customer1.setDisplayName(&quot;ABCD&quot;);\n\n      // this is the line which is throwing exception\n      Customer resultCustomer = service.add(customer1);\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>copying the exception message here --</p>\n<pre><code>com.intuit.ipp.exception.AuthenticationException: ERROR CODE:3200, ERROR MESSAGE:message=ApplicationAuthenticationFailed; errorCode=003200; statusCode=401, ERROR DETAIL:null  \n</code></pre>\n<p>I am checking Quickbooks documentation but can't figure out what is causing this authentication exception. As for the credentials, I have double checked it and those are correct.</p>\n<p>I found that Quickbooks has an <a href=\"https://appcenter.intuit.com/Playground/API\" rel=\"nofollow noreferrer\">API playground</a> but no luck with this as well.</p>\n<p>Tried this API call -</p>\n<pre><code>https://appcenter.intuit.com/api/v1/PingSecure\n</code></pre>\n<p>I provided my credentials and specified format as JSON and no url parameter.\nit is returning the following message -</p>\n<pre><code>{\n    &quot;ErrorMessage&quot;: &quot;This API requires Authorization.&quot;,\n    &quot;ErrorCode&quot;: 22,\n    &quot;ServerTime&quot;: &quot;/Date(1412166272838)/&quot;\n}\n</code></pre>\n<p>My hope was api playground shouldn't return authentication error since my credentials were correct. However the only way I can see api calls is when I log in to the <a href=\"https://developer.intuit.com/apiexplorer\" rel=\"nofollow noreferrer\">API explorer</a></p>\n<p>I am not really sure what is missing here - can't make an API call from API playground and also programmatically using Java SDK.</p>\n"},{"tags":["java","google-app-engine","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":280699,"reputation":12264,"user_id":576549,"accept_rate":74,"display_name":"Eugene Loy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1413231353,"creation_date":1413230578,"answer_id":26348001,"question_id":26347952,"body_markdown":"&gt; why i am getting this exception\r\n\r\nGAE environment is sandboxed for a number of reasons. This means that you cannot do a lot of things you could normally do on your local machine.\r\n\r\nThis also includes write access to the file system.\r\n\r\n&gt; how to fix it\r\n\r\nFind another way to persist your data (database, for example).\r\n\r\nYou can read a little bit more on sandbox restrictions [here][1].\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/java/#Java_The_sandbox","title":"java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;C:\\tempFolder&quot; &quot;read&quot;) on GAE","body":"<blockquote>\n  <p>why i am getting this exception</p>\n</blockquote>\n\n<p>GAE environment is sandboxed for a number of reasons. This means that you cannot do a lot of things you could normally do on your local machine.</p>\n\n<p>This also includes write access to the file system.</p>\n\n<blockquote>\n  <p>how to fix it</p>\n</blockquote>\n\n<p>Find another way to persist your data (database, for example).</p>\n\n<p>You can read a little bit more on sandbox restrictions <a href=\"https://cloud.google.com/appengine/docs/java/#Java_The_sandbox\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":26348001,"answer_count":1,"score":-1,"last_activity_date":1675380096,"creation_date":1413230357,"question_id":26347952,"body_markdown":"I am migrating my application from Tomcat to Google App Engine (1.9.1). I am running jsf 2.2 on servlet 2.5 and I am facing an issue with reading files from file system. I have code that creates a file on the file system as follows:\r\n\r\n    File file = new File(&quot;C:\\\\tempFolder&quot;);\r\n    if(file.isDirectory()){\r\n      // do writing stuff here\r\n    }\r\n\r\nOn Tomcat I was not getting any exceptions on the above code, but on Google App Engine I am getting the following exception:\r\n\r\n    Caused by: java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;C:\\tempFolder&quot; &quot;read&quot;)\r\n    \tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:372)\r\n    \tat java.security.AccessController.checkPermission(AccessController.java:559)\r\n    \tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    \tat com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:429)\r\n\r\nWhy am I getting this exception, and how to fix it?\r\n","title":"java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;C:\\tempFolder&quot; &quot;read&quot;) on GAE","body":"<p>I am migrating my application from Tomcat to Google App Engine (1.9.1). I am running jsf 2.2 on servlet 2.5 and I am facing an issue with reading files from file system. I have code that creates a file on the file system as follows:</p>\n<pre><code>File file = new File(&quot;C:\\\\tempFolder&quot;);\nif(file.isDirectory()){\n  // do writing stuff here\n}\n</code></pre>\n<p>On Tomcat I was not getting any exceptions on the above code, but on Google App Engine I am getting the following exception:</p>\n<pre><code>Caused by: java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;C:\\tempFolder&quot; &quot;read&quot;)\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:372)\n    at java.security.AccessController.checkPermission(AccessController.java:559)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:429)\n</code></pre>\n<p>Why am I getting this exception, and how to fix it?</p>\n"},{"tags":["java","visual-studio"],"comments":[{"owner":{"account_id":15264538,"reputation":522,"user_id":11013589,"display_name":"CootMoon"},"score":0,"creation_date":1675382994,"post_id":75329798,"comment_id":132923065,"body_markdown":"If you found my answer helpful, it would  be greatly appropriated if you selected it as the correct answer for your question.","body":"If you found my answer helpful, it would  be greatly appropriated if you selected it as the correct answer for your question."}],"answers":[{"tags":[],"owner":{"account_id":15264538,"reputation":522,"user_id":11013589,"display_name":"CootMoon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675379797,"creation_date":1675379419,"answer_id":75329854,"question_id":75329798,"body_markdown":"Visual Studio Code might be an option if it works https://apps.microsoft.com/store/detail/visual-studio-code/XP9KHM4BK9FZ7Q, but your best bet would be the following:\r\n\r\nYou can use an online tool called GitHub Codespaces: https://github.com/features/codespaces\r\n\r\nCodespaces runs a VSCode environment in your browser. You will run a java project just as you would if you where using VSCode. How to use GitHub Dev https://github.com/github/dev\r\n\r\nCheck out this link if you want to know more about advanced use of Java in a Codespace: https://docs.github.com/en/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-java-project-for-codespaces","title":"Coding with tools only downloadable in Microsoft Store","body":"<p>Visual Studio Code might be an option if it works <a href=\"https://apps.microsoft.com/store/detail/visual-studio-code/XP9KHM4BK9FZ7Q\" rel=\"nofollow noreferrer\">https://apps.microsoft.com/store/detail/visual-studio-code/XP9KHM4BK9FZ7Q</a>, but your best bet would be the following:</p>\n<p>You can use an online tool called GitHub Codespaces: <a href=\"https://github.com/features/codespaces\" rel=\"nofollow noreferrer\">https://github.com/features/codespaces</a></p>\n<p>Codespaces runs a VSCode environment in your browser. You will run a java project just as you would if you where using VSCode. How to use GitHub Dev <a href=\"https://github.com/github/dev\" rel=\"nofollow noreferrer\">https://github.com/github/dev</a></p>\n<p>Check out this link if you want to know more about advanced use of Java in a Codespace: <a href=\"https://docs.github.com/en/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-java-project-for-codespaces\" rel=\"nofollow noreferrer\">https://docs.github.com/en/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-java-project-for-codespaces</a></p>\n"}],"owner":{"account_id":17494929,"reputation":13,"user_id":12686314,"display_name":"Humi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75329854,"answer_count":1,"score":1,"last_activity_date":1675379797,"creation_date":1675378936,"question_id":75329798,"body_markdown":"My laptop is broken and is at the service right now so I got a borrowed laptop from school. Unfortunately we have no administrator rights on these laptops and a lot of stuff is limited by the administrator. The only way to download tools/applications is through the Microsoft Store. (It is not in s-mode or something, really restricted.) So I want to program and write projects in Java. Normally I use IntelliJ, but that was not in the MS store. I downloaded Visual Studio but am unable to download the JDK. \r\n\r\nMy question to you: Is it at all possible to create and run java projects with Microsoft Store as the only download store? (Windows 10 Enterprise 21H1)\r\n\r\nThanks in advance!\r\n\r\n- Tried visual studio but can not run because JDK is missing\r\n- Tried a browser IDE, but they work terrible and not really suitable for writing projects\r\n\r\n","title":"Coding with tools only downloadable in Microsoft Store","body":"<p>My laptop is broken and is at the service right now so I got a borrowed laptop from school. Unfortunately we have no administrator rights on these laptops and a lot of stuff is limited by the administrator. The only way to download tools/applications is through the Microsoft Store. (It is not in s-mode or something, really restricted.) So I want to program and write projects in Java. Normally I use IntelliJ, but that was not in the MS store. I downloaded Visual Studio but am unable to download the JDK.</p>\n<p>My question to you: Is it at all possible to create and run java projects with Microsoft Store as the only download store? (Windows 10 Enterprise 21H1)</p>\n<p>Thanks in advance!</p>\n<ul>\n<li>Tried visual studio but can not run because JDK is missing</li>\n<li>Tried a browser IDE, but they work terrible and not really suitable for writing projects</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc","hibernate-validator","spring-validator"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1444479552,"post_id":33053553,"comment_id":53927891,"body_markdown":"Some other implementations: http://stackoverflow.com/questions/1384968/is-there-an-implementation-of-jsr-303-bean-validation-available and the spec itself: http://beanvalidation.org/1.0/spec/","body":"Some other implementations: <a href=\"http://stackoverflow.com/questions/1384968/is-there-an-implementation-of-jsr-303-bean-validation-available\" title=\"is there an implementation of jsr 303 bean validation available\">stackoverflow.com/questions/1384968/&hellip;</a> and the spec itself: <a href=\"http://beanvalidation.org/1.0/spec/\" rel=\"nofollow noreferrer\">beanvalidation.org/1.0/spec</a>"},{"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1470925806,"post_id":33053553,"comment_id":65157222,"body_markdown":"http://stackoverflow.com/q/38716703/4723795 it looks to be well answered","body":"<a href=\"http://stackoverflow.com/q/38716703/4723795\">stackoverflow.com/q/38716703/4723795</a> it looks to be well answered"}],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444479820,"creation_date":1444479330,"answer_id":33053871,"question_id":33053553,"body_markdown":"&gt; what exactly is the difference from the 2 used library\r\n&gt; javax.validation and org.hibernate.validator?\r\n\r\nBean Validation is a Java **specification** which lets you express constraints on object models via annotations, lets you write custom constraints in an extensible way. ***It&#39;s just a specification with no implementation at all***.\r\nHibernate Validator is an implementation of this specification. Hibernate Validator implements Bean Validation completely, also it has some features that&#39;s unique to hibernate. Put simply, `javax.validation` is the spec part and `org.hibernate.validator` are the hibernate unique features.\r\n\r\n&gt; Can I do the same thing using only the hibernate validator library? (I\r\n&gt; think that I can specify the valid lenght of a string using the\r\n&gt; Hibernate validator, or not)?\r\n\r\nYes, you can but it&#39;s better to stick with `javax.validation` namespace and only use the unique features by vendor specific namespace such as `org.hibernate.validator`. The benefit of this approach is that you can switch Bean Validation implementation form Hibernate Validator to something else ***with minimum change***.\r\n\r\n&gt; Why in the tutorial use both?\r\n\r\nBecause `@NotBlank` constraint is not availalbe in Bean Validation spec and only provided by Hibernate Validator.\r\n\r\n&gt; It take this object as input parameter: @Valid User user. Who pass to\r\n&gt; it? I think that it could depend by the fact that in the form I\r\n&gt; specified commandName=&quot;user&quot; so Spring automatically do it. Is it\r\n&gt; correct?\r\n\r\nProbably you have `GET` controller for `login` url which returns an empty `User` object, that in turn binds with spring tags such as `&lt;form:input type=&quot;text&quot; path=&quot;username&quot; name=&quot;username&quot; /&gt;`. When a user fills the form and submit it, spring collects those tag values and create an instance of `User` and passes it to controller.\r\n\r\n&gt; Why this @Valid annotation is related only to the javax.validation\r\n&gt; library and not also to the Hibernate validator (so this @Valid\r\n&gt; annotation validate also the field annotated with Hibernate validator\r\n&gt; annotation? why?)\r\n\r\nAlready explained, Spec/Impl story!\r\n","title":"How does Spring MVC resolve and validate handler method parameters?","body":"<blockquote>\n  <p>what exactly is the difference from the 2 used library\n  javax.validation and org.hibernate.validator?</p>\n</blockquote>\n\n<p>Bean Validation is a Java <strong>specification</strong> which lets you express constraints on object models via annotations, lets you write custom constraints in an extensible way. <strong><em>It's just a specification with no implementation at all</em></strong>.\nHibernate Validator is an implementation of this specification. Hibernate Validator implements Bean Validation completely, also it has some features that's unique to hibernate. Put simply, <code>javax.validation</code> is the spec part and <code>org.hibernate.validator</code> are the hibernate unique features.</p>\n\n<blockquote>\n  <p>Can I do the same thing using only the hibernate validator library? (I\n  think that I can specify the valid lenght of a string using the\n  Hibernate validator, or not)?</p>\n</blockquote>\n\n<p>Yes, you can but it's better to stick with <code>javax.validation</code> namespace and only use the unique features by vendor specific namespace such as <code>org.hibernate.validator</code>. The benefit of this approach is that you can switch Bean Validation implementation form Hibernate Validator to something else <strong><em>with minimum change</em></strong>.</p>\n\n<blockquote>\n  <p>Why in the tutorial use both?</p>\n</blockquote>\n\n<p>Because <code>@NotBlank</code> constraint is not availalbe in Bean Validation spec and only provided by Hibernate Validator.</p>\n\n<blockquote>\n  <p>It take this object as input parameter: @Valid User user. Who pass to\n  it? I think that it could depend by the fact that in the form I\n  specified commandName=\"user\" so Spring automatically do it. Is it\n  correct?</p>\n</blockquote>\n\n<p>Probably you have <code>GET</code> controller for <code>login</code> url which returns an empty <code>User</code> object, that in turn binds with spring tags such as <code>&lt;form:input type=\"text\" path=\"username\" name=\"username\" /&gt;</code>. When a user fills the form and submit it, spring collects those tag values and create an instance of <code>User</code> and passes it to controller.</p>\n\n<blockquote>\n  <p>Why this @Valid annotation is related only to the javax.validation\n  library and not also to the Hibernate validator (so this @Valid\n  annotation validate also the field annotated with Hibernate validator\n  annotation? why?)</p>\n</blockquote>\n\n<p>Already explained, Spec/Impl story!</p>\n"},{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1444489687,"creation_date":1444479646,"answer_id":33053919,"question_id":33053553,"body_markdown":"&gt; And here the first doubt: what exactly is the difference between the 2 used libraries `javax.validation` and `org.hibernate.validator`?\r\n\r\n`javax.validation` comes from the JSR-303 API. You can look at the API classes for instance in [this Maven dependency][1].\r\n\r\n[_Hibernate validator_][2] is one of the implementations of JSR 303 (reference implementation actually), so it implements all of the API, but adds its own extensions, for instance the `@NotBlank` annotation you mention. Other implementation of JSR 303 is for instance [_Apache BVal_][3].\r\n\r\n---\r\n\r\n&gt; It takes this object as input parameter: `@Valid User user`. Who passes it to the handler method?\r\n\r\nValues to handler methods in Spring MVC are provided by implementations of interface [`HandlerMethodArgumentResolver`][4]. In your case the implementation that will be called to resolve `User` parameter will probably be [`ServletModelAttributeMethodProcessor`][5]. You can view source code and JavaDocs of these classes to see how they work internally.\r\n\r\n---\r\n\r\n&gt; The `@Valid` annotation will automatically call the validation process. How does this happend? Does it use AOP? Why this `@Valid` annotation is related only to the `javax.validation` library and not also to the Hibernate validator (so this `@Valid` annotation validate also the field annotated with Hibernate validator annotation?)\r\n\r\nThe validation process is invoked by [`ModelAttributeMethodProcessor`][6], which is what previously mentioned class `ServletModelAttributeMethodProcessor` inherits from. It contains following method:\r\n\r\n    protected void validateIfApplicable(WebDataBinder binder, MethodParameter parameter) {\r\n    \tAnnotation[] annotations = parameter.getParameterAnnotations();\r\n    \tfor (Annotation ann : annotations) {\r\n    \t\tif (ann.annotationType().getSimpleName().startsWith(&quot;Valid&quot;)) {\r\n    \t\t\tObject hints = AnnotationUtils.getValue(ann);\r\n    \t\t\tbinder.validate(hints instanceof Object[] ? (Object[]) hints : new Object[] {hints});\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf you look closely, you will see condition for the following expression:\r\n\r\n    ann.annotationType().getSimpleName().startsWith(&quot;Valid&quot;)\r\n\r\nThis means that Spring will invoke the validation if the parameter has *any annotation* which starts with `Valid`. It might be JSR 303&#39;s `@Valid` or Spring&#39;s [`@Validated`][7] which supports validation groups. It could even be your custom annotation, as long as its name starts with `Valid`.\r\n\r\n---\r\n\r\n&gt; From what I have understand if the user inserts wrong values into the login form I can obtain this error from the `BindingResult` handler parameter. Using the debugger I can see that this object contain the error message defined by the annotation defined into the User model object. How exactly works?\r\n\r\nLet&#39;s go back to the `ModelAttributeMethodProcessor` class. There is following code in its `resolveArgument` method:\r\n\r\n    WebDataBinder binder = binderFactory.createBinder(webRequest, attribute, name);\r\n\r\nThis creates instance of `WebDataBinder` on which the validation is invoked in the previously mentioned `validateIfApplicable` method. The validation itself populates the `BindingResult` which is then provided to the controller handler method via `ErrorsMethodArgumentResolver` class, which once again implements `HandlerMethodArgumentResolver`.\r\n\r\n---\r\n\r\n**TLDR**: A lot of the thing you ask about in this question can be traced to various implementation of `HandlerMethodArgumentResolver`. I suggest to go through these classes and step through them using debugger to gain better understanding of them.\r\n\r\n  [1]: http://mvnrepository.com/artifact/javax.validation/validation-api/1.1.0.Final\r\n  [2]: http://hibernate.org/validator/\r\n  [3]: http://bval.apache.org/\r\n  [4]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html\r\n  [5]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ServletModelAttributeMethodProcessor.html\r\n  [6]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/annotation/ModelAttributeMethodProcessor.html\r\n  [7]: http://docs.spring.io/autorepo/docs/spring/4.0.2.RELEASE/javadoc-api/org/springframework/validation/annotation/Validated.html","title":"How does Spring MVC resolve and validate handler method parameters?","body":"<blockquote>\n  <p>And here the first doubt: what exactly is the difference between the 2 used libraries <code>javax.validation</code> and <code>org.hibernate.validator</code>?</p>\n</blockquote>\n\n<p><code>javax.validation</code> comes from the JSR-303 API. You can look at the API classes for instance in <a href=\"http://mvnrepository.com/artifact/javax.validation/validation-api/1.1.0.Final\" rel=\"nofollow\">this Maven dependency</a>.</p>\n\n<p><a href=\"http://hibernate.org/validator/\" rel=\"nofollow\"><em>Hibernate validator</em></a> is one of the implementations of JSR 303 (reference implementation actually), so it implements all of the API, but adds its own extensions, for instance the <code>@NotBlank</code> annotation you mention. Other implementation of JSR 303 is for instance <a href=\"http://bval.apache.org/\" rel=\"nofollow\"><em>Apache BVal</em></a>.</p>\n\n<hr>\n\n<blockquote>\n  <p>It takes this object as input parameter: <code>@Valid User user</code>. Who passes it to the handler method?</p>\n</blockquote>\n\n<p>Values to handler methods in Spring MVC are provided by implementations of interface <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html\" rel=\"nofollow\"><code>HandlerMethodArgumentResolver</code></a>. In your case the implementation that will be called to resolve <code>User</code> parameter will probably be <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ServletModelAttributeMethodProcessor.html\" rel=\"nofollow\"><code>ServletModelAttributeMethodProcessor</code></a>. You can view source code and JavaDocs of these classes to see how they work internally.</p>\n\n<hr>\n\n<blockquote>\n  <p>The <code>@Valid</code> annotation will automatically call the validation process. How does this happend? Does it use AOP? Why this <code>@Valid</code> annotation is related only to the <code>javax.validation</code> library and not also to the Hibernate validator (so this <code>@Valid</code> annotation validate also the field annotated with Hibernate validator annotation?)</p>\n</blockquote>\n\n<p>The validation process is invoked by <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/annotation/ModelAttributeMethodProcessor.html\" rel=\"nofollow\"><code>ModelAttributeMethodProcessor</code></a>, which is what previously mentioned class <code>ServletModelAttributeMethodProcessor</code> inherits from. It contains following method:</p>\n\n<pre><code>protected void validateIfApplicable(WebDataBinder binder, MethodParameter parameter) {\n    Annotation[] annotations = parameter.getParameterAnnotations();\n    for (Annotation ann : annotations) {\n        if (ann.annotationType().getSimpleName().startsWith(\"Valid\")) {\n            Object hints = AnnotationUtils.getValue(ann);\n            binder.validate(hints instanceof Object[] ? (Object[]) hints : new Object[] {hints});\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>If you look closely, you will see condition for the following expression:</p>\n\n<pre><code>ann.annotationType().getSimpleName().startsWith(\"Valid\")\n</code></pre>\n\n<p>This means that Spring will invoke the validation if the parameter has <em>any annotation</em> which starts with <code>Valid</code>. It might be JSR 303's <code>@Valid</code> or Spring's <a href=\"http://docs.spring.io/autorepo/docs/spring/4.0.2.RELEASE/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"nofollow\"><code>@Validated</code></a> which supports validation groups. It could even be your custom annotation, as long as its name starts with <code>Valid</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>From what I have understand if the user inserts wrong values into the login form I can obtain this error from the <code>BindingResult</code> handler parameter. Using the debugger I can see that this object contain the error message defined by the annotation defined into the User model object. How exactly works?</p>\n</blockquote>\n\n<p>Let's go back to the <code>ModelAttributeMethodProcessor</code> class. There is following code in its <code>resolveArgument</code> method:</p>\n\n<pre><code>WebDataBinder binder = binderFactory.createBinder(webRequest, attribute, name);\n</code></pre>\n\n<p>This creates instance of <code>WebDataBinder</code> on which the validation is invoked in the previously mentioned <code>validateIfApplicable</code> method. The validation itself populates the <code>BindingResult</code> which is then provided to the controller handler method via <code>ErrorsMethodArgumentResolver</code> class, which once again implements <code>HandlerMethodArgumentResolver</code>.</p>\n\n<hr>\n\n<p><strong>TLDR</strong>: A lot of the thing you ask about in this question can be traced to various implementation of <code>HandlerMethodArgumentResolver</code>. I suggest to go through these classes and step through them using debugger to gain better understanding of them.</p>\n"},{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444480025,"creation_date":1444480025,"answer_id":33053976,"question_id":33053553,"body_markdown":"1. Correct, called properties binding \r\n2. Spring 3+ supports `JSR303`Bean validation via `@Valid`annotation, if any JSR 303 validator framework on the classpath. Hibernate Validator is one of the JSR 303 reference implementation\r\n\r\n3. Any constraint violations will be exposed as errors in the BindingResult object, thus you&#39;ve to can check for the violations in the controllerâs method like what you have\r\n\r\n    if(br.getAllErrors().size() &gt; 0){\r\n            System.out.println(&quot;Server side validation takes place....&quot;);\r\n        }\r\n\r\nSummary, Spring MVC will validate the model object annotated by the `@Valid` annotation after `binding its properties`with inputs from JSP form that uses Springâs form tags. Any constraint violations will be exposed as errors in the `BindingResult` object\r\n[here is a good post][1]\r\n\r\n\r\n  [1]: http://www.codejava.net/frameworks/spring/spring-mvc-form-validation-example-with-bean-validation-api","title":"How does Spring MVC resolve and validate handler method parameters?","body":"<ol>\n<li>Correct, called properties binding </li>\n<li><p>Spring 3+ supports <code>JSR303</code>Bean validation via <code>@Valid</code>annotation, if any JSR 303 validator framework on the classpath. Hibernate Validator is one of the JSR 303 reference implementation</p></li>\n<li><p>Any constraint violations will be exposed as errors in the BindingResult object, thus you've to can check for the violations in the controllerâs method like what you have</p>\n\n<p>if(br.getAllErrors().size() > 0){\n        System.out.println(\"Server side validation takes place....\");\n    }</p></li>\n</ol>\n\n<p>Summary, Spring MVC will validate the model object annotated by the <code>@Valid</code> annotation after <code>binding its properties</code>with inputs from JSP form that uses Springâs form tags. Any constraint violations will be exposed as errors in the <code>BindingResult</code> object\n<a href=\"http://www.codejava.net/frameworks/spring/spring-mvc-form-validation-example-with-bean-validation-api\" rel=\"nofollow\">here is a good post</a></p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2510,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33053919,"answer_count":3,"score":3,"last_activity_date":1675378916,"creation_date":1444477119,"question_id":33053553,"body_markdown":"I am pretty new in Spring MVC and I have imported a tutorial project related to server side validation and I have some doubt about how exactly it works.\r\n\r\nSo I have this login page named **login.jsp** that contain this login form:\r\n\r\n\t&lt;form:form action=&quot;${pageContext.request.contextPath}/login&quot; commandName=&quot;user&quot; method=&quot;post&quot;&gt;\r\n\r\n\t\t&lt;table&gt;\r\n\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;label&gt;Enter Username : &lt;/label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input type=&quot;text&quot; path=&quot;username&quot; name=&quot;username&quot; /&gt;\r\n\t\t\t\t\t&lt;br&gt; &lt;form:errors path=&quot;username&quot; style=&quot;color:red;&quot;&gt;&lt;/form:errors&gt;\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;label&gt;Enter Password : &lt;/label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input type=&quot;password&quot; path=&quot;password&quot; name=&quot;password&quot; /&gt;\r\n\t\t\t\t\t&lt;br&gt; &lt;form:errors path=&quot;password&quot; style=&quot;color:red;&quot;&gt;&lt;/form:errors&gt;\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&amp;nbsp&lt;/td&gt;\r\n\t\t\t\t&lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Login&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\r\n\t\t&lt;/table&gt;\r\n\r\n\t&lt;/form:form&gt;\r\n\r\nthat I think use the object specified by the **commandName=&quot;user&quot;** attribute retrieved from the model (correct me if I am wrong) to store the username and password inserted by the user.\r\n\r\nThis **commandName=&quot;user&quot;** is an instance of this **User** class:\r\n\r\n    import javax.validation.constraints.Size;\r\n    import org.hibernate.validator.constraints.NotBlank;\r\n    \r\n    public class User {\r\n    \r\n    \t@NotBlank(message=&quot;Username can not be blank&quot;)\r\n    \tprivate String username;\r\n    \t\r\n    \t@Size(min=6,message=&quot;Password must be atleast 6 characters long&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \tprivate String gender;\r\n    \tprivate String vehicle;\r\n    \tprivate String country;\r\n    \tprivate String image;\r\n    \r\n        ...............................................\r\n        ...............................................\r\n        GETTER AND SETTER METHODS\r\n        ...............................................\r\n        ...............................................\r\n    }\r\n\r\nSo as you can see there are the **@NotBlank** and **@Size** validation annotation declared on the **username** and **password** fields.\r\n\r\nAnd here the first doubt: what exactly is the difference from the 2 used library **javax.validation** and **org.hibernate.validator** ? \r\n\r\nWhy in the tutorial use both? Can I do the same thing using only the hibernate validator library? (I think that I can specify the valid length of a string using the Hibernate validator, or not)?\r\n\r\nSo then when the login form is submitted it generate and HttpRequest toward the **/login** resource that is handled by this method declared into a controller class:\r\n\r\n\t@RequestMapping(value=&quot;/login&quot; , method=RequestMethod.POST)\r\n\tpublic String do_login(HttpServletRequest req , Model md , HttpSession session , @Valid User user, BindingResult br)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//System.out.println(br.getAllErrors().size());\r\n\t\t\t\r\n\t\t\tString username = req.getParameter(&quot;username&quot;);\r\n\t\t\tString password = req.getParameter(&quot;password&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Username and pasword are : &quot;+username +&quot;  &quot;+ password);\r\n\t\t\tif(br.getAllErrors().size() &gt; 0){\r\n\t\t\t\tSystem.out.println(&quot;Server side validation takes place....&quot;);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\tLogin_Model lm = new Login_Model();\r\n\t\t\tString message = lm.do_login_process(username, password);\r\n\t\t\t\r\n\t\t\tif(message.equals(&quot;login success&quot;))\r\n\t\t\t{\r\n\t\t\t\tsession.setAttribute(&quot;username&quot;, username);\r\n\t\t\t\treturn &quot;redirect:/myprofile&quot;;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmd.addAttribute(&quot;error_msg&quot;, message);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn &quot;login&quot;;\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\treturn &quot;login&quot;;\r\n\t\t}\r\n\t}\r\n\r\nOK, and now I have the following doubts about this method:\r\n\r\n1) It take this object as input parameter: **@Valid User user**.\r\nWho pass to it? I think that it could depend by the fact that in the form I specified **commandName=&quot;user&quot;** so Spring automatically do it. Is it correct?\r\n\r\n2) From what I have understand the **@Valid** annotation automatically call the validation process. How it happen? is something related to the **AOP** feature provided by Spring? or what? Why this **@Valid** annotation is related only to the **javax.validation** library and not also to the Hibernate validator (so this **@Valid** annotation validate also the field annotated with Hibernate validator annotation? why?)\r\n\r\n3) From what I have understand if the user insert wrong values into the login form I can obtain this error by the **BindingResult br** input parameter. Using the debugger I can see that this object contain the error message defined by the annotation defined into the **User** model object. How exactly does this work?\r\n","title":"How does Spring MVC resolve and validate handler method parameters?","body":"<p>I am pretty new in Spring MVC and I have imported a tutorial project related to server side validation and I have some doubt about how exactly it works.</p>\n<p>So I have this login page named <strong>login.jsp</strong> that contain this login form:</p>\n<pre><code>&lt;form:form action=&quot;${pageContext.request.contextPath}/login&quot; commandName=&quot;user&quot; method=&quot;post&quot;&gt;\n\n    &lt;table&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;&lt;label&gt;Enter Username : &lt;/label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input type=&quot;text&quot; path=&quot;username&quot; name=&quot;username&quot; /&gt;\n                &lt;br&gt; &lt;form:errors path=&quot;username&quot; style=&quot;color:red;&quot;&gt;&lt;/form:errors&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;&lt;label&gt;Enter Password : &lt;/label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input type=&quot;password&quot; path=&quot;password&quot; name=&quot;password&quot; /&gt;\n                &lt;br&gt; &lt;form:errors path=&quot;password&quot; style=&quot;color:red;&quot;&gt;&lt;/form:errors&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;&amp;nbsp&lt;/td&gt;\n            &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Login&quot; /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    &lt;/table&gt;\n\n&lt;/form:form&gt;\n</code></pre>\n<p>that I think use the object specified by the <strong>commandName=&quot;user&quot;</strong> attribute retrieved from the model (correct me if I am wrong) to store the username and password inserted by the user.</p>\n<p>This <strong>commandName=&quot;user&quot;</strong> is an instance of this <strong>User</strong> class:</p>\n<pre><code>import javax.validation.constraints.Size;\nimport org.hibernate.validator.constraints.NotBlank;\n\npublic class User {\n\n    @NotBlank(message=&quot;Username can not be blank&quot;)\n    private String username;\n    \n    @Size(min=6,message=&quot;Password must be atleast 6 characters long&quot;)\n    private String password;\n    \n    private String gender;\n    private String vehicle;\n    private String country;\n    private String image;\n\n    ...............................................\n    ...............................................\n    GETTER AND SETTER METHODS\n    ...............................................\n    ...............................................\n}\n</code></pre>\n<p>So as you can see there are the <strong>@NotBlank</strong> and <strong>@Size</strong> validation annotation declared on the <strong>username</strong> and <strong>password</strong> fields.</p>\n<p>And here the first doubt: what exactly is the difference from the 2 used library <strong>javax.validation</strong> and <strong>org.hibernate.validator</strong> ?</p>\n<p>Why in the tutorial use both? Can I do the same thing using only the hibernate validator library? (I think that I can specify the valid length of a string using the Hibernate validator, or not)?</p>\n<p>So then when the login form is submitted it generate and HttpRequest toward the <strong>/login</strong> resource that is handled by this method declared into a controller class:</p>\n<pre><code>@RequestMapping(value=&quot;/login&quot; , method=RequestMethod.POST)\npublic String do_login(HttpServletRequest req , Model md , HttpSession session , @Valid User user, BindingResult br)\n{\n    try\n    {\n        //System.out.println(br.getAllErrors().size());\n        \n        String username = req.getParameter(&quot;username&quot;);\n        String password = req.getParameter(&quot;password&quot;);\n        \n        System.out.println(&quot;Username and pasword are : &quot;+username +&quot;  &quot;+ password);\n        if(br.getAllErrors().size() &gt; 0){\n            System.out.println(&quot;Server side validation takes place....&quot;);\n        }\n        else{\n        Login_Model lm = new Login_Model();\n        String message = lm.do_login_process(username, password);\n        \n        if(message.equals(&quot;login success&quot;))\n        {\n            session.setAttribute(&quot;username&quot;, username);\n            return &quot;redirect:/myprofile&quot;;\n        }\n        else\n        {\n            md.addAttribute(&quot;error_msg&quot;, message);\n        }\n        }\n        return &quot;login&quot;;\n    }\n    catch(Exception e)\n    {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>OK, and now I have the following doubts about this method:</p>\n<ol>\n<li><p>It take this object as input parameter: <strong>@Valid User user</strong>.\nWho pass to it? I think that it could depend by the fact that in the form I specified <strong>commandName=&quot;user&quot;</strong> so Spring automatically do it. Is it correct?</p>\n</li>\n<li><p>From what I have understand the <strong>@Valid</strong> annotation automatically call the validation process. How it happen? is something related to the <strong>AOP</strong> feature provided by Spring? or what? Why this <strong>@Valid</strong> annotation is related only to the <strong>javax.validation</strong> library and not also to the Hibernate validator (so this <strong>@Valid</strong> annotation validate also the field annotated with Hibernate validator annotation? why?)</p>\n</li>\n<li><p>From what I have understand if the user insert wrong values into the login form I can obtain this error by the <strong>BindingResult br</strong> input parameter. Using the debugger I can see that this object contain the error message defined by the annotation defined into the <strong>User</strong> model object. How exactly does this work?</p>\n</li>\n</ol>\n"},{"tags":["java","android","json","firebase","kotlin"],"comments":[{"owner":{"account_id":1340381,"reputation":7826,"user_id":1282166,"accept_rate":66,"display_name":"Shudy"},"score":0,"creation_date":1479127374,"post_id":40587521,"comment_id":68413283,"body_markdown":"Maybe I&#39;m mixing some concepts? :/","body":"Maybe I&#39;m mixing some concepts? :/"},{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":1,"creation_date":1479146107,"post_id":40587521,"comment_id":68425375,"body_markdown":"Inspect the `google-services.json` files to confirm they have contain the correct package names, as described in [the documentation](https://developers.google.com/android/guides/google-services-plugin#processing_the_json_file).","body":"Inspect the <code>google-services.json</code> files to confirm they have contain the correct package names, as described in <a href=\"https://developers.google.com/android/guides/google-services-plugin#processing_the_json_file\" rel=\"nofollow noreferrer\">the documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":7418776,"reputation":473,"user_id":5643951,"display_name":"Taulant Loshi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1507017385,"creation_date":1503556896,"answer_id":45854607,"question_id":40587521,"body_markdown":"I had the same problem, so using Android Studio **2.3.3** I used the menu \r\n**Tools**&gt; **Firebase** - on the right side of the window click **Notifications** and then **Recieve notifications on your app**,finally click **Connect to Firebase**, after this you will see a dialog saying **This app is already connected to a project** but just click **Sync**, then firebase will sync automatically all your app clients and it will fix this issue,by the way I know it&#39;s too late to respond but it might help someone.","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>I had the same problem, so using Android Studio <strong>2.3.3</strong> I used the menu \n<strong>Tools</strong>> <strong>Firebase</strong> - on the right side of the window click <strong>Notifications</strong> and then <strong>Recieve notifications on your app</strong>,finally click <strong>Connect to Firebase</strong>, after this you will see a dialog saying <strong>This app is already connected to a project</strong> but just click <strong>Sync</strong>, then firebase will sync automatically all your app clients and it will fix this issue,by the way I know it's too late to respond but it might help someone.</p>\n"},{"tags":[],"owner":{"account_id":6302144,"reputation":384,"user_id":4896439,"display_name":"Carlos Jesus Arancibia Taborga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555792827,"creation_date":1555792827,"answer_id":55777555,"question_id":40587521,"body_markdown":"Check your Gradle app level applicationId, it should be same as firebase package name, then it works like a charm","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>Check your Gradle app level applicationId, it should be same as firebase package name, then it works like a charm</p>\n"},{"tags":[],"owner":{"account_id":17460052,"reputation":411,"user_id":12657952,"display_name":"Habibi"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1578265967,"creation_date":1578254360,"answer_id":59603700,"question_id":40587521,"body_markdown":" 1. Just go to the google-services.json \r\n 2. change the package-name to the name of your package \r\n\r\n```json\r\n{\r\n  &quot;client_info&quot;: {\r\n    &quot;mobilesdk_app_id&quot;: &quot;1:113908578702:android:a0a98decfd9f22466f4cdf&quot;,\r\n    &quot;android_client_info&quot;: {\r\n      &quot;package_name&quot;: &quot;com.example.Appname&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n 3. sync your project, it&#39;ll be solved","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<ol>\n<li>Just go to the google-services.json </li>\n<li>change the package-name to the name of your package </li>\n</ol>\n\n<pre><code>{\n  \"client_info\": {\n    \"mobilesdk_app_id\": \"1:113908578702:android:a0a98decfd9f22466f4cdf\",\n    \"android_client_info\": {\n      \"package_name\": \"com.example.Appname\"\n    }\n  }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>sync your project, it'll be solved</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5626087,"reputation":171,"user_id":4454477,"display_name":"Dildarkhan Pathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585839111,"creation_date":1585839111,"answer_id":60994450,"question_id":40587521,"body_markdown":"Update your applicationId inside defaultConfig of app level gradle file. With your package name.","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>Update your applicationId inside defaultConfig of app level gradle file. With your package name.</p>\n"},{"tags":[],"owner":{"account_id":9771447,"reputation":2307,"user_id":7243174,"display_name":"Abdul Basit Rishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588370413,"creation_date":1588370413,"answer_id":61551445,"question_id":40587521,"body_markdown":"&gt; Try to download the latest **google-services.json** file\r\n\r\n\r\n","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<blockquote>\n  <p>Try to download the latest <strong>google-services.json</strong> file</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13996046,"reputation":189,"user_id":10108803,"display_name":"Dhruvisha"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1651603082,"creation_date":1593276873,"answer_id":62612930,"question_id":40587521,"body_markdown":"If you have added **google-service.json** file \r\ncheck build.gradle(: app) **package_name** and in google-service.json file **package_name** is the same  \r\nAlso if you have added **productFlavors** make sure you have added that package in firebase for creating JSON file","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>If you have added <strong>google-service.json</strong> file\ncheck build.gradle(: app) <strong>package_name</strong> and in google-service.json file <strong>package_name</strong> is the same<br />\nAlso if you have added <strong>productFlavors</strong> make sure you have added that package in firebase for creating JSON file</p>\n"},{"tags":[],"owner":{"account_id":18402298,"reputation":21,"user_id":13417568,"display_name":"Muji Tech"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598412131,"creation_date":1598289633,"answer_id":63565794,"question_id":40587521,"body_markdown":"*Go to build.gradle and change the package name with same as AndroidManifest.xml and sync again   *\r\n[1][In this image show package name  in AndroidManifest same as  build.gradle] \r\n  [1]: https://i.stack.imgur.com/T4cqz.png\r\n[Below image show package name in build.gradle same as AndroidManifest]\r\n  [2]: https://i.stack.imgur.com/ModHS.png\r\n[package name in build.gradle][2]\r\n\r\nAlso check firebase and  download recent .json file.\r\n\r\n","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>*Go to build.gradle and change the package name with same as AndroidManifest.xml and sync again   *\n[1][In this image show package name  in AndroidManifest same as  build.gradle]\n[1]: https://i.stack.imgur.com/T4cqz.png\n[Below image show package name in build.gradle same as AndroidManifest]\n[2]: https://i.stack.imgur.com/ModHS.png\n[package name in build.gradle][2]</p>\n<p>Also check firebase and  download recent .json file.</p>\n"},{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1627532523,"creation_date":1601724487,"answer_id":64183702,"question_id":40587521,"body_markdown":"I was facing the same error. I am using multiple flavors. Therefore, I put the `google-services.json` in `app/src/{flv}` directory.\r\n\r\nIt worked well for one flavor but did not work for others. The issue was that I have also placed `google-services.json` corresponding to flavor for which it was working in app directory also. \r\n\r\n**Google will search for sub-directories / flavor directories only if it did not find the `google-services.json` in the app directory.**\r\n\r\nSo, make sure you don&#39;t put `google-services.json` in app directory in case you have separate `google-services.json` for multiple flavors.\r\n\r\nPlease see [this article][1] for mode details on Android product flavors.\r\n\r\n\r\n  [1]: https://medium.com/@droid.dev/how-to-build-multiple-apps-with-a-single-android-project-2021-android-productivity-hack-4e0b94e622b4","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>I was facing the same error. I am using multiple flavors. Therefore, I put the <code>google-services.json</code> in <code>app/src/{flv}</code> directory.</p>\n<p>It worked well for one flavor but did not work for others. The issue was that I have also placed <code>google-services.json</code> corresponding to flavor for which it was working in app directory also.</p>\n<p><strong>Google will search for sub-directories / flavor directories only if it did not find the <code>google-services.json</code> in the app directory.</strong></p>\n<p>So, make sure you don't put <code>google-services.json</code> in app directory in case you have separate <code>google-services.json</code> for multiple flavors.</p>\n<p>Please see <a href=\"https://medium.com/@droid.dev/how-to-build-multiple-apps-with-a-single-android-project-2021-android-productivity-hack-4e0b94e622b4\" rel=\"nofollow noreferrer\">this article</a> for mode details on Android product flavors.</p>\n"},{"tags":[],"owner":{"account_id":17574915,"reputation":41,"user_id":12749881,"display_name":"Payam Karamvandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646821902,"creation_date":1646816021,"answer_id":71406627,"question_id":40587521,"body_markdown":"it&#39;s a bit late, but maybe it could help someone like me with the same situation. I defined another app in the Firebase console at project settings with a different package name equal to my other flavor build. and then I downloaded the new google-services.json file and used it.it worked like a charm for me","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>it's a bit late, but maybe it could help someone like me with the same situation. I defined another app in the Firebase console at project settings with a different package name equal to my other flavor build. and then I downloaded the new google-services.json file and used it.it worked like a charm for me</p>\n"}],"owner":{"account_id":1340381,"reputation":7826,"user_id":1282166,"accept_rate":66,"display_name":"Shudy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53640,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":9,"score":27,"last_activity_date":1675378902,"creation_date":1479122349,"question_id":40587521,"body_markdown":"I want to implement push notification.\r\nI added to project level:\r\n\r\n    dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.2.2&#39;\r\n            classpath &#39;com.google.gms:google-services:3.0.0&#39;\r\n    }\r\n\r\nand to app level:(at the bottom of the file)\r\n\r\n       ....\r\n       compile &#39;com.squareup.okhttp3:okhttp:3.3.0&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nThen I added google-services.json file to project in app level\r\n\r\nBut, when I syncro gradle, it launch the error:\r\n\r\n    No matching client found for package name &quot;....&quot; \r\n\r\nIn gradle I have 2 different build variants , and look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nManifest:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              package=&quot;es.xxx.awsomeapp&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.realm.XXXXXX&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher_chv&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity\r\n     \r\n\r\nAnd finally the gradle:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;realm-android&#39;\r\n    \r\n    repositories {\r\n        maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n        maven { url &quot;https://s3.amazonaws.com/repo.commonsware.com&quot; }\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        maven { url &#39;http://dl.bintray.com/amulyakhare/maven&#39; }\r\n        mavenCentral()\r\n    }\r\n    android {\r\n        compileSdkVersion 24\r\n        buildToolsVersion &quot;24.0.2&quot;\r\n        defaultConfig {\r\n            minSdkVersion 16\r\n            targetSdkVersion 24\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        productFlavors {\r\n            vanilla {\r\n                applicationId &quot;es.xxx.awsomeApp&quot;\r\n                resValue &#39;string&#39;, &#39;app_name&#39;, &quot;Awsome&quot;\r\n            }\r\n            chv {\r\n                applicationId &quot;es.xxx.awsomeApp.chv&quot;\r\n                resValue &#39;string&#39;, &#39;app_name&#39;, &quot;Awsome CHV&quot;\r\n                signingConfig signingConfigs.chv_release\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        testOptions {\r\n            unitTests.returnDefaultValues = true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        //Auxiliar libraries\r\n        compile &#39;org.igniterealtime.smack:smack-android-extensions:4.2.0-beta2&#39;\r\n        //Auxiliar libraries\r\n        compile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n        compile &#39;org.igniterealtime.smack:smack-android-extensions:4.2.0-beta2&#39;\r\n        compile &#39;org.igniterealtime.smack:smack-tcp:4.2.0-beta2&#39;\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.0-beta2&#39;\r\n        compile &#39;com.android.support:design:24.2.1&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:24.2.1&#39;\r\n        compile &#39;com.orhanobut:logger:1.15&#39;\r\n        compile &#39;com.amulyakhare:com.amulyakhare.textdrawable:1.0.1&#39;\r\n        compile &#39;com.github.Slyce-Inc:SlyceMessaging:1.1.2&#39;\r\n        compile &#39;io.realm:android-adapters:1.4.0&#39;\r\n        compile &#39;com.google.code.gson:gson:2.6.2&#39;\r\n        compile &#39;com.android.support:cardview-v7:24.2.1&#39;\r\n        compile &#39;com.rengwuxian.materialedittext:library:1.8.3&#39;\r\n        compile &#39;com.android.volley:volley:1.0.0&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp:3.3.0&#39;\r\n        compile &#39;com.google.firebase:firebase-messaging:9.8.0&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        testCompile &#39;org.robolectric:robolectric:3.0&#39;\r\n        testCompile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n        testCompile &#39;org.igniterealtime.smack:smack-tcp:4.2.0-beta2&#39;\r\n        testCompile &#39;com.android.support.constraint:constraint-layout:1.0.0-beta2&#39;\r\n        testCompile &#39;com.android.support:design:24.2.1&#39;\r\n        testCompile &#39;com.orhanobut:logger:1.15&#39;\r\n        testCompile &#39;com.amulyakhare:com.amulyakhare.textdrawable:1.0.1&#39;\r\n        testCompile &#39;com.github.Slyce-Inc:SlyceMessaging:1.1.2&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n\r\nAnd the firebase console.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHow can I solve it?\r\n\r\nNote, that json files are each one of their project. \r\n\r\n  [1]: https://i.stack.imgur.com/fGVzC.png\r\n  [2]: https://i.stack.imgur.com/jw45V.png","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>I want to implement push notification.\nI added to project level:</p>\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.2'\n        classpath 'com.google.gms:google-services:3.0.0'\n}\n</code></pre>\n<p>and to app level:(at the bottom of the file)</p>\n<pre><code>   ....\n   compile 'com.squareup.okhttp3:okhttp:3.3.0'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>Then I added google-services.json file to project in app level</p>\n<p>But, when I syncro gradle, it launch the error:</p>\n<pre><code>No matching client found for package name &quot;....&quot; \n</code></pre>\n<p>In gradle I have 2 different build variants , and look like:</p>\n<p><a href=\"https://i.stack.imgur.com/fGVzC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGVzC.png\" alt=\"enter image description here\" /></a></p>\n<p>Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n          package=&quot;es.xxx.awsomeapp&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n\n    &lt;application\n        android:name=&quot;.realm.XXXXXX&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher_chv&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity\n \n</code></pre>\n<p>And finally the gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'realm-android'\n\nrepositories {\n    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }\n    maven { url &quot;https://s3.amazonaws.com/repo.commonsware.com&quot; }\n    maven { url &quot;https://jitpack.io&quot; }\n    maven { url 'http://dl.bintray.com/amulyakhare/maven' }\n    mavenCentral()\n}\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion &quot;24.0.2&quot;\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 24\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    productFlavors {\n        vanilla {\n            applicationId &quot;es.xxx.awsomeApp&quot;\n            resValue 'string', 'app_name', &quot;Awsome&quot;\n        }\n        chv {\n            applicationId &quot;es.xxx.awsomeApp.chv&quot;\n            resValue 'string', 'app_name', &quot;Awsome CHV&quot;\n            signingConfig signingConfigs.chv_release\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    testOptions {\n        unitTests.returnDefaultValues = true\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    //Auxiliar libraries\n    compile 'org.igniterealtime.smack:smack-android-extensions:4.2.0-beta2'\n    //Auxiliar libraries\n    compile 'com.android.support:appcompat-v7:24.2.1'\n    compile 'org.igniterealtime.smack:smack-android-extensions:4.2.0-beta2'\n    compile 'org.igniterealtime.smack:smack-tcp:4.2.0-beta2'\n    compile 'com.android.support.constraint:constraint-layout:1.0.0-beta2'\n    compile 'com.android.support:design:24.2.1'\n    compile 'com.android.support:recyclerview-v7:24.2.1'\n    compile 'com.orhanobut:logger:1.15'\n    compile 'com.amulyakhare:com.amulyakhare.textdrawable:1.0.1'\n    compile 'com.github.Slyce-Inc:SlyceMessaging:1.1.2'\n    compile 'io.realm:android-adapters:1.4.0'\n    compile 'com.google.code.gson:gson:2.6.2'\n    compile 'com.android.support:cardview-v7:24.2.1'\n    compile 'com.rengwuxian.materialedittext:library:1.8.3'\n    compile 'com.android.volley:volley:1.0.0'\n    compile 'com.squareup.okhttp3:okhttp:3.3.0'\n    compile 'com.google.firebase:firebase-messaging:9.8.0'\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.robolectric:robolectric:3.0'\n    testCompile 'com.android.support:appcompat-v7:24.2.1'\n    testCompile 'org.igniterealtime.smack:smack-tcp:4.2.0-beta2'\n    testCompile 'com.android.support.constraint:constraint-layout:1.0.0-beta2'\n    testCompile 'com.android.support:design:24.2.1'\n    testCompile 'com.orhanobut:logger:1.15'\n    testCompile 'com.amulyakhare:com.amulyakhare.textdrawable:1.0.1'\n    testCompile 'com.github.Slyce-Inc:SlyceMessaging:1.1.2'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>And the firebase console.</p>\n<p><a href=\"https://i.stack.imgur.com/jw45V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jw45V.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I solve it?</p>\n<p>Note, that json files are each one of their project.</p>\n"},{"tags":["java","android","kotlin","bitmap"],"comments":[{"owner":{"account_id":2527008,"reputation":3174,"user_id":2196176,"display_name":"Sunny"},"score":0,"creation_date":1556885609,"post_id":55969484,"comment_id":98589763,"body_markdown":"Can you Verify that onActivityResult is working fine? If imgThumb has the image the you can use that bitmap directly for the byte array.","body":"Can you Verify that onActivityResult is working fine? If imgThumb has the image the you can use that bitmap directly for the byte array."},{"owner":{"account_id":9085371,"reputation":67,"user_id":6763592,"display_name":"Davi"},"score":0,"creation_date":1556926736,"post_id":55969484,"comment_id":98606769,"body_markdown":"@Sunny yes it loads to thumb only does not display but load. How can I fix this?","body":"@Sunny yes it loads to thumb only does not display but load. How can I fix this?"},{"owner":{"account_id":9085371,"reputation":67,"user_id":6763592,"display_name":"Davi"},"score":0,"creation_date":1556932375,"post_id":55969484,"comment_id":98607518,"body_markdown":"@Sunny I added the method that I use to take the images from the gallery if I can check it I would be grateful.","body":"@Sunny I added the method that I use to take the images from the gallery if I can check it I would be grateful."},{"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"score":0,"creation_date":1557082398,"post_id":55969484,"comment_id":98637905,"body_markdown":"Also try to use as much as relevant labels you can. So don&#39;t miss the android label to get more attentions from android guys","body":"Also try to use as much as relevant labels you can. So don&#39;t miss the android label to get more attentions from android guys"}],"answers":[{"tags":[],"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1557082765,"creation_date":1557082166,"answer_id":55995279,"question_id":55969484,"body_markdown":"I bet that `MediaStore.Images.Media.getBitmap` does not get the bitmap properly and returns null.\r\n\r\nSo if you remove the `?` in `MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap?` you will get a runtime exception as your previous question asserts.\r\n\r\nSo change the cast to:\r\n\r\n    MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap\r\n\r\nTo make sure you never get a null bitmap then com back to investigate `getBitmap` method\r\n\r\nI have no idea what does the `createImageFile` method do, but I suggest you to simply do the following to test if it is working:\r\n\r\n    MediaStore.Images.Media.getBitmap(this.getContentResolver(), Uri.parse(&quot;file://&quot;+uri));\r\n\r\nFinally I advice against of using of `MediaStore.Images.Media.getBitmap` at all. \r\n\r\nSee [Its deprecated][1]. switch to image loading libraries or use [ ImageDecoder#createSource(ContentResolver, Uri)][2] \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/MediaStore.Images.Media.html#getBitmap(android.content.ContentResolver,%20android.net.Uri)\r\n  [2]: https://developer.android.com/reference/android/graphics/ImageDecoder.html#createSource(android.content.ContentResolver,%20android.net.Uri)\r\n\r\nThere are guides in the mentioned link. Like this one:\r\n\r\n    public static Bitmap decodeBitmap (ImageDecoder.Source src)\r\n\r\nAlso make sure to do these kin of stuff in a worker thread.","title":"method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)","body":"<p>I bet that <code>MediaStore.Images.Media.getBitmap</code> does not get the bitmap properly and returns null.</p>\n\n<p>So if you remove the <code>?</code> in <code>MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap?</code> you will get a runtime exception as your previous question asserts.</p>\n\n<p>So change the cast to:</p>\n\n<pre><code>MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap\n</code></pre>\n\n<p>To make sure you never get a null bitmap then com back to investigate <code>getBitmap</code> method</p>\n\n<p>I have no idea what does the <code>createImageFile</code> method do, but I suggest you to simply do the following to test if it is working:</p>\n\n<pre><code>MediaStore.Images.Media.getBitmap(this.getContentResolver(), Uri.parse(\"file://\"+uri));\n</code></pre>\n\n<p>Finally I advice against of using of <code>MediaStore.Images.Media.getBitmap</code> at all. </p>\n\n<p>See <a href=\"https://developer.android.com/reference/android/provider/MediaStore.Images.Media.html#getBitmap(android.content.ContentResolver,%20android.net.Uri)\" rel=\"nofollow noreferrer\">Its deprecated</a>. switch to image loading libraries or use <a href=\"https://developer.android.com/reference/android/graphics/ImageDecoder.html#createSource(android.content.ContentResolver,%20android.net.Uri)\" rel=\"nofollow noreferrer\"> ImageDecoder#createSource(ContentResolver, Uri)</a> </p>\n\n<p>There are guides in the mentioned link. Like this one:</p>\n\n<pre><code>public static Bitmap decodeBitmap (ImageDecoder.Source src)\n</code></pre>\n\n<p>Also make sure to do these kin of stuff in a worker thread.</p>\n"}],"owner":{"account_id":9085371,"reputation":67,"user_id":6763592,"display_name":"Davi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55995279,"answer_count":1,"score":0,"last_activity_date":1675378767,"creation_date":1556885264,"question_id":55969484,"body_markdown":"I am having this error in my code, someone informs me how to solve it? Thank you to everyone who can help.\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)&#39; on a null object reference\r\n            at map.app.fragments.ReportFragment.putImgToBytearray(ReportFragment.kt:177)\r\n\r\n\r\nline error\r\n\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 70, stream)\r\n\r\ncode\r\n\r\n    private fun putImgToBytearray(): ByteArray {\r\n        val stream = ByteArrayOutputStream()\r\n        val drawable = this.imgThumb!!.drawable as BitmapDrawable\r\n        val bitmap = drawable.bitmap\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 70, stream)\r\n        return stream.toByteArray()\r\n    }\r\n\r\n\r\nonActivityResult code\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        if (requestCode == IMAGE_PICK_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n    \r\n    \r\n            try {\r\n    \r\n                //Getting the Bitmap from Gallery\r\n                val bitmap = MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap?\r\n                this.imgThumb!!.setImageBitmap(bitmap)\r\n                this.pictureTaken = true\r\n            } catch (e:IOException) {\r\n                e.printStackTrace()\r\n            }\r\n        } else {\r\n            Toast.makeText(context, &quot;Error loading image&quot;, Toast.LENGTH_LONG)\r\n        }\r\n    }\r\n\r\n\r\n\r\nmethod for select image from gallery. it&#39;s just an adaptation\r\n\r\n\r\n\r\n\r\n\r\n    fun openCamera() {\r\n        try {\r\n            val imageFile = createImageFile()\r\n            val callCameraIntent =  Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            if(callCameraIntent.resolveActivity(activity.packageManager) != null) {\r\n                val authorities = activity.packageName + &quot;.fileprovider&quot;\r\n                this.imageUri = FileProvider.getUriForFile(context, authorities, imageFile)\r\n                callCameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\r\n                startActivityForResult(callCameraIntent, IMAGE_PICK_CODE)\r\n            }\r\n        } catch (e: IOException) {\r\n            Toast.makeText(context, &quot;Could not create file!&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }","title":"method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)","body":"<p>I am having this error in my code, someone informs me how to solve it? Thank you to everyone who can help.</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)' on a null object reference\n        at map.app.fragments.ReportFragment.putImgToBytearray(ReportFragment.kt:177)\n</code></pre>\n\n<p>line error</p>\n\n<pre><code>bitmap.compress(Bitmap.CompressFormat.JPEG, 70, stream)\n</code></pre>\n\n<p>code</p>\n\n<pre><code>private fun putImgToBytearray(): ByteArray {\n    val stream = ByteArrayOutputStream()\n    val drawable = this.imgThumb!!.drawable as BitmapDrawable\n    val bitmap = drawable.bitmap\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 70, stream)\n    return stream.toByteArray()\n}\n</code></pre>\n\n<p>onActivityResult code</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == IMAGE_PICK_CODE &amp;&amp; resultCode == RESULT_OK) {\n\n\n        try {\n\n            //Getting the Bitmap from Gallery\n            val bitmap = MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap?\n            this.imgThumb!!.setImageBitmap(bitmap)\n            this.pictureTaken = true\n        } catch (e:IOException) {\n            e.printStackTrace()\n        }\n    } else {\n        Toast.makeText(context, \"Error loading image\", Toast.LENGTH_LONG)\n    }\n}\n</code></pre>\n\n<p>method for select image from gallery. it's just an adaptation</p>\n\n<pre><code>fun openCamera() {\n    try {\n        val imageFile = createImageFile()\n        val callCameraIntent =  Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        if(callCameraIntent.resolveActivity(activity.packageManager) != null) {\n            val authorities = activity.packageName + \".fileprovider\"\n            this.imageUri = FileProvider.getUriForFile(context, authorities, imageFile)\n            callCameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\n            startActivityForResult(callCameraIntent, IMAGE_PICK_CODE)\n        }\n    } catch (e: IOException) {\n        Toast.makeText(context, \"Could not create file!\", Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","animation"],"owner":{"account_id":27689735,"reputation":1,"user_id":21136684,"display_name":"Shon Haskaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675378807,"answer_count":0,"score":0,"last_activity_date":1675378596,"creation_date":1675378596,"question_id":75329765,"body_markdown":"The problems are happening in the getPlayerImage method in the first line of the try-catch. So the panel pops up and runs, if the user presses w,a,s,d the filled square goes left,right,down,up accordingly, then I set up the logic for switching between png files etc so that I could swap out the white square for an actual character image. but once it gets to the getPlayerImage() method it&#39;s not able to find the images in my device I guess?? I think the problem has to do with how I&#39;ve set up my src folder and java files, I want to so I have a source folder called src and one called res, but I&#39;m not sure if I implemented res correctly, The png files are stored in a package on the res source folder, and the get player image method is within the src source folder, so maybe it has something to do with that. I&#39;ve linked the image of how I&#39;ve set it up ... \r\n\r\n[enter image description here](https://i.stack.imgur.com/JO6mX.jpg)\r\n\r\n^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n    package entity;\r\n    \r\n    import main.GamePanel;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics2D;\r\n    import java.io.IOException;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import main.KeyHandler;\r\n    \r\n    public class Player extends Entity{\r\n    \r\n        GamePanel gp;\r\n        KeyHandler keyH;\r\n    \r\n        public Player(GamePanel gp, KeyHandler keyH){\r\n            this.gp = gp;\r\n            this.keyH = keyH;\r\n         \r\n            setDefaultValues();\r\n            getPlayerImage(); \r\n        }\r\n        public void setDefaultValues(){\r\n    \r\n            x = 100;\r\n            y= 100;\r\n            speed = 4;\r\n            direction = &quot;down&quot;; \r\n        }\r\n        public void getPlayerImage(){\r\n            try {\r\n                up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));\r\n                up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_2.png&quot;));\r\n                down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_1.png&quot;));\r\n                down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_2.png&quot;));\r\n                left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_1.png&quot;));\r\n                left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_2.png&quot;));\r\n                right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_1.png&quot;));\r\n                right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right _2.png&quot;)); \r\n            \r\n            } catch (IOException e) {\r\n               e.printStackTrace();\r\n            } \r\n        }\r\n        public void update(){\r\n    \r\n            if(keyH.upPressed){\r\n                direction = &quot;up&quot;;\r\n                y -= speed;\r\n            }\r\n            else if(keyH.downPressed){\r\n                direction = &quot;down&quot;;\r\n                y += speed;\r\n            }\r\n            else if(keyH.leftPressed){\r\n                direction = &quot;left&quot;;\r\n                x -= speed;\r\n            }\r\n            else if(keyH.rightPressed){\r\n                direction = &quot;right&quot;;\r\n                x += speed;\r\n            }\r\n         }\r\n        public void draw(Graphics2D g2){ \r\n            // g2.setColor(Color.white);\r\n            // g2.fillRect(x, y, gp.tileSize, gp.tileSize);\r\n    \r\n            BufferedImage image = null;\r\n    \r\n            switch(direction){\r\n                case&quot;up&quot;:\r\n                    image = up1;\r\n                    break;\r\n                case&quot;down&quot;:\r\n                    image = down1;\r\n                    break;    \r\n                case&quot;left&quot;:\r\n                    image = left1;\r\n                    break;\r\n                case&quot;right&quot;:\r\n                    image = right1;\r\n                    break;        }\r\n            g2.drawImage(image, x, y, gp.tileSize, gp.tileSize, null);\r\n             \r\n        }\r\n    }\r\n\r\nI&#39;ve tryed importing every javax swing and awt utility, but it didn&#39;t work, and Ive tryed different ways of formating my src folders but I&#39;m still clueless.","title":"Can&#39;t read images for a 2D animation in VSCode - (JAVA)","body":"<p>The problems are happening in the getPlayerImage method in the first line of the try-catch. So the panel pops up and runs, if the user presses w,a,s,d the filled square goes left,right,down,up accordingly, then I set up the logic for switching between png files etc so that I could swap out the white square for an actual character image. but once it gets to the getPlayerImage() method it's not able to find the images in my device I guess?? I think the problem has to do with how I've set up my src folder and java files, I want to so I have a source folder called src and one called res, but I'm not sure if I implemented res correctly, The png files are stored in a package on the res source folder, and the get player image method is within the src source folder, so maybe it has something to do with that. I've linked the image of how I've set it up ...</p>\n<p><a href=\"https://i.stack.imgur.com/JO6mX.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>^^^^^^^^^^^^^^^^^^^^^^</p>\n<pre><code>package entity;\n\nimport main.GamePanel;\nimport java.awt.*;\nimport javax.swing.*;\n\nimport java.awt.image.BufferedImage;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\nimport main.KeyHandler;\n\npublic class Player extends Entity{\n\n    GamePanel gp;\n    KeyHandler keyH;\n\n    public Player(GamePanel gp, KeyHandler keyH){\n        this.gp = gp;\n        this.keyH = keyH;\n     \n        setDefaultValues();\n        getPlayerImage(); \n    }\n    public void setDefaultValues(){\n\n        x = 100;\n        y= 100;\n        speed = 4;\n        direction = &quot;down&quot;; \n    }\n    public void getPlayerImage(){\n        try {\n            up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));\n            up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_2.png&quot;));\n            down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_1.png&quot;));\n            down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_2.png&quot;));\n            left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_1.png&quot;));\n            left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_2.png&quot;));\n            right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_1.png&quot;));\n            right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right _2.png&quot;)); \n        \n        } catch (IOException e) {\n           e.printStackTrace();\n        } \n    }\n    public void update(){\n\n        if(keyH.upPressed){\n            direction = &quot;up&quot;;\n            y -= speed;\n        }\n        else if(keyH.downPressed){\n            direction = &quot;down&quot;;\n            y += speed;\n        }\n        else if(keyH.leftPressed){\n            direction = &quot;left&quot;;\n            x -= speed;\n        }\n        else if(keyH.rightPressed){\n            direction = &quot;right&quot;;\n            x += speed;\n        }\n     }\n    public void draw(Graphics2D g2){ \n        // g2.setColor(Color.white);\n        // g2.fillRect(x, y, gp.tileSize, gp.tileSize);\n\n        BufferedImage image = null;\n\n        switch(direction){\n            case&quot;up&quot;:\n                image = up1;\n                break;\n            case&quot;down&quot;:\n                image = down1;\n                break;    \n            case&quot;left&quot;:\n                image = left1;\n                break;\n            case&quot;right&quot;:\n                image = right1;\n                break;        }\n        g2.drawImage(image, x, y, gp.tileSize, gp.tileSize, null);\n         \n    }\n}\n</code></pre>\n<p>I've tryed importing every javax swing and awt utility, but it didn't work, and Ive tryed different ways of formating my src folders but I'm still clueless.</p>\n"},{"tags":["java","eclipse","compiler-warnings","suppress-warnings","bonecp"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1373726916,"post_id":17631199,"comment_id":25670452,"body_markdown":"Do you have the Javadoc for BoneCp ?","body":"Do you have the Javadoc for BoneCp ?"},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":0,"creation_date":1373727544,"post_id":17631199,"comment_id":25670582,"body_markdown":"I&#39;ve did the same thing but I cannot reproduce it.","body":"I&#39;ve did the same thing but I cannot reproduce it."}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1373727791,"creation_date":1373726571,"answer_id":17631212,"question_id":17631199,"body_markdown":"    How does Eclipse know anything about a BoneCP object, \n                                      and how does it know that it must be closed?\n\n[Docs of eclipse says][1]\n\n&gt;&gt;Classes implementing the interface java.io.Closeable (since JDK 1.5) and java.lang.AutoCloseable (since JDK 1.7) are considered to represent external resources, which should be closed using method close(), when they are no longer needed.\n&gt;\n&gt;The Eclipse Java compiler is able to analyze whether code using such types adheres to this policy.  \n&gt;\n&gt;objects do not directly represent an operating system resource. If the wrapped resource is closed, the wrapper doesn&#39;t need closing. Conversely, if a wrapper is closed this will include closing of the wrapped resource. The analysis has a second white list for detecting wrapper resources, and will recognize whether the underlying actual resource will be closed directly or indirectly via the wrapper. Either one suffices to silence warnings regarding resource leaks. **The white list contains classes from java.io**, java.util.zip, java.security, java.beans and java.sound.sampled.\n\nYour BoneCP classe implements the interface **java.io.Serializable** ,this might be the reason.\n\n  [1]: http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-avoiding_resource_leaks.htm","title":"How to make a custom compiler warning in Eclipse?","body":"<pre><code>How does Eclipse know anything about a BoneCP object, \n                                  and how does it know that it must be closed?\n</code></pre>\n<p><a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-avoiding_resource_leaks.htm\" rel=\"nofollow noreferrer\">Docs of eclipse says</a></p>\n<blockquote>\n<blockquote>\n<p>Classes implementing the interface java.io.Closeable (since JDK 1.5) and java.lang.AutoCloseable (since JDK 1.7) are considered to represent external resources, which should be closed using method close(), when they are no longer needed.</p>\n</blockquote>\n<p>The Eclipse Java compiler is able to analyze whether code using such types adheres to this policy.</p>\n<p>objects do not directly represent an operating system resource. If the wrapped resource is closed, the wrapper doesn't need closing. Conversely, if a wrapper is closed this will include closing of the wrapped resource. The analysis has a second white list for detecting wrapper resources, and will recognize whether the underlying actual resource will be closed directly or indirectly via the wrapper. Either one suffices to silence warnings regarding resource leaks. <strong>The white list contains classes from java.io</strong>, java.util.zip, java.security, java.beans and java.sound.sampled.</p>\n</blockquote>\n<p>Your BoneCP classe implements the interface <strong>java.io.Serializable</strong> ,this might be the reason.</p>\n"},{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1373733298,"creation_date":1373733298,"answer_id":17632104,"question_id":17631199,"body_markdown":"The warning is caused by this statement:\r\n\r\n    connection = connectionPool.getConnection();\r\n\r\nThe method `getConnection()` returns a object of type [java.sql.Connection][1] which implements [java.lang.AutoCloseable][2] since Java 7. Eclipse generates this warning when it can not determine whether a resource which implements either `java.io.Closeable` or `java.lang.AutoCloseable` gets closed by all possible code paths. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html","title":"How to make a custom compiler warning in Eclipse?","body":"<p>The warning is caused by this statement:</p>\n\n<pre><code>connection = connectionPool.getConnection();\n</code></pre>\n\n<p>The method <code>getConnection()</code> returns a object of type <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html\" rel=\"nofollow\">java.sql.Connection</a> which implements <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow\">java.lang.AutoCloseable</a> since Java 7. Eclipse generates this warning when it can not determine whether a resource which implements either <code>java.io.Closeable</code> or <code>java.lang.AutoCloseable</code> gets closed by all possible code paths. </p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17632104,"answer_count":2,"score":3,"last_activity_date":1675378551,"creation_date":1373726441,"question_id":17631199,"body_markdown":"I am experimenting with [BoneCP](http://jolbox.com) as a connection pooling alternative to DBCP.  I added the `bonecp-0.8.0rc-1.jar` to my runtime classpath, and copy-n-pasted the code from their example page into my test driver:\r\n\r\n    Connection connection = null;\r\n    BoneCP connectionPool;\r\n    try {\r\n        Class.forName(config.getDatabaseLogger().getJDBCDriver());\r\n    \r\n        BoneCPConfig boneConfig = configureBoneCP(config);\r\n    \r\n        connectionPool = new BoneCP(boneConfig);\r\n    \r\n        connection = connectionPool.getConnection(); \t// fetch a connection\r\n    } catch (SQLException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    } catch (ClassNotFoundException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nOn the line that reads:\r\n\r\n    connectionPool = new BoneCP(boneConfig);\r\n\r\nEclipse (Juno) is giving me a compiler warning:\r\n\r\n&gt; Resource leak: &#39;connectionPool&#39; is never closed\r\n\r\nIt then gives me an option to &quot;*Add @SuppressWarnings &#39;resource&#39; to newConnectionManager*&quot; (`newConnectionManager()` references the class this is contained in).\r\n\r\n**How is this possible?** How does Eclipse know anything about a `BoneCP` object, and how does it know that it must be closed? Is this some kind of &quot;custom warning&quot; that ships with the BoneCP library? If so, how could I add/annotate code to my own projects to help warn downstream developers that they aren&#39;t using my libraries correctly? \r\n","title":"How to make a custom compiler warning in Eclipse?","body":"<p>I am experimenting with <a href=\"http://jolbox.com\" rel=\"nofollow noreferrer\">BoneCP</a> as a connection pooling alternative to DBCP.  I added the <code>bonecp-0.8.0rc-1.jar</code> to my runtime classpath, and copy-n-pasted the code from their example page into my test driver:</p>\n<pre><code>Connection connection = null;\nBoneCP connectionPool;\ntry {\n    Class.forName(config.getDatabaseLogger().getJDBCDriver());\n\n    BoneCPConfig boneConfig = configureBoneCP(config);\n\n    connectionPool = new BoneCP(boneConfig);\n\n    connection = connectionPool.getConnection();    // fetch a connection\n} catch (SQLException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (ClassNotFoundException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>On the line that reads:</p>\n<pre><code>connectionPool = new BoneCP(boneConfig);\n</code></pre>\n<p>Eclipse (Juno) is giving me a compiler warning:</p>\n<blockquote>\n<p>Resource leak: 'connectionPool' is never closed</p>\n</blockquote>\n<p>It then gives me an option to &quot;<em>Add @SuppressWarnings 'resource' to newConnectionManager</em>&quot; (<code>newConnectionManager()</code> references the class this is contained in).</p>\n<p><strong>How is this possible?</strong> How does Eclipse know anything about a <code>BoneCP</code> object, and how does it know that it must be closed? Is this some kind of &quot;custom warning&quot; that ships with the BoneCP library? If so, how could I add/annotate code to my own projects to help warn downstream developers that they aren't using my libraries correctly?</p>\n"},{"tags":["java","timer","timeout","threadpool","java-threads"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1629346267,"post_id":68835781,"comment_id":121663810,"body_markdown":"You want a million tasks to suddenly execute all at once after waiting 10 hours? Is that your goal?","body":"You want a million tasks to suddenly execute all at once after waiting 10 hours? Is that your goal?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675378495,"creation_date":1629306319,"answer_id":68836597,"question_id":68835781,"body_markdown":"In theory you can schedule an unlimited amount of `TimerTask`s - the `Timer` stores the tasks in a `TimerTask` array that is doubled in size if it fills up (https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/master/jdk/src/share/classes/java/util/Timer.java#L596).\r\n\r\nBut note that a `Timer` uses only one background thread to execute all scheduled tasks (https://docs.oracle.com/javase/8/docs/api/java/util/Timer.html):\r\n\r\n&gt; Corresponding to each Timer object is a single background thread that is used to execute all of the timer&#39;s tasks, sequentially.\r\n\r\nSo if you schedule thousands of tasks to run at the same time they are executed sequentially.\r\n\r\n----\r\nNote that the thread is sleeping (not busy waiting until the next schedule time arrives). That means that a `Timer` with 1_000_000 `TimerTask`s scheduled in 10 hours won&#39;t need any CPU resources until the 10 hours have elapsed (it will use 1 Thread but that thread is blocked for those 10 hours, and it will necessarily require some memory to store references to those 1_000_000 `TimerTask` instances).\r\n\r\nThis fact is also mentioned in the documentation:\r\n\r\n&gt; This class does not offer real-time guarantees: it schedules tasks using the `Object.wait(long)` method.\r\n\r\nAdditional note: adding a `TimerTask` to a `Timer` necessarily wakes up the timer thread because the task that was just added could be the next to execute and therefore the timeout value for the `Object.wait(long)` method needs to be recomputed.\r\n\r\nScheduling 1_000_000 TimerTasks will therefore necessarily wake up that thread up to 1_000_000 times (it can be less because it is possible that the task creating and adding `TimerTask` instance adds more than one `TimerTask` to the queue before the timer thread wakes up and inspects the queue).","title":"What is pool size of timer.schedule() queue in java.util.Timer","body":"<p>In theory you can schedule an unlimited amount of <code>TimerTask</code>s - the <code>Timer</code> stores the tasks in a <code>TimerTask</code> array that is doubled in size if it fills up (<a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/master/jdk/src/share/classes/java/util/Timer.java#L596\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/master/jdk/src/share/classes/java/util/Timer.java#L596</a>).</p>\n<p>But note that a <code>Timer</code> uses only one background thread to execute all scheduled tasks (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Timer.html</a>):</p>\n<blockquote>\n<p>Corresponding to each Timer object is a single background thread that is used to execute all of the timer's tasks, sequentially.</p>\n</blockquote>\n<p>So if you schedule thousands of tasks to run at the same time they are executed sequentially.</p>\n<hr />\n<p>Note that the thread is sleeping (not busy waiting until the next schedule time arrives). That means that a <code>Timer</code> with 1_000_000 <code>TimerTask</code>s scheduled in 10 hours won't need any CPU resources until the 10 hours have elapsed (it will use 1 Thread but that thread is blocked for those 10 hours, and it will necessarily require some memory to store references to those 1_000_000 <code>TimerTask</code> instances).</p>\n<p>This fact is also mentioned in the documentation:</p>\n<blockquote>\n<p>This class does not offer real-time guarantees: it schedules tasks using the <code>Object.wait(long)</code> method.</p>\n</blockquote>\n<p>Additional note: adding a <code>TimerTask</code> to a <code>Timer</code> necessarily wakes up the timer thread because the task that was just added could be the next to execute and therefore the timeout value for the <code>Object.wait(long)</code> method needs to be recomputed.</p>\n<p>Scheduling 1_000_000 TimerTasks will therefore necessarily wake up that thread up to 1_000_000 times (it can be less because it is possible that the task creating and adding <code>TimerTask</code> instance adds more than one <code>TimerTask</code> to the queue before the timer thread wakes up and inspects the queue).</p>\n"}],"owner":{"account_id":19047941,"reputation":39,"user_id":13906745,"display_name":"Aniket Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68836597,"answer_count":1,"score":0,"last_activity_date":1675378495,"creation_date":1629302674,"question_id":68835781,"body_markdown":"How many tasks can be scheduled to call later on &amp; is there any limit on that? I can&#39;t see any max limit specified anywhere. \r\nExample: Can I schedule 1000000 tasks to execute after 10 hour. I will be scheduling them  just to give delay before execution of the tasks by adding them in queue.","title":"What is pool size of timer.schedule() queue in java.util.Timer","body":"<p>How many tasks can be scheduled to call later on &amp; is there any limit on that? I can't see any max limit specified anywhere.\nExample: Can I schedule 1000000 tasks to execute after 10 hour. I will be scheduling them  just to give delay before execution of the tasks by adding them in queue.</p>\n"},{"tags":["java","spring-boot","kubernetes","devops","minikube"],"comments":[{"owner":{"account_id":16481646,"reputation":143,"user_id":11908262,"display_name":"user11908262"},"score":0,"creation_date":1674407097,"post_id":75173708,"comment_id":132703261,"body_markdown":"Hey, I&#39;m also stuck with on the docker section. In the order services, what should I pass in place of DB_SERVER env variable while running the docker? I&#39;ve created one group for this course by daily code buffer. You can join via the following link:\nDiscord: https://discord.gg/FVUgRxCw\nTelegram: https://t.me/+PP7q6Fq4AeQ0ZTg1","body":"Hey, I&#39;m also stuck with on the docker section. In the order services, what should I pass in place of DB_SERVER env variable while running the docker? I&#39;ve created one group for this course by daily code buffer. You can join via the following link: Discord: <a href=\"https://discord.gg/FVUgRxCw\" rel=\"nofollow noreferrer\">discord.gg/FVUgRxCw</a> Telegram: <a href=\"https://t.me/+PP7q6Fq4AeQ0ZTg1\" rel=\"nofollow noreferrer\">t.me/+PP7q6Fq4AeQ0ZTg1</a>"}],"answers":[{"tags":[],"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674467649,"creation_date":1674467649,"answer_id":75207850,"question_id":75173708,"body_markdown":"When working in a microservices architecture, you can&#39;t rely on dependencies between services. What if a single service shuts down due to hardware problems? All the platform will be unavailable?\r\n\r\nIn fact, each microservice must be prepared to unavailable services. You can do it with Circuit Breaker. As far as I know, Kubernetes doesn&#39;t support this kind of dependency.\r\n\r\nNevertheless, I&#39;ve found some hacks that can be used here: https://www.alibabacloud.com/blog/kubernetes-demystified-solving-service-dependencies_594110\r\n\r\nIn your case, with the Service Config Server which is unavailable when starting the other services, you can add some retry mechanism to the services. This way, they will try to reach the Service Config Server after 5 or 5 attempts. Take a look here, https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.1.4.RELEASE/multi/multi__spring_cloud_config_client.html#config-client-retry","title":"Kubernetes Issue in Spring Boot Microservices java.net.SocketTimeoutException: connect timed out","body":"<p>When working in a microservices architecture, you can't rely on dependencies between services. What if a single service shuts down due to hardware problems? All the platform will be unavailable?</p>\n<p>In fact, each microservice must be prepared to unavailable services. You can do it with Circuit Breaker. As far as I know, Kubernetes doesn't support this kind of dependency.</p>\n<p>Nevertheless, I've found some hacks that can be used here: <a href=\"https://www.alibabacloud.com/blog/kubernetes-demystified-solving-service-dependencies_594110\" rel=\"nofollow noreferrer\">https://www.alibabacloud.com/blog/kubernetes-demystified-solving-service-dependencies_594110</a></p>\n<p>In your case, with the Service Config Server which is unavailable when starting the other services, you can add some retry mechanism to the services. This way, they will try to reach the Service Config Server after 5 or 5 attempts. Take a look here, <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.1.4.RELEASE/multi/multi__spring_cloud_config_client.html#config-client-retry\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.1.4.RELEASE/multi/multi__spring_cloud_config_client.html#config-client-retry</a></p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675378033,"creation_date":1674138074,"question_id":75173708,"body_markdown":"I have a problem about running Spring Boot Microservices on Kubernetes. After I installed minikube, I started it and open its dashboard.\r\n\r\nHere is the commands to open dashboards.\r\n\r\n    1 ) minikube start\r\n    2 ) minikube dashboard \r\n\r\nNext, I run all services through this command.\r\n\r\n    kubectl apply -f k8s\r\n\r\nAfter waiting for a certain amount of time, I got this issue shown below.\r\n\r\n    15:22:37.395 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    org.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:197)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:102)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:61)\r\n     at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\r\n     at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\r\n     at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\r\n     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n     at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\r\n     at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\r\n     at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n     at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n     at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n     at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\r\n     at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n     at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15)\r\n     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n     at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://config-server-svc:9296/ORDER-SERVICE/default&quot;: connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out\r\n     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n     at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n     at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:303)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:118)\r\n     ... 35 common frames omitted\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n     at java.base/java.net.Socket.connect(Socket.java:609)\r\n     at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\r\n     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:508)\r\n     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\r\n     at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:276)\r\n     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:375)\r\n     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:396)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\r\n     at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n     at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n     at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n     ... 39 common frames omitted\r\n\r\n\r\nHere is my deployment.yaml file shown below.\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: auth-service-app\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: auth-service-app\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: auth-service-app\r\n        spec:\r\n          containers:\r\n            - name: auth-service-app\r\n              image: noyandocker/authservice\r\n              imagePullPolicy: IfNotPresent\r\n              ports:\r\n                - containerPort: 7777\r\n              env:\r\n                - name: CONFIG_SERVER_URL\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: config-cm\r\n                      key: config_url\r\n                - name: EUREKA_SERVER_ADDRESS\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: eureka-cm\r\n                      key: eureka_service_address\r\n                - name: DB_HOST\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: mysql-cm\r\n                      key: hostname\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: auth-service-svc\r\n    spec:\r\n      selector:\r\n        app: auth-service-app\r\n      ports:\r\n        - port: 80\r\n          targetPort: 7777\r\n\r\n\r\nHere is the config map yaml file \r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: config-cm\r\n    data:\r\n      config_url: &quot;config-server-svc&quot;\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: eureka-cm\r\n    data:\r\n      eureka_service_address: &quot;http://eureka-0.eureka:8761/eureka&quot;\r\n    \r\n    ---\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: mysql-cm\r\n    data:\r\n      hostname: &quot;mysql-0.mysql&quot;\r\n\r\n\r\nHere is the config-server-deployment.yaml file \r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: config-server-app\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: config-server-app\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: config-server-app\r\n        spec:\r\n          containers:\r\n            - name: config-server-app\r\n              image: noyandocker/configserver\r\n              imagePullPolicy: IfNotPresent\r\n              ports:\r\n                - containerPort: 9296\r\n              readinessProbe:\r\n                httpGet:\r\n                  path: /actuator/health\r\n                  port: 9296\r\n                initialDelaySeconds: 20\r\n                timeoutSeconds: 10\r\n                periodSeconds: 3\r\n                failureThreshold: 2\r\n              livenessProbe:\r\n                httpGet:\r\n                  path: /actuator/health\r\n                  port: 9296\r\n                initialDelaySeconds: 30\r\n                timeoutSeconds: 2\r\n                periodSeconds: 8\r\n                failureThreshold: 1\r\n              env:\r\n                - name: EUREKA_SERVER_ADDRESS\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: eureka-cm\r\n                      key: eureka_service_address\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: config-server-svc\r\n    spec:\r\n      selector:\r\n        app: config-server-app\r\n      ports:\r\n        - port: 80\r\n          targetPort: 9296\r\n\r\n\r\n\r\nI thought all the services will start simultaneously. Config Server is the Dependent Service for all other Serivces like auth service and this Auth service should not start until Config Server service is up and running. \r\n\r\n**Edited**\r\n\r\nSomeone said the message to me.\r\n\r\nIN Kubernetes all the services will start simultaneously. Config Server is the Dependent Service for all other Services. i.e Order, Payment, and Product.\r\n\r\nSp Ideally your Order service should not start until the COnfig Server service is up and running. We saw a similar thing implemented in Docker using Depends_on properties.\r\n\r\nIN Kubernetes, We can implement it using Probes. You need to implement Lineness and Readiness probe for your application for Config Server.\r\n\r\nYou add a Config for Order Service that checks that Config Server is Up or not and then it will start.\r\n\r\nI still couldn&#39;t fix the issue.\r\n\r\n\r\nHow can I do that?\r\n\r\nHere is my repo : [Link][1]\r\n\r\nHere is my docker hub : [Link][2]\r\n\r\nHere is git backend system : [Link][3]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [2]: https://hub.docker.com/search?q=noyandocker\r\n  [3]: https://github.com/Rapter1990/springappconfig","title":"Kubernetes Issue in Spring Boot Microservices java.net.SocketTimeoutException: connect timed out","body":"<p>I have a problem about running Spring Boot Microservices on Kubernetes. After I installed minikube, I started it and open its dashboard.</p>\n<p>Here is the commands to open dashboards.</p>\n<pre><code>1 ) minikube start\n2 ) minikube dashboard \n</code></pre>\n<p>Next, I run all services through this command.</p>\n<pre><code>kubectl apply -f k8s\n</code></pre>\n<p>After waiting for a certain amount of time, I got this issue shown below.</p>\n<pre><code>15:22:37.395 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:197)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:102)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:61)\n at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\n at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\n at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\n at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\n at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\n at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\n at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\n at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\n at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\n at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\n at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\n at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\n at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://config-server-svc:9296/ORDER-SERVICE/default&quot;: connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out\n at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:303)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:118)\n ... 35 common frames omitted\nCaused by: java.net.SocketTimeoutException: connect timed out\n at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n at java.base/java.net.Socket.connect(Socket.java:609)\n at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\n at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:508)\n at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\n at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:276)\n at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:375)\n at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:396)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\n at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n ... 39 common frames omitted\n</code></pre>\n<p>Here is my deployment.yaml file shown below.</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: auth-service-app\nspec:\n  selector:\n    matchLabels:\n      app: auth-service-app\n  template:\n    metadata:\n      labels:\n        app: auth-service-app\n    spec:\n      containers:\n        - name: auth-service-app\n          image: noyandocker/authservice\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 7777\n          env:\n            - name: CONFIG_SERVER_URL\n              valueFrom:\n                configMapKeyRef:\n                  name: config-cm\n                  key: config_url\n            - name: EUREKA_SERVER_ADDRESS\n              valueFrom:\n                configMapKeyRef:\n                  name: eureka-cm\n                  key: eureka_service_address\n            - name: DB_HOST\n              valueFrom:\n                configMapKeyRef:\n                  name: mysql-cm\n                  key: hostname\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: auth-service-svc\nspec:\n  selector:\n    app: auth-service-app\n  ports:\n    - port: 80\n      targetPort: 7777\n</code></pre>\n<p>Here is the config map yaml file</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: config-cm\ndata:\n  config_url: &quot;config-server-svc&quot;\n\n---\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: eureka-cm\ndata:\n  eureka_service_address: &quot;http://eureka-0.eureka:8761/eureka&quot;\n\n---\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: mysql-cm\ndata:\n  hostname: &quot;mysql-0.mysql&quot;\n</code></pre>\n<p>Here is the config-server-deployment.yaml file</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: config-server-app\nspec:\n  selector:\n    matchLabels:\n      app: config-server-app\n  template:\n    metadata:\n      labels:\n        app: config-server-app\n    spec:\n      containers:\n        - name: config-server-app\n          image: noyandocker/configserver\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9296\n          readinessProbe:\n            httpGet:\n              path: /actuator/health\n              port: 9296\n            initialDelaySeconds: 20\n            timeoutSeconds: 10\n            periodSeconds: 3\n            failureThreshold: 2\n          livenessProbe:\n            httpGet:\n              path: /actuator/health\n              port: 9296\n            initialDelaySeconds: 30\n            timeoutSeconds: 2\n            periodSeconds: 8\n            failureThreshold: 1\n          env:\n            - name: EUREKA_SERVER_ADDRESS\n              valueFrom:\n                configMapKeyRef:\n                  name: eureka-cm\n                  key: eureka_service_address\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: config-server-svc\nspec:\n  selector:\n    app: config-server-app\n  ports:\n    - port: 80\n      targetPort: 9296\n</code></pre>\n<p>I thought all the services will start simultaneously. Config Server is the Dependent Service for all other Serivces like auth service and this Auth service should not start until Config Server service is up and running.</p>\n<p><strong>Edited</strong></p>\n<p>Someone said the message to me.</p>\n<p>IN Kubernetes all the services will start simultaneously. Config Server is the Dependent Service for all other Services. i.e Order, Payment, and Product.</p>\n<p>Sp Ideally your Order service should not start until the COnfig Server service is up and running. We saw a similar thing implemented in Docker using Depends_on properties.</p>\n<p>IN Kubernetes, We can implement it using Probes. You need to implement Lineness and Readiness probe for your application for Config Server.</p>\n<p>You add a Config for Order Service that checks that Config Server is Up or not and then it will start.</p>\n<p>I still couldn't fix the issue.</p>\n<p>How can I do that?</p>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is my docker hub : <a href=\"https://hub.docker.com/search?q=noyandocker\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is git backend system : <a href=\"https://github.com/Rapter1990/springappconfig\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring-boot","kubernetes","devops","minikube"],"answers":[{"tags":[],"owner":{"account_id":24877985,"reputation":11,"user_id":18751556,"display_name":"Jeffery K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673970632,"creation_date":1673970632,"answer_id":75148943,"question_id":75148729,"body_markdown":"If you have a dependency you need other services to wait on, I&#39;d suggest implementing an init container, which will allow you to program the k8s deployment to wait for some dependency to exist or finish starting up. We&#39;ve done something similar for a database, since many of our spring boot services in k8s need a database to be up. \r\nhttps://kubernetes.io/docs/concepts/workloads/pods/init-containers/\r\n\r\nAlso, make sure you familiarize yourself with the way the k8s network routing works, and DNS for other pods, which uses their name. \r\nhttps://kubernetes.io/docs/concepts/services-networking/dns-pod-service/\r\n","title":"Spring Boot Microservices cannot run on Kubernetes (java.net.SocketTimeoutException: connect timed out)","body":"<p>If you have a dependency you need other services to wait on, I'd suggest implementing an init container, which will allow you to program the k8s deployment to wait for some dependency to exist or finish starting up. We've done something similar for a database, since many of our spring boot services in k8s need a database to be up.\n<a href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/workloads/pods/init-containers/</a></p>\n<p>Also, make sure you familiarize yourself with the way the k8s network routing works, and DNS for other pods, which uses their name.\n<a href=\"https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/</a></p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675377948,"creation_date":1673969537,"question_id":75148729,"body_markdown":"I have a problem about running Spring Boot Microservices on Kubernetes. After I installed minikube, I started it and open its dashboard.\r\n\r\nHere is the commands to open dashboards.\r\n\r\n    1 ) minikube start\r\n    2 ) minikube dashboard \r\n\r\nNext, I run all services through this command.\r\n\r\n    kubectl apply -f k8s\r\n\r\nAfter waiting for a certain amount of time, I got this issue shown below.\r\n\r\n    15:22:37.395 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    org.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:197)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:102)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:61)\r\n     at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\r\n     at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\r\n     at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\r\n     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n     at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\r\n     at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\r\n     at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n     at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n     at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n     at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\r\n     at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n     at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15)\r\n     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n     at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://config-server-svc:9296/ORDER-SERVICE/default&quot;: connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out\r\n     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n     at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n     at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:303)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:118)\r\n     ... 35 common frames omitted\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n     at java.base/java.net.Socket.connect(Socket.java:609)\r\n     at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\r\n     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:508)\r\n     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\r\n     at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:276)\r\n     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:375)\r\n     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:396)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\r\n     at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n     at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n     at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n     ... 39 common frames omitted\r\n\r\n\r\nHere is my deployment.yaml file shown below.\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: auth-service-app\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: auth-service-app\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: auth-service-app\r\n        spec:\r\n          containers:\r\n            - name: auth-service-app\r\n              image: noyandocker/authservice\r\n              imagePullPolicy: IfNotPresent\r\n              ports:\r\n                - containerPort: 7777\r\n              env:\r\n                - name: CONFIG_SERVER_URL\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: config-cm\r\n                      key: config_url\r\n                - name: EUREKA_SERVER_ADDRESS\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: eureka-cm\r\n                      key: eureka_service_address\r\n                - name: DB_HOST\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: mysql-cm\r\n                      key: hostname\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: auth-service-svc\r\n    spec:\r\n      selector:\r\n        app: auth-service-app\r\n      ports:\r\n        - port: 80\r\n          targetPort: 7777\r\n\r\n\r\n\r\nHere is the configmap yaml file shown below\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: config-cm\r\n    data:\r\n      config_url: &quot;config-server-svc&quot;\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: eureka-cm\r\n    data:\r\n      eureka_service_address: &quot;http://eureka-0.eureka:8761/eureka&quot;\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: mysql-cm\r\n    data:\r\n      hostname: &quot;mysql-0.mysql&quot;\r\n\r\n\r\nHere is the config server yaml file shown below\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: config-server-app\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: config-server-app\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: config-server-app\r\n        spec:\r\n          containers:\r\n            - name: config-server-app\r\n              image: noyandocker/configserver\r\n              imagePullPolicy: IfNotPresent\r\n              ports:\r\n                - containerPort: 9296\r\n              readinessProbe:\r\n                httpGet:\r\n                  path: /actuator/health\r\n                  port: 9296\r\n                initialDelaySeconds: 20\r\n                timeoutSeconds: 10\r\n                periodSeconds: 3\r\n                failureThreshold: 10\r\n              livenessProbe:\r\n                httpGet:\r\n                  path: /actuator/health\r\n                  port: 9296\r\n                initialDelaySeconds: 30\r\n                timeoutSeconds: 2\r\n                periodSeconds: 8\r\n                failureThreshold: 10\r\n              env:\r\n                - name: EUREKA_SERVER_ADDRESS\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: eureka-cm\r\n                      key: eureka_service_address\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: config-server-svc\r\n    spec:\r\n      selector:\r\n        app: config-server-app\r\n      ports:\r\n        - port: 80\r\n          targetPort: 9296\r\n\r\nI thought all the services will start simultaneously. Config Server is the Dependent Service for all other Serivces like auth service and this Auth service should not start until Config Server service is up and running. \r\n\r\n**Editted**\r\n\r\nI added this code snippets shown below in cloud_gateway_deployment.yaml file but it didn&#39;t work.\r\n\r\n      initContainers:\r\n        - name: init-configserver\r\n          image: noyandocker/configserver\r\n          command: [ &#39;sh&#39;, &#39;-c&#39;, &quot;until nslookup config-server-svc.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for config server; sleep 2; done&quot; ]\r\n       \r\n\r\nHow can I do that?\r\n\r\nHere is my repo : [Link][1]\r\n\r\nHere is my docker hub : [Link][2]\r\n\r\nHere is git backend system : [Link][3]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [2]: https://hub.docker.com/search?q=noyandocker\r\n  [3]: https://github.com/Rapter1990/springappconfig\r\n","title":"Spring Boot Microservices cannot run on Kubernetes (java.net.SocketTimeoutException: connect timed out)","body":"<p>I have a problem about running Spring Boot Microservices on Kubernetes. After I installed minikube, I started it and open its dashboard.</p>\n<p>Here is the commands to open dashboards.</p>\n<pre><code>1 ) minikube start\n2 ) minikube dashboard \n</code></pre>\n<p>Next, I run all services through this command.</p>\n<pre><code>kubectl apply -f k8s\n</code></pre>\n<p>After waiting for a certain amount of time, I got this issue shown below.</p>\n<pre><code>15:22:37.395 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:197)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:102)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:61)\n at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\n at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\n at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\n at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\n at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\n at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\n at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\n at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\n at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\n at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\n at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\n at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\n at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://config-server-svc:9296/ORDER-SERVICE/default&quot;: connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out\n at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:303)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:118)\n ... 35 common frames omitted\nCaused by: java.net.SocketTimeoutException: connect timed out\n at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n at java.base/java.net.Socket.connect(Socket.java:609)\n at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\n at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:508)\n at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\n at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:276)\n at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:375)\n at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:396)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\n at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n ... 39 common frames omitted\n</code></pre>\n<p>Here is my deployment.yaml file shown below.</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: auth-service-app\nspec:\n  selector:\n    matchLabels:\n      app: auth-service-app\n  template:\n    metadata:\n      labels:\n        app: auth-service-app\n    spec:\n      containers:\n        - name: auth-service-app\n          image: noyandocker/authservice\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 7777\n          env:\n            - name: CONFIG_SERVER_URL\n              valueFrom:\n                configMapKeyRef:\n                  name: config-cm\n                  key: config_url\n            - name: EUREKA_SERVER_ADDRESS\n              valueFrom:\n                configMapKeyRef:\n                  name: eureka-cm\n                  key: eureka_service_address\n            - name: DB_HOST\n              valueFrom:\n                configMapKeyRef:\n                  name: mysql-cm\n                  key: hostname\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: auth-service-svc\nspec:\n  selector:\n    app: auth-service-app\n  ports:\n    - port: 80\n      targetPort: 7777\n</code></pre>\n<p>Here is the configmap yaml file shown below</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: config-cm\ndata:\n  config_url: &quot;config-server-svc&quot;\n\n---\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: eureka-cm\ndata:\n  eureka_service_address: &quot;http://eureka-0.eureka:8761/eureka&quot;\n\n---\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: mysql-cm\ndata:\n  hostname: &quot;mysql-0.mysql&quot;\n</code></pre>\n<p>Here is the config server yaml file shown below</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: config-server-app\nspec:\n  selector:\n    matchLabels:\n      app: config-server-app\n  template:\n    metadata:\n      labels:\n        app: config-server-app\n    spec:\n      containers:\n        - name: config-server-app\n          image: noyandocker/configserver\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9296\n          readinessProbe:\n            httpGet:\n              path: /actuator/health\n              port: 9296\n            initialDelaySeconds: 20\n            timeoutSeconds: 10\n            periodSeconds: 3\n            failureThreshold: 10\n          livenessProbe:\n            httpGet:\n              path: /actuator/health\n              port: 9296\n            initialDelaySeconds: 30\n            timeoutSeconds: 2\n            periodSeconds: 8\n            failureThreshold: 10\n          env:\n            - name: EUREKA_SERVER_ADDRESS\n              valueFrom:\n                configMapKeyRef:\n                  name: eureka-cm\n                  key: eureka_service_address\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: config-server-svc\nspec:\n  selector:\n    app: config-server-app\n  ports:\n    - port: 80\n      targetPort: 9296\n</code></pre>\n<p>I thought all the services will start simultaneously. Config Server is the Dependent Service for all other Serivces like auth service and this Auth service should not start until Config Server service is up and running.</p>\n<p><strong>Editted</strong></p>\n<p>I added this code snippets shown below in cloud_gateway_deployment.yaml file but it didn't work.</p>\n<pre><code>  initContainers:\n    - name: init-configserver\n      image: noyandocker/configserver\n      command: [ 'sh', '-c', &quot;until nslookup config-server-svc.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for config server; sleep 2; done&quot; ]\n   \n</code></pre>\n<p>How can I do that?</p>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is my docker hub : <a href=\"https://hub.docker.com/search?q=noyandocker\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is git backend system : <a href=\"https://github.com/Rapter1990/springappconfig\" rel=\"nofollow noreferrer\">Link</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9314,"page":678,"page_size":100}
