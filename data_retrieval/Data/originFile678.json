{"items":[{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674993967,"post_id":75273030,"comment_id":132828720,"body_markdown":"I&#39;m a bit puzzled. This is documented in the release notes: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes","body":"I&#39;m a bit puzzled. This is documented in the release notes: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":16423002,"reputation":40,"user_id":11863754,"display_name":"mvalpha"},"score":0,"creation_date":1674975134,"post_id":75273059,"comment_id":132826108,"body_markdown":"It does not work, it says &quot;can not resolve symbol &#39;validation&#39;&quot;, [take a look](https://ibb.co/g4fLRPg)","body":"It does not work, it says &quot;can not resolve symbol &#39;validation&#39;&quot;, <a href=\"https://ibb.co/g4fLRPg\" rel=\"nofollow noreferrer\">take a look</a>"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":2,"creation_date":1674989987,"post_id":75273059,"comment_id":132828074,"body_markdown":"Try `jakarta.validation.constraints.NotBlank`. Spring Boot 3 uses the new Jakarta Bean Validation.","body":"Try <code>jakarta.validation.constraints.NotBlank</code>. Spring Boot 3 uses the new Jakarta Bean Validation."}],"tags":[],"owner":{"account_id":16243302,"reputation":98,"user_id":11729079,"display_name":"bakarJc"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674974634,"creation_date":1674974634,"answer_id":75273059,"question_id":75273030,"body_markdown":"The following import should work:\r\n\r\n```\r\nimport javax.validation.constraints.NotBlank;\r\n```\r\n","title":"How to import @NotBlank after adding org.springframework.boot dependency in pom.xml","body":"<p>The following import should work:</p>\n<pre><code>import javax.validation.constraints.NotBlank;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674991129,"creation_date":1674991129,"answer_id":75274457,"question_id":75273030,"body_markdown":"From Spring Boot 3.0.0 it uses Java 17. In Java 17 the location of of validators has moved from javax.validation to jakarta.validation - see [Bug: Spring Boot 3.0.0-M1 cannot find javax.validation#2953][1] - not really a bug.\r\n\r\nYour options are to stay with spring-boot-starter-parent v3.0.2 (jdk17) and use the following import:\r\n\r\n    import jakarta.validation.constraints.NotBlank;\r\n\r\nOr to drop spring-boot-starter-parent to a version before 3.0.0, eg 2.7.8 and use the following import. I recomment this unless you really need Java17.\r\n\r\n    import javax.validation.constraints.NotBlank;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/29533\r\n\r\n","title":"How to import @NotBlank after adding org.springframework.boot dependency in pom.xml","body":"<p>From Spring Boot 3.0.0 it uses Java 17. In Java 17 the location of of validators has moved from javax.validation to jakarta.validation - see <a href=\"https://github.com/spring-projects/spring-boot/issues/29533\" rel=\"nofollow noreferrer\">Bug: Spring Boot 3.0.0-M1 cannot find javax.validation#2953</a> - not really a bug.</p>\n<p>Your options are to stay with spring-boot-starter-parent v3.0.2 (jdk17) and use the following import:</p>\n<pre><code>import jakarta.validation.constraints.NotBlank;\n</code></pre>\n<p>Or to drop spring-boot-starter-parent to a version before 3.0.0, eg 2.7.8 and use the following import. I recomment this unless you really need Java17.</p>\n<pre><code>import javax.validation.constraints.NotBlank;\n</code></pre>\n"}],"owner":{"account_id":16423002,"reputation":40,"user_id":11863754,"display_name":"mvalpha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75274457,"answer_count":2,"score":2,"last_activity_date":1675436584,"creation_date":1674974132,"question_id":75273030,"body_markdown":"I am new to spring-boot and I am following freecodecamp&#39;s tutorial and there the tutor imported @NotBlank, I am trying to import it from org.springframework.boot but it is not working. \r\nCan anyone tell me how to import @NotBlank.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;learning-spring&lt;/name&gt;\r\n\t&lt;description&gt;Trying to learn&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nThis is pom.xml and I have added org.springframework.boot in the dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI don&#39;t know how to import it into my code?\r\n\r\nThis is my code, help me out.\r\n\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.UUID;\r\npublic class Person\r\n{\r\n    private final UUID id;\r\n\r\n    @NotBlank\r\n    private final String name;\r\n\r\n    public Person(@JsonProperty(&quot;id&quot;)UUID id,\r\n                  @JsonProperty(&quot;name&quot;) String name)\r\n    {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n    public UUID getId()\r\n    {\r\n        return id;\r\n    }\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n}\r\n\r\n```\r\nThanks in advance.\r\n\r\n\r\n","title":"How to import @NotBlank after adding org.springframework.boot dependency in pom.xml","body":"<p>I am new to spring-boot and I am following freecodecamp's tutorial and there the tutor imported @NotBlank, I am trying to import it from org.springframework.boot but it is not working.\nCan anyone tell me how to import @NotBlank.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;learning-spring&lt;/name&gt;\n    &lt;description&gt;Trying to learn&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;20.1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>This is pom.xml and I have added org.springframework.boot in the dependency</p>\n<pre><code>&lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I don't know how to import it into my code?</p>\n<p>This is my code, help me out.</p>\n<pre><code>package com.example.demo.model;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.UUID;\npublic class Person\n{\n    private final UUID id;\n\n    @NotBlank\n    private final String name;\n\n    public Person(@JsonProperty(&quot;id&quot;)UUID id,\n                  @JsonProperty(&quot;name&quot;) String name)\n    {\n        this.id = id;\n        this.name = name;\n    }\n    public UUID getId()\n    {\n        return id;\n    }\n    public String getName()\n    {\n        return name;\n    }\n}\n\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","java","angularjs","spring","spring-mvc"],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675436519,"creation_date":1446318976,"question_id":33455562,"body_markdown":"I am decomposing &lt;a href=&quot;https://github.com/singularity-sg/spring-petclinic&quot;&gt;the Angularjs branch of the Spring petclinic sample app&lt;/a&gt; to figure out how it works.  Towards that end, I deleted the entire contents of &lt;a href=&quot;https://github.com/singularity-sg/spring-petclinic/tree/master/src/main/webapp&quot;&gt;src/main/webapp/&lt;/a&gt; and replaced it with:  \r\n  \r\n    src/main/webapp/resources/css/bootstrap.cs\r\n    src/main/webapp/resources/css/my.css\r\n    src/main/webapp/js/lib/angular.js\r\n    src/main/webapp/includes/index_testincl.html\r\n    src/main/webapp/testController.js\r\n    src/main/webapp/index.html\r\n  \r\nThere is nothing else in &lt;a href=&quot;https://github.com/singularity-sg/spring-petclinic/tree/master/src/main/webapp&quot;&gt;`src/main/webapp/`&lt;/a&gt; besides the 6 files listed above.\r\n  \r\nThe Spring config files remain the same and are at &lt;a href=&quot;https://github.com/singularity-sg/spring-petclinic/tree/master/src/main/resources/spring&quot;&gt;this link&lt;/a&gt;.\r\n \r\nThe stripped and minimally-replaced version works perfectly in Eclipse on a local devbox when called from `localhost:8080/appname`, but when I bundle it into a war file and upload it to a remote server, it is not able to serve the JavaScript, CSS, or HTML include files that are a critical part of its functioning.  What do I need to change in the setup in order to get the Angularjs functionality to work properly in the remote web server when someone types mydomain.com into their browser?\r\n\r\nThere is no CSS or JavaScript in the content served by the remote web server, so there are no links.  There is only plain text.  When I have the network tab of the developer tools open in Firefox, the following output is displayed:  \r\n  \r\n&lt;img src=&quot;https://i.stack.imgur.com/6Klhy.gif&quot;&gt;\r\n&lt;!-- source: https://s9.postimg.org/xp4kdrxzz/networktab.gif --&gt;\r\n  \r\nThere is no console tab output for any of the above requests.\r\n  \r\nThe goal is to better understand how the connection between AngularJS and Spring MVC needs to be set up. The more sophisticated versions built up from these simple files need to do database transactions using Java and Spring MVC.  Thus, any answer needs to be compatible with Java and Spring MVC.    \r\n  \r\nThe Tomcat server that serves up mydomain.com at the remote web server also successfully serves up other war files that are spring-only using jsp, so the problem is related to adding AngularJS and HTML. \r\n  \r\nNote: The exact clone of the AngularJS Spring petclinic app also does not run when bundled into a war and deployed at mydomain.com, but this OP uses a greatly simplified AngularJS app in order to more effectively isolate the specific mechanism required to get Tomcat, spring-mvc, and AngularJS to work together on a web server.  \r\n  \r\n\r\n---\r\n\r\nSteps to recreate this problem\r\n---\r\n\r\nThe problem can be recreated with the following steps:  \r\n  \r\n1.) Navigate to `/home/username/git`  \r\n\r\n2.) git clone https://github.com/singularity-sg/spring-petclinic.git    \r\n  \r\n3.) Eclipse -&gt; File -&gt; Import -&gt; Maven -&gt; Existing Maven project  \r\n  \r\n4.) Eclipse -&gt; Project Explorer -&gt; Rt-Click-Project -&gt; Maven -&gt; Download Sources  \r\n  \r\n5.) Eclipse -&gt; Project Explorer -&gt; Rt-Click-Project -&gt; Maven -&gt; Update Project   \r\n  \r\n6.) Delete everything in `src/main/webapp` except keep: `src/main/webapp/js/lib/angular.js`  \r\n  \r\n7.) Download `bootstrap.css` version 3.3.5 from this url: http://getbootstrap.com/getting-started/  (It is in a zip file.) Once it is downloaded, copy it to the following location in the project:  `src/main/webapp/resources/css/bootstrap.cs`  (You will need to create the `src/main/webapp/resources/` and `src/main/webapp/resources/css` directories.)\r\n  \r\n8.) Create `src/main/webapp/resources/css/my.css` to include whatever minimal styles you want.  \r\n  \r\n9.) Create `src/main/webapp/index.html` and add the following:  \r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    \t&lt;title&gt;title of page&lt;/title&gt;\r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/bootstrap.css&quot;&gt;\r\n    \t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/my.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body ng-app=&quot;testApp&quot;&gt;\r\n        &lt;script src=&quot;js/lib/angular.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script type=&quot;text/javascript&quot; src=&quot;testController.js&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;div ng-controller=&quot;testController&quot;&gt;  \r\n    &lt;table width=100%&gt;\r\n    \t&lt;tr&gt;\r\n    \t\t&lt;td align=center&gt;\r\n    \t\t\t&lt;table&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;th class=&quot;toc&quot;&gt; \r\n    \t\t\t\t\t\t&lt;a class=&quot;btn btn-success&quot; role=&quot;button&quot; ng-click=&quot;homeFunc()&quot;&gt;Home&lt;/a&gt;\r\n    \t\t\t\t\t&lt;/th&gt;\r\n    \t\t\t\t\t&lt;th class=&quot;toc&quot;&gt;\r\n    \t\t\t\t\t\t&lt;a class=&quot;btn btn-success&quot; role=&quot;button&quot; ng-click=&quot;testFunc()&quot;&gt;Include file&lt;/a&gt;\r\n    \t\t\t\t\t&lt;/th&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t&lt;/table&gt;\r\n    \t\t&lt;/td&gt;\r\n    \t&lt;/tr&gt;\r\n    \t&lt;tr&gt;\r\n    \t\t&lt;td align=&quot;center&quot;&gt;\r\n    \t\t\t  &lt;div ng-if=&quot;functype == &#39;home&#39;&quot;&gt;\r\n    \t\t\t    Home page.\r\n    \t\t\t  &lt;/div&gt;\r\n    \t\t\t  &lt;div ng-if=&quot;functype == &#39;test&#39;&quot;&gt;\r\n    \t\t\t    &lt;div ng-include=&quot;&#39;includes/index_testincl.html&#39;&quot;&gt;&lt;/div&gt;\r\n    \t\t\t  &lt;/div&gt;\r\n    \t\t&lt;/td&gt;\r\n    \t&lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;   \r\n  \r\n10.) Create `src/main/webapp/includes/index_testincl.html` and include the following code:  \r\n  \r\n\t    &lt;table&gt;\r\n    \t\t&lt;tr&gt;\r\n\t    \t\t&lt;td&gt;\r\n\t\t    \t\t&lt;p class=&quot;body&quot;&gt;If the link shows this, then JavaScript works!&lt;/p&gt;\r\n\t\t\t    &lt;/td&gt;\r\n\t\t    &lt;/tr&gt;\r\n\t    &lt;/table&gt;\r\n    \r\n11.) Create `src/main/webapp/testController.js`  and include the following:  \r\n  \r\n    // create Angular app\r\n    var testApp = angular.module(&#39;testApp&#39;, []);\r\n  \r\n    // create Angular controller\r\n    testApp.controller(&#39;testController&#39;, [&#39;$scope&#39;, &#39;$http&#39;, function($scope, $http) {\r\n    \t$scope.functype = &#39;home&#39;;\r\n\r\n        //below functions handle navigation links\r\n        $scope.homeFunc = function() {\r\n        \t$scope.functype = &#39;home&#39;;\r\n        }\r\n        $scope.testFunc = function() {\r\n        \t$scope.functype = &#39;test&#39;;\r\n        }\r\n    \r\n    }]);\r\n  \r\n12.) Eclipse -&gt; Project Explorer -&gt; Rt-Click-Project -&gt; Run As..Maven Build  \r\n  \r\n13.) Eclipse -&gt; Project Explorer -&gt; Rt-Click-Project -&gt; Refresh  \r\n  \r\n14.) Copy the way to some remote Tomcat server and try to load it from a web browser by typing anydomain.com.  \r\n  \r\nThat is it. The problem should be recreated.  \r\n\r\nWhat needs to be changed in order for the above minimal AngularJS app to run properly on the remote Tomcat web server when requests are made to anydomain.com?\r\n","title":"How do I add Angularjs to Spring petclinic for use on a web server?","body":"<p>I am decomposing <a href=\"https://github.com/singularity-sg/spring-petclinic\" rel=\"nofollow noreferrer\">the Angularjs branch of the Spring petclinic sample app</a> to figure out how it works.  Towards that end, I deleted the entire contents of <a href=\"https://github.com/singularity-sg/spring-petclinic/tree/master/src/main/webapp\" rel=\"nofollow noreferrer\">src/main/webapp/</a> and replaced it with:</p>\n<pre><code>src/main/webapp/resources/css/bootstrap.cs\nsrc/main/webapp/resources/css/my.css\nsrc/main/webapp/js/lib/angular.js\nsrc/main/webapp/includes/index_testincl.html\nsrc/main/webapp/testController.js\nsrc/main/webapp/index.html\n</code></pre>\n<p>There is nothing else in <a href=\"https://github.com/singularity-sg/spring-petclinic/tree/master/src/main/webapp\" rel=\"nofollow noreferrer\"><code>src/main/webapp/</code></a> besides the 6 files listed above.</p>\n<p>The Spring config files remain the same and are at <a href=\"https://github.com/singularity-sg/spring-petclinic/tree/master/src/main/resources/spring\" rel=\"nofollow noreferrer\">this link</a>.</p>\n<p>The stripped and minimally-replaced version works perfectly in Eclipse on a local devbox when called from <code>localhost:8080/appname</code>, but when I bundle it into a war file and upload it to a remote server, it is not able to serve the JavaScript, CSS, or HTML include files that are a critical part of its functioning.  What do I need to change in the setup in order to get the Angularjs functionality to work properly in the remote web server when someone types mydomain.com into their browser?</p>\n<p>There is no CSS or JavaScript in the content served by the remote web server, so there are no links.  There is only plain text.  When I have the network tab of the developer tools open in Firefox, the following output is displayed:</p>\n<img src=\"https://i.stack.imgur.com/6Klhy.gif\">\n\n  \nThere is no console tab output for any of the above requests.\n  \nThe goal is to better understand how the connection between AngularJS and Spring MVC needs to be set up. The more sophisticated versions built up from these simple files need to do database transactions using Java and Spring MVC.  Thus, any answer needs to be compatible with Java and Spring MVC.    \n  \nThe Tomcat server that serves up mydomain.com at the remote web server also successfully serves up other war files that are spring-only using jsp, so the problem is related to adding AngularJS and HTML. \n  \nNote: The exact clone of the AngularJS Spring petclinic app also does not run when bundled into a war and deployed at mydomain.com, but this OP uses a greatly simplified AngularJS app in order to more effectively isolate the specific mechanism required to get Tomcat, spring-mvc, and AngularJS to work together on a web server.  \n  \n<hr />\n<h2>Steps to recreate this problem</h2>\n<p>The problem can be recreated with the following steps:</p>\n<p>1.) Navigate to <code>/home/username/git</code></p>\n<p>2.) git clone <a href=\"https://github.com/singularity-sg/spring-petclinic.git\" rel=\"nofollow noreferrer\">https://github.com/singularity-sg/spring-petclinic.git</a></p>\n<p>3.) Eclipse -&gt; File -&gt; Import -&gt; Maven -&gt; Existing Maven project</p>\n<p>4.) Eclipse -&gt; Project Explorer -&gt; Rt-Click-Project -&gt; Maven -&gt; Download Sources</p>\n<p>5.) Eclipse -&gt; Project Explorer -&gt; Rt-Click-Project -&gt; Maven -&gt; Update Project</p>\n<p>6.) Delete everything in <code>src/main/webapp</code> except keep: <code>src/main/webapp/js/lib/angular.js</code></p>\n<p>7.) Download <code>bootstrap.css</code> version 3.3.5 from this url: <a href=\"http://getbootstrap.com/getting-started/\" rel=\"nofollow noreferrer\">http://getbootstrap.com/getting-started/</a>  (It is in a zip file.) Once it is downloaded, copy it to the following location in the project:  <code>src/main/webapp/resources/css/bootstrap.cs</code>  (You will need to create the <code>src/main/webapp/resources/</code> and <code>src/main/webapp/resources/css</code> directories.)</p>\n<p>8.) Create <code>src/main/webapp/resources/css/my.css</code> to include whatever minimal styles you want.</p>\n<p>9.) Create <code>src/main/webapp/index.html</code> and add the following:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;title of page&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/bootstrap.css&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/my.css&quot;&gt;\n&lt;/head&gt;\n&lt;body ng-app=&quot;testApp&quot;&gt;\n    &lt;script src=&quot;js/lib/angular.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;testController.js&quot;&gt;&lt;/script&gt;\n\n&lt;div ng-controller=&quot;testController&quot;&gt;  \n&lt;table width=100%&gt;\n    &lt;tr&gt;\n        &lt;td align=center&gt;\n            &lt;table&gt;\n                &lt;tr&gt;\n                    &lt;th class=&quot;toc&quot;&gt; \n                        &lt;a class=&quot;btn btn-success&quot; role=&quot;button&quot; ng-click=&quot;homeFunc()&quot;&gt;Home&lt;/a&gt;\n                    &lt;/th&gt;\n                    &lt;th class=&quot;toc&quot;&gt;\n                        &lt;a class=&quot;btn btn-success&quot; role=&quot;button&quot; ng-click=&quot;testFunc()&quot;&gt;Include file&lt;/a&gt;\n                    &lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td align=&quot;center&quot;&gt;\n              &lt;div ng-if=&quot;functype == 'home'&quot;&gt;\n                Home page.\n              &lt;/div&gt;\n              &lt;div ng-if=&quot;functype == 'test'&quot;&gt;\n                &lt;div ng-include=&quot;'includes/index_testincl.html'&quot;&gt;&lt;/div&gt;\n              &lt;/div&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;   \n</code></pre>\n<p>10.) Create <code>src/main/webapp/includes/index_testincl.html</code> and include the following code:</p>\n<pre><code>    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;p class=&quot;body&quot;&gt;If the link shows this, then JavaScript works!&lt;/p&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n</code></pre>\n<p>11.) Create <code>src/main/webapp/testController.js</code>  and include the following:</p>\n<pre><code>// create Angular app\nvar testApp = angular.module('testApp', []);\n\n// create Angular controller\ntestApp.controller('testController', ['$scope', '$http', function($scope, $http) {\n    $scope.functype = 'home';\n\n    //below functions handle navigation links\n    $scope.homeFunc = function() {\n        $scope.functype = 'home';\n    }\n    $scope.testFunc = function() {\n        $scope.functype = 'test';\n    }\n\n}]);\n</code></pre>\n<p>12.) Eclipse -&gt; Project Explorer -&gt; Rt-Click-Project -&gt; Run As..Maven Build</p>\n<p>13.) Eclipse -&gt; Project Explorer -&gt; Rt-Click-Project -&gt; Refresh</p>\n<p>14.) Copy the way to some remote Tomcat server and try to load it from a web browser by typing anydomain.com.</p>\n<p>That is it. The problem should be recreated.</p>\n<p>What needs to be changed in order for the above minimal AngularJS app to run properly on the remote Tomcat web server when requests are made to anydomain.com?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":12306042,"reputation":103,"user_id":8979050,"display_name":"Dev93"},"score":0,"creation_date":1675597403,"post_id":75337478,"comment_id":132959756,"body_markdown":"this is not working. entries are not committed before @Transactional flow ends.","body":"this is not working. entries are not committed before @Transactional flow ends."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1675674135,"post_id":75337478,"comment_id":132972291,"body_markdown":"You can&#39;t commit a transaction from within a `@Transactional` method. The interceptor will take care of the committing. You asked for `saved to table` and flushing is what causes the insert statements to be emitted to the DB. If you want these entries to become visible to other transactions, you will have to commit your transaction i.e. by using `@Transactional(REQUIRES_NEW)`.","body":"You can&#39;t commit a transaction from within a <code>@Transactional</code> method. The interceptor will take care of the committing. You asked for <code>saved to table</code> and flushing is what causes the insert statements to be emitted to the DB. If you want these entries to become visible to other transactions, you will have to commit your transaction i.e. by using <code>@Transactional(REQUIRES_NEW)</code>."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675436447,"creation_date":1675436447,"answer_id":75337478,"question_id":75311052,"body_markdown":"You can flush the persistence context after calling `persist` for entry1 by calling `EntityManager.flush()`.","title":"force hibernate insertion under @Transactional method to happen in the same order they received","body":"<p>You can flush the persistence context after calling <code>persist</code> for entry1 by calling <code>EntityManager.flush()</code>.</p>\n"}],"owner":{"account_id":12306042,"reputation":103,"user_id":8979050,"display_name":"Dev93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675436447,"creation_date":1675258862,"question_id":75311052,"body_markdown":"I&#39;m saving 2 entries to the same table 1 by 1 with JPA and Hibernate under some Transactional flow chain.\r\n\r\nthe entries are not committed until the transaction is over of course,\r\nbut weirdly they are saved to the table in the opposite order.\r\n\r\nfor example:\r\nt1: transactional flow invoked\r\nt2: entry 1 saved to table X\r\nt3: entry 2 saved to table X\r\nt4: the transaction is over.\r\n\r\nwhen I check the table I can see entry 2 received a lower id then entry 1.\r\n\r\nis there something I can do in order to force hibernate to persist in the order I intended?","title":"force hibernate insertion under @Transactional method to happen in the same order they received","body":"<p>I'm saving 2 entries to the same table 1 by 1 with JPA and Hibernate under some Transactional flow chain.</p>\n<p>the entries are not committed until the transaction is over of course,\nbut weirdly they are saved to the table in the opposite order.</p>\n<p>for example:\nt1: transactional flow invoked\nt2: entry 1 saved to table X\nt3: entry 2 saved to table X\nt4: the transaction is over.</p>\n<p>when I check the table I can see entry 2 received a lower id then entry 1.</p>\n<p>is there something I can do in order to force hibernate to persist in the order I intended?</p>\n"},{"tags":["java","spring-boot","log4j2"],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1675464806,"post_id":75335512,"comment_id":132942295,"body_markdown":"Spring Boot reconfigures Log4j2 as soon as the `Environment` is available. You can start with a file/console appender in `log4j2.yaml` and add the JDBC appender in `log4j2-spring.yaml`.","body":"Spring Boot reconfigures Log4j2 as soon as the <code>Environment</code> is available. You can start with a file/console appender in <code>log4j2.yaml</code> and add the JDBC appender in <code>log4j2-spring.yaml</code>."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1675495461,"post_id":75335512,"comment_id":132945116,"body_markdown":"@PiotrP.Karwasz That sounds interesting. Could you maybe explain it a little bit more? I tried to take the appender and its assignment out of log4j2.yml and put it into log4j2-spring.yml, hoping that Spring Boot&#39;s magic would somehow do some kind of merging and reconfiguration. Doesn&#39;t seem to be enough though. What other settings do I need to do? Do you have any examples?","body":"@PiotrP.Karwasz That sounds interesting. Could you maybe explain it a little bit more? I tried to take the appender and its assignment out of log4j2.yml and put it into log4j2-spring.yml, hoping that Spring Boot&#39;s magic would somehow do some kind of merging and reconfiguration. Doesn&#39;t seem to be enough though. What other settings do I need to do? Do you have any examples?"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1675497362,"post_id":75335512,"comment_id":132945323,"body_markdown":"Spring Boot does not merge, it just replaces one config file with the second one. You can also stick to a single file and use a `SpringProfile` arbiter (cf. [documentation](https://logging.apache.org/log4j/2.x/log4j-spring-boot/index.html)): at startup any definition in the arbiter will be ignored (no environment) and it will be used only after an `Environment` is present.","body":"Spring Boot does not merge, it just replaces one config file with the second one. You can also stick to a single file and use a <code>SpringProfile</code> arbiter (cf. <a href=\"https://logging.apache.org/log4j/2.x/log4j-spring-boot/index.html\" rel=\"nofollow noreferrer\">documentation</a>): at startup any definition in the arbiter will be ignored (no environment) and it will be used only after an <code>Environment</code> is present."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1675499475,"post_id":75335512,"comment_id":132945597,"body_markdown":"Placing the `log4j2.yml` allone seems not to be enough. I had to set the `logging.config: &quot;classpath:log4j2-spring.yml&quot;` property as well to make Spring Boot recognizing the second config file. Unfortunately, there still seems to be a little hickup during the init-process. I test-wise added the DataBase appender to the Root logger, and the first console log line is `2023-02-04 09:19:22,751 main ERROR Unable to locate appender &quot;Database&quot; for logger config &quot;root&quot;`. I know that Bootstrapping is no simple thing, but somehow this gives an odd feeling.","body":"Placing the <code>log4j2.yml</code> allone seems not to be enough. I had to set the <code>logging.config: &quot;classpath:log4j2-spring.yml&quot;</code> property as well to make Spring Boot recognizing the second config file. Unfortunately, there still seems to be a little hickup during the init-process. I test-wise added the DataBase appender to the Root logger, and the first console log line is <code>2023-02-04 09:19:22,751 main ERROR Unable to locate appender &quot;Database&quot; for logger config &quot;root&quot;</code>. I know that Bootstrapping is no simple thing, but somehow this gives an odd feeling."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1675499591,"post_id":75335512,"comment_id":132945611,"body_markdown":"Having two almost redundant complex config files is another thing :/. However, I am very grateful for this info and will now take a closer look at the arbiter. Let&#39;s see what will ultimately make me happy :)","body":"Having two almost redundant complex config files is another thing :/. However, I am very grateful for this info and will now take a closer look at the arbiter. Let&#39;s see what will ultimately make me happy :)"}],"tags":[],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675436354,"creation_date":1675426035,"answer_id":75335512,"question_id":75332862,"body_markdown":"Since this didn&#39;t leave me any peace, I invested a few extra hours and tried out many possible combinations and setups. In the end I came up with the following proper working solution:\r\n\r\nlog4j2.yaml:\r\n```yaml\r\nConfiguration:\r\n  //...\r\n\r\n  Appenders:\r\n\r\n    JDBC:\r\n      name: DataBase\r\n      ConnectionFactory:\r\n        class: &quot;com.example.config.Log4jConnectionFactory&quot;\r\n        method: &quot;getDbConnection&quot;\r\n\r\n      tableName: &quot;application_log&quot;\r\n      Column:\r\n        - name: &quot;log_date&quot;\r\n          isEventTimestamp: true\r\n        - name: &quot;log_level&quot;\r\n          pattern: &quot;%level&quot;\r\n        - name: &quot;logger&quot;\r\n          pattern: &quot;%logger&quot;\r\n        - name: &quot;user_id&quot;\r\n          pattern: &quot;$${ctx:userId}&quot;\r\n        - name: &quot;user_name&quot;\r\n          pattern: &quot;$${ctx:username}&quot;\r\n        - name: &quot;log_message&quot;\r\n          pattern: &quot;%message&quot;\r\n        - name: &quot;exception&quot;\r\n          pattern: &quot;%exception&quot;\r\n\r\n  //...\r\n```\r\n\r\nConnectionFactory:\r\n```java\r\npublic class Log4jConnectionFactory {\r\n\r\n    private static final HikariDataSource dataSource;\r\n\r\n    static {\r\n        System.out.println(&quot;====================== This is Log4jConnectionFactory speaking ======================&quot;);\r\n\r\n        dataSource = new HikariDataSource();\r\n\r\n        dataSource.setJdbcUrl(&quot;jdbc:h2:mem:example-db;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;INIT=RUNSCRIPT FROM &#39;./src/db/h2/schema-log4j2.sql&#39;&quot;);\r\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\r\n        dataSource.setUsername(&quot;sa&quot;);\r\n        dataSource.setPassword(&quot;&quot;);\r\n    }\r\n\r\n    private Log4jConnectionFactory() { }\r\n\r\n    public static Connection getDbConnection() throws SQLException {\r\n        return dataSource.getConnection();\r\n    }\r\n}\r\n```\r\n\r\nschema-log4j2.sql:\r\n```sql\r\nCREATE TABLE IF NOT EXISTS `application_log` (\r\n    application_log_id INTEGER GENERATED BY DEFAULT AS IDENTITY,\r\n    log_date           TIMESTAMP,\r\n    log_level          VARCHAR(10),\r\n    logger             VARCHAR(100),\r\n    user_id            BIGINT,\r\n    user_name          VARCHAR(50),\r\n    log_message        TEXT,\r\n    exception          TEXT,\r\n\r\n    PRIMARY KEY (application_log_id)\r\n);\r\n```\r\n\r\nSince we are in a Spring Boot environment and an H2 database is used, we have to consider that both logger and database have to be ready for use at a point, where Spring Boot itself is still in the initialization phase. Therefore logger and database must be setup without the help of Spring Boot, respectively without the application.yml configuration file.\r\n\r\nSo since schema creation can&#39;t be done via config file, we assign this task to the H2-connection-string. However, this means that every time a connection is requested, the schema creation is processed. To not run into an error see the detail `CREATE TABLE IF NOT EXISTS`.\r\n\r\nAlso to be mentioned, the connection data is currently hardcoded. This is definitely not a great solution, and I&#39;m still looking for a way to work around this. A lookup to the Spring context is not possible due to timing reasons already mentioned. JNDI doesn&#39;t make much sense either, since the Tomcat configuration for this happens also too late. Let&#39;s see what solution eventually it will be. If I&#39;ll find one, I will update this post.","title":"How to setup a Log4j2 JDBC Appender in a YAML configuration?","body":"<p>Since this didn't leave me any peace, I invested a few extra hours and tried out many possible combinations and setups. In the end I came up with the following proper working solution:</p>\n<p>log4j2.yaml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Configuration:\n  //...\n\n  Appenders:\n\n    JDBC:\n      name: DataBase\n      ConnectionFactory:\n        class: &quot;com.example.config.Log4jConnectionFactory&quot;\n        method: &quot;getDbConnection&quot;\n\n      tableName: &quot;application_log&quot;\n      Column:\n        - name: &quot;log_date&quot;\n          isEventTimestamp: true\n        - name: &quot;log_level&quot;\n          pattern: &quot;%level&quot;\n        - name: &quot;logger&quot;\n          pattern: &quot;%logger&quot;\n        - name: &quot;user_id&quot;\n          pattern: &quot;$${ctx:userId}&quot;\n        - name: &quot;user_name&quot;\n          pattern: &quot;$${ctx:username}&quot;\n        - name: &quot;log_message&quot;\n          pattern: &quot;%message&quot;\n        - name: &quot;exception&quot;\n          pattern: &quot;%exception&quot;\n\n  //...\n</code></pre>\n<p>ConnectionFactory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Log4jConnectionFactory {\n\n    private static final HikariDataSource dataSource;\n\n    static {\n        System.out.println(&quot;====================== This is Log4jConnectionFactory speaking ======================&quot;);\n\n        dataSource = new HikariDataSource();\n\n        dataSource.setJdbcUrl(&quot;jdbc:h2:mem:example-db;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;INIT=RUNSCRIPT FROM './src/db/h2/schema-log4j2.sql'&quot;);\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\n        dataSource.setUsername(&quot;sa&quot;);\n        dataSource.setPassword(&quot;&quot;);\n    }\n\n    private Log4jConnectionFactory() { }\n\n    public static Connection getDbConnection() throws SQLException {\n        return dataSource.getConnection();\n    }\n}\n</code></pre>\n<p>schema-log4j2.sql:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE IF NOT EXISTS `application_log` (\n    application_log_id INTEGER GENERATED BY DEFAULT AS IDENTITY,\n    log_date           TIMESTAMP,\n    log_level          VARCHAR(10),\n    logger             VARCHAR(100),\n    user_id            BIGINT,\n    user_name          VARCHAR(50),\n    log_message        TEXT,\n    exception          TEXT,\n\n    PRIMARY KEY (application_log_id)\n);\n</code></pre>\n<p>Since we are in a Spring Boot environment and an H2 database is used, we have to consider that both logger and database have to be ready for use at a point, where Spring Boot itself is still in the initialization phase. Therefore logger and database must be setup without the help of Spring Boot, respectively without the application.yml configuration file.</p>\n<p>So since schema creation can't be done via config file, we assign this task to the H2-connection-string. However, this means that every time a connection is requested, the schema creation is processed. To not run into an error see the detail <code>CREATE TABLE IF NOT EXISTS</code>.</p>\n<p>Also to be mentioned, the connection data is currently hardcoded. This is definitely not a great solution, and I'm still looking for a way to work around this. A lookup to the Spring context is not possible due to timing reasons already mentioned. JNDI doesn't make much sense either, since the Tomcat configuration for this happens also too late. Let's see what solution eventually it will be. If I'll find one, I will update this post.</p>\n"}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675436354,"creation_date":1675410713,"question_id":75332862,"body_markdown":"Since the Log4j2 documentation unfortunately doesn&#39;t have any examples for specifying a JDBC Appender using a ConnectionFactory in a log4j2.yaml-configuration, i&#39;d like to ask for a proper example.\r\n\r\nThis is my current state of the log4j2.yml:\r\n```yaml\r\nConfiguration:\r\n  //...\r\n\r\n  Appenders:\r\n\r\n    JDBC:\r\n      name: DataBase\r\n      connectionSource:\r\n        class: &quot;com.example.config.Log4jConnectionFactory&quot;\r\n        method: &quot;getDbConnection&quot;\r\n\r\n      tableName: &quot;application_log&quot;\r\n      columnConfigs:\r\n        - name: &quot;log_date&quot;\r\n          isEventTimestamp: true\r\n        - name: &quot;log_level&quot;\r\n          pattern: &quot;%level&quot;\r\n        - name: &quot;logger&quot;\r\n          pattern: &quot;%logger&quot;\r\n        - name: &quot;user_id&quot;\r\n          pattern: &quot;$${ctx:userId}&quot;\r\n        - name: &quot;user_name&quot;\r\n          pattern: &quot;$${ctx:username}&quot;\r\n        - name: &quot;log_message&quot;\r\n          pattern: &quot;%message&quot;\r\n        - name: &quot;exception&quot;\r\n          pattern: &quot;%exception&quot;\r\n\r\n  //...\r\n```\r\n\r\nAnd here the associated ConnectionFactory:\r\n```java\r\npublic class Log4jConnectionFactory {\r\n\r\n    private static BasicDataSource dataSource;\r\n\r\n    private Log4jConnectionFactory() { }\r\n\r\n    public static Connection getDbConnection() throws SQLException {\r\n        if (dataSource == null) {\r\n            dataSource = new BasicDataSource();\r\n\r\n            dataSource.setUrl(&quot;jdbc:h2:mem:example-db;DB_CLOSE_DELAY=-1&quot;);\r\n            dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\r\n            dataSource.setUsername(&quot;sa&quot;);\r\n            dataSource.setPassword(&quot;&quot;);\r\n        }\r\n\r\n        return dataSource.getConnection();\r\n    }\r\n}\r\n```\r\n\r\nWith this configuration above Log4j throws the following error:\r\n```none\r\nNo factory method found for class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender\r\n```\r\nThe complete error log:\r\n```none\r\n2023-02-03 09:38:08,479 main ERROR Unable to locate plugin type for connectionSource\r\n2023-02-03 09:38:08,481 main ERROR Unable to locate plugin type for columnConfigs\r\n2023-02-03 09:38:08,481 main ERROR Unable to locate plugin type for columnConfigs\r\n2023-02-03 09:38:08,481 main ERROR Unable to locate plugin type for columnConfigs\r\n2023-02-03 09:38:08,482 main ERROR Unable to locate plugin type for columnConfigs\r\n2023-02-03 09:38:08,482 main ERROR Unable to locate plugin type for columnConfigs\r\n2023-02-03 09:38:08,482 main ERROR Unable to locate plugin type for columnConfigs\r\n2023-02-03 09:38:08,482 main ERROR Unable to locate plugin type for columnConfigs\r\n2023-02-03 09:38:08,566 main ERROR Unable to locate plugin for connectionSource\r\n2023-02-03 09:38:08,566 main ERROR Unable to locate plugin for columnConfigs\r\n2023-02-03 09:38:08,566 main ERROR Unable to locate plugin for columnConfigs\r\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\r\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\r\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\r\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\r\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\r\n2023-02-03 09:38:08,569 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender for element JDBC: java.lang.NullPointerException: Cannot invoke &quot;org.apache.logging.log4j.core.config.plugins.util.PluginType.getElementName()&quot; because &quot;childType&quot; is null java.lang.NullPointerException: Cannot invoke &quot;org.apache.logging.log4j.core.config.plugins.util.PluginType.getElementName()&quot; because &quot;childType&quot; is null\r\n\tat org.apache.logging.log4j.core.config.plugins.visitors.PluginElementVisitor.findNamedNode(PluginElementVisitor.java:104)\r\n\tat org.apache.logging.log4j.core.config.plugins.visitors.PluginElementVisitor.visit(PluginElementVisitor.java:88)\r\n\tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.injectFields(PluginBuilder.java:187)\r\n\tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:123)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1138)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1063)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1055)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:664)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:258)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:304)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:621)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:694)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:711)\r\n\tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:61)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:391)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:416)\r\n\tat com.example.Application.&lt;clinit&gt;(Application.java:13)\r\n\r\n2023-02-03 09:38:08,571 main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender for element JDBC: java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender\r\n\tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:260)\r\n\tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:136)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1138)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1063)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1055)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:664)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:258)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:304)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:621)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:694)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:711)\r\n\tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:61)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:391)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:416)\r\n\tat com.example.Application.&lt;clinit&gt;(Application.java:13)\r\n```\r\n\r\nSince I&#39;m not sure whether the Appender structure is correct or not, and since I haven&#39;t found anything anywhere how this shoud be done in a YAML config file, and since the Log4j2 documentation isn&#39;t any help either, I&#39;d like to ask for any help that can provide some clarification.\r\n\r\nMany thanks in advance\r\n\r\n","title":"How to setup a Log4j2 JDBC Appender in a YAML configuration?","body":"<p>Since the Log4j2 documentation unfortunately doesn't have any examples for specifying a JDBC Appender using a ConnectionFactory in a log4j2.yaml-configuration, i'd like to ask for a proper example.</p>\n<p>This is my current state of the log4j2.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Configuration:\n  //...\n\n  Appenders:\n\n    JDBC:\n      name: DataBase\n      connectionSource:\n        class: &quot;com.example.config.Log4jConnectionFactory&quot;\n        method: &quot;getDbConnection&quot;\n\n      tableName: &quot;application_log&quot;\n      columnConfigs:\n        - name: &quot;log_date&quot;\n          isEventTimestamp: true\n        - name: &quot;log_level&quot;\n          pattern: &quot;%level&quot;\n        - name: &quot;logger&quot;\n          pattern: &quot;%logger&quot;\n        - name: &quot;user_id&quot;\n          pattern: &quot;$${ctx:userId}&quot;\n        - name: &quot;user_name&quot;\n          pattern: &quot;$${ctx:username}&quot;\n        - name: &quot;log_message&quot;\n          pattern: &quot;%message&quot;\n        - name: &quot;exception&quot;\n          pattern: &quot;%exception&quot;\n\n  //...\n</code></pre>\n<p>And here the associated ConnectionFactory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Log4jConnectionFactory {\n\n    private static BasicDataSource dataSource;\n\n    private Log4jConnectionFactory() { }\n\n    public static Connection getDbConnection() throws SQLException {\n        if (dataSource == null) {\n            dataSource = new BasicDataSource();\n\n            dataSource.setUrl(&quot;jdbc:h2:mem:example-db;DB_CLOSE_DELAY=-1&quot;);\n            dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\n            dataSource.setUsername(&quot;sa&quot;);\n            dataSource.setPassword(&quot;&quot;);\n        }\n\n        return dataSource.getConnection();\n    }\n}\n</code></pre>\n<p>With this configuration above Log4j throws the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>No factory method found for class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender\n</code></pre>\n<p>The complete error log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-02-03 09:38:08,479 main ERROR Unable to locate plugin type for connectionSource\n2023-02-03 09:38:08,481 main ERROR Unable to locate plugin type for columnConfigs\n2023-02-03 09:38:08,481 main ERROR Unable to locate plugin type for columnConfigs\n2023-02-03 09:38:08,481 main ERROR Unable to locate plugin type for columnConfigs\n2023-02-03 09:38:08,482 main ERROR Unable to locate plugin type for columnConfigs\n2023-02-03 09:38:08,482 main ERROR Unable to locate plugin type for columnConfigs\n2023-02-03 09:38:08,482 main ERROR Unable to locate plugin type for columnConfigs\n2023-02-03 09:38:08,482 main ERROR Unable to locate plugin type for columnConfigs\n2023-02-03 09:38:08,566 main ERROR Unable to locate plugin for connectionSource\n2023-02-03 09:38:08,566 main ERROR Unable to locate plugin for columnConfigs\n2023-02-03 09:38:08,566 main ERROR Unable to locate plugin for columnConfigs\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\n2023-02-03 09:38:08,567 main ERROR Unable to locate plugin for columnConfigs\n2023-02-03 09:38:08,569 main ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender for element JDBC: java.lang.NullPointerException: Cannot invoke &quot;org.apache.logging.log4j.core.config.plugins.util.PluginType.getElementName()&quot; because &quot;childType&quot; is null java.lang.NullPointerException: Cannot invoke &quot;org.apache.logging.log4j.core.config.plugins.util.PluginType.getElementName()&quot; because &quot;childType&quot; is null\n    at org.apache.logging.log4j.core.config.plugins.visitors.PluginElementVisitor.findNamedNode(PluginElementVisitor.java:104)\n    at org.apache.logging.log4j.core.config.plugins.visitors.PluginElementVisitor.visit(PluginElementVisitor.java:88)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.injectFields(PluginBuilder.java:187)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:123)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1138)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1063)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1055)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:664)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:258)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:304)\n    at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:621)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:694)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:711)\n    at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\n    at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:61)\n    at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\n    at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:391)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:416)\n    at com.example.Application.&lt;clinit&gt;(Application.java:13)\n\n2023-02-03 09:38:08,571 main ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender for element JDBC: java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.db.jdbc.JdbcAppender\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:260)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:136)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1138)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1063)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1055)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:664)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:258)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:304)\n    at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:621)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:694)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:711)\n    at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:155)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:137)\n    at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:61)\n    at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\n    at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:391)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:416)\n    at com.example.Application.&lt;clinit&gt;(Application.java:13)\n</code></pre>\n<p>Since I'm not sure whether the Appender structure is correct or not, and since I haven't found anything anywhere how this shoud be done in a YAML config file, and since the Log4j2 documentation isn't any help either, I'd like to ask for any help that can provide some clarification.</p>\n<p>Many thanks in advance</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":9025225,"reputation":165,"user_id":6724744,"display_name":"Apurv Chatterjee"},"score":0,"creation_date":1492407188,"post_id":43445643,"comment_id":73947532,"body_markdown":"Thanks Yaniv... I understand this, but what I am not able to understand is the running instances of chromedriver should get closed, atleast when I close Eclipse, shouldn&#39;t it? Also, why there would be multiple instances?","body":"Thanks Yaniv... I understand this, but what I am not able to understand is the running instances of chromedriver should get closed, atleast when I close Eclipse, shouldn&#39;t it? Also, why there would be multiple instances?"},{"owner":{"account_id":3832273,"reputation":1326,"user_id":5564018,"accept_rate":84,"display_name":"JumpIntoTheWater"},"score":0,"creation_date":1492407668,"post_id":43445643,"comment_id":73947655,"body_markdown":"Each time you call the chromedriver.exe a different instance is being opened. It is a standalone process which you must close and it has nothing to Eclipse. As you called it to be opened , you should call its close method.","body":"Each time you call the chromedriver.exe a different instance is being opened. It is a standalone process which you must close and it has nothing to Eclipse. As you called it to be opened , you should call its close method."},{"owner":{"account_id":9025225,"reputation":165,"user_id":6724744,"display_name":"Apurv Chatterjee"},"score":0,"creation_date":1492408140,"post_id":43445643,"comment_id":73947827,"body_markdown":"I just tried using `driver.close();` and same thing happens, while using `driver.quit();` works as I expect it to be. There should not be any difference while working on a single window, both should work the same, I believe.","body":"I just tried using <code>driver.close();</code> and same thing happens, while using <code>driver.quit();</code> works as I expect it to be. There should not be any difference while working on a single window, both should work the same, I believe."},{"owner":{"account_id":3832273,"reputation":1326,"user_id":5564018,"accept_rate":84,"display_name":"JumpIntoTheWater"},"score":0,"creation_date":1492409387,"post_id":43445643,"comment_id":73948232,"body_markdown":"Sure. Close just closes the chrome&#39;s window(s) and quit is actually for quitting the driver.","body":"Sure. Close just closes the chrome&#39;s window(s) and quit is actually for quitting the driver."}],"tags":[],"owner":{"account_id":3832273,"reputation":1326,"user_id":5564018,"accept_rate":84,"display_name":"JumpIntoTheWater"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492421291,"creation_date":1492406852,"answer_id":43445643,"question_id":43445545,"body_markdown":"When executing the chrome-driver, you must close it ,as you mentioned, in order to close the chrome-driver. Basically in order to run tests you should use relevant running framework as JUnit(as for java) and then you won&#39;t be confused. ","title":"Selenium initiated ChromeDriver keeps running in background","body":"<p>When executing the chrome-driver, you must close it ,as you mentioned, in order to close the chrome-driver. Basically in order to run tests you should use relevant running framework as JUnit(as for java) and then you won't be confused. </p>\n"},{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1492407890,"creation_date":1492407890,"answer_id":43445811,"question_id":43445545,"body_markdown":"As chromedriver is an executable file, so it is run as a separate thread and it isn&#39;t getting closed because your driver.close() method is not getting called so you have no other choice than to close it manually. You can  either choose to close chromedriver.exe process  manually from Task Manager but I&#39;d recommend using following command in Command Prompt\n\n     taskkill /f /im chromedriver.exe\n\nThis particular command can be run in order to delete any processes running on your windows device.","title":"Selenium initiated ChromeDriver keeps running in background","body":"<p>As chromedriver is an executable file, so it is run as a separate thread and it isn't getting closed because your driver.close() method is not getting called so you have no other choice than to close it manually. You can  either choose to close chromedriver.exe process  manually from Task Manager but I'd recommend using following command in Command Prompt</p>\n\n<pre><code> taskkill /f /im chromedriver.exe\n</code></pre>\n\n<p>This particular command can be run in order to delete any processes running on your windows device.</p>\n"},{"comments":[{"owner":{"account_id":9025225,"reputation":165,"user_id":6724744,"display_name":"Apurv Chatterjee"},"score":1,"creation_date":1492443272,"post_id":43452691,"comment_id":73964508,"body_markdown":"Yes. Thank you for the detailed answer. Appreciate your in-depth analysis","body":"Yes. Thank you for the detailed answer. Appreciate your in-depth analysis"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1579872281,"creation_date":1492436552,"answer_id":43452691,"question_id":43445545,"body_markdown":"You need to take care of a couple of things as follows:\r\n\r\n1. _Try running this code, say 5 times, and there will be 5 background running instances_: This is because each time you have opened a new driver instance which you have never released.\r\n\r\n2. _Tried restarting Eclipse, with no luck_: Its worth mentioning that Eclipse is an IDE (Integrated Development Environment) which helps us to construct programming steps through a programming language. So through Eclipse we write programs/steps for Selenium to open/close a browser session and quit a driver session. But Eclipse have no control over the execution done by Selenium in-terms of open/close a browser session and quit a driver session. Hence restarting Eclipse would make no difference.\r\n\r\n3. `driver.close()`: This command will help you only to Close the browser session/window on which currently the driver have the focus.\r\n\r\n4. _when the main-thread dies, all supporting running instances should die with it_: You are right. It is the WebDriver instance (i.e. driver - as per your code) which opens all the browser sessions every-time. So when your program ends you should always call `driver.quit()` which Closes all browser windows, quits the driver and safely ends the session.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, at any point of time you can forcefully kill all the instances of WebDriver variants e.g. [tag:geckodriver], [tag:selenium-chromedriver], [tag:selenium-iedriver] through [tag:os] specific methods as follows:\r\n\r\n- Java Solution(Windows):\r\n\r\n\t\timport java.io.IOException;\r\n\r\n\t\tpublic class Kill_ChromeDriver_GeckoDriver_IEDriverserver \r\n\t\t{\r\n\t\t\tpublic static void main(String[] args) throws Exception \r\n\t\t\t{\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;taskkill /F /IM geckodriver.exe /T&quot;);\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;taskkill /F /IM chromedriver.exe /T&quot;);\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;taskkill /F /IM IEDriverServer.exe /T&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n- Python Solution(Windows):\r\n\r\n\t\timport os\r\n\t\tos.system(&quot;taskkill /f /im geckodriver.exe /T&quot;)\r\n        os.system(&quot;taskkill /f /im chromedriver.exe /T&quot;)\r\n        os.system(&quot;taskkill /f /im IEDriverServer.exe /T&quot;)\r\n\t\t\r\n- Python Solution(**Cross Platform**): \r\n\r\n\t\timport os\r\n\t\timport psutil\r\n\r\n\t\tPROCNAME = &quot;geckodriver&quot; # or chromedriver or IEDriverServer\r\n\t\tfor proc in psutil.process_iter():\r\n\t\t    # check whether the process name matches\r\n\t\t    if proc.name() == PROCNAME:\r\n\t\t\t    proc.kill()","title":"Selenium initiated ChromeDriver keeps running in background","body":"<p>You need to take care of a couple of things as follows:</p>\n\n<ol>\n<li><p><em>Try running this code, say 5 times, and there will be 5 background running instances</em>: This is because each time you have opened a new driver instance which you have never released.</p></li>\n<li><p><em>Tried restarting Eclipse, with no luck</em>: Its worth mentioning that Eclipse is an IDE (Integrated Development Environment) which helps us to construct programming steps through a programming language. So through Eclipse we write programs/steps for Selenium to open/close a browser session and quit a driver session. But Eclipse have no control over the execution done by Selenium in-terms of open/close a browser session and quit a driver session. Hence restarting Eclipse would make no difference.</p></li>\n<li><p><code>driver.close()</code>: This command will help you only to Close the browser session/window on which currently the driver have the focus.</p></li>\n<li><p><em>when the main-thread dies, all supporting running instances should die with it</em>: You are right. It is the WebDriver instance (i.e. driver - as per your code) which opens all the browser sessions every-time. So when your program ends you should always call <code>driver.quit()</code> which Closes all browser windows, quits the driver and safely ends the session.</p></li>\n</ol>\n\n<hr>\n\n<p>However, at any point of time you can forcefully kill all the instances of WebDriver variants e.g. <a href=\"/questions/tagged/geckodriver\" class=\"post-tag\" title=\"show questions tagged &#39;geckodriver&#39;\" rel=\"tag\">geckodriver</a>, <a href=\"/questions/tagged/selenium-chromedriver\" class=\"post-tag\" title=\"show questions tagged &#39;selenium-chromedriver&#39;\" rel=\"tag\">selenium-chromedriver</a>, <a href=\"/questions/tagged/selenium-iedriver\" class=\"post-tag\" title=\"show questions tagged &#39;selenium-iedriver&#39;\" rel=\"tag\">selenium-iedriver</a> through <a href=\"/questions/tagged/os\" class=\"post-tag\" title=\"show questions tagged &#39;os&#39;\" rel=\"tag\">os</a> specific methods as follows:</p>\n\n<ul>\n<li><p>Java Solution(Windows):</p>\n\n<pre><code>import java.io.IOException;\n\npublic class Kill_ChromeDriver_GeckoDriver_IEDriverserver \n{\n    public static void main(String[] args) throws Exception \n    {\n        Runtime.getRuntime().exec(\"taskkill /F /IM geckodriver.exe /T\");\n        Runtime.getRuntime().exec(\"taskkill /F /IM chromedriver.exe /T\");\n        Runtime.getRuntime().exec(\"taskkill /F /IM IEDriverServer.exe /T\");\n    }\n}\n</code></pre></li>\n<li><p>Python Solution(Windows):</p>\n\n<pre><code>import os\nos.system(\"taskkill /f /im geckodriver.exe /T\")\nos.system(\"taskkill /f /im chromedriver.exe /T\")\nos.system(\"taskkill /f /im IEDriverServer.exe /T\")\n</code></pre></li>\n<li><p>Python Solution(<strong>Cross Platform</strong>): </p>\n\n<pre><code>import os\nimport psutil\n\nPROCNAME = \"geckodriver\" # or chromedriver or IEDriverServer\nfor proc in psutil.process_iter():\n    # check whether the process name matches\n    if proc.name() == PROCNAME:\n        proc.kill()\n</code></pre></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":9025225,"reputation":165,"user_id":6724744,"display_name":"Apurv Chatterjee"},"score":0,"creation_date":1492443146,"post_id":43452968,"comment_id":73964438,"body_markdown":"this is one way of doing or simply use `driver.quit();` at the end of the code, as suggested by others","body":"this is one way of doing or simply use <code>driver.quit();</code> at the end of the code, as suggested by others"}],"tags":[],"owner":{"account_id":1716151,"reputation":11,"user_id":1573163,"display_name":"mvpmurali"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492495050,"creation_date":1492437579,"answer_id":43452968,"question_id":43445545,"body_markdown":"Create an bat file(killchorme.bat) using the below cmd\r\n\r\ntaskkill /f /im chromedriver.exe\r\n\r\nthen call the bat file before initiating your chrome driver using\r\nRuntime.getruntime().exec(&quot;killchrome.bat&quot;)\r\n","title":"Selenium initiated ChromeDriver keeps running in background","body":"<p>Create an bat file(killchorme.bat) using the below cmd</p>\n\n<p>taskkill /f /im chromedriver.exe</p>\n\n<p>then call the bat file before initiating your chrome driver using\nRuntime.getruntime().exec(\"killchrome.bat\")</p>\n"},{"tags":[],"owner":{"account_id":20314643,"reputation":950,"user_id":14900791,"display_name":"Jurakin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675436028,"creation_date":1675436028,"answer_id":75337409,"question_id":43445545,"body_markdown":"I know this is off topic, but this helped me to solve the problem `chromedriver is still running in the background`. I was using `driver.close` which is not killing the session. See this [answer](https://stackoverflow.com/a/32447644/14900791):\r\n\r\n&gt; You should use `driver.quit` whenever you want to end the program. It\r\n&gt; will close all opened browser windows and terminates the WebDriver\r\n&gt; session. If you do not use `driver.quit` at the end of the program, the\r\n&gt; WebDriver session will not close properly and files would not be\r\n&gt; cleared from memory. This may result in memory leak errors.","title":"Selenium initiated ChromeDriver keeps running in background","body":"<p>I know this is off topic, but this helped me to solve the problem <code>chromedriver is still running in the background</code>. I was using <code>driver.close</code> which is not killing the session. See this <a href=\"https://stackoverflow.com/a/32447644/14900791\">answer</a>:</p>\n<blockquote>\n<p>You should use <code>driver.quit</code> whenever you want to end the program. It\nwill close all opened browser windows and terminates the WebDriver\nsession. If you do not use <code>driver.quit</code> at the end of the program, the\nWebDriver session will not close properly and files would not be\ncleared from memory. This may result in memory leak errors.</p>\n</blockquote>\n"}],"owner":{"account_id":9025225,"reputation":165,"user_id":6724744,"display_name":"Apurv Chatterjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8358,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43452691,"answer_count":5,"score":4,"last_activity_date":1675436028,"creation_date":1492406254,"question_id":43445545,"body_markdown":"I am not able to completely delete a project, because the chromedriver instance is running in the background, even when there is no code is being executed.\nPlease see the below image.\n[![Task Manager Process View][1]][1]\n\nThe error I get while the project deletion is:[![Eclipse error while project deletion][2]][2]\n\nTake the below code for instance:\n\n    import java.util.concurrent.TimeUnit;\n    \n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.chrome.ChromeDriver;\n    \n    public class Test {\n    \n        public static void main(String[] args) throws Exception {\n    \n            String url = &quot;https://www.google.com&quot;;\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/driver/chromedriver.exe&quot;);\n            WebDriver driver = new ChromeDriver();\n            driver.manage().window().maximize();\n            driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n            driver.get(url);\n            System.out.println(driver.getTitle());\n    \n        }\n    }\n\nTry running this code, say 5 times, and there will be 5 background running instances. Tried restarting Eclipse, with no luck.\n\nI understand this is happening because I am not writing this line:\n\n    driver.close();\n\nBut normally, when the main-thread dies, all supporting running instances should die with it.\n\nIs this a known issue, or I am scripting something wrong.\n\nThanks in advance.\n\n  [1]: https://i.stack.imgur.com/bt1Tb.png\n  [2]: https://i.stack.imgur.com/pKIO0.png","title":"Selenium initiated ChromeDriver keeps running in background","body":"<p>I am not able to completely delete a project, because the chromedriver instance is running in the background, even when there is no code is being executed.\nPlease see the below image.\n<a href=\"https://i.stack.imgur.com/bt1Tb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bt1Tb.png\" alt=\"Task Manager Process View\" /></a></p>\n<p>The error I get while the project deletion is:<a href=\"https://i.stack.imgur.com/pKIO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pKIO0.png\" alt=\"Eclipse error while project deletion\" /></a></p>\n<p>Take the below code for instance:</p>\n<pre><code>import java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Test {\n\n    public static void main(String[] args) throws Exception {\n\n        String url = &quot;https://www.google.com&quot;;\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/driver/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n        driver.get(url);\n        System.out.println(driver.getTitle());\n\n    }\n}\n</code></pre>\n<p>Try running this code, say 5 times, and there will be 5 background running instances. Tried restarting Eclipse, with no luck.</p>\n<p>I understand this is happening because I am not writing this line:</p>\n<pre><code>driver.close();\n</code></pre>\n<p>But normally, when the main-thread dies, all supporting running instances should die with it.</p>\n<p>Is this a known issue, or I am scripting something wrong.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","math","jsp"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1228478026,"post_id":343584,"comment_id":178153,"body_markdown":"You seem to have an inaccurate idea of what mantissa and exponent are. They aren&#39;t just &quot;whole part&quot; and &quot;fractional part&quot;. See http://en.wikipedia.org/wiki/Floating_point","body":"You seem to have an inaccurate idea of what mantissa and exponent are. They aren&#39;t just &quot;whole part&quot; and &quot;fractional part&quot;. See <a href=\"http://en.wikipedia.org/wiki/Floating_point\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Floating_point</a>"},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":0,"creation_date":1239022397,"post_id":343584,"comment_id":533177,"body_markdown":"Keep the original title otherwise most of the answers don&#39;t make sense.","body":"Keep the original title otherwise most of the answers don&#39;t make sense."}],"answers":[{"comments":[{"owner":{"account_id":4106,"reputation":12708,"user_id":6069,"accept_rate":56,"display_name":"agnul"},"score":0,"creation_date":1228478484,"post_id":343598,"comment_id":178165,"body_markdown":"Isn&#39;t the first bit of the mantinssa implicitly set to 1, so the mantissa should be (bits &amp; 0x000fffffffffffffL) | 0x0010000000000000L?","body":"Isn&#39;t the first bit of the mantinssa implicitly set to 1, so the mantissa should be (bits &amp; 0x000fffffffffffffL) | 0x0010000000000000L?"},{"owner":{"account_id":14042,"reputation":40275,"user_id":28557,"accept_rate":78,"display_name":"Vinayak Bevinakatti"},"score":0,"creation_date":1228478871,"post_id":343598,"comment_id":178171,"body_markdown":"Rasmus it wasnt a ryt output\nOutput: exponent 0  and  mantissa 2814749767106560\n\nand if u choose urs agnul the mantissa is 0","body":"Rasmus it wasnt a ryt output Output: exponent 0  and  mantissa 2814749767106560  and if u choose urs agnul the mantissa is 0"},{"owner":{"account_id":1274,"reputation":134952,"user_id":1695,"accept_rate":53,"display_name":"Gishu"},"score":0,"creation_date":1228479988,"post_id":343598,"comment_id":178191,"body_markdown":"Broken with 4 up votes:) Although I see what the code is trying to do with taking apart double value at its joints, the code doesn&#39;t seem to output the right values.","body":"Broken with 4 up votes:) Although I see what the code is trying to do with taking apart double value at its joints, the code doesn&#39;t seem to output the right values."},{"owner":{"account_id":3795,"reputation":48941,"user_id":5542,"accept_rate":61,"display_name":"Rasmus Faber"},"score":0,"creation_date":1228483975,"post_id":343598,"comment_id":178304,"body_markdown":"@agnul: I think &quot;mantissa&quot; usually refers to just the value of the bits. You might just convert this to the significand by (sometimes) prepending a 1 bit. But according to Wikipedia, the word mantissa is now deprecated in favor of &quot;fraction&quot;.","body":"@agnul: I think &quot;mantissa&quot; usually refers to just the value of the bits. You might just convert this to the significand by (sometimes) prepending a 1 bit. But according to Wikipedia, the word mantissa is now deprecated in favor of &quot;fraction&quot;."}],"tags":[],"owner":{"account_id":3795,"reputation":48941,"user_id":5542,"accept_rate":61,"display_name":"Rasmus Faber"},"comment_count":4,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1452945106,"creation_date":1228477478,"answer_id":343598,"question_id":343584,"body_markdown":"The original question asked for the exponent and mantissa, rather than the fractional and whole part.\r\n\r\nTo get the exponent and mantissa from a double you can convert it into the [IEEE 754][1] representation and extract the bits like this:\r\n\r\n    long bits = Double.doubleToLongBits(3.25);\r\n        \r\n    boolean isNegative = (bits &amp; 0x8000000000000000L) != 0; \r\n    long exponent      = (bits &amp; 0x7ff0000000000000L) &gt;&gt; 52;\r\n    long mantissa      =  bits &amp; 0x000fffffffffffffL;\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/IEEE_754 ","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>The original question asked for the exponent and mantissa, rather than the fractional and whole part.</p>\n\n<p>To get the exponent and mantissa from a double you can convert it into the <a href=\"http://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE 754</a> representation and extract the bits like this:</p>\n\n<pre><code>long bits = Double.doubleToLongBits(3.25);\n\nboolean isNegative = (bits &amp; 0x8000000000000000L) != 0; \nlong exponent      = (bits &amp; 0x7ff0000000000000L) &gt;&gt; 52;\nlong mantissa      =  bits &amp; 0x000fffffffffffffL;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":53922,"reputation":17217,"user_id":161257,"accept_rate":66,"display_name":"HRJ"},"score":12,"creation_date":1314714375,"post_id":343602,"comment_id":8713979,"body_markdown":"Why is this downvoted? Works fine, and with my edit will work with negative values as well.","body":"Why is this downvoted? Works fine, and with my edit will work with negative values as well."},{"owner":{"account_id":1579407,"reputation":533,"user_id":1465085,"display_name":"jdurango"},"score":0,"creation_date":1392915379,"post_id":343602,"comment_id":33190676,"body_markdown":"The integer part could be =&gt; long longPart = (long)3.25","body":"The integer part could be =&gt; long longPart = (long)3.25"},{"owner":{"account_id":208286,"reputation":12128,"user_id":458668,"accept_rate":70,"display_name":"WindRider"},"score":2,"creation_date":1397643626,"post_id":343602,"comment_id":35319859,"body_markdown":"Won&#39;t work for neg. values. I.e. -3.25 % 1 = 0.75 not 0.25. So integralPart will be -3.25 - 0.75 = -4.","body":"Won&#39;t work for neg. values. I.e. -3.25 % 1 = 0.75 not 0.25. So integralPart will be -3.25 - 0.75 = -4."},{"owner":{"account_id":442482,"reputation":713,"user_id":833111,"accept_rate":83,"display_name":"shams.haq"},"score":3,"creation_date":1410962378,"post_id":343602,"comment_id":40523709,"body_markdown":"@WindRider, I checked for negative.. and its works.. however for decimal places which are small in number, there will be a slight error. Ex. for -03.0025 it returns -0.0024999999999999467 and -3.0","body":"@WindRider, I checked for negative.. and its works.. however for decimal places which are small in number, there will be a slight error. Ex. for -03.0025 it returns -0.0024999999999999467 and -3.0"},{"owner":{"account_id":1264833,"reputation":5628,"user_id":1623645,"accept_rate":73,"display_name":"Jim Pivarski"},"score":7,"creation_date":1422601956,"post_id":343602,"comment_id":44824240,"body_markdown":"The confusion here is because some languages, such as Python, use `%` to mean modulo (`-3.25 % 1 == 0.75`) and others, such as Java, Fortran, C, and C++, use `%` to mean remainder (`-3.25 % 1 == -0.25`).  WindRider may have typed it into a Python REPL for expediency, but that answer is misleading because this question is about the JVM.","body":"The confusion here is because some languages, such as Python, use <code>%</code> to mean modulo (<code>-3.25 % 1 == 0.75</code>) and others, such as Java, Fortran, C, and C++, use <code>%</code> to mean remainder (<code>-3.25 % 1 == -0.25</code>).  WindRider may have typed it into a Python REPL for expediency, but that answer is misleading because this question is about the JVM."}],"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"comment_count":5,"down_vote_count":2,"up_vote_count":172,"is_accepted":false,"score":170,"last_activity_date":1228483090,"creation_date":1228477857,"answer_id":343602,"question_id":343584,"body_markdown":"    double value = 3.25;\r\n    double fractionalPart = value % 1;\r\n    double integralPart = value - fractionalPart;","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<pre><code>double value = 3.25;\ndouble fractionalPart = value % 1;\ndouble integralPart = value - fractionalPart;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1228485418,"creation_date":1228478516,"answer_id":343621,"question_id":343584,"body_markdown":"_[Edit: The question originally asked how to get the mantissa and exponent.]_\r\n\r\nWhere _n_ is the number to get the real mantissa/exponent:\r\n\r\n    exponent = int(log(n))\r\n    mantissa = n / 10^exponent\r\n\r\nOr, to get the answer you were looking for:\r\n\r\n    exponent = int(n)\r\n    mantissa = n - exponent\r\n\r\nThese are not Java exactly but should be easy to convert.","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p><em>[Edit: The question originally asked how to get the mantissa and exponent.]</em></p>\n\n<p>Where <em>n</em> is the number to get the real mantissa/exponent:</p>\n\n<pre><code>exponent = int(log(n))\nmantissa = n / 10^exponent\n</code></pre>\n\n<p>Or, to get the answer you were looking for:</p>\n\n<pre><code>exponent = int(n)\nmantissa = n - exponent\n</code></pre>\n\n<p>These are not Java exactly but should be easy to convert.</p>\n"},{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1445923576,"creation_date":1228478727,"answer_id":343629,"question_id":343584,"body_markdown":"The mantissa and exponent of an IEEE double floating point number are the values such that\r\n\r\n    value = sign * (1 + mantissa) * pow(2, exponent)\r\n\r\nif the mantissa is of the form 0.101010101_base 2 (ie its most sigificant bit is shifted to be after the binary point) and the exponent is adjusted for bias.\r\n\r\nSince 1.6, java.lang.Math also provides a direct method to get the unbiased exponent (called getExponent(double)) \r\n\r\nHowever, the numbers you&#39;re asking for are the integral and fractional parts of the number, which can be obtained using\r\n\r\n    integral = Math.floor(x)\r\n    fractional = x - Math.floor(x)\r\n\r\nthough you may you want to treat negative numbers differently `(floor(-3.5) == -4.0)`, depending why you want the two parts.\r\n\r\nI&#39;d strongly suggest that you don&#39;t call these mantissa and exponent.","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>The mantissa and exponent of an IEEE double floating point number are the values such that</p>\n\n<pre><code>value = sign * (1 + mantissa) * pow(2, exponent)\n</code></pre>\n\n<p>if the mantissa is of the form 0.101010101_base 2 (ie its most sigificant bit is shifted to be after the binary point) and the exponent is adjusted for bias.</p>\n\n<p>Since 1.6, java.lang.Math also provides a direct method to get the unbiased exponent (called getExponent(double)) </p>\n\n<p>However, the numbers you're asking for are the integral and fractional parts of the number, which can be obtained using</p>\n\n<pre><code>integral = Math.floor(x)\nfractional = x - Math.floor(x)\n</code></pre>\n\n<p>though you may you want to treat negative numbers differently <code>(floor(-3.5) == -4.0)</code>, depending why you want the two parts.</p>\n\n<p>I'd strongly suggest that you don't call these mantissa and exponent.</p>\n"},{"comments":[{"owner":{"account_id":69497,"reputation":6662,"user_id":202146,"accept_rate":72,"display_name":"Chris"},"score":61,"creation_date":1337206196,"post_id":343643,"comment_id":13774409,"body_markdown":"Actually this page is the first hit on a google search for &quot;get fractional and whole part out from double java&quot; =)","body":"Actually this page is the first hit on a google search for &quot;get fractional and whole part out from double java&quot; =)"},{"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"score":13,"creation_date":1351771827,"post_id":343643,"comment_id":17931964,"body_markdown":"Actually this answer is incorrect, for values larger than long can represent it will give huge numbers in the fractional part. Dan Vinton answer below is just as simple and always returns the correct result.","body":"Actually this answer is incorrect, for values larger than long can represent it will give huge numbers in the fractional part. Dan Vinton answer below is just as simple and always returns the correct result."},{"owner":{"account_id":147084,"reputation":2342,"user_id":357958,"accept_rate":67,"display_name":"Alex"},"score":3,"creation_date":1372792932,"post_id":343643,"comment_id":25324107,"body_markdown":"so actually, this is not correct, as you can see in the output. the input is fraction of 3 and output is 29999999...using BigDecimal instead of Double will do the trick though","body":"so actually, this is not correct, as you can see in the output. the input is fraction of 3 and output is 29999999...using BigDecimal instead of Double will do the trick though"},{"owner":{"account_id":3787937,"reputation":5676,"user_id":3886922,"accept_rate":69,"display_name":"Confuse"},"score":0,"creation_date":1431621957,"post_id":343643,"comment_id":48586646,"body_markdown":"0.2999999999999 is equal to 0.3","body":"0.2999999999999 is equal to 0.3"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":2,"creation_date":1433451721,"post_id":343643,"comment_id":49371131,"body_markdown":"@Alex No, the input is a number which is very close to `2.3`, but surely not `2.3`. And there&#39;s nothing wrong with the output, unless you want much more than 10 valid digits. All you need is some rounding in each output (e.g., format `%.9f`) which is usually less pain than `BigDecimal`. The only problem here is the overflow.","body":"@Alex No, the input is a number which is very close to <code>2.3</code>, but surely not <code>2.3</code>. And there&#39;s nothing wrong with the output, unless you want much more than 10 valid digits. All you need is some rounding in each output (e.g., format <code>%.9f</code>) which is usually less pain than <code>BigDecimal</code>. The only problem here is the overflow."},{"owner":{"account_id":221004,"reputation":11902,"user_id":478742,"accept_rate":64,"display_name":"mojuba"},"score":1,"creation_date":1453493246,"post_id":343643,"comment_id":57641639,"body_markdown":"Converting double to int is almost always a bad idea. Because e.g. for `(long)1.0e100` you will get 0. A lot of the times you need the double value simply &quot;floored&quot; for which there is `floor()`. If you want both integral and fraction parts use `modf()`. Really, this is a bad answer.","body":"Converting double to int is almost always a bad idea. Because e.g. for <code>(long)1.0e100</code> you will get 0. A lot of the times you need the double value simply &quot;floored&quot; for which there is <code>floor()</code>. If you want both integral and fraction parts use <code>modf()</code>. Really, this is a bad answer."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":1,"creation_date":1620312604,"post_id":343643,"comment_id":119169020,"body_markdown":"@mojuba there is no `modf()` in Java","body":"@mojuba there is no <code>modf()</code> in Java"}],"tags":[],"owner":{"account_id":1274,"reputation":134952,"user_id":1695,"accept_rate":53,"display_name":"Gishu"},"comment_count":7,"down_vote_count":8,"up_vote_count":113,"is_accepted":true,"score":105,"last_activity_date":1574779692,"creation_date":1228479339,"answer_id":343643,"question_id":343584,"body_markdown":"http://www.java2s.com/Code/Java/Data-Type/Obtainingtheintegerandfractionalparts.htm\r\n\r\n    double num;\r\n    long iPart;\r\n    double fPart;\r\n    \r\n    // Get user input\r\n    num = 2.3d;\r\n    iPart = (long) num;\r\n    fPart = num - iPart;\r\n    System.out.println(&quot;Integer part = &quot; + iPart);\r\n    System.out.println(&quot;Fractional part = &quot; + fPart);\r\n\r\nOutputs:\r\n\r\n    Integer part = 2\r\n    Fractional part = 0.2999999999999998\r\n\r\n","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p><a href=\"http://www.java2s.com/Code/Java/Data-Type/Obtainingtheintegerandfractionalparts.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Java/Data-Type/Obtainingtheintegerandfractionalparts.htm</a></p>\n\n<pre><code>double num;\nlong iPart;\ndouble fPart;\n\n// Get user input\nnum = 2.3d;\niPart = (long) num;\nfPart = num - iPart;\nSystem.out.println(\"Integer part = \" + iPart);\nSystem.out.println(\"Fractional part = \" + fPart);\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>Integer part = 2\nFractional part = 0.2999999999999998\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1378059095,"post_id":721061,"comment_id":27307761,"body_markdown":"This only works if the number has exactly 4 decimal places. Not otherwise.","body":"This only works if the number has exactly 4 decimal places. Not otherwise."}],"tags":[],"owner":{"display_name":"Khawar"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1239026205,"creation_date":1239017469,"answer_id":721061,"question_id":343584,"body_markdown":"    public class MyMain2 {\r\n        public static void main(String[] args) {\r\n            double myDub;\r\n            myDub=1234.5678;\r\n            long myLong;\r\n            myLong=(int)myDub;\r\n            myDub=(myDub%1)*10000;\r\n            int myInt=(int)myDub;\r\n            System.out.println(myLong + &quot;\\n&quot; + myInt);\r\n        }\r\n    }\r\n\r\n","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<pre><code>public class MyMain2 {\n    public static void main(String[] args) {\n        double myDub;\n        myDub=1234.5678;\n        long myLong;\n        myLong=(int)myDub;\n        myDub=(myDub%1)*10000;\n        int myInt=(int)myDub;\n        System.out.println(myLong + \"\\n\" + myInt);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1675435952,"creation_date":1266067214,"answer_id":2257643,"question_id":343584,"body_markdown":"Use [JSTL][1] ([installation instructions here][2]) [fmt][3] taglib. There&#39;s a [`&lt;fmt:formatNumber&gt;`][4] tag which does exactly what you want and in a quite easy manner with help of `maxFractionDigits` and `maxIntegerDigits` attributes. \r\n\r\nHere&#39;s an [MCVE][5], just copy&#39;n&#39;paste&#39;n&#39;run it.\r\n```xml\r\n&lt;!DOCTYPE html&gt;\r\n&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;\r\n&lt;%\r\n    // Just for quick prototyping. Don&#39;t do this in real! Use servlet/javabean.\r\n    double d = 3.25;\r\n    request.setAttribute(&quot;d&quot;, d);\r\n%&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;SO question 343584&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p&gt;Whole: &lt;fmt:formatNumber value=&quot;${d}&quot; maxFractionDigits=&quot;0&quot; /&gt;\r\n        &lt;p&gt;Fraction: &lt;fmt:formatNumber value=&quot;${d}&quot; maxIntegerDigits=&quot;0&quot; /&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n&lt;sub&gt;*(NOTE: if you&#39;re not on JSTL 3.0+ yet, use `uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot;` instead)*&lt;/sub&gt;\r\n\r\nOutput:\r\n\r\n&gt; Whole: 3\r\n&gt; \r\n&gt; Fraction: .25\r\n\r\nThat&#39;s it. No need to massage it with help of plain Java code.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/tags/3.0/tagdocs/\r\n  [2]: https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r/4928309#4928309\r\n  [3]: https://jakarta.ee/specifications/tags/3.0/tagdocs/fmt/tld-summary.html\r\n  [4]: http://java.sun.com/products/jsp/jstl/1.1/docs/tlddocs/fmt/formatNumber.html\r\n  [5]: https://stackoverflow.com/help/minimal-reproducible-example\r\n","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>Use <a href=\"https://jakarta.ee/specifications/tags/3.0/tagdocs/\" rel=\"nofollow noreferrer\">JSTL</a> (<a href=\"https://stackoverflow.com/questions/4928271/how-to-install-jstl-the-absolute-uri-http-java-sun-com-jstl-core-cannot-be-r/4928309#4928309\">installation instructions here</a>) <a href=\"https://jakarta.ee/specifications/tags/3.0/tagdocs/fmt/tld-summary.html\" rel=\"nofollow noreferrer\">fmt</a> taglib. There's a <a href=\"http://java.sun.com/products/jsp/jstl/1.1/docs/tlddocs/fmt/formatNumber.html\" rel=\"nofollow noreferrer\"><code>&lt;fmt:formatNumber&gt;</code></a> tag which does exactly what you want and in a quite easy manner with help of <code>maxFractionDigits</code> and <code>maxIntegerDigits</code> attributes.</p>\n<p>Here's an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>, just copy'n'paste'n'run it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;%@ taglib uri=&quot;jakarta.tags.fmt&quot; prefix=&quot;fmt&quot; %&gt;\n&lt;%\n    // Just for quick prototyping. Don't do this in real! Use servlet/javabean.\n    double d = 3.25;\n    request.setAttribute(&quot;d&quot;, d);\n%&gt;\n&lt;html lang=&quot;en&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;SO question 343584&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p&gt;Whole: &lt;fmt:formatNumber value=&quot;${d}&quot; maxFractionDigits=&quot;0&quot; /&gt;\n        &lt;p&gt;Fraction: &lt;fmt:formatNumber value=&quot;${d}&quot; maxIntegerDigits=&quot;0&quot; /&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><sub><em>(NOTE: if you're not on JSTL 3.0+ yet, use <code>uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot;</code> instead)</em></sub></p>\n<p>Output:</p>\n<blockquote>\n<p>Whole: 3</p>\n<p>Fraction: .25</p>\n</blockquote>\n<p>That's it. No need to massage it with help of plain Java code.</p>\n"},{"comments":[{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":0,"creation_date":1268568977,"post_id":2416532,"comment_id":2427851,"body_markdown":"Just try all the numbers from my example. `fmt:formatNumber` rounds its argument, which is not wanted in this case.","body":"Just try all the numbers from my example. <code>fmt:formatNumber</code> rounds its argument, which is not wanted in this case."}],"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268221404,"creation_date":1268221404,"answer_id":2416532,"question_id":343584,"body_markdown":"Since the `fmt:formatNumber` tag doesn&#39;t always yield the correct result, here is another JSP-only approach: It just formats the number as string and does the rest of the computation on the string, since that is easier and doesn&#39;t involve further floating point arithmetics.\r\n\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; prefix=&quot;fn&quot; %&gt;\r\n\r\n    &lt;%\r\n      double[] numbers = { 0.0, 3.25, 3.75, 3.5, 2.5, -1.5, -2.5 };\r\n      pageContext.setAttribute(&quot;numbers&quot;, numbers);\r\n    %&gt;\r\n\r\n    &lt;html&gt;\r\n      &lt;body&gt;\r\n        &lt;ul&gt;\r\n          &lt;c:forEach var=&quot;n&quot; items=&quot;${numbers}&quot;&gt;\r\n            &lt;li&gt;${n} = ${fn:substringBefore(n, &quot;.&quot;)} + ${n - fn:substringBefore(n, &quot;.&quot;)}&lt;/li&gt;\r\n          &lt;/c:forEach&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>Since the <code>fmt:formatNumber</code> tag doesn't always yield the correct result, here is another JSP-only approach: It just formats the number as string and does the rest of the computation on the string, since that is easier and doesn't involve further floating point arithmetics.</p>\n\n<pre><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %&gt;\n\n&lt;%\n  double[] numbers = { 0.0, 3.25, 3.75, 3.5, 2.5, -1.5, -2.5 };\n  pageContext.setAttribute(\"numbers\", numbers);\n%&gt;\n\n&lt;html&gt;\n  &lt;body&gt;\n    &lt;ul&gt;\n      &lt;c:forEach var=\"n\" items=\"${numbers}\"&gt;\n        &lt;li&gt;${n} = ${fn:substringBefore(n, \".\")} + ${n - fn:substringBefore(n, \".\")}&lt;/li&gt;\n      &lt;/c:forEach&gt;\n    &lt;/ul&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1381869414,"post_id":18517555,"comment_id":28739343,"body_markdown":"Now the person that did the down-vote (not me btw), should have explained _why_ there was a down-vote.  That&#39;s not good.  But all of us had a score of 1 at some point or other.","body":"Now the person that did the down-vote (not me btw), should have explained <i>why</i> there was a down-vote.  That&#39;s not good.  But all of us had a score of 1 at some point or other."},{"owner":{"account_id":2927376,"reputation":720,"user_id":2508414,"accept_rate":33,"display_name":"OnePunchMan"},"score":2,"creation_date":1381869461,"post_id":18517555,"comment_id":28739368,"body_markdown":"@Gray the question was to separate 3.25 as &#39;3&#39; and &#39;25&#39;, and the accepted answer will never ever give &#39;25&#39;, it will always give &#39;2599999999&#39;","body":"@Gray the question was to separate 3.25 as &#39;3&#39; and &#39;25&#39;, and the accepted answer will never ever give &#39;25&#39;, it will always give &#39;2599999999&#39;"},{"owner":{"account_id":1029785,"reputation":1002,"user_id":1038336,"accept_rate":40,"display_name":"Guilherme Campos Hazan"},"score":2,"creation_date":1467719303,"post_id":18517555,"comment_id":63829088,"body_markdown":"This anwer is very useful if you want the fractional part as an integer","body":"This anwer is very useful if you want the fractional part as an integer"}],"tags":[],"owner":{"account_id":2927376,"reputation":720,"user_id":2508414,"accept_rate":33,"display_name":"OnePunchMan"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1385630844,"creation_date":1377797894,"answer_id":18517555,"question_id":343584,"body_markdown":"Main logic you have to first find how many digits are there after the decimal point.   \r\n This code works for any number upto 16 digits. If you use BigDecimal you can run it just for upto 18 digits. put the input value (your number) to the variable &quot;num&quot;, here as an example i have hard coded it.\r\n\r\n    double num, temp=0;\r\n    double frac,j=1;\r\n\r\n    num=1034.235;\r\n    // FOR THE FRACTION PART\r\n    do{\r\n    j=j*10;\r\n    temp= num*j;\r\n    }while((temp%10)!=0);       \r\n\r\n    j=j/10;\r\n    temp=(int)num;\r\n    frac=(num*j)-(temp*j);\r\n\r\n    System.out.println(&quot;Double number= &quot;+num);      \r\n    System.out.println(&quot;Whole part= &quot;+(int)num+&quot; fraction part= &quot;+(int)frac);","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>Main logic you have to first find how many digits are there after the decimal point.<br>\n This code works for any number upto 16 digits. If you use BigDecimal you can run it just for upto 18 digits. put the input value (your number) to the variable \"num\", here as an example i have hard coded it.</p>\n\n<pre><code>double num, temp=0;\ndouble frac,j=1;\n\nnum=1034.235;\n// FOR THE FRACTION PART\ndo{\nj=j*10;\ntemp= num*j;\n}while((temp%10)!=0);       \n\nj=j/10;\ntemp=(int)num;\nfrac=(num*j)-(temp*j);\n\nSystem.out.println(\"Double number= \"+num);      \nSystem.out.println(\"Whole part= \"+(int)num+\" fraction part= \"+(int)frac);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1267837,"reputation":9823,"user_id":1224741,"accept_rate":91,"display_name":"QED"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381360069,"creation_date":1381360069,"answer_id":19284357,"question_id":343584,"body_markdown":"Don&#39;t know if this is faster but I&#39;m using\r\n\r\n    float fp = ip % 1.0f;","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>Don't know if this is faster but I'm using</p>\n\n<pre><code>float fp = ip % 1.0f;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4095365,"reputation":27,"user_id":3362306,"display_name":"benofben"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1409890360,"creation_date":1409890360,"answer_id":25678502,"question_id":343584,"body_markdown":"A lot of these answers have horrid rounding errors because they&#39;re casting numbers from one type to another.  How about:\r\n\r\n    double x=123.456;\r\n    double fractionalPart = x-Math.floor(x);\r\n    double wholePart = Math.floor(x);\r\n","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>A lot of these answers have horrid rounding errors because they're casting numbers from one type to another.  How about:</p>\n\n<pre><code>double x=123.456;\ndouble fractionalPart = x-Math.floor(x);\ndouble wholePart = Math.floor(x);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2035363,"reputation":1,"user_id":1817835,"display_name":"user1817835"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438949190,"creation_date":1438949190,"answer_id":31877346,"question_id":343584,"body_markdown":"The accepted answer don&#39;t work well for negative numbers between -0 and -1.0\r\nAlso give the fractional part negative.\r\n\r\nFor example: \r\nFor number -0,35 \r\n\r\nreturns\r\n\r\nInteger part = 0\r\nFractional part = -0.35\r\n\r\nIf wou are working with GPS coordinates it is better to have a result with the signum on the integer part as:\r\n\r\nInteger part = -0 \r\nFractional part = 0.35 \r\n\r\nTheses  numbers are used for example for GPS coordinates, where are important the signum for Lat or Long position\r\n\r\nPropose code:\r\n\r\n        double num;\r\n        double iPart;\r\n        double fPart;\r\n\r\n        // Get user input\r\n        num = -0.35d;\r\n        iPart = (long) num;\r\n        //Correct numbers between -0.0 and -1.0\r\n        iPart = (num&lt;=-0.0000001 &amp;&amp; num&gt;-1.0)? -iPart : iPart ;\r\n        fPart = Math.abs(num - iPart);\r\n        System.out.println(String.format(&quot;Integer part = %01.0f&quot;,iPart));\r\n        System.out.println(String.format(&quot;Fractional part = %01.04f&quot;,fPart));\r\n\r\n\r\nOutput:\r\n\r\n    Integer part = -0\r\n    Fractional part = 0,3500\r\n\r\n","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>The accepted answer don't work well for negative numbers between -0 and -1.0\nAlso give the fractional part negative.</p>\n\n<p>For example: \nFor number -0,35 </p>\n\n<p>returns</p>\n\n<p>Integer part = 0\nFractional part = -0.35</p>\n\n<p>If wou are working with GPS coordinates it is better to have a result with the signum on the integer part as:</p>\n\n<p>Integer part = -0 \nFractional part = 0.35 </p>\n\n<p>Theses  numbers are used for example for GPS coordinates, where are important the signum for Lat or Long position</p>\n\n<p>Propose code:</p>\n\n<pre><code>    double num;\n    double iPart;\n    double fPart;\n\n    // Get user input\n    num = -0.35d;\n    iPart = (long) num;\n    //Correct numbers between -0.0 and -1.0\n    iPart = (num&lt;=-0.0000001 &amp;&amp; num&gt;-1.0)? -iPart : iPart ;\n    fPart = Math.abs(num - iPart);\n    System.out.println(String.format(\"Integer part = %01.0f\",iPart));\n    System.out.println(String.format(\"Fractional part = %01.04f\",fPart));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Integer part = -0\nFractional part = 0,3500\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445924275,"creation_date":1445924275,"answer_id":33360625,"question_id":343584,"body_markdown":"Since Java 8, you can use `Math.floorDiv`.\r\n\r\nIt returns the largest (closest to positive infinity) `int` value that is less than or equal to the algebraic quotient.\r\n\r\nSome examples:\r\n\r\n    floorDiv(4, 3) == 1\r\n    floorDiv(-4, 3) == -2\r\n\r\nAlternatively, the `/` operator can be used:\r\n\r\n    (4 / 3) == 1\r\n    (-4 / 3) == -1\r\n\r\nReferences:\r\n\r\n* [Java 8 : Math.floorDiv(int,int)][1]\r\n* [Java 8 : Math.floorDiv(long,long)][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorDiv-int-int-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorDiv-long-long-","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>Since Java 8, you can use <code>Math.floorDiv</code>.</p>\n\n<p>It returns the largest (closest to positive infinity) <code>int</code> value that is less than or equal to the algebraic quotient.</p>\n\n<p>Some examples:</p>\n\n<pre><code>floorDiv(4, 3) == 1\nfloorDiv(-4, 3) == -2\n</code></pre>\n\n<p>Alternatively, the <code>/</code> operator can be used:</p>\n\n<pre><code>(4 / 3) == 1\n(-4 / 3) == -1\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorDiv-int-int-\" rel=\"nofollow\">Java 8 : Math.floorDiv(int,int)</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorDiv-long-long-\" rel=\"nofollow\">Java 8 : Math.floorDiv(long,long)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2666781,"reputation":1100,"user_id":2305034,"display_name":"Endery"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450786905,"creation_date":1450786905,"answer_id":34415841,"question_id":343584,"body_markdown":"I would use BigDecimal for the solution. Like this:\r\n\r\n        double value = 3.25;\r\n\t\tBigDecimal wholeValue = BigDecimal.valueOf(value).setScale(0, BigDecimal.ROUND_DOWN);\r\n\t\tdouble fractionalValue = value - wholeValue.doubleValue();\r\n\r\n    ","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>I would use BigDecimal for the solution. Like this:</p>\n\n<pre><code>    double value = 3.25;\n    BigDecimal wholeValue = BigDecimal.valueOf(value).setScale(0, BigDecimal.ROUND_DOWN);\n    double fractionalValue = value - wholeValue.doubleValue();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6301091,"reputation":38074,"user_id":4895725,"display_name":"lmo"},"score":0,"creation_date":1472995512,"post_id":39315178,"comment_id":65966759,"body_markdown":"This answer has been flagged as low quality. If it answers the question, consider adding a bit of text to explain how it works.","body":"This answer has been flagged as low quality. If it answers the question, consider adding a bit of text to explain how it works."}],"tags":[],"owner":{"account_id":2137050,"reputation":29,"user_id":1896545,"display_name":"Mohamed Sabirulla"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472980347,"creation_date":1472979266,"answer_id":39315178,"question_id":343584,"body_markdown":"    String value = &quot;3.06&quot;;\r\n\r\n    if(!value.isEmpty()){\r\n\t    if(value.contains(&quot;.&quot;)){\t\r\n  \t\t    String block = value.substring(0,value.indexOf(&quot;.&quot;));\r\n\t\t    System.out.println(block);\r\n  \t    }else{\r\n\t\t    System.out.println(value);\r\n   \t    }\r\n    }","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<pre><code>String value = \"3.06\";\n\nif(!value.isEmpty()){\n    if(value.contains(\".\")){    \n        String block = value.substring(0,value.indexOf(\".\"));\n        System.out.println(block);\n    }else{\n        System.out.println(value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3552517,"reputation":69,"user_id":2967057,"display_name":"roybraym"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477108047,"creation_date":1477108047,"answer_id":40188113,"question_id":343584,"body_markdown":"What if your number is 2.39999999999999. I suppose you want to get the exact decimal value. Then use BigDecimal:\r\n\r\n    Integer x,y,intPart;\r\n    BigDecimal bd,bdInt,bdDec;\r\n\tbd = new BigDecimal(&quot;2.39999999999999&quot;);\r\n\tintPart = bd.intValue();\r\n\tbdInt = new BigDecimal(intPart);\r\n\tbdDec = bd.subtract(bdInt);\r\n\tSystem.out.println(&quot;Number : &quot; + bd);\r\n\tSystem.out.println(&quot;Whole number part : &quot; + bdInt);\r\n\tSystem.out.println(&quot;Decimal number part : &quot; + bdDec);","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>What if your number is 2.39999999999999. I suppose you want to get the exact decimal value. Then use BigDecimal:</p>\n\n<pre><code>Integer x,y,intPart;\nBigDecimal bd,bdInt,bdDec;\nbd = new BigDecimal(\"2.39999999999999\");\nintPart = bd.intValue();\nbdInt = new BigDecimal(intPart);\nbdDec = bd.subtract(bdInt);\nSystem.out.println(\"Number : \" + bd);\nSystem.out.println(\"Whole number part : \" + bdInt);\nSystem.out.println(\"Decimal number part : \" + bdDec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13411266,"reputation":11,"user_id":9677624,"display_name":"w__"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1587809553,"creation_date":1587809553,"answer_id":61424077,"question_id":343584,"body_markdown":"    // target float point number\r\n    double d = 3.025;\r\n \r\n    // transfer the number to string\r\n    DecimalFormat df = new DecimalFormat();\r\n    df.setDecimalSeparatorAlwaysShown(false);\r\n    String format = df.format(d);\r\n\r\n    // split the number into two fragments\r\n    int dotIndex = format.indexOf(&quot;.&quot;);\r\n    int iPart = Integer.parseInt(format.substring(0, dotIndex)); // output: 3\r\n    double fPart = Double.parseDouble(format.substring(dotIndex)); // output: 0.025","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<pre><code>// target float point number\ndouble d = 3.025;\n\n// transfer the number to string\nDecimalFormat df = new DecimalFormat();\ndf.setDecimalSeparatorAlwaysShown(false);\nString format = df.format(d);\n\n// split the number into two fragments\nint dotIndex = format.indexOf(\".\");\nint iPart = Integer.parseInt(format.substring(0, dotIndex)); // output: 3\ndouble fPart = Double.parseDouble(format.substring(dotIndex)); // output: 0.025\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user7655213"},"score":0,"creation_date":1592610434,"post_id":62478596,"comment_id":110496737,"body_markdown":"If you have a double, it has float imprecision. Converting it to a BigDecimal will not magically restore its precision.","body":"If you have a double, it has float imprecision. Converting it to a BigDecimal will not magically restore its precision."},{"owner":{"account_id":11436372,"reputation":29,"user_id":8383660,"display_name":"Omar Elashry"},"score":0,"creation_date":1592664409,"post_id":62478596,"comment_id":110508494,"body_markdown":"@Taschi i think the question is about separating the int and the fractional part, not about restore its precision!","body":"@Taschi i think the question is about separating the int and the fractional part, not about restore its precision!"},{"owner":{"display_name":"user7655213"},"score":0,"creation_date":1592664533,"post_id":62478596,"comment_id":110508536,"body_markdown":"Omar, you specifically talked about your approach being &quot;more accurate&quot;, which I think is just not true. Your answer is entirely acceptable but that wording seems misleading to me, which is why I commented on it.","body":"Omar, you specifically talked about your approach being &quot;more accurate&quot;, which I think is just not true. Your answer is entirely acceptable but that wording seems misleading to me, which is why I commented on it."},{"owner":{"account_id":11436372,"reputation":29,"user_id":8383660,"display_name":"Omar Elashry"},"score":0,"creation_date":1592664996,"post_id":62478596,"comment_id":110508711,"body_markdown":"@Taschi, i said that because in many answers you lose value when you get the output, e.g. `input (5.03)` `output int = 5 , fractional = 0.0299999` , we are talking about inputs and outputs, u put value and get back your value without losing 0.001% of it! and this accurate, not misleading!","body":"@Taschi, i said that because in many answers you lose value when you get the output, e.g. <code>input (5.03)</code> <code>output int = 5 , fractional = 0.0299999</code> , we are talking about inputs and outputs, u put value and get back your value without losing 0.001% of it! and this accurate, not misleading!"},{"owner":{"display_name":"user7655213"},"score":0,"creation_date":1592666973,"post_id":62478596,"comment_id":110509404,"body_markdown":"yes. You lose precision when you store something as a double in the first place. Rounding when converting to a BigDecimal also loses precision. Those two losses of precision may cancel each other out, but that does not &quot;restore&quot; precision, because restoring precision is mathematically impossible. You cannot pull information out of thin air.","body":"yes. You lose precision when you store something as a double in the first place. Rounding when converting to a BigDecimal also loses precision. Those two losses of precision may cancel each other out, but that does not &quot;restore&quot; precision, because restoring precision is mathematically impossible. You cannot pull information out of thin air."}],"tags":[],"owner":{"account_id":11436372,"reputation":29,"user_id":8383660,"display_name":"Omar Elashry"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592601541,"creation_date":1592601076,"answer_id":62478596,"question_id":343584,"body_markdown":"OK this is maybe late, but i think the best and more accurate approach is using BigDecimal\r\n\r\n    double d = 11.38;\r\n\r\n    BigDecimal bigD = BigDecimal.valueOf(d);\r\n    int intPart = bigD.intValue();\r\n    double fractionalPart = bigD.subtract(BigDecimal.valueOf(intPart)).doubleValue();\r\n\r\n    System.out.println(intPart); // 11\r\n    System.out.println(fractionalPart ); //0.38","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>OK this is maybe late, but i think the best and more accurate approach is using BigDecimal</p>\n\n<pre><code>double d = 11.38;\n\nBigDecimal bigD = BigDecimal.valueOf(d);\nint intPart = bigD.intValue();\ndouble fractionalPart = bigD.subtract(BigDecimal.valueOf(intPart)).doubleValue();\n\nSystem.out.println(intPart); // 11\nSystem.out.println(fractionalPart ); //0.38\n</code></pre>\n"}],"owner":{"account_id":14042,"reputation":40275,"user_id":28557,"accept_rate":78,"display_name":"Vinayak Bevinakatti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179598,"favorite_count":0,"down_vote_count":2,"up_vote_count":116,"accepted_answer_id":343643,"answer_count":18,"score":114,"last_activity_date":1675435952,"creation_date":1228477091,"question_id":343584,"body_markdown":"How do I get whole and fractional parts from double in JSP/Java ? If the value is 3.25 then I want to get `fractional =.25`, `whole = 3`\r\n\r\nHow can we do this in Java?\r\n\r\n\r\n","title":"How do I get whole and fractional parts from double in JSP/Java?","body":"<p>How do I get whole and fractional parts from double in JSP/Java ? If the value is 3.25 then I want to get <code>fractional =.25</code>, <code>whole = 3</code></p>\n\n<p>How can we do this in Java?</p>\n"},{"tags":["java","azure","nginx","azure-cloud-services"],"owner":{"account_id":27694511,"reputation":11,"user_id":21140529,"display_name":"Khirod Pattnayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1677483495,"answer_count":0,"score":1,"last_activity_date":1675435802,"creation_date":1675434396,"question_id":75337080,"body_markdown":"I am attempting to upload a file in an azure cloud via a Form Data, however getting the following error: after deploy virtual machine with nginx.\r\n\r\nThe application is working fine on local Machine. But when I deployed the same on the virtual machine via azure cloud. When I tried to hit the post request to upload data and file from form-data is showing bad request.  I don&#39;t no why this is happening on cloud, it is working fine on localhost. Below I have mention the error response and the code snippets and configured nginx file. I&#39;m also not aware whether it&#39;s a problem from java code or frontend or whether I configure wrong server.\r\nIt will be very helpful guidance for the problem.\r\n\r\nThank you in advance!!!!!\r\n\r\nError Message:\r\n\r\n`message: &quot;Bad Request&quot;`\r\n`_embedded: {`\r\n`errors: [`\r\n`{`\r\n`message: &quot;Required argument [CompletedFileUpload file] not specified&quot;, path: &quot;/file&quot;`\r\n`}`\r\n`]`\r\n`}`\r\n`errors: [`\r\n`{`  \r\n`message: &quot;Required argument [CompletedFileUpload file] not specified&quot;, path: &quot;/file&quot;`\r\n`}`\r\n`]`\r\n`0: {message: &quot;Required argument [CompletedFileUpload file] not specified&quot;, path: &quot;/file&quot;}`\r\n`message: &quot;Required argument [CompletedFileUpload file] not specified&quot;`\r\n`path: &quot;/file&quot;`\r\n`_links:`\r\n`{`  \r\n`self: {href: &quot;/investor/dataIngestion/addDataIngestion&quot;, templated: false}`\r\n`}`\r\n\r\nthis error I am getting on the preview under network:\r\n\r\n----------\r\n\r\nwe have written java similar to below\r\n\r\n    \r\n    \r\n    @Post(uri = &quot;/addDataIngestion&quot;, consumes ={MediaType.APPLICATION_JSON,MediaType.MULTIPART_FORM_DATA}) public HttpResponse&lt;DataIngestionModel&gt; saveDataIngetion(@Body DataIngestionModeldataIngestionModel,CompletedFileUpload file) throws DataIngestionControllerException\r\n    \r\n    {\r\n    \r\n    try {\t\t\r\n    DataIngestionModel dataingestionObject = this.dataingestionService.saveDataIngestion(dataIngestionModel,\r\n    \t\t\t\tfile);\r\n    \t\treturn HttpResponse.status(HttpStatus.OK).body(dataingestionObject);\r\n    \t} catch (Exception e) {\r\n    \t\t// TODO: handle exception\r\n    \t\te.printStackTrace();\r\n    \t\tthrow new DataIngestionControllerException(ReadPropertiesFile.readResponseProperty(&quot;101&quot;), e, 400,\r\n    \t\t\t\te.getMessage());\r\n    \t}\r\n    }\r\n    \r\n\r\nnginx config file :\r\n\r\n```\r\n server {\r\n        listen       80;\r\n        server_name  investor-relation2.centralindia.cloudapp.azure.com;\r\n\r\n        #charset koi8-r;\r\n\r\n        #access log logs/host.access.log  main;\r\n\r\n\r\n        location / {\r\n            root   C:\\CICD\\Frontend\\ir-platform;\r\n\t           try_files $uri $uri/ /index.html;\r\n                   index index.html index.htm;\r\n\r\n        }\r\n\tlocation /api {\r\n\t\trewrite ^/api/(.*) /$1 break;\r\n  \t\t    client_body_temp_path C:\\data\\files\\incoming;\r\n      \t\tclient_max_body_size 500M;\r\n                add_header &#39;Access-Control-Allow-Methods&#39; &#39;GET, POST, PUT, PATCH, DELETE, OPTIONS&#39;;\r\n                add_header &#39;Access-Control-Allow-Headers&#39; &#39;DNT,X-CustomHeader,Keep-Alive,User-Agent,X-                               Requested-With,If-Modified-Since,Cache-Control,Content-Type&#39;;\r\n            add_header Content-Type &#39;application/json&#39;;\r\n            add_header Content-Disposition &#39;form-data; filename=&quot;$request_filename&quot;&#39;;\r\n            add_header X-Accel-Buffering yes;\r\n            proxy_set_header Upgrade $http_upgrade;\r\n\t    proxy_set_header Connection &#39;upgrade&#39;;\r\n            proxy_set_header Host               $host;\r\n            proxy_set_header X-Real-IP          $remote_addr;\r\n            proxy_set_header X-Forwarded-For    $proxy_add_x_forwarded_for;\r\n            proxy_set_header X-Forwarded-Proto  $scheme;\r\n\t    proxy_redirect off;\r\n\t    proxy_pass\t&quot;http://localhost:8080/api/&quot;;\r\n\t}\r\n```","title":"error when trying to upload a file in a azure cloud via a Form Data","body":"<p>I am attempting to upload a file in an azure cloud via a Form Data, however getting the following error: after deploy virtual machine with nginx.</p>\n<p>The application is working fine on local Machine. But when I deployed the same on the virtual machine via azure cloud. When I tried to hit the post request to upload data and file from form-data is showing bad request.  I don't no why this is happening on cloud, it is working fine on localhost. Below I have mention the error response and the code snippets and configured nginx file. I'm also not aware whether it's a problem from java code or frontend or whether I configure wrong server.\nIt will be very helpful guidance for the problem.</p>\n<p>Thank you in advance!!!!!</p>\n<p>Error Message:</p>\n<p><code>message: &quot;Bad Request&quot;</code>\n<code>_embedded: {</code>\n<code>errors: [</code>\n<code>{</code>\n<code>message: &quot;Required argument [CompletedFileUpload file] not specified&quot;, path: &quot;/file&quot;</code>\n<code>}</code>\n<code>]</code>\n<code>}</code>\n<code>errors: [</code>\n<code>{</code><br />\n<code>message: &quot;Required argument [CompletedFileUpload file] not specified&quot;, path: &quot;/file&quot;</code>\n<code>}</code>\n<code>]</code>\n<code>0: {message: &quot;Required argument [CompletedFileUpload file] not specified&quot;, path: &quot;/file&quot;}</code>\n<code>message: &quot;Required argument [CompletedFileUpload file] not specified&quot;</code>\n<code>path: &quot;/file&quot;</code>\n<code>_links:</code>\n<code>{</code><br />\n<code>self: {href: &quot;/investor/dataIngestion/addDataIngestion&quot;, templated: false}</code>\n<code>}</code></p>\n<p>this error I am getting on the preview under network:</p>\n<hr />\n<p>we have written java similar to below</p>\n<pre><code>@Post(uri = &quot;/addDataIngestion&quot;, consumes ={MediaType.APPLICATION_JSON,MediaType.MULTIPART_FORM_DATA}) public HttpResponse&lt;DataIngestionModel&gt; saveDataIngetion(@Body DataIngestionModeldataIngestionModel,CompletedFileUpload file) throws DataIngestionControllerException\n\n{\n\ntry {       \nDataIngestionModel dataingestionObject = this.dataingestionService.saveDataIngestion(dataIngestionModel,\n                file);\n        return HttpResponse.status(HttpStatus.OK).body(dataingestionObject);\n    } catch (Exception e) {\n        // TODO: handle exception\n        e.printStackTrace();\n        throw new DataIngestionControllerException(ReadPropertiesFile.readResponseProperty(&quot;101&quot;), e, 400,\n                e.getMessage());\n    }\n}\n</code></pre>\n<p>nginx config file :</p>\n<pre><code> server {\n        listen       80;\n        server_name  investor-relation2.centralindia.cloudapp.azure.com;\n\n        #charset koi8-r;\n\n        #access log logs/host.access.log  main;\n\n\n        location / {\n            root   C:\\CICD\\Frontend\\ir-platform;\n               try_files $uri $uri/ /index.html;\n                   index index.html index.htm;\n\n        }\n    location /api {\n        rewrite ^/api/(.*) /$1 break;\n            client_body_temp_path C:\\data\\files\\incoming;\n            client_max_body_size 500M;\n                add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, PATCH, DELETE, OPTIONS';\n                add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-                               Requested-With,If-Modified-Since,Cache-Control,Content-Type';\n            add_header Content-Type 'application/json';\n            add_header Content-Disposition 'form-data; filename=&quot;$request_filename&quot;';\n            add_header X-Accel-Buffering yes;\n            proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n            proxy_set_header Host               $host;\n            proxy_set_header X-Real-IP          $remote_addr;\n            proxy_set_header X-Forwarded-For    $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto  $scheme;\n        proxy_redirect off;\n        proxy_pass  &quot;http://localhost:8080/api/&quot;;\n    }\n</code></pre>\n"},{"tags":["java","parsing","split"],"comments":[{"owner":{"account_id":9926590,"reputation":5025,"user_id":7347933,"accept_rate":86,"display_name":"Papershine"},"score":0,"creation_date":1486170841,"post_id":42035402,"comment_id":71245173,"body_markdown":"You haven&#39;t declared a variable to be `s`, how could java split it?","body":"You haven&#39;t declared a variable to be <code>s</code>, how could java split it?"}],"answers":[{"comments":[{"owner":{"account_id":10174150,"reputation":33,"user_id":7513452,"display_name":"rmac"},"score":0,"creation_date":1486221725,"post_id":42035475,"comment_id":71257341,"body_markdown":"Thank you for your help but I still do not understand. I did manage to remove the last character so the comma input is not automatic and add a line to out put the Error message.  I also need this to loop more for the assignment, so I will have to revisit my code since it is not looping.","body":"Thank you for your help but I still do not understand. I did manage to remove the last character so the comma input is not automatic and add a line to out put the Error message.  I also need this to loop more for the assignment, so I will have to revisit my code since it is not looping."}],"tags":[],"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486171095,"creation_date":1486171095,"answer_id":42035475,"question_id":42035402,"body_markdown":"I don&#39;t want write the code for the solution. Just give you some input to arrive at right answer by yourself. It is your exercise after all.\r\n\r\n1. You do not need to use two `Scanner` one is enough.\r\n2. Check the variable `lineString` after the execution of `scnr.nextLine()`\r\n3. The String method `split` usually helps to figure out","title":"How to parse strings in Java?","body":"<p>I don't want write the code for the solution. Just give you some input to arrive at right answer by yourself. It is your exercise after all.</p>\n\n<ol>\n<li>You do not need to use two <code>Scanner</code> one is enough.</li>\n<li>Check the variable <code>lineString</code> after the execution of <code>scnr.nextLine()</code></li>\n<li>The String method <code>split</code> usually helps to figure out</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":10174150,"reputation":33,"user_id":7513452,"display_name":"rmac"},"score":0,"creation_date":1486323967,"post_id":42035489,"comment_id":71285309,"body_markdown":"Thank you for the detailed information. I see how I can use arrays instead and then add to make the additional Error: No comma in string.","body":"Thank you for the detailed information. I see how I can use arrays instead and then add to make the additional Error: No comma in string."},{"owner":{"account_id":9926590,"reputation":5025,"user_id":7347933,"accept_rate":86,"display_name":"Papershine"},"score":0,"creation_date":1486338173,"post_id":42035489,"comment_id":71289777,"body_markdown":"@rmac Hope this helped you! If this is the right answer, you can click on the tick sign on the left","body":"@rmac Hope this helped you! If this is the right answer, you can click on the tick sign on the left"}],"tags":[],"owner":{"account_id":9926590,"reputation":5025,"user_id":7347933,"accept_rate":86,"display_name":"Papershine"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486176854,"creation_date":1486171276,"answer_id":42035489,"question_id":42035402,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class ParseStrings {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          String userInput = &quot;&quot;;\r\n          boolean inputDone = false; \r\n    \r\n          while (!inputDone) {\r\n             System.out.print(&quot;Enter input string: \\n&quot;);\r\n             userInput = scnr.nextLine()\r\n    \r\n    \r\n             if (userInput.equals(&quot;q&quot;)){\r\n                System.out.println(&quot;First word: &quot; + userInput);\r\n                inputDone = true; \r\n             } else {\r\n                String[] userArray = userInput.split(&quot;,&quot;);\r\n                System.out.println(&quot;First word: &quot; + userArray[0]);\r\n                System.out.println(&quot;Second word: &quot; + userArray[1]);\r\n                System.out.println();\r\n            }\r\n          }\r\n    \r\n    \r\n          return;\r\n       }\r\n    }\r\n\r\nExplanation:\r\nFirst, an object `Scanner` is created. Then, the user&#39;s input is stored in `userInput`. After that, java checks if the user entered q, if so, then end the application. Else, java splits the string into two words and then prints it.\r\n\r\nRemember that understanding the code is a very important process in learning a programming language, so please, please understand the code and not just copy and paste it to submit as your homework.","title":"How to parse strings in Java?","body":"<pre><code>import java.util.Scanner;\n\npublic class ParseStrings {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String userInput = \"\";\n      boolean inputDone = false; \n\n      while (!inputDone) {\n         System.out.print(\"Enter input string: \\n\");\n         userInput = scnr.nextLine()\n\n\n         if (userInput.equals(\"q\")){\n            System.out.println(\"First word: \" + userInput);\n            inputDone = true; \n         } else {\n            String[] userArray = userInput.split(\",\");\n            System.out.println(\"First word: \" + userArray[0]);\n            System.out.println(\"Second word: \" + userArray[1]);\n            System.out.println();\n        }\n      }\n\n\n      return;\n   }\n}\n</code></pre>\n\n<p>Explanation:\nFirst, an object <code>Scanner</code> is created. Then, the user's input is stored in <code>userInput</code>. After that, java checks if the user entered q, if so, then end the application. Else, java splits the string into two words and then prints it.</p>\n\n<p>Remember that understanding the code is a very important process in learning a programming language, so please, please understand the code and not just copy and paste it to submit as your homework.</p>\n"},{"comments":[{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":1,"creation_date":1586607470,"post_id":61150875,"comment_id":108191060,"body_markdown":"Your code works :) I just want to add that there&#39;s no reason so use both the `inputDone` variable and the `break;` because `break` will take the code out of the `while`-loop no matter the condition. So you can use `while(true)` with the `break` and remove the variable. Or you can keep the variable and use it in the `while ()`-loop and replace `break;` with `continue;`. Note: If you only enter a `,` or `anything,` you get an error (But the assignment says it&#39;s OK). You can also fix that with exception-handling :)","body":"Your code works :) I just want to add that there&#39;s no reason so use both the <code>inputDone</code> variable and the <code>break;</code> because <code>break</code> will take the code out of the <code>while</code>-loop no matter the condition. So you can use <code>while(true)</code> with the <code>break</code> and remove the variable. Or you can keep the variable and use it in the <code>while ()</code>-loop and replace <code>break;</code> with <code>continue;</code>. Note: If you only enter a <code>,</code> or <code>anything,</code> you get an error (But the assignment says it&#39;s OK). You can also fix that with exception-handling :)"}],"tags":[],"owner":{"account_id":18247865,"reputation":11,"user_id":13283555,"display_name":"matalco"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586567235,"creation_date":1586567235,"answer_id":61150875,"question_id":42035402,"body_markdown":"I got this same problem in my class and it been a very challenging problem for me to figure out. I was able to get the correct answer using the code posted in here that only needed very slight modifications made to it. Thank you for the help. below is modified version of the above the code I used to get the correct answer. \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ParseStrings {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          String userInput = &quot;&quot;;\r\n          boolean inputDone = false; \r\n\r\n          while (!inputDone) {\r\n             System.out.print(&quot;Enter input string: \\n&quot;);\r\n             userInput = scnr.nextLine();\r\n         \r\n             if (userInput.equals(&quot;q&quot;)){\r\n                inputDone = true;\r\n                break;\r\n             }\r\n         \r\n             if(userInput.indexOf(&quot;,&quot;) == -1){ //if comma is not found in the user input\r\n             System.out.println(&quot;Error: No comma in string&quot;);\r\n             continue;\r\n             }\r\n\r\n\r\n              else {\r\n                String[] userArray = userInput.split(&quot;,&quot;);\r\n                System.out.println(&quot;First word: &quot; + userArray[0].trim());\r\n                System.out.println(&quot;Second word: &quot; + userArray[1].trim());\r\n                System.out.println();\r\n                System.out.println();\r\n            }\r\n          }\r\n\r\n\r\n          return;\r\n       }\r\n    }","title":"How to parse strings in Java?","body":"<p>I got this same problem in my class and it been a very challenging problem for me to figure out. I was able to get the correct answer using the code posted in here that only needed very slight modifications made to it. Thank you for the help. below is modified version of the above the code I used to get the correct answer. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ParseStrings {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String userInput = \"\";\n      boolean inputDone = false; \n\n      while (!inputDone) {\n         System.out.print(\"Enter input string: \\n\");\n         userInput = scnr.nextLine();\n\n         if (userInput.equals(\"q\")){\n            inputDone = true;\n            break;\n         }\n\n         if(userInput.indexOf(\",\") == -1){ //if comma is not found in the user input\n         System.out.println(\"Error: No comma in string\");\n         continue;\n         }\n\n\n          else {\n            String[] userArray = userInput.split(\",\");\n            System.out.println(\"First word: \" + userArray[0].trim());\n            System.out.println(\"Second word: \" + userArray[1].trim());\n            System.out.println();\n            System.out.println();\n        }\n      }\n\n\n      return;\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670321868,"post_id":74667217,"comment_id":131844136,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74667217/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26881335,"reputation":1,"user_id":20461711,"display_name":"Kris Kollman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670074303,"creation_date":1670074303,"answer_id":74667217,"question_id":42035402,"body_markdown":"The unit I was working on for this problem was about using the inSS, so I wanted to try and use it to solve the problem. I did get stuck constantly collecting the comma for the second word, but after consulting someone else was suggesting using a delimiter to get passed the comma. I did have to add a trim() command on the print lines to get rid of any white spaces around the words when they were captured by the inSS.## \r\n\r\n\r\n----------\r\n\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class ParseStrings {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          //Input string stream\r\n    \t   Scanner inSS = null;\r\n       \t//Input string \r\n       \tString inputWords;\r\n       \t// first word\r\n       \tString firstWord;\r\n       \t//Comma check;\r\n       \tString commaCheck;\r\n       \t//second word\r\n       \tString secondWord;\r\n       \t//flag to indicate next iteration\r\n    \t   boolean inputDone;\r\n    \t\r\n    \t   inputDone = false;\r\n    \r\n       \t//prompt the user to input string \r\n       \tSystem.out.println(&quot;Enter input string: &quot;);\r\n       \t\r\n       \t//take input data as long as &quot;q&quot; is not ent\r\n       \twhile (!inputDone){\r\n       \t\r\n       \t\t//entire line into inputWords\r\n       \t\tinputWords = scnr.nextLine();\r\n       \t\t\r\n       \t\t//Init scanner object with string\r\n       \t\tinSS = new Scanner(inputWords);\r\n    \r\n    \t\t//Set the delimiter to &quot;,&quot; and new line\r\n    \t\tinSS.useDelimiter(&quot;[,\\n]&quot;);\r\n       \r\n       \t\t//process the line\r\n       \t\tfirstWord = inSS.next();\r\n       \r\n       \t\t//output parsed values\r\n       \t\tif (firstWord.equals(&quot;q&quot;)){\r\n       \t      \tinputDone = true;\r\n       \t\t\tbreak;\r\n       \t\t}\r\n       \t\t\r\n       \t\t//comma check\r\n       \t\tif(inputWords.indexOf(&quot;,&quot;) == -1){\r\n       \t\t\tSystem.out.println(&quot;Error: No comma in string&quot;);\r\n       \t\t\tSystem.out.println(&quot;Enter input string: &quot;);\r\n       \t\t\tcontinue;\r\n       \t\t}\r\n       \t\telse {\r\n    \t\t\tsecondWord = inSS.next();\r\n       \t\t\tSystem.out.println(&quot;First word: &quot; + firstWord.trim());\r\n       \t\t\tSystem.out.println(&quot;Second word: &quot; + secondWord.trim());\r\n       \t\t\tSystem.out.println();\r\n       \t\t\tSystem.out.println();\r\n       \t\t}\r\n       \t\tSystem.out.println(&quot;Enter input string: &quot;);\r\n       \t\t\t\t\r\n    \r\n       \r\n    \t}\r\n    \r\n    \t}\t\r\n    }\r\n\r\n","title":"How to parse strings in Java?","body":"<p>The unit I was working on for this problem was about using the inSS, so I wanted to try and use it to solve the problem. I did get stuck constantly collecting the comma for the second word, but after consulting someone else was suggesting using a delimiter to get passed the comma. I did have to add a trim() command on the print lines to get rid of any white spaces around the words when they were captured by the inSS.##</p>\n<hr />\n<pre><code>import java.util.Scanner;\n\n\npublic class ParseStrings {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      //Input string stream\n       Scanner inSS = null;\n    //Input string \n    String inputWords;\n    // first word\n    String firstWord;\n    //Comma check;\n    String commaCheck;\n    //second word\n    String secondWord;\n    //flag to indicate next iteration\n       boolean inputDone;\n    \n       inputDone = false;\n\n    //prompt the user to input string \n    System.out.println(&quot;Enter input string: &quot;);\n    \n    //take input data as long as &quot;q&quot; is not ent\n    while (!inputDone){\n    \n        //entire line into inputWords\n        inputWords = scnr.nextLine();\n        \n        //Init scanner object with string\n        inSS = new Scanner(inputWords);\n\n        //Set the delimiter to &quot;,&quot; and new line\n        inSS.useDelimiter(&quot;[,\\n]&quot;);\n   \n        //process the line\n        firstWord = inSS.next();\n   \n        //output parsed values\n        if (firstWord.equals(&quot;q&quot;)){\n            inputDone = true;\n            break;\n        }\n        \n        //comma check\n        if(inputWords.indexOf(&quot;,&quot;) == -1){\n            System.out.println(&quot;Error: No comma in string&quot;);\n            System.out.println(&quot;Enter input string: &quot;);\n            continue;\n        }\n        else {\n            secondWord = inSS.next();\n            System.out.println(&quot;First word: &quot; + firstWord.trim());\n            System.out.println(&quot;Second word: &quot; + secondWord.trim());\n            System.out.println();\n            System.out.println();\n        }\n        System.out.println(&quot;Enter input string: &quot;);\n                \n\n   \n    }\n\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23615156,"reputation":1,"user_id":17649386,"display_name":"Lorie Zimmerman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675435409,"creation_date":1675434684,"answer_id":75337143,"question_id":42035402,"body_markdown":"This worked for me.\r\n\r\n\r\n    import java.util.Scanner;\r\n    public class ParseStrings {\r\n       public static void main(String[] args) {\r\n   \r\n          Scanner scnr = new Scanner(System.in); // Input stream for standard input\r\n          Scanner inSS = null;              // Input string stream       \r\n          String lineString = &quot;&quot;;           // Input string   \r\n          String firstWord = &quot;&quot;;             // Word one\r\n          String secondWord = &quot;&quot;;             // word two\r\n          boolean inputDone = false;\r\n      \r\n          while (!inputDone) {\r\n\r\n             System.out.println(&quot;Enter input string: &quot;);\r\n\r\n             // Entire line into lineString\r\n             lineString = scnr.nextLine();\r\n      \r\n             // Create new input string stream\r\n             inSS = new Scanner(lineString);\r\n         \r\n             //Set the delimiter to &quot;,&quot; and new line\r\n             inSS.useDelimiter(&quot;[,\\n]&quot;);\r\n         \r\n             if (lineString.equals(&quot;q&quot;)) {\r\n                inputDone = true;\r\n                break;\r\n             }\r\n         \r\n             if (lineString.indexOf(&quot;,&quot;) == -1) {\r\n                System.out.println(&quot;Error: No comma in string&quot;);\r\n            \r\n                continue;  \r\n         \r\n             }\r\n             else {\r\n      \r\n                // Now process the line           \r\n                firstWord = inSS.next();\r\n                // Now process the line\r\n                secondWord = inSS.next();\r\n      \r\n                System.out.println(&quot;First word: &quot; + firstWord.trim().replace(&quot;,&quot;, &quot;&quot;));\r\n                System.out.println(&quot;Second word: &quot; + secondWord.trim().replace(&quot;,&quot;, &quot;&quot;) + &quot;\\n\\n&quot;);\r\n             }   \r\n         \r\n          }\r\n          return;\r\n       }\r\n    }   \r\n\r\n","title":"How to parse strings in Java?","body":"<p>This worked for me.</p>\n<pre><code>import java.util.Scanner;\npublic class ParseStrings {\n   public static void main(String[] args) {\n\n      Scanner scnr = new Scanner(System.in); // Input stream for standard input\n      Scanner inSS = null;              // Input string stream       \n      String lineString = &quot;&quot;;           // Input string   \n      String firstWord = &quot;&quot;;             // Word one\n      String secondWord = &quot;&quot;;             // word two\n      boolean inputDone = false;\n  \n      while (!inputDone) {\n\n         System.out.println(&quot;Enter input string: &quot;);\n\n         // Entire line into lineString\n         lineString = scnr.nextLine();\n  \n         // Create new input string stream\n         inSS = new Scanner(lineString);\n     \n         //Set the delimiter to &quot;,&quot; and new line\n         inSS.useDelimiter(&quot;[,\\n]&quot;);\n     \n         if (lineString.equals(&quot;q&quot;)) {\n            inputDone = true;\n            break;\n         }\n     \n         if (lineString.indexOf(&quot;,&quot;) == -1) {\n            System.out.println(&quot;Error: No comma in string&quot;);\n        \n            continue;  \n     \n         }\n         else {\n  \n            // Now process the line           \n            firstWord = inSS.next();\n            // Now process the line\n            secondWord = inSS.next();\n  \n            System.out.println(&quot;First word: &quot; + firstWord.trim().replace(&quot;,&quot;, &quot;&quot;));\n            System.out.println(&quot;Second word: &quot; + secondWord.trim().replace(&quot;,&quot;, &quot;&quot;) + &quot;\\n\\n&quot;);\n         }   \n     \n      }\n      return;\n   }\n}   \n</code></pre>\n"}],"owner":{"account_id":10174150,"reputation":33,"user_id":7513452,"display_name":"rmac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19873,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1675435409,"creation_date":1486170474,"question_id":42035402,"body_markdown":"I am working on a homework assignment and unable to find the answer in my online text book or anywhere else.\r\n\r\nMy homework question is four parts:\r\n\r\n1. Prompt the user for a string that contains two strings separated by a comma. \r\n\r\n2. Report an error if the input string does not contain a comma. Continue to prompt until a valid string is entered. Note: If the input contains a comma, then assume that the input also contains two strings.\r\n\r\n3. Extract the two words from the input string and remove any spaces. Store the strings in two separate variables and output the strings.\r\n\r\n4. Using a loop, extend the program to handle multiple lines of input. Continue until the user enters q to quit.\r\n\r\n&lt;pre&gt;\r\nFinal outcome should print out as follows:\r\nEnter input string: Jill, Allen\r\nFirst word: Jill\r\nSecond word: Allen\r\n&lt;/pre&gt;\r\n\r\n&lt;pre&gt;\r\nEnter input string: Golden , Monkey\r\nFirst word: Golden\r\nSecond word: Monkey\r\n&lt;/pre&gt;\r\n\r\n&lt;pre&gt;\r\nEnter input string: Washington,DC\r\nFirst word: Washington\r\nSecond word: DC\r\n&lt;/pre&gt;\r\n\r\nEnter input string: q\r\n\r\nMy code output is incorrect. I do not know how to make the automatic , not show after my first word or show up as my second word. I have tried using\r\n`String [] array = s.split(&quot;,);` and the class program does not recognize this command and errors out.\r\n\r\nThis is my code:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ParseStrings {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in); \r\n          Scanner inSS = null;                   \r\n          String firstWord = &quot; &quot;;                \r\n          String secondWord = &quot;&quot;;\r\n          String lineString = &quot;&quot;;\r\n          boolean inputDone = false; \r\n             \r\n          while (!inputDone) {\r\n             lineString = scnr.nextLine();\r\n             inSS = new Scanner(lineString);\r\n             firstWord = inSS.next();\r\n             System.out.print(&quot;Enter input string: \\n&quot;);\r\n             \r\n                  \r\n             if (firstWord.equals(&quot;q&quot;)){\r\n                System.out.println(&quot;First word: &quot; + firstWord);\r\n                inputDone = true; \r\n             } else {\r\n                secondWord = inSS.next();\r\n                System.out.println(&quot;First word: &quot; + firstWord);\r\n                System.out.println(&quot;Second word: &quot; + secondWord);\r\n                System.out.println();\r\n            }\r\n          }\r\n          \r\n          \r\n          return;\r\n       }\r\n    }\r\n\r\n\r\nHow can I code this string to include and exclude the comma and print out the error. I am not understanding what I need to do.\r\n\r\n","title":"How to parse strings in Java?","body":"<p>I am working on a homework assignment and unable to find the answer in my online text book or anywhere else.</p>\n\n<p>My homework question is four parts:</p>\n\n<ol>\n<li><p>Prompt the user for a string that contains two strings separated by a comma. </p></li>\n<li><p>Report an error if the input string does not contain a comma. Continue to prompt until a valid string is entered. Note: If the input contains a comma, then assume that the input also contains two strings.</p></li>\n<li><p>Extract the two words from the input string and remove any spaces. Store the strings in two separate variables and output the strings.</p></li>\n<li><p>Using a loop, extend the program to handle multiple lines of input. Continue until the user enters q to quit.</p></li>\n</ol>\n\n<pre>\nFinal outcome should print out as follows:\nEnter input string: Jill, Allen\nFirst word: Jill\nSecond word: Allen\n</pre>\n\n<pre>\nEnter input string: Golden , Monkey\nFirst word: Golden\nSecond word: Monkey\n</pre>\n\n<pre>\nEnter input string: Washington,DC\nFirst word: Washington\nSecond word: DC\n</pre>\n\n<p>Enter input string: q</p>\n\n<p>My code output is incorrect. I do not know how to make the automatic , not show after my first word or show up as my second word. I have tried using\n<code>String [] array = s.split(\",);</code> and the class program does not recognize this command and errors out.</p>\n\n<p>This is my code:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ParseStrings {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in); \n      Scanner inSS = null;                   \n      String firstWord = \" \";                \n      String secondWord = \"\";\n      String lineString = \"\";\n      boolean inputDone = false; \n\n      while (!inputDone) {\n         lineString = scnr.nextLine();\n         inSS = new Scanner(lineString);\n         firstWord = inSS.next();\n         System.out.print(\"Enter input string: \\n\");\n\n\n         if (firstWord.equals(\"q\")){\n            System.out.println(\"First word: \" + firstWord);\n            inputDone = true; \n         } else {\n            secondWord = inSS.next();\n            System.out.println(\"First word: \" + firstWord);\n            System.out.println(\"Second word: \" + secondWord);\n            System.out.println();\n        }\n      }\n\n\n      return;\n   }\n}\n</code></pre>\n\n<p>How can I code this string to include and exclude the comma and print out the error. I am not understanding what I need to do.</p>\n"},{"tags":["java","json","spring-boot","jackson","fasterxml"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":2,"creation_date":1493986586,"post_id":43804503,"comment_id":74648398,"body_markdown":"don&#39;t use toString Use jackson ObjectMapper::readValue and ObjectMapper::writeValueAsString","body":"don&#39;t use toString Use jackson ObjectMapper::readValue and ObjectMapper::writeValueAsString"},{"owner":{"account_id":2529186,"reputation":3484,"user_id":2197837,"accept_rate":25,"display_name":"Praneeth Ramesh"},"score":1,"creation_date":1493986685,"post_id":43804503,"comment_id":74648451,"body_markdown":"Use `new ObjectMapper().readValue(jsonString, Link.class);`","body":"Use <code>new ObjectMapper().readValue(jsonString, Link.class);</code>"},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":1,"creation_date":1493987084,"post_id":43804503,"comment_id":74648737,"body_markdown":"@pvpkiran ... although `ToStringBuilder` can be configured to output JSON, which `ObjectMapper` would be able to consume.","body":"@pvpkiran ... although <code>ToStringBuilder</code> can be configured to output JSON, which <code>ObjectMapper</code> would be able to consume."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":1,"creation_date":1493987256,"post_id":43804503,"comment_id":74648859,"body_markdown":"yes you can but there are cases where toString() performs very badly expecially in cases of nested objects and collections.Try printing a map or list with toString and also with ObjectMapper and see the difference","body":"yes you can but there are cases where toString() performs very badly expecially in cases of nested objects and collections.Try printing a map or list with toString and also with ObjectMapper and see the difference"}],"answers":[{"comments":[{"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"score":0,"creation_date":1528110311,"post_id":43933606,"comment_id":88367619,"body_markdown":"we can also call like this String jsonString = objectMapper.writeValueAsString(Object);","body":"we can also call like this String jsonString = objectMapper.writeValueAsString(Object);"},{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":1,"creation_date":1636451416,"post_id":43933606,"comment_id":123554256,"body_markdown":"what if don&#39;t know what is the class type?","body":"what if don&#39;t know what is the class type?"},{"owner":{"account_id":11670714,"reputation":65,"user_id":8545885,"display_name":"Hoshang Charania"},"score":0,"creation_date":1668570531,"post_id":43933606,"comment_id":131435506,"body_markdown":"Java can&#39;t ascertain the class type magically? You can have ton of Classes which could possibly fit it","body":"Java can&#39;t ascertain the class type magically? You can have ton of Classes which could possibly fit it"}],"tags":[],"owner":{"account_id":3811869,"reputation":1017,"user_id":3162450,"accept_rate":100,"display_name":"ytibrewala"},"comment_count":3,"down_vote_count":2,"up_vote_count":65,"is_accepted":true,"score":63,"last_activity_date":1494579750,"creation_date":1494579750,"answer_id":43933606,"question_id":43804503,"body_markdown":"Just putting the comment by @pvpkiran in an answer.\r\n\r\nUse [ObjectMapper][1] class from *com.fasterxml.jackson.databind*\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n**Converting from Object to String:**\r\n\r\n    String jsonString = objectMapper.writeValueAsString(link);\r\n\r\n**Converting from String to Object:**\r\n\r\n    Link link = objectMapper.readValue(jsonString, type)\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html","title":"Jackson Converting String to Object","body":"<p>Just putting the comment by @pvpkiran in an answer.</p>\n\n<p>Use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"noreferrer\">ObjectMapper</a> class from <em>com.fasterxml.jackson.databind</em></p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n</code></pre>\n\n<p><strong>Converting from Object to String:</strong></p>\n\n<pre><code>String jsonString = objectMapper.writeValueAsString(link);\n</code></pre>\n\n<p><strong>Converting from String to Object:</strong></p>\n\n<pre><code>Link link = objectMapper.readValue(jsonString, type)\n</code></pre>\n"}],"owner":{"account_id":3811869,"reputation":1017,"user_id":3162450,"accept_rate":100,"display_name":"ytibrewala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78101,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":43933606,"answer_count":1,"score":16,"last_activity_date":1675435250,"creation_date":1493985910,"question_id":43804503,"body_markdown":"**Link.java**\r\n    \r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonPropertyOrder({ &quot;rel&quot;, &quot;href&quot;,&quot;method&quot; })\r\n    public class Link {\r\n    \r\n        @JsonProperty(&quot;rel&quot;)\r\n        private String rel;\r\n        @JsonProperty(&quot;href&quot;)\r\n        private String href;\r\n        @JsonProperty(&quot;method&quot;)\r\n        private Method method;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return ToStringBuilder.reflectionToString(this);\r\n        }\r\n    }\r\n\r\nI have this third party class with fasterxml jackson annotations. I can convert a given object into a string using the specified toString() method. Is there any way of using that String to get an object of type Link?\r\n\r\nNote: The object itself has an embedded object (which has several more embedded objects) and these too needs to be converted into a Method object from the string itself.","title":"Jackson Converting String to Object","body":"<p><strong>Link.java</strong></p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({ \"rel\", \"href\",\"method\" })\npublic class Link {\n\n    @JsonProperty(\"rel\")\n    private String rel;\n    @JsonProperty(\"href\")\n    private String href;\n    @JsonProperty(\"method\")\n    private Method method;\n\n    @Override\n    public String toString() {\n        return ToStringBuilder.reflectionToString(this);\n    }\n}\n</code></pre>\n\n<p>I have this third party class with fasterxml jackson annotations. I can convert a given object into a string using the specified toString() method. Is there any way of using that String to get an object of type Link?</p>\n\n<p>Note: The object itself has an embedded object (which has several more embedded objects) and these too needs to be converted into a Method object from the string itself.</p>\n"},{"tags":["java","hibernate","logging"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675435163,"creation_date":1675435163,"answer_id":75337236,"question_id":75299539,"body_markdown":"There is no way to do that with plain Hibernate. You can just disable the `org.hibernate.SQL_SLOW` logger temporarily with your logger API by setting the level programatically to e.g. WARN and then reset it again to INFO.","title":"Whitelist specific query from hibernate slow query logging","body":"<p>There is no way to do that with plain Hibernate. You can just disable the <code>org.hibernate.SQL_SLOW</code> logger temporarily with your logger API by setting the level programatically to e.g. WARN and then reset it again to INFO.</p>\n"}],"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675435163,"creation_date":1675179636,"question_id":75299539,"body_markdown":"I am using below hibernate settings to log slow queries for my application\r\n`hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS : &lt;time&gt;` \r\n`org.hibernate.SQL_SLOW: warn`\r\n\r\nIt is working fine. But I want to whitelist a few queries so that even if they run beyond &#39;LOG_QUERIES_SLOWER_THAN_MS&#39; will not be logged as a warning. I want to do that as I know there are a few queries which supposed to take a longer time to run and I don&#39;t want to generate any alerts for those.\r\n\r\nIs there any way I can do that?\r\n\r\nI have tried to find any settings I can provide during the query to override the behaviour for that specific query. \r\n\r\nAre there any settings and API hibernate provide to achieve it?","title":"Whitelist specific query from hibernate slow query logging","body":"<p>I am using below hibernate settings to log slow queries for my application\n<code>hibernate.session.events.log.LOG_QUERIES_SLOWER_THAN_MS : &lt;time&gt;</code>\n<code>org.hibernate.SQL_SLOW: warn</code></p>\n<p>It is working fine. But I want to whitelist a few queries so that even if they run beyond 'LOG_QUERIES_SLOWER_THAN_MS' will not be logged as a warning. I want to do that as I know there are a few queries which supposed to take a longer time to run and I don't want to generate any alerts for those.</p>\n<p>Is there any way I can do that?</p>\n<p>I have tried to find any settings I can provide during the query to override the behaviour for that specific query.</p>\n<p>Are there any settings and API hibernate provide to achieve it?</p>\n"},{"tags":["java","tcp","mocking"],"answers":[{"comments":[{"owner":{"account_id":5268273,"reputation":47,"user_id":4207425,"accept_rate":0,"display_name":"Soil92"},"score":0,"creation_date":1423143711,"post_id":28321748,"comment_id":45035078,"body_markdown":"I have 2 operations to test, Sending commands to the arduino and Receiving the respond from it - according to the respond of the arduino server further logic will be executed.\nI do have a concrete class which implements these things, how can I test those?\nBTW, each connection to a specific arduino is a Thread, works as a input and output stream which I never close while the system is running.","body":"I have 2 operations to test, Sending commands to the arduino and Receiving the respond from it - according to the respond of the arduino server further logic will be executed. I do have a concrete class which implements these things, how can I test those? BTW, each connection to a specific arduino is a Thread, works as a input and output stream which I never close while the system is running."}],"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423053847,"creation_date":1423053847,"answer_id":28321748,"question_id":28320610,"body_markdown":"I&#39;d suggest you don&#39;t try and mock at such a low level.\r\n\r\nCreate a meaningful interface that encapsulates the operations you might want to perform against the arduino server. Your code should depend on that and this interface may be mocked for your unit tests.\r\n\r\nYou will need a concrete class that implements the interface and interacts with the server. Don&#39;t try and unit test it - write an integration test for it that hits a real server.\r\n","title":"mocking remote tcp server","body":"<p>I'd suggest you don't try and mock at such a low level.</p>\n\n<p>Create a meaningful interface that encapsulates the operations you might want to perform against the arduino server. Your code should depend on that and this interface may be mocked for your unit tests.</p>\n\n<p>You will need a concrete class that implements the interface and interacts with the server. Don't try and unit test it - write an integration test for it that hits a real server.</p>\n"},{"comments":[{"owner":{"account_id":5268273,"reputation":47,"user_id":4207425,"accept_rate":0,"display_name":"Soil92"},"score":0,"creation_date":1423143328,"post_id":28321901,"comment_id":45034819,"body_markdown":"I&#39;m working with Java, I&#39;ve created a Client to connect to my arduinos via TCP/IP. I need the server to respond to the command I&#39;m sending using Strings. any suggestions ?","body":"I&#39;m working with Java, I&#39;ve created a Client to connect to my arduinos via TCP/IP. I need the server to respond to the command I&#39;m sending using Strings. any suggestions ?"}],"tags":[],"owner":{"account_id":1066318,"reputation":105,"user_id":1066792,"display_name":"klara-l"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423054333,"creation_date":1423054333,"answer_id":28321901,"question_id":28320610,"body_markdown":"I&#39;m not sure, how exactly your system design is or what you want to mock, but I see three ways how you could test:\r\n\r\n - Connect with [netcat to the server][1]. Netcat allows you to test text-protocols by sending your request to the server and manually checking the response.\r\n\r\n - Open a connection with a client-socket in your favorite language. You should find plenty information on how to do that on SO.\r\n\r\n - Use [scapy to build a TCP handshake][2], if you want to test specific parts of TCP. Basics for TCP can be found in rfc793.\r\n\r\nIf I did not answer your question, please provide more details on what you want to do, how your overall system architecture is and what programming language you want to use.\r\n\r\n\r\n  [1]: http://www.binarytides.com/netcat-tutorial-for-beginners/\r\n  [2]: https://www.fir3net.com/Programming/Python/how-to-build-a-tcp-connection-in-scapy.html","title":"mocking remote tcp server","body":"<p>I'm not sure, how exactly your system design is or what you want to mock, but I see three ways how you could test:</p>\n\n<ul>\n<li><p>Connect with <a href=\"http://www.binarytides.com/netcat-tutorial-for-beginners/\" rel=\"nofollow\">netcat to the server</a>. Netcat allows you to test text-protocols by sending your request to the server and manually checking the response.</p></li>\n<li><p>Open a connection with a client-socket in your favorite language. You should find plenty information on how to do that on SO.</p></li>\n<li><p>Use <a href=\"https://www.fir3net.com/Programming/Python/how-to-build-a-tcp-connection-in-scapy.html\" rel=\"nofollow\">scapy to build a TCP handshake</a>, if you want to test specific parts of TCP. Basics for TCP can be found in rfc793.</p></li>\n</ul>\n\n<p>If I did not answer your question, please provide more details on what you want to do, how your overall system architecture is and what programming language you want to use.</p>\n"},{"tags":[],"owner":{"account_id":118842,"reputation":169,"user_id":310151,"display_name":"Colorator"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528327677,"creation_date":1528327677,"answer_id":50731007,"question_id":28320610,"body_markdown":"Take a look at [WireSham][1]: a TCP mocking service that enables to load a previously recorded TCP dump (ie using Wireshark) and creates a virtual server simulating traffic. \r\n\r\n  [1]: https://github.com/abstracta/wiresham","title":"mocking remote tcp server","body":"<p>Take a look at <a href=\"https://github.com/abstracta/wiresham\" rel=\"nofollow noreferrer\">WireSham</a>: a TCP mocking service that enables to load a previously recorded TCP dump (ie using Wireshark) and creates a virtual server simulating traffic. </p>\n"}],"owner":{"account_id":5268273,"reputation":47,"user_id":4207425,"accept_rate":0,"display_name":"Soil92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5617,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1675434946,"creation_date":1423050419,"question_id":28320610,"body_markdown":"**Some context** : I currently working on a home automation project which involves arduino controllers I need to connect to via TCP/IP. The arduino works as a server.\r\n\r\n**My Question** : How can I mock this arduino connection for testing purpose?\r\nCouldn&#39;t find any good resource to learn from.\r\nSorry if my question is duplicate, but I did not find any answer on SO that fits my need.\r\n\r\nAny help will be appreciated !","title":"mocking remote tcp server","body":"<p><strong>Some context</strong> : I currently working on a home automation project which involves arduino controllers I need to connect to via TCP/IP. The arduino works as a server.</p>\n<p><strong>My Question</strong> : How can I mock this arduino connection for testing purpose?\nCouldn't find any good resource to learn from.\nSorry if my question is duplicate, but I did not find any answer on SO that fits my need.</p>\n<p>Any help will be appreciated !</p>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1675407453,"post_id":75332102,"comment_id":132926326,"body_markdown":"Welcome to Stack Overflow! A friendly reminder that this site is for getting help with coding, algorithm, or programming language problems so I voted to have your post moved to [DBA Stack Exchange](https://dba.stackexchange.com/questions/ask?tags=cassandra). For future reference, you should post DB admin/ops questions on https://dba.stackexchange.com/questions/ask?tags=cassandra. Cheers!","body":"Welcome to Stack Overflow! A friendly reminder that this site is for getting help with coding, algorithm, or programming language problems so I voted to have your post moved to <a href=\"https://dba.stackexchange.com/questions/ask?tags=cassandra\">DBA Stack Exchange</a>. For future reference, you should post DB admin/ops questions on <a href=\"https://dba.stackexchange.com/questions/ask?tags=cassandra\">dba.stackexchange.com/questions/ask?tags=cassandra</a>. Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675407394,"creation_date":1675407394,"answer_id":75332411,"question_id":75332102,"body_markdown":"Issuing multiple deletes for the same partition can have a significant impact on your cluster.\r\n\r\nRemember that all writes in Cassandra (`INSERT`, `UPDATE`, `DELETE`) are inserts under the hood. Since Cassandra does not perform a read-before-write (with the exception of [lightweight transactions][1]), issuing a `DELETE` will insert a tombstone marker regardless of whether the data exists or has already been deleted.\r\n\r\nEvery single `DELETE` you issue counts as a write request so depending on how busy your cluster is, it may have a measurable impact on its performance. Cheers!\r\n\r\n\r\n  [1]: https://cassandra.apache.org/doc/latest/cassandra/architecture/guarantees.html#lightweight-transactions-with-linearizable-consistency","title":"Does deleting the same data multiple times have a performance impact on a Cassandra cluster?","body":"<p>Issuing multiple deletes for the same partition can have a significant impact on your cluster.</p>\n<p>Remember that all writes in Cassandra (<code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>) are inserts under the hood. Since Cassandra does not perform a read-before-write (with the exception of <a href=\"https://cassandra.apache.org/doc/latest/cassandra/architecture/guarantees.html#lightweight-transactions-with-linearizable-consistency\" rel=\"nofollow noreferrer\">lightweight transactions</a>), issuing a <code>DELETE</code> will insert a tombstone marker regardless of whether the data exists or has already been deleted.</p>\n<p>Every single <code>DELETE</code> you issue counts as a write request so depending on how busy your cluster is, it may have a measurable impact on its performance. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675434410,"creation_date":1675434410,"answer_id":75337083,"question_id":75332102,"body_markdown":"Erick&#39;s answer is pretty solid, but I&#39;d just like to add that the time that you&#39;ll likely see performance issues is at read-time.  That&#39;s because doing a:\r\n\r\n    SELECT * FROM sample_table WHERE id=&#39;1&#39;;\r\n\r\n...will read ALL of the times that the `DELETE` was written (tombstones) from the SSTable file.  The default settings on a table result in deleted data staying around for 10 days (to ensure proper replication) before they can be picked-up by compaction.\r\n\r\nSo figure out how many times that `DELETE` happens per key over a 10 day period, and that&#39;s about how many Cassandra will have to reconcile at read-time.","title":"Does deleting the same data multiple times have a performance impact on a Cassandra cluster?","body":"<p>Erick's answer is pretty solid, but I'd just like to add that the time that you'll likely see performance issues is at read-time.  That's because doing a:</p>\n<pre><code>SELECT * FROM sample_table WHERE id='1';\n</code></pre>\n<p>...will read ALL of the times that the <code>DELETE</code> was written (tombstones) from the SSTable file.  The default settings on a table result in deleted data staying around for 10 days (to ensure proper replication) before they can be picked-up by compaction.</p>\n<p>So figure out how many times that <code>DELETE</code> happens per key over a 10 day period, and that's about how many Cassandra will have to reconcile at read-time.</p>\n"}],"owner":{"account_id":12541958,"reputation":139,"user_id":9126612,"display_name":"Karthik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675444548,"accepted_answer_id":75332411,"answer_count":2,"score":1,"last_activity_date":1675434410,"creation_date":1675404730,"question_id":75332102,"body_markdown":"If I need to perform an automated housekeeping task, and this is my query:\r\n`delete from sample_table where id = &#39;1&#39;`\r\n\r\nAnd, this scheduled query gets executed from multiple service instances.\r\nWill this have a significant performance impact? What would be an appropriate way of testing this?","title":"Does deleting the same data multiple times have a performance impact on a Cassandra cluster?","body":"<p>If I need to perform an automated housekeeping task, and this is my query:\n<code>delete from sample_table where id = '1'</code></p>\n<p>And, this scheduled query gets executed from multiple service instances.\nWill this have a significant performance impact? What would be an appropriate way of testing this?</p>\n"},{"tags":["javascript","java","jquery","html"],"comments":[{"owner":{"account_id":7587119,"reputation":132,"user_id":5755819,"display_name":"Deepanshu"},"score":0,"creation_date":1456292793,"post_id":35594108,"comment_id":58874162,"body_markdown":"remove javascript before your method name and try","body":"remove javascript before your method name and try"},{"owner":{"account_id":6582886,"reputation":689,"user_id":5086633,"accept_rate":89,"display_name":"yeppe"},"score":0,"creation_date":1456292878,"post_id":35594108,"comment_id":58874201,"body_markdown":"Done that still the same issue :)","body":"Done that still the same issue :)"},{"owner":{"account_id":5665782,"reputation":437,"user_id":4481996,"display_name":"Rana Ahmer Yasin"},"score":0,"creation_date":1456292889,"post_id":35594108,"comment_id":58874205,"body_markdown":"https://jsfiddle.net/ydx6qza1/","body":"<a href=\"https://jsfiddle.net/ydx6qza1/\" rel=\"nofollow noreferrer\">jsfiddle.net/ydx6qza1</a>"},{"owner":{"account_id":5665782,"reputation":437,"user_id":4481996,"display_name":"Rana Ahmer Yasin"},"score":2,"creation_date":1456293191,"post_id":35594108,"comment_id":58874330,"body_markdown":"check link above which one i defined on fiddle","body":"check link above which one i defined on fiddle"},{"owner":{"account_id":6582886,"reputation":689,"user_id":5086633,"accept_rate":89,"display_name":"yeppe"},"score":0,"creation_date":1456298625,"post_id":35594108,"comment_id":58876724,"body_markdown":"thanks for the solution I tweak it a bit  :)  to achieve new window thing though target=&quot;_blank&quot;","body":"thanks for the solution I tweak it a bit  :)  to achieve new window thing though target=&quot;_blank&quot;"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1456300854,"creation_date":1456300471,"answer_id":35596275,"question_id":35594108,"body_markdown":"Put your `&lt;script&gt;` tag in the header tag. When anchor element is created the function `abc_openthislink()` was not available, so onclick  event handler doesn&#39;t have a reference to the function.\r\n\r\n[JSFiddle][1] \r\n\r\n\r\n  [1]: https://jsfiddle.net/avt3xpgt/1/","title":"javascript error ReferenceError: is not defined error | want to open a link in a new window using JS","body":"<p>Put your <code>&lt;script&gt;</code> tag in the header tag. When anchor element is created the function <code>abc_openthislink()</code> was not available, so onclick  event handler doesn't have a reference to the function.</p>\n\n<p><a href=\"https://jsfiddle.net/avt3xpgt/1/\" rel=\"nofollow\">JSFiddle</a> </p>\n"}],"owner":{"account_id":6582886,"reputation":689,"user_id":5086633,"accept_rate":89,"display_name":"yeppe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35596275,"answer_count":1,"score":1,"last_activity_date":1675434366,"creation_date":1456292297,"question_id":35594108,"body_markdown":"I am getting below error \r\n\r\n&gt;Reference Error: xxxxfunctionname is not defined\r\n\r\nwhen I call a function from `&lt;a&gt;` tag\r\n\r\nfor instance,\r\n\r\nhtml tag\r\n\r\n    &lt;a class=&quot;linkType2&quot; href=&quot;javascript:void(0);&quot; onclick=&quot;javascript:abc_openthislink(&#39;http url&#39;)&quot;&gt;abc&lt;/a&gt;\r\n\r\nJavaScript\r\n\r\n    &lt;script&gt;\r\n    function abc_openthislink(url)\r\n    \t{\r\n    \t\twindow.open(url);\t\r\n    \t}\r\n    &lt;/script&gt;\r\n\r\nIs there something very obvious that I am missing here. Please correct me if you can.\r\n\r\n","title":"javascript error ReferenceError: is not defined error | want to open a link in a new window using JS","body":"<p>I am getting below error</p>\n<blockquote>\n<p>Reference Error: xxxxfunctionname is not defined</p>\n</blockquote>\n<p>when I call a function from <code>&lt;a&gt;</code> tag</p>\n<p>for instance,</p>\n<p>html tag</p>\n<pre><code>&lt;a class=&quot;linkType2&quot; href=&quot;javascript:void(0);&quot; onclick=&quot;javascript:abc_openthislink('http url')&quot;&gt;abc&lt;/a&gt;\n</code></pre>\n<p>JavaScript</p>\n<pre><code>&lt;script&gt;\nfunction abc_openthislink(url)\n    {\n        window.open(url);   \n    }\n&lt;/script&gt;\n</code></pre>\n<p>Is there something very obvious that I am missing here. Please correct me if you can.</p>\n"},{"tags":["java","spring-boot","kubernetes","rabbitmq","amqp"],"answers":[{"comments":[{"owner":{"account_id":15296740,"reputation":355,"user_id":11036562,"display_name":"James Taylor"},"score":0,"creation_date":1675427462,"post_id":75333134,"comment_id":132931769,"body_markdown":"This is very urgent and I&#39;m currently not very familiar with tcp_passthrough and  how to implement it with nginx ingress controller. If I may, could please share ingress controller example for tcp_passthrough","body":"This is very urgent and I&#39;m currently not very familiar with tcp_passthrough and  how to implement it with nginx ingress controller. If I may, could please share ingress controller example for tcp_passthrough"},{"owner":{"account_id":7242784,"reputation":27789,"user_id":5525824,"display_name":"Harsh Manvar"},"score":0,"creation_date":1675434264,"post_id":75333134,"comment_id":132933961,"body_markdown":"shared the answer and doc.","body":"shared the answer and doc."}],"tags":[],"owner":{"account_id":7242784,"reputation":27789,"user_id":5525824,"display_name":"Harsh Manvar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675434245,"creation_date":1675412526,"answer_id":75333134,"question_id":75332770,"body_markdown":"i think it won&#39;t be possible with Nginx ingress just like that, as it supports the **HTTP** **protocol**. \r\n\r\n[Nginx ingress controller doc][1]\r\n\r\nalthough **amqp** uses the **TCP** as **transport protocol** implementing  **tcp_passthrough** config on **Nginx ingress controller** might could be successful for you. \r\n\r\n**Update:** \r\n\r\n&gt; Ingress does not support TCP or UDP services. For this reason this\r\n&gt; Ingress controller uses the flags `--tcp-services-configmap`\r\n\r\nSo you can expose **one port** on the ingress controller and use it to access the **TCP** **service**.\r\n\r\nCreate configmap in **ingress-nginx** namespace\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: tcp-services\r\n      namespace: ingress-nginx\r\n    data:\r\n      5672: &quot;default/rabbitmq-service:5672&quot;\r\n\r\nupdate **nginx** deployment with **arg** as it is without changing anything\r\n\r\n    --tcp-services-configmap=$(POD_NAMESPACE)/tcp-services\r\n\r\nand last, add port config in the deployment of **nginx** ingress as shown in the doc. \r\n\r\nhttps://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/ \r\n\r\n\r\n  [1]: https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/\r\n","title":"how to create a service(amqp) and ingress resource in k8s other than http or https?","body":"<p>i think it won't be possible with Nginx ingress just like that, as it supports the <strong>HTTP</strong> <strong>protocol</strong>.</p>\n<p><a href=\"https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/\" rel=\"nofollow noreferrer\">Nginx ingress controller doc</a></p>\n<p>although <strong>amqp</strong> uses the <strong>TCP</strong> as <strong>transport protocol</strong> implementing  <strong>tcp_passthrough</strong> config on <strong>Nginx ingress controller</strong> might could be successful for you.</p>\n<p><strong>Update:</strong></p>\n<blockquote>\n<p>Ingress does not support TCP or UDP services. For this reason this\nIngress controller uses the flags <code>--tcp-services-configmap</code></p>\n</blockquote>\n<p>So you can expose <strong>one port</strong> on the ingress controller and use it to access the <strong>TCP</strong> <strong>service</strong>.</p>\n<p>Create configmap in <strong>ingress-nginx</strong> namespace</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: tcp-services\n  namespace: ingress-nginx\ndata:\n  5672: &quot;default/rabbitmq-service:5672&quot;\n</code></pre>\n<p>update <strong>nginx</strong> deployment with <strong>arg</strong> as it is without changing anything</p>\n<pre><code>--tcp-services-configmap=$(POD_NAMESPACE)/tcp-services\n</code></pre>\n<p>and last, add port config in the deployment of <strong>nginx</strong> ingress as shown in the doc.</p>\n<p><a href=\"https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/\" rel=\"nofollow noreferrer\">https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/</a></p>\n"}],"owner":{"account_id":15296740,"reputation":355,"user_id":11036562,"display_name":"James Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675434245,"creation_date":1675410066,"question_id":75332770,"body_markdown":"how to create a service(amqp) and ingress resource in k8s other than http or https?\r\n\r\nWe have a requirement  where our java-spring-bot app needs to send request through 443/80 port and we are requirement to receive that request on port 443/80 &amp; redirect it to our rabbitmq pods which runs on amqp protocol not on http/https.\r\n\r\nI don&#39;t know as of now it&#39;s possible or not, but we have created ingress resource with which to redirect request to our rabbitmq deployment/pods.\r\n\r\nHere&#39;s ingress resource definition.\r\n\r\n```\r\napiVersion: networking.k8s.io/v1\r\nkind: Ingress\r\nmetadata:\r\n  name: ing-rabbitmq-amqp\r\n  annotations:\r\n    kubernetes.io/ingress.class: nginx\r\nspec:\r\n  rules:\r\n    - http:\r\n       paths:\r\n        - path: /amqp\r\n          pathType: Prefix\r\n          backend:\r\n            service:\r\n              name: rabbitmq-amqp\r\n              port:\r\n                number: 5671\r\n\r\n```\r\nBut we are making our java app connect to rabbitmq through this configuration we are getting error messages.\r\n\r\nFrom our java-app\r\n\r\n```\r\n2023-02-03 07:13:51.031  INFO 1 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService &#39;taskScheduler&#39;\r\n2023-02-03 07:13:51.106  INFO 1 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.25.119.247/amqp:80]\r\n2023-02-03 07:13:51.125  INFO 1 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.net.UnknownHostException: 10.25.119.247/amqp\r\n\r\n\r\n\r\nUsually our app throws this messages for successful connection with rabbitmq on port 5671\r\n\r\n2023-02-03 07:15:44.087  INFO 1 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService &#39;taskScheduler&#39;\r\n2023-02-03 07:15:44.150  INFO 1 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.25.119.247:5671]\r\n2023-02-03 07:15:46.182  INFO 1 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2f01783a:0/SimpleConnection@5b202a3a [delegate=amqp://test_bot_user@10.25.119.247:5671/test, localPort= 58840]\r\n\r\n```\r\n\r\nWhile nginx-ingress-controller pod is throwing below error messages.\r\n\r\n```\r\n2023/02/03 07:20:08 [error] 4299#4299: *209766772 recv() failed (104: Connection reset by peer) while proxying and reading from upstream, client: 10.25.119.247, server: 0.0.0.0:5671, upstream: &quot;192.168.52.60:5671&quot;, bytes from/to client:5467/6570, bytes from/to upstream:6570/5467\r\n[5.161.119.202] [03/Feb/2023:07:20:08 +0000] TCP 200 6570 5467 263.959\r\n\r\n\r\nThis is our serverIP: 10.25.119.247\r\nThis is rabbitmq-pod IP which is coming in that log: 192.168.52.60\r\n\r\n```\r\n\r\nSo first of all is it possible to create k8s service and ingress resource on other protocols like amqp? \r\n\r\nSecondly if answer to first question is No, we can&#39;t create those resources in k8s on  protocols http/https and even if we can create but I cannot achieve this scenario then\r\nhow do I achieve my scenario where our client is behind a proxy(Cisco-WSA/12.5.2-007) wants our java-springboot app(which connects with rabbitmq on amqp protocol) to connect with our rabbitmq-pods through https ports only and is not willing to open rabbitmq tls port 5671 in his outbound request?\r\n\r\nIf any queries are there please me know?\r\n\r\n","title":"how to create a service(amqp) and ingress resource in k8s other than http or https?","body":"<p>how to create a service(amqp) and ingress resource in k8s other than http or https?</p>\n<p>We have a requirement  where our java-spring-bot app needs to send request through 443/80 port and we are requirement to receive that request on port 443/80 &amp; redirect it to our rabbitmq pods which runs on amqp protocol not on http/https.</p>\n<p>I don't know as of now it's possible or not, but we have created ingress resource with which to redirect request to our rabbitmq deployment/pods.</p>\n<p>Here's ingress resource definition.</p>\n<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: ing-rabbitmq-amqp\n  annotations:\n    kubernetes.io/ingress.class: nginx\nspec:\n  rules:\n    - http:\n       paths:\n        - path: /amqp\n          pathType: Prefix\n          backend:\n            service:\n              name: rabbitmq-amqp\n              port:\n                number: 5671\n\n</code></pre>\n<p>But we are making our java app connect to rabbitmq through this configuration we are getting error messages.</p>\n<p>From our java-app</p>\n<pre><code>2023-02-03 07:13:51.031  INFO 1 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'\n2023-02-03 07:13:51.106  INFO 1 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.25.119.247/amqp:80]\n2023-02-03 07:13:51.125  INFO 1 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.net.UnknownHostException: 10.25.119.247/amqp\n\n\n\nUsually our app throws this messages for successful connection with rabbitmq on port 5671\n\n2023-02-03 07:15:44.087  INFO 1 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'\n2023-02-03 07:15:44.150  INFO 1 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [10.25.119.247:5671]\n2023-02-03 07:15:46.182  INFO 1 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2f01783a:0/SimpleConnection@5b202a3a [delegate=amqp://test_bot_user@10.25.119.247:5671/test, localPort= 58840]\n\n</code></pre>\n<p>While nginx-ingress-controller pod is throwing below error messages.</p>\n<pre><code>2023/02/03 07:20:08 [error] 4299#4299: *209766772 recv() failed (104: Connection reset by peer) while proxying and reading from upstream, client: 10.25.119.247, server: 0.0.0.0:5671, upstream: &quot;192.168.52.60:5671&quot;, bytes from/to client:5467/6570, bytes from/to upstream:6570/5467\n[5.161.119.202] [03/Feb/2023:07:20:08 +0000] TCP 200 6570 5467 263.959\n\n\nThis is our serverIP: 10.25.119.247\nThis is rabbitmq-pod IP which is coming in that log: 192.168.52.60\n\n</code></pre>\n<p>So first of all is it possible to create k8s service and ingress resource on other protocols like amqp?</p>\n<p>Secondly if answer to first question is No, we can't create those resources in k8s on  protocols http/https and even if we can create but I cannot achieve this scenario then\nhow do I achieve my scenario where our client is behind a proxy(Cisco-WSA/12.5.2-007) wants our java-springboot app(which connects with rabbitmq on amqp protocol) to connect with our rabbitmq-pods through https ports only and is not willing to open rabbitmq tls port 5671 in his outbound request?</p>\n<p>If any queries are there please me know?</p>\n"},{"tags":["java","pdf","exception","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1508232098,"post_id":46772784,"comment_id":80519665,"body_markdown":"Please have a thorough look through your code and make sure you attached the correct version. Do you really use `path` and `loadPath` variables? The exception tells us that the path you provided doesn&#39;t seem to be a correct PDF file. Can you make a self-contained example of trying to load PDF file with a hard-coded path and attach the PDF?","body":"Please have a thorough look through your code and make sure you attached the correct version. Do you really use <code>path</code> and <code>loadPath</code> variables? The exception tells us that the path you provided doesn&#39;t seem to be a correct PDF file. Can you make a self-contained example of trying to load PDF file with a hard-coded path and attach the PDF?"},{"owner":{"account_id":11881449,"reputation":53,"user_id":8695068,"display_name":"thenoobdeveloper"},"score":0,"creation_date":1508236113,"post_id":46772784,"comment_id":80522070,"body_markdown":"path is a substring of loadPath so it&#39;s declared, I split `pdf = new PdfDocument(new PdfReader(loadPath), new PdfWriter(path));`                 in `pdf1 = new PdfDocument(new PdfReader(loadPath));\n          pdf = new PdfDocument(new PdfWriter(path));`                                 and now it works","body":"path is a substring of loadPath so it&#39;s declared, I split <code>pdf = new PdfDocument(new PdfReader(loadPath), new PdfWriter(path));</code>                 in <code>pdf1 = new PdfDocument(new PdfReader(loadPath));           pdf = new PdfDocument(new PdfWriter(path));</code>                                 and now it works"}],"answers":[{"tags":[],"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597965269,"creation_date":1597965269,"answer_id":63514343,"question_id":46772784,"body_markdown":"I my case I forgot to close docs:\r\n\r\n    PdfDocument pdfDoc = new PdfDocument(new PdfWriter(DEST));\r\n    Document doc = new Document(pdfDoc);\r\n    //...\r\n    doc.close(); //HAVE YOU CLOSE?\r\n    pdfDoc.close(); //HAVE YOU CLOSE?","title":"PDF header not found exception","body":"<p>I my case I forgot to close docs:</p>\n<pre><code>PdfDocument pdfDoc = new PdfDocument(new PdfWriter(DEST));\nDocument doc = new Document(pdfDoc);\n//...\ndoc.close(); //HAVE YOU CLOSE?\npdfDoc.close(); //HAVE YOU CLOSE?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18398102,"reputation":31,"user_id":13401949,"display_name":"ciaran swanepoel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675434040,"creation_date":1675434040,"answer_id":75337007,"question_id":46772784,"body_markdown":"A bit late here but I was facing the same issue. My issue was that the document was password protected when trying to edit with Adobe. I printed the document to PDF (using Chrome) and it worked after that. (Hopefully this helps)","title":"PDF header not found exception","body":"<p>A bit late here but I was facing the same issue. My issue was that the document was password protected when trying to edit with Adobe. I printed the document to PDF (using Chrome) and it worked after that. (Hopefully this helps)</p>\n"}],"owner":{"account_id":11881449,"reputation":53,"user_id":8695068,"display_name":"thenoobdeveloper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11067,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675434040,"creation_date":1508164337,"question_id":46772784,"body_markdown":"i&#39;m working with itext 7 and java and my problem is that exception when i try to open an existing pdf file. This is my code\r\n\r\n    \r\n        JFileChooser load = new JFileChooser();\r\n        load.setFileFilter(new PdfFilter());\r\n        load.showOpenDialog(this);\r\n        String loadPath = load.getSelectedFile().getAbsolutePath();\r\n    //some stuff here....\r\n\r\n\r\n        path = path.concat(&quot;.pdf&quot;);//path is declared above\r\n        \r\n\r\n        try {\r\n            pdf = new PdfDocument(new PdfReader(loadPath), new PdfWriter(path));\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(ParagrafoFrame.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n        doc = new Document(pdf);\r\n        doc.add(new Paragraph(&quot;test&quot;));\r\n        doc.close();\r\n\r\nwhy doesn&#39;t it work?\r\n\r\nhere the stack trace\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; com.itextpdf.io.IOException: PDF header not found.\r\n\tat com.itextpdf.io.source.PdfTokenizer.getHeaderOffset(PdfTokenizer.java:223)\r\n\tat com.itextpdf.kernel.pdf.PdfReader.getOffsetTokeniser(PdfReader.java:1075)\r\n\tat com.itextpdf.kernel.pdf.PdfReader.&lt;init&gt;(PdfReader.java:120)\r\n\tat com.itextpdf.kernel.pdf.PdfReader.&lt;init&gt;(PdfReader.java:154)\r\n\tat com.itextpdf.kernel.pdf.PdfReader.&lt;init&gt;(PdfReader.java:170)\r\n\tat com.antonionappi.editorpdf.ParagrafoFrame.continuaButtonActionPerformed(ParagrafoFrame.java:1339)\r\n\tat com.antonionappi.editorpdf.ParagrafoFrame.access$2400(ParagrafoFrame.java:46)\r\n\tat com.antonionappi.editorpdf.ParagrafoFrame$25.actionPerformed(ParagrafoFrame.java:404)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6533)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6298)\r\n\tat java.awt.Container.processEvent(Container.java:2236)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2294)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2280)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:729)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)","title":"PDF header not found exception","body":"<p>i'm working with itext 7 and java and my problem is that exception when i try to open an existing pdf file. This is my code</p>\n\n<pre><code>    JFileChooser load = new JFileChooser();\n    load.setFileFilter(new PdfFilter());\n    load.showOpenDialog(this);\n    String loadPath = load.getSelectedFile().getAbsolutePath();\n//some stuff here....\n\n\n    path = path.concat(\".pdf\");//path is declared above\n\n\n    try {\n        pdf = new PdfDocument(new PdfReader(loadPath), new PdfWriter(path));\n    } catch (IOException ex) {\n        Logger.getLogger(ParagrafoFrame.class.getName()).log(Level.SEVERE, null, ex);\n    }\n\n    doc = new Document(pdf);\n    doc.add(new Paragraph(\"test\"));\n    doc.close();\n</code></pre>\n\n<p>why doesn't it work?</p>\n\n<p>here the stack trace</p>\n\n<blockquote>\n  <p>Exception in thread \"AWT-EventQueue-0\" com.itextpdf.io.IOException: PDF header not found.\n      at com.itextpdf.io.source.PdfTokenizer.getHeaderOffset(PdfTokenizer.java:223)\n      at com.itextpdf.kernel.pdf.PdfReader.getOffsetTokeniser(PdfReader.java:1075)\n      at com.itextpdf.kernel.pdf.PdfReader.(PdfReader.java:120)\n      at com.itextpdf.kernel.pdf.PdfReader.(PdfReader.java:154)\n      at com.itextpdf.kernel.pdf.PdfReader.(PdfReader.java:170)\n      at com.antonionappi.editorpdf.ParagrafoFrame.continuaButtonActionPerformed(ParagrafoFrame.java:1339)\n      at com.antonionappi.editorpdf.ParagrafoFrame.access$2400(ParagrafoFrame.java:46)\n      at com.antonionappi.editorpdf.ParagrafoFrame$25.actionPerformed(ParagrafoFrame.java:404)\n      at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n      at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n      at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n      at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n      at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n      at java.awt.Component.processMouseEvent(Component.java:6533)\n      at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n      at java.awt.Component.processEvent(Component.java:6298)\n      at java.awt.Container.processEvent(Container.java:2236)\n      at java.awt.Component.dispatchEventImpl(Component.java:4889)\n      at java.awt.Container.dispatchEventImpl(Container.java:2294)\n      at java.awt.Component.dispatchEvent(Component.java:4711)\n      at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)\n      at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525)\n      at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)\n      at java.awt.Container.dispatchEventImpl(Container.java:2280)\n      at java.awt.Window.dispatchEventImpl(Window.java:2746)\n      at java.awt.Component.dispatchEvent(Component.java:4711)\n      at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n      at java.awt.EventQueue.access$500(EventQueue.java:97)\n      at java.awt.EventQueue$3.run(EventQueue.java:709)\n      at java.awt.EventQueue$3.run(EventQueue.java:703)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n      at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\n      at java.awt.EventQueue$4.run(EventQueue.java:731)\n      at java.awt.EventQueue$4.run(EventQueue.java:729)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n      at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n      at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n      at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n      at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n      at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n      at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n      at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)</p>\n</blockquote>\n"},{"tags":["java","oauth-2.0","outlook","imap"],"answers":[{"comments":[{"owner":{"account_id":2810815,"reputation":175,"user_id":2417100,"display_name":"wolle"},"score":0,"creation_date":1666956015,"post_id":74183227,"comment_id":131062502,"body_markdown":"Hey Ralph, first thanks for your posts. I tried it the same way but still get &quot;AUTHENTICATE failed.&quot; I created the principal with\nNew-ServicePrincipal -AppId &lt;app client uuid&gt; -ServiceId &lt;app object id&gt;\nand \nAdd-MailboxPermission -Identity &quot;&lt;mail address&gt;&quot; -User &lt;SERVICE_PRINCIPAL_ID&gt; -AccessRights FullAccess\n\nWhile not sure what service principal ID is, I tried app id, object id and &quot;ExchangeObjectId&quot; from &quot;Get-ServicePrincipal | fl&quot;","body":"Hey Ralph, first thanks for your posts. I tried it the same way but still get &quot;AUTHENTICATE failed.&quot; I created the principal with New-ServicePrincipal -AppId &lt;app client uuid&gt; -ServiceId &lt;app object id&gt; and  Add-MailboxPermission -Identity &quot;&lt;mail address&gt;&quot; -User &lt;SERVICE_PRINCIPAL_ID&gt; -AccessRights FullAccess  While not sure what service principal ID is, I tried app id, object id and &quot;ExchangeObjectId&quot; from &quot;Get-ServicePrincipal | fl&quot;"},{"owner":{"account_id":2810815,"reputation":175,"user_id":2417100,"display_name":"wolle"},"score":0,"creation_date":1666960375,"post_id":74183227,"comment_id":131063922,"body_markdown":"by the way: If I decode my access token on https://jwt.ms/ I can see I have the roles\n```\n &quot;roles&quot;: [\n    &quot;POP.AccessAsApp&quot;,\n    &quot;IMAP.AccessAsApp&quot;\n  ],\n```","body":"by the way: If I decode my access token on <a href=\"https://jwt.ms/\" rel=\"nofollow noreferrer\">jwt.ms</a> I can see I have the roles ```  &quot;roles&quot;: [     &quot;POP.AccessAsApp&quot;,     &quot;IMAP.AccessAsApp&quot;   ], ```"},{"owner":{"account_id":2810815,"reputation":175,"user_id":2417100,"display_name":"wolle"},"score":0,"creation_date":1667476933,"post_id":74183227,"comment_id":131178356,"body_markdown":"Aaaaaah, I got it. &quot;From similar question&quot;... ENTERPRISE application is not application","body":"Aaaaaah, I got it. &quot;From similar question&quot;... ENTERPRISE application is not application"},{"owner":{"account_id":1775717,"reputation":576,"user_id":1619545,"accept_rate":50,"display_name":"AndyB"},"score":0,"creation_date":1668153110,"post_id":74183227,"comment_id":131340942,"body_markdown":"See this fantastic SO Thread: https://stackoverflow.com/questions/73463357/cannot-authenticate-to-imap-on-office365-using-javamail\nSolution is to use the ENTERPRISE APP object ID\nM$ could not have made that MORE COMPLICATED","body":"See this fantastic SO Thread: <a href=\"https://stackoverflow.com/questions/73463357/cannot-authenticate-to-imap-on-office365-using-javamail\" title=\"cannot authenticate to imap on office365 using javamail\">stackoverflow.com/questions/73463357/&hellip;</a> Solution is to use the ENTERPRISE APP object ID M$ could not have made that MORE COMPLICATED"},{"owner":{"account_id":10727655,"reputation":1591,"user_id":8331235,"accept_rate":82,"display_name":"Bhanuchander Udhayakumar"},"score":0,"creation_date":1672462129,"post_id":74183227,"comment_id":132294262,"body_markdown":"https://stackoverflow.com/questions/74899182/how-to-read-my-outlook-mail-using-java-and-oauth2-0-without-application-regsitra","body":"<a href=\"https://stackoverflow.com/questions/74899182/how-to-read-my-outlook-mail-using-java-and-oauth2-0-without-application-regsitra\" title=\"how to read my outlook mail using java and oauth2 0 without application regsitra\">stackoverflow.com/questions/74899182/&hellip;</a>"}],"tags":[],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669202853,"creation_date":1666624119,"answer_id":74183227,"question_id":74157939,"body_markdown":"The code example is correct. The problem was the missing rights on the provided `servicePrincipal`. \r\nFor creating the servicePrincipal in office365 a `objectId` needs to be used. These tasks can be performed only by administrators using PowerShell scripts. These all has nothing to do with Java. The Java API is straight forward.","title":"How to access outlook.office365.com IMAP form Java with OAUTH2?","body":"<p>The code example is correct. The problem was the missing rights on the provided <code>servicePrincipal</code>.\nFor creating the servicePrincipal in office365 a <code>objectId</code> needs to be used. These tasks can be performed only by administrators using PowerShell scripts. These all has nothing to do with Java. The Java API is straight forward.</p>\n"},{"tags":[],"owner":{"account_id":2106056,"reputation":890,"user_id":1872360,"accept_rate":88,"display_name":"runholen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675433251,"creation_date":1675433251,"answer_id":75336841,"question_id":74157939,"body_markdown":"For everyone getting the dreaded &quot;A1 no authenticate failed&quot;, even though you have tried everything in this thread, and the linked threads:\r\nOur existing javamail code, that worked flawlessly with basic auth before microsoft removed it, always got the &quot;A1 No authenticate failed&quot; error, even though we tried everything else from here and the linked threads.\r\nWhat finally made it work was the following change:\r\n````\r\nimapStore = sess.getStore(&quot;imaps&quot;);\r\n````\r\nto\r\n````\r\nimapStore = sess.getStore(&quot;imap&quot;);\r\n````\r\nSo if you were used to connecting to &quot;imaps&quot; with basic auth, give &quot;imap&quot; a try before pulling out the rest of your hair.. ;-)","title":"How to access outlook.office365.com IMAP form Java with OAUTH2?","body":"<p>For everyone getting the dreaded &quot;A1 no authenticate failed&quot;, even though you have tried everything in this thread, and the linked threads:\nOur existing javamail code, that worked flawlessly with basic auth before microsoft removed it, always got the &quot;A1 No authenticate failed&quot; error, even though we tried everything else from here and the linked threads.\nWhat finally made it work was the following change:</p>\n<pre><code>imapStore = sess.getStore(&quot;imaps&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>imapStore = sess.getStore(&quot;imap&quot;);\n</code></pre>\n<p>So if you were used to connecting to &quot;imaps&quot; with basic auth, give &quot;imap&quot; a try before pulling out the rest of your hair.. ;-)</p>\n"}],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6341,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675433251,"creation_date":1666377536,"question_id":74157939,"body_markdown":"Since Microsoft has announced that access to Outlook IMAP mailboxes with Basic authentication will soon no longer be possible, I&#39;m trying to figure out how to properly open an IMAP mailbox with OAUTH2 in Java. But I always get the error code &quot;A1 NO AUTHENTICATE failed.&quot;\r\n\r\nWhat I am doing is the following: \r\n\r\nI have a method to generate a OAUTH2 Access token:\r\n\r\n```java\r\npublic String getAuthToken(String tanantId,String clientId,String client_secret) throws ClientProtocolException, IOException {\r\n\tCloseableHttpClient client = HttpClients.createDefault();\r\n\tHttpPost loginPost = new HttpPost(&quot;https://login.microsoftonline.com/&quot; + tanantId + &quot;/oauth2/v2.0/token&quot;);\r\n\tString scopes = &quot;https://outlook.office365.com/.default&quot;;\r\n\tString encodedBody = &quot;client_id=&quot; + clientId + &quot;&amp;scope=&quot; + scopes + &quot;&amp;client_secret=&quot; + client_secret\r\n\t\t\t+ &quot;&amp;grant_type=client_credentials&quot;;\r\n\tloginPost.setEntity(new StringEntity(encodedBody, ContentType.APPLICATION_FORM_URLENCODED));\r\n\tloginPost.addHeader(new BasicHeader(&quot;cache-control&quot;, &quot;no-cache&quot;));\r\n\tCloseableHttpResponse loginResponse = client.execute(loginPost);\r\n\tInputStream inputStream = loginResponse.getEntity().getContent();\r\n\tbyte[] response = readAllBytes(inputStream);\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tJavaType type = objectMapper.constructType(\r\n\t\t\tobjectMapper.getTypeFactory().constructParametricType(Map.class, String.class, String.class));\r\n\tMap&lt;String, String&gt; parsed = new ObjectMapper().readValue(response, type);\r\n\treturn parsed.get(&quot;access_token&quot;);\r\n}\r\n```\r\n\r\nThe generated token seems to be valid as [jwt.ms](https://jwt.ms) allows me to decode the token.\r\n\r\nI try to access the mailbox via XOAUTH2 using the access token like this:\r\n\r\n```java\r\n\t\tProperties props = new Properties();\r\n\r\n\t\tprops.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n\t\tprops.put(&quot;mail.imap.host&quot;, &quot;outlook.office365.com&quot;);\r\n\t\tprops.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\n\t\tprops.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.imap.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n\t\tprops.put(&quot;mail.imap.user&quot;, mailAddress);\r\n\t\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n\t\r\n\t\t// open mailbox....\r\n\t\tString token = getAuthToken(tanantId,clientId,client_secret);\r\n\t\tSession session = Session.getInstance(props);\r\n\t\tsession.setDebug(true);\r\n\t\tStore store = session.getStore(&quot;imap&quot;);\r\n\t\tstore.connect(&quot;outlook.office365.com&quot;, mailAddress, token);\r\n```\r\n\r\n\r\nBut the result is always a `AuthenticationFailedException`: \r\n\r\n    * OK The Microsoft Exchange IMAP4 service is ready. [...............AA==]\r\n    A0 CAPABILITY\r\n    * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\n    A0 OK CAPABILITY completed.\r\n    DEBUG IMAP: AUTH: PLAIN\r\n    DEBUG IMAP: AUTH: XOAUTH2\r\n    DEBUG IMAP: protocolConnect login, host=outlook.office365.com, user=xxx@yyy.com, password=&lt;non-null&gt;\r\n    A1 AUTHENTICATE XOAUTH2 ....E=\r\n    A1 NO AUTHENTICATE failed.\r\n    javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n\r\n\r\nFrom [this similar question](https://stackoverflow.com/questions/73463357/cannot-authenticate-to-imap-on-office365-using-javamail) I now suspect that my Access token actually has too few rights to access the mailbox. \r\n\r\n\r\nHow can I clarify this? For example when I decode the token I can see that it includes no `scp` or `roles` attribute. \r\nDoes this indicate that the token is wrong?","title":"How to access outlook.office365.com IMAP form Java with OAUTH2?","body":"<p>Since Microsoft has announced that access to Outlook IMAP mailboxes with Basic authentication will soon no longer be possible, I'm trying to figure out how to properly open an IMAP mailbox with OAUTH2 in Java. But I always get the error code &quot;A1 NO AUTHENTICATE failed.&quot;</p>\n<p>What I am doing is the following:</p>\n<p>I have a method to generate a OAUTH2 Access token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getAuthToken(String tanantId,String clientId,String client_secret) throws ClientProtocolException, IOException {\n    CloseableHttpClient client = HttpClients.createDefault();\n    HttpPost loginPost = new HttpPost(&quot;https://login.microsoftonline.com/&quot; + tanantId + &quot;/oauth2/v2.0/token&quot;);\n    String scopes = &quot;https://outlook.office365.com/.default&quot;;\n    String encodedBody = &quot;client_id=&quot; + clientId + &quot;&amp;scope=&quot; + scopes + &quot;&amp;client_secret=&quot; + client_secret\n            + &quot;&amp;grant_type=client_credentials&quot;;\n    loginPost.setEntity(new StringEntity(encodedBody, ContentType.APPLICATION_FORM_URLENCODED));\n    loginPost.addHeader(new BasicHeader(&quot;cache-control&quot;, &quot;no-cache&quot;));\n    CloseableHttpResponse loginResponse = client.execute(loginPost);\n    InputStream inputStream = loginResponse.getEntity().getContent();\n    byte[] response = readAllBytes(inputStream);\n    ObjectMapper objectMapper = new ObjectMapper();\n    JavaType type = objectMapper.constructType(\n            objectMapper.getTypeFactory().constructParametricType(Map.class, String.class, String.class));\n    Map&lt;String, String&gt; parsed = new ObjectMapper().readValue(response, type);\n    return parsed.get(&quot;access_token&quot;);\n}\n</code></pre>\n<p>The generated token seems to be valid as <a href=\"https://jwt.ms\" rel=\"nofollow noreferrer\">jwt.ms</a> allows me to decode the token.</p>\n<p>I try to access the mailbox via XOAUTH2 using the access token like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Properties props = new Properties();\n\n        props.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n        props.put(&quot;mail.imap.host&quot;, &quot;outlook.office365.com&quot;);\n        props.put(&quot;mail.imap.port&quot;, &quot;993&quot;);\n        props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\n        props.put(&quot;mail.imap.user&quot;, mailAddress);\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n        props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n    \n        // open mailbox....\n        String token = getAuthToken(tanantId,clientId,client_secret);\n        Session session = Session.getInstance(props);\n        session.setDebug(true);\n        Store store = session.getStore(&quot;imap&quot;);\n        store.connect(&quot;outlook.office365.com&quot;, mailAddress, token);\n</code></pre>\n<p>But the result is always a <code>AuthenticationFailedException</code>:</p>\n<pre><code>* OK The Microsoft Exchange IMAP4 service is ready. [...............AA==]\nA0 CAPABILITY\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\nA0 OK CAPABILITY completed.\nDEBUG IMAP: AUTH: PLAIN\nDEBUG IMAP: AUTH: XOAUTH2\nDEBUG IMAP: protocolConnect login, host=outlook.office365.com, user=xxx@yyy.com, password=&lt;non-null&gt;\nA1 AUTHENTICATE XOAUTH2 ....E=\nA1 NO AUTHENTICATE failed.\njavax.mail.AuthenticationFailedException: AUTHENTICATE failed.\n</code></pre>\n<p>From <a href=\"https://stackoverflow.com/questions/73463357/cannot-authenticate-to-imap-on-office365-using-javamail\">this similar question</a> I now suspect that my Access token actually has too few rights to access the mailbox.</p>\n<p>How can I clarify this? For example when I decode the token I can see that it includes no <code>scp</code> or <code>roles</code> attribute.\nDoes this indicate that the token is wrong?</p>\n"},{"tags":["java","spring-boot","foreign-keys"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1675431843,"post_id":75335530,"comment_id":132933089,"body_markdown":"Your code already contains the logic to obtain the `CustomUserDetails`. Can&#39;t you use that to find the `User` entity from the `UserRepository` and call `reservation.setUser(...)` or is your question about how you can remove that from your code and have it completely automatic?","body":"Your code already contains the logic to obtain the <code>CustomUserDetails</code>. Can&#39;t you use that to find the <code>User</code> entity from the <code>UserRepository</code> and call <code>reservation.setUser(...)</code> or is your question about how you can remove that from your code and have it completely automatic?"},{"owner":{"account_id":27694021,"reputation":1,"user_id":21140123,"display_name":"meimei"},"score":0,"creation_date":1675477023,"post_id":75335530,"comment_id":132943700,"body_markdown":"Thank you for your comment. I already tried that &#39;reservation.setUser()&#39; but I don&#39;t know what to put in the bracket. I think I am missing something in the CustomUserDetails. Could you please teach me how to complete the &#39;reservation.setUser()&#39; syntax.","body":"Thank you for your comment. I already tried that &#39;reservation.setUser()&#39; but I don&#39;t know what to put in the bracket. I think I am missing something in the CustomUserDetails. Could you please teach me how to complete the &#39;reservation.setUser()&#39; syntax."}],"answers":[{"tags":[],"owner":{"account_id":27692653,"reputation":1,"user_id":21139032,"display_name":"Abhishek Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675430276,"creation_date":1675430276,"answer_id":75336278,"question_id":75335530,"body_markdown":"DB mapping is correct.\r\nIn reservation table you have user_id column but in java persistance you have entire User object(which internally maps id of user to user_id of reservation)   \r\nYour code snippet does not shows how logged user data is managed, I will suggest after login pass User object to GET /make_reservation request \r\n\r\n     model.addAttribute(&quot;user&quot;, LOGGED_IN_USER);\r\nand before saving reservation object set user to it.\r\n\r\nIf passing entire user object is not possible pass id of user to model\r\non reservation post method get user by  findById and then set it to reservation object and save reservation entity.","title":"Get logged in user ID filled as a foreign key when user makes a reservation","body":"<p>DB mapping is correct.\nIn reservation table you have user_id column but in java persistance you have entire User object(which internally maps id of user to user_id of reservation)<br />\nYour code snippet does not shows how logged user data is managed, I will suggest after login pass User object to GET /make_reservation request</p>\n<pre><code> model.addAttribute(&quot;user&quot;, LOGGED_IN_USER);\n</code></pre>\n<p>and before saving reservation object set user to it.</p>\n<p>If passing entire user object is not possible pass id of user to model\non reservation post method get user by  findById and then set it to reservation object and save reservation entity.</p>\n"},{"tags":[],"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675433134,"creation_date":1675432070,"answer_id":75336602,"question_id":75335530,"body_markdown":"You need to set the user in the reservation object before saving it in reservationRepository.\r\n\r\nSomething like this:\r\n\r\n \r\n        Optional&lt;User&gt; optionalUser = userRepository.findById(userId);\r\n        Optional&lt;Reservation&gt; optionalReservation =reservationRepository.findById(reservationId);\r\n        if (!optionalReservation.isEmpty() || !optionalUser.isEmpty()) {\r\n             User user = optionalUser.get();\r\n             Reservation reservation = optionalReservation.get();\r\n             reservation.setUser(user); //You are missing this in your code\r\n             reservationRepository.save(reservation);\r\n\r\n\r\nThis method should be in the reservationService and should be called by the reservationController.\r\nYou should have always separate layer in your application, so you shouldn&#39;t call the repository directly in the controller. \r\nThe right path of calls:\r\nController -&gt; Service -&gt; Repository\r\n       ","title":"Get logged in user ID filled as a foreign key when user makes a reservation","body":"<p>You need to set the user in the reservation object before saving it in reservationRepository.</p>\n<p>Something like this:</p>\n<pre><code>    Optional&lt;User&gt; optionalUser = userRepository.findById(userId);\n    Optional&lt;Reservation&gt; optionalReservation =reservationRepository.findById(reservationId);\n    if (!optionalReservation.isEmpty() || !optionalUser.isEmpty()) {\n         User user = optionalUser.get();\n         Reservation reservation = optionalReservation.get();\n         reservation.setUser(user); //You are missing this in your code\n         reservationRepository.save(reservation);\n</code></pre>\n<p>This method should be in the reservationService and should be called by the reservationController.\nYou should have always separate layer in your application, so you shouldn't call the repository directly in the controller.\nThe right path of calls:\nController -&gt; Service -&gt; Repository</p>\n"}],"owner":{"account_id":27694021,"reputation":1,"user_id":21140123,"display_name":"meimei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675433134,"creation_date":1675426126,"question_id":75335530,"body_markdown":"I am very new to Java and Spring Boot. I am trying to complete this web application assignment about a ticket reservation system. \r\n\r\nI have linked the Reservation and User Database Table by @ManyToOne \r\n\r\nReservation\r\n```\r\npackage com.codejava.reservation;\r\n\r\nimport com.codejava.user.User;\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name=&quot;reservation&quot;)\r\npublic class Reservation {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column (nullable = false)\r\n    private String ticket_firstname;\r\n\r\n    @Column (nullable = false)\r\n    private String ticket_lastname;\r\n\r\n    @Column (nullable = false)\r\n    private String from_station;\r\n\r\n    @Column (nullable = false)\r\n    private String to_station;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name =&quot;user_id&quot;, referencedColumnName = &quot;id&quot;, insertable = true, updatable = false)\r\n    private User user;\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int ticket_id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTicket_firstname() {\r\n        return ticket_firstname;\r\n    }\r\n\r\n    public void setTicket_firstname(String ticket_firstname) {\r\n        this.ticket_firstname = ticket_firstname;\r\n    }\r\n\r\n    public String getTicket_lastname() {\r\n        return ticket_lastname;\r\n    }\r\n\r\n    public void setTicket_lastname(String ticket_lastname) {\r\n        this.ticket_lastname = ticket_lastname;\r\n    }\r\n\r\n    public String getFrom_station() {\r\n        return from_station;\r\n    }\r\n\r\n    public void setFrom_station(String from_station) {\r\n        this.from_station = from_station;\r\n    }\r\n\r\n    public String getTo_station() {\r\n        return to_station;\r\n    }\r\n\r\n    public void setTo_station(String to_station) {\r\n        this.to_station = to_station;\r\n    }\r\n}\r\n```\r\n\r\nUser\r\n\r\n```\r\npackage com.codejava.user;\r\n\r\nimport com.codejava.reservation.Reservation;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @Column(nullable = false, length=45)\r\n    private String firstName;\r\n\r\n    @Column(nullable = false, length=45)\r\n    private String lastName;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Reservation&gt; reservationList= new HashSet&lt;&gt;();\r\n\r\n    public Set&lt;Reservation&gt; getReservationList() {\r\n        return reservationList;\r\n    }\r\n\r\n    public void setReservationList(Set&lt;Reservation&gt; reservationList) {\r\n        this.reservationList = reservationList;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n}\r\n```\r\n\r\nI want the user_id field in the Reservation table automatically filled with the current logged-in User-ID when the user make a new reservation.\r\n\r\n[The user_id field is not filled when the logged-in user makes a new reservation][1]\r\n\r\nReservationController\r\n\r\n```\r\npackage com.codejava.reservation;\r\n\r\nimport com.codejava.user.CustomUserDetails;\r\nimport com.codejava.user.User;\r\nimport com.codejava.user.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Service\r\n@Controller\r\npublic class ReservationController {\r\n\r\n    @Autowired\r\n    private ReservationService reservationService;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private ReservationRepository reservationRepository;\r\n\r\n    public ReservationController() {\r\n    }\r\n\r\n    @GetMapping (&quot;/make_reservation&quot;)\r\n    public String makeReservation(Model model){\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        model.addAttribute(&quot;reservation&quot;, new Reservation());\r\n        return &quot;make_reservation&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/make_reservation&quot;)\r\n    public String saveReservation(Reservation reservation) {\r\n        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        CustomUserDetails user = (CustomUserDetails)principal;\r\n\r\n        reservationRepository.save(reservation);\r\n\r\n        return &quot;index&quot;;\r\n    }\r\n```\r\n\r\nReservationService\r\n\r\n```\r\npackage com.codejava.reservation;\r\n\r\nimport com.codejava.user.User;\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@Transactional\r\npublic class ReservationService {\r\n\r\n    private User user;\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Autowired\r\n    private ReservationRepository reservationRepo;\r\n}\r\n```\r\n\r\nI am very new and the requirement for the project is kinda ridiculously hard for beginners. I have been researching very hard but I still cannot figure it out. I really appreciate it if you can help me and give me some clear instructions.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LLiyi.png","title":"Get logged in user ID filled as a foreign key when user makes a reservation","body":"<p>I am very new to Java and Spring Boot. I am trying to complete this web application assignment about a ticket reservation system.</p>\n<p>I have linked the Reservation and User Database Table by @ManyToOne</p>\n<p>Reservation</p>\n<pre><code>package com.codejava.reservation;\n\nimport com.codejava.user.User;\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name=&quot;reservation&quot;)\npublic class Reservation {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column (nullable = false)\n    private String ticket_firstname;\n\n    @Column (nullable = false)\n    private String ticket_lastname;\n\n    @Column (nullable = false)\n    private String from_station;\n\n    @Column (nullable = false)\n    private String to_station;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name =&quot;user_id&quot;, referencedColumnName = &quot;id&quot;, insertable = true, updatable = false)\n    private User user;\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int ticket_id) {\n        this.id = id;\n    }\n\n    public String getTicket_firstname() {\n        return ticket_firstname;\n    }\n\n    public void setTicket_firstname(String ticket_firstname) {\n        this.ticket_firstname = ticket_firstname;\n    }\n\n    public String getTicket_lastname() {\n        return ticket_lastname;\n    }\n\n    public void setTicket_lastname(String ticket_lastname) {\n        this.ticket_lastname = ticket_lastname;\n    }\n\n    public String getFrom_station() {\n        return from_station;\n    }\n\n    public void setFrom_station(String from_station) {\n        this.from_station = from_station;\n    }\n\n    public String getTo_station() {\n        return to_station;\n    }\n\n    public void setTo_station(String to_station) {\n        this.to_station = to_station;\n    }\n}\n</code></pre>\n<p>User</p>\n<pre><code>package com.codejava.user;\n\nimport com.codejava.reservation.Reservation;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.*;\n\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @Column(nullable = false, length=45)\n    private String firstName;\n\n    @Column(nullable = false, length=45)\n    private String lastName;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Reservation&gt; reservationList= new HashSet&lt;&gt;();\n\n    public Set&lt;Reservation&gt; getReservationList() {\n        return reservationList;\n    }\n\n    public void setReservationList(Set&lt;Reservation&gt; reservationList) {\n        this.reservationList = reservationList;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p>I want the user_id field in the Reservation table automatically filled with the current logged-in User-ID when the user make a new reservation.</p>\n<p><a href=\"https://i.stack.imgur.com/LLiyi.png\" rel=\"nofollow noreferrer\">The user_id field is not filled when the logged-in user makes a new reservation</a></p>\n<p>ReservationController</p>\n<pre><code>package com.codejava.reservation;\n\nimport com.codejava.user.CustomUserDetails;\nimport com.codejava.user.User;\nimport com.codejava.user.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Service;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\n@Service\n@Controller\npublic class ReservationController {\n\n    @Autowired\n    private ReservationService reservationService;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private ReservationRepository reservationRepository;\n\n    public ReservationController() {\n    }\n\n    @GetMapping (&quot;/make_reservation&quot;)\n    public String makeReservation(Model model){\n        model.addAttribute(&quot;user&quot;, new User());\n        model.addAttribute(&quot;reservation&quot;, new Reservation());\n        return &quot;make_reservation&quot;;\n    }\n\n    @PostMapping(&quot;/make_reservation&quot;)\n    public String saveReservation(Reservation reservation) {\n        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        CustomUserDetails user = (CustomUserDetails)principal;\n\n        reservationRepository.save(reservation);\n\n        return &quot;index&quot;;\n    }\n</code></pre>\n<p>ReservationService</p>\n<pre><code>package com.codejava.reservation;\n\nimport com.codejava.user.User;\nimport jakarta.transaction.Transactional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\n@Transactional\npublic class ReservationService {\n\n    private User user;\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    @Autowired\n    private ReservationRepository reservationRepo;\n}\n</code></pre>\n<p>I am very new and the requirement for the project is kinda ridiculously hard for beginners. I have been researching very hard but I still cannot figure it out. I really appreciate it if you can help me and give me some clear instructions.</p>\n"},{"tags":["java","unit-testing","testing","junit5","idempotent"],"comments":[{"owner":{"account_id":97511,"reputation":2688,"user_id":264482,"accept_rate":94,"display_name":"Rob Goodwin"},"score":3,"creation_date":1675342574,"post_id":75323462,"comment_id":132910913,"body_markdown":"For that I use the test setup and teardown methods to ensure the input is there before the test, and removed after.  As far as what gets tested, I will use some sort of coverage report to ensure what I want tested is tested.","body":"For that I use the test setup and teardown methods to ensure the input is there before the test, and removed after.  As far as what gets tested, I will use some sort of coverage report to ensure what I want tested is tested."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1675342696,"post_id":75323462,"comment_id":132910960,"body_markdown":"1. have original file, 2. before each test runs create temp dir and make copy of that file to a temp dir, 3. run test, 4. after each test destroy the temp dir. Look at `@BeforeEach` and `@AfterEach` annotations for junit","body":"1. have original file, 2. before each test runs create temp dir and make copy of that file to a temp dir, 3. run test, 4. after each test destroy the temp dir. Look at <code>@BeforeEach</code> and <code>@AfterEach</code> annotations for junit"},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1675343326,"post_id":75323462,"comment_id":132911194,"body_markdown":"@RobGoodwin :facepalm. That is an easy solution!","body":"@RobGoodwin :facepalm. That is an easy solution!"}],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675433083,"creation_date":1675433083,"answer_id":75336799,"question_id":75323462,"body_markdown":"I would recommend to use new `@TempDir` annotation from `junit 5`.\r\n\r\n[Docs](https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html):\r\n&gt; When the end of the scope of a temporary directory is reached, i.e. when the test method or class has finished execution, JUnit will attempt to recursively delete all files and directories in the temporary directory and, finally, the temporary directory itself. \r\n\r\nIn that case you test cases will look as the next:\r\n```java\r\n@Test\r\nvoid loadsFileCorrectly(@TempDir Path temp) {\r\n    final Path file = temp.resolve(&quot;testable.file&quot;);\r\n    loadFile(file);\r\n    Assertions.assertTrue(Files.notExists(file));\r\n}\r\n\r\n@Test\r\nvoid loadsFileWithException(@TempDir Path temp) {\r\n    final Path file = temp.resolve(&quot;testable.file&quot;);\r\n    loadFile(file);\r\n    Assertions.assertTrue(Files.exists(file.resolveSibling(&quot;ERROR_&quot; + file.getFileName())));\r\n}\r\n```\r\n\r\nIn both scenarios, the created files will be automatically deleted after execution.\r\n\r\n","title":"Design idempotent unit test","body":"<p>I would recommend to use new <code>@TempDir</code> annotation from <code>junit 5</code>.</p>\n<p><a href=\"https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html\" rel=\"nofollow noreferrer\">Docs</a>:</p>\n<blockquote>\n<p>When the end of the scope of a temporary directory is reached, i.e. when the test method or class has finished execution, JUnit will attempt to recursively delete all files and directories in the temporary directory and, finally, the temporary directory itself.</p>\n</blockquote>\n<p>In that case you test cases will look as the next:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid loadsFileCorrectly(@TempDir Path temp) {\n    final Path file = temp.resolve(&quot;testable.file&quot;);\n    loadFile(file);\n    Assertions.assertTrue(Files.notExists(file));\n}\n\n@Test\nvoid loadsFileWithException(@TempDir Path temp) {\n    final Path file = temp.resolve(&quot;testable.file&quot;);\n    loadFile(file);\n    Assertions.assertTrue(Files.exists(file.resolveSibling(&quot;ERROR_&quot; + file.getFileName())));\n}\n</code></pre>\n<p>In both scenarios, the created files will be automatically deleted after execution.</p>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675433083,"creation_date":1675342300,"question_id":75323462,"body_markdown":"I&#39;m designing unit tests for the following method:\r\n\r\n    public void loadFile(Path filename) throws IOException {\r\n        try {\r\n            // do something\r\n        } catch (RuntimeException ex) {\r\n            Files.move(filename, filename.resolveSibling(&quot;ERROR_&quot; + filename.getFileName()));\r\n            return;\r\n        }\r\n\r\n        Files.delete(filename);\r\n    }\r\n\r\nAnd I&#39;m looking for a way of testing it without producing different results, since the input file is going to be either renamed or deleted after the execution test:\r\n\r\n - If `RuntimeException` takes place, file is renamed.\r\n - If execution goes as expected, file is deleted.\r\n\r\nEither way, consecutive runs of the test will make it fail because file will be named different or it won&#39;t exist... How could I prevent that? Also, is there a way to verify `Files#move(Path, Path, CopyOption...)` and `Files#delete(Path)` were invoked?","title":"Design idempotent unit test","body":"<p>I'm designing unit tests for the following method:</p>\n<pre><code>public void loadFile(Path filename) throws IOException {\n    try {\n        // do something\n    } catch (RuntimeException ex) {\n        Files.move(filename, filename.resolveSibling(&quot;ERROR_&quot; + filename.getFileName()));\n        return;\n    }\n\n    Files.delete(filename);\n}\n</code></pre>\n<p>And I'm looking for a way of testing it without producing different results, since the input file is going to be either renamed or deleted after the execution test:</p>\n<ul>\n<li>If <code>RuntimeException</code> takes place, file is renamed.</li>\n<li>If execution goes as expected, file is deleted.</li>\n</ul>\n<p>Either way, consecutive runs of the test will make it fail because file will be named different or it won't exist... How could I prevent that? Also, is there a way to verify <code>Files#move(Path, Path, CopyOption...)</code> and <code>Files#delete(Path)</code> were invoked?</p>\n"},{"tags":["java","email","outlook","microsoft-graph-api","ouath-outlook"],"comments":[{"owner":{"account_id":334117,"reputation":15586,"user_id":660350,"accept_rate":54,"display_name":"Pascal"},"score":0,"creation_date":1674753138,"post_id":74717563,"comment_id":132785687,"body_markdown":"Hi. Could you find a solution? If yes, can I kindly ask you to document it? Thanks.","body":"Hi. Could you find a solution? If yes, can I kindly ask you to document it? Thanks."},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1674809728,"post_id":74717563,"comment_id":132796446,"body_markdown":"Hi  @Pascal, I  could  not find a solution, so I scrapped this. I am able to use an FTP mechanism instead of trying to access MS Outlook from jakarta.mail.","body":"Hi  @Pascal, I  could  not find a solution, so I scrapped this. I am able to use an FTP mechanism instead of trying to access MS Outlook from jakarta.mail."},{"owner":{"account_id":2106056,"reputation":890,"user_id":1872360,"accept_rate":88,"display_name":"runholen"},"score":0,"creation_date":1675423911,"post_id":74717563,"comment_id":132930802,"body_markdown":"@Pascal, if you should manage to find a solution, please post it here for the rest of us..","body":"@Pascal, if you should manage to find a solution, please post it here for the rest of us.."},{"owner":{"account_id":334117,"reputation":15586,"user_id":660350,"accept_rate":54,"display_name":"Pascal"},"score":0,"creation_date":1678723563,"post_id":74717563,"comment_id":133584883,"body_markdown":"@runholen No time to investigate this right now. I&#39;ll update this post if I ever find a solution ;-)","body":"@runholen No time to investigate this right now. I&#39;ll update this post if I ever find a solution ;-)"}],"answers":[{"comments":[{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1670442528,"post_id":74717815,"comment_id":131879900,"body_markdown":"Hi @user2250152, thank you for your answer. You may have the solution, however i am not really clear on  what I need to do.  Please can you look at my `Update` above.","body":"Hi @user2250152, thank you for your answer. You may have the solution, however i am not really clear on  what I need to do.  Please can you look at my <code>Update</code> above."}],"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670421371,"creation_date":1670421371,"answer_id":74717815,"question_id":74717563,"body_markdown":"If you want to get access on behalf of a user then the scope must be a space-separated list of the Microsoft Graph permissions that you want the user to consent to.\r\n\r\n    final String scope = &quot;user.read imap.accessasuser.all etc.&quot;;\r\n\r\nIf you want to get access without user (daemon app) then the value passed for the scope parameter in auth request should be `https://graph.microsoft.com/.default`. This value informs the Microsoft identity platform endpoint to include in the access token all the app-level permissions the admin has consented to.\r\n\r\n    final String scope = &quot;https://graph.microsoft.com/.default&quot;;\r\n\r\n\r\n[Authorization oauth v2 user][1]\r\n\r\n[Authorization oauth v2 service][2]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/auth-v2-user#authorization-request\r\n  [2]: https://learn.microsoft.com/en-us/graph/auth-v2-service#token-request","title":"JavaMail cannot access Outlook mailbox using OAuth2.0","body":"<p>If you want to get access on behalf of a user then the scope must be a space-separated list of the Microsoft Graph permissions that you want the user to consent to.</p>\n<pre><code>final String scope = &quot;user.read imap.accessasuser.all etc.&quot;;\n</code></pre>\n<p>If you want to get access without user (daemon app) then the value passed for the scope parameter in auth request should be <code>https://graph.microsoft.com/.default</code>. This value informs the Microsoft identity platform endpoint to include in the access token all the app-level permissions the admin has consented to.</p>\n<pre><code>final String scope = &quot;https://graph.microsoft.com/.default&quot;;\n</code></pre>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/auth-v2-user#authorization-request\" rel=\"nofollow noreferrer\">Authorization oauth v2 user</a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/auth-v2-service#token-request\" rel=\"nofollow noreferrer\">Authorization oauth v2 service</a></p>\n"},{"tags":[],"owner":{"account_id":1085024,"reputation":20756,"user_id":1080923,"display_name":"Glen Scales"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670540658,"creation_date":1670540658,"answer_id":74737266,"question_id":74717563,"body_markdown":"    = &quot;https://graph.microsoft.com/.default&quot;;\r\n\r\nthis isn&#39;t the correct scope to use for IMAP the Graph does not provide IMAP access so using that will always generate a token with an incorrect audience that will fail when you try to authenticate against Exchange. \r\n\r\nfor the client credentials flow scope = &quot;https://outlook.office365.com/.default&quot; is the correct scope. The first place to start is check your token in jwt.io and make look at what permissions are being included in the returned token (the are listed under roles).\r\n\r\nEven with the correct permission and scope IMAP can be disabled at the mailbox level (and it recommended to do so) eg https://help.fookes.com/support/solutions/articles/9000213843-cannot-connect-to-microsoft-365-account-via-imap#:~:text=To%20allow%20IMAP%20access%20on,and%20enable%20IMAP%20from%20there.\r\n\r\nIf your building a new application don&#39;t use IMAP it&#39;s legacy and has many security issues. You can use the Graph just as easily and it will be guaranteed that your app will work without problem in the future (or at least you can get support if it doesn&#39;t). Your IMAP code as with what happened with basic authentication maybe discontinued or disabled (by Microsoft of the client/company) because of the associated security issues at any point in the very near future. (this is just IMO)","title":"JavaMail cannot access Outlook mailbox using OAuth2.0","body":"<pre><code>= &quot;https://graph.microsoft.com/.default&quot;;\n</code></pre>\n<p>this isn't the correct scope to use for IMAP the Graph does not provide IMAP access so using that will always generate a token with an incorrect audience that will fail when you try to authenticate against Exchange.</p>\n<p>for the client credentials flow scope = &quot;https://outlook.office365.com/.default&quot; is the correct scope. The first place to start is check your token in jwt.io and make look at what permissions are being included in the returned token (the are listed under roles).</p>\n<p>Even with the correct permission and scope IMAP can be disabled at the mailbox level (and it recommended to do so) eg <a href=\"https://help.fookes.com/support/solutions/articles/9000213843-cannot-connect-to-microsoft-365-account-via-imap#:%7E:text=To%20allow%20IMAP%20access%20on,and%20enable%20IMAP%20from%20there\" rel=\"nofollow noreferrer\">https://help.fookes.com/support/solutions/articles/9000213843-cannot-connect-to-microsoft-365-account-via-imap#:~:text=To%20allow%20IMAP%20access%20on,and%20enable%20IMAP%20from%20there</a>.</p>\n<p>If your building a new application don't use IMAP it's legacy and has many security issues. You can use the Graph just as easily and it will be guaranteed that your app will work without problem in the future (or at least you can get support if it doesn't). Your IMAP code as with what happened with basic authentication maybe discontinued or disabled (by Microsoft of the client/company) because of the associated security issues at any point in the very near future. (this is just IMO)</p>\n"},{"tags":[],"owner":{"account_id":2106056,"reputation":890,"user_id":1872360,"accept_rate":88,"display_name":"runholen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675432962,"creation_date":1675432962,"answer_id":75336780,"question_id":74717563,"body_markdown":"For everyone getting the dreaded &quot;a1 no authenticate failed&quot;:\r\nThe last days we have tried every stackoverflow-thread, and every powershell command, recreating users, applications etc, and no luck. Our existing javamail code that worked flawlessly with basic auth before microsoft removed it, always get the &quot;A1 No authenticate failed&quot; error.\r\nWhat finally made it work was the following change:\r\n````\r\nimapStore = sess.getStore(&quot;imaps&quot;);\r\n````\r\nto\r\n````\r\nimapStore = sess.getStore(&quot;imap&quot;);\r\n````","title":"JavaMail cannot access Outlook mailbox using OAuth2.0","body":"<p>For everyone getting the dreaded &quot;a1 no authenticate failed&quot;:\nThe last days we have tried every stackoverflow-thread, and every powershell command, recreating users, applications etc, and no luck. Our existing javamail code that worked flawlessly with basic auth before microsoft removed it, always get the &quot;A1 No authenticate failed&quot; error.\nWhat finally made it work was the following change:</p>\n<pre><code>imapStore = sess.getStore(&quot;imaps&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>imapStore = sess.getStore(&quot;imap&quot;);\n</code></pre>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1675432962,"creation_date":1670420292,"question_id":74717563,"body_markdown":"I am using Java Mail to connect to a MS Outlook Mail Server. I can do so successfully using PLAIN authentication with a username and password. I have heard that Microsoft will disable Basic Authentication soon, so I want to upgrade to use OAuth2.0 rather.\r\n\r\nI do the following using a username (email address) and password, which connects successfully. However, if I change it to use the the OAuth2 Token instead of the password to connect, it is unsuccessful.\r\n\r\n**Java Code**\r\n\r\nGets the token, which  looks like a valid token:\r\n\r\n    public String getAccessTokenByClientCredentialGrant()  {\r\n        String accessToken = null;\r\n        final String clientId = AZURE_CLIENT_ID; // &quot;&lt;client id from azure app registration&gt;&quot;\r\n        final String secret = AZURE_CLIENT_SECRET_VALUE;  // &quot;&lt;client secret from azure app registration&gt;&quot; - client secret value\r\n        final String authority = &quot;https://login.microsoftonline.com/&quot;+AZURE_TENANT_ID+&quot;/oauth2/v2.0/token&quot;; // &quot;https://login.microsoftonline.com/&lt;tenant-id from azure&gt;/oauth2/v2.0/token&quot;; or https://login.microsoftonline.com/{tenant}/v2.0/adminconsent?client_id=&lt;CLIENT_ID&gt;&amp;redirect_uri=&lt;REDIRECT_URI&gt;&amp;scope=https://ps.outlook.com/.default\r\n        final String scope = &quot;https://outlook.office365.com/.default&quot;;  // &quot;https://ps.outlook.com/.default&quot;;\r\n\r\n        try {\r\n            ConfidentialClientApplication app = ConfidentialClientApplication.builder(clientId, ClientCredentialFactory.createFromSecret(secret)).authority(authority).build();\r\n            // With client credentials flows the scope is ALWAYS of the shape &quot;resource/.default&quot;, as the application permissions need to be set statically (in the portal), and then granted by a tenant administrator\r\n            ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(Collections.singleton(scope)).build();\r\n\r\n            CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n            IAuthenticationResult result = future.get();\r\n            accessToken = result.accessToken();\r\n            if (StringUtils.isBlank(accessToken)) {\r\n                logger.error(&quot;Access token: &quot;+accessToken);\r\n            }\r\n        } catch(Exception e) {\r\n            logger.error(&quot;Exception in acquiring token: &quot;+e.getMessage(), e);\r\n        }\r\n        logger.debug(&quot;Access Token : &quot;+accessToken);\r\n        return accessToken;\r\n    }\r\n\r\nGet the connection fails:\r\n\r\n    public Store connect(String userEmailId, String oauth2AccessToken) throws Exception {\r\n        Store store = null;\r\n        final String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.imaps.port&quot;, port);\r\n        props.put(&quot;mail.imaps.host&quot;, host);\r\n        props.put(&quot;mail.imaps.protocol&quot;, &quot;imap&quot;);\r\n        props.put(&quot;mail.imaps.user&quot;, userEmailId);\r\n        props.put(&quot;mail.imaps.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n        props.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n        props.put(&quot;mail.imaps.auth.login.disable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\r\n        props.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.imaps.socketFactory.port&quot;, port);\r\n        props.setProperty(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n\r\n        Session session = Session.getInstance(props);\r\n        session.setDebug(true);\r\n        try {\r\n            store = session.getStore(&quot;imaps&quot;);\r\n            logger.info(&quot;OAUTH2 IMAP [&quot;+store.toString()+&quot;] connect with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port + &quot;, userEmailId: &quot; + userEmailId+ &quot;, OAuth2AccessToken: &quot; + oauth2AccessToken);\r\n            Integer iPort = Integer.parseInt(port);\r\n            store.connect(host, iPort, userEmailId, oauth2AccessToken);\r\n            logger.info(&quot;OAUTH2 IMAP connected with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port + &quot;, userEmailId: &quot; + userEmailId+ &quot;, OAuth2AccessToken: &quot; + oauth2AccessToken);\r\n            if(store.isConnected()){\r\n                logger.info(&quot;Connection Established using imap protocol successfully !&quot;);\r\n            } else {\r\n                logger.info(&quot;Connection not Established using imap protocol&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Store.Connect failed with the error: &quot;+e.getMessage());\r\n            StringWriter sw = new StringWriter();\r\n            e.printStackTrace(new PrintWriter(sw));\r\n            String exceptionAsString = sw.toString();\r\n            logger.error(exceptionAsString);\r\n        }\r\n        return store;\r\n    }\r\n\r\n**Output**\r\n\r\nHowever, when I try to access the mailbox via OAuth2.0, it still fails authentication.\r\n\r\n    DEBUG: JavaMail version 1.6.2\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\n    DEBUG: setDebug: JavaMail version 1.6.2\r\n    DEBUG: getProvider() returning javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle]\r\n    DEBUG IMAPS: mail.imap.fetchsize: 16384\r\n    DEBUG IMAPS: mail.imap.ignorebodystructuresize: false\r\n    DEBUG IMAPS: mail.imap.statuscachetimeout: 1000\r\n    DEBUG IMAPS: mail.imap.appendbuffersize: -1\r\n    DEBUG IMAPS: mail.imap.minidletime: 10\r\n    DEBUG IMAPS: enable STARTTLS\r\n    DEBUG IMAPS: enable SASL\r\n    DEBUG IMAPS: SASL mechanisms allowed: XOAUTH2\r\n    DEBUG IMAPS: closeFoldersOnStoreFailure\r\n\r\n    DEBUG IMAPS: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\r\n    * OK The Microsoft Exchange IMAP4 service is ready. [xxx==]\r\n    A0 CAPABILITY\r\n    * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\n    A0 OK CAPABILITY completed.\r\n    DEBUG IMAPS: AUTH: PLAIN\r\n    DEBUG IMAPS: AUTH: XOAUTH2\r\n    DEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=powwow@company.com, password=&lt;non-null&gt;\r\n    DEBUG IMAPS: SASL Mechanisms:\r\n    DEBUG IMAPS:  XOAUTH2\r\n    DEBUG IMAPS:\r\n    DEBUG IMAPS: SASL client XOAUTH2\r\n    DEBUG IMAPS: SASL callback length: 2\r\n    DEBUG IMAPS: SASL callback 0: javax.security.auth.callback.NameCallback@2ec9d28c\r\n    DEBUG IMAPS: SASL callback 1: javax.security.auth.callback.PasswordCallback@7a98e6b5\r\n    A1 AUTHENTICATE XOAUTH2 xxx\r\n    A1 NO AUTHENTICATE failed.\r\n\r\n    javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n    \tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\r\n\r\n**Configuration**\r\n\r\nI have managed to assign FULLACCESS access rights via Powershell to the outlook mailbox ([see here][1] for ref):\r\n\r\n    PS /Users/richardmarais&gt; Install-Module -Name ExchangeOnlineManagement -allowprerelease\r\n    \r\n    PS /Users/richardmarais&gt; Import-module ExchangeOnlineManagement                        \r\n    \r\n    PS /Users/richardmarais&gt; Connect-ExchangeOnline -Organization &lt;Directory (tenant) ID&gt;\r\n    \r\n    New-ServicePrincipal -AppId &lt;APPLICATION_ID&gt; -ServiceId &lt;OBJECT_ID&gt; [-Organization &lt;ORGANIZATION_ID&gt;]\r\n    \r\n    Get-ServicePrincipal | fl\r\n\r\n    Add-MailboxPermission -Identity &quot;powwow@company.com&quot; -User \r\n    &lt;SERVICE_PRINCIPAL_ID&gt; -AccessRights FullAccess\r\n\r\n    Identity             User                 AccessRights                                                                                                                                                                                         IsInherited Deny\r\n    \r\n    --------             ----                 ------------                                                                                                                                                                                         ----------- ----\r\n    \r\n    powwow               ZAFPxxxxx2\\$MIxx… {FullAccess} \r\n\r\n                        \r\n\r\n\r\nI have configured the following API Permissions configured in Azure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Question**\r\n\r\nI have not developed with Microsoft products in the past, so I am a bit in the dark here.  Does anyone have any ideas please?\r\n\r\n\r\n\r\n**Update**\r\n\r\nThank you to user2250152 for their answer below.  I have changed the scope to:\r\n\r\n    final String scope = &quot;https://graph.microsoft.com/.default&quot;;\r\n\r\nand get the same error as above. However, when I change it to:\r\n\r\n    final String scope = &quot;user.read.all&quot;;\r\n\r\nI get a different error:\r\n\r\n    \r\n&gt; MsalServiceException: AADSTS1002012: The provided value for scope\r\n&gt; openid profile offline_access user.read.all is not valid. Client\r\n&gt; credential flows must have a scope value with /.default suffixed to\r\n&gt; the resource identifier (application ID URI).\r\n\r\nHow do I know what to set the `scope` to?\r\n\r\n**Further Update**\r\n\r\nThanks to Glen Scales below for his answer. If I change the `scope` to:\r\n\r\n    final String scope = &quot;https://outlook.office365.com/.default&quot;;\r\n\r\nand then use jwt.io to view the token, it shows that the user has access to:\r\n\r\n      &quot;roles&quot;: [\r\n        &quot;User.Read.All&quot;,\r\n        &quot;Mail.ReadWrite&quot;,\r\n        &quot;POP.AccessAsApp&quot;,\r\n        &quot;User.ReadBasic.All&quot;,\r\n        &quot;Mail.Read&quot;,\r\n        &quot;IMAP.AccessAsApp&quot;\r\n      ],\r\n\r\nWhich corresponds to the Azure API permissions:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHowever, when I try access it via IMAP, it still gets the same error as above:\r\n\r\n&gt; A1 NO AUTHENTICATE failed.\r\n\r\nI am not sure why the IMAP attempted connection fails. So on his suggestion I think I need to figure out how to connect using Graph instead of IMAP.\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth\r\n  [2]: https://i.stack.imgur.com/vA7E7.png\r\n  [3]: https://i.stack.imgur.com/3W9gi.png","title":"JavaMail cannot access Outlook mailbox using OAuth2.0","body":"<p>I am using Java Mail to connect to a MS Outlook Mail Server. I can do so successfully using PLAIN authentication with a username and password. I have heard that Microsoft will disable Basic Authentication soon, so I want to upgrade to use OAuth2.0 rather.</p>\n<p>I do the following using a username (email address) and password, which connects successfully. However, if I change it to use the the OAuth2 Token instead of the password to connect, it is unsuccessful.</p>\n<p><strong>Java Code</strong></p>\n<p>Gets the token, which  looks like a valid token:</p>\n<pre><code>public String getAccessTokenByClientCredentialGrant()  {\n    String accessToken = null;\n    final String clientId = AZURE_CLIENT_ID; // &quot;&lt;client id from azure app registration&gt;&quot;\n    final String secret = AZURE_CLIENT_SECRET_VALUE;  // &quot;&lt;client secret from azure app registration&gt;&quot; - client secret value\n    final String authority = &quot;https://login.microsoftonline.com/&quot;+AZURE_TENANT_ID+&quot;/oauth2/v2.0/token&quot;; // &quot;https://login.microsoftonline.com/&lt;tenant-id from azure&gt;/oauth2/v2.0/token&quot;; or https://login.microsoftonline.com/{tenant}/v2.0/adminconsent?client_id=&lt;CLIENT_ID&gt;&amp;redirect_uri=&lt;REDIRECT_URI&gt;&amp;scope=https://ps.outlook.com/.default\n    final String scope = &quot;https://outlook.office365.com/.default&quot;;  // &quot;https://ps.outlook.com/.default&quot;;\n\n    try {\n        ConfidentialClientApplication app = ConfidentialClientApplication.builder(clientId, ClientCredentialFactory.createFromSecret(secret)).authority(authority).build();\n        // With client credentials flows the scope is ALWAYS of the shape &quot;resource/.default&quot;, as the application permissions need to be set statically (in the portal), and then granted by a tenant administrator\n        ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(Collections.singleton(scope)).build();\n\n        CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n        IAuthenticationResult result = future.get();\n        accessToken = result.accessToken();\n        if (StringUtils.isBlank(accessToken)) {\n            logger.error(&quot;Access token: &quot;+accessToken);\n        }\n    } catch(Exception e) {\n        logger.error(&quot;Exception in acquiring token: &quot;+e.getMessage(), e);\n    }\n    logger.debug(&quot;Access Token : &quot;+accessToken);\n    return accessToken;\n}\n</code></pre>\n<p>Get the connection fails:</p>\n<pre><code>public Store connect(String userEmailId, String oauth2AccessToken) throws Exception {\n    Store store = null;\n    final String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\n    Properties props = new Properties();\n    props.put(&quot;mail.imaps.ssl.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.sasl.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.port&quot;, port);\n    props.put(&quot;mail.imaps.host&quot;, host);\n    props.put(&quot;mail.imaps.protocol&quot;, &quot;imap&quot;);\n    props.put(&quot;mail.imaps.user&quot;, userEmailId);\n    props.put(&quot;mail.imaps.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\n    props.put(&quot;mail.imaps.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\n    props.put(&quot;mail.imaps.auth.login.disable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.imaps.auth.plain.disable&quot;, &quot;true&quot;);\n    props.setProperty(&quot;mail.imaps.socketFactory.class&quot;, SSL_FACTORY);\n    props.setProperty(&quot;mail.imaps.socketFactory.fallback&quot;, &quot;true&quot;);\n    props.setProperty(&quot;mail.imaps.socketFactory.port&quot;, port);\n    props.setProperty(&quot;mail.imaps.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n\n    Session session = Session.getInstance(props);\n    session.setDebug(true);\n    try {\n        store = session.getStore(&quot;imaps&quot;);\n        logger.info(&quot;OAUTH2 IMAP [&quot;+store.toString()+&quot;] connect with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port + &quot;, userEmailId: &quot; + userEmailId+ &quot;, OAuth2AccessToken: &quot; + oauth2AccessToken);\n        Integer iPort = Integer.parseInt(port);\n        store.connect(host, iPort, userEmailId, oauth2AccessToken);\n        logger.info(&quot;OAUTH2 IMAP connected with system properties to Host:&quot; + host + &quot;, Port: &quot;+ port + &quot;, userEmailId: &quot; + userEmailId+ &quot;, OAuth2AccessToken: &quot; + oauth2AccessToken);\n        if(store.isConnected()){\n            logger.info(&quot;Connection Established using imap protocol successfully !&quot;);\n        } else {\n            logger.info(&quot;Connection not Established using imap protocol&quot;);\n        }\n    } catch (Exception e) {\n        logger.error(&quot;Store.Connect failed with the error: &quot;+e.getMessage());\n        StringWriter sw = new StringWriter();\n        e.printStackTrace(new PrintWriter(sw));\n        String exceptionAsString = sw.toString();\n        logger.error(exceptionAsString);\n    }\n    return store;\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p>However, when I try to access the mailbox via OAuth2.0, it still fails authentication.</p>\n<pre><code>DEBUG: JavaMail version 1.6.2\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: setDebug: JavaMail version 1.6.2\nDEBUG: getProvider() returning javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle]\nDEBUG IMAPS: mail.imap.fetchsize: 16384\nDEBUG IMAPS: mail.imap.ignorebodystructuresize: false\nDEBUG IMAPS: mail.imap.statuscachetimeout: 1000\nDEBUG IMAPS: mail.imap.appendbuffersize: -1\nDEBUG IMAPS: mail.imap.minidletime: 10\nDEBUG IMAPS: enable STARTTLS\nDEBUG IMAPS: enable SASL\nDEBUG IMAPS: SASL mechanisms allowed: XOAUTH2\nDEBUG IMAPS: closeFoldersOnStoreFailure\n\nDEBUG IMAPS: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\n* OK The Microsoft Exchange IMAP4 service is ready. [xxx==]\nA0 CAPABILITY\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\nA0 OK CAPABILITY completed.\nDEBUG IMAPS: AUTH: PLAIN\nDEBUG IMAPS: AUTH: XOAUTH2\nDEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=powwow@company.com, password=&lt;non-null&gt;\nDEBUG IMAPS: SASL Mechanisms:\nDEBUG IMAPS:  XOAUTH2\nDEBUG IMAPS:\nDEBUG IMAPS: SASL client XOAUTH2\nDEBUG IMAPS: SASL callback length: 2\nDEBUG IMAPS: SASL callback 0: javax.security.auth.callback.NameCallback@2ec9d28c\nDEBUG IMAPS: SASL callback 1: javax.security.auth.callback.PasswordCallback@7a98e6b5\nA1 AUTHENTICATE XOAUTH2 xxx\nA1 NO AUTHENTICATE failed.\n\njavax.mail.AuthenticationFailedException: AUTHENTICATE failed.\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\n</code></pre>\n<p><strong>Configuration</strong></p>\n<p>I have managed to assign FULLACCESS access rights via Powershell to the outlook mailbox (<a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth\" rel=\"nofollow noreferrer\">see here</a> for ref):</p>\n<pre><code>PS /Users/richardmarais&gt; Install-Module -Name ExchangeOnlineManagement -allowprerelease\n\nPS /Users/richardmarais&gt; Import-module ExchangeOnlineManagement                        \n\nPS /Users/richardmarais&gt; Connect-ExchangeOnline -Organization &lt;Directory (tenant) ID&gt;\n\nNew-ServicePrincipal -AppId &lt;APPLICATION_ID&gt; -ServiceId &lt;OBJECT_ID&gt; [-Organization &lt;ORGANIZATION_ID&gt;]\n\nGet-ServicePrincipal | fl\n\nAdd-MailboxPermission -Identity &quot;powwow@company.com&quot; -User \n&lt;SERVICE_PRINCIPAL_ID&gt; -AccessRights FullAccess\n\nIdentity             User                 AccessRights                                                                                                                                                                                         IsInherited Deny\n\n--------             ----                 ------------                                                                                                                                                                                         ----------- ----\n\npowwow               ZAFPxxxxx2\\$MIxx… {FullAccess} \n\n                    \n</code></pre>\n<p>I have configured the following API Permissions configured in Azure:</p>\n<p><a href=\"https://i.stack.imgur.com/vA7E7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vA7E7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Question</strong></p>\n<p>I have not developed with Microsoft products in the past, so I am a bit in the dark here.  Does anyone have any ideas please?</p>\n<p><strong>Update</strong></p>\n<p>Thank you to user2250152 for their answer below.  I have changed the scope to:</p>\n<pre><code>final String scope = &quot;https://graph.microsoft.com/.default&quot;;\n</code></pre>\n<p>and get the same error as above. However, when I change it to:</p>\n<pre><code>final String scope = &quot;user.read.all&quot;;\n</code></pre>\n<p>I get a different error:</p>\n<blockquote>\n<p>MsalServiceException: AADSTS1002012: The provided value for scope\nopenid profile offline_access user.read.all is not valid. Client\ncredential flows must have a scope value with /.default suffixed to\nthe resource identifier (application ID URI).</p>\n</blockquote>\n<p>How do I know what to set the <code>scope</code> to?</p>\n<p><strong>Further Update</strong></p>\n<p>Thanks to Glen Scales below for his answer. If I change the <code>scope</code> to:</p>\n<pre><code>final String scope = &quot;https://outlook.office365.com/.default&quot;;\n</code></pre>\n<p>and then use jwt.io to view the token, it shows that the user has access to:</p>\n<pre><code>  &quot;roles&quot;: [\n    &quot;User.Read.All&quot;,\n    &quot;Mail.ReadWrite&quot;,\n    &quot;POP.AccessAsApp&quot;,\n    &quot;User.ReadBasic.All&quot;,\n    &quot;Mail.Read&quot;,\n    &quot;IMAP.AccessAsApp&quot;\n  ],\n</code></pre>\n<p>Which corresponds to the Azure API permissions:</p>\n<p><a href=\"https://i.stack.imgur.com/3W9gi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3W9gi.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I try access it via IMAP, it still gets the same error as above:</p>\n<blockquote>\n<p>A1 NO AUTHENTICATE failed.</p>\n</blockquote>\n<p>I am not sure why the IMAP attempted connection fails. So on his suggestion I think I need to figure out how to connect using Graph instead of IMAP.</p>\n"},{"tags":["java","eclipse","ant","development-environment"],"comments":[{"owner":{"account_id":1271353,"reputation":7198,"user_id":1237141,"accept_rate":38,"display_name":"thedarkpassenger"},"score":0,"creation_date":1454273119,"post_id":35119239,"comment_id":57959045,"body_markdown":"try importing this project in android studio, or idea intellij or eclipse","body":"try importing this project in android studio, or idea intellij or eclipse"},{"owner":{"account_id":93866,"reputation":76253,"user_id":256618,"display_name":"Mark O&#39;Connor"},"score":1,"creation_date":1454287139,"post_id":35119239,"comment_id":57963332,"body_markdown":"What is confusing about your screenshot is that your project appears to have a build file for both ANT (build.xml) and also Maven (pom.xml). Without knowing which project you&#39;re working on all you can expect is some generic advice to install the both build tools and see what happens","body":"What is confusing about your screenshot is that your project appears to have a build file for both ANT (build.xml) and also Maven (pom.xml). Without knowing which project you&#39;re working on all you can expect is some generic advice to install the both build tools and see what happens"},{"owner":{"account_id":3909282,"reputation":804,"user_id":3235081,"accept_rate":87,"display_name":"Shady Programmer"},"score":0,"creation_date":1454326465,"post_id":35119239,"comment_id":57978739,"body_markdown":"after reading the answer below here I&#39;ve tried building with ant which said &quot;Build succesfull&quot; but haven&#39;t built anything, then I ran Maven command to build it and it has actually built files so I GUESS it&#39;s maven project. I&#39;m stuck now and don&#39;t know how to run examples though.","body":"after reading the answer below here I&#39;ve tried building with ant which said &quot;Build succesfull&quot; but haven&#39;t built anything, then I ran Maven command to build it and it has actually built files so I GUESS it&#39;s maven project. I&#39;m stuck now and don&#39;t know how to run examples though."},{"owner":{"account_id":3909282,"reputation":804,"user_id":3235081,"accept_rate":87,"display_name":"Shady Programmer"},"score":0,"creation_date":1454326502,"post_id":35119239,"comment_id":57978760,"body_markdown":"http://cathyreisenwitz.com/wp-content/uploads/2016/01/no.jpg","body":"<a href=\"http://cathyreisenwitz.com/wp-content/uploads/2016/01/no.jpg\" rel=\"nofollow noreferrer\">cathyreisenwitz.com/wp-content/uploads/2016/01/no.jpg</a>"}],"answers":[{"comments":[{"owner":{"account_id":3909282,"reputation":804,"user_id":3235081,"accept_rate":87,"display_name":"Shady Programmer"},"score":0,"creation_date":1454273576,"post_id":35119297,"comment_id":57959213,"body_markdown":"That&#39;s exactly what I&#39;ve done and No projects show up under &quot;project select&quot;","body":"That&#39;s exactly what I&#39;ve done and No projects show up under &quot;project select&quot;"},{"owner":{"account_id":7533207,"reputation":102,"user_id":5720536,"accept_rate":86,"display_name":"FlowX"},"score":0,"creation_date":1454274084,"post_id":35119297,"comment_id":57959416,"body_markdown":"Maybe this hepls;)\n[Why “no projects found to import”?](http://stackoverflow.com/questions/2638016/why-no-projects-found-to-import)","body":"Maybe this hepls;) <a href=\"http://stackoverflow.com/questions/2638016/why-no-projects-found-to-import\">Why “no projects found to import”?</a>"}],"tags":[],"owner":{"account_id":7533207,"reputation":102,"user_id":5720536,"accept_rate":86,"display_name":"FlowX"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454273380,"creation_date":1454273380,"answer_id":35119297,"question_id":35119239,"body_markdown":"You have to import the Project!\r\n \r\n 1. From the main menu bar, select command link File &gt; Import.... The Import wizard opens.\r\n\r\n 1. Select General &gt; Existing Project into Workspace and click Next.\r\n    \r\n\r\n 1. Choose either Select root directory or Select archive file and click the associated Browse to locate the directory or file containing the projects.\r\n\r\n    \r\n 1. Under Projects select the project or projects which you would like to import.\r\n\r\n\r\n 1. Click Finish to start the import.\r\n\r\n[help.eclipse][1]\r\n\r\n\r\n  [1]: http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.user%2Ftasks%2Ftasks-importproject.htm","title":"How to run source code downloaded from github","body":"<p>You have to import the Project!</p>\n\n<ol>\n<li><p>From the main menu bar, select command link File > Import.... The Import wizard opens.</p></li>\n<li><p>Select General > Existing Project into Workspace and click Next.</p></li>\n<li><p>Choose either Select root directory or Select archive file and click the associated Browse to locate the directory or file containing the projects.</p></li>\n<li><p>Under Projects select the project or projects which you would like to import.</p></li>\n<li><p>Click Finish to start the import.</p></li>\n</ol>\n\n<p><a href=\"http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.platform.doc.user%2Ftasks%2Ftasks-importproject.htm\" rel=\"nofollow\">help.eclipse</a></p>\n"},{"comments":[{"owner":{"account_id":3909282,"reputation":804,"user_id":3235081,"accept_rate":87,"display_name":"Shady Programmer"},"score":0,"creation_date":1454277262,"post_id":35119325,"comment_id":57960517,"body_markdown":"Okay, I&#39;ve succesfully installed maven and ant. I&#39;ve opened cmd window in the folder and ran the command *ant build*. A lot happened with few warning but the overall consensus was &quot;Build successful&quot; but I don&#39;t see anything changed or created in the folder, what&#39;s going on and how do I actually run something ?","body":"Okay, I&#39;ve succesfully installed maven and ant. I&#39;ve opened cmd window in the folder and ran the command <i>ant build</i>. A lot happened with few warning but the overall consensus was &quot;Build successful&quot; but I don&#39;t see anything changed or created in the folder, what&#39;s going on and how do I actually run something ?"},{"owner":{"account_id":3329682,"reputation":931,"user_id":2798897,"display_name":"Julien Revault d&#39;A..."},"score":1,"creation_date":1454307979,"post_id":35119325,"comment_id":57968590,"body_markdown":"Once the build is successful, you&#39;ll find the built binary inside the lib folder : lib/jgraphx.jar","body":"Once the build is successful, you&#39;ll find the built binary inside the lib folder : lib/jgraphx.jar"},{"owner":{"account_id":3329682,"reputation":931,"user_id":2798897,"display_name":"Julien Revault d&#39;A..."},"score":1,"creation_date":1454308172,"post_id":35119325,"comment_id":57968656,"body_markdown":"just in case : jgraphx is a library, it&#39;s not a software you can launch to create diagrams. You use is by adding the built jar inside your java project andthen you use the API to create your diagrams (or diagram creator), you can see examples here https://github.com/jgraph/jgraphx/tree/master/examples/com/mxgraph/examples/swing","body":"just in case : jgraphx is a library, it&#39;s not a software you can launch to create diagrams. You use is by adding the built jar inside your java project andthen you use the API to create your diagrams (or diagram creator), you can see examples here <a href=\"https://github.com/jgraph/jgraphx/tree/master/examples/com/mxgraph/examples/swing\" rel=\"nofollow noreferrer\">github.com/jgraph/jgraphx/tree/master/examples/com/mxgraph/&hellip;</a>"},{"owner":{"account_id":3909282,"reputation":804,"user_id":3235081,"accept_rate":87,"display_name":"Shady Programmer"},"score":0,"creation_date":1454326248,"post_id":35119325,"comment_id":57978579,"body_markdown":"Even though ant said that build was successful there was nothing created so I&#39;ve built it with Maven which created &quot;target&quot; folder and actually built the files. I know that jgraphx is a library and I&#39;m trying to run exactly the HelloWorld example that is in your link. So should I go to project *properties* &gt; *Java Build path* add my jar and then open the *HelloWorld.java* example file in my project, will that be enough or do I need add any other files as well as *HelloWorld.java* ?","body":"Even though ant said that build was successful there was nothing created so I&#39;ve built it with Maven which created &quot;target&quot; folder and actually built the files. I know that jgraphx is a library and I&#39;m trying to run exactly the HelloWorld example that is in your link. So should I go to project <i>properties</i> &gt; <i>Java Build path</i> add my jar and then open the <i>HelloWorld.java</i> example file in my project, will that be enough or do I need add any other files as well as <i>HelloWorld.java</i> ?"}],"tags":[],"owner":{"account_id":3329682,"reputation":931,"user_id":2798897,"display_name":"Julien Revault d&#39;A..."},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1454273499,"creation_date":1454273499,"answer_id":35119325,"question_id":35119239,"body_markdown":"This is a maven and ant project, you need to download and install maven :\r\nhttps://maven.apache.org/\r\n\r\nAnd download and install ant:\r\nhttp://ant.apache.org/\r\n\r\nThe build.xml file is the configuration for ant\r\nThe pom.xml is the configuration for maven\r\n\r\nLook inside the ant.xml, you will find &quot;&amp;lt;target ...&quot; elements.\r\nFor example one target is build, to run it just opent a commande line and :\r\n\r\n    ant build\r\n","title":"How to run source code downloaded from github","body":"<p>This is a maven and ant project, you need to download and install maven :\n<a href=\"https://maven.apache.org/\" rel=\"nofollow\">https://maven.apache.org/</a></p>\n\n<p>And download and install ant:\n<a href=\"http://ant.apache.org/\" rel=\"nofollow\">http://ant.apache.org/</a></p>\n\n<p>The build.xml file is the configuration for ant\nThe pom.xml is the configuration for maven</p>\n\n<p>Look inside the ant.xml, you will find \"&lt;target ...\" elements.\nFor example one target is build, to run it just opent a commande line and :</p>\n\n<pre><code>ant build\n</code></pre>\n"}],"owner":{"account_id":3909282,"reputation":804,"user_id":3235081,"accept_rate":87,"display_name":"Shady Programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35182,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":35119325,"answer_count":2,"score":8,"last_activity_date":1675432853,"creation_date":1454273037,"question_id":35119239,"body_markdown":"This is getting quite frustrating lately as I&#39;ve downloaded various source codes for various programs from github and I don&#39;t know how to build them or run them. Now mind you, I&#39;m not new to programming but this particular area of not knowing how to get things started when I get someones project files is absolutely killing me. What I have is this: \r\n\r\n[![Source files][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/HPoo0.png\r\n\r\n**What am I supposed to do now to build and run one of their examples ?** \r\n\r\n*Before anyone starts hatin&#39; on me for that question:*\r\n\r\nI&#39;ve read the manual that was attached with these files and it gives general overview of what can be found in the folders and so on but they don&#39;t specify how to build it. \r\nAlso I have eclipse for Java set up and tried to import these files as a project but eclipse rejected and said that no project can be found. \r\nI tried running individual java files but couldn&#39;t get them to compile because there was no &quot;ant file&quot; ( what is going on ? ) Later on I found something which I think was that ant file and opened it in conjunction with the file I wanted to run but no success. \r\n\r\n","title":"How to run source code downloaded from github","body":"<p>This is getting quite frustrating lately as I've downloaded various source codes for various programs from github and I don't know how to build them or run them. Now mind you, I'm not new to programming but this particular area of not knowing how to get things started when I get someones project files is absolutely killing me. What I have is this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/HPoo0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HPoo0.png\" alt=\"Source files\"></a></p>\n\n<p><strong>What am I supposed to do now to build and run one of their examples ?</strong> </p>\n\n<p><em>Before anyone starts hatin' on me for that question:</em></p>\n\n<p>I've read the manual that was attached with these files and it gives general overview of what can be found in the folders and so on but they don't specify how to build it. \nAlso I have eclipse for Java set up and tried to import these files as a project but eclipse rejected and said that no project can be found. \nI tried running individual java files but couldn't get them to compile because there was no \"ant file\" ( what is going on ? ) Later on I found something which I think was that ant file and opened it in conjunction with the file I wanted to run but no success. </p>\n"},{"tags":["java","lambda","java-8","functional-interface"],"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":4,"creation_date":1444297205,"post_id":33010594,"comment_id":53847601,"body_markdown":"`int i = 7; i = 5; System.out.println(i); // wouldn&#39;t it be awesome if this would print both 7 and 5?`","body":"<code>int i = 7; i = 5; System.out.println(i); &#47;&#47; wouldn&#39;t it be awesome if this would print both 7 and 5?</code>"},{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":2,"creation_date":1444301071,"post_id":33010594,"comment_id":53850263,"body_markdown":"I really don&#39;t understand your reasoning. If something doesn&#39;t implement an interface, then how can it be of that type? An iPod doesn&#39;t count as iPhone just because you don&#39;t happen to make phone calls.","body":"I really don&#39;t understand your reasoning. If something doesn&#39;t implement an interface, then how can it be of that type? An iPod doesn&#39;t count as iPhone just because you don&#39;t happen to make phone calls."},{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":3,"creation_date":1444301243,"post_id":33010594,"comment_id":53850368,"body_markdown":"@immibis: What you describe here is different from what I asked. :)","body":"@immibis: What you describe here is different from what I asked. :)"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":3,"creation_date":1444346365,"post_id":33010594,"comment_id":53877247,"body_markdown":"@TrudleR You seemed to be asking: `&lt;some type&gt; i = &lt;some value&gt;; i = &lt;some other value&gt;; // why can&#39;t i be both values at once here?` The variable `i` can hold a reference to ***one*** object, no matter whether that&#39;s an object created by a lambda expression or an instance of a class you wrote explicitly.","body":"@TrudleR You seemed to be asking: <code>&lt;some type&gt; i = &lt;some value&gt;; i = &lt;some other value&gt;; &#47;&#47; why can&#39;t i be both values at once here?</code> The variable <code>i</code> can hold a reference to <b><i>one</i></b> object, no matter whether that&#39;s an object created by a lambda expression or an instance of a class you wrote explicitly."},{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1444374270,"post_id":33010594,"comment_id":53885720,"body_markdown":"@immibis: Yeah, I know that. I wrote on another answer, that it&#39;s more about the idea and not about the implementation. But you do something completely different, that makes sense in absolutely no case, since you don&#39;t know which value you would need to print out. In my example, if it were possible, the compiler would know which method he would have to take.","body":"@immibis: Yeah, I know that. I wrote on another answer, that it&#39;s more about the idea and not about the implementation. But you do something completely different, that makes sense in absolutely no case, since you don&#39;t know which value you would need to print out. In my example, if it were possible, the compiler would know which method he would have to take."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":2,"creation_date":1444389427,"post_id":33010594,"comment_id":53894698,"body_markdown":"@TrudleR So you want to do something like `TestInterface i = new TestInterface() {void hans() {System.out.println(&quot;Hans&quot;);} void hans(int a) {System.out.println(a);} /* and so on */};`?","body":"@TrudleR So you want to do something like <code>TestInterface i = new TestInterface() {void hans() {System.out.println(&quot;Hans&quot;);} void hans(int a) {System.out.println(a);} &#47;* and so on *&#47;};</code>?"},{"owner":{"account_id":3297575,"reputation":3360,"user_id":2774480,"accept_rate":16,"display_name":"MMMM"},"score":1,"creation_date":1612819354,"post_id":33010594,"comment_id":116881242,"body_markdown":"somehow this looks to me, as if Java wanted to make it cool and easy like with javascript arrow functions, then messed it up totally and blew up the code with unnecessary functional interfaces.. ;)","body":"somehow this looks to me, as if Java wanted to make it cool and easy like with javascript arrow functions, then messed it up totally and blew up the code with unnecessary functional interfaces.. ;)"}],"answers":[{"comments":[{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1669302160,"post_id":33010654,"comment_id":131617786,"body_markdown":"Thanks. In my case I wanted a `Function&lt;T,R&gt;`, which can specify argument and return value, so I&#39;ll just mention them here for others. There is also `Callable&lt;T&gt;` which can be thought of as a function without arguments but a return type","body":"Thanks. In my case I wanted a <code>Function&lt;T,R&gt;</code>, which can specify argument and return value, so I&#39;ll just mention them here for others. There is also <code>Callable&lt;T&gt;</code> which can be thought of as a function without arguments but a return type"}],"tags":[],"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1444293864,"creation_date":1444293421,"answer_id":33010654,"question_id":33010594,"body_markdown":"You do not have to create a functional interface in order to create lambda function. The interface allow you to create instance for future function invocation. \r\n\r\nIn your case you could use already existing interface Runable \r\n\r\n`Runnable r = () -&gt; System.out.println(&quot;Hans&quot;);`\r\n\r\nand then call \r\n\r\n`r.run();`\r\n\r\nYou can think of lambda `-&gt;` as only short hand for: \r\n\r\n    Runnable r = new Runnable() {\r\n         void run() {\r\n              System.out.println(&quot;Hans&quot;);`\r\n         }\r\n    }\r\n\r\nWith lambda you do not need the anonymous class, that is created under the hood in above example. \r\n\r\nBut this has some limitation, in order to figure out what method should be called  interface used with lambdas must be SAM (Single Abstract Method). Then we have only one method. \r\n\r\nFor more detailed explanation read: \r\n\r\n[Introduction to Functional Interfaces – A Concept Recreated in Java 8][1]\r\n\r\n\r\n  [1]: https://dzone.com/articles/introduction-functional-1","title":"Why do I need a functional Interface to work with lambdas?","body":"<p>You do not have to create a functional interface in order to create lambda function. The interface allow you to create instance for future function invocation. </p>\n\n<p>In your case you could use already existing interface Runable </p>\n\n<p><code>Runnable r = () -&gt; System.out.println(\"Hans\");</code></p>\n\n<p>and then call </p>\n\n<p><code>r.run();</code></p>\n\n<p>You can think of lambda <code>-&gt;</code> as only short hand for: </p>\n\n<pre><code>Runnable r = new Runnable() {\n     void run() {\n          System.out.println(\"Hans\");`\n     }\n}\n</code></pre>\n\n<p>With lambda you do not need the anonymous class, that is created under the hood in above example. </p>\n\n<p>But this has some limitation, in order to figure out what method should be called  interface used with lambdas must be SAM (Single Abstract Method). Then we have only one method. </p>\n\n<p>For more detailed explanation read: </p>\n\n<p><a href=\"https://dzone.com/articles/introduction-functional-1\" rel=\"noreferrer\">Introduction to Functional Interfaces – A Concept Recreated in Java 8</a></p>\n"},{"comments":[{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1444294048,"post_id":33010712,"comment_id":53845386,"body_markdown":"Hm, sounds logical, but I still wonder why Oracle did it like this. If you could just call methods for which you implemented a body, it would somehow be more intuitive. This is of course a problem of the interface-concept and not of lambdas itself. Thank you. :)","body":"Hm, sounds logical, but I still wonder why Oracle did it like this. If you could just call methods for which you implemented a body, it would somehow be more intuitive. This is of course a problem of the interface-concept and not of lambdas itself. Thank you. :)"},{"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"score":4,"creation_date":1444294246,"post_id":33010712,"comment_id":53845518,"body_markdown":"@TrudleR, then Java would be a functional language. If you are interested in such implementation on JVM. You could try out the Scala language.","body":"@TrudleR, then Java would be a functional language. If you are interested in such implementation on JVM. You could try out the Scala language."},{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1444294509,"post_id":33010712,"comment_id":53845709,"body_markdown":"Hm, Scala Scala Scala. :D I think I really need to learn this language. Everyone is talking about it lastly. Is my case possible with that language? That would really be beautiful.","body":"Hm, Scala Scala Scala. :D I think I really need to learn this language. Everyone is talking about it lastly. Is my case possible with that language? That would really be beautiful."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1444296250,"post_id":33010712,"comment_id":53846897,"body_markdown":"@TrudleR: “if you could just call methods for which you implemented a body”—how do you know which methods are implemented when you have an instance of an arbitrary interface implementation?","body":"@TrudleR: “if you could just call methods for which you implemented a body”—how do you know which methods are implemented when you have an instance of an arbitrary interface implementation?"},{"owner":{"account_id":3584048,"reputation":2341,"user_id":2991594,"accept_rate":80,"display_name":"Pelit Mamani"},"score":3,"creation_date":1444297980,"post_id":33010712,"comment_id":53848158,"body_markdown":"TrudleR, you got me thinking here :) but IMHO they&#39;d be opening  a Pandora box if they allow to &quot;just call methods for which you implemented a body&quot;...: lambda defines 1 method,while your interface is a contract for 2; deviating from this contract would really confuse the receive of your object.. plus if your interface has several methods with a String parameter, the compiler won&#39;t know which one is matched by the lambda expression. If you want to go radical, you could consider node.js which simply doesn&#39;t bother with contracts(=interfaces)...","body":"TrudleR, you got me thinking here :) but IMHO they&#39;d be opening  a Pandora box if they allow to &quot;just call methods for which you implemented a body&quot;...: lambda defines 1 method,while your interface is a contract for 2; deviating from this contract would really confuse the receive of your object.. plus if your interface has several methods with a String parameter, the compiler won&#39;t know which one is matched by the lambda expression. If you want to go radical, you could consider node.js which simply doesn&#39;t bother with contracts(=interfaces)..."},{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1444301101,"post_id":33010712,"comment_id":53850282,"body_markdown":"@Holger + Pelit: Lambdas don&#39;t make anonymous classes obsolete. This would also count for Interfaces: As long as the parameters are different, you could put in multiple methods in a &quot;Functional Interface&quot;. If you would have multiple methods with the same parameters, you could still do it the old way. But this is also problematic, since it adds complexity. I just somehow feel that the current solution would have a lot of potential for new features. :)","body":"@Holger + Pelit: Lambdas don&#39;t make anonymous classes obsolete. This would also count for Interfaces: As long as the parameters are different, you could put in multiple methods in a &quot;Functional Interface&quot;. If you would have multiple methods with the same parameters, you could still do it the old way. But this is also problematic, since it adds complexity. I just somehow feel that the current solution would have a lot of potential for new features. :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1444302300,"post_id":33010712,"comment_id":53851064,"body_markdown":"@TrudleR: I don’t get your point. Surely, neither anonymous classes nor interfaces are obsolete, nobody said something different. That doesn’t justify your request of being able to implement a multi-method interface by defining *one* valid method and all others being broken. I ask again, how is a programmer (or compiler) seeing a reference of that interface type (which may hold an arbitrary implementation) supposed to know which method is the one that is not broken? I’m not talking about the place where you define your `n-1` broken implementation but the place where the object is being used.","body":"@TrudleR: I don’t get your point. Surely, neither anonymous classes nor interfaces are obsolete, nobody said something different. That doesn’t justify your request of being able to implement a multi-method interface by defining <i>one</i> valid method and all others being broken. I ask again, how is a programmer (or compiler) seeing a reference of that interface type (which may hold an arbitrary implementation) supposed to know which method is the one that is not broken? I’m not talking about the place where you define your <code>n-1</code> broken implementation but the place where the object is being used."},{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1444302805,"post_id":33010712,"comment_id":53851351,"body_markdown":"@Holger: Ok, I see I am messing things a bit up by commenting on different answers. I think I explained myself wrong, so I start over: Yes, Multi-Method Interfaces, but multiple valid methods (like the ones in my &quot;question&quot;). But IF you have multiple methods with the same input-parameters (method name doesn&#39;t matter), you would need to use the old fashioned way. But I think, you could increase the possibilities of lambdas, if multi-method-interfaces would be possible to use with lambdas. An interface with multiple methods while only 1 is valid would be dumb of course, that&#39;s not what I meant.","body":"@Holger: Ok, I see I am messing things a bit up by commenting on different answers. I think I explained myself wrong, so I start over: Yes, Multi-Method Interfaces, but multiple valid methods (like the ones in my &quot;question&quot;). But IF you have multiple methods with the same input-parameters (method name doesn&#39;t matter), you would need to use the old fashioned way. But I think, you could increase the possibilities of lambdas, if multi-method-interfaces would be possible to use with lambdas. An interface with multiple methods while only 1 is valid would be dumb of course, that&#39;s not what I meant."},{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1444303031,"post_id":33010712,"comment_id":53851469,"body_markdown":"@Holger: To precise myself: You can have as much methods as you want in your interface, as long as the input-parameters of those methods are unique for each method. You could call a method like this `(someString, someInt, someDouble) -&gt; {sysout(someString, someInt, someDouble)}`. The compiler would just look which method signature would fit to the parameters you call that lambda expression and use this. Sorry for my bad english. It can get very complicated if I try to explain something, since I&#39;m obviously not a native speaker.","body":"@Holger: To precise myself: You can have as much methods as you want in your interface, as long as the input-parameters of those methods are unique for each method. You could call a method like this <code>(someString, someInt, someDouble) -&gt; {sysout(someString, someInt, someDouble)}</code>. The compiler would just look which method signature would fit to the parameters you call that lambda expression and use this. Sorry for my bad english. It can get very complicated if I try to explain something, since I&#39;m obviously not a native speaker."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1444303416,"post_id":33010712,"comment_id":53851726,"body_markdown":"In your question, you are assigning the variable `i` twice (if you uncomment the lines). Just to get your idea correctly… you declare a variable of type `TestInterface` and initialize it with a lambda expression which ought to mean something like “create an incomplete implementation of `TestInterface` with only one method”, then you assign the variable a different lambda expression which ought to mean “merge this lambda expression into the implementation class behind that reference, so that now both methods are defined”? Seriously?","body":"In your question, you are assigning the variable <code>i</code> twice (if you uncomment the lines). Just to get your idea correctly… you declare a variable of type <code>TestInterface</code> and initialize it with a lambda expression which ought to mean something like “create an incomplete implementation of <code>TestInterface</code> with only one method”, then you assign the variable a different lambda expression which ought to mean “merge this lambda expression into the implementation class behind that reference, so that now both methods are defined”? Seriously?"},{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1444304178,"post_id":33010712,"comment_id":53852202,"body_markdown":"@Holger: I edited the main question. It doesn&#39;t have to be exactly like this, but some solution in this way. I know that this would add a lot of complexity, but you could also do a wrapper for it. Don&#39;t just look at my synthax, please also look at the idea. After all the answers I got it&#39;s clear to me that this would bring up more negative aspects than positive ones. :)","body":"@Holger: I edited the main question. It doesn&#39;t have to be exactly like this, but some solution in this way. I know that this would add a lot of complexity, but you could also do a wrapper for it. Don&#39;t just look at my synthax, please also look at the idea. After all the answers I got it&#39;s clear to me that this would bring up more negative aspects than positive ones. :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1444304654,"post_id":33010712,"comment_id":53852544,"body_markdown":"The problem with your question is that you are emphasizing the fact that each method has a different signature all the time. This makes only sense if you stick with a “one lambda expression is associated with one of these methods” idea. If you are just thinking about a compact way of implementing interfaces, the main reason that it doesn’t work with lambda expressions is, that they are not supposed to be an interface implementation helper. →Lambda expressions are *functions*. The functional interfaces are just a vehicle to add them to Java without changing the type system, not their purpose.","body":"The problem with your question is that you are emphasizing the fact that each method has a different signature all the time. This makes only sense if you stick with a “one lambda expression is associated with one of these methods” idea. If you are just thinking about a compact way of implementing interfaces, the main reason that it doesn’t work with lambda expressions is, that they are not supposed to be an interface implementation helper. →Lambda expressions are <i>functions</i>. The functional interfaces are just a vehicle to add them to Java without changing the type system, not their purpose."},{"owner":{"account_id":4545425,"reputation":1704,"user_id":3742750,"accept_rate":59,"display_name":"KMC"},"score":0,"creation_date":1675432885,"post_id":33010712,"comment_id":132933470,"body_markdown":"Best explanation I&#39;ve come across. Thank you","body":"Best explanation I&#39;ve come across. Thank you"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":13,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1444293607,"creation_date":1444293607,"answer_id":33010712,"question_id":33010594,"body_markdown":"When you write :\r\n\r\n    TestInterface i = () -&gt; System.out.println(&quot;Hans&quot;);\r\n\r\nYou give an implementation to the `void hans()` method of the `TestInterface`.\r\n\r\nIf you could assign a lambda expression to an interface having more than one abstract method (i.e. a non functional interface), the lambda expression could only implement one of the methods, leaving the other methods unimplemented.\r\n\r\nYou can&#39;t solve it by assigning two lambda expressions having different signatures to the same variable (Just like you can&#39;t assign references of two objects to a single variable and expect that variable to refer to both objects at once).\r\n","title":"Why do I need a functional Interface to work with lambdas?","body":"<p>When you write :</p>\n\n<pre><code>TestInterface i = () -&gt; System.out.println(\"Hans\");\n</code></pre>\n\n<p>You give an implementation to the <code>void hans()</code> method of the <code>TestInterface</code>.</p>\n\n<p>If you could assign a lambda expression to an interface having more than one abstract method (i.e. a non functional interface), the lambda expression could only implement one of the methods, leaving the other methods unimplemented.</p>\n\n<p>You can't solve it by assigning two lambda expressions having different signatures to the same variable (Just like you can't assign references of two objects to a single variable and expect that variable to refer to both objects at once).</p>\n"},{"comments":[{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":1,"creation_date":1444295070,"post_id":33010983,"comment_id":53846101,"body_markdown":"Yeah I know that, it should just result in an Exception if you want to run such code. But I thought that different arguments should be clear for the compiler. If you declare 2 methods with the same name and parameters, it also gives an exception, so why should Oracle prevent it here?","body":"Yeah I know that, it should just result in an Exception if you want to run such code. But I thought that different arguments should be clear for the compiler. If you declare 2 methods with the same name and parameters, it also gives an exception, so why should Oracle prevent it here?"},{"owner":{"account_id":4403145,"reputation":614,"user_id":3588217,"accept_rate":55,"display_name":"greenhorn"},"score":0,"creation_date":1510650939,"post_id":33010983,"comment_id":81513743,"body_markdown":"Good example. Thanks","body":"Good example. Thanks"},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":1,"creation_date":1548909706,"post_id":33010983,"comment_id":95715088,"body_markdown":"How about the first method defined in order? :)  You could have 5 methods on an interface and when using an interface instance as a lambda param, the first method of 5 would be used.","body":"How about the first method defined in order? :)  You could have 5 methods on an interface and when using an interface instance as a lambda param, the first method of 5 would be used."}],"tags":[],"owner":{"account_id":2357529,"reputation":2342,"user_id":2065017,"accept_rate":100,"display_name":"blagae"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1535093420,"creation_date":1444294296,"answer_id":33010983,"question_id":33010594,"body_markdown":"The most important reason why they must contain only one method, is that confusion is easily possible otherwise. If multiple methods were allowed in the interface, which method should a lambda pick if the argument lists are the same ?\r\n\r\n    interface TestInterface {\r\n        void first();\r\n        void second(); // this is only distinguished from first() by method name\r\n        String third(); // maybe you could say in this instance &quot;well the return type is different&quot;\r\n        Object fourth(); // but a String is an Object, too !\r\n    }\r\n\r\n    void test() {\r\n        // which method are you implementing, first or second ?\r\n        TestInterface a = () -&gt; System.out.println(&quot;Ido mein ado mein&quot;);\r\n        // which method are you implementing, third or fourth ?\r\n        TestInterface b = () -&gt; &quot;Ido mein ado mein&quot;;\r\n    }","title":"Why do I need a functional Interface to work with lambdas?","body":"<p>The most important reason why they must contain only one method, is that confusion is easily possible otherwise. If multiple methods were allowed in the interface, which method should a lambda pick if the argument lists are the same ?</p>\n\n<pre><code>interface TestInterface {\n    void first();\n    void second(); // this is only distinguished from first() by method name\n    String third(); // maybe you could say in this instance \"well the return type is different\"\n    Object fourth(); // but a String is an Object, too !\n}\n\nvoid test() {\n    // which method are you implementing, first or second ?\n    TestInterface a = () -&gt; System.out.println(\"Ido mein ado mein\");\n    // which method are you implementing, third or fourth ?\n    TestInterface b = () -&gt; \"Ido mein ado mein\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"score":0,"creation_date":1444391421,"post_id":33036963,"comment_id":53895796,"body_markdown":"Hey I&#39;m not that much of a newbie. :) Of course I know how I can bring it to work. I just wanted to ask, why lambdas are cut to only work with functional interfaces. It&#39;s clear that I would need to write anonymous classes (or implement a class itself) for my case. All I wanted to say is, that I think Oracle could have extended the use of lambdas. But after the discussions here it&#39;s clear why they force you use functional interfaces. But thanks anyways.","body":"Hey I&#39;m not that much of a newbie. :) Of course I know how I can bring it to work. I just wanted to ask, why lambdas are cut to only work with functional interfaces. It&#39;s clear that I would need to write anonymous classes (or implement a class itself) for my case. All I wanted to say is, that I think Oracle could have extended the use of lambdas. But after the discussions here it&#39;s clear why they force you use functional interfaces. But thanks anyways."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1484251894,"post_id":33036963,"comment_id":70445564,"body_markdown":"@TrudleR If they extended lambdas in the way you&#39;re thinking of, then they&#39;d be the same as anonymous classes, so what would be the point?","body":"@TrudleR If they extended lambdas in the way you&#39;re thinking of, then they&#39;d be the same as anonymous classes, so what would be the point?"}],"tags":[],"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1444389624,"creation_date":1444389624,"answer_id":33036963,"question_id":33010594,"body_markdown":"You seem to be looking for **anonymous classes**. The following code works:\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String...args) {\r\n            TestInterface i = new TestInterface() {\r\n                public void hans() {\r\n                    System.out.println(&quot;Hans&quot;);\r\n                }\r\n                public void hans(String a) {\r\n                    System.out.println(a);\r\n                }\r\n            };\r\n    \r\n            i.hans();\r\n            i.hans(&quot;Hello&quot;);\r\n        }\r\n    }\r\n    \r\n    public interface TestInterface {\r\n        public void hans();\r\n        public void hans(String a);\r\n    }\r\n\r\nLambda expressions are (mostly) a shorter way to write anonymous classes with only one method. (Likewise, anonymous classes are shorthand for inner classes that you only use in one place)","title":"Why do I need a functional Interface to work with lambdas?","body":"<p>You seem to be looking for <strong>anonymous classes</strong>. The following code works:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String...args) {\n        TestInterface i = new TestInterface() {\n            public void hans() {\n                System.out.println(\"Hans\");\n            }\n            public void hans(String a) {\n                System.out.println(a);\n            }\n        };\n\n        i.hans();\n        i.hans(\"Hello\");\n    }\n}\n\npublic interface TestInterface {\n    public void hans();\n    public void hans(String a);\n}\n</code></pre>\n\n<p>Lambda expressions are (mostly) a shorter way to write anonymous classes with only one method. (Likewise, anonymous classes are shorthand for inner classes that you only use in one place)</p>\n"},{"tags":[],"owner":{"account_id":3430695,"reputation":1295,"user_id":2875210,"accept_rate":89,"display_name":"mzoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533807279,"creation_date":1533807279,"answer_id":51763554,"question_id":33010594,"body_markdown":"Functional interface can only contain exactly one abstract method according to [java specs][1]. \r\n\r\nSurely lambda expression can be one-time used as your commented code does, but when it comes to passing lambda expression as parameter to mimic function callback, functional interface is a must because in that case the variable data type is the functional interface. \r\n\r\nFor example, `Runnable` is a built-in functional interface:\r\n\r\n    public interface Runnable() {\r\n        public void run();\r\n    }\r\n\r\nThe usage can be demonstrated as below:\r\n\r\n    public class LambdaTest {\r\n        // data type of parameter &#39;task&#39; is functional interface &#39;Runnable&#39;\r\n        static void doSeveralTimes(Runnable task, int repeat) {\r\n            for (int i = 0; i &lt; repeat; i++) {\r\n                task.run();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            // one-time lambda\r\n            doSeveralTimes(() -&gt; {\r\n                System.out.println(&quot;one-time lambda&quot;);\r\n            }, 3);\r\n    \r\n            // lambda as variable\r\n            Runnable test;\r\n            test = () -&gt; {\r\n                System.out.println(&quot;lambda as variable&quot;);\r\n            };\r\n            doSeveralTimes(test, 3);\r\n        }\r\n    }\r\n\r\nand the result is:\r\n\r\n    one-time lambda\r\n    one-time lambda\r\n    one-time lambda\r\n    lambda as variable\r\n    lambda as variable\r\n    lambda as variable\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8","title":"Why do I need a functional Interface to work with lambdas?","body":"<p>Functional interface can only contain exactly one abstract method according to <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8\" rel=\"nofollow noreferrer\">java specs</a>. </p>\n\n<p>Surely lambda expression can be one-time used as your commented code does, but when it comes to passing lambda expression as parameter to mimic function callback, functional interface is a must because in that case the variable data type is the functional interface. </p>\n\n<p>For example, <code>Runnable</code> is a built-in functional interface:</p>\n\n<pre><code>public interface Runnable() {\n    public void run();\n}\n</code></pre>\n\n<p>The usage can be demonstrated as below:</p>\n\n<pre><code>public class LambdaTest {\n    // data type of parameter 'task' is functional interface 'Runnable'\n    static void doSeveralTimes(Runnable task, int repeat) {\n        for (int i = 0; i &lt; repeat; i++) {\n            task.run();\n        }\n    }\n\n    public static void main(String[] args) {\n        // one-time lambda\n        doSeveralTimes(() -&gt; {\n            System.out.println(\"one-time lambda\");\n        }, 3);\n\n        // lambda as variable\n        Runnable test;\n        test = () -&gt; {\n            System.out.println(\"lambda as variable\");\n        };\n        doSeveralTimes(test, 3);\n    }\n}\n</code></pre>\n\n<p>and the result is:</p>\n\n<pre><code>one-time lambda\none-time lambda\none-time lambda\nlambda as variable\nlambda as variable\nlambda as variable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13012947,"reputation":116,"user_id":9405264,"display_name":"kumarras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590398366,"creation_date":1590398366,"answer_id":61999398,"question_id":33010594,"body_markdown":"A lambda expression is nothing but a shortcut to defining an implementation of a functional interface.\r\nIt is equivalent to an instance of a functional interface implementation.","title":"Why do I need a functional Interface to work with lambdas?","body":"<p>A lambda expression is nothing but a shortcut to defining an implementation of a functional interface.\nIt is equivalent to an instance of a functional interface implementation.</p>\n"},{"tags":[],"owner":{"account_id":20498730,"reputation":21,"user_id":15043089,"display_name":"Ach"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611138856,"creation_date":1611138856,"answer_id":65807778,"question_id":33010594,"body_markdown":" - In java when an interface is implemented, all its abstract methods are needed to implemented (otherwise the implementing class will have to be an interface). \r\n- Java compiler expands lambda expression internally with a class definition with the method, and a statement to instantiate this class. Currently java doesn&#39;t support/provide a way for more than 1 lambda to be associated with 1 interface. \r\n\r\n\r\n        public class Test {\r\n            public static void main(String...args) {\r\n                TestInterface i = () -&gt; System.out.println(&quot;Hans&quot;); // this will not compile as the implementation for public void hans(String a); can not be provided/is not found\r\n                //i = (String a) -&gt; System.out.println(a); //this can not add an implementation for 2nd method to i after compilation of 1st lambda\r\n             }\r\n        }\r\n        public interface TestInterface {\r\n            public void hans();\r\n            public void hans(String a);\r\n        }\r\n \r\nThis the reason lambda in java only works with an interface with one method or functional interface.    ","title":"Why do I need a functional Interface to work with lambdas?","body":"<ul>\n<li><p>In java when an interface is implemented, all its abstract methods are needed to implemented (otherwise the implementing class will have to be an interface).</p>\n</li>\n<li><p>Java compiler expands lambda expression internally with a class definition with the method, and a statement to instantiate this class. Currently java doesn't support/provide a way for more than 1 lambda to be associated with 1 interface.</p>\n<pre><code>  public class Test {\n      public static void main(String...args) {\n          TestInterface i = () -&gt; System.out.println(&quot;Hans&quot;); // this will not compile as the implementation for public void hans(String a); can not be provided/is not found\n          //i = (String a) -&gt; System.out.println(a); //this can not add an implementation for 2nd method to i after compilation of 1st lambda\n       }\n  }\n  public interface TestInterface {\n      public void hans();\n      public void hans(String a);\n  }\n</code></pre>\n</li>\n</ul>\n<p>This the reason lambda in java only works with an interface with one method or functional interface.</p>\n"}],"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42716,"favorite_count":0,"down_vote_count":3,"up_vote_count":49,"accepted_answer_id":33010712,"answer_count":7,"score":46,"last_activity_date":1675432845,"creation_date":1444293263,"question_id":33010594,"body_markdown":"I think this question is already somewhere out there, but I wasn&#39;t able to find it.\r\n\r\nI don&#39;t understand, why it&#39;s necessary to have a functional interface to work with lambdas. Consider the following example:\r\n\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String...args) {\r\n    \t\tTestInterface i = () -&gt; System.out.println(&quot;Hans&quot;);\r\n    //\t\ti = (String a) -&gt; System.out.println(a);\r\n    \t\t\r\n    \t\ti.hans();\r\n    //\t\ti.hans(&quot;Hello&quot;);\r\n    \t}\r\n    }\r\n\r\n    public interface TestInterface {\r\n    \tpublic void hans();\r\n    //\tpublic void hans(String a);\r\n    }\r\n\r\nThis works without problems, but if you uncomment the commented lines, it doesn&#39;t. Why? In my understanding, the compiler should be able to distinguish the two methods, since they have different input-parameters. Why do I need a functional interface and blow up my code?\r\n\r\nEDIT: The linked duplicates didn&#39;t answer my question because I&#39;m asking about different method-parameters. But I got some really useful answers here, thanks to everyone who helped! :)\r\n\r\nEDIT2: Sorry, I&#39;m obviously not a native speaker, but to precise myself:&lt;/br&gt;\r\n\r\n    public interface TestInterface {\r\n    \tpublic void hans();\t\t\t\t\t//has no input parameters&lt;/br&gt;\r\n    \tpublic void hans(String a);\t\t\t//has 1 input parameter, type String&lt;/br&gt;\r\n    \tpublic void hans(String a, int b);\t//has 2 input parameters, 1. type = String, 2. type = int&lt;/br&gt;\r\n    \tpublic void hans(int a, int b);\t\t//has also 2 input parameters, but not the same and a different order than `hans(String a, int a);`, so you could distinguish both\r\n    }\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String...args) {\r\n    \t\tTestInterface i = () -&gt; System.out.println(&quot;Hans&quot;);\r\n    \t\ti = (String a) -&gt; System.out.println(a);\r\n    \t\ti = (String a, int b) -&gt; System.out.println(a + b);\r\n    \t\ti = (int a, int b) -&gt; System.out.println(a);\r\n    \t\t\r\n    \t\ti.hans(2, 3);\t//Which method would be called? Of course the one that would take 2 integer arguments. :)\r\n    \t}\r\n    }\r\n\r\nAll I&#39;m asking is about the arguments. The method name doesn&#39;t matter, but each method takes an unique order of different arguments and because of that, Oracle could have implemented this feature instead just making a single method possible per &quot;Lambda-Interface&quot;.","title":"Why do I need a functional Interface to work with lambdas?","body":"<p>I think this question is already somewhere out there, but I wasn't able to find it.</p>\n\n<p>I don't understand, why it's necessary to have a functional interface to work with lambdas. Consider the following example:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String...args) {\n        TestInterface i = () -&gt; System.out.println(\"Hans\");\n//      i = (String a) -&gt; System.out.println(a);\n\n        i.hans();\n//      i.hans(\"Hello\");\n    }\n}\n\npublic interface TestInterface {\n    public void hans();\n//  public void hans(String a);\n}\n</code></pre>\n\n<p>This works without problems, but if you uncomment the commented lines, it doesn't. Why? In my understanding, the compiler should be able to distinguish the two methods, since they have different input-parameters. Why do I need a functional interface and blow up my code?</p>\n\n<p>EDIT: The linked duplicates didn't answer my question because I'm asking about different method-parameters. But I got some really useful answers here, thanks to everyone who helped! :)</p>\n\n<p>EDIT2: Sorry, I'm obviously not a native speaker, but to precise myself:</p>\n\n<pre><code>public interface TestInterface {\n    public void hans();                 //has no input parameters&lt;/br&gt;\n    public void hans(String a);         //has 1 input parameter, type String&lt;/br&gt;\n    public void hans(String a, int b);  //has 2 input parameters, 1. type = String, 2. type = int&lt;/br&gt;\n    public void hans(int a, int b);     //has also 2 input parameters, but not the same and a different order than `hans(String a, int a);`, so you could distinguish both\n}\n\npublic class Test {\n\n    public static void main(String...args) {\n        TestInterface i = () -&gt; System.out.println(\"Hans\");\n        i = (String a) -&gt; System.out.println(a);\n        i = (String a, int b) -&gt; System.out.println(a + b);\n        i = (int a, int b) -&gt; System.out.println(a);\n\n        i.hans(2, 3);   //Which method would be called? Of course the one that would take 2 integer arguments. :)\n    }\n}\n</code></pre>\n\n<p>All I'm asking is about the arguments. The method name doesn't matter, but each method takes an unique order of different arguments and because of that, Oracle could have implemented this feature instead just making a single method possible per \"Lambda-Interface\".</p>\n"},{"tags":["java","spring","hibernate","maven"],"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1598185159,"post_id":63546844,"comment_id":112369220,"body_markdown":"Can you provide more of the error logs?","body":"Can you provide more of the error logs?"},{"owner":{"account_id":12090646,"reputation":21,"user_id":8837045,"display_name":"Tso"},"score":0,"creation_date":1598187030,"post_id":63546844,"comment_id":112369736,"body_markdown":"@Giorgi Tsiklauri full stack trace added (cropped some lines due to stackoverflow limit)","body":"@Giorgi Tsiklauri full stack trace added (cropped some lines due to stackoverflow limit)"},{"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"score":0,"creation_date":1598187707,"post_id":63546844,"comment_id":112369943,"body_markdown":"Could you please add code for `UserService ?`","body":"Could you please add code for <code>UserService ?</code>"},{"owner":{"account_id":12090646,"reputation":21,"user_id":8837045,"display_name":"Tso"},"score":0,"creation_date":1598191697,"post_id":63546844,"comment_id":112371086,"body_markdown":"@SSK I&#39;ve added the UserService class","body":"@SSK I&#39;ve added the UserService class"},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1598193087,"post_id":63546844,"comment_id":112371499,"body_markdown":"Now add `DbService` class, please. Some dependency can&#39;t be resolved..","body":"Now add <code>DbService</code> class, please. Some dependency can&#39;t be resolved.."},{"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"score":0,"creation_date":1598196853,"post_id":63546844,"comment_id":112372688,"body_markdown":"You need to create the class with `@Configuration` one of the below answers will work in your case. Classes `@Configuration` beans created first then other beans will be created","body":"You need to create the class with <code>@Configuration</code> one of the below answers will work in your case. Classes <code>@Configuration</code> beans created first then other beans will be created"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1598251608,"post_id":63546844,"comment_id":112385784,"body_markdown":"If this is a Spring Boot application is is a terrible one (or at least the tutorial). You can (and should) remove the `DataSource` bean, Spring Boot creates it for you. You can remove the HikariCP and Jackson dependencies, those are already part of other dependencies. And your code should really be using a `JdbcTemplate`.","body":"If this is a Spring Boot application is is a terrible one (or at least the tutorial). You can (and should) remove the <code>DataSource</code> bean, Spring Boot creates it for you. You can remove the HikariCP and Jackson dependencies, those are already part of other dependencies. And your code should really be using a <code>JdbcTemplate</code>."}],"answers":[{"comments":[{"owner":{"account_id":12090646,"reputation":21,"user_id":8837045,"display_name":"Tso"},"score":0,"creation_date":1598191804,"post_id":63547281,"comment_id":112371120,"body_markdown":"The bean is in the `DbService.java` class, is it ok like that ? I don&#39;t know the difference if the bean is placed in another separate Configuration class","body":"The bean is in the <code>DbService.java</code> class, is it ok like that ? I don&#39;t know the difference if the bean is placed in another separate Configuration class"},{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1598193348,"post_id":63547281,"comment_id":112371580,"body_markdown":"Check out this one then https://stackoverflow.com/questions/39247487/why-spring-boot-application-class-needs-to-have-configuration-annotation","body":"Check out this one then <a href=\"https://stackoverflow.com/questions/39247487/why-spring-boot-application-class-needs-to-have-configuration-annotation\" title=\"why spring boot application class needs to have configuration annotation\">stackoverflow.com/questions/39247487/&hellip;</a>"}],"tags":[],"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598187751,"creation_date":1598187751,"answer_id":63547281,"question_id":63546844,"body_markdown":"May be you should check the Heroku tutorial again. It says that you have to add a configuration bean to your app! It means that you need at least one class with @Configuration. The configuration bean at the tutorial is as follows:\r\n\r\n    package com.example.demo;\r\n\r\n    import com.zaxxer.hikari.*;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.*;\r\n    import javax.sql.DataSource;\r\n\r\n    @Configuration\r\n    public class DatabaseConfig {\r\n    \r\n      @Value(&quot;${spring.datasource.url}&quot;)\r\n      private String dbUrl;\r\n    \r\n      @Bean\r\n      public DataSource dataSource() {\r\n          HikariConfig config = new HikariConfig();\r\n          config.setJdbcUrl(dbUrl);\r\n          return new HikariDataSource(config);\r\n      }\r\n    }","title":"Cannot run spring boot app after adding Jpa maven dependency","body":"<p>May be you should check the Heroku tutorial again. It says that you have to add a configuration bean to your app! It means that you need at least one class with @Configuration. The configuration bean at the tutorial is as follows:</p>\n<pre><code>package com.example.demo;\n\nimport com.zaxxer.hikari.*;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.*;\nimport javax.sql.DataSource;\n\n@Configuration\npublic class DatabaseConfig {\n\n  @Value(&quot;${spring.datasource.url}&quot;)\n  private String dbUrl;\n\n  @Bean\n  public DataSource dataSource() {\n      HikariConfig config = new HikariConfig();\n      config.setJdbcUrl(dbUrl);\n      return new HikariDataSource(config);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1598251513,"post_id":63547930,"comment_id":112385746,"body_markdown":"You can use `@Bean` in a non config class as well (although not recommended) and it comes with can ceveats (aka bean mode lite).","body":"You can use <code>@Bean</code> in a non config class as well (although not recommended) and it comes with can ceveats (aka bean mode lite)."}],"tags":[],"owner":{"account_id":3238523,"reputation":509,"user_id":2732094,"accept_rate":50,"display_name":"SkillsIndexOutOfBounds"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598191834,"creation_date":1598191834,"answer_id":63547930,"question_id":63546844,"body_markdown":"@Configuration annotated class is used by JavaConfig as a source of bean definitions. You need to create configuration class and provide method dataSource() inside that to create bean.\r\n\r\n   \r\n\r\n     @Configuration\r\n    public class DatabaseConfig {\r\n    \r\n        @Value(&quot;${spring.datasource.url}&quot;)\r\n        private String dbUrl;\r\n    \r\n        @Bean\r\n        public DataSource dataSource() throws SQLException {\r\n            if (dbUrl == null || dbUrl.isEmpty()) {\r\n                return new HikariDataSource();\r\n            } else {\r\n                HikariConfig config = new HikariConfig();\r\n                config.setJdbcUrl(dbUrl);\r\n                return new HikariDataSource(config);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nFor more information here is [link](https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html)\r\n\r\n","title":"Cannot run spring boot app after adding Jpa maven dependency","body":"<p>@Configuration annotated class is used by JavaConfig as a source of bean definitions. You need to create configuration class and provide method dataSource() inside that to create bean.</p>\n<pre><code> @Configuration\npublic class DatabaseConfig {\n\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String dbUrl;\n\n    @Bean\n    public DataSource dataSource() throws SQLException {\n        if (dbUrl == null || dbUrl.isEmpty()) {\n            return new HikariDataSource();\n        } else {\n            HikariConfig config = new HikariConfig();\n            config.setJdbcUrl(dbUrl);\n            return new HikariDataSource(config);\n        }\n    }\n\n}\n</code></pre>\n<p>For more information here is <a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1675314536,"post_id":75297793,"comment_id":132903373,"body_markdown":"Please try to show code examples as text formatted as code.","body":"Please try to show code examples as text formatted as code."}],"tags":[],"owner":{"account_id":8935549,"reputation":1,"user_id":6666495,"display_name":"&#202;nio Lemos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675432827,"creation_date":1675171199,"answer_id":75297793,"question_id":63546844,"body_markdown":"If you are following the Heroku Getting Started just delete in `Main.java` file this attributes:\r\n```\r\n  @Value(&quot;${spring.datasource.url}&quot;)\r\n  private String dbUrl;\r\n\r\n  @Autowired\r\n  private DataSource dataSource;\r\n```\r\nSpring already creates theam.","title":"Cannot run spring boot app after adding Jpa maven dependency","body":"<p>If you are following the Heroku Getting Started just delete in <code>Main.java</code> file this attributes:</p>\n<pre><code>  @Value(&quot;${spring.datasource.url}&quot;)\n  private String dbUrl;\n\n  @Autowired\n  private DataSource dataSource;\n</code></pre>\n<p>Spring already creates theam.</p>\n"}],"owner":{"account_id":12090646,"reputation":21,"user_id":8837045,"display_name":"Tso"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675432827,"creation_date":1598184995,"question_id":63546844,"body_markdown":"I started a spring boot app based on the heroku&#39;s [sample app](https://github.com/heroku/java-getting-started), following their [tutorial](https://devcenter.heroku.com/articles/deploying-spring-boot-apps-to-heroku#connecting-to-a-database).\r\n\r\nI&#39;m running a postgres docker container to which the app can connect correctly. Now I&#39;d like to use Hibernate (following this [Baeldung guide](https://www.baeldung.com/spring-boot-hibernate) but when I add the Jpa dependency :\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen I get the following error upon running the app : \r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available\r\n```\r\n\r\nI don&#39;t understand this error and can&#39;t find much about it (or I don&#39;t understand). I was suggested to check the config, although I&#39;m not sure what I would missing. \r\n\r\nHere are some of the files in the project :\r\n\r\n**application.properties**\r\n```\r\n########## Original config (Heroku template)\r\nspring.datasource.url: jdbc:postgresql://localhost:5432/postgres?user=postgres&amp;password=postgres\r\nspring.datasource.hikari.connection-timeout=30000\r\nspring.datasource.hikari.maximum-pool-size=10\r\n\r\nspring.thymeleaf.mode=HTML\r\nlogging.level.org.springframework=INFO\r\nspring.profiles.active=production\r\nserver.port=${PORT:5000}\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;java-getting-started&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n  &lt;name&gt;java-getting-started&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;webjars-bootstrap.version&gt;4.1.3&lt;/webjars-bootstrap.version&gt;\r\n    &lt;webjars-jquery-ui.version&gt;1.12.1&lt;/webjars-jquery-ui.version&gt;\r\n    &lt;webjars-jquery.version&gt;3.3.1-1&lt;/webjars-jquery.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n      \t&lt;exclusion&gt;\r\n      \t\t&lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n      \t&lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n      &lt;version&gt;${webjars-jquery.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jquery-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;${webjars-jquery-ui.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n      &lt;version&gt;${webjars-bootstrap.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n      &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n      &lt;version&gt;0.30&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- additional dependencies --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;build-info&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;additionalProperties&gt;\r\n                &lt;encoding.source&gt;${project.build.sourceEncoding}&lt;/encoding.source&gt;\r\n                &lt;encoding.reporting&gt;${project.reporting.outputEncoding}&lt;/encoding.reporting&gt;\r\n                &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt;\r\n                &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt;\r\n              &lt;/additionalProperties&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**DbService.java** service to connect to db\r\n```\r\npackage com.example.service;\r\n\r\nimport com.zaxxer.hikari.HikariConfig;\r\nimport com.zaxxer.hikari.HikariDataSource;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class DbService {\r\n\r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String dbUrl;\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    public List&lt;User&gt; fetchUsers(String query) {\r\n\r\n        try (Connection connection = dataSource.getConnection()) {\r\n            Statement stmt = connection.createStatement();\r\n            ResultSet resultSet = stmt.executeQuery(query);\r\n\r\n            List&lt;User&gt; output = new ArrayList&lt;&gt;();\r\n            while (resultSet.next()) {\r\n                User user = new User();\r\n                user.setId(Long.valueOf(resultSet.getString(&quot;id&quot;)));\r\n                user.setTitle(resultSet.getString(&quot;name&quot;));                \r\n\r\n                output.add(user);\r\n            }\r\n\r\n            return output;\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Oops : &quot; + e);\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    @Bean\r\n    public DataSource dataSource() throws SQLException {\r\n        if (dbUrl == null || dbUrl.isEmpty()) {\r\n            return new HikariDataSource();\r\n        } else {\r\n            HikariConfig config = new HikariConfig();\r\n            config.setJdbcUrl(dbUrl);\r\n            return new HikariDataSource(config);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Main.java**\r\n```\r\npackage com.example;\r\n\r\n@Controller\r\n@SpringBootApplication\r\npublic class Main {\r\n    \r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/listUsers&quot;)\r\n    @ResponseBody\r\n    public String listUsers() {\r\n\r\n        User user = this.userService.listUsers().stream().findFirst().orElse(null);\r\n        return user != null ? user.getName() : &quot;No user&quot;;\r\n    }\r\n\r\n}\r\n```\r\n**UserService.java**\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private DbService dbService;\r\n\r\n    public List&lt;User&gt; listUsers() {\r\n\r\n        StringBuilder fetchQuery = new StringBuilder();\r\n        fetchQuery.append(&quot;SELECT * FROM user&quot;);\r\n\r\n        System.out.println(&quot;Fetching with query : &quot; + fetchQuery.toString());\r\n        List&lt;User&gt; users = this.dbService.fetchUsers(fetchQuery.toString());\r\n\r\n        return users;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nMy IDE (IntelliJ) correctly imports the dependency, and I can use various hibernate annotations on my models, but the issue is when running the app. Any advice is greatly welcome, thanks!\r\n\r\nEdit: full error stack\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dbService&#39;: Unsatisfied dependency expressed through field &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;dataSource&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dbService&#39;: Unsatisfied dependency expressed through field &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;dataSource&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 34 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;dataSource&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:219) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1306) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 57 common frames omitted\r\n\r\n2020-08-23 14:42:50.784  WARN 77261 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;applicationAvailability&#39; defined in class path resource [org/springframework/boot/autoconfigure/availability/ApplicationAvailabilityAutoConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:81) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:67) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:167) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:814) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 23 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:814) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1282) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:456) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\t... 45 common frames omitted\r\n```","title":"Cannot run spring boot app after adding Jpa maven dependency","body":"<p>I started a spring boot app based on the heroku's <a href=\"https://github.com/heroku/java-getting-started\" rel=\"nofollow noreferrer\">sample app</a>, following their <a href=\"https://devcenter.heroku.com/articles/deploying-spring-boot-apps-to-heroku#connecting-to-a-database\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n<p>I'm running a postgres docker container to which the app can connect correctly. Now I'd like to use Hibernate (following this <a href=\"https://www.baeldung.com/spring-boot-hibernate\" rel=\"nofollow noreferrer\">Baeldung guide</a> but when I add the Jpa dependency :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then I get the following error upon running the app :</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available\n</code></pre>\n<p>I don't understand this error and can't find much about it (or I don't understand). I was suggested to check the config, although I'm not sure what I would missing.</p>\n<p>Here are some of the files in the project :</p>\n<p><strong>application.properties</strong></p>\n<pre><code>########## Original config (Heroku template)\nspring.datasource.url: jdbc:postgresql://localhost:5432/postgres?user=postgres&amp;password=postgres\nspring.datasource.hikari.connection-timeout=30000\nspring.datasource.hikari.maximum-pool-size=10\n\nspring.thymeleaf.mode=HTML\nlogging.level.org.springframework=INFO\nspring.profiles.active=production\nserver.port=${PORT:5000}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;java-getting-started&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n  &lt;name&gt;java-getting-started&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;webjars-bootstrap.version&gt;4.1.3&lt;/webjars-bootstrap.version&gt;\n    &lt;webjars-jquery-ui.version&gt;1.12.1&lt;/webjars-jquery-ui.version&gt;\n    &lt;webjars-jquery.version&gt;3.3.1-1&lt;/webjars-jquery.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n      &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n      &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n      &lt;version&gt;${webjars-jquery.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n      &lt;artifactId&gt;jquery-ui&lt;/artifactId&gt;\n      &lt;version&gt;${webjars-jquery-ui.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n      &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n      &lt;version&gt;${webjars-bootstrap.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n      &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n      &lt;version&gt;0.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- additional dependencies --&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;2.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build-info&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;additionalProperties&gt;\n                &lt;encoding.source&gt;${project.build.sourceEncoding}&lt;/encoding.source&gt;\n                &lt;encoding.reporting&gt;${project.reporting.outputEncoding}&lt;/encoding.reporting&gt;\n                &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt;\n                &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt;\n              &lt;/additionalProperties&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>DbService.java</strong> service to connect to db</p>\n<pre><code>package com.example.service;\n\nimport com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\n\nimport javax.sql.DataSource;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class DbService {\n\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String dbUrl;\n\n    @Autowired\n    private DataSource dataSource;\n\n    public List&lt;User&gt; fetchUsers(String query) {\n\n        try (Connection connection = dataSource.getConnection()) {\n            Statement stmt = connection.createStatement();\n            ResultSet resultSet = stmt.executeQuery(query);\n\n            List&lt;User&gt; output = new ArrayList&lt;&gt;();\n            while (resultSet.next()) {\n                User user = new User();\n                user.setId(Long.valueOf(resultSet.getString(&quot;id&quot;)));\n                user.setTitle(resultSet.getString(&quot;name&quot;));                \n\n                output.add(user);\n            }\n\n            return output;\n\n        } catch (Exception e) {\n            System.out.println(&quot;Oops : &quot; + e);\n        }\n        return null;\n    }\n    \n    @Bean\n    public DataSource dataSource() throws SQLException {\n        if (dbUrl == null || dbUrl.isEmpty()) {\n            return new HikariDataSource();\n        } else {\n            HikariConfig config = new HikariConfig();\n            config.setJdbcUrl(dbUrl);\n            return new HikariDataSource(config);\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package com.example;\n\n@Controller\n@SpringBootApplication\npublic class Main {\n    \n    @Autowired\n    private UserService userService;\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Main.class, args);\n    }\n\n    @GetMapping(value = &quot;/listUsers&quot;)\n    @ResponseBody\n    public String listUsers() {\n\n        User user = this.userService.listUsers().stream().findFirst().orElse(null);\n        return user != null ? user.getName() : &quot;No user&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>UserService.java</strong></p>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    private DbService dbService;\n\n    public List&lt;User&gt; listUsers() {\n\n        StringBuilder fetchQuery = new StringBuilder();\n        fetchQuery.append(&quot;SELECT * FROM user&quot;);\n\n        System.out.println(&quot;Fetching with query : &quot; + fetchQuery.toString());\n        List&lt;User&gt; users = this.dbService.fetchUsers(fetchQuery.toString());\n\n        return users;\n    }\n\n}\n</code></pre>\n<p>My IDE (IntelliJ) correctly imports the dependency, and I can use various hibernate annotations on my models, but the issue is when running the app. Any advice is greatly welcome, thanks!</p>\n<p>Edit: full error stack</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dbService': Unsatisfied dependency expressed through field 'dataSource'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'dataSource': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dbService': Unsatisfied dependency expressed through field 'dataSource'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'dataSource': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1422) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 34 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'dataSource': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:347) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:219) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1306) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 57 common frames omitted\n\n2020-08-23 14:42:50.784  WARN 77261 --- [  restartedMain] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationAvailability' defined in class path resource [org/springframework/boot/autoconfigure/availability/ApplicationAvailabilityAutoConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:245) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:197) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:134) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:403) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:81) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.availability.AvailabilityChangeEvent.publish(AvailabilityChangeEvent.java:67) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:167) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:978) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:814) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:325) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:409) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:109) ~[spring-aop-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 23 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:814) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1282) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:297) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor.postProcessBeforeInitialization(ConfigurationClassPostProcessor.java:456) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 45 common frames omitted\n</code></pre>\n"},{"tags":["java","caffeine"],"answers":[{"comments":[{"owner":{"account_id":360879,"reputation":2866,"user_id":703139,"accept_rate":58,"display_name":"tsar2512"},"score":2,"creation_date":1589166721,"post_id":61721505,"comment_id":109175702,"body_markdown":"thanks for the prompt response, this helps create the initial graph with a 292 year timeout, but would it be possible to also do something along the lines of \n`put(key,value, timeToExpiry)`, where you specify the time to expiry when you are putting the value in the cache?","body":"thanks for the prompt response, this helps create the initial graph with a 292 year timeout, but would it be possible to also do something along the lines of  <code>put(key,value, timeToExpiry)</code>, where you specify the time to expiry when you are putting the value in the cache?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1589166934,"post_id":61721505,"comment_id":109175746,"body_markdown":"Yes, see `cache.policy()` for these types of ad hoc methods. You can set the default expiry to be infinite and use `VarExpiration#put(key, value, duration)` for an explicit setting. The callback approach is preferred over racy get-load-put because it lets the cache handle [cache stampedes](https://doordash.engineering/2018/08/03/avoiding-cache-stampede-at-doordash/) for you.","body":"Yes, see <code>cache.policy()</code> for these types of ad hoc methods. You can set the default expiry to be infinite and use <code>VarExpiration#put(key, value, duration)</code> for an explicit setting. The callback approach is preferred over racy get-load-put because it lets the cache handle <a href=\"https://doordash.engineering/2018/08/03/avoiding-cache-stampede-at-doordash/\" rel=\"nofollow noreferrer\">cache stampedes</a> for you."},{"owner":{"account_id":3593760,"reputation":296,"user_id":2999111,"accept_rate":75,"display_name":"psyskeptic"},"score":1,"creation_date":1635161978,"post_id":61721505,"comment_id":123213242,"body_markdown":"Hi, is it possible to get expiry for an entry? and override if need","body":"Hi, is it possible to get expiry for an entry? and override if need"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1635179226,"post_id":61721505,"comment_id":123221138,"body_markdown":"@psyskeptic `VarExpiration#getExpiresAfter(key)` and `setExpiresAfter(key, duration)`.","body":"@psyskeptic <code>VarExpiration#getExpiresAfter(key)</code> and <code>setExpiresAfter(key, duration)</code>."},{"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"score":0,"creation_date":1644819509,"post_id":61721505,"comment_id":125697728,"body_markdown":"Hi, is there any `package/plugin` available to apply the same approach for the `NodeJs` project?","body":"Hi, is there any <code>package&#47;plugin</code> available to apply the same approach for the <code>NodeJs</code> project?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1644819930,"post_id":61721505,"comment_id":125697795,"body_markdown":"@Mani There is a TypeScript [cache](https://github.com/aholstenson/transitory) and [timer-wheel](https://github.com/aholstenson/timer-wheel) that ported concepts and code from Caffeine. I don&#39;t know that ecosystem, only that this one was inspired by the Java project.","body":"@Mani There is a TypeScript <a href=\"https://github.com/aholstenson/transitory\" rel=\"nofollow noreferrer\">cache</a> and <a href=\"https://github.com/aholstenson/timer-wheel\" rel=\"nofollow noreferrer\">timer-wheel</a> that ported concepts and code from Caffeine. I don&#39;t know that ecosystem, only that this one was inspired by the Java project."},{"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"score":0,"creation_date":1644820214,"post_id":61721505,"comment_id":125697860,"body_markdown":"Thank you @BenManes, I hope this will help me.","body":"Thank you @BenManes, I hope this will help me."},{"owner":{"account_id":2261783,"reputation":61,"user_id":1991677,"accept_rate":75,"display_name":"Martin Van Nostrand"},"score":0,"creation_date":1660829855,"post_id":61721505,"comment_id":129629581,"body_markdown":"`private LoadingCache&lt;String, Object&gt; cache = Caffeine.newBuilder()\n  .expireAfter(new Expiry&lt;String, Object&gt;() {\n    @Override\n      public long expireAfterCreate(String key, Object obj, long currentTime) {\n        if (obj.getExpiresOn() == null) {\n          return Long.MAX_VALUE;\n        }\n        long seconds = obj.getExpiresOn()\n        .minus(System.currentTimeMillis(), MILLIS)\n        .toEpochSecond();\n        return TimeUnit.SECONDS.toNanos(seconds);  }\n`&lt;br/&gt; @BenManes How is the .getExpiresOn() defined?","body":"<code>private LoadingCache&lt;String, Object&gt; cache = Caffeine.newBuilder()   .expireAfter(new Expiry&lt;String, Object&gt;() {     @Override       public long expireAfterCreate(String key, Object obj, long currentTime) {         if (obj.getExpiresOn() == null) {           return Long.MAX_VALUE;         }         long seconds = obj.getExpiresOn()         .minus(System.currentTimeMillis(), MILLIS)         .toEpochSecond();         return TimeUnit.SECONDS.toNanos(seconds);  } </code>&lt;br/&gt; @BenManes How is the .getExpiresOn() defined?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":2,"creation_date":1660859288,"post_id":61721505,"comment_id":129639760,"body_markdown":"@MartinVanNostrand That example was if you could derive the custom expiration from the value. For example, Google lets you cache address&lt;-&gt;geocode resolutions for 30 days. You could store that in your db record and in-memory cache would know to expire to honor that. Similar if an http response etag. That&#39;s for you to figure out, else you can give constant values if a static configuration.","body":"@MartinVanNostrand That example was if you could derive the custom expiration from the value. For example, Google lets you cache address&lt;-&gt;geocode resolutions for 30 days. You could store that in your db record and in-memory cache would know to expire to honor that. Similar if an http response etag. That&#39;s for you to figure out, else you can give constant values if a static configuration."}],"tags":[],"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"comment_count":9,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1589165294,"creation_date":1589165294,"answer_id":61721505,"question_id":61721386,"body_markdown":"This can be done by using a custom expiration policy and leverage an unreachable duration. The maximum duration is `Long.MAX_VALUE`, which is 292 years in nanoseconds. Assuming your record holds when (and if) it expires then you might configure the cache as,\r\n\r\n```java\r\nLoadingCache&lt;Key, Graph&gt; graphs = Caffeine.newBuilder()\r\n    .expireAfter(new Expiry&lt;Key, Graph&gt;() {\r\n      public long expireAfterCreate(Key key, Graph graph, long currentTime) {\r\n        if (graph.getExpiresOn() == null) {\r\n          return Long.MAX_VALUE;\r\n        }\r\n        long seconds = graph.getExpiresOn()\r\n            .minus(System.currentTimeMillis(), MILLIS)\r\n            .toEpochSecond();\r\n        return TimeUnit.SECONDS.toNanos(seconds);\r\n      }\r\n      public long expireAfterUpdate(Key key, Graph graph, \r\n          long currentTime, long currentDuration) {\r\n        return currentDuration;\r\n      }\r\n      public long expireAfterRead(Key key, Graph graph,\r\n          long currentTime, long currentDuration) {\r\n        return currentDuration;\r\n      }\r\n    })\r\n    .build(key -&gt; createExpensiveGraph(key));\r\n```","title":"Caffeine Cache - Specify expiry for an entry","body":"<p>This can be done by using a custom expiration policy and leverage an unreachable duration. The maximum duration is <code>Long.MAX_VALUE</code>, which is 292 years in nanoseconds. Assuming your record holds when (and if) it expires then you might configure the cache as,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>LoadingCache&lt;Key, Graph&gt; graphs = Caffeine.newBuilder()\n    .expireAfter(new Expiry&lt;Key, Graph&gt;() {\n      public long expireAfterCreate(Key key, Graph graph, long currentTime) {\n        if (graph.getExpiresOn() == null) {\n          return Long.MAX_VALUE;\n        }\n        long seconds = graph.getExpiresOn()\n            .minus(System.currentTimeMillis(), MILLIS)\n            .toEpochSecond();\n        return TimeUnit.SECONDS.toNanos(seconds);\n      }\n      public long expireAfterUpdate(Key key, Graph graph, \n          long currentTime, long currentDuration) {\n        return currentDuration;\n      }\n      public long expireAfterRead(Key key, Graph graph,\n          long currentTime, long currentDuration) {\n        return currentDuration;\n      }\n    })\n    .build(key -&gt; createExpensiveGraph(key));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1675627588,"post_id":75336715,"comment_id":132965403,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75336715/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19560959,"reputation":11,"user_id":14314186,"display_name":"Ben HMIDA Bassem"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675432628,"creation_date":1675432628,"answer_id":75336715,"question_id":61721386,"body_markdown":"I am currently working on the subject, I am inspired by this few articles, and I share with you the solution that worked well for me.\r\n\r\n    @EnableCaching\r\n    @Configuration\r\n    public class CaffeineConfiguration {\r\n    \r\n      @Autowired\r\n      private ApplicationProperties applicationProperties;\r\n    \r\n    \r\n      @Bean\r\n      public Caffeine caffeineConfig() {\r\n        return Caffeine.newBuilder().expireAfter(new Expiry&lt;String, Object&gt;() {\r\n          @Override\r\n          public long expireAfterCreate(String key, Object value, long currentTime) {\r\n            long customExpiry = applicationProperties.getCache().getEhcache().getTimeToLiveSeconds();\r\n            if (key.startsWith(&quot;PREFIX&quot;)) {\r\n              customExpiry = 60;\r\n            }\r\n            return TimeUnit.SECONDS.toNanos(customExpiry);\r\n          }\r\n    \r\n          @Override\r\n          public long expireAfterUpdate(String key, Object value, long currentTime,\r\n              long currentDuration) {\r\n            return currentDuration;\r\n          }\r\n    \r\n          @Override\r\n          public long expireAfterRead(String key, Object value, long currentTime,\r\n              long currentDuration) {\r\n            return currentDuration;\r\n          }\r\n        });\r\n    \r\n      }\r\n    \r\n    \r\n      @Bean\r\n      public CacheManager cacheManager(Caffeine caffeine) {\r\n        CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager();\r\n        caffeineCacheManager.getCache(PROVIDER_RESPONSE);\r\n        caffeineCacheManager.getCache(BCU_RESPONSE);\r\n        caffeineCacheManager.setCaffeine(caffeine);\r\n        return caffeineCacheManager;\r\n      }\r\n    \r\n    }","title":"Caffeine Cache - Specify expiry for an entry","body":"<p>I am currently working on the subject, I am inspired by this few articles, and I share with you the solution that worked well for me.</p>\n<pre><code>@EnableCaching\n@Configuration\npublic class CaffeineConfiguration {\n\n  @Autowired\n  private ApplicationProperties applicationProperties;\n\n\n  @Bean\n  public Caffeine caffeineConfig() {\n    return Caffeine.newBuilder().expireAfter(new Expiry&lt;String, Object&gt;() {\n      @Override\n      public long expireAfterCreate(String key, Object value, long currentTime) {\n        long customExpiry = applicationProperties.getCache().getEhcache().getTimeToLiveSeconds();\n        if (key.startsWith(&quot;PREFIX&quot;)) {\n          customExpiry = 60;\n        }\n        return TimeUnit.SECONDS.toNanos(customExpiry);\n      }\n\n      @Override\n      public long expireAfterUpdate(String key, Object value, long currentTime,\n          long currentDuration) {\n        return currentDuration;\n      }\n\n      @Override\n      public long expireAfterRead(String key, Object value, long currentTime,\n          long currentDuration) {\n        return currentDuration;\n      }\n    });\n\n  }\n\n\n  @Bean\n  public CacheManager cacheManager(Caffeine caffeine) {\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager();\n    caffeineCacheManager.getCache(PROVIDER_RESPONSE);\n    caffeineCacheManager.getCache(BCU_RESPONSE);\n    caffeineCacheManager.setCaffeine(caffeine);\n    return caffeineCacheManager;\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":360879,"reputation":2866,"user_id":703139,"accept_rate":58,"display_name":"tsar2512"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8037,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":61721505,"answer_count":2,"score":8,"last_activity_date":1675432628,"creation_date":1589164271,"question_id":61721386,"body_markdown":"I&#39;m trying to further my understanding of the [caffeine cache](https://github.com/ben-manes/caffeine). I was wondering if there is a way to specify a timeout for an entry that&#39;s populated in the cache, but have no time based expiry for the rest of the records. \r\n\r\nEssentially I would like to have the following interface:\r\n\r\n`put(key, value, timeToExpiry)`// enter a key and value with a specified timeToExpiry\r\n\r\n`put(key, value)` // enter a key value with no timeToExpiry\r\n\r\nI can write the interfaces and plumbing, but I&#39;d like to understand how I can configure caffeine for both of the above requirements. I&#39;m also open to have two separate instances of the caffeine cache. ","title":"Caffeine Cache - Specify expiry for an entry","body":"<p>I'm trying to further my understanding of the <a href=\"https://github.com/ben-manes/caffeine\" rel=\"noreferrer\">caffeine cache</a>. I was wondering if there is a way to specify a timeout for an entry that's populated in the cache, but have no time based expiry for the rest of the records. </p>\n\n<p>Essentially I would like to have the following interface:</p>\n\n<p><code>put(key, value, timeToExpiry)</code>// enter a key and value with a specified timeToExpiry</p>\n\n<p><code>put(key, value)</code> // enter a key value with no timeToExpiry</p>\n\n<p>I can write the interfaces and plumbing, but I'd like to understand how I can configure caffeine for both of the above requirements. I'm also open to have two separate instances of the caffeine cache. </p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"score":0,"creation_date":1675430363,"post_id":75326123,"comment_id":132932624,"body_markdown":"why so many sysout ? use logger","body":"why so many sysout ? use logger"}],"answers":[{"tags":[],"owner":{"account_id":27629160,"reputation":11,"user_id":21088530,"display_name":"Wajih"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675379412,"creation_date":1675355506,"answer_id":75326176,"question_id":75326123,"body_markdown":"    public static List&lt;WebElement&gt; displayElementTables() {\r\n        List&lt;WebElement&gt; list =  webDriverWait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(tableExist)));        \r\n        return list;\r\n    }\r\n\r\n ","title":"Display the rest of the table after the search Selenium","body":"<pre><code>public static List&lt;WebElement&gt; displayElementTables() {\n    List&lt;WebElement&gt; list =  webDriverWait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(tableExist)));        \n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":12809345,"reputation":193,"user_id":9268070,"display_name":"BMW83"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675431896,"creation_date":1675355195,"question_id":75326123,"body_markdown":"I need to do a search with Selenium and display the results. Actually, I have a program in selenium to display a table and put a search word in the text field. And when the word is written automatically, tabulate the columns containing those words.\r\n\r\nHere’s a code from my program.\r\n\r\n    private static String searchName = &quot;//*[@id=\\&quot;searchName\\&quot;]&quot;;\r\n    private static String tableExist = &quot;//table[@role=&#39;table&#39;]/tbody/tr&quot;;\r\n    \r\n    //return if exist elements in the table\r\n    public static Boolean elementExistsInTheTableCustomer() {\r\n        return (driver.findElements(By.xpath(tableExist)).size() &gt; 0);\r\n    }\r\n    // here i put the text search\r\n    public static void enterSearchName(String nameSearchTxt) {\r\n        driver.findElement(By.xpath(searchName)).sendKeys(nameSearchTxt);\r\n    }\r\n    // this function to put 2 char to search in the table\r\n    public static void searchStringName() {\r\n        String strSearch = RandomStringUtils.randomAlphabetic(2);\r\n        System.out.println(&quot;The String search : &quot; + strSearch);\r\n        Customer.enterSearchName(strSearch);\r\n    }\r\n    public static WebElement displayElementTables() {\r\n        WebElement list =  webDriverWait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(tableExist)));        \r\n        return list;\r\n    } \r\n    \r\n    //here the test of element after and before the search name\r\n    @Test\r\n    public void GIVEN_Customers_On_Database() throws InterruptedException {\r\n        Customer.clickCustomers();\r\n        Thread.sleep(3000);\r\n        if (Customer.elementExistsInTheTableCustomer()) {\r\n            System.out.println(&quot;\\t===============================&quot;);\r\n            for (WebElement detail : Customer.displayElementTables()) {\r\n                System.out.println(&quot;\\t The elements in the table : &quot; + detail.getText());\r\n            }\r\n            System.out.println(&quot;\\t===============================&quot;);            \r\n        }\r\n        Customer.searchStringName();\r\n        // here to display if i have elements or no \r\n        for (WebElement detail : Customer.displayElementTables()) {\r\n                System.out.println(&quot;\\t The elements in the table : &quot; + detail.getText());\r\n            }\r\n    }\r\n\r\nIn the last part, I will check if he has any lines to publish. the **displayElementTables()** function in which I can receive the search result. whether I have items or not and put the result in a variable to display.\r\n    \r\n\r\n\r\n\r\n\r\n","title":"Display the rest of the table after the search Selenium","body":"<p>I need to do a search with Selenium and display the results. Actually, I have a program in selenium to display a table and put a search word in the text field. And when the word is written automatically, tabulate the columns containing those words.</p>\n<p>Here’s a code from my program.</p>\n<pre><code>private static String searchName = &quot;//*[@id=\\&quot;searchName\\&quot;]&quot;;\nprivate static String tableExist = &quot;//table[@role='table']/tbody/tr&quot;;\n\n//return if exist elements in the table\npublic static Boolean elementExistsInTheTableCustomer() {\n    return (driver.findElements(By.xpath(tableExist)).size() &gt; 0);\n}\n// here i put the text search\npublic static void enterSearchName(String nameSearchTxt) {\n    driver.findElement(By.xpath(searchName)).sendKeys(nameSearchTxt);\n}\n// this function to put 2 char to search in the table\npublic static void searchStringName() {\n    String strSearch = RandomStringUtils.randomAlphabetic(2);\n    System.out.println(&quot;The String search : &quot; + strSearch);\n    Customer.enterSearchName(strSearch);\n}\npublic static WebElement displayElementTables() {\n    WebElement list =  webDriverWait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(tableExist)));        \n    return list;\n} \n\n//here the test of element after and before the search name\n@Test\npublic void GIVEN_Customers_On_Database() throws InterruptedException {\n    Customer.clickCustomers();\n    Thread.sleep(3000);\n    if (Customer.elementExistsInTheTableCustomer()) {\n        System.out.println(&quot;\\t===============================&quot;);\n        for (WebElement detail : Customer.displayElementTables()) {\n            System.out.println(&quot;\\t The elements in the table : &quot; + detail.getText());\n        }\n        System.out.println(&quot;\\t===============================&quot;);            \n    }\n    Customer.searchStringName();\n    // here to display if i have elements or no \n    for (WebElement detail : Customer.displayElementTables()) {\n            System.out.println(&quot;\\t The elements in the table : &quot; + detail.getText());\n        }\n}\n</code></pre>\n<p>In the last part, I will check if he has any lines to publish. the <strong>displayElementTables()</strong> function in which I can receive the search result. whether I have items or not and put the result in a variable to display.</p>\n"},{"tags":["java","unity-game-engine","gradle","build"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675500008,"post_id":75336488,"comment_id":132945663,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16486649,"reputation":1,"user_id":11911833,"display_name":"Filippo Bravi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675431832,"creation_date":1675431476,"question_id":75336488,"body_markdown":"I&#39;ve got an android project going on and it all goes smoothly until i try to implement ads. As soon as i turn on the unity ads and install the ads package, my game doesn&#39;t build anymore and gives me this Gradle build failed error. I&#39;ve really tried anything so everything helps. Thank you.\r\n\r\nConsole errors:\r\n\r\n```\r\nConfigure project :launcher warning: C:\\Users\\fili7\\OneDrive\\Desktop\\Unity Proj\\Lio\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\libs\\classes.jar(com/samsung/android/gamesdk/GameSDKManager.class): major version 53 is newer than 52, the highest major version supported by this compiler. It is recommended that the compiler be upgraded. CommandInvokationFailure: Gradle build failed. C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot; Build completed with a result of &#39;Failed&#39; in 46 seconds (46351 ms) UnityEngine.GUIUtility: ProcessEvent (int,intptr,bool&amp;) UnityEditor.BuildPlayerWindow+BuildMethodException: 4 errors at UnityEditor.BuildPlayerWindow+DefaultBuildMethods.BuildPlayer (UnityEditor.BuildPlayerOptions options) [0x002da] in :0 at UnityEditor.BuildPlayerWindow.CallBuildMethods (System.Boolean askForBuildLocation, UnityEditor.BuildOptions defaultBuildOptions) [0x00080] in :0 UnityEngine.GUIUtility: ProcessEvent (int,intptr,bool&amp;)\r\n```\r\n\r\nPretty much everything. Tried on multiple unity versions, even tried to use custom skd and ndk and gradles, nothing worked.","title":"Problem with unity gradle build (java maybe?)","body":"<p>I've got an android project going on and it all goes smoothly until i try to implement ads. As soon as i turn on the unity ads and install the ads package, my game doesn't build anymore and gives me this Gradle build failed error. I've really tried anything so everything helps. Thank you.</p>\n<p>Console errors:</p>\n<pre><code>Configure project :launcher warning: C:\\Users\\fili7\\OneDrive\\Desktop\\Unity Proj\\Lio\\Library\\Bee\\Android\\Prj\\Mono2x\\Gradle\\unityLibrary\\libs\\classes.jar(com/samsung/android/gamesdk/GameSDKManager.class): major version 53 is newer than 52, the highest major version supported by this compiler. It is recommended that the compiler be upgraded. CommandInvokationFailure: Gradle build failed. C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\OpenJDK\\bin\\java.exe -classpath &quot;C:\\Program Files\\Unity\\Hub\\Editor\\2021.3.11f1\\Editor\\Data\\PlaybackEngines\\AndroidPlayer\\Tools\\gradle\\lib\\gradle-launcher-6.1.1.jar&quot; org.gradle.launcher.GradleMain &quot;-Dorg.gradle.jvmargs=-Xmx4096m&quot; &quot;assembleRelease&quot; Build completed with a result of 'Failed' in 46 seconds (46351 ms) UnityEngine.GUIUtility: ProcessEvent (int,intptr,bool&amp;) UnityEditor.BuildPlayerWindow+BuildMethodException: 4 errors at UnityEditor.BuildPlayerWindow+DefaultBuildMethods.BuildPlayer (UnityEditor.BuildPlayerOptions options) [0x002da] in :0 at UnityEditor.BuildPlayerWindow.CallBuildMethods (System.Boolean askForBuildLocation, UnityEditor.BuildOptions defaultBuildOptions) [0x00080] in :0 UnityEngine.GUIUtility: ProcessEvent (int,intptr,bool&amp;)\n</code></pre>\n<p>Pretty much everything. Tried on multiple unity versions, even tried to use custom skd and ndk and gradles, nothing worked.</p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1675431273,"post_id":75336414,"comment_id":132932914,"body_markdown":"I would parse that as does not work with 3.x or later, no changes expected. Only works with 2.x or lower.","body":"I would parse that as does not work with 3.x or later, no changes expected. Only works with 2.x or lower."},{"owner":{"account_id":3019275,"reputation":4542,"user_id":2560685,"accept_rate":70,"display_name":"sab"},"score":0,"creation_date":1675431444,"post_id":75336414,"comment_id":132932958,"body_markdown":"By no change expected, you mean they don&#39;t plan to update the lib to allow springboot 3 ?","body":"By no change expected, you mean they don&#39;t plan to update the lib to allow springboot 3 ?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1675431541,"post_id":75336414,"comment_id":132932992,"body_markdown":"Correct, not even planned.","body":"Correct, not even planned."}],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675431732,"creation_date":1675431732,"answer_id":75336541,"question_id":75336414,"body_markdown":"Spring Cloud Sleuth is not planned to work with Spring Boot 3. You must migrate to Micrometer Tracing. Here you can find a link to the migration guide https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide","title":"Spring Cloud Sleuth and spring boot 3 and the english language","body":"<p>Spring Cloud Sleuth is not planned to work with Spring Boot 3. You must migrate to Micrometer Tracing. Here you can find a link to the migration guide <a href=\"https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide</a></p>\n"}],"owner":{"account_id":3019275,"reputation":4542,"user_id":2560685,"accept_rate":70,"display_name":"sab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75336541,"answer_count":1,"score":1,"last_activity_date":1675431732,"creation_date":1675430971,"question_id":75336414,"body_markdown":"Sorry for asking that. I&#39;m not an English speaker, and Stackoverflow is the only  website I have access to at my work\r\n\r\nI need to use Spring Cloud Sleuth in a project currently in spring boot 2, but who will pass to spring boot 3 in a month?\r\n\r\nI was reading the Spring Cloud Sleuth documentation and noticed that:\r\n\r\n&gt; Spring Cloud Sleuth will not work with Spring Boot 3.x onward. The\r\n&gt; last major version of Spring Boot that Sleuth will support is 2.x.\r\n\r\nhttps://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/index.html\r\n\r\nDoes this mean that the library is not currently compatible with Spring Boot 3 and there is no plan to make it work, or is work being done to make it compatible?\r\n\r\n\r\n&quot;My coworkers nor I am familiar with the meaning of &quot;onward&quot; in this context. The word does not translate well in my language.&quot;","title":"Spring Cloud Sleuth and spring boot 3 and the english language","body":"<p>Sorry for asking that. I'm not an English speaker, and Stackoverflow is the only  website I have access to at my work</p>\n<p>I need to use Spring Cloud Sleuth in a project currently in spring boot 2, but who will pass to spring boot 3 in a month?</p>\n<p>I was reading the Spring Cloud Sleuth documentation and noticed that:</p>\n<blockquote>\n<p>Spring Cloud Sleuth will not work with Spring Boot 3.x onward. The\nlast major version of Spring Boot that Sleuth will support is 2.x.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/index.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/index.html</a></p>\n<p>Does this mean that the library is not currently compatible with Spring Boot 3 and there is no plan to make it work, or is work being done to make it compatible?</p>\n<p>&quot;My coworkers nor I am familiar with the meaning of &quot;onward&quot; in this context. The word does not translate well in my language.&quot;</p>\n"},{"tags":["java","json","jax-rs","wildfly","thorntail"],"answers":[{"comments":[{"owner":{"account_id":21410604,"reputation":355,"user_id":15770918,"display_name":"leandro.dev"},"score":0,"creation_date":1675706168,"post_id":75336537,"comment_id":132982410,"body_markdown":"I will try but in this project, the java ee version is 7 and I think that this annotation have been created in java ee 8.","body":"I will try but in this project, the java ee version is 7 and I think that this annotation have been created in java ee 8."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1675756293,"post_id":75336537,"comment_id":132991760,"body_markdown":"@leandro.dev I&#39;ve checked `io.thorntail.jaxrs-jsonb.2.6.0.Final` (from your question) with `org.eclipse.yasson.1.0.6` and everything works fine.","body":"@leandro.dev I&#39;ve checked <code>io.thorntail.jaxrs-jsonb.2.6.0.Final</code> (from your question) with <code>org.eclipse.yasson.1.0.6</code> and everything works fine."}],"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675431705,"creation_date":1675431705,"answer_id":75336537,"question_id":75335499,"body_markdown":"You can use `javax.json.bind.annotation.JsonbNillable` annotation:\r\n```java\r\n@JsonbNillable\r\npublic static class PersonApi {\r\n    private String name;\r\n    private Integer age;\r\n    //constructors, getters and setters are omitted\r\n}\r\n```","title":"How to send null values using jaxrs-jsonb (JSON-B | JSR-367)?","body":"<p>You can use <code>javax.json.bind.annotation.JsonbNillable</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonbNillable\npublic static class PersonApi {\n    private String name;\n    private Integer age;\n    //constructors, getters and setters are omitted\n}\n</code></pre>\n"}],"owner":{"account_id":21410604,"reputation":355,"user_id":15770918,"display_name":"leandro.dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675431705,"creation_date":1675425946,"question_id":75335499,"body_markdown":"I am working in a legacy system with Java/EJB/JPA/thorntail/wildfly.\r\n\r\nThe project has:\r\n\r\n```\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.thorntail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxrs-jsonb&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0.Final&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n\r\nJSON-B provides support for JSON Processing according to JSR-367.\r\n\r\nI need to send null values in API/Rest. Anything similar to `@JsonInclude(Include.ALWAYS)` for Jackson.\r\n\r\nExample that I need:\r\n```\r\nPersonApi with name=Any, age=null\r\n\r\n{\r\n    &quot;name&quot;: &quot;Any&quot;,\r\n    &quot;age&quot;: null\r\n}\r\n```\r\n\r\nIs there some config to do this? ... some annotation, some config to load and resolve it?","title":"How to send null values using jaxrs-jsonb (JSON-B | JSR-367)?","body":"<p>I am working in a legacy system with Java/EJB/JPA/thorntail/wildfly.</p>\n<p>The project has:</p>\n<pre><code>      &lt;dependency&gt;\n        &lt;groupId&gt;io.thorntail&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxrs-jsonb&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0.Final&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>JSON-B provides support for JSON Processing according to JSR-367.</p>\n<p>I need to send null values in API/Rest. Anything similar to <code>@JsonInclude(Include.ALWAYS)</code> for Jackson.</p>\n<p>Example that I need:</p>\n<pre><code>PersonApi with name=Any, age=null\n\n{\n    &quot;name&quot;: &quot;Any&quot;,\n    &quot;age&quot;: null\n}\n</code></pre>\n<p>Is there some config to do this? ... some annotation, some config to load and resolve it?</p>\n"},{"tags":["java","spring","spring-boot","maven","jpa"],"comments":[{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":0,"creation_date":1675425029,"post_id":75323334,"comment_id":132931108,"body_markdown":"Seems that the way I am trying to do this is not correct. From the [official documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-access.configure-two-datasources) the `@Primary` must be always present.","body":"Seems that the way I am trying to do this is not correct. From the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">official documentation</a> the <code>@Primary</code> must be always present."}],"answers":[{"comments":[{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":0,"creation_date":1675414667,"post_id":75326407,"comment_id":132928031,"body_markdown":"Yes, but the point is that I want to share the database configuration to avoid different syntax on different projects. The project already is a maven multimodule where I only import the low level modules on different projects","body":"Yes, but the point is that I want to share the database configuration to avoid different syntax on different projects. The project already is a maven multimodule where I only import the low level modules on different projects"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675422391,"post_id":75326407,"comment_id":132930385,"body_markdown":"I guess I wasn&#39;t very clear. What I meant is to have the actual configuration in the library, but declaring `@Primary` in the extra module.","body":"I guess I wasn&#39;t very clear. What I meant is to have the actual configuration in the library, but declaring <code>@Primary</code> in the extra module."},{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":1,"creation_date":1675425098,"post_id":75326407,"comment_id":132931133,"body_markdown":"The only solution I can imagine currently for the problem then, will be change my idea of having one Datasource Configuration to create multiples different files. Without `@Primary` the ones that will be on the maven modules that will be used a libraries later, and other ones with `@Primary` where I need to run on the project (i.e. unitary testing and Rest Server module).","body":"The only solution I can imagine currently for the problem then, will be change my idea of having one Datasource Configuration to create multiples different files. Without <code>@Primary</code> the ones that will be on the maven modules that will be used a libraries later, and other ones with <code>@Primary</code> where I need to run on the project (i.e. unitary testing and Rest Server module)."}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675431653,"creation_date":1675356564,"answer_id":75326407,"question_id":75323334,"body_markdown":"I would create a small extra Maven module that acts as the standalone app and has the `@Primary` annotation for running the library standalone. This way, I suspect you can also move a bit of code out of the actual library, making it more lightweight.","title":"Spring Boot Multiple Database Configurations: avoiding to use @Primary on one of the database configuration","body":"<p>I would create a small extra Maven module that acts as the standalone app and has the <code>@Primary</code> annotation for running the library standalone. This way, I suspect you can also move a bit of code out of the actual library, making it more lightweight.</p>\n"}],"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75326407,"answer_count":1,"score":0,"last_activity_date":1675431653,"creation_date":1675341569,"question_id":75323334,"body_markdown":"I have some libraries written in java and using Spring Boot 2.6.4. Each one -for some reasons- has a database connections as In some cases I want that the libraries stores the data on a different database. \r\n\r\nFor this purpose, I generate multiples database configuration (one as an example):\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;lib1ManagerFactory&quot;, transactionManagerRef = &quot;lib1TransactionManager&quot;, basePackages = {\r\n        &quot;my.lib1.package&quot;})\r\npublic class Lib1DatabaseConfigurator {\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;spring.lib1.datasource&quot;)\r\n    public DataSource lib1DataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean lib1ManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                          @Qualifier(&quot;lib1DataSource&quot;) DataSource dataSource) {\r\n        return builder.dataSource(dataSource).packages(&quot;my.lib1.package&quot;).build();\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager lib1TransactionManager(\r\n            @Qualifier(&quot;lib1ManagerFactory&quot;) EntityManagerFactory lib1EntityManagerFactory) {\r\n        return new JpaTransactionManager(lib1EntityManagerFactory);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThen, I have an application that has some entities and it connects to a database as any of the previous libraries (configuration very similar). The difference is that it is an application that executes as a rest server, but also some internal modules can be use as libraries for other applications (it is a maven multi-module application, where the business logic can be used as library, but also has other maven modules that execute the library as a rest application for accepting rest calls). \r\n\r\nOn this application, when I execute it, I get the error `No qualifying bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder`. In all sources I have checked, this will be fixed if I include the `@Primary` on the database configuration. \r\n\r\nBut as I want that database entities and configuration will be used as a library for some other applications, I will want to avoid the `@Primary` annotation, as other applications will have its custom database configuration and probably with this annotation. \r\n\r\nNote that I have some Custom Implementation of repositories in some cases, the type of:\r\n\r\n    @Repository\r\n    public class CustomLib1RepositoryImpl&lt;T&gt; implements CustomLib1Repository&lt;T&gt; {\r\n\r\n      @PersistenceContext\r\n      @Qualifier(value = &quot;lib1ManagerFactory&quot;)\r\n      private EntityManager entityManager;\r\n\r\n      private Class&lt;T&gt; entityTypeClass;\r\n\r\n     ...\r\n    }\r\n\r\n\r\n\r\n**What I want to achieve is**: create a library that has its custom database configuration that I can use in multiples applications. Therefore the final application will have its own database configuration and the database configuration from the imported library.\r\n\r\nbut\r\n\r\nIn one specific case, the library can also run as an standalone application. That means that must have its own database configuration running, but this one can be exported when used as a library. \r\n\r\n**What I want to avoid** also, is to not duplicate library&#39;s database configurations among applications (then include it on the libraries).","title":"Spring Boot Multiple Database Configurations: avoiding to use @Primary on one of the database configuration","body":"<p>I have some libraries written in java and using Spring Boot 2.6.4. Each one -for some reasons- has a database connections as In some cases I want that the libraries stores the data on a different database.</p>\n<p>For this purpose, I generate multiples database configuration (one as an example):</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;lib1ManagerFactory&quot;, transactionManagerRef = &quot;lib1TransactionManager&quot;, basePackages = {\n        &quot;my.lib1.package&quot;})\npublic class Lib1DatabaseConfigurator {\n    @Bean\n    @ConfigurationProperties(prefix = &quot;spring.lib1.datasource&quot;)\n    public DataSource lib1DataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean lib1ManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                          @Qualifier(&quot;lib1DataSource&quot;) DataSource dataSource) {\n        return builder.dataSource(dataSource).packages(&quot;my.lib1.package&quot;).build();\n    }\n\n    @Bean\n    public PlatformTransactionManager lib1TransactionManager(\n            @Qualifier(&quot;lib1ManagerFactory&quot;) EntityManagerFactory lib1EntityManagerFactory) {\n        return new JpaTransactionManager(lib1EntityManagerFactory);\n    }\n\n}\n\n</code></pre>\n<p>Then, I have an application that has some entities and it connects to a database as any of the previous libraries (configuration very similar). The difference is that it is an application that executes as a rest server, but also some internal modules can be use as libraries for other applications (it is a maven multi-module application, where the business logic can be used as library, but also has other maven modules that execute the library as a rest application for accepting rest calls).</p>\n<p>On this application, when I execute it, I get the error <code>No qualifying bean of type 'org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder</code>. In all sources I have checked, this will be fixed if I include the <code>@Primary</code> on the database configuration.</p>\n<p>But as I want that database entities and configuration will be used as a library for some other applications, I will want to avoid the <code>@Primary</code> annotation, as other applications will have its custom database configuration and probably with this annotation.</p>\n<p>Note that I have some Custom Implementation of repositories in some cases, the type of:</p>\n<pre><code>@Repository\npublic class CustomLib1RepositoryImpl&lt;T&gt; implements CustomLib1Repository&lt;T&gt; {\n\n  @PersistenceContext\n  @Qualifier(value = &quot;lib1ManagerFactory&quot;)\n  private EntityManager entityManager;\n\n  private Class&lt;T&gt; entityTypeClass;\n\n ...\n}\n</code></pre>\n<p><strong>What I want to achieve is</strong>: create a library that has its custom database configuration that I can use in multiples applications. Therefore the final application will have its own database configuration and the database configuration from the imported library.</p>\n<p>but</p>\n<p>In one specific case, the library can also run as an standalone application. That means that must have its own database configuration running, but this one can be exported when used as a library.</p>\n<p><strong>What I want to avoid</strong> also, is to not duplicate library's database configurations among applications (then include it on the libraries).</p>\n"},{"tags":["java","angular","spring-boot","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":22880863,"reputation":26,"user_id":17023516,"display_name":"Flumberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674716950,"creation_date":1674566478,"answer_id":75222097,"question_id":75208656,"body_markdown":"This part of your code contains problem with xpath.   \r\n \r\n\r\n    driver.findElement(By.xpath(&quot;a[href=&#39;/customers&#39;]&quot;)).click();\r\n\r\nYou should put &quot;//&quot; before tagname and &quot;@&quot; before attribute like:\r\n\r\n    driver.findElement(By.xpath(&quot;//a[@href=&#39;/customers&#39;]&quot;)).click();\r\nNote that the attribute value must be written in full. \r\nIf it&#39;s not the full value of the attribute you can use &quot;contains()&quot; like:\r\n\r\n    driver.findElement(By.xpath(&quot;//a[contains(@href, &#39;/customers&#39;])&quot;)).click();\r\nAny chance that your locator located in &#39;iframe&#39; block? If so you must switch to the &#39;iframe&#39; block at first\r\n\r\n    //Store the web element\r\n    WebElement iframe = driver.findElement(By.cssSelector(&quot;iframe path&quot;));\r\n    \r\n    //Switch to the frame\r\n    driver.switchTo().frame(iframe);\r\n    \r\n    //Now we can click the button\r\n    driver.findElement(By.xpath(&quot;//a[contains(@href, &#39;/customers&#39;])&quot;)).click();\r\nAlso you can try to click via JS\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href, &#39;/customers&#39;])&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, element);","title":"How to select a menu link our Angular application with Selenium","body":"<p>This part of your code contains problem with xpath.</p>\n<pre><code>driver.findElement(By.xpath(&quot;a[href='/customers']&quot;)).click();\n</code></pre>\n<p>You should put &quot;//&quot; before tagname and &quot;@&quot; before attribute like:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[@href='/customers']&quot;)).click();\n</code></pre>\n<p>Note that the attribute value must be written in full.\nIf it's not the full value of the attribute you can use &quot;contains()&quot; like:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[contains(@href, '/customers'])&quot;)).click();\n</code></pre>\n<p>Any chance that your locator located in 'iframe' block? If so you must switch to the 'iframe' block at first</p>\n<pre><code>//Store the web element\nWebElement iframe = driver.findElement(By.cssSelector(&quot;iframe path&quot;));\n\n//Switch to the frame\ndriver.switchTo().frame(iframe);\n\n//Now we can click the button\ndriver.findElement(By.xpath(&quot;//a[contains(@href, '/customers'])&quot;)).click();\n</code></pre>\n<p>Also you can try to click via JS</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href, '/customers'])&quot;));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12809345,"reputation":193,"user_id":9268070,"display_name":"BMW83"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674646727,"creation_date":1674646727,"answer_id":75233431,"question_id":75208656,"body_markdown":"I tried to install the chrome extension &#39;**SelectorsHub**&#39; which allows me to have the exact path of any path.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd I tried this path but no solution and I find an exception .\r\n\r\n    WARNING: Unable to find an exact match for CDP version 109, so returning the closest version found: 108\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such \r\n    element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//a[contains(@href, &#39;/customers&#39;)]&quot;}\r\n \r\n\r\nThe problem is that there is no search word **&#39;Customers&#39;** when I try to get the source code of the page.\r\nAnd this page includes Angular components.\r\nthe only solution is to put the link in the second tab with the customers.\r\nI tried to apply here to get an idea with the Angular components that are still displayed in the current page\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z3Xpf.png","title":"How to select a menu link our Angular application with Selenium","body":"<p>I tried to install the chrome extension '<strong>SelectorsHub</strong>' which allows me to have the exact path of any path.</p>\n<p><a href=\"https://i.stack.imgur.com/z3Xpf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3Xpf.png\" alt=\"enter image description here\" /></a></p>\n<p>And I tried this path but no solution and I find an exception .</p>\n<pre><code>WARNING: Unable to find an exact match for CDP version 109, so returning the closest version found: 108\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such \nelement: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//a[contains(@href, '/customers')]&quot;}\n</code></pre>\n<p>The problem is that there is no search word <strong>'Customers'</strong> when I try to get the source code of the page.\nAnd this page includes Angular components.\nthe only solution is to put the link in the second tab with the customers.\nI tried to apply here to get an idea with the Angular components that are still displayed in the current page</p>\n"},{"tags":[],"owner":{"account_id":12809345,"reputation":193,"user_id":9268070,"display_name":"BMW83"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675431647,"creation_date":1675431647,"answer_id":75336526,"question_id":75208656,"body_markdown":"I found this solution on the xpath track.\r\n\r\n    &quot;/html/body/app-root/layout/classy-layout/fuse-vertical-navigation/div/div[2]/fuse-vertical-navigation-basic-item[2]/div/a/div/div/span&quot;","title":"How to select a menu link our Angular application with Selenium","body":"<p>I found this solution on the xpath track.</p>\n<pre><code>&quot;/html/body/app-root/layout/classy-layout/fuse-vertical-navigation/div/div[2]/fuse-vertical-navigation-basic-item[2]/div/a/div/div/span&quot;\n</code></pre>\n"}],"owner":{"account_id":12809345,"reputation":193,"user_id":9268070,"display_name":"BMW83"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75336526,"answer_count":3,"score":0,"last_activity_date":1675431647,"creation_date":1674472199,"question_id":75208656,"body_markdown":"I have a Spring Boot Angular Project. And I’d like to do some Selenuim tests on the components. I made the connection and entered the home page. But I can’t click on the menu that has other links to other components. It shows me the following errors:\r\n\r\n    Command: [2d56d2bfe5693b9a2876fdbaf7337e6d, findElement {using=xpath, value=a[href=&#39;/customers&#39;]}]\r\n      Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: \r\n      109.0.5414.75, chrome: {chromedriverVersion: 109.0.5414.74 (e7c5703604da..., userDataDir: \r\n      C:\\Users\\hp\\AppData\\Local\\T...}, goog:chromeOptions: {debuggerAddress: localhost:64215}, \r\n      networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: \r\n      Proxy(), se:cdp: ws://localhost:64215/devtoo..., se:cdpVersion: 109.0.5414.75, \r\n      setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 1000, pageLoad: \r\n      300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, \r\n      webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, \r\n      webauthn:virtualAuthenticators: true}\r\n[![My page web][1]][1]\r\n\r\nI want to access the different Client menus or links under administration...\r\nIn the source code of the page you can’t find the links I’m looking for &quot;[/customers]&quot;. There is a tutorial that explains this.\r\n\r\n    driver.findElement(By.xpath(&quot;a[href=&#39;/customers&#39;]&quot;)).click();\r\n\r\nMy code is here \r\n\r\n\r\n        `System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\geckodriver.exe&quot;);\r\n\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        Map&lt;String, Integer&gt; timeOUts = new HashMap&lt;&gt;();\r\n        timeOUts.put(&quot;implicit&quot;, 1000);\r\n        chromeOptions.setCapability(&quot;timeouts&quot;, timeOUts);\r\n\r\n        WebDriver driver = new ChromeDriver(chromeOptions);\r\n        driver.manage().window().maximize();\r\n\r\n        driver.get(&quot;http://myApplication.fr&quot;);//\r\n        driver.findElement(By.id(&quot;email&quot;)).sendKeys(&quot;exemple@exemple.fr&quot;);\r\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;123&quot;);\r\n        driver.findElement(By.className(&quot;fuse-mat-button-large&quot;)).click();\r\n\r\n        driver.findElement(By.xpath(&quot;a[href=&#39;/customers&#39;]&quot;)).click();`\r\n\r\n  [1]: https://i.stack.imgur.com/tqhPl.png","title":"How to select a menu link our Angular application with Selenium","body":"<p>I have a Spring Boot Angular Project. And I’d like to do some Selenuim tests on the components. I made the connection and entered the home page. But I can’t click on the menu that has other links to other components. It shows me the following errors:</p>\n<pre><code>Command: [2d56d2bfe5693b9a2876fdbaf7337e6d, findElement {using=xpath, value=a[href='/customers']}]\n  Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: \n  109.0.5414.75, chrome: {chromedriverVersion: 109.0.5414.74 (e7c5703604da..., userDataDir: \n  C:\\Users\\hp\\AppData\\Local\\T...}, goog:chromeOptions: {debuggerAddress: localhost:64215}, \n  networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: \n  Proxy(), se:cdp: ws://localhost:64215/devtoo..., se:cdpVersion: 109.0.5414.75, \n  setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 1000, pageLoad: \n  300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, \n  webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, \n  webauthn:virtualAuthenticators: true}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tqhPl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tqhPl.png\" alt=\"My page web\" /></a></p>\n<p>I want to access the different Client menus or links under administration...\nIn the source code of the page you can’t find the links I’m looking for &quot;[/customers]&quot;. There is a tutorial that explains this.</p>\n<pre><code>driver.findElement(By.xpath(&quot;a[href='/customers']&quot;)).click();\n</code></pre>\n<p>My code is here</p>\n<pre><code>    `System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\geckodriver.exe&quot;);\n\n    ChromeOptions chromeOptions = new ChromeOptions();\n    Map&lt;String, Integer&gt; timeOUts = new HashMap&lt;&gt;();\n    timeOUts.put(&quot;implicit&quot;, 1000);\n    chromeOptions.setCapability(&quot;timeouts&quot;, timeOUts);\n\n    WebDriver driver = new ChromeDriver(chromeOptions);\n    driver.manage().window().maximize();\n\n    driver.get(&quot;http://myApplication.fr&quot;);//\n    driver.findElement(By.id(&quot;email&quot;)).sendKeys(&quot;exemple@exemple.fr&quot;);\n    driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;123&quot;);\n    driver.findElement(By.className(&quot;fuse-mat-button-large&quot;)).click();\n\n    driver.findElement(By.xpath(&quot;a[href='/customers']&quot;)).click();`\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1675324222,"post_id":75320007,"comment_id":132905156,"body_markdown":"Why do you think the *size* of the object is needed to read object&#39;s data? To read object data, you just need to know where that data is...","body":"Why do you think the <i>size</i> of the object is needed to read object&#39;s data? To read object data, you just need to know where that data is..."},{"owner":{"account_id":27682745,"reputation":33,"user_id":21131141,"display_name":"korjun1993"},"score":0,"creation_date":1675329583,"post_id":75320007,"comment_id":132906574,"body_markdown":"I think it need to do bound check","body":"I think it need to do bound check"}],"answers":[{"comments":[{"owner":{"account_id":27682745,"reputation":33,"user_id":21131141,"display_name":"korjun1993"},"score":0,"creation_date":1675329533,"post_id":75320497,"comment_id":132906559,"body_markdown":"Is my understanding correct?\nFor arrays, access data by index.\nA bound check is necessary because the value of the index may be invalid.\nHowever, in the case of objects, data is accessed by field name.\nSo it doesn&#39;t need to do bounds checking, and it doesn&#39;t need to know the size.\n\nThen, is it to access the memory address of the object through calculating the start address + the byte size of each field?","body":"Is my understanding correct? For arrays, access data by index. A bound check is necessary because the value of the index may be invalid. However, in the case of objects, data is accessed by field name. So it doesn&#39;t need to do bounds checking, and it doesn&#39;t need to know the size.  Then, is it to access the memory address of the object through calculating the start address + the byte size of each field?"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675329609,"post_id":75320497,"comment_id":132906584,"body_markdown":"@korjun1993 Sound about right, yes. Start address + header size + size of preceding fields.","body":"@korjun1993 Sound about right, yes. Start address + header size + size of preceding fields."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1675428503,"post_id":75320497,"comment_id":132932084,"body_markdown":"For completion: the validity of a field access is checked too. But a field access will always refer to the same field (unlike a potentially changing array index) and the fields declared by a class also never change (in one runtime), so this check is performed only once, by the verifier, before the code is executed the first time. Once it has been proven valid, it will always be valid (aside from potentially accessing `null`) and does not need to be checked again.","body":"For completion: the validity of a field access is checked too. But a field access will always refer to the same field (unlike a potentially changing array index) and the fields declared by a class also never change (in one runtime), so this check is performed only once, by the verifier, before the code is executed the first time. Once it has been proven valid, it will always be valid (aside from potentially accessing <code>null</code>) and does not need to be checked again."},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675431618,"post_id":75320497,"comment_id":132933017,"body_markdown":"@Holger, yeah, cleared that up in the answer.","body":"@Holger, yeah, cleared that up in the answer."}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675431602,"creation_date":1675327077,"answer_id":75320497,"question_id":75320007,"body_markdown":"The difference between an array and a &quot;normal&quot; object is that arrays can have different sizes, while every object of a given class has the same size. In a way, the size of non-array objects _is_ stored, but not with every object, but only once in the respective class data (hence the class pointer).\r\n\r\nRegarding accessing the data in an array/object, there is another difference: When accessing the element of an array, the JVM has to do a bounds check, which requires knowing the size of the array. When accessing the field of a normal object, however, this is not the case, as the number/positions of all fields is fixed (and known at class loading time) for every object of a given class. So usually, knowing the size of an object is not actually required to access its data. However, I want to relativize Sweeper&#39;s comment: The JVM _does_ need to know the size of non-array objects, e.g., when moving them around as part of garbage collection compaction.","title":"How does the JVM know how much to read in the start address when reading object data?","body":"<p>The difference between an array and a &quot;normal&quot; object is that arrays can have different sizes, while every object of a given class has the same size. In a way, the size of non-array objects <em>is</em> stored, but not with every object, but only once in the respective class data (hence the class pointer).</p>\n<p>Regarding accessing the data in an array/object, there is another difference: When accessing the element of an array, the JVM has to do a bounds check, which requires knowing the size of the array. When accessing the field of a normal object, however, this is not the case, as the number/positions of all fields is fixed (and known at class loading time) for every object of a given class. So usually, knowing the size of an object is not actually required to access its data. However, I want to relativize Sweeper's comment: The JVM <em>does</em> need to know the size of non-array objects, e.g., when moving them around as part of garbage collection compaction.</p>\n"}],"owner":{"account_id":27682745,"reputation":33,"user_id":21131141,"display_name":"korjun1993"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75320497,"answer_count":1,"score":3,"last_activity_date":1675431602,"creation_date":1675323835,"question_id":75320007,"body_markdown":"I studied the following.\r\nObject header consists of a mark word and a klass pointer.\r\nIn the case of an **array**, it additionally has **size header**.\r\n\r\nIn other words, there is no size information in the header of object data. So, how does the JVM know how far to read from the start address when reading object data?","title":"How does the JVM know how much to read in the start address when reading object data?","body":"<p>I studied the following.\nObject header consists of a mark word and a klass pointer.\nIn the case of an <strong>array</strong>, it additionally has <strong>size header</strong>.</p>\n<p>In other words, there is no size information in the header of object data. So, how does the JVM know how far to read from the start address when reading object data?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675433266,"post_id":75336451,"comment_id":132933608,"body_markdown":"Your console shows a warning message: `Cannot find template location...`, even though it does appear to exist and does appear to be on the runtime classpath. There may be various reasons why this is happening. You can [research](https://www.google.com/search?q=spring+boot+cannot+find+template+location+site:stackoverflow.com) different suggestions and solutions. You can update your question with the results of your research. (I don&#39;t know if this is related to your `404 not found` problem - but it&#39;s a good place to start.)","body":"Your console shows a warning message: <code>Cannot find template location...</code>, even though it does appear to exist and does appear to be on the runtime classpath. There may be various reasons why this is happening. You can <a href=\"https://www.google.com/search?q=spring+boot+cannot+find+template+location+site:stackoverflow.com\" rel=\"nofollow noreferrer\">research</a> different suggestions and solutions. You can update your question with the results of your research. (I don&#39;t know if this is related to your <code>404 not found</code> problem - but it&#39;s a good place to start.)"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675433346,"post_id":75336451,"comment_id":132933644,"body_markdown":"Note: Please always show text as formatted text (not as screenshots). See a list of reasons why [here](https://meta.stackoverflow.com/a/285557/12567365).","body":"Note: Please always show text as formatted text (not as screenshots). See a list of reasons why <a href=\"https://meta.stackoverflow.com/a/285557/12567365\">here</a>."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675433867,"post_id":75336451,"comment_id":132933830,"body_markdown":"what is the real path of the &#39;templates&#39; folder?","body":"what is the real path of the &#39;templates&#39; folder?"},{"owner":{"account_id":22810863,"reputation":13,"user_id":16962177,"display_name":"imnach2"},"score":0,"creation_date":1675434956,"post_id":75336451,"comment_id":132934207,"body_markdown":"@JohnWilliams src/main/resources/templates/home.html","body":"@JohnWilliams src/main/resources/templates/home.html"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675441765,"post_id":75336451,"comment_id":132936574,"body_markdown":"@imnach2 , your GreetingController.java return &quot;greeting&quot;;  But your templates use **home.html** ?","body":"@imnach2 , your GreetingController.java return &quot;greeting&quot;;  But your templates use <b>home.html</b> ?"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1675443019,"post_id":75336451,"comment_id":132936993,"body_markdown":"@imnach2 If your template file is named home.html, then you need to return &quot;home&quot;, not &quot;greeting&quot;","body":"@imnach2 If your template file is named home.html, then you need to return &quot;home&quot;, not &quot;greeting&quot;"}],"owner":{"account_id":22810863,"reputation":13,"user_id":16962177,"display_name":"imnach2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675431244,"creation_date":1675431195,"question_id":75336451,"body_markdown":"I&#39;m starting to develop in &#39;Spring-boot&#39; and I did the &#39;getting started&#39; as it is and it doesn&#39;t show me what it should\r\n\r\n[so are the routes](https://i.stack.imgur.com/atJDi.png)\r\n\r\n\r\n[this is the console](https://i.stack.imgur.com/kgx6j.png)\r\n\r\nhere is the code of application.properties\r\n\r\n\r\n```java\r\nspring.thymeleaf.prefix=classpath:/templates/\r\nspring.thymeleaf.suffix=.html\r\nspring.thymeleaf.mode=HTML\r\nspring.thymeleaf.encoding=UTF-8\r\nspring.thymeleaf.content-type=text/html # ;charset=&lt;encoding&gt; is added\r\nspring.thymeleaf.cache=false\r\n```\r\n\r\ntemplate &#39;greeting&#39;\r\n\r\n```html\r\n\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt; \r\n    &lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt; \r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;p th:text=&quot;&#39;Hello, &#39; + ${name} + &#39;!&#39;&quot; /&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\nThis is the controller code.\r\n\r\n```java\r\npackage com.arbaAppWebC.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n@Controller\r\npublic class GreetingController {\r\n\r\n\t@GetMapping(&quot;/greeting&quot;)\r\n\tpublic String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\r\n\t\tmodel.addAttribute(&quot;name&quot;, name);\r\n\t\treturn &quot;greeting&quot;;\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n```java\r\n\r\npackage com.ArbaAppWeb.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nAnd this is the dependencies\r\n\r\n```java\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n```\r\n\r\n[this appears on the web](https://i.stack.imgur.com/J4nL7.png)\r\n\r\nI am using java 17 as a compiler although I have java 19 installed even so I do not understand what is wrong because I followed the same steps indicated in the spring-boot doc.\r\n\r\nI have the same problem since yesterday.\r\n\r\n\r\n\r\nIf you need any other information I am at your disposal to give it and be able to obtain the desired solution.","title":"Why doesn&#39;t it show the &#39;greetings&#39; template?","body":"<p>I'm starting to develop in 'Spring-boot' and I did the 'getting started' as it is and it doesn't show me what it should</p>\n<p><a href=\"https://i.stack.imgur.com/atJDi.png\" rel=\"nofollow noreferrer\">so are the routes</a></p>\n<p><a href=\"https://i.stack.imgur.com/kgx6j.png\" rel=\"nofollow noreferrer\">this is the console</a></p>\n<p>here is the code of application.properties</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.thymeleaf.prefix=classpath:/templates/\nspring.thymeleaf.suffix=.html\nspring.thymeleaf.mode=HTML\nspring.thymeleaf.encoding=UTF-8\nspring.thymeleaf.content-type=text/html # ;charset=&lt;encoding&gt; is added\nspring.thymeleaf.cache=false\n</code></pre>\n<p>template 'greeting'</p>\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt; \n    &lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt; \n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p th:text=&quot;'Hello, ' + ${name} + '!'&quot; /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>This is the controller code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.arbaAppWebC.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class GreetingController {\n\n    @GetMapping(&quot;/greeting&quot;)\n    public String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\n        model.addAttribute(&quot;name&quot;, name);\n        return &quot;greeting&quot;;\n    }\n\n}\n\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.ArbaAppWeb.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n\n\n</code></pre>\n<p>And this is the dependencies</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/J4nL7.png\" rel=\"nofollow noreferrer\">this appears on the web</a></p>\n<p>I am using java 17 as a compiler although I have java 19 installed even so I do not understand what is wrong because I followed the same steps indicated in the spring-boot doc.</p>\n<p>I have the same problem since yesterday.</p>\n<p>If you need any other information I am at your disposal to give it and be able to obtain the desired solution.</p>\n"},{"tags":["java","amazon-web-services","docker","aws-cloudformation","openapi"],"comments":[{"owner":{"account_id":199153,"reputation":462,"user_id":444252,"display_name":"HariKrishnan"},"score":0,"creation_date":1675400616,"post_id":75330866,"comment_id":132925262,"body_markdown":"Can you please clarify what you mean by &quot;run the OpenAPI documentation locally&quot;? If you are you referring to being able to browse the documentation, you can run https://hub.docker.com/r/swaggerapi/swagger-editor/ on your local machine. This will give you the same experience as https://editor.swagger.io/.","body":"Can you please clarify what you mean by &quot;run the OpenAPI documentation locally&quot;? If you are you referring to being able to browse the documentation, you can run <a href=\"https://hub.docker.com/r/swaggerapi/swagger-editor/\" rel=\"nofollow noreferrer\">hub.docker.com/r/swaggerapi/swagger-editor</a> on your local machine. This will give you the same experience as <a href=\"https://editor.swagger.io/\" rel=\"nofollow noreferrer\">editor.swagger.io</a>."},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1675402264,"post_id":75330866,"comment_id":132925503,"body_markdown":"getting an error : The requested image&#39;s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested","body":"getting an error : The requested image&#39;s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested"},{"owner":{"account_id":199153,"reputation":462,"user_id":444252,"display_name":"HariKrishnan"},"score":0,"creation_date":1675404102,"post_id":75330866,"comment_id":132925747,"body_markdown":"Looks like platform issue (https://github.com/swagger-api/swagger-editor/issues/2725). You can try this instead &quot;docker pull swaggerapi/swagger-editor:next-v5&quot; and then &quot;docker run -p 8888:80 swaggerapi/swagger-editor:next-v5&quot; and access the editor on &quot;http://localhost:8888/&quot; (https://github.com/swagger-api/swagger-editor/issues/3416#issuecomment-1310575668). This will be similar to https://editor-next.swagger.io/.","body":"Looks like platform issue (<a href=\"https://github.com/swagger-api/swagger-editor/issues/2725\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-editor/issues/2725</a>). You can try this instead &quot;docker pull swaggerapi/swagger-editor:next-v5&quot; and then &quot;docker run -p 8888:80 swaggerapi/swagger-editor:next-v5&quot; and access the editor on &quot;<a href=\"http://localhost:8888/\" rel=\"nofollow noreferrer\">localhost:8888</a>&quot; (<a href=\"https://github.com/swagger-api/swagger-editor/issues/3416#issuecomment-1310575668\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-editor/issues/&hellip;</a>). This will be similar to <a href=\"https://editor-next.swagger.io/\" rel=\"nofollow noreferrer\">editor-next.swagger.io</a>."}],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675431159,"creation_date":1675390768,"question_id":75330866,"body_markdown":"I have an OpenAPI YAML file for a Java project. I am creating an AWS Lambda function and using API gateway deploying it on CloudFormation.\r\n\r\nIs there a way I can use Docker to run the OpenAPI documentation locally?\r\n\r\n","title":"How to run OpenAPI YAML using Docker","body":"<p>I have an OpenAPI YAML file for a Java project. I am creating an AWS Lambda function and using API gateway deploying it on CloudFormation.</p>\n<p>Is there a way I can use Docker to run the OpenAPI documentation locally?</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":6753265,"reputation":57,"user_id":5202634,"display_name":"Albert"},"score":0,"creation_date":1675428465,"post_id":75335383,"comment_id":132932073,"body_markdown":"With curl it works, but I need to do it in java, see curl command -&gt; `curl &#39;https://www.net-a-porter.com/variants/images/1647597286238991/in/w230_q80.jpg&#39; \\\n  -H &#39;accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#39; \\\n  -H &#39;if-modified-since: Mon, 16 Jan 2023 20:30:31 GMT&#39; \\\n  -H &#39;user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36&#39; \\\n  --compressed --output test.jpg`","body":"With curl it works, but I need to do it in java, see curl command -&gt; <code>curl &#39;https:&#47;&#47;www.net-a-porter.com&#47;variants&#47;images&#47;16475972862389&zwnj;&#8203;91&#47;in&#47;w230_q80.jpg&#39; \\   -H &#39;accept: text&#47;html,application&#47;xhtml+xml,application&#47;xml;q=0.9,image&#47;&zwnj;&#8203;avif,image&#47;webp,imag&zwnj;&#8203;e&#47;apng,*&#47;*;q=0.8,app&zwnj;&#8203;lication&#47;signed-exch&zwnj;&#8203;ange;v=b3;q=0.9&#39; \\   -H &#39;if-modified-since: Mon, 16 Jan 2023 20:30:31 GMT&#39; \\   -H &#39;user-agent: Mozilla&#47;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#47;537.36 (KHTML, like Gecko) Chrome&#47;109.0.0.0 Safari&#47;537.36&#39; \\   --compressed --output test.jpg</code>"}],"answers":[{"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675431080,"creation_date":1675430464,"answer_id":75336317,"question_id":75335383,"body_markdown":"Try setting the user agent to something else. For example &quot;Safari/537.36&quot;. \r\n\r\n        CloseableHttpClient httpClient2 = HttpClientBuilder.create()\r\n            .setDefaultRequestConfig(\r\n                    RequestConfig.custom()\r\n                            .setCookieSpec(CookieSpecs.STANDARD)\r\n                            .setConnectTimeout(TIMEOUT_IN_SECONDS * 1000)\r\n                            .setConnectionRequestTimeout(TIMEOUT_IN_SECONDS * 1000)\r\n                            .setSocketTimeout(TIMEOUT_IN_SECONDS * 1000)\r\n                            .build())\r\n                    .setUserAgent(&quot;Safari/537.36&quot;)\r\n                    .build();\r\n\r\nIt seems to be working for me with the &quot;Safari/537.36&quot; user agent.","title":"Cannot download an image with an HttpClientBuilder object","body":"<p>Try setting the user agent to something else. For example &quot;Safari/537.36&quot;.</p>\n<pre><code>    CloseableHttpClient httpClient2 = HttpClientBuilder.create()\n        .setDefaultRequestConfig(\n                RequestConfig.custom()\n                        .setCookieSpec(CookieSpecs.STANDARD)\n                        .setConnectTimeout(TIMEOUT_IN_SECONDS * 1000)\n                        .setConnectionRequestTimeout(TIMEOUT_IN_SECONDS * 1000)\n                        .setSocketTimeout(TIMEOUT_IN_SECONDS * 1000)\n                        .build())\n                .setUserAgent(&quot;Safari/537.36&quot;)\n                .build();\n</code></pre>\n<p>It seems to be working for me with the &quot;Safari/537.36&quot; user agent.</p>\n"}],"owner":{"account_id":6753265,"reputation":57,"user_id":5202634,"display_name":"Albert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75336317,"answer_count":1,"score":0,"last_activity_date":1675431080,"creation_date":1675425335,"question_id":75335383,"body_markdown":"I&#39;m trying to download images in Java using HttpClientBuilder. On most of the cases I do not have any problem, but on this particular example, I cannot make it work and I do not know what else to try.\r\n\r\nI attach a code example, when I run it I always get a ```java.net.SocketTimeoutException: Read timed out```.\r\n\r\nI&#39;ve tried setting a specific User-Agent, and other settings in the request with no luck. \r\n\r\nAny help would be appreciate, thanks.\r\n\r\n\r\n        CloseableHttpClient httpClient2 = HttpClientBuilder.create()\r\n                .setDefaultRequestConfig(\r\n                        RequestConfig.custom()\r\n                                .setCookieSpec(CookieSpecs.STANDARD)\r\n                                .setConnectTimeout(TIMEOUT_IN_SECONDS * 1000)\r\n                                .setConnectionRequestTimeout(TIMEOUT_IN_SECONDS * 1000)\r\n                                .setSocketTimeout(TIMEOUT_IN_SECONDS * 1000)\r\n                                .build())\r\n                .build();\r\n\r\n        final HttpGet httpGet = new HttpGet(URI.create(&quot;https://www.net-a-porter.com/variants/images/1647597286238991/in/w230_q80.jpg&quot;));\r\n        try (CloseableHttpResponse response2 = httpClient2.execute(httpGet)) {\r\n            // code never reached\r\n        }","title":"Cannot download an image with an HttpClientBuilder object","body":"<p>I'm trying to download images in Java using HttpClientBuilder. On most of the cases I do not have any problem, but on this particular example, I cannot make it work and I do not know what else to try.</p>\n<p>I attach a code example, when I run it I always get a <code>java.net.SocketTimeoutException: Read timed out</code>.</p>\n<p>I've tried setting a specific User-Agent, and other settings in the request with no luck.</p>\n<p>Any help would be appreciate, thanks.</p>\n<pre><code>    CloseableHttpClient httpClient2 = HttpClientBuilder.create()\n            .setDefaultRequestConfig(\n                    RequestConfig.custom()\n                            .setCookieSpec(CookieSpecs.STANDARD)\n                            .setConnectTimeout(TIMEOUT_IN_SECONDS * 1000)\n                            .setConnectionRequestTimeout(TIMEOUT_IN_SECONDS * 1000)\n                            .setSocketTimeout(TIMEOUT_IN_SECONDS * 1000)\n                            .build())\n            .build();\n\n    final HttpGet httpGet = new HttpGet(URI.create(&quot;https://www.net-a-porter.com/variants/images/1647597286238991/in/w230_q80.jpg&quot;));\n    try (CloseableHttpResponse response2 = httpClient2.execute(httpGet)) {\n        // code never reached\n    }\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","recursion","linked-list"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1373284044,"post_id":17525757,"comment_id":25484537,"body_markdown":"Show us what you&#39;ve tried.","body":"Show us what you&#39;ve tried."},{"owner":{"account_id":2299663,"reputation":2305,"user_id":2020229,"accept_rate":92,"display_name":"banarun"},"score":0,"creation_date":1373284456,"post_id":17525757,"comment_id":25484780,"body_markdown":"Why don&#39;t you use tail recursion?","body":"Why don&#39;t you use tail recursion?"},{"owner":{"account_id":2918180,"reputation":2843,"user_id":2500965,"accept_rate":56,"display_name":"ssindelar"},"score":4,"creation_date":1373284522,"post_id":17525757,"comment_id":25484812,"body_markdown":"Pretty dangerous implementation, but for excercise ok. Recursion is usually used a lot while teaching, but shouldn&#39;t be used in  the real world, if you don&#39;t know the maximum recursion depth. You pretty easyly run into a StackOverflow Error, when the depth depends on some input data. This detail is usually omitted at universities or programming courses.","body":"Pretty dangerous implementation, but for excercise ok. Recursion is usually used a lot while teaching, but shouldn&#39;t be used in  the real world, if you don&#39;t know the maximum recursion depth. You pretty easyly run into a StackOverflow Error, when the depth depends on some input data. This detail is usually omitted at universities or programming courses."}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373284506,"creation_date":1373283965,"answer_id":17525794,"question_id":17525757,"body_markdown":"This should work\r\n\r\n\tstatic void reverse(List list, int p) {\r\n\t\tif (p == list.size() / 2) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tObject o1 = list.get(p);\r\n\t\tObject o2 = list.get(list.size() - p - 1);\r\n\t\tlist.set(p, o2);\r\n\t\tlist.set(list.size() - p - 1, o1);\r\n\t\treverse(list, p + 1);\r\n\t}\r\n\r\nthough to be efficient with LinkedList it should be refactored to use ListIterator\r\n","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>This should work</p>\n\n<pre><code>static void reverse(List list, int p) {\n    if (p == list.size() / 2) {\n        return;\n    }\n    Object o1 = list.get(p);\n    Object o2 = list.get(list.size() - p - 1);\n    list.set(p, o2);\n    list.set(list.size() - p - 1, o1);\n    reverse(list, p + 1);\n}\n</code></pre>\n\n<p>though to be efficient with LinkedList it should be refactored to use ListIterator</p>\n"},{"comments":[{"owner":{"account_id":480008,"reputation":3745,"user_id":892994,"accept_rate":71,"display_name":"erencan"},"score":0,"creation_date":1373285673,"post_id":17525891,"comment_id":25485423,"body_markdown":"+1 for good algorithm. However, you should set the head node for reversed linked list. startNode will be same as head of list after calling `reverse(null, startNode);`  and it is impossible to find head of the List.","body":"+1 for good algorithm. However, you should set the head node for reversed linked list. startNode will be same as head of list after calling <code>reverse(null, startNode);</code>  and it is impossible to find head of the List."},{"owner":{"account_id":1308022,"reputation":9735,"user_id":1256583,"display_name":"darijan"},"score":0,"creation_date":1373287216,"post_id":17525891,"comment_id":25486377,"body_markdown":"tm99 it does work. It&#39;s just that the startNode is now last. Check this test example: http://pastebin.com/JxyDLHab","body":"tm99 it does work. It&#39;s just that the startNode is now last. Check this test example: <a href=\"http://pastebin.com/JxyDLHab\" rel=\"nofollow noreferrer\">pastebin.com/JxyDLHab</a>"},{"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"score":0,"creation_date":1381610857,"post_id":17525891,"comment_id":28649726,"body_markdown":"Posted my solution instead","body":"Posted my solution instead"}],"tags":[],"owner":{"account_id":1308022,"reputation":9735,"user_id":1256583,"display_name":"darijan"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1373287110,"creation_date":1373284270,"answer_id":17525891,"question_id":17525757,"body_markdown":"Tested, it works (assuming you have your own implementation of a linked list with `Node`s that know the `next` node).\r\n\r\n    public static void reverse(Node previous, Node current) {\r\n\t\t//if there is next node...\r\n\t    if (current.next != null) {\r\n\t        //...go forth and pwn\r\n\t        reverse(current, current.next);\r\n\t    }\r\n\t\t\r\n\t\tif (previous == null) {\r\n\t        // this was the start node\r\n\t\t\tcurrent.next= null;\r\n\t    } else {\r\n\t        //reverse\r\n\t        current.next= previous;\r\n\t    }   \r\n\t}\r\n\r\nYou call it with\r\n\r\n    reverse(null, startNode);","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>Tested, it works (assuming you have your own implementation of a linked list with <code>Node</code>s that know the <code>next</code> node).</p>\n\n<pre><code>public static void reverse(Node previous, Node current) {\n    //if there is next node...\n    if (current.next != null) {\n        //...go forth and pwn\n        reverse(current, current.next);\n    }\n\n    if (previous == null) {\n        // this was the start node\n        current.next= null;\n    } else {\n        //reverse\n        current.next= previous;\n    }   \n}\n</code></pre>\n\n<p>You call it with</p>\n\n<pre><code>reverse(null, startNode);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2367760,"reputation":2249,"user_id":2073130,"accept_rate":80,"display_name":"lcn"},"score":0,"creation_date":1375508347,"post_id":17526004,"comment_id":26372549,"body_markdown":"Please don&#39;t joke around. If you can use the library `LinkedList`, why not use `Collection.reverse`? If you are not using the library, why not show us how `addLast` works? Please don&#39;t say you are gonna loop through the returned list.","body":"Please don&#39;t joke around. If you can use the library <code>LinkedList</code>, why not use <code>Collection.reverse</code>? If you are not using the library, why not show us how <code>addLast</code> works? Please don&#39;t say you are gonna loop through the returned list."},{"owner":{"account_id":1474146,"reputation":7887,"user_id":1384984,"accept_rate":100,"display_name":"tibtof"},"score":0,"creation_date":1375543458,"post_id":17526004,"comment_id":26380827,"body_markdown":"@Icn It&#39;s just an exercise of recursions. The implementation of the linked list is not the subject of this question, I only used `LinkedList` as an example.","body":"@Icn It&#39;s just an exercise of recursions. The implementation of the linked list is not the subject of this question, I only used <code>LinkedList</code> as an example."}],"tags":[],"owner":{"account_id":1474146,"reputation":7887,"user_id":1384984,"accept_rate":100,"display_name":"tibtof"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1373284624,"creation_date":1373284624,"answer_id":17526004,"question_id":17525757,"body_markdown":"The simplest method that I can think of it&#39;s:\r\n\r\n\tpublic static &lt;T&gt; void reverse( LinkedList&lt;T&gt; list )\r\n\t{\r\n\t\tif (list.size() &lt;= 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tT first = list.removeFirst();\r\n\t\treverse( list);\r\n\t\tlist.addLast( first );\r\n\t}","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>The simplest method that I can think of it's:</p>\n\n<pre><code>public static &lt;T&gt; void reverse( LinkedList&lt;T&gt; list )\n{\n    if (list.size() &lt;= 1) {\n        return;\n    }\n    T first = list.removeFirst();\n    reverse( list);\n    list.addLast( first );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136142,"reputation":638,"user_id":339453,"accept_rate":56,"display_name":"eddyxu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380937969,"creation_date":1380937969,"answer_id":19193165,"question_id":17525757,"body_markdown":"I am not familiar with Java, but here is a C++ version. After reversing the list, the head of list is still preserved, which means that the list can still be accessible from the old list head `List* h`.\r\n\r\n \r\n\r\n    void reverse(List* h) {\r\n        if (!h || !h-&gt;next) {\r\n          return;\r\n        }\r\n        if (!h-&gt;next-&gt;next) {\r\n          swap(h-&gt;value, h-&gt;next-&gt;value);\r\n          return;\r\n        }\r\n        auto next_of_next = h-&gt;next-&gt;next;\r\n        auto new_head = h-&gt;next;\r\n        reverse(h-&gt;next);\r\n        swap(h-&gt;value, new_head-&gt;value);\r\n        next_of_next-&gt;next = new_head;\r\n        h-&gt;next = new_head-&gt;next;\r\n        new_head-&gt;next = nullptr;\r\n      }\r\n","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>I am not familiar with Java, but here is a C++ version. After reversing the list, the head of list is still preserved, which means that the list can still be accessible from the old list head <code>List* h</code>.</p>\n\n<pre><code>void reverse(List* h) {\n    if (!h || !h-&gt;next) {\n      return;\n    }\n    if (!h-&gt;next-&gt;next) {\n      swap(h-&gt;value, h-&gt;next-&gt;value);\n      return;\n    }\n    auto next_of_next = h-&gt;next-&gt;next;\n    auto new_head = h-&gt;next;\n    reverse(h-&gt;next);\n    swap(h-&gt;value, new_head-&gt;value);\n    next_of_next-&gt;next = new_head;\n    h-&gt;next = new_head-&gt;next;\n    new_head-&gt;next = nullptr;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103429,"reputation":6646,"user_id":277023,"accept_rate":56,"display_name":"kellyfj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381610808,"creation_date":1381610808,"answer_id":19339053,"question_id":17525757,"body_markdown":"Try this code instead - it actually works\r\n\r\n        public static ListElement reverseListConstantStorage(ListElement head) {\r\n        return reverse(null,head);\r\n    }\r\n\r\n    private static ListElement reverse(ListElement previous, ListElement current) {\r\n        \r\n        ListElement newHead = null;\r\n        if (current.getNext() != null) {\r\n            newHead = reverse(current, current.getNext());\r\n        } else {//end of the list\r\n            newHead=current;\r\n            newHead.setNext(previous);\r\n        }\r\n\r\n        current.setNext(previous);        \r\n        return newHead;        \r\n    }","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>Try this code instead - it actually works</p>\n\n<pre><code>    public static ListElement reverseListConstantStorage(ListElement head) {\n    return reverse(null,head);\n}\n\nprivate static ListElement reverse(ListElement previous, ListElement current) {\n\n    ListElement newHead = null;\n    if (current.getNext() != null) {\n        newHead = reverse(current, current.getNext());\n    } else {//end of the list\n        newHead=current;\n        newHead.setNext(previous);\n    }\n\n    current.setNext(previous);        \n    return newHead;        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3815053,"reputation":1,"user_id":3164599,"display_name":"algoguru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388996693,"creation_date":1388995165,"answer_id":20945496,"question_id":17525757,"body_markdown":"    public static Node recurse2(Node node){\r\n        Node head =null;\r\n        if(node.next == null) return node;\r\n        Node previous=node, current = node.next;\r\n        head = recurse2(node.next);\r\n        current.next = previous;\r\n        previous.next = null;\r\n        return head;\r\n        \r\n    }\r\n\r\nWhile calling the function assign the return value as below:\r\n\r\n     list.head=recurse2(list.head);","title":"Recursion - Reverse LinkedList with void function return type","body":"<pre><code>public static Node recurse2(Node node){\n    Node head =null;\n    if(node.next == null) return node;\n    Node previous=node, current = node.next;\n    head = recurse2(node.next);\n    current.next = previous;\n    previous.next = null;\n    return head;\n\n}\n</code></pre>\n\n<p>While calling the function assign the return value as below:</p>\n\n<pre><code> list.head=recurse2(list.head);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4006879,"reputation":11,"user_id":3301337,"display_name":"Siddhahast Mohapatra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392204848,"creation_date":1392203811,"answer_id":21726422,"question_id":17525757,"body_markdown":"\r\n    public void recursiveDisplay(Link current){\r\n    \r\n            if(current== null)\r\n    \t       return ;\r\n            recursiveDisplay(current.next);\r\n            current.display();\r\n    }\r\n\t\t\r\n\t\r\n","title":"Recursion - Reverse LinkedList with void function return type","body":"<pre><code>public void recursiveDisplay(Link current){\n\n        if(current== null)\n           return ;\n        recursiveDisplay(current.next);\n        current.display();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3849580,"reputation":654,"user_id":3190073,"accept_rate":92,"display_name":"MrGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396990158,"creation_date":1396990158,"answer_id":22947867,"question_id":17525757,"body_markdown":"The function below is based on the chosen answer from darijan, all I did is adding 2 lines of code so that it&#39;d fit in the code you guys want to work:\r\n\r\n    public void reverse(Node previous, Node current) {\r\n    \t\t//if there is next node...\r\n    \t\tif (current.next != null) {\r\n    \t\t\t//...go forth and pwn\r\n    \t\t\treverse(current, current.next);\r\n    \t\t}\r\n    \t\telse this.head = current;/*end of the list &lt;-- This line alone would be the fix\r\n            since you will now have the former tail of the Linked List set as the new head*/\r\n    \t\t\r\n    \r\n    \t\tif (previous == null) {\r\n    \t\t\t// this was the start node\r\n    \t\t\tcurrent.next= null;\r\n    \t\t\tthis.tail = current; /*No need for that one if you&#39;re not using a Node in \r\n                your class to represent the last Node in the given list*/\r\n    \t\t} else {\r\n    \t\t\t//reverse\r\n    \t\t\tcurrent.next= previous;\r\n    \t\t}   \r\n    \t}\r\n\r\nAlso, I&#39;ve changed it to a non static function so then the way to use it would be: `myLinkedList.reverse(null, myLinkedList.head);`","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>The function below is based on the chosen answer from darijan, all I did is adding 2 lines of code so that it'd fit in the code you guys want to work:</p>\n\n<pre><code>public void reverse(Node previous, Node current) {\n        //if there is next node...\n        if (current.next != null) {\n            //...go forth and pwn\n            reverse(current, current.next);\n        }\n        else this.head = current;/*end of the list &lt;-- This line alone would be the fix\n        since you will now have the former tail of the Linked List set as the new head*/\n\n\n        if (previous == null) {\n            // this was the start node\n            current.next= null;\n            this.tail = current; /*No need for that one if you're not using a Node in \n            your class to represent the last Node in the given list*/\n        } else {\n            //reverse\n            current.next= previous;\n        }   \n    }\n</code></pre>\n\n<p>Also, I've changed it to a non static function so then the way to use it would be: <code>myLinkedList.reverse(null, myLinkedList.head);</code></p>\n"},{"tags":[],"owner":{"account_id":1140058,"reputation":39,"user_id":1124227,"accept_rate":100,"display_name":"Ajay Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421250788,"creation_date":1421250788,"answer_id":27947071,"question_id":17525757,"body_markdown":"Here is my version - void ReverseWithRecursion(Node currentNode) \r\n                   - It is method of LinkListDemo Class so head is accessible\r\n\r\n1. Base Case - If Node is null, then do nothing and return.\r\n               If Node-&gt;Next is null, &quot;Make it head&quot; and return.\r\n2. Other Case - Reverse the Next of currentNode.\r\n       \r\n\r\n        public void ReverseWithRecursion(Node currentNode){\r\n           if(currentNode == null) return;\r\n           if(currentNode.next == null) {head = currentNode; return;}\r\n\r\n           Node first = currentNode;\r\n           Node rest = currentNode.next;\r\n\r\n           RevereseWithRecursion(rest);\r\n\r\n           first.next.next = first;\r\n           first.next = null;\r\n        }\r\n\r\nYou Call it like this -\r\n\r\n    LinkListDemo ll = new LinkListDemo(); // assueme class is available\r\n    ll.insert(1);  // Assume method is available\r\n    ll.insert(2);\r\n    ll.insert(3);\r\n    ll.ReverseWithRecursion(ll.head);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>Here is my version - void ReverseWithRecursion(Node currentNode) \n                   - It is method of LinkListDemo Class so head is accessible</p>\n\n<ol>\n<li>Base Case - If Node is null, then do nothing and return.\n           If Node->Next is null, \"Make it head\" and return.</li>\n<li><p>Other Case - Reverse the Next of currentNode.</p>\n\n<pre><code>public void ReverseWithRecursion(Node currentNode){\n   if(currentNode == null) return;\n   if(currentNode.next == null) {head = currentNode; return;}\n\n   Node first = currentNode;\n   Node rest = currentNode.next;\n\n   RevereseWithRecursion(rest);\n\n   first.next.next = first;\n   first.next = null;\n}\n</code></pre></li>\n</ol>\n\n<p>You Call it like this -</p>\n\n<pre><code>LinkListDemo ll = new LinkListDemo(); // assueme class is available\nll.insert(1);  // Assume method is available\nll.insert(2);\nll.insert(3);\nll.ReverseWithRecursion(ll.head);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7064757,"reputation":17,"user_id":5408449,"display_name":"Venu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449893274,"creation_date":1449893274,"answer_id":34236150,"question_id":17525757,"body_markdown":"\tstatic StringBuilder reverseStr = new StringBuilder();\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tString str = &quot;9876543210&quot;;\r\n\t\treverse(str, str.length() - 1);\r\n\t}\r\n\r\n\tpublic static void reverse(String str, int index) {\r\n\t\tif (index &lt; 0) {\r\n\t\t\tSystem.out.println(reverseStr.toString());\r\n\t\t} else {\r\n\t\t\treverseStr.append(str.charAt(index));\r\n\t\t\treverse(str, index - 1);\r\n\t\t\tindex--;\r\n\t\t}\r\n\t}","title":"Recursion - Reverse LinkedList with void function return type","body":"<pre><code>static StringBuilder reverseStr = new StringBuilder();\n\npublic static void main(String args[]) {\n    String str = \"9876543210\";\n    reverse(str, str.length() - 1);\n}\n\npublic static void reverse(String str, int index) {\n    if (index &lt; 0) {\n        System.out.println(reverseStr.toString());\n    } else {\n        reverseStr.append(str.charAt(index));\n        reverse(str, index - 1);\n        index--;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15990376,"reputation":1,"user_id":11539732,"display_name":"Rishindra Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675430903,"creation_date":1675430773,"answer_id":75336367,"question_id":17525757,"body_markdown":"Given that you have a Node class as below:\r\n\r\n    public class Node\r\n    {\r\n        public int data;\r\n        public Node next;\r\n        public Node(int d)   //constructor.\r\n        {\r\n            data = d;\r\n            next = null;\r\n        }\r\n    }\r\n\r\nAnd a linkedList class where you have declared a head node, so that it can be accessed by the methods that you create inside LinkedList class. The method &#39;ReverseLinkedList&#39; takes a Node as an argument and reverses the ll.\r\n\r\nYou may do a dry run of the code by considering 1-&gt;2 as the linkedList. Where node = 1, node.next = 2.\r\n\r\n     public class LinkedList\r\n    {\r\n        public Node? head;  //head of list\r\n\r\n        public LinkedList()\r\n        {\r\n            head = null;\r\n        }\r\n \r\n\r\n        public void ReverseLinkedList(Node node)\r\n        {\r\n            if(node==null)\r\n            {\r\n                return;\r\n            }\r\n            if(node.next==null)\r\n            {\r\n                head = node;\r\n                return;\r\n            }\r\n            \r\n\r\n            ReverseLinkedList(node.next);   // node.next = rest of the linkedList\r\n\r\n            node.next.next = node;   // consider node as the first part of linkedList\r\n            node.next = null;\r\n\r\n        }\r\n\r\n        \r\n    }\r\n    \r\n\r\n  ","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>Given that you have a Node class as below:</p>\n<pre><code>public class Node\n{\n    public int data;\n    public Node next;\n    public Node(int d)   //constructor.\n    {\n        data = d;\n        next = null;\n    }\n}\n</code></pre>\n<p>And a linkedList class where you have declared a head node, so that it can be accessed by the methods that you create inside LinkedList class. The method 'ReverseLinkedList' takes a Node as an argument and reverses the ll.</p>\n<p>You may do a dry run of the code by considering 1-&gt;2 as the linkedList. Where node = 1, node.next = 2.</p>\n<pre><code> public class LinkedList\n{\n    public Node? head;  //head of list\n\n    public LinkedList()\n    {\n        head = null;\n    }\n\n\n    public void ReverseLinkedList(Node node)\n    {\n        if(node==null)\n        {\n            return;\n        }\n        if(node.next==null)\n        {\n            head = node;\n            return;\n        }\n        \n\n        ReverseLinkedList(node.next);   // node.next = rest of the linkedList\n\n        node.next.next = node;   // consider node as the first part of linkedList\n        node.next = null;\n\n    }\n\n    \n}\n</code></pre>\n"}],"owner":{"account_id":2988790,"reputation":1187,"user_id":2546848,"accept_rate":50,"display_name":"tmgr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5712,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17525891,"answer_count":11,"score":4,"last_activity_date":1675430903,"creation_date":1373283854,"question_id":17525757,"body_markdown":"I was trying to reverse a linked list using recursion. I got the solution, but can&#39;t get it to work for below question found on internet.\r\n\r\n&gt; Reverse a linked list using recursion but function should have void\r\n&gt; return type.\r\n\r\nI was able to implement the function with return type as **Node**. Below is my solution.\r\n\r\n    public static Node recursive(Node start) {\r\n    \t\t\r\n    \t// exit condition\r\n    \tif(start == null || start.next == null)\r\n    \t\treturn start;\r\n    \t\t\r\n    \tNode remainingNode = recursive(start.next);\r\n    \t\t\r\n    \tNode current = remainingNode;\r\n    \t\t\r\n    \twhile(current.next != null)\r\n    \t       current = current.next;\r\n    \t\t\r\n    \tcurrent.next = start;\r\n    \tstart.next = null;\r\n    \treturn remainingNode;\r\n     }\r\n\r\nI cannot imagine if there will be such a solution to this problem. \r\n\r\nAny suggestions ? ","title":"Recursion - Reverse LinkedList with void function return type","body":"<p>I was trying to reverse a linked list using recursion. I got the solution, but can't get it to work for below question found on internet.</p>\n\n<blockquote>\n  <p>Reverse a linked list using recursion but function should have void\n  return type.</p>\n</blockquote>\n\n<p>I was able to implement the function with return type as <strong>Node</strong>. Below is my solution.</p>\n\n<pre><code>public static Node recursive(Node start) {\n\n    // exit condition\n    if(start == null || start.next == null)\n        return start;\n\n    Node remainingNode = recursive(start.next);\n\n    Node current = remainingNode;\n\n    while(current.next != null)\n           current = current.next;\n\n    current.next = start;\n    start.next = null;\n    return remainingNode;\n }\n</code></pre>\n\n<p>I cannot imagine if there will be such a solution to this problem. </p>\n\n<p>Any suggestions ? </p>\n"},{"tags":["java","spring-boot","spring-rabbit"],"comments":[{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":0,"creation_date":1675425819,"post_id":75335151,"comment_id":132931339,"body_markdown":"Is the RabbitAutoConfiguration a class from your project or something you receive trough a dependency? Maybe this Question will help: https://stackoverflow.com/questions/30845711/disable-rabbitautoconfiguration-programmatically","body":"Is the RabbitAutoConfiguration a class from your project or something you receive trough a dependency? Maybe this Question will help: <a href=\"https://stackoverflow.com/questions/30845711/disable-rabbitautoconfiguration-programmatically\" title=\"disable rabbitautoconfiguration programmatically\">stackoverflow.com/questions/30845711/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675430749,"creation_date":1675430749,"answer_id":75336362,"question_id":75335151,"body_markdown":"It looks like RabbitMQ is disabled and that&#39;s actually a reason of the exception you get. Your code contains a bean that gets loaded (and autowired) in the test setup, that looks like this:\r\n\r\n\r\n```java\r\n@Component\r\npublic class MyMessageManager {\r\n   @Autowired\r\n   private RabbitTemplate rabbitTemplate;\r\n\r\n   public void doSomething() {\r\n      ....\r\n      rabbitTemplate.&lt;...&gt; // use the template \r\n   }\r\n}\r\n```\r\nWhen spring test creates the instance of this bean it should be able to inject something that looks like a rabbit template, but since you&#39;ve disabled it - there is no bean to be injected, hence the error.\r\n\r\nHow to solve it? \r\nWell, there are many different approaches:\r\n\r\n1. Use @MockBean in the test\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n        classes = {PDFService.class},\r\n        properties = {\r\n                &quot;spring.cloud.config.enabled=false&quot;,\r\n                &quot;spring.cloud.discovery.enabled=false&quot;,\r\n        })\r\n@EnableAutoConfiguration(exclude = {RabbitAutoConfiguration.class})\r\nclass PDFServiceTest {\r\n   ...\r\n   @MockBean RabbitTemplate template;\r\n```\r\nNow the mock of rabbit template will be injected into all the beans that need it.\r\n\r\n2. Refactor the code in a way that the class that uses RabbitTemplate won&#39;t be loaded. Usually it works well if you don&#39;t really want to test the functionality of that class.\r\n\r\n3. Don&#39;t disable Rabbit MQ, instead, try using Test Containers and start rabbit mq before the test, create an infra that will define everything you need to run the code and inject a real rabbit template that works with the test container of rabbit. This is good if you actually want to test the message sending/receiving mechanism\r\n\r\n\r\n","title":"How to disable RabbitMQ in a SpringBoot Test","body":"<p>It looks like RabbitMQ is disabled and that's actually a reason of the exception you get. Your code contains a bean that gets loaded (and autowired) in the test setup, that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyMessageManager {\n   @Autowired\n   private RabbitTemplate rabbitTemplate;\n\n   public void doSomething() {\n      ....\n      rabbitTemplate.&lt;...&gt; // use the template \n   }\n}\n</code></pre>\n<p>When spring test creates the instance of this bean it should be able to inject something that looks like a rabbit template, but since you've disabled it - there is no bean to be injected, hence the error.</p>\n<p>How to solve it?\nWell, there are many different approaches:</p>\n<ol>\n<li>Use @MockBean in the test</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n        classes = {PDFService.class},\n        properties = {\n                &quot;spring.cloud.config.enabled=false&quot;,\n                &quot;spring.cloud.discovery.enabled=false&quot;,\n        })\n@EnableAutoConfiguration(exclude = {RabbitAutoConfiguration.class})\nclass PDFServiceTest {\n   ...\n   @MockBean RabbitTemplate template;\n</code></pre>\n<p>Now the mock of rabbit template will be injected into all the beans that need it.</p>\n<ol start=\"2\">\n<li><p>Refactor the code in a way that the class that uses RabbitTemplate won't be loaded. Usually it works well if you don't really want to test the functionality of that class.</p>\n</li>\n<li><p>Don't disable Rabbit MQ, instead, try using Test Containers and start rabbit mq before the test, create an infra that will define everything you need to run the code and inject a real rabbit template that works with the test container of rabbit. This is good if you actually want to test the message sending/receiving mechanism</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675430885,"creation_date":1675424081,"question_id":75335151,"body_markdown":"I have a SpringBootTest\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(\r\n            webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n            classes = {PDFService.class},\r\n            properties = {\r\n                    &quot;spring.cloud.config.enabled=false&quot;,\r\n                    &quot;spring.cloud.discovery.enabled=false&quot;,\r\n            })\r\n    @EnableAutoConfiguration(exclude = {RabbitAutoConfiguration.class})\r\n    class PDFServiceTest {\r\n\r\nOn start I got this exception\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\n        No qualifying bean of type &#39;org.springframework.amqp.rabbit.core.RabbitTemplate&#39; available: \r\n        expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nHow can I  disable RabbitMQ in my Tests? Or mock it.","title":"How to disable RabbitMQ in a SpringBoot Test","body":"<p>I have a SpringBootTest</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n        classes = {PDFService.class},\n        properties = {\n                &quot;spring.cloud.config.enabled=false&quot;,\n                &quot;spring.cloud.discovery.enabled=false&quot;,\n        })\n@EnableAutoConfiguration(exclude = {RabbitAutoConfiguration.class})\nclass PDFServiceTest {\n</code></pre>\n<p>On start I got this exception</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: \n    No qualifying bean of type 'org.springframework.amqp.rabbit.core.RabbitTemplate' available: \n    expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>How can I  disable RabbitMQ in my Tests? Or mock it.</p>\n"},{"tags":["java","android","samsung","samsung-browser","samsung-internet"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1675430985,"post_id":75336249,"comment_id":132932821,"body_markdown":"What is your question? There is no requirement for a browser, email client, or anything else to support deeplinks at all, let alone by default.","body":"What is your question? There is no requirement for a browser, email client, or anything else to support deeplinks at all, let alone by default."},{"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"score":0,"creation_date":1675437174,"post_id":75336249,"comment_id":132934911,"body_markdown":"is there any way to enable this option programtically ?","body":"is there any way to enable this option programtically ?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1675437469,"post_id":75336249,"comment_id":132935007,"body_markdown":"I would be rather stunned if Samsung had some sort of API to allow arbitrary third-party apps to enable deeplinks. Even if they do, that API would be unique to their app and would not impact Firefox, Outlook, or other apps that do not support deeplinks at all (or not by default).","body":"I would be rather stunned if Samsung had some sort of API to allow arbitrary third-party apps to enable deeplinks. Even if they do, that API would be unique to their app and would not impact Firefox, Outlook, or other apps that do not support deeplinks at all (or not by default)."},{"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"score":0,"creation_date":1675441118,"post_id":75336249,"comment_id":132936358,"body_markdown":"Then what is the concept of deeplink if browser does not allow it?","body":"Then what is the concept of deeplink if browser does not allow it?"},{"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"score":0,"creation_date":1675441391,"post_id":75336249,"comment_id":132936442,"body_markdown":"There&#39;s an Api which give us URL, we open that url in default browser then user perform some authentication there and when the authentication is successful or unsuccessful a deep link is fired and it redirect back to our app where we recieve deeplink with code 200 in case of success or 400 in case of failure. So it is working fine in chrome but in samsung internet browser it does not return the correct deeplink instead it does navigate us back to our app but with wrong link which does not contain any status code. If we open that feature from settings of browser than it works correctly.","body":"There&#39;s an Api which give us URL, we open that url in default browser then user perform some authentication there and when the authentication is successful or unsuccessful a deep link is fired and it redirect back to our app where we recieve deeplink with code 200 in case of success or 400 in case of failure. So it is working fine in chrome but in samsung internet browser it does not return the correct deeplink instead it does navigate us back to our app but with wrong link which does not contain any status code. If we open that feature from settings of browser than it works correctly."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1675441931,"post_id":75336249,"comment_id":132936631,"body_markdown":"&quot;Then what is the concept of deeplink if browser does not allow it?&quot; -- different browsers and other clients will do different things. As you note, Chrome supports deeplinks by default. You will need some other mechanism for your authentication flow that will work in cases where the deeplink does not launch the app.","body":"&quot;Then what is the concept of deeplink if browser does not allow it?&quot; -- different browsers and other clients will do different things. As you note, Chrome supports deeplinks by default. You will need some other mechanism for your authentication flow that will work in cases where the deeplink does not launch the app."}],"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675430090,"creation_date":1675430090,"question_id":75336249,"body_markdown":"When the Samsung internet browser feature &quot;Open links in other apps&quot; is disabled then the browser does not return the correct deep link URL it should return links.xxxx.com which contains a success code instead it returns xxxx.com just with no success code. when &quot;Open links in other apps&quot; is turned on then it returns the correct URL. \r\n\r\n\r\n**Note: It does work as expected in Google Chrome.**","title":"Deeplinking not working on Samsung Internet default browser","body":"<p>When the Samsung internet browser feature &quot;Open links in other apps&quot; is disabled then the browser does not return the correct deep link URL it should return links.xxxx.com which contains a success code instead it returns xxxx.com just with no success code. when &quot;Open links in other apps&quot; is turned on then it returns the correct URL.</p>\n<p><strong>Note: It does work as expected in Google Chrome.</strong></p>\n"},{"tags":["java","class","methods","switch-statement"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1675430103,"post_id":75336190,"comment_id":132932546,"body_markdown":"Your design doesn&#39;t make much sense. What do you expect to happen if I were to choose 2 without choosing 1 first?","body":"Your design doesn&#39;t make much sense. What do you expect to happen if I were to choose 2 without choosing 1 first?"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1675430640,"post_id":75336190,"comment_id":132932706,"body_markdown":"Alternatively, you can check if the circle has already been created, and only then allow the user to select menu items 2 and 3. And yes, you need to create the circle outside of the `switch`, in a more general scope.","body":"Alternatively, you can check if the circle has already been created, and only then allow the user to select menu items 2 and 3. And yes, you need to create the circle outside of the <code>switch</code>, in a more general scope."},{"owner":{"account_id":26498717,"reputation":3,"user_id":20135996,"display_name":"Melvin Lee"},"score":0,"creation_date":1675656378,"post_id":75336190,"comment_id":132969069,"body_markdown":"Ah alright, thank you! Understand that the design itself doesn&#39;t make much sense, but am just trying out different things here to see what&#39;s works and what doesn&#39;t.","body":"Ah alright, thank you! Understand that the design itself doesn&#39;t make much sense, but am just trying out different things here to see what&#39;s works and what doesn&#39;t."}],"owner":{"account_id":26498717,"reputation":3,"user_id":20135996,"display_name":"Melvin Lee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675429863,"creation_date":1675429710,"question_id":75336190,"body_markdown":"I am currently trying to learn java.\r\n\r\nTo my current knowledge, I understand it is an OO-based language. I am trying to create a simple class &quot;Circle&quot; with basic parameters (radius, area).\r\n\r\nMain function:\r\n```\r\nimport java.util.*;\r\n\r\npublic class CircleApp\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint choice = 1;\r\n\t\twhile (choice!=4)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;==== Circle Computation =====&quot;);\r\n\t\t\tSystem.out.println(&quot;|1. Create a new circle \t |&quot;);\r\n\t\t\tSystem.out.println(&quot;|2. Print Area\t \t\t\t |&quot;);\r\n\t\t\tSystem.out.println(&quot;|3. Print circumference \t |&quot;);\r\n\t\t\tSystem.out.println(&quot;|4. Quit \t\t\t\t\t |&quot;);\r\n\t\t\tSystem.out.println(&quot;=============================&quot;);\r\n\t\t\tScanner sc1 = new Scanner(System.in);\r\n\t\t\tchoice = sc1.nextInt();\r\n\t\t\tswitch (choice)\r\n\t\t\t{\r\n\t\t\t\tcase 1:\r\n\t\t\t\t{\r\n\t\t\t\t\tint rad;\r\n\t\t\t\t\tSystem.out.println(&quot;Enter the radius to compute the area and circumference: \\n&quot;);\r\n\t\t\t\t\tScanner sc2 = new Scanner(System.in);\r\n\t\t\t\t\trad = sc2.nextInt();\r\n\t\t\t\t\tCircle circ1 = new Circle(rad);\r\n\t\t\t\t\tcirc1.setRadius(rad);\r\n\t\t\t\t\tcirc1.area();\r\n\t\t\t\t\tcirc1.printArea(circ1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 2:\r\n\t\t\t\t{\r\n\t\t\t\t\tcirc1.area();\r\n\t\t\t\t\tCircle.printArea(circ1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase 4:\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tdefault:\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Choice unknown&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nCircle class:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.Math;\r\n\r\npublic class Circle\r\n{\r\n\tprivate double radius; // radius of circle\r\n\tprivate double area;\r\n\tprivate double circumference;\r\n\tprivate static int numCircle;\r\n\tprivate static final double PI = 3.14159;\r\n\t// constructor\r\n\tpublic Circle(double rad)\r\n\t{\r\n\t\tthis.radius = rad;\r\n\t\tnumCircle++;\r\n\t}\r\n\tpublic Circle()\r\n\t{\r\n\t\tradius = 1.0;\r\n\t}\r\n\t// mutator method – set radius\r\n\tpublic void setRadius(double rad)\r\n\t{\r\n\t\tthis.radius = rad;\r\n\t}\r\n\t// accessor method – get radius\r\n\tpublic double getRadius()\r\n\t{\r\n\t\treturn this.radius;\r\n\t}\r\n\t// calculate area\r\n\tpublic double area()\r\n\t{\r\n\t\treturn area =  PI * Math.pow(radius, 2);\r\n\t}\r\n\t// calculate circumference\r\n\tpublic double circumference()\r\n\t{\r\n\t\treturn circumference = 2 * PI * radius;\r\n\t}\r\n\t// print area\r\n\tpublic static void printArea(Circle c)\r\n\t{\r\n\t\tSystem.out.println(&quot;Radius: &quot; + c.radius);\r\n\t\tSystem.out.println(&quot;Area: &quot; + c.area);\r\n\t}\r\n\t// print circumference\r\n\tpublic void printCircumference()\r\n\t{\r\n\t\tSystem.out.println(&quot;Radius: &quot; + radius);\r\n\t\tSystem.out.println(&quot;Circumference: &quot; + circumference);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nCurrently, I am trying to create an instance of class Circle within case 1 of my switch case. However, I am unable to get case 2 (calculate and print area) to run properly. While there is the simple workaround of initialising the object outside the switch case, I was wondering if there is a workaround if I were to initialise the object this way instead.\r\n\r\n\r\nI understand from other sources that the compiler may not respond well to such a scenario as the initialisation of the object is isolated to case 1, which is not guaranteed to be selected first either. Is there a work-around to the issue I am facing or must I initialize the object outside the switch case? Thank you!","title":"Initialising and interacting with class in separate switch-case statements","body":"<p>I am currently trying to learn java.</p>\n<p>To my current knowledge, I understand it is an OO-based language. I am trying to create a simple class &quot;Circle&quot; with basic parameters (radius, area).</p>\n<p>Main function:</p>\n<pre><code>import java.util.*;\n\npublic class CircleApp\n{\n    public static void main(String[] args)\n    {\n        int choice = 1;\n        while (choice!=4)\n        {\n            System.out.println(&quot;==== Circle Computation =====&quot;);\n            System.out.println(&quot;|1. Create a new circle      |&quot;);\n            System.out.println(&quot;|2. Print Area               |&quot;);\n            System.out.println(&quot;|3. Print circumference      |&quot;);\n            System.out.println(&quot;|4. Quit                     |&quot;);\n            System.out.println(&quot;=============================&quot;);\n            Scanner sc1 = new Scanner(System.in);\n            choice = sc1.nextInt();\n            switch (choice)\n            {\n                case 1:\n                {\n                    int rad;\n                    System.out.println(&quot;Enter the radius to compute the area and circumference: \\n&quot;);\n                    Scanner sc2 = new Scanner(System.in);\n                    rad = sc2.nextInt();\n                    Circle circ1 = new Circle(rad);\n                    circ1.setRadius(rad);\n                    circ1.area();\n                    circ1.printArea(circ1);\n                    break;\n                }\n                case 2:\n                {\n                    circ1.area();\n                    Circle.printArea(circ1);\n                    break;\n                }\n                case 4:\n                {\n                    break;\n                }\n                default:\n                {\n                    System.out.println(&quot;Choice unknown&quot;);\n                }\n            }\n        }\n        \n\n    }\n    \n}\n</code></pre>\n<p>Circle class:</p>\n<pre><code>import java.util.*;\nimport java.lang.Math;\n\npublic class Circle\n{\n    private double radius; // radius of circle\n    private double area;\n    private double circumference;\n    private static int numCircle;\n    private static final double PI = 3.14159;\n    // constructor\n    public Circle(double rad)\n    {\n        this.radius = rad;\n        numCircle++;\n    }\n    public Circle()\n    {\n        radius = 1.0;\n    }\n    // mutator method – set radius\n    public void setRadius(double rad)\n    {\n        this.radius = rad;\n    }\n    // accessor method – get radius\n    public double getRadius()\n    {\n        return this.radius;\n    }\n    // calculate area\n    public double area()\n    {\n        return area =  PI * Math.pow(radius, 2);\n    }\n    // calculate circumference\n    public double circumference()\n    {\n        return circumference = 2 * PI * radius;\n    }\n    // print area\n    public static void printArea(Circle c)\n    {\n        System.out.println(&quot;Radius: &quot; + c.radius);\n        System.out.println(&quot;Area: &quot; + c.area);\n    }\n    // print circumference\n    public void printCircumference()\n    {\n        System.out.println(&quot;Radius: &quot; + radius);\n        System.out.println(&quot;Circumference: &quot; + circumference);\n    }\n}\n\n</code></pre>\n<p>Currently, I am trying to create an instance of class Circle within case 1 of my switch case. However, I am unable to get case 2 (calculate and print area) to run properly. While there is the simple workaround of initialising the object outside the switch case, I was wondering if there is a workaround if I were to initialise the object this way instead.</p>\n<p>I understand from other sources that the compiler may not respond well to such a scenario as the initialisation of the object is isolated to case 1, which is not guaranteed to be selected first either. Is there a work-around to the issue I am facing or must I initialize the object outside the switch case? Thank you!</p>\n"},{"tags":["java","android","json","spring","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675338972,"post_id":75322695,"comment_id":132909675,"body_markdown":"As per @Yacine, you can&#39;t put a byte[] in JSON because to contains non-readable characters. it is standard practice to Base64 encode (to a readable character only) String so that it can be serialised to JSON.","body":"As per @Yacine, you can&#39;t put a byte[] in JSON because to contains non-readable characters. it is standard practice to Base64 encode (to a readable character only) String so that it can be serialised to JSON."}],"tags":[],"owner":{"account_id":21757037,"reputation":296,"user_id":16062235,"display_name":"Yacine"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675429844,"creation_date":1675338306,"answer_id":75322695,"question_id":75322644,"body_markdown":"the issue is with the serialization of the `byte[]` to JSON. The default serialization of a `byte[]` in Java will result in the string representation you have shown which is not a valid format for a binary image. \r\n\r\nTo correctly serialize the `byte[]` as a base64 encoded string, you can use a custom serializer/deserializer in your API. One option is to use the `Base64` class in Java to encode the `byte[]` as a string and then decode the string back to a `byte[]` during deserialization.","title":"JSON parse error: Cannot deserialize value of type `byte[]` from String","body":"<p>the issue is with the serialization of the <code>byte[]</code> to JSON. The default serialization of a <code>byte[]</code> in Java will result in the string representation you have shown which is not a valid format for a binary image.</p>\n<p>To correctly serialize the <code>byte[]</code> as a base64 encoded string, you can use a custom serializer/deserializer in your API. One option is to use the <code>Base64</code> class in Java to encode the <code>byte[]</code> as a string and then decode the string back to a <code>byte[]</code> during deserialization.</p>\n"}],"owner":{"account_id":8720587,"reputation":163,"user_id":6523875,"display_name":"StudentOfTheGame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675429844,"creation_date":1675338077,"question_id":75322644,"body_markdown":"I am developing an Android App with a Java Backend using Spring Data JPA. One of my classes represents a profile image and contains the following field:\r\n\r\n```\r\n @Lob\r\n    @Column(name = &quot;image&quot;)\r\n    private byte[] image;\r\n```\r\nWhen i invoke the Rest API that saves the above class the JSON request looks like this:\r\n```\r\n{&quot;image&quot;:&quot;[B@23bafb3&quot;}\r\n```\r\nThen the described error occurs. I have seen suggestions of declaring the image as string and then get the bytes but this does not seem a good practice to me.\r\n","title":"JSON parse error: Cannot deserialize value of type `byte[]` from String","body":"<p>I am developing an Android App with a Java Backend using Spring Data JPA. One of my classes represents a profile image and contains the following field:</p>\n<pre><code> @Lob\n    @Column(name = &quot;image&quot;)\n    private byte[] image;\n</code></pre>\n<p>When i invoke the Rest API that saves the above class the JSON request looks like this:</p>\n<pre><code>{&quot;image&quot;:&quot;[B@23bafb3&quot;}\n</code></pre>\n<p>Then the described error occurs. I have seen suggestions of declaring the image as string and then get the bytes but this does not seem a good practice to me.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":1236102,"reputation":11483,"user_id":1199662,"accept_rate":69,"display_name":"Droidman"},"score":0,"creation_date":1377297917,"post_id":18412936,"comment_id":27048365,"body_markdown":"@OliCharlesworth yep. Check my comment for arshajii&#39;s answer","body":"@OliCharlesworth yep. Check my comment for arshajii&#39;s answer"},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1377298013,"post_id":18412936,"comment_id":27048392,"body_markdown":"arshajii doesn&#39;t seem to have an answer...","body":"arshajii doesn&#39;t seem to have an answer..."},{"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"score":2,"creation_date":1377298255,"post_id":18412936,"comment_id":27048466,"body_markdown":"`||` is essentially the default operation of a case statement in the absence of `break`.","body":"<code>||</code> is essentially the default operation of a case statement in the absence of <code>break</code>."},{"owner":{"account_id":305390,"reputation":424,"user_id":615520,"accept_rate":72,"display_name":"SerotoninChase"},"score":1,"creation_date":1377298446,"post_id":18412936,"comment_id":27048519,"body_markdown":"Think about it this way - If switch had the same capability as if-else then why do we need both? It&#39;ll be redundant!! The idea of switch is to improve readability as opposed to writing spaghetti code with multiple if else blocks. Arguably switch also gives slightly a better performance due to its simplicity.","body":"Think about it this way - If switch had the same capability as if-else then why do we need both? It&#39;ll be redundant!! The idea of switch is to improve readability as opposed to writing spaghetti code with multiple if else blocks. Arguably switch also gives slightly a better performance due to its simplicity."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1377300481,"post_id":18412936,"comment_id":27048982,"body_markdown":"The Ada language does the exact sort of thing you&#39;re asking about--you&#39;d say `when Some_Value | Some_Other_Value =&gt;` in a `case` statement.  But the language doesn&#39;t use | as an operator, so there&#39;s no way this syntax could be ambiguous.  Using || for this purpose in C (Java, etc.) would make the syntax ambiguous, and it&#39;s not a good idea to have funky rules with exceptions (like || means one thing in an expression except that it means something different in a different context...).","body":"The Ada language does the exact sort of thing you&#39;re asking about--you&#39;d say <code>when Some_Value | Some_Other_Value =&gt;</code> in a <code>case</code> statement.  But the language doesn&#39;t use | as an operator, so there&#39;s no way this syntax could be ambiguous.  Using || for this purpose in C (Java, etc.) would make the syntax ambiguous, and it&#39;s not a good idea to have funky rules with exceptions (like || means one thing in an expression except that it means something different in a different context...)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1377301085,"post_id":18412936,"comment_id":27049110,"body_markdown":"Because it&#39;s redundant?","body":"Because it&#39;s redundant?"}],"answers":[{"comments":[{"owner":{"account_id":1829521,"reputation":951,"user_id":1661382,"accept_rate":72,"display_name":"AdamSpurgin"},"score":2,"creation_date":1377297921,"post_id":18412950,"comment_id":27048366,"body_markdown":"I get the feeling the asker knows this, but is wondering why this restriction is in place to begin with.","body":"I get the feeling the asker knows this, but is wondering why this restriction is in place to begin with."},{"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"score":1,"creation_date":1377298029,"post_id":18412950,"comment_id":27048396,"body_markdown":"@Maver1ck Probably because there&#39;s no need for it, since you can just use the fall-through. Although, this is allowed (and taken to an absurd extreme) in Scala.","body":"@Maver1ck Probably because there&#39;s no need for it, since you can just use the fall-through. Although, this is allowed (and taken to an absurd extreme) in Scala."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1377298070,"post_id":18412950,"comment_id":27048406,"body_markdown":"@Maver1ck It might be helpful then to modify the question to state that you know how you&#39;re supposed to do it within the given syntax, but you&#39;re just wondering why this isn&#39;t an acceptable alternative","body":"@Maver1ck It might be helpful then to modify the question to state that you know how you&#39;re supposed to do it within the given syntax, but you&#39;re just wondering why this isn&#39;t an acceptable alternative"},{"owner":{"account_id":3064637,"reputation":2333,"user_id":2596621,"display_name":"progrenhard"},"score":2,"creation_date":1377298081,"post_id":18412950,"comment_id":27048412,"body_markdown":"@Maver1ck &quot;since an expression is not a compile time constant, it is not allowed.&quot; because of this it can execute faster through easier compiler optimization in many cases. It&#39;s faster than if statements because of low level tricks and magic.","body":"@Maver1ck &quot;since an expression is not a compile time constant, it is not allowed.&quot; because of this it can execute faster through easier compiler optimization in many cases. It&#39;s faster than if statements because of low level tricks and magic."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1377299338,"post_id":18412950,"comment_id":27048745,"body_markdown":"@Maver1ck: It&#39;s also worth pointing out that `R.id.foo || R.id.bar` doesn&#39;t mean anything, in any context (assuming `foo` and `bar` aren&#39;t `boolean`).","body":"@Maver1ck: It&#39;s also worth pointing out that <code>R.id.foo || R.id.bar</code> doesn&#39;t mean anything, in any context (assuming <code>foo</code> and <code>bar</code> aren&#39;t <code>boolean</code>)."},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1637792554,"post_id":18412950,"comment_id":123923943,"body_markdown":"A compiler could easily interpret `case 0 || 1` (or some variation of that) as two constants in a lookup table. For example, Java 14 now has the syntax `case 0, 1 -&gt; ...` followed by an expression, a code block, or a throw.","body":"A compiler could easily interpret <code>case 0 || 1</code> (or some variation of that) as two constants in a lookup table. For example, Java 14 now has the syntax <code>case 0, 1 -&gt; ...</code> followed by an expression, a code block, or a throw."}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":6,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1377301127,"creation_date":1377297763,"answer_id":18412950,"question_id":18412936,"body_markdown":"&gt; What are the backgrounds for a switch-case to not accept this operator?\r\n\r\nBecause `case` requires constant expression as its value. And since an `||` expression is not a compile time constant, it is not allowed.\r\n\r\nFrom [JLS Section 14.11][1]:\r\n\r\nSwitch label should have following syntax:\r\n\r\n&gt; SwitchLabel:  \r\n&gt;     case ConstantExpression :  \r\n&gt;      case EnumConstantName :  \r\n&gt;      default :\r\n\r\n&lt;hr /&gt;\r\n\r\nUnder the hood:\r\n--------------\r\n\r\nThe reason behind allowing just constant expression with cases can be understood from the [JVM Spec Section 3.10 - Compiling Switches][2]:\r\n\r\n&gt; Compilation of switch statements uses the **tableswitch** and **lookupswitch** instructions. The tableswitch instruction is used when the cases of the switch can be efficiently represented as indices into a table of target offsets. The default target of the switch is used if the value of the expression of the switch falls outside the range of valid indices. \r\n\r\nSo, for the cases label to be used by `tableswitch` as a index into the table of target offsets, the value of the case should be known at compile time. That is only possible if the case value is a constant expression. And `||` expression will be evaluated at runtime, and the value will only be available at that time.\r\n\r\nFrom the same JVM section, the following `switch-case`:\r\n\r\n    switch (i) {\r\n        case 0:  return  0;\r\n        case 1:  return  1;\r\n        case 2:  return  2;\r\n        default: return -1;\r\n    }\r\n\r\nis compiled to:\r\n\r\n    0   iload_1             // Push local variable 1 (argument i)\r\n    1   tableswitch 0 to 2: // Valid indices are 0 through 2  (NOTICE This instruction?)\r\n          0: 28             // If i is 0, continue at 28\r\n          1: 30             // If i is 1, continue at 30\r\n          2: 32             // If i is 2, continue at 32\r\n          default:34        // Otherwise, continue at 34\r\n    28  iconst_0            // i was 0; push int constant 0...\r\n    29  ireturn             // ...and return it\r\n    30  iconst_1            // i was 1; push int constant 1...\r\n    31  ireturn             // ...and return it\r\n    32  iconst_2            // i was 2; push int constant 2...\r\n    33  ireturn             // ...and return it\r\n    34  iconst_m1           // otherwise push int constant -1...\r\n    35  ireturn             // ...and return it\r\n\r\nSo, if the `case` value is not a constant expressions, compiler won&#39;t be able to index it into the table of instruction pointers, using `tableswitch` instruction.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.10","title":"OR operator in switch-case?","body":"<blockquote>\n  <p>What are the backgrounds for a switch-case to not accept this operator?</p>\n</blockquote>\n\n<p>Because <code>case</code> requires constant expression as its value. And since an <code>||</code> expression is not a compile time constant, it is not allowed.</p>\n\n<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.11\" rel=\"noreferrer\">JLS Section 14.11</a>:</p>\n\n<p>Switch label should have following syntax:</p>\n\n<blockquote>\n  <p>SwitchLabel:<br>\n      case ConstantExpression :<br>\n       case EnumConstantName :<br>\n       default :</p>\n</blockquote>\n\n<hr />\n\n<h2>Under the hood:</h2>\n\n<p>The reason behind allowing just constant expression with cases can be understood from the <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-3.html#jvms-3.10\" rel=\"noreferrer\">JVM Spec Section 3.10 - Compiling Switches</a>:</p>\n\n<blockquote>\n  <p>Compilation of switch statements uses the <strong>tableswitch</strong> and <strong>lookupswitch</strong> instructions. The tableswitch instruction is used when the cases of the switch can be efficiently represented as indices into a table of target offsets. The default target of the switch is used if the value of the expression of the switch falls outside the range of valid indices. </p>\n</blockquote>\n\n<p>So, for the cases label to be used by <code>tableswitch</code> as a index into the table of target offsets, the value of the case should be known at compile time. That is only possible if the case value is a constant expression. And <code>||</code> expression will be evaluated at runtime, and the value will only be available at that time.</p>\n\n<p>From the same JVM section, the following <code>switch-case</code>:</p>\n\n<pre><code>switch (i) {\n    case 0:  return  0;\n    case 1:  return  1;\n    case 2:  return  2;\n    default: return -1;\n}\n</code></pre>\n\n<p>is compiled to:</p>\n\n<pre><code>0   iload_1             // Push local variable 1 (argument i)\n1   tableswitch 0 to 2: // Valid indices are 0 through 2  (NOTICE This instruction?)\n      0: 28             // If i is 0, continue at 28\n      1: 30             // If i is 1, continue at 30\n      2: 32             // If i is 2, continue at 32\n      default:34        // Otherwise, continue at 34\n28  iconst_0            // i was 0; push int constant 0...\n29  ireturn             // ...and return it\n30  iconst_1            // i was 1; push int constant 1...\n31  ireturn             // ...and return it\n32  iconst_2            // i was 2; push int constant 2...\n33  ireturn             // ...and return it\n34  iconst_m1           // otherwise push int constant -1...\n35  ireturn             // ...and return it\n</code></pre>\n\n<p>So, if the <code>case</code> value is not a constant expressions, compiler won't be able to index it into the table of instruction pointers, using <code>tableswitch</code> instruction.</p>\n"},{"comments":[{"owner":{"account_id":6365399,"reputation":6487,"user_id":4939530,"accept_rate":73,"display_name":"cup_of"},"score":9,"creation_date":1553107458,"post_id":18412971,"comment_id":97267282,"body_markdown":"hey @BalusC this answer actually helped me with my application so I suggest to keep this &quot;answer&quot;","body":"hey @BalusC this answer actually helped me with my application so I suggest to keep this &quot;answer&quot;"}],"tags":[],"owner":{"account_id":1643981,"reputation":2194,"user_id":1515891,"accept_rate":100,"display_name":"spt025"},"comment_count":1,"down_vote_count":3,"up_vote_count":123,"is_accepted":false,"score":120,"last_activity_date":1377297927,"creation_date":1377297927,"answer_id":18412971,"question_id":18412936,"body_markdown":"dude do like this \r\n\r\n        case R.id.someValue :\r\n        case R.id.someOtherValue :\r\n           //do stuff\r\n\r\nThis is same as using OR operator between two values \r\nBecause of this case operator isn&#39;t there in switch case","title":"OR operator in switch-case?","body":"<p>dude do like this </p>\n\n<pre><code>    case R.id.someValue :\n    case R.id.someOtherValue :\n       //do stuff\n</code></pre>\n\n<p>This is same as using OR operator between two values \nBecause of this case operator isn't there in switch case</p>\n"},{"tags":[],"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377299293,"creation_date":1377299293,"answer_id":18413163,"question_id":18412936,"body_markdown":"Switch is not same as if-else-if. \r\n\r\nSwitch is used when there is one expression that gets evaluated to a value and that value can be one of predefined set of values. If you need to perform multiple boolean / comparions operations run-time then if-else-if needs to be used.\r\n\r\n\r\n\r\n\r\n ","title":"OR operator in switch-case?","body":"<p>Switch is not same as if-else-if. </p>\n\n<p>Switch is used when there is one expression that gets evaluated to a value and that value can be one of predefined set of values. If you need to perform multiple boolean / comparions operations run-time then if-else-if needs to be used.</p>\n"},{"tags":[],"owner":{"account_id":10995735,"reputation":526,"user_id":8078014,"display_name":"Breimer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511010888,"creation_date":1511010888,"answer_id":47366512,"question_id":18412936,"body_markdown":"    foreach (array(&#39;one&#39;, &#39;two&#39;, &#39;three&#39;) as $v) {\r\n        switch ($v) {\r\n            case (function ($v) {\r\n                if ($v == &#39;two&#39;) return $v;\r\n                return &#39;one&#39;;\r\n            })($v):\r\n                echo &quot;$v min \\n&quot;;\r\n                break;\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nthis works fine for languages supporting enclosures\r\n\r\n","title":"OR operator in switch-case?","body":"<pre><code>foreach (array('one', 'two', 'three') as $v) {\n    switch ($v) {\n        case (function ($v) {\n            if ($v == 'two') return $v;\n            return 'one';\n        })($v):\n            echo \"$v min \\n\";\n            break;\n\n\n    }\n}\n</code></pre>\n\n<p>this works fine for languages supporting enclosures</p>\n"},{"comments":[{"owner":{"account_id":86810,"reputation":7271,"user_id":241153,"accept_rate":60,"display_name":"serraosays"},"score":1,"creation_date":1554952694,"post_id":52023566,"comment_id":97940876,"body_markdown":"Never thought of it quite like this, interesting way to do it.","body":"Never thought of it quite like this, interesting way to do it."},{"owner":{"account_id":6555092,"reputation":1946,"user_id":5068021,"accept_rate":75,"display_name":"Hilaj S L"},"score":2,"creation_date":1559126812,"post_id":52023566,"comment_id":99321100,"body_markdown":"Or you can use like this also, case 0, 1: //if the case 0 || 1","body":"Or you can use like this also, case 0, 1: //if the case 0 || 1"},{"owner":{"account_id":1700456,"reputation":1142,"user_id":5087792,"display_name":"Libin Thomas"},"score":1,"creation_date":1568972068,"post_id":52023566,"comment_id":102453686,"body_markdown":"This should be the correct answer. even android studio  will show  a suggestion to a merge with duplicate branch","body":"This should be the correct answer. even android studio  will show  a suggestion to a merge with duplicate branch"},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1637792258,"post_id":52023566,"comment_id":123923853,"body_markdown":"Java 14 has a new switch statement with syntax like `case 0, 1 -&gt; ...` which can evaluate to an expression, execute a code block, or throw.","body":"Java 14 has a new switch statement with syntax like <code>case 0, 1 -&gt; ...</code> which can evaluate to an expression, execute a code block, or throw."}],"tags":[],"owner":{"account_id":6555092,"reputation":1946,"user_id":5068021,"accept_rate":75,"display_name":"Hilaj S L"},"comment_count":4,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1535267546,"creation_date":1535262857,"answer_id":52023566,"question_id":18412936,"body_markdown":"You cannot use || operators in between 2 case. But you can use multiple case values without using a break between them. The program will then jump to the respective case and then it will look for code to execute until it finds a &quot;break&quot;. As a result these cases will share the same code.\r\n\r\n    switch(value) \r\n    { \r\n        case 0: \r\n        case 1: \r\n            // do stuff for if case 0 || case 1 \r\n            break; \r\n        // other cases \r\n        default: \r\n            break; \r\n    }","title":"OR operator in switch-case?","body":"<p>You cannot use || operators in between 2 case. But you can use multiple case values without using a break between them. The program will then jump to the respective case and then it will look for code to execute until it finds a \"break\". As a result these cases will share the same code.</p>\n\n<pre><code>switch(value) \n{ \n    case 0: \n    case 1: \n        // do stuff for if case 0 || case 1 \n        break; \n    // other cases \n    default: \n        break; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21059950,"reputation":49,"user_id":15478539,"display_name":"Naveed Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1618979349,"creation_date":1618979349,"answer_id":67189295,"question_id":18412936,"body_markdown":"I do not know a best approach but I do it as\r\n\r\n```\r\ncase &#39;E&#39;:\r\ncase &#39;e&#39;:\r\n   System.exit(0);\r\n   break;\r\n```","title":"OR operator in switch-case?","body":"<p>I do not know a best approach but I do it as</p>\n<pre><code>case 'E':\ncase 'e':\n   System.exit(0);\n   break;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1652647278,"post_id":72251417,"comment_id":127650963,"body_markdown":"Please write your answer in English, as Stack Overflow is an [English-only site](//meta.stackoverflow.com/a/297680).","body":"Please write your answer in English, as Stack Overflow is an <a href=\"//meta.stackoverflow.com/a/297680\">English-only site</a>."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":2,"creation_date":1652647354,"post_id":72251417,"comment_id":127650980,"body_markdown":"While this code may solve the question, [including an explanation](//meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please [edit] your answer to add explanations and give an indication of what limitations and assumptions apply.","body":"While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/72251417/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}],"tags":[],"owner":{"account_id":11492539,"reputation":1,"user_id":8422977,"display_name":"Владимир Комяк"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652647689,"creation_date":1652641666,"answer_id":72251417,"question_id":18412936,"body_markdown":"helps in some cases.\r\n\r\n    switch(true){\r\n     case a == b: break;\r\n     case a == 2 || a == 3: break;\r\n     default: break;\r\n    } ","title":"OR operator in switch-case?","body":"<p>helps in some cases.</p>\n<pre><code>switch(true){\n case a == b: break;\n case a == 2 || a == 3: break;\n default: break;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9607071,"reputation":384,"user_id":7132774,"display_name":"Dave Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377444,"creation_date":1659377444,"answer_id":73197897,"question_id":18412936,"body_markdown":"You can still do it like this.\r\n```\r\nswitch (v.getId()) {\r\n    case R.id.someValue: case R.id.someOtherValue:\r\n        // do stuff\r\n        break;\r\n}\r\n```","title":"OR operator in switch-case?","body":"<p>You can still do it like this.</p>\n<pre><code>switch (v.getId()) {\n    case R.id.someValue: case R.id.someOtherValue:\n        // do stuff\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15944383,"reputation":21,"user_id":11505381,"display_name":"makeussrgreatagain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675429695,"creation_date":1675429695,"answer_id":75336187,"question_id":18412936,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\n[Since Java 12][1] and on it is possible to have multiple values in cases:\r\n``` java\r\n@Override\r\npublic void onClick(View v) {\r\n    switch (v.getId()) {\r\n        case R.id.someValue, R.id.someOtherValue:\r\n            // do stuff\r\n            break;\r\n    }\r\n}\r\n```\r\n\r\nOR\r\n\r\n```\r\n@Override\r\npublic void onClick(View v) {\r\n    switch (v.getId()) {\r\n        case R.id.someValue, R.id.someOtherValue -&gt; {/* do stuff */}\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/325","title":"OR operator in switch-case?","body":"\n<p><a href=\"https://openjdk.org/jeps/325\" rel=\"nofollow noreferrer\">Since Java 12</a> and on it is possible to have multiple values in cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onClick(View v) {\n    switch (v.getId()) {\n        case R.id.someValue, R.id.someOtherValue:\n            // do stuff\n            break;\n    }\n}\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onClick(View v) {\n    switch (v.getId()) {\n        case R.id.someValue, R.id.someOtherValue -&gt; {/* do stuff */}\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1236102,"reputation":11483,"user_id":1199662,"accept_rate":69,"display_name":"Droidman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242384,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":18412950,"answer_count":9,"score":67,"last_activity_date":1675429695,"creation_date":1377297686,"question_id":18412936,"body_markdown":"Let&#39;s take a simple switch-case that looks like:\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.someValue :\r\n            case R.id.someOtherValue:\r\n                // do stuff\r\n                break;\r\n        }\r\n    }\r\n\r\nI wonder why it is not allowed to use the `||` operator? Like\r\n\r\n    switch (v.getId()) {\r\n        case R.id.someValue || R.id.someOtherValue:\r\n            // do stuff\r\n            break;\r\n    }\r\n\r\nThe `switch-case` construct is pretty similar to an `if-else` statement, you can use the OR operator in an `if` however. What are the backgrounds for a `switch-case` to not accept this operator?","title":"OR operator in switch-case?","body":"<p>Let's take a simple switch-case that looks like:</p>\n\n<pre><code>@Override\npublic void onClick(View v) {\n    switch (v.getId()) {\n        case R.id.someValue :\n        case R.id.someOtherValue:\n            // do stuff\n            break;\n    }\n}\n</code></pre>\n\n<p>I wonder why it is not allowed to use the <code>||</code> operator? Like</p>\n\n<pre><code>switch (v.getId()) {\n    case R.id.someValue || R.id.someOtherValue:\n        // do stuff\n        break;\n}\n</code></pre>\n\n<p>The <code>switch-case</code> construct is pretty similar to an <code>if-else</code> statement, you can use the OR operator in an <code>if</code> however. What are the backgrounds for a <code>switch-case</code> to not accept this operator?</p>\n"},{"tags":["java","xml","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":1520327,"reputation":3362,"user_id":1420168,"display_name":"nif"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402050122,"creation_date":1402050122,"answer_id":24079525,"question_id":24079296,"body_markdown":"JAXB ignores the `required` attribute, see [this question and answer][1]. \r\n\r\nHowever, if you create a XSD schema from your classes using `schemagen`, the `required` attribute of the annotation is honored and the XML element will be required according to the schema.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2669632/jaxb-required-true-doesnt-seem-to-require","title":"JAXB Marshal missing Attribute/Element","body":"<p>JAXB ignores the <code>required</code> attribute, see <a href=\"https://stackoverflow.com/questions/2669632/jaxb-required-true-doesnt-seem-to-require\">this question and answer</a>. </p>\n\n<p>However, if you create a XSD schema from your classes using <code>schemagen</code>, the <code>required</code> attribute of the annotation is honored and the XML element will be required according to the schema.</p>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1528118291,"creation_date":1402051502,"answer_id":24079937,"question_id":24079296,"body_markdown":"## JAXB &amp; `null`\r\n\r\nBy default a JAXB implementation will not marshal an attribute or element for a `null` value.  You can have JAXB generate an element that contains the `xsi:nil=&quot;true&quot;` attribute using the following:\r\n\r\n    @XmlElement(nillable=true)\r\n\r\n## Empty Elements\r\n\r\nAn empty element is not a valid representation for null.  For example if your element was of type `xs:dateTime` and the corresponding element was empty, then that document would not validate against the XML schema.","title":"JAXB Marshal missing Attribute/Element","body":"<h2>JAXB &amp; <code>null</code></h2>\n\n<p>By default a JAXB implementation will not marshal an attribute or element for a <code>null</code> value.  You can have JAXB generate an element that contains the <code>xsi:nil=\"true\"</code> attribute using the following:</p>\n\n<pre><code>@XmlElement(nillable=true)\n</code></pre>\n\n<h2>Empty Elements</h2>\n\n<p>An empty element is not a valid representation for null.  For example if your element was of type <code>xs:dateTime</code> and the corresponding element was empty, then that document would not validate against the XML schema.</p>\n"},{"tags":[],"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675429468,"creation_date":1675429468,"answer_id":75336149,"question_id":24079296,"body_markdown":"I experienced same problem with field missing when marshaled. The field was not `null` (originally).&lt;br&gt;\r\nWhen debugged I find that in `jaxbContext.typeMap.myFieldParrentClass.value.properties.singleElementLeafPropertyForMyField.hiddenByOverride = true`.&lt;br&gt;\r\nI had parent class and child classes. Field was both in parent and child classes and correct value from parent would be overwritten by `null` from child class field.","title":"JAXB Marshal missing Attribute/Element","body":"<p>I experienced same problem with field missing when marshaled. The field was not <code>null</code> (originally).<br>\nWhen debugged I find that in <code>jaxbContext.typeMap.myFieldParrentClass.value.properties.singleElementLeafPropertyForMyField.hiddenByOverride = true</code>.<br>\nI had parent class and child classes. Field was both in parent and child classes and correct value from parent would be overwritten by <code>null</code> from child class field.</p>\n"}],"owner":{"account_id":329756,"reputation":18639,"user_id":653457,"accept_rate":89,"display_name":"Luke Vo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5197,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24079937,"answer_count":3,"score":4,"last_activity_date":1675429468,"creation_date":1402049332,"question_id":24079296,"body_markdown":"I have the following JAXB object:\r\n\r\n    @XmlRootElement(name = &quot;AuthEntry&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class AuthEntry {\r\n    \r\n        @XmlElement(name = &quot;Account&quot;)\r\n        private Account account;\r\n        \r\n        @XmlElement(name = &quot;Key&quot;, required = true)\r\n        private String key;\r\n        \r\n        @XmlElement(name = &quot;Expire&quot;, required = true)\r\n        private Date expire;\r\n\r\n        // Getter &amp; Setter\r\n        // ...\r\n\r\nI use the JAXB `Marshaller` to convert the object to XML:\r\n\r\n    public static &lt;T&gt; String marshalObject(T pObject) throws JAXBException, IOException {\r\n        JAXBContext context = JAXBContext.newInstance(pObject.getClass());\r\n\r\n        Marshaller m = context.createMarshaller();\r\n\r\n        try (ByteArrayOutputStream stream = new ByteArrayOutputStream()) {\r\n            m.marshal(pObject, stream);\r\n            stream.flush();\r\n            \r\n            return new String(stream.toByteArray());\r\n        }\r\n    }\r\n\r\nIt runs smoothly without any exception, however, the result is always missing the Element `Key`. I tried to change it to Attribute instead, but it doesn&#39;t work too. Here is an example output:\r\n\r\n    &lt;AuthEntry xmlns:ns2=&quot;urn:schemas-microsoft-com:sql:SqlRowSet3&quot;&gt;\r\n        &lt;Account ID=&quot;1&quot; Username=&quot;datvm&quot; Password=&quot;datvm&quot; FullName=&quot;NullPtrExc&quot; Active=&quot;true&quot;/&gt;\r\n        &lt;Expire&gt;2014-06-06T20:07:32.428+07:00&lt;/Expire&gt;\r\n    &lt;/AuthEntry&gt;\r\n\r\nI have tried to change the `Key` name to another, such as `AuthKey`, but it is still missing. What did I do wrong?\r\n\r\n**EDIT** I found the problem, it is because my `Key` value is `null`. If it contains value, then it is written to the XML. However, can you please explain why in the XMLElement, I wrote `required = true`, yet it still missing when it is null?","title":"JAXB Marshal missing Attribute/Element","body":"<p>I have the following JAXB object:</p>\n\n<pre><code>@XmlRootElement(name = \"AuthEntry\")\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class AuthEntry {\n\n    @XmlElement(name = \"Account\")\n    private Account account;\n\n    @XmlElement(name = \"Key\", required = true)\n    private String key;\n\n    @XmlElement(name = \"Expire\", required = true)\n    private Date expire;\n\n    // Getter &amp; Setter\n    // ...\n</code></pre>\n\n<p>I use the JAXB <code>Marshaller</code> to convert the object to XML:</p>\n\n<pre><code>public static &lt;T&gt; String marshalObject(T pObject) throws JAXBException, IOException {\n    JAXBContext context = JAXBContext.newInstance(pObject.getClass());\n\n    Marshaller m = context.createMarshaller();\n\n    try (ByteArrayOutputStream stream = new ByteArrayOutputStream()) {\n        m.marshal(pObject, stream);\n        stream.flush();\n\n        return new String(stream.toByteArray());\n    }\n}\n</code></pre>\n\n<p>It runs smoothly without any exception, however, the result is always missing the Element <code>Key</code>. I tried to change it to Attribute instead, but it doesn't work too. Here is an example output:</p>\n\n<pre><code>&lt;AuthEntry xmlns:ns2=\"urn:schemas-microsoft-com:sql:SqlRowSet3\"&gt;\n    &lt;Account ID=\"1\" Username=\"datvm\" Password=\"datvm\" FullName=\"NullPtrExc\" Active=\"true\"/&gt;\n    &lt;Expire&gt;2014-06-06T20:07:32.428+07:00&lt;/Expire&gt;\n&lt;/AuthEntry&gt;\n</code></pre>\n\n<p>I have tried to change the <code>Key</code> name to another, such as <code>AuthKey</code>, but it is still missing. What did I do wrong?</p>\n\n<p><strong>EDIT</strong> I found the problem, it is because my <code>Key</code> value is <code>null</code>. If it contains value, then it is written to the XML. However, can you please explain why in the XMLElement, I wrote <code>required = true</code>, yet it still missing when it is null?</p>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":6200,"reputation":34664,"user_id":10335,"accept_rate":80,"display_name":"neves"},"score":5,"creation_date":1555109829,"post_id":778933,"comment_id":98009061,"body_markdown":"Reader beware: important to notice that the question is asking about log4j, not log4j2.","body":"Reader beware: important to notice that the question is asking about log4j, not log4j2."}],"answers":[{"comments":[{"owner":{"account_id":27244,"reputation":3836,"user_id":71700,"accept_rate":75,"display_name":"jconlin"},"score":0,"creation_date":1240496497,"post_id":778955,"comment_id":592447,"body_markdown":"Brian - not exactly what I was looking for, but I think it is a decent compromise between moving a file into my application and setting the properties via JVM args.","body":"Brian - not exactly what I was looking for, but I think it is a decent compromise between moving a file into my application and setting the properties via JVM args."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1240500923,"post_id":778955,"comment_id":592713,"body_markdown":"I think that as your application becomes more complex (if it will) then the file becomes more manageable as you configure it more. However I confess I&#39;m guessing as to your use case here.","body":"I think that as your application becomes more complex (if it will) then the file becomes more manageable as you configure it more. However I confess I&#39;m guessing as to your use case here."},{"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"score":0,"creation_date":1382446313,"post_id":778955,"comment_id":28955032,"body_markdown":"In case of logback.xml, -Dlogback.configuration={path to file} is not working. Any suggestion?","body":"In case of logback.xml, -Dlogback.configuration={path to file} is not working. Any suggestion?"},{"owner":{"account_id":1533561,"reputation":20255,"user_id":1430156,"accept_rate":72,"display_name":"O. R. Mapper"},"score":33,"creation_date":1393522393,"post_id":778955,"comment_id":33478676,"body_markdown":"`{path to file}` needs to be prepended with `file:` for this to work.","body":"<code>{path to file}</code> needs to be prepended with <code>file:</code> for this to work."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":2,"creation_date":1393522539,"post_id":778955,"comment_id":33478785,"body_markdown":"@O.R.Mapper - I&#39;ve amended appropriately","body":"@O.R.Mapper - I&#39;ve amended appropriately"},{"owner":{"account_id":4358802,"reputation":57,"user_id":3556587,"accept_rate":80,"display_name":"Kunal"},"score":0,"creation_date":1429172743,"post_id":778955,"comment_id":47476691,"body_markdown":"Can you tell me how can we specify {path to file} in Linux eclipse","body":"Can you tell me how can we specify {path to file} in Linux eclipse"},{"owner":{"account_id":2590176,"reputation":1914,"user_id":2245051,"accept_rate":50,"display_name":"Jos&#233; Andias"},"score":8,"creation_date":1471864339,"post_id":778955,"comment_id":65503533,"body_markdown":"Watch out if using **Log4j 2** as the property name and syntax changed. See [this answer](http://stackoverflow.com/a/34001970/2245051).","body":"Watch out if using <b>Log4j 2</b> as the property name and syntax changed. See <a href=\"http://stackoverflow.com/a/34001970/2245051\">this answer</a>."},{"owner":{"account_id":7013012,"reputation":509,"user_id":5375223,"accept_rate":17,"display_name":"krishna_5c3"},"score":0,"creation_date":1555604601,"post_id":778955,"comment_id":98177006,"body_markdown":"@BrianAgnew,  what is difference between `-J-Dlog4j.ConfigurationFile` and `-Dlog4j.ConfigurationFile`?","body":"@BrianAgnew,  what is difference between <code>-J-Dlog4j.ConfigurationFile</code> and <code>-Dlog4j.ConfigurationFile</code>?"}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":8,"down_vote_count":4,"up_vote_count":199,"is_accepted":true,"score":195,"last_activity_date":1589544963,"creation_date":1240430606,"answer_id":778955,"question_id":778933,"body_markdown":"Do you have a log4j configuration file ? Just reference it using \r\n\r\n    -Dlog4j.configuration={path to file}\r\n\r\nwhere {path to file} should be prefixed with `file:`\r\n\r\n**Edit:** If you are working with log4j2, you need to use\r\n\r\n    -Dlog4j.configurationFile={path to file}\r\n\r\nTaken from answer https://stackoverflow.com/a/34001970/552525","title":"Log4j configuration via JVM argument(s)?","body":"<p>Do you have a log4j configuration file ? Just reference it using </p>\n\n<pre><code>-Dlog4j.configuration={path to file}\n</code></pre>\n\n<p>where {path to file} should be prefixed with <code>file:</code></p>\n\n<p><strong>Edit:</strong> If you are working with log4j2, you need to use</p>\n\n<pre><code>-Dlog4j.configurationFile={path to file}\n</code></pre>\n\n<p>Taken from answer <a href=\"https://stackoverflow.com/a/34001970/552525\">https://stackoverflow.com/a/34001970/552525</a></p>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1415930593,"post_id":780153,"comment_id":42391371,"body_markdown":"This is true: the -Dlog4j.configuration is only needed if the file were not in the classpath or if you want to use a file that is not the first one found in the classpath","body":"This is true: the -Dlog4j.configuration is only needed if the file were not in the classpath or if you want to use a file that is not the first one found in the classpath"}],"tags":[],"owner":{"account_id":6551,"reputation":187,"user_id":11067,"display_name":"Natalia"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1240455823,"creation_date":1240455823,"answer_id":780153,"question_id":778933,"body_markdown":"Generally, as long as your log4j.properties file is on the classpath, Log4j should just automatically pick it up at JVM startup.  \r\n","title":"Log4j configuration via JVM argument(s)?","body":"<p>Generally, as long as your log4j.properties file is on the classpath, Log4j should just automatically pick it up at JVM startup.  </p>\n"},{"comments":[{"owner":{"account_id":9733,"reputation":98826,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"score":1,"creation_date":1346344495,"post_id":2264886,"comment_id":16341089,"body_markdown":"This is the correct solution if someone wants to avoid creating a config file.  Inside your own custom Configurator class you could call BasicConfigurator(), or create your own Loggers and Appenders however you want.  But I would much prefer a config file!","body":"This is the correct solution if someone wants to avoid creating a config file.  Inside your own custom Configurator class you could call BasicConfigurator(), or create your own Loggers and Appenders however you want.  But I would much prefer a config file!"}],"tags":[],"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1266225446,"creation_date":1266225446,"answer_id":2264886,"question_id":778933,"body_markdown":"I know this is already answered, but because you said, this isn&#39;t exactly what you are looking for, I would like to point out the following alternative:\r\n\r\nYou can also use a configuration class instead of the properties or xml file.\r\n\r\n    -Dlog4j.configuratorClass=com.foo.BarConfigurator\r\n\r\nSee http://logging.apache.org/log4j/1.2/manual.html for details.","title":"Log4j configuration via JVM argument(s)?","body":"<p>I know this is already answered, but because you said, this isn't exactly what you are looking for, I would like to point out the following alternative:</p>\n\n<p>You can also use a configuration class instead of the properties or xml file.</p>\n\n<pre><code>-Dlog4j.configuratorClass=com.foo.BarConfigurator\n</code></pre>\n\n<p>See <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">http://logging.apache.org/log4j/1.2/manual.html</a> for details.</p>\n"},{"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":2,"creation_date":1383829248,"post_id":7927278,"comment_id":29497281,"body_markdown":"For Logback: `-Dlogback.configurationFile=C:\\logback-test.xml`","body":"For Logback: <code>-Dlogback.configurationFile=C:\\logback-test.xml</code>"},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":2,"creation_date":1383896615,"post_id":7927278,"comment_id":29527444,"body_markdown":"+1 for mentioning file (reiterating what Tim said.  This has driven me crazy with log4j a number of times.","body":"+1 for mentioning file (reiterating what Tim said.  This has driven me crazy with log4j a number of times."},{"owner":{"account_id":1203347,"reputation":2104,"user_id":1173560,"display_name":"K.C."},"score":18,"creation_date":1392304195,"post_id":7927278,"comment_id":32911645,"body_markdown":"Another JVM argument very handy to debug log4j config: `-Dlog4j.debug`","body":"Another JVM argument very handy to debug log4j config: <code>-Dlog4j.debug</code>"},{"owner":{"account_id":1033144,"reputation":3625,"user_id":1041046,"accept_rate":78,"display_name":"AaA"},"score":2,"creation_date":1447226402,"post_id":7927278,"comment_id":55065147,"body_markdown":"Is it possible to use relative path with this method?","body":"Is it possible to use relative path with this method?"}],"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"comment_count":4,"down_vote_count":1,"up_vote_count":170,"is_accepted":false,"score":169,"last_activity_date":1319793146,"creation_date":1319793146,"answer_id":7927278,"question_id":778933,"body_markdown":"The solution is using of the following JVM argument:\r\n\r\n    -Dlog4j.configuration={path to file}\r\n\r\nIf the file is NOT in the classpath (in `WEB-INF/classes` in case of Tomcat) but somewhere on you disk, use `file:`, like\r\n\r\n    -Dlog4j.configuration=file:C:\\Users\\me\\log4j.xml\r\n\r\nMore information and examples here: http://logging.apache.org/log4j/1.2/manual.html","title":"Log4j configuration via JVM argument(s)?","body":"<p>The solution is using of the following JVM argument:</p>\n\n<pre><code>-Dlog4j.configuration={path to file}\n</code></pre>\n\n<p>If the file is NOT in the classpath (in <code>WEB-INF/classes</code> in case of Tomcat) but somewhere on you disk, use <code>file:</code>, like</p>\n\n<pre><code>-Dlog4j.configuration=file:C:\\Users\\me\\log4j.xml\n</code></pre>\n\n<p>More information and examples here: <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">http://logging.apache.org/log4j/1.2/manual.html</a></p>\n"},{"comments":[{"owner":{"account_id":4538686,"reputation":514,"user_id":3687170,"accept_rate":78,"display_name":"Cybermonk"},"score":0,"creation_date":1466925567,"post_id":34001970,"comment_id":63512072,"body_markdown":"This gives me the following exception. C:\\Development\\Eclipses\\EclipseMars\\file:C:\\Users\\ABC\\log4j2.xml   How do I make the path absolute","body":"This gives me the following exception. C:\\Development\\Eclipses\\EclipseMars\\file:C:\\Users\\ABC\\log4j2&zwnj;&#8203;.xml   How do I make the path absolute"},{"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"score":0,"creation_date":1537303747,"post_id":34001970,"comment_id":91733899,"body_markdown":"For Docker Containers, I used `JAVA_PARAMS=&quot;-Dlog4j.configurationFile=classpath:log4j2-container.xml&quot;` if the Docker Image supports overriding the JAVA_PARAMS with env vars and the file is inside the Jar.","body":"For Docker Containers, I used <code>JAVA_PARAMS=&quot;-Dlog4j.configurationFile=classpath:log4j2-cont&zwnj;&#8203;ainer.xml&quot;</code> if the Docker Image supports overriding the JAVA_PARAMS with env vars and the file is inside the Jar."}],"tags":[],"owner":{"account_id":7387147,"reputation":481,"user_id":5621843,"display_name":"D. L."},"comment_count":2,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1675295013,"creation_date":1448897010,"answer_id":34001970,"question_id":778933,"body_markdown":"This configuration seems to have changed in **Log4j 2**:\r\n\r\n    -Dlog4j.configurationFile=file:C:\\Users\\me\\log4j.xml\r\n\r\nSee: https://logging.apache.org/log4j/2.x/manual/configuration.html","title":"Log4j configuration via JVM argument(s)?","body":"<p>This configuration seems to have changed in <strong>Log4j 2</strong>:</p>\n<pre><code>-Dlog4j.configurationFile=file:C:\\Users\\me\\log4j.xml\n</code></pre>\n<p>See: <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html</a></p>\n"},{"comments":[{"owner":{"account_id":2848,"reputation":14225,"user_id":4038,"accept_rate":75,"display_name":"Yossale"},"score":3,"creation_date":1512667130,"post_id":47068673,"comment_id":82360784,"body_markdown":"Important answer, as the other answers are not longer valid.","body":"Important answer, as the other answers are not longer valid."}],"tags":[],"owner":{"account_id":426762,"reputation":728,"user_id":808158,"accept_rate":45,"display_name":"Vineet Menon"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1509602861,"creation_date":1509602861,"answer_id":47068673,"question_id":778933,"body_markdown":"Late to the party as since 2015, Log4J 1.x has reached [EOL][1].\r\n\r\nLog4J 2.x onwards the [JVM option][2] should be `-Dlog4j.configurationFile=&lt;filename&gt;`\r\n\r\n-------------------\r\n\r\n*P.S. `&lt;filename&gt;` could be a file relative to the class path **without** the `file:` as suggested in the other answers.*\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/manual.html\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","title":"Log4j configuration via JVM argument(s)?","body":"<p>Late to the party as since 2015, Log4J 1.x has reached <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">EOL</a>.</p>\n\n<p>Log4J 2.x onwards the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"noreferrer\">JVM option</a> should be <code>-Dlog4j.configurationFile=&lt;filename&gt;</code></p>\n\n<hr>\n\n<p><em>P.S. <code>&lt;filename&gt;</code> could be a file relative to the class path <strong>without</strong> the <code>file:</code> as suggested in the other answers.</em></p>\n"},{"tags":[],"owner":{"account_id":1422690,"reputation":1153,"user_id":1346990,"display_name":"Ridox"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532593110,"creation_date":1532593110,"answer_id":51534153,"question_id":778933,"body_markdown":"Relative Path is also ok: \r\n\r\n    java -Dlog4j.configuration=file:&quot;.\\log4j.properties&quot; -jar com.your-1.0-SNAPSHOT.jar\r\nor \r\n \r\n    java -Dlog4j.configuration=file:&quot;.\\log4j.xml&quot; -jar com.your-1.0-SNAPSHOT.jar","title":"Log4j configuration via JVM argument(s)?","body":"<p>Relative Path is also ok: </p>\n\n<pre><code>java -Dlog4j.configuration=file:\".\\log4j.properties\" -jar com.your-1.0-SNAPSHOT.jar\n</code></pre>\n\n<p>or </p>\n\n<pre><code>java -Dlog4j.configuration=file:\".\\log4j.xml\" -jar com.your-1.0-SNAPSHOT.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8466053,"reputation":738,"user_id":6350191,"accept_rate":69,"display_name":"emanuel07"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577527461,"creation_date":1577527461,"answer_id":59509877,"question_id":778933,"body_markdown":"If you are using gradle. You can apply &#39;aplication&#39; plugin and use the following command \r\n    \r\n      applicationDefaultJvmArgs = [\r\n                 &quot;-Dlog4j.configurationFile=your.xml&quot;,\r\n                                  ]","title":"Log4j configuration via JVM argument(s)?","body":"<p>If you are using gradle. You can apply 'aplication' plugin and use the following command </p>\n\n<pre><code>  applicationDefaultJvmArgs = [\n             \"-Dlog4j.configurationFile=your.xml\",\n                              ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3515199,"reputation":2077,"user_id":2938810,"accept_rate":88,"display_name":"Seweryn Habdank-Wojew&#243;dzki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650555205,"creation_date":1650555205,"answer_id":71957137,"question_id":778933,"body_markdown":"According to the page ([Log4j2 - Automatic Configuration][1]) Log4j2 needs:\r\n\r\n`-Dlog4j2.configurationFile=&lt;path to file&gt;`\r\n\r\n&gt; Log4j will inspect the &quot;log4j2.configurationFile&quot; system property and, if set, will attempt to load the configuration using the ConfigurationFactory that matches the file extension. Note that this is not restricted to a location on the local file system and may contain a URL.\r\n\r\nTaken from: [Log4j2 - Automatic Configuration][1]\r\n\r\n[1]: https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","title":"Log4j configuration via JVM argument(s)?","body":"<p>According to the page (<a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">Log4j2 - Automatic Configuration</a>) Log4j2 needs:</p>\n<p><code>-Dlog4j2.configurationFile=&lt;path to file&gt;</code></p>\n<blockquote>\n<p>Log4j will inspect the &quot;log4j2.configurationFile&quot; system property and, if set, will attempt to load the configuration using the ConfigurationFactory that matches the file extension. Note that this is not restricted to a location on the local file system and may contain a URL.</p>\n</blockquote>\n<p>Taken from: <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">Log4j2 - Automatic Configuration</a></p>\n"},{"tags":[],"owner":{"account_id":27689487,"reputation":1,"user_id":21136485,"display_name":"Marcel Santana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675429387,"creation_date":1675374015,"answer_id":75329230,"question_id":778933,"body_markdown":"I used this two commands below with weblogic 12 and it works for log4j2.xml\r\n\r\n\r\n```\r\n-Dlog4j.configurationFile=&lt;path to file&gt;\r\n-Dlog4j2.configurationFile=&lt;path to file&gt;\r\n```","title":"Log4j configuration via JVM argument(s)?","body":"<p>I used this two commands below with weblogic 12 and it works for log4j2.xml</p>\n<pre><code>-Dlog4j.configurationFile=&lt;path to file&gt;\n-Dlog4j2.configurationFile=&lt;path to file&gt;\n</code></pre>\n"}],"owner":{"account_id":27244,"reputation":3836,"user_id":71700,"accept_rate":75,"display_name":"jconlin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241048,"favorite_count":0,"down_vote_count":0,"up_vote_count":157,"accepted_answer_id":778955,"answer_count":10,"score":157,"last_activity_date":1675429387,"creation_date":1240430301,"question_id":778933,"body_markdown":"What variables do I have to set/pass as arguments to the JVM to get Log4j to run properly? And by properly I mean not complain and print to the console.  Can I see a typical example?\r\n\r\nNote: I need to avoid creating a `log4j.properties` file in the application.","title":"Log4j configuration via JVM argument(s)?","body":"<p>What variables do I have to set/pass as arguments to the JVM to get Log4j to run properly? And by properly I mean not complain and print to the console.  Can I see a typical example?</p>\n<p>Note: I need to avoid creating a <code>log4j.properties</code> file in the application.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1675270231,"post_id":75313115,"comment_id":132893739,"body_markdown":"sizing/locating of components is the  exclusive task of a layoutManager - __never-ever__ try to do it yourself, instead use a suitable manager, https://docs.oracle.com/javase/tutorial/uiswing/layout/ BTW: please put some effort into formatting the code to make it readable (a code block needs at least 4 leading spaces, no tabs)","body":"sizing/locating of components is the  exclusive task of a layoutManager - <b>never-ever</b> try to do it yourself, instead use a suitable manager, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a> BTW: please put some effort into formatting the code to make it readable (a code block needs at least 4 leading spaces, no tabs)"},{"owner":{"account_id":27621807,"reputation":1,"user_id":21082683,"display_name":"N Ib"},"score":0,"creation_date":1675272142,"post_id":75313115,"comment_id":132894410,"body_markdown":"Okay thanks for the advice. I&#39;m still new, I will try to make it more readable next time.","body":"Okay thanks for the advice. I&#39;m still new, I will try to make it more readable next time."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675429354,"creation_date":1675417633,"answer_id":75333974,"question_id":75313115,"body_markdown":"`UI2` should be a [dialog](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) and not another `JFrame` since *Swing* applications should usually only have a single, [top-level container](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html).\r\n\r\nYou also don&#39;t need to do all the hard work yourself of placing GUI components on the screen nor sizing them. You should use [layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) and other, relevant parts of the rich, [API](https://stackoverflow.com/questions/20566772/java-jbutton-only-image) &amp;ndash; in order to make the `JButton` look like an app icon.\r\n\r\nMore notes after the code.\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\nimport java.util.Objects;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\npublic class MainUI {\r\n    private JButton button;\r\n    private JFrame frame;\r\n    private JPanel panel;\r\n    private UI2 ui2;\r\n\r\n    public MainUI() {\r\n        frame = new JFrame();\r\n        frame.setSize(1000, 700);\r\n        frame.setResizable(false);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        try {\r\n            button = new JButton();\r\n            Image img = ImageIO.read(Objects.requireNonNull(getClass().getResource(&quot;icons8-messages-100.png&quot;)));\r\n            button.setIcon(new ImageIcon(img));\r\n            button.setFocusable(false);\r\n            button.setContentAreaFilled(false);\r\n            button.setBorderPainted(false);\r\n            panel = new JPanel();\r\n            panel.add(button);\r\n            frame.add(panel);\r\n            button.addActionListener(e -&gt; {\r\n                if (ui2 == null) {\r\n                    ui2 = new UI2(frame);\r\n                }\r\n                ui2.setVisible(true);\r\n            });// addActionListener\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        frame.setVisible(true);\r\n    }// End of MainUI\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new MainUI());\r\n    }\r\n}// Class MainUI\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass UI2 extends JDialog {\r\n\r\n    public UI2(JFrame owner) {\r\n        super(owner);\r\n        setSize(200, 200);\r\n        setResizable(false);\r\n        setLocationRelativeTo(owner);\r\n        addComponentListener(new ComponentAdapter() {\r\n\r\n            public void componentMoved(ComponentEvent e) {\r\n\r\n                // This makes the ui2 not go outside the Main UI\r\n                int x = getX();\r\n                int y = getY();\r\n                int width1 = owner.getWidth();\r\n                int height1 = owner.getHeight();\r\n                int width2 = getWidth();\r\n                int height2 = getHeight();\r\n                if (x &lt; owner.getX()) {\r\n                    setLocation(owner.getX(), y);\r\n                }\r\n                if (y &lt; owner.getY()) {\r\n                    setLocation(x, owner.getY());\r\n                }\r\n                if (x + width2 &gt; owner.getX() + width1) {\r\n                    setLocation(owner.getX() + width1 - width2, y);\r\n                }\r\n                if (y + height2 &gt; owner.getY() + height1) {\r\n                    setLocation(x, owner.getY() + height1 - height2);\r\n                } // end of if statements\r\n            }// componentMoved\r\n        });// addComponentListener\r\n    }\r\n}// Class UI2\r\n```\r\n(Below notes are in no particular order.)\r\n- You don&#39;t need to create a new `UI2` each time the user clicks the `JButton` (in `UI1`). Create it once and then just hide it when you close it and show it when you click the `JButton`. The default behavior is to hide the `JDialog` when it is closed.\r\n- A *Swing* application does **not** need to extend `JFrame` (or `JPanel` or any other [JComponent](https://docs.oracle.com/javase/tutorial/uiswing/components/jcomponent.html)). A *Swing* application can extend `JComponent` (or subclass thereof) but it does not have to.\r\n- The default layout for [the content pane of] `JFrame` is `BorderLayout` so no need to explicitly set this.\r\n- Printing a message, like _Something&#39;s Wrong_, in a `catch` block, might be user-friendly but it won&#39;t help you find the cause of the [exception](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html)\r\n. I nearly always print the stack trace in my `catch` blocks.\r\n\r\nScreen capture of running app.\r\n\r\n[![screen capture][1]][1]\r\n\r\nHowever, since you don&#39;t want `UI2` to move outside of `UI1`, an alternative would be to use a [JInternalFrame](https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html) rather than a `JDialog`. Here is a demonstration.\r\n\r\n(Again, there are notes after the code.)\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Image;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.ActionEvent;\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.DefaultDesktopManager;\r\nimport javax.swing.DesktopManager;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JDesktopPane;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JInternalFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class IframTst {\r\n    private JDesktopPane desktopPane;\r\n    private JInternalFrame iFrame;\r\n\r\n    public IframTst() throws IOException {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createButton(), BorderLayout.PAGE_START);\r\n        frame.add(createDesktopPane(), BorderLayout.CENTER);\r\n        frame.setSize(1000, 700);\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButton() throws IOException {\r\n        JPanel panel = new JPanel();\r\n        JButton button = new JButton();\r\n        Image img = ImageIO.read(Objects.requireNonNull(getClass().getResource(&quot;icons8-messages-100.png&quot;)));\r\n        button.setIcon(new ImageIcon(img));\r\n        button.setFocusable(false);\r\n        button.setContentAreaFilled(false);\r\n        button.setBorderPainted(false);\r\n        button.addActionListener(this::showIframe);\r\n        panel.add(button);\r\n        return panel;\r\n    }\r\n\r\n    private JDesktopPane createDesktopPane() {\r\n        desktopPane = new JDesktopPane();\r\n        DesktopManager manager = new DefaultDesktopManager() {\r\n\r\n            private static final long serialVersionUID = -4685522430190278205L;\r\n\r\n            @Override\r\n            public void dragFrame(JComponent f, int newX, int newY) {\r\n                setBoundsForFrame(f, newX, newY, f.getWidth(), f.getHeight());\r\n            }\r\n\r\n            @Override\r\n            public void setBoundsForFrame(JComponent f,\r\n                                          int newX,\r\n                                          int newY,\r\n                                          int newWidth,\r\n                                          int newHeight) {\r\n                Rectangle rect = desktopPane.getVisibleRect();\r\n                if (newX &lt; 0) {\r\n                    newX = 0;\r\n                }\r\n                if (newX + newWidth &gt; rect.width) {\r\n                    newX = rect.width - newWidth;\r\n                }\r\n                if (newY &lt; 0) {\r\n                    newY = 0;\r\n                }\r\n                if (newY + newHeight &gt; rect.height) {\r\n                    newY = rect.height - newHeight;\r\n                }\r\n                super.setBoundsForFrame(f, newX, newY, newWidth, newHeight);\r\n            }\r\n        };\r\n        desktopPane.setDesktopManager(manager);\r\n        return desktopPane;\r\n    }\r\n\r\n    private void showIframe(ActionEvent event) {\r\n        if (iFrame == null) {\r\n            iFrame = new JInternalFrame(null, false, true, false, false);\r\n            iFrame.setDefaultCloseOperation(JInternalFrame.HIDE_ON_CLOSE);\r\n            iFrame.setSize(200, 200);\r\n            desktopPane.add(iFrame);\r\n        }\r\n        iFrame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            try {\r\n                new IframTst();\r\n            }\r\n            catch (IOException xIo) {\r\n                xIo.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n- The `ActionListener` is implemented using [method references](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html)\r\n- The inspiration for keeping the `JInternalFrame` within the bounds of its parent `JDesktopPane` came from\r\n&gt; [Preventing JInternalFrame from being moved out of a JDesktopPane](https://stackoverflow.com/questions/8136944/preventing-jinternalframe-from-being-moved-out-of-a-jdesktoppane)\r\n\r\n(as well as looking at the source code for class `DefaultDesktopManager`)\r\n\r\nYou can also set the initial location of the `JInternalFrame` within the `JDesktopPane`. Refer to\r\n&gt; [How do I open a JInternalFrame centered in a JDesktopPane?](https://stackoverflow.com/questions/7488947/how-do-i-open-a-jinternalframe-centered-in-a-jdesktoppane)\r\n\r\nHow it looks when I run it.\r\n\r\n[![recording][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YlaQY.png\r\n  [2]: https://i.stack.imgur.com/tMPaR.gif","title":"Set Bounds Not working in Java Swing for a Button","body":"<p><code>UI2</code> should be a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">dialog</a> and not another <code>JFrame</code> since <em>Swing</em> applications should usually only have a single, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">top-level container</a>.</p>\n<p>You also don't need to do all the hard work yourself of placing GUI components on the screen nor sizing them. You should use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">layout managers</a> and other, relevant parts of the rich, <a href=\"https://stackoverflow.com/questions/20566772/java-jbutton-only-image\">API</a> – in order to make the <code>JButton</code> look like an app icon.</p>\n<p>More notes after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.util.Objects;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\npublic class MainUI {\n    private JButton button;\n    private JFrame frame;\n    private JPanel panel;\n    private UI2 ui2;\n\n    public MainUI() {\n        frame = new JFrame();\n        frame.setSize(1000, 700);\n        frame.setResizable(false);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        try {\n            button = new JButton();\n            Image img = ImageIO.read(Objects.requireNonNull(getClass().getResource(&quot;icons8-messages-100.png&quot;)));\n            button.setIcon(new ImageIcon(img));\n            button.setFocusable(false);\n            button.setContentAreaFilled(false);\n            button.setBorderPainted(false);\n            panel = new JPanel();\n            panel.add(button);\n            frame.add(panel);\n            button.addActionListener(e -&gt; {\n                if (ui2 == null) {\n                    ui2 = new UI2(frame);\n                }\n                ui2.setVisible(true);\n            });// addActionListener\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        frame.setVisible(true);\n    }// End of MainUI\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new MainUI());\n    }\n}// Class MainUI\n\n@SuppressWarnings(&quot;serial&quot;)\nclass UI2 extends JDialog {\n\n    public UI2(JFrame owner) {\n        super(owner);\n        setSize(200, 200);\n        setResizable(false);\n        setLocationRelativeTo(owner);\n        addComponentListener(new ComponentAdapter() {\n\n            public void componentMoved(ComponentEvent e) {\n\n                // This makes the ui2 not go outside the Main UI\n                int x = getX();\n                int y = getY();\n                int width1 = owner.getWidth();\n                int height1 = owner.getHeight();\n                int width2 = getWidth();\n                int height2 = getHeight();\n                if (x &lt; owner.getX()) {\n                    setLocation(owner.getX(), y);\n                }\n                if (y &lt; owner.getY()) {\n                    setLocation(x, owner.getY());\n                }\n                if (x + width2 &gt; owner.getX() + width1) {\n                    setLocation(owner.getX() + width1 - width2, y);\n                }\n                if (y + height2 &gt; owner.getY() + height1) {\n                    setLocation(x, owner.getY() + height1 - height2);\n                } // end of if statements\n            }// componentMoved\n        });// addComponentListener\n    }\n}// Class UI2\n</code></pre>\n<p>(Below notes are in no particular order.)</p>\n<ul>\n<li>You don't need to create a new <code>UI2</code> each time the user clicks the <code>JButton</code> (in <code>UI1</code>). Create it once and then just hide it when you close it and show it when you click the <code>JButton</code>. The default behavior is to hide the <code>JDialog</code> when it is closed.</li>\n<li>A <em>Swing</em> application does <strong>not</strong> need to extend <code>JFrame</code> (or <code>JPanel</code> or any other <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/jcomponent.html\" rel=\"nofollow noreferrer\">JComponent</a>). A <em>Swing</em> application can extend <code>JComponent</code> (or subclass thereof) but it does not have to.</li>\n<li>The default layout for [the content pane of] <code>JFrame</code> is <code>BorderLayout</code> so no need to explicitly set this.</li>\n<li>Printing a message, like <em>Something's Wrong</em>, in a <code>catch</code> block, might be user-friendly but it won't help you find the cause of the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">exception</a>\n. I nearly always print the stack trace in my <code>catch</code> blocks.</li>\n</ul>\n<p>Screen capture of running app.</p>\n<p><a href=\"https://i.stack.imgur.com/YlaQY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YlaQY.png\" alt=\"screen capture\" /></a></p>\n<p>However, since you don't want <code>UI2</code> to move outside of <code>UI1</code>, an alternative would be to use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow noreferrer\">JInternalFrame</a> rather than a <code>JDialog</code>. Here is a demonstration.</p>\n<p>(Again, there are notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.Image;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.io.IOException;\nimport java.util.Objects;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.DefaultDesktopManager;\nimport javax.swing.DesktopManager;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JComponent;\nimport javax.swing.JDesktopPane;\nimport javax.swing.JFrame;\nimport javax.swing.JInternalFrame;\nimport javax.swing.JPanel;\n\npublic class IframTst {\n    private JDesktopPane desktopPane;\n    private JInternalFrame iFrame;\n\n    public IframTst() throws IOException {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createButton(), BorderLayout.PAGE_START);\n        frame.add(createDesktopPane(), BorderLayout.CENTER);\n        frame.setSize(1000, 700);\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButton() throws IOException {\n        JPanel panel = new JPanel();\n        JButton button = new JButton();\n        Image img = ImageIO.read(Objects.requireNonNull(getClass().getResource(&quot;icons8-messages-100.png&quot;)));\n        button.setIcon(new ImageIcon(img));\n        button.setFocusable(false);\n        button.setContentAreaFilled(false);\n        button.setBorderPainted(false);\n        button.addActionListener(this::showIframe);\n        panel.add(button);\n        return panel;\n    }\n\n    private JDesktopPane createDesktopPane() {\n        desktopPane = new JDesktopPane();\n        DesktopManager manager = new DefaultDesktopManager() {\n\n            private static final long serialVersionUID = -4685522430190278205L;\n\n            @Override\n            public void dragFrame(JComponent f, int newX, int newY) {\n                setBoundsForFrame(f, newX, newY, f.getWidth(), f.getHeight());\n            }\n\n            @Override\n            public void setBoundsForFrame(JComponent f,\n                                          int newX,\n                                          int newY,\n                                          int newWidth,\n                                          int newHeight) {\n                Rectangle rect = desktopPane.getVisibleRect();\n                if (newX &lt; 0) {\n                    newX = 0;\n                }\n                if (newX + newWidth &gt; rect.width) {\n                    newX = rect.width - newWidth;\n                }\n                if (newY &lt; 0) {\n                    newY = 0;\n                }\n                if (newY + newHeight &gt; rect.height) {\n                    newY = rect.height - newHeight;\n                }\n                super.setBoundsForFrame(f, newX, newY, newWidth, newHeight);\n            }\n        };\n        desktopPane.setDesktopManager(manager);\n        return desktopPane;\n    }\n\n    private void showIframe(ActionEvent event) {\n        if (iFrame == null) {\n            iFrame = new JInternalFrame(null, false, true, false, false);\n            iFrame.setDefaultCloseOperation(JInternalFrame.HIDE_ON_CLOSE);\n            iFrame.setSize(200, 200);\n            desktopPane.add(iFrame);\n        }\n        iFrame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            try {\n                new IframTst();\n            }\n            catch (IOException xIo) {\n                xIo.printStackTrace();\n            }\n        });\n    }\n}\n</code></pre>\n<ul>\n<li>The <code>ActionListener</code> is implemented using <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a></li>\n<li>The inspiration for keeping the <code>JInternalFrame</code> within the bounds of its parent <code>JDesktopPane</code> came from</li>\n</ul>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/8136944/preventing-jinternalframe-from-being-moved-out-of-a-jdesktoppane\">Preventing JInternalFrame from being moved out of a JDesktopPane</a></p>\n</blockquote>\n<p>(as well as looking at the source code for class <code>DefaultDesktopManager</code>)</p>\n<p>You can also set the initial location of the <code>JInternalFrame</code> within the <code>JDesktopPane</code>. Refer to</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/7488947/how-do-i-open-a-jinternalframe-centered-in-a-jdesktoppane\">How do I open a JInternalFrame centered in a JDesktopPane?</a></p>\n</blockquote>\n<p>How it looks when I run it.</p>\n<p><a href=\"https://i.stack.imgur.com/tMPaR.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tMPaR.gif\" alt=\"recording\" /></a></p>\n"}],"owner":{"account_id":27621807,"reputation":1,"user_id":21082683,"display_name":"N Ib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675429354,"creation_date":1675268157,"question_id":75313115,"body_markdown":"This program just creates a `UI1` and a `Button`. When I click on that button a new UI Appear which I coded so that it doesn&#39;t go outside the bounds of `UI1`. My main problem is that I&#39;m trying to make the width and height of the button smaller so that it looks more like an app icon. But when I set the bounds on the button it doesn&#39;t change anything when I run the code.\r\n```java\r\n//Start\r\nimport java.awt.*;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\nimport java.util.Objects;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\npublic class MainUI extends JFrame {//MainUI\r\n    private JButton button;\r\n    private JPanel panel;\r\n\r\n    public MainUI() {\r\n\r\n        //UI1\r\n        setSize(1000, 700);\r\n        setResizable(false);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setLayout(new BorderLayout());\r\n        try {\r\n\r\n            //Here is the Button--\r\n            button = new JButton();\r\n            button.setBounds(200,200,70,70);\r\n            Image img = ImageIO.read(Objects.requireNonNull(getClass().getResource(&quot;icons8-messages-100.png&quot;)));\r\n            button.setIcon(new ImageIcon(img));\r\n            button.setFocusable(false);\r\n            panel = new JPanel();\r\n            panel.add(button);\r\n            add(panel);\r\n\r\n            button.addActionListener(e -&gt; {\r\n                UI2 ui2 = new UI2();\r\n                ui2.setLocationRelativeTo(panel);\r\n                ui2.setVisible(true);\r\n\r\n                ui2.addComponentListener(new ComponentAdapter() {\r\n\r\n                    public void componentMoved(ComponentEvent e) {\r\n\r\n                        //This makes the ui2 not go outside the Main UI\r\n                        int x = ui2.getX();\r\n                        int y = ui2.getY();\r\n                        int width1 = getWidth();\r\n                        int height1 = getHeight();\r\n                        int width2 = ui2.getWidth();\r\n                        int height2 = ui2.getHeight();\r\n\r\n                        if (x &lt; getX()) {\r\n                            ui2.setLocation(getX(), y);\r\n                        }\r\n                        if (y &lt; getY()) {\r\n                            ui2.setLocation(x, getY());\r\n                        }\r\n                        if (x + width2 &gt; getX() + width1) {\r\n                            ui2.setLocation(getX() + width1 - width2, y);\r\n                        }\r\n                        if (y + height2 &gt; getY() + height1) {\r\n                            ui2.setLocation(x, getY() + height1 - height2);\r\n                        }//end of if statements\r\n                    }//componentMoved\r\n                });//addComponentListener\r\n            });//addActionListener\r\n        } catch(Exception e) {\r\n            System.out.println(&quot;Something&#39;s Wrong&quot;);\r\n        }\r\n    }//End of MainUI\r\n\r\n    public static void main(String[] args) {\r\n        MainUI mainFrame = new MainUI();\r\n        mainFrame.setVisible(true);\r\n    }\r\n}//Class MainUI\r\n\r\nclass UI2 extends JFrame {\r\n\r\n    public UI2() {\r\n        setBounds(getX() + 50, getY() + 50, 200, 200);\r\n        setResizable(false);\r\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        setLayout(new BorderLayout());\r\n    }\r\n}//Class UI2\r\n//End\r\n```\r\n","title":"Set Bounds Not working in Java Swing for a Button","body":"<p>This program just creates a <code>UI1</code> and a <code>Button</code>. When I click on that button a new UI Appear which I coded so that it doesn't go outside the bounds of <code>UI1</code>. My main problem is that I'm trying to make the width and height of the button smaller so that it looks more like an app icon. But when I set the bounds on the button it doesn't change anything when I run the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Start\nimport java.awt.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.util.Objects;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\npublic class MainUI extends JFrame {//MainUI\n    private JButton button;\n    private JPanel panel;\n\n    public MainUI() {\n\n        //UI1\n        setSize(1000, 700);\n        setResizable(false);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLayout(new BorderLayout());\n        try {\n\n            //Here is the Button--\n            button = new JButton();\n            button.setBounds(200,200,70,70);\n            Image img = ImageIO.read(Objects.requireNonNull(getClass().getResource(&quot;icons8-messages-100.png&quot;)));\n            button.setIcon(new ImageIcon(img));\n            button.setFocusable(false);\n            panel = new JPanel();\n            panel.add(button);\n            add(panel);\n\n            button.addActionListener(e -&gt; {\n                UI2 ui2 = new UI2();\n                ui2.setLocationRelativeTo(panel);\n                ui2.setVisible(true);\n\n                ui2.addComponentListener(new ComponentAdapter() {\n\n                    public void componentMoved(ComponentEvent e) {\n\n                        //This makes the ui2 not go outside the Main UI\n                        int x = ui2.getX();\n                        int y = ui2.getY();\n                        int width1 = getWidth();\n                        int height1 = getHeight();\n                        int width2 = ui2.getWidth();\n                        int height2 = ui2.getHeight();\n\n                        if (x &lt; getX()) {\n                            ui2.setLocation(getX(), y);\n                        }\n                        if (y &lt; getY()) {\n                            ui2.setLocation(x, getY());\n                        }\n                        if (x + width2 &gt; getX() + width1) {\n                            ui2.setLocation(getX() + width1 - width2, y);\n                        }\n                        if (y + height2 &gt; getY() + height1) {\n                            ui2.setLocation(x, getY() + height1 - height2);\n                        }//end of if statements\n                    }//componentMoved\n                });//addComponentListener\n            });//addActionListener\n        } catch(Exception e) {\n            System.out.println(&quot;Something's Wrong&quot;);\n        }\n    }//End of MainUI\n\n    public static void main(String[] args) {\n        MainUI mainFrame = new MainUI();\n        mainFrame.setVisible(true);\n    }\n}//Class MainUI\n\nclass UI2 extends JFrame {\n\n    public UI2() {\n        setBounds(getX() + 50, getY() + 50, 200, 200);\n        setResizable(false);\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        setLayout(new BorderLayout());\n    }\n}//Class UI2\n//End\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1588952413,"creation_date":1588952413,"answer_id":61682778,"question_id":45837702,"body_markdown":"Make sure you are using `spring-cloud-aws-messaging` and not `spring-cloud-starter-aws-messaging`.\r\n\r\nAlso if that isn&#39;t the case, make sure `SimpleMessageListenerContainer&#39;s` auto startup is not set to false.\r\n","title":"Spring Cloud AWS SQS Listener not working","body":"<p>Make sure you are using <code>spring-cloud-aws-messaging</code> and not <code>spring-cloud-starter-aws-messaging</code>.</p>\n\n<p>Also if that isn't the case, make sure <code>SimpleMessageListenerContainer's</code> auto startup is not set to false.</p>\n"},{"comments":[{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":1,"creation_date":1675638560,"post_id":75336097,"comment_id":132967115,"body_markdown":"Why not use Spring Cloud AWS 3.0? We’re already in RC and GA should be out in a couple of weeks.","body":"Why not use Spring Cloud AWS 3.0? We’re already in RC and GA should be out in a couple of weeks."},{"owner":{"account_id":16038831,"reputation":123,"user_id":11575760,"display_name":"Phan Kieu Hung"},"score":0,"creation_date":1677127105,"post_id":75336097,"comment_id":133277579,"body_markdown":"Using EnableScheduling is different pattern. It will invoke every fixedDelay seconds.","body":"Using EnableScheduling is different pattern. It will invoke every fixedDelay seconds."}],"tags":[],"owner":{"account_id":27052966,"reputation":77,"user_id":20606083,"display_name":"KVSVK"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675429190,"creation_date":1675429190,"answer_id":75336097,"question_id":45837702,"body_markdown":"I have face this issue and found out that it was a versioning problem.&lt;br&gt;\r\nSpring Boot 3.0x requires Spring Cloud AWS 3.0x and AWS Java SDK 2.x\r\n\r\n[Click here][1] to get detailed info on Spring Cloud and AWS Compatability versions\r\n\r\n\r\nIn order to create a Consumer in **Spring Boot 3.0**, you need to use @EnableScheduling Bean in your main application. Then you need to use @Scheduled(fixedDelay = 3000) above the receive method. @Scheduled bean replaces the @SqsListener here. You can visit this [link][2] for more info.\r\n\r\n\r\n  [1]: https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\r\n  [2]: https://javatodev.com/how-to-use-amazon-sqs-with-spring-boot/","title":"Spring Cloud AWS SQS Listener not working","body":"<p>I have face this issue and found out that it was a versioning problem.<br>\nSpring Boot 3.0x requires Spring Cloud AWS 3.0x and AWS Java SDK 2.x</p>\n<p><a href=\"https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\" rel=\"nofollow noreferrer\">Click here</a> to get detailed info on Spring Cloud and AWS Compatability versions</p>\n<p>In order to create a Consumer in <strong>Spring Boot 3.0</strong>, you need to use @EnableScheduling Bean in your main application. Then you need to use @Scheduled(fixedDelay = 3000) above the receive method. @Scheduled bean replaces the @SqsListener here. You can visit this <a href=\"https://javatodev.com/how-to-use-amazon-sqs-with-spring-boot/\" rel=\"nofollow noreferrer\">link</a> for more info.</p>\n"}],"owner":{"account_id":11604081,"reputation":1011,"user_id":8500364,"display_name":"souvikc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5875,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675429190,"creation_date":1503485648,"question_id":45837702,"body_markdown":"I am trying to configure a Listner for AWS SQS whenever a file is uploaded in Amazon S3. I have configured the event from S3 so that a message is dumped in the SQS when a  file is uploaded in S3.\r\n\r\nNow I am using Spring cloud(version - 1.2.1.RELEASE) to configure a SQS Listner for the S3 event.\r\nBelow are my config files :\r\n\r\n**aws-config.xml**\r\n\r\n    &lt;aws-context:context-credentials&gt;\r\n    &lt;aws-context:simple-credentials access-key=&quot;*******&quot; secret-key=&quot;******&quot;/&gt;\r\n    &lt;/aws-context:context-credentials&gt;\r\n    &lt;aws-context:context-region  region=&quot;ap-south-1&quot; /&gt;  \r\n    &lt;aws-context:context-resource-loader/&gt;  \r\n    &lt;aws-messaging:annotation-driven-queue-listener max-number-of-messages=&quot;10&quot; \r\n    wait-time-out=&quot;20&quot; visibility-timeout=&quot;3600&quot;&quot;/&gt; \r\n\r\nAwsResourceConfig.java\r\n\r\n    @Configuration\r\n     @EnableSqs\r\n     @ImportResource(&quot;classpath:/aws-config.xml&quot;)\r\n     @EnableRdsInstance(databaseName = &quot;******&quot;, \r\n                   dbInstanceIdentifier = &quot;*****&quot;, \r\n\t\t\t\t   password = &quot;******&quot;)\r\n     public class AwsResourceConfig {\r\n\t@SqsListener(value = &quot;souviksqs&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\n\tpublic void receiveNewFileUpload(S3EventNotification event) {\r\n\t\ttry {\r\n\t\t\tif ( event != null &amp;&amp; !CollectionUtils.isNullOrEmpty( event.getRecords() ) &amp;&amp; event.getRecords().get( 0 ) != null ) {\r\n\t\t\t\tS3Entity entry = event.getRecords().get(0).getS3();\r\n\t\t\t\tSystem.out.println(&quot;############ File Uploaded to ###################### &quot; + entry.getBucket().getName() + &quot;/&quot; + entry.getObject().getKey());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error reading the SQS message &quot; + e);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n   }\r\n\r\nWhenever there is a file uploaded in S3,a message is added in SQS.\r\nBut the SQSListener is not working.\r\n\r\nAm I missing something?\r\n\r\n   \r\n\r\n\t\r\n\r\n ","title":"Spring Cloud AWS SQS Listener not working","body":"<p>I am trying to configure a Listner for AWS SQS whenever a file is uploaded in Amazon S3. I have configured the event from S3 so that a message is dumped in the SQS when a  file is uploaded in S3.</p>\n\n<p>Now I am using Spring cloud(version - 1.2.1.RELEASE) to configure a SQS Listner for the S3 event.\nBelow are my config files :</p>\n\n<p><strong>aws-config.xml</strong></p>\n\n<pre><code>&lt;aws-context:context-credentials&gt;\n&lt;aws-context:simple-credentials access-key=\"*******\" secret-key=\"******\"/&gt;\n&lt;/aws-context:context-credentials&gt;\n&lt;aws-context:context-region  region=\"ap-south-1\" /&gt;  \n&lt;aws-context:context-resource-loader/&gt;  \n&lt;aws-messaging:annotation-driven-queue-listener max-number-of-messages=\"10\" \nwait-time-out=\"20\" visibility-timeout=\"3600\"\"/&gt; \n</code></pre>\n\n<p>AwsResourceConfig.java</p>\n\n<pre><code>@Configuration\n @EnableSqs\n @ImportResource(\"classpath:/aws-config.xml\")\n @EnableRdsInstance(databaseName = \"******\", \n               dbInstanceIdentifier = \"*****\", \n               password = \"******\")\n public class AwsResourceConfig {\n@SqsListener(value = \"souviksqs\", deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\npublic void receiveNewFileUpload(S3EventNotification event) {\n    try {\n        if ( event != null &amp;&amp; !CollectionUtils.isNullOrEmpty( event.getRecords() ) &amp;&amp; event.getRecords().get( 0 ) != null ) {\n            S3Entity entry = event.getRecords().get(0).getS3();\n            System.out.println(\"############ File Uploaded to ###################### \" + entry.getBucket().getName() + \"/\" + entry.getObject().getKey());\n        }\n    } catch (Exception e) {\n        System.out.println(\"Error reading the SQS message \" + e);\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Whenever there is a file uploaded in S3,a message is added in SQS.\nBut the SQSListener is not working.</p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","email","ssl","jakarta-mail","pop3"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675429070,"post_id":75335371,"comment_id":132932238,"body_markdown":"You&#39;re configuring the `mail.pop3.*` properties, while connecting with the `pop3s` protocol. If you want to connect with `pop3s`, you should use the `mail.pop3s.*` properties.","body":"You&#39;re configuring the <code>mail.pop3.*</code> properties, while connecting with the <code>pop3s</code> protocol. If you want to connect with <code>pop3s</code>, you should use the <code>mail.pop3s.*</code> properties."},{"owner":{"account_id":21843628,"reputation":9,"user_id":16136829,"display_name":"BENALAYA Chamesseddine"},"score":0,"creation_date":1675437916,"post_id":75335371,"comment_id":132935174,"body_markdown":"I changed it but i still get the same error remote host terminated the handshake","body":"I changed it but i still get the same error remote host terminated the handshake"}],"owner":{"account_id":21843628,"reputation":9,"user_id":16136829,"display_name":"BENALAYA Chamesseddine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675429006,"creation_date":1675425279,"question_id":75335371,"body_markdown":"I&#39;m trying to create a Java application that only receives emails from my private email (not gmail), but I keep getting errors, whether it&#39;s a connection failed or SSL handshake problems, the last error I got is:\r\n&gt; Javax net SSL sslhandshakeexception Remote host terminated the handshake.\r\n\r\nMy java class is : \r\n\r\n```\r\nimport java.util.Properties;\r\nimport javax.mail.Folder;\r\nimport javax.mail.Message;\r\nimport javax.mail.MessagingException;\r\nimport javax.mail.NoSuchProviderException;\r\nimport javax.mail.Session;\r\nimport javax.mail.Store;\r\n\r\npublic class CheckingMail {\r\n\r\n  public static void check(String host, String storeType, String user,\r\n                           String password)\r\n  {\r\n    try {\r\n\r\n      //create properties field\r\n      Properties properties = new Properties();\r\n\r\n      properties.put(&quot;mail.pop3.host&quot;, host);\r\n      properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\r\n      properties.put(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n      properties.setProperty(&quot;mail.pop3.ssl.trust&quot;, &quot;*&quot;); // Trust all Servers\r\n      properties.setProperty(&quot;mail.pop3.ssl.trust&quot;, &quot;private hostname&quot;); // Trust all Servers\r\n      Session emailSession = Session.getDefaultInstance(properties);\r\n\r\n      //create the POP3 store object and connect with the pop server\r\n      Store store = emailSession.getStore(&quot;pop3s&quot;);\r\n\r\n      store.connect(host, user, password);\r\n\r\n      //create the folder object and open it\r\n      Folder emailFolder = store.getFolder(&quot;INBOX&quot;);\r\n      emailFolder.open(Folder.READ_ONLY);\r\n\r\n      // retrieve the messages from the folder in an array and print it\r\n      Message[] messages = emailFolder.getMessages();\r\n      System.out.println(&quot;messages.length---&quot; + messages.length);\r\n\r\n      for (int i = 0, n = messages.length; i &lt; n; i++) {\r\n        Message message = messages[i];\r\n        System.out.println(&quot;---------------------------------&quot;);\r\n        System.out.println(&quot;Email Number &quot; + (i + 1));\r\n        System.out.println(&quot;Subject: &quot; + message.getSubject());\r\n        System.out.println(&quot;From: &quot; + message.getFrom()[0]);\r\n        System.out.println(&quot;Text: &quot; + message.getContent().toString());\r\n\r\n      }\r\n\r\n      //close the store and folder objects\r\n      emailFolder.close(false);\r\n      store.close();\r\n\r\n    } catch (NoSuchProviderException e) {\r\n      e.printStackTrace();\r\n    } catch (MessagingException e) {\r\n      e.printStackTrace();\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n\r\n    String host = &quot;private host name&quot;;// change accordingly\r\n    String mailStoreType = &quot;pop3&quot;;\r\n    String username = &quot;my email&quot;;// change accordingly\r\n    String password = &quot;my password&quot;;// change accordingly\r\n\r\n\r\n    check(host, mailStoreType, username, password);\r\n\r\n  }\r\n\r\n}\r\n\r\n```\r\n","title":"Javax net SSL sslhandshakeexception Remote host terminated the handshake","body":"<p>I'm trying to create a Java application that only receives emails from my private email (not gmail), but I keep getting errors, whether it's a connection failed or SSL handshake problems, the last error I got is:</p>\n<blockquote>\n<p>Javax net SSL sslhandshakeexception Remote host terminated the handshake.</p>\n</blockquote>\n<p>My java class is :</p>\n<pre><code>import java.util.Properties;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.NoSuchProviderException;\nimport javax.mail.Session;\nimport javax.mail.Store;\n\npublic class CheckingMail {\n\n  public static void check(String host, String storeType, String user,\n                           String password)\n  {\n    try {\n\n      //create properties field\n      Properties properties = new Properties();\n\n      properties.put(&quot;mail.pop3.host&quot;, host);\n      properties.put(&quot;mail.pop3.port&quot;, &quot;995&quot;);\n      properties.put(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n      properties.setProperty(&quot;mail.pop3.ssl.trust&quot;, &quot;*&quot;); // Trust all Servers\n      properties.setProperty(&quot;mail.pop3.ssl.trust&quot;, &quot;private hostname&quot;); // Trust all Servers\n      Session emailSession = Session.getDefaultInstance(properties);\n\n      //create the POP3 store object and connect with the pop server\n      Store store = emailSession.getStore(&quot;pop3s&quot;);\n\n      store.connect(host, user, password);\n\n      //create the folder object and open it\n      Folder emailFolder = store.getFolder(&quot;INBOX&quot;);\n      emailFolder.open(Folder.READ_ONLY);\n\n      // retrieve the messages from the folder in an array and print it\n      Message[] messages = emailFolder.getMessages();\n      System.out.println(&quot;messages.length---&quot; + messages.length);\n\n      for (int i = 0, n = messages.length; i &lt; n; i++) {\n        Message message = messages[i];\n        System.out.println(&quot;---------------------------------&quot;);\n        System.out.println(&quot;Email Number &quot; + (i + 1));\n        System.out.println(&quot;Subject: &quot; + message.getSubject());\n        System.out.println(&quot;From: &quot; + message.getFrom()[0]);\n        System.out.println(&quot;Text: &quot; + message.getContent().toString());\n\n      }\n\n      //close the store and folder objects\n      emailFolder.close(false);\n      store.close();\n\n    } catch (NoSuchProviderException e) {\n      e.printStackTrace();\n    } catch (MessagingException e) {\n      e.printStackTrace();\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n\n  public static void main(String[] args) {\n\n    String host = &quot;private host name&quot;;// change accordingly\n    String mailStoreType = &quot;pop3&quot;;\n    String username = &quot;my email&quot;;// change accordingly\n    String password = &quot;my password&quot;;// change accordingly\n\n\n    check(host, mailStoreType, username, password);\n\n  }\n\n}\n\n</code></pre>\n"},{"tags":["java","okhttp","mockwebserver"],"answers":[{"comments":[{"owner":{"account_id":13514912,"reputation":438,"user_id":9749861,"display_name":"B.Z."},"score":1,"creation_date":1693426557,"post_id":65575553,"comment_id":135761246,"body_markdown":"for a particular query parameter, `recordedRequest.getRequestUrl().queryParameterValue(&quot;key&quot;);`","body":"for a particular query parameter, <code>recordedRequest.getRequestUrl().queryParameterValue(&quot;key&quot;);</code>"}],"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609836091,"creation_date":1609836091,"answer_id":65575553,"question_id":65573141,"body_markdown":"A good tutorial on MockWebServer https://www.baeldung.com/spring-mocking-webclient\r\n\r\nYou should be able to use getRequestUrl to access the full url including query params.\r\n\r\n```\r\nRecordedRequest recordedRequest = mockBackEnd.takeRequest();\r\n \r\nassertEquals(&quot;GET&quot;, recordedRequest.getMethod());\r\nassertEquals(&quot;/employee/100&quot;, recordedRequest.getPath());\r\n\r\nHttpUrl requestUrl = recordedRequest.getRequestUrl();\r\n```","title":"How do I extract param from MockWebServer when testing?","body":"<p>A good tutorial on MockWebServer <a href=\"https://www.baeldung.com/spring-mocking-webclient\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mocking-webclient</a></p>\n<p>You should be able to use getRequestUrl to access the full url including query params.</p>\n<pre><code>RecordedRequest recordedRequest = mockBackEnd.takeRequest();\n \nassertEquals(&quot;GET&quot;, recordedRequest.getMethod());\nassertEquals(&quot;/employee/100&quot;, recordedRequest.getPath());\n\nHttpUrl requestUrl = recordedRequest.getRequestUrl();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7597977,"reputation":664,"user_id":5763584,"display_name":"Thomas Turrell-Croft"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675428722,"creation_date":1675428722,"answer_id":75336016,"question_id":65573141,"body_markdown":"If you are using Spring you can use UriComponents.\r\n\r\n```Java\r\n\r\n@Test\r\nvoid test() throws InterruptedException {\r\n\r\n  mockWebServer.enqueue(new MockResponse().setStatus(&quot;HTTP/1.1 200 OK&quot;));\r\n\r\n  // Send HTTP request here\r\n\r\n  MultiValueMap&lt;String, String&gt; queryParams = getQueryParams(mockWebServer.takeRequest());\r\n\r\n  assertThat(queryParams.get(&quot;username&quot;), is(List.of(&quot;another&quot;)));\r\n}\r\n\r\n// Test utility\r\nprivate MultiValueMap&lt;String, String&gt; getQueryParams(RecordedRequest recordedRequest) {\r\n\r\n  UriComponents uriComponents =\r\n    UriComponentsBuilder.fromHttpUrl(recordedRequest.getRequestUrl().toString()).build();\r\n\r\n  return uriComponents.getQueryParams();\r\n}\r\n```","title":"How do I extract param from MockWebServer when testing?","body":"<p>If you are using Spring you can use UriComponents.</p>\n<pre><code>\n@Test\nvoid test() throws InterruptedException {\n\n  mockWebServer.enqueue(new MockResponse().setStatus(&quot;HTTP/1.1 200 OK&quot;));\n\n  // Send HTTP request here\n\n  MultiValueMap&lt;String, String&gt; queryParams = getQueryParams(mockWebServer.takeRequest());\n\n  assertThat(queryParams.get(&quot;username&quot;), is(List.of(&quot;another&quot;)));\n}\n\n// Test utility\nprivate MultiValueMap&lt;String, String&gt; getQueryParams(RecordedRequest recordedRequest) {\n\n  UriComponents uriComponents =\n    UriComponentsBuilder.fromHttpUrl(recordedRequest.getRequestUrl().toString()).build();\n\n  return uriComponents.getQueryParams();\n}\n</code></pre>\n"}],"owner":{"account_id":11997994,"reputation":41,"user_id":8778858,"display_name":"user8778858"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2541,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675428722,"creation_date":1609819730,"question_id":65573141,"body_markdown":"I am sending a request to a MockWebServer. I want to checkout parameters of said request for testing purposes. How can I extract it from MockWebServer?","title":"How do I extract param from MockWebServer when testing?","body":"<p>I am sending a request to a MockWebServer. I want to checkout parameters of said request for testing purposes. How can I extract it from MockWebServer?</p>\n"},{"tags":["java","sorting","collator"],"comments":[{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":1,"creation_date":1564050972,"post_id":57199918,"comment_id":100907878,"body_markdown":"Use `spCollator.compare()`","body":"Use <code>spCollator.compare()</code>"},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":1,"creation_date":1564051336,"post_id":57199918,"comment_id":100908080,"body_markdown":"also set collator&#39;s decomposition to CANONICAL and strength to PRIMARY","body":"also set collator&#39;s decomposition to CANONICAL and strength to PRIMARY"}],"answers":[{"comments":[{"owner":{"account_id":14824755,"reputation":127,"user_id":11458457,"display_name":"User1"},"score":0,"creation_date":1564051455,"post_id":57200091,"comment_id":100908153,"body_markdown":"This will not work to sort by the property. You are using a list of Strings I&#39;m using a list of objects.","body":"This will not work to sort by the property. You are using a list of Strings I&#39;m using a list of objects."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":7,"creation_date":1564052411,"post_id":57200091,"comment_id":100908680,"body_markdown":"`list.sort(Comparator.comparing(Element::getValue, spCollator));` assuming the objects&#39; class is Element.","body":"<code>list.sort(Comparator.comparing(Element::getValue, spCollator));</code> assuming the objects&#39; class is Element."}],"tags":[],"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1564052608,"creation_date":1564051354,"answer_id":57200091,"question_id":57199918,"body_markdown":"Collator is also a Comparator. \r\nIf the elements are String:\r\n    \r\n    List&lt;String&gt; list = Arrays.asList(&quot;abc&quot;, &quot;xyz&quot;, &quot;bde&quot;);\r\n    Collator spCollator = Collator.getInstance(new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n    list.sort(spCollator);\r\n\r\nIf the elements are custom Object:\r\n\r\n    List&lt;Element&gt; list = Arrays.asList(new Element(&quot;abc&quot;), new Element(&quot;xyz&quot;), new Element(&quot;bde&quot;), new Element(&quot;rew&quot;), new Element(&quot;aER&quot;),\r\n               new Element(&quot;Tre&quot;), new Element(&quot;ade&quot;));\r\n       list.subList(0, 4).sort(new MyElementComparator());\r\n       System.out.println(list);\r\n    \r\n    private static class MyElementComparator implements Comparator&lt;Element&gt;{\r\n       Collator spCollator = Collator.getInstance(new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n       public int compare (Element e1, Element e2){\r\n           return spCollator.compare(e1.getValue(), e2.getValue());\r\n       }\r\n    }\r\n\r\n\r\nOr the lambda way:\r\n\r\n    List&lt;Element&gt; list = Arrays.asList(new Element(&quot;abc&quot;), new Element(&quot;xyz&quot;), new Element(&quot;bde&quot;), new Element(&quot;rew&quot;), new Element(&quot;aER&quot;),\r\n            new Element(&quot;Tre&quot;), new Element(&quot;ade&quot;));\r\n    Collator spCollator = Collator.getInstance(new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n    list.subList(0, 4).sort((e1, e2)-&gt; spCollator.compare(e1.getValue(), e2.getValue()));\r\n    System.out.println(list);\r\n    \r\n","title":"How can I sort by property using a collator ? (Java)","body":"<p>Collator is also a Comparator. \nIf the elements are String:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"abc\", \"xyz\", \"bde\");\nCollator spCollator = Collator.getInstance(new Locale(\"es\", \"ES\"));\nlist.sort(spCollator);\n</code></pre>\n\n<p>If the elements are custom Object:</p>\n\n<pre><code>List&lt;Element&gt; list = Arrays.asList(new Element(\"abc\"), new Element(\"xyz\"), new Element(\"bde\"), new Element(\"rew\"), new Element(\"aER\"),\n           new Element(\"Tre\"), new Element(\"ade\"));\n   list.subList(0, 4).sort(new MyElementComparator());\n   System.out.println(list);\n\nprivate static class MyElementComparator implements Comparator&lt;Element&gt;{\n   Collator spCollator = Collator.getInstance(new Locale(\"es\", \"ES\"));\n   public int compare (Element e1, Element e2){\n       return spCollator.compare(e1.getValue(), e2.getValue());\n   }\n}\n</code></pre>\n\n<p>Or the lambda way:</p>\n\n<pre><code>List&lt;Element&gt; list = Arrays.asList(new Element(\"abc\"), new Element(\"xyz\"), new Element(\"bde\"), new Element(\"rew\"), new Element(\"aER\"),\n        new Element(\"Tre\"), new Element(\"ade\"));\nCollator spCollator = Collator.getInstance(new Locale(\"es\", \"ES\"));\nlist.subList(0, 4).sort((e1, e2)-&gt; spCollator.compare(e1.getValue(), e2.getValue()));\nSystem.out.println(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564051951,"creation_date":1564051951,"answer_id":57200270,"question_id":57199918,"body_markdown":"Instead of using `Comparator.comparing`, you create a lambda to first extract the value and then use the collator to compare.\r\n\r\n\r\n    Collator spCollator = Collator.getInstance(new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n    newList.subList(0, 5).sort((e1, e2) -&gt; spCollator.compare(e1.getValue(), e2.getValue()));\r\n\r\n\r\n","title":"How can I sort by property using a collator ? (Java)","body":"<p>Instead of using <code>Comparator.comparing</code>, you create a lambda to first extract the value and then use the collator to compare.</p>\n\n<pre><code>Collator spCollator = Collator.getInstance(new Locale(\"es\", \"ES\"));\nnewList.subList(0, 5).sort((e1, e2) -&gt; spCollator.compare(e1.getValue(), e2.getValue()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675428675,"creation_date":1675418498,"answer_id":75334111,"question_id":57199918,"body_markdown":"Actually, according to the documentation, it&#39;s better not to use the Collator for sorting directly, but to use the CollationKey instead:\r\n\r\n&gt; For comparing Strings exactly once, the compare method provides the best performance. When sorting a list of Strings however, it is generally necessary to compare each String multiple times. In this case, CollationKeys provide better performance. The CollationKey class converts a String to a series of bits that can be compared bitwise against other CollationKeys. A CollationKey is created by a Collator object for a given String.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/text/Collator.html\r\n\r\nhttps://kodejava.org/how-do-i-sort-strings-data-using-collationkey-class/\r\n\r\nSo, example from this article:\r\n\r\n```\r\npublic class CollationKeyExample {\r\n    public static void main(String[] args) {\r\n        String[] countries = {\r\n                &quot;German&quot;,\r\n                &quot;United Kingdom&quot;,\r\n                &quot;United States&quot;,\r\n                &quot;French&quot;,\r\n                &quot;Japan&quot;,\r\n                &quot;Myanmar&quot;,\r\n                &quot;India&quot;\r\n        };\r\n\r\n        System.out.println(&quot;original:&quot;);\r\n        System.out.println(Arrays.toString(countries));\r\n\r\n        // Gets Collator object of default locale\r\n        Collator collator = Collator.getInstance();\r\n\r\n        // Creates and initializes CollationKey array\r\n        CollationKey[] keys = new CollationKey[countries.length];\r\n\r\n        for (int i = 0; i &lt; countries.length; i++) {\r\n            // Generate CollationKey by calling\r\n            // Collator.getCollationKey() method then assign into\r\n            // keys which is an array of CollationKey.\r\n            // The CollationKey for the given String based on the \r\n            // Collator&#39;s collation rules.\r\n            keys[i] = collator.getCollationKey(countries[i]);\r\n        }\r\n\r\n        // Sort the keys array\r\n        Arrays.sort(keys);\r\n\r\n        // Print out the sorted array\r\n        System.out.println(&quot;sorted result: &quot;);\r\n        StringBuilder sb = new StringBuilder();\r\n        for (CollationKey key : keys) {\r\n            sb.append(key.getSourceString()).append(&quot;,&quot;);\r\n        }\r\n        System.out.println(sb);\r\n    }\r\n}\r\n```\r\n\r\nAnd, if you want to have a Kotlin solution (works in Java too, of course), you can have a more generic solution by storing the CollationKey for each item (using a HashMap, for example):\r\n\r\n```\r\nfun ArrayList&lt;String&gt;.sortUsingCollator(collator: Collator = Collator.getInstance()) {\r\n    if (size &lt;= 1)\r\n        return\r\n    val hashMap = HashMap&lt;String, CollationKey&gt;(size)\r\n    sortWith { o1, o2 -&gt;\r\n        val key1 = hashMap.getOrPut(o1) {\r\n            collator.getCollationKey(o1)\r\n        }\r\n        val key2 = hashMap.getOrPut(o2) {\r\n            collator.getCollationKey(o2)\r\n        }\r\n        key1.compareTo(key2)\r\n    }\r\n}\r\n\r\nfun &lt;T&gt; ArrayList&lt;T&gt;.sortUsingCollator(collator: Collator = Collator.getInstance(), getStringValue: (input: T) -&gt; String) {\r\n    if (size &lt;= 1)\r\n        return\r\n    val hashMap = HashMap&lt;String, CollationKey&gt;(size)\r\n    sortWith { o1, o2 -&gt;\r\n        val o1Str = getStringValue(o1)\r\n        val o2Str = getStringValue(o2)\r\n        val key1 = hashMap.getOrPut(o1Str) {\r\n            collator.getCollationKey(o1Str)\r\n        }\r\n        val key2 = hashMap.getOrPut(o2Str) {\r\n            collator.getCollationKey(o2Str)\r\n        }\r\n        key1.compareTo(key2)\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nval testList = arrayListOf(\r\n    &quot;asd&quot;, &quot;&#233;zxc&quot;, &quot;&#226;xc&quot;, &quot;bbb&quot;, &quot;etas&quot;, &quot;&#224;zxc&quot;, &quot;ASD&quot;, &quot;aSd&quot;\r\n)\r\n//useful in case the list is of strings:\r\ntestList.sortUsingCollator()\r\n//this is useful in case the list isn&#39;t of string:\r\ntestList.sortUsingCollator { it }\r\n```","title":"How can I sort by property using a collator ? (Java)","body":"<p>Actually, according to the documentation, it's better not to use the Collator for sorting directly, but to use the CollationKey instead:</p>\n<blockquote>\n<p>For comparing Strings exactly once, the compare method provides the best performance. When sorting a list of Strings however, it is generally necessary to compare each String multiple times. In this case, CollationKeys provide better performance. The CollationKey class converts a String to a series of bits that can be compared bitwise against other CollationKeys. A CollationKey is created by a Collator object for a given String.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html</a></p>\n<p><a href=\"https://kodejava.org/how-do-i-sort-strings-data-using-collationkey-class/\" rel=\"nofollow noreferrer\">https://kodejava.org/how-do-i-sort-strings-data-using-collationkey-class/</a></p>\n<p>So, example from this article:</p>\n<pre><code>public class CollationKeyExample {\n    public static void main(String[] args) {\n        String[] countries = {\n                &quot;German&quot;,\n                &quot;United Kingdom&quot;,\n                &quot;United States&quot;,\n                &quot;French&quot;,\n                &quot;Japan&quot;,\n                &quot;Myanmar&quot;,\n                &quot;India&quot;\n        };\n\n        System.out.println(&quot;original:&quot;);\n        System.out.println(Arrays.toString(countries));\n\n        // Gets Collator object of default locale\n        Collator collator = Collator.getInstance();\n\n        // Creates and initializes CollationKey array\n        CollationKey[] keys = new CollationKey[countries.length];\n\n        for (int i = 0; i &lt; countries.length; i++) {\n            // Generate CollationKey by calling\n            // Collator.getCollationKey() method then assign into\n            // keys which is an array of CollationKey.\n            // The CollationKey for the given String based on the \n            // Collator's collation rules.\n            keys[i] = collator.getCollationKey(countries[i]);\n        }\n\n        // Sort the keys array\n        Arrays.sort(keys);\n\n        // Print out the sorted array\n        System.out.println(&quot;sorted result: &quot;);\n        StringBuilder sb = new StringBuilder();\n        for (CollationKey key : keys) {\n            sb.append(key.getSourceString()).append(&quot;,&quot;);\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n<p>And, if you want to have a Kotlin solution (works in Java too, of course), you can have a more generic solution by storing the CollationKey for each item (using a HashMap, for example):</p>\n<pre><code>fun ArrayList&lt;String&gt;.sortUsingCollator(collator: Collator = Collator.getInstance()) {\n    if (size &lt;= 1)\n        return\n    val hashMap = HashMap&lt;String, CollationKey&gt;(size)\n    sortWith { o1, o2 -&gt;\n        val key1 = hashMap.getOrPut(o1) {\n            collator.getCollationKey(o1)\n        }\n        val key2 = hashMap.getOrPut(o2) {\n            collator.getCollationKey(o2)\n        }\n        key1.compareTo(key2)\n    }\n}\n\nfun &lt;T&gt; ArrayList&lt;T&gt;.sortUsingCollator(collator: Collator = Collator.getInstance(), getStringValue: (input: T) -&gt; String) {\n    if (size &lt;= 1)\n        return\n    val hashMap = HashMap&lt;String, CollationKey&gt;(size)\n    sortWith { o1, o2 -&gt;\n        val o1Str = getStringValue(o1)\n        val o2Str = getStringValue(o2)\n        val key1 = hashMap.getOrPut(o1Str) {\n            collator.getCollationKey(o1Str)\n        }\n        val key2 = hashMap.getOrPut(o2Str) {\n            collator.getCollationKey(o2Str)\n        }\n        key1.compareTo(key2)\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val testList = arrayListOf(\n    &quot;asd&quot;, &quot;ézxc&quot;, &quot;âxc&quot;, &quot;bbb&quot;, &quot;etas&quot;, &quot;àzxc&quot;, &quot;ASD&quot;, &quot;aSd&quot;\n)\n//useful in case the list is of strings:\ntestList.sortUsingCollator()\n//this is useful in case the list isn't of string:\ntestList.sortUsingCollator { it }\n</code></pre>\n"}],"owner":{"account_id":14824755,"reputation":127,"user_id":11458457,"display_name":"User1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4780,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":57200091,"answer_count":3,"score":0,"last_activity_date":1675428675,"creation_date":1564050821,"question_id":57199918,"body_markdown":"(I use Java) \r\n\r\nI want to sort a sublist of objects by a property using a Collator so that is sorted by alphabetical order but ignoring accents. Problem is I have tried different things and none work.\r\n\r\n\r\n\r\nThis sorts the sublists but doesn&#39;t ignore accents:\r\n\r\n    newList.subList(0, 5).sort(Comparator.comparing(element -&gt; element.getValue()));\r\n\r\n\r\nThis is the collator I want to use:\r\n\r\n    Collator spCollator = Collator.getInstance(new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n            \r\n\r\nI expect the output to be a sublist sorted by alphabetical order by the property which you can access with .getValue() ignoring the accents.\r\n","title":"How can I sort by property using a collator ? (Java)","body":"<p>(I use Java) </p>\n\n<p>I want to sort a sublist of objects by a property using a Collator so that is sorted by alphabetical order but ignoring accents. Problem is I have tried different things and none work.</p>\n\n<p>This sorts the sublists but doesn't ignore accents:</p>\n\n<pre><code>newList.subList(0, 5).sort(Comparator.comparing(element -&gt; element.getValue()));\n</code></pre>\n\n<p>This is the collator I want to use:</p>\n\n<pre><code>Collator spCollator = Collator.getInstance(new Locale(\"es\", \"ES\"));\n</code></pre>\n\n<p>I expect the output to be a sublist sorted by alphabetical order by the property which you can access with .getValue() ignoring the accents.</p>\n"},{"tags":["java","unsigned","crc32"],"comments":[{"owner":{"account_id":17216618,"reputation":83,"user_id":14735091,"display_name":"BlackRose01"},"score":0,"creation_date":1611160281,"post_id":65813199,"comment_id":116363320,"body_markdown":"I tried to use the algorithm from https://stackoverflow.com/questions/14187955/yet-another-java-crc32-implementation-related-issue with the given table and the int array from the decompiled class but the problem is still there.","body":"I tried to use the algorithm from <a href=\"https://stackoverflow.com/questions/14187955/yet-another-java-crc32-implementation-related-issue\" title=\"yet another java crc32 implementation related issue\">stackoverflow.com/questions/14187955/&hellip;</a> with the given table and the int array from the decompiled class but the problem is still there."},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1611162116,"post_id":65813199,"comment_id":116364216,"body_markdown":"What exactly is &quot;the problem&quot;? What CRC are you getting, as compared to what you are expecting?","body":"What exactly is &quot;the problem&quot;? What CRC are you getting, as compared to what you are expecting?"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1611200541,"post_id":65813199,"comment_id":116376320,"body_markdown":"So where is your attempt at implementing the CRC in Java? That needs to be in the question.","body":"So where is your attempt at implementing the CRC in Java? That needs to be in the question."},{"owner":{"account_id":17216618,"reputation":83,"user_id":14735091,"display_name":"BlackRose01"},"score":0,"creation_date":1611219491,"post_id":65813199,"comment_id":116381517,"body_markdown":"Sorry, I add the missing information as Update 1 and Update 2.","body":"Sorry, I add the missing information as Update 1 and Update 2."}],"answers":[{"comments":[{"owner":{"account_id":17216618,"reputation":83,"user_id":14735091,"display_name":"BlackRose01"},"score":0,"creation_date":1611311099,"post_id":65835265,"comment_id":116415752,"body_markdown":"Thank you for the answer and the patience. The initial value and the numArr2 come from the decompiled IO-Link program. That&#39;s the reason why I used the values. I implemented your code but the result is the same. The output is -1135711583 (with Integer.toUnsignedString 1135711582) and expected was 1195433981 according to the XML file. I also noticed an error in the handling of the IODD file on my part. I originally thought that a function would remove the complete stamp line but in fact only the value of the CRC attribute is removed. I have already fixed this in my source code.","body":"Thank you for the answer and the patience. The initial value and the numArr2 come from the decompiled IO-Link program. That&#39;s the reason why I used the values. I implemented your code but the result is the same. The output is -1135711583 (with Integer.toUnsignedString 1135711582) and expected was 1195433981 according to the XML file. I also noticed an error in the handling of the IODD file on my part. I originally thought that a function would remove the complete stamp line but in fact only the value of the CRC attribute is removed. I have already fixed this in my source code."},{"owner":{"account_id":17216618,"reputation":83,"user_id":14735091,"display_name":"BlackRose01"},"score":0,"creation_date":1611319406,"post_id":65835265,"comment_id":116419234,"body_markdown":"When I use the second function with the polynomial from this site (https://introcs.cs.princeton.edu/java/61data/CRC32.java.html ) then the value for the IODD is correct but when I use another test file from an other sensor then it fails","body":"When I use the second function with the polynomial from this site (<a href=\"https://introcs.cs.princeton.edu/java/61data/CRC32.java.html\" rel=\"nofollow noreferrer\">introcs.cs.princeton.edu/java/61data/CRC32.java.html</a> ) then the value for the IODD is correct but when I use another test file from an other sensor then it fails"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1611335040,"post_id":65835265,"comment_id":116427251,"body_markdown":"@BlackRose01 The function in my answer is verified to produce the same CRC as the example bitwise code. From there, you need to make sure you are computing the CRC over exactly the correct input data.","body":"@BlackRose01 The function in my answer is verified to produce the same CRC as the example bitwise code. From there, you need to make sure you are computing the CRC over exactly the correct input data."},{"owner":{"account_id":17216618,"reputation":83,"user_id":14735091,"display_name":"BlackRose01"},"score":0,"creation_date":1611337565,"post_id":65835265,"comment_id":116428327,"body_markdown":"Sorry for the circumstances from my side. The byte input is exact the same because I wrote the byte input from the decompiled CRC method from IO-Link to a text file and my Java program use this file as byte input for the function. Maybe my compare method is wrong. I try it with (crc_calc ^ crc_file) == 0 and the crc_file get its value by Long.valueOf(1195433981).intValue()","body":"Sorry for the circumstances from my side. The byte input is exact the same because I wrote the byte input from the decompiled CRC method from IO-Link to a text file and my Java program use this file as byte input for the function. Maybe my compare method is wrong. I try it with (crc_calc ^ crc_file) == 0 and the crc_file get its value by Long.valueOf(1195433981).intValue()"}],"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611430396,"creation_date":1611260979,"answer_id":65835265,"question_id":65813199,"body_markdown":"You have the initial CRC wrong. It is 1. From the document you linked:\r\n\r\n&gt; The seed value shall be &quot;1&quot; (see previousCrc32 = 1 in Figure B.1 and\r\n&gt; Figure B.2).\r\n\r\nThat value is then inverted before the loop, so at that point your &quot;num&quot; should be `0xfffffffe`.\r\n\r\nYou `numArr1` is correct. I don&#39;t know where your `numArr2` came from.\r\n\r\nAll you need is this, calling with the first argument being 1:\r\n\r\n\tstatic private int crc32iodd(int crc, byte[] data){\r\n\t\tcrc = ~crc;\r\n\t\tfor (byte b : data)\r\n\t\t\tcrc = numArr1[(crc ^ b) &amp; 0xff] ^ (crc &gt;&gt;&gt; 8);\r\n\t\treturn ~crc;\r\n\t}\r\n\r\nSince Java doesn&#39;t have unsigned int, half the time your result will be negative. That&#39;s fine, since it&#39;s the exact same 32 bits as you would have as an unsigned result, just printed differently.\r\n\r\nThere is no sense of &quot;closer&quot; for the answer. The integer difference between what you want and what you&#39;re getting has no meaning in the world of CRCs, since they are not integer calculations.\r\n\r\n_Update:_\r\n\r\nLooking more closely at your links and the CRC reference code you put in your question, it appears you have referenced entirely the wrong documents for the CRC you actually need. You referenced the CRC for BLOBs used for firmware updates, which is _not_ the CRC used for validation of the XML files. [This document][1] provides the specification for the CRC used for the XML files as the 32-bit CRC found in the ITU-T recommendation V.42. That is a different CRC using a different polynomial and different initial value. It is in fact the standard CRC-32 used by zip, and is available in Java as `java.util.zip.CRC32`. You don&#39;t need to write any CRC code. Just use that.\r\n\r\nThat document also notes but does not detail special processing of the XML input before computing the CRC. You will need to do more research to find out exactly what the CRC is calculated over in the XML file, and how it is pre-processed. [This package][2] has a description that notes that the associated language xml&#39;s have the CRC of main xml&#39;s appended to the end before each of their CRC calculations. However it is not made clear as to exactly how the CRC is appended.\r\n\r\nThis time please conduct adequate research and verification on your part, before coming here with questions about how to implement an incorrectly identified CRC.\r\n\r\n\r\n  [1]: http://io-link.com/share/Downloads/Spec-IODD/IOL-Device-Description_10012_V10_090118.pdf\r\n  [2]: https://io-link.com/share/Downloads/IO_Device_Description_V1.1_SchemasStandardDefinitions.zip","title":"IO-Link CRC32 implementation","body":"<p>You have the initial CRC wrong. It is 1. From the document you linked:</p>\n<blockquote>\n<p>The seed value shall be &quot;1&quot; (see previousCrc32 = 1 in Figure B.1 and\nFigure B.2).</p>\n</blockquote>\n<p>That value is then inverted before the loop, so at that point your &quot;num&quot; should be <code>0xfffffffe</code>.</p>\n<p>You <code>numArr1</code> is correct. I don't know where your <code>numArr2</code> came from.</p>\n<p>All you need is this, calling with the first argument being 1:</p>\n<pre><code>static private int crc32iodd(int crc, byte[] data){\n    crc = ~crc;\n    for (byte b : data)\n        crc = numArr1[(crc ^ b) &amp; 0xff] ^ (crc &gt;&gt;&gt; 8);\n    return ~crc;\n}\n</code></pre>\n<p>Since Java doesn't have unsigned int, half the time your result will be negative. That's fine, since it's the exact same 32 bits as you would have as an unsigned result, just printed differently.</p>\n<p>There is no sense of &quot;closer&quot; for the answer. The integer difference between what you want and what you're getting has no meaning in the world of CRCs, since they are not integer calculations.</p>\n<p><em>Update:</em></p>\n<p>Looking more closely at your links and the CRC reference code you put in your question, it appears you have referenced entirely the wrong documents for the CRC you actually need. You referenced the CRC for BLOBs used for firmware updates, which is <em>not</em> the CRC used for validation of the XML files. <a href=\"http://io-link.com/share/Downloads/Spec-IODD/IOL-Device-Description_10012_V10_090118.pdf\" rel=\"nofollow noreferrer\">This document</a> provides the specification for the CRC used for the XML files as the 32-bit CRC found in the ITU-T recommendation V.42. That is a different CRC using a different polynomial and different initial value. It is in fact the standard CRC-32 used by zip, and is available in Java as <code>java.util.zip.CRC32</code>. You don't need to write any CRC code. Just use that.</p>\n<p>That document also notes but does not detail special processing of the XML input before computing the CRC. You will need to do more research to find out exactly what the CRC is calculated over in the XML file, and how it is pre-processed. <a href=\"https://io-link.com/share/Downloads/IO_Device_Description_V1.1_SchemasStandardDefinitions.zip\" rel=\"nofollow noreferrer\">This package</a> has a description that notes that the associated language xml's have the CRC of main xml's appended to the end before each of their CRC calculations. However it is not made clear as to exactly how the CRC is appended.</p>\n<p>This time please conduct adequate research and verification on your part, before coming here with questions about how to implement an incorrectly identified CRC.</p>\n"},{"tags":[],"owner":{"account_id":17216618,"reputation":83,"user_id":14735091,"display_name":"BlackRose01"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611584872,"creation_date":1611584256,"answer_id":65886501,"question_id":65813199,"body_markdown":"For the sake of completeness.\r\n\r\nYou are right. I can use the ```java.util.zip.CRC32```. I think the problem was that I try at the beginning of my implementation tests to use the whole xml file and so I thought that the description in the PDF was wrong.\r\n\r\nAnd here is the solution:\r\nIf you have a IODD XML file than you have to remove the value of crc in the stamp-tag. Subsequently, if not already done, convert the file content without the crc-value to a byte array. And now you can use one of these two functions:\r\n\r\nImplementation with ```java.util.zip.CRC32```\r\n```java\r\npublic boolean isValid() {\r\n    CRC32 m = new CRC32();\r\n    m.update(file);\r\n    long x = 1195433981L;\r\n    \r\n    return (m.getValue() == x);\r\n}\r\n```\r\n\r\nManual implementation (The table is according to the site https://rosettacode.org/wiki/CRC-32#Lingo or https://web.mit.edu/freebsd/head/sys/libkern/crc32.c)\r\n```java\r\npublic class Crc32 {\r\n    private static final long[] numArr2 = new long[] {\r\n            0L, 1996959894L, 3993919788L, 2567524794L, 124634137L, 1886057615L, 3915621685L, 2657392035L, 249268274L, 2044508324L, 3772115230L, 2547177864L, 162941995L, 2125561021L, 3887607047L, 2428444049L, 498536548L, 1789927666L, 4089016648L, 2227061214L, 450548861L, 1843258603L, 4107580753L, 2211677639L, 325883990L, 1684777152L, 4251122042L, 2321926636L, 335633487L, 1661365465L, 4195302755L, 2366115317L, 997073096L, 1281953886L, 3579855332L, 2724688242L, 1006888145L, 1258607687L, 3524101629L, 2768942443L, 901097722L, 1119000684L, 3686517206L, 2898065728L, 853044451L, 1172266101L, 3705015759L, 2882616665L, 651767980L, 1373503546L, 3369554304L, 3218104598L, 565507253L, 1454621731L, 3485111705L, 3099436303L, 671266974L, 1594198024L, 3322730930L, 2970347812L, 795835527L, 1483230225L, 3244367275L, 3060149565L, 1994146192L, 31158534L, 2563907772L, 4023717930L, 1907459465L, 112637215L, 2680153253L, 3904427059L, 2013776290L, 251722036L, 2517215374L, 3775830040L, 2137656763L, 141376813L, 2439277719L, 3865271297L, 1802195444L, 476864866L, 2238001368L, 4066508878L, 1812370925L, 453092731L, 2181625025L, 4111451223L, 1706088902L, 314042704L, 2344532202L, 4240017532L, 1658658271L, 366619977L, 2362670323L, 4224994405L, 1303535960L, 984961486L, 2747007092L, 3569037538L, 1256170817L, 1037604311L, 2765210733L, 3554079995L, 1131014506L, 879679996L, 2909243462L, 3663771856L, 1141124467L, 855842277L, 2852801631L, 3708648649L, 1342533948L, 654459306L, 3188396048L, 3373015174L, 1466479909L, 544179635L, 3110523913L, 3462522015L, 1591671054L, 702138776L, 2966460450L, 3352799412L, 1504918807L, 783551873L, 3082640443L, 3233442989L, 3988292384L, 2596254646L, 62317068L, 1957810842L, 3939845945L, 2647816111L, 81470997L, 1943803523L, 3814918930L, 2489596804L, 225274430L, 2053790376L, 3826175755L, 2466906013L, 167816743L, 2097651377L, 4027552580L, 2265490386L, 503444072L, 1762050814L, 4150417245L, 2154129355L, 426522225L, 1852507879L, 4275313526L, 2312317920L, 282753626L, 1742555852L, 4189708143L, 2394877945L, 397917763L, 1622183637L, 3604390888L, 2714866558L, 953729732L, 1340076626L, 3518719985L, 2797360999L, 1068828381L, 1219638859L, 3624741850L, 2936675148L, 906185462L, 1090812512L, 3747672003L, 2825379669L, 829329135L, 1181335161L, 3412177804L, 3160834842L, 628085408L, 1382605366L, 3423369109L, 3138078467L, 570562233L, 1426400815L, 3317316542L, 2998733608L, 733239954L, 1555261956L, 3268935591L, 3050360625L, 752459403L, 1541320221L, 2607071920L, 3965973030L, 1969922972L, 40735498L, 2617837225L, 3943577151L, 1913087877L, 83908371L, 2512341634L, 3803740692L, 2075208622L, 213261112L, 2463272603L, 3855990285L, 2094854071L, 198958881L, 2262029012L, 4057260610L, 1759359992L, 534414190L, 2176718541L, 4139329115L, 1873836001L, 414664567L, 2282248934L, 4279200368L, 1711684554L, 285281116L, 2405801727L, 4167216745L, 1634467795L, 376229701L, 2685067896L, 3608007406L, 1308918612L, 956543938L, 2808555105L, 3495958263L, 1231636301L, 1047427035L, 2932959818L, 3654703836L, 1088359270L, 936918000L, 2847714899L, 3736837829L, 1202900863L, 817233897L, 3183342108L, 3401237130L, 1404277552L, 615818150L, 3134207493L, 3453421203L, 1423857449L, 601450431L, 3009837614L, 3294710456L, 1567103746L, 711928724L, 3020668471L, 3272380065L, 1510334235L, 755167117L\r\n    };\r\n\r\n    private static long crc32(byte[] data){\r\n        long crc = 0xFFFFFFFFL;\r\n\r\n        for (byte b : data)\r\n            crc = numArr2[(int)(crc ^ b) &amp; 0xff] ^ (crc &gt;&gt;&gt; 8);\r\n\r\n        return crc ^ 0xFFFFFFFFL;\r\n    }\r\n    \r\n    public static boolean isValid(byte[] data, long checkCrc) {\r\n        long crc = crc32(data);\r\n        \r\n        return (checkCrc == crc);\r\n    }\r\n}\r\n```","title":"IO-Link CRC32 implementation","body":"<p>For the sake of completeness.</p>\n<p>You are right. I can use the <code>java.util.zip.CRC32</code>. I think the problem was that I try at the beginning of my implementation tests to use the whole xml file and so I thought that the description in the PDF was wrong.</p>\n<p>And here is the solution:\nIf you have a IODD XML file than you have to remove the value of crc in the stamp-tag. Subsequently, if not already done, convert the file content without the crc-value to a byte array. And now you can use one of these two functions:</p>\n<p>Implementation with <code>java.util.zip.CRC32</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isValid() {\n    CRC32 m = new CRC32();\n    m.update(file);\n    long x = 1195433981L;\n    \n    return (m.getValue() == x);\n}\n</code></pre>\n<p>Manual implementation (The table is according to the site <a href=\"https://rosettacode.org/wiki/CRC-32#Lingo\" rel=\"nofollow noreferrer\">https://rosettacode.org/wiki/CRC-32#Lingo</a> or <a href=\"https://web.mit.edu/freebsd/head/sys/libkern/crc32.c\" rel=\"nofollow noreferrer\">https://web.mit.edu/freebsd/head/sys/libkern/crc32.c</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Crc32 {\n    private static final long[] numArr2 = new long[] {\n            0L, 1996959894L, 3993919788L, 2567524794L, 124634137L, 1886057615L, 3915621685L, 2657392035L, 249268274L, 2044508324L, 3772115230L, 2547177864L, 162941995L, 2125561021L, 3887607047L, 2428444049L, 498536548L, 1789927666L, 4089016648L, 2227061214L, 450548861L, 1843258603L, 4107580753L, 2211677639L, 325883990L, 1684777152L, 4251122042L, 2321926636L, 335633487L, 1661365465L, 4195302755L, 2366115317L, 997073096L, 1281953886L, 3579855332L, 2724688242L, 1006888145L, 1258607687L, 3524101629L, 2768942443L, 901097722L, 1119000684L, 3686517206L, 2898065728L, 853044451L, 1172266101L, 3705015759L, 2882616665L, 651767980L, 1373503546L, 3369554304L, 3218104598L, 565507253L, 1454621731L, 3485111705L, 3099436303L, 671266974L, 1594198024L, 3322730930L, 2970347812L, 795835527L, 1483230225L, 3244367275L, 3060149565L, 1994146192L, 31158534L, 2563907772L, 4023717930L, 1907459465L, 112637215L, 2680153253L, 3904427059L, 2013776290L, 251722036L, 2517215374L, 3775830040L, 2137656763L, 141376813L, 2439277719L, 3865271297L, 1802195444L, 476864866L, 2238001368L, 4066508878L, 1812370925L, 453092731L, 2181625025L, 4111451223L, 1706088902L, 314042704L, 2344532202L, 4240017532L, 1658658271L, 366619977L, 2362670323L, 4224994405L, 1303535960L, 984961486L, 2747007092L, 3569037538L, 1256170817L, 1037604311L, 2765210733L, 3554079995L, 1131014506L, 879679996L, 2909243462L, 3663771856L, 1141124467L, 855842277L, 2852801631L, 3708648649L, 1342533948L, 654459306L, 3188396048L, 3373015174L, 1466479909L, 544179635L, 3110523913L, 3462522015L, 1591671054L, 702138776L, 2966460450L, 3352799412L, 1504918807L, 783551873L, 3082640443L, 3233442989L, 3988292384L, 2596254646L, 62317068L, 1957810842L, 3939845945L, 2647816111L, 81470997L, 1943803523L, 3814918930L, 2489596804L, 225274430L, 2053790376L, 3826175755L, 2466906013L, 167816743L, 2097651377L, 4027552580L, 2265490386L, 503444072L, 1762050814L, 4150417245L, 2154129355L, 426522225L, 1852507879L, 4275313526L, 2312317920L, 282753626L, 1742555852L, 4189708143L, 2394877945L, 397917763L, 1622183637L, 3604390888L, 2714866558L, 953729732L, 1340076626L, 3518719985L, 2797360999L, 1068828381L, 1219638859L, 3624741850L, 2936675148L, 906185462L, 1090812512L, 3747672003L, 2825379669L, 829329135L, 1181335161L, 3412177804L, 3160834842L, 628085408L, 1382605366L, 3423369109L, 3138078467L, 570562233L, 1426400815L, 3317316542L, 2998733608L, 733239954L, 1555261956L, 3268935591L, 3050360625L, 752459403L, 1541320221L, 2607071920L, 3965973030L, 1969922972L, 40735498L, 2617837225L, 3943577151L, 1913087877L, 83908371L, 2512341634L, 3803740692L, 2075208622L, 213261112L, 2463272603L, 3855990285L, 2094854071L, 198958881L, 2262029012L, 4057260610L, 1759359992L, 534414190L, 2176718541L, 4139329115L, 1873836001L, 414664567L, 2282248934L, 4279200368L, 1711684554L, 285281116L, 2405801727L, 4167216745L, 1634467795L, 376229701L, 2685067896L, 3608007406L, 1308918612L, 956543938L, 2808555105L, 3495958263L, 1231636301L, 1047427035L, 2932959818L, 3654703836L, 1088359270L, 936918000L, 2847714899L, 3736837829L, 1202900863L, 817233897L, 3183342108L, 3401237130L, 1404277552L, 615818150L, 3134207493L, 3453421203L, 1423857449L, 601450431L, 3009837614L, 3294710456L, 1567103746L, 711928724L, 3020668471L, 3272380065L, 1510334235L, 755167117L\n    };\n\n    private static long crc32(byte[] data){\n        long crc = 0xFFFFFFFFL;\n\n        for (byte b : data)\n            crc = numArr2[(int)(crc ^ b) &amp; 0xff] ^ (crc &gt;&gt;&gt; 8);\n\n        return crc ^ 0xFFFFFFFFL;\n    }\n    \n    public static boolean isValid(byte[] data, long checkCrc) {\n        long crc = crc32(data);\n        \n        return (checkCrc == crc);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27694666,"reputation":1,"user_id":21140644,"display_name":"Markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675428601,"creation_date":1675428601,"answer_id":75335984,"question_id":65813199,"body_markdown":"I had the same problem, but I use Python. One comment first. CRCs are made for the detection of changes. If you change only one bit in the input stream, the CRC will be completely different. So you can&#39;t say, the calculated the crc is close to the right value. \r\n\r\nThis is my code, which calculates the right crc \r\n\r\n    prev = 0  \r\n    for eachLine in open(file,&quot;rb&quot;):\r\n        prev = zlib.crc32(eachLine, prev)\r\n    crc = prev &amp; 0xFFFFFFFF\r\n\r\nAt first you clear the crc in your file to an empty string &quot;&quot;. Then you have to use this file to calculate the crc. Because of processing the file as binary, don&#39;t change anything besides the crc (tabs, spaces, line endings). One space, automatically removed by the IODD_Checker tool, costed nearly a complete day. \r\n\r\nIf you calculate a 32 bit crc, you will have the possibility of 1 to ‭4294967295‬ that 0 is a valid crc. Because the checker uses this value to mark the crc as invalid, I&#39;m not sure there is a special handling defined.\r\n\r\n    if 0 == prev:\r\n        crc = 0xFFFFFFFF\r\n    else:\r\n       crc = prev &amp; 0xFFFFFFFF\r\n\r\nThis issue I will have to check.","title":"IO-Link CRC32 implementation","body":"<p>I had the same problem, but I use Python. One comment first. CRCs are made for the detection of changes. If you change only one bit in the input stream, the CRC will be completely different. So you can't say, the calculated the crc is close to the right value.</p>\n<p>This is my code, which calculates the right crc</p>\n<pre><code>prev = 0  \nfor eachLine in open(file,&quot;rb&quot;):\n    prev = zlib.crc32(eachLine, prev)\ncrc = prev &amp; 0xFFFFFFFF\n</code></pre>\n<p>At first you clear the crc in your file to an empty string &quot;&quot;. Then you have to use this file to calculate the crc. Because of processing the file as binary, don't change anything besides the crc (tabs, spaces, line endings). One space, automatically removed by the IODD_Checker tool, costed nearly a complete day.</p>\n<p>If you calculate a 32 bit crc, you will have the possibility of 1 to ‭4294967295‬ that 0 is a valid crc. Because the checker uses this value to mark the crc as invalid, I'm not sure there is a special handling defined.</p>\n<pre><code>if 0 == prev:\n    crc = 0xFFFFFFFF\nelse:\n   crc = prev &amp; 0xFFFFFFFF\n</code></pre>\n<p>This issue I will have to check.</p>\n"}],"owner":{"account_id":17216618,"reputation":83,"user_id":14735091,"display_name":"BlackRose01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65835265,"answer_count":3,"score":0,"last_activity_date":1675428601,"creation_date":1611158755,"question_id":65813199,"body_markdown":"currently I try to implement the CRC32 check algorithm from IO-Link for IODD files in Java [1]. In IO-Link each sensor is described with an IODD xml file [2]. The file contains a stamp tag with a crc code. My problem here is that the algorithm uses only unsigned integers and Java does not uses this type of types. Is there still a way to implement that?\r\n\r\nI also use JetBrains dotPeek program to decompile the IODDChecker (latest Version). The CRC-Logic is in the file clsCRC.cs. At the end of the file I found the method &quot;CRC32&quot; which calculates the CRC. The problem is that they use other integers (unsigned integers) for the lookup-table. An interesting fact is that the algorithm in the IODD checker (crc32_octetwise) is slightly different from the one described in the specification.\r\n\r\nHope you can help me :)\r\n\r\nWhat I tested:\r\n* Java CRC32 from zip\r\n* Guava UnsignedInteger\r\n* BigInteger\r\n* long instead of int\r\n\r\nProcedure:\r\n1. Program read the IODD as String/byte array\r\n2. Remove the CRC value from Stamp-Tag from the String/byte array\r\n3. Create CRC32 from string/byte array\r\n4. In the test IODD you can find the CRC 1195433981 which should be equal to the output of the algorithm\r\n\r\nAlgorithms:\\\r\nThere are two algorithms. The first one is bitwise and the second one is octetwise and uses an lookup-table which you can find here [2].\r\n\r\n```c\r\nuint32_t crc32_bitwise(char *data, size_t length, uint32_t previousCrc32 = 1)\r\n{\r\n    uint32_t crc = ~previousCrc32;\r\n    int j;\r\n    const uint8_t* current = (const uint8_t*) data;\r\n    while (length-- &gt; 0)\r\n    {\r\n        crc ^= *current++;\r\n        for (j = 0; j &lt; 8; j++)\r\n        {\r\n            crc = (crc &gt;&gt; 1) ^ (-(int32_t)(crc &amp; 1) &amp; 0xEB31D82E);\r\n        }\r\n    }\r\n    return ~crc;\r\n}\r\n```\r\n\r\n```c\r\nuint32_t crc32_octetwise(uint8_t const * current, uint32_t length, uint32_t previousCrc32 = 1, const uint32_t crc32Lookup[256])\r\n{\r\n    uint32_t crc = ~previousCrc32;\r\n    while (length-- &gt; 0)\r\n        crc = (crc &gt;&gt; 8) ^ crc32Lookup[(crc &amp; 0xFF) ^ *current++];\r\n    return ~crc;\r\n}\r\n```\r\n\r\n[1] https://io-link.com/share/Downloads/Profiles/IOL-Profile_Firmware-Update_V11_10082_Sep19.zip \\\r\n[2] https://ioddfinder.io-link.com/productvariants/search/11765 \\\r\n[3] https://stackoverflow.com/questions/14187955/yet-another-java-crc32-implementation-related-issue\r\n\r\n## Update 1\r\n\r\nI forgot to add that I currently receive 1120211745 as CRC Code but 1195433981 is the correct code.\r\n\r\n## Update 2\r\n\r\nThe following Codes was implemented from me. The big arrays are the lookup tables. The first int array is the table from the [1] and the second one is the array from the decompiled source. In the original were the int numbers marked as unsigned (e.g. 1996959894U).\r\n\r\n```java\r\nprivate static final int[] numArr1 = new int[] {\r\n            0x00000000, 0x9695C4CA, 0xFB4839C9, 0x6DDDFD03, 0x20F3C3CF, 0xB6660705, 0xDBBBFA06, 0x4D2E3ECC, 0x41E7879E, 0xD7724354, 0xBAAFBE57, 0x2C3A7A9D, 0x61144451, 0xF781809B, 0x9A5C7D98, 0x0CC9B952, 0x83CF0F3C, 0x155ACBF6, 0x788736F5, 0xEE12F23F, 0xA33CCCF3, 0x35A90839, 0x5874F53A, 0xCEE131F0, 0xC22888A2, 0x54BD4C68, 0x3960B16B, 0xAFF575A1, 0xE2DB4B6D, 0x744E8FA7, 0x199372A4, 0x8F06B66E, 0xD1FDAE25, 0x47686AEF, 0x2AB597EC, 0xBC205326, 0xF10E6DEA, 0x679BA920, 0x0A465423, 0x9CD390E9, 0x901A29BB, 0x068FED71, 0x6B521072, 0xFDC7D4B8, 0xB0E9EA74, 0x267C2EBE, 0x4BA1D3BD, 0xDD341777, 0x5232A119, 0xC4A765D3, 0xA97A98D0, 0x3FEF5C1A, 0x72C162D6, 0xE454A61C, 0x89895B1F, 0x1F1C9FD5, 0x13D52687, 0x8540E24D, 0xE89D1F4E, 0x7E08DB84, 0x3326E548, 0xA5B32182, 0xC86EDC81, 0x5EFB184B, 0x7598EC17, 0xE30D28DD, 0x8ED0D5DE, 0x18451114, 0x556B2FD8, 0xC3FEEB12, 0xAE231611, 0x38B6D2DB, 0x347F6B89, 0xA2EAAF43, 0xCF375240, 0x59A2968A, 0x148CA846, 0x82196C8C, 0xEFC4918F, 0x79515545, 0xF657E32B, 0x60C227E1, 0x0D1FDAE2, 0x9B8A1E28, 0xD6A420E4, 0x4031E42E, 0x2DEC192D, 0xBB79DDE7, 0xB7B064B5, 0x2125A07F, 0x4CF85D7C, 0xDA6D99B6, 0x9743A77A, 0x01D663B0, 0x6C0B9EB3, 0xFA9E5A79, 0xA4654232, 0x32F086F8, 0x5F2D7BFB, 0xC9B8BF31, 0x849681FD, 0x12034537, 0x7FDEB834, 0xE94B7CFE, 0xE582C5AC, 0x73170166, 0x1ECAFC65, 0x885F38AF, 0xC5710663, 0x53E4C2A9, 0x3E393FAA, 0xA8ACFB60, 0x27AA4D0E, 0xB13F89C4, 0xDCE274C7, 0x4A77B00D, 0x07598EC1, 0x91CC4A0B, 0xFC11B708, 0x6A8473C2, 0x664DCA90, 0xF0D80E5A, 0x9D05F359, 0x0B903793, 0x46BE095F, 0xD02BCD95, 0xBDF63096, 0x2B63F45C, 0xEB31D82E, 0x7DA41CE4, 0x1079E1E7, 0x86EC252D, 0xCBC21BE1, 0x5D57DF2B, 0x308A2228, 0xA61FE6E2, 0xAAD65FB0, 0x3C439B7A, 0x519E6679, 0xC70BA2B3, 0x8A259C7F, 0x1CB058B5, 0x716DA5B6, 0xE7F8617C, 0x68FED712, 0xFE6B13D8, 0x93B6EEDB, 0x05232A11, 0x480D14DD, 0xDE98D017, 0xB3452D14, 0x25D0E9DE, 0x2919508C, 0xBF8C9446, 0xD2516945, 0x44C4AD8F, 0x09EA9343, 0x9F7F5789, 0xF2A2AA8A, 0x64376E40, 0x3ACC760B, 0xAC59B2C1, 0xC1844FC2, 0x57118B08, 0x1A3FB5C4, 0x8CAA710E, 0xE1778C0D, 0x77E248C7, 0x7B2BF195, 0xEDBE355F, 0x8063C85C, 0x16F60C96, 0x5BD8325A, 0xCD4DF690, 0xA0900B93, 0x3605CF59, 0xB9037937, 0x2F96BDFD, 0x424B40FE, 0xD4DE8434, 0x99F0BAF8, 0x0F657E32, 0x62B88331, 0xF42D47FB, 0xF8E4FEA9, 0x6E713A63, 0x03ACC760, 0x953903AA, 0xD8173D66, 0x4E82F9AC, 0x235F04AF, 0xB5CAC065, 0x9EA93439, 0x083CF0F3, 0x65E10DF0, 0xF374C93A, 0xBE5AF7F6, 0x28CF333C, 0x4512CE3F, 0xD3870AF5, 0xDF4EB3A7, 0x49DB776D, 0x24068A6E, 0xB2934EA4, 0xFFBD7068, 0x6928B4A2, 0x04F549A1, 0x92608D6B, 0x1D663B05, 0x8BF3FFCF, 0xE62E02CC, 0x70BBC606, 0x3D95F8CA, 0xAB003C00, 0xC6DDC103, 0x504805C9, 0x5C81BC9B, 0xCA147851, 0xA7C98552, 0x315C4198, 0x7C727F54, 0xEAE7BB9E, 0x873A469D, 0x11AF8257, 0x4F549A1C, 0xD9C15ED6, 0xB41CA3D5, 0x2289671F, 0x6FA759D3, 0xF9329D19, 0x94EF601A, 0x027AA4D0, 0x0EB31D82, 0x9826D948, 0xF5FB244B, 0x636EE081, 0x2E40DE4D, 0xB8D51A87, 0xD508E784, 0x439D234E, 0xCC9B9520, 0x5A0E51EA, 0x37D3ACE9, 0xA1466823, 0xEC6856EF, 0x7AFD9225, 0x17206F26, 0x81B5ABEC, 0x8D7C12BE, 0x1BE9D674, 0x76342B77, 0xE0A1EFBD, 0xAD8FD171, 0x3B1A15BB, 0x56C7E8B8, 0xC0522C72\r\n    };\r\n\r\nprivate static final long[] numArr2 = new long[] {\r\n            0L, 1996959894L, 3993919788L, 2567524794L, 124634137L, 1886057615L, 3915621685L, 2657392035L, 249268274L, 2044508324L, 3772115230L, 2547177864L, 162941995L, 2125561021L, 3887607047L, 2428444049L, 498536548L, 1789927666L, 4089016648L, 2227061214L, 450548861L, 1843258603L, 4107580753L, 2211677639L, 325883990L, 1684777152L, 4251122042L, 2321926636L, 335633487L, 1661365465L, 4195302755L, 2366115317L, 997073096L, 1281953886L, 3579855332L, 2724688242L, 1006888145L, 1258607687L, 3524101629L, 2768942443L, 901097722L, 1119000684L, 3686517206L, 2898065728L, 853044451L, 1172266101L, 3705015759L, 2882616665L, 651767980L, 1373503546L, 3369554304L, 3218104598L, 565507253L, 1454621731L, 3485111705L, 3099436303L, 671266974L, 1594198024L, 3322730930L, 2970347812L, 795835527L, 1483230225L, 3244367275L, 3060149565L, 1994146192L, 31158534L, 2563907772L, 4023717930L, 1907459465L, 112637215L, 2680153253L, 3904427059L, 2013776290L, 251722036L, 2517215374L, 3775830040L, 2137656763L, 141376813L, 2439277719L, 3865271297L, 1802195444L, 476864866L, 2238001368L, 4066508878L, 1812370925L, 453092731L, 2181625025L, 4111451223L, 1706088902L, 314042704L, 2344532202L, 4240017532L, 1658658271L, 366619977L, 2362670323L, 4224994405L, 1303535960L, 984961486L, 2747007092L, 3569037538L, 1256170817L, 1037604311L, 2765210733L, 3554079995L, 1131014506L, 879679996L, 2909243462L, 3663771856L, 1141124467L, 855842277L, 2852801631L, 3708648649L, 1342533948L, 654459306L, 3188396048L, 3373015174L, 1466479909L, 544179635L, 3110523913L, 3462522015L, 1591671054L, 702138776L, 2966460450L, 3352799412L, 1504918807L, 783551873L, 3082640443L, 3233442989L, 3988292384L, 2596254646L, 62317068L, 1957810842L, 3939845945L, 2647816111L, 81470997L, 1943803523L, 3814918930L, 2489596804L, 225274430L, 2053790376L, 3826175755L, 2466906013L, 167816743L, 2097651377L, 4027552580L, 2265490386L, 503444072L, 1762050814L, 4150417245L, 2154129355L, 426522225L, 1852507879L, 4275313526L, 2312317920L, 282753626L, 1742555852L, 4189708143L, 2394877945L, 397917763L, 1622183637L, 3604390888L, 2714866558L, 953729732L, 1340076626L, 3518719985L, 2797360999L, 1068828381L, 1219638859L, 3624741850L, 2936675148L, 906185462L, 1090812512L, 3747672003L, 2825379669L, 829329135L, 1181335161L, 3412177804L, 3160834842L, 628085408L, 1382605366L, 3423369109L, 3138078467L, 570562233L, 1426400815L, 3317316542L, 2998733608L, 733239954L, 1555261956L, 3268935591L, 3050360625L, 752459403L, 1541320221L, 2607071920L, 3965973030L, 1969922972L, 40735498L, 2617837225L, 3943577151L, 1913087877L, 83908371L, 2512341634L, 3803740692L, 2075208622L, 213261112L, 2463272603L, 3855990285L, 2094854071L, 198958881L, 2262029012L, 4057260610L, 1759359992L, 534414190L, 2176718541L, 4139329115L, 1873836001L, 414664567L, 2282248934L, 4279200368L, 1711684554L, 285281116L, 2405801727L, 4167216745L, 1634467795L, 376229701L, 2685067896L, 3608007406L, 1308918612L, 956543938L, 2808555105L, 3495958263L, 1231636301L, 1047427035L, 2932959818L, 3654703836L, 1088359270L, 936918000L, 2847714899L, 3736837829L, 1202900863L, 817233897L, 3183342108L, 3401237130L, 1404277552L, 615818150L, 3134207493L, 3453421203L, 1423857449L, 601450431L, 3009837614L, 3294710456L, 1567103746L, 711928724L, 3020668471L, 3272380065L, 1510334235L, 755167117L\r\n    };\r\n```\r\n\r\nTest with CRC32 from java.util.zip:\r\n```java\r\npublic static String crc32(byte[] data) {\r\n    Checksum c = new CRC32();\r\n\r\n    c.update(1);\r\n    c.update(data);\r\n\r\n    return String.valueOf(Long.parseLong(Long.toHexString(c.getValue()), 16));    // 1544046132\r\n}\r\n```\r\n\r\nThe solution from [3]\r\n```java\r\npublic static String crc32(byte[] data){\r\n    int crc = Integer.MAX_VALUE;\r\n\r\n    for (byte b : data)\r\n        crc = numArr[(crc &amp; 0xff) ^ (b &amp; 0xff) &amp; 255] ^ (crc &gt;&gt;&gt; 8);\r\n\r\n    crc = ~crc; // flip bit/sign\r\n\r\n    return String.valueOf(Long.parseLong(Integer.toHexString(crc), 16));    // 1120211745\r\n}\r\n```\r\n\r\nThis implementation uses Guava and was directly transformed from me. I also try BigInteger, bit operations to enforce unsigned and use byte arrays instead of int or long.\r\n```java\r\npublic static String crc32(byte[] data) {\r\n    long num = UnsignedInteger.MAX_VALUE.longValue();\r\n\r\n    for (byte aByte : data)\r\n        num = numArr2[(Integer.parseUnsignedInt(Long.toUnsignedString(num)) ^ aByte) &amp; 255] ^ (num &gt;&gt;&gt; 8);\r\n\r\n    num ^= UnsignedInteger.MAX_VALUE.longValue();\r\n\r\n    return String.valueOf(num);     // 2128031166\r\n}\r\n```\r\n\r\n## Update 3\r\n\r\nI tried a new start with BigInteger and now the result is closer. The CRC is 1190225612 (expected: 1195433981).\r\n\r\n```java\r\npublic static String crc32(byte[] bytes) {\r\n    BigInteger num = BigInteger.valueOf(0xffffffffL);\r\n\r\n    for (byte aByte: bytes)\r\n        num = BigInteger.valueOf(numArr[num.xor(BigInteger.valueOf(aByte)).and(BigInteger.valueOf(numArr.length - 1)).intValue()]).xor((num.shiftRight(8)));\r\n\r\n    num = num.xor(BigInteger.valueOf(0xffffffffL));\r\n\r\n    System.out.println(&quot;1195433981&quot;);\r\n    return String.valueOf(~num.intValue());\r\n}\r\n```\r\n\r\n## Update 4\r\n\r\nUpdate the procedure description. Not the whole line with the Stamp tag will be removed instead of only the value from the CRC attribute will be removed.","title":"IO-Link CRC32 implementation","body":"<p>currently I try to implement the CRC32 check algorithm from IO-Link for IODD files in Java [1]. In IO-Link each sensor is described with an IODD xml file [2]. The file contains a stamp tag with a crc code. My problem here is that the algorithm uses only unsigned integers and Java does not uses this type of types. Is there still a way to implement that?</p>\n<p>I also use JetBrains dotPeek program to decompile the IODDChecker (latest Version). The CRC-Logic is in the file clsCRC.cs. At the end of the file I found the method &quot;CRC32&quot; which calculates the CRC. The problem is that they use other integers (unsigned integers) for the lookup-table. An interesting fact is that the algorithm in the IODD checker (crc32_octetwise) is slightly different from the one described in the specification.</p>\n<p>Hope you can help me :)</p>\n<p>What I tested:</p>\n<ul>\n<li>Java CRC32 from zip</li>\n<li>Guava UnsignedInteger</li>\n<li>BigInteger</li>\n<li>long instead of int</li>\n</ul>\n<p>Procedure:</p>\n<ol>\n<li>Program read the IODD as String/byte array</li>\n<li>Remove the CRC value from Stamp-Tag from the String/byte array</li>\n<li>Create CRC32 from string/byte array</li>\n<li>In the test IODD you can find the CRC 1195433981 which should be equal to the output of the algorithm</li>\n</ol>\n<p>Algorithms:<br />\nThere are two algorithms. The first one is bitwise and the second one is octetwise and uses an lookup-table which you can find here [2].</p>\n<pre class=\"lang-c prettyprint-override\"><code>uint32_t crc32_bitwise(char *data, size_t length, uint32_t previousCrc32 = 1)\n{\n    uint32_t crc = ~previousCrc32;\n    int j;\n    const uint8_t* current = (const uint8_t*) data;\n    while (length-- &gt; 0)\n    {\n        crc ^= *current++;\n        for (j = 0; j &lt; 8; j++)\n        {\n            crc = (crc &gt;&gt; 1) ^ (-(int32_t)(crc &amp; 1) &amp; 0xEB31D82E);\n        }\n    }\n    return ~crc;\n}\n</code></pre>\n<pre class=\"lang-c prettyprint-override\"><code>uint32_t crc32_octetwise(uint8_t const * current, uint32_t length, uint32_t previousCrc32 = 1, const uint32_t crc32Lookup[256])\n{\n    uint32_t crc = ~previousCrc32;\n    while (length-- &gt; 0)\n        crc = (crc &gt;&gt; 8) ^ crc32Lookup[(crc &amp; 0xFF) ^ *current++];\n    return ~crc;\n}\n</code></pre>\n<p>[1] <a href=\"https://io-link.com/share/Downloads/Profiles/IOL-Profile_Firmware-Update_V11_10082_Sep19.zip\" rel=\"nofollow noreferrer\">https://io-link.com/share/Downloads/Profiles/IOL-Profile_Firmware-Update_V11_10082_Sep19.zip</a> <br />\n[2] <a href=\"https://ioddfinder.io-link.com/productvariants/search/11765\" rel=\"nofollow noreferrer\">https://ioddfinder.io-link.com/productvariants/search/11765</a> <br />\n[3] <a href=\"https://stackoverflow.com/questions/14187955/yet-another-java-crc32-implementation-related-issue\">Yet another Java CRC32 implementation related issue</a></p>\n<h2>Update 1</h2>\n<p>I forgot to add that I currently receive 1120211745 as CRC Code but 1195433981 is the correct code.</p>\n<h2>Update 2</h2>\n<p>The following Codes was implemented from me. The big arrays are the lookup tables. The first int array is the table from the [1] and the second one is the array from the decompiled source. In the original were the int numbers marked as unsigned (e.g. 1996959894U).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final int[] numArr1 = new int[] {\n            0x00000000, 0x9695C4CA, 0xFB4839C9, 0x6DDDFD03, 0x20F3C3CF, 0xB6660705, 0xDBBBFA06, 0x4D2E3ECC, 0x41E7879E, 0xD7724354, 0xBAAFBE57, 0x2C3A7A9D, 0x61144451, 0xF781809B, 0x9A5C7D98, 0x0CC9B952, 0x83CF0F3C, 0x155ACBF6, 0x788736F5, 0xEE12F23F, 0xA33CCCF3, 0x35A90839, 0x5874F53A, 0xCEE131F0, 0xC22888A2, 0x54BD4C68, 0x3960B16B, 0xAFF575A1, 0xE2DB4B6D, 0x744E8FA7, 0x199372A4, 0x8F06B66E, 0xD1FDAE25, 0x47686AEF, 0x2AB597EC, 0xBC205326, 0xF10E6DEA, 0x679BA920, 0x0A465423, 0x9CD390E9, 0x901A29BB, 0x068FED71, 0x6B521072, 0xFDC7D4B8, 0xB0E9EA74, 0x267C2EBE, 0x4BA1D3BD, 0xDD341777, 0x5232A119, 0xC4A765D3, 0xA97A98D0, 0x3FEF5C1A, 0x72C162D6, 0xE454A61C, 0x89895B1F, 0x1F1C9FD5, 0x13D52687, 0x8540E24D, 0xE89D1F4E, 0x7E08DB84, 0x3326E548, 0xA5B32182, 0xC86EDC81, 0x5EFB184B, 0x7598EC17, 0xE30D28DD, 0x8ED0D5DE, 0x18451114, 0x556B2FD8, 0xC3FEEB12, 0xAE231611, 0x38B6D2DB, 0x347F6B89, 0xA2EAAF43, 0xCF375240, 0x59A2968A, 0x148CA846, 0x82196C8C, 0xEFC4918F, 0x79515545, 0xF657E32B, 0x60C227E1, 0x0D1FDAE2, 0x9B8A1E28, 0xD6A420E4, 0x4031E42E, 0x2DEC192D, 0xBB79DDE7, 0xB7B064B5, 0x2125A07F, 0x4CF85D7C, 0xDA6D99B6, 0x9743A77A, 0x01D663B0, 0x6C0B9EB3, 0xFA9E5A79, 0xA4654232, 0x32F086F8, 0x5F2D7BFB, 0xC9B8BF31, 0x849681FD, 0x12034537, 0x7FDEB834, 0xE94B7CFE, 0xE582C5AC, 0x73170166, 0x1ECAFC65, 0x885F38AF, 0xC5710663, 0x53E4C2A9, 0x3E393FAA, 0xA8ACFB60, 0x27AA4D0E, 0xB13F89C4, 0xDCE274C7, 0x4A77B00D, 0x07598EC1, 0x91CC4A0B, 0xFC11B708, 0x6A8473C2, 0x664DCA90, 0xF0D80E5A, 0x9D05F359, 0x0B903793, 0x46BE095F, 0xD02BCD95, 0xBDF63096, 0x2B63F45C, 0xEB31D82E, 0x7DA41CE4, 0x1079E1E7, 0x86EC252D, 0xCBC21BE1, 0x5D57DF2B, 0x308A2228, 0xA61FE6E2, 0xAAD65FB0, 0x3C439B7A, 0x519E6679, 0xC70BA2B3, 0x8A259C7F, 0x1CB058B5, 0x716DA5B6, 0xE7F8617C, 0x68FED712, 0xFE6B13D8, 0x93B6EEDB, 0x05232A11, 0x480D14DD, 0xDE98D017, 0xB3452D14, 0x25D0E9DE, 0x2919508C, 0xBF8C9446, 0xD2516945, 0x44C4AD8F, 0x09EA9343, 0x9F7F5789, 0xF2A2AA8A, 0x64376E40, 0x3ACC760B, 0xAC59B2C1, 0xC1844FC2, 0x57118B08, 0x1A3FB5C4, 0x8CAA710E, 0xE1778C0D, 0x77E248C7, 0x7B2BF195, 0xEDBE355F, 0x8063C85C, 0x16F60C96, 0x5BD8325A, 0xCD4DF690, 0xA0900B93, 0x3605CF59, 0xB9037937, 0x2F96BDFD, 0x424B40FE, 0xD4DE8434, 0x99F0BAF8, 0x0F657E32, 0x62B88331, 0xF42D47FB, 0xF8E4FEA9, 0x6E713A63, 0x03ACC760, 0x953903AA, 0xD8173D66, 0x4E82F9AC, 0x235F04AF, 0xB5CAC065, 0x9EA93439, 0x083CF0F3, 0x65E10DF0, 0xF374C93A, 0xBE5AF7F6, 0x28CF333C, 0x4512CE3F, 0xD3870AF5, 0xDF4EB3A7, 0x49DB776D, 0x24068A6E, 0xB2934EA4, 0xFFBD7068, 0x6928B4A2, 0x04F549A1, 0x92608D6B, 0x1D663B05, 0x8BF3FFCF, 0xE62E02CC, 0x70BBC606, 0x3D95F8CA, 0xAB003C00, 0xC6DDC103, 0x504805C9, 0x5C81BC9B, 0xCA147851, 0xA7C98552, 0x315C4198, 0x7C727F54, 0xEAE7BB9E, 0x873A469D, 0x11AF8257, 0x4F549A1C, 0xD9C15ED6, 0xB41CA3D5, 0x2289671F, 0x6FA759D3, 0xF9329D19, 0x94EF601A, 0x027AA4D0, 0x0EB31D82, 0x9826D948, 0xF5FB244B, 0x636EE081, 0x2E40DE4D, 0xB8D51A87, 0xD508E784, 0x439D234E, 0xCC9B9520, 0x5A0E51EA, 0x37D3ACE9, 0xA1466823, 0xEC6856EF, 0x7AFD9225, 0x17206F26, 0x81B5ABEC, 0x8D7C12BE, 0x1BE9D674, 0x76342B77, 0xE0A1EFBD, 0xAD8FD171, 0x3B1A15BB, 0x56C7E8B8, 0xC0522C72\n    };\n\nprivate static final long[] numArr2 = new long[] {\n            0L, 1996959894L, 3993919788L, 2567524794L, 124634137L, 1886057615L, 3915621685L, 2657392035L, 249268274L, 2044508324L, 3772115230L, 2547177864L, 162941995L, 2125561021L, 3887607047L, 2428444049L, 498536548L, 1789927666L, 4089016648L, 2227061214L, 450548861L, 1843258603L, 4107580753L, 2211677639L, 325883990L, 1684777152L, 4251122042L, 2321926636L, 335633487L, 1661365465L, 4195302755L, 2366115317L, 997073096L, 1281953886L, 3579855332L, 2724688242L, 1006888145L, 1258607687L, 3524101629L, 2768942443L, 901097722L, 1119000684L, 3686517206L, 2898065728L, 853044451L, 1172266101L, 3705015759L, 2882616665L, 651767980L, 1373503546L, 3369554304L, 3218104598L, 565507253L, 1454621731L, 3485111705L, 3099436303L, 671266974L, 1594198024L, 3322730930L, 2970347812L, 795835527L, 1483230225L, 3244367275L, 3060149565L, 1994146192L, 31158534L, 2563907772L, 4023717930L, 1907459465L, 112637215L, 2680153253L, 3904427059L, 2013776290L, 251722036L, 2517215374L, 3775830040L, 2137656763L, 141376813L, 2439277719L, 3865271297L, 1802195444L, 476864866L, 2238001368L, 4066508878L, 1812370925L, 453092731L, 2181625025L, 4111451223L, 1706088902L, 314042704L, 2344532202L, 4240017532L, 1658658271L, 366619977L, 2362670323L, 4224994405L, 1303535960L, 984961486L, 2747007092L, 3569037538L, 1256170817L, 1037604311L, 2765210733L, 3554079995L, 1131014506L, 879679996L, 2909243462L, 3663771856L, 1141124467L, 855842277L, 2852801631L, 3708648649L, 1342533948L, 654459306L, 3188396048L, 3373015174L, 1466479909L, 544179635L, 3110523913L, 3462522015L, 1591671054L, 702138776L, 2966460450L, 3352799412L, 1504918807L, 783551873L, 3082640443L, 3233442989L, 3988292384L, 2596254646L, 62317068L, 1957810842L, 3939845945L, 2647816111L, 81470997L, 1943803523L, 3814918930L, 2489596804L, 225274430L, 2053790376L, 3826175755L, 2466906013L, 167816743L, 2097651377L, 4027552580L, 2265490386L, 503444072L, 1762050814L, 4150417245L, 2154129355L, 426522225L, 1852507879L, 4275313526L, 2312317920L, 282753626L, 1742555852L, 4189708143L, 2394877945L, 397917763L, 1622183637L, 3604390888L, 2714866558L, 953729732L, 1340076626L, 3518719985L, 2797360999L, 1068828381L, 1219638859L, 3624741850L, 2936675148L, 906185462L, 1090812512L, 3747672003L, 2825379669L, 829329135L, 1181335161L, 3412177804L, 3160834842L, 628085408L, 1382605366L, 3423369109L, 3138078467L, 570562233L, 1426400815L, 3317316542L, 2998733608L, 733239954L, 1555261956L, 3268935591L, 3050360625L, 752459403L, 1541320221L, 2607071920L, 3965973030L, 1969922972L, 40735498L, 2617837225L, 3943577151L, 1913087877L, 83908371L, 2512341634L, 3803740692L, 2075208622L, 213261112L, 2463272603L, 3855990285L, 2094854071L, 198958881L, 2262029012L, 4057260610L, 1759359992L, 534414190L, 2176718541L, 4139329115L, 1873836001L, 414664567L, 2282248934L, 4279200368L, 1711684554L, 285281116L, 2405801727L, 4167216745L, 1634467795L, 376229701L, 2685067896L, 3608007406L, 1308918612L, 956543938L, 2808555105L, 3495958263L, 1231636301L, 1047427035L, 2932959818L, 3654703836L, 1088359270L, 936918000L, 2847714899L, 3736837829L, 1202900863L, 817233897L, 3183342108L, 3401237130L, 1404277552L, 615818150L, 3134207493L, 3453421203L, 1423857449L, 601450431L, 3009837614L, 3294710456L, 1567103746L, 711928724L, 3020668471L, 3272380065L, 1510334235L, 755167117L\n    };\n</code></pre>\n<p>Test with CRC32 from java.util.zip:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String crc32(byte[] data) {\n    Checksum c = new CRC32();\n\n    c.update(1);\n    c.update(data);\n\n    return String.valueOf(Long.parseLong(Long.toHexString(c.getValue()), 16));    // 1544046132\n}\n</code></pre>\n<p>The solution from [3]</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String crc32(byte[] data){\n    int crc = Integer.MAX_VALUE;\n\n    for (byte b : data)\n        crc = numArr[(crc &amp; 0xff) ^ (b &amp; 0xff) &amp; 255] ^ (crc &gt;&gt;&gt; 8);\n\n    crc = ~crc; // flip bit/sign\n\n    return String.valueOf(Long.parseLong(Integer.toHexString(crc), 16));    // 1120211745\n}\n</code></pre>\n<p>This implementation uses Guava and was directly transformed from me. I also try BigInteger, bit operations to enforce unsigned and use byte arrays instead of int or long.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String crc32(byte[] data) {\n    long num = UnsignedInteger.MAX_VALUE.longValue();\n\n    for (byte aByte : data)\n        num = numArr2[(Integer.parseUnsignedInt(Long.toUnsignedString(num)) ^ aByte) &amp; 255] ^ (num &gt;&gt;&gt; 8);\n\n    num ^= UnsignedInteger.MAX_VALUE.longValue();\n\n    return String.valueOf(num);     // 2128031166\n}\n</code></pre>\n<h2>Update 3</h2>\n<p>I tried a new start with BigInteger and now the result is closer. The CRC is 1190225612 (expected: 1195433981).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String crc32(byte[] bytes) {\n    BigInteger num = BigInteger.valueOf(0xffffffffL);\n\n    for (byte aByte: bytes)\n        num = BigInteger.valueOf(numArr[num.xor(BigInteger.valueOf(aByte)).and(BigInteger.valueOf(numArr.length - 1)).intValue()]).xor((num.shiftRight(8)));\n\n    num = num.xor(BigInteger.valueOf(0xffffffffL));\n\n    System.out.println(&quot;1195433981&quot;);\n    return String.valueOf(~num.intValue());\n}\n</code></pre>\n<h2>Update 4</h2>\n<p>Update the procedure description. Not the whole line with the Stamp tag will be removed instead of only the value from the CRC attribute will be removed.</p>\n"},{"tags":["java","maven-dependency-plugin"],"answers":[{"tags":[],"owner":{"account_id":2937349,"reputation":1112,"user_id":2515975,"display_name":"user2515975"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675428528,"creation_date":1675428528,"answer_id":75335970,"question_id":75335969,"body_markdown":"Since [JDK9](https://www.oracle.com/java/technologies/javase/9-all-relnotes.html#JDK-8027634) the java command supports @-file arguments where the file contents are used in place of the [@-file](https://docs.oracle.com/javase/9/tools/java.htm#JSWOR-GUID-4856361B-8BFD-4964-AE84-121F5F6CF111) placeholder.\r\n\r\nExample:\r\n```sh\r\n$ cat classpath\r\n./clojure-1.11.1.jar:./spec.alpha-0.3.218.jar\r\n\r\n$ java -cp @classpath clojure.main\r\nClojure 1.11.1\r\nuser=&gt;\r\n```","title":"​How can I reference a classpath file in the java command​?","body":"<p>Since <a href=\"https://www.oracle.com/java/technologies/javase/9-all-relnotes.html#JDK-8027634\" rel=\"nofollow noreferrer\">JDK9</a> the java command supports @-file arguments where the file contents are used in place of the <a href=\"https://docs.oracle.com/javase/9/tools/java.htm#JSWOR-GUID-4856361B-8BFD-4964-AE84-121F5F6CF111\" rel=\"nofollow noreferrer\">@-file</a> placeholder.</p>\n<p>Example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ cat classpath\n./clojure-1.11.1.jar:./spec.alpha-0.3.218.jar\n\n$ java -cp @classpath clojure.main\nClojure 1.11.1\nuser=&gt;\n</code></pre>\n"}],"owner":{"account_id":2937349,"reputation":1112,"user_id":2515975,"display_name":"user2515975"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675428528,"creation_date":1675428528,"question_id":75335969,"body_markdown":"It is possible to generate a classpath file during a build, for instance using the [maven-dependency-plugin](https://maven.apache.org/plugins/maven-dependency-plugin/) to create a file named *classpath*:\r\n\r\n```mvn dependency:build-classpath -Dmdep.outputFile=classpath```\r\n\r\nHow can I then use the file when invoking java from the command line?\r\n","title":"​How can I reference a classpath file in the java command​?","body":"<p>It is possible to generate a classpath file during a build, for instance using the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/\" rel=\"nofollow noreferrer\">maven-dependency-plugin</a> to create a file named <em>classpath</em>:</p>\n<p><code>mvn dependency:build-classpath -Dmdep.outputFile=classpath</code></p>\n<p>How can I then use the file when invoking java from the command line?</p>\n"},{"tags":["java","spring","mapping","mapper"],"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675428161,"creation_date":1675428161,"question_id":75335904,"body_markdown":"I am having two class as below\r\n\r\n    public class TargetClass {\r\n        private String teacherName;\r\n        private long id;\r\n        private List&lt;Student&gt; student;\r\n       //getter/setter\r\n    }\r\n\r\n\r\n    public class SourceClass {\r\n        \r\n        private String teacherName;\r\n        private long id;\r\n        private boolean flag;\r\n        List&lt;Student&gt; student;\r\n        \r\n        //getter setter\r\n    \r\n    }\r\n\r\nDuring the mapper i want to map only specific field but its also taking the values of `boolean`, `default values of primitive`  and `list.` My Student class contains lots of fields but i only want to map name and id.\r\n\r\n \r\n\r\n    @Mappings({\r\n            @Mapping(target = &quot;teacherName&quot;, source=&quot;teacherName&quot;),\r\n            @Mapping(target = &quot;id&quot; , source = &quot;id&quot;),\r\n        })\r\n       \r\n        public abstract TargetClass mapToTargetClass(SourceClass src, List&lt;Student&gt; students);\r\n       \r\n        @AfterMapping\r\n        @BeanMapping(ignoreByDefault = true)\r\n        void updateStudent(List&lt;Student&gt; students, @MappingTarget TargetClass target) {\r\n            if (!CollectionUtils.isEmpty(students)) {\r\n                List&lt;Student&gt; stds = new ArrayList&lt;&gt;();\r\n                for (Student std : students) {\r\n                    Student stud = new Student();\r\n                    stud.setName(std.getName());\r\n                    stud.setId(std.getId());\r\n                    stds.add(stud);\r\n                }\r\n                target.setStudent(stds);\r\n            }\r\n        }\r\n\r\n\r\nAbove method is mapping all the field values for the student in TargetClass. Its using all the default values for `primitive data and Boolean`. I dont want those field wont get mapped.\r\n","title":"how to map only specific properties in Mapper using Spring mapstruct","body":"<p>I am having two class as below</p>\n<pre><code>public class TargetClass {\n    private String teacherName;\n    private long id;\n    private List&lt;Student&gt; student;\n   //getter/setter\n}\n\n\npublic class SourceClass {\n    \n    private String teacherName;\n    private long id;\n    private boolean flag;\n    List&lt;Student&gt; student;\n    \n    //getter setter\n\n}\n</code></pre>\n<p>During the mapper i want to map only specific field but its also taking the values of <code>boolean</code>, <code>default values of primitive</code>  and <code>list.</code> My Student class contains lots of fields but i only want to map name and id.</p>\n<pre><code>@Mappings({\n        @Mapping(target = &quot;teacherName&quot;, source=&quot;teacherName&quot;),\n        @Mapping(target = &quot;id&quot; , source = &quot;id&quot;),\n    })\n   \n    public abstract TargetClass mapToTargetClass(SourceClass src, List&lt;Student&gt; students);\n   \n    @AfterMapping\n    @BeanMapping(ignoreByDefault = true)\n    void updateStudent(List&lt;Student&gt; students, @MappingTarget TargetClass target) {\n        if (!CollectionUtils.isEmpty(students)) {\n            List&lt;Student&gt; stds = new ArrayList&lt;&gt;();\n            for (Student std : students) {\n                Student stud = new Student();\n                stud.setName(std.getName());\n                stud.setId(std.getId());\n                stds.add(stud);\n            }\n            target.setStudent(stds);\n        }\n    }\n</code></pre>\n<p>Above method is mapping all the field values for the student in TargetClass. Its using all the default values for <code>primitive data and Boolean</code>. I dont want those field wont get mapped.</p>\n"},{"tags":["java","php","terminal","scripting"],"comments":[{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1675430664,"post_id":75335889,"comment_id":132932714,"body_markdown":"What character encoding did you save your PHP script in?","body":"What character encoding did you save your PHP script in?"}],"owner":{"account_id":6546538,"reputation":1,"user_id":5062377,"display_name":"C&#233;zar Augusto G. Barboza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675428092,"creation_date":1675428092,"question_id":75335889,"body_markdown":"We are trying to run a java script through PHP on Hostgator, when I run the same command using Terminal it works properly, but if a do this using browser the accentuation seems to be a problem.\r\nUsing no accentuation words, it wotks properly both ways.\r\n\r\n```\r\n   include &quot;../config.php&quot;;\r\n   $documento      = &quot;CNDT.pdf&quot;;\r\n   $caminhoArquivo = array(ABSPATH, &quot;log&quot;, $documento);\r\n   $caminhoLeitor  = array(ABSPATH, &quot;assets&quot;, &quot;docreader&quot;, &quot;DocReader.jar&quot;);\r\n   $DocReader      = implode(DIRECTORY_SEPARATOR, $caminhoLeitor);\r\n   $arquivo        = implode(DIRECTORY_SEPARATOR, $caminhoArquivo);\r\n   $java           = &quot;java -jar -Dfile.encoding=UTF-8&quot;;\r\n   $caseSensitive  = &quot;true&quot;;\r\n   $ocr            = &quot;false&quot;;\r\n   $termos         = &quot;N&#195;O EXISTE&quot;;\r\n   $parametros     = array($java, $DocReader, $arquivo, $caseSensitive, $ocr, $termos);\r\n   $exec           = exec(implode(&quot; &quot;, $parametros), $saida);\r\n   error_log($exec);\r\n```\r\n\r\n\r\nExample of `$parametros` being runned:\r\n`java -Dfile.encoding=UTF-8 -jar C:\\xampp\\htdocs\\maisdoc\\assets\\docreader\\DocReader.jar C:\\xampp\\htdocs\\maisdoc\\uploads/projeto\\57\\68\\pessoa_fisica\\8306x1xxx68_GLAYSON_RODRIGO_ROSSA\\16003_CNDT__DEBITOS_TRABALHISTAS_2023-01-31-9-05-45_0.pdf true true &quot;N&#195;O CONSTA&quot;`\r\n\r\nAny idea of how can we make it works?\r\n\r\n- Change quotation marks type;\r\n- Change encoding;\r\n- Using no accentiation words (in this case it works)\r\n- Using a local environment it worlks properlly;","title":"Charset problem running java scripts through PHP (Hostgator)","body":"<p>We are trying to run a java script through PHP on Hostgator, when I run the same command using Terminal it works properly, but if a do this using browser the accentuation seems to be a problem.\nUsing no accentuation words, it wotks properly both ways.</p>\n<pre><code>   include &quot;../config.php&quot;;\n   $documento      = &quot;CNDT.pdf&quot;;\n   $caminhoArquivo = array(ABSPATH, &quot;log&quot;, $documento);\n   $caminhoLeitor  = array(ABSPATH, &quot;assets&quot;, &quot;docreader&quot;, &quot;DocReader.jar&quot;);\n   $DocReader      = implode(DIRECTORY_SEPARATOR, $caminhoLeitor);\n   $arquivo        = implode(DIRECTORY_SEPARATOR, $caminhoArquivo);\n   $java           = &quot;java -jar -Dfile.encoding=UTF-8&quot;;\n   $caseSensitive  = &quot;true&quot;;\n   $ocr            = &quot;false&quot;;\n   $termos         = &quot;NÃO EXISTE&quot;;\n   $parametros     = array($java, $DocReader, $arquivo, $caseSensitive, $ocr, $termos);\n   $exec           = exec(implode(&quot; &quot;, $parametros), $saida);\n   error_log($exec);\n</code></pre>\n<p>Example of <code>$parametros</code> being runned:\n<code>java -Dfile.encoding=UTF-8 -jar C:\\xampp\\htdocs\\maisdoc\\assets\\docreader\\DocReader.jar C:\\xampp\\htdocs\\maisdoc\\uploads/projeto\\57\\68\\pessoa_fisica\\8306x1xxx68_GLAYSON_RODRIGO_ROSSA\\16003_CNDT__DEBITOS_TRABALHISTAS_2023-01-31-9-05-45_0.pdf true true &quot;NÃO CONSTA&quot;</code></p>\n<p>Any idea of how can we make it works?</p>\n<ul>\n<li>Change quotation marks type;</li>\n<li>Change encoding;</li>\n<li>Using no accentiation words (in this case it works)</li>\n<li>Using a local environment it worlks properlly;</li>\n</ul>\n"},{"tags":["java","android","kotlin","mobile"],"answers":[{"tags":[],"owner":{"account_id":22636828,"reputation":1,"user_id":16813533,"display_name":"Hassan Zulfiqar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675425812,"creation_date":1675425812,"answer_id":75335468,"question_id":75335342,"body_markdown":"**you can run fragment in background while you are in another activity**\r\n\r\n    finish()\r\n\r\nthis will finish the activity to the previous activity","title":"Minimize applications with a back arrow","body":"<p><strong>you can run fragment in background while you are in another activity</strong></p>\n<pre><code>finish()\n</code></pre>\n<p>this will finish the activity to the previous activity</p>\n"}],"owner":{"account_id":27694156,"reputation":1,"user_id":21140240,"display_name":"Mi98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675428006,"creation_date":1675425164,"question_id":75335342,"body_markdown":"When I click the back arrow, I would like to go back to the previous screen, but have the previous fragment running in the background. \r\n\r\nI tried this:\r\n\r\n`val start = Intent(Intent.ACTION_MAIN)\r\nstart.addCategory(Intent.CATEGORY_HOME)\r\nstart.flags = Intent.FLAG_ACTIVITY_NEW_TASK\r\nstartActivity(start)`\r\n\r\nI would like the application to run in the background but not to leave it.","title":"Minimize applications with a back arrow","body":"<p>When I click the back arrow, I would like to go back to the previous screen, but have the previous fragment running in the background.</p>\n<p>I tried this:</p>\n<p><code>val start = Intent(Intent.ACTION_MAIN) start.addCategory(Intent.CATEGORY_HOME) start.flags = Intent.FLAG_ACTIVITY_NEW_TASK startActivity(start)</code></p>\n<p>I would like the application to run in the background but not to leave it.</p>\n"},{"tags":["java","validation","testing"],"comments":[{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":1,"creation_date":1675428684,"post_id":75335838,"comment_id":132932129,"body_markdown":"I think You need to write custom annotation.","body":"I think You need to write custom annotation."}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675427813,"creation_date":1675427813,"question_id":75335838,"body_markdown":"I have to declare String array variable for an entity to save an array against my postgre database:\r\n```\r\n    @Type(type = &quot;string-array&quot;)\r\n    @Column(name=&quot;IMAGES&quot;,nullable = true)\r\n    private String[] images;\r\n```\r\nI want to use a javax validation to check if each String in the array have a max length of 256 characters but I&#39;m not sure how to declare it.\r\n\r\nBefore I used this one:\r\n\r\n`private List&lt;@Size(min = 1, max = 256) String&gt; images = new ArrayList&lt;&gt;();`\r\n\r\nBut is not possible any more.\r\n","title":"Javax validation against array","body":"<p>I have to declare String array variable for an entity to save an array against my postgre database:</p>\n<pre><code>    @Type(type = &quot;string-array&quot;)\n    @Column(name=&quot;IMAGES&quot;,nullable = true)\n    private String[] images;\n</code></pre>\n<p>I want to use a javax validation to check if each String in the array have a max length of 256 characters but I'm not sure how to declare it.</p>\n<p>Before I used this one:</p>\n<p><code>private List&lt;@Size(min = 1, max = 256) String&gt; images = new ArrayList&lt;&gt;();</code></p>\n<p>But is not possible any more.</p>\n"},{"tags":["java","android","android-studio","google-maps","maps"],"answers":[{"tags":[],"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675427463,"creation_date":1675427463,"answer_id":75335773,"question_id":75332399,"body_markdown":"Follow these steps:\r\n\r\nRight-click on app -&gt; New -&gt; Activity -&gt; **Gallery**\r\n\r\nClick on Gallery. There you will find Google Map Activity.","title":"Can we create maps activity in Android Studio with main activity?","body":"<p>Follow these steps:</p>\n<p>Right-click on app -&gt; New -&gt; Activity -&gt; <strong>Gallery</strong></p>\n<p>Click on Gallery. There you will find Google Map Activity.</p>\n"}],"owner":{"account_id":27405976,"reputation":1,"user_id":20906644,"display_name":"Chaitanya Gorule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75335773,"answer_count":1,"score":0,"last_activity_date":1675427463,"creation_date":1675407276,"question_id":75332399,"body_markdown":"In all online tutorials they are selecting map activity while creating new project but i want to use map activity as additional feature and hence want to create project with main activity. How can i create maps activity after creating new project with main activity?\r\n\r\nNot getting an option of creating maps activity after creating project with empty activity\r\n","title":"Can we create maps activity in Android Studio with main activity?","body":"<p>In all online tutorials they are selecting map activity while creating new project but i want to use map activity as additional feature and hence want to create project with main activity. How can i create maps activity after creating new project with main activity?</p>\n<p>Not getting an option of creating maps activity after creating project with empty activity</p>\n"},{"tags":["java","android","android-widget","android-imageview","android-view"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1397588842,"post_id":23092178,"comment_id":35295877,"body_markdown":"any reason for not using http://developer.android.com/reference/android/widget/ZoomButtonsController.html ?","body":"any reason for not using <a href=\"http://developer.android.com/reference/android/widget/ZoomButtonsController.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/&hellip;</a> ?"},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397591351,"post_id":23092178,"comment_id":35297393,"body_markdown":"I don&#39;t believe having accessory zoom controls is what I need. Sorry.","body":"I don&#39;t believe having accessory zoom controls is what I need. Sorry."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397593666,"post_id":23092178,"comment_id":35298779,"body_markdown":"_The handle view doesn&#39;t move with the image._ because it shouldn&#39;t. Your big image is treated for container as it is original size, because `setScaleX()` and other transformation methods effect only on view&#39;s draw, but not its room in layout.","body":"<i>The handle view doesn&#39;t move with the image.</i> because it shouldn&#39;t. Your big image is treated for container as it is original size, because <code>setScaleX()</code> and other transformation methods effect only on view&#39;s draw, but not its room in layout."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397593749,"post_id":23092178,"comment_id":35298830,"body_markdown":"`Math.sqrt(p[0] * p[0] + p[1] * p[1])` could be easily replaced by `Math.hypot(p[0], p[1])` - it&#39;s more readable, precise and effective.","body":"<code>Math.sqrt(p[0] * p[0] + p[1] * p[1])</code> could be easily replaced by <code>Math.hypot(p[0], p[1])</code> - it&#39;s more readable, precise and effective."},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397593905,"post_id":23092178,"comment_id":35298919,"body_markdown":"So scale does not change size? @Salauyou?","body":"So scale does not change size? @Salauyou?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594056,"post_id":23092178,"comment_id":35299026,"body_markdown":"@user2676468 scaling, rotation, skewation, translation and other matrix transformations change size in terms of _drawing_, not _layouting_. That&#39;s why your small image doesn&#39;t follow the corner of large one.","body":"@user2676468 scaling, rotation, skewation, translation and other matrix transformations change size in terms of <i>drawing</i>, not <i>layouting</i>. That&#39;s why your small image doesn&#39;t follow the corner of large one."},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397594103,"post_id":23092178,"comment_id":35299053,"body_markdown":"So if I wanted to change it&#39;s size, I would have to use imageView.setWidth() imageView.setHeight()?","body":"So if I wanted to change it&#39;s size, I would have to use imageView.setWidth() imageView.setHeight()?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594236,"post_id":23092178,"comment_id":35299139,"body_markdown":"@user2676468 no, it&#39;s bad idea, just move handler image to appropriate distance using `setTranslationX()` and `setTranslationY()`","body":"@user2676468 no, it&#39;s bad idea, just move handler image to appropriate distance using <code>setTranslationX()</code> and <code>setTranslationY()</code>"},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397594475,"post_id":23092178,"comment_id":35299300,"body_markdown":"What can I use to pass into setTranslationX,Y? Wouldn&#39;t setX(motionEvent.getRawX,Y) work better?","body":"What can I use to pass into setTranslationX,Y? Wouldn&#39;t setX(motionEvent.getRawX,Y) work better?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594687,"post_id":23092178,"comment_id":35299409,"body_markdown":"I&#39;m not going to rewrite your code since it have much to rewrite... but can provide steps which should be followed. At `ACTION_DOWN`, remember initial coordinates tmpX and tmpY of touch event, using `motionEvent.getRawX()` and `.getRawY()`; and calculate initial `tmpR`. At `ACTION_MOVE` obtain new x and y and calculate new R, based on finger position relative to anchor point of big image, then scale big image and translate small one based on these values.","body":"I&#39;m not going to rewrite your code since it have much to rewrite... but can provide steps which should be followed. At <code>ACTION_DOWN</code>, remember initial coordinates tmpX and tmpY of touch event, using <code>motionEvent.getRawX()</code> and <code>.getRawY()</code>; and calculate initial <code>tmpR</code>. At <code>ACTION_MOVE</code> obtain new x and y and calculate new R, based on finger position relative to anchor point of big image, then scale big image and translate small one based on these values."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594777,"post_id":23092178,"comment_id":35299460,"body_markdown":"no problem, use `setX()` if you want. I mean that it should be done explicitly","body":"no problem, use <code>setX()</code> if you want. I mean that it should be done explicitly"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397594948,"post_id":23092178,"comment_id":35299549,"body_markdown":"And I still don&#39;t understand the purpose of the statement `(imageView.getScaleX() * R / tmpR) * 0.1`. What does `*0.1` stand for?","body":"And I still don&#39;t understand the purpose of the statement <code>(imageView.getScaleX() * R &#47; tmpR) * 0.1</code>. What does <code>*0.1</code> stand for?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397595063,"post_id":23092178,"comment_id":35299617,"body_markdown":"`setX(motionEvent.getRawX,Y)` this will make small image follow the finger, but I think it should follow the right bottom corner of big image, no?","body":"<code>setX(motionEvent.getRawX,Y)</code> this will make small image follow the finger, but I think it should follow the right bottom corner of big image, no?"},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397595239,"post_id":23092178,"comment_id":35299719,"body_markdown":"@Salauyou I want the small image to follow the finger, and the bottom right corner of the image. Just like in photoshop. The onTouchListener is only set on the dragHandle.","body":"@Salauyou I want the small image to follow the finger, and the bottom right corner of the image. Just like in photoshop. The onTouchListener is only set on the dragHandle."},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397595450,"post_id":23092178,"comment_id":35299828,"body_markdown":"@Salauyou ALso, *0.1 doesn&#39;t really mean anything. I saw some code snippet online that used 0.2 so I was just playing around with values.","body":"@Salauyou ALso, *0.1 doesn&#39;t really mean anything. I saw some code snippet online that used 0.2 so I was just playing around with values."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397595450,"post_id":23092178,"comment_id":35299827,"body_markdown":"@user2676468 I was sure you wanted to avoid unproportional scaling using a kind of &quot;radius&quot; (R and tmpR) and applying `scaleX` and `scaleX` with the same value, no?","body":"@user2676468 I was sure you wanted to avoid unproportional scaling using a kind of &quot;radius&quot; (R and tmpR) and applying <code>scaleX</code> and <code>scaleX</code> with the same value, no?"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397595460,"post_id":23092178,"comment_id":35299838,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/50727/discussion-between-salauyou-and-user2676468)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/50727/discussion-between-salauyou-and-user2676468\">continue this discussion in chat</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397667020,"post_id":23096147,"comment_id":35336375,"body_markdown":"This works great. I need to now rotate and scale, but I&#39;m getting a problem when combining the two. http://stackoverflow.com/questions/23115472/rotate-and-scale-a-view-based-on-one-handle-in-android","body":"This works great. I need to now rotate and scale, but I&#39;m getting a problem when combining the two. <a href=\"http://stackoverflow.com/questions/23115472/rotate-and-scale-a-view-based-on-one-handle-in-android\" title=\"rotate and scale a view based on one handle in android\">stackoverflow.com/questions/23115472/&hellip;</a>"},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397667137,"post_id":23096147,"comment_id":35336444,"body_markdown":"you want to perform 2 operations sumultaneously by dragging one handler?","body":"you want to perform 2 operations sumultaneously by dragging one handler?"},{"owner":{"display_name":"user2676468"},"score":0,"creation_date":1397667458,"post_id":23096147,"comment_id":35336665,"body_markdown":"Yes. I once saw an app on iOS that does it. And it works very well, but I do not remember the name. I want it to work like pinch to zoom works. If you pinch to zoom, you can also rotate at the same time. So yes, 2 operations at once.","body":"Yes. I once saw an app on iOS that does it. And it works very well, but I do not remember the name. I want it to work like pinch to zoom works. If you pinch to zoom, you can also rotate at the same time. So yes, 2 operations at once."},{"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"score":0,"creation_date":1397667900,"post_id":23096147,"comment_id":35336941,"body_markdown":"So you want to pinch-zoom/rotate (which uses 2 fingers) or drag-zoom/rotate (which uses 1 finger and handler icon)? Approaches and solutions will be different.","body":"So you want to pinch-zoom/rotate (which uses 2 fingers) or drag-zoom/rotate (which uses 1 finger and handler icon)? Approaches and solutions will be different."}],"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397604484,"creation_date":1397603292,"answer_id":23096147,"question_id":23092178,"body_markdown":"So... The main problem is that `getRawX()` and `getRawY()` methods of `MotionEvent` provide _absolute screen coordinates_, while `getX()` and `getY()` provide _layout coordinates_. Coordinates thus differ on heights of progress bar and status bar, so when obtaining touch coordinates, we should recalculate them relatively to layout.\r\n\r\n    dragHandle.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n        float centerX, centerY, startR, startScale, startX, startY;\r\n            \r\n        public boolean onTouch(View v, MotionEvent e) {\r\n\r\n            if (e.getAction() == MotionEvent.ACTION_DOWN) {\r\n\r\n                // calculate center of image\r\n                centerX = (imageView.getLeft() + imageView.getRight()) / 2f;\r\n                centerY = (imageView.getTop() + imageView.getBottom()) / 2f;\r\n\r\n                // recalculate coordinates of starting point\r\n                startX = e.getRawX() - dragHandle.getX() + centerX;\r\n                startY = e.getRawY() - dragHandle.getY() + centerY; \r\n\r\n                // get starting distance and scale\r\n                startR = (float) Math.hypot(e.getRawX() - startX, e.getRawY() - startY);\r\n                startScale = imageView.getScaleX();\r\n\r\n            } else if (e.getAction() == MotionEvent.ACTION_MOVE) {\r\n                \t\r\n                // calculate new distance\r\n                float newR = (float) Math.hypot(e.getRawX() - startX, e.getRawY() - startY);\r\n\r\n                // set new scale\r\n                float newScale = newR / startR * startScale;\r\n                imageView.setScaleX(newScale);\r\n                imageView.setScaleY(newScale);\r\n\r\n                // move handler image\r\n                dragHandle.setX(centerX + imageView.getWidth()/2f * newScale);\r\n                dragHandle.setY(centerY + imageView.getHeight()/2f * newScale);\r\n\r\n            } else if (e.getAction() == MotionEvent.ACTION_UP) {\r\n\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n\r\nAlso, I replaced hypothenuse calculation by library method and declared all coordinates as float to avoid unnecessary casting.","title":"How to scale a view in android using a handle?","body":"<p>So... The main problem is that <code>getRawX()</code> and <code>getRawY()</code> methods of <code>MotionEvent</code> provide <em>absolute screen coordinates</em>, while <code>getX()</code> and <code>getY()</code> provide <em>layout coordinates</em>. Coordinates thus differ on heights of progress bar and status bar, so when obtaining touch coordinates, we should recalculate them relatively to layout.</p>\n\n<pre><code>dragHandle.setOnTouchListener(new View.OnTouchListener() {\n\n    float centerX, centerY, startR, startScale, startX, startY;\n\n    public boolean onTouch(View v, MotionEvent e) {\n\n        if (e.getAction() == MotionEvent.ACTION_DOWN) {\n\n            // calculate center of image\n            centerX = (imageView.getLeft() + imageView.getRight()) / 2f;\n            centerY = (imageView.getTop() + imageView.getBottom()) / 2f;\n\n            // recalculate coordinates of starting point\n            startX = e.getRawX() - dragHandle.getX() + centerX;\n            startY = e.getRawY() - dragHandle.getY() + centerY; \n\n            // get starting distance and scale\n            startR = (float) Math.hypot(e.getRawX() - startX, e.getRawY() - startY);\n            startScale = imageView.getScaleX();\n\n        } else if (e.getAction() == MotionEvent.ACTION_MOVE) {\n\n            // calculate new distance\n            float newR = (float) Math.hypot(e.getRawX() - startX, e.getRawY() - startY);\n\n            // set new scale\n            float newScale = newR / startR * startScale;\n            imageView.setScaleX(newScale);\n            imageView.setScaleY(newScale);\n\n            // move handler image\n            dragHandle.setX(centerX + imageView.getWidth()/2f * newScale);\n            dragHandle.setY(centerY + imageView.getHeight()/2f * newScale);\n\n        } else if (e.getAction() == MotionEvent.ACTION_UP) {\n\n        }\n        return true;\n    }\n});\n</code></pre>\n\n<p>Also, I replaced hypothenuse calculation by library method and declared all coordinates as float to avoid unnecessary casting.</p>\n"}],"owner":{"display_name":"user2676468"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6921,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23096147,"answer_count":1,"score":4,"last_activity_date":1675426797,"creation_date":1397588427,"question_id":23092178,"body_markdown":"I&#39;m trying to implement a handle to scale a view in android. Instead of using something like multitouch I want to be able to resize an image with just one finger.\r\n\r\nHere is my activity code. I feel as though I am very close there are a five things that don&#39;t work properly.\r\n\r\n1. The scaling is off. It grows at a much faster rate than it should. **Solved** Thanks @Salauyou\r\n2. The view will only grow, and not shrink. **Solved** Thanks @Salauyou\r\n3. The handle view doesn&#39;t move with the image. **Solved** Thanks @Salauyou\r\n4. The scaling starts extremely small **Solved** Thanks @Salauyou\r\n5. The handle doesn&#39;t follow your finger exactly.\r\n\r\n\r\nI am looking for any help that could implement such a feature. Whether it&#39;s a library or someone can help with my code that I already have. I have found a library that helps with multi touch scaling of images (https://github.com/brk3/android-multitouch-controller) but the only pointer I could pick up was how to go about implementing the increase in scale. And this has to be done through using two points, and finding the distance between them.\r\n\r\nMy java activity:\r\n\r\n\r\n    public class MainActivity extends Activity {\r\n    \tImageView imageView;\r\n    \tImageView dragHandle;\r\n    \tRelativeLayout layout;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t\timageView = (ImageView) findViewById(R.id.imageView1);\r\n    \t\timageView.setBackgroundColor(Color.MAGENTA);\r\n    \t\tdragHandle = (ImageView) findViewById(R.id.imageView2);\r\n    \t\tdragHandle.setBackgroundColor(Color.CYAN);\r\n    \t\tlayout = (RelativeLayout) findViewById(R.id.relativeLayout2);\r\n    \t\tlayout.setBackgroundColor(Color.YELLOW);\r\n    \t\tsetUpResize();\r\n    \r\n    \t}\r\n    \r\n    \tpublic void setUpResize() {\r\n    \t\tdragHandle.setOnTouchListener(new View.OnTouchListener() {\r\n    \r\n    \t\t\tint[] touchPoint = new int[2];\r\n    \t\t\tint[] centerOfImage = new int[2];\r\n    \r\n    \t\t\tdouble originalDistance = 0;\r\n    \t\t\tdouble modifiedDistance = 0;\r\n    \r\n    \t\t\tfloat originalScale = 0;\r\n    \t\t\tfloat modifiedScale = 0;\r\n    \r\n    \t\t\tpublic boolean onTouch(View v, MotionEvent motionEvent) {\r\n    \r\n    \t\t\t\tif (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\r\n    \r\n    \t\t\t\t\tcenterOfImage[0] = (int) (imageView.getX() + imageView.getWidth() / 2);\r\n    \t\t\t\t\tcenterOfImage[1] = (int) (imageView.getY() + imageView.getHeight() / 2);\r\n    \r\n    \t\t\t\t\ttouchPoint[0] = (int) motionEvent.getRawX();\r\n    \t\t\t\t\ttouchPoint[1] = (int) motionEvent.getRawY();\r\n    \r\n    \t\t\t\t\tint[] p = new int[2];\r\n    \t\t\t\t\tp[0] = touchPoint[0] - centerOfImage[0];\r\n    \t\t\t\t\tp[1] = touchPoint[1] - centerOfImage[1];\r\n    \r\n    \t\t\t\t\toriginalDistance = (float) Math.sqrt(p[0] * p[0] + p[1] * p[1]);\r\n    \t\t\t\t\toriginalScale = imageView.getScaleX();\r\n    \r\n    \t\t\t\t} else if (motionEvent.getAction() == MotionEvent.ACTION_MOVE) {\r\n    \t\t\t\t\ttouchPoint[0] = (int) motionEvent.getRawX();\r\n    \t\t\t\t\ttouchPoint[1] = (int) motionEvent.getRawY();\r\n    \r\n    \t\t\t\t\tint[] p = new int[2];\r\n    \t\t\t\t\tp[0] = (touchPoint[0] + p[0] - centerOfImage[0]);\r\n    \t\t\t\t\tp[1] = (touchPoint[1] + p[1] - centerOfImage[1]);\r\n    \t\t\t\t\tmodifiedDistance = Math.hypot(touchPoint[0] - centerOfImage[0], touchPoint[1] - centerOfImage[1]);\r\n    \r\n    \t\t\t\t\tLog.e(&quot;resize&quot;, &quot;original &quot; + imageView.getWidth() + &quot; modified: &quot; + imageView.getHeight());\r\n    \t\t\t\t\tmodifiedScale = (float) (modifiedDistance / originalDistance * originalScale);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\timageView.setScaleX(modifiedScale);\r\n    \t\t\t\t\timageView.setScaleY(modifiedScale);\r\n    \r\n    \t\t\t\t\tdragHandle.setX(centerOfImage[0] + imageView.getWidth()/2 * modifiedScale);\r\n    \t\t\t\t\tdragHandle.setY(centerOfImage[1] + imageView.getHeight()/2 * modifiedScale);\r\n    \r\n    \t\t\t\t} else if (motionEvent.getAction() == MotionEvent.ACTION_UP) {\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\nMy xml:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; &gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/relativeLayout2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_centerInParent=&quot;true&quot; &gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:src=&quot;@drawable/ic_launcher&quot; /&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView2&quot;\r\n                android:layout_width=&quot;20dp&quot;\r\n                android:layout_height=&quot;20dp&quot;\r\n                android:layout_below=&quot;@+id/imageView1&quot;\r\n                android:layout_toRightOf=&quot;@+id/imageView1&quot;\r\n                android:src=&quot;@drawable/dragArrow&quot; /&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pRF2z.png","title":"How to scale a view in android using a handle?","body":"<p>I'm trying to implement a handle to scale a view in android. Instead of using something like multitouch I want to be able to resize an image with just one finger.</p>\n\n<p>Here is my activity code. I feel as though I am very close there are a five things that don't work properly.</p>\n\n<ol>\n<li>The scaling is off. It grows at a much faster rate than it should. <strong>Solved</strong> Thanks @Salauyou</li>\n<li>The view will only grow, and not shrink. <strong>Solved</strong> Thanks @Salauyou</li>\n<li>The handle view doesn't move with the image. <strong>Solved</strong> Thanks @Salauyou</li>\n<li>The scaling starts extremely small <strong>Solved</strong> Thanks @Salauyou</li>\n<li>The handle doesn't follow your finger exactly.</li>\n</ol>\n\n<p>I am looking for any help that could implement such a feature. Whether it's a library or someone can help with my code that I already have. I have found a library that helps with multi touch scaling of images (<a href=\"https://github.com/brk3/android-multitouch-controller\" rel=\"nofollow noreferrer\">https://github.com/brk3/android-multitouch-controller</a>) but the only pointer I could pick up was how to go about implementing the increase in scale. And this has to be done through using two points, and finding the distance between them.</p>\n\n<p>My java activity:</p>\n\n<pre><code>public class MainActivity extends Activity {\n    ImageView imageView;\n    ImageView dragHandle;\n    RelativeLayout layout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        imageView = (ImageView) findViewById(R.id.imageView1);\n        imageView.setBackgroundColor(Color.MAGENTA);\n        dragHandle = (ImageView) findViewById(R.id.imageView2);\n        dragHandle.setBackgroundColor(Color.CYAN);\n        layout = (RelativeLayout) findViewById(R.id.relativeLayout2);\n        layout.setBackgroundColor(Color.YELLOW);\n        setUpResize();\n\n    }\n\n    public void setUpResize() {\n        dragHandle.setOnTouchListener(new View.OnTouchListener() {\n\n            int[] touchPoint = new int[2];\n            int[] centerOfImage = new int[2];\n\n            double originalDistance = 0;\n            double modifiedDistance = 0;\n\n            float originalScale = 0;\n            float modifiedScale = 0;\n\n            public boolean onTouch(View v, MotionEvent motionEvent) {\n\n                if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\n\n                    centerOfImage[0] = (int) (imageView.getX() + imageView.getWidth() / 2);\n                    centerOfImage[1] = (int) (imageView.getY() + imageView.getHeight() / 2);\n\n                    touchPoint[0] = (int) motionEvent.getRawX();\n                    touchPoint[1] = (int) motionEvent.getRawY();\n\n                    int[] p = new int[2];\n                    p[0] = touchPoint[0] - centerOfImage[0];\n                    p[1] = touchPoint[1] - centerOfImage[1];\n\n                    originalDistance = (float) Math.sqrt(p[0] * p[0] + p[1] * p[1]);\n                    originalScale = imageView.getScaleX();\n\n                } else if (motionEvent.getAction() == MotionEvent.ACTION_MOVE) {\n                    touchPoint[0] = (int) motionEvent.getRawX();\n                    touchPoint[1] = (int) motionEvent.getRawY();\n\n                    int[] p = new int[2];\n                    p[0] = (touchPoint[0] + p[0] - centerOfImage[0]);\n                    p[1] = (touchPoint[1] + p[1] - centerOfImage[1]);\n                    modifiedDistance = Math.hypot(touchPoint[0] - centerOfImage[0], touchPoint[1] - centerOfImage[1]);\n\n                    Log.e(\"resize\", \"original \" + imageView.getWidth() + \" modified: \" + imageView.getHeight());\n                    modifiedScale = (float) (modifiedDistance / originalDistance * originalScale);\n\n                    imageView.setScaleX(modifiedScale);\n                    imageView.setScaleY(modifiedScale);\n\n                    dragHandle.setX(centerOfImage[0] + imageView.getWidth()/2 * modifiedScale);\n                    dragHandle.setY(centerOfImage[1] + imageView.getHeight()/2 * modifiedScale);\n\n                } else if (motionEvent.getAction() == MotionEvent.ACTION_UP) {\n\n                }\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>My xml:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/relativeLayout2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_centerInParent=\"true\" &gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:src=\"@drawable/ic_launcher\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView2\"\n            android:layout_width=\"20dp\"\n            android:layout_height=\"20dp\"\n            android:layout_below=\"@+id/imageView1\"\n            android:layout_toRightOf=\"@+id/imageView1\"\n            android:src=\"@drawable/dragArrow\" /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/pRF2z.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","postgresql","jdbc","pgbouncer"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1621597542,"post_id":67636189,"comment_id":119550246,"body_markdown":"There is probably a timeout configured in pgBouncer","body":"There is probably a timeout configured in pgBouncer"},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1621602524,"post_id":67636189,"comment_id":119552310,"body_markdown":"... or on a firewall.","body":"... or on a firewall."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1621606376,"post_id":67636189,"comment_id":119554198,"body_markdown":"What messages do you get, both on the server and the client?","body":"What messages do you get, both on the server and the client?"},{"owner":{"account_id":20607927,"reputation":13,"user_id":15127711,"display_name":"Rawfodog"},"score":0,"creation_date":1622530914,"post_id":67636189,"comment_id":119811235,"body_markdown":"`org.postgresql.util.PSQLException: An I/O error occured while sending to the backend.` in the client. I can&#39;t find the server logs","body":"<code>org.postgresql.util.PSQLException: An I&#47;O error occured while sending to the backend.</code> in the client. I can&#39;t find the server logs"}],"answers":[{"comments":[{"owner":{"account_id":20607927,"reputation":13,"user_id":15127711,"display_name":"Rawfodog"},"score":0,"creation_date":1622443933,"post_id":67636688,"comment_id":119785012,"body_markdown":"I don&#39;t think `HikariCP` is needed. Because we already have `Pgbouncer` which already does the connection pooling, isn&#39;t it?","body":"I don&#39;t think <code>HikariCP</code> is needed. Because we already have <code>Pgbouncer</code> which already does the connection pooling, isn&#39;t it?"}],"tags":[],"owner":{"account_id":2315254,"reputation":463,"user_id":2032468,"display_name":"alexb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621599468,"creation_date":1621599468,"answer_id":67636688,"question_id":67636189,"body_markdown":"Most connection pools have setting like &quot;keep alive time&quot;, &quot;keep alive query&quot;.\r\nYou can set them in the Java application to prevent network timeout.\r\n\r\nFor example, for HikariCP:\r\n- keepaliveTime - &quot;This property controls how frequently HikariCP will attempt to keep a connection alive, in order to prevent it from being timed out by the database or network infrastructure&quot;\r\n\r\nhttps://github.com/brettwooldridge/HikariCP#frequently-used\r\n\r\n","title":"Postgres Connection drops after 15 mins of idleness","body":"<p>Most connection pools have setting like &quot;keep alive time&quot;, &quot;keep alive query&quot;.\nYou can set them in the Java application to prevent network timeout.</p>\n<p>For example, for HikariCP:</p>\n<ul>\n<li>keepaliveTime - &quot;This property controls how frequently HikariCP will attempt to keep a connection alive, in order to prevent it from being timed out by the database or network infrastructure&quot;</li>\n</ul>\n<p><a href=\"https://github.com/brettwooldridge/HikariCP#frequently-used\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP#frequently-used</a></p>\n"}],"owner":{"account_id":20607927,"reputation":13,"user_id":15127711,"display_name":"Rawfodog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675425866,"creation_date":1621597363,"question_id":67636189,"body_markdown":" We have a java application that uses **Postgres v11** along with **PgBouncer** for connection pooling. When we keep the application idle for 15 mins, the connection drops(JDBC). The database is hosted on **Amazon AWS**\r\n\r\nThe same is observed in Pgadmin.\r\n\r\nWe tried TCP keepalive and few others. Nothing works.\r\n\r\nAny ideas? \r\n\r\n","title":"Postgres Connection drops after 15 mins of idleness","body":"<p>We have a java application that uses <strong>Postgres v11</strong> along with <strong>PgBouncer</strong> for connection pooling. When we keep the application idle for 15 mins, the connection drops(JDBC). The database is hosted on <strong>Amazon AWS</strong></p>\n<p>The same is observed in Pgadmin.</p>\n<p>We tried TCP keepalive and few others. Nothing works.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring-boot","maven","firebase-cloud-messaging","pom.xml"],"comments":[{"owner":{"account_id":26864616,"reputation":304,"user_id":20447561,"display_name":"Yuji Bry"},"score":0,"creation_date":1675440501,"post_id":75335381,"comment_id":132936137,"body_markdown":"Have you downloaded the Admin SDK linked in the [guide](https://search.maven.org/search?q=g:com.google.firebase%20a:firebase-admin)?","body":"Have you downloaded the Admin SDK linked in the <a href=\"https://search.maven.org/search?q=g:com.google.firebase%20a:firebase-admin\" rel=\"nofollow noreferrer\">guide</a>?"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675425325,"creation_date":1675425325,"question_id":75335381,"body_markdown":"I am creating a Spring Boot Project where I want to use **Firebase Messaging**. I followed this article- https://www.baeldung.com/spring-fcm and https://firebase.google.com/docs/admin/setup but getting an error when adding the **Firebase Admin** dependency-  \r\n```\r\n&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;9.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**I am using Spring Boot version 3.0.2**   \r\nWhen I add this dependency, I get a build error-\r\n```\r\nThe container &#39;Maven Dependencies&#39; references non existing library &#39;C:\\Users\\&lt;my-username&gt;\\.m2\\repository\\com\\google\\firebase\\firebase-admin\\9.1.1\\firebase-admin-9.1.1.jar&#39;\r\n```\r\nEverything works fine when I don&#39;t add this dependency.\r\nOther dependencies in my **pom.xml are-**  \r\n```\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nPlease help me find the error in my project.","title":"Error adding Firebase Admin SDK to Spring Boot Project","body":"<p>I am creating a Spring Boot Project where I want to use <strong>Firebase Messaging</strong>. I followed this article- <a href=\"https://www.baeldung.com/spring-fcm\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-fcm</a> and <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/admin/setup</a> but getting an error when adding the <strong>Firebase Admin</strong> dependency-</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n        &lt;version&gt;9.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>I am using Spring Boot version 3.0.2</strong><br />\nWhen I add this dependency, I get a build error-</p>\n<pre><code>The container 'Maven Dependencies' references non existing library 'C:\\Users\\&lt;my-username&gt;\\.m2\\repository\\com\\google\\firebase\\firebase-admin\\9.1.1\\firebase-admin-9.1.1.jar'\n</code></pre>\n<p>Everything works fine when I don't add this dependency.\nOther dependencies in my <strong>pom.xml are-</strong></p>\n<pre><code>\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-storage-blob&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Please help me find the error in my project.</p>\n"},{"tags":["java","android","showcaseview","taptargetview"],"owner":{"display_name":"user21139885"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675425306,"creation_date":1675422624,"question_id":75334867,"body_markdown":"I have a `spinner` element inside a table row, like this:\r\n```\r\n&lt;TableRow android:background=&quot;@drawable/cell_styles_1&quot;&gt;\r\n    &lt;TextView\r\n        android:text=&quot;Bill type&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:fontFamily=&quot;sans-serif-condensed&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:layout_marginStart=&quot;10pt&quot;/&gt;\r\n    &lt;Spinner\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/bill_type&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:layout_marginStart=&quot;10pt&quot;&gt;\r\n    &lt;/Spinner&gt;\r\n&lt;/TableRow&gt;\r\n```\r\n\r\n**Rendered view:**\r\n[Please click here](https://i.stack.imgur.com/SisrJ.png)\r\n\r\nI want an animation to play where the `spinner` is focused, so that it gets highlighted to the user. For this purpose I implemented [TapTargetView](https://github.com/KeepSafe/TapTargetView) library, like this:\r\n```\r\nTapTargetView.showFor(this,                 \r\n    TapTarget.forView(findViewById(R.id.bill_type),)\r\n        .outerCircleColor(R.color.red)      \r\n\t.outerCircleAlpha(0.96f)            \r\n        .targetCircleColor(R.color.white)   \r\n        .titleTextSize(20)                  \r\n        .titleTextColor(R.color.white)      \r\n        .descriptionTextSize(10)            \r\n        .descriptionTextColor(R.color.red)  \r\n        .textColor(R.color.blue)            \r\n        .textTypeface(Typeface.SANS_SERIF)  \r\n        .dimColor(R.color.black)            \r\n        .drawShadow(true)                   \r\n        .cancelable(false)                 \r\n        .tintTarget(true)                   \r\n        .transparentTarget(false)           \r\n        .icon(Drawable)                     \r\n        .targetRadius(60),                  \r\n    new TapTargetView.Listener() {          \r\n        @Override\r\n        public void onTargetClick(TapTargetView view) {\r\n            //do something\r\n        }\r\n    });\r\n```\r\n\r\nBut to my utter disappointment, it just shows a circular focus on the `spinner`. I want the complete `spinner` to be focused (the one outlined by the blue border in the image). Is there a way to do so? Is there any other library which will give the desired output?","title":"Android Showcaseview: How do I show a beautiful focused view of a spinner when the activity loads, in android?","body":"<p>I have a <code>spinner</code> element inside a table row, like this:</p>\n<pre><code>&lt;TableRow android:background=&quot;@drawable/cell_styles_1&quot;&gt;\n    &lt;TextView\n        android:text=&quot;Bill type&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:fontFamily=&quot;sans-serif-condensed&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:padding=&quot;5dp&quot;\n        android:layout_marginStart=&quot;10pt&quot;/&gt;\n    &lt;Spinner\n        android:layout_width=&quot;wrap_content&quot;\n        android:id=&quot;@+id/bill_type&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:padding=&quot;5dp&quot;\n        android:layout_marginStart=&quot;10pt&quot;&gt;\n    &lt;/Spinner&gt;\n&lt;/TableRow&gt;\n</code></pre>\n<p><strong>Rendered view:</strong>\n<a href=\"https://i.stack.imgur.com/SisrJ.png\" rel=\"nofollow noreferrer\">Please click here</a></p>\n<p>I want an animation to play where the <code>spinner</code> is focused, so that it gets highlighted to the user. For this purpose I implemented <a href=\"https://github.com/KeepSafe/TapTargetView\" rel=\"nofollow noreferrer\">TapTargetView</a> library, like this:</p>\n<pre><code>TapTargetView.showFor(this,                 \n    TapTarget.forView(findViewById(R.id.bill_type),)\n        .outerCircleColor(R.color.red)      \n    .outerCircleAlpha(0.96f)            \n        .targetCircleColor(R.color.white)   \n        .titleTextSize(20)                  \n        .titleTextColor(R.color.white)      \n        .descriptionTextSize(10)            \n        .descriptionTextColor(R.color.red)  \n        .textColor(R.color.blue)            \n        .textTypeface(Typeface.SANS_SERIF)  \n        .dimColor(R.color.black)            \n        .drawShadow(true)                   \n        .cancelable(false)                 \n        .tintTarget(true)                   \n        .transparentTarget(false)           \n        .icon(Drawable)                     \n        .targetRadius(60),                  \n    new TapTargetView.Listener() {          \n        @Override\n        public void onTargetClick(TapTargetView view) {\n            //do something\n        }\n    });\n</code></pre>\n<p>But to my utter disappointment, it just shows a circular focus on the <code>spinner</code>. I want the complete <code>spinner</code> to be focused (the one outlined by the blue border in the image). Is there a way to do so? Is there any other library which will give the desired output?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":3,"creation_date":1312899261,"post_id":6997524,"comment_id":8352553,"body_markdown":"Is this class in the `/src/Converters` directory?","body":"Is this class in the <code>&#47;src&#47;Converters</code> directory?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1358516872,"post_id":6997524,"comment_id":20035440,"body_markdown":"If you&#39;re going to change your question retrospectively (which seems pointless, to be honest) you need to be consistent about it - you haven&#39;t edited the first paragraph of the question. You&#39;ve also made all the comments look odd. Why change everything, nearly a year and a half later?","body":"If you&#39;re going to change your question retrospectively (which seems pointless, to be honest) you need to be consistent about it - you haven&#39;t edited the first paragraph of the question. You&#39;ve also made all the comments look odd. Why change everything, nearly a year and a half later?"},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1613551684,"post_id":6997524,"comment_id":117106275,"body_markdown":"In my case (using VSCode Java Project Manager extension), for some reasons, I had to manually change the class&#39; package, or you could hold the mouse pointer on the red line beneath the error and then hit &quot;quick fix&quot; to do it automatically. (Of course I have no idea how this happened because the VSCode Java Project Manager handles this when you create a new folder, on its own and I couldn&#39;t replicate this behavior once again). Anyways.","body":"In my case (using VSCode Java Project Manager extension), for some reasons, I had to manually change the class&#39; package, or you could hold the mouse pointer on the red line beneath the error and then hit &quot;quick fix&quot; to do it automatically. (Of course I have no idea how this happened because the VSCode Java Project Manager handles this when you create a new folder, on its own and I couldn&#39;t replicate this behavior once again). Anyways."}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1334686556,"post_id":6997548,"comment_id":13091381,"body_markdown":"@Sakti: You can&#39;t as far as I&#39;m aware, and I&#39;d strongly advise you not to even if you could. *All* experienced Java developers will expect you to follow the normal conventions.","body":"@Sakti: You can&#39;t as far as I&#39;m aware, and I&#39;d strongly advise you not to even if you could. <i>All</i> experienced Java developers will expect you to follow the normal conventions."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":1,"up_vote_count":68,"is_accepted":true,"score":67,"last_activity_date":1358516650,"creation_date":1312899230,"answer_id":6997548,"question_id":6997524,"body_markdown":"Eclipse expects the declared package to match the directory hierarchy - so it&#39;s expecting your Java file to be in a directory called &quot;Devices&quot; under your source root. At the moment it looks like the file is directly in your source root. So create the appropriate directory, and move the file in there.\r\n\r\nNote that conventionally, packages are in lower case and include your organization name in reverse DNS order, e.g.\r\n\r\n    com.foo.devices;","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Eclipse expects the declared package to match the directory hierarchy - so it's expecting your Java file to be in a directory called \"Devices\" under your source root. At the moment it looks like the file is directly in your source root. So create the appropriate directory, and move the file in there.</p>\n\n<p>Note that conventionally, packages are in lower case and include your organization name in reverse DNS order, e.g.</p>\n\n<pre><code>com.foo.devices;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358516672,"creation_date":1312899248,"answer_id":6997554,"question_id":6997524,"body_markdown":"Create a new package under your project called &quot;Devices&quot; and place your class in it. This is equivalent to the class being placed in a directory called &quot;Devices&quot; in your project source folder.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Create a new package under your project called \"Devices\" and place your class in it. This is equivalent to the class being placed in a directory called \"Devices\" in your project source folder.</p>\n"},{"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358516659,"creation_date":1312899257,"answer_id":6997557,"question_id":6997524,"body_markdown":"You need to have the class inside a folder `Devices`.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>You need to have the class inside a folder <code>Devices</code>.</p>\n"},{"comments":[{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1363273014,"post_id":12110407,"comment_id":21792420,"body_markdown":"I had to do this too (adding a directory of groovy tests to the build).  Don&#39;t forget to make notes on your run configurations, which you&#39;ll need to recreate.  Any idea why this is needed?  Such a pain.","body":"I had to do this too (adding a directory of groovy tests to the build).  Don&#39;t forget to make notes on your run configurations, which you&#39;ll need to recreate.  Any idea why this is needed?  Such a pain."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":11,"creation_date":1363705323,"post_id":12110407,"comment_id":21950896,"body_markdown":"Simpler solution: I was in this situation again, and was able to get it working by closing the project, restarting Eclipse, and re-opening the project.","body":"Simpler solution: I was in this situation again, and was able to get it working by closing the project, restarting Eclipse, and re-opening the project."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":12,"creation_date":1366216735,"post_id":12110407,"comment_id":22929069,"body_markdown":"Even simpler!  I just had it again, and it went away by closing and re-opening the single problematic file&#39;s editor.","body":"Even simpler!  I just had it again, and it went away by closing and re-opening the single problematic file&#39;s editor."},{"owner":{"account_id":2624772,"reputation":4478,"user_id":2272030,"accept_rate":85,"display_name":"Mike R"},"score":4,"creation_date":1378482567,"post_id":12110407,"comment_id":27481788,"body_markdown":"Restarting eclipse seems to fix it.","body":"Restarting eclipse seems to fix it."},{"owner":{"account_id":215095,"reputation":3810,"user_id":469478,"accept_rate":57,"display_name":"dnuttle"},"score":0,"creation_date":1393253730,"post_id":12110407,"comment_id":33327214,"body_markdown":"Solution 1 worked for me.  Very weird.  I have imported the same git clone into Eclipse on other machines and not seen this problem.","body":"Solution 1 worked for me.  Very weird.  I have imported the same git clone into Eclipse on other machines and not seen this problem."},{"owner":{"account_id":989007,"reputation":5938,"user_id":2066215,"accept_rate":71,"display_name":"Lu&#237;s de Sousa"},"score":0,"creation_date":1425413013,"post_id":12110407,"comment_id":45950955,"body_markdown":"This issue is still present in Eclipse Luna, where none of these two solutions functions. However, [the restart suggested by Joshua Goldberg](http://stackoverflow.com/questions/6997524/the-declared-package-does-not-match-the-expected-package#comment21950896_12110407) does it.","body":"This issue is still present in Eclipse Luna, where none of these two solutions functions. However, <a href=\"http://stackoverflow.com/questions/6997524/the-declared-package-does-not-match-the-expected-package#comment21950896_12110407\">the restart suggested by Joshua Goldberg</a> does it."},{"owner":{"account_id":4166869,"reputation":1208,"user_id":3488735,"accept_rate":82,"display_name":"Gewure"},"score":0,"creation_date":1482399705,"post_id":12110407,"comment_id":69761657,"body_markdown":"Solution #2 is pathetic :D\n&quot;have you tried turning it on and off, again?&quot;","body":"Solution #2 is pathetic :D &quot;have you tried turning it on and off, again?&quot;"},{"owner":{"account_id":345197,"reputation":1176,"user_id":677959,"accept_rate":35,"display_name":"Manish Mudgal"},"score":0,"creation_date":1538569607,"post_id":12110407,"comment_id":92187290,"body_markdown":"Solution 1 worked. This is funny but it worked perfectly","body":"Solution 1 worked. This is funny but it worked perfectly"},{"owner":{"account_id":5155157,"reputation":1193,"user_id":4128576,"display_name":"Dhamo"},"score":0,"creation_date":1544333657,"post_id":12110407,"comment_id":94235670,"body_markdown":"The first solution worked for me. Just wondering somebody can detail out why it happens as such?","body":"The first solution worked for me. Just wondering somebody can detail out why it happens as such?"},{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1588442705,"post_id":12110407,"comment_id":108900001,"body_markdown":"Solution 2 worked for me. Thanks a lot. You saved me smashing up my laptop.","body":"Solution 2 worked for me. Thanks a lot. You saved me smashing up my laptop."},{"owner":{"account_id":10719631,"reputation":771,"user_id":7889129,"display_name":"Maddy"},"score":0,"creation_date":1640537233,"post_id":12110407,"comment_id":124601332,"body_markdown":"Sol #1 is worked for me. thanks lot","body":"Sol #1 is worked for me. thanks lot"}],"tags":[],"owner":{"account_id":920174,"reputation":3438,"user_id":951984,"accept_rate":50,"display_name":"nanospeck"},"comment_count":11,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1376902436,"creation_date":1345815036,"answer_id":12110407,"question_id":6997524,"body_markdown":"**Solution 1 :** One solution that worked for me when this error  &quot;**The declared package does not match the expected package**&quot;  occured for a project I checked-out from eclipse CVS :\r\n\r\n1.Right click the project in the navigation bar and click &#39;delete&#39;    \r\n2.Make sure &#39;**Delete project contents on disk**&#39; option is **NOT** checked, and click OK.     \r\n3.Now after the project is deleted, go to **File -&gt; Import -&gt; General -&gt; Existing Projects into Workspace**  \r\n4.Select your workspace from the directory listing and check the box next to your project name. Click &#39;**Finish**&#39;   \r\n\r\n**Solution 2 :** Once again I got this error with the following message \r\n\r\n*Eclipse build errors - java.lang.Object cannot be resolved*\r\nI had to follow another route mention here and the error went away.\r\n\r\nIn the mean time, the work around is to remove the JRE System Library from the project and then add it back again. \r\nHere are the steps:\r\n\r\n1. Go to properties of project with the build error (right click &gt; Properties) View the &quot;Libraries&quot; tab in the &quot;Build Path&quot; section Find the &quot;JRE System Library&quot; in the list (if this is missing then this error message is not an eclipse bug but a mis-configured project) \r\n2. Remove the &quot;JRE System Library&quot;\r\n3. Hit &quot;Add Library ...&quot;, Select &quot;JRE System Library&quot; and add the appropriate JRE for the project (eg. &#39;Workspace default JRE&#39;)\r\n4. Hit &quot;Finish&quot; in the library selection and &quot;OK&quot; in the project properties and then wait for the re-build of the project\r\n\r\nHopefully the error will be resolved ...\r\n ","title":"The declared package does not match the expected package &quot;&quot;","body":"<p><strong>Solution 1 :</strong> One solution that worked for me when this error  \"<strong>The declared package does not match the expected package</strong>\"  occured for a project I checked-out from eclipse CVS :</p>\n\n<p>1.Right click the project in the navigation bar and click 'delete'<br>\n2.Make sure '<strong>Delete project contents on disk</strong>' option is <strong>NOT</strong> checked, and click OK.<br>\n3.Now after the project is deleted, go to <strong>File -> Import -> General -> Existing Projects into Workspace</strong><br>\n4.Select your workspace from the directory listing and check the box next to your project name. Click '<strong>Finish</strong>'   </p>\n\n<p><strong>Solution 2 :</strong> Once again I got this error with the following message </p>\n\n<p><em>Eclipse build errors - java.lang.Object cannot be resolved</em>\nI had to follow another route mention here and the error went away.</p>\n\n<p>In the mean time, the work around is to remove the JRE System Library from the project and then add it back again. \nHere are the steps:</p>\n\n<ol>\n<li>Go to properties of project with the build error (right click > Properties) View the \"Libraries\" tab in the \"Build Path\" section Find the \"JRE System Library\" in the list (if this is missing then this error message is not an eclipse bug but a mis-configured project) </li>\n<li>Remove the \"JRE System Library\"</li>\n<li>Hit \"Add Library ...\", Select \"JRE System Library\" and add the appropriate JRE for the project (eg. 'Workspace default JRE')</li>\n<li>Hit \"Finish\" in the library selection and \"OK\" in the project properties and then wait for the re-build of the project</li>\n</ol>\n\n<p>Hopefully the error will be resolved ...</p>\n"},{"tags":[],"owner":{"account_id":21147,"reputation":130361,"user_id":51197,"accept_rate":80,"display_name":"Adam Matan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361191646,"creation_date":1361191646,"answer_id":14936714,"question_id":6997524,"body_markdown":"Make sure that `Devices` is defined as a source folder in the project properties.\r\n","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Make sure that <code>Devices</code> is defined as a source folder in the project properties.</p>\n"},{"tags":[],"owner":{"account_id":2428566,"reputation":555,"user_id":2120006,"display_name":"ayahuasca"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1371645260,"creation_date":1370945503,"answer_id":17041630,"question_id":6997524,"body_markdown":"I had this problem - the other classes within my package were fine, but one class had the error against it. There was nothing wrong with the package declaration.\r\n\r\nI fixed it by doing `refactor-&gt;move` and moved the class to another package temporarily, then `refactor-&gt;move` back to the original package. ","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I had this problem - the other classes within my package were fine, but one class had the error against it. There was nothing wrong with the package declaration.</p>\n\n<p>I fixed it by doing <code>refactor-&gt;move</code> and moved the class to another package temporarily, then <code>refactor-&gt;move</code> back to the original package. </p>\n"},{"tags":[],"owner":{"account_id":1238856,"reputation":1,"user_id":1201916,"display_name":"Karthick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392199288,"creation_date":1392199288,"answer_id":21724533,"question_id":6997524,"body_markdown":"Make sure that You have created a correct package.You might get a chance to create folder instead of package","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Make sure that You have created a correct package.You might get a chance to create folder instead of package</p>\n"},{"tags":[],"owner":{"account_id":354203,"reputation":3993,"user_id":1954390,"accept_rate":52,"display_name":"Easwaramoorthy Kanagaraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405668833,"creation_date":1405668833,"answer_id":24819572,"question_id":6997524,"body_markdown":"Got the same kind of error but my package was absolutely correct. When I just closed and opened my editor, the error disappears. Hope this might help in some scenarios. ","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Got the same kind of error but my package was absolutely correct. When I just closed and opened my editor, the error disappears. Hope this might help in some scenarios. </p>\n"},{"comments":[{"owner":{"account_id":1306332,"reputation":2147,"user_id":1255267,"display_name":"TastyWheat"},"score":5,"creation_date":1537300004,"post_id":25220460,"comment_id":91732387,"body_markdown":"Had this problem with a Gradle project inside VS Code. Re-open fixed it.","body":"Had this problem with a Gradle project inside VS Code. Re-open fixed it."},{"owner":{"account_id":4166829,"reputation":131,"user_id":3415630,"display_name":"JassJava"},"score":2,"creation_date":1596961743,"post_id":25220460,"comment_id":111974284,"body_markdown":"opening and closing the file in the eclipse editor helped solving the issue. \nI had added a source folder in java config build - source tab, the error did not removed, but when I closed and opened the editor in eclipse, it helped . :-)","body":"opening and closing the file in the eclipse editor helped solving the issue.  I had added a source folder in java config build - source tab, the error did not removed, but when I closed and opened the editor in eclipse, it helped . :-)"},{"owner":{"account_id":6272544,"reputation":493,"user_id":4876331,"display_name":"Don Smith"},"score":1,"creation_date":1600799009,"post_id":25220460,"comment_id":113200230,"body_markdown":"Exiting and restarting eclipse fixed the problem too.","body":"Exiting and restarting eclipse fixed the problem too."},{"owner":{"account_id":4294120,"reputation":2056,"user_id":3509609,"accept_rate":43,"display_name":"Vikash"},"score":2,"creation_date":1603370158,"post_id":25220460,"comment_id":114019591,"body_markdown":"he he .. I spent an hour trying to fix it and then saw this.","body":"he he .. I spent an hour trying to fix it and then saw this."},{"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"score":0,"creation_date":1608177990,"post_id":25220460,"comment_id":115505373,"body_markdown":"@candied_orange Thank you. closing and opening the file multiple times fixed it for me as well","body":"@candied_orange Thank you. closing and opening the file multiple times fixed it for me as well"},{"owner":{"account_id":926774,"reputation":698,"user_id":2855955,"accept_rate":67,"display_name":"Fernando Basso"},"score":1,"creation_date":1616690199,"post_id":25220460,"comment_id":118088410,"body_markdown":"It happened to me with Vim and CoC and coc-java LSP after I moved some stuff around. Restarting vim solved the problem.","body":"It happened to me with Vim and CoC and coc-java LSP after I moved some stuff around. Restarting vim solved the problem."},{"owner":{"account_id":20169710,"reputation":86,"user_id":15258958,"display_name":"Ananthu K Kumar"},"score":0,"creation_date":1656580573,"post_id":25220460,"comment_id":128609640,"body_markdown":"ha ha wasn&#39;t expecting this to work for me, thanks btw.","body":"ha ha wasn&#39;t expecting this to work for me, thanks btw."},{"owner":{"account_id":9038628,"reputation":300,"user_id":8316946,"accept_rate":100,"display_name":"Brian Schack"},"score":0,"creation_date":1664892936,"post_id":25220460,"comment_id":130570928,"body_markdown":"@candied_orange Good idea to try closing and reopening the file. It looks like this worked for a lot of people. But it did not work for me.","body":"@candied_orange Good idea to try closing and reopening the file. It looks like this worked for a lot of people. But it did not work for me."},{"owner":{"account_id":556763,"reputation":1052,"user_id":1541186,"display_name":"ojchase"},"score":0,"creation_date":1681761703,"post_id":25220460,"comment_id":134106339,"body_markdown":"I hate that this was the solution","body":"I hate that this was the solution"}],"tags":[],"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"comment_count":9,"down_vote_count":1,"up_vote_count":182,"is_accepted":false,"score":181,"last_activity_date":1524768515,"creation_date":1407600407,"answer_id":25220460,"question_id":6997524,"body_markdown":"**Try closing and re-opening the file.**\r\n\r\nIt is possible to get this error in eclipse when there is absolutely nothing wrong with the file location or package declaration.  Try that before spending a lot of time trying these other solutions.  Sometimes eclipse just gets confused.  It&#39;s worked for me on a number of occasions.  I credit [the idea](https://stackoverflow.com/questions/6997524/the-declared-package-does-not-match-the-expected-package/25220460#comment22929069_12110407) to [Joshua Goldberg](https://stackoverflow.com/users/411282/joshua-goldberg).","title":"The declared package does not match the expected package &quot;&quot;","body":"<p><strong>Try closing and re-opening the file.</strong></p>\n\n<p>It is possible to get this error in eclipse when there is absolutely nothing wrong with the file location or package declaration.  Try that before spending a lot of time trying these other solutions.  Sometimes eclipse just gets confused.  It's worked for me on a number of occasions.  I credit <a href=\"https://stackoverflow.com/questions/6997524/the-declared-package-does-not-match-the-expected-package/25220460#comment22929069_12110407\">the idea</a> to <a href=\"https://stackoverflow.com/users/411282/joshua-goldberg\">Joshua Goldberg</a>.</p>\n"},{"tags":[],"owner":{"account_id":4874560,"reputation":1,"user_id":3930075,"display_name":"B347tl7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407769051,"creation_date":1407769051,"answer_id":25246302,"question_id":6997524,"body_markdown":"1. Create directory [your.project.name] in workspace root directory of your project.\r\n\r\n2. Copy *.java from &quot;src&quot; to that directory.\r\n\r\n3. Close and reopen project.\r\n","title":"The declared package does not match the expected package &quot;&quot;","body":"<ol>\n<li><p>Create directory [your.project.name] in workspace root directory of your project.</p></li>\n<li><p>Copy *.java from \"src\" to that directory.</p></li>\n<li><p>Close and reopen project.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4895512,"reputation":143,"user_id":3945283,"accept_rate":67,"display_name":"carl_corder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410884606,"creation_date":1410884606,"answer_id":25873871,"question_id":6997524,"body_markdown":"This happened to me when I was checking out a project from an svn repository in eclipse. There were jar files in my .m2 folder that eclipse wasn&#39;t looking at. To fix the issue I did:\r\n\r\nright click project folder Configure &gt; Convert to Maven Project\r\n\r\nand that solved the issue.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>This happened to me when I was checking out a project from an svn repository in eclipse. There were jar files in my .m2 folder that eclipse wasn't looking at. To fix the issue I did:</p>\n\n<p>right click project folder Configure > Convert to Maven Project</p>\n\n<p>and that solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1183500,"reputation":2645,"user_id":1157905,"accept_rate":72,"display_name":"Omri374"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423685804,"creation_date":1423685804,"answer_id":28463675,"question_id":6997524,"body_markdown":"There are a million answers, but here&#39;s another one:\r\ncopy the files into a new package, delete the old package and rename the new package to the old package&#39;s name.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>There are a million answers, but here's another one:\ncopy the files into a new package, delete the old package and rename the new package to the old package's name.</p>\n"},{"tags":[],"owner":{"account_id":5517052,"reputation":171,"user_id":4381420,"display_name":"dafali"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1427835687,"creation_date":1427832793,"answer_id":29377701,"question_id":6997524,"body_markdown":"I resolved the problem by following these steps:\r\n\r\n 1. Select the project - Right click - java build path.\r\n\r\n 2. In source tab - you change the `src` to `src/main/java`.\r\n\r\n 3. Eclipse will reorder all the project.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I resolved the problem by following these steps:</p>\n\n<ol>\n<li><p>Select the project - Right click - java build path.</p></li>\n<li><p>In source tab - you change the <code>src</code> to <code>src/main/java</code>.</p></li>\n<li><p>Eclipse will reorder all the project.</p></li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user5422523"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444298568,"creation_date":1444298568,"answer_id":33012571,"question_id":6997524,"body_markdown":"Make sure you are not using default package. Create a new package with name &#39;devices&#39; and copy this code inside it and use.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Make sure you are not using default package. Create a new package with name 'devices' and copy this code inside it and use.</p>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468356980,"creation_date":1468356980,"answer_id":38338738,"question_id":6997524,"body_markdown":"I had have this sort situations when I copied classes from other packages/projects. \r\n\r\nMenu-&gt;Project-&gt;Clean usually helps.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I had have this sort situations when I copied classes from other packages/projects. </p>\n\n<p>Menu->Project->Clean usually helps.</p>\n"},{"tags":[],"owner":{"account_id":39521,"reputation":100604,"user_id":114029,"accept_rate":96,"display_name":"Leniel Maccaferri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481390859,"creation_date":1481390859,"answer_id":41078255,"question_id":6997524,"body_markdown":"In my case I selected the error marker in the Problems tab and deleted it since the Java&#39;s file main method was being executed correctly. That is some glitch in Eclipse Neon with the multitude of plugins it has installed.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>In my case I selected the error marker in the Problems tab and deleted it since the Java's file main method was being executed correctly. That is some glitch in Eclipse Neon with the multitude of plugins it has installed.</p>\n"},{"tags":[],"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489251375,"creation_date":1489251375,"answer_id":42737988,"question_id":6997524,"body_markdown":"I fixed this by removing an &quot;excluding&quot; attribute for that package in my `.classpath` file. Remove the attribute, not the whole tag, or &quot;src/java&quot; will cease to be a source folder.\r\n\r\n    &lt;classpathentry excluding=&quot;com/myproject/mypackage/mysubpackage/&quot; kind=&quot;src&quot; path=&quot;src/java&quot;/&gt;","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I fixed this by removing an \"excluding\" attribute for that package in my <code>.classpath</code> file. Remove the attribute, not the whole tag, or \"src/java\" will cease to be a source folder.</p>\n\n<pre><code>&lt;classpathentry excluding=\"com/myproject/mypackage/mysubpackage/\" kind=\"src\" path=\"src/java\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2870758,"reputation":620,"user_id":2464172,"accept_rate":60,"display_name":"Gopi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547843964,"creation_date":1547843964,"answer_id":54261143,"question_id":6997524,"body_markdown":"I faced this issue too when I had imported an existing project to eclipse. It was a gradle project, but while importing I imported it as regular project by clicking General-&gt; Existing Projects into Workspace. To resolve the issue I&#39;ve added Gradle nature to the project by \r\n  :::: Right click on Project folder -&gt; Configure-&gt; Add Gradle Nature ","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I faced this issue too when I had imported an existing project to eclipse. It was a gradle project, but while importing I imported it as regular project by clicking General-> Existing Projects into Workspace. To resolve the issue I've added Gradle nature to the project by \n  :::: Right click on Project folder -> Configure-> Add Gradle Nature </p>\n"},{"tags":[],"owner":{"account_id":4868086,"reputation":3099,"user_id":3925626,"display_name":"prisar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575911290,"creation_date":1575911290,"answer_id":59253549,"question_id":6997524,"body_markdown":"I was using Spring Tool Suite 4. Not able to figure out the issue. The directory structure was according to the package name. \r\n\r\n&gt; But cleaning the project helped me.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I was using Spring Tool Suite 4. Not able to figure out the issue. The directory structure was according to the package name. </p>\n\n<blockquote>\n  <p>But cleaning the project helped me.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580199178,"creation_date":1580199178,"answer_id":59944527,"question_id":6997524,"body_markdown":"This problem got resolved by mentioning the **package** name \r\n\r\nI moved my file **Test_Steps.java** which was under package **stepDefinition**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nby just adding the **package stepDefinition** the problem got resolved\r\n\r\nSo this problem can occur when you have a package and you are not using in your class file.\r\n\r\n\r\nAdding it has resolved the problem and the error was no longer appearing. \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NafAc.png\r\n  [2]: https://i.stack.imgur.com/MLpXO.png","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>This problem got resolved by mentioning the <strong>package</strong> name </p>\n\n<p>I moved my file <strong>Test_Steps.java</strong> which was under package <strong>stepDefinition</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/NafAc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NafAc.png\" alt=\"enter image description here\"></a></p>\n\n<p>by just adding the <strong>package stepDefinition</strong> the problem got resolved</p>\n\n<p>So this problem can occur when you have a package and you are not using in your class file.</p>\n\n<p>Adding it has resolved the problem and the error was no longer appearing. </p>\n\n<p><a href=\"https://i.stack.imgur.com/MLpXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MLpXO.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5427046,"reputation":4501,"user_id":4318982,"accept_rate":55,"display_name":"gihan-maduranga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603436549,"creation_date":1603436549,"answer_id":64495375,"question_id":6997524,"body_markdown":"I had the same issue with a maven project in Eclipse IDE. I was able to resolve it by replacing the .classpath file with the correct format. After replacing close and open the project.\r\n\r\n**Sample .classpath file** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/webapp&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\n","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I had the same issue with a maven project in Eclipse IDE. I was able to resolve it by replacing the .classpath file with the correct format. After replacing close and open the project.</p>\n<p><strong>Sample .classpath file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/resources&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry excluding=&quot;**&quot; kind=&quot;src&quot; output=&quot;target/classes&quot; path=&quot;src/main/webapp&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;target/test-classes&quot; path=&quot;src/test/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10629138,"reputation":1476,"user_id":7827904,"accept_rate":20,"display_name":"GD- Ganesh Deshmukh"},"score":0,"creation_date":1626623477,"post_id":65259323,"comment_id":120937533,"body_markdown":"It worked for VSCode too, thanks.\nbut why exactly this was throwing error, and How this First_char_capitalization made it work?\ncould you please tell?","body":"It worked for VSCode too, thanks. but why exactly this was throwing error, and How this First_char_capitalization made it work? could you please tell?"}],"tags":[],"owner":{"account_id":9118625,"reputation":175,"user_id":6784896,"display_name":"Alejandro Garcia"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607724735,"creation_date":1607724735,"answer_id":65259323,"question_id":6997524,"body_markdown":"I fix it just changing the name to lowercase and now Eclipse recognizes the package.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I fix it just changing the name to lowercase and now Eclipse recognizes the package.</p>\n"},{"tags":[],"owner":{"account_id":5136427,"reputation":106,"user_id":4115052,"display_name":"Larry Cable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623433812,"creation_date":1623433812,"answer_id":67941471,"question_id":6997524,"body_markdown":"you might want to check your Java &#39;build path&#39; in the project properties, if the &#39;source&#39; directory (path) is not properly setup in there, then this will cause this error to occur for all the classes therein.\r\n\r\nSo the path *must* specify the &#39;root&#39; (containing) directory in which the sources within the package exists ...","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>you might want to check your Java 'build path' in the project properties, if the 'source' directory (path) is not properly setup in there, then this will cause this error to occur for all the classes therein.</p>\n<p>So the path <em>must</em> specify the 'root' (containing) directory in which the sources within the package exists ...</p>\n"},{"tags":[],"owner":{"account_id":1477947,"reputation":19,"user_id":1387904,"display_name":"Shash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665055272,"creation_date":1665055272,"answer_id":73972947,"question_id":6997524,"body_markdown":"Another thing that we can do is\r\nOn the error, ctrl+enter and move the file to the expected package","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>Another thing that we can do is\nOn the error, ctrl+enter and move the file to the expected package</p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675425198,"creation_date":1675425198,"answer_id":75335350,"question_id":6997524,"body_markdown":"In my case  being used **gradle**, it happend due to wrong name  in **settings.gradle**. Rename `rootProject.name = &#39;somename&#39;` to actual name of your project folder. Cleanup it all with `topbar-&gt;project-&gt;clean`....\r\n\r\n And you are done my friend!\r\n\r\n(Also I&#39;ve reset values in `build.gradle` to latest versions but that just for case)","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>In my case  being used <strong>gradle</strong>, it happend due to wrong name  in <strong>settings.gradle</strong>. Rename <code>rootProject.name = 'somename'</code> to actual name of your project folder. Cleanup it all with <code>topbar-&gt;project-&gt;clean</code>....</p>\n<p>And you are done my friend!</p>\n<p>(Also I've reset values in <code>build.gradle</code> to latest versions but that just for case)</p>\n"}],"owner":{"display_name":"user195488"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269965,"favorite_count":0,"down_vote_count":0,"up_vote_count":129,"accepted_answer_id":6997548,"answer_count":25,"score":129,"last_activity_date":1675425198,"creation_date":1312899129,"question_id":6997524,"body_markdown":"I am using Eclipse and have not used Java for sometime. However, I can compile my code on the command-line just fine and generate the necessary `.class` files. In Eclipse, it complains that `The declared package &quot;Devices&quot; does not match the expected package &quot;&quot;`. What does this mean and how can I fix it? \r\n\r\nSample code:\r\n\r\n    package Devices;\r\n    \r\n    public final class DevFrequency \r\n    {\r\n        public short messageID;\r\n        public double frequency;\r\n        public short converterID;\r\n        public DevFrequency() \r\n        {\r\n        }\r\n        public DevFrequency(short _messageID,double _frequency,short _converterID)\r\n        {\r\n            messageID = _messageID;\r\n            frequency = _frequency;\r\n            converterID = _converterID;\r\n        }\r\n    }\r\n\r\nThe name of my project is `DeviceDDS`.","title":"The declared package does not match the expected package &quot;&quot;","body":"<p>I am using Eclipse and have not used Java for sometime. However, I can compile my code on the command-line just fine and generate the necessary <code>.class</code> files. In Eclipse, it complains that <code>The declared package \"Devices\" does not match the expected package \"\"</code>. What does this mean and how can I fix it? </p>\n\n<p>Sample code:</p>\n\n<pre><code>package Devices;\n\npublic final class DevFrequency \n{\n    public short messageID;\n    public double frequency;\n    public short converterID;\n    public DevFrequency() \n    {\n    }\n    public DevFrequency(short _messageID,double _frequency,short _converterID)\n    {\n        messageID = _messageID;\n        frequency = _frequency;\n        converterID = _converterID;\n    }\n}\n</code></pre>\n\n<p>The name of my project is <code>DeviceDDS</code>.</p>\n"},{"tags":["java","android","database"],"comments":[{"owner":{"account_id":12669815,"reputation":189,"user_id":9207714,"display_name":"M Salman"},"score":0,"creation_date":1675420952,"post_id":75334473,"comment_id":132929901,"body_markdown":"Would you please attach `Logcat` screenshot of the error you are getting?","body":"Would you please attach <code>Logcat</code> screenshot of the error you are getting?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675422323,"post_id":75334473,"comment_id":132930352,"body_markdown":"have you checked whether or not there are actually records with that id? Have you executed other crud  operations that did work?","body":"have you checked whether or not there are actually records with that id? Have you executed other crud  operations that did work?"}],"answers":[{"tags":[],"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675424561,"creation_date":1675424561,"answer_id":75335240,"question_id":75334473,"body_markdown":"I&#39;m pretty sure that you miss a lot of space characters in the query String.\r\n\r\n    String queryString = &quot;DELETE FROM&quot; + CUSTOMER_TABLE + &quot;WHERE&quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\r\n\r\nshould be changed to\r\n\r\n    String queryString = &quot;DELETE FROM &quot; + CUSTOMER_TABLE + &quot; WHERE &quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();","title":"delete item from local database function doesn&#39;t work","body":"<p>I'm pretty sure that you miss a lot of space characters in the query String.</p>\n<pre><code>String queryString = &quot;DELETE FROM&quot; + CUSTOMER_TABLE + &quot;WHERE&quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\n</code></pre>\n<p>should be changed to</p>\n<pre><code>String queryString = &quot;DELETE FROM &quot; + CUSTOMER_TABLE + &quot; WHERE &quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24352258,"reputation":7,"user_id":18287939,"display_name":"Manikandan Ram"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675425169,"creation_date":1675425169,"answer_id":75335344,"question_id":75334473,"body_markdown":"    DeleteBuilder&lt;CustomerModel, Integer&gt; deletebuilder = \r\n                        mcustomermodel.deleteBuilder();","title":"delete item from local database function doesn&#39;t work","body":"<pre><code>DeleteBuilder&lt;CustomerModel, Integer&gt; deletebuilder = \n                    mcustomermodel.deleteBuilder();\n</code></pre>\n"}],"owner":{"account_id":26258371,"reputation":17,"user_id":19930097,"display_name":"user19930097"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75335240,"answer_count":2,"score":0,"last_activity_date":1675425169,"creation_date":1675420539,"question_id":75334473,"body_markdown":"```\r\n//the following function &#39;listens to the click&#39; - here we are using an &#39;item click listener&#39; which gives you a number of which one was clicked\r\n        lv_customerList.setOnItemClickListener((parent, view, position, id) -&gt; {\r\n            //getting the customer that was just clicked to send it to the method to delete\r\n            //the parent of the listener is the listview\r\n            CustomerModel clickedCustomer = (CustomerModel) parent.getItemAtPosition(position); //this tells me which person was just clicked\r\n            //now we call the &quot;deleteOne&quot; function from the databaseHelper class\r\n            dataBaseHelper.deleteOne(clickedCustomer);\r\n            //now we update the list view\r\n            ShowCustomersOnListView(dataBaseHelper);\r\n            Toast.makeText(MainActivity.this, &quot;Deleted&quot; + clickedCustomer,Toast.LENGTH_SHORT).show();\r\n        });\r\n```\r\n\r\nThis is the code in the MainActivity\r\n\r\n```\r\n//creating a new function that will delete contents from a database\r\n    public boolean deleteOne(CustomerModel customerModel) {\r\n        //find customerModel in the database. if is is found, delete it and return true, otherwise return false\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        String queryString = &quot;DELETE FROM&quot; + CUSTOMER_TABLE + &quot;WHERE&quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\r\n\r\n        Cursor cursor = db.rawQuery(queryString, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nAnd this is the code from the DatabaseHelper activity\r\n\r\nI followed the https://youtu.be/312RhjfetP8 tutorial and copied the code exactly (although the android IDE suggested to change the...\r\n\r\n```\r\nnew AdapterView.OnItemClickListener()  \r\n```\r\n\r\nto a lambda (in the method in mainactivity)\r\n\r\nBut now whenever I click one of the rows (see video to understand what i mean) in the app - the app just crashes and I&#39;m not sure why :(\r\n\r\nCould someone please help me out?\r\n\r\nThank you so much!","title":"delete item from local database function doesn&#39;t work","body":"<pre><code>//the following function 'listens to the click' - here we are using an 'item click listener' which gives you a number of which one was clicked\n        lv_customerList.setOnItemClickListener((parent, view, position, id) -&gt; {\n            //getting the customer that was just clicked to send it to the method to delete\n            //the parent of the listener is the listview\n            CustomerModel clickedCustomer = (CustomerModel) parent.getItemAtPosition(position); //this tells me which person was just clicked\n            //now we call the &quot;deleteOne&quot; function from the databaseHelper class\n            dataBaseHelper.deleteOne(clickedCustomer);\n            //now we update the list view\n            ShowCustomersOnListView(dataBaseHelper);\n            Toast.makeText(MainActivity.this, &quot;Deleted&quot; + clickedCustomer,Toast.LENGTH_SHORT).show();\n        });\n</code></pre>\n<p>This is the code in the MainActivity</p>\n<pre><code>//creating a new function that will delete contents from a database\n    public boolean deleteOne(CustomerModel customerModel) {\n        //find customerModel in the database. if is is found, delete it and return true, otherwise return false\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        String queryString = &quot;DELETE FROM&quot; + CUSTOMER_TABLE + &quot;WHERE&quot;  + CUSTOMER_ID + &quot; = &quot; + customerModel.getId();\n\n        Cursor cursor = db.rawQuery(queryString, null);\n\n        if (cursor.moveToFirst()) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n</code></pre>\n<p>And this is the code from the DatabaseHelper activity</p>\n<p>I followed the <a href=\"https://youtu.be/312RhjfetP8\" rel=\"nofollow noreferrer\">https://youtu.be/312RhjfetP8</a> tutorial and copied the code exactly (although the android IDE suggested to change the...</p>\n<pre><code>new AdapterView.OnItemClickListener()  \n</code></pre>\n<p>to a lambda (in the method in mainactivity)</p>\n<p>But now whenever I click one of the rows (see video to understand what i mean) in the app - the app just crashes and I'm not sure why :(</p>\n<p>Could someone please help me out?</p>\n<p>Thank you so much!</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1675419110,"post_id":75334133,"comment_id":132929350,"body_markdown":"Not sure how to explain it much better than what you already have found. Once you get to the `socket.accept()` call it will hang there until something else connect to that server port.","body":"Not sure how to explain it much better than what you already have found. Once you get to the <code>socket.accept()</code> call it will hang there until something else connect to that server port."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1675419208,"post_id":75334133,"comment_id":132929393,"body_markdown":"This entire setup doesn&#39;t seem very stable though. If you get another post request to the same servlet while the first one is waiting, that request will fail as you will not be able to have two different threads listening to the same server socket. I suggest you revisit design for this solution.","body":"This entire setup doesn&#39;t seem very stable though. If you get another post request to the same servlet while the first one is waiting, that request will fail as you will not be able to have two different threads listening to the same server socket. I suggest you revisit design for this solution."},{"owner":{"account_id":21210283,"reputation":1,"user_id":15599048,"display_name":"hachi__man"},"score":0,"creation_date":1675419383,"post_id":75334133,"comment_id":132929441,"body_markdown":"@DanielBarbarian I actually want to implement Co-Browsing in a web form where what  ever data he puts in the field shoul reflect on admin web page.... can you suggest something","body":"@DanielBarbarian I actually want to implement Co-Browsing in a web form where what  ever data he puts in the field shoul reflect on admin web page.... can you suggest something"},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1675420126,"post_id":75334133,"comment_id":132929651,"body_markdown":"Apart from the answer from Stephen C below you could also save the state in your application (for example in a database or in memory depending on your needs) and poll the state on the other page directly from your page. There should be quite a few examples for that on the web.","body":"Apart from the answer from Stephen C below you could also save the state in your application (for example in a database or in memory depending on your needs) and poll the state on the other page directly from your page. There should be quite a few examples for that on the web."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675424975,"creation_date":1675419479,"answer_id":75334287,"question_id":75334133,"body_markdown":"The recommended way to establish a socket-like connection between a web browser or client and a web server is to use WebSockets.  This causes the connection used for the HTTP request / response to be taken over for bidirectional socket communication.  It is a widely supported extension to the HTTP protocol.\r\n\r\nIf you want to connect two or more web browsers or web clients via the web server, you need to  establish WebSockets between each browser server, and then the server needs to route the information from between the server ends of the WebSockets.\r\n\r\nThe implementation details will depend on the technology stack used on the client and server sides.  You could start by reading the following:\r\n\r\n  - The Wikipedia [WebSocket](https://en.wikipedia.org/wiki/WebSocket) article.\r\n  - [A Guide to the Java API for WebSocket](https://www.baeldung.com/java-websockets)\r\n  - [RFC 6455 - The WebSocket Protocol](https://www.rfc-editor.org/rfc/rfc6455)\r\n\r\n----------------\r\n\r\nThey way you are trying to do it looks like it won&#39;t work.  Even if it does kind of work, there will be issues with managing the connections that you have established ... leading to resource leakage, problems with recycling ports, etcetera.  And then you need to deal with potential security issues; e.g. establishing that the client that connects to the `ServerSocket` port you are listening on is not some interloper.","title":"socket connection in servlet class","body":"<p>The recommended way to establish a socket-like connection between a web browser or client and a web server is to use WebSockets.  This causes the connection used for the HTTP request / response to be taken over for bidirectional socket communication.  It is a widely supported extension to the HTTP protocol.</p>\n<p>If you want to connect two or more web browsers or web clients via the web server, you need to  establish WebSockets between each browser server, and then the server needs to route the information from between the server ends of the WebSockets.</p>\n<p>The implementation details will depend on the technology stack used on the client and server sides.  You could start by reading the following:</p>\n<ul>\n<li>The Wikipedia <a href=\"https://en.wikipedia.org/wiki/WebSocket\" rel=\"nofollow noreferrer\">WebSocket</a> article.</li>\n<li><a href=\"https://www.baeldung.com/java-websockets\" rel=\"nofollow noreferrer\">A Guide to the Java API for WebSocket</a></li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc6455\" rel=\"nofollow noreferrer\">RFC 6455 - The WebSocket Protocol</a></li>\n</ul>\n<hr />\n<p>They way you are trying to do it looks like it won't work.  Even if it does kind of work, there will be issues with managing the connections that you have established ... leading to resource leakage, problems with recycling ports, etcetera.  And then you need to deal with potential security issues; e.g. establishing that the client that connects to the <code>ServerSocket</code> port you are listening on is not some interloper.</p>\n"}],"owner":{"account_id":21210283,"reputation":1,"user_id":15599048,"display_name":"hachi__man"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675424975,"creation_date":1675418666,"question_id":75334133,"body_markdown":"I am trying to establish a tcp connection through which I want to share data from one webform(jsp page) to another web page with same content. \r\n\r\n\r\nbelow is servlet which gets called when clicking button on jsp page. As I checked the port which trying to connect is in listening state and from servlet it should get redirected to receiver form but it just keeps loading.\r\n\r\nbut program is getting stuck at **Socket insocket = socket.accept();** this line.\r\nI searched in other resources as well but got answer as **&quot;Socket.accept() hangs by design until a client connects to the port that is being waited on, in this case, port 8189. Your program is working fine&quot;**\r\n\r\n\r\n```\r\nprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tString first = request.getParameter(&quot;first_name&quot;);\r\n\t\tString last = request.getParameter(&quot;last_name&quot;);\r\n\t\tString name = first + &quot; &quot; + last;\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tbyte buffer[] = new byte[10240];\r\n\t\tbuffer = name.getBytes();\r\n\t\ttry {\r\n\t\t\tServerSocket socket = new ServerSocket(4333);\r\n\t\t\tSocket insocket = socket.accept();\r\n\t\t\tOutputStream outSocket = insocket.getOutputStream();\r\n\t\t\toutSocket.write(buffer);\r\n\r\n\t\t\tresponse.sendRedirect(&quot;receiver.jsp&quot;);\r\n\t\t} catch (java.net.ConnectException e) {\r\n\t\t\tSystem.out.println(&quot;server application not started.....&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n```\r\n\r\n","title":"socket connection in servlet class","body":"<p>I am trying to establish a tcp connection through which I want to share data from one webform(jsp page) to another web page with same content.</p>\n<p>below is servlet which gets called when clicking button on jsp page. As I checked the port which trying to connect is in listening state and from servlet it should get redirected to receiver form but it just keeps loading.</p>\n<p>but program is getting stuck at <strong>Socket insocket = socket.accept();</strong> this line.\nI searched in other resources as well but got answer as <strong>&quot;Socket.accept() hangs by design until a client connects to the port that is being waited on, in this case, port 8189. Your program is working fine&quot;</strong></p>\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String first = request.getParameter(&quot;first_name&quot;);\n        String last = request.getParameter(&quot;last_name&quot;);\n        String name = first + &quot; &quot; + last;\n        PrintWriter out = response.getWriter();\n        byte buffer[] = new byte[10240];\n        buffer = name.getBytes();\n        try {\n            ServerSocket socket = new ServerSocket(4333);\n            Socket insocket = socket.accept();\n            OutputStream outSocket = insocket.getOutputStream();\n            outSocket.write(buffer);\n\n            response.sendRedirect(&quot;receiver.jsp&quot;);\n        } catch (java.net.ConnectException e) {\n            System.out.println(&quot;server application not started.....&quot;);\n        }\n\n    }\n\n\n</code></pre>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675405576,"creation_date":1675405576,"answer_id":75332208,"question_id":75217506,"body_markdown":"As a general advice, use a tool to manage your project&#39;s dependencies such as Gradle or Maven. These tools are capable of analyzing not only classpath dependencies but also runtime dependencies. That way, you can just see what the dependencies are - rather than suspecting.","title":"Log4j removal issue","body":"<p>As a general advice, use a tool to manage your project's dependencies such as Gradle or Maven. These tools are capable of analyzing not only classpath dependencies but also runtime dependencies. That way, you can just see what the dependencies are - rather than suspecting.</p>\n"}],"owner":{"account_id":11362919,"reputation":1,"user_id":8330619,"display_name":"Pulkit Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675424593,"creation_date":1674535667,"question_id":75217506,"body_markdown":"I&#39;m trying to remove Log4j from my project. The project is building sucessfully after removing but I&#39;m getting this error while running the build.\r\n\r\n```\r\norg.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/azuga]]\r\n \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162) \r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:755)\r\n \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:731)\r\n \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:973)\r\n \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1850)\r\n \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n Caused by: java.lang.NoClassDefFoundError: Lorg/apache/log4j/Logger;\r\n \tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n \tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)\r\n \tat java.base/java.lang.Class.getDeclaredFields(Class.java:2249)\r\n \tat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:106)\r\n \tat org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\r\n \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationFilterAnnotations(WebAnnotationSet.java:109)\r\n \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:68)\r\n \tat org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:336)\r\n \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:776)\r\n \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:307)\r\n \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:95)\r\n \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5262)\r\n \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n \t... 10 more\r\n Caused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger\r\n \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1352)\r\n \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)\r\n \t... 24 more\r\n```\r\n\r\nI&#39;ve tried removing dependencies I suspected to be using Log4j.","title":"Log4j removal issue","body":"<p>I'm trying to remove Log4j from my project. The project is building sucessfully after removing but I'm getting this error while running the build.</p>\n<pre><code>org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/azuga]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:162) \n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:755)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:731)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:973)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1850)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n Caused by: java.lang.NoClassDefFoundError: Lorg/apache/log4j/Logger;\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2249)\n    at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:106)\n    at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationFilterAnnotations(WebAnnotationSet.java:109)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:68)\n    at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:336)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:776)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:307)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:95)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    ... 10 more\n Caused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1352)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)\n    ... 24 more\n</code></pre>\n<p>I've tried removing dependencies I suspected to be using Log4j.</p>\n"},{"tags":["java","stripe-payments","payment","implementation"],"comments":[{"owner":{"account_id":1665411,"reputation":2936,"user_id":1532919,"accept_rate":60,"display_name":"Alan P."},"score":0,"creation_date":1587590411,"post_id":61373143,"comment_id":108575521,"body_markdown":"I’m not using Stripe with Java, but to issue refunds I had to also pass in an amount to refund, and it had to be less than or equal to the original transaction amount.","body":"I’m not using Stripe with Java, but to issue refunds I had to also pass in an amount to refund, and it had to be less than or equal to the original transaction amount."}],"answers":[{"tags":[],"owner":{"account_id":17230050,"reputation":6378,"user_id":12474862,"display_name":"Nolan H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587585368,"creation_date":1587585368,"answer_id":61374008,"question_id":61373143,"body_markdown":"Usually this error is encountered when you&#39;ve mixed up multiple API keys (for example if you have a separate dev or test account), or if you&#39;re making charges for connected accounts and you haven&#39;t provided the same [account authentication][1] on a subsequent request.\r\n\r\nIf you&#39;re trying to refund a Charge for a connected account, make sure you [supply the `RequestOptions`][2] in your call. Otherwise, double check your API keys match what was used to create the Charge.\r\n\r\n\r\n  [1]: https://stripe.com/docs/connect/authentication\r\n  [2]: https://stripe.com/docs/api/connected_accounts?lang=java","title":"I am using stripe payment java implementation. Stripe refund giving no such charge exist exception exist for the successful payment","body":"<p>Usually this error is encountered when you've mixed up multiple API keys (for example if you have a separate dev or test account), or if you're making charges for connected accounts and you haven't provided the same <a href=\"https://stripe.com/docs/connect/authentication\" rel=\"nofollow noreferrer\">account authentication</a> on a subsequent request.</p>\n\n<p>If you're trying to refund a Charge for a connected account, make sure you <a href=\"https://stripe.com/docs/api/connected_accounts?lang=java\" rel=\"nofollow noreferrer\">supply the <code>RequestOptions</code></a> in your call. Otherwise, double check your API keys match what was used to create the Charge.</p>\n"}],"owner":{"account_id":15955381,"reputation":1,"user_id":11513672,"display_name":"akanksha agrawal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675424582,"creation_date":1587582286,"question_id":61373143,"body_markdown":"I have completed the payment through stripe successfully in my java code. But the refund throwing error as &quot;No such charge: ch_1G.....&quot;\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;charge&quot;,chargeID);\r\n    Refund refund = Refund.create(params);\r\n\r\n","title":"I am using stripe payment java implementation. Stripe refund giving no such charge exist exception exist for the successful payment","body":"<p>I have completed the payment through stripe successfully in my java code. But the refund throwing error as &quot;No such charge: ch_1G.....&quot;</p>\n<pre><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;charge&quot;,chargeID);\nRefund refund = Refund.create(params);\n</code></pre>\n"},{"tags":["java","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":6445314,"reputation":31,"user_id":4993975,"display_name":"Anu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675424484,"creation_date":1675424484,"answer_id":75335225,"question_id":75322557,"body_markdown":"It was a version conflict issue. Used netty-all - 4.1.80.Final version in maven to fix it.","title":"Graph API - ClosedChannelException","body":"<p>It was a version conflict issue. Used netty-all - 4.1.80.Final version in maven to fix it.</p>\n"}],"owner":{"account_id":6445314,"reputation":31,"user_id":4993975,"display_name":"Anu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675424484,"creation_date":1675337582,"question_id":75322557,"body_markdown":"I am getting the ClosedChannelException error while sending a mail using Graph API.\r\nI know the connection parameters are correct as it works fine when I tried via postman.\r\nAlso my old code with graph API 1.6.0 is working fine. I am trying to upgrade it to 5.45.0.\r\nDoes anyone have any idea what the issue could be? Code looks correct to me. So I tried changing the dependent jar versions too but so far nothing worked.\r\n\r\nI used the following code with TokenCredentialAuthProvider.\r\nhttps://github.com/microsoftgraph/microsoft-graph-docs/blob/main/api-reference/v1.0/includes/snippets/java/user-sendmail-with-attachment-java-snippets.md\r\n\r\nVersions used: \r\nmicrosoft-graph - 5.45.0\r\nazure-identity - 1.7.3\r\nreactor-core - 3.5.2\r\nreactor-netty - 1.1.2\r\nnetty-all - 4.1.87.Final\r\n\r\n```\r\ncom.microsoft.graph.core.ClientException: Error executing the request\r\n        at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:410)\r\n        at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\r\n        at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\r\n        at com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\r\n        at com.microsoft.graph.requests.UserSendMailRequest.post(UserSendMailRequest.java:54)\r\n        at com.test.GraphProducer.sendEmail(GraphProducer.java:151)\r\n       .....................\r\nCaused by: java.io.IOException: java.util.concurrent.ExecutionException: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n        at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:67)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        .....................\r\n        at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:407)\r\n        ... 52 more\r\nCaused by: java.util.concurrent.ExecutionException: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n       .....................\r\n        at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:55)\r\n        ... 60 more\r\nCaused by: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequest(HttpHelper.java:53)\r\n        .....................\r\nCaused by: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n        at reactor.core.Exceptions.propagate(Exceptions.java:408)\r\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\r\n        at reactor.core.publisher.Mono.block(Mono.java:1710)\r\n        at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\r\n        .....................\r\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequestWithRetries(HttpHelper.java:96)\r\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequest(HttpHelper.java:49)\r\n        ... 16 more\r\n        Suppressed: java.lang.Exception: #block terminated with an error\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                ... 34 more\r\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\r\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\r\n                .....................\r\n                ... 25 more\r\n                Suppressed: java.lang.Exception: #block terminated with an error\r\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                        ... 31 more\r\n        Caused by: java.nio.channels.ClosedChannelException\r\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n                .....................\r\n                at java.lang.Thread.run(Thread.java:745)\r\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\r\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\r\n                .....................\r\n                ... 26 more\r\n                Suppressed: java.lang.Exception: #block terminated with an error\r\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                        ... 32 more\r\n        Caused by: java.nio.channels.ClosedChannelException\r\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n                .....................\r\n                at java.lang.Thread.run(Thread.java:745)\r\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\r\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\r\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\r\n                .....................\r\n                ... 27 more\r\n                Suppressed: java.lang.Exception: #block terminated with an error\r\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n                        ... 33 more\r\n        Caused by: java.nio.channels.ClosedChannelException\r\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(AbstractChannel.java:976)\r\n                .....................\r\nCaused by: java.nio.channels.ClosedChannelException\r\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(AbstractChannel.java:976)\r\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:237)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:517)\r\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:457)\r\n        at io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:942)\r\n        at io.netty.channel.AbstractChannel.connect(AbstractChannel.java:217)\r\n        at reactor.netty.transport.TransportConnector.lambda$doConnect$8(TransportConnector.java:240)\r\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\n\r\nUpdate on &#39;03Feb2022&#39;:\r\nI tried the below code to check if token part is working and found out that it is throwing the same error.\r\n```\r\nIAuthenticationProvider authProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\r\n\t\t\tjava.net.URL url = new java.net.URL(&quot;https://graph.microsoft.com/v1.0/users&quot;);  \r\n\t\t\tString token = authProvider.getAuthorizationTokenAsync(url).get();\r\n```","title":"Graph API - ClosedChannelException","body":"<p>I am getting the ClosedChannelException error while sending a mail using Graph API.\nI know the connection parameters are correct as it works fine when I tried via postman.\nAlso my old code with graph API 1.6.0 is working fine. I am trying to upgrade it to 5.45.0.\nDoes anyone have any idea what the issue could be? Code looks correct to me. So I tried changing the dependent jar versions too but so far nothing worked.</p>\n<p>I used the following code with TokenCredentialAuthProvider.\n<a href=\"https://github.com/microsoftgraph/microsoft-graph-docs/blob/main/api-reference/v1.0/includes/snippets/java/user-sendmail-with-attachment-java-snippets.md\" rel=\"nofollow noreferrer\">https://github.com/microsoftgraph/microsoft-graph-docs/blob/main/api-reference/v1.0/includes/snippets/java/user-sendmail-with-attachment-java-snippets.md</a></p>\n<p>Versions used:\nmicrosoft-graph - 5.45.0\nazure-identity - 1.7.3\nreactor-core - 3.5.2\nreactor-netty - 1.1.2\nnetty-all - 4.1.87.Final</p>\n<pre><code>com.microsoft.graph.core.ClientException: Error executing the request\n        at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:410)\n        at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\n        at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\n        at com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\n        at com.microsoft.graph.requests.UserSendMailRequest.post(UserSendMailRequest.java:54)\n        at com.test.GraphProducer.sendEmail(GraphProducer.java:151)\n       .....................\nCaused by: java.io.IOException: java.util.concurrent.ExecutionException: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n        at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:67)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        .....................\n        at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:407)\n        ... 52 more\nCaused by: java.util.concurrent.ExecutionException: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n       .....................\n        at com.microsoft.graph.httpcore.AuthenticationHandler.intercept(AuthenticationHandler.java:55)\n        ... 60 more\nCaused by: com.microsoft.aad.msal4j.MsalClientException: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequest(HttpHelper.java:53)\n        .....................\nCaused by: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n        at reactor.core.Exceptions.propagate(Exceptions.java:408)\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\n        at reactor.core.publisher.Mono.block(Mono.java:1710)\n        at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\n        .....................\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequestWithRetries(HttpHelper.java:96)\n        at com.microsoft.aad.msal4j.HttpHelper.executeHttpRequest(HttpHelper.java:49)\n        ... 16 more\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                ... 34 more\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\n                .....................\n                ... 25 more\n                Suppressed: java.lang.Exception: #block terminated with an error\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                        ... 31 more\n        Caused by: java.nio.channels.ClosedChannelException\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\n                .....................\n                at java.lang.Thread.run(Thread.java:745)\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\n                .....................\n                ... 26 more\n                Suppressed: java.lang.Exception: #block terminated with an error\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                        ... 32 more\n        Caused by: java.nio.channels.ClosedChannelException\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\n                .....................\n                at java.lang.Thread.run(Thread.java:745)\n        Suppressed: reactor.core.Exceptions$ReactiveException: java.nio.channels.ClosedChannelException\n                at reactor.core.Exceptions.propagate(Exceptions.java:408)\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:97)\n                at reactor.core.publisher.Mono.block(Mono.java:1710)\n                at com.azure.core.http.HttpClient.sendSync(HttpClient.java:42)\n                .....................\n                ... 27 more\n                Suppressed: java.lang.Exception: #block terminated with an error\n                        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n                        ... 33 more\n        Caused by: java.nio.channels.ClosedChannelException\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\n                at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(AbstractChannel.java:976)\n                .....................\nCaused by: java.nio.channels.ClosedChannelException\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\n        at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(AbstractChannel.java:976)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:237)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:517)\n        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:457)\n        at io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:942)\n        at io.netty.channel.AbstractChannel.connect(AbstractChannel.java:217)\n        at reactor.netty.transport.TransportConnector.lambda$doConnect$8(TransportConnector.java:240)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>Update on '03Feb2022':\nI tried the below code to check if token part is working and found out that it is throwing the same error.</p>\n<pre><code>IAuthenticationProvider authProvider = new TokenCredentialAuthProvider(scopes, clientSecretCredential);\n            java.net.URL url = new java.net.URL(&quot;https://graph.microsoft.com/v1.0/users&quot;);  \n            String token = authProvider.getAuthorizationTokenAsync(url).get();\n</code></pre>\n"},{"tags":["java","php","grpc","grpc-java"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1675447952,"post_id":75335212,"comment_id":132938547,"body_markdown":"You say &quot;exception&quot; in the title, but don&#39;t include any error message received. Please include the error received. The debug logs show &quot;INBOUND RST_STREAM&quot; happens first, so the client decides to cancel the RPC before the server responds. But the server also does a GO_AWAY with errorCode=INTERNAL_ERROR, so it does seem there was an exception on server-side that isn&#39;t included.","body":"You say &quot;exception&quot; in the title, but don&#39;t include any error message received. Please include the error received. The debug logs show &quot;INBOUND RST_STREAM&quot; happens first, so the client decides to cancel the RPC before the server responds. But the server also does a GO_AWAY with errorCode=INTERNAL_ERROR, so it does seem there was an exception on server-side that isn&#39;t included."}],"owner":{"account_id":14309189,"reputation":58,"user_id":10336075,"display_name":"Tannenfels"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675424442,"creation_date":1675424442,"question_id":75335212,"body_markdown":"I am invoking my Java gRPC service from a PHP client (PHP client runs in CLI mode for the sake of debugging and will run in FPM mode in production). Yet the connection on a Java side seems to be refused for some reason:\r\n\r\n```\r\n14:28:57.679 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf - -Dio.grpc.netty.shaded.io.netty.buffer.checkAccessible: true\r\n14:28:57.679 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf - -Dio.grpc.netty.shaded.io.netty.buffer.checkBounds: true\r\n14:28:57.681 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector@7663df67\r\n14:28:57.777 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND SETTINGS: ack=false settings={MAX_CONCURRENT_STREAMS=2147483647, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\r\n14:28:57.782 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.maxSharedCapacityFactor: 2\r\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.linkCapacity: 16\r\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8\r\n14:28:57.812 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\r\n14:28:57.821 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=4194303, MAX_FRAME_SIZE=4194303, MAX_HEADER_LIST_SIZE=8192, ︃=1}\r\n14:28:57.823 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND SETTINGS: ack=true\r\n14:28:57.825 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=4128768\r\n14:28:57.826 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND SETTINGS: ack=true\r\n14:28:57.839 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND HEADERS: streamId=1 headers=GrpcHttp2RequestHeaders[:path: /microservices.bitrix.leads.BitrixLeadService/CreateLead, :authority: localhost:50051, :method: POST, :scheme: http, te: trailers, content-type: application/grpc, grpc-accept-encoding: identity, deflate, gzip, user-agent: grpc-c/29.0.0 (linux; chttp2)] padding=0 endStream=false\r\n14:28:57.879 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND DATA: streamId=1 padding=0 endStream=true length=55 bytes=00000000320a0b3739323431303137313035120cd09cd0bed181d0bad0b2d0b018d7162212d0a1d182d0b0d0bdd0b8d181d0bbd0b0d0b2\r\n14:28:57.881 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND RST_STREAM: streamId=1 errorCode=8\r\n14:28:57.899 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] OUTBOUND RST_STREAM: streamId=1 errorCode=8\r\n14:28:57.900 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] OUTBOUND GO_AWAY: lastStreamId=1 errorCode=2 length=0 bytes=\r\n14:28:57.902 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] Sending GOAWAY failed: lastStreamId &#39;1&#39;, errorCode &#39;2&#39;, debugData &#39;&#39;. Forcing shutdown of the connection.\r\n```\r\n\r\n\r\nFor some reasons, another exception may be thrown, though no changes to the code were made:\r\n\r\n```\r\n14:19:56.666 [grpc-default-worker-ELG-3-2] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xf3d688e2, L:/127.0.0.1:50051 - R:/127.0.0.1:52836] INBOUND RST_STREAM: streamId=1 errorCode=8\r\n```\r\n","title":"Exception while invoking gRPC method","body":"<p>I am invoking my Java gRPC service from a PHP client (PHP client runs in CLI mode for the sake of debugging and will run in FPM mode in production). Yet the connection on a Java side seems to be refused for some reason:</p>\n<pre><code>14:28:57.679 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf - -Dio.grpc.netty.shaded.io.netty.buffer.checkAccessible: true\n14:28:57.679 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf - -Dio.grpc.netty.shaded.io.netty.buffer.checkBounds: true\n14:28:57.681 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.grpc.netty.shaded.io.netty.util.ResourceLeakDetector@7663df67\n14:28:57.777 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND SETTINGS: ack=false settings={MAX_CONCURRENT_STREAMS=2147483647, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\n14:28:57.782 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.maxSharedCapacityFactor: 2\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.linkCapacity: 16\n14:28:57.783 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8\n14:28:57.812 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\n14:28:57.821 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=4194303, MAX_FRAME_SIZE=4194303, MAX_HEADER_LIST_SIZE=8192, ︃=1}\n14:28:57.823 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] OUTBOUND SETTINGS: ack=true\n14:28:57.825 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=4128768\n14:28:57.826 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND SETTINGS: ack=true\n14:28:57.839 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND HEADERS: streamId=1 headers=GrpcHttp2RequestHeaders[:path: /microservices.bitrix.leads.BitrixLeadService/CreateLead, :authority: localhost:50051, :method: POST, :scheme: http, te: trailers, content-type: application/grpc, grpc-accept-encoding: identity, deflate, gzip, user-agent: grpc-c/29.0.0 (linux; chttp2)] padding=0 endStream=false\n14:28:57.879 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND DATA: streamId=1 padding=0 endStream=true length=55 bytes=00000000320a0b3739323431303137313035120cd09cd0bed181d0bad0b2d0b018d7162212d0a1d182d0b0d0bdd0b8d181d0bbd0b0d0b2\n14:28:57.881 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 - R:/127.0.0.1:57746] INBOUND RST_STREAM: streamId=1 errorCode=8\n14:28:57.899 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] OUTBOUND RST_STREAM: streamId=1 errorCode=8\n14:28:57.900 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] OUTBOUND GO_AWAY: lastStreamId=1 errorCode=2 length=0 bytes=\n14:28:57.902 [grpc-default-worker-ELG-3-1] DEBUG io.grpc.netty.shaded.io.netty.handler.codec.http2.Http2ConnectionHandler - [id: 0xd418fb07, L:/127.0.0.1:50051 ! R:/127.0.0.1:57746] Sending GOAWAY failed: lastStreamId '1', errorCode '2', debugData ''. Forcing shutdown of the connection.\n</code></pre>\n<p>For some reasons, another exception may be thrown, though no changes to the code were made:</p>\n<pre><code>14:19:56.666 [grpc-default-worker-ELG-3-2] DEBUG io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler - [id: 0xf3d688e2, L:/127.0.0.1:50051 - R:/127.0.0.1:52836] INBOUND RST_STREAM: streamId=1 errorCode=8\n</code></pre>\n"},{"tags":["java","types","return","target"],"comments":[{"owner":{"account_id":2928320,"reputation":1666,"user_id":5946480,"display_name":"Rishi Prakash"},"score":1,"creation_date":1418797408,"post_id":27518037,"comment_id":43468587,"body_markdown":"http://blog.jooq.org/2013/11/25/a-lesser-known-java-8-feature-generalized-target-type-inference/ for Target types and http://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html for Return types","body":"<a href=\"http://blog.jooq.org/2013/11/25/a-lesser-known-java-8-feature-generalized-target-type-inference/\" rel=\"nofollow noreferrer\">blog.jooq.org/2013/11/25/&hellip;</a> for Target types and <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html</a> for Return types"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":1,"creation_date":1675424348,"post_id":27518037,"comment_id":132930931,"body_markdown":"and I wonder what &quot;possibly an obvious&quot; means..","body":"and I wonder what &quot;possibly an obvious&quot; means.."}],"answers":[{"tags":[],"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675424314,"creation_date":1675424314,"answer_id":75335181,"question_id":27518037,"body_markdown":"I&#39;m not sure, but this is my understanding.\r\n\r\ninferring from the target type:\r\n\r\n    String target = genericMethod();\r\n\r\ninferring from the return type:\r\n\r\n    String outsideMethod() {\r\n      return genericMethod();\r\n    }\r\n\r\nwhen `genericMethod` being:\r\n\r\n    T genericMethod() {\r\n      T result = ...\r\n      return T;\r\n    }","title":"Target types vs return types in java","body":"<p>I'm not sure, but this is my understanding.</p>\n<p>inferring from the target type:</p>\n<pre><code>String target = genericMethod();\n</code></pre>\n<p>inferring from the return type:</p>\n<pre><code>String outsideMethod() {\n  return genericMethod();\n}\n</code></pre>\n<p>when <code>genericMethod</code> being:</p>\n<pre><code>T genericMethod() {\n  T result = ...\n  return T;\n}\n</code></pre>\n"}],"owner":{"account_id":5377228,"reputation":1104,"user_id":4283659,"accept_rate":81,"display_name":"nhooyr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675424314,"creation_date":1418788285,"question_id":27518037,"body_markdown":"I was reading the java tutorial from oracle when I stumbled upon this statement: \r\n\r\n&quot;Note: It is important to note that the inference algorithm uses only invocation arguments, target types, and possibly an obvious expected return type to infer types. The inference algorithm does not use results from later in the program.&quot;\r\n\r\nWhat is the difference between the target type and using the return type to infer the type? Could you please provide an example.","title":"Target types vs return types in java","body":"<p>I was reading the java tutorial from oracle when I stumbled upon this statement: </p>\n\n<p>\"Note: It is important to note that the inference algorithm uses only invocation arguments, target types, and possibly an obvious expected return type to infer types. The inference algorithm does not use results from later in the program.\"</p>\n\n<p>What is the difference between the target type and using the return type to infer the type? Could you please provide an example.</p>\n"},{"tags":["java","html","freemarker"],"answers":[{"tags":[],"owner":{"account_id":172149,"reputation":3436,"user_id":399992,"accept_rate":83,"display_name":"Bart Vangeneugden"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1280826378,"creation_date":1280826378,"answer_id":3395057,"question_id":3394917,"body_markdown":"The error magically solved itself after extensive testing. Must be karma.\r\n\r\nMy final code for safe checking:\r\n\r\n    &lt;#assign minititle=(row.title!&quot;&quot;)&gt;\r\n    &lt;#if minititle?length &amp;lt; 27&gt;\r\n    ${minititle}\r\n    &lt;#else&gt;\r\n    ${minititle?substring(0,26)} ...\r\n    &lt;/#if&gt;\r\n\r\nHope it helps somebody else","title":"Limit string length in FreeMarker","body":"<p>The error magically solved itself after extensive testing. Must be karma.</p>\n\n<p>My final code for safe checking:</p>\n\n<pre><code>&lt;#assign minititle=(row.title!\"\")&gt;\n&lt;#if minititle?length &amp;lt; 27&gt;\n${minititle}\n&lt;#else&gt;\n${minititle?substring(0,26)} ...\n&lt;/#if&gt;\n</code></pre>\n\n<p>Hope it helps somebody else</p>\n"},{"comments":[{"owner":{"account_id":207666,"reputation":351,"user_id":457659,"accept_rate":80,"display_name":"RockMeetHardplace"},"score":0,"creation_date":1358516658,"post_id":14388781,"comment_id":20035341,"body_markdown":"Hehe :)  I found your post looking for a &quot;truncate&quot; answer and I just happened to notice your error and it looked just like the one I had yesterday (for the same reason).  I banged my head on that for an hour too!","body":"Hehe :)  I found your post looking for a &quot;truncate&quot; answer and I just happened to notice your error and it looked just like the one I had yesterday (for the same reason).  I banged my head on that for an hour too!"}],"tags":[],"owner":{"account_id":207666,"reputation":351,"user_id":457659,"accept_rate":80,"display_name":"RockMeetHardplace"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1358459482,"creation_date":1358459482,"answer_id":14388781,"question_id":3394917,"body_markdown":"I&#39;m sure you&#39;re happy it&#39;s working now, but the error you were receiving had nothing to do with your String Truncation Code, it&#39;s because your &amp;lt;/#if&amp;gt; is incorrect.\r\n\r\n    &lt;#if condition &gt;\r\n        This Is Correct\r\n    &lt;/#if&gt;\r\n\r\n\r\n    &lt;#if condition &gt;\r\n        This Will Show An Error\r\n    &lt;#/if&gt;","title":"Limit string length in FreeMarker","body":"<p>I'm sure you're happy it's working now, but the error you were receiving had nothing to do with your String Truncation Code, it's because your &lt;/#if&gt; is incorrect.</p>\n\n<pre><code>&lt;#if condition &gt;\n    This Is Correct\n&lt;/#if&gt;\n\n\n&lt;#if condition &gt;\n    This Will Show An Error\n&lt;#/if&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8431242,"reputation":21,"user_id":6326899,"display_name":"Sandy Xiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463074033,"creation_date":1463074033,"answer_id":37193708,"question_id":3394917,"body_markdown":"an even easier solution without using if-else \r\n\r\n${minititle?left_pad(26)[0..*26]}\r\n\r\nthis will \r\n- first insert white space on left to ensure the string is at least 26 char long (if the string is short than 26 char)\r\n- truncate string to exact 26 char long (if the string is longer than 26 char)\r\n\r\nI&#39;ve tried and it worked well with VERSION 2.3.24","title":"Limit string length in FreeMarker","body":"<p>an even easier solution without using if-else </p>\n\n<p>${minititle?left_pad(26)[0..*26]}</p>\n\n<p>this will \n- first insert white space on left to ensure the string is at least 26 char long (if the string is short than 26 char)\n- truncate string to exact 26 char long (if the string is longer than 26 char)</p>\n\n<p>I've tried and it worked well with VERSION 2.3.24</p>\n"},{"tags":[],"owner":{"account_id":8430644,"reputation":17,"user_id":6326524,"display_name":"BenG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675401284,"creation_date":1675401284,"answer_id":75331774,"question_id":3394917,"body_markdown":"As of Freemarker 2.3.29 (released 2019-08-17) there is a new built-in called truncate. Per the [release notes][1]:\r\n\r\n&gt; string?truncate(length) truncates the text to the given length, and by default adds [...] at the end if truncation has happened. Truncation happens at word boundaries, unless the result is too short that way, in which case it falls back to truncation mid word. There&#39;s also ?truncate_w to force Word Boundary truncation, and ?truncate_c (for Character Boundary) that doesn&#39;t care about word boundaries.\r\n\r\nSo the question can now be solved simply like\r\n\r\n    ${minititle?truncate(26)}\r\n\r\n\r\n  [1]: https://freemarker.apache.org/docs/versions_2_3_29.html","title":"Limit string length in FreeMarker","body":"<p>As of Freemarker 2.3.29 (released 2019-08-17) there is a new built-in called truncate. Per the <a href=\"https://freemarker.apache.org/docs/versions_2_3_29.html\" rel=\"nofollow noreferrer\">release notes</a>:</p>\n<blockquote>\n<p>string?truncate(length) truncates the text to the given length, and by default adds [...] at the end if truncation has happened. Truncation happens at word boundaries, unless the result is too short that way, in which case it falls back to truncation mid word. There's also ?truncate_w to force Word Boundary truncation, and ?truncate_c (for Character Boundary) that doesn't care about word boundaries.</p>\n</blockquote>\n<p>So the question can now be solved simply like</p>\n<pre><code>${minititle?truncate(26)}\n</code></pre>\n"}],"owner":{"account_id":172149,"reputation":3436,"user_id":399992,"accept_rate":83,"display_name":"Bart Vangeneugden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29166,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":3395057,"answer_count":4,"score":13,"last_activity_date":1675424159,"creation_date":1280824870,"question_id":3394917,"body_markdown":"I&#39;m trying to get a substring from a string in FreeMarker.\r\nHowever there are 2 thigns to consider:\r\n\r\n 1. The string can be null\r\n 2. The string can be shorter then the maximum string length\r\n\r\nI do the following:\r\n\r\n    &lt;#list landingpage1.popularItems as row&gt;\r\n        &lt;li&gt;\r\n            &lt;span class=&quot;minititle&quot;&gt;\r\n                &lt;#assign minititle=(row.title!&quot;&quot;)&gt;\r\n                &lt;#if minititle?length &amp;lt; 27&gt;\r\n                    ${minititle}\r\n                &lt;#else&gt;\r\n                    ${minititle?substring(0,26)} ...\r\n                &lt;#/if&gt;\r\n            &lt;/span&gt;\r\n        &lt;/li&gt;\r\n    &lt;/#list&gt;\r\n\r\nI get a freemarker error saying:\r\n\r\n\r\n    Failed to load templates: Encountered &quot;&lt;/#list&gt;&quot; at line 144, column 65 in landingpage1.ftl.\r\n    Was expecting one of:\r\n        &lt;ATTEMPT&gt; ...\r\n        &lt;IF&gt; ...\r\n        &lt;LIST&gt; ...\r\n        &lt;FOREACH&gt; ...\r\n        &lt;SWITCH&gt; ...\r\n        &lt;ASSIGN&gt; ...\r\n        &lt;GLOBALASSIGN&gt; ...\r\n        &lt;LOCALASSIGN&gt; ...\r\n        &lt;INCLUDE&gt; ...\r\n        &lt;IMPORT&gt; ...\r\n        &lt;FUNCTION&gt; ...\r\n        &lt;MACRO&gt; ...\r\n        &lt;TRANSFORM&gt; ...\r\n        &lt;VISIT&gt; ...\r\n        &lt;STOP&gt; ...\r\n        &lt;RETURN&gt; ...\r\n        &lt;CALL&gt; ...\r\n        &lt;SETTING&gt; ...\r\n        &lt;COMPRESS&gt; ...\r\n        &lt;COMMENT&gt; ...\r\n        &lt;TERSE_COMMENT&gt; ...\r\n        &lt;NOPARSE&gt; ...\r\n        &lt;END_IF&gt; ...\r\n        &lt;BREAK&gt; ...\r\n        &lt;SIMPLE_RETURN&gt; ...\r\n        &lt;HALT&gt; ...\r\n        &lt;FLUSH&gt; ...\r\n        &lt;TRIM&gt; ...\r\n        &lt;LTRIM&gt; ...\r\n        &lt;RTRIM&gt; ...\r\n        &lt;NOTRIM&gt; ...\r\n        &lt;SIMPLE_NESTED&gt; ...\r\n        &lt;NESTED&gt; ...\r\n        &lt;SIMPLE_RECURSE&gt; ...\r\n        &lt;RECURSE&gt; ...\r\n        &lt;FALLBACK&gt; ...\r\n        &lt;ESCAPE&gt; ...\r\n        &lt;NOESCAPE&gt; ...\r\n        &lt;UNIFIED_CALL&gt; ...\r\n        &lt;WHITESPACE&gt; ...\r\n        &lt;PRINTABLE_CHARS&gt; ...\r\n        &lt;FALSE_ALERT&gt; ...\r\n        &quot;${&quot; ...\r\n        &quot;#{&quot; ...\r\n\r\nVery odd.\r\nCan anybody help?","title":"Limit string length in FreeMarker","body":"<p>I'm trying to get a substring from a string in FreeMarker.\nHowever there are 2 thigns to consider:</p>\n\n<ol>\n<li>The string can be null</li>\n<li>The string can be shorter then the maximum string length</li>\n</ol>\n\n<p>I do the following:</p>\n\n<pre><code>&lt;#list landingpage1.popularItems as row&gt;\n    &lt;li&gt;\n        &lt;span class=\"minititle\"&gt;\n            &lt;#assign minititle=(row.title!\"\")&gt;\n            &lt;#if minititle?length &amp;lt; 27&gt;\n                ${minititle}\n            &lt;#else&gt;\n                ${minititle?substring(0,26)} ...\n            &lt;#/if&gt;\n        &lt;/span&gt;\n    &lt;/li&gt;\n&lt;/#list&gt;\n</code></pre>\n\n<p>I get a freemarker error saying:</p>\n\n<pre><code>Failed to load templates: Encountered \"&lt;/#list&gt;\" at line 144, column 65 in landingpage1.ftl.\nWas expecting one of:\n    &lt;ATTEMPT&gt; ...\n    &lt;IF&gt; ...\n    &lt;LIST&gt; ...\n    &lt;FOREACH&gt; ...\n    &lt;SWITCH&gt; ...\n    &lt;ASSIGN&gt; ...\n    &lt;GLOBALASSIGN&gt; ...\n    &lt;LOCALASSIGN&gt; ...\n    &lt;INCLUDE&gt; ...\n    &lt;IMPORT&gt; ...\n    &lt;FUNCTION&gt; ...\n    &lt;MACRO&gt; ...\n    &lt;TRANSFORM&gt; ...\n    &lt;VISIT&gt; ...\n    &lt;STOP&gt; ...\n    &lt;RETURN&gt; ...\n    &lt;CALL&gt; ...\n    &lt;SETTING&gt; ...\n    &lt;COMPRESS&gt; ...\n    &lt;COMMENT&gt; ...\n    &lt;TERSE_COMMENT&gt; ...\n    &lt;NOPARSE&gt; ...\n    &lt;END_IF&gt; ...\n    &lt;BREAK&gt; ...\n    &lt;SIMPLE_RETURN&gt; ...\n    &lt;HALT&gt; ...\n    &lt;FLUSH&gt; ...\n    &lt;TRIM&gt; ...\n    &lt;LTRIM&gt; ...\n    &lt;RTRIM&gt; ...\n    &lt;NOTRIM&gt; ...\n    &lt;SIMPLE_NESTED&gt; ...\n    &lt;NESTED&gt; ...\n    &lt;SIMPLE_RECURSE&gt; ...\n    &lt;RECURSE&gt; ...\n    &lt;FALLBACK&gt; ...\n    &lt;ESCAPE&gt; ...\n    &lt;NOESCAPE&gt; ...\n    &lt;UNIFIED_CALL&gt; ...\n    &lt;WHITESPACE&gt; ...\n    &lt;PRINTABLE_CHARS&gt; ...\n    &lt;FALSE_ALERT&gt; ...\n    \"${\" ...\n    \"#{\" ...\n</code></pre>\n\n<p>Very odd.\nCan anybody help?</p>\n"},{"tags":["java","spring","sonarqube"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585897417,"post_id":61006175,"comment_id":107930576,"body_markdown":"Please &quot;try&quot;:  `//NOSONAR` or `@SuppressWarnings(&quot;squid:...&quot;)` source: https://www.google.com/search?q=sonar+%40suppresswarnings","body":"Please &quot;try&quot;:  <code>&#47;&#47;NOSONAR</code> or <code>@SuppressWarnings(&quot;squid:...&quot;)</code> source: <a href=\"https://www.google.com/search?q=sonar+%40suppresswarnings\" rel=\"nofollow noreferrer\">google.com/search?q=sonar+%40suppresswarnings</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585897619,"post_id":61006175,"comment_id":107930662,"body_markdown":"..and @suppress... annotation (can) also &quot;takes&quot; a `String[]` ;)","body":"..and @suppress... annotation (can) also &quot;takes&quot; a <code>String[]</code> ;)"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":1,"creation_date":1585898512,"post_id":61006175,"comment_id":107931075,"body_markdown":"I already tried //NOSONAR , it doesn&#39;t work too. Also its good for one liner sonar exclusion only, I have like an entire method to exclude, //NOSONAR really isn&#39;t just that neat and clean in the code. there is no squid for the code coverage what&#39;s inplace of it is defined as &#39;common-java:InsufficientBranchCoverage&#39; in the Rule where I had it reference.","body":"I already tried //NOSONAR , it doesn&#39;t work too. Also its good for one liner sonar exclusion only, I have like an entire method to exclude, //NOSONAR really isn&#39;t just that neat and clean in the code. there is no squid for the code coverage what&#39;s inplace of it is defined as &#39;common-java:InsufficientBranchCoverage&#39; in the Rule where I had it reference."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585931790,"post_id":61006175,"comment_id":107947799,"body_markdown":"(the *accepted* answer to) your cited question, states: &quot;Unfortunately, it is not possible.&quot;  ..a &quot;gentle counter-suggestion&quot; (saddling the horse from &quot;behind&quot;): why not extend your test coverage (on new code)!? (this rule is reasoned)","body":"(the <i>accepted</i> answer to) your cited question, states: &quot;Unfortunately, it is not possible.&quot;  ..a &quot;gentle counter-suggestion&quot; (saddling the horse from &quot;behind&quot;): why not extend your test coverage (on new code)!? (this rule is reasoned)"},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1585935966,"post_id":61006175,"comment_id":107949806,"body_markdown":"oh shit, right. I overlooked that line on the answer,haha. Although I was able to work around this issue by creating another project and doing another scan as the project overall has 80%+ code coverage alright, just this annoying issue is appearing on the quality gate due to me editing an existing code, and due to a requirement, I need to be able to have a way to bypass this issue and have a passed status on the quality gate. Any other inputs other than this would be great really, I just really need the issue be gone for the project w/o creating another one.","body":"oh shit, right. I overlooked that line on the answer,haha. Although I was able to work around this issue by creating another project and doing another scan as the project overall has 80%+ code coverage alright, just this annoying issue is appearing on the quality gate due to me editing an existing code, and due to a requirement, I need to be able to have a way to bypass this issue and have a passed status on the quality gate. Any other inputs other than this would be great really, I just really need the issue be gone for the project w/o creating another one."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585941055,"post_id":61006175,"comment_id":107952271,"body_markdown":"Due to a (new) requirement/bug/code edit...i would write (at least) a new  test. (..covering the (new) sh...And every proper/experienced developer would agree!?) ...or at least adjust existing tests.","body":"Due to a (new) requirement/bug/code edit...i would write (at least) a new  test. (..covering the (new) sh...And every proper/experienced developer would agree!?) ...or at least adjust existing tests."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585941252,"post_id":61006175,"comment_id":107952349,"body_markdown":"..you should cover it! ..and make sonar, your team, your PO happy!:-)","body":"..you should cover it! ..and make sonar, your team, your PO happy!:-)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585941499,"post_id":61006175,"comment_id":107952454,"body_markdown":"..except some corner cases (and sonar has a (default) 20% tolerance) , you can test-cover *(almost)all* of *own* code.","body":"..except some corner cases (and sonar has a (default) 20% tolerance) , you can test-cover <i>(almost)all</i> of <i>own</i> code."}],"answers":[{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675423920,"creation_date":1675423920,"answer_id":75335117,"question_id":61006175,"body_markdown":"It&#39;s not going to work with `@SuppressWarnings`, as we can read in the accepted answer to the question you referred to\r\n\r\n&gt; The `InsufficientBranchCoverage` rule applies directly at File level and\r\n&gt; it is consequently not linked to any particular line in the file. To\r\n&gt; remove issues related to a given rule key using `@SuppressWarnings`, the\r\n&gt; rule has to apply at Class or Method level (as you can read in the\r\n&gt; documentation).\r\n\r\nI managed to do what you intend by configuring Sonar using `sonar.coverage.exclusions` [property][1]. \r\nIn gradle:\r\n\r\n    sonarqube {\r\n        properties {\r\n            property &quot;sonar.coverage.exclusions&quot;, &quot;/src/&lt;path-to-exclude/**,**/class-to-exclude.java&quot;\r\n        }\r\n    }\r\nIn maven:\r\n\r\n    &lt;properties&gt;\r\n        &lt;sonar.coverage.exclusions&gt;\r\n            /src/&lt;path-to-exclude/**,\r\n            **/class-to-exclude.java\r\n        &lt;/sonar.coverage.exclusions&gt;\r\n    &lt;/properties&gt;\r\n\r\n  [1]: https://docs.sonarqube.org/9.6/project-administration/narrowing-the-focus/","title":"@SupressWarnnings for InsufficientBranchCoverage in Sonar doesn&#39;t work","body":"<p>It's not going to work with <code>@SuppressWarnings</code>, as we can read in the accepted answer to the question you referred to</p>\n<blockquote>\n<p>The <code>InsufficientBranchCoverage</code> rule applies directly at File level and\nit is consequently not linked to any particular line in the file. To\nremove issues related to a given rule key using <code>@SuppressWarnings</code>, the\nrule has to apply at Class or Method level (as you can read in the\ndocumentation).</p>\n</blockquote>\n<p>I managed to do what you intend by configuring Sonar using <code>sonar.coverage.exclusions</code> <a href=\"https://docs.sonarqube.org/9.6/project-administration/narrowing-the-focus/\" rel=\"nofollow noreferrer\">property</a>.\nIn gradle:</p>\n<pre><code>sonarqube {\n    properties {\n        property &quot;sonar.coverage.exclusions&quot;, &quot;/src/&lt;path-to-exclude/**,**/class-to-exclude.java&quot;\n    }\n}\n</code></pre>\n<p>In maven:</p>\n<pre><code>&lt;properties&gt;\n    &lt;sonar.coverage.exclusions&gt;\n        /src/&lt;path-to-exclude/**,\n        **/class-to-exclude.java\n    &lt;/sonar.coverage.exclusions&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1427,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1675423920,"creation_date":1585895241,"question_id":61006175,"body_markdown":"I&#39;ve already did the [steps mentioned in this thread][1] with regards to ignoring the coverage on new code on sonar. Such as adding the @SuppressWarnings on the method or class levels (right above the method/class) w/ the ff. syntax.\r\n\r\n    @SuppressWarnings(&quot;common-java:InsufficientBranchCoverage&quot;)\r\n    @SuppressWarnings(&quot;InsufficientBranchCoverage&quot;)\r\n    @SuppressWarnings(&quot;java:InsufficientBranchCoverage&quot;)\r\n\r\nHowever, the Coverage on new Code is still being reported in sonar.  Thing is, I&#39;ve already reached the minimum required code coverage for the entire project as could be seen in this screenshot.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29343389/how-to-suppresswarnings-for-common-java-rules/29364599\r\n  [2]: https://i.stack.imgur.com/eqD00.png\r\n\r\nHence I don&#39;t need it to be reported alright. This happened when I edited the code and removed the whitespaces and dead code in the project, and it just so happen that the part of the code being reported here not being covered is the thing I could not really have a unit test on. \r\n\r\nHere&#39;s a snippet of my pom config below.\r\n\r\n \r\n\r\n     &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Sonar --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.0.1254&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Code Coverage Report --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.8.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;pre-unit-test&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;agent-for-it&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;jacoco-site&lt;/id&gt;\r\n                            &lt;phase&gt;verify&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n        \r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nIs there something wrong with my config or declaration,or was the syntax already deprecated?. TIA.\r\n\r\nPS:\r\nI already tried \r\n\r\n    this.method() //NOSONAR\r\n\r\nand\r\n\r\n    @SuppressWarnings(&quot;all&quot;)\r\n\r\n @SuppressWarnings(&quot;all&quot;) is still reporting the code coverage in the Quality Gate. But it did remove the other warnings in the entire class or method. Just not the new code coverage being reported in the scan.","title":"@SupressWarnnings for InsufficientBranchCoverage in Sonar doesn&#39;t work","body":"<p>I've already did the <a href=\"https://stackoverflow.com/questions/29343389/how-to-suppresswarnings-for-common-java-rules/29364599\">steps mentioned in this thread</a> with regards to ignoring the coverage on new code on sonar. Such as adding the @SuppressWarnings on the method or class levels (right above the method/class) w/ the ff. syntax.</p>\n\n<pre><code>@SuppressWarnings(\"common-java:InsufficientBranchCoverage\")\n@SuppressWarnings(\"InsufficientBranchCoverage\")\n@SuppressWarnings(\"java:InsufficientBranchCoverage\")\n</code></pre>\n\n<p>However, the Coverage on new Code is still being reported in sonar.  Thing is, I've already reached the minimum required code coverage for the entire project as could be seen in this screenshot.\n<a href=\"https://i.stack.imgur.com/eqD00.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eqD00.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hence I don't need it to be reported alright. This happened when I edited the code and removed the whitespaces and dead code in the project, and it just so happen that the part of the code being reported here not being covered is the thing I could not really have a unit test on. </p>\n\n<p>Here's a snippet of my pom config below.</p>\n\n<pre><code> &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Sonar --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0.1254&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Code Coverage Report --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;pre-unit-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;agent-for-it&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>Is there something wrong with my config or declaration,or was the syntax already deprecated?. TIA.</p>\n\n<p>PS:\nI already tried </p>\n\n<pre><code>this.method() //NOSONAR\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@SuppressWarnings(\"all\")\n</code></pre>\n\n<p>@SuppressWarnings(\"all\") is still reporting the code coverage in the Quality Gate. But it did remove the other warnings in the entire class or method. Just not the new code coverage being reported in the scan.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675363681,"post_id":75327197,"comment_id":132918517,"body_markdown":"What what does the Data class look like? Does it gave getters for each of the arguments in the 4 argument constructor shown?","body":"What what does the Data class look like? Does it gave getters for each of the arguments in the 4 argument constructor shown?"},{"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"score":0,"creation_date":1675408930,"post_id":75327197,"comment_id":132926625,"body_markdown":"Yeah i am using lombok for this .","body":"Yeah i am using lombok for this ."}],"answers":[{"comments":[{"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"score":1,"creation_date":1675447453,"post_id":75335055,"comment_id":132938385,"body_markdown":"Thanks it worked very smoothly !! Thanks for your time .","body":"Thanks it worked very smoothly !! Thanks for your time ."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675423608,"creation_date":1675423608,"answer_id":75335055,"question_id":75327197,"body_markdown":"Something like this? If its defined in the Data class we can lose the static and all the getters and setters.\r\n\r\n    public static List&lt;Data&gt; sum(Map&lt;String, List&lt;Data&gt;&gt; localMap) {\r\n    \tMap&lt;Integer,Data&gt; indexedAccumulator = new HashMap&lt;&gt;(); // indexed on Data.id\r\n        for(List&lt;Data&gt; localMapEntry: localMap.values()) {\r\n        \tfor(Data data : localMapEntry) {\r\n        \t\tint id = data.getId();\r\n    \t\t\tif(indexedAccumulator.containsKey(id)) {\r\n        \t\t\tData sumData = indexedAccumulator.get(id);\r\n        \t\t\tsumData.setAmount1(sumData.getAmount1() + data.getAmount1());\r\n        \t\t\tsumData.setAmount2(sumData.getAmount2() + data.getAmount2());\r\n        \t\t\tsumData.setAmount3(sumData.getAmount3() + data.getAmount3());\r\n        \t\t\t\r\n        \t\t} else {\r\n        \t\t\tindexedAccumulator.put(id, new Data(id, data.getAmount1(), data.getAmount2(), data.getAmount3())); // new object to preserve original\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        }\r\n    \r\n        List&lt;Data&gt; sheetFinal = new ArrayList&lt;&gt;();\r\n        for (Data summedData : indexedAccumulator.values()) {\r\n        \tsheetFinal.add(summedData);\r\n        }\r\n        \r\n        return sheetFinal;\r\n    }\r\n\r\n","title":"Merging data based on ids in different objects in Java in a efficient way","body":"<p>Something like this? If its defined in the Data class we can lose the static and all the getters and setters.</p>\n<pre><code>public static List&lt;Data&gt; sum(Map&lt;String, List&lt;Data&gt;&gt; localMap) {\n    Map&lt;Integer,Data&gt; indexedAccumulator = new HashMap&lt;&gt;(); // indexed on Data.id\n    for(List&lt;Data&gt; localMapEntry: localMap.values()) {\n        for(Data data : localMapEntry) {\n            int id = data.getId();\n            if(indexedAccumulator.containsKey(id)) {\n                Data sumData = indexedAccumulator.get(id);\n                sumData.setAmount1(sumData.getAmount1() + data.getAmount1());\n                sumData.setAmount2(sumData.getAmount2() + data.getAmount2());\n                sumData.setAmount3(sumData.getAmount3() + data.getAmount3());\n                \n            } else {\n                indexedAccumulator.put(id, new Data(id, data.getAmount1(), data.getAmount2(), data.getAmount3())); // new object to preserve original\n            }\n        }\n        \n    }\n\n    List&lt;Data&gt; sheetFinal = new ArrayList&lt;&gt;();\n    for (Data summedData : indexedAccumulator.values()) {\n        sheetFinal.add(summedData);\n    }\n    \n    return sheetFinal;\n}\n</code></pre>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75335055,"answer_count":1,"score":0,"last_activity_date":1675423608,"creation_date":1675360854,"question_id":75327197,"body_markdown":"I have few objects in a sheet object identified by ids , i want to merge these 3 objects  by ids keeping in mind that all ids from all object should be there in the final sheet.\r\n\r\nAlthough i can get all ids form object 1 serach in other object and add it , but i think there must be some smarter way of doing it . \r\n\r\nData\r\n          @Data\r\n          @NoArgsConstructor\r\n          @AllArgsConstructor\r\n          @Builder\r\n          public class Data\r\n\t\t\t\t{\r\n\t\t\t\t\tint id ; \r\n\t\t\t\t\tint amount1 ;\r\n\t\t\t\t\tint amount2 ;\r\n\t\t\t\t\tint amount3 ;\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tData data1 = new Data(7001,20,20,10);\r\n\t\t\t\tData data2 = new Data(8002,30,30,10);\r\n\t\t\t\tData data3 = new Data(7003,30,40,10);\r\n\t\t\t\t\r\n\t\t\t\tList ls = new ArrayLisy();\r\n\t\t\t\tls.add(data1);\r\n\t\t\t\tls.add(data2);\r\n\t\t\t\tls.add(data3);\r\n\t\t\t\t\r\n\t\t\t\tMap&lt;String,List&lt;Data&gt;&gt; localMap = new HashMap();\r\n\t\t\t\tlocalMap.put(&quot;sheet1&quot;,ls);\r\n\r\n\r\nSimilary we have sheet2 and sheet3 with same or some different ids as \r\n\r\n\t\t\t\tData data1 = new Data(7001,5,0,2);\r\n\t\t\t\tData data2 = new Data(8004,2,2,2);\r\n\t\t\t\tData data3 = new Data(7003,3,4,5);\r\n\t\t\t\t\r\n\t\t\t\tList ls = new ArrayLisy();\r\n\t\t\t\tls.add(data1);\r\n\t\t\t\tls.add(data2);\r\n\t\t\t\tls.add(data3);\r\n\t\t\t\t\r\n\t\t\t\tMap&lt;String,List&lt;Data&gt;&gt; localMap = new HashMap();\r\n\t\t\t\tlocalMap.put(&quot;sheet2&quot;,ls);\r\n\r\nNow i just wand to Merge the Sheets to have one sheet with  Sum of fields as \r\n\r\nFinal sheet data sheetFinal should have a list of Data  like where id 7001 has amount1 added from all sheet (20+5) for amount1.\r\n\r\n\t\t\t\tData data1 = new Data(7001,25,20,12) ;\r\n\t\t\t\tData data2 = new Data(8002,30,30,10) ;\r\n\t\t\t\tData data3 = new Data(8004,2,2,2) ;\r\n\t\t\t\tData data4 = new Data(7003,33,44,20) ;\r\n\t\t\t\t\r\nHow can i merge the sheet by ids and get a final sheet with all data in a smarter and memory efficient way ? Thanks in\r\n","title":"Merging data based on ids in different objects in Java in a efficient way","body":"<p>I have few objects in a sheet object identified by ids , i want to merge these 3 objects  by ids keeping in mind that all ids from all object should be there in the final sheet.</p>\n<p>Although i can get all ids form object 1 serach in other object and add it , but i think there must be some smarter way of doing it .</p>\n<p>Data\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Data\n{\nint id ;\nint amount1 ;\nint amount2 ;\nint amount3 ;</p>\n<pre><code>            }\n            \n            Data data1 = new Data(7001,20,20,10);\n            Data data2 = new Data(8002,30,30,10);\n            Data data3 = new Data(7003,30,40,10);\n            \n            List ls = new ArrayLisy();\n            ls.add(data1);\n            ls.add(data2);\n            ls.add(data3);\n            \n            Map&lt;String,List&lt;Data&gt;&gt; localMap = new HashMap();\n            localMap.put(&quot;sheet1&quot;,ls);\n</code></pre>\n<p>Similary we have sheet2 and sheet3 with same or some different ids as</p>\n<pre><code>            Data data1 = new Data(7001,5,0,2);\n            Data data2 = new Data(8004,2,2,2);\n            Data data3 = new Data(7003,3,4,5);\n            \n            List ls = new ArrayLisy();\n            ls.add(data1);\n            ls.add(data2);\n            ls.add(data3);\n            \n            Map&lt;String,List&lt;Data&gt;&gt; localMap = new HashMap();\n            localMap.put(&quot;sheet2&quot;,ls);\n</code></pre>\n<p>Now i just wand to Merge the Sheets to have one sheet with  Sum of fields as</p>\n<p>Final sheet data sheetFinal should have a list of Data  like where id 7001 has amount1 added from all sheet (20+5) for amount1.</p>\n<pre><code>            Data data1 = new Data(7001,25,20,12) ;\n            Data data2 = new Data(8002,30,30,10) ;\n            Data data3 = new Data(8004,2,2,2) ;\n            Data data4 = new Data(7003,33,44,20) ;\n            \n</code></pre>\n<p>How can i merge the sheet by ids and get a final sheet with all data in a smarter and memory efficient way ? Thanks in</p>\n"},{"tags":["java","selenium-webdriver","jmeter","jmeter-plugins"],"answers":[{"comments":[{"owner":{"account_id":14468001,"reputation":251,"user_id":10450825,"display_name":"Angshuman Basak"},"score":0,"creation_date":1675494897,"post_id":75335011,"comment_id":132945060,"body_markdown":"Thank You much for aiding me out ! The two issues from top to bottom are resolved, but am unable to save the extracted &quot;rawValue&quot; or any value of the cookie in external csv file using SampleVariables and Flexible File Writer.\nIt gives me the below waring\nWARN k.a.j.r.FlexibleFileWriter: variable#0 does not exist!\n\nI have also added the Sample Variables  in user. properties file \nsample_variables=rawValue","body":"Thank You much for aiding me out ! The two issues from top to bottom are resolved, but am unable to save the extracted &quot;rawValue&quot; or any value of the cookie in external csv file using SampleVariables and Flexible File Writer. It gives me the below waring WARN k.a.j.r.FlexibleFileWriter: variable#0 does not exist!  I have also added the Sample Variables  in user. properties file  sample_variables=rawValue"},{"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"score":0,"creation_date":1675514048,"post_id":75335011,"comment_id":132947654,"body_markdown":"I fail to see where do you give the value to this variable, I believe you need to have something like `WDS.vars.put(&quot;rawValue&quot;, rawValue.toString())` somewhere in your script. `WDS.vars` is a shorthand for [JMeterVariables](https://jmeter.apache.org/api/org/apache/jmeter/threads/JMeterVariables.html) class instance, see [Top 8 JMeter Java Classes You Should Be Using with Groovy](https://www.blazemeter.com/blog/jmeter-java-classes) for more information on this and other shorthands","body":"I fail to see where do you give the value to this variable, I believe you need to have something like <code>WDS.vars.put(&quot;rawValue&quot;, rawValue.toString())</code> somewhere in your script. <code>WDS.vars</code> is a shorthand for <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/threads/JMeterVariables.html\" rel=\"nofollow noreferrer\">JMeterVariables</a> class instance, see <a href=\"https://www.blazemeter.com/blog/jmeter-java-classes\" rel=\"nofollow noreferrer\">Top 8 JMeter Java Classes You Should Be Using with Groovy</a> for more information on this and other shorthands"},{"owner":{"account_id":14468001,"reputation":251,"user_id":10450825,"display_name":"Angshuman Basak"},"score":0,"creation_date":1675849966,"post_id":75335011,"comment_id":133014831,"body_markdown":"Thank You @Dmitri T.\nThis worked : WDS.vars.put(&quot;rawValue&quot;, rawValue.toString())","body":"Thank You @Dmitri T. This worked : WDS.vars.put(&quot;rawValue&quot;, rawValue.toString())"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675423416,"creation_date":1675423416,"answer_id":75335011,"question_id":75334452,"body_markdown":"`driver.manage().getCookieNamed` function gives you an instance of [org.openqa.selenium.Cookie][1] which doesn&#39;t have `split()` function\r\n\r\nIf you want to continue with this approach you need to cast it to [String][2] first:\r\n\r\n    String[] cookie = rawValue.toString().split(&quot;;&quot;);\r\n\r\nAlternatively you can use Cookie class functions instead of &quot;splitting&quot;, i.e.\r\n\r\n - `rawValue.getName()`\r\n - `rawValue.getValue()`\r\n - `rawValue.getDomain()`\r\n - `rawValue.getExpiry()`\r\n - `rawValue.isSecure()`\r\n - `rawValue.isHttpOnly()`\r\n\r\nThe same is for printing it to the log file, you cannot put a Cookie object there, you need to change it to be a String:\r\n\r\n    \r\n`WDS.log.info(rawValue.toString());`\r\n\r\nAlso your approach of writing the variables into the file won&#39;t work if you intend to run your script with 2 or more users, the target file will have corrupt data due to [race conditions][3] so consider switching to [Sample Variables][4] and [Flexible File Writer][5] instead.  \r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Cookie.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\r\n  [3]: https://en.wikipedia.org/wiki/Race_condition\r\n  [4]: https://jmeter.apache.org/usermanual/listeners.html#sample_variables\r\n  [5]: https://www.blazemeter.com/blog/top-ten-jmeter-plugins#writer","title":"Splitting a cookie string and saving the split cookie value in a external csv file in Apache JMeter Selenium Webdriver Sampler","body":"<p><code>driver.manage().getCookieNamed</code> function gives you an instance of <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/Cookie.html\" rel=\"nofollow noreferrer\">org.openqa.selenium.Cookie</a> which doesn't have <code>split()</code> function</p>\n<p>If you want to continue with this approach you need to cast it to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> first:</p>\n<pre><code>String[] cookie = rawValue.toString().split(&quot;;&quot;);\n</code></pre>\n<p>Alternatively you can use Cookie class functions instead of &quot;splitting&quot;, i.e.</p>\n<ul>\n<li><code>rawValue.getName()</code></li>\n<li><code>rawValue.getValue()</code></li>\n<li><code>rawValue.getDomain()</code></li>\n<li><code>rawValue.getExpiry()</code></li>\n<li><code>rawValue.isSecure()</code></li>\n<li><code>rawValue.isHttpOnly()</code></li>\n</ul>\n<p>The same is for printing it to the log file, you cannot put a Cookie object there, you need to change it to be a String:</p>\n<p><code>WDS.log.info(rawValue.toString());</code></p>\n<p>Also your approach of writing the variables into the file won't work if you intend to run your script with 2 or more users, the target file will have corrupt data due to <a href=\"https://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">race conditions</a> so consider switching to <a href=\"https://jmeter.apache.org/usermanual/listeners.html#sample_variables\" rel=\"nofollow noreferrer\">Sample Variables</a> and <a href=\"https://www.blazemeter.com/blog/top-ten-jmeter-plugins#writer\" rel=\"nofollow noreferrer\">Flexible File Writer</a> instead.</p>\n"}],"owner":{"account_id":14468001,"reputation":251,"user_id":10450825,"display_name":"Angshuman Basak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75335011,"answer_count":1,"score":0,"last_activity_date":1675423416,"creation_date":1675420427,"question_id":75334452,"body_markdown":"Objective : I wanna &quot;split&quot; the extracted cookie from &quot;;&quot; and save the cookie value in a iterative manner for each user in a csv file, column wise, for my Apache JMeter code in **Selenium Webdriver Sampler** in **java** language.\r\nI am using a **CSV Dataset config** to fetch the **username** &amp; **password** and would like to save the cookie value in a separate column.\r\n\r\n**I am unable to spilt the cookie and save using the following code snippet.**\r\n\r\nMy code Snippet\r\n\r\n```\r\nimport org.openqa.selenium.*;\r\nimport org.openqa.selenium.support.ui.*;\r\nimport org.junit.Assert;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport java.time.Duration;\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\nimport java.io.FileWriter;\r\nimport java.util.List;\r\nimport java.io.Writer;\r\nimport java.lang.String;\r\n\r\n// Login \r\nString title = driver.getTitle();\r\nSystem.out.println(title);\r\nAssert.assertEquals(&quot;Sign in to your account&quot;, title);\r\nWebElement username = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;.//input[@type=&#39;email&#39;]&quot;)));\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;email&#39;]&quot;)).click();\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;email&#39;]&quot;)).sendKeys(new String[] {WDS.vars.get(&quot;username&quot;)});\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;submit&#39;]&quot;)).click();\r\nWebElement username = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;.//input[@type=&#39;password&#39;]&quot;)));\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;password&#39;]&quot;)).click();\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;password&#39;]&quot;)).sendKeys(new String[] {WDS.vars.get(&quot;password&quot;)});\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;submit&#39;]&quot;)).click();\r\nThread.sleep(3000L);\r\ndriver.findElement(By.xpath(&quot;.//input[@type=&#39;button&#39;]&quot;)).click();\r\nThread.sleep(3000L);\r\n\r\n// Generating the cookie\r\nString rawValue = driver.manage().getCookieNamed(&quot;.sampleCookie&quot;);\r\nSystem.out.println(rawValue);\r\nWDS.log.info(WDS.vars.get(&quot;rawValue&quot;));\r\nSystem.out.println(&quot;Login Successful&quot;);\r\nWDS.log.info(&quot;Login Successful&quot;);\r\n```\r\n\r\n&gt; I am able to use the above code snippet to generate the cookie, but unable to print in JMeter Log console using \r\n&gt; **WDS.log.info(WDS.vars.get(&quot;rawValue&quot;));**\r\n&gt;\r\n&gt; Info:  2023-02-03 14:34:08,656 INFO c.g.j.p.w.s.WebDriverSampler: null\r\n\r\n**I am unable to split the cookie via below mentioned code.**\r\n\r\n```\r\n//Splitting the cookie \r\n\r\n//Split cookie string from semicolon\r\nString[] cookie = rawValue.split(&quot;;&quot;);\r\n```\r\n&gt; Error:\r\n2023-02-03 15:38:44,557 ERROR c.g.j.p.w.s.WebDriverSampler: Sourced file: inline evaluation of: ``import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*; import or . . . &#39;&#39; : Typed variable declaration : Error in method invocation: Method split( java.lang.String ) not found in class&#39;org.openqa.selenium.Cookie&#39; : at Line: 53 : in file: inline evaluation of: ``import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*; import or . . . &#39;&#39; : rawValue.split ( &quot;;&quot; ) \r\n in inline evaluation of: ``import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*;\r\n\r\n**I am unable to save the split cookie value or the raw cookie Value in that case via below mentioned code.**\r\n\r\n```\r\n//Write the cookie value to a csv file\r\n\r\nFileWriter fstream = new FileWriter(&quot;C:\\\\Users\\\\Scripts\\\\TestData\\\\Cookie.csv&quot;,true);\r\nBufferedWriter out = new BufferedWriter(fstream);\r\nout.write(WDS.vars.get(&quot;rawValue&quot;));\r\nout.write(System.getProperty(&quot;line.separator&quot;));\r\nout.close();\r\nfstream.close();\r\n```\r\n\r\n&gt; Error: 2023-02-03 15:45:13,652 ERROR c.g.j.p.w.s.WebDriverSampler:\r\n&gt; Sourced file: inline evaluation of: ``import org.openqa.selenium.*;\r\n&gt; import org.openqa.selenium.support.ui.*; import or . . . &#39;&#39; : Method\r\n&gt; Invocation out.write : at Line: 54 : in file: inline evaluation of:\r\n&gt; ``import org.openqa.selenium.*; import\r\n&gt; org.openqa.selenium.support.ui.*; import or . . . &#39;&#39; : out .write (\r\n&gt; WDS .vars .get ( &quot;rawValue&quot; ) ) \r\n&gt; \r\n&gt; Target exception: java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;String.length()&quot; because &quot;str&quot; is null  in inline evaluation of:\r\n&gt; ``import org.openqa.selenium.*; import\r\n&gt; org.openqa.selenium.support.ui.*;\r\n\r\nI have imported the required classes and have tried executing this code snippets individually with the login code, did&#39;nt worked out.\r\nI would really appreciate if anyone can aid me with the solutions.\r\n\r\n```\r\nraw cookie Value = .sampleCookie=eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJoyA;\r\n\r\nsplit cookie value = eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJoyA\r\n```","title":"Splitting a cookie string and saving the split cookie value in a external csv file in Apache JMeter Selenium Webdriver Sampler","body":"<p>Objective : I wanna &quot;split&quot; the extracted cookie from &quot;;&quot; and save the cookie value in a iterative manner for each user in a csv file, column wise, for my Apache JMeter code in <strong>Selenium Webdriver Sampler</strong> in <strong>java</strong> language.\nI am using a <strong>CSV Dataset config</strong> to fetch the <strong>username</strong> &amp; <strong>password</strong> and would like to save the cookie value in a separate column.</p>\n<p><strong>I am unable to spilt the cookie and save using the following code snippet.</strong></p>\n<p>My code Snippet</p>\n<pre><code>import org.openqa.selenium.*;\nimport org.openqa.selenium.support.ui.*;\nimport org.junit.Assert;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport java.time.Duration;\nimport java.io.*;\nimport java.util.Arrays;\nimport java.io.FileWriter;\nimport java.util.List;\nimport java.io.Writer;\nimport java.lang.String;\n\n// Login \nString title = driver.getTitle();\nSystem.out.println(title);\nAssert.assertEquals(&quot;Sign in to your account&quot;, title);\nWebElement username = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;.//input[@type='email']&quot;)));\ndriver.findElement(By.xpath(&quot;.//input[@type='email']&quot;)).click();\ndriver.findElement(By.xpath(&quot;.//input[@type='email']&quot;)).sendKeys(new String[] {WDS.vars.get(&quot;username&quot;)});\ndriver.findElement(By.xpath(&quot;.//input[@type='submit']&quot;)).click();\nWebElement username = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;.//input[@type='password']&quot;)));\ndriver.findElement(By.xpath(&quot;.//input[@type='password']&quot;)).click();\ndriver.findElement(By.xpath(&quot;.//input[@type='password']&quot;)).sendKeys(new String[] {WDS.vars.get(&quot;password&quot;)});\ndriver.findElement(By.xpath(&quot;.//input[@type='submit']&quot;)).click();\nThread.sleep(3000L);\ndriver.findElement(By.xpath(&quot;.//input[@type='button']&quot;)).click();\nThread.sleep(3000L);\n\n// Generating the cookie\nString rawValue = driver.manage().getCookieNamed(&quot;.sampleCookie&quot;);\nSystem.out.println(rawValue);\nWDS.log.info(WDS.vars.get(&quot;rawValue&quot;));\nSystem.out.println(&quot;Login Successful&quot;);\nWDS.log.info(&quot;Login Successful&quot;);\n</code></pre>\n<blockquote>\n<p>I am able to use the above code snippet to generate the cookie, but unable to print in JMeter Log console using\n<strong>WDS.log.info(WDS.vars.get(&quot;rawValue&quot;));</strong></p>\n<p>Info:  2023-02-03 14:34:08,656 INFO c.g.j.p.w.s.WebDriverSampler: null</p>\n</blockquote>\n<p><strong>I am unable to split the cookie via below mentioned code.</strong></p>\n<pre><code>//Splitting the cookie \n\n//Split cookie string from semicolon\nString[] cookie = rawValue.split(&quot;;&quot;);\n</code></pre>\n<blockquote>\n<p>Error:\n2023-02-03 15:38:44,557 ERROR c.g.j.p.w.s.WebDriverSampler: Sourced file: inline evaluation of: <code>import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*; import or . . . '' : Typed variable declaration : Error in method invocation: Method split( java.lang.String ) not found in class'org.openqa.selenium.Cookie' : at Line: 53 : in file: inline evaluation of: </code>import org.openqa.selenium.<em>; import org.openqa.selenium.support.ui.</em>; import or . . . '' : rawValue.split ( &quot;;&quot; )\nin inline evaluation of: ``import org.openqa.selenium.<em>; import org.openqa.selenium.support.ui.</em>;</p>\n</blockquote>\n<p><strong>I am unable to save the split cookie value or the raw cookie Value in that case via below mentioned code.</strong></p>\n<pre><code>//Write the cookie value to a csv file\n\nFileWriter fstream = new FileWriter(&quot;C:\\\\Users\\\\Scripts\\\\TestData\\\\Cookie.csv&quot;,true);\nBufferedWriter out = new BufferedWriter(fstream);\nout.write(WDS.vars.get(&quot;rawValue&quot;));\nout.write(System.getProperty(&quot;line.separator&quot;));\nout.close();\nfstream.close();\n</code></pre>\n<blockquote>\n<p>Error: 2023-02-03 15:45:13,652 ERROR c.g.j.p.w.s.WebDriverSampler:\nSourced file: inline evaluation of: <code>import org.openqa.selenium.*; import org.openqa.selenium.support.ui.*; import or . . . '' : Method Invocation out.write : at Line: 54 : in file: inline evaluation of: </code>import org.openqa.selenium.<em>; import\norg.openqa.selenium.support.ui.</em>; import or . . . '' : out .write (\nWDS .vars .get ( &quot;rawValue&quot; ) )</p>\n<p>Target exception: java.lang.NullPointerException: Cannot invoke\n&quot;String.length()&quot; because &quot;str&quot; is null  in inline evaluation of:\n``import org.openqa.selenium.<em>; import\norg.openqa.selenium.support.ui.</em>;</p>\n</blockquote>\n<p>I have imported the required classes and have tried executing this code snippets individually with the login code, did'nt worked out.\nI would really appreciate if anyone can aid me with the solutions.</p>\n<pre><code>raw cookie Value = .sampleCookie=eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJoyA;\n\nsplit cookie value = eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJoyA\n</code></pre>\n"},{"tags":["java","android-studio","heap-memory"],"comments":[{"owner":{"account_id":7511942,"reputation":1,"user_id":5706602,"display_name":"Mert Adsay"},"score":0,"creation_date":1677081033,"post_id":75334965,"comment_id":133267776,"body_markdown":"I had the same issue and tried this solution and that worked.\nhttps://stackoverflow.com/a/59777137/5706602","body":"I had the same issue and tried this solution and that worked. <a href=\"https://stackoverflow.com/a/59777137/5706602\">stackoverflow.com/a/59777137/5706602</a>"},{"owner":{"account_id":12923330,"reputation":91,"user_id":9344934,"display_name":"PK Chahar"},"score":0,"creation_date":1677134707,"post_id":75334965,"comment_id":133278686,"body_markdown":"Hi @MertAdsay thanks for your answer, I just optimize my code and reinstalled AS worked for me","body":"Hi @MertAdsay thanks for your answer, I just optimize my code and reinstalled AS worked for me"}],"owner":{"account_id":12923330,"reputation":91,"user_id":9344934,"display_name":"PK Chahar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675423139,"creation_date":1675423139,"question_id":75334965,"body_markdown":"here is gradle.properties\r\n\r\n    org.gradle.jvmargs=-Xmx4608m\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n    org.gradle.unsafe.configuration-cache=true\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PB1uH.png","title":"Out of memory. Java heap space after update android studio Eel","body":"<p>here is gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx4608m\nandroid.useAndroidX=true\nandroid.enableJetifier=true\norg.gradle.unsafe.configuration-cache=true\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PB1uH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PB1uH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rabbitmq","jms","rabbitmq-exchange"],"owner":{"account_id":27692889,"reputation":1,"user_id":21139220,"display_name":"dinnu.pega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675422977,"creation_date":1675422977,"question_id":75334934,"body_markdown":"I wanted to connect to RabbitMQ existing queue using Java JMS API. But I am getting below exception when I am trying to connect it.\r\n\r\n&gt; Caused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method\\&lt;channel.close\\&gt;(reply-code=406, reply-text=PRECONDITION_FAILED - inequivalent arg &#39;x-dead-letter-exchange&#39; for queue &#39;TestDLXQueue2&#39; in vhost &#39;/&#39;: received none but current is the value &#39;TestDLExchnage&#39; of type &#39;longstr&#39;, class-id=50, method-id=10)\r\n\r\n```\r\nRMQConnectionFactory connFactory = new RMQConnectionFactory();\r\nConnection connection = connFactory.createConnection();\r\nconnection.start();\r\n\r\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\nDestination destQueue = session.createQueue(&quot;TestDLXQueue2&quot;);\r\n```\r\n\r\nIf I remove the Queue and run the above snippet it worked but I have to pass the &quot;x-dead-letter-exchange&quot; argument in the RabbitMQ queue but I did not find a method to pass in from the JMS API.\r\n\r\nCan anyone help me to resolve this issue without deleting the Queue?\r\n\r\nI have tried removing the Queue and ran the above snippet it worked, Now I want to connect to the existing RabbitMQ Queue which is configured with &quot;x-dead-letter-exchange&quot; policy.","title":"Cannot connect to RabbitMQ existing queue using Java JMS API","body":"<p>I wanted to connect to RabbitMQ existing queue using Java JMS API. But I am getting below exception when I am trying to connect it.</p>\n<blockquote>\n<p>Caused by: com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=406, reply-text=PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'TestDLXQueue2' in vhost '/': received none but current is the value 'TestDLExchnage' of type 'longstr', class-id=50, method-id=10)</p>\n</blockquote>\n<pre><code>RMQConnectionFactory connFactory = new RMQConnectionFactory();\nConnection connection = connFactory.createConnection();\nconnection.start();\n\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nDestination destQueue = session.createQueue(&quot;TestDLXQueue2&quot;);\n</code></pre>\n<p>If I remove the Queue and run the above snippet it worked but I have to pass the &quot;x-dead-letter-exchange&quot; argument in the RabbitMQ queue but I did not find a method to pass in from the JMS API.</p>\n<p>Can anyone help me to resolve this issue without deleting the Queue?</p>\n<p>I have tried removing the Queue and ran the above snippet it worked, Now I want to connect to the existing RabbitMQ Queue which is configured with &quot;x-dead-letter-exchange&quot; policy.</p>\n"},{"tags":["java","jakarta-ee"],"comments":[{"owner":{"account_id":3688125,"reputation":592,"user_id":3071446,"accept_rate":75,"display_name":"fasaas"},"score":1,"creation_date":1539517097,"post_id":52802212,"comment_id":92523108,"body_markdown":"They for sure would use an IDE, and for Java to be executed, they would have written some tests I believe (I hope more so). So they would actually know which java version they are dealing with","body":"They for sure would use an IDE, and for Java to be executed, they would have written some tests I believe (I hope more so). So they would actually know which java version they are dealing with"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1539517332,"post_id":52802212,"comment_id":92523168,"body_markdown":"It depends on the artifact you have at hand. If you have the source projects, you can see the dependencies. If you have the binaries, then you can look at the manifest in jar files to see at least the JDK that built it. For JEE components, you can look at deployment descriptors (`web.xml`, `application.xml` will typically declare the version of the specification in top-level elements).","body":"It depends on the artifact you have at hand. If you have the source projects, you can see the dependencies. If you have the binaries, then you can look at the manifest in jar files to see at least the JDK that built it. For JEE components, you can look at deployment descriptors (<code>web.xml</code>, <code>application.xml</code> will typically declare the version of the specification in top-level elements)."}],"answers":[{"tags":[],"owner":{"account_id":3936130,"reputation":723,"user_id":3252477,"display_name":"Kineolyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539519410,"creation_date":1539519410,"answer_id":52802542,"question_id":52802212,"body_markdown":"If you want to know which version of Java was used to compile the class, you can use `javap`, available in the JRE and JDK. It reads your class bytecode and tells you the version.\r\n\r\n`javap -v out/com/kineolyan/tzio/diffs/Main.class` gives you:\r\n\r\n    Classfile /mnt/Grishka/Projets/project-tz-io/out/com/kineolyan/tzio/diffs/Main.class\r\n      Last modified 9 oct. 2018; size 1806 bytes\r\n      MD5 checksum 26b264396d74f1a68032bf5cd17aab09\r\n    final class com.kineolyan.tzio.diffs.Main\r\n      minor version: 0\r\n      major version: 53\r\n      flags: (0x0030) ACC_FINAL, ACC_SUPER\r\n      ....\r\n\r\nSee [this page][1] to match major and minor versions to standard names. For example, 53.0 is Java9.\r\n\r\n  [1]: https://www.wikiwand.com/en/Java_class_file#/General_layout","title":"how to identify the java version in which the code is written?","body":"<p>If you want to know which version of Java was used to compile the class, you can use <code>javap</code>, available in the JRE and JDK. It reads your class bytecode and tells you the version.</p>\n\n<p><code>javap -v out/com/kineolyan/tzio/diffs/Main.class</code> gives you:</p>\n\n<pre><code>Classfile /mnt/Grishka/Projets/project-tz-io/out/com/kineolyan/tzio/diffs/Main.class\n  Last modified 9 oct. 2018; size 1806 bytes\n  MD5 checksum 26b264396d74f1a68032bf5cd17aab09\nfinal class com.kineolyan.tzio.diffs.Main\n  minor version: 0\n  major version: 53\n  flags: (0x0030) ACC_FINAL, ACC_SUPER\n  ....\n</code></pre>\n\n<p>See <a href=\"https://www.wikiwand.com/en/Java_class_file#/General_layout\" rel=\"noreferrer\">this page</a> to match major and minor versions to standard names. For example, 53.0 is Java9.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657847722,"creation_date":1539520773,"answer_id":52802731,"question_id":52802212,"body_markdown":"&gt; How can we identify the version of Core Java/Java EE in which that project was developed? \r\n\r\n(Note that &quot;developed for&quot; and &quot;runs on&quot; are different questions.  I am answering the former ... which is what was asked.)\r\n\r\nThere is no 100% reliable way to do it.  \r\n\r\n  - If the project is built using Maven or Gradle, the project&#39;s declared dependencies (in the build files) will list specific versions of the Java EE APIs, and (typically) specific Java source and target version.\r\n\r\n  - There probably be similar clues in an Ant build file, though in the case of dependencies you will be relying on clues in the pathnames of classpath entries ... which may not be there.\r\n\r\n  - For Java EE, there may be clues in the namespace URLs used the XML files; e.g. `web.xml`, `application.xml`.\r\n\r\n  - If the previous don&#39;t help, then you could test compile the codebase with various JDKs and against various Java EE APIs.  That should narrow down the range of versions that the codebase is *compatible* with.\r\n\r\n  - If you have existing `.class` files, then `javap` can tell you the target bytecode version that was used when building; see [this answer](https://stackoverflow.com/a/52802542/139985).  However, this is not a reliable indicator, because it doesn&#39;t tell you what version of Java the codebase was *developed* for.\r\n\r\n------------------\r\n\r\nIf you want to find out which version or versions of Java a project is actually compatible with or actually runs on, the only way to find out *for sure* is to test it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52802542/139985","title":"how to identify the java version in which the code is written?","body":"<blockquote>\n<p>How can we identify the version of Core Java/Java EE in which that project was developed?</p>\n</blockquote>\n<p>(Note that &quot;developed for&quot; and &quot;runs on&quot; are different questions.  I am answering the former ... which is what was asked.)</p>\n<p>There is no 100% reliable way to do it.</p>\n<ul>\n<li><p>If the project is built using Maven or Gradle, the project's declared dependencies (in the build files) will list specific versions of the Java EE APIs, and (typically) specific Java source and target version.</p>\n</li>\n<li><p>There probably be similar clues in an Ant build file, though in the case of dependencies you will be relying on clues in the pathnames of classpath entries ... which may not be there.</p>\n</li>\n<li><p>For Java EE, there may be clues in the namespace URLs used the XML files; e.g. <code>web.xml</code>, <code>application.xml</code>.</p>\n</li>\n<li><p>If the previous don't help, then you could test compile the codebase with various JDKs and against various Java EE APIs.  That should narrow down the range of versions that the codebase is <em>compatible</em> with.</p>\n</li>\n<li><p>If you have existing <code>.class</code> files, then <code>javap</code> can tell you the target bytecode version that was used when building; see <a href=\"https://stackoverflow.com/a/52802542/139985\">this answer</a>.  However, this is not a reliable indicator, because it doesn't tell you what version of Java the codebase was <em>developed</em> for.</p>\n</li>\n</ul>\n<hr />\n<p>If you want to find out which version or versions of Java a project is actually compatible with or actually runs on, the only way to find out <em>for sure</em> is to test it.</p>\n"},{"comments":[{"owner":{"account_id":1025526,"reputation":2173,"user_id":1034912,"accept_rate":64,"display_name":"user1034912"},"score":1,"creation_date":1666226349,"post_id":64926006,"comment_id":130888200,"body_markdown":"I don&#39;t see this in POM.xml anymore. Has it been removed now (2022)?","body":"I don&#39;t see this in POM.xml anymore. Has it been removed now (2022)?"}],"tags":[],"owner":{"account_id":10388625,"reputation":761,"user_id":7660727,"display_name":"Mohammad Atif Aftab"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1605860387,"creation_date":1605860387,"answer_id":64926006,"question_id":52802212,"body_markdown":"## To check the java version of a project (if build using maven) ##\r\n\r\n 1. go to  pom.xml\r\n 2. check **properties**\r\n 3. java.version\r\n\r\nthe code look like this\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;start-class&gt;org.la.ecom.portal.teacher.EcommercePortalTeacherApplication&lt;/start-class&gt;\r\n\t&lt;/properties&gt;\r\n\r\n","title":"how to identify the java version in which the code is written?","body":"<h2>To check the java version of a project (if build using maven)</h2>\n<ol>\n<li>go to  pom.xml</li>\n<li>check <strong>properties</strong></li>\n<li>java.version</li>\n</ol>\n<p>the code look like this</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;start-class&gt;org.la.ecom.portal.teacher.EcommercePortalTeacherApplication&lt;/start-class&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111800,"reputation":3869,"user_id":4767939,"display_name":"Nick Tsai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675422847,"creation_date":1675422847,"answer_id":75334908,"question_id":52802212,"body_markdown":"To check the java compatible version of a project built by **Gradle**\r\n\r\nGo to `build.gradle` file and search for:\r\n\r\n    sourceCompatibility = &#39;{version}&#39;","title":"how to identify the java version in which the code is written?","body":"<p>To check the java compatible version of a project built by <strong>Gradle</strong></p>\n<p>Go to <code>build.gradle</code> file and search for:</p>\n<pre><code>sourceCompatibility = '{version}'\n</code></pre>\n"}],"owner":{"account_id":13647724,"reputation":289,"user_id":10430303,"display_name":"lea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20440,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1675422847,"creation_date":1539516810,"question_id":52802212,"body_markdown":"Let&#39;s say a banking application was developed in Java EE. And we are the new people working on that application now, not sure about the version of the Java EE used to develop that application. \r\n\r\n\r\nHow can we identify the version of Core Java/Java EE in which that project was developed? \r\n","title":"how to identify the java version in which the code is written?","body":"<p>Let's say a banking application was developed in Java EE. And we are the new people working on that application now, not sure about the version of the Java EE used to develop that application. </p>\n\n<p>How can we identify the version of Core Java/Java EE in which that project was developed? </p>\n"},{"tags":["java","deeplearning4j","dl4j"],"comments":[{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675419051,"post_id":75333691,"comment_id":132929334,"body_markdown":"Could you elaborate on your situation a bit? It&#39;s hard to tell much from the stack trace. Are you bundling it in an uber jar? A full payara server? When executing it appears something ends up being missing. That array out of bounds error also looks very weird. I&#39;ve never seen that before. This is likely the side effect of something special in your server. I&#39;ll need to reproduce it though. If you want please file an issue on https://github.com/deeplearning4j/deeplearning4j/issues and I can take a closer look.","body":"Could you elaborate on your situation a bit? It&#39;s hard to tell much from the stack trace. Are you bundling it in an uber jar? A full payara server? When executing it appears something ends up being missing. That array out of bounds error also looks very weird. I&#39;ve never seen that before. This is likely the side effect of something special in your server. I&#39;ll need to reproduce it though. If you want please file an issue on <a href=\"https://github.com/deeplearning4j/deeplearning4j/issues\" rel=\"nofollow noreferrer\">github.com/deeplearning4j/deeplearning4j/issues</a> and I can take a closer look."},{"owner":{"account_id":21188911,"reputation":1,"user_id":15581746,"display_name":"ThomasVoss"},"score":0,"creation_date":1675422286,"post_id":75333691,"comment_id":132930338,"body_markdown":"Dear Adam, I am packing the application as ear-File, having the DL4J Libraries on a provided scope in the POM. The place where the functions are being called is a stateless EJB Service, implementing a Local and a Remote Interface. The OS of the machine is a &quot;CentOS Linux 8&quot;. The Payara Server is Version 5.193.1 #badassfish (build 275).  I&#39;ll open a ticket as you suggested and try to provide an example to reproduce. I have adjusted the origrinal question.","body":"Dear Adam, I am packing the application as ear-File, having the DL4J Libraries on a provided scope in the POM. The place where the functions are being called is a stateless EJB Service, implementing a Local and a Remote Interface. The OS of the machine is a &quot;CentOS Linux 8&quot;. The Payara Server is Version 5.193.1 #badassfish (build 275).  I&#39;ll open a ticket as you suggested and try to provide an example to reproduce. I have adjusted the origrinal question."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675422822,"post_id":75333691,"comment_id":132930505,"body_markdown":"Yes please do. This is a bit of an odd use case. At a minimum dl4j expects certain resources to be present locally.","body":"Yes please do. This is a bit of an odd use case. At a minimum dl4j expects certain resources to be present locally."}],"owner":{"account_id":21188911,"reputation":1,"user_id":15581746,"display_name":"ThomasVoss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675422641,"creation_date":1675415956,"question_id":75333691,"body_markdown":"I have a MultiLayerNetwork which is loaded in an application which is loaded on a payara server. \r\nThe model loads fine but on requesting an output on a INDArray I receive a RuntimeException. \r\n\r\nThe system I&#39;m working on seems to work fine during the initialization:\r\n```\r\norg.nd4j.linalg.factory.Nd4jBackend - Loaded [CpuBackend] backend\r\norg.nd4j.nativeblas.NativeOpsHolder - Number of threads used for linear algebra: 4\r\norg.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory - Binary level Generic x86 optimization level AVX512\r\norg.nd4j.nativeblas.Nd4jBlas - Number of threads used for OpenMP BLAS: 8\r\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Backend used: [CPU]; OS: [Linux]\r\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Cores: [16]; Memory: [7,1GB]\r\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Blas vendor: [OPENBLAS]\r\n\r\norg.nd4j.linalg.cpu.nativecpu.CpuBackend - Backend build information:\r\n GCC: &quot;7.5.0&quot;\r\nSTD version: 201103L\r\nDEFAULT_ENGINE: samediff::ENGINE_CPU\r\nHAVE_FLATBUFFERS\r\nHAVE_OPENBLAS\r\n\r\norg.deeplearning4j.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\r\n\r\n```\r\n\r\nRequesting a prediction results in:\r\n\r\n```\r\nERROR org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner - Failed to execute op matmul. Attempted to execute with 2 inputs, 1 outputs, 2 targs,0 bargs and 3 iargs. Inputs: [(FLOAT,[1,9],c), (FLOAT,[9,400],f)]. Outputs: [(FLOAT,[1,400],f)]. tArgs: [1.0, 0.0]. iArgs: [0, 0, 0]. bArgs: -. Op own name: &quot;81f000d9-6011-4d1f-adc4-af57fb7d11e6&quot; - Please see above message (printed out from c++) for a possible cause of error.\r\n\r\n```\r\n\r\nwith the following stack trace:\r\n\r\n\r\n```\r\njava.lang.RuntimeException: Op [matmul] execution failed\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1561) ~[nd4j-native-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.factory.Nd4j.exec(Nd4j.java:6522) ~[nd4j-api-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.api.blas.impl.BaseLevel3.gemm(BaseLevel3.java:62) ~[nd4j-api-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.api.ndarray.BaseNDArray.mmuli(BaseNDArray.java:3194) ~[nd4j-api-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.layers.BaseLayer.preOutputWithPreNorm(BaseLayer.java:322) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.layers.BaseLayer.preOutput(BaseLayer.java:295) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.layers.BaseLayer.activate(BaseLayer.java:343) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.layers.AbstractLayer.activate(AbstractLayer.java:262) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1341) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2453) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2416) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2407) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2394) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2490) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\r\n        at com.[****].lambda$nnRegression$1(myCustomJavaClass.java:264)\r\n\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.getCustomOperations(NativeOpExecutioner.java:1365) ~[nd4j-native-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.api.ops.DynamicCustomOp.opHash(DynamicCustomOp.java:392) ~[nd4j-api-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1900) ~[nd4j-native-1.0.0-M2.jar:?]\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1540) ~[nd4j-native-1.0.0-M2.jar:?]\r\n        ... 139 more\r\n\r\n```\r\n\r\n\r\nI have generated a MVP running the DL4J functions in a standalone application and the loading of the model as well as the inference work fine. I would expect the same behavior on the application server. \r\n\r\n\r\n```\r\nMultiLayerNetwork net = MultiLayerNetwork.load(nn, false);\r\nList&lt;Integer&gt; obsList = new ArrayList&lt;&gt;();\r\n\r\nobsList.add(1);obsList.add(18);\r\nobsList.add(1);obsList.add(24);\r\nobsList.add(1);obsList.add(15);\r\nobsList.add(1);obsList.add(13);\r\nobsList.add(2);\r\n\r\nint[] obsArray = obsList.stream().mapToInt(Integer::intValue).toArray();\r\nint[][] flat = new int[][] { obsArray };\r\n\r\nINDArray test = Nd4j.create(flat);\r\nINDArray y = net.output(test); // &lt;---- THIS IS WHERE THE ERROR OCCURS\r\n```\r\n\r\nThe application is packed in an ear-file, the dl4j depedencies are declared as provided in the POM.\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nThe server running this application is a Cent OS 8 with a Payara Server 5.193.1 #badassfish (build 275). \r\n\r\nUsing the same pattern results in the given stacktrace on the application server.  I&#39;m wondering what might cause the error.","title":"Using DL4J in web application - RuntimeException: Op [matmul] execution failed","body":"<p>I have a MultiLayerNetwork which is loaded in an application which is loaded on a payara server.\nThe model loads fine but on requesting an output on a INDArray I receive a RuntimeException.</p>\n<p>The system I'm working on seems to work fine during the initialization:</p>\n<pre><code>org.nd4j.linalg.factory.Nd4jBackend - Loaded [CpuBackend] backend\norg.nd4j.nativeblas.NativeOpsHolder - Number of threads used for linear algebra: 4\norg.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory - Binary level Generic x86 optimization level AVX512\norg.nd4j.nativeblas.Nd4jBlas - Number of threads used for OpenMP BLAS: 8\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Backend used: [CPU]; OS: [Linux]\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Cores: [16]; Memory: [7,1GB]\norg.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner - Blas vendor: [OPENBLAS]\n\norg.nd4j.linalg.cpu.nativecpu.CpuBackend - Backend build information:\n GCC: &quot;7.5.0&quot;\nSTD version: 201103L\nDEFAULT_ENGINE: samediff::ENGINE_CPU\nHAVE_FLATBUFFERS\nHAVE_OPENBLAS\n\norg.deeplearning4j.nn.multilayer.MultiLayerNetwork - Starting MultiLayerNetwork with WorkspaceModes set to [training: ENABLED; inference: ENABLED], cacheMode set to [NONE]\n\n</code></pre>\n<p>Requesting a prediction results in:</p>\n<pre><code>ERROR org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner - Failed to execute op matmul. Attempted to execute with 2 inputs, 1 outputs, 2 targs,0 bargs and 3 iargs. Inputs: [(FLOAT,[1,9],c), (FLOAT,[9,400],f)]. Outputs: [(FLOAT,[1,400],f)]. tArgs: [1.0, 0.0]. iArgs: [0, 0, 0]. bArgs: -. Op own name: &quot;81f000d9-6011-4d1f-adc4-af57fb7d11e6&quot; - Please see above message (printed out from c++) for a possible cause of error.\n\n</code></pre>\n<p>with the following stack trace:</p>\n<pre><code>java.lang.RuntimeException: Op [matmul] execution failed\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1561) ~[nd4j-native-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.factory.Nd4j.exec(Nd4j.java:6522) ~[nd4j-api-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.api.blas.impl.BaseLevel3.gemm(BaseLevel3.java:62) ~[nd4j-api-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.api.ndarray.BaseNDArray.mmuli(BaseNDArray.java:3194) ~[nd4j-api-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.layers.BaseLayer.preOutputWithPreNorm(BaseLayer.java:322) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.layers.BaseLayer.preOutput(BaseLayer.java:295) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.layers.BaseLayer.activate(BaseLayer.java:343) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.layers.AbstractLayer.activate(AbstractLayer.java:262) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.outputOfLayerDetached(MultiLayerNetwork.java:1341) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2453) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2416) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2407) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2394) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at org.deeplearning4j.nn.multilayer.MultiLayerNetwork.output(MultiLayerNetwork.java:2490) ~[deeplearning4j-nn-1.0.0-M2.jar:?]\n        at com.[****].lambda$nnRegression$1(myCustomJavaClass.java:264)\n\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.getCustomOperations(NativeOpExecutioner.java:1365) ~[nd4j-native-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.api.ops.DynamicCustomOp.opHash(DynamicCustomOp.java:392) ~[nd4j-api-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1900) ~[nd4j-native-1.0.0-M2.jar:?]\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.exec(NativeOpExecutioner.java:1540) ~[nd4j-native-1.0.0-M2.jar:?]\n        ... 139 more\n\n</code></pre>\n<p>I have generated a MVP running the DL4J functions in a standalone application and the loading of the model as well as the inference work fine. I would expect the same behavior on the application server.</p>\n<pre><code>MultiLayerNetwork net = MultiLayerNetwork.load(nn, false);\nList&lt;Integer&gt; obsList = new ArrayList&lt;&gt;();\n\nobsList.add(1);obsList.add(18);\nobsList.add(1);obsList.add(24);\nobsList.add(1);obsList.add(15);\nobsList.add(1);obsList.add(13);\nobsList.add(2);\n\nint[] obsArray = obsList.stream().mapToInt(Integer::intValue).toArray();\nint[][] flat = new int[][] { obsArray };\n\nINDArray test = Nd4j.create(flat);\nINDArray y = net.output(test); // &lt;---- THIS IS WHERE THE ERROR OCCURS\n</code></pre>\n<p>The application is packed in an ear-file, the dl4j depedencies are declared as provided in the POM.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n            &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The server running this application is a Cent OS 8 with a Payara Server 5.193.1 #badassfish (build 275).</p>\n<p>Using the same pattern results in the given stacktrace on the application server.  I'm wondering what might cause the error.</p>\n"},{"tags":["java","spring-boot","junit","spring-boot-actuator"],"comments":[{"owner":{"account_id":2642430,"reputation":199,"user_id":2285809,"display_name":"WHGIBBO"},"score":0,"creation_date":1469113682,"post_id":38505434,"comment_id":64413806,"body_markdown":"So adding some tracing logging for the success and failing cases.  In the success case I see the following:  \n`TRACE [Test worker] --- org.springframework.test.web.servlet.TestDispatcherServlet: Testing handler map [org.springframework.boot.actuate.endpoint.mvc.EndpointHandlerMapping@2281521a] in DispatcherServlet with name `  \n  \nThis is missing in the failing case..  So I can only assume that I&#39;m using the wrong value for   \n\n`MockMvcBuilders.webAppContextSetup(this.context)`","body":"So adding some tracing logging for the success and failing cases.  In the success case I see the following:   <code>TRACE [Test worker] --- org.springframework.test.web.servlet.TestDispatcherServlet: Testing handler map [org.springframework.boot.actuate.endpoint.mvc.EndpointHandl&zwnj;&#8203;erMapping@2281521a] in DispatcherServlet with name </code>      This is missing in the failing case..  So I can only assume that I&#39;m using the wrong value for     <code>MockMvcBuilders.webAppContextSetup(this.context)</code>"}],"answers":[{"comments":[{"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"score":1,"creation_date":1488884569,"post_id":42644044,"comment_id":72419469,"body_markdown":"Could you add some explanation to your answer please?","body":"Could you add some explanation to your answer please?"}],"tags":[],"owner":{"account_id":3029576,"reputation":1865,"user_id":2568885,"display_name":"binoternary"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488957533,"creation_date":1488877344,"answer_id":42644044,"question_id":38505434,"body_markdown":"Try using \r\n \r\n    @SpringBootTest(properties = {&quot;management.port=&quot;})\r\n\r\n\r\nProperties defined in the `@SpringBootTest` annotation have a [higher precedence][1] than those in application properties. `&quot;management.port=&quot;` will &quot;unset&quot; the `management.port` property.  \r\nThis way you don&#39;t have to worry about configuring the port in your tests.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html &quot;title&quot;","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Try using </p>\n\n<pre><code>@SpringBootTest(properties = {\"management.port=\"})\n</code></pre>\n\n<p>Properties defined in the <code>@SpringBootTest</code> annotation have a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\" title=\"title\">higher precedence</a> than those in application properties. <code>\"management.port=\"</code> will \"unset\" the <code>management.port</code> property.<br>\nThis way you don't have to worry about configuring the port in your tests.</p>\n"},{"tags":[],"owner":{"account_id":2234801,"reputation":1443,"user_id":1971503,"accept_rate":57,"display_name":"Viswanath"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497861203,"creation_date":1497861203,"answer_id":44625695,"question_id":38505434,"body_markdown":"Did you try adding the following annotation to your test class? \r\n\r\n    @TestPropertySource(properties = {&quot;management.port=0&quot;})\r\n\r\n[Check the following link for reference][1]. \r\n\r\n\r\n  [1]: https://spring.io/guides/gs/actuator-service/#_test_your_application","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Did you try adding the following annotation to your test class? </p>\n\n<pre><code>@TestPropertySource(properties = {\"management.port=0\"})\n</code></pre>\n\n<p><a href=\"https://spring.io/guides/gs/actuator-service/#_test_your_application\" rel=\"nofollow noreferrer\">Check the following link for reference</a>. </p>\n"},{"tags":[],"owner":{"account_id":313776,"reputation":116,"user_id":628588,"display_name":"flob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509441377,"creation_date":1509441377,"answer_id":47031727,"question_id":38505434,"body_markdown":"Had the same issue, you just have to make the management.port null by adding this in your application-test.properties (set it to empty value)\r\n\r\n    management.port=\r\n\r\nMake sure you use the test profile in your JUnit by annotating the class with\r\n\r\n    @ActiveProfiles(&quot;test&quot;)","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Had the same issue, you just have to make the management.port null by adding this in your application-test.properties (set it to empty value)</p>\n\n<pre><code>management.port=\n</code></pre>\n\n<p>Make sure you use the test profile in your JUnit by annotating the class with</p>\n\n<pre><code>@ActiveProfiles(\"test\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5309294,"reputation":51,"user_id":4236190,"display_name":"MirzaM"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633270702,"creation_date":1522923571,"answer_id":49669904,"question_id":38505434,"body_markdown":"For Spring boot test we need to specify the port it needs to connect to.\r\n\r\nBy default, it connects to `server.port` which in case of actuators is different. \r\n\r\nThis can be done by \r\n\r\n    @SpringBootTest(properties = &quot;server.port=8090&quot;)\r\n\r\n\r\n----------\r\n\r\n\r\nin `application.properties` we specify the management port as below\r\n\r\n    ...\r\n    management.server.port=8090\r\n    ...\r\n\r\n\r\n","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>For Spring boot test we need to specify the port it needs to connect to.</p>\n<p>By default, it connects to <code>server.port</code> which in case of actuators is different.</p>\n<p>This can be done by</p>\n<pre><code>@SpringBootTest(properties = &quot;server.port=8090&quot;)\n</code></pre>\n<hr />\n<p>in <code>application.properties</code> we specify the management port as below</p>\n<pre><code>...\nmanagement.server.port=8090\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12582917,"reputation":227,"user_id":9152953,"accept_rate":0,"display_name":"Diamond"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531660055,"creation_date":1531660055,"answer_id":51348699,"question_id":38505434,"body_markdown":"Isn&#39;t there an error in the property name?\r\nShouldn&#39;t be\r\n`@TestPropertySource(properties = {&quot;management.server.port=...&quot;})` instead of  `@TestPropertySource(properties = {&quot;management.port=..&quot;})`","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Isn't there an error in the property name?\nShouldn't be\n<code>@TestPropertySource(properties = {\"management.server.port=...\"})</code> instead of  <code>@TestPropertySource(properties = {\"management.port=..\"})</code></p>\n"},{"comments":[{"owner":{"account_id":270039,"reputation":536,"user_id":559746,"accept_rate":57,"display_name":"PTT"},"score":0,"creation_date":1587995101,"post_id":56754203,"comment_id":108720664,"body_markdown":"Thanks for sharing this. How can i add a negative use case?","body":"Thanks for sharing this. How can i add a negative use case?"}],"tags":[],"owner":{"account_id":305881,"reputation":5257,"user_id":616290,"accept_rate":57,"display_name":"Dmytro Boichenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561467724,"creation_date":1561466107,"answer_id":56754203,"question_id":38505434,"body_markdown":"For Spring Boot 2.x the integration tests configuration could be simplified.\r\n\r\nFor example simple custom `heartbeat` endpoint\r\n\r\n    @Component\r\n    @Endpoint(id = &quot;heartbeat&quot;)\r\n    public class HeartbeatEndpoint {\r\n    \r\n        @ReadOperation\r\n        public String heartbeat() {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nWhere integration test for this endpoint\r\n\r\n    @SpringBootTest(\r\n            classes = HeartbeatEndpointTest.Config.class,\r\n            properties = {\r\n                    &quot;management.endpoint.heartbeat.enabled=true&quot;,\r\n                    &quot;management.endpoints.web.exposure.include=heartbeat&quot;\r\n            })\r\n    @AutoConfigureMockMvc\r\n    @EnableAutoConfiguration\r\n    class HeartbeatEndpointTest {\r\n    \r\n        private static final String ENDPOINT_PATH = &quot;/actuator/heartbeat&quot;;\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @Test\r\n        void testHeartbeat() throws Exception {\r\n            mockMvc\r\n                    .perform(get(ENDPOINT_PATH))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().string(&quot;&quot;));\r\n        }\r\n    \r\n        @Configuration\r\n        @Import(ProcessorTestConfig.class)\r\n        static class Config {\r\n    \r\n            @Bean\r\n            public HeartbeatEndpoint heartbeatEndpoint() {\r\n                return new HeartbeatEndpoint();\r\n            }\r\n    \r\n        }\r\n    \r\n    }    ","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>For Spring Boot 2.x the integration tests configuration could be simplified.</p>\n\n<p>For example simple custom <code>heartbeat</code> endpoint</p>\n\n<pre><code>@Component\n@Endpoint(id = \"heartbeat\")\npublic class HeartbeatEndpoint {\n\n    @ReadOperation\n    public String heartbeat() {\n        return \"\";\n    }\n}\n</code></pre>\n\n<p>Where integration test for this endpoint</p>\n\n<pre><code>@SpringBootTest(\n        classes = HeartbeatEndpointTest.Config.class,\n        properties = {\n                \"management.endpoint.heartbeat.enabled=true\",\n                \"management.endpoints.web.exposure.include=heartbeat\"\n        })\n@AutoConfigureMockMvc\n@EnableAutoConfiguration\nclass HeartbeatEndpointTest {\n\n    private static final String ENDPOINT_PATH = \"/actuator/heartbeat\";\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    void testHeartbeat() throws Exception {\n        mockMvc\n                .perform(get(ENDPOINT_PATH))\n                .andExpect(status().isOk())\n                .andExpect(content().string(\"\"));\n    }\n\n    @Configuration\n    @Import(ProcessorTestConfig.class)\n    static class Config {\n\n        @Bean\n        public HeartbeatEndpoint heartbeatEndpoint() {\n            return new HeartbeatEndpoint();\n        }\n\n    }\n\n}    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":976758,"reputation":145,"user_id":997669,"display_name":"Bensge"},"score":0,"creation_date":1696519998,"post_id":68348789,"comment_id":136166529,"body_markdown":"this worked for me, running actuator on the same port as the normal endpoints for the test. Thanks!","body":"this worked for me, running actuator on the same port as the normal endpoints for the test. Thanks!"}],"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626098752,"creation_date":1626098752,"answer_id":68348789,"question_id":38505434,"body_markdown":"I was facing the same issue and tried several things but this is how I was able to solve mine without making any change in the `application.yaml`\r\n\r\nSample actuator endpoint\r\n```\r\n@Component\r\n@RestControllerEndpoint(id = &quot;endpoint&quot;)\r\npublic class SampleEndpoint\r\n{\r\n    @GetMapping\r\n    public String sampleEndpoint(){\r\n      return &quot;&quot;\r\n    }\r\n}\r\n```\r\n\r\nUnit test case\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(\r\n    classes = {SampleEndpointTest.Config.class},\r\n    properties = {&quot;management.server.port=&quot;}\r\n)\r\n@AutoConfigureMockMvc\r\npublic class SampleEndpointTest\r\n{\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @SpringBootApplication(scanBasePackageClasses = {SampleEndpoint.class})\r\n    public static class Config\r\n    {\r\n    }\r\n\r\n    @Test\r\n    public void testSampleEndpoint() throws Exception\r\n    {\r\n\r\n        mockMvc.perform(\r\n            MockMvcRequestBuilders.get(&quot;/actuator/enpoint&quot;).accept(APPLICATION_JSON)\r\n        ).andExpect(status().isOk());\r\n    }\r\n```","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>I was facing the same issue and tried several things but this is how I was able to solve mine without making any change in the <code>application.yaml</code></p>\n<p>Sample actuator endpoint</p>\n<pre><code>@Component\n@RestControllerEndpoint(id = &quot;endpoint&quot;)\npublic class SampleEndpoint\n{\n    @GetMapping\n    public String sampleEndpoint(){\n      return &quot;&quot;\n    }\n}\n</code></pre>\n<p>Unit test case</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(\n    classes = {SampleEndpointTest.Config.class},\n    properties = {&quot;management.server.port=&quot;}\n)\n@AutoConfigureMockMvc\npublic class SampleEndpointTest\n{\n    @Autowired\n    private MockMvc mockMvc;\n\n    @SpringBootApplication(scanBasePackageClasses = {SampleEndpoint.class})\n    public static class Config\n    {\n    }\n\n    @Test\n    public void testSampleEndpoint() throws Exception\n    {\n\n        mockMvc.perform(\n            MockMvcRequestBuilders.get(&quot;/actuator/enpoint&quot;).accept(APPLICATION_JSON)\n        ).andExpect(status().isOk());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23177870,"reputation":31,"user_id":17276100,"display_name":"gosshys"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635475599,"creation_date":1635475599,"answer_id":69763021,"question_id":38505434,"body_markdown":"The guide stated that this can be achieved with @AutoConfigureMetrics.\r\nAnd I moved with this.\r\n\r\n&gt; Regardless of your classpath, meter registries, except the in-memory backed, are not auto-configured when using @SpringBootTest.\r\n&gt; If you need to export metrics to a different backend as part of an integration test, annotate it with @AutoConfigureMetrics.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.metrics","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>The guide stated that this can be achieved with @AutoConfigureMetrics.\nAnd I moved with this.</p>\n<blockquote>\n<p>Regardless of your classpath, meter registries, except the in-memory backed, are not auto-configured when using @SpringBootTest.\nIf you need to export metrics to a different backend as part of an integration test, annotate it with @AutoConfigureMetrics.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.metrics\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.metrics</a></p>\n"},{"tags":[],"owner":{"account_id":16459737,"reputation":11,"user_id":11891098,"display_name":"Mike Ballesteros"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639789756,"creation_date":1639789756,"answer_id":70400297,"question_id":38505434,"body_markdown":"Since now info endpoint must be enabled manually make sure the SpringBootTest tag includes this in properties, like this: \r\n\r\n    @SpringBootTest(\r\n            properties = {\r\n                    &quot;management.info.env.enabled=true&quot; ,\r\n                    &quot;management.endpoints.web.exposure.include=info, health&quot;\r\n            })","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>Since now info endpoint must be enabled manually make sure the SpringBootTest tag includes this in properties, like this:</p>\n<pre><code>@SpringBootTest(\n        properties = {\n                &quot;management.info.env.enabled=true&quot; ,\n                &quot;management.endpoints.web.exposure.include=info, health&quot;\n        })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661256497,"creation_date":1661256497,"answer_id":73458474,"question_id":38505434,"body_markdown":"I had this problem recently, and as none of the above answers made any sense to me, I decided to do a bit more reading. In my case, I had already defined both `server.port` and `management.server.port` as `8091` in my test `application-test.yaml` file, and could not understand why my test was getting a `connection refused` error message. \r\n\r\nIt turns out that instead of using the annotation `@SpringBootTest()` I needed to use `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)` - which causes the port numbers in the yaml file to be used. This is briefly discussed in the [manual][1]. Quoting the relevant section:\r\n\r\n&gt; DEFINED_PORT — Loads an EmbeddedWebApplicationContext and provides a real servlet environment. Embedded servlet containers are started and listening on a defined port (i.e from your application.properties or on the default port 8080).\r\n\r\nIt seems in `SpringBootTest` the default is to avoid starting a real servlet environment, and if no `WebEnvironment` is explicitly specified then `SpringBootTest.WebEnvironment.MOCK` is used as a default.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/html/boot-features-testing.html","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>I had this problem recently, and as none of the above answers made any sense to me, I decided to do a bit more reading. In my case, I had already defined both <code>server.port</code> and <code>management.server.port</code> as <code>8091</code> in my test <code>application-test.yaml</code> file, and could not understand why my test was getting a <code>connection refused</code> error message.</p>\n<p>It turns out that instead of using the annotation <code>@SpringBootTest()</code> I needed to use <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)</code> - which causes the port numbers in the yaml file to be used. This is briefly discussed in the <a href=\"https://docs.spring.io/spring-boot/docs/1.5.3.RELEASE/reference/html/boot-features-testing.html\" rel=\"nofollow noreferrer\">manual</a>. Quoting the relevant section:</p>\n<blockquote>\n<p>DEFINED_PORT — Loads an EmbeddedWebApplicationContext and provides a real servlet environment. Embedded servlet containers are started and listening on a defined port (i.e from your application.properties or on the default port 8080).</p>\n</blockquote>\n<p>It seems in <code>SpringBootTest</code> the default is to avoid starting a real servlet environment, and if no <code>WebEnvironment</code> is explicitly specified then <code>SpringBootTest.WebEnvironment.MOCK</code> is used as a default.</p>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1685571096,"post_id":75334796,"comment_id":134680700,"body_markdown":"This one failed for me with error \n```\norg.springframework.web.client.HttpClientErrorException$NotFound: 404 : &quot;{&quot;timestamp&quot;:&quot;2023-05-31T22:09:49.535+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/actuator/metrics&quot;}&quot;\n\n```","body":"This one failed for me with error  ``` org.springframework.web.client.HttpClientErrorException$NotF&zwnj;&#8203;ound: 404 : &quot;{&quot;timestamp&quot;:&quot;2023-05-31T22:09:49.535+00:00&quot;,&quot;status&quot;:404,&quot;&zwnj;&#8203;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/actuator/metrics&quot;}&quot;  ```"}],"tags":[],"owner":{"account_id":2687276,"reputation":302,"user_id":2321414,"accept_rate":100,"display_name":"Wouter"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675422265,"creation_date":1675422265,"answer_id":75334796,"question_id":38505434,"body_markdown":"After a long search: There is this nice Springboot annotation called `@LocalManagementPort`!\r\n\r\nIt works similar to `@LocalServerPort` but for actuator endpoins.\r\n\r\nAn example config would look as follows\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class MetricsIT {\r\n\r\n    @Autowired\r\n    RestTemplateBuilder restTemplateBuilder;\r\n\r\n    @LocalManagementPort\r\n    int managementPort;\r\n\r\n    @Test\r\n    public void testMetrics(){\r\n        ResponseEntity&lt;String&gt; response = restTemplateBuilder\r\n            .rootUri(&quot;http://localhost:&quot; + managementPort + &quot;/actuator&quot;)\r\n            .build().exchange(&quot;/metrics&quot;, HttpMethod.GET, new HttpEntity&lt;&gt;(null), String.class);\r\n    }\r\n}\r\n","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>After a long search: There is this nice Springboot annotation called <code>@LocalManagementPort</code>!</p>\n<p>It works similar to <code>@LocalServerPort</code> but for actuator endpoins.</p>\n<p>An example config would look as follows</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class MetricsIT {\n\n    @Autowired\n    RestTemplateBuilder restTemplateBuilder;\n\n    @LocalManagementPort\n    int managementPort;\n\n    @Test\n    public void testMetrics(){\n        ResponseEntity&lt;String&gt; response = restTemplateBuilder\n            .rootUri(&quot;http://localhost:&quot; + managementPort + &quot;/actuator&quot;)\n            .build().exchange(&quot;/metrics&quot;, HttpMethod.GET, new HttpEntity&lt;&gt;(null), String.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2642430,"reputation":199,"user_id":2285809,"display_name":"WHGIBBO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24387,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":11,"score":19,"last_activity_date":1675422265,"creation_date":1469107245,"question_id":38505434,"body_markdown":"recently I changed my spring boot properties to define a management port.\r\nIn doing so, my unit tests started to fail :(\r\n\r\nI wrote a unit test that tested the **/metrics** endpoint as follows:\r\n\r\n    @RunWith (SpringRunner.class)\r\n    @DirtiesContext\r\n    @SpringBootTest\r\n    public class MetricsTest {\r\n    \r\n        @Autowired\r\n        private WebApplicationContext context;\r\n    \r\n        private MockMvc mvc;\r\n    \r\n        /**\r\n         * Called before each test.\r\n         */\r\n        @Before\r\n        public void setUp() {\r\n            this.context.getBean(MetricsEndpoint.class).setEnabled(true);\r\n            this.mvc = MockMvcBuilders.webAppContextSetup(this.context).build();\r\n        }\r\n    \r\n        /**\r\n         * Test for home page.\r\n         *\r\n         * @throws Exception On failure.\r\n         */\r\n        @Test\r\n        public void home()\r\n                throws Exception {\r\n            this.mvc.perform(MockMvcRequestBuilders.get(&quot;/metrics&quot;))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    }        \r\n\r\nPreviously this was passing.  After adding:\r\n\r\n    management.port=9001\r\n\r\nThe tests started failing with:\r\n\r\n    home Failed: java.lang.AssertionError: Status expected: &lt;200&gt; but was: &lt;404&gt;\r\n\r\n\r\nI tried changing the @SpringBootTest annotation with:\r\n\r\n    @SpringBootTest (properties = {&quot;management.port=&lt;server.port&gt;&quot;})\r\n\r\nWhere &lt;server.port&gt; is the number used for the server.port.  This didn&#39;t seem to make any difference.\r\n\r\nSo then changed the management.port value in the property file to be the same as the server.port.  Same result.\r\n\r\nThe only way to get the test to work is remove the management.port from the property file.\r\n\r\nAny suggestions/thoughts ?\r\n\r\nThanks","title":"Unit testing of Spring Boot Actuator endpoints not working when specifying a port","body":"<p>recently I changed my spring boot properties to define a management port.\nIn doing so, my unit tests started to fail :(</p>\n\n<p>I wrote a unit test that tested the <strong>/metrics</strong> endpoint as follows:</p>\n\n<pre><code>@RunWith (SpringRunner.class)\n@DirtiesContext\n@SpringBootTest\npublic class MetricsTest {\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mvc;\n\n    /**\n     * Called before each test.\n     */\n    @Before\n    public void setUp() {\n        this.context.getBean(MetricsEndpoint.class).setEnabled(true);\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.context).build();\n    }\n\n    /**\n     * Test for home page.\n     *\n     * @throws Exception On failure.\n     */\n    @Test\n    public void home()\n            throws Exception {\n        this.mvc.perform(MockMvcRequestBuilders.get(\"/metrics\"))\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n}        \n</code></pre>\n\n<p>Previously this was passing.  After adding:</p>\n\n<pre><code>management.port=9001\n</code></pre>\n\n<p>The tests started failing with:</p>\n\n<pre><code>home Failed: java.lang.AssertionError: Status expected: &lt;200&gt; but was: &lt;404&gt;\n</code></pre>\n\n<p>I tried changing the @SpringBootTest annotation with:</p>\n\n<pre><code>@SpringBootTest (properties = {\"management.port=&lt;server.port&gt;\"})\n</code></pre>\n\n<p>Where  is the number used for the server.port.  This didn't seem to make any difference.</p>\n\n<p>So then changed the management.port value in the property file to be the same as the server.port.  Same result.</p>\n\n<p>The only way to get the test to work is remove the management.port from the property file.</p>\n\n<p>Any suggestions/thoughts ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","vaadin","eclipse-mars","vaadin8"],"comments":[{"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"score":1,"creation_date":1505381330,"post_id":46215094,"comment_id":79393370,"body_markdown":"As said in docs, you have a method called `receiveUpload`. In this method, you take a filename and its mime type. Then you must create an `OutputStream`[(java 7 doc)](https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html)  with a `File` with that filename and return it... Of course, the `File` must be located where you want to save the upload.","body":"As said in docs, you have a method called <code>receiveUpload</code>. In this method, you take a filename and its mime type. Then you must create an <code>OutputStream</code><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\">(java 7 doc)</a>  with a <code>File</code> with that filename and return it... Of course, the <code>File</code> must be located where you want to save the upload."},{"owner":{"account_id":7718919,"reputation":72,"user_id":5845719,"accept_rate":67,"display_name":"Auscyber"},"score":0,"creation_date":1505381690,"post_id":46215094,"comment_id":79393653,"body_markdown":"@Shirkam Can I have some code? as location being C:\\","body":"@Shirkam Can I have some code? as location being C:\\"},{"owner":{"account_id":1062313,"reputation":2649,"user_id":1063673,"accept_rate":80,"display_name":"Steffen Harbich"},"score":1,"creation_date":1505387424,"post_id":46215094,"comment_id":79397457,"body_markdown":"Yeah why not, stackoverflow is your cost-free programmer community...","body":"Yeah why not, stackoverflow is your cost-free programmer community..."}],"answers":[{"tags":[],"owner":{"account_id":8511198,"reputation":744,"user_id":6381179,"accept_rate":71,"display_name":"Shirkam"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675422241,"creation_date":1505385379,"answer_id":46216810,"question_id":46215094,"body_markdown":"To receive a file upload in Vaadin, you must implement `Receiver` interface, wich provides you with a `receiveUpload(filename, mimeType)`method, used to receive the info. The simplest code to do this would be (Taken as example from  [Vaadin 7 docs](https://vaadin.com/docs7/-/part7/framework/components/components-upload.html)):\r\n\r\n    class FileUploader implements Receiver {\r\n        private File file;\r\n        private String BASE_PATH=&quot;C:\\\\&quot;;\r\n\r\n        public OutputStream receiveUpload(String filename,\r\n                                      String mimeType) {\r\n            // Create upload stream\r\n            FileOutputStream fos = null; // Stream to write to\r\n            try {\r\n                // Open the file for writing.\r\n                file = new File(BASE_PATH + filename);\r\n                fos = new FileOutputStream(file);\r\n            } catch (final java.io.FileNotFoundException e) {\r\n                new Notification(&quot;Could not open file&lt;br/&gt;&quot;,\r\n                             e.getMessage(),\r\n                             Notification.Type.ERROR_MESSAGE)\r\n                .show(Page.getCurrent());\r\n                return null;\r\n            }\r\n            return fos; // Return the output stream to write to\r\n        }\r\n    };\r\n\r\n\r\nWith that, the `Uploader` will write you a file in `C:\\`. If you wish to something after the upload has completed successfully, or not, you can implement `SucceeddedListener` or `FailedListener`. Taking the example above, the result (with a `SucceededListener`) could be:\r\n\r\n    class FileUploader implements Receiver {\r\n        //receiveUpload implementation\r\n\r\n        public void uploadSucceeded(SucceededEvent event) {\r\n            //Do some cool stuff here with the file\r\n        }\r\n    }","title":"How to save uploaded file","body":"<p>To receive a file upload in Vaadin, you must implement <code>Receiver</code> interface, wich provides you with a <code>receiveUpload(filename, mimeType)</code>method, used to receive the info. The simplest code to do this would be (Taken as example from  <a href=\"https://vaadin.com/docs7/-/part7/framework/components/components-upload.html\" rel=\"nofollow noreferrer\">Vaadin 7 docs</a>):</p>\n<pre><code>class FileUploader implements Receiver {\n    private File file;\n    private String BASE_PATH=&quot;C:\\\\&quot;;\n\n    public OutputStream receiveUpload(String filename,\n                                  String mimeType) {\n        // Create upload stream\n        FileOutputStream fos = null; // Stream to write to\n        try {\n            // Open the file for writing.\n            file = new File(BASE_PATH + filename);\n            fos = new FileOutputStream(file);\n        } catch (final java.io.FileNotFoundException e) {\n            new Notification(&quot;Could not open file&lt;br/&gt;&quot;,\n                         e.getMessage(),\n                         Notification.Type.ERROR_MESSAGE)\n            .show(Page.getCurrent());\n            return null;\n        }\n        return fos; // Return the output stream to write to\n    }\n};\n</code></pre>\n<p>With that, the <code>Uploader</code> will write you a file in <code>C:\\</code>. If you wish to something after the upload has completed successfully, or not, you can implement <code>SucceeddedListener</code> or <code>FailedListener</code>. Taking the example above, the result (with a <code>SucceededListener</code>) could be:</p>\n<pre><code>class FileUploader implements Receiver {\n    //receiveUpload implementation\n\n    public void uploadSucceeded(SucceededEvent event) {\n        //Do some cool stuff here with the file\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7718919,"reputation":72,"user_id":5845719,"accept_rate":67,"display_name":"Auscyber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46216810,"answer_count":1,"score":0,"last_activity_date":1675422241,"creation_date":1505380582,"question_id":46215094,"body_markdown":"I would like to know how to get a file from a Vaadin Upload Component. Here is the example on the [Vaadin Website](https://vaadin.com/docs/-/part/framework/components/components-upload.html)\r\nbut it does not include how to save it other than something about OutputStreams.\r\nHelp!","title":"How to save uploaded file","body":"<p>I would like to know how to get a file from a Vaadin Upload Component. Here is the example on the <a href=\"https://vaadin.com/docs/-/part/framework/components/components-upload.html\" rel=\"nofollow noreferrer\">Vaadin Website</a>\nbut it does not include how to save it other than something about OutputStreams.\nHelp!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data"],"comments":[{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":1,"creation_date":1675431697,"post_id":75333251,"comment_id":132933040,"body_markdown":"log query and params to be sure that you have properly params \n`logging:\n  level:\n    org.hibernate.SQL: DEBUG\n    org.hibernate.type.descriptor.sql.BasicBinder: TRACE`","body":"log query and params to be sure that you have properly params  <code>logging:   level:     org.hibernate.SQL: DEBUG     org.hibernate.type.descriptor.sql.BasicBinder: TRACE</code>"},{"owner":{"account_id":7032696,"reputation":789,"user_id":5387834,"accept_rate":0,"display_name":"Serge Iroshnikov"},"score":0,"creation_date":1675446551,"post_id":75333251,"comment_id":132938128,"body_markdown":"@ShakirovRamil, this is where the problem is. I log queries, I trace parameters. When I run the query with substituted parameters, it does return expected result. But the repository method called with same parameters returns null","body":"@ShakirovRamil, this is where the problem is. I log queries, I trace parameters. When I run the query with substituted parameters, it does return expected result. But the repository method called with same parameters returns null"}],"answers":[{"comments":[{"owner":{"account_id":7032696,"reputation":789,"user_id":5387834,"accept_rate":0,"display_name":"Serge Iroshnikov"},"score":0,"creation_date":1675422314,"post_id":75334784,"comment_id":132930346,"body_markdown":"No, those data change very rarely. This is not the case","body":"No, those data change very rarely. This is not the case"}],"tags":[],"owner":{"account_id":9430282,"reputation":21,"user_id":7014041,"display_name":"Ertan Cakir"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675422171,"creation_date":1675422171,"answer_id":75334784,"question_id":75333251,"body_markdown":"Its probably happening because of transactions not commited yet\r\n\r\nCan you update your question with where you used this method \r\n`findTopPropertyValue`","title":"Spring Data query returns null but SQL query returns value","body":"<p>Its probably happening because of transactions not commited yet</p>\n<p>Can you update your question with where you used this method\n<code>findTopPropertyValue</code></p>\n"}],"owner":{"account_id":7032696,"reputation":789,"user_id":5387834,"accept_rate":0,"display_name":"Serge Iroshnikov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675422171,"creation_date":1675413350,"question_id":75333251,"body_markdown":"I have a persistent class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @SuperBuilder\r\n    @Entity\r\n    @Table(name = &quot;REGION&quot;)\r\n    @NamedQueries({\r\n\t    @NamedQuery(name = IRegionRepo.QUERY_NAME.findPropertyValue, query = IRegionRepo.QUERY.findPropertyValue)\r\n    })\r\n    public class Region extends NameClassifier {\r\n\r\n\t    /** The Constant serialVersionUID. */\r\n\t    private static final long serialVersionUID = 1L;\r\n\r\n\t    /** The countries. */\r\n\t    @OneToMany\r\n\t    @JoinTable(name = &quot;REGION_COUNTRY&quot;, joinColumns = @JoinColumn(name = &quot;REGION&quot;),     inverseJoinColumns = @JoinColumn(name=&quot;COUNTRY&quot;))\r\n\tprivate Set&lt;Country&gt; countries;\r\n\t\r\n\t    /** The properties. */\r\n\t    @ElementCollection\r\n\t    @JoinTable(name = &quot;REGION_PROPERTY&quot;, joinColumns = @JoinColumn(name = &quot;REGION&quot;))\r\n\t    @MapKeyColumn(name = &quot;PROPERTY_NAME&quot;)\r\n\t    @Column(name = &quot;PROPERTY_VALUE&quot;)\r\n\t    private Map&lt;String, String&gt; properties;\r\n    }\r\n\r\nAnd the String Data repository:\r\n\r\n    public final static String findPropertyValue = &quot;select VALUE(rp) from Region r join r.properties rp &quot;\r\n\t\t\t\t+ &quot;where :country MEMBER OF r.countries and KEY(rp)=:property&quot;;\r\n    \r\n    @Query(name = QUERY_NAME.findPropertyValue)\r\n\tpublic String findTopPropertyValue(@Param(&quot;country&quot;) final Country country, @Param(&quot;property&quot;) final String property);\r\n\r\nWhen I run the method, with certain parameters, it returns null.\r\nHowever, if I substitute the parameters into the generated SQL query and run it in SQL*Plus, it does return a value.\r\n\r\nWhat could be the issue?\r\n\r\nThe query generated:\r\n\r\n    select properties1_.property_value as col_0_0_ \r\n    from region region0_ inner join region_property properties1_ on  region0_.id=properties1_.region \r\n    where (? in (select countries2_.country from region_country countries2_ where region0_.id=countries2_.region)) and properties1_.property_name=?;\r\n\r\n","title":"Spring Data query returns null but SQL query returns value","body":"<p>I have a persistent class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\n@Entity\n@Table(name = &quot;REGION&quot;)\n@NamedQueries({\n    @NamedQuery(name = IRegionRepo.QUERY_NAME.findPropertyValue, query = IRegionRepo.QUERY.findPropertyValue)\n})\npublic class Region extends NameClassifier {\n\n    /** The Constant serialVersionUID. */\n    private static final long serialVersionUID = 1L;\n\n    /** The countries. */\n    @OneToMany\n    @JoinTable(name = &quot;REGION_COUNTRY&quot;, joinColumns = @JoinColumn(name = &quot;REGION&quot;),     inverseJoinColumns = @JoinColumn(name=&quot;COUNTRY&quot;))\nprivate Set&lt;Country&gt; countries;\n\n    /** The properties. */\n    @ElementCollection\n    @JoinTable(name = &quot;REGION_PROPERTY&quot;, joinColumns = @JoinColumn(name = &quot;REGION&quot;))\n    @MapKeyColumn(name = &quot;PROPERTY_NAME&quot;)\n    @Column(name = &quot;PROPERTY_VALUE&quot;)\n    private Map&lt;String, String&gt; properties;\n}\n</code></pre>\n<p>And the String Data repository:</p>\n<pre><code>public final static String findPropertyValue = &quot;select VALUE(rp) from Region r join r.properties rp &quot;\n            + &quot;where :country MEMBER OF r.countries and KEY(rp)=:property&quot;;\n\n@Query(name = QUERY_NAME.findPropertyValue)\npublic String findTopPropertyValue(@Param(&quot;country&quot;) final Country country, @Param(&quot;property&quot;) final String property);\n</code></pre>\n<p>When I run the method, with certain parameters, it returns null.\nHowever, if I substitute the parameters into the generated SQL query and run it in SQL*Plus, it does return a value.</p>\n<p>What could be the issue?</p>\n<p>The query generated:</p>\n<pre><code>select properties1_.property_value as col_0_0_ \nfrom region region0_ inner join region_property properties1_ on  region0_.id=properties1_.region \nwhere (? in (select countries2_.country from region_country countries2_ where region0_.id=countries2_.region)) and properties1_.property_name=?;\n</code></pre>\n"},{"tags":["java","android","location"],"answers":[{"tags":[],"owner":{"account_id":1198166,"reputation":1484,"user_id":1169441,"display_name":"Varsha Kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675385857,"creation_date":1675385857,"answer_id":75330444,"question_id":75330183,"body_markdown":"Remove `ACCESS_COARSE_LOCATION` declaration from manifest and try, else request for both `ACCESS_COARSE_LOCATION` and `ACCESS_FINE_LOCATION`\r\n\r\n&gt; If you try to request only ACCESS_FINE_LOCATION, the system ignores the request on some releases of Android 12\r\n\r\nFollow this [link](https://developer.android.com/training/location/permissions#approximate-request)","title":"Android Java ACCESS_FINE_LOCATION permission retrieving ACCESS_COARSE_LOCATION","body":"<p>Remove <code>ACCESS_COARSE_LOCATION</code> declaration from manifest and try, else request for both <code>ACCESS_COARSE_LOCATION</code> and <code>ACCESS_FINE_LOCATION</code></p>\n<blockquote>\n<p>If you try to request only ACCESS_FINE_LOCATION, the system ignores the request on some releases of Android 12</p>\n</blockquote>\n<p>Follow this <a href=\"https://developer.android.com/training/location/permissions#approximate-request\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675422113,"creation_date":1675422113,"answer_id":75334778,"question_id":75330183,"body_markdown":"First ask for COARSE location.\r\n\r\nAnd only after the user allowed that ask for FINE.","title":"Android Java ACCESS_FINE_LOCATION permission retrieving ACCESS_COARSE_LOCATION","body":"<p>First ask for COARSE location.</p>\n<p>And only after the user allowed that ask for FINE.</p>\n"}],"owner":{"account_id":21419591,"reputation":13,"user_id":18019817,"display_name":"Mi Espacioec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675422113,"creation_date":1675382837,"question_id":75330183,"body_markdown":"I have an application that requires to use Fine Location, when I request Fine Location permissions, the dialog does not ask for accurate location, only approximate location.\r\n\r\nI have tried on several devices, an Android Studio Emulator, on a Huawei and it does ask for permissions correctly, but when I try on a Samsung Galaxy A32 phone, it doesn&#39;t show me the accurate location option.\r\n\r\nThis is my Manifest:\r\n\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;***&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission\r\n            android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n            tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_VIDEO&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n\r\n        &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.microphone&quot; android:required=&quot;true&quot;/&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; android:required=&quot;true&quot; /&gt;\r\n\r\n        &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n\r\nRequest Permission\r\n\r\n    LocationRequest locationRequest = new LocationRequest();\r\n    locationRequest.setInterval(10000);\r\n    locationRequest.setFastestInterval(3000);\r\n    locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n        Log.d(&quot;message&quot;, &quot;permission denied&quot;);\r\n        ActivityCompat.requestPermissions(Dashboard.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\r\n        return;\r\n    }\r\n    LocationServices.getFusedLocationProviderClient(this).requestLocationUpdates(locationRequest, new LocationCallback() {\r\n        @Override\r\n        public void onLocationResult(LocationResult locationResult) {\r\n            super.onLocationResult(locationResult);\r\n            ...","title":"Android Java ACCESS_FINE_LOCATION permission retrieving ACCESS_COARSE_LOCATION","body":"<p>I have an application that requires to use Fine Location, when I request Fine Location permissions, the dialog does not ask for accurate location, only approximate location.</p>\n<p>I have tried on several devices, an Android Studio Emulator, on a Huawei and it does ask for permissions correctly, but when I try on a Samsung Galaxy A32 phone, it doesn't show me the accurate location option.</p>\n<p>This is my Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;***&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_VIDEO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.microphone&quot; android:required=&quot;true&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n</code></pre>\n<p>Request Permission</p>\n<pre><code>LocationRequest locationRequest = new LocationRequest();\nlocationRequest.setInterval(10000);\nlocationRequest.setFastestInterval(3000);\nlocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\nif (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n    Log.d(&quot;message&quot;, &quot;permission denied&quot;);\n    ActivityCompat.requestPermissions(Dashboard.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE);\n    return;\n}\nLocationServices.getFusedLocationProviderClient(this).requestLocationUpdates(locationRequest, new LocationCallback() {\n    @Override\n    public void onLocationResult(LocationResult locationResult) {\n        super.onLocationResult(locationResult);\n        ...\n</code></pre>\n"},{"tags":["java","apache-tika","adobe-illustrator"],"comments":[{"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"score":0,"creation_date":1675414583,"post_id":75324230,"comment_id":132928002,"body_markdown":"I&#39;ve been playing a bit with various export settings in Adobe Illustrator 2021. In these settings it is possible to on/off a setting called &quot;create pdf compatible file&quot; (or something like that). But no matter which setting you choose here, it will always insert a PDF into the AI file. If the setting is disabled, it is a kind of dummy PDF with the hint that it is not a compatible PDF document. So the magic byte is always %PDF. Tika always recognizes a PDF file. Does anyone perhaps have an idea what else could be done here to enable Tika to recognize the &quot;correct&quot; mime-type?","body":"I&#39;ve been playing a bit with various export settings in Adobe Illustrator 2021. In these settings it is possible to on/off a setting called &quot;create pdf compatible file&quot; (or something like that). But no matter which setting you choose here, it will always insert a PDF into the AI file. If the setting is disabled, it is a kind of dummy PDF with the hint that it is not a compatible PDF document. So the magic byte is always %PDF. Tika always recognizes a PDF file. Does anyone perhaps have an idea what else could be done here to enable Tika to recognize the &quot;correct&quot; mime-type?"},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":1,"creation_date":1675438395,"post_id":75324230,"comment_id":132935380,"body_markdown":"We have an open issue for this: https://issues.apache.org/jira/browse/TIKA-2689. We could add the logic at parse time, but we can&#39;t do it at detection time without parsing the whole file :(  Please chime in on our JIRA issue if you&#39;re willing to get that info at parse time.","body":"We have an open issue for this: <a href=\"https://issues.apache.org/jira/browse/TIKA-2689\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/TIKA-2689</a>. We could add the logic at parse time, but we can&#39;t do it at detection time without parsing the whole file :(  Please chime in on our JIRA issue if you&#39;re willing to get that info at parse time."}],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675422073,"creation_date":1675422073,"answer_id":75334766,"question_id":75324230,"body_markdown":"Adobe documentation shows they internally use 3 application/type settings  \r\n\r\n&gt;List of document mime-types that are considered to be PDF or Illustrator documents.\r\n- PDF\r\n- Postscript\r\n- Illustrator \r\n\r\nalso go one to say\r\n\r\n&gt;Adobe Illustrator’s file format is a variant of PDF. The main differences, in the context of Experience Manager Assets, is the following:\r\n\r\n&gt;Adobe Illustrator documents consist of a single page with multiple layers. Each layer is extracted as a PNG subasset under the main Illustrator asset.\r\n\r\n&gt;PDF documents consist of one or more pages. Each page is extracted as a single page PDF subasset under the main multi-page PDF document.\r\n\r\nSo Adobe applications have an inhouse typeset to distinguish application/illustrator, however, that is not a registered mimetype (AI is a subset of PDF as above )\r\n\r\nOther applications may struggle with hybrids that are wrappers of one around the other so as one example  \r\nLinguist reports a content-type of application/postscript for *.ai whilst other report application/PDF  which may be due to   \r\n&quot;Early versions [over 24 years ago] of the AI file format [Illustrator versions 3 through to 8 saved artwork as specialised EPS files,] are true EPS files with a restricted, compact syntax, with additional semantics represented by Illustrator-specific DSC comments that conform to DSC&#39;s Open Structuring Conventions.&quot;\r\n\r\nConfused ? Dont be, simply **[like the current mime type register][1]**, accept AI files that are PDF like are application/pdf.\r\n\r\nI often refer to text/pdf as the legacy format for ansi/pdf but those are not listed either   \r\n\r\nIf a file starts with 40 bit signature `%PDF-` then irrespective of version or content  \r\n\r\nThe RFC https://www.rfc-editor.org/rfc/rfc8118.html\r\n&gt;PDF Versions\r\n&gt;   The PDF format has gone through several revisions, primarily for the\r\n   addition of features.  PDF features have generally been added in a\r\n   way that older viewers &quot;fail gracefully&quot;, because they can just\r\n   ignore features they do not recognize.  Even so, the older the PDF\r\n   version produced, the more legacy viewers will support that version,\r\n   but the fewer features will be enabled.  **The &quot;application/pdf&quot; media\r\n   type is used for all versions.***  See [ISOPDF2] Annex I, &quot;PDF Versions\r\n   and Compatibility&quot;.\r\n\r\n  [1]: https://www.iana.org/assignments/media-types/media-types.xhtml","title":"How to detect Adobe Illustrator files in Tika version 2.6?","body":"<p>Adobe documentation shows they internally use 3 application/type settings</p>\n<blockquote>\n<p>List of document mime-types that are considered to be PDF or Illustrator documents.</p>\n</blockquote>\n<ul>\n<li>PDF</li>\n<li>Postscript</li>\n<li>Illustrator</li>\n</ul>\n<p>also go one to say</p>\n<blockquote>\n<p>Adobe Illustrator’s file format is a variant of PDF. The main differences, in the context of Experience Manager Assets, is the following:</p>\n</blockquote>\n<blockquote>\n<p>Adobe Illustrator documents consist of a single page with multiple layers. Each layer is extracted as a PNG subasset under the main Illustrator asset.</p>\n</blockquote>\n<blockquote>\n<p>PDF documents consist of one or more pages. Each page is extracted as a single page PDF subasset under the main multi-page PDF document.</p>\n</blockquote>\n<p>So Adobe applications have an inhouse typeset to distinguish application/illustrator, however, that is not a registered mimetype (AI is a subset of PDF as above )</p>\n<p>Other applications may struggle with hybrids that are wrappers of one around the other so as one example<br />\nLinguist reports a content-type of application/postscript for *.ai whilst other report application/PDF  which may be due to<br />\n&quot;Early versions [over 24 years ago] of the AI file format [Illustrator versions 3 through to 8 saved artwork as specialised EPS files,] are true EPS files with a restricted, compact syntax, with additional semantics represented by Illustrator-specific DSC comments that conform to DSC's Open Structuring Conventions.&quot;</p>\n<p>Confused ? Dont be, simply <strong><a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" rel=\"nofollow noreferrer\">like the current mime type register</a></strong>, accept AI files that are PDF like are application/pdf.</p>\n<p>I often refer to text/pdf as the legacy format for ansi/pdf but those are not listed either</p>\n<p>If a file starts with 40 bit signature <code>%PDF-</code> then irrespective of version or content</p>\n<p>The RFC <a href=\"https://www.rfc-editor.org/rfc/rfc8118.html\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc8118.html</a></p>\n<blockquote>\n<p>PDF Versions\nThe PDF format has gone through several revisions, primarily for the\naddition of features.  PDF features have generally been added in a\nway that older viewers &quot;fail gracefully&quot;, because they can just\nignore features they do not recognize.  Even so, the older the PDF\nversion produced, the more legacy viewers will support that version,\nbut the fewer features will be enabled.  <strong>The &quot;application/pdf&quot; media\ntype is used for all versions.</strong>*  See [ISOPDF2] Annex I, &quot;PDF Versions\nand Compatibility&quot;.</p>\n</blockquote>\n"}],"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675422073,"creation_date":1675346315,"question_id":75324230,"body_markdown":"I want to use Tika 2.6 to detect files with the MIME type &#39;application/illustrator&#39;. When I use the following code snippet, I always get the MIME type &#39;application/pdf&#39;:\r\n\r\n```java\r\npublic MediaType detectMimeTypeFromContent(@NonNull File file) throws IOException {\r\n    TikaConfig config = TikaConfig.getDefaultConfig();\r\n    Detector detector = config.getDetector();\r\n    Metadata metadata = new Metadata();\r\n    TikaInputStream tikaStream = TikaInputStream.get(file, metadata);\r\n    MediaType mediaType = detector.detect(tikaStream, metadata);\r\n    tikaStream.close();\r\n\r\n    return mediaType;\r\n}\r\n```\r\nI use this dependencies:\r\n\r\n```gradle\r\nimplementation &#39;org.apache.tika:tika-core:2.6.0&#39;\r\nimplementation &#39;org.apache.tika:tika-parsers:2.6.0&#39;\r\n```\r\n\r\nHow can I detect Adobe Illustrator files correctly?","title":"How to detect Adobe Illustrator files in Tika version 2.6?","body":"<p>I want to use Tika 2.6 to detect files with the MIME type 'application/illustrator'. When I use the following code snippet, I always get the MIME type 'application/pdf':</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MediaType detectMimeTypeFromContent(@NonNull File file) throws IOException {\n    TikaConfig config = TikaConfig.getDefaultConfig();\n    Detector detector = config.getDetector();\n    Metadata metadata = new Metadata();\n    TikaInputStream tikaStream = TikaInputStream.get(file, metadata);\n    MediaType mediaType = detector.detect(tikaStream, metadata);\n    tikaStream.close();\n\n    return mediaType;\n}\n</code></pre>\n<p>I use this dependencies:</p>\n<pre><code>implementation 'org.apache.tika:tika-core:2.6.0'\nimplementation 'org.apache.tika:tika-parsers:2.6.0'\n</code></pre>\n<p>How can I detect Adobe Illustrator files correctly?</p>\n"},{"tags":["java","eclipse","intellij-idea","ide","gurobi"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1675414219,"post_id":75333120,"comment_id":132927908,"body_markdown":"Where *is* libgurobi100.so?","body":"Where <i>is</i> libgurobi100.so?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1675417403,"post_id":75333120,"comment_id":132928824,"body_markdown":"Does the file `/home/faisal/gurobi1001/linux64/lib/libGurobiJni100.so` exist?","body":"Does the file <code>&#47;home&#47;faisal&#47;gurobi1001&#47;linux64&#47;lib&#47;libGurobiJni100.so</code> exist?"},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1675421448,"post_id":75333120,"comment_id":132930069,"body_markdown":"@howlger yes it does","body":"@howlger yes it does"},{"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"score":0,"creation_date":1675421553,"post_id":75333120,"comment_id":132930093,"body_markdown":"@nitind I could not find it but I found `/home/faisal/gurobi1001/linux64/lib/libGurobiJni100.so`","body":"@nitind I could not find it but I found <code>&#47;home&#47;faisal&#47;gurobi1001&#47;linux64&#47;lib&#47;libGurobiJni100.so</code>"}],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675756269,"post_id":75334726,"comment_id":132991753,"body_markdown":"So your library load path was not set correctly? This is a hack :-/","body":"So your library load path was not set correctly? This is a hack :-/"}],"tags":[],"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675421822,"creation_date":1675421822,"answer_id":75334726,"question_id":75333120,"body_markdown":"This got fixed by using the following commands from : https://stackoverflow.com/a/71761881/13061992\r\n```\r\nsudo ln -s $GUROBI_HOME/lib/libgurobi100.so /usr/lib\r\nsudo ln -s $GUROBI_HOME/lib/libGurobiJni100.so /usr/lib\r\nsudo ldconfig\r\n```","title":"Java unsatisfied link error in IDE but execution is seamless in terminal","body":"<p>This got fixed by using the following commands from : <a href=\"https://stackoverflow.com/a/71761881/13061992\">https://stackoverflow.com/a/71761881/13061992</a></p>\n<pre><code>sudo ln -s $GUROBI_HOME/lib/libgurobi100.so /usr/lib\nsudo ln -s $GUROBI_HOME/lib/libGurobiJni100.so /usr/lib\nsudo ldconfig\n</code></pre>\n"}],"owner":{"account_id":15516107,"reputation":275,"user_id":13061992,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75334726,"answer_count":1,"score":0,"last_activity_date":1675421822,"creation_date":1675412467,"question_id":75333120,"body_markdown":"I am trying to install the Gurobi software with its java interface. I have added the following lines to my `.bashrc` file:\r\n\r\n```\r\nexport GUROBI_HOME=&quot;/opt/gurobi1001/linux64&quot;\r\nexport PATH=&quot;${PATH}:${GUROBI_HOME}/bin&quot;\r\nexport LD_LIBRARY_PATH=&quot;${GUROBI_HOME}/lib&quot;\r\n```\r\nThis was requested in the installation document. Moreover, this library has a lot of test codes we can run, so I ran them by going to their directory and executing `make run_java` and everything executed with no problems at all. Then, I tried installing an IDE (tried Intellij and now I am using Eclipse) but I keep getting the following:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /home/faisal/gurobi1001/linux64/lib/libGurobiJni100.so: libgurobi100.so: cannot open shared object file: No such file or directory\r\n\tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n\tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:287)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2422)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\tat gurobi.GurobiJni.&lt;clinit&gt;(GurobiJni.java:297)\r\n\tat gurobi.GRBEnv.&lt;init&gt;(GRBEnv.java:108)\r\n\tat test.Mip1.main(Mip1.java:20)\r\n\r\n```\r\n\r\nThis is the same copied code as one of the test files that I ran in the terminal. Error was a bit different but I did the following: went to build path configuration and added the external jar files in the classpath (since I do not have a module-info file, I tried adding it under the module path regardless and it did not work) and added a native library location under `gurobi.jar`. Most solutions I have found to this error consists of doing this. I do not think there is a problem with my `.bashrc` file since I managed to execute the code in the terminal. The output of `java --version` is the following:\r\n```\r\nopenjdk 17.0.5 2022-10-18\r\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu122.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu122.04, mixed mode, sharing)\r\n```\r\nand the IDE automatically detects `JavaSE-17` so this seems fine as well.\r\n\r\nMoreover I do not mind switching again to Intellij if anyone has a solution there. Any help would be appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9qUFx.png","title":"Java unsatisfied link error in IDE but execution is seamless in terminal","body":"<p>I am trying to install the Gurobi software with its java interface. I have added the following lines to my <code>.bashrc</code> file:</p>\n<pre><code>export GUROBI_HOME=&quot;/opt/gurobi1001/linux64&quot;\nexport PATH=&quot;${PATH}:${GUROBI_HOME}/bin&quot;\nexport LD_LIBRARY_PATH=&quot;${GUROBI_HOME}/lib&quot;\n</code></pre>\n<p>This was requested in the installation document. Moreover, this library has a lot of test codes we can run, so I ran them by going to their directory and executing <code>make run_java</code> and everything executed with no problems at all. Then, I tried installing an IDE (tried Intellij and now I am using Eclipse) but I keep getting the following:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: /home/faisal/gurobi1001/linux64/lib/libGurobiJni100.so: libgurobi100.so: cannot open shared object file: No such file or directory\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n    at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:287)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2422)\n    at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n    at java.base/java.lang.System.loadLibrary(System.java:1989)\n    at gurobi.GurobiJni.&lt;clinit&gt;(GurobiJni.java:297)\n    at gurobi.GRBEnv.&lt;init&gt;(GRBEnv.java:108)\n    at test.Mip1.main(Mip1.java:20)\n\n</code></pre>\n<p>This is the same copied code as one of the test files that I ran in the terminal. Error was a bit different but I did the following: went to build path configuration and added the external jar files in the classpath (since I do not have a module-info file, I tried adding it under the module path regardless and it did not work) and added a native library location under <code>gurobi.jar</code>. Most solutions I have found to this error consists of doing this. I do not think there is a problem with my <code>.bashrc</code> file since I managed to execute the code in the terminal. The output of <code>java --version</code> is the following:</p>\n<pre><code>openjdk 17.0.5 2022-10-18\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu122.04)\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu122.04, mixed mode, sharing)\n</code></pre>\n<p>and the IDE automatically detects <code>JavaSE-17</code> so this seems fine as well.</p>\n<p>Moreover I do not mind switching again to Intellij if anyone has a solution there. Any help would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/9qUFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qUFx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","hibernate","stripe-payments"],"comments":[{"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"score":0,"creation_date":1675418464,"post_id":75334018,"comment_id":132929137,"body_markdown":"Could you please give more details about this exception? what code is generating this exception with a complete Stacktrace? What Stripe API are you calling?","body":"Could you please give more details about this exception? what code is generating this exception with a complete Stacktrace? What Stripe API are you calling?"},{"owner":{"account_id":27693269,"reputation":21,"user_id":21139528,"display_name":"Manoj Tiwari"},"score":0,"creation_date":1675418860,"post_id":75334018,"comment_id":132929281,"body_markdown":"@os4m37 now I have shared all the required information","body":"@os4m37 now I have shared all the required information"},{"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"score":0,"creation_date":1675424691,"post_id":75334018,"comment_id":132931022,"body_markdown":"Thanks for sharing, you need to upgrade your Stripe SDK if you want to use newer Java version. Try this Stripe version 22.7.0. You may need to update some of your implementations.","body":"Thanks for sharing, you need to upgrade your Stripe SDK if you want to use newer Java version. Try this Stripe version 22.7.0. You may need to update some of your implementations."},{"owner":{"account_id":27693269,"reputation":21,"user_id":21139528,"display_name":"Manoj Tiwari"},"score":0,"creation_date":1675424915,"post_id":75334018,"comment_id":132931075,"body_markdown":"I have tried but nothing is working i am getting same exception","body":"I have tried but nothing is working i am getting same exception"},{"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"score":0,"creation_date":1675424990,"post_id":75334018,"comment_id":132931098,"body_markdown":"I managed to reproduce the issue using your code, with Java 11. But when upgrading to com.stripe:stripe-java:22.7.0 with Java 17 the issue is resolved","body":"I managed to reproduce the issue using your code, with Java 11. But when upgrading to com.stripe:stripe-java:22.7.0 with Java 17 the issue is resolved"},{"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"score":0,"creation_date":1675425124,"post_id":75334018,"comment_id":132931138,"body_markdown":"Or at least version com.stripe:stripe-java:20.91.0 which is tested on both Java 16 and 17\nhttps://github.com/stripe/stripe-java/blob/master/CHANGELOG.md#20910---2021-12-09","body":"Or at least version com.stripe:stripe-java:20.91.0 which is tested on both Java 16 and 17 <a href=\"https://github.com/stripe/stripe-java/blob/master/CHANGELOG.md#20910---2021-12-09\" rel=\"nofollow noreferrer\">github.com/stripe/stripe-java/blob/master/&hellip;</a>"}],"owner":{"account_id":27693269,"reputation":21,"user_id":21139528,"display_name":"Manoj Tiwari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675421797,"creation_date":1675417882,"question_id":75334018,"body_markdown":"I am getting an exception while creating a session with Stripe. \r\n\r\nThe create method returns the following exception:\r\n \r\n\r\n    Failed making field &#39;java.net.Proxy#type&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n```\r\npublic Session createSession(Long scheduleId, CardPaymentDetailDto paymentSessionDto) {\r\n\t\tList&lt;String&gt; elements = new ArrayList&lt;&gt;();\r\n\t\telements.add(paymentSessionDto.getTourImage());\r\n\t\ttry {\r\n\t\t\tSessionCreateParams params =\r\n\t\t\t\t\tSessionCreateParams.builder()\r\n\t\t\t\t\t\t\t.addPaymentMethodType(SessionCreateParams.PaymentMethodType.CARD)\r\n\t\t\t\t\t\t\t.addLineItem(\r\n\t\t\t\t\t\t\t\t\tSessionCreateParams.LineItem.builder()\r\n\t\t\t\t\t\t\t\t\t\t\t.setName(paymentSessionDto.getTourName())\r\n\t\t\t\t\t\t\t\t\t\t\t.setDescription(paymentSessionDto.getTourDesc())\r\n\t\t\t\t\t\t\t\t\t\t\t.setAmount((long) (paymentSessionDto.getAmount() * 100))\r\n\t\t\t\t\t\t\t\t\t\t\t.setCurrency(paymentSessionDto.getCurrency())\r\n\t\t\t\t\t\t\t\t\t\t\t.addAllImage(elements)\r\n\t\t\t\t\t\t\t\t\t\t\t.setQuantity(1L)\r\n\t\t\t\t\t\t\t\t\t\t\t.build())\r\n\t\t\t\t\t\t\t.setSuccessUrl(GlobalValues.CEHCKOUT_WEB_PORTAL + &quot;checkout/success?session_id={CHECKOUT_SESSION_ID}&quot; + &quot;&amp;schedule_id=&quot; + scheduleId + &quot;&amp;group_id=&quot; + paymentSessionDto.getTourPaymentDetail().getGroupId())\r\n\t\t\t\t\t\t\t.setCancelUrl(GlobalValues.CEHCKOUT_WEB_PORTAL + &quot;checkout/cancel?tourId=&quot; + paymentSessionDto.getTourPaymentDetail().getTourId())\r\n\t\t\t\t\t\t\t.setCustomerEmail(paymentSessionDto.getOwnerEmail())\r\n\t\t\t\t\t\t\t//.setCustomer(&quot;cus_HGaPmKuUCOYWrj&quot;)\r\n\t\t\t\t\t\t\t.build();\r\n\t\t\tSession session =Session.create(params);// this line throw exception\r\n\t\t\treturn session;\r\n\t\t} catch (StripeException ex) {\r\n\t\t\tlogger.error(ex.getMessage(), ex);\r\n\t\t\treturn null;\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.error(ex.getMessage(), ex);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThe `session.create` method throws the above mentioned exception in Java 17, but works fine in Java 11.\r\n\r\nHere is the complete stacktrace: \r\n\r\n```\r\n2023-02-03T15:13:30.051+05:30 ERROR 27388 --- [nio-8888-exec-3] com.experience.config.StripeClient       : Failed making field &#39;java.net.Proxy#type&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n\r\ncom.google.gson.JsonIOException: Failed making field &#39;java.net.Proxy#type&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\r\n\tat com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:287) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\r\n\tat com.stripe.model.PaymentSourceTypeAdapterFactory.create(PaymentSourceTypeAdapterFactory.java:31) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\r\n\tat com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:34) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\r\n\tat com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:34) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\r\n\tat com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:32) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.fromJson(Gson.java:1213) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.fromJson(Gson.java:1319) ~[gson-2.10.jar:na]\r\n\tat com.google.gson.Gson.fromJson(Gson.java:1261) ~[gson-2.10.jar:na]\r\n\tat com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:133) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:61) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.stripe.net.ApiResource.request(ApiResource.java:179) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.stripe.model.checkout.Session.create(Session.java:348) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.stripe.model.checkout.Session.create(Session.java:341) ~[stripe-java-20.26.0.jar:20.26.0]\r\n\tat com.experience.config.StripeClient.createNewSession(StripeClient.java:359) ~[classes/:na]\r\n\tat com.experience.controller.TransactionController.saveFirstPaymentDetailAndSession(TransactionController.java:179) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:913) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547) ~[jakarta.servlet-api-6.0.0.jar:6.0.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614) ~[jakarta.servlet-api-6.0.0.jar:6.0.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat com.experience.security.jwt.JWTFilter.doFilter(JWTFilter.java:36) ~[classes/:na]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.net.Proxy$Type java.net.Proxy.type accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @44bc069d\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\r\n\tat com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35) ~[gson-2.10.jar:na]\r\n\t... 167 common frames omitted\r\n\r\n```","title":"I am getting exception while creating session with stripe in java 17 and in 11 version it is working fine","body":"<p>I am getting an exception while creating a session with Stripe.</p>\n<p>The create method returns the following exception:</p>\n<pre><code>Failed making field 'java.net.Proxy#type' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n</code></pre>\n<pre><code>public Session createSession(Long scheduleId, CardPaymentDetailDto paymentSessionDto) {\n        List&lt;String&gt; elements = new ArrayList&lt;&gt;();\n        elements.add(paymentSessionDto.getTourImage());\n        try {\n            SessionCreateParams params =\n                    SessionCreateParams.builder()\n                            .addPaymentMethodType(SessionCreateParams.PaymentMethodType.CARD)\n                            .addLineItem(\n                                    SessionCreateParams.LineItem.builder()\n                                            .setName(paymentSessionDto.getTourName())\n                                            .setDescription(paymentSessionDto.getTourDesc())\n                                            .setAmount((long) (paymentSessionDto.getAmount() * 100))\n                                            .setCurrency(paymentSessionDto.getCurrency())\n                                            .addAllImage(elements)\n                                            .setQuantity(1L)\n                                            .build())\n                            .setSuccessUrl(GlobalValues.CEHCKOUT_WEB_PORTAL + &quot;checkout/success?session_id={CHECKOUT_SESSION_ID}&quot; + &quot;&amp;schedule_id=&quot; + scheduleId + &quot;&amp;group_id=&quot; + paymentSessionDto.getTourPaymentDetail().getGroupId())\n                            .setCancelUrl(GlobalValues.CEHCKOUT_WEB_PORTAL + &quot;checkout/cancel?tourId=&quot; + paymentSessionDto.getTourPaymentDetail().getTourId())\n                            .setCustomerEmail(paymentSessionDto.getOwnerEmail())\n                            //.setCustomer(&quot;cus_HGaPmKuUCOYWrj&quot;)\n                            .build();\n            Session session =Session.create(params);// this line throw exception\n            return session;\n        } catch (StripeException ex) {\n            logger.error(ex.getMessage(), ex);\n            return null;\n        } catch (Exception ex) {\n            logger.error(ex.getMessage(), ex);\n            return null;\n        }\n    }\n</code></pre>\n<p>The <code>session.create</code> method throws the above mentioned exception in Java 17, but works fine in Java 11.</p>\n<p>Here is the complete stacktrace:</p>\n<pre><code>2023-02-03T15:13:30.051+05:30 ERROR 27388 --- [nio-8888-exec-3] com.experience.config.StripeClient       : Failed making field 'java.net.Proxy#type' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n\ncom.google.gson.JsonIOException: Failed making field 'java.net.Proxy#type' accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.\n    at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:38) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:287) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\n    at com.stripe.model.PaymentSourceTypeAdapterFactory.create(PaymentSourceTypeAdapterFactory.java:31) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\n    at com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:34) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\n    at com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:34) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getDelegateAdapter(Gson.java:635) ~[gson-2.10.jar:na]\n    at com.stripe.model.BalanceTransactionSourceTypeAdapterFactory.create(BalanceTransactionSourceTypeAdapterFactory.java:32) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory.create(CollectionTypeAdapterFactory.java:53) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:160) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:295) ~[gson-2.10.jar:na]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:130) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.getAdapter(Gson.java:546) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.fromJson(Gson.java:1213) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.fromJson(Gson.java:1319) ~[gson-2.10.jar:na]\n    at com.google.gson.Gson.fromJson(Gson.java:1261) ~[gson-2.10.jar:na]\n    at com.stripe.net.LiveStripeResponseGetter.handleApiError(LiveStripeResponseGetter.java:133) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:61) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.stripe.net.ApiResource.request(ApiResource.java:179) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.stripe.model.checkout.Session.create(Session.java:348) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.stripe.model.checkout.Session.create(Session.java:341) ~[stripe-java-20.26.0.jar:20.26.0]\n    at com.experience.config.StripeClient.createNewSession(StripeClient.java:359) ~[classes/:na]\n    at com.experience.controller.TransactionController.saveFirstPaymentDetailAndSession(TransactionController.java:179) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:913) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:547) ~[jakarta.servlet-api-6.0.0.jar:6.0.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614) ~[jakarta.servlet-api-6.0.0.jar:6.0.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at com.experience.security.jwt.JWTFilter.doFilter(JWTFilter.java:36) ~[classes/:na]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private java.net.Proxy$Type java.net.Proxy.type accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @44bc069d\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n    at com.google.gson.internal.reflect.ReflectionHelper.makeAccessible(ReflectionHelper.java:35) ~[gson-2.10.jar:na]\n    ... 167 common frames omitted\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1675436621,"post_id":75334535,"comment_id":132934747,"body_markdown":"If you don&#39;t want to use a library but to use your own authentication mechanism, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"If you don&#39;t want to use a library but to use your own authentication mechanism, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675421669,"creation_date":1675421669,"answer_id":75334693,"question_id":75334535,"body_markdown":"Since you&#39;re calling:\r\n\r\n    new AuthUI.IdpConfig.GoogleBuilder().build()\r\n\r\nIt means that you want to enable Firebase sign-in with Google, which indeed [requires the Google Play services library to be installed][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/auth/android/google-signin#before_you_begin","title":"Firebase Auth UI not working on Windows Subsystem for Android","body":"<p>Since you're calling:</p>\n<pre><code>new AuthUI.IdpConfig.GoogleBuilder().build()\n</code></pre>\n<p>It means that you want to enable Firebase sign-in with Google, which indeed <a href=\"https://firebase.google.com/docs/auth/android/google-signin#before_you_begin\" rel=\"nofollow noreferrer\">requires the Google Play services library to be installed</a>.</p>\n"}],"owner":{"account_id":1170060,"reputation":1032,"user_id":1147447,"display_name":"Alex Busuioc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75334693,"answer_count":1,"score":1,"last_activity_date":1675421739,"creation_date":1675420892,"question_id":75334535,"body_markdown":"I&#39;m trying to run my app on Windows Subsystem for an Android emulator. Everything works fine except for the authentication.\r\n\r\nLibraries used:\r\n\r\n    &#39;com.firebaseui:firebase-ui-auth:8.0.2&#39;\r\n    &#39;com.google.firebase:firebase-bom:31.2.0&#39;\r\n\r\nMy code:\r\n\r\n        activity.startActivityForResult(\r\n                AuthUI.getInstance()\r\n                        .createSignInIntentBuilder()\r\n                        .setAvailableProviders(Arrays.asList(\r\n                                new AuthUI.IdpConfig.EmailBuilder().build(),\r\n                                new AuthUI.IdpConfig.GoogleBuilder().build()\r\n                        ))\r\n                        .setTosAndPrivacyPolicyUrls(activity.getString(R.string.terms_and_conditions_url)\r\n                                ,activity.getString(R.string.privacy_policy_url))\r\n                        .setLogo(R.drawable.app_icon_512)\r\n                        .setIsSmartLockEnabled(false)\r\n                        .build(),\r\n                C.CODE_AUTH_REQUEST);\r\n\r\n\r\nIt won&#39;t start the authentication activity, and I&#39;m getting the following errors:\r\n\r\n&gt; [package name] requires the Google Play Store, but it is missing.\r\n \r\n&gt; The service for com.google.android.gms.internal.auth-api.zbo is not\r\n&gt; available: ConnectionResult{statusCode=SERVICE_INVALID,\r\n&gt; resolution=null, message=null}\r\n\r\n\r\nI suppose this happens because Google Play Services is not installed on the Windows Emulator.\r\n\r\nHowever, from the Firebase docs, we can see that Google Play Services is not mandatory for Auth or other services.\r\n[https://firebase.google.com/docs/android/android-play-services#play-services-required-summary][1]\r\n\r\n\r\n**Has anyone run into the same problem?**\r\n\r\n  [1]: https://firebase.google.com/docs/android/android-play-services#play-services-required-summary","title":"Firebase Auth UI not working on Windows Subsystem for Android","body":"<p>I'm trying to run my app on Windows Subsystem for an Android emulator. Everything works fine except for the authentication.</p>\n<p>Libraries used:</p>\n<pre><code>'com.firebaseui:firebase-ui-auth:8.0.2'\n'com.google.firebase:firebase-bom:31.2.0'\n</code></pre>\n<p>My code:</p>\n<pre><code>    activity.startActivityForResult(\n            AuthUI.getInstance()\n                    .createSignInIntentBuilder()\n                    .setAvailableProviders(Arrays.asList(\n                            new AuthUI.IdpConfig.EmailBuilder().build(),\n                            new AuthUI.IdpConfig.GoogleBuilder().build()\n                    ))\n                    .setTosAndPrivacyPolicyUrls(activity.getString(R.string.terms_and_conditions_url)\n                            ,activity.getString(R.string.privacy_policy_url))\n                    .setLogo(R.drawable.app_icon_512)\n                    .setIsSmartLockEnabled(false)\n                    .build(),\n            C.CODE_AUTH_REQUEST);\n</code></pre>\n<p>It won't start the authentication activity, and I'm getting the following errors:</p>\n<blockquote>\n<p>[package name] requires the Google Play Store, but it is missing.</p>\n</blockquote>\n<blockquote>\n<p>The service for com.google.android.gms.internal.auth-api.zbo is not\navailable: ConnectionResult{statusCode=SERVICE_INVALID,\nresolution=null, message=null}</p>\n</blockquote>\n<p>I suppose this happens because Google Play Services is not installed on the Windows Emulator.</p>\n<p>However, from the Firebase docs, we can see that Google Play Services is not mandatory for Auth or other services.\n<a href=\"https://firebase.google.com/docs/android/android-play-services#play-services-required-summary\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/android/android-play-services#play-services-required-summary</a></p>\n<p><strong>Has anyone run into the same problem?</strong></p>\n"},{"tags":["java","list","arraylist","java-stream"],"answers":[{"tags":[],"owner":{"account_id":10215964,"reputation":133,"user_id":7541656,"display_name":"Gaurav Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419817,"creation_date":1675419817,"answer_id":75334352,"question_id":75334145,"body_markdown":"you can use static variable which will always keep increasing , and you can assign that to your order number.\r\n\r\nor better if you are saving your order into Db , then **initilize a sequence** in Db .\r\n\r\n\tpublic class Test {\r\n\r\n\t\tprivate static int orderNo =1;\r\n        public static void main(String args[])\r\n        {\r\n             createOrder(&quot;Andrew&quot;,52);\r\n             createOrder(&quot;James&quot;,34);\r\n             createOrder(&quot;Jemas&quot;,28);\r\n             createOrder(&quot;Maria&quot;,19);\r\n        }\r\n\r\n        public void createOrder(String name , int age)\r\n        {\r\n            Order order = new Order(name , age , orderNo);\r\n            orderNo++;\r\n            System.out.print(order);\r\n        }\r\n\r\n\t}","title":"Filling a list field with sequential numbers without for loop in Java","body":"<p>you can use static variable which will always keep increasing , and you can assign that to your order number.</p>\n<p>or better if you are saving your order into Db , then <strong>initilize a sequence</strong> in Db .</p>\n<pre><code>public class Test {\n\n    private static int orderNo =1;\n    public static void main(String args[])\n    {\n         createOrder(&quot;Andrew&quot;,52);\n         createOrder(&quot;James&quot;,34);\n         createOrder(&quot;Jemas&quot;,28);\n         createOrder(&quot;Maria&quot;,19);\n    }\n\n    public void createOrder(String name , int age)\n    {\n        Order order = new Order(name , age , orderNo);\n        orderNo++;\n        System.out.print(order);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25323041,"reputation":11,"user_id":19144064,"display_name":"David Anton Alvarez"},"score":1,"creation_date":1675424616,"post_id":75334368,"comment_id":132931005,"body_markdown":"That&#39;s exactly what I was looking for. It&#39;s working fine in my real code.\nThank you very much!","body":"That&#39;s exactly what I was looking for. It&#39;s working fine in my real code. Thank you very much!"}],"tags":[],"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419920,"creation_date":1675419920,"answer_id":75334368,"question_id":75334145,"body_markdown":"Try IntStream.range from Java 8 Stream API.\r\n\r\n    IntStream.range(0, personList.size())\r\n     .forEach(i -&gt; personList.get(i).setOrden(i));","title":"Filling a list field with sequential numbers without for loop in Java","body":"<p>Try IntStream.range from Java 8 Stream API.</p>\n<pre><code>IntStream.range(0, personList.size())\n .forEach(i -&gt; personList.get(i).setOrden(i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675421710,"creation_date":1675421710,"answer_id":75334703,"question_id":75334145,"body_markdown":"You don&#39;t need Stream API for that, for-each loop is enough\r\n\r\n```java\r\nint index = 1;\r\nfor(Person p : personList) {\r\n    p.setOrder(index++);\r\n}\r\n```","title":"Filling a list field with sequential numbers without for loop in Java","body":"<p>You don't need Stream API for that, for-each loop is enough</p>\n<pre class=\"lang-java prettyprint-override\"><code>int index = 1;\nfor(Person p : personList) {\n    p.setOrder(index++);\n}\n</code></pre>\n"}],"owner":{"account_id":25323041,"reputation":11,"user_id":19144064,"display_name":"David Anton Alvarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675421710,"creation_date":1675418715,"question_id":75334145,"body_markdown":"Imagine I have a simple Person object with three fields: name (string), age (string) and order (int).\r\n\r\nThen, I create a list of Person object (List&lt;Person&gt; personList), ordered by name and age (descending in my case), but with the order field initialized only, that looks like this:\r\n\r\n&quot;Andrew&quot;,&quot;52&quot;,0\r\n&quot;James&quot;,&quot;34&quot;,0\r\n&quot;James&quot;,&quot;28&quot;,0\r\n&quot;Maria&quot;,&quot;19&quot;,0\r\n\r\nMi goal is to fill the order field with a sequential number that shows the order in the list, something like this:\r\n\r\n&quot;August&quot;,&quot;52&quot;,1\r\n&quot;James&quot;,&quot;34&quot;,2\r\n&quot;James&quot;,&quot;28&quot;,3\r\n&quot;Maria&quot;,&quot;19&quot;,4\r\n\r\n\r\n\r\nI achieved this using a simple For loop\r\n\r\n`for(int i=0;i&lt;personList.size();i++) {\r\n\tpersonList.get(i).setOrden(i+1);\r\n}`\r\n\r\nIs there any cleaner / more efficient way to do this?\r\n\r\nThank you.\r\nRegards.","title":"Filling a list field with sequential numbers without for loop in Java","body":"<p>Imagine I have a simple Person object with three fields: name (string), age (string) and order (int).</p>\n<p>Then, I create a list of Person object (List personList), ordered by name and age (descending in my case), but with the order field initialized only, that looks like this:</p>\n<p>&quot;Andrew&quot;,&quot;52&quot;,0\n&quot;James&quot;,&quot;34&quot;,0\n&quot;James&quot;,&quot;28&quot;,0\n&quot;Maria&quot;,&quot;19&quot;,0</p>\n<p>Mi goal is to fill the order field with a sequential number that shows the order in the list, something like this:</p>\n<p>&quot;August&quot;,&quot;52&quot;,1\n&quot;James&quot;,&quot;34&quot;,2\n&quot;James&quot;,&quot;28&quot;,3\n&quot;Maria&quot;,&quot;19&quot;,4</p>\n<p>I achieved this using a simple For loop</p>\n<p><code>for(int i=0;i&lt;personList.size();i++) { personList.get(i).setOrden(i+1); }</code></p>\n<p>Is there any cleaner / more efficient way to do this?</p>\n<p>Thank you.\nRegards.</p>\n"},{"tags":["java","json","moshi"],"answers":[{"comments":[{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1675442405,"post_id":75334675,"comment_id":132936776,"body_markdown":"Ah, yes. Parameterized types can be tricky. Maybe Moshi should fail with an error message when it receives a Map&lt;Type, Type, Type&gt; or similar by accident. Glad you got it working.","body":"Ah, yes. Parameterized types can be tricky. Maybe Moshi should fail with an error message when it receives a Map&lt;Type, Type, Type&gt; or similar by accident. Glad you got it working."}],"tags":[],"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675421599,"creation_date":1675421599,"answer_id":75334675,"question_id":75325675,"body_markdown":"It seems that to deserialize nested collections we have to pass nested parametrized types to the adapter. After changing this\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\r\n```\r\nto this\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, Types.newParameterizedType(List.class, baseType));\r\n```\r\nI now have a working solution - I get a `Map` with `List&lt;SomeClass&gt;` values not `LinkedHashTreeMap`s.","title":"Moshi can&#39;t deserialize Map with List of values, returns LinkedHashTreeMap instead of value&#39;s class instance","body":"<p>It seems that to deserialize nested collections we have to pass nested parametrized types to the adapter. After changing this</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\n</code></pre>\n<p>to this</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, Types.newParameterizedType(List.class, baseType));\n</code></pre>\n<p>I now have a working solution - I get a <code>Map</code> with <code>List&lt;SomeClass&gt;</code> values not <code>LinkedHashTreeMap</code>s.</p>\n"}],"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75334675,"answer_count":1,"score":2,"last_activity_date":1675421599,"creation_date":1675353039,"question_id":75325675,"body_markdown":"Can&#39;t deserialize json to this structure: `Map&lt;String, List&lt;SomeClass&gt;&gt;`\r\n\r\nI can deserialize to `Map&lt;String, SomeClass&gt;` like this:\r\n\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, SomeClass.class);\r\nJsonAdapter&lt;Map&lt;String, SomeClass&gt;&gt; adapter = moshi.adapter(type);\r\n```\r\nBut when there are two collections nested, for example, `Map&lt;String, List&lt;SomeClass&gt;&gt;`, the next code\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, SomeClass.class);\r\nJsonAdapter&lt;Map&lt;String, List&lt;SomeClass&gt;&gt;&gt; adapter = moshi.adapter(type);\r\n```\r\nreturns `Map&lt;String, List&lt;LinkedHashTreeMap&gt;&gt;`, `LinkedHashTreeMap` has properties of `SomeClass` as keys and their values as values, and `&quot;type&quot;=&quot;SomeClass&quot;`.\r\n\r\nHow can I solve this, so that deserialization runs okay, as in the first example?","title":"Moshi can&#39;t deserialize Map with List of values, returns LinkedHashTreeMap instead of value&#39;s class instance","body":"<p>Can't deserialize json to this structure: <code>Map&lt;String, List&lt;SomeClass&gt;&gt;</code></p>\n<p>I can deserialize to <code>Map&lt;String, SomeClass&gt;</code> like this:</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, SomeClass.class);\nJsonAdapter&lt;Map&lt;String, SomeClass&gt;&gt; adapter = moshi.adapter(type);\n</code></pre>\n<p>But when there are two collections nested, for example, <code>Map&lt;String, List&lt;SomeClass&gt;&gt;</code>, the next code</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, SomeClass.class);\nJsonAdapter&lt;Map&lt;String, List&lt;SomeClass&gt;&gt;&gt; adapter = moshi.adapter(type);\n</code></pre>\n<p>returns <code>Map&lt;String, List&lt;LinkedHashTreeMap&gt;&gt;</code>, <code>LinkedHashTreeMap</code> has properties of <code>SomeClass</code> as keys and their values as values, and <code>&quot;type&quot;=&quot;SomeClass&quot;</code>.</p>\n<p>How can I solve this, so that deserialization runs okay, as in the first example?</p>\n"},{"tags":["java","android","kotlin","android-audiomanager","mediacontroller"],"owner":{"account_id":27693725,"reputation":1,"user_id":21139890,"display_name":"jerale1626"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675421561,"creation_date":1675421487,"question_id":75334645,"body_markdown":"Following this demo: https://github.com/googlesamples/android-media-controller\r\n\r\nI have this \r\n\r\n\r\n        if (playbackState == null) {\r\n            Log.e(TAG, &quot;Failed to update media info, null PlaybackState.&quot;);\r\n            return null;\r\n        }\r\n\r\n        Map&lt;String, String&gt; mediaInfos = new HashMap&lt;&gt;();\r\n        mediaInfos.put(getString(R.string.info_state_string),\r\n                playbackStateToName(playbackState.getState()));\r\n\r\n        MediaMetadataCompat mediaMetadata = mController.getMetadata();\r\n        if (mediaMetadata != null) {\r\n            addMediaInfo(\r\n                    mediaInfos,\r\n                    getString(R.string.info_title_string),\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_TITLE));\r\n            addMediaInfo(\r\n                    mediaInfos,\r\n                    getString(R.string.info_artist_string),\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ARTIST));\r\n            addMediaInfo(\r\n                    mediaInfos,\r\n                    getString(R.string.info_album_string),\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ALBUM));\r\n\r\n            binding.controlsPage.mediaTitle.setText(\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_TITLE));\r\n            binding.controlsPage.mediaArtist.setText(\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ARTIST));\r\n            binding.controlsPage.mediaAlbum.setText(\r\n                    mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ALBUM));\r\n\r\n            final Bitmap art = mediaMetadata.getBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART);\r\n            if (art != null) {\r\n                binding.controlsPage.mediaArt.setImageBitmap(art);\r\n            } else {\r\n                binding.controlsPage.mediaArt.setImageResource(R.drawable.ic_album_black_24dp);\r\n            }\r\n            // Prefer user rating, but fall back to global rating if available.\r\n            RatingCompat rating =\r\n                    mediaMetadata.getRating(MediaMetadataCompat.METADATA_KEY_USER_RATING);\r\n            if (rating == null) {\r\n                rating = mediaMetadata.getRating(MediaMetadataCompat.METADATA_KEY_RATING);\r\n            }\r\n            mRatingUiHelper.setRating(rating);\r\n        } else {\r\n            binding.controlsPage.mediaArtist.setText(R.string.media_info_default);\r\n            binding.controlsPage.mediaArt.setImageResource(R.drawable.ic_album_black_24dp);\r\n            mRatingUiHelper.setRating(null);\r\n        }\r\n\r\n        final long actions = playbackState.getActions();\r\n\r\n\r\n`\r\n\r\nI&#39;m interested in getting the current pitch and changing it to the one I want.\r\n\r\n\r\n\r\n\r\n\r\nI can see this api here https://developer.android.com/reference/androidx/media3/session/MediaController#setPlaybackParameters(androidx.media3.common.PlaybackParameters) does what I want, but it&#39;s only for the MediaController, not for the MediaControllerCompat.\r\n\r\nI tried doing `mController.getMediaController()`\r\nhttps://developer.android.com/reference/kotlin/android/support/v4/media/session/MediaControllerCompat#getMediaController() with no changes at all.\r\n\r\nAny ideas?","title":"use setPlaybackParameters in MediaControllerCompat","body":"<p>Following this demo: <a href=\"https://github.com/googlesamples/android-media-controller\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-media-controller</a></p>\n<p>I have this</p>\n<pre><code>    if (playbackState == null) {\n        Log.e(TAG, &quot;Failed to update media info, null PlaybackState.&quot;);\n        return null;\n    }\n\n    Map&lt;String, String&gt; mediaInfos = new HashMap&lt;&gt;();\n    mediaInfos.put(getString(R.string.info_state_string),\n            playbackStateToName(playbackState.getState()));\n\n    MediaMetadataCompat mediaMetadata = mController.getMetadata();\n    if (mediaMetadata != null) {\n        addMediaInfo(\n                mediaInfos,\n                getString(R.string.info_title_string),\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_TITLE));\n        addMediaInfo(\n                mediaInfos,\n                getString(R.string.info_artist_string),\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ARTIST));\n        addMediaInfo(\n                mediaInfos,\n                getString(R.string.info_album_string),\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ALBUM));\n\n        binding.controlsPage.mediaTitle.setText(\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_TITLE));\n        binding.controlsPage.mediaArtist.setText(\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ARTIST));\n        binding.controlsPage.mediaAlbum.setText(\n                mediaMetadata.getString(MediaMetadataCompat.METADATA_KEY_ALBUM));\n\n        final Bitmap art = mediaMetadata.getBitmap(MediaMetadataCompat.METADATA_KEY_ALBUM_ART);\n        if (art != null) {\n            binding.controlsPage.mediaArt.setImageBitmap(art);\n        } else {\n            binding.controlsPage.mediaArt.setImageResource(R.drawable.ic_album_black_24dp);\n        }\n        // Prefer user rating, but fall back to global rating if available.\n        RatingCompat rating =\n                mediaMetadata.getRating(MediaMetadataCompat.METADATA_KEY_USER_RATING);\n        if (rating == null) {\n            rating = mediaMetadata.getRating(MediaMetadataCompat.METADATA_KEY_RATING);\n        }\n        mRatingUiHelper.setRating(rating);\n    } else {\n        binding.controlsPage.mediaArtist.setText(R.string.media_info_default);\n        binding.controlsPage.mediaArt.setImageResource(R.drawable.ic_album_black_24dp);\n        mRatingUiHelper.setRating(null);\n    }\n\n    final long actions = playbackState.getActions();\n</code></pre>\n<p>`</p>\n<p>I'm interested in getting the current pitch and changing it to the one I want.</p>\n<p>I can see this api here <a href=\"https://developer.android.com/reference/androidx/media3/session/MediaController#setPlaybackParameters(androidx.media3.common.PlaybackParameters)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/media3/session/MediaController#setPlaybackParameters(androidx.media3.common.PlaybackParameters)</a> does what I want, but it's only for the MediaController, not for the MediaControllerCompat.</p>\n<p>I tried doing <code>mController.getMediaController()</code>\n<a href=\"https://developer.android.com/reference/kotlin/android/support/v4/media/session/MediaControllerCompat#getMediaController()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/android/support/v4/media/session/MediaControllerCompat#getMediaController()</a> with no changes at all.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","eclipse","maven","meta-inf","serviceloader"],"answers":[{"comments":[{"owner":{"account_id":10147137,"reputation":109,"user_id":7494942,"accept_rate":30,"display_name":"Armin Beda"},"score":0,"creation_date":1496510688,"post_id":44345907,"comment_id":75696007,"body_markdown":"there is only one base type in there. but I have tried it that way:\n@MetaInfServices(JmjrstPlugin.class)\npublic class HelloWorldPlugin extends JmjrstPlugin{ ... }\n\nstill now success","body":"there is only one base type in there. but I have tried it that way: @MetaInfServices(JmjrstPlugin.class) public class HelloWorldPlugin extends JmjrstPlugin{ ... }  still now success"},{"owner":{"account_id":7029379,"reputation":368,"user_id":5385671,"accept_rate":65,"display_name":"njoye"},"score":0,"creation_date":1527510717,"post_id":44345907,"comment_id":88143052,"body_markdown":"@ArminBeda I have the exact same problem (also the exact same task as you had... #kit) - did you find a solution ?","body":"@ArminBeda I have the exact same problem (also the exact same task as you had... #kit) - did you find a solution ?"}],"tags":[],"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496505893,"creation_date":1496505893,"answer_id":44345907,"question_id":44345359,"body_markdown":"From the code snippet of your class `HelloWorldPlugin` it is not clear which interface is &#39;the contract&#39;. And in the link that you gave:\r\n\r\n&gt; If you have multiple interfaces and/or base type, the library cannot infer the contract type. In such a case, specify the contract type explicitly by giving it to @MetaInfServices ..\r\n\r\nSo first of all you have to be sure which contract you wish to fulfill and if the parent class(es) implement several then you&#39;ll need to explicitly state which one in the `@MetaInfServices` annotation.\r\n\r\nThat&#39;s the first thing to check I think.\r\n\r\n","title":"ServiceLoader and META-INF/services generator between different modules in maven?","body":"<p>From the code snippet of your class <code>HelloWorldPlugin</code> it is not clear which interface is 'the contract'. And in the link that you gave:</p>\n\n<blockquote>\n  <p>If you have multiple interfaces and/or base type, the library cannot infer the contract type. In such a case, specify the contract type explicitly by giving it to @MetaInfServices ..</p>\n</blockquote>\n\n<p>So first of all you have to be sure which contract you wish to fulfill and if the parent class(es) implement several then you'll need to explicitly state which one in the <code>@MetaInfServices</code> annotation.</p>\n\n<p>That's the first thing to check I think.</p>\n"}],"owner":{"account_id":10147137,"reputation":109,"user_id":7494942,"accept_rate":30,"display_name":"Armin Beda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1681,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675421307,"creation_date":1496502548,"question_id":44345359,"body_markdown":"I would like to use service ServiceLoader between diferrent modules in a maven Project. I have a parent module called iMage. In the parent module there is a module with a name jmjrst.main and it has a public abstract class called `JmjrstPlugin`.\r\n\r\nThen there is another module called prizm-plugin with the following class:\r\n\r\n    public class HelloWorldPlugin extends JmjrstPlugin{ ... }\r\n\r\nI added `jmjrst.main` as a dependency to `prizm-plugin` and vica-versa as well. \r\n\r\nIn order to use ServiceLoader I wanted to use [META-INF/services generator][1].\r\nI added the following line to the pom.xml of prizm-plugin:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.kohsuke.metainf-services&lt;/groupId&gt;\r\n      &lt;artifactId&gt;metainf-services&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1&lt;/version&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd the class HelloWorldPlugin starts like that:\r\n\r\n    @MetaInfServices(JmjrstPlugin.class) \r\n    public class HelloWorldPlugin extends JmjrstPlugin{ ... }\r\n\r\n\r\nOn the website on [META-INF/services generator][1] goes: &quot;When you use javac in JavaSE6, META-INF/services/* files are generated automatically. No additional compiler switches are necessary. This library handles incremental compilation correctly, too.&quot;\r\n\r\nAt my case nothing is generated. Can somebody help me with that? \r\n\r\n  [1]: http://metainf-services.kohsuke.org/","title":"ServiceLoader and META-INF/services generator between different modules in maven?","body":"<p>I would like to use service ServiceLoader between diferrent modules in a maven Project. I have a parent module called iMage. In the parent module there is a module with a name jmjrst.main and it has a public abstract class called <code>JmjrstPlugin</code>.</p>\n<p>Then there is another module called prizm-plugin with the following class:</p>\n<pre><code>public class HelloWorldPlugin extends JmjrstPlugin{ ... }\n</code></pre>\n<p>I added <code>jmjrst.main</code> as a dependency to <code>prizm-plugin</code> and vica-versa as well.</p>\n<p>In order to use ServiceLoader I wanted to use <a href=\"http://metainf-services.kohsuke.org/\" rel=\"nofollow noreferrer\">META-INF/services generator</a>.\nI added the following line to the pom.xml of prizm-plugin:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.kohsuke.metainf-services&lt;/groupId&gt;\n  &lt;artifactId&gt;metainf-services&lt;/artifactId&gt;\n  &lt;version&gt;1.1&lt;/version&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And the class HelloWorldPlugin starts like that:</p>\n<pre><code>@MetaInfServices(JmjrstPlugin.class) \npublic class HelloWorldPlugin extends JmjrstPlugin{ ... }\n</code></pre>\n<p>On the website on <a href=\"http://metainf-services.kohsuke.org/\" rel=\"nofollow noreferrer\">META-INF/services generator</a> goes: &quot;When you use javac in JavaSE6, META-INF/services/* files are generated automatically. No additional compiler switches are necessary. This library handles incremental compilation correctly, too.&quot;</p>\n<p>At my case nothing is generated. Can somebody help me with that?</p>\n"},{"tags":["java","package","java-package"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675358496,"post_id":75326720,"comment_id":132916852,"body_markdown":"What happens when you add `public class Competitor {}` to that file? Maybe it&#39;s just a bad error message for not having anything defined in that file? The only file that I know of that makes sense to have only a `package` statement is `package-info.java` (which is mostly used for holding JavaDoc that&#39;s relevant for the whole package).","body":"What happens when you add <code>public class Competitor {}</code> to that file? Maybe it&#39;s just a bad error message for not having anything defined in that file? The only file that I know of that makes sense to have only a <code>package</code> statement is <code>package-info.java</code> (which is mostly used for holding JavaDoc that&#39;s relevant for the whole package)."},{"owner":{"account_id":15019441,"reputation":453,"user_id":11848657,"display_name":"Ecks Dee"},"score":0,"creation_date":1675358726,"post_id":75326720,"comment_id":132916942,"body_markdown":"That doesn&#39;t do it either. This just make no sense.","body":"That doesn&#39;t do it either. This just make no sense."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675359040,"post_id":75326720,"comment_id":132917059,"body_markdown":"I don&#39;t see any other obvious problems. I assume you don&#39;t use Maven or Gradle or anything like that and just configured the project in VS code itself? Can you show us how the source folder(s) are configured? The `testing`  folder being marked as a test source root (if I interpret the icon correctly) seems a bit fishy to me, but that shouldn&#39;t break your `Competitor.java`. Do all the other .java files in your project compile fine?","body":"I don&#39;t see any other obvious problems. I assume you don&#39;t use Maven or Gradle or anything like that and just configured the project in VS code itself? Can you show us how the source folder(s) are configured? The <code>testing</code>  folder being marked as a test source root (if I interpret the icon correctly) seems a bit fishy to me, but that shouldn&#39;t break your <code>Competitor.java</code>. Do all the other .java files in your project compile fine?"},{"owner":{"account_id":15019441,"reputation":453,"user_id":11848657,"display_name":"Ecks Dee"},"score":0,"creation_date":1675359308,"post_id":75326720,"comment_id":132917143,"body_markdown":"Yup, every single file compiles correctly except those in the part2/stage2 folder. I&#39;m only running the code through VScode. I don&#39;t have any configurations outside VScode as far as I&#39;m aware.","body":"Yup, every single file compiles correctly except those in the part2/stage2 folder. I&#39;m only running the code through VScode. I don&#39;t have any configurations outside VScode as far as I&#39;m aware."},{"owner":{"account_id":15019441,"reputation":453,"user_id":11848657,"display_name":"Ecks Dee"},"score":0,"creation_date":1675359540,"post_id":75326720,"comment_id":132917222,"body_markdown":"And yes, the testing file was marked as source. The `ManagerTest.java` file had `package testing;` instead of `package part2.stage2.testing;`, That&#39;s why it was not highlighted red. `package part2.stage2.testing;` should have worked though.","body":"And yes, the testing file was marked as source. The <code>ManagerTest.java</code> file had <code>package testing;</code> instead of <code>package part2.stage2.testing;</code>, That&#39;s why it was not highlighted red. <code>package part2.stage2.testing;</code> should have worked though."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675422882,"post_id":75331028,"comment_id":132930523,"body_markdown":"Oh, I didn&#39;t realize VS code automagically configured the source paths. That sounds like a great feature until it goes wrong like this ;-)","body":"Oh, I didn&#39;t realize VS code automagically configured the source paths. That sounds like a great feature until it goes wrong like this ;-)"}],"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675392765,"creation_date":1675392765,"answer_id":75331028,"question_id":75326720,"body_markdown":"It&#39;s because in the file `ManagerTest`, the package is declared as `package testing;`. So the extension inferred the source root to be `src/part2/stage2`.\r\n\r\nWhat you can do is:\r\n\r\nChange the package name to:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd then reload VS Code window.\r\n\r\n---\r\n\r\nOr, if you want to disable the auto source root inference and want to specify it by your own. You can leverage the setting `java.project.sourcePaths`\r\n\r\n&gt; Remember to set it in the WORKSPACE scope.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qvnu2.png","title":"Error `The declared package &quot;part2.stage2&quot; does not match the expected package &quot;&quot;` with correct package name","body":"<p>It's because in the file <code>ManagerTest</code>, the package is declared as <code>package testing;</code>. So the extension inferred the source root to be <code>src/part2/stage2</code>.</p>\n<p>What you can do is:</p>\n<p>Change the package name to:</p>\n<p><a href=\"https://i.stack.imgur.com/qvnu2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qvnu2.png\" alt=\"enter image description here\" /></a></p>\n<p>And then reload VS Code window.</p>\n<hr />\n<p>Or, if you want to disable the auto source root inference and want to specify it by your own. You can leverage the setting <code>java.project.sourcePaths</code></p>\n<blockquote>\n<p>Remember to set it in the WORKSPACE scope.</p>\n</blockquote>\n"}],"owner":{"account_id":15019441,"reputation":453,"user_id":11848657,"display_name":"Ecks Dee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75331028,"answer_count":1,"score":0,"last_activity_date":1675421152,"creation_date":1675358230,"question_id":75326720,"body_markdown":"So I have a `Competitor.java` file on path: `/home/john/javaStuff/CMTR/src/part2/stage2/Competitor.java`. I have VSCode open in the CMTR. So CMTR is my current working directory if that info is necessary.\r\n\r\nThe only content I have in the `CompetorList.java` file is\r\n```java\r\npackage part2.stage2;\r\n\r\n```\r\nIt seems that the error expects me to not have the package keyword there. If I remove it, it works fine indeed. But I want to use packages. After some Googling, Java does not require a default package, so I don&#39;t know why it wants me to have no package. The file path matches and all other packages work, just not this. Here&#39;s the tree of of structure:\r\nI have other Java files in different stages eg. stage 1 with the same layout and they all work including that of `part1.stage1`. But `part2.stage2` is just misbehaving.\r\n\r\n[![Screenshot of IDE][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vPxxq.png","title":"Error `The declared package &quot;part2.stage2&quot; does not match the expected package &quot;&quot;` with correct package name","body":"<p>So I have a <code>Competitor.java</code> file on path: <code>/home/john/javaStuff/CMTR/src/part2/stage2/Competitor.java</code>. I have VSCode open in the CMTR. So CMTR is my current working directory if that info is necessary.</p>\n<p>The only content I have in the <code>CompetorList.java</code> file is</p>\n<pre class=\"lang-java prettyprint-override\"><code>package part2.stage2;\n\n</code></pre>\n<p>It seems that the error expects me to not have the package keyword there. If I remove it, it works fine indeed. But I want to use packages. After some Googling, Java does not require a default package, so I don't know why it wants me to have no package. The file path matches and all other packages work, just not this. Here's the tree of of structure:\nI have other Java files in different stages eg. stage 1 with the same layout and they all work including that of <code>part1.stage1</code>. But <code>part2.stage2</code> is just misbehaving.</p>\n<p><a href=\"https://i.stack.imgur.com/vPxxq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPxxq.png\" alt=\"Screenshot of IDE\" /></a></p>\n"},{"tags":["java","arrays","automated-tests"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1675336959,"post_id":75322381,"comment_id":132909021,"body_markdown":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"account_id":27486030,"reputation":3,"user_id":20972256,"display_name":"Viktor"},"score":0,"creation_date":1675337116,"post_id":75322381,"comment_id":132909095,"body_markdown":"It&#39;s my first post here ever. How can I make it better? Thank you for your comment :)","body":"It&#39;s my first post here ever. How can I make it better? Thank you for your comment :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675337173,"post_id":75322381,"comment_id":132909112,"body_markdown":"My comment *tells* you how","body":"My comment <i>tells</i> you how"},{"owner":{"account_id":27486030,"reputation":3,"user_id":20972256,"display_name":"Viktor"},"score":0,"creation_date":1675337382,"post_id":75322381,"comment_id":132909173,"body_markdown":"Changed it a bit. Is it better?","body":"Changed it a bit. Is it better?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675337857,"post_id":75322381,"comment_id":132909319,"body_markdown":"@Viktor: yes, better, but the test is still just in screenshot form. [This post explains](https://meta.stackoverflow.com/q/285551/40342) why that&#39;s bad.","body":"@Viktor: yes, better, but the test is still just in screenshot form. <a href=\"https://meta.stackoverflow.com/q/285551/40342\">This post explains</a> why that&#39;s bad."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675337916,"post_id":75322381,"comment_id":132909343,"body_markdown":"As to your question: arrays can&#39;t be resized and you start with size 0. So you need to copy everything into a new array when you find another hit (or start with a &quot;too big&quot; one and resize down at the end of the method or use an `ArrayList` during the method and convert to an array at the end).","body":"As to your question: arrays can&#39;t be resized and you start with size 0. So you need to copy everything into a new array when you find another hit (or start with a &quot;too big&quot; one and resize down at the end of the method or use an <code>ArrayList</code> during the method and convert to an array at the end)."},{"owner":{"account_id":27486030,"reputation":3,"user_id":20972256,"display_name":"Viktor"},"score":0,"creation_date":1675338868,"post_id":75322381,"comment_id":132909653,"body_markdown":"@Joachim Sauer For now, I know that in &quot;searchBy&quot; I should add some code in if { ... }, but my newbie java brain can&#39;t think of an idea, what to write haha","body":"@Joachim Sauer For now, I know that in &quot;searchBy&quot; I should add some code in if { ... }, but my newbie java brain can&#39;t think of an idea, what to write haha"}],"answers":[{"tags":[],"owner":{"account_id":18026647,"reputation":26,"user_id":13102408,"display_name":"WhiteKnight9801"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675348916,"creation_date":1675348895,"answer_id":75324778,"question_id":75322381,"body_markdown":"This is how the searchBy() method should be implemented with an ArrayList. Notice the method still returns an array by calling the toArray() method on the ArrayList object at the end. But the toArray() method returns an array of Object so you must cast it to Product, that is what the (Product[]) before the result.toArray() does. \r\n\r\nDon&#39;t for get to import java.util.ArrayList;\r\n\r\n    public Product[] searchBy() {\r\n    ArrayList&lt;Product&gt; result = new ArrayList&lt;Product&gt;();\r\n        for (Product product : repo.findAll()) {\r\n            if (matches(product, text)) {\r\n                for (int i = 0; i &lt; result.length ; i++)\r\n                    result.add(product);\r\n            }\r\n        }\r\n        return (Product[])result.toArray();\r\n    }\r\n\r\n","title":"Add &quot;product&quot; to the end of an array &quot;result&quot;","body":"<p>This is how the searchBy() method should be implemented with an ArrayList. Notice the method still returns an array by calling the toArray() method on the ArrayList object at the end. But the toArray() method returns an array of Object so you must cast it to Product, that is what the (Product[]) before the result.toArray() does.</p>\n<p>Don't for get to import java.util.ArrayList;</p>\n<pre><code>public Product[] searchBy() {\nArrayList&lt;Product&gt; result = new ArrayList&lt;Product&gt;();\n    for (Product product : repo.findAll()) {\n        if (matches(product, text)) {\n            for (int i = 0; i &lt; result.length ; i++)\n                result.add(product);\n        }\n    }\n    return (Product[])result.toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":27486030,"reputation":3,"user_id":20972256,"display_name":"Viktor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75324778,"answer_count":1,"score":-1,"last_activity_date":1675421117,"creation_date":1675336717,"question_id":75322381,"body_markdown":"I&#39;m trying to make a method that returns an array of all found products. I&#39;m a beginner in Java, so I&#39;ve been thinking for hours and can&#39;t understand this.\r\n\r\n[![Check 16th line][1]][1]\r\n\r\nHere is the code and the screenshot of what I&#39;ve tried and the result:\r\n\r\n```java\r\npublic class ProductManager {\r\n    private ProductRepository repo;\r\n\r\n    public ProductManager(ProductRepository repo) {\r\n        this.repo = repo;\r\n    }\r\n\r\n    public void add(Product product) {\r\n        repo.save(product);\r\n    }\r\n\r\n    public Product[] searchBy(String text) {\r\n        Product[] result = new Product[0];\r\n        for (Product product : repo.findAll()) {\r\n            if (matches(product, text)) {\r\n                for (int i = 0; i &lt; result.length ; i++)\r\n                    result[result.length - 1] = product;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public boolean matches(Product product, String search) {\r\n        if (product.getName().contains(search)) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nIn `shouldFindProducts()` method the test **fails** with:\r\n\r\n    org.opentest4j.AssertionFailedError: array lengths differ, expected: &lt;1&gt; but was: &lt;0&gt;\r\n\r\nMy **TestClass**:\r\n\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class ProductManagerTest {\r\n\r\n    ProductRepository repo = new ProductRepository();\r\n    ProductManager manager = new ProductManager(repo);\r\n\r\n    Product product1 = new Product(1, &quot;футболка&quot;, 550);\r\n    Product product2 = new Product(2, &quot;весна&quot;, 480);\r\n    Product product3 = new Product(45, &quot;iphone 12&quot;, 34800);\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        manager.add(product1);\r\n        manager.add(product2);\r\n        manager.add(product3);\r\n    }\r\n\r\n    @Test\r\n    public void shouldFindProducts() {\r\n\r\n        manager.matches(product2, &quot;весна&quot;);\r\n\r\n        Product[] expected = {product2};\r\n        Product[] actual = manager.searchBy(&quot;весна&quot;);\r\n\r\n        Assertions.assertArrayEquals(expected, actual);\r\n\r\n    }\r\n}\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/BQkJY.png","title":"Add &quot;product&quot; to the end of an array &quot;result&quot;","body":"<p>I'm trying to make a method that returns an array of all found products. I'm a beginner in Java, so I've been thinking for hours and can't understand this.</p>\n<p><a href=\"https://i.stack.imgur.com/BQkJY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQkJY.png\" alt=\"Check 16th line\" /></a></p>\n<p>Here is the code and the screenshot of what I've tried and the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProductManager {\n    private ProductRepository repo;\n\n    public ProductManager(ProductRepository repo) {\n        this.repo = repo;\n    }\n\n    public void add(Product product) {\n        repo.save(product);\n    }\n\n    public Product[] searchBy(String text) {\n        Product[] result = new Product[0];\n        for (Product product : repo.findAll()) {\n            if (matches(product, text)) {\n                for (int i = 0; i &lt; result.length ; i++)\n                    result[result.length - 1] = product;\n            }\n        }\n        return result;\n    }\n\n    public boolean matches(Product product, String search) {\n        if (product.getName().contains(search)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>In <code>shouldFindProducts()</code> method the test <strong>fails</strong> with:</p>\n<pre><code>org.opentest4j.AssertionFailedError: array lengths differ, expected: &lt;1&gt; but was: &lt;0&gt;\n</code></pre>\n<p>My <strong>TestClass</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class ProductManagerTest {\n\n    ProductRepository repo = new ProductRepository();\n    ProductManager manager = new ProductManager(repo);\n\n    Product product1 = new Product(1, &quot;футболка&quot;, 550);\n    Product product2 = new Product(2, &quot;весна&quot;, 480);\n    Product product3 = new Product(45, &quot;iphone 12&quot;, 34800);\n\n    @BeforeEach\n    public void setup() {\n        manager.add(product1);\n        manager.add(product2);\n        manager.add(product3);\n    }\n\n    @Test\n    public void shouldFindProducts() {\n\n        manager.matches(product2, &quot;весна&quot;);\n\n        Product[] expected = {product2};\n        Product[] actual = manager.searchBy(&quot;весна&quot;);\n\n        Assertions.assertArrayEquals(expected, actual);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","git","gradle","gradle-plugin"],"answers":[{"comments":[{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":0,"creation_date":1675348198,"post_id":75324147,"comment_id":132913044,"body_markdown":"Thank you for a very comprehensive answer. I know the caching option, however, I&#39;d like to not generate build output from unmodified modules (e.g. docker containers). Also, the remote cache requires a new piece of infrastructure to maintain.","body":"Thank you for a very comprehensive answer. I know the caching option, however, I&#39;d like to not generate build output from unmodified modules (e.g. docker containers). Also, the remote cache requires a new piece of infrastructure to maintain."}],"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675420536,"creation_date":1675345901,"answer_id":75324147,"question_id":75323449,"body_markdown":"[Gradle Build Cache](https://docs.gradle.org/current/userguide/build_cache.html) will automatically track the inputs and outputs of tasks and will skip any that have not changed.\r\n\r\n#### Enabling Gradle Build Cache\r\n\r\nIt can be enabled locally by adding in `gradle.properties`\r\n\r\n```lang-properties\r\norg.gradle.caching=true\r\n```\r\n\r\nor by adding a flag to the command line\r\n\r\n```lang-shell\r\n./gradlew tests --build-cache\r\n```\r\n\r\n#### Sharing the build cache\r\n\r\nThe build cache for a project [can be shared](https://docs.gradle.org/current/userguide/build_cache.html#sec:build_cache_setup_http_backend) across multiple machines over HTTP. Sharing the build cache remotely isn&#39;t necessary - it can still work, even if the cache is stored locally.\r\n\r\n#### Register task inputs\r\n\r\nGradle needs to know about the all inputs and outputs of tasks, otherwise tasks might be skipped, so make sure they are correctly registered. \r\n\r\nFor example, if some integration tests depend on an environment variable, then register the environment variable as a test-task input.\r\n\r\n```kotlin\r\n// build.gradle.kts\r\n\r\ntasks.named(&quot;integrationTest&quot;) {\r\n  // TEST_TASK_QUALITY is used in integration tests to change &lt;blah blah blah&gt;\r\n  // register it as an input so Gradle knows when to re-run the tests\r\n  inputs.property(&quot;TEST_TASK_QUALITY&quot;, providers.environmentVariable(&quot;TEST_TASK_QUALITY&quot;))\r\n}\r\n```\r\n\r\n#### Stable task outputs\r\n\r\nGradle will use the outputs of some tasks as the inputs of other tasks. If the outputs aren&#39;t stable, then Gradle will always re-run the dependent tasks.\r\n\r\nFor that reason, it&#39;s worth enabling [reproducible builds](https://docs.gradle.org/current/userguide/working_with_files.html#sec:reproducible_archives) in all projects.\r\n\r\n\r\n```kotlin\r\n// build.gradle.kts\r\n\r\ntasks.withType&lt;AbstractArchiveTask&gt;().configureEach {\r\n    isPreserveFileTimestamps = false\r\n    isReproducibleFileOrder = true\r\n}\r\n```\r\n\r\nAlso, consider [input normalization](https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:configure_input_normalization) for any custom files your project has.","title":"How to build only modified modules and dependencies in Gradle","body":"<p><a href=\"https://docs.gradle.org/current/userguide/build_cache.html\" rel=\"nofollow noreferrer\">Gradle Build Cache</a> will automatically track the inputs and outputs of tasks and will skip any that have not changed.</p>\n<h4>Enabling Gradle Build Cache</h4>\n<p>It can be enabled locally by adding in <code>gradle.properties</code></p>\n<pre class=\"lang-properties prettyprint-override\"><code>org.gradle.caching=true\n</code></pre>\n<p>or by adding a flag to the command line</p>\n<pre class=\"lang-shell prettyprint-override\"><code>./gradlew tests --build-cache\n</code></pre>\n<h4>Sharing the build cache</h4>\n<p>The build cache for a project <a href=\"https://docs.gradle.org/current/userguide/build_cache.html#sec:build_cache_setup_http_backend\" rel=\"nofollow noreferrer\">can be shared</a> across multiple machines over HTTP. Sharing the build cache remotely isn't necessary - it can still work, even if the cache is stored locally.</p>\n<h4>Register task inputs</h4>\n<p>Gradle needs to know about the all inputs and outputs of tasks, otherwise tasks might be skipped, so make sure they are correctly registered.</p>\n<p>For example, if some integration tests depend on an environment variable, then register the environment variable as a test-task input.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build.gradle.kts\n\ntasks.named(&quot;integrationTest&quot;) {\n  // TEST_TASK_QUALITY is used in integration tests to change &lt;blah blah blah&gt;\n  // register it as an input so Gradle knows when to re-run the tests\n  inputs.property(&quot;TEST_TASK_QUALITY&quot;, providers.environmentVariable(&quot;TEST_TASK_QUALITY&quot;))\n}\n</code></pre>\n<h4>Stable task outputs</h4>\n<p>Gradle will use the outputs of some tasks as the inputs of other tasks. If the outputs aren't stable, then Gradle will always re-run the dependent tasks.</p>\n<p>For that reason, it's worth enabling <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html#sec:reproducible_archives\" rel=\"nofollow noreferrer\">reproducible builds</a> in all projects.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build.gradle.kts\n\ntasks.withType&lt;AbstractArchiveTask&gt;().configureEach {\n    isPreserveFileTimestamps = false\n    isReproducibleFileOrder = true\n}\n</code></pre>\n<p>Also, consider <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:configure_input_normalization\" rel=\"nofollow noreferrer\">input normalization</a> for any custom files your project has.</p>\n"}],"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675420536,"creation_date":1675342220,"question_id":75323449,"body_markdown":"I use [gitflow-incremental-builder][1] with Maven in a monorepo model. It allows me to:\r\n- Build only these modules in feature branch that differ from main branch.\r\n- Build only these modules that changed from last successful build tag.\r\n- When a library changes, build all the modules that use it.\r\n- Build a library if needed for modules, but if nothing changed, skip tests (`skipTestsForUpstreamModules`)\r\n- Force build all.\r\n\r\nChanges are resolved using git log and then it affects the reactor config.\r\n\r\nI am looking for a similar tool that will do it for Gradle. \r\n\r\n  [1]: https://github.com/gitflow-incremental-builder/gitflow-incremental-builder#configuration","title":"How to build only modified modules and dependencies in Gradle","body":"<p>I use <a href=\"https://github.com/gitflow-incremental-builder/gitflow-incremental-builder#configuration\" rel=\"nofollow noreferrer\">gitflow-incremental-builder</a> with Maven in a monorepo model. It allows me to:</p>\n<ul>\n<li>Build only these modules in feature branch that differ from main branch.</li>\n<li>Build only these modules that changed from last successful build tag.</li>\n<li>When a library changes, build all the modules that use it.</li>\n<li>Build a library if needed for modules, but if nothing changed, skip tests (<code>skipTestsForUpstreamModules</code>)</li>\n<li>Force build all.</li>\n</ul>\n<p>Changes are resolved using git log and then it affects the reactor config.</p>\n<p>I am looking for a similar tool that will do it for Gradle.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675336730,"post_id":75322363,"comment_id":132908933,"body_markdown":"For starters `T extends Object` is the same as just `T`","body":"For starters <code>T extends Object</code> is the same as just <code>T</code>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1675336805,"post_id":75322363,"comment_id":132908957,"body_markdown":"The `String e` param is not necessarily the key type. The type key is T, which may be String, but may also be literally anything else.","body":"The <code>String e</code> param is not necessarily the key type. The type key is T, which may be String, but may also be literally anything else."}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1675336855,"post_id":75322398,"comment_id":132908984,"body_markdown":"In other words, `e` needs to be of type `T`, right?","body":"In other words, <code>e</code> needs to be of type <code>T</code>, right?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675336856,"post_id":75322398,"comment_id":132908985,"body_markdown":"Well, not *necessarily* String. T may sometimes be String. The problem is that it&#39;s not always String.","body":"Well, not <i>necessarily</i> String. T may sometimes be String. The problem is that it&#39;s not always String."},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675336895,"post_id":75322398,"comment_id":132908999,"body_markdown":"@FedericoklezCulloca Yes.","body":"@FedericoklezCulloca Yes."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1675337188,"post_id":75322398,"comment_id":132909117,"body_markdown":"@rolve ok, it may be worthwhile to specify that in the answer.","body":"@rolve ok, it may be worthwhile to specify that in the answer."}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675337536,"creation_date":1675336812,"answer_id":75322398,"question_id":75322363,"body_markdown":"`get()` requires as an argument a key, which is of type `T`, not `String`.\r\n\r\nSo either you need to change `e` to type `T` or change the type of the `Map`, e.g., to `TestMap&lt;String, T&gt;`.","title":"Java generic T extends Object","body":"<p><code>get()</code> requires as an argument a key, which is of type <code>T</code>, not <code>String</code>.</p>\n<p>So either you need to change <code>e</code> to type <code>T</code> or change the type of the <code>Map</code>, e.g., to <code>TestMap&lt;String, T&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419957,"creation_date":1675417846,"answer_id":75334012,"question_id":75322363,"body_markdown":"Generics describe what an Object is, `List&lt;String&gt; strings` is a list of `String`s. That gives us some convenience, we don&#39;t have to cast. `String s = strings.get(0);` and we get some compile-time protection. `Integer i = 1;` then `strings.add(i);` fails to compile. \r\n\r\nThe error you are getting is a compile time protection. The key you&#39;re providing is an Object, so it *might* be the correct type. In the case of a map, &quot;why not check?&quot; It is just going to hashcode and check for equality which is ok. In the case of a List though, `strings.add((Object)i);` *needs to fail*.\r\n\r\nIf the doesn&#39;t fail, then later something might call. `for(String s: strings)` and get a class cast exception. \r\n\r\nTo fix this you can change you `V get(K k)` method to a `V get(Object k)` the same as map uses. **Your get method requires type `K` a map normally has a get method with a `Object`**\r\n\r\nAs mentioned &quot;T extends Object&quot; is the same as just &quot;T&quot;. You use the extends when you want to put a lower bound on something. `public &lt;T extends Number&gt; int sum(List&lt;T&gt; numbers)`. In this case &quot;T&quot; can be any class that extends numbers. We can do `Number n = numbers.get(0);` because we know it is *at least* a number. But we could not do `numbers.add(n);` because while `T` is at least a number, it could be something else like an Integer, Double, Number, BigDecimal etc.","title":"Java generic T extends Object","body":"<p>Generics describe what an Object is, <code>List&lt;String&gt; strings</code> is a list of <code>String</code>s. That gives us some convenience, we don't have to cast. <code>String s = strings.get(0);</code> and we get some compile-time protection. <code>Integer i = 1;</code> then <code>strings.add(i);</code> fails to compile.</p>\n<p>The error you are getting is a compile time protection. The key you're providing is an Object, so it <em>might</em> be the correct type. In the case of a map, &quot;why not check?&quot; It is just going to hashcode and check for equality which is ok. In the case of a List though, <code>strings.add((Object)i);</code> <em>needs to fail</em>.</p>\n<p>If the doesn't fail, then later something might call. <code>for(String s: strings)</code> and get a class cast exception.</p>\n<p>To fix this you can change you <code>V get(K k)</code> method to a <code>V get(Object k)</code> the same as map uses. <strong>Your get method requires type <code>K</code> a map normally has a get method with a <code>Object</code></strong></p>\n<p>As mentioned &quot;T extends Object&quot; is the same as just &quot;T&quot;. You use the extends when you want to put a lower bound on something. <code>public &lt;T extends Number&gt; int sum(List&lt;T&gt; numbers)</code>. In this case &quot;T&quot; can be any class that extends numbers. We can do <code>Number n = numbers.get(0);</code> because we know it is <em>at least</em> a number. But we could not do <code>numbers.add(n);</code> because while <code>T</code> is at least a number, it could be something else like an Integer, Double, Number, BigDecimal etc.</p>\n"}],"owner":{"account_id":27202239,"reputation":3,"user_id":20734346,"display_name":"rimrotarorot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675419957,"creation_date":1675336623,"question_id":75322363,"body_markdown":"Given the following class:\r\n\r\n\r\n```\r\npublic class TestMap&lt;K,V&gt; {\r\n\tprivate HashMap&lt;K,V&gt; map;\r\n\tpublic void put(K k, V v) {\r\n\t\tmap.put(k, v);\r\n\t}\r\n\tpublic V get(K k) {\r\n\t\treturn map.get(k);\r\n\t}\r\n}\r\n```\r\n\r\nand this function:\r\n\r\n```\r\nstatic&lt;T extends Object&gt; String getObj(TestMap&lt;T, String&gt; m, String e) {\r\n\treturn m.get(e);\r\n} \r\n```\r\n\r\nWhy does &quot;get&quot; show this error:\r\n`The method get(T) in the type MyHashMap&lt;T,String&gt; is not applicable for the arguments (String)`\r\n\r\nWhen `getObj` states `T extends Object`, and the map has been initialized with `TestMap&lt;T, String&gt; m`, why can&#39;t String be used as parameter? I cant wrap my head around why this doesnt work, as String is a subtype of Object ?\r\n\r\nI tried extending T from a custom superclass and using a subclass instead of String.","title":"Java generic T extends Object","body":"<p>Given the following class:</p>\n<pre><code>public class TestMap&lt;K,V&gt; {\n    private HashMap&lt;K,V&gt; map;\n    public void put(K k, V v) {\n        map.put(k, v);\n    }\n    public V get(K k) {\n        return map.get(k);\n    }\n}\n</code></pre>\n<p>and this function:</p>\n<pre><code>static&lt;T extends Object&gt; String getObj(TestMap&lt;T, String&gt; m, String e) {\n    return m.get(e);\n} \n</code></pre>\n<p>Why does &quot;get&quot; show this error:\n<code>The method get(T) in the type MyHashMap&lt;T,String&gt; is not applicable for the arguments (String)</code></p>\n<p>When <code>getObj</code> states <code>T extends Object</code>, and the map has been initialized with <code>TestMap&lt;T, String&gt; m</code>, why can't String be used as parameter? I cant wrap my head around why this doesnt work, as String is a subtype of Object ?</p>\n<p>I tried extending T from a custom superclass and using a subclass instead of String.</p>\n"},{"tags":["java","database","hibernate","methods"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1675419150,"post_id":75334185,"comment_id":132929375,"body_markdown":"`query.toString()`--Your query is not the _result_ of the query. You need to execute the query and look at the result.","body":"<code>query.toString()</code>--Your query is not the <i>result</i> of the query. You need to execute the query and look at the result."}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419746,"creation_date":1675419746,"answer_id":75334337,"question_id":75334185,"body_markdown":"The best thing you can do to learn a new language/technology is to just try out stuff and to figure it out yourself!\r\n\r\nE.g. try using a debugger - If you don&#39;t know what that is or how to use it, just watch a tutorial online :) This helps a ton on finding out, what exactly is wrong with your code -&gt; Thus helping you narrowing down your problem even more, so you can e.g. google more specific questions.\r\n\r\nBut to answer your question, and maybe a few more:\r\n\r\n### Transactions\r\nGenerally, you don&#39;t have to create a transaction for each query; As long as it&#39;s just a SELECT. (You&#39;re not changing anything in the DB, which means you&#39;re not altering any information; Nothing happens to your data, even if your program were to crash).\r\n\r\nSpeaking of transactions: `transaction.commit()` does not execute your query. It just commits the transaction; Meaning, it&#39;s not rolled back.\r\n\r\n### The query itself\r\n\r\nAs stated previously, `transaction.commit()` doesn&#39;t execute any queries.\r\n&lt;br/&gt;\r\nAnd spoiler alert: `query.toString()` doesn&#39;t do it either. \r\n\r\nYou should use `query.getResultList()` and then you&#39;re able to iterate over it by e.g. using a while loop.\r\n\r\n### Cleaner syntax\r\n\r\nYou can also link multiple things together like this:\r\n\r\n```\r\nem.createNativeQuery(&quot;...&quot;, User.class)\r\n    .setParameter(...)\r\n    .getResultList();\r\n```","title":"Java method to log in from user from hibernate","body":"<p>The best thing you can do to learn a new language/technology is to just try out stuff and to figure it out yourself!</p>\n<p>E.g. try using a debugger - If you don't know what that is or how to use it, just watch a tutorial online :) This helps a ton on finding out, what exactly is wrong with your code -&gt; Thus helping you narrowing down your problem even more, so you can e.g. google more specific questions.</p>\n<p>But to answer your question, and maybe a few more:</p>\n<h3>Transactions</h3>\n<p>Generally, you don't have to create a transaction for each query; As long as it's just a SELECT. (You're not changing anything in the DB, which means you're not altering any information; Nothing happens to your data, even if your program were to crash).</p>\n<p>Speaking of transactions: <code>transaction.commit()</code> does not execute your query. It just commits the transaction; Meaning, it's not rolled back.</p>\n<h3>The query itself</h3>\n<p>As stated previously, <code>transaction.commit()</code> doesn't execute any queries.\n<br/>\nAnd spoiler alert: <code>query.toString()</code> doesn't do it either.</p>\n<p>You should use <code>query.getResultList()</code> and then you're able to iterate over it by e.g. using a while loop.</p>\n<h3>Cleaner syntax</h3>\n<p>You can also link multiple things together like this:</p>\n<pre><code>em.createNativeQuery(&quot;...&quot;, User.class)\n    .setParameter(...)\n    .getResultList();\n</code></pre>\n"}],"owner":{"account_id":27670190,"reputation":11,"user_id":21121178,"display_name":"Maks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675419746,"creation_date":1675418925,"question_id":75334185,"body_markdown":"I learning Java, SQL, Hibernate and I must make a method to log in as user from MySQL DB. I&#39;m trying write the code but I can&#39;t compare String from scanner and from DB. I don&#39;t have Spring for now.\r\n\r\n    import com.sda.util.HibernateUtil;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.Query;\r\n    import java.util.Scanner;\r\n\r\n    public class UserLogging {\r\n        EntityManager em = HibernateUtil.getSessionFactory().createEntityManager();\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n\r\n        public void logging() {\r\n\r\n\r\n            System.out.println(&quot;Enter email:&quot;);\r\n            String userInputEmail = scanner.nextLine();\r\n\r\n\r\n\r\n            em.getTransaction().begin();\r\n            Query query = em.createNativeQuery(&quot;select from user u where u.email = :?&quot;, User.class);\r\n            query.setParameter(&quot;?&quot;, userInputEmail);\r\n\r\n\r\n            if (userInputEmail.equals(query.toString())) {\r\n\r\n                System.out.println(&quot;You are logged in.&quot;);\r\n            } else\r\n                System.out.println(&quot;Login failed.&quot;);\r\n\r\n\r\n            em.getTransaction().commit();\r\n\r\n        }\r\n    }","title":"Java method to log in from user from hibernate","body":"<p>I learning Java, SQL, Hibernate and I must make a method to log in as user from MySQL DB. I'm trying write the code but I can't compare String from scanner and from DB. I don't have Spring for now.</p>\n<pre><code>import com.sda.util.HibernateUtil;\nimport javax.persistence.EntityManager;\nimport javax.persistence.Query;\nimport java.util.Scanner;\n\npublic class UserLogging {\n    EntityManager em = HibernateUtil.getSessionFactory().createEntityManager();\n    Scanner scanner = new Scanner(System.in);\n\n\n    public void logging() {\n\n\n        System.out.println(&quot;Enter email:&quot;);\n        String userInputEmail = scanner.nextLine();\n\n\n\n        em.getTransaction().begin();\n        Query query = em.createNativeQuery(&quot;select from user u where u.email = :?&quot;, User.class);\n        query.setParameter(&quot;?&quot;, userInputEmail);\n\n\n        if (userInputEmail.equals(query.toString())) {\n\n            System.out.println(&quot;You are logged in.&quot;);\n        } else\n            System.out.println(&quot;Login failed.&quot;);\n\n\n        em.getTransaction().commit();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1489064883,"post_id":42696178,"comment_id":72514327,"body_markdown":"The static variable is being initialized, so the constructor will be run. What would you expect to happen?","body":"The static variable is being initialized, so the constructor will be run. What would you expect to happen?"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1489064937,"post_id":42696178,"comment_id":72514359,"body_markdown":"Can you *simplify* this code to specifically the one thing you&#39;re trying to demonstrate, and specify the exact output you&#39;re seeing?","body":"Can you <i>simplify</i> this code to specifically the one thing you&#39;re trying to demonstrate, and specify the exact output you&#39;re seeing?"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1489074214,"post_id":42696178,"comment_id":72520998,"body_markdown":"Are you quite sure that the exact code you posted here actually compiled?","body":"Are you quite sure that the exact code you posted here actually compiled?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489078120,"post_id":42696178,"comment_id":72523924,"body_markdown":"I have compiled and run it. @LewBloch","body":"I have compiled and run it. @LewBloch"},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1489096443,"post_id":42696178,"comment_id":72534226,"body_markdown":"My mistake. I think I confused the `i` and `j` declarations.","body":"My mistake. I think I confused the <code>i</code> and <code>j</code> declarations."}],"answers":[{"tags":[],"owner":{"account_id":10417146,"reputation":135,"user_id":7680884,"display_name":"Ocean15"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1489064985,"creation_date":1489064985,"answer_id":42696293,"question_id":42696178,"body_markdown":"You dont do a `static call` there. The `new Object()` &quot;method&quot; calls the `constructor` and is never `static`.  ","title":"why this type of static variables in the loading don&#39;t need to call a static block of code","body":"<p>You dont do a <code>static call</code> there. The <code>new Object()</code> \"method\" calls the <code>constructor</code> and is never <code>static</code>.  </p>\n"},{"comments":[{"owner":{"account_id":8020698,"reputation":13,"user_id":6049448,"display_name":"Third_Thinker"},"score":0,"creation_date":1489069960,"post_id":42696722,"comment_id":72517842,"body_markdown":"yeah,I got your point and i realized that when create a static variable with instance of StaticTest .JVM would allocate space in the heap for it,How did JVM know how big space to allocate?There is a assumption from me that only member variable would be allocated space(static variable and static block of code in a method area allocated space),so static block of code would not be called after **t1**  instanced,rather than **public int j = print(&quot;j&quot;)** ran,Am i right?","body":"yeah,I got your point and i realized that when create a static variable with instance of StaticTest .JVM would allocate space in the heap for it,How did JVM know how big space to allocate?There is a assumption from me that only member variable would be allocated space(static variable and static block of code in a method area allocated space),so static block of code would not be called after <b>t1</b>  instanced,rather than <b>public int j = print(&quot;j&quot;)</b> ran,Am i right?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489070483,"post_id":42696722,"comment_id":72518195,"body_markdown":"The way I think of it: static variables are allocated once when the class is loaded (there’s probably more to be said about it). Only instance variables are allocated with `new`, and it’s decided already on compile time how much space to allocate for them.","body":"The way I think of it: static variables are allocated once when the class is loaded (there’s probably more to be said about it). Only instance variables are allocated with <code>new</code>, and it’s decided already on compile time how much space to allocate for them."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1489074310,"post_id":42696722,"comment_id":72521065,"body_markdown":"Static member variables can be assigned `new` objects. Why not?","body":"Static member variables can be assigned <code>new</code> objects. Why not?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489078271,"post_id":42696722,"comment_id":72524039,"body_markdown":"Alright, I admit In my classic implementations of the Singleton pattern I have instantiated my static `theOneAndOnlyInstance` field in the declaration.","body":"Alright, I admit In my classic implementations of the Singleton pattern I have instantiated my static <code>theOneAndOnlyInstance</code> field in the declaration."},{"owner":{"account_id":8020698,"reputation":13,"user_id":6049448,"display_name":"Third_Thinker"},"score":0,"creation_date":1489144439,"post_id":42696722,"comment_id":72553983,"body_markdown":"@OleV.V. Thanks for your answer,I get it from you. According to the class loading order,when the class is loaded into **Memory**,JVM has already knew what is static(variable,method..etc) and what is non-static and another class information too,While the key **new** comes out,JVM knows that the class has loaded,static block of code(it will be ran only once) would only run binding for _loading of StaticTest_,So it will not ran for static variable instantiation.This is my another guess about it,I hope to hear from you!","body":"@OleV.V. Thanks for your answer,I get it from you. According to the class loading order,when the class is loaded into <b>Memory</b>,JVM has already knew what is static(variable,method..etc) and what is non-static and another class information too,While the key <b>new</b> comes out,JVM knows that the class has loaded,static block of code(it will be ran only once) would only run binding for <i>loading of StaticTest</i>,So it will not ran for static variable instantiation.This is my another guess about it,I hope to hear from you!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489145289,"post_id":42696722,"comment_id":72554476,"body_markdown":"Correct, mostly. If I understand what you mean by “While the key **new** comes out,JVM knows that the class has loaded”, this is not correct when you use `new` in the static initialization like in your example. In this case the instance initialization happens when the static initialization is not complete. You are perfectly correct that any static block will be run only once. I don’t know if I can add anything else.","body":"Correct, mostly. If I understand what you mean by “While the key <b>new</b> comes out,JVM knows that the class has loaded”, this is not correct when you use <code>new</code> in the static initialization like in your example. In this case the instance initialization happens when the static initialization is not complete. You are perfectly correct that any static block will be run only once. I don’t know if I can add anything else."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489066229,"creation_date":1489066229,"answer_id":42696722,"question_id":42696178,"body_markdown":"Output from your program:\r\n\r\n    1:j i=0 n=0\r\n    2:构造块 i=1 n=1\r\n    3:t1 i=2 n=2 this:mypackage.StaticTest@6d06d69c\r\n    4:j i=3 n=3\r\n    5:构造块 i=4 n=4\r\n    6:t2 i=5 n=5 this:mypackage.StaticTest@7852e922\r\n    7:i i=6 n=6\r\n    8:静态块 i=7 n=99\r\n    9:j i=8 n=100\r\n    10:构造块 i=9 n=101\r\n    11:init i=10 n=102 this:mypackage.StaticTest@4e25154f\r\n\r\nYou are correct that Java embarks on doing the static initializations first, from the top, before invoking the `main` method. Things are getting a little more complicated when you do\r\n\r\n\tpublic static StaticTest t1 = new StaticTest(&quot;t1&quot;);\r\n\r\nAt this point, even though the static initializtions are not complete, the creation of the `t1` instance begins. I don’t think I would ever dare rely on someting like this working in my code. Anyway, construction of `t1` involves initializing `j` and running the non-static initializer block (`print(&quot;构造块&quot;);`) and the constructor; this produces lines 1 through 3 in the output. Construction of `t2` produces lines 4 through 6.\r\n\r\nStatic initialization continues with `i` (line 7), `n` and then the static initializer block (line 8).\r\n\r\nFinally `main()` is invoked, creating one more object, which in turn gives you lines 9 through 11.","title":"why this type of static variables in the loading don&#39;t need to call a static block of code","body":"<p>Output from your program:</p>\n\n<pre><code>1:j i=0 n=0\n2:构造块 i=1 n=1\n3:t1 i=2 n=2 this:mypackage.StaticTest@6d06d69c\n4:j i=3 n=3\n5:构造块 i=4 n=4\n6:t2 i=5 n=5 this:mypackage.StaticTest@7852e922\n7:i i=6 n=6\n8:静态块 i=7 n=99\n9:j i=8 n=100\n10:构造块 i=9 n=101\n11:init i=10 n=102 this:mypackage.StaticTest@4e25154f\n</code></pre>\n\n<p>You are correct that Java embarks on doing the static initializations first, from the top, before invoking the <code>main</code> method. Things are getting a little more complicated when you do</p>\n\n<pre><code>public static StaticTest t1 = new StaticTest(\"t1\");\n</code></pre>\n\n<p>At this point, even though the static initializtions are not complete, the creation of the <code>t1</code> instance begins. I don’t think I would ever dare rely on someting like this working in my code. Anyway, construction of <code>t1</code> involves initializing <code>j</code> and running the non-static initializer block (<code>print(\"构造块\");</code>) and the constructor; this produces lines 1 through 3 in the output. Construction of <code>t2</code> produces lines 4 through 6.</p>\n\n<p>Static initialization continues with <code>i</code> (line 7), <code>n</code> and then the static initializer block (line 8).</p>\n\n<p>Finally <code>main()</code> is invoked, creating one more object, which in turn gives you lines 9 through 11.</p>\n"}],"owner":{"account_id":8020698,"reputation":13,"user_id":6049448,"display_name":"Third_Thinker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":42696293,"answer_count":2,"score":-3,"last_activity_date":1675419715,"creation_date":1489064706,"question_id":42696178,"body_markdown":"    public class StaticTest {\r\n    \r\n    \tpublic static int k = 0;\r\n    \tpublic static StaticTest t1 = new StaticTest(&quot;t1&quot;);\r\n    \tpublic static StaticTest t2 = new StaticTest(&quot;t2&quot;);\r\n    \tpublic static int i = print(&quot;i&quot;);\r\n    \tpublic static int n = 99;\r\n    \tpublic int j = print(&quot;j&quot;);\r\n    \r\n    \t{\r\n    \t\tprint(&quot;构造块&quot;);\r\n    \t}\r\n    \r\n    \tstatic {\r\n    \t\tprint(&quot;静态块&quot;);\r\n    \t}\r\n    \r\n    \tpublic StaticTest(String str) {\r\n    \t\tSystem.out.println((++k) + &quot;:&quot; + str + &quot; i=&quot; + i + &quot; n=&quot; + n + &quot; this:&quot; + this);\r\n    \t\t++n;\r\n    \t\t++i;\r\n    \t}\r\n    \r\n    \tpublic static int print(String str) {\r\n    \t\tSystem.out.println((++k) + &quot;:&quot; + str + &quot; i=&quot; + i + &quot; n=&quot; + n);\r\n    \t\t++i;\r\n    \t\treturn ++n;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew StaticTest(&quot;init&quot;);\r\n    \t}\r\n    }\r\n\r\nthe source code as above,I knew the class loading order，which is **static variable &gt;&gt; static block of code &gt;&gt; member variable &gt;&gt; tectonic block of code &gt;&gt; tectonic method** .what confused me was that when \r\n\r\n&gt; public static StaticTest t1 = new StaticTest(&quot;t1&quot;);\r\n\r\nexecuted,why the static block of code not ran\r\n\r\n&gt; static{\r\n&gt;         print(&quot;静态块&quot;);\r\n&gt;     }\r\n\r\nbut \r\n\r\n&gt; public int j = print(&quot;j&quot;);\r\n \r\nran? what was happened in it? I hope you could tell me something,I&#39;ll appreciate it.\r\n","title":"why this type of static variables in the loading don&#39;t need to call a static block of code","body":"<pre><code>public class StaticTest {\n\n    public static int k = 0;\n    public static StaticTest t1 = new StaticTest(&quot;t1&quot;);\n    public static StaticTest t2 = new StaticTest(&quot;t2&quot;);\n    public static int i = print(&quot;i&quot;);\n    public static int n = 99;\n    public int j = print(&quot;j&quot;);\n\n    {\n        print(&quot;构造块&quot;);\n    }\n\n    static {\n        print(&quot;静态块&quot;);\n    }\n\n    public StaticTest(String str) {\n        System.out.println((++k) + &quot;:&quot; + str + &quot; i=&quot; + i + &quot; n=&quot; + n + &quot; this:&quot; + this);\n        ++n;\n        ++i;\n    }\n\n    public static int print(String str) {\n        System.out.println((++k) + &quot;:&quot; + str + &quot; i=&quot; + i + &quot; n=&quot; + n);\n        ++i;\n        return ++n;\n    }\n\n    public static void main(String[] args) {\n        new StaticTest(&quot;init&quot;);\n    }\n}\n</code></pre>\n<p>the source code as above,I knew the class loading order，which is <strong>static variable &gt;&gt; static block of code &gt;&gt; member variable &gt;&gt; tectonic block of code &gt;&gt; tectonic method</strong> .what confused me was that when</p>\n<blockquote>\n<p>public static StaticTest t1 = new StaticTest(&quot;t1&quot;);</p>\n</blockquote>\n<p>executed,why the static block of code not ran</p>\n<blockquote>\n<p>static{\nprint(&quot;静态块&quot;);\n}</p>\n</blockquote>\n<p>but</p>\n<blockquote>\n<p>public int j = print(&quot;j&quot;);</p>\n</blockquote>\n<p>ran? what was happened in it? I hope you could tell me something,I'll appreciate it.</p>\n"},{"tags":["java","dictionary","generics","types"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1674071405,"post_id":75164546,"comment_id":132639302,"body_markdown":"Does this answer your question? [What are Generics in Java?](https://stackoverflow.com/questions/7815528/what-are-generics-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7815528/what-are-generics-in-java\">What are Generics in Java?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1674071421,"post_id":75164546,"comment_id":132639307,"body_markdown":"The types are there. They are `K` and `V`. The term you should be looking for is &quot;generics&quot;","body":"The types are there. They are <code>K</code> and <code>V</code>. The term you should be looking for is &quot;generics&quot;"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1674071841,"post_id":75164546,"comment_id":132639419,"body_markdown":"&lt;rant&gt;Wouldn&#39;t it be nice if the &quot;generics&quot; (ie, type parameter) naming convention were NOT from the 1970&#39;s? `KeyType` and `ValueType` would be so much more intuitive than`K` and `V`.&lt;/rant&gt;","body":"&lt;rant&gt;Wouldn&#39;t it be nice if the &quot;generics&quot; (ie, type parameter) naming convention were NOT from the 1970&#39;s? <code>KeyType</code> and <code>ValueType</code> would be so much more intuitive than<code>K</code> and <code>V</code>.&lt;/rant&gt;"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674073454,"post_id":75164546,"comment_id":132639841,"body_markdown":"Think `Integer i` or `String s`","body":"Think <code>Integer i</code> or <code>String s</code>"}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675419657,"creation_date":1674071720,"answer_id":75164633,"question_id":75164546,"body_markdown":"Even when understanding what are generics this code alone is not really clear.\r\n\r\nTherefore you need to take a look at the top of the `Map` interface declaration\r\n\r\n    public interface Map&lt;K,V&gt;\r\n\r\nRead also:\r\n* [Lesson: Generics][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/index.html","title":"What does K k; and V v; mean in this Java Method in the Map.Class?","body":"<p>Even when understanding what are generics this code alone is not really clear.</p>\n<p>Therefore you need to take a look at the top of the <code>Map</code> interface declaration</p>\n<pre><code>public interface Map&lt;K,V&gt;\n</code></pre>\n<p>Read also:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Lesson: Generics</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674102983,"creation_date":1674102983,"answer_id":75167801,"question_id":75164546,"body_markdown":"`Map&lt;K, V&gt;` is a _parameterised type_, which means that it represents a whole family of different types, such as\r\n\r\n- `Map&lt;String, Integer&gt;` - a `Map` where the keys are `String`s and the values are `Integer`s\r\n- `Map&lt;Integer, LocalDate&gt;` - a `Map` where the keys are `Integer`s and the values are `LocalDate`s\r\n\r\nand so on.  But there&#39;s a kind of sameness about all these types - they&#39;re all a `Map` where the keys have some type and the values have some other type.  \r\n\r\nNow the processing inside the `Map` is going to be much the same, regardless of the type of its keys or the type of its values.  So none of the code inside `Map.class` should specify what those types are.  Instead, it uses `K` to represent whatever type the keys will be, and `V` to represent whatever type the values will be.  These letters are called _type parameters_, and they are used in `Map.class` as a way to refer to the types that will be used in the `Map`.  \r\n\r\nFor example, if you have a `Map&lt;String, Integer&gt;`, then `K` means `String` and `V` means `Integer`.  If you have a `Map` with different key type and value type, then `K` and `V` will mean something else.\r\n\r\nIn the method that you&#39;ve shown in your question, `k` is a local variable of the type represented by `K` and `v` is a local variable of the type represented by `V`.  Again, if you have a `Map&lt;String, Integer&gt;`, `k` is effectively a `String` variable, and `v` is an `Integer` variable.  But these could actually be any types at all.\r\n\r\nWhere you&#39;ve written `//more code follows...` the code in question will just be pulling a key and value out of the `Map`, pointing the variables `k` and `v` at them, and then applying the `BiConsumer` called `action` to them.\r\n","title":"What does K k; and V v; mean in this Java Method in the Map.Class?","body":"<p><code>Map&lt;K, V&gt;</code> is a <em>parameterised type</em>, which means that it represents a whole family of different types, such as</p>\n<ul>\n<li><code>Map&lt;String, Integer&gt;</code> - a <code>Map</code> where the keys are <code>String</code>s and the values are <code>Integer</code>s</li>\n<li><code>Map&lt;Integer, LocalDate&gt;</code> - a <code>Map</code> where the keys are <code>Integer</code>s and the values are <code>LocalDate</code>s</li>\n</ul>\n<p>and so on.  But there's a kind of sameness about all these types - they're all a <code>Map</code> where the keys have some type and the values have some other type.</p>\n<p>Now the processing inside the <code>Map</code> is going to be much the same, regardless of the type of its keys or the type of its values.  So none of the code inside <code>Map.class</code> should specify what those types are.  Instead, it uses <code>K</code> to represent whatever type the keys will be, and <code>V</code> to represent whatever type the values will be.  These letters are called <em>type parameters</em>, and they are used in <code>Map.class</code> as a way to refer to the types that will be used in the <code>Map</code>.</p>\n<p>For example, if you have a <code>Map&lt;String, Integer&gt;</code>, then <code>K</code> means <code>String</code> and <code>V</code> means <code>Integer</code>.  If you have a <code>Map</code> with different key type and value type, then <code>K</code> and <code>V</code> will mean something else.</p>\n<p>In the method that you've shown in your question, <code>k</code> is a local variable of the type represented by <code>K</code> and <code>v</code> is a local variable of the type represented by <code>V</code>.  Again, if you have a <code>Map&lt;String, Integer&gt;</code>, <code>k</code> is effectively a <code>String</code> variable, and <code>v</code> is an <code>Integer</code> variable.  But these could actually be any types at all.</p>\n<p>Where you've written <code>//more code follows...</code> the code in question will just be pulling a key and value out of the <code>Map</code>, pointing the variables <code>k</code> and <code>v</code> at them, and then applying the <code>BiConsumer</code> called <code>action</code> to them.</p>\n"}],"owner":{"account_id":27523537,"reputation":3,"user_id":21003264,"display_name":"Dave "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75167801,"answer_count":2,"score":0,"last_activity_date":1675419657,"creation_date":1674071202,"question_id":75164546,"body_markdown":"I&#39;m new to Java and am looking at the forEach method in the Map.class in Java... here is an excerpt of that method:\r\n\r\n```\r\ndefault void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {\r\n    Objects.requireNonNull(action);\r\n    for (Map.Entry&lt;K, V&gt; entry : entrySet()) {\r\n        K k;\r\n        V v;\r\n        //more code follows...\r\n```\r\n\r\nMy question is... what is going on with K k; and V v;?  The method goes on the use k and v as local variables so I&#39;m guessing the K k; and V v; lines are assigning the arguments to local variables... but if that&#39;s true why doesn&#39;t this syntax need a type?  Thank you in advance for the help. \r\n\r\n\r\nI didn&#39;t try anything or expect anything... just want to better understand what this code is doing. ","title":"What does K k; and V v; mean in this Java Method in the Map.Class?","body":"<p>I'm new to Java and am looking at the forEach method in the Map.class in Java... here is an excerpt of that method:</p>\n<pre><code>default void forEach(BiConsumer&lt;? super K, ? super V&gt; action) {\n    Objects.requireNonNull(action);\n    for (Map.Entry&lt;K, V&gt; entry : entrySet()) {\n        K k;\n        V v;\n        //more code follows...\n</code></pre>\n<p>My question is... what is going on with K k; and V v;?  The method goes on the use k and v as local variables so I'm guessing the K k; and V v; lines are assigning the arguments to local variables... but if that's true why doesn't this syntax need a type?  Thank you in advance for the help.</p>\n<p>I didn't try anything or expect anything... just want to better understand what this code is doing.</p>\n"},{"tags":["java","spring-boot","mockmvc"],"comments":[{"owner":{"account_id":12641771,"reputation":432,"user_id":9189007,"display_name":"A Le Dref"},"score":0,"creation_date":1675418401,"post_id":75334071,"comment_id":132929119,"body_markdown":"Hello! This is quite hard to know what your issue might be as we don&#39;t have the line number. But I guess the line with `this.mockMvc.perform` throws the NPE?","body":"Hello! This is quite hard to know what your issue might be as we don&#39;t have the line number. But I guess the line with <code>this.mockMvc.perform</code> throws the NPE?"},{"owner":{"account_id":22615321,"reputation":5,"user_id":16794906,"display_name":"Mark likes Quark"},"score":0,"creation_date":1675418646,"post_id":75334071,"comment_id":132929210,"body_markdown":"Yes, Line 33 is  this.mockMvc.perform, it throws the NPE because mockMvc is null but i don&#39;t know why?","body":"Yes, Line 33 is  this.mockMvc.perform, it throws the NPE because mockMvc is null but i don&#39;t know why?"}],"answers":[{"comments":[{"owner":{"account_id":12641771,"reputation":432,"user_id":9189007,"display_name":"A Le Dref"},"score":0,"creation_date":1675419283,"post_id":75334124,"comment_id":132929415,"body_markdown":"@Mark likes Quark do not hesitate to mark as accepted answers if it unblocked you! :)","body":"@Mark likes Quark do not hesitate to mark as accepted answers if it unblocked you! :)"},{"owner":{"account_id":22615321,"reputation":5,"user_id":16794906,"display_name":"Mark likes Quark"},"score":0,"creation_date":1675419973,"post_id":75334124,"comment_id":132929600,"body_markdown":"Yeah i tried it like this:\n  @WebMvcTest(controllers=NewsletterController.class)\nBut it still gives me the exact same NPE","body":"Yeah i tried it like this:   @WebMvcTest(controllers=NewsletterController.class) But it still gives me the exact same NPE"},{"owner":{"account_id":12641771,"reputation":432,"user_id":9189007,"display_name":"A Le Dref"},"score":0,"creation_date":1675420931,"post_id":75334124,"comment_id":132929890,"body_markdown":"Do you use the correct import for the `@Test` annotation? Importing `junit.test` instead of `junit;jupiter.api.Test` can also cause this kind of issue","body":"Do you use the correct import for the <code>@Test</code> annotation? Importing <code>junit.test</code> instead of <code>junit;jupiter.api.Test</code> can also cause this kind of issue"},{"owner":{"account_id":22615321,"reputation":5,"user_id":16794906,"display_name":"Mark likes Quark"},"score":0,"creation_date":1675424866,"post_id":75334124,"comment_id":132931060,"body_markdown":"The Test just gets ignored now and the  junit.test import is not working for me","body":"The Test just gets ignored now and the  junit.test import is not working for me"}],"tags":[],"owner":{"account_id":12641771,"reputation":432,"user_id":9189007,"display_name":"A Le Dref"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675418585,"creation_date":1675418585,"answer_id":75334124,"question_id":75334071,"body_markdown":"I see that your only anontation on your test is `@AutoConfigureMockMvc`. However that is not sufficient to start a Spring Boot application context.\r\n\r\nAs you are targeting a controller you should at least add `@WebMvcTest(controllers=[controller_class_here]`. \r\n\r\nThis will setup everything and maybe resolve your NullPointerException.\r\n\r\nAlso doing so you won&#39;t need the `@AutoconfigureMockMvc` annotation","title":"What is the cause of java.lang.NullPointerException in my spring boot mockMVC test case?","body":"<p>I see that your only anontation on your test is <code>@AutoConfigureMockMvc</code>. However that is not sufficient to start a Spring Boot application context.</p>\n<p>As you are targeting a controller you should at least add <code>@WebMvcTest(controllers=[controller_class_here]</code>.</p>\n<p>This will setup everything and maybe resolve your NullPointerException.</p>\n<p>Also doing so you won't need the <code>@AutoconfigureMockMvc</code> annotation</p>\n"}],"owner":{"account_id":22615321,"reputation":5,"user_id":16794906,"display_name":"Mark likes Quark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75334124,"answer_count":1,"score":-1,"last_activity_date":1675418585,"creation_date":1675418199,"question_id":75334071,"body_markdown":"   \r\n**MyCode**\r\n```\r\n @AutoConfigureMockMvc\r\n    public class NewsletterTest {\r\n\r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n\r\n\r\n      @MockBean\r\n      private NewsletterService service;\r\n\r\n      @Test\r\n      public void deleteNewsletterShouldDelete() throws Exception {\r\n\r\n        this.mockMvc.perform(MockMvcRequestBuilders\r\n                .delete(&quot;/delete-newsletter/11&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isOk());\r\n\r\n        verify(service, times(1)).deleteNewsletter(11L);\r\n\r\n    }\r\n```\r\n\r\n**The error:**\r\n```\r\njava.lang.NullPointerException\r\n\tat controller.NewsletterTest.deleteNewsletterShouldDelete(NewsletterTest.java:33)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat \r\n```\r\n\r\nIn my spring boot test case, I am using @AutoConfigureMockMvc and @MockBean to test a delete method in my newsletter controller. However, I am encountering a java.lang.NullPointerException at line 33 of my test case. I want to understand the cause of this error.","title":"What is the cause of java.lang.NullPointerException in my spring boot mockMVC test case?","body":"<p><strong>MyCode</strong></p>\n<pre><code> @AutoConfigureMockMvc\n    public class NewsletterTest {\n\n      @Autowired\n      private MockMvc mockMvc;\n\n\n      @MockBean\n      private NewsletterService service;\n\n      @Test\n      public void deleteNewsletterShouldDelete() throws Exception {\n\n        this.mockMvc.perform(MockMvcRequestBuilders\n                .delete(&quot;/delete-newsletter/11&quot;)\n                .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isOk());\n\n        verify(service, times(1)).deleteNewsletter(11L);\n\n    }\n</code></pre>\n<p><strong>The error:</strong></p>\n<pre><code>java.lang.NullPointerException\n    at controller.NewsletterTest.deleteNewsletterShouldDelete(NewsletterTest.java:33)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at \n</code></pre>\n<p>In my spring boot test case, I am using @AutoConfigureMockMvc and @MockBean to test a delete method in my newsletter controller. However, I am encountering a java.lang.NullPointerException at line 33 of my test case. I want to understand the cause of this error.</p>\n"},{"tags":["java","android","dictionary","google-maps"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1685070568,"post_id":75334061,"comment_id":134613074,"body_markdown":"Have you tried this guide from the [documentation](https://developers.google.com/maps/documentation/android-sdk/location)?","body":"Have you tried this guide from the <a href=\"https://developers.google.com/maps/documentation/android-sdk/location\" rel=\"nofollow noreferrer\">documentation</a>?"}],"owner":{"account_id":27426458,"reputation":1,"user_id":20923868,"display_name":"lowstimulate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675418115,"creation_date":1675418115,"question_id":75334061,"body_markdown":"My project use the Android Google Map, hoping to display the positioning blue dot at the current position 。But whether I use all methods, the project cannot show the current blue dot.\r\n   I hope to use the blue dot that comes with Google instead of the mark drawn by myself。\r\n   show code:\r\n\r\nstep1:\r\n```\r\n MapsInitializer.initialize(context, MapsInitializer.Renderer.LATEST, new OnMapsSdkInitializedCallback() {\r\n            @Override\r\n            public void onMapsSdkInitialized(@NonNull MapsInitializer.Renderer renderer) {\r\n                switch (renderer) {\r\n                    case LATEST:\r\n                        WriteStreamAppend.method1(&quot;google  onMapsSdkInitialized  LATEST &quot;);\r\n                        break;\r\n                    case LEGACY:\r\n                        WriteStreamAppend.method1(&quot;google  onMapsSdkInitialized  LEGACY &quot;);\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nstep2：\r\n\r\n```\r\n   mMapViewLayout = (MapView) mapView;\r\n        mMapViewLayout.onCreate(savedInstanceState);\r\n        mMapViewLayout.getMapAsync(this);\r\n```\r\n\r\nstep3: when onMapLoaded run\r\n\r\n```\r\n\r\n            if (ActivityCompat.checkSelfPermission(mainActivity, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(mainActivity, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                mGoogleClient.setMyLocationEnabled(needLocationEnable);// true\r\n             \r\n                UiSettings uiSettings = mGoogleClient.getUiSettings();\r\n                if (uiSettings != null) {\r\n                    uiSettings.setMyLocationButtonEnabled(false);\r\n                }\r\n            } else {\r\n                PermissionUtils.requestPermissions(mainActivity);\r\n            }\r\n\r\n\r\n```\r\n\r\nRuntime Environment:\r\n```\r\n   implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n    ...\r\n    compileSdkVersion = 31\r\n\r\n```\r\nin build.gradle\r\n\r\n\r\n\r\n```\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\nin manifest.xml\r\n\r\n\r\n```\r\n Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n                Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                Manifest.permission.RECORD_AUDIO,\r\n                Manifest.permission.CAMERA,\r\n                Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                Manifest.permission.READ_PHONE_STATE,\r\n                Manifest.permission.BLUETOOTH_CONNECT,\r\n                Manifest.permission.BLUETOOTH_SCAN\r\n```\r\nin permisstion request\r\n\r\n\r\n\r\n```\r\n    pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n```\r\nin setting.gradle\r\n\r\n\r\nat android version 12\r\n\r\napp screenshot:\r\n[enter image description here](https://i.stack.imgur.com/MuljA.jpg)\r\n\r\n\r\n\r\nIf you can help me, be grateful!Thanks!\r\n\r\n\r\n   I hope to use the blue dot that comes with Google instead of the mark drawn by myself。Because I can display the blue dot normally in the other project, but I really can&#39;t find the difference\r\n","title":"Why my googlemap&#39;s locate blue dot does not shown?","body":"<p>My project use the Android Google Map, hoping to display the positioning blue dot at the current position 。But whether I use all methods, the project cannot show the current blue dot.\nI hope to use the blue dot that comes with Google instead of the mark drawn by myself。\nshow code:</p>\n<p>step1:</p>\n<pre><code> MapsInitializer.initialize(context, MapsInitializer.Renderer.LATEST, new OnMapsSdkInitializedCallback() {\n            @Override\n            public void onMapsSdkInitialized(@NonNull MapsInitializer.Renderer renderer) {\n                switch (renderer) {\n                    case LATEST:\n                        WriteStreamAppend.method1(&quot;google  onMapsSdkInitialized  LATEST &quot;);\n                        break;\n                    case LEGACY:\n                        WriteStreamAppend.method1(&quot;google  onMapsSdkInitialized  LEGACY &quot;);\n                        break;\n                }\n            }\n        });\n</code></pre>\n<p>step2：</p>\n<pre><code>   mMapViewLayout = (MapView) mapView;\n        mMapViewLayout.onCreate(savedInstanceState);\n        mMapViewLayout.getMapAsync(this);\n</code></pre>\n<p>step3: when onMapLoaded run</p>\n<pre><code>\n            if (ActivityCompat.checkSelfPermission(mainActivity, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(mainActivity, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                mGoogleClient.setMyLocationEnabled(needLocationEnable);// true\n             \n                UiSettings uiSettings = mGoogleClient.getUiSettings();\n                if (uiSettings != null) {\n                    uiSettings.setMyLocationButtonEnabled(false);\n                }\n            } else {\n                PermissionUtils.requestPermissions(mainActivity);\n            }\n\n\n</code></pre>\n<p>Runtime Environment:</p>\n<pre><code>   implementation 'com.google.android.gms:play-services-maps:18.1.0'\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n    ...\n    compileSdkVersion = 31\n\n</code></pre>\n<p>in build.gradle</p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>in manifest.xml</p>\n<pre><code> Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                Manifest.permission.READ_EXTERNAL_STORAGE,\n                Manifest.permission.RECORD_AUDIO,\n                Manifest.permission.CAMERA,\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION,\n                Manifest.permission.READ_PHONE_STATE,\n                Manifest.permission.BLUETOOTH_CONNECT,\n                Manifest.permission.BLUETOOTH_SCAN\n</code></pre>\n<p>in permisstion request</p>\n<pre><code>    pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n<p>in setting.gradle</p>\n<p>at android version 12</p>\n<p>app screenshot:\n<a href=\"https://i.stack.imgur.com/MuljA.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>If you can help me, be grateful!Thanks!</p>\n<p>I hope to use the blue dot that comes with Google instead of the mark drawn by myself。Because I can display the blue dot normally in the other project, but I really can't find the difference</p>\n"},{"tags":["java","android","amazon-web-services","aws-amplify","datastore"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1675291876,"post_id":75316187,"comment_id":132900142,"body_markdown":"Are you interested in using AMazon DyanamoDB with the AWS SDK for Java or this amplify JS script","body":"Are you interested in using AMazon DyanamoDB with the AWS SDK for Java or this amplify JS script"},{"owner":{"account_id":21505789,"reputation":29,"user_id":15849197,"display_name":"jessa"},"score":0,"creation_date":1675322714,"post_id":75316187,"comment_id":132904850,"body_markdown":"@smac2020 Im using Amplify but in Java (for the arduino app im building)","body":"@smac2020 Im using Amplify but in Java (for the arduino app im building)"}],"answers":[{"tags":[],"owner":{"account_id":6447558,"reputation":46,"user_id":4995616,"display_name":"Duncan Skilton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675417899,"creation_date":1675417899,"answer_id":75334019,"question_id":75316187,"body_markdown":"You&#39;re potential going to be sending and retrieving a lot of data from dynamodb. Could you cache the data locally when your app starts, then write the data to dynamodb before your program ends? \r\n\r\nYou could add ZonedDateTime.now() or similar, to record when each point of data is created? If you use Set&lt;ClassName&gt; setName, you could use something like setName.sort(Comparator.comparing(ClassName::getZonedDateTime))","title":"How to retrieve latest item from DynamoDB table (Java)","body":"<p>You're potential going to be sending and retrieving a lot of data from dynamodb. Could you cache the data locally when your app starts, then write the data to dynamodb before your program ends?</p>\n<p>You could add ZonedDateTime.now() or similar, to record when each point of data is created? If you use Set setName, you could use something like setName.sort(Comparator.comparing(ClassName::getZonedDateTime))</p>\n"}],"owner":{"account_id":21505789,"reputation":29,"user_id":15849197,"display_name":"jessa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675417899,"creation_date":1675285562,"question_id":75316187,"body_markdown":"I am trying to create an IoT project where sensor data is sent every second to DynamoDB and an android app has to display it on the front-end. Using AWS Amplify, I was able to build an app that retrieves the data from the table with a button press according to its ID. What I want to retrieve is the latest item from the DB. I believe this can be done by sorting all the items in descending order and limiting the items to be retrieved by 1, and putting it in a loop. \r\n\r\nMy problem is I am having difficulty in writing the correct syntax for it. This is my current code:\r\n\r\n```\r\n    public void readById() {\r\n        String objectId = &quot;f5d470f6-72e2-49b6-bf28-43d7db130de4&quot;;\r\n\r\n        Amplify.DataStore.query(\r\n                MyModel.class,\r\n                Where.id(objectId),\r\n                items -&gt; {\r\n\r\n                    while (items.hasNext()) {\r\n                        MyModel item = items.next();\r\n                        retrievedItem = item.getName().toString();\r\n\r\n                        Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId() + &quot; &quot; + item.getName());\r\n                    }\r\n                    \r\n                },\r\n                failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\r\n        );\r\n    }\r\n```\r\n\r\nThe code below is what I want to achieve, but trying this method did not work because I can&#39;t find the builder() method under QueryOptions or QueryPredicate even though my AWS amplify dependencies is up to date. \r\n```\r\nAmplify.DataStore.query(MyModel.class, QueryOptions.builder()\r\n    .sort(MyModel.TIMESTAMP, SortOrder.DESCENDING)\r\n    .limit(1)\r\n    .build(),\r\n    result -&gt; {\r\n        System.out.println(result.get(0));\r\n    },\r\n    error -&gt; {\r\n        System.out.println(error.getCause());\r\n    });\r\n```\r\n\r\nI saw a code snippet from amplify docs (https://docs.amplify.aws/lib/datastore/sync/q/platform/android/#reevaluate-expressions-at-runtime) about advanced use cases of Query but it does not seem to sync with my code, see image below:\r\n\r\n```\r\nAmplify.addPlugin(AWSDataStorePlugin.builder().dataStoreConfiguration(\r\n    DataStoreConfiguration.builder()\r\n        .syncExpression(User.class, () -&gt; User.LAST_NAME.eq(&quot;Doe&quot;).and(User.CREATED_AT.gt(&quot;2020-10-10&quot;)))\r\n        .build())\r\n    .build());\r\n```\r\n\r\nI am new to AWS so it&#39;s a struggle but I&#39;m willing to learn. Any input is appreciated!","title":"How to retrieve latest item from DynamoDB table (Java)","body":"<p>I am trying to create an IoT project where sensor data is sent every second to DynamoDB and an android app has to display it on the front-end. Using AWS Amplify, I was able to build an app that retrieves the data from the table with a button press according to its ID. What I want to retrieve is the latest item from the DB. I believe this can be done by sorting all the items in descending order and limiting the items to be retrieved by 1, and putting it in a loop.</p>\n<p>My problem is I am having difficulty in writing the correct syntax for it. This is my current code:</p>\n<pre><code>    public void readById() {\n        String objectId = &quot;f5d470f6-72e2-49b6-bf28-43d7db130de4&quot;;\n\n        Amplify.DataStore.query(\n                MyModel.class,\n                Where.id(objectId),\n                items -&gt; {\n\n                    while (items.hasNext()) {\n                        MyModel item = items.next();\n                        retrievedItem = item.getName().toString();\n\n                        Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId() + &quot; &quot; + item.getName());\n                    }\n                    \n                },\n                failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\n        );\n    }\n</code></pre>\n<p>The code below is what I want to achieve, but trying this method did not work because I can't find the builder() method under QueryOptions or QueryPredicate even though my AWS amplify dependencies is up to date.</p>\n<pre><code>Amplify.DataStore.query(MyModel.class, QueryOptions.builder()\n    .sort(MyModel.TIMESTAMP, SortOrder.DESCENDING)\n    .limit(1)\n    .build(),\n    result -&gt; {\n        System.out.println(result.get(0));\n    },\n    error -&gt; {\n        System.out.println(error.getCause());\n    });\n</code></pre>\n<p>I saw a code snippet from amplify docs (<a href=\"https://docs.amplify.aws/lib/datastore/sync/q/platform/android/#reevaluate-expressions-at-runtime\" rel=\"nofollow noreferrer\">https://docs.amplify.aws/lib/datastore/sync/q/platform/android/#reevaluate-expressions-at-runtime</a>) about advanced use cases of Query but it does not seem to sync with my code, see image below:</p>\n<pre><code>Amplify.addPlugin(AWSDataStorePlugin.builder().dataStoreConfiguration(\n    DataStoreConfiguration.builder()\n        .syncExpression(User.class, () -&gt; User.LAST_NAME.eq(&quot;Doe&quot;).and(User.CREATED_AT.gt(&quot;2020-10-10&quot;)))\n        .build())\n    .build());\n</code></pre>\n<p>I am new to AWS so it's a struggle but I'm willing to learn. Any input is appreciated!</p>\n"},{"tags":["java","hashmap","unmodifiable"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1380122850,"post_id":19008993,"comment_id":28084179,"body_markdown":"There is no way to achieve this if the return type of the Method is `java.util.Map`. You can only change the return type to a custom class that wraps a `Map`.","body":"There is no way to achieve this if the return type of the Method is <code>java.util.Map</code>. You can only change the return type to a custom class that wraps a <code>Map</code>."},{"owner":{"account_id":993465,"reputation":2464,"user_id":1010048,"accept_rate":74,"display_name":"Boundless"},"score":0,"creation_date":1380122877,"post_id":19008993,"comment_id":28084203,"body_markdown":"That&#39;s fine, what do I change the return type to?","body":"That&#39;s fine, what do I change the return type to?"},{"owner":{"account_id":1051236,"reputation":18972,"user_id":1055118,"accept_rate":100,"display_name":"doctorlove"},"score":0,"creation_date":1380122945,"post_id":19008993,"comment_id":28084245,"body_markdown":"Perhaps you shouldn&#39;t return the whole map in that case","body":"Perhaps you shouldn&#39;t return the whole map in that case"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1380124112,"post_id":19008993,"comment_id":28085025,"body_markdown":"As a side note, the problem relaxes when you properly unit test your application - this should catch attempts to modify your unmodifiable collections.","body":"As a side note, the problem relaxes when you properly unit test your application - this should catch attempts to modify your unmodifiable collections."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1380127886,"post_id":19008993,"comment_id":28087278,"body_markdown":"If you can use third-party libraries, Guava&#39;s `ImmutableMap` implements the `Map` interface, but marks the mutation methods as `@Deprecated`, so it&#39;ll be a compile-time warning.","body":"If you can use third-party libraries, Guava&#39;s <code>ImmutableMap</code> implements the <code>Map</code> interface, but marks the mutation methods as <code>@Deprecated</code>, so it&#39;ll be a compile-time warning."}],"answers":[{"comments":[{"owner":{"account_id":993465,"reputation":2464,"user_id":1010048,"accept_rate":74,"display_name":"Boundless"},"score":0,"creation_date":1380123185,"post_id":19009057,"comment_id":28084413,"body_markdown":"So how do I let other developers know not to call put?","body":"So how do I let other developers know not to call put?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1380123247,"post_id":19009057,"comment_id":28084456,"body_markdown":"@Boundless. You can document your `getMap()` method specifying that it returns an `Unmodifiable` map. You can&#39;t achieve more than that.","body":"@Boundless. You can document your <code>getMap()</code> method specifying that it returns an <code>Unmodifiable</code> map. You can&#39;t achieve more than that."},{"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"score":0,"creation_date":1380123760,"post_id":19009057,"comment_id":28084794,"body_markdown":"The return type of Collections.unmodifiableMap(aMap) is a concrete class http://www.docjar.com/docs/api/java/util/Collections$UnmodifiableMap.html. Just that it is package private and not visible outside java.util package","body":"The return type of Collections.unmodifiableMap(aMap) is a concrete class <a href=\"http://www.docjar.com/docs/api/java/util/Collections$UnmodifiableMap.html\" rel=\"nofollow noreferrer\">docjar.com/docs/api/java/util/Collections$UnmodifiableMap.ht&zwnj;&#8203;ml</a>. Just that it is package private and not visible outside java.util package"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380123246,"creation_date":1380122899,"answer_id":19009057,"question_id":19008993,"body_markdown":"You can not do it.\r\n\r\nAn unmodifiable Collection is an *implementation* choice, not a *type*.\r\n\r\nThe best you could do is to document it with javadoc, something like:\r\n\r\n    /**\r\n     * Gets the map\r\n     * @returns An unmodifiable Map\r\n     */\r\n    public Map&lt;String, Bar&gt; getMap(){\r\n        return Collections.unmodifiableMap(aMap);\r\n    }\r\n","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>You can not do it.</p>\n\n<p>An unmodifiable Collection is an <em>implementation</em> choice, not a <em>type</em>.</p>\n\n<p>The best you could do is to document it with javadoc, something like:</p>\n\n<pre><code>/**\n * Gets the map\n * @returns An unmodifiable Map\n */\npublic Map&lt;String, Bar&gt; getMap(){\n    return Collections.unmodifiableMap(aMap);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2229408,"reputation":865,"user_id":1967402,"accept_rate":33,"display_name":"Micha&#235;l Benjamin Saerens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380123227,"creation_date":1380123227,"answer_id":19009181,"question_id":19008993,"body_markdown":"A default Map is modifiable, period.\r\n\r\nIf you want it to be unmodifiable, you&#39;ll have to write your own class that has a Map as variable, implement all methods you need again and pass it on to the map.\r\n\r\nSince you don&#39;t want the .put() method, you skip that one.","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>A default Map is modifiable, period.</p>\n\n<p>If you want it to be unmodifiable, you'll have to write your own class that has a Map as variable, implement all methods you need again and pass it on to the map.</p>\n\n<p>Since you don't want the .put() method, you skip that one.</p>\n"},{"comments":[{"owner":{"account_id":1027240,"reputation":6017,"user_id":1036285,"accept_rate":81,"display_name":"StormeHawke"},"score":2,"creation_date":1380125085,"post_id":19009258,"comment_id":28085636,"body_markdown":"As pointed out in another answer, be sure to pay attention to this:\n&quot;Beware that the values() and entrySet() methods returns modifiable collections, so you would need to wrap their returned value too.&quot;","body":"As pointed out in another answer, be sure to pay attention to this: &quot;Beware that the values() and entrySet() methods returns modifiable collections, so you would need to wrap their returned value too.&quot;"}],"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1380123877,"creation_date":1380123409,"answer_id":19009258,"question_id":19008993,"body_markdown":"You could create a class like\r\n\r\n    class ReadOnlyMap&lt;K, V&gt; {\r\n    \r\n        private final Map&lt;K, V&gt; map;\r\n        \r\n        public ReadOnlyMap(Map&lt;K, V&gt; map) {\r\n           this.map = map;\r\n        }\r\n    \r\n        public V get(Object key) {\r\n            return map.get(key);\r\n        }\r\n    \r\n        // also implement size() method\r\n        // and everything else you want to expose\r\n    }\r\n\r\nand use it as the return type of your method. Then your method would be\r\n\r\n    public ReadOnlyMap&lt;String, Bar&gt; getMap() {\r\n        return new ReadOnlyMap(aMap);\r\n    }\r\n\r\nBeware that this won&#39;t hinder the caller to mutate the value objects, if they&#39;re not instances of immutable classes.","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>You could create a class like</p>\n\n<pre><code>class ReadOnlyMap&lt;K, V&gt; {\n\n    private final Map&lt;K, V&gt; map;\n\n    public ReadOnlyMap(Map&lt;K, V&gt; map) {\n       this.map = map;\n    }\n\n    public V get(Object key) {\n        return map.get(key);\n    }\n\n    // also implement size() method\n    // and everything else you want to expose\n}\n</code></pre>\n\n<p>and use it as the return type of your method. Then your method would be</p>\n\n<pre><code>public ReadOnlyMap&lt;String, Bar&gt; getMap() {\n    return new ReadOnlyMap(aMap);\n}\n</code></pre>\n\n<p>Beware that this won't hinder the caller to mutate the value objects, if they're not instances of immutable classes.</p>\n"},{"tags":[],"owner":{"account_id":1542133,"reputation":6317,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380123546,"creation_date":1380123546,"answer_id":19009311,"question_id":19008993,"body_markdown":"You cannot do it with the standard classes. With the standard classes, the only way that you know that it is unmodifiable is to try to modify it and receive an `UnsupportedOperationException`.\r\n\r\nYou can achieve compile-time checking by creating your own `UnmodifiableMap` implementation that uses a normal `Map` internally (probably unmodifiable). It would have the usual &quot;read&quot; operations and they would be delegated to the underlying `Map`. It would not have the usual &quot;write&quot; operations. I would guess that you would want to also have a method that would return the underlying `Map` (or a copy of it) to enhance interoperability with other code.","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>You cannot do it with the standard classes. With the standard classes, the only way that you know that it is unmodifiable is to try to modify it and receive an <code>UnsupportedOperationException</code>.</p>\n\n<p>You can achieve compile-time checking by creating your own <code>UnmodifiableMap</code> implementation that uses a normal <code>Map</code> internally (probably unmodifiable). It would have the usual \"read\" operations and they would be delegated to the underlying <code>Map</code>. It would not have the usual \"write\" operations. I would guess that you would want to also have a method that would return the underlying <code>Map</code> (or a copy of it) to enhance interoperability with other code.</p>\n"},{"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1380123728,"post_id":19009322,"comment_id":28084768,"body_markdown":"If you want to comply to a `Map` as close as possible, the `get()` method should take `Object` as parameter, not `K` ;) Otherwise, that&#39;s the way to go.","body":"If you want to comply to a <code>Map</code> as close as possible, the <code>get()</code> method should take <code>Object</code> as parameter, not <code>K</code> ;) Otherwise, that&#39;s the way to go."}],"tags":[],"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380123580,"creation_date":1380123580,"answer_id":19009322,"question_id":19008993,"body_markdown":"You can create a `UnmodifiableMap` object that has all read methods of the `Map` interface but lacks the write methods. This object would wrap the map you want. It would look like :\r\n\r\n    public class UnmodifiableMap&lt;K, V&gt; {\r\n\r\n        private final Map&lt;K, V&gt; map;\r\n\r\n        public UnmodifiableMap(final Map&lt;K, V&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n        public boolean containsKey(final K key) {\r\n            return map.containsKey(key);\r\n        }\r\n\r\n        public V get(final K key) {\r\n            return map.get(key);\r\n        }\r\n\r\n        // And so on.\r\n\r\n    }\r\n\r\nBeware that the values() and entrySet() methods returns *modifiable* collections, so you would need to wrap their returned value too.\r\n","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>You can create a <code>UnmodifiableMap</code> object that has all read methods of the <code>Map</code> interface but lacks the write methods. This object would wrap the map you want. It would look like :</p>\n\n<pre><code>public class UnmodifiableMap&lt;K, V&gt; {\n\n    private final Map&lt;K, V&gt; map;\n\n    public UnmodifiableMap(final Map&lt;K, V&gt; map) {\n        this.map = map;\n    }\n\n    public boolean containsKey(final K key) {\n        return map.containsKey(key);\n    }\n\n    public V get(final K key) {\n        return map.get(key);\n    }\n\n    // And so on.\n\n}\n</code></pre>\n\n<p>Beware that the values() and entrySet() methods returns <em>modifiable</em> collections, so you would need to wrap their returned value too.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380124613,"creation_date":1380124127,"answer_id":19009513,"question_id":19008993,"body_markdown":"This seems to get near what you are asking for. It does not give an error but it does give a warning!\r\n\r\n    public class Solid {\r\n      // My map has no put.\r\n      public interface Map&lt;K, V&gt; extends java.util.Map&lt;K, V&gt; {\r\n        /**\r\n         * Put to the Map.\r\n         *\r\n         * @deprecated SolidMap is unmodifiable. put() will fail!\r\n         */\r\n        @Deprecated\r\n        @Override\r\n        V put(K key, V value);\r\n\r\n      }\r\n\r\n      // Could also do this for lists etc.\r\n\r\n      // Helper wrappers from each kind of map.\r\n      public class HashMap&lt;K, V&gt; extends java.util.HashMap&lt;K, V&gt; implements Solid.Map&lt;K, V&gt; {\r\n      }\r\n\r\n      public class TreeMap&lt;K, V&gt; extends java.util.TreeMap&lt;K, V&gt; implements Solid.Map&lt;K, V&gt; {\r\n      }\r\n      //...\r\n\r\n      // Test only.\r\n      public void test() {\r\n        Solid.Map&lt;String, String&gt; sm = new Solid.HashMap&lt;&gt;();\r\n        // Warning that put is deprecated!\r\n        String put = sm.put(&quot;Key&quot;, &quot;Value&quot;);\r\n      }\r\n\r\n      public static void main(String args[]) {\r\n        try {\r\n          new Solid().test();\r\n        } catch (Throwable t) {\r\n          t.printStackTrace(System.err);\r\n        }\r\n      }\r\n\r\n    }\r\n","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>This seems to get near what you are asking for. It does not give an error but it does give a warning!</p>\n\n<pre><code>public class Solid {\n  // My map has no put.\n  public interface Map&lt;K, V&gt; extends java.util.Map&lt;K, V&gt; {\n    /**\n     * Put to the Map.\n     *\n     * @deprecated SolidMap is unmodifiable. put() will fail!\n     */\n    @Deprecated\n    @Override\n    V put(K key, V value);\n\n  }\n\n  // Could also do this for lists etc.\n\n  // Helper wrappers from each kind of map.\n  public class HashMap&lt;K, V&gt; extends java.util.HashMap&lt;K, V&gt; implements Solid.Map&lt;K, V&gt; {\n  }\n\n  public class TreeMap&lt;K, V&gt; extends java.util.TreeMap&lt;K, V&gt; implements Solid.Map&lt;K, V&gt; {\n  }\n  //...\n\n  // Test only.\n  public void test() {\n    Solid.Map&lt;String, String&gt; sm = new Solid.HashMap&lt;&gt;();\n    // Warning that put is deprecated!\n    String put = sm.put(\"Key\", \"Value\");\n  }\n\n  public static void main(String args[]) {\n    try {\n      new Solid().test();\n    } catch (Throwable t) {\n      t.printStackTrace(System.err);\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12902473,"reputation":321,"user_id":9330812,"display_name":"MadHatter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675417330,"creation_date":1675417330,"answer_id":75333927,"question_id":19008993,"body_markdown":"Currently I&#39;m debugging an issue in Jenkins, then come across the default variable &quot;prams&quot; in Jenkins. With `echo params.getClass().getSimpleName()`, the output is `UnmodifiableMap`.   \r\nThen find out there is a method in ***groovy*** which will return a `UnmodifiableMap` class: `Map map = [:]`, `def updatedMap = Collections.unmodifiableMap(map)`, then the type of the &quot;updatedMap&quot; is &quot;UnmodifiableMap&quot;.  \r\n","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>Currently I'm debugging an issue in Jenkins, then come across the default variable &quot;prams&quot; in Jenkins. With <code>echo params.getClass().getSimpleName()</code>, the output is <code>UnmodifiableMap</code>.<br />\nThen find out there is a method in <em><strong>groovy</strong></em> which will return a <code>UnmodifiableMap</code> class: <code>Map map = [:]</code>, <code>def updatedMap = Collections.unmodifiableMap(map)</code>, then the type of the &quot;updatedMap&quot; is &quot;UnmodifiableMap&quot;.</p>\n"}],"owner":{"account_id":993465,"reputation":2464,"user_id":1010048,"accept_rate":74,"display_name":"Boundless"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19009258,"answer_count":7,"score":1,"last_activity_date":1675417330,"creation_date":1380122734,"question_id":19008993,"body_markdown":"I&#39;m returning an unmodifiable map from a method.  How do I make sure that any code that tries to modify the returned map will get a compile time error, as opposed to a run time error?\r\n\r\nMy class:\r\n\r\n    public class Foo\r\n    {\r\n        private final Map&lt;String, Bar&gt; aMap;\r\n    \r\n        public Foo()\r\n        {\r\n    \t...\r\n        }\r\n    \r\n        public Map&lt;String, Bar&gt; getMap(){\r\n            return Collections.unmodifiableMap(aMap);\r\n        }\r\n    }\r\n\r\nI want this to create a compile time error:\r\n\r\n    Foo foo = new Foo();\r\n    Map&lt;String, Bar&gt; m = foo.getMap();\r\n    m.put(&#39;key&#39;,null); // user should be notified that the map is unmodifiable here, not at run time\r\n\r\nCan I change the return type?\r\nCan I add an appropriate annotation?","title":"How to declare that method is returning Collections.unmodifiableMap","body":"<p>I'm returning an unmodifiable map from a method.  How do I make sure that any code that tries to modify the returned map will get a compile time error, as opposed to a run time error?</p>\n\n<p>My class:</p>\n\n<pre><code>public class Foo\n{\n    private final Map&lt;String, Bar&gt; aMap;\n\n    public Foo()\n    {\n    ...\n    }\n\n    public Map&lt;String, Bar&gt; getMap(){\n        return Collections.unmodifiableMap(aMap);\n    }\n}\n</code></pre>\n\n<p>I want this to create a compile time error:</p>\n\n<pre><code>Foo foo = new Foo();\nMap&lt;String, Bar&gt; m = foo.getMap();\nm.put('key',null); // user should be notified that the map is unmodifiable here, not at run time\n</code></pre>\n\n<p>Can I change the return type?\nCan I add an appropriate annotation?</p>\n"},{"tags":["java","json","moshi"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675360506,"post_id":75323887,"comment_id":132917564,"body_markdown":"What do you mean by &quot;won&#39;t deserialize&quot; and &quot;won&#39;t work&quot;? Any excpetion messages?","body":"What do you mean by &quot;won&#39;t deserialize&quot; and &quot;won&#39;t work&quot;? Any excpetion messages?"},{"owner":{"account_id":1874735,"reputation":8514,"user_id":1696171,"accept_rate":73,"display_name":"Eric Cochran"},"score":0,"creation_date":1675408711,"post_id":75323887,"comment_id":132926584,"body_markdown":"If you post runnable code with your expected result and your actual result and tag me, I&#39;ll take a look.","body":"If you post runnable code with your expected result and your actual result and tag me, I&#39;ll take a look."},{"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"score":0,"creation_date":1675416619,"post_id":75323887,"comment_id":132928581,"body_markdown":"@kerbermeister added more context - structure (Map&lt;String, List&lt;&gt;&gt;) I get is okay, the problem is in List&#39;s elements - they are not deserialized to target classes polymorphically, but to LinkedHashTreeMap&#39;s. No exceptions or errors, just wrong types","body":"@kerbermeister added more context - structure (Map&lt;String, List&lt;&gt;&gt;) I get is okay, the problem is in List&#39;s elements - they are not deserialized to target classes polymorphically, but to LinkedHashTreeMap&#39;s. No exceptions or errors, just wrong types"}],"answers":[{"tags":[],"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675416907,"creation_date":1675416907,"answer_id":75333853,"question_id":75323887,"body_markdown":"It seems that to deserialize nested collections we have to pass nested parametrized types to the adapter. \r\nAfter changing this \r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\r\n```\r\n```\r\nParameterizedType type = Types.newParameterizedType(Map.class, String.class, Types.newParameterizedType(List.class, baseType));\r\n```\r\nI now have a working solution - I get a `Map` with `List&lt;? extends T&gt;` values, where values are actual descendants of a common ancestor and not `LinkedHashTreeMap`s.","title":"Can&#39;t perform polymorphic deserialization of nested collections using Moshi PolymorphicJsonAdapterFactory","body":"<p>It seems that to deserialize nested collections we have to pass nested parametrized types to the adapter.\nAfter changing this</p>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\n</code></pre>\n<pre><code>ParameterizedType type = Types.newParameterizedType(Map.class, String.class, Types.newParameterizedType(List.class, baseType));\n</code></pre>\n<p>I now have a working solution - I get a <code>Map</code> with <code>List&lt;? extends T&gt;</code> values, where values are actual descendants of a common ancestor and not <code>LinkedHashTreeMap</code>s.</p>\n"}],"owner":{"account_id":17724494,"reputation":43,"user_id":13447729,"display_name":"wanderbild"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75333853,"answer_count":1,"score":0,"last_activity_date":1675417160,"creation_date":1675344521,"question_id":75323887,"body_markdown":"Complex nested Data types won&#39;t deserialize to intended classes using a standard approach.\r\n\r\nAs of now, I have this working code, which deserializes json to `Map&lt;String, ? extends T&gt;` structure: \r\n\r\n```\r\n    private static &lt;T&gt; Map&lt;String, ? extends T&gt; deserializeTypeAdaptableJson(Class&lt;T&gt; baseType, List&lt;Class&lt;? extends T&gt;&gt; subclasses, String json) {\r\n        PolymorphicJsonAdapterFactory&lt;T&gt; factory = PolymorphicJsonAdapterFactory.of(baseType, &quot;type&quot;);\r\n        for (Class&lt;? extends T&gt; subclass : subclasses) {\r\n            factory = factory.withSubtype(subclass, subclass.getSimpleName());\r\n        }\r\n        Moshi moshi = new Moshi.Builder().add(factory).build();\r\n        ParameterizedType type = Types.newParameterizedType(Map.class, String.class, baseType);\r\n        JsonAdapter&lt;Map&lt;String, ? extends T&gt;&gt; adapter = moshi.adapter(type);\r\n        return adapter.fromJson(json);\r\n```\r\n\r\n\r\nWhat I actually need to deserialize is  `Map&lt;String, List&lt;? extends T&gt;&gt;`, but this code\r\n\r\n```\r\n    private static &lt;T&gt; Map&lt;String, List&lt;? extends T&gt;&gt; deserializeTypeAdaptableJson(Class&lt;T&gt; baseType, List&lt;Class&lt;? extends T&gt;&gt; subclasses, String json) {\r\n        PolymorphicJsonAdapterFactory&lt;T&gt; factory = PolymorphicJsonAdapterFactory.of(baseType, &quot;type&quot;);\r\n        for (Class&lt;? extends T&gt; subclass : subclasses) {\r\n            factory = factory.withSubtype(subclass, subclass.getSimpleName());\r\n        }\r\n        Moshi moshi = new Moshi.Builder().add(factory).build();\r\n        ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\r\n        JsonAdapter&lt;Map&lt;String, List&lt;? extends T&gt;&gt;&gt; adapter = moshi.adapter(type);\r\n        return adapter.fromJson(json);\r\n```\r\nhowever gives me the correct structure - `Map` with `String` keys and `List` values, but inside of those lists instead of subclasses&#39; instances, I receive Gson&#39;s `LinkedHashTreeMap` with &quot;type&quot; property storing the actual class.\r\nI couldn&#39;t find an example for deserializing nested collections. What do I need to add?","title":"Can&#39;t perform polymorphic deserialization of nested collections using Moshi PolymorphicJsonAdapterFactory","body":"<p>Complex nested Data types won't deserialize to intended classes using a standard approach.</p>\n<p>As of now, I have this working code, which deserializes json to <code>Map&lt;String, ? extends T&gt;</code> structure:</p>\n<pre><code>    private static &lt;T&gt; Map&lt;String, ? extends T&gt; deserializeTypeAdaptableJson(Class&lt;T&gt; baseType, List&lt;Class&lt;? extends T&gt;&gt; subclasses, String json) {\n        PolymorphicJsonAdapterFactory&lt;T&gt; factory = PolymorphicJsonAdapterFactory.of(baseType, &quot;type&quot;);\n        for (Class&lt;? extends T&gt; subclass : subclasses) {\n            factory = factory.withSubtype(subclass, subclass.getSimpleName());\n        }\n        Moshi moshi = new Moshi.Builder().add(factory).build();\n        ParameterizedType type = Types.newParameterizedType(Map.class, String.class, baseType);\n        JsonAdapter&lt;Map&lt;String, ? extends T&gt;&gt; adapter = moshi.adapter(type);\n        return adapter.fromJson(json);\n</code></pre>\n<p>What I actually need to deserialize is  <code>Map&lt;String, List&lt;? extends T&gt;&gt;</code>, but this code</p>\n<pre><code>    private static &lt;T&gt; Map&lt;String, List&lt;? extends T&gt;&gt; deserializeTypeAdaptableJson(Class&lt;T&gt; baseType, List&lt;Class&lt;? extends T&gt;&gt; subclasses, String json) {\n        PolymorphicJsonAdapterFactory&lt;T&gt; factory = PolymorphicJsonAdapterFactory.of(baseType, &quot;type&quot;);\n        for (Class&lt;? extends T&gt; subclass : subclasses) {\n            factory = factory.withSubtype(subclass, subclass.getSimpleName());\n        }\n        Moshi moshi = new Moshi.Builder().add(factory).build();\n        ParameterizedType type = Types.newParameterizedType(Map.class, String.class, List.class, baseType);\n        JsonAdapter&lt;Map&lt;String, List&lt;? extends T&gt;&gt;&gt; adapter = moshi.adapter(type);\n        return adapter.fromJson(json);\n</code></pre>\n<p>however gives me the correct structure - <code>Map</code> with <code>String</code> keys and <code>List</code> values, but inside of those lists instead of subclasses' instances, I receive Gson's <code>LinkedHashTreeMap</code> with &quot;type&quot; property storing the actual class.\nI couldn't find an example for deserializing nested collections. What do I need to add?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15699209,"reputation":1056,"user_id":11327755,"display_name":"Jakob F"},"score":0,"creation_date":1581437747,"post_id":60173028,"comment_id":106429445,"body_markdown":"Could you show more of your code, we need to know where you call `setRadius()`.","body":"Could you show more of your code, we need to know where you call <code>setRadius()</code>."},{"owner":{"account_id":6484769,"reputation":366,"user_id":5020713,"display_name":"Soumyadeep Ghosh"},"score":0,"creation_date":1581438382,"post_id":60173028,"comment_id":106429810,"body_markdown":"@JakobF Question updated as requested","body":"@JakobF Question updated as requested"}],"answers":[{"comments":[{"owner":{"account_id":11317635,"reputation":53209,"user_id":8298909,"display_name":"Ben P."},"score":6,"creation_date":1581442116,"post_id":60174311,"comment_id":106431855,"body_markdown":"Use `setCardBackgroundColor()` instead of `setBackground()`. The &quot;card&quot; _is_ the background; don&#39;t override it.","body":"Use <code>setCardBackgroundColor()</code> instead of <code>setBackground()</code>. The &quot;card&quot; <i>is</i> the background; don&#39;t override it."},{"owner":{"account_id":11317635,"reputation":53209,"user_id":8298909,"display_name":"Ben P."},"score":1,"creation_date":1581442151,"post_id":60174311,"comment_id":106431877,"body_markdown":"Or, if you don&#39;t want a simple color, use a `FrameLayout` inside of your `CardView` and then set the background of the FrameLayout.","body":"Or, if you don&#39;t want a simple color, use a <code>FrameLayout</code> inside of your <code>CardView</code> and then set the background of the FrameLayout."},{"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"score":0,"creation_date":1604470662,"post_id":60174311,"comment_id":114354216,"body_markdown":"so is there any solution to this? I want to define Backgroundcolor as well as radius programatically.","body":"so is there any solution to this? I want to define Backgroundcolor as well as radius programatically."}],"tags":[],"owner":{"account_id":6484769,"reputation":366,"user_id":5020713,"display_name":"Soumyadeep Ghosh"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1581457219,"creation_date":1581441784,"answer_id":60174311,"question_id":60173028,"body_markdown":"Adding a Background or Background Color to a CardView will remove Rounded Corners.","title":"CardView.setRadius() is not working when assigned programmatically","body":"<p>Adding a Background or Background Color to a CardView will remove Rounded Corners.</p>\n"},{"tags":[],"owner":{"account_id":14351438,"reputation":31,"user_id":10366774,"display_name":"b y f hc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675416613,"creation_date":1675416613,"answer_id":75333807,"question_id":60173028,"body_markdown":"My solution: add a LinearLayout(or other) inside the Cardview ,change backgroundColor of LinearLayout instead using `setBackgroundColor`\r\n\r\n\r\n\r\n      &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:cardCornerRadius=&quot;12dp&quot;\r\n            &gt;\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/video_card_duration_size&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                &gt;\r\n              ...\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n in java code\r\n \r\n\r\n    linearLayout.setBackgroundColor(SurfaceColors.SURFACE_2.getColor(context));","title":"CardView.setRadius() is not working when assigned programmatically","body":"<p>My solution: add a LinearLayout(or other) inside the Cardview ,change backgroundColor of LinearLayout instead using <code>setBackgroundColor</code></p>\n<pre><code>  &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:cardCornerRadius=&quot;12dp&quot;\n        &gt;\n        &lt;LinearLayout\n            android:id=&quot;@+id/video_card_duration_size&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            &gt;\n          ...\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>in java code</p>\n<pre><code>linearLayout.setBackgroundColor(SurfaceColors.SURFACE_2.getColor(context));\n</code></pre>\n"}],"owner":{"account_id":6484769,"reputation":366,"user_id":5020713,"display_name":"Soumyadeep Ghosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1479,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60174311,"answer_count":2,"score":4,"last_activity_date":1675416613,"creation_date":1581437239,"question_id":60173028,"body_markdown":"So in my program, I want to generate CardViews dynamically on a predefined Layout that I intend to place inside a LinearLayout with horizontal orientation, which is inside a horizontal ScrollView. Everything in the code works fine except:\r\n\r\n    cv.setRadius(Tools.convertDpToPx(context,5));\r\n\r\n[cv is a CardView Object]\r\n\r\n[Tools.convertDpToPx(context,float) resides in Tools as static function and returns translated values in Pixels from DP]\r\n\r\nTried getting **cv.getRadius()** to check if my values are getting assigned, and they are.\r\n\r\nDoes anyone have an idea why the **setRadius()** is not working?\r\n\r\n**IMPLEMENTATION OF CODE**\r\n\r\n    CardView cv = new CardView(context);\r\n    // Set external card view wrapper(cv) properties\r\n    CardView.LayoutParams cvlp=new CardView.LayoutParams(Tools.convertDpToPx(context,155),Tools.convertDpToPx(context,200));\r\n    cvlp.leftMargin=Tools.convertDpToPx(context,10);\r\n    cv.setLayoutParams(cvlp);\r\n    cv.setBackground(new ColorDrawable(Color.parseColor(&quot;#002038&quot;)));\r\n    cv.setPreventCornerOverlap(false);\r\n    cv.setRadius(Tools.convertDpToPx(context,5));\r\n    //And more elements added to Card View Layout\r\n    cv.setId(View.generateViewId());","title":"CardView.setRadius() is not working when assigned programmatically","body":"<p>So in my program, I want to generate CardViews dynamically on a predefined Layout that I intend to place inside a LinearLayout with horizontal orientation, which is inside a horizontal ScrollView. Everything in the code works fine except:</p>\n\n<pre><code>cv.setRadius(Tools.convertDpToPx(context,5));\n</code></pre>\n\n<p>[cv is a CardView Object]</p>\n\n<p>[Tools.convertDpToPx(context,float) resides in Tools as static function and returns translated values in Pixels from DP]</p>\n\n<p>Tried getting <strong>cv.getRadius()</strong> to check if my values are getting assigned, and they are.</p>\n\n<p>Does anyone have an idea why the <strong>setRadius()</strong> is not working?</p>\n\n<p><strong>IMPLEMENTATION OF CODE</strong></p>\n\n<pre><code>CardView cv = new CardView(context);\n// Set external card view wrapper(cv) properties\nCardView.LayoutParams cvlp=new CardView.LayoutParams(Tools.convertDpToPx(context,155),Tools.convertDpToPx(context,200));\ncvlp.leftMargin=Tools.convertDpToPx(context,10);\ncv.setLayoutParams(cvlp);\ncv.setBackground(new ColorDrawable(Color.parseColor(\"#002038\")));\ncv.setPreventCornerOverlap(false);\ncv.setRadius(Tools.convertDpToPx(context,5));\n//And more elements added to Card View Layout\ncv.setId(View.generateViewId());\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":1232942,"reputation":1911,"user_id":1197140,"accept_rate":30,"display_name":"Chandu"},"score":0,"creation_date":1675409899,"post_id":75332487,"comment_id":132926824,"body_markdown":"Thanks, What is @JoinColumn(name = &quot;address_id&quot;) mean ? Does it mean that Address will have its own table ?","body":"Thanks, What is @JoinColumn(name = &quot;address_id&quot;) mean ? Does it mean that Address will have its own table ?"}],"tags":[],"owner":{"account_id":1326418,"reputation":826,"user_id":1271131,"accept_rate":50,"display_name":"Vipul"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675407919,"creation_date":1675407919,"answer_id":75332487,"question_id":75332429,"body_markdown":"You can use single value association something like below\r\n\r\n        @Entity\r\n    public class Person {\r\n      @Id\r\n      private Long id;\r\n    \r\n      @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;address_id&quot;)\r\n      private Address address;\r\n    }\r\n    \r\n    @Embeddable\r\n    public class Address {\r\n      private String street;\r\n      private String city;\r\n    }\r\n\r\nYou can read more about @oneToOne [here][1]\r\n \r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OneToOne.html","title":"How to ensure that only one instance of embeddable object can be created in a JPA entity?","body":"<p>You can use single value association something like below</p>\n<pre><code>    @Entity\npublic class Person {\n  @Id\n  private Long id;\n\n  @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;address_id&quot;)\n  private Address address;\n}\n\n@Embeddable\npublic class Address {\n  private String street;\n  private String city;\n}\n</code></pre>\n<p>You can read more about @oneToOne <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/OneToOne.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1232942,"reputation":1911,"user_id":1197140,"accept_rate":30,"display_name":"Chandu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675416420,"creation_date":1675416420,"answer_id":75333767,"question_id":75332429,"body_markdown":"Using **@Embedded** annotation the columns of **@Embeddable** class will be mapped to parent entity&#39;s table and hence will have only one instance.","title":"How to ensure that only one instance of embeddable object can be created in a JPA entity?","body":"<p>Using <strong>@Embedded</strong> annotation the columns of <strong>@Embeddable</strong> class will be mapped to parent entity's table and hence will have only one instance.</p>\n"}],"owner":{"account_id":1232942,"reputation":1911,"user_id":1197140,"accept_rate":30,"display_name":"Chandu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675416420,"creation_date":1675407587,"question_id":75332429,"body_markdown":"I am trying to generate JPA classes for legacy RDMS project.\r\n\r\nThere is an entity class **Person**, written in JPA.\r\nThe entity **Person** has another **Embeddale** class called **Address**.\r\n\r\nI can use **set**, **list** or **map** mapping for Embeddable **Address**. With any of these there can be multiple embedded objects in **Person**.\r\n\r\nBut the requirement is - *there can be at most only one instance of embeddable object. How to achieve this requirement? I cannot use subclass entities, it has to be embeddable object only.*","title":"How to ensure that only one instance of embeddable object can be created in a JPA entity?","body":"<p>I am trying to generate JPA classes for legacy RDMS project.</p>\n<p>There is an entity class <strong>Person</strong>, written in JPA.\nThe entity <strong>Person</strong> has another <strong>Embeddale</strong> class called <strong>Address</strong>.</p>\n<p>I can use <strong>set</strong>, <strong>list</strong> or <strong>map</strong> mapping for Embeddable <strong>Address</strong>. With any of these there can be multiple embedded objects in <strong>Person</strong>.</p>\n<p>But the requirement is - <em>there can be at most only one instance of embeddable object. How to achieve this requirement? I cannot use subclass entities, it has to be embeddable object only.</em></p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675416004,"creation_date":1675416004,"answer_id":75333699,"question_id":75333493,"body_markdown":"The pipeline you described is a batch pipeline because it read from a bounded source.\r\n\r\nThe job will automatically finish after reading all your data from GCS files and written them to BigTable.\r\n\r\nNo need to drain or stop it because it’s not a steaming job.\r\n\r\nIt will stop by itself after treating all the data.","title":"How to drain a java apache beam job from inside the java code?","body":"<p>The pipeline you described is a batch pipeline because it read from a bounded source.</p>\n<p>The job will automatically finish after reading all your data from GCS files and written them to BigTable.</p>\n<p>No need to drain or stop it because it’s not a steaming job.</p>\n<p>It will stop by itself after treating all the data.</p>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75333699,"answer_count":1,"score":0,"last_activity_date":1675416004,"creation_date":1675414739,"question_id":75333493,"body_markdown":"I am creating an apache beam pipeline that reads data from cloud storage and writes that data to Big Table. I want the job to stop automatically by itself when the data was fully read and written. How to accomplish that?\r\n\r\nhttps://stackoverflow.com/questions/30859829/how-to-stop-a-streaming-pipeline-in-google-cloud-dataflow\r\nI saw this question and there is a way to cancel the job. But this will stop before the end of the execution. How to ensure the job is done?","title":"How to drain a java apache beam job from inside the java code?","body":"<p>I am creating an apache beam pipeline that reads data from cloud storage and writes that data to Big Table. I want the job to stop automatically by itself when the data was fully read and written. How to accomplish that?</p>\n<p><a href=\"https://stackoverflow.com/questions/30859829/how-to-stop-a-streaming-pipeline-in-google-cloud-dataflow\">How to stop a streaming pipeline in google cloud dataflow</a>\nI saw this question and there is a way to cancel the job. But this will stop before the end of the execution. How to ensure the job is done?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9545,"page":678,"page_size":100}
