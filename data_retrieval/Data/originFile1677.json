{"items":[{"tags":["java","swing","graphics","overlay","scrollpane"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1334082608,"post_id":10093425,"comment_id":12928879,"body_markdown":"See also [`ScrollPanePaint`](http://stackoverflow.com/a/3518047/230513). Update: see also [*The Glass Pane*](http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html#glasspane). Either or both may help you construct an [sscce](http://sscce.org/).","body":"See also <a href=\"http://stackoverflow.com/a/3518047/230513\"><code>ScrollPanePaint</code></a>. Update: see also <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html#glasspane\" rel=\"nofollow noreferrer\"><i>The Glass Pane</i></a>. Either or both may help you construct an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce</a>."},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":1,"creation_date":1334087728,"post_id":10093425,"comment_id":12930914,"body_markdown":"That link was was just the nudge I needed in the right direction. Updated question with the solution. Thanks trashgod.","body":"That link was was just the nudge I needed in the right direction. Updated question with the solution. Thanks trashgod."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1642339269,"creation_date":1334098014,"answer_id":10097538,"question_id":10093425,"body_markdown":"Ordinarily, &quot;Swing programs should override `paintComponent()` instead of overriding `paint()`,&quot; as mentioned in [*Painting in AWT and Swing: The Paint Methods*][1]. Based on [`ScrollPanePaint`][2], which draws _below_ the scrolling content, the following example overrides `paint()` to draw _above_ the scrolling content.\r\n\r\n![ScrollPanePaint][3]\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    /**\r\n     * @see https://stackoverflow.com/a/10097538/230513\r\n     * @see https://stackoverflow.com/a/2846497/230513\r\n     * @see https://stackoverflow.com/a/3518047/230513\r\n     */\r\n    public class ScrollPanePaint extends JFrame {\r\n    \r\n        private static final int TILE = 64;\r\n    \r\n        public ScrollPanePaint() {\r\n            JViewport viewport = new MyViewport();\r\n            viewport.setView(new MyPanel());\r\n            JScrollPane scrollPane = new JScrollPane();\r\n            scrollPane.setViewport(viewport);\r\n            this.add(scrollPane);\r\n            this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n            this.pack();\r\n            this.setLocationRelativeTo(null);\r\n            this.setVisible(true);\r\n        }\r\n    \r\n        private static class MyViewport extends JViewport {\r\n    \r\n            public MyViewport() {\r\n                this.setOpaque(false);\r\n                this.setPreferredSize(new Dimension(6 * TILE, 6 * TILE));\r\n            }\r\n    \r\n            @Override\r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n                g.setColor(Color.blue);\r\n                g.fillRect(TILE, TILE, 3 * TILE, 3 * TILE);\r\n            }\r\n        }\r\n    \r\n        private static class MyPanel extends JPanel {\r\n    \r\n            public MyPanel() {\r\n                this.setOpaque(false);\r\n                this.setPreferredSize(new Dimension(9 * TILE, 9 * TILE));\r\n            }\r\n    \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                g.setColor(Color.lightGray);\r\n                int w = this.getWidth() / TILE + 1;\r\n                int h = this.getHeight() / TILE + 1;\r\n                for (int row = 0; row &lt; h; row++) {\r\n                    for (int col = 0; col &lt; w; col++) {\r\n                        if ((row + col) % 2 == 0) {\r\n                            g.fillRect(col * TILE, row * TILE, TILE, TILE);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    new ScrollPanePaint();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n**Note:** Setting an opaque component (for instance [JTable](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html)) as a view for the scroll pane will give strange visual bugs, for instance moving the fixed blue box when scrolling. Use `setOpaque(false)` on the view component to fix that.\r\n\r\n  [1]: https://www.oracle.com/java/technologies/painting.html#callbacks\r\n  [2]: https://stackoverflow.com/a/3518047/230513\r\n  [3]: http://i.stack.imgur.com/p3gfI.png","title":"Java: How to draw non-scrolling overlay over ScrollPane Viewport?","body":"<p>Ordinarily, &quot;Swing programs should override <code>paintComponent()</code> instead of overriding <code>paint()</code>,&quot; as mentioned in <a href=\"https://www.oracle.com/java/technologies/painting.html#callbacks\" rel=\"nofollow noreferrer\"><em>Painting in AWT and Swing: The Paint Methods</em></a>. Based on <a href=\"https://stackoverflow.com/a/3518047/230513\"><code>ScrollPanePaint</code></a>, which draws <em>below</em> the scrolling content, the following example overrides <code>paint()</code> to draw <em>above</em> the scrolling content.</p>\n<p><img src=\"https://i.stack.imgur.com/p3gfI.png\" alt=\"ScrollPanePaint\" /></p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\n/**\n * @see https://stackoverflow.com/a/10097538/230513\n * @see https://stackoverflow.com/a/2846497/230513\n * @see https://stackoverflow.com/a/3518047/230513\n */\npublic class ScrollPanePaint extends JFrame {\n\n    private static final int TILE = 64;\n\n    public ScrollPanePaint() {\n        JViewport viewport = new MyViewport();\n        viewport.setView(new MyPanel());\n        JScrollPane scrollPane = new JScrollPane();\n        scrollPane.setViewport(viewport);\n        this.add(scrollPane);\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n    private static class MyViewport extends JViewport {\n\n        public MyViewport() {\n            this.setOpaque(false);\n            this.setPreferredSize(new Dimension(6 * TILE, 6 * TILE));\n        }\n\n        @Override\n        public void paint(Graphics g) {\n            super.paint(g);\n            g.setColor(Color.blue);\n            g.fillRect(TILE, TILE, 3 * TILE, 3 * TILE);\n        }\n    }\n\n    private static class MyPanel extends JPanel {\n\n        public MyPanel() {\n            this.setOpaque(false);\n            this.setPreferredSize(new Dimension(9 * TILE, 9 * TILE));\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.setColor(Color.lightGray);\n            int w = this.getWidth() / TILE + 1;\n            int h = this.getHeight() / TILE + 1;\n            for (int row = 0; row &lt; h; row++) {\n                for (int col = 0; col &lt; w; col++) {\n                    if ((row + col) % 2 == 0) {\n                        g.fillRect(col * TILE, row * TILE, TILE, TILE);\n                    }\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                new ScrollPanePaint();\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> Setting an opaque component (for instance <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html\" rel=\"nofollow noreferrer\">JTable</a>) as a view for the scroll pane will give strange visual bugs, for instance moving the fixed blue box when scrolling. Use <code>setOpaque(false)</code> on the view component to fix that.</p>\n"}],"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4011,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10097538,"answer_count":1,"score":8,"last_activity_date":1642339269,"creation_date":1334078587,"question_id":10093425,"body_markdown":"I&#39;d like to use a ScrollPane to display an image in its Viewport, and also have a grid (or box, or any other type of registration/location marker) overlay on the image. I need the overlay to remain fixed when scrolling (meaning the image seems to move &quot;under&quot; the overlay). I will be scrolling the View in the Viewport at a fixed rate to provide a smooth motion, and the overlay is to provide a reference to a certain location within the Viewport. Conceptually, think of a large map scrolling in a Viewport, and the Viewport having a rectangle that does not move (relative to the Viewport itself) that marks a region that can be zoomed into based on some user action.\r\n\r\nI presume (but have not yet confirmed) that the ScrollPane implementation handles rendering of the View efficiently (from backing store, not having to repaint the entire View (or even ViewPort) for each new partial exposure) and so would prefer not to have to Override the paint() method.\r\n\r\nI&#39;ve looked at LayerPane, and while not having mastered it, it seems that this is a brute force approach. The ScrollPane is one Component of a SplitPane and will be moved/resized. I expect that I&#39;d have to manually maintain the correct relationship between the ViewPort and the LayerPane using absolute positioning. I&#39;m far from an expert in GUI design &amp; implementation and I&#39;m sure I&#39;m missing possibilities ranging from obvious to obscure and elegant that an experienced person would know.\r\n\r\nI&#39;m open to any suggestions, not just the path I&#39;ve started down. Should I (can I) add a JPanel as one component in my SplitPane, then add a LayerPane to that containing my ScrollPane and the overlay (another JPanel) on different layers on the LayerPane? Is there functionality in ScrollPane to support this directly? I&#39;ve looked at the Java Swing Tutorials and the API documentation but haven&#39;t seen anything yet.\r\n\r\nThanks.\r\n\r\n**UPDATE:**\r\n\r\nThanks for the link, trashgod. This was much easier than I had expected. No need for LayerPane, GlassPane, xor-based compositing... I don&#39;t know why it didn&#39;t occur to me to try overriding JViewport.paint() to draw my overlay - but with the code below I validated the concept will give me what I&#39;m looking for. Just use the subclass of JViewport and it does what I wanted (in this case overlaying a rectangle in the center of the Viewport while the image scrolls underneath). I&#39;m no GUI expert, and the Java API is incredibly wide; I have no idea how you guys keep this all in your head - but thanks!\r\n\r\n    class MyViewport extends JViewport {\r\n    \t@Override\r\n    \tpublic void paint(Graphics g) {\r\n    \t\tsuper.paint(g);\r\n    \t\tGraphics2D g2 = (Graphics2D)g;\r\n    \t\tg2.setPaint(Color.BLACK);\r\n    \t\tg2.drawRect(getWidth()/4,getHeight()/4,getWidth()/2,getHeight()/2);\r\n    \t}\r\n    }","title":"Java: How to draw non-scrolling overlay over ScrollPane Viewport?","body":"<p>I'd like to use a ScrollPane to display an image in its Viewport, and also have a grid (or box, or any other type of registration/location marker) overlay on the image. I need the overlay to remain fixed when scrolling (meaning the image seems to move \"under\" the overlay). I will be scrolling the View in the Viewport at a fixed rate to provide a smooth motion, and the overlay is to provide a reference to a certain location within the Viewport. Conceptually, think of a large map scrolling in a Viewport, and the Viewport having a rectangle that does not move (relative to the Viewport itself) that marks a region that can be zoomed into based on some user action.</p>\n\n<p>I presume (but have not yet confirmed) that the ScrollPane implementation handles rendering of the View efficiently (from backing store, not having to repaint the entire View (or even ViewPort) for each new partial exposure) and so would prefer not to have to Override the paint() method.</p>\n\n<p>I've looked at LayerPane, and while not having mastered it, it seems that this is a brute force approach. The ScrollPane is one Component of a SplitPane and will be moved/resized. I expect that I'd have to manually maintain the correct relationship between the ViewPort and the LayerPane using absolute positioning. I'm far from an expert in GUI design &amp; implementation and I'm sure I'm missing possibilities ranging from obvious to obscure and elegant that an experienced person would know.</p>\n\n<p>I'm open to any suggestions, not just the path I've started down. Should I (can I) add a JPanel as one component in my SplitPane, then add a LayerPane to that containing my ScrollPane and the overlay (another JPanel) on different layers on the LayerPane? Is there functionality in ScrollPane to support this directly? I've looked at the Java Swing Tutorials and the API documentation but haven't seen anything yet.</p>\n\n<p>Thanks.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Thanks for the link, trashgod. This was much easier than I had expected. No need for LayerPane, GlassPane, xor-based compositing... I don't know why it didn't occur to me to try overriding JViewport.paint() to draw my overlay - but with the code below I validated the concept will give me what I'm looking for. Just use the subclass of JViewport and it does what I wanted (in this case overlaying a rectangle in the center of the Viewport while the image scrolls underneath). I'm no GUI expert, and the Java API is incredibly wide; I have no idea how you guys keep this all in your head - but thanks!</p>\n\n<pre><code>class MyViewport extends JViewport {\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        Graphics2D g2 = (Graphics2D)g;\n        g2.setPaint(Color.BLACK);\n        g2.drawRect(getWidth()/4,getHeight()/4,getWidth()/2,getHeight()/2);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","database","intellij-idea","mysql-workbench"],"answers":[{"tags":[],"owner":{"account_id":3456234,"reputation":28,"user_id":3675348,"display_name":"Volodymyr Prokopiv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641828079,"creation_date":1641828079,"answer_id":70654749,"question_id":70654575,"body_markdown":"It&#39;s extremely easy to do in [Idea Ultimate][1], and it&#39;s also possible in Workbench: https://dev.mysql.com/doc/workbench/en/wb-eer-diagram-editor.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ki9V5.png","title":"Creating a graphical diagram of MYSQL tables","body":"<p>It's extremely easy to do in <a href=\"https://i.stack.imgur.com/Ki9V5.png\" rel=\"nofollow noreferrer\">Idea Ultimate</a>, and it's also possible in Workbench: <a href=\"https://dev.mysql.com/doc/workbench/en/wb-eer-diagram-editor.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/workbench/en/wb-eer-diagram-editor.html</a></p>\n"}],"owner":{"account_id":13539583,"reputation":131,"user_id":12493818,"display_name":"alexhak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1641830935,"accepted_answer_id":70654749,"answer_count":1,"score":-2,"last_activity_date":1642339260,"creation_date":1641827434,"question_id":70654575,"body_markdown":"I have a MYSQL schema with a large number of tables (more than 20).\r\n\r\nIs it possible to somehow display a graphical diagram showing the relationships between tables and their fields?\r\n\r\nI want to get something like a UML diagram (which is being built, for example, for Java classes).","title":"Creating a graphical diagram of MYSQL tables","body":"<p>I have a MYSQL schema with a large number of tables (more than 20).</p>\n<p>Is it possible to somehow display a graphical diagram showing the relationships between tables and their fields?</p>\n<p>I want to get something like a UML diagram (which is being built, for example, for Java classes).</p>\n"},{"tags":["java","swing","model-view-controller","dao"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1642336792,"post_id":70729587,"comment_id":125038921,"body_markdown":"Please [edit] your question and mark the line that throws the exception (LoginController line 75). I am guessing that the exception is cause by `user` being null in `myDAO.getUserLogIn(user.getUserName()`.  If so it seems that `LoginController` was initialized with a null value (`new LoginController(null, view)`). For more help post [mre]","body":"Please <a href=\"https://stackoverflow.com/posts/70729587/edit\">edit</a> your question and mark the line that throws the exception (LoginController line 75). I am guessing that the exception is cause by <code>user</code> being null in <code>myDAO.getUserLogIn(user.getUserName()</code>.  If so it seems that <code>LoginController</code> was initialized with a null value (<code>new LoginController(null, view)</code>). For more help post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1642337318,"post_id":70729587,"comment_id":125039020,"body_markdown":"Basically, you want the controller to be the center point and orchestrate the whole thing: get user details from the `view`, use `dao` to verify it (dao should be independent of view. It should not have a reference to the view) and update the view according to the results of the verification.","body":"Basically, you want the controller to be the center point and orchestrate the whole thing: get user details from the <code>view</code>, use <code>dao</code> to verify it (dao should be independent of view. It should not have a reference to the view) and update the view according to the results of the verification."}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642338500,"creation_date":1642338500,"answer_id":70730318,"question_id":70729587,"body_markdown":"It is hard to tell from the partial code in the question, but from what I see, a `User` object can be constructed only after a successful login. so the constructor should change to:\r\n\r\n    public LoginController(LoginView view) {\r\n        this.view = view;\r\n        addListener();\r\n    }\r\n\r\nAnd \r\n\r\n    class LoginListener implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {    \r\n            String name = view.getUserNameTextField().getText();\r\n            String pass = view.getUserPassTextField().getText();        \r\n            DAO myDAO = new DaoImpl(view, profView);    \r\n            try {\r\n                user = myDAO.getUserLogIn(name, pass);//change getUserLogIn to return a single User, or null \r\n                //when method from DAOImpl get filled, proceed to Home\r\n                if(user != null) {                \r\n                    showHome();\r\n                }\r\n            } catch (SQLException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n","title":"How can I get data from DAO through the model and append them in the view","body":"<p>It is hard to tell from the partial code in the question, but from what I see, a <code>User</code> object can be constructed only after a successful login. so the constructor should change to:</p>\n<pre><code>public LoginController(LoginView view) {\n    this.view = view;\n    addListener();\n}\n</code></pre>\n<p>And</p>\n<pre><code>class LoginListener implements ActionListener {\n    public void actionPerformed(ActionEvent e) {    \n        String name = view.getUserNameTextField().getText();\n        String pass = view.getUserPassTextField().getText();        \n        DAO myDAO = new DaoImpl(view, profView);    \n        try {\n            user = myDAO.getUserLogIn(name, pass);//change getUserLogIn to return a single User, or null \n            //when method from DAOImpl get filled, proceed to Home\n            if(user != null) {                \n                showHome();\n            }\n        } catch (SQLException e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18063492,"reputation":191,"user_id":13130036,"display_name":"Franz Biberkopf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1642339262,"accepted_answer_id":70730318,"answer_count":1,"score":1,"last_activity_date":1642339198,"creation_date":1642332381,"question_id":70729587,"body_markdown":"I am new to Java and I am trying to implement a login system and a user profile conform to MVC - DAO. I would like to enable the controller trough the method addUserDatatoView() to retrieve the user credentials from DAO, in order to add them as strings in a new JPanel (view). Anyway, I am not sure that my way to proceed is correct. First of all, I am getting all the time the NullPointerException, event though the DAO-level is getting correctly the data from the database:\r\n\r\n``````````````none\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;model.User.getUserName()&quot; because &quot;this.user&quot; is null\r\n\tat controller.LoginController.addUserDatatoView(LoginController.java:75)\r\n\tat controller.LoginController.showHome(LoginController.java:65)\r\n\tat controller.LoginController$LoginListener.actionPerformed(LoginController.java:44)\r\n```````````````````\r\nHow can I actually retrieve the data from DAO passing through the Model (User class)? What would be the best way to deploy to data as strings from the controller to the view?\r\n\r\nI am quite confused about the communication between the different classes and what is the correct procedure, in order not to contravene MVC-DAO. \r\n\r\nI am not asking you to solve the problem, but to get an hint in order to get the right direction.\r\n\r\n\r\nDAO-Implementation:\r\n`````````\r\npackage dao;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\n\r\nimport javax.swing.JOptionPane;\r\n\r\nimport controller.HomeController;\r\nimport ds.OracleDsSingleton;\r\nimport model.Event;\r\nimport model.User;\r\nimport view.HomeView;\r\nimport view.LoginView;\r\nimport view.ProfileView;\r\n\r\npublic class DaoImpl implements DAO {\r\n\r\n\tLoginView view;\r\n\tProfileView profView;\r\n\tResultSet rs;\r\n\r\n\tpublic DaoImpl(LoginView view, ProfileView profView) {\r\n\t\tthis.view = view;\r\n\t\tthis.profView = profView;\r\n\t}\r\n\t@Override\r\n\tpublic ArrayList&lt;User&gt; getUserLogIn (String userName, String userPass) throws SQLException {\r\n\t\tOracleDsSingleton ora = OracleDsSingleton.getInstance();\r\n\t\tboolean controlRecords = false;\r\n\t\ttry {\r\n\t\t\t//ArrayList type User\r\n\t\t\tArrayList&lt;User&gt; user = new ArrayList&lt;User&gt;();\r\n\t\t\tConnection con = ora.getConnection();\r\n\t\t\tStatement stmt = con.createStatement();\r\n\t\t\tString addQuery = &quot;SELECT * FROM UserList&quot;;\r\n\t\t\tResultSet rs = stmt.executeQuery(addQuery);\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tuserName = rs.getString(&quot;userName&quot;);\r\n\t\t\t\tuserPass = rs.getString(&quot;userPass&quot;);\r\n\t\t\t\tif (userName.equals(view.getUserNameTextField().getText().toString())\r\n\t\t\t\t\t\t&amp;&amp; (userPass.equals(view.getUserPassTextField().getText().toString()))) {\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcontrolRecords = true;\r\n\t\t\t\t\t\tUser u = new User(userName, userPass);\r\n\t\t\t\t\t\tuser.add(u);\r\n\t\t\t\t\t\tfor(User us : user) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Directly from DAOImp: &quot; + us);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn user;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!controlRecords) {\r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Not successfully logged in!&quot;);\r\n\t\t\t};\r\n\t\t\tif (con != null)\r\n\t\t\t\tcon.close();\r\n\t\t\tif (stmt != null)\r\n\t\t\t\tstmt.close();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\t\r\n\t\treturn null;\r\n\t}\r\n}\r\n``````````````````\r\nClass User: \r\n````````````````\r\npublic class User {\r\n    String userName;\r\n\tString userPass;\r\n\r\n\tpublic User(String userName, String userPass) {\r\n\t\tthis.userName = userName;\r\n\t\tthis.userPass = userPass;\r\n\t}\r\n\t\r\n\tpublic User() throws SQLException {\t\r\n\t}\r\n\t\r\n\tpublic String getUserName() {\r\n\t\treturn userName;\r\n\t}\r\n\t\r\n\tpublic String getUserPass() {\r\n\t\treturn userPass;\r\n\t}\r\n\r\n\tpublic void setUserName(String userName) {\r\n\t\tthis.userName = userName;\r\n\t}\r\n\t\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn userName + userPass;\r\n\t}\r\n}\r\n`````````````````````\r\nController\r\n````````````````````\r\npackage controller;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\n\r\nimport javax.swing.JComponent;\r\n\r\nimport controller.LoginController.LoginBACKListener;\r\nimport dao.DAO;\r\nimport dao.DaoImpl;\r\nimport model.User;\r\nimport view.HomeView;\r\nimport view.LoginView;\r\nimport view.ProfileView;\r\nimport view.StartView;\r\n\r\npublic class LoginController{\r\n\t\r\n\tprivate User user;\r\n\tprivate LoginView view;\r\n\tprivate ProfileView profView;\r\n\t\r\n\tpublic LoginController(User user, LoginView view) {\r\n\t\tthis.user = user;\r\n\t\tthis.view = view;\r\n\t\taddListener();\r\n\t}\r\n\t\r\n\tprivate void addListener() {\r\n\t\tthis.view.setLoginListener(new LoginListener());\r\n\t}\r\n\t\r\n\tclass LoginListener implements ActionListener {\r\n\t\tpublic void actionPerformed(ActionEvent e) {\t\r\n\t\t\tString name = view.getUserNameTextField().getText();\r\n\t\t\tString pass = view.getUserPassTextField().getText();\t\t\r\n\t\t\tDAO myDAO = new DaoImpl(view, profView);\t\r\n\t\t\ttry {\r\n\t\t\t\t//when method from DAOImpl get filled, proceed to Home\r\n\t\t\t\tif(myDAO.getUserLogIn(name, pass) != null) {\r\n\t\t\t\t\tshowHome();\r\n\t\t\t\t}\r\n\t\t\t} catch (SQLException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void showHome() {\r\n\t\tHomeView home = new HomeView();\r\n\t\thome.setVisible(true);\r\n\t\tHomeController h = new HomeController(home);\r\n\t\ttry {\r\n\t\t\taddUserDatatoView();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\tpublic ArrayList&lt;User&gt; addUserDatatoView() throws SQLException {\r\n\t\tDAO myDAO = new DaoImpl(view, profView);\r\n\t\tArrayList&lt;User&gt; userCredentials = myDAO.getUserLogIn(user.getUserName(), user.getUserPass());\r\n\t\tfor(User us : userCredentials) {\r\n\t\t\tSystem.out.println(&quot;Directly from Controller: &quot; + us);\r\n\t\t}\r\n\t\treturn userCredentials;\r\n\t}\r\n}\r\n````````````````````\r\n\r\n\r\n\r\n","title":"How can I get data from DAO through the model and append them in the view","body":"<p>I am new to Java and I am trying to implement a login system and a user profile conform to MVC - DAO. I would like to enable the controller trough the method addUserDatatoView() to retrieve the user credentials from DAO, in order to add them as strings in a new JPanel (view). Anyway, I am not sure that my way to proceed is correct. First of all, I am getting all the time the NullPointerException, event though the DAO-level is getting correctly the data from the database:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;model.User.getUserName()&quot; because &quot;this.user&quot; is null\n    at controller.LoginController.addUserDatatoView(LoginController.java:75)\n    at controller.LoginController.showHome(LoginController.java:65)\n    at controller.LoginController$LoginListener.actionPerformed(LoginController.java:44)\n</code></pre>\n<p>How can I actually retrieve the data from DAO passing through the Model (User class)? What would be the best way to deploy to data as strings from the controller to the view?</p>\n<p>I am quite confused about the communication between the different classes and what is the correct procedure, in order not to contravene MVC-DAO.</p>\n<p>I am not asking you to solve the problem, but to get an hint in order to get the right direction.</p>\n<p>DAO-Implementation:</p>\n<pre><code>package dao;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\n\nimport javax.swing.JOptionPane;\n\nimport controller.HomeController;\nimport ds.OracleDsSingleton;\nimport model.Event;\nimport model.User;\nimport view.HomeView;\nimport view.LoginView;\nimport view.ProfileView;\n\npublic class DaoImpl implements DAO {\n\n    LoginView view;\n    ProfileView profView;\n    ResultSet rs;\n\n    public DaoImpl(LoginView view, ProfileView profView) {\n        this.view = view;\n        this.profView = profView;\n    }\n    @Override\n    public ArrayList&lt;User&gt; getUserLogIn (String userName, String userPass) throws SQLException {\n        OracleDsSingleton ora = OracleDsSingleton.getInstance();\n        boolean controlRecords = false;\n        try {\n            //ArrayList type User\n            ArrayList&lt;User&gt; user = new ArrayList&lt;User&gt;();\n            Connection con = ora.getConnection();\n            Statement stmt = con.createStatement();\n            String addQuery = &quot;SELECT * FROM UserList&quot;;\n            ResultSet rs = stmt.executeQuery(addQuery);\n            while (rs.next()) {\n                userName = rs.getString(&quot;userName&quot;);\n                userPass = rs.getString(&quot;userPass&quot;);\n                if (userName.equals(view.getUserNameTextField().getText().toString())\n                        &amp;&amp; (userPass.equals(view.getUserPassTextField().getText().toString()))) {\n                    {\n                        controlRecords = true;\n                        User u = new User(userName, userPass);\n                        user.add(u);\n                        for(User us : user) {\n                            System.out.println(&quot;Directly from DAOImp: &quot; + us);\n                        }\n                        return user;\n                    }\n                }\n                else {\n                    continue;\n                }\n            }\n            if (!controlRecords) {\n                JOptionPane.showMessageDialog(null, &quot;Not successfully logged in!&quot;);\n            };\n            if (con != null)\n                con.close();\n            if (stmt != null)\n                stmt.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }       \n        return null;\n    }\n}\n</code></pre>\n<p>Class User:</p>\n<pre><code>public class User {\n    String userName;\n    String userPass;\n\n    public User(String userName, String userPass) {\n        this.userName = userName;\n        this.userPass = userPass;\n    }\n    \n    public User() throws SQLException { \n    }\n    \n    public String getUserName() {\n        return userName;\n    }\n    \n    public String getUserPass() {\n        return userPass;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n    \n    \n    public String toString() {\n        return userName + userPass;\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>package controller;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\nimport javax.swing.JComponent;\n\nimport controller.LoginController.LoginBACKListener;\nimport dao.DAO;\nimport dao.DaoImpl;\nimport model.User;\nimport view.HomeView;\nimport view.LoginView;\nimport view.ProfileView;\nimport view.StartView;\n\npublic class LoginController{\n    \n    private User user;\n    private LoginView view;\n    private ProfileView profView;\n    \n    public LoginController(User user, LoginView view) {\n        this.user = user;\n        this.view = view;\n        addListener();\n    }\n    \n    private void addListener() {\n        this.view.setLoginListener(new LoginListener());\n    }\n    \n    class LoginListener implements ActionListener {\n        public void actionPerformed(ActionEvent e) {    \n            String name = view.getUserNameTextField().getText();\n            String pass = view.getUserPassTextField().getText();        \n            DAO myDAO = new DaoImpl(view, profView);    \n            try {\n                //when method from DAOImpl get filled, proceed to Home\n                if(myDAO.getUserLogIn(name, pass) != null) {\n                    showHome();\n                }\n            } catch (SQLException e1) {\n                e1.printStackTrace();\n            }\n        }\n    }\n\n    public void showHome() {\n        HomeView home = new HomeView();\n        home.setVisible(true);\n        HomeController h = new HomeController(home);\n        try {\n            addUserDatatoView();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n\n    public ArrayList&lt;User&gt; addUserDatatoView() throws SQLException {\n        DAO myDAO = new DaoImpl(view, profView);\n        ArrayList&lt;User&gt; userCredentials = myDAO.getUserLogIn(user.getUserName(), user.getUserPass());\n        for(User us : userCredentials) {\n            System.out.println(&quot;Directly from Controller: &quot; + us);\n        }\n        return userCredentials;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10508476,"reputation":115,"user_id":7744930,"display_name":"Ankit Kathait"},"score":0,"creation_date":1642336120,"post_id":70730037,"comment_id":125038782,"body_markdown":"I had to remove some of the error code for the second one as the limit was being exceeded. If required let me know a way I can do so. Because comments is also like 500 chars only","body":"I had to remove some of the error code for the second one as the limit was being exceeded. If required let me know a way I can do so. Because comments is also like 500 chars only"}],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642336811,"creation_date":1642336811,"answer_id":70730116,"question_id":70730037,"body_markdown":"The query must not end with **;** , try to remove it\r\n\r\n    select * from post_table pt where post_id not in \r\n    (select pt2.post_id from post_table pt2 order by pt2.likes desc, pt2.dislikes asc limit :start) \r\n    order by pt.likes desc, pt.dislikes asc limit :end","title":"Putting limits dynamically in @query spring data jpa","body":"<p>The query must not end with <strong>;</strong> , try to remove it</p>\n<pre><code>select * from post_table pt where post_id not in \n(select pt2.post_id from post_table pt2 order by pt2.likes desc, pt2.dislikes asc limit :start) \norder by pt.likes desc, pt.dislikes asc limit :end\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23930232,"reputation":118,"user_id":17924830,"display_name":"Ali Arabat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642337727,"creation_date":1642337727,"answer_id":70730229,"question_id":70730037,"body_markdown":"You should remove `;` sign next to `end;` and it will work properly","title":"Putting limits dynamically in @query spring data jpa","body":"<p>You should remove <code>;</code> sign next to <code>end;</code> and it will work properly</p>\n"}],"owner":{"account_id":10508476,"reputation":115,"user_id":7744930,"display_name":"Ankit Kathait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70730116,"answer_count":2,"score":0,"last_activity_date":1642337727,"creation_date":1642336071,"question_id":70730037,"body_markdown":"Please read the query carefully. It is a composite query and not a single limit.\r\n&lt;br&gt;&lt;br&gt;I am looking to put limits in a composite sql query dynamically. So I receive some inputs from the controller, the service does some calculations and then the query is to be hit but the limits are to be placed dynamically dependent on the calculations in the service. Below is my JPARepository:\r\n\r\n```\r\npublic interface PostTableRepository extends JpaRepository&lt;PostTable, Integer&gt; {\r\n    @Query(value = &quot;select * from post_table pt where post_id not in &quot; +\r\n                &quot;(select pt2.post_id from post_table pt2 order by pt2.likes desc, pt2.dislikes asc limit :start) &quot; +\r\n            &quot;order by pt.likes desc, pt.dislikes asc limit :end;&quot;, nativeQuery = true)\r\n    List&lt;PostTable&gt; findTopViewOfAllTime(@Param(&quot;start&quot;) int start, @Param(&quot;end&quot;) int end);\r\n```\r\n\r\nAt first I tried with ?1 and ?2 but that is also failing. Below are the error codes:&lt;br&gt;\r\nWith the @Param:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat com.sun.proxy.$Proxy110.findTopViewOfAllTime(Unknown Source) ~[na:na]\r\n\tat com.example.redditbackend.service.PostsService.viewDashboard(PostsService.java:402) ~[main/:na]\r\n\tat com.example.redditbackend.service.PostsService$$FastClassBySpringCGLIB$$5ddad824.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat com.example.redditbackend.service.PostsService$$EnhancerBySpringCGLIB$$2e8b2e71.viewDashboard(&lt;generated&gt;) ~[main/:na]\r\n\tat com.example.redditbackend.controller.PostsController.viewDashBoardTop(PostsController.java:98) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\tat org.hibernate.query.internal.ParameterMetadataImpl.getNamedParameterDescriptor(ParameterMetadataImpl.java:229) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.ParameterMetadataImpl.getQueryParameter(ParameterMetadataImpl.java:198) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingsImpl.getBinding(QueryParameterBindingsImpl.java:189) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:650) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:66) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:327) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:118) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:141) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:118) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:95) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:95) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:227) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\t... 63 common frames omitted\r\n\r\n2022-01-16 17:45:41.658 ERROR 11628 --- [nio-8080-exec-1] c.e.r.controller.PostsController         : java.lang.Exception: Unable to view dashboard because: org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\r\njava.lang.Exception: Unable to view dashboard because: org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\tat com.example.redditbackend.service.PostsService.viewDashboard(PostsService.java:405) ~[main/:na]\r\n\tat com.example.redditbackend.service.PostsService$$FastClassBySpringCGLIB$$5ddad824.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.14.jar:5.3.14]\r\n\tat com.example.redditbackend.service.PostsService$$EnhancerBySpringCGLIB$$2e8b2e71.viewDashboard(&lt;generated&gt;) ~[main/:na]\r\n\tat com.example.redditbackend.controller.PostsController.viewDashBoardTop(PostsController.java:98) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\nCaused by: java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\r\n\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n```\r\n\r\nThis is the error code with ?1 and ?2(This was tried with both primitive(int) and Wrapper data type(Integer). Both gave the same error):\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal\r\n\r\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.14.jar:5.3.14]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.14.jar:5.3.14]\r\n\tat \r\n```\r\nAny help is much appreciated.","title":"Putting limits dynamically in @query spring data jpa","body":"<p>Please read the query carefully. It is a composite query and not a single limit.\n<br><br>I am looking to put limits in a composite sql query dynamically. So I receive some inputs from the controller, the service does some calculations and then the query is to be hit but the limits are to be placed dynamically dependent on the calculations in the service. Below is my JPARepository:</p>\n<pre><code>public interface PostTableRepository extends JpaRepository&lt;PostTable, Integer&gt; {\n    @Query(value = &quot;select * from post_table pt where post_id not in &quot; +\n                &quot;(select pt2.post_id from post_table pt2 order by pt2.likes desc, pt2.dislikes asc limit :start) &quot; +\n            &quot;order by pt.likes desc, pt.dislikes asc limit :end;&quot;, nativeQuery = true)\n    List&lt;PostTable&gt; findTopViewOfAllTime(@Param(&quot;start&quot;) int start, @Param(&quot;end&quot;) int end);\n</code></pre>\n<p>At first I tried with ?1 and ?2 but that is also failing. Below are the error codes:<br>\nWith the @Param:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n\norg.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]\n    at com.sun.proxy.$Proxy110.findTopViewOfAllTime(Unknown Source) ~[na:na]\n    at com.example.redditbackend.service.PostsService.viewDashboard(PostsService.java:402) ~[main/:na]\n    at com.example.redditbackend.service.PostsService$$FastClassBySpringCGLIB$$5ddad824.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.14.jar:5.3.14]\n    at com.example.redditbackend.service.PostsService$$EnhancerBySpringCGLIB$$2e8b2e71.viewDashboard(&lt;generated&gt;) ~[main/:na]\n    at com.example.redditbackend.controller.PostsController.viewDashBoardTop(PostsController.java:98) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n    at org.hibernate.query.internal.ParameterMetadataImpl.getNamedParameterDescriptor(ParameterMetadataImpl.java:229) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.ParameterMetadataImpl.getQueryParameter(ParameterMetadataImpl.java:198) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.QueryParameterBindingsImpl.getBinding(QueryParameterBindingsImpl.java:189) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:650) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.query.internal.NativeQueryImpl.setParameter(NativeQueryImpl.java:66) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:327) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:118) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:141) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:118) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:95) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:95) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:227) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]\n    ... 63 common frames omitted\n\n2022-01-16 17:45:41.658 ERROR 11628 --- [nio-8080-exec-1] c.e.r.controller.PostsController         : java.lang.Exception: Unable to view dashboard because: org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n\njava.lang.Exception: Unable to view dashboard because: org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [end], expecting one of [start, end;]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n    at com.example.redditbackend.service.PostsService.viewDashboard(PostsService.java:405) ~[main/:na]\n    at com.example.redditbackend.service.PostsService$$FastClassBySpringCGLIB$$5ddad824.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.3.14.jar:5.3.14]\n    at com.example.redditbackend.service.PostsService$$EnhancerBySpringCGLIB$$2e8b2e71.viewDashboard(&lt;generated&gt;) ~[main/:na]\n    at com.example.redditbackend.controller.PostsController.viewDashBoardTop(PostsController.java:98) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nCaused by: java.lang.IllegalArgumentException: Could not locate named parameter [end], expecting one of [start, end;]\n\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n<p>This is the error code with ?1 and ?2(This was tried with both primitive(int) and Wrapper data type(Integer). Both gave the same error):</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal\n\norg.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal; nested exception is java.lang.IllegalArgumentException: org.hibernate.QueryException: JPA-style positional param was not an integral ordinal\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.14.jar:5.3.14]\n    at \n</code></pre>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":23934334,"reputation":346,"user_id":17928307,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642118627,"creation_date":1642118627,"answer_id":70704592,"question_id":70666515,"body_markdown":"Where are you setting the adapter to your RecyclerView?\r\n\r\nTry this:\r\n```\r\nbinding.recyclerView.adapter?.notifyDataSetChanged()\r\n```","title":"views aren&#39;t getting updated in recycler list view every time. diff util object won&#39;t detect change the first time","body":"<p>Where are you setting the adapter to your RecyclerView?</p>\n<p>Try this:</p>\n<pre><code>binding.recyclerView.adapter?.notifyDataSetChanged()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642336766,"creation_date":1642336766,"answer_id":70730111,"question_id":70666515,"body_markdown":"Instead of submitting a list of a self defined data class which comprises of multiple variables within itself, what we can do is to submit an id (integer) list and then in the onBind section of the adapter class, get the content by using a view model function and then bind the items using the content received from that function. the function can look something like -\r\n\r\n    fun getById(id:Int): Flow&lt;TasksData&gt; = tasksDao.getById(id)\r\n\r\nwhere getById is something like -\r\n\r\n    @Query(&quot;SELECT * FROM task_data where id = :id&quot;)\r\n    fun getById(id: Int): Flow&lt;TasksData&gt;\r\n\r\nthen, since it is returning a continuous flow, we can set an observer in the onBind within the adapter such that the ui is updated every time a data change is detected. something like -\r\n\r\n    taskViewmodel.getById(getItem(position)).aslivedata.observe{\r\n        holder.bind(it)\r\n    }\r\n","title":"views aren&#39;t getting updated in recycler list view every time. diff util object won&#39;t detect change the first time","body":"<p>Instead of submitting a list of a self defined data class which comprises of multiple variables within itself, what we can do is to submit an id (integer) list and then in the onBind section of the adapter class, get the content by using a view model function and then bind the items using the content received from that function. the function can look something like -</p>\n<pre><code>fun getById(id:Int): Flow&lt;TasksData&gt; = tasksDao.getById(id)\n</code></pre>\n<p>where getById is something like -</p>\n<pre><code>@Query(&quot;SELECT * FROM task_data where id = :id&quot;)\nfun getById(id: Int): Flow&lt;TasksData&gt;\n</code></pre>\n<p>then, since it is returning a continuous flow, we can set an observer in the onBind within the adapter such that the ui is updated every time a data change is detected. something like -</p>\n<pre><code>taskViewmodel.getById(getItem(position)).aslivedata.observe{\n    holder.bind(it)\n}\n</code></pre>\n"}],"owner":{"account_id":23358250,"reputation":774,"user_id":17430910,"display_name":"Vaishnav Kanhirathingal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70730111,"answer_count":2,"score":0,"last_activity_date":1642336766,"creation_date":1641902695,"question_id":70666515,"body_markdown":"\r\nA screen recording video [the log files were taken using the same exact actions] -\r\n\r\n[screen-recording][1]\r\n\r\n[watch the recording for context] My problem is that the diffutil object in the adapter can&#39;t detect the changes being made the first time and so, the list elements dont get updated. At the right end of the log lines, you&#39;ll see a truth value table. the left column is supposed to be all false. but, look at the first value - true. the access values are supposed to be all false when I launch the app. and they are all false when I launch the app else the video wouldn&#39;t start with all passwords hidden when I launch the app. So, the first time the comparision isn&#39;t being made to the actual olditem. but, the changed olditem.\r\n\r\n\r\nLog output for the adapter diff util object -\r\n\r\n    \t this is from the initial access. it reads the access. but cannot identify the changes that has been applied. ----making changes the first time -\r\n    \r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \ttrue  \ttrue\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \ttrue  \ttrue\r\n    \r\n    \t look at the first and the last entries. this is the entries they have two trues those are for the olditem and newitem from the diffutil object. lets make another change -\r\n    \r\n    2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \ttrue  \tfalse\r\n    2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \ttrue  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \ttrue\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_12\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_11\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_10\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_9\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_8\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_7\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_6\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_5\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_4\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_3\t\taccess value passed - \tfalse  \ttrue\r\n    2022-01-11 16:35:26.287 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_2\t\taccess value passed - \tfalse  \tfalse\r\n    2022-01-11 16:35:26.287 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -\tService_name_1\t\taccess value passed - \tfalse  \tfalse\r\n    \r\n    here, there are two changes occouring simultaneously. the initial access granted is being revoked and chnaged to false. then, new access is being granted. here since 2 changes are being made, they are being detected.\r\n\r\n\r\n  [1]: https://youtu.be/hPD7pshj3G4\r\n\r\n\r\nfragment code -\r\n\r\n    package com.kenetic.savepass.fragments\r\n    \r\n    import android.os.Bundle\r\n    import android.util.Log\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import android.widget.Toast\r\n    import androidx.fragment.app.Fragment\r\n    import androidx.lifecycle.MutableLiveData\r\n    import androidx.lifecycle.asLiveData\r\n    import androidx.navigation.fragment.findNavController\r\n    import com.kenetic.savepass.databinding.FragmentSetPasswordBinding\r\n    import com.kenetic.savepass.password.data.AppDataStore\r\n    \r\n    class SetPasswordFragment : Fragment() {\r\n        private val TAG = &quot;SetPasswordFragmentVKP&quot;\r\n    \r\n        private lateinit var binding: FragmentSetPasswordBinding\r\n    \r\n        private lateinit var appDataStore: AppDataStore\r\n        private lateinit var storedPassword: String\r\n    \r\n        private var _symbolsVisibility = MutableLiveData(View.INVISIBLE)\r\n        val symbolsVisibility: MutableLiveData&lt;Int&gt; get() = _symbolsVisibility\r\n    \r\n        private var _passwordMatchVisibility = MutableLiveData(View.INVISIBLE)\r\n        val passwordMatchVisibility: MutableLiveData&lt;Int&gt; get() = _passwordMatchVisibility\r\n    \r\n        private var _passwordIncorrectVisibility = MutableLiveData(View.INVISIBLE)\r\n        val passwordIncorrectVisibility: MutableLiveData&lt;Int&gt; get() = _passwordIncorrectVisibility\r\n    \r\n        override fun onCreateView(\r\n            inflater: LayoutInflater, container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View? {\r\n            binding = FragmentSetPasswordBinding.inflate(inflater, container, false)\r\n            binding.setPasswordFragment = this\r\n            binding.lifecycleOwner = viewLifecycleOwner\r\n            return binding.root\r\n        }\r\n    \r\n        override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n            appDataStore = AppDataStore(requireContext())\r\n            appDataStore.userMasterPasswordFlow.asLiveData().observe(viewLifecycleOwner, {\r\n                storedPassword = it\r\n                if (it.isEmpty()) {\r\n                    binding.oldPasswordEditText.visibility = View.GONE\r\n                    _passwordIncorrectVisibility.value = View.GONE\r\n                }\r\n            })\r\n            binding.saveFab.setOnClickListener { passToNextFrag() }\r\n    \r\n        }\r\n    \r\n        private lateinit var symbolMissingText: String\r\n    \r\n        private fun getSymbolCheckWarning(temp: String): String {\r\n            symbolMissingText = &quot;&quot;\r\n            val tempTruthList = listOf&lt;Boolean&gt;(\r\n                hasUpperCase(temp),\r\n                hasLowerCase(temp),\r\n                hasSpecial(temp),\r\n                hasNumbers(temp),\r\n                temp.isNotEmpty()\r\n            )\r\n            return if (false !in tempTruthList) {\r\n                &quot;&quot;\r\n            } else {\r\n                &quot;*missing character types -${symbolMissingText} &quot;\r\n            }\r\n        }\r\n    \r\n        private fun hasLowerCase(str: String): Boolean {\r\n            for (i in str) {\r\n                if (i in &#39;a&#39;..&#39;z&#39;) {\r\n                    return true\r\n                }\r\n            }\r\n            symbolMissingText += &quot; lowercase,&quot;\r\n            return false\r\n        }\r\n    \r\n        private fun hasUpperCase(str: String): Boolean {\r\n            for (i in str) {\r\n                if (i in &#39;A&#39;..&#39;Z&#39;) {\r\n                    return true\r\n                }\r\n            }\r\n            symbolMissingText += &quot; uppercase,&quot;\r\n            return false\r\n        }\r\n    \r\n        private fun hasSpecial(str: String): Boolean {\r\n            for (i in str) {\r\n                if (i in &quot;`!@#$%^&amp;*()_-+={[}]|\\\\:;\\&quot;&#39;&lt;,&gt;.?/&quot;) {\r\n                    return true\r\n                }\r\n            }\r\n            symbolMissingText += &quot; special,&quot;\r\n            return false\r\n        }\r\n    \r\n        private fun hasNumbers(str: String): Boolean {\r\n            for (i in str) {\r\n                if (i in &#39;0&#39;..&#39;9&#39;) {\r\n                    return true\r\n                }\r\n            }\r\n            symbolMissingText += &quot; numbers,&quot;\r\n            return false\r\n        }\r\n    \r\n        private fun getLengthWarningString(str: String): String {\r\n            return if (str.length in 9..31) &quot;&quot; else {\r\n                &quot;*length should be between 8-32 characters&quot;\r\n            }\r\n        }\r\n    \r\n        private fun setNewPassWarning(): Boolean {\r\n            val str = binding.setNewPasswordEditText.text.toString()\r\n            val warningText = getSymbolCheckWarning(str) + getLengthWarningString(str)\r\n            Log.i(TAG, &quot;warningText = $warningText&quot;)\r\n            return if (warningText.isEmpty()) {\r\n                _symbolsVisibility.value = View.INVISIBLE\r\n                true\r\n            } else {\r\n                binding.setNewTextView.text = warningText\r\n                _symbolsVisibility.value = View.VISIBLE\r\n                false\r\n            }\r\n        }\r\n    \r\n        private fun matchCheck(): Boolean {\r\n            return if (binding.setNewPasswordEditText.text.toString() == binding.confirmNewPasswordEditText.text.toString()) {\r\n                _passwordMatchVisibility.value = View.INVISIBLE\r\n                true\r\n            } else {\r\n                _passwordMatchVisibility.value = View.VISIBLE\r\n                false\r\n            }\r\n        }\r\n    \r\n        private fun incorrectCheck(): Boolean {\r\n            return if (binding.oldPasswordEditText.text.toString() != storedPassword) {\r\n                _passwordIncorrectVisibility.value = View.VISIBLE\r\n                false\r\n            } else {\r\n                _passwordIncorrectVisibility.value = View.INVISIBLE\r\n                true\r\n            }\r\n        }\r\n    \r\n        private fun passToNextFrag() {\r\n            val tempTruthList = listOf(setNewPassWarning(), matchCheck(), incorrectCheck())\r\n            if (false !in tempTruthList) {\r\n                appDataStore.editMasterPassword(\r\n                    binding.setNewPasswordEditText.text.toString(),\r\n                    requireContext()\r\n                )\r\n                nextScreen()\r\n    \r\n            } else {\r\n                Toast.makeText(requireContext(), &quot;retry again&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        }\r\n    \r\n        private fun nextScreen() {\r\n            Log.i(TAG,&quot;next screen called&quot;)\r\n            this@SetPasswordFragment.findNavController()\r\n                .navigate(\r\n                    SetPasswordFragmentDirections\r\n                        .actionSetPasswordFragmentToPassListFragment()\r\n                )\r\n        }\r\n    }\r\n\r\nadapter code -\r\n\r\n\r\n    package com.kenetic.savepass.adapters\r\n    \r\n    import android.util.Log\r\n    import android.view.LayoutInflater\r\n    import android.view.ViewGroup\r\n    import androidx.recyclerview.widget.DiffUtil\r\n    import androidx.recyclerview.widget.ListAdapter\r\n    import androidx.recyclerview.widget.RecyclerView\r\n    import com.kenetic.savepass.R\r\n    import com.kenetic.savepass.databinding.PassListBinding\r\n    import com.kenetic.savepass.password.PassEnum.Access\r\n    import com.kenetic.savepass.password.PasswordData\r\n    \r\n    private const val TAG = &quot;PassAdapter&quot;\r\n    \r\n    class PassAdapter(private val fingerChecker: (PasswordData, Access) -&gt; Unit) :\r\n        ListAdapter&lt;PasswordData, PassAdapter.PassViewHolder&gt;(diffCallBack) {\r\n    \r\n    \r\n        class PassViewHolder(\r\n            private val binding: PassListBinding,\r\n            private val fingerChecker: (PasswordData, Access) -&gt; Unit\r\n        ) : RecyclerView.ViewHolder(binding.root) {\r\n    \r\n            fun bind(passwordData: PasswordData) {\r\n                Log.i(TAG, &quot;bind called&quot;)\r\n                binding.isAppOrWebImageView.setImageResource(\r\n                    if (passwordData.isAnApplication) {\r\n                        R.drawable.is_application_icon_24\r\n                    } else {\r\n                        R.drawable.is_website_icon_24\r\n                    }\r\n                )\r\n                binding.serviceNameTextView.text = passwordData.serviceName\r\n    \r\n                if (passwordData.access) {\r\n                    Log.i(TAG, &quot;access has been given&quot;)\r\n                    binding.apply {\r\n                        servicePasswordTextView.text = passwordData.servicePassword\r\n                        showImageView.setImageResource(R.drawable.ic_baseline_hide_20)\r\n                        showImageView.setOnClickListener {\r\n                            fingerChecker(passwordData, Access.HIDE)\r\n                        }\r\n                    }\r\n                } else {\r\n                    Log.i(TAG, &quot;access has been denied&quot;)\r\n                    binding.showImageView.setImageResource(R.drawable.ic_baseline_show_20)\r\n                    binding.servicePasswordTextView.text = &quot;**********&quot;\r\n                    binding.showImageView.setOnClickListener {\r\n                        fingerChecker(passwordData, Access.SHOW)\r\n                    }\r\n                }\r\n    \r\n                binding.securityTypeImageView.setImageResource(\r\n                    if (passwordData.useFingerPrint) {\r\n                        R.drawable.fingerprint_20\r\n                    } else {\r\n                        R.drawable.password_20\r\n                    }\r\n                )\r\n    \r\n                binding.deleteImageView.setOnClickListener {\r\n                    fingerChecker(passwordData, Access.DELETE)\r\n    \r\n                }\r\n                binding.editImageView.setOnClickListener {\r\n                    Log.d(TAG, &quot;edit image onClick working&quot;)\r\n                    fingerChecker(passwordData, Access.EDIT)\r\n                }\r\n            }\r\n        }\r\n    \r\n        companion object {\r\n            private val diffCallBack = object : DiffUtil.ItemCallback&lt;PasswordData&gt;() {\r\n                override fun areItemsTheSame(oldItem: PasswordData, newItem: PasswordData): Boolean {\r\n                    Log.i(\r\n                        TAG,\r\n                        &quot;id equality checked -\\t${oldItem.serviceName}\\t\\taccess value passed - \\t${oldItem.access}\\t\\t${newItem.access}&quot;\r\n                    )\r\n                    return oldItem.id == newItem.id\r\n                }\r\n    \r\n                override fun areContentsTheSame(oldItem: PasswordData, newItem: PasswordData): Boolean {\r\n                    return (oldItem == newItem &amp;&amp; oldItem.access == newItem.access)\r\n                }\r\n            }\r\n        }\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PassViewHolder {\r\n            return PassViewHolder(\r\n                PassListBinding.inflate(LayoutInflater.from(parent.context)), fingerChecker\r\n            )\r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: PassViewHolder, position: Int) {\r\n            Log.i(TAG, &quot;access for $position = ${getItem(position).access}&quot;)\r\n            holder.bind(getItem(position))\r\n        }\r\n    }\r\n\r\n\r\ndata class used - \r\n\r\n    package com.kenetic.savepass.password\r\n    \r\n    import androidx.room.ColumnInfo\r\n    import androidx.room.Entity\r\n    import androidx.room.PrimaryKey\r\n    \r\n    @Entity(tableName = &quot;password_data&quot;)\r\n    data class PasswordData(\r\n        @PrimaryKey(autoGenerate = true) val id: Int = 0,\r\n        @ColumnInfo(name = &quot;service_name&quot;) var serviceName: String,\r\n        @ColumnInfo(name = &quot;service_password&quot;) var servicePassword: String,\r\n        @ColumnInfo(name = &quot;is_an_application&quot;) var isAnApplication: Boolean = false,\r\n        @ColumnInfo(name = &quot;use_finger_print&quot;) var useFingerPrint: Boolean = true,\r\n        @ColumnInfo(name = &quot;access&quot;) var access: Boolean = false\r\n    )\r\n\r\nI have tried converting my element list to a list then submitting that list to the adapter class, saving the value of the list to another variable and submitting that variable, changing the diffutil object functions to scan each element and then return the value, etc.","title":"views aren&#39;t getting updated in recycler list view every time. diff util object won&#39;t detect change the first time","body":"<p>A screen recording video [the log files were taken using the same exact actions] -</p>\n<p><a href=\"https://youtu.be/hPD7pshj3G4\" rel=\"nofollow noreferrer\">screen-recording</a></p>\n<p>[watch the recording for context] My problem is that the diffutil object in the adapter can't detect the changes being made the first time and so, the list elements dont get updated. At the right end of the log lines, you'll see a truth value table. the left column is supposed to be all false. but, look at the first value - true. the access values are supposed to be all false when I launch the app. and they are all false when I launch the app else the video wouldn't start with all passwords hidden when I launch the app. So, the first time the comparision isn't being made to the actual olditem. but, the changed olditem.</p>\n<p>Log output for the adapter diff util object -</p>\n<pre><code>     this is from the initial access. it reads the access. but cannot identify the changes that has been applied. ----making changes the first time -\n\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   true    true\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:02.695 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   true    true\n\n     look at the first and the last entries. this is the entries they have two trues those are for the olditem and newitem from the diffutil object. lets make another change -\n\n2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   true    false\n2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   false\n2022-01-11 16:35:26.283 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:26.284 28084-28153/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   true    false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   true\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_12     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_11     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_10     access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_9      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_8      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_7      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_6      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_5      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_4      access value passed -   false   false\n2022-01-11 16:35:26.286 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_3      access value passed -   false   true\n2022-01-11 16:35:26.287 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_2      access value passed -   false   false\n2022-01-11 16:35:26.287 28084-28146/com.kenetic.savepass I/PassAdapter: id equality checked -   Service_name_1      access value passed -   false   false\n\nhere, there are two changes occouring simultaneously. the initial access granted is being revoked and chnaged to false. then, new access is being granted. here since 2 changes are being made, they are being detected.\n</code></pre>\n<p>fragment code -</p>\n<pre><code>package com.kenetic.savepass.fragments\n\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.MutableLiveData\nimport androidx.lifecycle.asLiveData\nimport androidx.navigation.fragment.findNavController\nimport com.kenetic.savepass.databinding.FragmentSetPasswordBinding\nimport com.kenetic.savepass.password.data.AppDataStore\n\nclass SetPasswordFragment : Fragment() {\n    private val TAG = &quot;SetPasswordFragmentVKP&quot;\n\n    private lateinit var binding: FragmentSetPasswordBinding\n\n    private lateinit var appDataStore: AppDataStore\n    private lateinit var storedPassword: String\n\n    private var _symbolsVisibility = MutableLiveData(View.INVISIBLE)\n    val symbolsVisibility: MutableLiveData&lt;Int&gt; get() = _symbolsVisibility\n\n    private var _passwordMatchVisibility = MutableLiveData(View.INVISIBLE)\n    val passwordMatchVisibility: MutableLiveData&lt;Int&gt; get() = _passwordMatchVisibility\n\n    private var _passwordIncorrectVisibility = MutableLiveData(View.INVISIBLE)\n    val passwordIncorrectVisibility: MutableLiveData&lt;Int&gt; get() = _passwordIncorrectVisibility\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        binding = FragmentSetPasswordBinding.inflate(inflater, container, false)\n        binding.setPasswordFragment = this\n        binding.lifecycleOwner = viewLifecycleOwner\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        appDataStore = AppDataStore(requireContext())\n        appDataStore.userMasterPasswordFlow.asLiveData().observe(viewLifecycleOwner, {\n            storedPassword = it\n            if (it.isEmpty()) {\n                binding.oldPasswordEditText.visibility = View.GONE\n                _passwordIncorrectVisibility.value = View.GONE\n            }\n        })\n        binding.saveFab.setOnClickListener { passToNextFrag() }\n\n    }\n\n    private lateinit var symbolMissingText: String\n\n    private fun getSymbolCheckWarning(temp: String): String {\n        symbolMissingText = &quot;&quot;\n        val tempTruthList = listOf&lt;Boolean&gt;(\n            hasUpperCase(temp),\n            hasLowerCase(temp),\n            hasSpecial(temp),\n            hasNumbers(temp),\n            temp.isNotEmpty()\n        )\n        return if (false !in tempTruthList) {\n            &quot;&quot;\n        } else {\n            &quot;*missing character types -${symbolMissingText} &quot;\n        }\n    }\n\n    private fun hasLowerCase(str: String): Boolean {\n        for (i in str) {\n            if (i in 'a'..'z') {\n                return true\n            }\n        }\n        symbolMissingText += &quot; lowercase,&quot;\n        return false\n    }\n\n    private fun hasUpperCase(str: String): Boolean {\n        for (i in str) {\n            if (i in 'A'..'Z') {\n                return true\n            }\n        }\n        symbolMissingText += &quot; uppercase,&quot;\n        return false\n    }\n\n    private fun hasSpecial(str: String): Boolean {\n        for (i in str) {\n            if (i in &quot;`!@#$%^&amp;*()_-+={[}]|\\\\:;\\&quot;'&lt;,&gt;.?/&quot;) {\n                return true\n            }\n        }\n        symbolMissingText += &quot; special,&quot;\n        return false\n    }\n\n    private fun hasNumbers(str: String): Boolean {\n        for (i in str) {\n            if (i in '0'..'9') {\n                return true\n            }\n        }\n        symbolMissingText += &quot; numbers,&quot;\n        return false\n    }\n\n    private fun getLengthWarningString(str: String): String {\n        return if (str.length in 9..31) &quot;&quot; else {\n            &quot;*length should be between 8-32 characters&quot;\n        }\n    }\n\n    private fun setNewPassWarning(): Boolean {\n        val str = binding.setNewPasswordEditText.text.toString()\n        val warningText = getSymbolCheckWarning(str) + getLengthWarningString(str)\n        Log.i(TAG, &quot;warningText = $warningText&quot;)\n        return if (warningText.isEmpty()) {\n            _symbolsVisibility.value = View.INVISIBLE\n            true\n        } else {\n            binding.setNewTextView.text = warningText\n            _symbolsVisibility.value = View.VISIBLE\n            false\n        }\n    }\n\n    private fun matchCheck(): Boolean {\n        return if (binding.setNewPasswordEditText.text.toString() == binding.confirmNewPasswordEditText.text.toString()) {\n            _passwordMatchVisibility.value = View.INVISIBLE\n            true\n        } else {\n            _passwordMatchVisibility.value = View.VISIBLE\n            false\n        }\n    }\n\n    private fun incorrectCheck(): Boolean {\n        return if (binding.oldPasswordEditText.text.toString() != storedPassword) {\n            _passwordIncorrectVisibility.value = View.VISIBLE\n            false\n        } else {\n            _passwordIncorrectVisibility.value = View.INVISIBLE\n            true\n        }\n    }\n\n    private fun passToNextFrag() {\n        val tempTruthList = listOf(setNewPassWarning(), matchCheck(), incorrectCheck())\n        if (false !in tempTruthList) {\n            appDataStore.editMasterPassword(\n                binding.setNewPasswordEditText.text.toString(),\n                requireContext()\n            )\n            nextScreen()\n\n        } else {\n            Toast.makeText(requireContext(), &quot;retry again&quot;, Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    private fun nextScreen() {\n        Log.i(TAG,&quot;next screen called&quot;)\n        this@SetPasswordFragment.findNavController()\n            .navigate(\n                SetPasswordFragmentDirections\n                    .actionSetPasswordFragmentToPassListFragment()\n            )\n    }\n}\n</code></pre>\n<p>adapter code -</p>\n<pre><code>package com.kenetic.savepass.adapters\n\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.DiffUtil\nimport androidx.recyclerview.widget.ListAdapter\nimport androidx.recyclerview.widget.RecyclerView\nimport com.kenetic.savepass.R\nimport com.kenetic.savepass.databinding.PassListBinding\nimport com.kenetic.savepass.password.PassEnum.Access\nimport com.kenetic.savepass.password.PasswordData\n\nprivate const val TAG = &quot;PassAdapter&quot;\n\nclass PassAdapter(private val fingerChecker: (PasswordData, Access) -&gt; Unit) :\n    ListAdapter&lt;PasswordData, PassAdapter.PassViewHolder&gt;(diffCallBack) {\n\n\n    class PassViewHolder(\n        private val binding: PassListBinding,\n        private val fingerChecker: (PasswordData, Access) -&gt; Unit\n    ) : RecyclerView.ViewHolder(binding.root) {\n\n        fun bind(passwordData: PasswordData) {\n            Log.i(TAG, &quot;bind called&quot;)\n            binding.isAppOrWebImageView.setImageResource(\n                if (passwordData.isAnApplication) {\n                    R.drawable.is_application_icon_24\n                } else {\n                    R.drawable.is_website_icon_24\n                }\n            )\n            binding.serviceNameTextView.text = passwordData.serviceName\n\n            if (passwordData.access) {\n                Log.i(TAG, &quot;access has been given&quot;)\n                binding.apply {\n                    servicePasswordTextView.text = passwordData.servicePassword\n                    showImageView.setImageResource(R.drawable.ic_baseline_hide_20)\n                    showImageView.setOnClickListener {\n                        fingerChecker(passwordData, Access.HIDE)\n                    }\n                }\n            } else {\n                Log.i(TAG, &quot;access has been denied&quot;)\n                binding.showImageView.setImageResource(R.drawable.ic_baseline_show_20)\n                binding.servicePasswordTextView.text = &quot;**********&quot;\n                binding.showImageView.setOnClickListener {\n                    fingerChecker(passwordData, Access.SHOW)\n                }\n            }\n\n            binding.securityTypeImageView.setImageResource(\n                if (passwordData.useFingerPrint) {\n                    R.drawable.fingerprint_20\n                } else {\n                    R.drawable.password_20\n                }\n            )\n\n            binding.deleteImageView.setOnClickListener {\n                fingerChecker(passwordData, Access.DELETE)\n\n            }\n            binding.editImageView.setOnClickListener {\n                Log.d(TAG, &quot;edit image onClick working&quot;)\n                fingerChecker(passwordData, Access.EDIT)\n            }\n        }\n    }\n\n    companion object {\n        private val diffCallBack = object : DiffUtil.ItemCallback&lt;PasswordData&gt;() {\n            override fun areItemsTheSame(oldItem: PasswordData, newItem: PasswordData): Boolean {\n                Log.i(\n                    TAG,\n                    &quot;id equality checked -\\t${oldItem.serviceName}\\t\\taccess value passed - \\t${oldItem.access}\\t\\t${newItem.access}&quot;\n                )\n                return oldItem.id == newItem.id\n            }\n\n            override fun areContentsTheSame(oldItem: PasswordData, newItem: PasswordData): Boolean {\n                return (oldItem == newItem &amp;&amp; oldItem.access == newItem.access)\n            }\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PassViewHolder {\n        return PassViewHolder(\n            PassListBinding.inflate(LayoutInflater.from(parent.context)), fingerChecker\n        )\n    }\n\n    override fun onBindViewHolder(holder: PassViewHolder, position: Int) {\n        Log.i(TAG, &quot;access for $position = ${getItem(position).access}&quot;)\n        holder.bind(getItem(position))\n    }\n}\n</code></pre>\n<p>data class used -</p>\n<pre><code>package com.kenetic.savepass.password\n\nimport androidx.room.ColumnInfo\nimport androidx.room.Entity\nimport androidx.room.PrimaryKey\n\n@Entity(tableName = &quot;password_data&quot;)\ndata class PasswordData(\n    @PrimaryKey(autoGenerate = true) val id: Int = 0,\n    @ColumnInfo(name = &quot;service_name&quot;) var serviceName: String,\n    @ColumnInfo(name = &quot;service_password&quot;) var servicePassword: String,\n    @ColumnInfo(name = &quot;is_an_application&quot;) var isAnApplication: Boolean = false,\n    @ColumnInfo(name = &quot;use_finger_print&quot;) var useFingerPrint: Boolean = true,\n    @ColumnInfo(name = &quot;access&quot;) var access: Boolean = false\n)\n</code></pre>\n<p>I have tried converting my element list to a list then submitting that list to the adapter class, saving the value of the list to another variable and submitting that variable, changing the diffutil object functions to scan each element and then return the value, etc.</p>\n"},{"tags":["java","flutter"],"owner":{"account_id":15926642,"reputation":73,"user_id":11492112,"display_name":"Jardine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1642336701,"creation_date":1642336701,"question_id":70730103,"body_markdown":"I tried to downgrade my Java SDK as there was an error with the latest version with flutter. In doing so, I have created this issue, which I cannot fix. The issue comes up when I run Flutter run. \r\nThe image is my Environment variables. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I3Vmo.png\r\n\r\nIf i create a new flutter project it works fine, this error only comes up in my existing project","title":"Flutter Run Error: Supplied javaHome must be a valid directory. You supplied: C:\\Program Files\\Java\\jdk-17.0.1 in flutter project","body":"<p>I tried to downgrade my Java SDK as there was an error with the latest version with flutter. In doing so, I have created this issue, which I cannot fix. The issue comes up when I run Flutter run.\nThe image is my Environment variables.\n<a href=\"https://i.stack.imgur.com/I3Vmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I3Vmo.png\" alt=\"enter image description here\" /></a></p>\n<p>If i create a new flutter project it works fine, this error only comes up in my existing project</p>\n"},{"tags":["java","class","oop","enums","refactoring"],"comments":[{"owner":{"account_id":198567,"reputation":706,"user_id":443309,"accept_rate":25,"display_name":"gkns"},"score":0,"creation_date":1642301375,"post_id":70727002,"comment_id":125033806,"body_markdown":"Thought about the possibility of using classes exclusively? i.e avoiding the Enums altogether? Also, since the flags are common to EntityA and EntityB, we can separate the flags from the Entities, only its combination needs to be kept track of, probably using a Set?\n\nAlso please note, Enums as a way to distinguish &#39;type&#39; has a C/C++ flavor to it!","body":"Thought about the possibility of using classes exclusively? i.e avoiding the Enums altogether? Also, since the flags are common to EntityA and EntityB, we can separate the flags from the Entities, only its combination needs to be kept track of, probably using a Set?  Also please note, Enums as a way to distinguish &#39;type&#39; has a C/C++ flavor to it!"},{"owner":{"account_id":7951112,"reputation":3,"user_id":6001921,"display_name":"Vivek Ranjan"},"score":0,"creation_date":1642333668,"post_id":70727002,"comment_id":125038285,"body_markdown":"Main concern is this Enum is already getting used as Enum at many places. Separating out the entities and enums completely, is definitely a solution. But would it scale, with adding more similar entities and enums?","body":"Main concern is this Enum is already getting used as Enum at many places. Separating out the entities and enums completely, is definitely a solution. But would it scale, with adding more similar entities and enums?"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642304394,"creation_date":1642304394,"answer_id":70727198,"question_id":70727002,"body_markdown":"Hard to offer specific advice without more context, but it&#39;s worth noting that enums can share interfaces, so you can try something like this:\r\n\r\n    interface Base {\r\n        String name();\r\n    }\r\n    \r\n    interface A extends Base {}\r\n    interface B extends Base {}\r\n    \r\n    public enum EnumBase implements A, B {\r\n        READ_ONLY,\r\n        READ_WRITE\r\n    }\r\n    \r\n    public enum EnumA implements A {\r\n        PERMISSION_DENIED,\r\n        COMMENT_ENABLED\r\n    }\r\n    \r\n    public enum EnumB implements B {\r\n        LIKE_ENABLED\r\n    }\r\n    \r\n    public abstract class EntityBase&lt;F extends Base&gt; {\r\n        public abstract Set&lt;F&gt; getProcessedFlags();\r\n    }\r\n    \r\n    public class EntityA extends EntityBase&lt;A&gt; {\r\n        @Override\r\n        public Set&lt;A&gt; getProcessedFlags() { ... }\r\n    }\r\n    \r\n    public class EntityB extends EntityBase&lt;B&gt; {\r\n        @Override\r\n        public Set&lt;B&gt; getProcessedFlags() { ... }\r\n    }","title":"Best way to refactor this code, if enums are not extensible","body":"<p>Hard to offer specific advice without more context, but it's worth noting that enums can share interfaces, so you can try something like this:</p>\n<pre><code>interface Base {\n    String name();\n}\n\ninterface A extends Base {}\ninterface B extends Base {}\n\npublic enum EnumBase implements A, B {\n    READ_ONLY,\n    READ_WRITE\n}\n\npublic enum EnumA implements A {\n    PERMISSION_DENIED,\n    COMMENT_ENABLED\n}\n\npublic enum EnumB implements B {\n    LIKE_ENABLED\n}\n\npublic abstract class EntityBase&lt;F extends Base&gt; {\n    public abstract Set&lt;F&gt; getProcessedFlags();\n}\n\npublic class EntityA extends EntityBase&lt;A&gt; {\n    @Override\n    public Set&lt;A&gt; getProcessedFlags() { ... }\n}\n\npublic class EntityB extends EntityBase&lt;B&gt; {\n    @Override\n    public Set&lt;B&gt; getProcessedFlags() { ... }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642336497,"creation_date":1642336497,"answer_id":70730088,"question_id":70727002,"body_markdown":"A different solution would be to use one enum for all PermissionsFlags and then add an attribute that allows you to check if the PermissionFlag can be used with this class.\r\n\r\n    public enum PermissionFlag {\r\n        READ_ONLY,\r\n        READ_WRITE,\r\n        PERMISSION_DENIED(EntityA.class),\r\n        COMMENT_ENABLED(EntityA.class),\r\n        LIKE_ENABLED(EntityB.class);\r\n    \r\n        private final Class&lt;?&gt; useForClass;\r\n    \r\n        PermissionFlag() {\r\n            this(null);\r\n        }\r\n    \r\n        PermissionFlag(Class&lt;?&gt; useForClass) {\r\n            this.useForClass = useForClass;\r\n        }\r\n    \r\n        /**\r\n         * Check if given class can be used for this PermissionFlag.\r\n         */\r\n        public boolean useForClass(Class&lt;?&gt; clazz) {\r\n            return useForClass == null || useForClass.equals(clazz);\r\n        }\r\n    \r\n        /**\r\n         * Returns a Stream consisting of all the PermissionFlags that can be used with the given class.\r\n         */\r\n        public static Stream&lt;PermissionFlag&gt; getPermissionsFlags(Class&lt;?&gt; clazz){\r\n            return Stream.of(values()).filter(flag -&gt; flag.useForClass(clazz));\r\n        }\r\n    }\r\n\r\nAnd then you can use `getPermissionFlags(EntityA.class).collect(Collectors.toList())` to get a List of all the Permissions flag for `EntityA`.","title":"Best way to refactor this code, if enums are not extensible","body":"<p>A different solution would be to use one enum for all PermissionsFlags and then add an attribute that allows you to check if the PermissionFlag can be used with this class.</p>\n<pre><code>public enum PermissionFlag {\n    READ_ONLY,\n    READ_WRITE,\n    PERMISSION_DENIED(EntityA.class),\n    COMMENT_ENABLED(EntityA.class),\n    LIKE_ENABLED(EntityB.class);\n\n    private final Class&lt;?&gt; useForClass;\n\n    PermissionFlag() {\n        this(null);\n    }\n\n    PermissionFlag(Class&lt;?&gt; useForClass) {\n        this.useForClass = useForClass;\n    }\n\n    /**\n     * Check if given class can be used for this PermissionFlag.\n     */\n    public boolean useForClass(Class&lt;?&gt; clazz) {\n        return useForClass == null || useForClass.equals(clazz);\n    }\n\n    /**\n     * Returns a Stream consisting of all the PermissionFlags that can be used with the given class.\n     */\n    public static Stream&lt;PermissionFlag&gt; getPermissionsFlags(Class&lt;?&gt; clazz){\n        return Stream.of(values()).filter(flag -&gt; flag.useForClass(clazz));\n    }\n}\n</code></pre>\n<p>And then you can use <code>getPermissionFlags(EntityA.class).collect(Collectors.toList())</code> to get a List of all the Permissions flag for <code>EntityA</code>.</p>\n"}],"owner":{"account_id":7951112,"reputation":3,"user_id":6001921,"display_name":"Vivek Ranjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70727198,"answer_count":2,"score":0,"last_activity_date":1642336497,"creation_date":1642300844,"question_id":70727002,"body_markdown":"Consider the following class that represent a entity and has method which return data of type **EnumA**\r\n\r\n**EntityA** class:\r\n```\r\npublic class EntityA\r\n{   \r\n    public Set&lt;EnumA&gt; getProcessedFlags() { ... }\r\n}\r\n```\r\n\r\n**EnumA**:\r\n```\r\npublic enum EnumA {\r\n  READ_ONLY,\r\n  READ_WRITE,\r\n  PERMISSION_DENIED,\r\n  COMMENT_ENABLED\r\n}\r\n```\r\n\r\nNow I got the requirement to add one more **EntityB**, which is similar to **EntityA**, but logically different. (Same method signatures but different implementation:\r\n\r\nThere is one more thing, the return value which was **EnumA** in **EntityA**, is **EnumB for **EntityB**.\r\n\r\n**EnumA** and **EnumB** are two different set, which represent a collection of logically same flags, but have some exclusive values in each of them:\r\n\r\n**EnumB**\r\n```\r\npublic enum EnumB {\r\n  READ_ONLY,\r\n  READ_WRITE,\r\n  LIKE_ENABLED\r\n}\r\n```\r\n\r\nSo To refactor this, I made a abstract base class - **EntityBase**, and made both **EntityA** and **EntityB**, child of this base class.\r\n\r\nProblem is **enums are not extensible**, Is there a good way to refactor this? \r\n\r\nI thought of creating class structure something like this below:\r\n\r\n```\r\npublic enum EnumBase {}\r\n\r\npublic enum EnumA extends EnumBase {}\r\n\r\npublic enum EnumB extends EnumBase {}\r\n\r\npublic abstract class EntityBase\r\n{\r\n  public Set&lt;? extends EnumBase&gt; getProcessedFlags();\r\n}\r\n\r\npublic class EntityA extends EntityBase\r\n{   \r\n    public Set&lt;EnumA&gt; getProcessedFlags() { ... }\r\n}\r\n\r\npublic class EntityB extends EntityBase\r\n{   \r\n    public Set&lt;EnumB&gt; getProcessedFlags() { ... }\r\n}\r\n```\r\n\r\nSince Enums in java are not extensible, Can we have some better design to maintain this EntityBase class?\r\n\r\n","title":"Best way to refactor this code, if enums are not extensible","body":"<p>Consider the following class that represent a entity and has method which return data of type <strong>EnumA</strong></p>\n<p><strong>EntityA</strong> class:</p>\n<pre><code>public class EntityA\n{   \n    public Set&lt;EnumA&gt; getProcessedFlags() { ... }\n}\n</code></pre>\n<p><strong>EnumA</strong>:</p>\n<pre><code>public enum EnumA {\n  READ_ONLY,\n  READ_WRITE,\n  PERMISSION_DENIED,\n  COMMENT_ENABLED\n}\n</code></pre>\n<p>Now I got the requirement to add one more <strong>EntityB</strong>, which is similar to <strong>EntityA</strong>, but logically different. (Same method signatures but different implementation:</p>\n<p>There is one more thing, the return value which was <strong>EnumA</strong> in <strong>EntityA</strong>, is **EnumB for <strong>EntityB</strong>.</p>\n<p><strong>EnumA</strong> and <strong>EnumB</strong> are two different set, which represent a collection of logically same flags, but have some exclusive values in each of them:</p>\n<p><strong>EnumB</strong></p>\n<pre><code>public enum EnumB {\n  READ_ONLY,\n  READ_WRITE,\n  LIKE_ENABLED\n}\n</code></pre>\n<p>So To refactor this, I made a abstract base class - <strong>EntityBase</strong>, and made both <strong>EntityA</strong> and <strong>EntityB</strong>, child of this base class.</p>\n<p>Problem is <strong>enums are not extensible</strong>, Is there a good way to refactor this?</p>\n<p>I thought of creating class structure something like this below:</p>\n<pre><code>public enum EnumBase {}\n\npublic enum EnumA extends EnumBase {}\n\npublic enum EnumB extends EnumBase {}\n\npublic abstract class EntityBase\n{\n  public Set&lt;? extends EnumBase&gt; getProcessedFlags();\n}\n\npublic class EntityA extends EntityBase\n{   \n    public Set&lt;EnumA&gt; getProcessedFlags() { ... }\n}\n\npublic class EntityB extends EntityBase\n{   \n    public Set&lt;EnumB&gt; getProcessedFlags() { ... }\n}\n</code></pre>\n<p>Since Enums in java are not extensible, Can we have some better design to maintain this EntityBase class?</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":2100662,"reputation":6309,"user_id":1868384,"accept_rate":71,"display_name":"Stefan de Bruijn"},"score":0,"creation_date":1372665579,"post_id":17399763,"comment_id":25263921,"body_markdown":"I think so, as it is also a type while doing CREATE TABLE, but easy to try out and change it right?","body":"I think so, as it is also a type while doing CREATE TABLE, but easy to try out and change it right?"},{"owner":{"account_id":2100662,"reputation":6309,"user_id":1868384,"accept_rate":71,"display_name":"Stefan de Bruijn"},"score":1,"creation_date":1372665663,"post_id":17399763,"comment_id":25263959,"body_markdown":"btw, i think quoting it would solve it.","body":"btw, i think quoting it would solve it."}],"answers":[{"tags":[],"owner":{"account_id":1403075,"reputation":12629,"user_id":1331488,"accept_rate":62,"display_name":"Seraphim&#39;s"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1372667167,"creation_date":1372665597,"answer_id":17399781,"question_id":17399763,"body_markdown":"Yes it seems to be a reserved word.\r\n\r\nlook at: http://www.sqlite.org/lang_datefunc.html\r\n\r\n\r\n     date(timestring, modifier, modifier, ...) \r\n\r\nIt&#39;s strange to have a cursors form DELETE statement. Try to split the operation in \r\n\r\n    SELECT * FROM cases WHERE date &lt;= date(&#39;now&#39;,&#39;-1 day&#39;)\r\n\r\nthen execute your checks\r\n    \r\n\r\n    SQLiteDatabase db = this.getWritableDatabase(); \r\n    Cursor cursor = db.rawQuery(query, null);\r\n    boolean found = cursor.moveToFirst(); \r\n    if(found) {\r\n        int result = cursor.getCount();\r\n        Log.w(&quot;DeleteOldCases: &quot;, &quot;Result: &quot; + Integer.toString(result));\r\n        db.close();\r\n    }\r\n\r\n\r\nand then execute the DELETE part\r\n\r\n    DELETE FROM cases WHERE date &lt;= date(&#39;now&#39;,&#39;-1 day&#39;)","title":"SQLite query - date reserved word?","body":"<p>Yes it seems to be a reserved word.</p>\n\n<p>look at: <a href=\"http://www.sqlite.org/lang_datefunc.html\" rel=\"nofollow\">http://www.sqlite.org/lang_datefunc.html</a></p>\n\n<pre><code> date(timestring, modifier, modifier, ...) \n</code></pre>\n\n<p>It's strange to have a cursors form DELETE statement. Try to split the operation in </p>\n\n<pre><code>SELECT * FROM cases WHERE date &lt;= date('now','-1 day')\n</code></pre>\n\n<p>then execute your checks</p>\n\n<pre><code>SQLiteDatabase db = this.getWritableDatabase(); \nCursor cursor = db.rawQuery(query, null);\nboolean found = cursor.moveToFirst(); \nif(found) {\n    int result = cursor.getCount();\n    Log.w(\"DeleteOldCases: \", \"Result: \" + Integer.toString(result));\n    db.close();\n}\n</code></pre>\n\n<p>and then execute the DELETE part</p>\n\n<pre><code>DELETE FROM cases WHERE date &lt;= date('now','-1 day')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642336326,"creation_date":1642336326,"answer_id":70730062,"question_id":17399763,"body_markdown":"This question is quite old but it deserves a proper answer.&lt;br/&gt;\r\n\r\nNo, `date` is **not** a reserved word.\r\n\r\nThe problem with your code is that you are using the method [`rawQuery()`][1] to delete from the table, which is not the way to do it.&lt;br/&gt; \r\n`rawQuery()` should be used to return rows from the table in the form of a `Cursor` object.&lt;br/&gt;\r\nSince your sql statement does not return any rows the method `moveToFirst()` returns `false`.&lt;br/&gt; \r\n\r\nWhat you should use is the method [`delete()`][2] which returns the number of deleted rows:\r\n\r\n    int result = db.delete(&quot;cases&quot;, &quot;date &lt;= date(&#39;now&#39;, &#39;-1 day&#39;)&quot;, null);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#rawQuery(java.lang.String,%20java.lang.String[],%20android.os.CancellationSignal)\r\n  [2]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#delete(java.lang.String,%20java.lang.String,%20java.lang.String[])","title":"SQLite query - date reserved word?","body":"<p>This question is quite old but it deserves a proper answer.<br/></p>\n<p>No, <code>date</code> is <strong>not</strong> a reserved word.</p>\n<p>The problem with your code is that you are using the method <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#rawQuery(java.lang.String,%20java.lang.String%5B%5D,%20android.os.CancellationSignal)\" rel=\"nofollow noreferrer\"><code>rawQuery()</code></a> to delete from the table, which is not the way to do it.<br/>\n<code>rawQuery()</code> should be used to return rows from the table in the form of a <code>Cursor</code> object.<br/>\nSince your sql statement does not return any rows the method <code>moveToFirst()</code> returns <code>false</code>.<br/></p>\n<p>What you should use is the method <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#delete(java.lang.String,%20java.lang.String,%20java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\"><code>delete()</code></a> which returns the number of deleted rows:</p>\n<pre><code>int result = db.delete(&quot;cases&quot;, &quot;date &lt;= date('now', '-1 day')&quot;, null);\n</code></pre>\n"}],"owner":{"account_id":444012,"reputation":8881,"user_id":835585,"accept_rate":66,"display_name":"Tobias Moe Thorstensen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":17399781,"answer_count":2,"score":1,"last_activity_date":1642336385,"creation_date":1372665488,"question_id":17399763,"body_markdown":"Am just curious, is `date` a reserved word i `SQLite`? I have a column which is named date, and trying to run this query:\r\n\r\n    DELETE FROM cases WHERE date &lt;= date(&#39;now&#39;,&#39;-1 day&#39;)\r\n\r\nBy doing this:\r\n\r\n    String query = &quot;DELETE FROM cases WHERE date &lt;= date(&#39;now&#39;,&#39;-1 day&#39;)&quot;;\r\n    \t\t\r\n    \t\tSQLiteDatabase db = this.getWritableDatabase(); \r\n    \t\t\r\n    \t\tCursor cursor = db.rawQuery(query, null);\r\n    \t\tboolean found = cursor.moveToFirst(); \r\n    \t\tif(found) {\r\n    \t\t\tint result = cursor.getCount();\r\n    \t\t\tLog.w(&quot;DeleteOldCases: &quot;, &quot;Result: &quot; + Integer.toString(result));\r\n    \t\t\tdb.close();\r\n    \t\t}\r\n\r\nBut the cursor just gives me a false back, when calling `moveToFirst`. But in my database there are actually rows that are older than one day. Can anybody explain whats wrong here? \r\n\r\nThanks!","title":"SQLite query - date reserved word?","body":"<p>Am just curious, is <code>date</code> a reserved word i <code>SQLite</code>? I have a column which is named date, and trying to run this query:</p>\n\n<pre><code>DELETE FROM cases WHERE date &lt;= date('now','-1 day')\n</code></pre>\n\n<p>By doing this:</p>\n\n<pre><code>String query = \"DELETE FROM cases WHERE date &lt;= date('now','-1 day')\";\n\n        SQLiteDatabase db = this.getWritableDatabase(); \n\n        Cursor cursor = db.rawQuery(query, null);\n        boolean found = cursor.moveToFirst(); \n        if(found) {\n            int result = cursor.getCount();\n            Log.w(\"DeleteOldCases: \", \"Result: \" + Integer.toString(result));\n            db.close();\n        }\n</code></pre>\n\n<p>But the cursor just gives me a false back, when calling <code>moveToFirst</code>. But in my database there are actually rows that are older than one day. Can anybody explain whats wrong here? </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","gradle","intellij-idea","java-8","java-11"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":1,"creation_date":1638160450,"post_id":70149752,"comment_id":124005162,"body_markdown":"You need one defined in &quot;Project Structure -&gt; Project setting &quot;","body":"You need one defined in &quot;Project Structure -&gt; Project setting &quot;"}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638161560,"creation_date":1638161560,"answer_id":70149890,"question_id":70149752,"body_markdown":"1 - Is for your OS and terminal, nothing common with the project \r\n\r\n2 - Is the JDK for running Gradle. For Gradle daemon itself, not for the project \r\n\r\n3 - Is the project&#39;s bytecode version which could be overwritten in module. \r\n\r\n4 - Is the Runtime environment for the IDE itself. \r\n\r\nSo, you need to edit **Project Structure &gt; Project setting &gt; Project &gt; Language level** See https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk","title":"How to set JRE or JDK to Java 11 for IntelliJ when I get error &quot;compiled by a more recent version of the Java Runtime (class file version 55.0)...&quot;","body":"<p>1 - Is for your OS and terminal, nothing common with the project</p>\n<p>2 - Is the JDK for running Gradle. For Gradle daemon itself, not for the project</p>\n<p>3 - Is the project's bytecode version which could be overwritten in module.</p>\n<p>4 - Is the Runtime environment for the IDE itself.</p>\n<p>So, you need to edit <strong>Project Structure &gt; Project setting &gt; Project &gt; Language level</strong> See <a href=\"https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk</a></p>\n"},{"tags":[],"owner":{"account_id":23955982,"reputation":1,"user_id":17946864,"display_name":"gwzd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642335840,"creation_date":1642335840,"answer_id":70730007,"question_id":70149752,"body_markdown":" 1. [Edit Configurations...] or [Modify Run Configuration...] menu to open the &quot;Run/Debug Configurations&quot; dialog.\r\n 2. Select the runtime version from the [JRE:] drop-down menu.","title":"How to set JRE or JDK to Java 11 for IntelliJ when I get error &quot;compiled by a more recent version of the Java Runtime (class file version 55.0)...&quot;","body":"<ol>\n<li>[Edit Configurations...] or [Modify Run Configuration...] menu to open the &quot;Run/Debug Configurations&quot; dialog.</li>\n<li>Select the runtime version from the [JRE:] drop-down menu.</li>\n</ol>\n"}],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4116,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70149890,"answer_count":2,"score":4,"last_activity_date":1642335840,"creation_date":1638160104,"question_id":70149752,"body_markdown":"I try to compile https://github.com/CuriousNikhil/k5-compose in IntelliJ, I got the below error\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=61326:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/tools.jar:/Users/elisha.lye/Development/experiment/k5-compose/build/classes/kotlin/main:/Users/elisha.lye/Development/experiment/k5-compose/k5-compose/build/classes/kotlin/main:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.5.21/6b3de2a43405a65502728047db37a98a0c7e72f0/kotlin-stdlib-jdk8-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.5.21/f059658740a4b3a3461aba9681457615332bae1c/kotlin-stdlib-jdk7-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.5.21/2f537cad7e9eeb9da73738c8812e1e4cf9b62e4e/kotlin-stdlib-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.desktop/desktop-jvm/1.0.0-alpha3/7d2ec16f4e057de47d41ffc5c8416f9f85aeab3e/desktop-jvm-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.5.21/cc8bf3586fd2ebcf234058b9440bb406e62dfacb/kotlin-stdlib-common-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-desktop/1.0.0-alpha3/60d4a46d2ee31e82ab61342887203b23aee0ba83/material-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.foundation/foundation-desktop/1.0.0-alpha3/29c590b69d13ec16352497848d1bf05da1de062e/foundation-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-desktop/1.0.0-alpha3/7f33f2592490b6d23494c0842d6f15ac592f9bb7/ui-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-tooling-preview-desktop/1.0.0-alpha3/4676c56ea7defd68facfab054079ac1e76aba57f/ui-tooling-preview-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.runtime/runtime-desktop/1.0.0-alpha3/481c6e0d45e192d4f02f993e049262e0668f6018/runtime-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-swing/1.5.0/f9702179f0e36a0541ffe77a7a62596c4fc6ad83/kotlinx-coroutines-swing-1.5.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation/1.2.0/57136ff68ee784c6e19db34ed4a175338fadfde1/annotation-1.2.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-ripple-desktop/1.0.0-alpha3/ffc54fa1f9c6e164d6ccdd53f7411bd80ccbce6c/material-ripple-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-icons-core-desktop/1.0.0-alpha3/3e869bc14a82c27647e3719579d6acb517d2fc2a/material-icons-core-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.animation/animation-core-desktop/1.0.0-alpha3/ec648418e6980b80f376f2b0455d5e2ba74f0445/animation-core-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-text-desktop/1.0.0-alpha3/c1706e1e249c65fe08a672f3ab8f442ee864cf59/ui-text-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.animation/animation-desktop/1.0.0-alpha3/eeff15e8d42d2fab8e6fb4eb0356ae397070aa49/animation-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.runtime/runtime-saveable-desktop/1.0.0-alpha3/1b7a4801b28b5541d87cd9ae560571a77cc94dd/runtime-saveable-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-graphics-desktop/1.0.0-alpha3/f3b1bfc01b7316e6d5af522b1025fe09f7fff137/ui-graphics-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-unit-desktop/1.0.0-alpha3/5cefe80c330e154436abdb12825a828229ed950f/ui-unit-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-geometry-desktop/1.0.0-alpha3/261a169b4e2816397d8c4e22e63a2d590f99210a/ui-geometry-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.5.0/d8cebccdcddd029022aa8646a5a953ff88b13ac8/kotlinx-coroutines-core-jvm-1.5.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.skiko/skiko-jvm/0.3.9/8b3108a3fb80baa30163d20d8176f108d895b44f/skiko-jvm-0.3.9.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.foundation/foundation-layout-desktop/1.0.0-alpha3/878f19bd721b99f677e959d96595573f8198eb1c/foundation-layout-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.skiko/skiko-jvm-runtime-macos-x64/0.3.9/7dd5c3ab33897ea23d4e46251a7d04515755d0dd/skiko-jvm-runtime-macos-x64-0.3.9.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-util-desktop/1.0.0-alpha3/6de31edde97babd7339e67bb1b82ebff1a805e9c/ui-util-desktop-1.0.0-alpha3.jar MainKt\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: MainKt has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\r\n```\r\n\r\nThis is clearly because it needs Java 11, and it got compiled in Java 8.\r\n\r\nHowever, when I check all places I see, they are all set to Java 11. The below is what I have checked\r\n\r\n\r\n### 1. In the Terminal environment\r\n\r\n```\r\n java -version\r\nopenjdk version &quot;11.0.12&quot; 2021-07-20 LTS\r\nOpenJDK Runtime Environment Zulu11.50+19-CA (build 11.0.12+7-LTS)\r\nOpenJDK 64-Bit Server VM Zulu11.50+19-CA (build 11.0.12+7-LTS, mixed mode)\r\nelisha.lye@C02FF0VFQ05N k5-compose % \r\n```\r\n\r\n### 2. In the Gradle setting\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### 3. In the Java Compiler\r\n\r\n[![enter image description here][2]][2]\r\n\r\n### 4. In the JRE Setting\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhere do I miss setting my Java Run Time?\r\n\r\n  [1]: https://i.stack.imgur.com/LBB4K.png\r\n  [2]: https://i.stack.imgur.com/Zo1id.png\r\n  [3]: https://i.stack.imgur.com/b4E3B.png","title":"How to set JRE or JDK to Java 11 for IntelliJ when I get error &quot;compiled by a more recent version of the Java Runtime (class file version 55.0)...&quot;","body":"<p>I try to compile <a href=\"https://github.com/CuriousNikhil/k5-compose\" rel=\"nofollow noreferrer\">https://github.com/CuriousNikhil/k5-compose</a> in IntelliJ, I got the below error</p>\n<pre><code>/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=61326:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/cldrdata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/jaccess.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/nashorn.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/lib/tools.jar:/Users/elisha.lye/Development/experiment/k5-compose/build/classes/kotlin/main:/Users/elisha.lye/Development/experiment/k5-compose/k5-compose/build/classes/kotlin/main:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.5.21/6b3de2a43405a65502728047db37a98a0c7e72f0/kotlin-stdlib-jdk8-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.5.21/f059658740a4b3a3461aba9681457615332bae1c/kotlin-stdlib-jdk7-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.5.21/2f537cad7e9eeb9da73738c8812e1e4cf9b62e4e/kotlin-stdlib-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.desktop/desktop-jvm/1.0.0-alpha3/7d2ec16f4e057de47d41ffc5c8416f9f85aeab3e/desktop-jvm-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.5.21/cc8bf3586fd2ebcf234058b9440bb406e62dfacb/kotlin-stdlib-common-1.5.21.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-desktop/1.0.0-alpha3/60d4a46d2ee31e82ab61342887203b23aee0ba83/material-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.foundation/foundation-desktop/1.0.0-alpha3/29c590b69d13ec16352497848d1bf05da1de062e/foundation-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-desktop/1.0.0-alpha3/7f33f2592490b6d23494c0842d6f15ac592f9bb7/ui-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-tooling-preview-desktop/1.0.0-alpha3/4676c56ea7defd68facfab054079ac1e76aba57f/ui-tooling-preview-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.runtime/runtime-desktop/1.0.0-alpha3/481c6e0d45e192d4f02f993e049262e0668f6018/runtime-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-swing/1.5.0/f9702179f0e36a0541ffe77a7a62596c4fc6ad83/kotlinx-coroutines-swing-1.5.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation/1.2.0/57136ff68ee784c6e19db34ed4a175338fadfde1/annotation-1.2.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-ripple-desktop/1.0.0-alpha3/ffc54fa1f9c6e164d6ccdd53f7411bd80ccbce6c/material-ripple-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.material/material-icons-core-desktop/1.0.0-alpha3/3e869bc14a82c27647e3719579d6acb517d2fc2a/material-icons-core-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.animation/animation-core-desktop/1.0.0-alpha3/ec648418e6980b80f376f2b0455d5e2ba74f0445/animation-core-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-text-desktop/1.0.0-alpha3/c1706e1e249c65fe08a672f3ab8f442ee864cf59/ui-text-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.animation/animation-desktop/1.0.0-alpha3/eeff15e8d42d2fab8e6fb4eb0356ae397070aa49/animation-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.runtime/runtime-saveable-desktop/1.0.0-alpha3/1b7a4801b28b5541d87cd9ae560571a77cc94dd/runtime-saveable-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-graphics-desktop/1.0.0-alpha3/f3b1bfc01b7316e6d5af522b1025fe09f7fff137/ui-graphics-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-unit-desktop/1.0.0-alpha3/5cefe80c330e154436abdb12825a828229ed950f/ui-unit-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-geometry-desktop/1.0.0-alpha3/261a169b4e2816397d8c4e22e63a2d590f99210a/ui-geometry-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.5.0/d8cebccdcddd029022aa8646a5a953ff88b13ac8/kotlinx-coroutines-core-jvm-1.5.0.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.skiko/skiko-jvm/0.3.9/8b3108a3fb80baa30163d20d8176f108d895b44f/skiko-jvm-0.3.9.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.foundation/foundation-layout-desktop/1.0.0-alpha3/878f19bd721b99f677e959d96595573f8198eb1c/foundation-layout-desktop-1.0.0-alpha3.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.skiko/skiko-jvm-runtime-macos-x64/0.3.9/7dd5c3ab33897ea23d4e46251a7d04515755d0dd/skiko-jvm-runtime-macos-x64-0.3.9.jar:/Users/elisha.lye/.gradle/caches/modules-2/files-2.1/org.jetbrains.compose.ui/ui-util-desktop/1.0.0-alpha3/6de31edde97babd7339e67bb1b82ebff1a805e9c/ui-util-desktop-1.0.0-alpha3.jar MainKt\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: MainKt has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\n</code></pre>\n<p>This is clearly because it needs Java 11, and it got compiled in Java 8.</p>\n<p>However, when I check all places I see, they are all set to Java 11. The below is what I have checked</p>\n<h3>1. In the Terminal environment</h3>\n<pre><code> java -version\nopenjdk version &quot;11.0.12&quot; 2021-07-20 LTS\nOpenJDK Runtime Environment Zulu11.50+19-CA (build 11.0.12+7-LTS)\nOpenJDK 64-Bit Server VM Zulu11.50+19-CA (build 11.0.12+7-LTS, mixed mode)\nelisha.lye@C02FF0VFQ05N k5-compose % \n</code></pre>\n<h3>2. In the Gradle setting</h3>\n<p><a href=\"https://i.stack.imgur.com/LBB4K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LBB4K.png\" alt=\"enter image description here\" /></a></p>\n<h3>3. In the Java Compiler</h3>\n<p><a href=\"https://i.stack.imgur.com/Zo1id.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zo1id.png\" alt=\"enter image description here\" /></a></p>\n<h3>4. In the JRE Setting</h3>\n<p><a href=\"https://i.stack.imgur.com/b4E3B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4E3B.png\" alt=\"enter image description here\" /></a></p>\n<p>Where do I miss setting my Java Run Time?</p>\n"},{"tags":["java","spring-boot","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642335191,"creation_date":1642335191,"answer_id":70729928,"question_id":70729181,"body_markdown":"try replacing: \r\n\r\n    @ContextConfiguration(classes = {MyService.class})\r\n    @EnableMongoRepositories(&quot;com.exmaple.path.to.mongorepos&quot;)\r\n\r\nto:\r\n\r\n    @Import({MyService.class})","title":"How to use MongoRepository in test?","body":"<p>try replacing:</p>\n<pre><code>@ContextConfiguration(classes = {MyService.class})\n@EnableMongoRepositories(&quot;com.exmaple.path.to.mongorepos&quot;)\n</code></pre>\n<p>to:</p>\n<pre><code>@Import({MyService.class})\n</code></pre>\n"}],"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642335191,"creation_date":1642328789,"question_id":70729181,"body_markdown":"I want to use a `MongoRepository` in a `@DataMongoTest`. I can&#39;t add it in `@ContextConfiguration` since it&#39;s an interface.\r\n\r\nI ended up doing the following:\r\n\r\n    @DataMongoTest\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = {MyService.class})\r\n    @EnableMongoRepositories(&quot;com.exmaple.path.to.mongorepos&quot;)\r\n\r\nwhich works, but I don&#39;t like the fact that I need to set this String value of the base package. Interestingly, `@EnableMongoRepositories` alone doesn&#39;t work.\r\n\r\nIs there another method to instantiate a `MongoRepository` in a unit test?","title":"How to use MongoRepository in test?","body":"<p>I want to use a <code>MongoRepository</code> in a <code>@DataMongoTest</code>. I can't add it in <code>@ContextConfiguration</code> since it's an interface.</p>\n<p>I ended up doing the following:</p>\n<pre><code>@DataMongoTest\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {MyService.class})\n@EnableMongoRepositories(&quot;com.exmaple.path.to.mongorepos&quot;)\n</code></pre>\n<p>which works, but I don't like the fact that I need to set this String value of the base package. Interestingly, <code>@EnableMongoRepositories</code> alone doesn't work.</p>\n<p>Is there another method to instantiate a <code>MongoRepository</code> in a unit test?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9880152,"reputation":915,"user_id":7316521,"display_name":"A_C"},"score":0,"creation_date":1580286082,"post_id":59962814,"comment_id":106043050,"body_markdown":"Your question no 1 is not clear. What are you asking?","body":"Your question no 1 is not clear. What are you asking?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1580287399,"post_id":59962814,"comment_id":106043661,"body_markdown":"2. because you can be scheduling multiple tasks in that executor. Also, because that&#39;s how this particular schedule is defined.","body":"2. because you can be scheduling multiple tasks in that executor. Also, because that&#39;s how this particular schedule is defined."},{"owner":{"account_id":17635444,"reputation":33,"user_id":12798800,"display_name":"Dmitry_Bl"},"score":0,"creation_date":1580291404,"post_id":59962814,"comment_id":106045865,"body_markdown":"@AnkurChrungoo, I mean is the problem in &quot;sleep&quot; method, or just like documentation says threads won&#39;t go cuncurrent? Now I got the answer, thanks","body":"@AnkurChrungoo, I mean is the problem in &quot;sleep&quot; method, or just like documentation says threads won&#39;t go cuncurrent? Now I got the answer, thanks"}],"answers":[{"tags":[],"owner":{"account_id":17400617,"reputation":3680,"user_id":12609572,"display_name":"ardenit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580286559,"creation_date":1580286559,"answer_id":59963122,"question_id":59962814,"body_markdown":"1. The answer is in the quote you provided. Executor waits until the task finishes before launching this task again. It prevents concurrent execution of many instances of one task - in most cases this behaviour is needed. In your case Executor starts a task, then waits 1 second of delay, then waits 3 more seconds until current task is done and only then starts this task again (It does not necessarily start new thread, it may start the task in the same thread).\r\n\r\n2. Your code does not use thread pool at all - you can get exactly same result using single thread executor.\r\n\r\n3. If you want to get this behaviour:\r\n    &gt; I expected that every 1 second scheduledExecutorService will try to take new thread \r\n    from the pool and start it.\r\n    \r\n    Then you may write is like this:\r\n    ``` java\r\nScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);\r\n\r\n    Runnable command = () -&gt; {\r\n        System.out.println(&quot;Yo&quot;);\r\n        try {\r\n            Thread.sleep(4000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    };\r\n\r\n    Runnable commandRunner = () -&gt; {\r\n        scheduledExecutorService.schedule(command, 0, TimeUnit.SECONDS);\r\n    }\r\n\r\n    scheduledExecutorService.scheduleAtFixedRate(commandRunner, 0, 1, TimeUnit.SECONDS);\r\n    ```\r\n    (It&#39;s better to create a single-threaded `ScheduledExecutorService` that runs `commandRunner` and create a thread pool based `ExecutorService` that is used by `commandRunner` to execute `command`)","title":"Java scheduleAtFixedRate + Thread.sleep","body":"<ol>\n<li><p>The answer is in the quote you provided. Executor waits until the task finishes before launching this task again. It prevents concurrent execution of many instances of one task - in most cases this behaviour is needed. In your case Executor starts a task, then waits 1 second of delay, then waits 3 more seconds until current task is done and only then starts this task again (It does not necessarily start new thread, it may start the task in the same thread).</p></li>\n<li><p>Your code does not use thread pool at all - you can get exactly same result using single thread executor.</p></li>\n<li><p>If you want to get this behaviour:</p>\n\n<blockquote>\n  <p>I expected that every 1 second scheduledExecutorService will try to take new thread \n  from the pool and start it.</p>\n</blockquote>\n\n<p>Then you may write is like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);\n\nRunnable command = () -&gt; {\n    System.out.println(\"Yo\");\n    try {\n        Thread.sleep(4000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n};\n\nRunnable commandRunner = () -&gt; {\n    scheduledExecutorService.schedule(command, 0, TimeUnit.SECONDS);\n}\n\nscheduledExecutorService.scheduleAtFixedRate(commandRunner, 0, 1, TimeUnit.SECONDS);\n</code></pre>\n\n<p>(It's better to create a single-threaded <code>ScheduledExecutorService</code> that runs <code>commandRunner</code> and create a thread pool based <code>ExecutorService</code> that is used by <code>commandRunner</code> to execute <code>command</code>)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9880152,"reputation":915,"user_id":7316521,"display_name":"A_C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580287163,"creation_date":1580286767,"answer_id":59963179,"question_id":59962814,"body_markdown":"&gt; What&#39;s the catch - Does Thread.sleep() stop all threads or nuance in\r\n&gt; this behavior - &quot;If any execution of this task takes longer than its\r\n&gt; period, then subsequent executions may start late, but will not\r\n&gt; concurrently execute&quot;?\r\n\r\n - I didn&#39;t quite understand what you mean here. But, essentially speaking, in the code that you have shared, Thread.sleep() is just making the thread execution take 4 seconds, which is longer than the set period of 1 second. Thus, subsequent threads will not execute after 1 second, but only after ~4 seconds of execution of the previous thread.\r\n\r\n&gt; If &quot;will not concurrently execute&quot; is true in this situation - why do\r\n&gt; we need this pool of several threads if every thread will start after\r\n&gt; execution of previous thread?\r\n\r\n - You may want to schedule some other type of threads (which do a different job) in the same executor, which may run in parallel to the code which you have shared. Your current code only needs 1 thread in the pool though, since you are scheduling only one job (Runnable).\r\n\r\n&gt; Is there any simple valid example of usage of scheduleAtFixedRate,\r\n&gt; where one thread starts while previous still executes?\r\n\r\n - As stated in the documentation, concurrent execution will not happen for the job that you scheduled at fixed rate (with the current code)","title":"Java scheduleAtFixedRate + Thread.sleep","body":"<blockquote>\n  <p>What's the catch - Does Thread.sleep() stop all threads or nuance in\n  this behavior - \"If any execution of this task takes longer than its\n  period, then subsequent executions may start late, but will not\n  concurrently execute\"?</p>\n</blockquote>\n\n<ul>\n<li>I didn't quite understand what you mean here. But, essentially speaking, in the code that you have shared, Thread.sleep() is just making the thread execution take 4 seconds, which is longer than the set period of 1 second. Thus, subsequent threads will not execute after 1 second, but only after ~4 seconds of execution of the previous thread.</li>\n</ul>\n\n<blockquote>\n  <p>If \"will not concurrently execute\" is true in this situation - why do\n  we need this pool of several threads if every thread will start after\n  execution of previous thread?</p>\n</blockquote>\n\n<ul>\n<li>You may want to schedule some other type of threads (which do a different job) in the same executor, which may run in parallel to the code which you have shared. Your current code only needs 1 thread in the pool though, since you are scheduling only one job (Runnable).</li>\n</ul>\n\n<blockquote>\n  <p>Is there any simple valid example of usage of scheduleAtFixedRate,\n  where one thread starts while previous still executes?</p>\n</blockquote>\n\n<ul>\n<li>As stated in the documentation, concurrent execution will not happen for the job that you scheduled at fixed rate (with the current code)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642334951,"creation_date":1642334951,"answer_id":70729899,"question_id":59962814,"body_markdown":"```\r\npublic class Poll {\r\n  ScheduledFuture&lt;?&gt; future;\r\n  static int INIT_DELAY = 1;\r\n  static int REPEAT_PERIOD = 2;\r\n  static int MAX_TRIES = 3;\r\n  int tries = 1;\r\n  \r\n  \r\n  Runnable task = () -&gt; {\r\n    System.out.print( tries + &quot;: &quot; + Thread.currentThread().getName() + &quot; &quot; );\r\n    \r\n    if ( ++tries &gt; MAX_TRIES ) {\r\n      future.cancel( false );\r\n    }\r\n  };\r\n  \r\n  \r\n  void poll() {\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n    future = executor.scheduleAtFixedRate( task, INIT_DELAY, REPEAT_PERIOD, TimeUnit.SECONDS );\r\n    \r\n    System.out.println( &quot;Start: &quot; + tries + &quot;: &quot; + Thread.currentThread().getName() + &quot; &quot; );\r\n  \r\n    try {\r\n      future.get();\r\n      \r\n    } catch ( InterruptedException | ExecutionException e ) {\r\n      System.out.println( e.getMessage() );\r\n      \r\n    } catch ( CancellationException e ) {\r\n      System.out.println( &quot;Regular End Of Scheduled Task as Designed.&quot;);\r\n      \r\n    } finally {\r\n      executor.shutdown();\r\n      executor.shutdownNow();\r\n    }\r\n    \r\n    System.out.println( &quot;Return The Result.&quot; );\r\n  }\r\n  \r\n  \r\n  // The Driver\r\n  public static void main( String[] args ) {\r\n    new Poll().poll();\r\n  }\r\n}","title":"Java scheduleAtFixedRate + Thread.sleep","body":"<pre><code>public class Poll {\n  ScheduledFuture&lt;?&gt; future;\n  static int INIT_DELAY = 1;\n  static int REPEAT_PERIOD = 2;\n  static int MAX_TRIES = 3;\n  int tries = 1;\n  \n  \n  Runnable task = () -&gt; {\n    System.out.print( tries + &quot;: &quot; + Thread.currentThread().getName() + &quot; &quot; );\n    \n    if ( ++tries &gt; MAX_TRIES ) {\n      future.cancel( false );\n    }\n  };\n  \n  \n  void poll() {\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\n    future = executor.scheduleAtFixedRate( task, INIT_DELAY, REPEAT_PERIOD, TimeUnit.SECONDS );\n    \n    System.out.println( &quot;Start: &quot; + tries + &quot;: &quot; + Thread.currentThread().getName() + &quot; &quot; );\n  \n    try {\n      future.get();\n      \n    } catch ( InterruptedException | ExecutionException e ) {\n      System.out.println( e.getMessage() );\n      \n    } catch ( CancellationException e ) {\n      System.out.println( &quot;Regular End Of Scheduled Task as Designed.&quot;);\n      \n    } finally {\n      executor.shutdown();\n      executor.shutdownNow();\n    }\n    \n    System.out.println( &quot;Return The Result.&quot; );\n  }\n  \n  \n  // The Driver\n  public static void main( String[] args ) {\n    new Poll().poll();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17635444,"reputation":33,"user_id":12798800,"display_name":"Dmitry_Bl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1843,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59963122,"answer_count":3,"score":3,"last_activity_date":1642334951,"creation_date":1580285311,"question_id":59962814,"body_markdown":"I&#39;m just exploring method **scheduleAtFixedRate** of class ScheduledExecutorService in Java.\r\n\r\nHere is my suspicious code:\r\n\r\n```\r\n\r\nScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);\r\n\r\n  Runnable command = () -&gt; {\r\n    System.out.println(&quot;Yo&quot;);\r\n    try {\r\n      Thread.sleep(4000);\r\n    } catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n    }\r\n  };\r\n\r\n  scheduledExecutorService.scheduleAtFixedRate(command, 0, 1, TimeUnit.SECONDS);\r\n\r\n```\r\n\r\n\r\nI expected that every 1 second scheduledExecutorService will try to take new thread from the pool and start it.\r\n&gt;API says: &quot;scheduledExecutorService creates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given period. */(unimportant deleted)/* If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.&quot;\r\n\r\nResult - every new thread starts every 4 seconds.\r\n\r\nSo, the questions:  \r\n  \r\n1. What&#39;s the catch - Does Thread.sleep() stop all threads or nuance in this behavior - &quot;If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute&quot;?  \r\n \r\n2. If &quot;will not concurrently execute&quot; is true in this situation - why do we need this pool of several threads if every thread will start after execution of previous thread?  \r\n  \r\n3. Is there any simple valid example of usage of scheduleAtFixedRate, where one thread starts while previous still executes?","title":"Java scheduleAtFixedRate + Thread.sleep","body":"<p>I'm just exploring method <strong>scheduleAtFixedRate</strong> of class ScheduledExecutorService in Java.</p>\n\n<p>Here is my suspicious code:</p>\n\n<pre><code>\nScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(5);\n\n  Runnable command = () -&gt; {\n    System.out.println(\"Yo\");\n    try {\n      Thread.sleep(4000);\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  };\n\n  scheduledExecutorService.scheduleAtFixedRate(command, 0, 1, TimeUnit.SECONDS);\n\n</code></pre>\n\n<p>I expected that every 1 second scheduledExecutorService will try to take new thread from the pool and start it.</p>\n\n<blockquote>\n  <p>API says: \"scheduledExecutorService creates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given period. <em>/(unimportant deleted)/</em> If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.\"</p>\n</blockquote>\n\n<p>Result - every new thread starts every 4 seconds.</p>\n\n<p>So, the questions:  </p>\n\n<ol>\n<li><p>What's the catch - Does Thread.sleep() stop all threads or nuance in this behavior - \"If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute\"?  </p></li>\n<li><p>If \"will not concurrently execute\" is true in this situation - why do we need this pool of several threads if every thread will start after execution of previous thread?  </p></li>\n<li><p>Is there any simple valid example of usage of scheduleAtFixedRate, where one thread starts while previous still executes?</p></li>\n</ol>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1529670732,"post_id":50984790,"comment_id":88970521,"body_markdown":"iText 5.4.1 is very old (april 13, 2013). Why don&#39;t you work with iText 7.1.2? Also: this error is not an iText exception. It&#39;s a `java.io.IOException` that you should be able to reproduce without iText. The file is either missing or access to it isn&#39;t available (e.g. the `E:` disk isn&#39;t mounted or you don&#39;t have access).","body":"iText 5.4.1 is very old (april 13, 2013). Why don&#39;t you work with iText 7.1.2? Also: this error is not an iText exception. It&#39;s a <code>java.io.IOException</code> that you should be able to reproduce without iText. The file is either missing or access to it isn&#39;t available (e.g. the <code>E:</code> disk isn&#39;t mounted or you don&#39;t have access)."},{"owner":{"account_id":13550014,"reputation":311,"user_id":9775136,"display_name":"ELIP"},"score":0,"creation_date":1530094274,"post_id":50984790,"comment_id":89110114,"body_markdown":"Thank you for your explain I can do it","body":"Thank you for your explain I can do it"}],"owner":{"account_id":13550014,"reputation":311,"user_id":9775136,"display_name":"ELIP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642334732,"creation_date":1529659442,"question_id":50984790,"body_markdown":"This code is build and worked well After some time running this was error \r\n \r\n![enter image description here][1]\r\n\r\n       public class Ax {\r\n\t   public static void main(String[] args) {\r\n\t    try {\r\n\t      PdfReader pdfReader = new PdfReader(&quot;E:\\\\HelloWorld.pdf&quot;);\r\n\r\n\t      PdfStamper pdfStamper = new PdfStamper(pdfReader,\r\n\t            new FileOutputStream(&quot;E:\\\\HelloWorld-Stamped.pdf&quot;));\r\n\r\n\t      Image image = Image.getInstance(&quot;C:\\\\Users\\\\Oliver\\\\Desktop\\\\user_access-512.png&quot;);\r\n\r\n\t      for(int i=1; i&lt;= pdfReader.getNumberOfPages(); i++){\r\n\r\n\t          PdfContentByte content = pdfStamper.getUnderContent(i);\r\n\r\n\t          image.setAbsolutePosition(10f, 70f);\r\n\r\n\t          content.addImage(image);\r\n\t      }\r\n\r\n\t      pdfStamper.close();\r\n\r\n\t    } catch (IOException e) {\r\n\t      e.printStackTrace();\r\n\t    } catch (DocumentException e) {\r\n\t      e.printStackTrace();\r\n\t    }\r\n\t  }\r\n     }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XCzL5.png\r\n\r\nI used *itextpdf-5.4.1.jar* library \r\n\r\n***How do i should solve this issue ?***\r\n\r\n\r\n","title":"Java Itext pdf - java.io.IOException ...not found as file or resource","body":"<p>This code is build and worked well After some time running this was error </p>\n\n<p><img src=\"https://i.stack.imgur.com/XCzL5.png\" alt=\"enter image description here\"></p>\n\n<pre><code>   public class Ax {\n   public static void main(String[] args) {\n    try {\n      PdfReader pdfReader = new PdfReader(\"E:\\\\HelloWorld.pdf\");\n\n      PdfStamper pdfStamper = new PdfStamper(pdfReader,\n            new FileOutputStream(\"E:\\\\HelloWorld-Stamped.pdf\"));\n\n      Image image = Image.getInstance(\"C:\\\\Users\\\\Oliver\\\\Desktop\\\\user_access-512.png\");\n\n      for(int i=1; i&lt;= pdfReader.getNumberOfPages(); i++){\n\n          PdfContentByte content = pdfStamper.getUnderContent(i);\n\n          image.setAbsolutePosition(10f, 70f);\n\n          content.addImage(image);\n      }\n\n      pdfStamper.close();\n\n    } catch (IOException e) {\n      e.printStackTrace();\n    } catch (DocumentException e) {\n      e.printStackTrace();\n    }\n  }\n }\n</code></pre>\n\n<p>I used <em>itextpdf-5.4.1.jar</em> library </p>\n\n<p><strong><em>How do i should solve this issue ?</em></strong></p>\n"},{"tags":["java","maven","xsd","jaxb"],"owner":{"account_id":7173981,"reputation":23,"user_id":5480594,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2813,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642334637,"creation_date":1460732304,"question_id":36650558,"body_markdown":"I have 4 modules in this service I&#39;m creating. There&#39;s upload, association, read, and common. The first 3 modules each have their own wsdls that import a common xsd in the common module. I have the common generate an episode for the common xsd, but each of those modules still generate the same files, so I end up with 4 of each file that is defined in the common xsd.\r\n\r\nHere is what I have in the common pom\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;efolder-model&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;episode&gt;true&lt;/episode&gt;\r\n                            &lt;schemaDirectory&gt;src/main/resources/schemas/efolder&lt;/schemaDirectory&gt;\r\n                            &lt;schemaIncludes&gt;\r\n                                &lt;include&gt;**/*.xsd&lt;/include&gt;\r\n                            &lt;/schemaIncludes&gt;\r\n                            &lt;args&gt;\r\n\r\n                            &lt;/args&gt;\r\n                            &lt;extension&gt;true&lt;/extension&gt;\r\n                            &lt;strict&gt;false&lt;/strict&gt;\r\n                            &lt;!-- breaks with schema imports --&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAnd here&#39;s a pom from one of the other modules (they are basically the same, just referring to different wsdls)\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;cdm-model&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;schemaDirectory&gt;${project.build.directory}/classes/schemas&lt;/schemaDirectory&gt;\r\n                            &lt;schemaIncludes&gt;\r\n                                &lt;include&gt;schemas/cdm/claim/*.xsd,/cdm/common/*.xsd,/cdm/document/*.xsd,/cdm/participant/*.xsd&lt;/include&gt;\r\n                            &lt;/schemaIncludes&gt;\r\n\r\n                            &lt;bindingDirectory&gt;${project.build.directory}/classes/schemas&lt;/bindingDirectory&gt;\r\n                            &lt;bindingIncludes&gt;\r\n                                &lt;bindingInclude&gt;/cdm/mappings.xjb,/cdm/mappings-participant-v4.xsd&lt;/bindingInclude&gt;\r\n                            &lt;/bindingIncludes&gt;\r\n                            &lt;bindings&gt;\r\n                                &lt;binding&gt;\r\n                                &lt;dependencyResource&gt;\r\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;efolder-svc-web-common&lt;/artifactId&gt;\r\n                                &lt;/dependencyResource&gt;\r\n                                &lt;/binding&gt;\r\n                            &lt;/bindings&gt;\r\n\r\n                            &lt;extension&gt;true&lt;/extension&gt;\r\n                            &lt;strict&gt;false&lt;/strict&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nI also tried\r\n\r\n                            &lt;configuration&gt;\r\n                            &lt;episodes&gt;\r\n                                &lt;episode&gt;\r\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;efolder-svc-web-common&lt;/artifactId&gt;\r\n                                &lt;/episode&gt;\r\n                            &lt;/episodes&gt;\r\n                            &lt;schemaDirectory&gt;${project.build.directory}/classes/schemas&lt;/schemaDirectory&gt;\r\n                            &lt;schemaIncludes&gt;\r\n                                &lt;include&gt;schemas/cdm/claim/*.xsd,/cdm/common/*.xsd,/cdm/document/*.xsd,/cdm/participant/*.xsd&lt;/include&gt;\r\n                            &lt;/schemaIncludes&gt;\r\n\r\n                            &lt;bindingDirectory&gt;${project.build.directory}/classes/schemas&lt;/bindingDirectory&gt;\r\n                            &lt;bindingIncludes&gt;\r\n                                &lt;bindingInclude&gt;/cdm/mappings.xjb,/cdm/mappings-participant-v4.xsd&lt;/bindingInclude&gt;\r\n                            &lt;/bindingIncludes&gt;\r\n\r\n                            &lt;extension&gt;true&lt;/extension&gt;\r\n                            &lt;strict&gt;false&lt;/strict&gt;\r\n                        &lt;/configuration&gt;\r\nBut either way, I still end up with the files generated in the generated-sources/xjc/.../efolder/service/common in each module. And in the common I also have xjc/META-INF/sun-jaxb.episode which is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;bindings xmlns=&quot;http://java.sun.com/xml/ns/jaxb&quot; if-exists=&quot;true&quot; version=&quot;2.1&quot;&gt;\r\n      &lt;!--\r\n    \r\n    This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.11 \r\n    See &lt;a href=&quot;http://java.sun.com/xml/jaxb&quot;&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \r\n    Any modifications to this file will be lost upon recompilation of the source schema. \r\n    Generated on: 2016.04.15 at 09:56:57 AM EDT \r\n    \r\n      --&gt;\r\n      &lt;bindings xmlns:tns=&quot;http://service.efolder.url/common&quot; if-exists=&quot;true&quot; scd=&quot;x-schema::tns&quot;&gt;\r\n        &lt;schemaBindings map=&quot;false&quot;&gt;\r\n          &lt;package name=&quot;url.efolder.service.common&quot;/&gt;\r\n        &lt;/schemaBindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;~tns:EFolderFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.EFolderFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:VersionNotFoundFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.VersionNotFoundFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:InvalidDocTypeFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.InvalidDocTypeFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:ClaimNotFoundFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.ClaimNotFoundFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:InvalidClaimFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.InvalidClaimFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:InvalidDocCategoryFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.InvalidDocCategoryFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;tns:SeriesNotFoundFault&quot;&gt;\r\n          &lt;class ref=&quot;url.efolder.service.common.SeriesNotFoundFault&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n        &lt;bindings if-exists=&quot;true&quot; scd=&quot;~tns:eFolderFaultCategory&quot;&gt;\r\n          &lt;typesafeEnumClass ref=&quot;url.efolder.service.common.EFolderFaultCategory&quot;/&gt;\r\n        &lt;/bindings&gt;\r\n      &lt;/bindings&gt;\r\n    &lt;/bindings&gt;\r\nAny ideas on why it&#39;s still generating? Thanks","title":"Stop JaxB from generating files in an episode using maven","body":"<p>I have 4 modules in this service I'm creating. There's upload, association, read, and common. The first 3 modules each have their own wsdls that import a common xsd in the common module. I have the common generate an episode for the common xsd, but each of those modules still generate the same files, so I end up with 4 of each file that is defined in the common xsd.</p>\n\n<p>Here is what I have in the common pom</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;efolder-model&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;episode&gt;true&lt;/episode&gt;\n                        &lt;schemaDirectory&gt;src/main/resources/schemas/efolder&lt;/schemaDirectory&gt;\n                        &lt;schemaIncludes&gt;\n                            &lt;include&gt;**/*.xsd&lt;/include&gt;\n                        &lt;/schemaIncludes&gt;\n                        &lt;args&gt;\n\n                        &lt;/args&gt;\n                        &lt;extension&gt;true&lt;/extension&gt;\n                        &lt;strict&gt;false&lt;/strict&gt;\n                        &lt;!-- breaks with schema imports --&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>And here's a pom from one of the other modules (they are basically the same, just referring to different wsdls)</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;cdm-model&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;schemaDirectory&gt;${project.build.directory}/classes/schemas&lt;/schemaDirectory&gt;\n                        &lt;schemaIncludes&gt;\n                            &lt;include&gt;schemas/cdm/claim/*.xsd,/cdm/common/*.xsd,/cdm/document/*.xsd,/cdm/participant/*.xsd&lt;/include&gt;\n                        &lt;/schemaIncludes&gt;\n\n                        &lt;bindingDirectory&gt;${project.build.directory}/classes/schemas&lt;/bindingDirectory&gt;\n                        &lt;bindingIncludes&gt;\n                            &lt;bindingInclude&gt;/cdm/mappings.xjb,/cdm/mappings-participant-v4.xsd&lt;/bindingInclude&gt;\n                        &lt;/bindingIncludes&gt;\n                        &lt;bindings&gt;\n                            &lt;binding&gt;\n                            &lt;dependencyResource&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;artifactId&gt;efolder-svc-web-common&lt;/artifactId&gt;\n                            &lt;/dependencyResource&gt;\n                            &lt;/binding&gt;\n                        &lt;/bindings&gt;\n\n                        &lt;extension&gt;true&lt;/extension&gt;\n                        &lt;strict&gt;false&lt;/strict&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>I also tried</p>\n\n<pre><code>                        &lt;configuration&gt;\n                        &lt;episodes&gt;\n                            &lt;episode&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;artifactId&gt;efolder-svc-web-common&lt;/artifactId&gt;\n                            &lt;/episode&gt;\n                        &lt;/episodes&gt;\n                        &lt;schemaDirectory&gt;${project.build.directory}/classes/schemas&lt;/schemaDirectory&gt;\n                        &lt;schemaIncludes&gt;\n                            &lt;include&gt;schemas/cdm/claim/*.xsd,/cdm/common/*.xsd,/cdm/document/*.xsd,/cdm/participant/*.xsd&lt;/include&gt;\n                        &lt;/schemaIncludes&gt;\n\n                        &lt;bindingDirectory&gt;${project.build.directory}/classes/schemas&lt;/bindingDirectory&gt;\n                        &lt;bindingIncludes&gt;\n                            &lt;bindingInclude&gt;/cdm/mappings.xjb,/cdm/mappings-participant-v4.xsd&lt;/bindingInclude&gt;\n                        &lt;/bindingIncludes&gt;\n\n                        &lt;extension&gt;true&lt;/extension&gt;\n                        &lt;strict&gt;false&lt;/strict&gt;\n                    &lt;/configuration&gt;\n</code></pre>\n\n<p>But either way, I still end up with the files generated in the generated-sources/xjc/.../efolder/service/common in each module. And in the common I also have xjc/META-INF/sun-jaxb.episode which is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;bindings xmlns=\"http://java.sun.com/xml/ns/jaxb\" if-exists=\"true\" version=\"2.1\"&gt;\n  &lt;!--\n\nThis file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.11 \nSee &lt;a href=\"http://java.sun.com/xml/jaxb\"&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \nAny modifications to this file will be lost upon recompilation of the source schema. \nGenerated on: 2016.04.15 at 09:56:57 AM EDT \n\n  --&gt;\n  &lt;bindings xmlns:tns=\"http://service.efolder.url/common\" if-exists=\"true\" scd=\"x-schema::tns\"&gt;\n    &lt;schemaBindings map=\"false\"&gt;\n      &lt;package name=\"url.efolder.service.common\"/&gt;\n    &lt;/schemaBindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"~tns:EFolderFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.EFolderFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:VersionNotFoundFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.VersionNotFoundFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:InvalidDocTypeFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.InvalidDocTypeFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:ClaimNotFoundFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.ClaimNotFoundFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:InvalidClaimFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.InvalidClaimFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:InvalidDocCategoryFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.InvalidDocCategoryFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"tns:SeriesNotFoundFault\"&gt;\n      &lt;class ref=\"url.efolder.service.common.SeriesNotFoundFault\"/&gt;\n    &lt;/bindings&gt;\n    &lt;bindings if-exists=\"true\" scd=\"~tns:eFolderFaultCategory\"&gt;\n      &lt;typesafeEnumClass ref=\"url.efolder.service.common.EFolderFaultCategory\"/&gt;\n    &lt;/bindings&gt;\n  &lt;/bindings&gt;\n&lt;/bindings&gt;\n</code></pre>\n\n<p>Any ideas on why it's still generating? Thanks</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2967442,"reputation":1681,"user_id":9657108,"display_name":"arunkvelu"},"score":4,"creation_date":1547185226,"post_id":54140543,"comment_id":95113043,"body_markdown":"Topic you are trying to delete will be still there if a producer is up and running for that topic. Can you please check this case and update?","body":"Topic you are trying to delete will be still there if a producer is up and running for that topic. Can you please check this case and update?"}],"answers":[{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609060230,"creation_date":1600186595,"answer_id":63905974,"question_id":54140543,"body_markdown":" - Make sure producer is not using that topic.\r\n - Since deleteTopics() method returns a future , wait for future task to complete ( In case if you are using on-demand tasks, Since main thread will not wait for future to complete if we don&#39;t do it manually.).\r\n\r\n       public void deleteKafkaTopics(List&lt;String&gt; kafkaTopics) {\r\n        \r\n            DeleteTopicsResult deleteTopicsResult = kafkaAdminClient.deleteTopics(kafkaTopics);\r\n\r\n            while (!deleteTopicsResult.all().isDone()) {\r\n\r\n                // Wait for future task to complete\r\n\r\n            }\r\n        }\r\n\r\n\r\n**Note:** If you are using windows machine you may face AccessDeniedException. Already ticket open in kafka issue board (Iam using kafka 2.1) for that fix.So I prefer to use Linux machines which is working fine with Kafka. Also don&#39;t forget to set `delete.topic.enable = true` in *config/server.properties* of Kafka brokers . For newer versions of kafka it is enabled by default.","title":"delete topic not working for kafka java client 2.1.0","body":"<ul>\n<li><p>Make sure producer is not using that topic.</p>\n</li>\n<li><p>Since deleteTopics() method returns a future , wait for future task to complete ( In case if you are using on-demand tasks, Since main thread will not wait for future to complete if we don't do it manually.).</p>\n<pre><code>public void deleteKafkaTopics(List&lt;String&gt; kafkaTopics) {\n\n     DeleteTopicsResult deleteTopicsResult = kafkaAdminClient.deleteTopics(kafkaTopics);\n\n     while (!deleteTopicsResult.all().isDone()) {\n\n         // Wait for future task to complete\n\n     }\n }\n</code></pre>\n</li>\n</ul>\n<p><strong>Note:</strong> If you are using windows machine you may face AccessDeniedException. Already ticket open in kafka issue board (Iam using kafka 2.1) for that fix.So I prefer to use Linux machines which is working fine with Kafka. Also don't forget to set <code>delete.topic.enable = true</code> in <em>config/server.properties</em> of Kafka brokers . For newer versions of kafka it is enabled by default.</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642333928,"creation_date":1642333928,"answer_id":70729759,"question_id":54140543,"body_markdown":"```java\r\n\tpublic static void delete(String name) {\r\n\t\tAdminClient client = AdminClient.create(properties());\r\n\t\tDeleteTopicsResult deleteTopicsResult = client.deleteTopics(Collections.singletonList(name));\r\n\r\n\t\twhile (!deleteTopicsResult.all().isDone()) {\r\n\t\t}\r\n\t}\r\n````","title":"delete topic not working for kafka java client 2.1.0","body":"<pre class=\"lang-java prettyprint-override\"><code>    public static void delete(String name) {\n        AdminClient client = AdminClient.create(properties());\n        DeleteTopicsResult deleteTopicsResult = client.deleteTopics(Collections.singletonList(name));\n\n        while (!deleteTopicsResult.all().isDone()) {\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6774,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1642333928,"creation_date":1547182497,"question_id":54140543,"body_markdown":"I want to delete a kafka topic programatically and struggling a lot to make it work. Am using below maven dependency.  \r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAm using KafkaAdminClient. Here is my code, \r\n\r\n\tAdminClient admin = KafkaAdminClient.create(getProperties(configuration.getKafkaConnectionString())));\r\n\r\n\tprivate static Properties getProperties(String kafkaConnectionString) {\r\n\t\tProperties config = new Properties();\r\n\t\tconfig.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaConnectionString);\r\n\t\treturn config;\r\n\t}\r\n\r\nCode to delete topic:\r\n\r\n\tpublic void deleteTopic(final String... topicNames) {\r\n\t\tadmin.deleteTopics(Arrays.asList(topicNames));\r\n\t\tlog.info(&quot;Topics &#39;{}&#39; deleted.&quot;, topicNames);\r\n\t}\r\n\r\nI have `delete.topic.enable=true` property in server.properties for kafka. There are no exception. Not sure why its not working. Any help is appreciated. ","title":"delete topic not working for kafka java client 2.1.0","body":"<p>I want to delete a kafka topic programatically and struggling a lot to make it work. Am using below maven dependency.  </p>\n\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Am using KafkaAdminClient. Here is my code, </p>\n\n<pre><code>AdminClient admin = KafkaAdminClient.create(getProperties(configuration.getKafkaConnectionString())));\n\nprivate static Properties getProperties(String kafkaConnectionString) {\n    Properties config = new Properties();\n    config.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaConnectionString);\n    return config;\n}\n</code></pre>\n\n<p>Code to delete topic:</p>\n\n<pre><code>public void deleteTopic(final String... topicNames) {\n    admin.deleteTopics(Arrays.asList(topicNames));\n    log.info(\"Topics '{}' deleted.\", topicNames);\n}\n</code></pre>\n\n<p>I have <code>delete.topic.enable=true</code> property in server.properties for kafka. There are no exception. Not sure why its not working. Any help is appreciated. </p>\n"},{"tags":["java","apache-zookeeper","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":3512151,"reputation":3433,"user_id":2936216,"accept_rate":47,"display_name":"Jaya Ananthram"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1578038162,"creation_date":1416486717,"answer_id":27039713,"question_id":27036923,"body_markdown":"&gt; **Edit** - Zookeeper is not required in newer version of Kafka. Please see answer by [@Neeleshkumar Srinivasan Mannur](https://stackoverflow.com/a/53851426/2308683) for API version 0.11.0+\r\n\r\n---\r\n\r\n---\r\n\r\n### Original answer\r\nI fixed it.. After a long research..\r\n\r\n    ZkClient zkClient = new ZkClient(&quot;localhost:2181&quot;, 10000, 10000);\r\n    AdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\r\n\r\nFrom the above code, ZkClient will create a topic but this topic information will not have awareness for the kafka. So what we have to do is, we need to create object for ZkClient in following way,\r\n\r\nFirst import the below statement,\r\n\r\n    import kafka.utils.ZKStringSerializer$;\r\n\r\nand create object for ZkClient in the following way,\r\n\r\n    ZkClient zkClient = new ZkClient(&quot;localhost:2181&quot;, 10000, 10000, ZKStringSerializer$.MODULE$);\r\n    AdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\r\n\r\n\r\n----------\r\n\r\nEdit 1: (for @ajkret comment)\r\n---------------------\r\n\r\n&gt; The above code won&#39;t work for kafka &gt; 0.9 since the api has been changed,\r\n&gt; Use the below code for kafka &gt; 0.9\r\n\r\n------------------------------------------------------------------------\r\n\r\n    \r\n    import java.util.Properties;\r\n    import kafka.admin.AdminUtils;\r\n    import kafka.utils.ZKStringSerializer$;\r\n    import kafka.utils.ZkUtils;\r\n    import org.I0Itec.zkclient.ZkClient;\r\n    import org.I0Itec.zkclient.ZkConnection;\r\n    \r\n    public class KafkaTopicCreationInJava\r\n    {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tZkClient zkClient = null;\r\n    \t\tZkUtils zkUtils = null;\r\n    \t\ttry {\r\n    \t\t\tString zookeeperHosts = &quot;192.168.20.1:2181&quot;; // If multiple zookeeper then -&gt; String zookeeperHosts = &quot;192.168.20.1:2181,192.168.20.2:2181&quot;;\r\n    \t\t\tint sessionTimeOutInMs = 15 * 1000; // 15 secs\r\n    \t\t\tint connectionTimeOutInMs = 10 * 1000; // 10 secs\r\n    \r\n    \t\t\tzkClient = new ZkClient(zookeeperHosts, sessionTimeOutInMs, connectionTimeOutInMs, ZKStringSerializer$.MODULE$);\r\n    \t\t\tzkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperHosts), false);\r\n    \r\n    \t\t\tString topicName = &quot;testTopic&quot;;\r\n    \t\t\tint noOfPartitions = 2;\r\n    \t\t\tint noOfReplication = 3;\r\n       \t\t\tProperties topicConfiguration = new Properties();\r\n    \r\n    \t\t\tAdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplication, topicConfiguration);\r\n\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tif (zkClient != null) {\r\n    \t\t\t\tzkClient.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"How to create a Topic in Kafka through Java","body":"<blockquote>\n  <p><strong>Edit</strong> - Zookeeper is not required in newer version of Kafka. Please see answer by <a href=\"https://stackoverflow.com/a/53851426/2308683\">@Neeleshkumar Srinivasan Mannur</a> for API version 0.11.0+</p>\n</blockquote>\n\n<hr>\n\n<hr>\n\n<h3>Original answer</h3>\n\n<p>I fixed it.. After a long research..</p>\n\n<pre><code>ZkClient zkClient = new ZkClient(\"localhost:2181\", 10000, 10000);\nAdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\n</code></pre>\n\n<p>From the above code, ZkClient will create a topic but this topic information will not have awareness for the kafka. So what we have to do is, we need to create object for ZkClient in following way,</p>\n\n<p>First import the below statement,</p>\n\n<pre><code>import kafka.utils.ZKStringSerializer$;\n</code></pre>\n\n<p>and create object for ZkClient in the following way,</p>\n\n<pre><code>ZkClient zkClient = new ZkClient(\"localhost:2181\", 10000, 10000, ZKStringSerializer$.MODULE$);\nAdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\n</code></pre>\n\n<hr>\n\n<h2>Edit 1: (for @ajkret comment)</h2>\n\n<blockquote>\n  <p>The above code won't work for kafka > 0.9 since the api has been changed,\n  Use the below code for kafka > 0.9</p>\n</blockquote>\n\n<hr>\n\n<pre><code>import java.util.Properties;\nimport kafka.admin.AdminUtils;\nimport kafka.utils.ZKStringSerializer$;\nimport kafka.utils.ZkUtils;\nimport org.I0Itec.zkclient.ZkClient;\nimport org.I0Itec.zkclient.ZkConnection;\n\npublic class KafkaTopicCreationInJava\n{\n    public static void main(String[] args) throws Exception {\n        ZkClient zkClient = null;\n        ZkUtils zkUtils = null;\n        try {\n            String zookeeperHosts = \"192.168.20.1:2181\"; // If multiple zookeeper then -&gt; String zookeeperHosts = \"192.168.20.1:2181,192.168.20.2:2181\";\n            int sessionTimeOutInMs = 15 * 1000; // 15 secs\n            int connectionTimeOutInMs = 10 * 1000; // 10 secs\n\n            zkClient = new ZkClient(zookeeperHosts, sessionTimeOutInMs, connectionTimeOutInMs, ZKStringSerializer$.MODULE$);\n            zkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperHosts), false);\n\n            String topicName = \"testTopic\";\n            int noOfPartitions = 2;\n            int noOfReplication = 3;\n            Properties topicConfiguration = new Properties();\n\n            AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplication, topicConfiguration);\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            if (zkClient != null) {\n                zkClient.close();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5141727,"reputation":269,"user_id":4118896,"accept_rate":100,"display_name":"Richard G"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501084692,"creation_date":1499961196,"answer_id":45085693,"question_id":27036923,"body_markdown":"Just a pointer to anyone looking at this with a updated version of Kafka *(At the time of writing this, I was using Kafka v0.10.0.0)*.\r\n\r\nYou have to change;\r\n\r\n    AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplications, topicConfiguration);\r\n\r\nTo the following;\r\n\r\n    AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplications, true, Enforced$.MODULE$);\r\n\r\nIt is also a good idea to close the connection once finished;\r\n\r\n    zkClient.close();\r\n\r\n","title":"How to create a Topic in Kafka through Java","body":"<p>Just a pointer to anyone looking at this with a updated version of Kafka <em>(At the time of writing this, I was using Kafka v0.10.0.0)</em>.</p>\n\n<p>You have to change;</p>\n\n<pre><code>AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplications, topicConfiguration);\n</code></pre>\n\n<p>To the following;</p>\n\n<pre><code>AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplications, true, Enforced$.MODULE$);\n</code></pre>\n\n<p>It is also a good idea to close the connection once finished;</p>\n\n<pre><code>zkClient.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7472071,"reputation":1703,"user_id":5679728,"accept_rate":43,"display_name":"Saurabh Mishra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1504521497,"creation_date":1504521497,"answer_id":46035266,"question_id":27036923,"body_markdown":"For those trying to achieve this in kafka v0.10.2.1 and running into issues with serialization error &#39;`java.io.StreamCorruptedException: invalid stream header: 3139322E`&#39; following is a sample working code with the needful imports.\r\n\r\n    import org.I0Itec.zkclient.ZkClient;\r\n    import org.I0Itec.zkclient.ZkConnection;\r\n    import org.I0Itec.zkclient.exception.ZkMarshallingError;\r\n    import org.I0Itec.zkclient.serialize.ZkSerializer;\r\n    import org.apache.kafka.clients.consumer.KafkaConsumer;\r\n    import org.apache.kafka.common.PartitionInfo;\r\n    \r\n    import kafka.admin.AdminUtils;\r\n    import kafka.admin.RackAwareMode;\r\n    import kafka.utils.ZKStringSerializer;\r\n    import kafka.utils.ZkUtils;\r\n\r\n    public static void createTopic(String topicName, int numPartitions, int numReplication) {\r\n    \t\tZkClient zkClient = null;\r\n    \t\tZkUtils zkUtils = null;\r\n    \t\ttry {\r\n    \t\t\tString zookeeperHosts = &quot;199.98.916.902:2181&quot;; // If multiple zookeeper then -&gt; String zookeeperHosts = &quot;192.168.20.1:2181,192.168.20.2:2181&quot;;\r\n    \t\t\tint sessionTimeOutInMs = 15 * 1000; // 15 secs\r\n    \t\t\tint connectionTimeOutInMs = 10 * 1000; // 10 secs\r\n    \r\n    \t\t\tzkClient = new ZkClient(zookeeperHosts, sessionTimeOutInMs, connectionTimeOutInMs);\r\n    \t\t\t//Ref: https://gist.github.com/jjkoshy/3842975\r\n    \t\t\tzkClient.setZkSerializer(new ZkSerializer() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic byte[] serialize(Object o) throws ZkMarshallingError {\r\n    \t\t\t\t\treturn ZKStringSerializer.serialize(o);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic Object deserialize(byte[] bytes) throws ZkMarshallingError {\r\n    \t\t\t\t\treturn ZKStringSerializer.deserialize(bytes);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tzkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperHosts), false);\r\n    \r\n    \t\t\tint noOfPartitions = 2;\r\n    \t\t\tint noOfReplication = 3;\r\n    \t\t\tProperties topicConfiguration = new Properties();\r\n    \r\n    \t\t\tAdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplication, topicConfiguration,\r\n    \t\t\t\t\tRackAwareMode.Enforced$.MODULE$);\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tif (zkClient != null) {\r\n    \t\t\t\tzkClient.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to create a Topic in Kafka through Java","body":"<p>For those trying to achieve this in kafka v0.10.2.1 and running into issues with serialization error '<code>java.io.StreamCorruptedException: invalid stream header: 3139322E</code>' following is a sample working code with the needful imports.</p>\n\n<pre><code>import org.I0Itec.zkclient.ZkClient;\nimport org.I0Itec.zkclient.ZkConnection;\nimport org.I0Itec.zkclient.exception.ZkMarshallingError;\nimport org.I0Itec.zkclient.serialize.ZkSerializer;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.common.PartitionInfo;\n\nimport kafka.admin.AdminUtils;\nimport kafka.admin.RackAwareMode;\nimport kafka.utils.ZKStringSerializer;\nimport kafka.utils.ZkUtils;\n\npublic static void createTopic(String topicName, int numPartitions, int numReplication) {\n        ZkClient zkClient = null;\n        ZkUtils zkUtils = null;\n        try {\n            String zookeeperHosts = \"199.98.916.902:2181\"; // If multiple zookeeper then -&gt; String zookeeperHosts = \"192.168.20.1:2181,192.168.20.2:2181\";\n            int sessionTimeOutInMs = 15 * 1000; // 15 secs\n            int connectionTimeOutInMs = 10 * 1000; // 10 secs\n\n            zkClient = new ZkClient(zookeeperHosts, sessionTimeOutInMs, connectionTimeOutInMs);\n            //Ref: https://gist.github.com/jjkoshy/3842975\n            zkClient.setZkSerializer(new ZkSerializer() {\n                @Override\n                public byte[] serialize(Object o) throws ZkMarshallingError {\n                    return ZKStringSerializer.serialize(o);\n                }\n\n                @Override\n                public Object deserialize(byte[] bytes) throws ZkMarshallingError {\n                    return ZKStringSerializer.deserialize(bytes);\n                }\n            });\n\n            zkUtils = new ZkUtils(zkClient, new ZkConnection(zookeeperHosts), false);\n\n            int noOfPartitions = 2;\n            int noOfReplication = 3;\n            Properties topicConfiguration = new Properties();\n\n            AdminUtils.createTopic(zkUtils, topicName, noOfPartitions, noOfReplication, topicConfiguration,\n                    RackAwareMode.Enforced$.MODULE$);\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            if (zkClient != null) {\n                zkClient.close();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13112070,"reputation":638,"user_id":9472702,"display_name":"Mahesh Mogal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530555197,"creation_date":1529750462,"answer_id":51000364,"question_id":27036923,"body_markdown":"AdminUtils API is getting deprecated. There is new API AdminZkClient which we can use to manage topics in Kafka server.\r\n\r\n\r\n    String zookeeperHost = &quot;127.0.0.1:2181&quot;;\r\n    Boolean isSucre = false;\r\n    int sessionTimeoutMs = 200000;\r\n    int connectionTimeoutMs = 15000;\r\n    int maxInFlightRequests = 10;\r\n    Time time = Time.SYSTEM;\r\n    String metricGroup = &quot;myGroup&quot;;\r\n    String metricType = &quot;myType&quot;;\r\n    KafkaZkClient zkClient = KafkaZkClient.apply(zookeeperHost,isSucre,sessionTimeoutMs,\r\n                    connectionTimeoutMs,maxInFlightRequests,time,metricGroup,metricType);\r\n\r\n    AdminZkClient adminZkClient = new AdminZkClient(zkClient);\r\n    \r\n    String topicName1 = &quot;myTopic&quot;;\r\n    int partitions = 3;\r\n    int replication = 1;\r\n    Properties topicConfig = new Properties();\r\n    \r\n    adminZkClient.createTopic(topicName1,partitions,replication,\r\n                topicConfig,RackAwareMode.Disabled$.MODULE$);\r\n\r\nYou can refer this link for details: https://www.analyticshut.com/streaming-services/kafka/create-and-list-kafka-topics-in-java/","title":"How to create a Topic in Kafka through Java","body":"<p>AdminUtils API is getting deprecated. There is new API AdminZkClient which we can use to manage topics in Kafka server.</p>\n\n<pre><code>String zookeeperHost = \"127.0.0.1:2181\";\nBoolean isSucre = false;\nint sessionTimeoutMs = 200000;\nint connectionTimeoutMs = 15000;\nint maxInFlightRequests = 10;\nTime time = Time.SYSTEM;\nString metricGroup = \"myGroup\";\nString metricType = \"myType\";\nKafkaZkClient zkClient = KafkaZkClient.apply(zookeeperHost,isSucre,sessionTimeoutMs,\n                connectionTimeoutMs,maxInFlightRequests,time,metricGroup,metricType);\n\nAdminZkClient adminZkClient = new AdminZkClient(zkClient);\n\nString topicName1 = \"myTopic\";\nint partitions = 3;\nint replication = 1;\nProperties topicConfig = new Properties();\n\nadminZkClient.createTopic(topicName1,partitions,replication,\n            topicConfig,RackAwareMode.Disabled$.MODULE$);\n</code></pre>\n\n<p>You can refer this link for details: <a href=\"https://www.analyticshut.com/streaming-services/kafka/create-and-list-kafka-topics-in-java/\" rel=\"noreferrer\">https://www.analyticshut.com/streaming-services/kafka/create-and-list-kafka-topics-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":4091426,"reputation":746,"user_id":3359310,"accept_rate":50,"display_name":"Neeleshkumar S"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1577941156,"creation_date":1545222970,"answer_id":53851426,"question_id":27036923,"body_markdown":"The process seems to be pretty much simplified in API 0.11.0+. Using that, it can be done as follows\r\n\r\n    import org.apache.kafka.clients.admin.AdminClient;\r\n    import org.apache.kafka.clients.admin.CreateTopicsResult;\r\n    import org.apache.kafka.clients.admin.NewTopic;\r\n    \r\n    Properties properties = new Properties();\r\n\tproperties.load(new FileReader(new File(&quot;kafka.properties&quot;)));\r\n\r\n    AdminClient adminClient = AdminClient.create(properties);\r\n    NewTopic newTopic = new NewTopic(&quot;topicName&quot;, 1, (short)1); //new NewTopic(topicName, numPartitions, replicationFactor)\r\n\r\n\tList&lt;NewTopic&gt; newTopics = new ArrayList&lt;NewTopic&gt;();\r\n    newTopics.add(newTopic);\r\n\r\n    adminClient.createTopics(newTopics);\r\n    adminClient.close();\r\n\r\nThe contents of `kafka.properties` file are as follows\r\n\r\n    bootstrap.servers=localhost:9092\r\n    group.id=test\r\n    enable.auto.commit=true\r\n    auto.commit.interval.ms=1000\r\n    key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    value.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n\r\nNote that the instance of the AdminClient must be closed in order to reflect the newly created topic.","title":"How to create a Topic in Kafka through Java","body":"<p>The process seems to be pretty much simplified in API 0.11.0+. Using that, it can be done as follows</p>\n\n<pre><code>import org.apache.kafka.clients.admin.AdminClient;\nimport org.apache.kafka.clients.admin.CreateTopicsResult;\nimport org.apache.kafka.clients.admin.NewTopic;\n\nProperties properties = new Properties();\nproperties.load(new FileReader(new File(\"kafka.properties\")));\n\nAdminClient adminClient = AdminClient.create(properties);\nNewTopic newTopic = new NewTopic(\"topicName\", 1, (short)1); //new NewTopic(topicName, numPartitions, replicationFactor)\n\nList&lt;NewTopic&gt; newTopics = new ArrayList&lt;NewTopic&gt;();\nnewTopics.add(newTopic);\n\nadminClient.createTopics(newTopics);\nadminClient.close();\n</code></pre>\n\n<p>The contents of <code>kafka.properties</code> file are as follows</p>\n\n<pre><code>bootstrap.servers=localhost:9092\ngroup.id=test\nenable.auto.commit=true\nauto.commit.interval.ms=1000\nkey.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nvalue.deserializer=org.apache.kafka.common.serialization.StringDeserializer\n</code></pre>\n\n<p>Note that the instance of the AdminClient must be closed in order to reflect the newly created topic.</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642333716,"creation_date":1642333716,"answer_id":70729733,"question_id":27036923,"body_markdown":"```java\r\npublic static void create(String name) {\r\n   AdminClient client = AdminClient.create(properties());\r\n   NewTopic topic = new NewTopic(\r\n      name,\r\n      (int)conf().get(&quot;partition&quot;),\r\n      Short.parseShort(String.valueOf(conf().get(&quot;replication.factor&quot;))));\r\n\r\n   client.createTopics(Collections.singleton(topic));\r\n   client.close();\r\n}\r\n```","title":"How to create a Topic in Kafka through Java","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void create(String name) {\n   AdminClient client = AdminClient.create(properties());\n   NewTopic topic = new NewTopic(\n      name,\n      (int)conf().get(&quot;partition&quot;),\n      Short.parseShort(String.valueOf(conf().get(&quot;replication.factor&quot;))));\n\n   client.createTopics(Collections.singleton(topic));\n   client.close();\n}\n</code></pre>\n"}],"owner":{"account_id":3512151,"reputation":3433,"user_id":2936216,"accept_rate":47,"display_name":"Jaya Ananthram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49548,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":27039713,"answer_count":6,"score":46,"last_activity_date":1642333716,"creation_date":1416478373,"question_id":27036923,"body_markdown":"I want to create a topic in Kafka (kafka_2.8.0-0.8.1.1) through java. It is working fine if I create a topic in command prompt, and If I push message through java api. But I want to create a topic through java api. After a long search I found below code,\r\n\r\n    ZkClient zkClient = new ZkClient(&quot;localhost:2181&quot;, 10000, 10000);\r\n    AdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\r\n\r\nI tried above code and it is showing that topic is created but I am not able to push message in the topic. Any thing wrong in my code? Or any other way to achieve the above? \r\n\r\n\t\t\t\t\r\n","title":"How to create a Topic in Kafka through Java","body":"<p>I want to create a topic in Kafka (kafka_2.8.0-0.8.1.1) through java. It is working fine if I create a topic in command prompt, and If I push message through java api. But I want to create a topic through java api. After a long search I found below code,</p>\n\n<pre><code>ZkClient zkClient = new ZkClient(\"localhost:2181\", 10000, 10000);\nAdminUtils.createTopic(zkClient, myTopic, 10, 1, new Properties());\n</code></pre>\n\n<p>I tried above code and it is showing that topic is created but I am not able to push message in the topic. Any thing wrong in my code? Or any other way to achieve the above? </p>\n"},{"tags":["java","java-8","java-stream","cartesian-product"],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1440132162,"creation_date":1440131426,"answer_id":32132377,"question_id":32131987,"body_markdown":"You can solve this using the recursive `flatMap` chain. \r\n\r\nFirst as we need to move back and forth by the map values, it&#39;s better to copy them to the `ArrayList` (this is not the deep copy, in your case it&#39;s `ArrayList` of 3 elements only, so the additional memory usage is low).\r\n\r\nSecond, to maintain a prefix of previously visited elements, let&#39;s create a helper immutable `Prefix` class:\r\n\r\n\tprivate static class Prefix&lt;T&gt; {\r\n\t\tfinal T value;\r\n\t\tfinal Prefix&lt;T&gt; parent;\r\n\r\n\t\tPrefix(Prefix&lt;T&gt; parent, T value) {\r\n\t\t\tthis.parent = parent;\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n        // put the whole prefix into given collection\r\n\t\t&lt;C extends Collection&lt;T&gt;&gt; C addTo(C collection) {\r\n\t\t\tif (parent != null)\r\n\t\t\t\tparent.addTo(collection);\r\n\t\t\tcollection.add(value);\r\n\t\t\treturn collection;\r\n\t\t}\r\n\t}\r\n\r\nThis is very simple immutable linked list which can be used like this:\r\n\r\n    List&lt;String&gt; list = new Prefix&lt;&gt;(new Prefix&lt;&gt;(new Prefix&lt;&gt;(null, &quot;a&quot;), &quot;b&quot;), &quot;c&quot;)\r\n                              .addTo(new ArrayList&lt;&gt;()); // [a, b, c];\r\n\r\nNext, let&#39;s create the internal method which chains flatMaps:\r\n\r\n\tprivate static &lt;T, C extends Collection&lt;T&gt;&gt; Stream&lt;C&gt; comb(\r\n\t\t\tList&lt;? extends Collection&lt;T&gt;&gt; values, int offset, Prefix&lt;T&gt; prefix,\r\n\t\t\tSupplier&lt;C&gt; supplier) {\r\n\t\tif (offset == values.size() - 1)\r\n\t\t\treturn values.get(offset).stream()\r\n\t\t\t\t\t     .map(e -&gt; new Prefix&lt;&gt;(prefix, e).addTo(supplier.get()));\r\n\t\treturn values.get(offset).stream()\r\n\t\t\t\t.flatMap(e -&gt; comb(values, offset + 1, new Prefix&lt;&gt;(prefix, e), supplier));\r\n\t}\r\n\r\nLooks like recursion, but it&#39;s more complex: it doesn&#39;t call itself directly, but passed lambda which calls the outer method. Parameters:\r\n\r\n* values: the `List` of original values (`new ArrayList&lt;&gt;(map.values)` in your case).\r\n* offset: the current offset within this list\r\n* prefix: the current prefix of length offset (or `null` if `offset == 0`). It contains currently selected elements from the collections `list.get(0)`, `list.get(1)` up to `list.get(offset-1)`.\r\n* supplier: the factory method to create the resulting collection.\r\n\r\nWhen we reached the end of the values list (`offset == values.size() - 1`), we map the elements of the last collection from the values to the final combination using the supplier. Otherwise we use the `flatMap` which for each intermediate element enlarges the prefix and calls the `comb` method again for the next offset.\r\n\r\nFinally here&#39;s public method to use this feature:\r\n\r\n\tpublic static &lt;T, C extends Collection&lt;T&gt;&gt; Stream&lt;C&gt; ofCombinations(\r\n\t\t\tCollection&lt;? extends Collection&lt;T&gt;&gt; values, Supplier&lt;C&gt; supplier) {\r\n\t\tif (values.isEmpty())\r\n\t\t\treturn Stream.empty();\r\n\t\treturn comb(new ArrayList&lt;&gt;(values), 0, null, supplier);\r\n\t}\r\n\r\nA usage example:\r\n\r\n\tMap&lt;String, Collection&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;(); // to preserve the order\r\n\tmap.put(&quot;A&quot;, Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;));\r\n\tmap.put(&quot;B&quot;, Arrays.asList(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\r\n\tmap.put(&quot;C&quot;, Arrays.asList(&quot;c1&quot;, &quot;c2&quot;));\r\n\r\n\tofCombinations(map.values(), LinkedHashSet::new).forEach(System.out::println);\r\n\r\nWe collect individual combinations to the `LinkedHashSet` again to preserve the order. You can use any other collection instead (e.g. `ArrayList::new`).","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>You can solve this using the recursive <code>flatMap</code> chain. </p>\n\n<p>First as we need to move back and forth by the map values, it's better to copy them to the <code>ArrayList</code> (this is not the deep copy, in your case it's <code>ArrayList</code> of 3 elements only, so the additional memory usage is low).</p>\n\n<p>Second, to maintain a prefix of previously visited elements, let's create a helper immutable <code>Prefix</code> class:</p>\n\n<pre><code>private static class Prefix&lt;T&gt; {\n    final T value;\n    final Prefix&lt;T&gt; parent;\n\n    Prefix(Prefix&lt;T&gt; parent, T value) {\n        this.parent = parent;\n        this.value = value;\n    }\n\n    // put the whole prefix into given collection\n    &lt;C extends Collection&lt;T&gt;&gt; C addTo(C collection) {\n        if (parent != null)\n            parent.addTo(collection);\n        collection.add(value);\n        return collection;\n    }\n}\n</code></pre>\n\n<p>This is very simple immutable linked list which can be used like this:</p>\n\n<pre><code>List&lt;String&gt; list = new Prefix&lt;&gt;(new Prefix&lt;&gt;(new Prefix&lt;&gt;(null, \"a\"), \"b\"), \"c\")\n                          .addTo(new ArrayList&lt;&gt;()); // [a, b, c];\n</code></pre>\n\n<p>Next, let's create the internal method which chains flatMaps:</p>\n\n<pre><code>private static &lt;T, C extends Collection&lt;T&gt;&gt; Stream&lt;C&gt; comb(\n        List&lt;? extends Collection&lt;T&gt;&gt; values, int offset, Prefix&lt;T&gt; prefix,\n        Supplier&lt;C&gt; supplier) {\n    if (offset == values.size() - 1)\n        return values.get(offset).stream()\n                     .map(e -&gt; new Prefix&lt;&gt;(prefix, e).addTo(supplier.get()));\n    return values.get(offset).stream()\n            .flatMap(e -&gt; comb(values, offset + 1, new Prefix&lt;&gt;(prefix, e), supplier));\n}\n</code></pre>\n\n<p>Looks like recursion, but it's more complex: it doesn't call itself directly, but passed lambda which calls the outer method. Parameters:</p>\n\n<ul>\n<li>values: the <code>List</code> of original values (<code>new ArrayList&lt;&gt;(map.values)</code> in your case).</li>\n<li>offset: the current offset within this list</li>\n<li>prefix: the current prefix of length offset (or <code>null</code> if <code>offset == 0</code>). It contains currently selected elements from the collections <code>list.get(0)</code>, <code>list.get(1)</code> up to <code>list.get(offset-1)</code>.</li>\n<li>supplier: the factory method to create the resulting collection.</li>\n</ul>\n\n<p>When we reached the end of the values list (<code>offset == values.size() - 1</code>), we map the elements of the last collection from the values to the final combination using the supplier. Otherwise we use the <code>flatMap</code> which for each intermediate element enlarges the prefix and calls the <code>comb</code> method again for the next offset.</p>\n\n<p>Finally here's public method to use this feature:</p>\n\n<pre><code>public static &lt;T, C extends Collection&lt;T&gt;&gt; Stream&lt;C&gt; ofCombinations(\n        Collection&lt;? extends Collection&lt;T&gt;&gt; values, Supplier&lt;C&gt; supplier) {\n    if (values.isEmpty())\n        return Stream.empty();\n    return comb(new ArrayList&lt;&gt;(values), 0, null, supplier);\n}\n</code></pre>\n\n<p>A usage example:</p>\n\n<pre><code>Map&lt;String, Collection&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;(); // to preserve the order\nmap.put(\"A\", Arrays.asList(\"a1\", \"a2\", \"a3\", \"a4\"));\nmap.put(\"B\", Arrays.asList(\"b1\", \"b2\", \"b3\"));\nmap.put(\"C\", Arrays.asList(\"c1\", \"c2\"));\n\nofCombinations(map.values(), LinkedHashSet::new).forEach(System.out::println);\n</code></pre>\n\n<p>We collect individual combinations to the <code>LinkedHashSet</code> again to preserve the order. You can use any other collection instead (e.g. <code>ArrayList::new</code>).</p>\n"},{"tags":[],"owner":{"account_id":5023916,"reputation":197,"user_id":4892988,"display_name":"Marin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619309699,"creation_date":1440136708,"answer_id":32133321,"question_id":32131987,"body_markdown":"Here is another solution, which does not use as many features from `Streams` as Tagir&#39;s example; however I believe it to be more straight-forward:\r\n\r\n```java\r\npublic class Permutations {\r\n    transient List&lt;Collection&lt;String&gt;&gt; perms;\r\n    public List&lt;Collection&lt;String&gt;&gt; list(Map&lt;String, Collection&lt;String&gt;&gt; map) {\r\n        SortedMap&lt;String, Collection&lt;String&gt;&gt; sortedMap = new TreeMap&lt;&gt;();\r\n        sortedMap.putAll(map);\r\n        sortedMap.values().forEach((v) -&gt; perms = expand(perms, v));\r\n        return perms;\r\n    }\r\n\r\n    private List&lt;Collection&lt;String&gt;&gt; expand(\r\n            List&lt;Collection&lt;String&gt;&gt; list, Collection&lt;String&gt; elements) {\r\n        List&lt;Collection&lt;String&gt;&gt; newList = new LinkedList&lt;&gt;();\r\n        if (list == null) {\r\n            elements.forEach((e) -&gt; {\r\n                SortedSet&lt;String&gt; set = new TreeSet&lt;&gt;();\r\n                set.add(e);\r\n                newList.add(set);\r\n            });\r\n        } else {\r\n            list.forEach((set) -&gt;\r\n                    elements.forEach((e) -&gt; {\r\n                        SortedSet&lt;String&gt; newSet = new TreeSet&lt;&gt;();\r\n                        newSet.addAll(set);\r\n                        newSet.add(e);\r\n                        newList.add(newSet);\r\n                    }));\r\n        }\r\n        return newList;\r\n    }\r\n}\r\n```\r\nYou can remove the `Sorted` prefix if you are not interested in ordering of elements; though, I think it&#39;s easier to debug if everything is sorted.\r\n\r\nUsage:\r\n```java\r\nPermutations p = new Permutations();\r\nList&lt;Collection&lt;String&gt;&gt; plist = p.list(map);\r\nplist.forEach((s) -&gt; System.out.println(s));\r\n```\r\nEnjoy!","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>Here is another solution, which does not use as many features from <code>Streams</code> as Tagir's example; however I believe it to be more straight-forward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Permutations {\n    transient List&lt;Collection&lt;String&gt;&gt; perms;\n    public List&lt;Collection&lt;String&gt;&gt; list(Map&lt;String, Collection&lt;String&gt;&gt; map) {\n        SortedMap&lt;String, Collection&lt;String&gt;&gt; sortedMap = new TreeMap&lt;&gt;();\n        sortedMap.putAll(map);\n        sortedMap.values().forEach((v) -&gt; perms = expand(perms, v));\n        return perms;\n    }\n\n    private List&lt;Collection&lt;String&gt;&gt; expand(\n            List&lt;Collection&lt;String&gt;&gt; list, Collection&lt;String&gt; elements) {\n        List&lt;Collection&lt;String&gt;&gt; newList = new LinkedList&lt;&gt;();\n        if (list == null) {\n            elements.forEach((e) -&gt; {\n                SortedSet&lt;String&gt; set = new TreeSet&lt;&gt;();\n                set.add(e);\n                newList.add(set);\n            });\n        } else {\n            list.forEach((set) -&gt;\n                    elements.forEach((e) -&gt; {\n                        SortedSet&lt;String&gt; newSet = new TreeSet&lt;&gt;();\n                        newSet.addAll(set);\n                        newSet.add(e);\n                        newList.add(newSet);\n                    }));\n        }\n        return newList;\n    }\n}\n</code></pre>\n<p>You can remove the <code>Sorted</code> prefix if you are not interested in ordering of elements; though, I think it's easier to debug if everything is sorted.</p>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Permutations p = new Permutations();\nList&lt;Collection&lt;String&gt;&gt; plist = p.list(map);\nplist.forEach((s) -&gt; System.out.println(s));\n</code></pre>\n<p>Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1619331173,"creation_date":1440177995,"answer_id":32146095,"question_id":32131987,"body_markdown":"A solution that mainly operates on lists, making things a lot simpler. It does a recursive call in `flatMap`, keeping track of the elements that have already been combined, and the collections of elements that are still missing, and offers the results of this nested recursive construction as a stream of lists: \r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.Stream;\r\n\r\npublic class CartesianProduct {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Collection&lt;String&gt;&gt; map =\r\n                new LinkedHashMap&lt;String, Collection&lt;String&gt;&gt;();\r\n        map.put(&quot;A&quot;, Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;));\r\n        map.put(&quot;B&quot;, Arrays.asList(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\r\n        map.put(&quot;C&quot;, Arrays.asList(&quot;c1&quot;, &quot;c2&quot;));\r\n        ofCombinations(map.values()).forEach(System.out::println);\r\n    }\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofCombinations(\r\n            Collection&lt;? extends Collection&lt;T&gt;&gt; collections) {\r\n        return ofCombinations(\r\n                new ArrayList&lt;Collection&lt;T&gt;&gt;(collections),\r\n                Collections.emptyList());\r\n    }\r\n\r\n    private static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofCombinations(\r\n            List&lt;? extends Collection&lt;T&gt;&gt; collections, List&lt;T&gt; current) {\r\n        return collections.isEmpty() ? Stream.of(current) :\r\n                collections.get(0).stream().flatMap(e -&gt; {\r\n                    List&lt;T&gt; list = new ArrayList&lt;T&gt;(current);\r\n                    list.add(e);\r\n                    return ofCombinations(\r\n                            collections.subList(1, collections.size()), list);\r\n                });\r\n    }\r\n}\r\n```\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>A solution that mainly operates on lists, making things a lot simpler. It does a recursive call in <code>flatMap</code>, keeping track of the elements that have already been combined, and the collections of elements that are still missing, and offers the results of this nested recursive construction as a stream of lists:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.Stream;\n\npublic class CartesianProduct {\n    public static void main(String[] args) {\n        Map&lt;String, Collection&lt;String&gt;&gt; map =\n                new LinkedHashMap&lt;String, Collection&lt;String&gt;&gt;();\n        map.put(&quot;A&quot;, Arrays.asList(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;));\n        map.put(&quot;B&quot;, Arrays.asList(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\n        map.put(&quot;C&quot;, Arrays.asList(&quot;c1&quot;, &quot;c2&quot;));\n        ofCombinations(map.values()).forEach(System.out::println);\n    }\n\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofCombinations(\n            Collection&lt;? extends Collection&lt;T&gt;&gt; collections) {\n        return ofCombinations(\n                new ArrayList&lt;Collection&lt;T&gt;&gt;(collections),\n                Collections.emptyList());\n    }\n\n    private static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofCombinations(\n            List&lt;? extends Collection&lt;T&gt;&gt; collections, List&lt;T&gt; current) {\n        return collections.isEmpty() ? Stream.of(current) :\n                collections.get(0).stream().flatMap(e -&gt; {\n                    List&lt;T&gt; list = new ArrayList&lt;T&gt;(current);\n                    list.add(e);\n                    return ofCombinations(\n                            collections.subList(1, collections.size()), list);\n                });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8493728,"reputation":1,"user_id":6368999,"display_name":"Olufemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618730449,"creation_date":1469553823,"answer_id":38596267,"question_id":32131987,"body_markdown":"Use a Consumer Function Class, a `List&lt;T&gt;` and a foreach\r\n```java\r\npublic void tester() {\r\n    String[] strs1 = {&quot;2&quot;, &quot;4&quot;, &quot;9&quot;};\r\n    String[] strs2 = {&quot;9&quot;, &quot;0&quot;, &quot;5&quot;};\r\n\r\n    //Final output is {&quot;29&quot;, &quot;49, 99&quot;, &quot;20&quot;, &quot;40&quot;, &quot;90&quot;, &quot;25&quot;, &quot;45&quot;, &quot;95&quot;}\r\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n    Consumer&lt;String&gt; consumer = (String str) -&gt; result.addAll(\r\n            Arrays.stream(strs1).map(s -&gt; s + str).collect(Collectors.toList()));\r\n    Arrays.stream(strs2).forEach(consumer);\r\n\r\n    System.out.println(result);\r\n}\r\n```\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>Use a Consumer Function Class, a <code>List&lt;T&gt;</code> and a foreach</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void tester() {\n    String[] strs1 = {&quot;2&quot;, &quot;4&quot;, &quot;9&quot;};\n    String[] strs2 = {&quot;9&quot;, &quot;0&quot;, &quot;5&quot;};\n\n    //Final output is {&quot;29&quot;, &quot;49, 99&quot;, &quot;20&quot;, &quot;40&quot;, &quot;90&quot;, &quot;25&quot;, &quot;45&quot;, &quot;95&quot;}\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    Consumer&lt;String&gt; consumer = (String str) -&gt; result.addAll(\n            Arrays.stream(strs1).map(s -&gt; s + str).collect(Collectors.toList()));\n    Arrays.stream(strs2).forEach(consumer);\n\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2248899,"reputation":167,"user_id":1981596,"display_name":"Miklos Toth"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1628151922,"creation_date":1489596967,"answer_id":42816106,"question_id":32131987,"body_markdown":"Cartesian product in Java 8 with forEach:\r\n\r\n    List&lt;String&gt; listA = Arrays.asList(&quot;0&quot;, &quot;1&quot;);\r\n    List&lt;String&gt; listB = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\r\n\r\n    List&lt;String&gt; cartesianProduct = new ArrayList&lt;&gt;();\r\n    listA.forEach(a -&gt; listB.forEach(b -&gt; cartesianProduct.add(a + b)));\r\n\r\n    System.out.println(cartesianProduct);\r\n    // Output: [0a, 0b, 1a, 1b]","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>Cartesian product in Java 8 with forEach:</p>\n<pre><code>List&lt;String&gt; listA = Arrays.asList(&quot;0&quot;, &quot;1&quot;);\nList&lt;String&gt; listB = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\n\nList&lt;String&gt; cartesianProduct = new ArrayList&lt;&gt;();\nlistA.forEach(a -&gt; listB.forEach(b -&gt; cartesianProduct.add(a + b)));\n\nSystem.out.println(cartesianProduct);\n// Output: [0a, 0b, 1a, 1b]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618730543,"creation_date":1522838289,"answer_id":49648914,"question_id":32131987,"body_markdown":"In loop create combined list\r\n```java\r\nList&lt;String&gt; cartesianProduct(List&lt;List&lt;String&gt;&gt; wordLists) {\r\n    List&lt;String&gt; cp = wordLists.get(0);\r\n    for (int i = 1; i &lt; wordLists.size(); i++) {\r\n        List&lt;String&gt; secondList = wordLists.get(i);\r\n        List&lt;String&gt; combinedList = cp.stream()\r\n                .flatMap(s1 -&gt; secondList.stream()\r\n                        .map(s2 -&gt; s1 + s2))\r\n                .collect(Collectors.toList());\r\n        cp = combinedList;\r\n    }\r\n    return cp;\r\n}\r\n```\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>In loop create combined list</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; cartesianProduct(List&lt;List&lt;String&gt;&gt; wordLists) {\n    List&lt;String&gt; cp = wordLists.get(0);\n    for (int i = 1; i &lt; wordLists.size(); i++) {\n        List&lt;String&gt; secondList = wordLists.get(i);\n        List&lt;String&gt; combinedList = cp.stream()\n                .flatMap(s1 -&gt; secondList.stream()\n                        .map(s2 -&gt; s1 + s2))\n                .collect(Collectors.toList());\n        cp = combinedList;\n    }\n    return cp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1902099,"reputation":1462,"user_id":1717752,"accept_rate":69,"display_name":"ominug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642332428,"creation_date":1546807064,"answer_id":54065722,"question_id":32131987,"body_markdown":"I wrote a class implementing `Iterable`, and holding only the current item in memory. [The Iterable][1] as well as [the Iterator][2] can be converted to a `Stream` if desired.\r\n\r\n```java\r\nclass CartesianProduct&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\r\n  private final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors;\r\n\r\n  public CartesianProduct(final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors) {\r\n    this.factors = factors;\r\n  }\r\n\r\n  @Override\r\n  public Iterator&lt;List&lt;T&gt;&gt; iterator() {\r\n    return new CartesianProductIterator&lt;&gt;(factors);\r\n  }\r\n}\r\n\r\nclass CartesianProductIterator&lt;T&gt; implements Iterator&lt;List&lt;T&gt;&gt; {\r\n  private final List&lt;Iterable&lt;T&gt;&gt; factors;\r\n  private final Stack&lt;Iterator&lt;T&gt;&gt; iterators;\r\n  private final Stack&lt;T&gt; current;\r\n  private List&lt;T&gt; next;\r\n  private int index = 0;\r\n\r\n  private void computeNext() {\r\n    while (true) {\r\n      if (iterators.get(index).hasNext()) {\r\n        current.add(iterators.get(index).next());\r\n        if (index == factors.size() - 1) {\r\n          next = new ArrayList&lt;&gt;(current);\r\n          current.pop();\r\n          return;\r\n        }\r\n        index++;\r\n        iterators.add(factors.get(index).iterator());\r\n      } else {\r\n        index--;\r\n        if (index &lt; 0) {\r\n          return;\r\n        }\r\n        iterators.pop();\r\n        current.pop();\r\n      }\r\n    }\r\n  }\r\n\r\n  public CartesianProductIterator(final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors) {\r\n    this.factors = StreamSupport.stream(factors.spliterator(), false)\r\n          .collect(Collectors.toList());\r\n    iterators = new Stack&lt;&gt;();\r\n    current = new Stack&lt;&gt;();\r\n    if (this.factors.size() == 0) {\r\n      index = -1;\r\n    } else {\r\n      iterators.add(this.factors.get(0).iterator());\r\n      computeNext();\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public boolean hasNext() {\r\n    if (next == null &amp;&amp; index &gt;= 0) {\r\n      computeNext();\r\n    }\r\n    return next != null;\r\n  }\r\n\r\n  @Override\r\n  public List&lt;T&gt; next() {\r\n    if (!hasNext()) {\r\n      throw new IllegalStateException();\r\n    }\r\n    var result = next;\r\n    next = null;\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/q/23932061\r\n  [2]: https://stackoverflow.com/a/24511534","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>I wrote a class implementing <code>Iterable</code>, and holding only the current item in memory. <a href=\"https://stackoverflow.com/q/23932061\">The Iterable</a> as well as <a href=\"https://stackoverflow.com/a/24511534\">the Iterator</a> can be converted to a <code>Stream</code> if desired.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CartesianProduct&lt;T&gt; implements Iterable&lt;List&lt;T&gt;&gt; {\n  private final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors;\n\n  public CartesianProduct(final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors) {\n    this.factors = factors;\n  }\n\n  @Override\n  public Iterator&lt;List&lt;T&gt;&gt; iterator() {\n    return new CartesianProductIterator&lt;&gt;(factors);\n  }\n}\n\nclass CartesianProductIterator&lt;T&gt; implements Iterator&lt;List&lt;T&gt;&gt; {\n  private final List&lt;Iterable&lt;T&gt;&gt; factors;\n  private final Stack&lt;Iterator&lt;T&gt;&gt; iterators;\n  private final Stack&lt;T&gt; current;\n  private List&lt;T&gt; next;\n  private int index = 0;\n\n  private void computeNext() {\n    while (true) {\n      if (iterators.get(index).hasNext()) {\n        current.add(iterators.get(index).next());\n        if (index == factors.size() - 1) {\n          next = new ArrayList&lt;&gt;(current);\n          current.pop();\n          return;\n        }\n        index++;\n        iterators.add(factors.get(index).iterator());\n      } else {\n        index--;\n        if (index &lt; 0) {\n          return;\n        }\n        iterators.pop();\n        current.pop();\n      }\n    }\n  }\n\n  public CartesianProductIterator(final Iterable&lt;? extends Iterable&lt;T&gt;&gt; factors) {\n    this.factors = StreamSupport.stream(factors.spliterator(), false)\n          .collect(Collectors.toList());\n    iterators = new Stack&lt;&gt;();\n    current = new Stack&lt;&gt;();\n    if (this.factors.size() == 0) {\n      index = -1;\n    } else {\n      iterators.add(this.factors.get(0).iterator());\n      computeNext();\n    }\n  }\n\n  @Override\n  public boolean hasNext() {\n    if (next == null &amp;&amp; index &gt;= 0) {\n      computeNext();\n    }\n    return next != null;\n  }\n\n  @Override\n  public List&lt;T&gt; next() {\n    if (!hasNext()) {\n      throw new IllegalStateException();\n    }\n    var result = next;\n    next = null;\n    return result;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1627687290,"creation_date":1554811289,"answer_id":55592402,"question_id":32131987,"body_markdown":"While it&#39;s not a Stream solution, Guava&#39;s [`com.google.common.collect.Sets`][1] does that for you.\r\n\r\n```java\r\nSet&lt;List&lt;String&gt;&gt; result = Sets.cartesianProduct(\r\n        Set.of(&quot;a1&quot;, &quot;a2&quot;), Set.of(&quot;b1&quot;, &quot;b2&quot;), Set.of(&quot;c1&quot;, &quot;c2&quot;));\r\n```\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Sets.html","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>While it's not a Stream solution, Guava's <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Sets.html\" rel=\"noreferrer\"><code>com.google.common.collect.Sets</code></a> does that for you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;List&lt;String&gt;&gt; result = Sets.cartesianProduct(\n        Set.of(&quot;a1&quot;, &quot;a2&quot;), Set.of(&quot;b1&quot;, &quot;b2&quot;), Set.of(&quot;c1&quot;, &quot;c2&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1969083,"reputation":6498,"user_id":1768565,"display_name":"Jurgen Vinju"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1619308565,"creation_date":1561116409,"answer_id":56702534,"question_id":32131987,"body_markdown":"A simpler answer, for a simpler situation where you just want to have the cartesian product of the elements of two collections. \r\n\r\nHere&#39;s some code which uses `flatMap` to generate the cartesian product of two short lists:\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;Integer&gt; aList = Arrays.asList(1, 2, 3);\r\n    List&lt;Integer&gt; bList = Arrays.asList(4, 5, 6);\r\n\r\n    Stream&lt;List&lt;Integer&gt;&gt; product = aList.stream().flatMap(a -&gt;\r\n            bList.stream().flatMap(b -&gt;\r\n                    Stream.of(Arrays.asList(a, b))));\r\n\r\n    product.forEach(p -&gt; { System.out.println(p); });\r\n\r\n    // prints:\r\n    // [1, 4]\r\n    // [1, 5]\r\n    // [1, 6]\r\n    // [2, 4]\r\n    // [2, 5]\r\n    // [2, 6]\r\n    // [3, 4]\r\n    // [3, 5]\r\n    // [3, 6]\r\n}\r\n```\r\nIf you want to add more collections, just nest the streams a litter further:\r\n```java\r\naList.stream().flatMap(a -&gt;\r\n    bList.stream().flatMap(b -&gt;\r\n        cList.stream().flatMap(c -&gt;\r\n            Stream.of(Arrays.asList(a, b, c)))));\r\n```\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>A simpler answer, for a simpler situation where you just want to have the cartesian product of the elements of two collections.</p>\n<p>Here's some code which uses <code>flatMap</code> to generate the cartesian product of two short lists:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;Integer&gt; aList = Arrays.asList(1, 2, 3);\n    List&lt;Integer&gt; bList = Arrays.asList(4, 5, 6);\n\n    Stream&lt;List&lt;Integer&gt;&gt; product = aList.stream().flatMap(a -&gt;\n            bList.stream().flatMap(b -&gt;\n                    Stream.of(Arrays.asList(a, b))));\n\n    product.forEach(p -&gt; { System.out.println(p); });\n\n    // prints:\n    // [1, 4]\n    // [1, 5]\n    // [1, 6]\n    // [2, 4]\n    // [2, 5]\n    // [2, 6]\n    // [3, 4]\n    // [3, 5]\n    // [3, 6]\n}\n</code></pre>\n<p>If you want to add more collections, just nest the streams a litter further:</p>\n<pre class=\"lang-java prettyprint-override\"><code>aList.stream().flatMap(a -&gt;\n    bList.stream().flatMap(b -&gt;\n        cList.stream().flatMap(c -&gt;\n            Stream.of(Arrays.asList(a, b, c)))));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15613375"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627835024,"creation_date":1618654989,"answer_id":67137084,"question_id":32131987,"body_markdown":"You can use [`Stream.reduce`][1] method as follows.\r\n\r\n[Try it online!][2]\r\n\r\n```java\r\nMap&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\nmap.put(&quot;A&quot;, List.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;));\r\nmap.put(&quot;B&quot;, List.of(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\r\nmap.put(&quot;C&quot;, List.of(&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;));\r\n```\r\n```java\r\nList&lt;List&lt;String&gt;&gt; cartesianProduct = map.values().stream()\r\n        // represent each list element as a singleton list\r\n        .map(list -&gt; list.stream().map(Collections::singletonList)\r\n                .collect(Collectors.toList()))\r\n        // reduce the stream of lists to a single list by\r\n        // sequentially summing pairs of elements of two lists\r\n        .reduce((list1, list2) -&gt; list1.stream()\r\n                // combinations of inner lists\r\n                .flatMap(first -&gt; list2.stream()\r\n                        // merge two inner lists into one\r\n                        .map(second -&gt; Stream.of(first, second)\r\n                                .flatMap(List::stream)\r\n                                .collect(Collectors.toList())))\r\n                // list of combinations\r\n                .collect(Collectors.toList()))\r\n        // List&lt;List&lt;String&gt;&gt;\r\n        .orElse(Collections.emptyList());\r\n```\r\n```java\r\n// column-wise output\r\nint rows = 9;\r\nIntStream.range(0, rows)\r\n        .mapToObj(i -&gt; IntStream.range(0, cartesianProduct.size())\r\n                .filter(j -&gt; j % rows == i)\r\n                .mapToObj(j -&gt; cartesianProduct.get(j).toString())\r\n                .collect(Collectors.joining(&quot;  &quot;)))\r\n        .forEach(System.out::println);\r\n```\r\nOutput:\r\n```\r\n[a1, b1, c1]  [a2, b1, c1]  [a3, b1, c1]\r\n[a1, b1, c2]  [a2, b1, c2]  [a3, b1, c2]\r\n[a1, b1, c3]  [a2, b1, c3]  [a3, b1, c3]\r\n[a1, b2, c1]  [a2, b2, c1]  [a3, b2, c1]\r\n[a1, b2, c2]  [a2, b2, c2]  [a3, b2, c2]\r\n[a1, b2, c3]  [a2, b2, c3]  [a3, b2, c3]\r\n[a1, b3, c1]  [a2, b3, c1]  [a3, b3, c1]\r\n[a1, b3, c2]  [a2, b3, c2]  [a3, b3, c2]\r\n[a1, b3, c3]  [a2, b3, c3]  [a3, b3, c3]\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [String permutations using recursion in Java][3]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\r\n  [2]: https://tio.run/##rVRNb9NAEL3nV4wsIa1R6tJyoqWRoEICiQqkcEMc1s4kWXe9a3bHjQLqbw@za9cYnA8h4UNi78x7b752Svkgz8rF/W6nqto6gpIPsoaUzp5fT0ZnnhzKKpgmdZNrVUChpfdwJ5WBnxPgpzv3JIn/HqxaQMVWMSenzOrrN5Bu5dPOOTx3sn7dGqfwUXnqPmYzxtVwAwY3fG7ucfFe@nXwnon0uoezU1Y3JJI3SYvP7FIk8oK/EnkZf18m6T7A2yEgj4A8AvIDgNshoIiAIgKKFtAjYhp/5lJIR@iVNJ@dXTQFcWKB90HqBr1Iu8qKtOd4es7PwWHt0KMhQFmsQTMxoMYqnEgPEjxraCRrom1EkbGSiKizWfTo1aLl1mqNBSlr/NVVTxXCH0fTUxYt6Alsnc/IBoxI0wNJcNoItEZo1cEuYzAeyPY5tMnl230MHr83nLKSWm/BN1XFCKilcj5QdQWJ77SxLfW4FG0YIpbjYhq9LtOnulwcbsMgjsJWuTIyFiyoKWPQHdDrdZdaEs@uWHK4fR8uT@sNdCt0K4y5DRT5nctnDZ5kiL32WFizCPrz9irzKMeQptCaTkcySil0nQcn8v0D/OgEHW1AnBEu/LAR/3FSx7d3PEbWvdMeh1cnw6qmbcc72AVxYHRTmbON8gi2Id4lvZW7B85uPK@DV783zgdDXXucNCsUL6bRKd17s7/YT3kpVOjpHtzfeyfz6geKI/XNlkoTOlEGwhKedeHdgDqC6cOIqJHmCkmUKZe9LehR@T3tKq0yAZYAJPt6li25HbwZxXzrCXmmG57HmpVIm26PP04ed7tf &quot;Java (JDK)  Try It Online&quot;\r\n  [3]: https://stackoverflow.com/a/67114390/15613375\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream.reduce</code></a> method as follows.</p>\n<p><a href=\"https://tio.run/##rVRNb9NAEL3nV4wsIa1R6tJyoqWRoEICiQqkcEMc1s4kWXe9a3bHjQLqbw@za9cYnA8h4UNi78x7b752Svkgz8rF/W6nqto6gpIPsoaUzp5fT0ZnnhzKKpgmdZNrVUChpfdwJ5WBnxPgpzv3JIn/HqxaQMVWMSenzOrrN5Bu5dPOOTx3sn7dGqfwUXnqPmYzxtVwAwY3fG7ucfFe@nXwnon0uoezU1Y3JJI3SYvP7FIk8oK/EnkZf18m6T7A2yEgj4A8AvIDgNshoIiAIgKKFtAjYhp/5lJIR@iVNJ@dXTQFcWKB90HqBr1Iu8qKtOd4es7PwWHt0KMhQFmsQTMxoMYqnEgPEjxraCRrom1EkbGSiKizWfTo1aLl1mqNBSlr/NVVTxXCH0fTUxYt6Alsnc/IBoxI0wNJcNoItEZo1cEuYzAeyPY5tMnl230MHr83nLKSWm/BN1XFCKilcj5QdQWJ77SxLfW4FG0YIpbjYhq9LtOnulwcbsMgjsJWuTIyFiyoKWPQHdDrdZdaEs@uWHK4fR8uT@sNdCt0K4y5DRT5nctnDZ5kiL32WFizCPrz9irzKMeQptCaTkcySil0nQcn8v0D/OgEHW1AnBEu/LAR/3FSx7d3PEbWvdMeh1cnw6qmbcc72AVxYHRTmbON8gi2Id4lvZW7B85uPK@DV783zgdDXXucNCsUL6bRKd17s7/YT3kpVOjpHtzfeyfz6geKI/XNlkoTOlEGwhKedeHdgDqC6cOIqJHmCkmUKZe9LehR@T3tKq0yAZYAJPt6li25HbwZxXzrCXmmG57HmpVIm26PP04ed7tf\" rel=\"nofollow noreferrer\" title=\"Java (JDK)  Try It Online\">Try it online!</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\nmap.put(&quot;A&quot;, List.of(&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;));\nmap.put(&quot;B&quot;, List.of(&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;));\nmap.put(&quot;C&quot;, List.of(&quot;c1&quot;, &quot;c2&quot;, &quot;c3&quot;));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; cartesianProduct = map.values().stream()\n        // represent each list element as a singleton list\n        .map(list -&gt; list.stream().map(Collections::singletonList)\n                .collect(Collectors.toList()))\n        // reduce the stream of lists to a single list by\n        // sequentially summing pairs of elements of two lists\n        .reduce((list1, list2) -&gt; list1.stream()\n                // combinations of inner lists\n                .flatMap(first -&gt; list2.stream()\n                        // merge two inner lists into one\n                        .map(second -&gt; Stream.of(first, second)\n                                .flatMap(List::stream)\n                                .collect(Collectors.toList())))\n                // list of combinations\n                .collect(Collectors.toList()))\n        // List&lt;List&lt;String&gt;&gt;\n        .orElse(Collections.emptyList());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// column-wise output\nint rows = 9;\nIntStream.range(0, rows)\n        .mapToObj(i -&gt; IntStream.range(0, cartesianProduct.size())\n                .filter(j -&gt; j % rows == i)\n                .mapToObj(j -&gt; cartesianProduct.get(j).toString())\n                .collect(Collectors.joining(&quot;  &quot;)))\n        .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>[a1, b1, c1]  [a2, b1, c1]  [a3, b1, c1]\n[a1, b1, c2]  [a2, b1, c2]  [a3, b1, c2]\n[a1, b1, c3]  [a2, b1, c3]  [a3, b1, c3]\n[a1, b2, c1]  [a2, b2, c1]  [a3, b2, c1]\n[a1, b2, c2]  [a2, b2, c2]  [a3, b2, c2]\n[a1, b2, c3]  [a2, b2, c3]  [a3, b2, c3]\n[a1, b3, c1]  [a2, b3, c1]  [a3, b3, c1]\n[a1, b3, c2]  [a2, b3, c2]  [a3, b3, c2]\n[a1, b3, c3]  [a2, b3, c3]  [a3, b3, c3]\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/67114390/15613375\">String permutations using recursion in Java</a></sup></p>\n"},{"tags":[],"owner":{"display_name":"user16497917"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628079661,"creation_date":1628039432,"answer_id":68644295,"question_id":32131987,"body_markdown":"### The *map-and-reduce* approach with nested loops within one stream\r\n\r\nOne outer stream can be easily converted to [`parallel`][1] - this can reduce the computation time in some cases. Inner iterations are implemented with loops.\r\n\r\n[Try it online!][2]\r\n\r\n```java\r\n/**\r\n * @param map a map of lists\r\n * @param &lt;T&gt; the type of the elements\r\n * @return the Cartesian product of map values\r\n */\r\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; cartesianProduct(Map&lt;T, List&lt;T&gt;&gt; map) {\r\n    // check if incoming data is not null\r\n    if (map == null) return Collections.emptyList();\r\n    return map.values().stream().parallel()\r\n            // non-null and non-empty lists\r\n            .filter(list -&gt; list != null &amp;&amp; list.size() &gt; 0)\r\n            // represent each list element as a singleton list\r\n            .map(list -&gt; {\r\n                List&lt;List&lt;T&gt;&gt; nList = new ArrayList&lt;&gt;(list.size());\r\n                for (T e : list) nList.add(Collections.singletonList(e));\r\n                return nList;\r\n            })\r\n            // summation of pairs of inner lists\r\n            .reduce((list1, list2) -&gt; {\r\n                // number of combinations\r\n                int size = list1.size() * list2.size();\r\n                // list of combinations\r\n                List&lt;List&lt;T&gt;&gt; list = new ArrayList&lt;&gt;(size);\r\n                for (List&lt;T&gt; inner1 : list1)\r\n                    for (List&lt;T&gt; inner2 : list2) {\r\n                        List&lt;T&gt; inner = new ArrayList&lt;&gt;();\r\n                        inner.addAll(inner1);\r\n                        inner.addAll(inner2);\r\n                        list.add(inner);\r\n                    }\r\n                return list;\r\n            }).orElse(Collections.emptyList());\r\n}\r\n```\r\n```java\r\npublic static void main(String[] args) {\r\n    Map&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n    map.put(&quot;A&quot;, Arrays.asList(&quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;));\r\n    map.put(&quot;B&quot;, Arrays.asList(&quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;));\r\n    map.put(&quot;C&quot;, Arrays.asList(&quot;C1&quot;, &quot;C2&quot;));\r\n\r\n    List&lt;List&lt;String&gt;&gt; cp = cartesianProduct(map);\r\n    // column-wise output\r\n    int rows = 6;\r\n    for (int i = 0; i &lt; rows; i++) {\r\n        for (int j = 0; j &lt; cp.size(); j++)\r\n            System.out.print(j % rows == i ? cp.get(j) + &quot; &quot; : &quot;&quot;);\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\n[A1, B1, C1] [A2, B1, C1] [A3, B1, C1] [A4, B1, C1] \r\n[A1, B1, C2] [A2, B1, C2] [A3, B1, C2] [A4, B1, C2] \r\n[A1, B2, C1] [A2, B2, C1] [A3, B2, C1] [A4, B2, C1] \r\n[A1, B2, C2] [A2, B2, C2] [A3, B2, C2] [A4, B2, C2] \r\n[A1, B3, C1] [A2, B3, C1] [A3, B3, C1] [A4, B3, C1] \r\n[A1, B3, C2] [A2, B3, C2] [A3, B3, C2] [A4, B3, C2] \r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [How to get Cartesian product from multiple lists?][3]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#parallel--\r\n  [2]: https://tio.run/##lVVdb5swFH3Pr7iLtMqkDV3SaQ9Nmi2NJu2hkyY1b9MeXHAap8Yg27Tqqvz27PpCKAnQbSBhY59z77kfmA1/5MM0E3oTP@x2MslS42CDi2HupAoHk14vUtxaWHDjhJVc/zBpnEcOXnqA1/lgQCMM4EvGDU8g4RlweqYrUNI6ewSYLmfg1gLccyY8xs@FEonQNagRLjea9irPkJWukeTtP3KViz3lnMYsv1MyAuu4w8F7ukEFU3osZzOIjqJg33k2XZ5BBUC7QRkahXcO0VpEDyBXIHWUJlLfQ8wdB2lBpw50rlSFRhDzwq6uaD2AMopFqpSInEy1DUWSuWfvjgWTiljikBsWQbEgtM4InuDEZw35igUVviZPp3ronQHXMb2Qg3ria1e4ksoJw/wuDGeEgneFWjg5offQyt@CBTCDD60OjciMsFgsEDxaFybK8gG3WHqLOVLCpZr2mhowykrAS2PbX4c1034GKFI8wdwYTtmbzlhNbC2V9WuVGmBLEHBJUoLCVMjjmNVLUgmmsogua2WRCNVEbFuTZfMk4d6L79mMS2P9RGotTFeJjMDGFIzCG50Rahx058q3QJ7coT00jA16JzU5tK1oiUXyKcN0kv19sQeFn/J10uWJyvYvfg4rqNoL6J29VbmSX6RrVBZxFLQS2knjkjQOOrJ3oHfPapHaIfM1rUjzfTVXihVy/5sx/gtD7VuX0G@At291r@po3jA1X5UVrOOoKt1tey2n7GMqYzy6pGa3zuCn9PMXcHNv6yn3p2yxWR61xUtx3pbpvpH6QcTfuF179EHK/bmY5Y715/2zoiw25JaU9ecjXOvPx/S8oOfHftBGvm6Sr4l8TeTri3baoklbEG0xJkKv2fNVdJEPrvHP8f@YycEvJlV5oodP0uIPMXfotlf/YE36ZNHOp1cOdbrfkrj@YYLDlFA4Oz097vUKvCnAGwRH2f5Thw0yGg1x@2ydSEIUE2YYi2MbeF/quEJvn72Be4HLAZxCH@9L6PePevLYhtL1mm7Lhtrudn8A &quot;Java (OpenJDK 8)  Try It Online&quot;\r\n  [3]: https://stackoverflow.com/a/68629936/16497917\r\n","title":"How can I make Cartesian product with Java 8 streams?","body":"<h3>The <em>map-and-reduce</em> approach with nested loops within one stream</h3>\n<p>One outer stream can be easily converted to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#parallel--\" rel=\"nofollow noreferrer\"><code>parallel</code></a> - this can reduce the computation time in some cases. Inner iterations are implemented with loops.</p>\n<p><a href=\"https://tio.run/##lVVdb5swFH3Pr7iLtMqkDV3SaQ9Nmi2NJu2hkyY1b9MeXHAap8Yg27Tqqvz27PpCKAnQbSBhY59z77kfmA1/5MM0E3oTP@x2MslS42CDi2HupAoHk14vUtxaWHDjhJVc/zBpnEcOXnqA1/lgQCMM4EvGDU8g4RlweqYrUNI6ewSYLmfg1gLccyY8xs@FEonQNagRLjea9irPkJWukeTtP3KViz3lnMYsv1MyAuu4w8F7ukEFU3osZzOIjqJg33k2XZ5BBUC7QRkahXcO0VpEDyBXIHWUJlLfQ8wdB2lBpw50rlSFRhDzwq6uaD2AMopFqpSInEy1DUWSuWfvjgWTiljikBsWQbEgtM4InuDEZw35igUVviZPp3ronQHXMb2Qg3ria1e4ksoJw/wuDGeEgneFWjg5offQyt@CBTCDD60OjciMsFgsEDxaFybK8gG3WHqLOVLCpZr2mhowykrAS2PbX4c1034GKFI8wdwYTtmbzlhNbC2V9WuVGmBLEHBJUoLCVMjjmNVLUgmmsogua2WRCNVEbFuTZfMk4d6L79mMS2P9RGotTFeJjMDGFIzCG50Rahx058q3QJ7coT00jA16JzU5tK1oiUXyKcN0kv19sQeFn/J10uWJyvYvfg4rqNoL6J29VbmSX6RrVBZxFLQS2knjkjQOOrJ3oHfPapHaIfM1rUjzfTVXihVy/5sx/gtD7VuX0G@At291r@po3jA1X5UVrOOoKt1tey2n7GMqYzy6pGa3zuCn9PMXcHNv6yn3p2yxWR61xUtx3pbpvpH6QcTfuF179EHK/bmY5Y715/2zoiw25JaU9ecjXOvPx/S8oOfHftBGvm6Sr4l8TeTri3baoklbEG0xJkKv2fNVdJEPrvHP8f@YycEvJlV5oodP0uIPMXfotlf/YE36ZNHOp1cOdbrfkrj@YYLDlFA4Oz097vUKvCnAGwRH2f5Thw0yGg1x@2ydSEIUE2YYi2MbeF/quEJvn72Be4HLAZxCH@9L6PePevLYhtL1mm7Lhtrudn8A\" rel=\"nofollow noreferrer\" title=\"Java (OpenJDK 8)  Try It Online\">Try it online!</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @param map a map of lists\n * @param &lt;T&gt; the type of the elements\n * @return the Cartesian product of map values\n */\npublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; cartesianProduct(Map&lt;T, List&lt;T&gt;&gt; map) {\n    // check if incoming data is not null\n    if (map == null) return Collections.emptyList();\n    return map.values().stream().parallel()\n            // non-null and non-empty lists\n            .filter(list -&gt; list != null &amp;&amp; list.size() &gt; 0)\n            // represent each list element as a singleton list\n            .map(list -&gt; {\n                List&lt;List&lt;T&gt;&gt; nList = new ArrayList&lt;&gt;(list.size());\n                for (T e : list) nList.add(Collections.singletonList(e));\n                return nList;\n            })\n            // summation of pairs of inner lists\n            .reduce((list1, list2) -&gt; {\n                // number of combinations\n                int size = list1.size() * list2.size();\n                // list of combinations\n                List&lt;List&lt;T&gt;&gt; list = new ArrayList&lt;&gt;(size);\n                for (List&lt;T&gt; inner1 : list1)\n                    for (List&lt;T&gt; inner2 : list2) {\n                        List&lt;T&gt; inner = new ArrayList&lt;&gt;();\n                        inner.addAll(inner1);\n                        inner.addAll(inner2);\n                        list.add(inner);\n                    }\n                return list;\n            }).orElse(Collections.emptyList());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Map&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n    map.put(&quot;A&quot;, Arrays.asList(&quot;A1&quot;, &quot;A2&quot;, &quot;A3&quot;, &quot;A4&quot;));\n    map.put(&quot;B&quot;, Arrays.asList(&quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;));\n    map.put(&quot;C&quot;, Arrays.asList(&quot;C1&quot;, &quot;C2&quot;));\n\n    List&lt;List&lt;String&gt;&gt; cp = cartesianProduct(map);\n    // column-wise output\n    int rows = 6;\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cp.size(); j++)\n            System.out.print(j % rows == i ? cp.get(j) + &quot; &quot; : &quot;&quot;);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[A1, B1, C1] [A2, B1, C1] [A3, B1, C1] [A4, B1, C1] \n[A1, B1, C2] [A2, B1, C2] [A3, B1, C2] [A4, B1, C2] \n[A1, B2, C1] [A2, B2, C1] [A3, B2, C1] [A4, B2, C1] \n[A1, B2, C2] [A2, B2, C2] [A3, B2, C2] [A4, B2, C2] \n[A1, B3, C1] [A2, B3, C1] [A3, B3, C1] [A4, B3, C1] \n[A1, B3, C2] [A2, B3, C2] [A3, B3, C2] [A4, B3, C2] \n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/68629936/16497917\">How to get Cartesian product from multiple lists?</a></sup></p>\n"}],"owner":{"account_id":2699110,"reputation":995,"user_id":2330285,"accept_rate":55,"display_name":"Alex Paransky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27927,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":32132377,"answer_count":11,"score":50,"last_activity_date":1642332428,"creation_date":1440128287,"question_id":32131987,"body_markdown":"I have the following collection type:\r\n\r\n    Map&lt;String, Collection&lt;String&gt;&gt; map;\r\n\r\nI would like to create unique combinations of each of `map.size()` from a single value in the collection for each Key.\r\n\r\nFor example suppose the map looks like the following:\r\n\r\n    A, {a1, a2, a3, ..., an}\r\n    B, {b1, b2, b3, ..., bn}\r\n    C, {c1, c2, c3, ..., cn}\r\n\r\nThe result I would like to get would a `List&lt;Set&lt;String&gt;&gt;` result, looking similar to (ordering is not important, it just needs to be a &#39;complete&#39; result consisting of all possible combinations):\r\n\r\n    {a1, b1, c1},\r\n    {a1, b1, c2},\r\n    {a1, b1, c3},\r\n    {a1, b2, c1},\r\n    {a1, b2, c2},\r\n    {a1, b2, c3},\r\n    ...\r\n    {a2, b1, c1},\r\n    {a2, b1, c2},\r\n    ...\r\n    {a3, b1, c1},\r\n    {a3, b1, c2},\r\n    ...\r\n    {an, bn, cn}\r\n\r\nThis is basically a counting problem, but I would like to see if a solution is possible using Java 8 streams.","title":"How can I make Cartesian product with Java 8 streams?","body":"<p>I have the following collection type:</p>\n\n<pre><code>Map&lt;String, Collection&lt;String&gt;&gt; map;\n</code></pre>\n\n<p>I would like to create unique combinations of each of <code>map.size()</code> from a single value in the collection for each Key.</p>\n\n<p>For example suppose the map looks like the following:</p>\n\n<pre><code>A, {a1, a2, a3, ..., an}\nB, {b1, b2, b3, ..., bn}\nC, {c1, c2, c3, ..., cn}\n</code></pre>\n\n<p>The result I would like to get would a <code>List&lt;Set&lt;String&gt;&gt;</code> result, looking similar to (ordering is not important, it just needs to be a 'complete' result consisting of all possible combinations):</p>\n\n<pre><code>{a1, b1, c1},\n{a1, b1, c2},\n{a1, b1, c3},\n{a1, b2, c1},\n{a1, b2, c2},\n{a1, b2, c3},\n...\n{a2, b1, c1},\n{a2, b1, c2},\n...\n{a3, b1, c1},\n{a3, b1, c2},\n...\n{an, bn, cn}\n</code></pre>\n\n<p>This is basically a counting problem, but I would like to see if a solution is possible using Java 8 streams.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":16266791,"reputation":367,"user_id":11746588,"display_name":"wahyu eko hadi saputro"},"score":0,"creation_date":1574777185,"post_id":59052377,"comment_id":104345280,"body_markdown":"add the @Validated annotation to the controller class. Refer to https://www.baeldung.com/spring-validate-list-controller","body":"add the @Validated annotation to the controller class. Refer to <a href=\"https://www.baeldung.com/spring-validate-list-controller\" rel=\"nofollow noreferrer\">baeldung.com/spring-validate-list-controller</a>"},{"owner":{"account_id":2701846,"reputation":619,"user_id":2332409,"display_name":"sudipn"},"score":1,"creation_date":1574777702,"post_id":59052377,"comment_id":104345552,"body_markdown":"a more detailed discussion can be found on this thread: https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring","body":"a more detailed discussion can be found on this thread: <a href=\"https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring\" title=\"validation of a list of objects in spring\">stackoverflow.com/questions/28150405/&hellip;</a>"},{"owner":{"account_id":7200349,"reputation":139,"user_id":5497780,"display_name":"karthikmunna"},"score":0,"creation_date":1574778590,"post_id":59052377,"comment_id":104346084,"body_markdown":"@bullzeye Thank you, Tht works fine to me. You can add it as a solution.","body":"@bullzeye Thank you, Tht works fine to me. You can add it as a solution."}],"answers":[{"tags":[],"owner":{"account_id":12133016,"reputation":168,"user_id":8859325,"display_name":"Haris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1574776712,"creation_date":1574776335,"answer_id":59052471,"question_id":59052377,"body_markdown":"Your `@Valid` annotation is applied to the List and not the actual objects present on the list.\r\n\r\nThe annotation you have in your example validates the list and not each object of the list.\r\n\r\nTry this\r\n\r\n`public Student addStudent(@PathVariable Integer classId,@RequestBody List&lt;@Valid Student&gt; students)`\r\n\r\nYou can specify additional parameters as well for example you may need to validate each object on the list AND to make sure that the list is not empty, or has a minimum size etc. Those validations must be performed on the list.\r\n","title":"@valid annotation is not working as expected","body":"<p>Your <code>@Valid</code> annotation is applied to the List and not the actual objects present on the list.</p>\n\n<p>The annotation you have in your example validates the list and not each object of the list.</p>\n\n<p>Try this</p>\n\n<p><code>public Student addStudent(@PathVariable Integer classId,@RequestBody List&lt;@Valid Student&gt; students)</code></p>\n\n<p>You can specify additional parameters as well for example you may need to validate each object on the list AND to make sure that the list is not empty, or has a minimum size etc. Those validations must be performed on the list.</p>\n"},{"tags":[],"owner":{"account_id":12782081,"reputation":1,"user_id":9478770,"display_name":"Krishnamoorthy Sundar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574776611,"creation_date":1574776611,"answer_id":59052546,"question_id":59052377,"body_markdown":"When Spring Boot finds an argument annotated with @Valid, it automatically bootstraps the default JSR 380 implementation  Hibernate Validator  and validates the argument.\r\n\r\nJSR 380 implementation gets violated only when the Request itself is NULL. As mentioned above it cannot be used to check null values in the request body.","title":"@valid annotation is not working as expected","body":"<p>When Spring Boot finds an argument annotated with @Valid, it automatically bootstraps the default JSR 380 implementation  Hibernate Validator  and validates the argument.</p>\n\n<p>JSR 380 implementation gets violated only when the Request itself is NULL. As mentioned above it cannot be used to check null values in the request body.</p>\n"},{"tags":[],"owner":{"account_id":14233114,"reputation":765,"user_id":10281741,"display_name":"sudo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574777136,"creation_date":1574777136,"answer_id":59052722,"question_id":59052377,"body_markdown":"You cannot apply `@Valid` to a `java.util.List`\r\n\r\nsee: https://stackoverflow.com/questions/17207766/spring-mvc-valid-on-list-of-beans-in-rest-service","title":"@valid annotation is not working as expected","body":"<p>You cannot apply <code>@Valid</code> to a <code>java.util.List</code></p>\n\n<p>see: <a href=\"https://stackoverflow.com/questions/17207766/spring-mvc-valid-on-list-of-beans-in-rest-service\">Spring MVC - @Valid on list of beans in REST service</a></p>\n"},{"tags":[],"owner":{"account_id":19436623,"reputation":71,"user_id":14215959,"display_name":"Lusmilo Campos"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1599148235,"creation_date":1599148235,"answer_id":63727285,"question_id":59052377,"body_markdown":"if you use Spring boot 2.3.3.RELEASE. then add in the POM the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nExample of use:\r\n\r\n    //update audTipo\r\n\t@PutMapping(&quot;audTipo/{id}&quot;)\r\n\tpublic ResponseEntity&lt;AudTipo&gt; update(@PathVariable(value=&quot;id&quot;) Integer audTipoId, \r\n\t\t\t@Valid @RequestBody AudTipo audTipoDetils) throws ResourceNotFundException\r\n\t{\t\r\n\t\t\r\n\t\t  AudTipo audTipo = audTipoRepository.findById(audTipoId).orElseThrow(()-&gt; new\r\n\t\t  ResourceNotFundException(&quot;NF &quot; + audTipoId));\r\n\t\t  audTipo.setXdesc(audTipoDetils.getXdesc());\r\n\t\t  \r\n\t\t  return ResponseEntity.ok(this.audTipoRepository.save(audTipo));\t \r\n\t}","title":"@valid annotation is not working as expected","body":"<p>if you use Spring boot 2.3.3.RELEASE. then add in the POM the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Example of use:</p>\n<pre><code>//update audTipo\n@PutMapping(&quot;audTipo/{id}&quot;)\npublic ResponseEntity&lt;AudTipo&gt; update(@PathVariable(value=&quot;id&quot;) Integer audTipoId, \n        @Valid @RequestBody AudTipo audTipoDetils) throws ResourceNotFundException\n{   \n    \n      AudTipo audTipo = audTipoRepository.findById(audTipoId).orElseThrow(()-&gt; new\n      ResourceNotFundException(&quot;NF &quot; + audTipoId));\n      audTipo.setXdesc(audTipoDetils.getXdesc());\n      \n      return ResponseEntity.ok(this.audTipoRepository.save(audTipo));    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17432142,"reputation":287,"user_id":12635940,"display_name":"Esther"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603604799,"creation_date":1603602373,"answer_id":64520537,"question_id":59052377,"body_markdown":"If your experiencing the issue of for example: not being able to see the validation errors (default-messages) returned back to the client, this is what you could do:\r\n\r\n**Top Solution 1:**\r\nSimply add devtools. This should solve the issue. After I did this, all my binding-results were returned back to the client. I recommend you to test this out first:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Solution 2:** \r\n\r\nI found out that this is due to using Spring Boot 2.3+\r\nSo if youre using Spring Boot 2.3 or higher, add this dependency in your pom.xml file as its no longer included within the &#39;web&#39;-dependency itself.\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nNow its necessary to set &#39;include binding errors&#39; in *java/resources/application.properties* to &quot;always&quot;. Same goes for &#39;message&#39; as well although I think this is optional.\r\n\r\n    server.error.include-message=always\r\n    server.error.include-binding-errors=always\r\n\r\n\r\n**Solution 3:** (before I discovered solution 2 which could be helpful as well)\r\n\r\nSo I found out that this is due to having Spring boot 2.3+. But I could not find caution-messages on the new updated usage of @Valid in Spring Boot v2.3+.\r\n\r\nSo I ended up switching back to Spring boot v2.2.10 (latest version of 2.2) by adjusting the release version in the pom.xml file like so:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nThis worked perfectly for me by rolling back to an older version. Although id like to update my Spring Boot version some day. (Revisit solution 1 &amp; 2)","title":"@valid annotation is not working as expected","body":"<p>If your experiencing the issue of for example: not being able to see the validation errors (default-messages) returned back to the client, this is what you could do:</p>\n<p><strong>Top Solution 1:</strong>\nSimply add devtools. This should solve the issue. After I did this, all my binding-results were returned back to the client. I recommend you to test this out first:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Solution 2:</strong></p>\n<p>I found out that this is due to using Spring Boot 2.3+\nSo if youre using Spring Boot 2.3 or higher, add this dependency in your pom.xml file as its no longer included within the 'web'-dependency itself.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now its necessary to set 'include binding errors' in <em>java/resources/application.properties</em> to &quot;always&quot;. Same goes for 'message' as well although I think this is optional.</p>\n<pre><code>server.error.include-message=always\nserver.error.include-binding-errors=always\n</code></pre>\n<p><strong>Solution 3:</strong> (before I discovered solution 2 which could be helpful as well)</p>\n<p>So I found out that this is due to having Spring boot 2.3+. But I could not find caution-messages on the new updated usage of @Valid in Spring Boot v2.3+.</p>\n<p>So I ended up switching back to Spring boot v2.2.10 (latest version of 2.2) by adjusting the release version in the pom.xml file like so:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>This worked perfectly for me by rolling back to an older version. Although id like to update my Spring Boot version some day. (Revisit solution 1 &amp; 2)</p>\n"},{"tags":[],"owner":{"account_id":22052500,"reputation":11,"user_id":16316561,"display_name":"T T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626586435,"creation_date":1626554707,"answer_id":68424159,"question_id":59052377,"body_markdown":"I know you are working with a Maven built but I had encountered similar issue that tags would not work integrated in a Gradle built.\r\n\r\nI solved it by getting the right version of the dependency.\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation:2.4.0&#39;\r\n\r\ninstead of\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\nIf anybody knows if this is even correct but it works now.\r\n\r\n\r\n","title":"@valid annotation is not working as expected","body":"<p>I know you are working with a Maven built but I had encountered similar issue that tags would not work integrated in a Gradle built.</p>\n<p>I solved it by getting the right version of the dependency.</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-validation:2.4.0'\n</code></pre>\n<p>instead of</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-validation'\n</code></pre>\n<p>If anybody knows if this is even correct but it works now.</p>\n"},{"tags":[],"owner":{"account_id":276629,"reputation":7322,"user_id":570168,"accept_rate":94,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642332217,"creation_date":1642332217,"answer_id":70729569,"question_id":59052377,"body_markdown":"If you&#39;re using **Kotlin**, you need to use\r\n\r\n```kotlin\r\n  @field:Email() val email: String\r\n```\r\n\r\ninstad of\r\n\r\n```\r\n  @Email() val email: String\r\n```\r\nfor the validation to work.\r\n\r\n\r\nSee https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets and https://stackoverflow.com/a/36521309/570168","title":"@valid annotation is not working as expected","body":"<p>If you're using <strong>Kotlin</strong>, you need to use</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  @field:Email() val email: String\n</code></pre>\n<p>instad of</p>\n<pre><code>  @Email() val email: String\n</code></pre>\n<p>for the validation to work.</p>\n<p>See <a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets</a> and <a href=\"https://stackoverflow.com/a/36521309/570168\">https://stackoverflow.com/a/36521309/570168</a></p>\n"}],"owner":{"account_id":7200349,"reputation":139,"user_id":5497780,"display_name":"karthikmunna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59052471,"answer_count":7,"score":4,"last_activity_date":1642332217,"creation_date":1574775994,"question_id":59052377,"body_markdown":"I am calling an API with the array of objects in the request payload, I have added @valid annotation along the @RequestBody to check if any null properties are sending in my payload. I am expecting if any null data i&#39;m sending it should throw an error. But My code is not throwing an error\r\n\r\n**Below is my Entity Class**\r\n\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @DynamicUpdate\r\n    @Entity\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n\t\r\n\t   @Id\r\n\t   @Column(name = &quot;student_id&quot;)\r\n\t   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t   private Integer studentId;\r\n\r\n       @NotNull\r\n\t   @Column(name = &quot;name&quot;)\r\n       private String name;\r\n\r\n       @NotNull\r\n\t   @Column(name = &quot;gender&quot;)\r\n       private String gender;\r\n\r\n    }\r\n\r\n\r\n**This is my Controller Class**\r\n\r\n\r\n    @RestController\r\n    @CrossOrigin\r\n    public class StudentController {\r\n  \r\n       @PostMapping(&quot;/class/{classId}/student&quot;)\r\n\t   public Student addStudent(@PathVariable Integer classId,@Valid @RequestBody List&lt;Student&gt;  \r\n               student) {\r\n       \r\n         // My logic Comes Here\r\n         return Student;\r\n        }\r\n      }\r\n\r\n**Dependency for Validation**\r\n   \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n**My Request Payload**\r\n\r\n    [{\r\n       &quot;name&quot;:&quot;kiran&quot;,\r\n       &quot;gender&quot;:&quot;male&quot;\r\n     },\r\n     {\r\n        &quot;name&quot;:&quot;divya&quot;\r\n     } \r\n    ]\r\n\r\n    \r\nWhen i send the above payload, i expect an error need to thrown, because i&#39;m not sending gender which is not null, But spring is not throwing any error.\r\n\r\nDo i miss something for @valid to work .\r\n\r\n\r\n","title":"@valid annotation is not working as expected","body":"<p>I am calling an API with the array of objects in the request payload, I have added @valid annotation along the @RequestBody to check if any null properties are sending in my payload. I am expecting if any null data i'm sending it should throw an error. But My code is not throwing an error</p>\n\n<p><strong>Below is my Entity Class</strong></p>\n\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@DynamicUpdate\n@Entity\n@Table(name = \"student\")\npublic class Student {\n\n   @Id\n   @Column(name = \"student_id\")\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Integer studentId;\n\n   @NotNull\n   @Column(name = \"name\")\n   private String name;\n\n   @NotNull\n   @Column(name = \"gender\")\n   private String gender;\n\n}\n</code></pre>\n\n<p><strong>This is my Controller Class</strong></p>\n\n<pre><code>@RestController\n@CrossOrigin\npublic class StudentController {\n\n   @PostMapping(\"/class/{classId}/student\")\n   public Student addStudent(@PathVariable Integer classId,@Valid @RequestBody List&lt;Student&gt;  \n           student) {\n\n     // My logic Comes Here\n     return Student;\n    }\n  }\n</code></pre>\n\n<p><strong>Dependency for Validation</strong></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>My Request Payload</strong></p>\n\n<pre><code>[{\n   \"name\":\"kiran\",\n   \"gender\":\"male\"\n },\n {\n    \"name\":\"divya\"\n } \n]\n</code></pre>\n\n<p>When i send the above payload, i expect an error need to thrown, because i'm not sending gender which is not null, But spring is not throwing any error.</p>\n\n<p>Do i miss something for @valid to work .</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":20338756,"reputation":26,"user_id":14918710,"display_name":"to ad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642329752,"creation_date":1642329752,"answer_id":70729303,"question_id":70729154,"body_markdown":"Looks like the package is just for oracle key vault users.\r\n\r\n 1. Access the Oracle Key Vault management console from the endpoint on\r\n    which you wish to deploy the SDK. The login page to the Oracle Key\r\n    Vault management console appears.\r\n 2. Do not log in. Click the Endpoint\r\n    Enrollment and Software Download link below the Login button.\r\n\r\n 3. Download Software Development Kit\r\n\r\nhttps://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html#GUID-884A8A4D-7D3C-417A-8BB2-3E25F7ED55DE","title":"How to download oracle okvja library to java code - without installing okv server","body":"<p>Looks like the package is just for oracle key vault users.</p>\n<ol>\n<li><p>Access the Oracle Key Vault management console from the endpoint on\nwhich you wish to deploy the SDK. The login page to the Oracle Key\nVault management console appears.</p>\n</li>\n<li><p>Do not log in. Click the Endpoint\nEnrollment and Software Download link below the Login button.</p>\n</li>\n<li><p>Download Software Development Kit</p>\n</li>\n</ol>\n<p><a href=\"https://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html#GUID-884A8A4D-7D3C-417A-8BB2-3E25F7ED55DE\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html#GUID-884A8A4D-7D3C-417A-8BB2-3E25F7ED55DE</a></p>\n"},{"tags":[],"owner":{"account_id":23547262,"reputation":75,"user_id":17590500,"display_name":"Leonardo Manzini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642330997,"creation_date":1642329809,"answer_id":70729307,"question_id":70729154,"body_markdown":"In my research I found this oracle documentation page, speaking about the Oracle Key Vault SDK and a download page, I think this may solve your problem.\r\n\r\nhttps://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html\r\n\r\nTo found the console login screen, try this link below, I think it is very explanatory:\r\n\r\nhttps://docs.oracle.com/cd/E50341_01/doc.1210/e41361.pdf\r\n\r\nThe page 44 has some information that looks like important\r\n\r\n[![login-screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8aGzh.png","title":"How to download oracle okvja library to java code - without installing okv server","body":"<p>In my research I found this oracle documentation page, speaking about the Oracle Key Vault SDK and a download page, I think this may solve your problem.</p>\n<p><a href=\"https://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/key-vault/21.3/okvdv/setting-oracle-key-vault-sdk.html</a></p>\n<p>To found the console login screen, try this link below, I think it is very explanatory:</p>\n<p><a href=\"https://docs.oracle.com/cd/E50341_01/doc.1210/e41361.pdf\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E50341_01/doc.1210/e41361.pdf</a></p>\n<p>The page 44 has some information that looks like important</p>\n<p><a href=\"https://i.stack.imgur.com/8aGzh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8aGzh.png\" alt=\"login-screen\" /></a></p>\n"}],"owner":{"account_id":1253725,"reputation":6634,"user_id":1213618,"accept_rate":96,"display_name":"griffon vulture"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70729303,"answer_count":2,"score":0,"last_activity_date":1642331516,"creation_date":1642328516,"question_id":70729154,"body_markdown":"I want to use this oracle package https://docs.oracle.com/en/database/oracle/key-vault/21.1/okvja/oracle/okv/kmip/package-summary.html\r\n\r\nBut cannot see anywhere a jar I can download.\r\n\r\nWhat is the way to use this package on my code?\r\n\r\nUpdate: The guide says it can be download from an oracle key vault server. but I try to found a place to download without installing the server that is not a simple installation.","title":"How to download oracle okvja library to java code - without installing okv server","body":"<p>I want to use this oracle package <a href=\"https://docs.oracle.com/en/database/oracle/key-vault/21.1/okvja/oracle/okv/kmip/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/key-vault/21.1/okvja/oracle/okv/kmip/package-summary.html</a></p>\n<p>But cannot see anywhere a jar I can download.</p>\n<p>What is the way to use this package on my code?</p>\n<p>Update: The guide says it can be download from an oracle key vault server. but I try to found a place to download without installing the server that is not a simple installation.</p>\n"},{"tags":["java","string","list","collections","set"],"comments":[{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":0,"creation_date":1365089853,"post_id":15815587,"comment_id":22495086,"body_markdown":"If your app involves Spring then it has a utility method [collectionToCommaDelimitedString](http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/util/StringUtils.html#collectionToCommaDelimitedString%28java.util.Collection%29).  I wouldn&#39;t pull the library in just for that but if you&#39;re using it already...","body":"If your app involves Spring then it has a utility method <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/util/StringUtils.html#collectionToCommaDelimitedString%28java.util.Collection%29\" rel=\"nofollow noreferrer\">collectionToCommaDelimitedString</a>.  I wouldn&#39;t pull the library in just for that but if you&#39;re using it already..."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":9,"creation_date":1365089960,"post_id":15815587,"comment_id":22495156,"body_markdown":"`List.toString` does it already, just remove the last and the first characters.","body":"<code>List.toString</code> does it already, just remove the last and the first characters."},{"owner":{"account_id":181901,"reputation":25638,"user_id":416224,"accept_rate":96,"display_name":"Kijewski"},"score":0,"creation_date":1365090314,"post_id":15815587,"comment_id":22495390,"body_markdown":"Including the leading `&quot;, &quot;`?","body":"Including the leading <code>&quot;, &quot;</code>?"},{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":9,"creation_date":1540423073,"post_id":15815587,"comment_id":92864792,"body_markdown":"Java 8 has [a very straightforward way to do this](https://stackoverflow.com/a/10850885/792238): ```String.join(&quot;,&quot;, slist);```","body":"Java 8 has <a href=\"https://stackoverflow.com/a/10850885/792238\">a very straightforward way to do this</a>: <code>String.join(&quot;,&quot;, slist);</code>"},{"owner":{"account_id":5408631,"reputation":4063,"user_id":4306260,"accept_rate":30,"display_name":"User"},"score":5,"creation_date":1568184717,"post_id":15815587,"comment_id":102189716,"body_markdown":"One more candidate:\n`String string = result.stream().collect(Collectors.joining(&quot;, &quot;));`","body":"One more candidate: <code>String string = result.stream().collect(Collectors.joining(&quot;, &quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"down_vote_count":1,"up_vote_count":478,"is_accepted":true,"score":477,"last_activity_date":1642330698,"creation_date":1365089794,"answer_id":15815631,"question_id":15815587,"body_markdown":"Since Java 8:\r\n\r\n    String.join(&quot;,&quot;, slist);\r\n\r\nFrom Apache Commons library:\r\n\r\n    import org.apache.commons.lang3.StringUtils\r\n\r\nUse:\r\n\r\n    StringUtils.join(slist, &#39;,&#39;);\r\n\r\nAnother similar question and answer [here][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63258/1651233","title":"Best way to convert list to comma separated string in java","body":"<p>Since Java 8:</p>\n<pre><code>String.join(&quot;,&quot;, slist);\n</code></pre>\n<p>From Apache Commons library:</p>\n<pre><code>import org.apache.commons.lang3.StringUtils\n</code></pre>\n<p>Use:</p>\n<pre><code>StringUtils.join(slist, ',');\n</code></pre>\n<p>Another similar question and answer <a href=\"https://stackoverflow.com/a/63258/1651233\">here</a></p>\n"},{"tags":[],"owner":{"account_id":633608,"reputation":32281,"user_id":391554,"accept_rate":93,"display_name":"Dan D."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365089803,"creation_date":1365089803,"answer_id":15815637,"question_id":15815587,"body_markdown":"The `Separator` you are using is a UI component. You would be better using a simple `String sep = &quot;, &quot;`.\r\n","title":"Best way to convert list to comma separated string in java","body":"<p>The <code>Separator</code> you are using is a UI component. You would be better using a simple <code>String sep = \", \"</code>.</p>\n"},{"tags":[],"owner":{"account_id":181901,"reputation":25638,"user_id":416224,"accept_rate":96,"display_name":"Kijewski"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1365090563,"creation_date":1365090563,"answer_id":15815891,"question_id":15815587,"body_markdown":"You could count the total length of the string first, and pass it to the StringBuilder constructor. And you do not need to convert the Set first.\r\n\r\n\tSet&lt;String&gt; abc = new HashSet&lt;String&gt;();\r\n\tabc.add(&quot;A&quot;);\r\n\tabc.add(&quot;B&quot;);\r\n\tabc.add(&quot;C&quot;);\r\n\r\n\tString separator = &quot;, &quot;;\r\n\tint total = abc.size() * separator.length();\r\n\tfor (String s : abc) {\r\n\t\ttotal += s.length();\r\n\t}\r\n\r\n\tStringBuilder sb = new StringBuilder(total);\r\n\tfor (String s : abc) {\r\n\t\tsb.append(separator).append(s);\r\n\t}\r\n\r\n\tString result = sb.substring(separator.length()); // remove leading separator\r\n\r\n","title":"Best way to convert list to comma separated string in java","body":"<p>You could count the total length of the string first, and pass it to the StringBuilder constructor. And you do not need to convert the Set first.</p>\n\n<pre><code>Set&lt;String&gt; abc = new HashSet&lt;String&gt;();\nabc.add(\"A\");\nabc.add(\"B\");\nabc.add(\"C\");\n\nString separator = \", \";\nint total = abc.size() * separator.length();\nfor (String s : abc) {\n    total += s.length();\n}\n\nStringBuilder sb = new StringBuilder(total);\nfor (String s : abc) {\n    sb.append(separator).append(s);\n}\n\nString result = sb.substring(separator.length()); // remove leading separator\n</code></pre>\n"}],"owner":{"account_id":895543,"reputation":4499,"user_id":932919,"accept_rate":86,"display_name":"Mad-D"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392837,"favorite_count":0,"down_vote_count":1,"up_vote_count":180,"closed_date":1365114345,"accepted_answer_id":15815631,"answer_count":3,"score":179,"last_activity_date":1642330698,"creation_date":1365089672,"question_id":15815587,"body_markdown":"I have `Set&lt;String&gt; result` &amp; would like to convert it to comma separated string. My approach would be as shown below, but looking for other opinion as well.\r\n\r\n    List&lt;String&gt; slist = new ArrayList&lt;String&gt; (result);\r\n    StringBuilder rString = new StringBuilder();\r\n    \r\n    Separator sep = new Separator(&quot;, &quot;);\r\n    //String sep = &quot;, &quot;;\r\n    for (String each : slist) {\r\n        rString.append(sep).append(each);\r\n    }\r\n    \r\n    return rString;\r\n\r\n","title":"Best way to convert list to comma separated string in java","body":"<p>I have <code>Set&lt;String&gt; result</code> &amp; would like to convert it to comma separated string. My approach would be as shown below, but looking for other opinion as well.</p>\n\n<pre><code>List&lt;String&gt; slist = new ArrayList&lt;String&gt; (result);\nStringBuilder rString = new StringBuilder();\n\nSeparator sep = new Separator(\", \");\n//String sep = \", \";\nfor (String each : slist) {\n    rString.append(sep).append(each);\n}\n\nreturn rString;\n</code></pre>\n"},{"tags":["java","spring-boot","locale","spring-webflux"],"comments":[{"owner":{"account_id":2505472,"reputation":2664,"user_id":2179336,"display_name":"Dhawal Kapil"},"score":0,"creation_date":1592745503,"post_id":62498936,"comment_id":110528321,"body_markdown":"What is the locale you are expecting and what it is returning?","body":"What is the locale you are expecting and what it is returning?"},{"owner":{"account_id":1833925,"reputation":1433,"user_id":1664664,"accept_rate":58,"display_name":"Kevin"},"score":0,"creation_date":1592745644,"post_id":62498936,"comment_id":110528367,"body_markdown":"@DhawalKapil I have `message.properties` and `messages_fr.properties` but webflux always return default locale `en` not `fr`. It&#39;s okay with mvc.","body":"@DhawalKapil I have <code>message.properties</code> and <code>messages_fr.properties</code> but webflux always return default locale <code>en</code> not <code>fr</code>. It&#39;s okay with mvc."},{"owner":{"account_id":2505472,"reputation":2664,"user_id":2179336,"display_name":"Dhawal Kapil"},"score":2,"creation_date":1592747968,"post_id":62498936,"comment_id":110529229,"body_markdown":"I think it depends on the current JVM locale. I am not sure if there is anything Webflux/Web related to it.","body":"I think it depends on the current JVM locale. I am not sure if there is anything Webflux/Web related to it."}],"answers":[{"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1592765944,"creation_date":1592764426,"answer_id":62502873,"question_id":62498936,"body_markdown":"Do not use `LocaleContextHolder` in WebFlux environment but add `Locale` as a method parameter instead:\r\n\r\n```java\r\n@RestController\r\npublic class LocaleController {\r\n    @GetMapping(&quot;/locale&quot;)\r\n    String getLocale(Locale locale) {\r\n        return locale.toLanguageTag();\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```bash\r\n$ curl localhost:8080/locale -H &#39;Accept-Language: en-US&#39;\r\nen-US\r\n$ curl localhost:8080/locale -H &#39;Accept-Language: en-GB&#39;\r\nen-GB\r\n```\r\n\r\nFor more info see:\r\n* [Spring WebFlux. Annotated Controllers. Method Arguments](https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-arguments)","title":"How to get locale in Spring WebFlux?","body":"<p>Do not use <code>LocaleContextHolder</code> in WebFlux environment but add <code>Locale</code> as a method parameter instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class LocaleController {\n    @GetMapping(&quot;/locale&quot;)\n    String getLocale(Locale locale) {\n        return locale.toLanguageTag();\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ curl localhost:8080/locale -H 'Accept-Language: en-US'\nen-US\n$ curl localhost:8080/locale -H 'Accept-Language: en-GB'\nen-GB\n</code></pre>\n<p>For more info see:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-arguments\" rel=\"noreferrer\">Spring WebFlux. Annotated Controllers. Method Arguments</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8936587,"reputation":11,"user_id":6667224,"display_name":"Ajay Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642330410,"creation_date":1642326826,"answer_id":70728964,"question_id":62498936,"body_markdown":"Earlier I was using spring-web dependency in my project and was able to get locale from WebRequest.\r\n\r\nBut when we have migrated project from spring-web to spring-web-flux then we can get locale using LocaleContextHolder as below:\r\n```\r\nLocale locale = LocaleContextHolder.getLocale();\r\n```","title":"How to get locale in Spring WebFlux?","body":"<p>Earlier I was using spring-web dependency in my project and was able to get locale from WebRequest.</p>\n<p>But when we have migrated project from spring-web to spring-web-flux then we can get locale using LocaleContextHolder as below:</p>\n<pre><code>Locale locale = LocaleContextHolder.getLocale();\n</code></pre>\n"}],"owner":{"account_id":1833925,"reputation":1433,"user_id":1664664,"accept_rate":58,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2972,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62502873,"answer_count":2,"score":4,"last_activity_date":1642330410,"creation_date":1592744712,"question_id":62498936,"body_markdown":"I want to get current locale but the context always return default locale. It works with MVC but not with WebFlux.\r\n\r\nThank for your help!\r\n\r\n```\r\npackage co.example.demo.controller;\r\n\r\nimport org.springframework.context.MessageSource;\r\nimport org.springframework.context.i18n.LocaleContextHolder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Locale;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/hello&quot;)\r\npublic class HelloController {\r\n    private final MessageSource messageSource;\r\n\r\n    public HelloController(MessageSource messageSource) {\r\n        this.messageSource = messageSource;\r\n    }\r\n\r\n    @GetMapping\r\n    public String hello() {\r\n        Locale locale = LocaleContextHolder.getLocale();\r\n        return messageSource.getMessage(&quot;hello&quot;, null, locale);\r\n    }\r\n}\r\n```","title":"How to get locale in Spring WebFlux?","body":"<p>I want to get current locale but the context always return default locale. It works with MVC but not with WebFlux.</p>\n<p>Thank for your help!</p>\n<pre><code>package co.example.demo.controller;\n\nimport org.springframework.context.MessageSource;\nimport org.springframework.context.i18n.LocaleContextHolder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Locale;\n\n@RestController\n@RequestMapping(&quot;/hello&quot;)\npublic class HelloController {\n    private final MessageSource messageSource;\n\n    public HelloController(MessageSource messageSource) {\n        this.messageSource = messageSource;\n    }\n\n    @GetMapping\n    public String hello() {\n        Locale locale = LocaleContextHolder.getLocale();\n        return messageSource.getMessage(&quot;hello&quot;, null, locale);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","image","image-processing","convolution"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1642296278,"post_id":70726723,"comment_id":125033259,"body_markdown":"As a suggestion, you could either reduce the size of the output image to compensate or scale the &quot;good part&quot; of the image up to remove the edges - but I hope there is a better solution","body":"As a suggestion, you could either reduce the size of the output image to compensate or scale the &quot;good part&quot; of the image up to remove the edges - but I hope there is a better solution"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1642330235,"post_id":70726723,"comment_id":125037619,"body_markdown":"lots of options https://docs.opencv.org/3.4/d2/de8/group__core__array.html#ga209f2f4869e304c82d07739337eae7c5 there is no &quot;good&quot; solution, the choice depends on the situation. `replicate` or `reflect` might be the most useful on average.","body":"lots of options <a href=\"https://docs.opencv.org/3.4/d2/de8/group__core__array.html#ga209f2f4869e304c82d07739337eae7c5\" rel=\"nofollow noreferrer\">docs.opencv.org/3.4/d2/de8/&hellip;</a> there is no &quot;good&quot; solution, the choice depends on the situation. <code>replicate</code> or <code>reflect</code> might be the most useful on average."},{"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"score":0,"creation_date":1642338827,"post_id":70726723,"comment_id":125039302,"body_markdown":"Thanks guys gives me a good start for moving forward","body":"Thanks guys gives me a good start for moving forward"}],"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642330364,"creation_date":1642295956,"question_id":70726723,"body_markdown":"I&#39;m trying to tidy up some of my github projects for a portfolio and was hoping for some help.\r\n\r\nI have a basic image convolution kernel program in java to apply a filter to an input image. \r\nThe kernels are 3x3 and 5x5 2D arrays and are applied across each pixel in the image. Obviously this causes issues around the edges where 3-5 cells in the kernels will be multiplied against empty values (causing the outer pixels in the image to be black or white)\r\n\r\nBelow are some examples of what I mean (the white pixel bar, not the grey part)\r\n\r\n \r\n[![this is an example of the pixel line across the lefthand side of the image][1]][1]\r\n\r\n\r\n[![This is an example of the pixel line across the top][2]][2]\r\n\r\n\r\nThe following is the crux of the code involving the image processing. \r\n\r\n    for (int xCoord = 0; xCoord &lt; (width); xCoord++) { // -2\r\n\t\t\tfor (int yCoord = 0; yCoord &lt; (height); yCoord++) {\r\n\r\n\t\t\t\t// Output Red, Green and Blue Values\r\n\t\t\t\tint outR, outG, outB, outA;\r\n\r\n\t\t\t\t// Temp red, green, blue values that will contain the total r/g/b values after\r\n\t\t\t\t// kernel multiplication\r\n\t\t\t\tdouble red = 0, green = 0, blue = 0, alpha = 0;\r\n\t\t\t\tint outRGB = 0;\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * Loop over the Kernel (For each cell in kernel)\r\n\t\t\t\t \tThe offset is added to the xCoord and yCoord to follow the footprint of the\r\n\t\t\t\t\tkernel\r\n\t\t\t\t \tThe logic behind below is that all kernels are uneven numbers (so they can\r\n\t\t\t\t \thave a centre pixel, 3x3 5x5 etc),\r\n\t\t\t\t \tthe offset needs to run from negative half their length (rounded down) to the\r\n\t\t\t\t \tpositive of half their length (rounded down)\r\n\t\t\t\t \tThis allows us to input kernels of various sizes (5x5, 9x9 etc) and the\r\n\t\t\t\t \tcalculation should not be thrown off\r\n\t\t\t\t */\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (int xOffset = Math.negateExact(k.getKernels().length / 2); xOffset &lt;= k.getKernels().length\r\n\t\t\t\t\t\t\t/ 2; xOffset++) {\r\n\t\t\t\t\t\tfor (int yOffset = Math.negateExact(k.getKernels().length / 2); yOffset &lt;= k.getKernels().length\r\n\t\t\t\t\t\t\t\t/ 2; yOffset++) {\r\n\r\nThe first 2 loops iterate over each pixel. The second 2 loops are looping over the kernel (A 2D array enum class) The offset is used to loop across the 3x3 or 5x5 kernel at each pixel in the image. \r\n\r\nFollows is my very basic attempt to wrap the pixels sampled so edge pixels will use values at the opposite side of the image but my main question is how would be best to handle these edge cases. If anyone has any pointers of where to start solving this it would be much appreciated. \r\n\r\n    // TODO //very basic wrapping logic\r\n\t\t\t\t\t\t\tint realX = (xCoord - k.getKernels().length / 2 + xOffset + width) % width;\r\n\t\t\t\t\t\t\tint realY = (yCoord - k.getKernels().length / 2 + yOffset + height) % height;\r\n\r\n\t\t\t\t\t\t\tint RGB = image.getRGB((realX), (realY)); // The RGB value for the pixel, will be split out\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// below\r\n\t\t\t\t\t\t\tint A = (RGB &gt;&gt; 24) &amp; 0xFF; // Bitshift 24 to get alpha value\r\n\t\t\t\t\t\t\tint R = (RGB &gt;&gt; 16) &amp; 0xFF; // Bitshift 16 to get Red Value\r\n\t\t\t\t\t\t\tint G = (RGB &gt;&gt; 8) &amp; 0xFF; // Bit Shift 8 to get Green Value\r\n\t\t\t\t\t\t\tint B = (RGB) &amp; 0xFF;\r\n\r\n\t\t\t\t\t\t\t// actual rgb * kernel logic\r\n\t\t\t\t\t\t\tred += (R * (k.getKernels()[yOffset + k.getKernels().length / 2])[xOffset\r\n\t\t\t\t\t\t\t\t\t+ k.getKernels().length / 2] * multiFactor);\r\n\t\t\t\t\t\t\tgreen += (G * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\r\n\t\t\t\t\t\t\t\t\t+ k.getKernels().length / 2] * multiFactor);\r\n\t\t\t\t\t\t\tblue += (B * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\r\n\t\t\t\t\t\t\t\t\t+ k.getKernels().length / 2] * multiFactor);\r\n\t\t\t\t\t\t\talpha += (A * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\r\n\t\t\t\t\t\t\t\t\t+ k.getKernels().length / 2] * multiFactor);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Error&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Logic here prevents pixel going over 255 or under 0\r\n\t\t\t\t// The &quot;winner&quot;of the max between the Colour value or 0(min pixel value) will be\r\n\t\t\t\t// Math.min with 255 (the max value for a pixel)\r\n\t\t\t\toutR = (int) Math.min(Math.max((red + bias), 0), 255);\r\n\t\t\t\toutG = (int) Math.min(Math.max((green + bias), 0), 255);\r\n\t\t\t\toutB = (int) Math.min(Math.max((blue + bias), 0), 255);\r\n\t\t\t\toutA = (int) Math.min(Math.max((alpha + bias), 0), 255);\r\n\r\n\t\t\t\t// Reassembling the separate color channels into one variable again.\r\n\t\t\t\toutRGB = outRGB | (outA &lt;&lt; 24);\r\n\t\t\t\toutRGB = outRGB | (outR &lt;&lt; 16);\r\n\t\t\t\toutRGB = outRGB | (outG &lt;&lt; 8);\r\n\t\t\t\toutRGB = outRGB | outB;\r\n\r\n\t\t\t\t// Setting with the reassembled RGB value\r\n\t\t\t\t// output.setRGB(xCoord, yCoord, outRGB);\r\n\r\nI&#39;m a bit stumped how to proceed but if anyone can suggest efficient ways to handle these edge cases or even point me in the right direction or even some constructive criticism for how to improve any of the code. If anyone&#39;s interested the full project is [here][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uXczA.png\r\n  [2]: https://i.stack.imgur.com/WIW5P.png\r\n  [3]: https://github.com/Timmyctc/ImageProcessing","title":"Handling borders when applying a filter to an image","body":"<p>I'm trying to tidy up some of my github projects for a portfolio and was hoping for some help.</p>\n<p>I have a basic image convolution kernel program in java to apply a filter to an input image.\nThe kernels are 3x3 and 5x5 2D arrays and are applied across each pixel in the image. Obviously this causes issues around the edges where 3-5 cells in the kernels will be multiplied against empty values (causing the outer pixels in the image to be black or white)</p>\n<p>Below are some examples of what I mean (the white pixel bar, not the grey part)</p>\n<p><a href=\"https://i.stack.imgur.com/uXczA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uXczA.png\" alt=\"this is an example of the pixel line across the lefthand side of the image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WIW5P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WIW5P.png\" alt=\"This is an example of the pixel line across the top\" /></a></p>\n<p>The following is the crux of the code involving the image processing.</p>\n<pre><code>for (int xCoord = 0; xCoord &lt; (width); xCoord++) { // -2\n        for (int yCoord = 0; yCoord &lt; (height); yCoord++) {\n\n            // Output Red, Green and Blue Values\n            int outR, outG, outB, outA;\n\n            // Temp red, green, blue values that will contain the total r/g/b values after\n            // kernel multiplication\n            double red = 0, green = 0, blue = 0, alpha = 0;\n            int outRGB = 0;\n\n            /*\n             * Loop over the Kernel (For each cell in kernel)\n                The offset is added to the xCoord and yCoord to follow the footprint of the\n                kernel\n                The logic behind below is that all kernels are uneven numbers (so they can\n                have a centre pixel, 3x3 5x5 etc),\n                the offset needs to run from negative half their length (rounded down) to the\n                positive of half their length (rounded down)\n                This allows us to input kernels of various sizes (5x5, 9x9 etc) and the\n                calculation should not be thrown off\n             */\n            try {\n                for (int xOffset = Math.negateExact(k.getKernels().length / 2); xOffset &lt;= k.getKernels().length\n                        / 2; xOffset++) {\n                    for (int yOffset = Math.negateExact(k.getKernels().length / 2); yOffset &lt;= k.getKernels().length\n                            / 2; yOffset++) {\n</code></pre>\n<p>The first 2 loops iterate over each pixel. The second 2 loops are looping over the kernel (A 2D array enum class) The offset is used to loop across the 3x3 or 5x5 kernel at each pixel in the image.</p>\n<p>Follows is my very basic attempt to wrap the pixels sampled so edge pixels will use values at the opposite side of the image but my main question is how would be best to handle these edge cases. If anyone has any pointers of where to start solving this it would be much appreciated.</p>\n<pre><code>// TODO //very basic wrapping logic\n                        int realX = (xCoord - k.getKernels().length / 2 + xOffset + width) % width;\n                        int realY = (yCoord - k.getKernels().length / 2 + yOffset + height) % height;\n\n                        int RGB = image.getRGB((realX), (realY)); // The RGB value for the pixel, will be split out\n                                                                    // below\n                        int A = (RGB &gt;&gt; 24) &amp; 0xFF; // Bitshift 24 to get alpha value\n                        int R = (RGB &gt;&gt; 16) &amp; 0xFF; // Bitshift 16 to get Red Value\n                        int G = (RGB &gt;&gt; 8) &amp; 0xFF; // Bit Shift 8 to get Green Value\n                        int B = (RGB) &amp; 0xFF;\n\n                        // actual rgb * kernel logic\n                        red += (R * (k.getKernels()[yOffset + k.getKernels().length / 2])[xOffset\n                                + k.getKernels().length / 2] * multiFactor);\n                        green += (G * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\n                                + k.getKernels().length / 2] * multiFactor);\n                        blue += (B * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\n                                + k.getKernels().length / 2] * multiFactor);\n                        alpha += (A * k.getKernels()[yOffset + k.getKernels().length / 2][xOffset\n                                + k.getKernels().length / 2] * multiFactor);\n\n                    }\n                }\n            } catch (ArrayIndexOutOfBoundsException e) {\n                System.out.println(&quot;Error&quot;);\n            }\n\n            // Logic here prevents pixel going over 255 or under 0\n            // The &quot;winner&quot;of the max between the Colour value or 0(min pixel value) will be\n            // Math.min with 255 (the max value for a pixel)\n            outR = (int) Math.min(Math.max((red + bias), 0), 255);\n            outG = (int) Math.min(Math.max((green + bias), 0), 255);\n            outB = (int) Math.min(Math.max((blue + bias), 0), 255);\n            outA = (int) Math.min(Math.max((alpha + bias), 0), 255);\n\n            // Reassembling the separate color channels into one variable again.\n            outRGB = outRGB | (outA &lt;&lt; 24);\n            outRGB = outRGB | (outR &lt;&lt; 16);\n            outRGB = outRGB | (outG &lt;&lt; 8);\n            outRGB = outRGB | outB;\n\n            // Setting with the reassembled RGB value\n            // output.setRGB(xCoord, yCoord, outRGB);\n</code></pre>\n<p>I'm a bit stumped how to proceed but if anyone can suggest efficient ways to handle these edge cases or even point me in the right direction or even some constructive criticism for how to improve any of the code. If anyone's interested the full project is <a href=\"https://github.com/Timmyctc/ImageProcessing\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","android","cordova"],"owner":{"account_id":23955253,"reputation":23,"user_id":17946229,"display_name":"Micha Gruber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642329650,"creation_date":1642329650,"question_id":70729287,"body_markdown":"I&#180;ve tried to setup Cordova for days now. Without success. I tried every recommended solution google. Nothing worked. And I am close to freaking out now. I hope, you can help me.\r\n\r\nWhen I type Cordova requirements, I get the following error:\r\n\r\n&quot;Android SDK: installed true\r\nAndroid target: not installed\r\nCommand failed with exit code 1: avdmanager list target&quot;\r\n\r\nIt looks like this:\r\n[Error][1]\r\n\r\nI tried the following (As recommended by other posts):\r\n\r\n1.) Set Environment variables.\r\n\r\nANDROID_HOME: C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\r\n\r\nANDROID_SDK_ROOT: C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\r\n\r\nJAVA_HOME: C:\\Program Files\\Java\\jdk-16.0.1\r\n\r\nPath:\r\n\r\n      C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\emulator\r\n      C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\gradle\\bin\r\n      C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n      C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\tools\\bin\r\n      C:\\Program Files\\Java\\jdk-16.0.1\\bin\r\nI also tried the Path variables with %ADNROID_HOME%. Same result. \r\n\r\n\r\nThey look like this: \r\n[Path][2] [Other variables][3]\r\n\r\n2.) In Android Studio I added devices with the AVL Manager. I tried API 26, 29 and 30.\r\n\r\n3.) In Android Studio I downloaded all the SKD Tools and added a platform for API 29.\r\n\r\n3.) I downgraded the JDK Version from 17.0.0 to 16.0.1.\r\n\r\n4.) I uninstalled and installed Java 8. \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bKvmw.png\r\n  [2]: https://i.stack.imgur.com/Ha8ib.png\r\n  [3]: https://i.stack.imgur.com/S2FIN.png","title":"Cordova- Error AndroidTarget not installed","body":"<p>Ive tried to setup Cordova for days now. Without success. I tried every recommended solution google. Nothing worked. And I am close to freaking out now. I hope, you can help me.</p>\n<p>When I type Cordova requirements, I get the following error:</p>\n<p>&quot;Android SDK: installed true\nAndroid target: not installed\nCommand failed with exit code 1: avdmanager list target&quot;</p>\n<p>It looks like this:\n<a href=\"https://i.stack.imgur.com/bKvmw.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>I tried the following (As recommended by other posts):</p>\n<p>1.) Set Environment variables.</p>\n<p>ANDROID_HOME: C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk</p>\n<p>ANDROID_SDK_ROOT: C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk</p>\n<p>JAVA_HOME: C:\\Program Files\\Java\\jdk-16.0.1</p>\n<p>Path:</p>\n<pre><code>  C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\emulator\n  C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\gradle\\bin\n  C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\platform-tools\n  C:\\Users\\Micha\\AppData\\Local\\Android\\Sdk\\tools\\bin\n  C:\\Program Files\\Java\\jdk-16.0.1\\bin\n</code></pre>\n<p>I also tried the Path variables with %ADNROID_HOME%. Same result.</p>\n<p>They look like this:\n<a href=\"https://i.stack.imgur.com/Ha8ib.png\" rel=\"nofollow noreferrer\">Path</a> <a href=\"https://i.stack.imgur.com/S2FIN.png\" rel=\"nofollow noreferrer\">Other variables</a></p>\n<p>2.) In Android Studio I added devices with the AVL Manager. I tried API 26, 29 and 30.</p>\n<p>3.) In Android Studio I downloaded all the SKD Tools and added a platform for API 29.</p>\n<p>3.) I downgraded the JDK Version from 17.0.0 to 16.0.1.</p>\n<p>4.) I uninstalled and installed Java 8.</p>\n"},{"tags":["java","spring-boot","webclient"],"answers":[{"tags":[],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642329350,"creation_date":1642329350,"answer_id":70729244,"question_id":70694578,"body_markdown":"I have solve this problem by using `.doOnError()` and `.onErrorReturn()`\r\n\r\nThis is my code below\r\n\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t// API \r\n        DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL); //UriBuilder    DefaultUriBuilderFactory  \r\n        factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY); //encoding  \r\n\r\n        \r\n        HttpClient client = HttpClient.create()\r\n        \t\t.responseTimeout(Duration.ofSeconds(60)); //http response timeout  60 \r\n        \r\n        WebClient wc = WebClient.builder()\r\n        \t\t.uriBuilderFactory(factory) //  uri   uribuilder  \r\n        \t\t.baseUrl(BASE_URL) //baseURI \r\n        \t\t.clientConnector(new ReactorClientHttpConnector(client)) //    \r\n        \t\t.build(); //.\r\n        \r\n        result = new SweatherRootRes();\r\n        \r\n        // type mismatch   \r\n        Mono&lt;SweatherRootRes&gt; response = wc.get()\r\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\r\n                        .queryParam(&quot;serviceKey&quot;, 123)\r\n                        .queryParam(&quot;numOfRows&quot;, swr.getNumOfRows())\r\n                        .queryParam(&quot;pageNo&quot;, swr.getPageNo())\r\n                        .queryParam(&quot;dataType&quot;, swr.getDataType())\r\n                        .queryParam(&quot;base_date&quot;, swr.getBase_date())\r\n                        .queryParam(&quot;base_time&quot;, swr.getBase_time())\r\n                        .queryParam(&quot;nx&quot;, swr.getNx()) //\r\n                        .queryParam(&quot;ny&quot;, swr.getNy()) //\r\n                        .build()) //  uri  \r\n                .retrieve() //http \r\n    \t\t\t.onStatus(HttpStatus::is4xxClientError,\r\n    \t\t\t\t\terror -&gt; Mono.error(new RuntimeException(&quot;API not found&quot;)))\r\n    \t\t\t.onStatus(HttpStatus::is5xxServerError,\r\n    \t\t\t\t\terror -&gt; Mono.error(new RuntimeException(&quot;Server is not responding&quot;)))\r\n                .bodyToMono(SweatherRootRes.class)//Mono  \r\n                .doOnError(e -&gt; logger.error(&quot;ERROR OCCUR!&quot;)) //  \r\n                .onErrorReturn(new SweatherRootRes(true));//    return \r\n        \r\n        //        .   api     .\r\n        response.subscribe(res -&gt; {\r\n        \tif(res.isError()) { // \r\n        \t\tcallBack.failed(null, null); //callBack.failed() \r\n        \t}else {\r\n\t        \tresult.setResponse(res.getResponse()); //response  \r\n\t        \tif(result.getResponse().getBody()!= null) {\r\n\t        \t\tgetTemp(result.getResponse().getBody().getItems()); //  \r\n\t        \t\tlogger.info(temp.toString());\r\n\t            \tcallBack.completed(temp, null); //  callBack \r\n\t            \tcdl.countDown(); //Thread  .\r\n\t        \t}else {\r\n\t        \t\tlogger.error(&quot;http reqeust has failed&quot;);\r\n\t        \t}        \t\t\r\n        \t}\r\n\r\n        });\r\n\t}","title":"How to handle UnsupportedMediaTypeException in Spring Boot?","body":"<p>I have solve this problem by using <code>.doOnError()</code> and <code>.onErrorReturn()</code></p>\n<p>This is my code below</p>\n<pre><code>@Override\npublic void run() {\n    // API \n    DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL); //UriBuilder    DefaultUriBuilderFactory  \n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY); //encoding  \n\n    \n    HttpClient client = HttpClient.create()\n            .responseTimeout(Duration.ofSeconds(60)); //http response timeout  60 \n    \n    WebClient wc = WebClient.builder()\n            .uriBuilderFactory(factory) //  uri   uribuilder  \n            .baseUrl(BASE_URL) //baseURI \n            .clientConnector(new ReactorClientHttpConnector(client)) //    \n            .build(); //.\n    \n    result = new SweatherRootRes();\n    \n    // type mismatch   \n    Mono&lt;SweatherRootRes&gt; response = wc.get()\n            .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\n                    .queryParam(&quot;serviceKey&quot;, 123)\n                    .queryParam(&quot;numOfRows&quot;, swr.getNumOfRows())\n                    .queryParam(&quot;pageNo&quot;, swr.getPageNo())\n                    .queryParam(&quot;dataType&quot;, swr.getDataType())\n                    .queryParam(&quot;base_date&quot;, swr.getBase_date())\n                    .queryParam(&quot;base_time&quot;, swr.getBase_time())\n                    .queryParam(&quot;nx&quot;, swr.getNx()) //\n                    .queryParam(&quot;ny&quot;, swr.getNy()) //\n                    .build()) //  uri  \n            .retrieve() //http \n            .onStatus(HttpStatus::is4xxClientError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;API not found&quot;)))\n            .onStatus(HttpStatus::is5xxServerError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;Server is not responding&quot;)))\n            .bodyToMono(SweatherRootRes.class)//Mono  \n            .doOnError(e -&gt; logger.error(&quot;ERROR OCCUR!&quot;)) //  \n            .onErrorReturn(new SweatherRootRes(true));//    return \n    \n    //        .   api     .\n    response.subscribe(res -&gt; {\n        if(res.isError()) { // \n            callBack.failed(null, null); //callBack.failed() \n        }else {\n            result.setResponse(res.getResponse()); //response  \n            if(result.getResponse().getBody()!= null) {\n                getTemp(result.getResponse().getBody().getItems()); //  \n                logger.info(temp.toString());\n                callBack.completed(temp, null); //  callBack \n                cdl.countDown(); //Thread  .\n            }else {\n                logger.error(&quot;http reqeust has failed&quot;);\n            }               \n        }\n\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70729244,"answer_count":1,"score":0,"last_activity_date":1642329350,"creation_date":1642067765,"question_id":70694578,"body_markdown":"Hello I&#39;m trying to call API by using Webclient in spring boot.\r\n\r\nBut I&#39;m having some issue.\r\n\r\nAlthough the response I requested is a json response, the server gives me an xml response when server error occur.\r\n\r\nSo I am getting UnsupportedMediaTypeException error when server error occur.\r\n\r\nTherefore I would like to make a buisness logic that can send me an email when UnsupportedMediaTypeException error occurs.\r\n\r\nHow can I handle UnsupportedMediaTypeException??\r\n\r\nThe code below is my api call code.\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n    \t// API \r\n        DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL); //UriBuilder    DefaultUriBuilderFactory  \r\n        factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY); //encoding  \r\n    \r\n        \r\n        HttpClient client = HttpClient.create()\r\n        \t\t.responseTimeout(Duration.ofSeconds(60)); //http response timeout  60 \r\n        \r\n        WebClient wc = WebClient.builder()\r\n        \t\t.uriBuilderFactory(factory) //  uri   uribuilder  \r\n        \t\t.baseUrl(BASE_URL) //baseURI \r\n        \t\t.clientConnector(new ReactorClientHttpConnector(client)) //    \r\n        \t\t.build(); //.\r\n        \r\n        result = new SweatherRootRes();\r\n        \r\n        Mono&lt;SweatherRootRes&gt; response = wc.get()\r\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\r\n                        .queryParam(&quot;serviceKey&quot;, swr.getServiceKey())\r\n                        .queryParam(&quot;numOfRows&quot;, swr.getNumOfRows())\r\n                        .queryParam(&quot;pageNo&quot;, swr.getPageNo())\r\n                        .queryParam(&quot;dataType&quot;, swr.getDataType())\r\n                        .queryParam(&quot;base_date&quot;, swr.getBase_date())\r\n                        .queryParam(&quot;base_time&quot;, swr.getBase_time())\r\n                        .queryParam(&quot;nx&quot;, swr.getNx()) //\r\n                        .queryParam(&quot;ny&quot;, swr.getNy()) //\r\n                        .build()) //  uri  \r\n                .retrieve() //http \r\n    \t\t\t.onStatus(HttpStatus::is4xxClientError,\r\n    \t\t\t\t\terror -&gt; Mono.error(new RuntimeException(&quot;API not found&quot;)))\r\n    \t\t\t.onStatus(HttpStatus::is5xxServerError,\r\n    \t\t\t\t\terror -&gt; Mono.error(new RuntimeException(&quot;Server is not responding&quot;)))\r\n                .bodyToMono(SweatherRootRes.class);//Mono  \r\n        \r\n        // type mismatch   \r\n        \r\n        //        .   api     .\r\n        response.subscribe(res -&gt; {\r\n        \tresult.setResponse(res.getResponse());\r\n        \tif(result.getResponse().getBody()!= null) {\r\n        \t\tgetTemp(result.getResponse().getBody().getItems());\r\n        \t\tlogger.info(temp.toString());\r\n            \tcallBack.completed(temp, null);\r\n            \tcdl.countDown();\r\n        \t}else {\r\n        \t\tlogger.error(&quot;http reqeust has failed&quot;);\r\n        \t}\r\n        });\r\n    \t\r\n    } ","title":"How to handle UnsupportedMediaTypeException in Spring Boot?","body":"<p>Hello I'm trying to call API by using Webclient in spring boot.</p>\n<p>But I'm having some issue.</p>\n<p>Although the response I requested is a json response, the server gives me an xml response when server error occur.</p>\n<p>So I am getting UnsupportedMediaTypeException error when server error occur.</p>\n<p>Therefore I would like to make a buisness logic that can send me an email when UnsupportedMediaTypeException error occurs.</p>\n<p>How can I handle UnsupportedMediaTypeException??</p>\n<p>The code below is my api call code.</p>\n<pre><code>@Override\npublic void run() {\n    // API \n    DefaultUriBuilderFactory factory = new DefaultUriBuilderFactory(BASE_URL); //UriBuilder    DefaultUriBuilderFactory  \n    factory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY); //encoding  \n\n    \n    HttpClient client = HttpClient.create()\n            .responseTimeout(Duration.ofSeconds(60)); //http response timeout  60 \n    \n    WebClient wc = WebClient.builder()\n            .uriBuilderFactory(factory) //  uri   uribuilder  \n            .baseUrl(BASE_URL) //baseURI \n            .clientConnector(new ReactorClientHttpConnector(client)) //    \n            .build(); //.\n    \n    result = new SweatherRootRes();\n    \n    Mono&lt;SweatherRootRes&gt; response = wc.get()\n            .uri(uriBuilder -&gt; uriBuilder.path(&quot;/getVilageFcst&quot;)\n                    .queryParam(&quot;serviceKey&quot;, swr.getServiceKey())\n                    .queryParam(&quot;numOfRows&quot;, swr.getNumOfRows())\n                    .queryParam(&quot;pageNo&quot;, swr.getPageNo())\n                    .queryParam(&quot;dataType&quot;, swr.getDataType())\n                    .queryParam(&quot;base_date&quot;, swr.getBase_date())\n                    .queryParam(&quot;base_time&quot;, swr.getBase_time())\n                    .queryParam(&quot;nx&quot;, swr.getNx()) //\n                    .queryParam(&quot;ny&quot;, swr.getNy()) //\n                    .build()) //  uri  \n            .retrieve() //http \n            .onStatus(HttpStatus::is4xxClientError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;API not found&quot;)))\n            .onStatus(HttpStatus::is5xxServerError,\n                    error -&gt; Mono.error(new RuntimeException(&quot;Server is not responding&quot;)))\n            .bodyToMono(SweatherRootRes.class);//Mono  \n    \n    // type mismatch   \n    \n    //        .   api     .\n    response.subscribe(res -&gt; {\n        result.setResponse(res.getResponse());\n        if(result.getResponse().getBody()!= null) {\n            getTemp(result.getResponse().getBody().getItems());\n            logger.info(temp.toString());\n            callBack.completed(temp, null);\n            cdl.countDown();\n        }else {\n            logger.error(&quot;http reqeust has failed&quot;);\n        }\n    });\n    \n} \n</code></pre>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1642329198,"post_id":70728972,"comment_id":125037421,"body_markdown":"The policy is about the file size, which is compressed, not about the uncompressed log size. I&#39;m not sure why you think it would or should do this on the uncompressed file.","body":"The policy is about the file size, which is compressed, not about the uncompressed log size. I&#39;m not sure why you think it would or should do this on the uncompressed file."},{"owner":{"account_id":19878103,"reputation":11,"user_id":14562676,"display_name":"hgxzn"},"score":0,"creation_date":1642330356,"post_id":70728972,"comment_id":125037648,"body_markdown":"My understanding is that when the log file reaches 100MB, the roll is triggered,and then the log file will be compressed,and my question is why still is 100MB after compression","body":"My understanding is that when the log file reaches 100MB, the roll is triggered,and then the log file will be compressed,and my question is why still is 100MB after compression"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642330652,"post_id":70728972,"comment_id":125037701,"body_markdown":"That would be inefficient, I would rather think it compresses while logging (though I haven&#39;t checked if Log4J actually does that).","body":"That would be inefficient, I would rather think it compresses while logging (though I haven&#39;t checked if Log4J actually does that)."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642372551,"post_id":70728972,"comment_id":125047426,"body_markdown":"Mark, Log4j checks the size of the current (uncompressed) file `FDI.log` so the size of the rotated ones should be smaller. My guess is that the configuration was changed many times and at one point `FDI.log` was allowed to grow much larger than 100MB.","body":"Mark, Log4j checks the size of the current (uncompressed) file <code>FDI.log</code> so the size of the rotated ones should be smaller. My guess is that the configuration was changed many times and at one point <code>FDI.log</code> was allowed to grow much larger than 100MB."}],"owner":{"account_id":19878103,"reputation":11,"user_id":14562676,"display_name":"hgxzn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642329298,"creation_date":1642326903,"question_id":70728972,"body_markdown":"The configuration file of Log4j 2 is shown below,the following XML fragment defines policies that rollover the log when the log size reaches hundred megabytes\r\n\r\n```xml\r\n&lt;RollingFile name=&quot;service&quot; fileName=&quot;${log_path}/service/FDI.log&quot;\r\n                         filePattern=&quot;${log_path}/service/$${date:yyyyMMdd}/proc-FDI-service-${env:HOST_IP}-%d{yyyyMMdd}-%i.log.zip&quot;\r\n                         filePermissions=&quot;rwxrwxrwx&quot;\r\n                         &gt;\r\n\r\n        &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d [%t] [%X{FLOWNO}] [%X{IP}] (%c.%M:%L) [%-5p] - %m%n&lt;/Pattern&gt;\r\n        &lt;/PatternLayout&gt;\r\n\r\n        &lt;Policies&gt;                               \r\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;                               \r\n                &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\r\n        &lt;/Policies&gt;\r\n\r\n        &lt;DefaultRolloverStrategy max=&quot;999&quot; compressionLevel=&quot;9&quot;/&gt;\r\n&lt;/RollingFile&gt;\r\n```\r\n\r\nIndeed, a compressed file was generated.\r\n\r\nWhy still is it 100MB after compression?\r\n\r\n```none\r\n-rwxrwxrwx 1 dcits dcits 101M Jan 16 17:00 proc-FDI-service--20220116-3.log.zip\r\n```","title":"Why does Log4j SizeBasedTriggerPolicy use the compressed size as a trigger to roll-over?","body":"<p>The configuration file of Log4j 2 is shown below,the following XML fragment defines policies that rollover the log when the log size reaches hundred megabytes</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RollingFile name=&quot;service&quot; fileName=&quot;${log_path}/service/FDI.log&quot;\n                         filePattern=&quot;${log_path}/service/$${date:yyyyMMdd}/proc-FDI-service-${env:HOST_IP}-%d{yyyyMMdd}-%i.log.zip&quot;\n                         filePermissions=&quot;rwxrwxrwx&quot;\n                         &gt;\n\n        &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d [%t] [%X{FLOWNO}] [%X{IP}] (%c.%M:%L) [%-5p] - %m%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n\n        &lt;Policies&gt;                               \n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;                               \n                &lt;SizeBasedTriggeringPolicy size=&quot;100MB&quot;/&gt;\n        &lt;/Policies&gt;\n\n        &lt;DefaultRolloverStrategy max=&quot;999&quot; compressionLevel=&quot;9&quot;/&gt;\n&lt;/RollingFile&gt;\n</code></pre>\n<p>Indeed, a compressed file was generated.</p>\n<p>Why still is it 100MB after compression?</p>\n<pre class=\"lang-none prettyprint-override\"><code>-rwxrwxrwx 1 dcits dcits 101M Jan 16 17:00 proc-FDI-service--20220116-3.log.zip\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":14931065,"reputation":111,"user_id":10780453,"display_name":"Sathishkumar G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642328557,"creation_date":1642321565,"answer_id":70728440,"question_id":70727670,"body_markdown":"Add this code on CartActivity \r\n```\r\nrecycler_cart.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n```\r\nonCreate","title":"Firebase data not displaying in Recycler view. How do I display user specific data from firebase in recyclerview?","body":"<p>Add this code on CartActivity</p>\n<pre><code>recycler_cart.setLayoutManager(new LinearLayoutManager(getActivity()));\n</code></pre>\n<p>onCreate</p>\n"}],"owner":{"account_id":21576434,"reputation":17,"user_id":15908480,"display_name":"Francis Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70728440,"answer_count":1,"score":1,"last_activity_date":1642328775,"creation_date":1642311886,"question_id":70727670,"body_markdown":"I have attached the firebase data image at the bottom for reference. I have a list of users. In that few users have a node called Cart. I need to display the data in the cart for that specific user. \r\n\r\nBelow is my Activity code\r\n\r\n````\r\npackage com.shopping.grocery_ekart.Activities;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.shopping.grocery_ekart.Adapters.AdapterOrderUser;\r\nimport com.shopping.grocery_ekart.Adapters.AdapterProductUser;\r\nimport com.shopping.grocery_ekart.Adapters.CartAdapter;\r\nimport com.shopping.grocery_ekart.Models.CartModel;\r\nimport com.shopping.grocery_ekart.Models.ModelOrderUser;\r\nimport com.shopping.grocery_ekart.Models.ModelProduct;\r\nimport com.shopping.grocery_ekart.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class CartActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth firebaseAuth;\r\n    private RecyclerView recycler_cart;\r\n\r\n    private ArrayList&lt;CartModel&gt; cartList;\r\n    private CartAdapter cartAdapter;\r\n    \r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart);\r\n        \r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n\r\n        recycler_cart = findViewById(R.id.recycler_cart);\r\n        \r\n        loadCartItems();\r\n    }\r\n\r\n    private void loadCartItems() {\r\n        //init list\r\n        //get orders\r\n        cartList = new ArrayList&lt;&gt;();\r\n        String timestamp = &quot;&quot;+System.currentTimeMillis();\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;Cart&quot;);\r\n        reference.orderByChild(&quot;uid&quot;).equalTo(firebaseAuth.getUid())\r\n\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        //clear list before adding item\r\n                        cartList.clear();\r\n                        for (DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                            CartModel cartModel = ds.getValue(CartModel.class);\r\n                            cartList.add(cartModel);\r\n\r\n                        }\r\n\r\n                        //setup adapter\r\n                        cartAdapter = new CartAdapter(CartActivity.this, cartList);\r\n                        //set adapter\r\n                        recycler_cart.setAdapter(cartAdapter);\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n    }\r\n}\r\n````\r\n\r\nHere is my adapter class\r\n\r\n````\r\npackage com.shopping.grocery_ekart.Adapters;\r\n\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.shopping.grocery_ekart.Models.CartModel;\r\nimport com.shopping.grocery_ekart.Models.ModelProduct;\r\nimport com.shopping.grocery_ekart.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class CartAdapter extends RecyclerView.Adapter&lt;CartAdapter.HolderCart&gt; {\r\n\r\n    private Context context;\r\n    public ArrayList&lt;CartModel&gt; cartList;\r\n\r\n    private FirebaseAuth firebaseAuth;\r\n\r\n    public CartAdapter(Context context, ArrayList&lt;CartModel&gt; cartList) {\r\n        this.context = context;\r\n        this.cartList = cartList;\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public HolderCart onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.cart_itmes, parent, false);\r\n        return new HolderCart(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull HolderCart holder, int position) {\r\n        //get data\r\n        CartModel cartModel = cartList.get(position);\r\n        String addedBy = cartModel.getAddedBy();\r\n        String itemId = cartModel.getItem_Id();\r\n        String productId = cartModel.getItem_PID();\r\n        String title = cartModel.getItem_Name();\r\n        String priceEach = cartModel.getItem_Price_Each();\r\n        String price = cartModel.getItem_Price();\r\n        String quantity = cartModel.getItem_Quantity();\r\n        String availableStock = cartModel.getAvailable_Stock();\r\n\r\n        //set data\r\n        holder.txtName.setText(title);\r\n        holder.txtQuantity.setText(quantity);\r\n        holder.txtPrice.setText(&quot;&quot; + price);\r\n        holder.priceEach.setText(&quot;&quot; + priceEach);\r\n        holder.availability.setText(availableStock);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return cartList.size();\r\n    }\r\n\r\n    class HolderCart extends RecyclerView.ViewHolder {\r\n\r\n        private TextView txtName, txtQuantity, txtPrice, priceEach, availability;\r\n        private ImageView imageView, btnMinus, btnPlus, btnDelete;\r\n\r\n        public HolderCart(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            //init ui views\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n            txtQuantity = itemView.findViewById(R.id.txtQuantity);\r\n            txtPrice = itemView.findViewById(R.id.txtPrice);\r\n            priceEach = itemView.findViewById(R.id.priceEach);\r\n            imageView = itemView.findViewById(R.id.imageView);\r\n            btnMinus = itemView.findViewById(R.id.btnMinus);\r\n            btnPlus = itemView.findViewById(R.id.btnPlus);\r\n            btnDelete = itemView.findViewById(R.id.btnDelete);\r\n            availability = itemView.findViewById(R.id.availability);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n````\r\n\r\nHere is my Model class\r\n````\r\npackage com.shopping.grocery_ekart.Models;\r\n\r\n\r\npublic class CartModel {\r\n\r\n    private String AddedBy, Item_Id, Item_PID, Item_Name, Item_Price_Each, Item_Price, Item_Quantity, Available_Stock;\r\n\r\n    public CartModel() {\r\n\r\n    }\r\n\r\n    public CartModel(String addedBy, String itemId, String productId, String title, String priceEach,\r\n                     String price, String quantity, String availableStock) {\r\n\r\n        AddedBy = addedBy;\r\n        Item_Id = itemId;\r\n        Item_PID = productId;\r\n        Item_Name = title;\r\n        Item_Price_Each = priceEach;\r\n        Item_Price = price;\r\n        Item_Quantity = quantity;\r\n        Available_Stock = availableStock;\r\n\r\n    }\r\n\r\n    public String getAddedBy() {\r\n        return AddedBy;\r\n    }\r\n\r\n    public void setAddedBy(String addedBy) {\r\n        AddedBy = addedBy;\r\n    }\r\n\r\n    public String getItem_Id() {\r\n        return Item_Id;\r\n    }\r\n\r\n    public void setItem_Id(String item_Id) {\r\n        Item_Id = item_Id;\r\n    }\r\n\r\n    public String getItem_PID() {\r\n        return Item_PID;\r\n    }\r\n\r\n    public void setItem_PID(String item_PID) {\r\n        Item_PID = item_PID;\r\n    }\r\n\r\n    public String getItem_Name() {\r\n        return Item_Name;\r\n    }\r\n\r\n    public void setItem_Name(String item_Name) {\r\n        Item_Name = item_Name;\r\n    }\r\n\r\n    public String getItem_Price_Each() {\r\n        return Item_Price_Each;\r\n    }\r\n\r\n    public void setItem_Price_Each(String item_Price_Each) {\r\n        Item_Price_Each = item_Price_Each;\r\n    }\r\n\r\n    public String getItem_Price() {\r\n        return Item_Price;\r\n    }\r\n\r\n    public void setItem_Price(String item_Price) {\r\n        Item_Price = item_Price;\r\n    }\r\n\r\n    public String getItem_Quantity() {\r\n        return Item_Quantity;\r\n    }\r\n\r\n    public void setItem_Quantity(String item_Quantity) {\r\n        Item_Quantity = item_Quantity;\r\n    }\r\n\r\n    public String getAvailable_Stock() {\r\n        return Available_Stock;\r\n    }\r\n\r\n    public void setAvailable_Stock(String available_Stock) {\r\n        Available_Stock = available_Stock;\r\n    }\r\n}\r\n````\r\n\r\nI have a list of users. In that few users have a node called Cart. I need to display the data in the cart for that specific user. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PUsV0.png","title":"Firebase data not displaying in Recycler view. How do I display user specific data from firebase in recyclerview?","body":"<p>I have attached the firebase data image at the bottom for reference. I have a list of users. In that few users have a node called Cart. I need to display the data in the cart for that specific user.</p>\n<p>Below is my Activity code</p>\n<pre><code>package com.shopping.grocery_ekart.Activities;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.shopping.grocery_ekart.Adapters.AdapterOrderUser;\nimport com.shopping.grocery_ekart.Adapters.AdapterProductUser;\nimport com.shopping.grocery_ekart.Adapters.CartAdapter;\nimport com.shopping.grocery_ekart.Models.CartModel;\nimport com.shopping.grocery_ekart.Models.ModelOrderUser;\nimport com.shopping.grocery_ekart.Models.ModelProduct;\nimport com.shopping.grocery_ekart.R;\n\nimport java.util.ArrayList;\n\npublic class CartActivity extends AppCompatActivity {\n\n    private FirebaseAuth firebaseAuth;\n    private RecyclerView recycler_cart;\n\n    private ArrayList&lt;CartModel&gt; cartList;\n    private CartAdapter cartAdapter;\n    \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_cart);\n        \n        firebaseAuth = FirebaseAuth.getInstance();\n\n        recycler_cart = findViewById(R.id.recycler_cart);\n        \n        loadCartItems();\n    }\n\n    private void loadCartItems() {\n        //init list\n        //get orders\n        cartList = new ArrayList&lt;&gt;();\n        String timestamp = &quot;&quot;+System.currentTimeMillis();\n\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;Cart&quot;);\n        reference.orderByChild(&quot;uid&quot;).equalTo(firebaseAuth.getUid())\n\n                .addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                        //clear list before adding item\n                        cartList.clear();\n                        for (DataSnapshot ds : dataSnapshot.getChildren()) {\n                            CartModel cartModel = ds.getValue(CartModel.class);\n                            cartList.add(cartModel);\n\n                        }\n\n                        //setup adapter\n                        cartAdapter = new CartAdapter(CartActivity.this, cartList);\n                        //set adapter\n                        recycler_cart.setAdapter(cartAdapter);\n\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n    }\n}\n</code></pre>\n<p>Here is my adapter class</p>\n<pre><code>package com.shopping.grocery_ekart.Adapters;\n\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.shopping.grocery_ekart.Models.CartModel;\nimport com.shopping.grocery_ekart.Models.ModelProduct;\nimport com.shopping.grocery_ekart.R;\n\nimport java.util.ArrayList;\n\n\npublic class CartAdapter extends RecyclerView.Adapter&lt;CartAdapter.HolderCart&gt; {\n\n    private Context context;\n    public ArrayList&lt;CartModel&gt; cartList;\n\n    private FirebaseAuth firebaseAuth;\n\n    public CartAdapter(Context context, ArrayList&lt;CartModel&gt; cartList) {\n        this.context = context;\n        this.cartList = cartList;\n\n        firebaseAuth = FirebaseAuth.getInstance();\n    }\n\n\n    @NonNull\n    @Override\n    public HolderCart onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.cart_itmes, parent, false);\n        return new HolderCart(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull HolderCart holder, int position) {\n        //get data\n        CartModel cartModel = cartList.get(position);\n        String addedBy = cartModel.getAddedBy();\n        String itemId = cartModel.getItem_Id();\n        String productId = cartModel.getItem_PID();\n        String title = cartModel.getItem_Name();\n        String priceEach = cartModel.getItem_Price_Each();\n        String price = cartModel.getItem_Price();\n        String quantity = cartModel.getItem_Quantity();\n        String availableStock = cartModel.getAvailable_Stock();\n\n        //set data\n        holder.txtName.setText(title);\n        holder.txtQuantity.setText(quantity);\n        holder.txtPrice.setText(&quot;&quot; + price);\n        holder.priceEach.setText(&quot;&quot; + priceEach);\n        holder.availability.setText(availableStock);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return cartList.size();\n    }\n\n    class HolderCart extends RecyclerView.ViewHolder {\n\n        private TextView txtName, txtQuantity, txtPrice, priceEach, availability;\n        private ImageView imageView, btnMinus, btnPlus, btnDelete;\n\n        public HolderCart(@NonNull View itemView) {\n            super(itemView);\n\n            //init ui views\n            txtName = itemView.findViewById(R.id.txtName);\n            txtQuantity = itemView.findViewById(R.id.txtQuantity);\n            txtPrice = itemView.findViewById(R.id.txtPrice);\n            priceEach = itemView.findViewById(R.id.priceEach);\n            imageView = itemView.findViewById(R.id.imageView);\n            btnMinus = itemView.findViewById(R.id.btnMinus);\n            btnPlus = itemView.findViewById(R.id.btnPlus);\n            btnDelete = itemView.findViewById(R.id.btnDelete);\n            availability = itemView.findViewById(R.id.availability);\n\n        }\n    }\n\n}\n</code></pre>\n<p>Here is my Model class</p>\n<pre><code>package com.shopping.grocery_ekart.Models;\n\n\npublic class CartModel {\n\n    private String AddedBy, Item_Id, Item_PID, Item_Name, Item_Price_Each, Item_Price, Item_Quantity, Available_Stock;\n\n    public CartModel() {\n\n    }\n\n    public CartModel(String addedBy, String itemId, String productId, String title, String priceEach,\n                     String price, String quantity, String availableStock) {\n\n        AddedBy = addedBy;\n        Item_Id = itemId;\n        Item_PID = productId;\n        Item_Name = title;\n        Item_Price_Each = priceEach;\n        Item_Price = price;\n        Item_Quantity = quantity;\n        Available_Stock = availableStock;\n\n    }\n\n    public String getAddedBy() {\n        return AddedBy;\n    }\n\n    public void setAddedBy(String addedBy) {\n        AddedBy = addedBy;\n    }\n\n    public String getItem_Id() {\n        return Item_Id;\n    }\n\n    public void setItem_Id(String item_Id) {\n        Item_Id = item_Id;\n    }\n\n    public String getItem_PID() {\n        return Item_PID;\n    }\n\n    public void setItem_PID(String item_PID) {\n        Item_PID = item_PID;\n    }\n\n    public String getItem_Name() {\n        return Item_Name;\n    }\n\n    public void setItem_Name(String item_Name) {\n        Item_Name = item_Name;\n    }\n\n    public String getItem_Price_Each() {\n        return Item_Price_Each;\n    }\n\n    public void setItem_Price_Each(String item_Price_Each) {\n        Item_Price_Each = item_Price_Each;\n    }\n\n    public String getItem_Price() {\n        return Item_Price;\n    }\n\n    public void setItem_Price(String item_Price) {\n        Item_Price = item_Price;\n    }\n\n    public String getItem_Quantity() {\n        return Item_Quantity;\n    }\n\n    public void setItem_Quantity(String item_Quantity) {\n        Item_Quantity = item_Quantity;\n    }\n\n    public String getAvailable_Stock() {\n        return Available_Stock;\n    }\n\n    public void setAvailable_Stock(String available_Stock) {\n        Available_Stock = available_Stock;\n    }\n}\n</code></pre>\n<p>I have a list of users. In that few users have a node called Cart. I need to display the data in the cart for that specific user.</p>\n<p><img src=\"https://i.stack.imgur.com/PUsV0.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":49768,"reputation":1823,"user_id":148332,"accept_rate":83,"display_name":"reef"},"score":0,"creation_date":1299660459,"post_id":5243233,"comment_id":5902237,"body_markdown":"Waht you want is to call your method and if its execution time exceeds a certain amount the returning String is a constant?","body":"Waht you want is to call your method and if its execution time exceeds a certain amount the returning String is a constant?"},{"owner":{"account_id":105921,"reputation":15046,"user_id":282383,"accept_rate":83,"display_name":"London"},"score":0,"creation_date":1299660590,"post_id":5243233,"comment_id":5902261,"body_markdown":"@reef nop, when method x which returns some String reaches i.e. 6 seconds running time that it returns some error string .. or just have some kind of callback which I can use to handle the time error.","body":"@reef nop, when method x which returns some String reaches i.e. 6 seconds running time that it returns some error string .. or just have some kind of callback which I can use to handle the time error."}],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1642326763,"creation_date":1299660479,"answer_id":5243249,"question_id":5243233,"body_markdown":"The [Guava library][1] has a very nice [`TimeLimiter`][2] that lets you do this on any method that&#39;s defined by an interface. It can generate a proxy for your object that has a &quot;built-in&quot; timeout.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/util/concurrent/TimeLimiter.java","title":"Set running time limit on a method in java","body":"<p>The <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava library</a> has a very nice <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/util/concurrent/TimeLimiter.java\" rel=\"nofollow noreferrer\"><code>TimeLimiter</code></a> that lets you do this on any method that's defined by an interface. It can generate a proxy for your object that has a &quot;built-in&quot; timeout.</p>\n"},{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1642328668,"creation_date":1299661074,"answer_id":5243339,"question_id":5243233,"body_markdown":"I did something similar in the past when spawning an external process with `Runtime.getRuntime().exec(command)`. I think you could do something like this within your method:\r\n\r\n```java\r\nTimer timer = new Timer(true);\r\nInterruptTimerTask interruptTimerTask = new InterruptTimerTask(Thread.currentThread());\r\ntimer.schedule(interruptTimerTask, waitTimeout);\r\ntry {\r\n    // put here the portion of code that may take more than &quot;waitTimeout&quot;\r\n}\r\ncatch (InterruptedException e) {\r\n    log.error(&quot;timeout exeeded&quot;);\r\n}\r\nfinally {\r\n    timer.cancel();\r\n}\r\n```\r\n\r\nand here is `InterruptTimerTask`\r\n\r\n```java\r\n/*\r\n * A TimerTask that interrupts the specified thread when run.\r\n */\r\nprotected class InterruptTimerTask extends TimerTask {\r\n\r\n    private Thread theTread;\r\n    \r\n    public InterruptTimerTask(Thread theTread) {\r\n        this.theTread = theTread;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        theTread.interrupt();\r\n    }\r\n}\r\n```","title":"Set running time limit on a method in java","body":"<p>I did something similar in the past when spawning an external process with <code>Runtime.getRuntime().exec(command)</code>. I think you could do something like this within your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Timer timer = new Timer(true);\nInterruptTimerTask interruptTimerTask = new InterruptTimerTask(Thread.currentThread());\ntimer.schedule(interruptTimerTask, waitTimeout);\ntry {\n    // put here the portion of code that may take more than &quot;waitTimeout&quot;\n}\ncatch (InterruptedException e) {\n    log.error(&quot;timeout exeeded&quot;);\n}\nfinally {\n    timer.cancel();\n}\n</code></pre>\n<p>and here is <code>InterruptTimerTask</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * A TimerTask that interrupts the specified thread when run.\n */\nprotected class InterruptTimerTask extends TimerTask {\n\n    private Thread theTread;\n    \n    public InterruptTimerTask(Thread theTread) {\n        this.theTread = theTread;\n    }\n\n    @Override\n    public void run() {\n        theTread.interrupt();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108313,"reputation":861,"user_id":287566,"accept_rate":10,"display_name":"Hlex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338299072,"creation_date":1338299072,"answer_id":10800423,"question_id":5243233,"body_markdown":"As answered of @MarcoS\r\n\r\nI found timeout is not  raised if method is locking something and not release cpu time to Timer.\r\nThen Timer cannot start new thread.\r\nSo I change a bit by start Thread immediately and sleep inside thread.\r\n\r\n\t\t\tInterruptTimerTaskAddDel interruptTimerTask = new InterruptTimerTaskAddDel(\r\n\t\t\t\t\tThread.currentThread(),timeout_msec);\r\n\t\t\t\r\n\t\t\ttimer.schedule(interruptTimerTask, 0);\r\n\r\n\t\t\t/*\r\n\t * A TimerTask that interrupts the specified thread when run.\r\n\t */\r\n\tclass InterruptTimerTaskAddDel extends TimerTask {\r\n\r\n\t\tprivate Thread theTread;\r\n\t\tprivate long timeout;\r\n\r\n\t\tpublic InterruptTimerTaskAddDel(Thread theTread,long i_timeout) {\r\n\t\t\tthis.theTread = theTread;\r\n\t\t\ttimeout=i_timeout;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\tThread.currentThread().sleep(timeout);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace(System.err);\r\n\t\t\t}\r\n\t\t\ttheTread.interrupt();\r\n\t\t}\r\n\r\n\t}\r\n","title":"Set running time limit on a method in java","body":"<p>As answered of @MarcoS</p>\n\n<p>I found timeout is not  raised if method is locking something and not release cpu time to Timer.\nThen Timer cannot start new thread.\nSo I change a bit by start Thread immediately and sleep inside thread.</p>\n\n<pre><code>        InterruptTimerTaskAddDel interruptTimerTask = new InterruptTimerTaskAddDel(\n                Thread.currentThread(),timeout_msec);\n\n        timer.schedule(interruptTimerTask, 0);\n\n        /*\n * A TimerTask that interrupts the specified thread when run.\n */\nclass InterruptTimerTaskAddDel extends TimerTask {\n\n    private Thread theTread;\n    private long timeout;\n\n    public InterruptTimerTaskAddDel(Thread theTread,long i_timeout) {\n        this.theTread = theTread;\n        timeout=i_timeout;\n    }\n\n    @Override\n    public void run() {\n        try {\n            Thread.currentThread().sleep(timeout);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace(System.err);\n        }\n        theTread.interrupt();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403285298,"creation_date":1365184699,"answer_id":15840448,"question_id":5243233,"body_markdown":"You can use AOP and a [`@Timeable`](http://aspects.jcabi.com/apidocs-0.7.16/com/jcabi/aspects/Timeable.html) annotation from [jcabi-aspects](http://aspects.jcabi.com/annotation-timeable.html) (I&#39;m a developer):\r\n\r\n    @Timeable(limit = 1, unit = TimeUnit.SECONDS)\r\n    String load(String resource) {\r\n      while (true) {\r\n        if (Thread.currentThread.isInterrupted()) {\r\n          throw new IllegalStateException(&quot;time out&quot;);\r\n        }\r\n        // execution as usual\r\n      }\r\n    }\r\n\r\nWhen time limit is reached your thread will get `interrupted()` flag set to `true` and it&#39;s your job to handle this situation correctly and to stop execution.\r\n\r\nAlso, check this blog post: http://www.yegor256.com/2014/06/20/limit-method-execution-time.html","title":"Set running time limit on a method in java","body":"<p>You can use AOP and a <a href=\"http://aspects.jcabi.com/apidocs-0.7.16/com/jcabi/aspects/Timeable.html\" rel=\"nofollow\"><code>@Timeable</code></a> annotation from <a href=\"http://aspects.jcabi.com/annotation-timeable.html\" rel=\"nofollow\">jcabi-aspects</a> (I'm a developer):</p>\n\n<pre><code>@Timeable(limit = 1, unit = TimeUnit.SECONDS)\nString load(String resource) {\n  while (true) {\n    if (Thread.currentThread.isInterrupted()) {\n      throw new IllegalStateException(\"time out\");\n    }\n    // execution as usual\n  }\n}\n</code></pre>\n\n<p>When time limit is reached your thread will get <code>interrupted()</code> flag set to <code>true</code> and it's your job to handle this situation correctly and to stop execution.</p>\n\n<p>Also, check this blog post: <a href=\"http://www.yegor256.com/2014/06/20/limit-method-execution-time.html\" rel=\"nofollow\">http://www.yegor256.com/2014/06/20/limit-method-execution-time.html</a></p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613750881,"creation_date":1613745966,"answer_id":66279725,"question_id":5243233,"body_markdown":"Here is an example using Guava `SimpleTimeLimiter`\r\n\r\n```\r\nimport com.google.common.util.concurrent.SimpleTimeLimiter;\r\nimport com.google.common.util.concurrent.TimeLimiter;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\nclass TimeoutExample {\r\n\r\n    public static void main(String[] args) throws InterruptedException, TimeoutException, ExecutionException {\r\n        TimeLimiter timeLimiter = SimpleTimeLimiter.create(Executors.newSingleThreadExecutor());\r\n        Duration timeout = Duration.ofMillis(500);\r\n\r\n        String result = timeLimiter.callWithTimeout(() -&gt; possiblyLongMethod(100), timeout); // will return\r\n        System.out.println(result);\r\n        String result2 = timeLimiter.callWithTimeout(() -&gt; possiblyLongMethod(1000), timeout); // will timeout\r\n        System.out.println(result2);\r\n\r\n    }\r\n\r\n    public static String possiblyLongMethod(int runtime) throws InterruptedException {\r\n        Thread.sleep(runtime);\r\n        return &quot;Ran for &quot; + runtime + &quot;ms&quot;;\r\n    }\r\n}\r\n```\r\nThe first call will return sucessfully as the call only takes 100ms, but the second will fail with a `TimeoutException` as it would take 1000ms","title":"Set running time limit on a method in java","body":"<p>Here is an example using Guava <code>SimpleTimeLimiter</code></p>\n<pre><code>import com.google.common.util.concurrent.SimpleTimeLimiter;\nimport com.google.common.util.concurrent.TimeLimiter;\n\nimport java.time.Duration;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeoutException;\n\nclass TimeoutExample {\n\n    public static void main(String[] args) throws InterruptedException, TimeoutException, ExecutionException {\n        TimeLimiter timeLimiter = SimpleTimeLimiter.create(Executors.newSingleThreadExecutor());\n        Duration timeout = Duration.ofMillis(500);\n\n        String result = timeLimiter.callWithTimeout(() -&gt; possiblyLongMethod(100), timeout); // will return\n        System.out.println(result);\n        String result2 = timeLimiter.callWithTimeout(() -&gt; possiblyLongMethod(1000), timeout); // will timeout\n        System.out.println(result2);\n\n    }\n\n    public static String possiblyLongMethod(int runtime) throws InterruptedException {\n        Thread.sleep(runtime);\n        return &quot;Ran for &quot; + runtime + &quot;ms&quot;;\n    }\n}\n</code></pre>\n<p>The first call will return sucessfully as the call only takes 100ms, but the second will fail with a <code>TimeoutException</code> as it would take 1000ms</p>\n"}],"owner":{"account_id":105921,"reputation":15046,"user_id":282383,"accept_rate":83,"display_name":"London"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22797,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":5243249,"answer_count":5,"score":10,"last_activity_date":1642328668,"creation_date":1299660350,"question_id":5243233,"body_markdown":"I have a method that returns a String.\n\nIs it possible that after a certain time, if threshold is excedeed for that method, to return some specific string? ","title":"Set running time limit on a method in java","body":"<p>I have a method that returns a String.</p>\n<p>Is it possible that after a certain time, if threshold is excedeed for that method, to return some specific string?</p>\n"},{"tags":["java","java.util.scanner","do-while"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643015962,"post_id":70719054,"comment_id":125218605,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":15008822,"reputation":105,"user_id":10833918,"display_name":"nsky80"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642224585,"creation_date":1642224585,"answer_id":70719095,"question_id":70719054,"body_markdown":"You are taking user&#39;s choice in retake variable so check while condition with retake. Like below:\r\n\r\n        // declare retake variable in outer scope\r\n        string retake;\r\n        do{\r\n\r\n           //String retake;\r\n    \r\n        /**\r\n            Put your code logic here!\r\n         */\r\n    \r\n    \r\n        System.out.println(&quot;Would you like to play again? Type in Y for yes or N for no &quot;);\r\n    \r\n        retake = kbd.nextLine();\r\n      } while ( retake.equalsIgnoreCase(&quot;Y&quot;));\r\n     }\r\n    }\r\n\r\n","title":"How can I let the user input repeat my code in java?","body":"<p>You are taking user's choice in retake variable so check while condition with retake. Like below:</p>\n<pre><code>    // declare retake variable in outer scope\n    string retake;\n    do{\n\n       //String retake;\n\n    /**\n        Put your code logic here!\n     */\n\n\n    System.out.println(&quot;Would you like to play again? Type in Y for yes or N for no &quot;);\n\n    retake = kbd.nextLine();\n  } while ( retake.equalsIgnoreCase(&quot;Y&quot;));\n }\n}\n</code></pre>\n"}],"owner":{"account_id":23841224,"reputation":1,"user_id":17846242,"display_name":"Aya Abdalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1642328332,"creation_date":1642223980,"question_id":70719054,"body_markdown":"Here is my code so far. (this is part of it, it&#39;s very long) I can&#39;t figure out what&#39;s wrong with it. I have tried searching for other answers on this website and tried something similar but still don&#39;t get it. I am not really understanding how this while loop should work since my code is, as I said, very long. I just can&#39;t figure it out and it&#39;s confusing me a lot. Please help?\r\n\r\n         \r\n     do{\r\n      String retake;\r\n\r\n      System.out.println(&quot;Would you like to play again? Type in Y for yes or N for no &quot;);\r\n\r\n      retake = kbd.nextLine();\r\n      } while ( yes.equalsIgnoreCase(&quot;yes&quot;));\r\n     }\r\n    }","title":"How can I let the user input repeat my code in java?","body":"<p>Here is my code so far. (this is part of it, it's very long) I can't figure out what's wrong with it. I have tried searching for other answers on this website and tried something similar but still don't get it. I am not really understanding how this while loop should work since my code is, as I said, very long. I just can't figure it out and it's confusing me a lot. Please help?</p>\n<pre><code> do{\n  String retake;\n\n  System.out.println(&quot;Would you like to play again? Type in Y for yes or N for no &quot;);\n\n  retake = kbd.nextLine();\n  } while ( yes.equalsIgnoreCase(&quot;yes&quot;));\n }\n}\n</code></pre>\n"},{"tags":["java","maven","jenkins","jobs"],"owner":{"account_id":23955229,"reputation":11,"user_id":17946207,"display_name":"kritika kesarwani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642327257,"creation_date":1642327257,"question_id":70729010,"body_markdown":"Running as SYSTEM\r\nBuilding in workspace /Users/kritikakesarwani/.jenkins/MavenArtifactId\r\n[MavenArtifactId] $ /Users/kritikakesarwani/Documents/Selenium_Installation_eclipse/apache-maven-3.8.2/bin/mvn test -PRegression\r\n/bin/sh: /Users/kritikakesarwani/Documents/Selenium_Installation_eclipse/apache-maven-3.8.2/bin/mvn: Operation not permitted\r\nBuild step &#39;Invoke top-level Maven targets&#39; marked build as failure\r\nFinished: FAILURE\r\n\r\n\r\n","title":"I am running a job in Jenkins but getting the below error using Custom Workspace:","body":"<p>Running as SYSTEM\nBuilding in workspace /Users/kritikakesarwani/.jenkins/MavenArtifactId\n[MavenArtifactId] $ /Users/kritikakesarwani/Documents/Selenium_Installation_eclipse/apache-maven-3.8.2/bin/mvn test -PRegression\n/bin/sh: /Users/kritikakesarwani/Documents/Selenium_Installation_eclipse/apache-maven-3.8.2/bin/mvn: Operation not permitted\nBuild step 'Invoke top-level Maven targets' marked build as failure\nFinished: FAILURE</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1642336152,"post_id":70728976,"comment_id":125038786,"body_markdown":"looks like you are looking for Maven equivalent of dependency:list. Found a similar question here but unfortunately no answer for this yet - https://stackoverflow.com/questions/40636952/gradle-equivalent-to-maven-dependencylist","body":"looks like you are looking for Maven equivalent of dependency:list. Found a similar question here but unfortunately no answer for this yet - <a href=\"https://stackoverflow.com/questions/40636952/gradle-equivalent-to-maven-dependencylist\" title=\"gradle equivalent to maven dependencylist\">stackoverflow.com/questions/40636952/&hellip;</a>"}],"owner":{"account_id":11188567,"reputation":1125,"user_id":8209920,"display_name":"JavaCodeNet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642326935,"creation_date":1642326935,"question_id":70728976,"body_markdown":"I am looking for a way to display all the dependencies and their resolved versions in a Gradle project. I want the result to be flat.\r\n\r\nGradle has the `dependencies` task which prints the dependency tree, however, it is not flat and hard to read. For e.g. logback-classic has the following dependency tree.\r\n\r\n    |    |    |    +--- ch.qos.logback:logback-classic:1.2.3\r\n    |    |    |    |    +--- ch.qos.logback:logback-core:1.2.3\r\n    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\r\n\r\nInstead of this tree structure, I want the result to be following(dependencies with their resolved versions):\r\n\r\n    ch.qos.logback:logback-classic:1.2.3\r\n    ch.qos.logback:logback-core:1.2.3\r\n    org.slf4j:slf4j-api:1.7.30\r\n\r\nThis way it would be easy for me to find out the vulnerable libraries(for e.g. log4j), and it would also give me insights on dependent jars even if I don&#39;t directly use them.\r\n\r\n\r\n\r\n","title":"Find all dependencies and their resolved versions in Gradle","body":"<p>I am looking for a way to display all the dependencies and their resolved versions in a Gradle project. I want the result to be flat.</p>\n<p>Gradle has the <code>dependencies</code> task which prints the dependency tree, however, it is not flat and hard to read. For e.g. logback-classic has the following dependency tree.</p>\n<pre><code>|    |    |    +--- ch.qos.logback:logback-classic:1.2.3\n|    |    |    |    +--- ch.qos.logback:logback-core:1.2.3\n|    |    |    |    \\--- org.slf4j:slf4j-api:1.7.25 -&gt; 1.7.30\n</code></pre>\n<p>Instead of this tree structure, I want the result to be following(dependencies with their resolved versions):</p>\n<pre><code>ch.qos.logback:logback-classic:1.2.3\nch.qos.logback:logback-core:1.2.3\norg.slf4j:slf4j-api:1.7.30\n</code></pre>\n<p>This way it would be easy for me to find out the vulnerable libraries(for e.g. log4j), and it would also give me insights on dependent jars even if I don't directly use them.</p>\n"},{"tags":["java","mysql","sql","playframework","ebean"],"comments":[{"owner":{"account_id":1355659,"reputation":1159,"user_id":1294108,"display_name":"Adil Aliyev"},"score":1,"creation_date":1418025477,"post_id":27353652,"comment_id":43160621,"body_markdown":"What DBMS are you using? Oracle?","body":"What DBMS are you using? Oracle?"}],"answers":[{"tags":[],"owner":{"account_id":1355659,"reputation":1159,"user_id":1294108,"display_name":"Adil Aliyev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642326515,"creation_date":1418025681,"answer_id":27353709,"question_id":27353652,"body_markdown":"Try this:\r\n\r\n    String sql = &quot;CALL copy_lov_Countries(:param)&quot;;\r\n    CallableStatement statement = connection.prepareCall(sql);\r\n    statement.registerOutParameter(&quot;param&quot;, Types.INTEGER);\r\n    statement.execute();\r\n    connection.commit();\r\n\r\nThe code works with Oracle, should work also with MySQL. The principle is same.","title":"call sql procedure from java","body":"<p>Try this:</p>\n<pre><code>String sql = &quot;CALL copy_lov_Countries(:param)&quot;;\nCallableStatement statement = connection.prepareCall(sql);\nstatement.registerOutParameter(&quot;param&quot;, Types.INTEGER);\nstatement.execute();\nconnection.commit();\n</code></pre>\n<p>The code works with Oracle, should work also with MySQL. The principle is same.</p>\n"},{"tags":[],"owner":{"account_id":2472467,"reputation":166,"user_id":2153961,"accept_rate":40,"display_name":"Vaibhav Bhootna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418032984,"creation_date":1418025726,"answer_id":27353717,"question_id":27353652,"body_markdown":"Try this ` Integer returnValue = (Integer) cs.getObject(1); ` after `Ebean.execute(cs);`\r\nAnd post it here What it gives ?\r\n\r\n**Update**\r\n:Make the follwing changes to your code\r\n\r\n    Ebean.beginTransaction();  \r\n    try {  \r\n    String sql = &quot;call copy_lov_Countries(?)&quot;;\r\n    CallableSql cs = Ebean.createCallableSql(sql);\r\n    cs.registerOut(1, Types.INTEGER);\r\n    Ebean.execute(cs);\r\n   \r\n     } finally {  \r\n       Ebean.endTransaction();  \r\n    }  \r\n","title":"call sql procedure from java","body":"<p>Try this <code>Integer returnValue = (Integer) cs.getObject(1);</code> after <code>Ebean.execute(cs);</code>\nAnd post it here What it gives ?</p>\n\n<p><strong>Update</strong>\n:Make the follwing changes to your code</p>\n\n<pre><code>Ebean.beginTransaction();  \ntry {  \nString sql = \"call copy_lov_Countries(?)\";\nCallableSql cs = Ebean.createCallableSql(sql);\ncs.registerOut(1, Types.INTEGER);\nEbean.execute(cs);\n\n } finally {  \n   Ebean.endTransaction();  \n}  \n</code></pre>\n"}],"owner":{"account_id":4539354,"reputation":359,"user_id":3687679,"accept_rate":30,"display_name":"user3687679"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1642326515,"creation_date":1418025365,"question_id":27353652,"body_markdown":"i want to call saved sql procedure from java using ebean.\r\ni am using this code:\r\n\r\n    String sql = &quot;call copy_lov_Countries(?)&quot;;\r\n    CallableSql cs = Ebean.createCallableSql(sql);\r\n    cs.registerOut(1, Types.INTEGER);\r\n    Ebean.execute(cs);\r\n\r\nIt reaches the procedure but it does not run right. it never copies any data!!\r\n\r\nany idea??","title":"call sql procedure from java","body":"<p>i want to call saved sql procedure from java using ebean.\ni am using this code:</p>\n\n<pre><code>String sql = \"call copy_lov_Countries(?)\";\nCallableSql cs = Ebean.createCallableSql(sql);\ncs.registerOut(1, Types.INTEGER);\nEbean.execute(cs);\n</code></pre>\n\n<p>It reaches the procedure but it does not run right. it never copies any data!!</p>\n\n<p>any idea??</p>\n"},{"tags":["java","mysql","spring","hibernate","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1642433639,"post_id":70727648,"comment_id":125063654,"body_markdown":"To avoid these kinds of problems, I never use an entity directly in Thymeleaf. I use a dedicated FormData class to model the interaction with the form so I can keep my entity clean. See https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/ for detailed info on how to do that.","body":"To avoid these kinds of problems, I never use an entity directly in Thymeleaf. I use a dedicated FormData class to model the interaction with the form so I can keep my entity clean. See <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf</a> for detailed info on how to do that."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642312202,"creation_date":1642312202,"answer_id":70727691,"question_id":70727648,"body_markdown":"    Caused by: java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:660)\r\n\r\n\r\nThis is the causing issue - it can&#39;t parse `&quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;` into an integer.\r\n\r\nMy guess is that it is happenning because you don&#39;t have a constructor for Quote that expects 3 Strings so Thymeleaf picks the one with all arguments including Id and tries to convert the first parameter into an Integer.\r\n\r\nTry creating the right constructor:\r\n\r\n    public Quote(String quote, String quotee, String foundIn) {\r\n        this.quote = quote;\r\n        this.quotee = quotee;\r\n        this.foundIn = foundIn;\r\n    }\r\n\r\nAlso make sure all the setters are also present - important for thymeleaf\r\n\r\n","title":"Unsure of why java/spring app is not saving my entity properly to MySQL database (when it is correctly saving another)","body":"<pre><code>Caused by: java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:660)\n</code></pre>\n<p>This is the causing issue - it can't parse <code>&quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;</code> into an integer.</p>\n<p>My guess is that it is happenning because you don't have a constructor for Quote that expects 3 Strings so Thymeleaf picks the one with all arguments including Id and tries to convert the first parameter into an Integer.</p>\n<p>Try creating the right constructor:</p>\n<pre><code>public Quote(String quote, String quotee, String foundIn) {\n    this.quote = quote;\n    this.quotee = quotee;\n    this.foundIn = foundIn;\n}\n</code></pre>\n<p>Also make sure all the setters are also present - important for thymeleaf</p>\n"},{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642326472,"creation_date":1642326472,"answer_id":70728923,"question_id":70727648,"body_markdown":"Use `Wrapper` type for your `id` property in `Quote` entity instead of primitives. As follows\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;quote&quot;)\r\npublic class Quote {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;id&quot;)\r\n    private Long id; // &lt;--- Change from `int` to Long\r\n...\r\n...\r\n\r\n}\r\n```","title":"Unsure of why java/spring app is not saving my entity properly to MySQL database (when it is correctly saving another)","body":"<p>Use <code>Wrapper</code> type for your <code>id</code> property in <code>Quote</code> entity instead of primitives. As follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;quote&quot;)\npublic class Quote {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id; // &lt;--- Change from `int` to Long\n...\n...\n\n}\n</code></pre>\n"}],"owner":{"account_id":23952284,"reputation":1,"user_id":17943658,"display_name":"Erick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1642326472,"creation_date":1642311348,"question_id":70727648,"body_markdown":"I&#39;ve gone through most or all the StackOverflow questions relating to this question, and I haven&#39;t seen an answer that solves my problem.\r\nI have this basic app that saves two different types of entities to a database (User and Quote). I am able to save the User entity just fine, but the Quote entity is not getting saved.\r\n\r\n**App Controller**\r\n\r\n    @Controller\r\n    public class AppController {\r\n\r\n\t    @Autowired\r\n\t    private UserRepository userRepository;\r\n\t\r\n\t    @Autowired \r\n\t    private QuoteRepository quoteRepository;\r\n\t\r\n    \t@GetMapping(&quot;/&quot;)\r\n     \tpublic String viewHomePage() {\r\n\t    \treturn &quot;index&quot;;\r\n\t    }\r\n\t\r\n    \t@GetMapping(&quot;/register&quot;)\r\n    \tpublic String viewRegistrationForm(Model model) {\r\n     \t\tUser newUser = new User();\r\n    \t\tmodel.addAttribute(&quot;user&quot;, newUser);\r\n\t    \treturn &quot;signup_form&quot;;\r\n    \t}\r\n\t\r\n    \t@PostMapping(&quot;/processRegister&quot;)\r\n    \tpublic String processRegister(User user) {\r\n    \t\tBCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n\t    \tString encodedPassword = passwordEncoder.encode(user.getPassword());\r\n\t    \tuser.setPassword(encodedPassword);\r\n\t\t\r\n\t    \tuserRepository.save(user);\r\n\t    \treturn &quot;register_success&quot;;\r\n    \t}\r\n\t\r\n    \t@GetMapping(&quot;/users&quot;)\r\n    \tpublic String listUsers(Model model) {\r\n\t    \tList&lt;User&gt; users = userRepository.findAll();\r\n    \t\tmodel.addAttribute(&quot;users&quot;, users);\r\n\t    \treturn &quot;list_users&quot;;\r\n    \t}\r\n \t\r\n        @GetMapping(&quot;/quotes&quot;)\r\n    \tpublic String listQuotes(Model model) {\r\n    \t\tList&lt;Quote&gt; quotes = quoteRepository.findAll();\r\n    \t\tmodel.addAttribute(&quot;quotes&quot;, quotes);\r\n\t    \treturn &quot;quotes/list_quotes&quot;;\r\n    \t}\r\n\t\r\n    \t@GetMapping(&quot;/showFormToAddQuote&quot;)\r\n    \tpublic String showFormToAddQuote(Model model) {\r\n\t    \tQuote quote = new Quote();\r\n    \t\tmodel.addAttribute(&quot;quote&quot;, quote);\r\n\t    \treturn &quot;quotes/add_quote&quot;;\r\n    \t}\r\n\t\r\n    \t@PostMapping(&quot;/processQuote&quot;)\r\n    \tpublic String processQuote(@ModelAttribute(&quot;quote&quot;) Quote quote) {\r\n\t    \tquoteRepository.save(quote);\r\n\t    \treturn &quot;redirect:/quotes&quot;;\r\n    \t}\r\n    }\r\n\r\n**User Class**\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class User {\r\n\t\r\n\t   @Id \r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t   @Column(name=&quot;id&quot;)\r\n       private Long id;\r\n     \r\n       @Column(nullable = false, unique = true, length = 45)\r\n       private String email;\r\n     \r\n       @Column(nullable = false, length = 64)\r\n       private String password;\r\n     \r\n       @Column(name = &quot;first_name&quot;, nullable = false, length = 20)\r\n       private String firstName;\r\n     \r\n       @Column(name = &quot;last_name&quot;, nullable = false, length = 20)\r\n       private String lastName;\r\n    \r\n       public User() {}\r\n \r\n\t   public User(Long id, String email, String password, String firstName, String lastName) {\r\n\t\t   this.id = id;\r\n\t\t   this.email = email;\r\n\t\t   this.password = password;\r\n\t\t   this.firstName = firstName;\r\n\t\t   this.lastName = lastName;\r\n\t   }\r\n\r\n\t   // getters and setters                                                                                       \r\n    }\r\n\r\n**User Repository Class**\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n    \t@Query(&quot;SELECT u FROM User u WHERE u.email = :email&quot;)\r\n    \tpublic User findByEmail(@Param(&quot;email&quot;) String email);\r\n\r\n    }\r\n\r\n**Quote Class**\r\n    \r\n    @Entity\r\n    @Table(name=&quot;quote&quot;)\r\n    public class Quote {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;quote&quot;)\r\n    \tprivate String quote;\r\n    \t\r\n    \t@Column(name=&quot;quotee&quot;)\r\n    \tprivate String quotee;\r\n    \t\r\n    \t@Column(name=&quot;found_in&quot;)\r\n    \tprivate String foundIn;\r\n    \t\r\n    \tpublic Quote() {}\r\n    \r\n    \tpublic Quote(int id, String quote, String quotee, String foundIn) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.quote = quote;\r\n    \t\tthis.quotee = quotee;\r\n    \t\tthis.foundIn = foundIn;\r\n    \t}\r\n    \r\n    \t// getters and setters\t\r\n    }\r\n\r\n**Quote Repository Class**\r\n    \r\n    public interface QuoteRepository extends JpaRepository&lt;Quote, Integer&gt; {\r\n    \r\n    }\r\n\r\nUsing Thymeleaf syntax for html forms:\r\n\r\n**List Quotes HTML**\r\n\r\n    &lt;div class=&quot;container text-center&quot;&gt;\t\r\n    \t&lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n    \t\t&lt;thead class=&quot;table-dark&quot;&gt;\r\n    \t\t\t&lt;tr&gt;\r\n    \t\t\t\t&lt;th&gt;Quote&lt;/th&gt;\r\n    \t\t\t\t&lt;th&gt;Quotee&lt;/th&gt;\r\n    \t\t\t\t&lt;th&gt;Found In&lt;/th&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t&lt;/thead&gt;\r\n    \t\t&lt;tbody&gt;\r\n    \t\t\t&lt;tr th:each=&quot;quote: ${quotes}&quot;&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;${quote.quote}&quot;&gt;Quote&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;${quote.quotee}&quot;&gt;Quotee&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;${quote.foundIn}&quot;&gt;Found In&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t&lt;/tbody&gt;\r\n    \t&lt;/table&gt;\r\n    &lt;/div&gt;\r\n\r\n**Add Quote Form HTML**\r\n\r\n    &lt;form th:action=&quot;@{/processQuote}&quot; th:object=&quot;${quote}&quot;\r\n       method=&quot;POST&quot; style=&quot;max-width: 600px; margin: 0 auto;&quot;&gt;\r\n    \t\t\t\r\n       &lt;input type=&quot;text&quot; th:field=&quot;*{quote}&quot;\r\n          class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Quote&quot; required&gt;\r\n       &lt;input type=&quot;text&quot; th:field=&quot;*{quotee}&quot;\r\n          class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Quotee&quot;&gt;\r\n       &lt;input type=&quot;text&quot; th:field=&quot;*{foundIn}&quot;\r\n          class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Source (Found In)&quot;&gt;\r\n    \t\t\t\r\n       &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n\r\nI excluded imports, package names, and getters/setters. It seems that spring is trying to convert my string input corresponding to the &#39;quote&#39; column of the table into an in Integer even though the field is of type String.\r\n\r\n**Stack Trace**\r\n\r\n    There was an unexpected error (type=Bad Request, status=400).\r\n    Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.maria.springboot.quoterepo.entity.Quote&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Life isn&#39;t about finding yourself. Life is about creating yourself.&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n    org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.maria.springboot.quoterepo.entity.Quote&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Life isn&#39;t about finding yourself. Life is about creating yourself.&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n    \tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:79)\r\n    \tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)\r\n    \tat org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:700)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttributeFromRequestValue(ServletModelAttributeMethodProcessor.java:142)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:78)\r\n    \tat org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147)\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831)\r\n    Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Life isn&#39;t about finding yourself. Life is about creating yourself.&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\r\n    \tat org.springframework.data.repository.support.DomainClassConverter$ToEntityConverter.convert(DomainClassConverter.java:176)\r\n    \tat org.springframework.data.repository.support.DomainClassConverter.lambda$convert$0(DomainClassConverter.java:84)\r\n    \tat java.base/java.util.Optional.map(Optional.java:260)\r\n    \tat org.springframework.data.repository.support.DomainClassConverter.convert(DomainClassConverter.java:84)\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\r\n    \tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n    \tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:129)\r\n    \tat org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)\r\n    \t... 99 more\r\n    Caused by: java.lang.NumberFormatException: For input string: &quot;Lifeisn&#39;taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\r\n    \tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:660)\r\n    \tat java.base/java.lang.Integer.valueOf(Integer.java:991)\r\n    \tat org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:211)\r\n    \tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)\r\n    \tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)\r\n    \tat org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:437)\r\n    \tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\r\n    \t... 109 more\r\n\r\n","title":"Unsure of why java/spring app is not saving my entity properly to MySQL database (when it is correctly saving another)","body":"<p>I've gone through most or all the StackOverflow questions relating to this question, and I haven't seen an answer that solves my problem.\nI have this basic app that saves two different types of entities to a database (User and Quote). I am able to save the User entity just fine, but the Quote entity is not getting saved.</p>\n<p><strong>App Controller</strong></p>\n<pre><code>@Controller\npublic class AppController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired \n    private QuoteRepository quoteRepository;\n\n    @GetMapping(&quot;/&quot;)\n    public String viewHomePage() {\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/register&quot;)\n    public String viewRegistrationForm(Model model) {\n        User newUser = new User();\n        model.addAttribute(&quot;user&quot;, newUser);\n        return &quot;signup_form&quot;;\n    }\n\n    @PostMapping(&quot;/processRegister&quot;)\n    public String processRegister(User user) {\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        String encodedPassword = passwordEncoder.encode(user.getPassword());\n        user.setPassword(encodedPassword);\n    \n        userRepository.save(user);\n        return &quot;register_success&quot;;\n    }\n\n    @GetMapping(&quot;/users&quot;)\n    public String listUsers(Model model) {\n        List&lt;User&gt; users = userRepository.findAll();\n        model.addAttribute(&quot;users&quot;, users);\n        return &quot;list_users&quot;;\n    }\n\n    @GetMapping(&quot;/quotes&quot;)\n    public String listQuotes(Model model) {\n        List&lt;Quote&gt; quotes = quoteRepository.findAll();\n        model.addAttribute(&quot;quotes&quot;, quotes);\n        return &quot;quotes/list_quotes&quot;;\n    }\n\n    @GetMapping(&quot;/showFormToAddQuote&quot;)\n    public String showFormToAddQuote(Model model) {\n        Quote quote = new Quote();\n        model.addAttribute(&quot;quote&quot;, quote);\n        return &quot;quotes/add_quote&quot;;\n    }\n\n    @PostMapping(&quot;/processQuote&quot;)\n    public String processQuote(@ModelAttribute(&quot;quote&quot;) Quote quote) {\n        quoteRepository.save(quote);\n        return &quot;redirect:/quotes&quot;;\n    }\n}\n</code></pre>\n<p><strong>User Class</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;)\npublic class User {\n\n   @Id \n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name=&quot;id&quot;)\n   private Long id;\n \n   @Column(nullable = false, unique = true, length = 45)\n   private String email;\n \n   @Column(nullable = false, length = 64)\n   private String password;\n \n   @Column(name = &quot;first_name&quot;, nullable = false, length = 20)\n   private String firstName;\n \n   @Column(name = &quot;last_name&quot;, nullable = false, length = 20)\n   private String lastName;\n\n   public User() {}\n\n   public User(Long id, String email, String password, String firstName, String lastName) {\n       this.id = id;\n       this.email = email;\n       this.password = password;\n       this.firstName = firstName;\n       this.lastName = lastName;\n   }\n\n   // getters and setters                                                                                       \n}\n</code></pre>\n<p><strong>User Repository Class</strong></p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n    @Query(&quot;SELECT u FROM User u WHERE u.email = :email&quot;)\n    public User findByEmail(@Param(&quot;email&quot;) String email);\n\n}\n</code></pre>\n<p><strong>Quote Class</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;quote&quot;)\npublic class Quote {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n    \n    @Column(name=&quot;quote&quot;)\n    private String quote;\n    \n    @Column(name=&quot;quotee&quot;)\n    private String quotee;\n    \n    @Column(name=&quot;found_in&quot;)\n    private String foundIn;\n    \n    public Quote() {}\n\n    public Quote(int id, String quote, String quotee, String foundIn) {\n        super();\n        this.id = id;\n        this.quote = quote;\n        this.quotee = quotee;\n        this.foundIn = foundIn;\n    }\n\n    // getters and setters  \n}\n</code></pre>\n<p><strong>Quote Repository Class</strong></p>\n<pre><code>public interface QuoteRepository extends JpaRepository&lt;Quote, Integer&gt; {\n\n}\n</code></pre>\n<p>Using Thymeleaf syntax for html forms:</p>\n<p><strong>List Quotes HTML</strong></p>\n<pre><code>&lt;div class=&quot;container text-center&quot;&gt; \n    &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n        &lt;thead class=&quot;table-dark&quot;&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Quote&lt;/th&gt;\n                &lt;th&gt;Quotee&lt;/th&gt;\n                &lt;th&gt;Found In&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr th:each=&quot;quote: ${quotes}&quot;&gt;\n                &lt;td th:text=&quot;${quote.quote}&quot;&gt;Quote&lt;/td&gt;\n                &lt;td th:text=&quot;${quote.quotee}&quot;&gt;Quotee&lt;/td&gt;\n                &lt;td th:text=&quot;${quote.foundIn}&quot;&gt;Found In&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n<p><strong>Add Quote Form HTML</strong></p>\n<pre><code>&lt;form th:action=&quot;@{/processQuote}&quot; th:object=&quot;${quote}&quot;\n   method=&quot;POST&quot; style=&quot;max-width: 600px; margin: 0 auto;&quot;&gt;\n            \n   &lt;input type=&quot;text&quot; th:field=&quot;*{quote}&quot;\n      class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Quote&quot; required&gt;\n   &lt;input type=&quot;text&quot; th:field=&quot;*{quotee}&quot;\n      class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Quotee&quot;&gt;\n   &lt;input type=&quot;text&quot; th:field=&quot;*{foundIn}&quot;\n      class=&quot;form-control mb-4 col-4&quot; placeholder=&quot;Source (Found In)&quot;&gt;\n            \n   &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>I excluded imports, package names, and getters/setters. It seems that spring is trying to convert my string input corresponding to the 'quote' column of the table into an in Integer even though the field is of type String.</p>\n<p><strong>Stack Trace</strong></p>\n<pre><code>There was an unexpected error (type=Bad Request, status=400).\nFailed to convert value of type 'java.lang.String' to required type 'com.maria.springboot.quoterepo.entity.Quote'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value 'Life isn't about finding yourself. Life is about creating yourself.'; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\norg.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'com.maria.springboot.quoterepo.entity.Quote'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value 'Life isn't about finding yourself. Life is about creating yourself.'; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:79)\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)\n    at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:700)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttributeFromRequestValue(ServletModelAttributeMethodProcessor.java:142)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:78)\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:147)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:132)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value 'Life isn't about finding yourself. Life is about creating yourself.'; nested exception is java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\n    at org.springframework.data.repository.support.DomainClassConverter$ToEntityConverter.convert(DomainClassConverter.java:176)\n    at org.springframework.data.repository.support.DomainClassConverter.lambda$convert$0(DomainClassConverter.java:84)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.springframework.data.repository.support.DomainClassConverter.convert(DomainClassConverter.java:84)\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:129)\n    at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)\n    ... 99 more\nCaused by: java.lang.NumberFormatException: For input string: &quot;Lifeisn'taboutfindingyourself.Lifeisaboutcreatingyourself.&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:660)\n    at java.base/java.lang.Integer.valueOf(Integer.java:991)\n    at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:211)\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)\n    at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:437)\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\n    ... 109 more\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1642320768,"post_id":70728292,"comment_id":125035964,"body_markdown":"Possibly helpful: https://stackoverflow.com/questions/4897212/refresh-reload-application-scope-managed-bean","body":"Possibly helpful: <a href=\"https://stackoverflow.com/questions/4897212/refresh-reload-application-scope-managed-bean\" title=\"refresh reload application scope managed bean\">stackoverflow.com/questions/4897212/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642326337,"creation_date":1642321086,"answer_id":70728397,"question_id":70728292,"body_markdown":"It is because you do not start the Spring container yet. You have to call `ClassPathXmlApplicationContext.refresh()` to start it. \r\n\r\nAnother things is that you do not configure the location of the XML configuration file too. \r\n\r\nSo assuming the XML configuration file is called `config.xml` , please change to the following : \r\n\r\n``` java\r\nClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext();\r\napplicationContext.setConfigLocations(&quot;config.xml&quot;);\r\napplicationContext.refresh();\r\n```\r\n\r\nOr simply :\r\n\r\n``` java\r\nApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;config.xml&quot;);\r\n```\r\n\r\nwhich will call `refresh()` automatically under the cover.\r\n\r\n\r\n","title":"I am trying to run this first Spring program using XML and I am getting following error. I am novice in this, Please guide me","body":"<p>It is because you do not start the Spring container yet. You have to call <code>ClassPathXmlApplicationContext.refresh()</code> to start it.</p>\n<p>Another things is that you do not configure the location of the XML configuration file too.</p>\n<p>So assuming the XML configuration file is called <code>config.xml</code> , please change to the following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathXmlApplicationContext applicationContext = new ClassPathXmlApplicationContext();\napplicationContext.setConfigLocations(&quot;config.xml&quot;);\napplicationContext.refresh();\n</code></pre>\n<p>Or simply :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;config.xml&quot;);\n</code></pre>\n<p>which will call <code>refresh()</code> automatically under the cover.</p>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642325199,"creation_date":1642325199,"answer_id":70728786,"question_id":70728292,"body_markdown":"Your XML file is in a wrong directory. `ClassPathXmlApplicationContext` searches for it on the Java [classpath](https://en.wikipedia.org/wiki/Classpath). Java classpath purpose is to locate available compiled class files, but it became very common to place runtime configuration files there too.\r\n\r\nIf you use Maven to build your project, you can place your `Spring.xml` file into the `src/main/resources`. Maven will copy its contents into the folder which will be on classpath during execution.","title":"I am trying to run this first Spring program using XML and I am getting following error. I am novice in this, Please guide me","body":"<p>Your XML file is in a wrong directory. <code>ClassPathXmlApplicationContext</code> searches for it on the Java <a href=\"https://en.wikipedia.org/wiki/Classpath\" rel=\"nofollow noreferrer\">classpath</a>. Java classpath purpose is to locate available compiled class files, but it became very common to place runtime configuration files there too.</p>\n<p>If you use Maven to build your project, you can place your <code>Spring.xml</code> file into the <code>src/main/resources</code>. Maven will copy its contents into the folder which will be on classpath during execution.</p>\n"}],"owner":{"account_id":20979550,"reputation":9,"user_id":15414706,"display_name":"Ajay9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1642326337,"creation_date":1642320040,"question_id":70728292,"body_markdown":"    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    public class DrawingApp {\r\n        public static void main(String[] args) {\r\n            ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;Spring.xml&quot;);\r\n            Triangle triangle= (Triangle) applicationContext.getBean(&quot;triangle&quot;);\r\n            triangle.draw();\r\n        }\r\n    }\r\n    \r\n    public class Triangle {\r\n        public void draw()\r\n        {\r\n            System.out.println(&quot;Triangle Class&quot;);\r\n        }\r\n    }\r\n\r\n&gt; This is the Java program.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE beans PUBLIC &quot;-//SPRING//DTD BEAN 2.0//EN&quot; &quot;http://www.springframework.org/dtd/spring-beans-2.0.dtd&quot;&gt;\r\n    &lt;beans&gt;\r\n        &lt;bean id=&quot;triangle&quot; class=&quot;Triangle&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n&gt; This is the XML File.\r\nAnd When I am trying to run this program, I am getting the following error\r\n\r\n\r\n*14:32:12.644 [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@721e0f4f\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [Spring.xml]; nested exception is java.io.FileNotFoundException: class path resource [Spring.xml] cannot be opened because it does not exist\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:342)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n\tat practice.DrawingApp.main(DrawingApp.java:9)\r\nCaused by: java.io.FileNotFoundException: class path resource [Spring.xml] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:333)\r\n\t... 13 more*\r\n\r\n&gt; I have also used this code in XML\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n           https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        &lt;bean id=&quot;triangle&quot; class=&quot;Triangle&quot;/&gt;\r\n    &lt;/beans\r\n\r\n&gt; Then also I am getting the same error\r\n\r\nGuide me to do this spring programming perfectly.\r\n\r\n\r\n\r\n\r\n","title":"I am trying to run this first Spring program using XML and I am getting following error. I am novice in this, Please guide me","body":"<pre><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class DrawingApp {\n    public static void main(String[] args) {\n        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;Spring.xml&quot;);\n        Triangle triangle= (Triangle) applicationContext.getBean(&quot;triangle&quot;);\n        triangle.draw();\n    }\n}\n\npublic class Triangle {\n    public void draw()\n    {\n        System.out.println(&quot;Triangle Class&quot;);\n    }\n}\n</code></pre>\n<blockquote>\n<p>This is the Java program.</p>\n</blockquote>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE beans PUBLIC &quot;-//SPRING//DTD BEAN 2.0//EN&quot; &quot;http://www.springframework.org/dtd/spring-beans-2.0.dtd&quot;&gt;\n&lt;beans&gt;\n    &lt;bean id=&quot;triangle&quot; class=&quot;Triangle&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<blockquote>\n<p>This is the XML File.\nAnd When I am trying to run this program, I am getting the following error</p>\n</blockquote>\n<p><em>14:32:12.644 [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@721e0f4f\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [Spring.xml]; nested exception is java.io.FileNotFoundException: class path resource [Spring.xml] cannot be opened because it does not exist\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:342)\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\nat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\nat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\nat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\nat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:144)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:85)\nat practice.DrawingApp.main(DrawingApp.java:9)\nCaused by: java.io.FileNotFoundException: class path resource [Spring.xml] cannot be opened because it does not exist\nat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199)\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:333)\n... 13 more</em></p>\n<blockquote>\n<p>I have also used this code in XML</p>\n</blockquote>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    &lt;bean id=&quot;triangle&quot; class=&quot;Triangle&quot;/&gt;\n&lt;/beans\n</code></pre>\n<blockquote>\n<p>Then also I am getting the same error</p>\n</blockquote>\n<p>Guide me to do this spring programming perfectly.</p>\n"},{"tags":["java","junit","junit4","junit5"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643022811,"post_id":70728735,"comment_id":125221050,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":245690,"reputation":14585,"user_id":519334,"accept_rate":86,"display_name":"k3b"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642326015,"creation_date":1642326015,"answer_id":70728881,"question_id":70728735,"body_markdown":"Try to search the internet for &quot;kata&quot;:\r\n\r\nA &quot;kata&quot;, or &quot;coding kata&quot;, is defined as an exercise in programming which helps hone your skills through practice and repetition. \r\n\r\nSearching for &quot;kata atm&quot; found this:\r\n\r\n * https://githubhelp.com/xpepper/ATM-kata-java\r\n\r\nwhich may be a good starting point.\r\n\r\nEach requerement of the kata can be translated to one or more junittests\r\n","title":"How to write a JUnit test for an atm validation program?","body":"<p>Try to search the internet for &quot;kata&quot;:</p>\n<p>A &quot;kata&quot;, or &quot;coding kata&quot;, is defined as an exercise in programming which helps hone your skills through practice and repetition.</p>\n<p>Searching for &quot;kata atm&quot; found this:</p>\n<ul>\n<li><a href=\"https://githubhelp.com/xpepper/ATM-kata-java\" rel=\"nofollow noreferrer\">https://githubhelp.com/xpepper/ATM-kata-java</a></li>\n</ul>\n<p>which may be a good starting point.</p>\n<p>Each requerement of the kata can be translated to one or more junittests</p>\n"}],"owner":{"account_id":23868381,"reputation":1,"user_id":17870417,"display_name":"laracode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642326015,"creation_date":1642324775,"question_id":70728735,"body_markdown":"I&#39;m new to java and I&#39;m writing an ATM program where **user can enter pin code three times and if they fail to enter the correct one, their card is blocked.** I&#39;ve tried to write a Junit test for the following code but I couldn&#39;t seem to figure it out. I have two classes AtmPin and AtmTester. AtmTester is where the main class is. \r\n\r\n**AtmPin.java**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class AtmPin {\r\n    \r\n       public static boolean validPIN(int user, int orignal){\r\n    \r\n          \r\n    \r\n           return user==orignal;\r\n    \r\n       }\r\n    \r\n       public static int getPin(Scanner sc){\r\n    \r\n          \r\n    \r\n           System.out.print(&quot;Enter PIN: &quot;);\r\n    \r\n           int pin = sc.nextInt();\r\n    \r\n           return pin;\r\n    \r\n       }\r\n    \r\n      \r\n    }\r\n\r\n**AtmTester.java**\r\n\r\n\r\n    package atm;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class ATMTester {\r\n    \t public static void main(String[] args) {\r\n    \r\n    \t      \r\n    \r\n    \t       Scanner keyboard = new Scanner(System.in);\r\n    \r\n    \t       int i = 0, userpin;\r\n    \r\n    \t      int PIN = 1234;\r\n    \t      while(i&lt; 3){\r\n    \r\n    \t          \r\n    \r\n    \t           userpin = AtmPin.getPin(keyboard);\r\n    \r\n    \t          \r\n    \r\n    \t           if(AtmPin.validPIN(userpin, PIN)){\r\n    \r\n    \t               System.out.println(&quot;Your PIN is correct&quot;);\r\n    \r\n    \t               System.exit(0);\r\n    \r\n    \t           }\r\n    \t           else {\r\n    \t        \t   System.out.println(&quot;Your PIN is incorrect&quot;);\r\n    \t           }\r\n    \t          \r\n    \r\n    \t           i++;\r\n    \r\n    \t       }\r\n    \r\n    \t      \r\n    \r\n    \t       System.out.println(&quot;Your Bank Card is blocked&quot;);\r\n    \r\n    \t   }\r\n    \r\n    }\r\n\r\n","title":"How to write a JUnit test for an atm validation program?","body":"<p>I'm new to java and I'm writing an ATM program where <strong>user can enter pin code three times and if they fail to enter the correct one, their card is blocked.</strong> I've tried to write a Junit test for the following code but I couldn't seem to figure it out. I have two classes AtmPin and AtmTester. AtmTester is where the main class is.</p>\n<p><strong>AtmPin.java</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class AtmPin {\n\n   public static boolean validPIN(int user, int orignal){\n\n      \n\n       return user==orignal;\n\n   }\n\n   public static int getPin(Scanner sc){\n\n      \n\n       System.out.print(&quot;Enter PIN: &quot;);\n\n       int pin = sc.nextInt();\n\n       return pin;\n\n   }\n\n  \n}\n</code></pre>\n<p><strong>AtmTester.java</strong></p>\n<pre><code>package atm;\n\nimport java.util.Scanner;\n\npublic class ATMTester {\n     public static void main(String[] args) {\n\n          \n\n           Scanner keyboard = new Scanner(System.in);\n\n           int i = 0, userpin;\n\n          int PIN = 1234;\n          while(i&lt; 3){\n\n              \n\n               userpin = AtmPin.getPin(keyboard);\n\n              \n\n               if(AtmPin.validPIN(userpin, PIN)){\n\n                   System.out.println(&quot;Your PIN is correct&quot;);\n\n                   System.exit(0);\n\n               }\n               else {\n                   System.out.println(&quot;Your PIN is incorrect&quot;);\n               }\n              \n\n               i++;\n\n           }\n\n          \n\n           System.out.println(&quot;Your Bank Card is blocked&quot;);\n\n       }\n\n}\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1642325847,"post_id":70728813,"comment_id":125036787,"body_markdown":"You should post the complete Exception message that is thrown.","body":"You should post the complete Exception message that is thrown."},{"owner":{"account_id":19713070,"reputation":1,"user_id":17945905,"display_name":"destiny"},"score":0,"creation_date":1642329835,"post_id":70728813,"comment_id":125037542,"body_markdown":"@PeterMmm Thanks for reminding this is the exception messageorg.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [test] did not match expected type [java.util.Set (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [test] did not match expected type [java.util.Set (n/a)] \n  and \n detail can see https://github.com/cestdestiny/jpa/blob/main/README.md","body":"@PeterMmm Thanks for reminding this is the exception messageorg.springframework.dao.InvalidDataAccessApiUsageExc&zwnj;&#8203;eption: Parameter value [test] did not match expected type [java.util.Set (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [test] did not match expected type [java.util.Set (n/a)]    and   detail can see <a href=\"https://github.com/cestdestiny/jpa/blob/main/README.md\" rel=\"nofollow noreferrer\">github.com/cestdestiny/jpa/blob/main/README.md</a>"}],"owner":{"account_id":19713070,"reputation":1,"user_id":17945905,"display_name":"destiny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642325364,"creation_date":1642325364,"question_id":70728813,"body_markdown":"I&#39;m trying to call isMember to get all entities which contains specified productCode,but return error about Parameter value [test] did not match expected type [java.util.Set (n/a)];\r\n\r\nThe version of spring data jpa is 2.3.9.RELEASE\r\n```\r\npublic class Role {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Basic\r\n    @Column(name = &quot;name&quot;, length = 64)\r\n    private String name;\r\n\r\n    @ElementCollection\r\n    @Column(name = &quot;product_code&quot;)\r\n    @Convert(converter = StringSetConverter.class)\r\n    private Set&lt;String&gt; productCode;\r\n}\r\n\r\npublic class RoleSpec {\r\n    public static Specification&lt;Role&gt; isProductCodeMember(String productCode) {\r\n        return (root, query, cb) -&gt; {\r\n            Expression&lt;Collection&lt;String&gt;&gt; productCodes = root.get(&quot;productCode&quot;);\r\n            return cb.isNotMember(productCode , productCodes);\r\n        };\r\n    }\r\n}\r\n```","title":"parameter is not match when call isMember","body":"<p>I'm trying to call isMember to get all entities which contains specified productCode,but return error about Parameter value [test] did not match expected type [java.util.Set (n/a)];</p>\n<p>The version of spring data jpa is 2.3.9.RELEASE</p>\n<pre><code>public class Role {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Basic\n    @Column(name = &quot;name&quot;, length = 64)\n    private String name;\n\n    @ElementCollection\n    @Column(name = &quot;product_code&quot;)\n    @Convert(converter = StringSetConverter.class)\n    private Set&lt;String&gt; productCode;\n}\n\npublic class RoleSpec {\n    public static Specification&lt;Role&gt; isProductCodeMember(String productCode) {\n        return (root, query, cb) -&gt; {\n            Expression&lt;Collection&lt;String&gt;&gt; productCodes = root.get(&quot;productCode&quot;);\n            return cb.isNotMember(productCode , productCodes);\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","tomcat","sni"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642087349,"post_id":70698811,"comment_id":124983326,"body_markdown":"Please try to replace `abc.com` and `xyz.com` with `my.host...` *consistently* (and not mixing;)","body":"Please try to replace <code>abc.com</code> and <code>xyz.com</code> with <code>my.host...</code> <i>consistently</i> (and not mixing;)"},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1642087929,"post_id":70698811,"comment_id":124983588,"body_markdown":"@xerx593, I replaced them with `my.hostname.com` and `my.another.hostname.com`. Didn&#39;t help.","body":"@xerx593, I replaced them with <code>my.hostname.com</code> and <code>my.another.hostname.com</code>. Didn&#39;t help."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642088008,"post_id":70698811,"comment_id":124983621,"body_markdown":"And what about defaultSSLHostConfigName?","body":"And what about defaultSSLHostConfigName?"},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":1,"creation_date":1642088340,"post_id":70698811,"comment_id":124983728,"body_markdown":"@xerx593, changed to `my.hostname.com` and `my.another.hostname.com` (tried both variants) - doesn&#39;t help. The question about this error is: what does spring verify? I didn&#39;t configure any password.","body":"@xerx593, changed to <code>my.hostname.com</code> and <code>my.another.hostname.com</code> (tried both variants) - doesn&#39;t help. The question about this error is: what does spring verify? I didn&#39;t configure any password."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642104662,"post_id":70698811,"comment_id":124990055,"body_markdown":"What format did you use for those keystores? Try setting the correct one with `setCertificateKeystoreType`.","body":"What format did you use for those keystores? Try setting the correct one with <code>setCertificateKeystoreType</code>."}],"answers":[{"tags":[],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642325296,"creation_date":1642325296,"answer_id":70728801,"question_id":70698811,"body_markdown":"I solved the problem. Maybe my explanation will help somebody. I just followed the errors that I saw and configured all data that server missed. I don&#39;t configure certificate, because I have keystore that stores this certificate. My final server has 2 hosts that support only TLSv1.3 (for my needs):\r\n\r\n    private Connector createSSLConnectorForMultipleHosts() {\r\n        Connector connector = null;\r\n        try {\r\n            Http2Protocol http2Protocol = new Http2Protocol();\r\n            Http11NioProtocol http11Protocol = new Http11NioProtocol();\r\n            http2Protocol.setHttp11Protocol(http11Protocol);\r\n\r\n            connector = new Connector(http11Protocol);\r\n            connector.addUpgradeProtocol(http2Protocol);\r\n            connector.setScheme(&quot;https&quot;);\r\n            connector.setSecure(true);\r\n            connector.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\r\n            connector.setProperty(&quot;defaultSSLHostConfigName&quot;, &quot;my.hostname.com&quot;);\r\n            connector.setPort(8445);\r\n\r\n            // first\r\n            SSLHostConfig sslHostConfig = new SSLHostConfig();\r\n            sslHostConfig.setHostName(&quot;my.hostname.com&quot;);\r\n            sslHostConfig.setCertificateKeystorePassword(&quot;mypassword&quot;);\r\n            sslHostConfig.setCertificateKeystoreFile(firstKeyStore);\r\n            sslHostConfig.setProtocols(&quot;TLSv1.3&quot;);\r\n            connector.addSslHostConfig(sslHostConfig);\r\n\r\n            // second\r\n            sslHostConfig = new SSLHostConfig();\r\n            sslHostConfig.setHostName(&quot;my.another.hostname.com&quot;);\r\n            sslHostConfig.setCertificateKeystorePassword(&quot;mypassword&quot;);\r\n            sslHostConfig.setCertificateKeystoreFile(secondKeyStore);\r\n            sslHostConfig.setProtocols(&quot;TLSv1.3&quot;);\r\n            connector.addSslHostConfig(sslHostConfig);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return connector;\r\n    }","title":"How to force Spring boot embedded tomcat to use SNI (Server Name Indication)","body":"<p>I solved the problem. Maybe my explanation will help somebody. I just followed the errors that I saw and configured all data that server missed. I don't configure certificate, because I have keystore that stores this certificate. My final server has 2 hosts that support only TLSv1.3 (for my needs):</p>\n<pre><code>private Connector createSSLConnectorForMultipleHosts() {\n    Connector connector = null;\n    try {\n        Http2Protocol http2Protocol = new Http2Protocol();\n        Http11NioProtocol http11Protocol = new Http11NioProtocol();\n        http2Protocol.setHttp11Protocol(http11Protocol);\n\n        connector = new Connector(http11Protocol);\n        connector.addUpgradeProtocol(http2Protocol);\n        connector.setScheme(&quot;https&quot;);\n        connector.setSecure(true);\n        connector.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\n        connector.setProperty(&quot;defaultSSLHostConfigName&quot;, &quot;my.hostname.com&quot;);\n        connector.setPort(8445);\n\n        // first\n        SSLHostConfig sslHostConfig = new SSLHostConfig();\n        sslHostConfig.setHostName(&quot;my.hostname.com&quot;);\n        sslHostConfig.setCertificateKeystorePassword(&quot;mypassword&quot;);\n        sslHostConfig.setCertificateKeystoreFile(firstKeyStore);\n        sslHostConfig.setProtocols(&quot;TLSv1.3&quot;);\n        connector.addSslHostConfig(sslHostConfig);\n\n        // second\n        sslHostConfig = new SSLHostConfig();\n        sslHostConfig.setHostName(&quot;my.another.hostname.com&quot;);\n        sslHostConfig.setCertificateKeystorePassword(&quot;mypassword&quot;);\n        sslHostConfig.setCertificateKeystoreFile(secondKeyStore);\n        sslHostConfig.setProtocols(&quot;TLSv1.3&quot;);\n        connector.addSslHostConfig(sslHostConfig);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return connector;\n}\n</code></pre>\n"}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642325296,"creation_date":1642086566,"question_id":70698811,"body_markdown":"I need to make sure that my client supports SNI and it works. To do that, I want to start some dummy server (Spring boot application with it&#39;s embedded Tomcat 9) that requires hostname from client. The question is how to force Spring boot embedded Tomcat to require SNI from client? \r\nI&#39;ve read that to do that, we need to provide to server 2 (or more) certificates. \r\n\r\nI tried to follow example from this [topic][1]. But it does not work for me.\r\n\r\nI generated 2 keystores `mycompany1.keystore` and `mycompany2.keystore` with 1 certificate in each of them. And 1 truststore `mycompany.truststore` that stores both these certificates. Certificates have CN `my.hostname.com` and `my.another.hostname.com`.\r\n\r\nThis is the way how I configure embedded tomcat:\r\n\r\n    @Component\r\n    public class MultipleHostsTomcatFactory {\r\n    \r\n        @Value(&quot;${abc.com.key-store}&quot;)\r\n        String abcComKeyStore;\r\n    \r\n        @Value(&quot;${xyz.com.key-store}&quot;)\r\n        String xyzComKeyStore;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        int serverPort;\r\n    \r\n        @Value(&quot;${server.http.port:8080}&quot;)\r\n        private int httpPort;\r\n    \r\n        @Bean\r\n        public ServletWebServerFactory servletContainer() throws Exception {\r\n            TomcatServletWebServerFactory factor = new TomcatServletWebServerFactory();\r\n            factor.addAdditionalTomcatConnectors(createSSLConnectorForMultipleHosts());\r\n            return factor;\r\n        }\r\n    \r\n        private Connector createSSLConnectorForMultipleHosts() {\r\n            Connector connector = null;\r\n            try {\r\n                connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n                connector.setScheme(&quot;https&quot;);\r\n                connector.setSecure(true);\r\n                connector.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\r\n                connector.setProperty(&quot;defaultSSLHostConfigName&quot;, /*&quot;*.abc.com&quot;*/ &quot;*.hostname.com&quot;);\r\n                connector.setPort(8444);\r\n    \r\n                // *.abc.com\r\n                SSLHostConfig sslHostConfig = new SSLHostConfig();\r\n                sslHostConfig.setHostName(&quot;*.abc.com&quot;);\r\n    \r\n                SSLHostConfigCertificate sslHostConfigCertificate = new SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.EC);\r\n                sslHostConfigCertificate.setCertificateKeystoreFile(abcComKeyStore);\r\n    \r\n                sslHostConfig.addCertificate(sslHostConfigCertificate);\r\n                connector.addSslHostConfig(sslHostConfig);\r\n    \r\n                // *.xyz.com\r\n                sslHostConfig = new SSLHostConfig();\r\n                sslHostConfig.setHostName(&quot;*.xyz.com&quot;);\r\n    \r\n                sslHostConfigCertificate = new SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.EC);\r\n                sslHostConfigCertificate.setCertificateKeystoreFile(xyzComKeyStore);\r\n    \r\n                sslHostConfig.addCertificate(sslHostConfigCertificate);\r\n                connector.addSslHostConfig(sslHostConfig);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Catched exception!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            return connector;\r\n        }\r\n    }\r\n\r\nThis code is based on this [topic][1]. \r\nBut I have an error:\r\n\r\n    2022-01-13 16:10:21.301 ERROR 22364 --- [           main] org.apache.catalina.util.LifecycleBase   : Failed to initialize component [Connector[HTTP/1.1-8444]]\r\n    \r\n    org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n    ...\r\n    Caused by: java.lang.IllegalArgumentException: Keystore was tampered with, or password was incorrect\r\n    ...\r\n    Caused by: java.io.IOException: Keystore was tampered with, or password was incorrect\r\n    ...\r\n    Caused by: java.security.UnrecoverableKeyException: Password verification failed\r\n\r\n\r\nLooks like I miss somethimg.\r\n\r\nSo, how can I force embedded Tomcat to enable SNI?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60514176/does-spring-boot-support-server-name-indication-sni","title":"How to force Spring boot embedded tomcat to use SNI (Server Name Indication)","body":"<p>I need to make sure that my client supports SNI and it works. To do that, I want to start some dummy server (Spring boot application with it's embedded Tomcat 9) that requires hostname from client. The question is how to force Spring boot embedded Tomcat to require SNI from client?\nI've read that to do that, we need to provide to server 2 (or more) certificates.</p>\n<p>I tried to follow example from this <a href=\"https://stackoverflow.com/questions/60514176/does-spring-boot-support-server-name-indication-sni\">topic</a>. But it does not work for me.</p>\n<p>I generated 2 keystores <code>mycompany1.keystore</code> and <code>mycompany2.keystore</code> with 1 certificate in each of them. And 1 truststore <code>mycompany.truststore</code> that stores both these certificates. Certificates have CN <code>my.hostname.com</code> and <code>my.another.hostname.com</code>.</p>\n<p>This is the way how I configure embedded tomcat:</p>\n<pre><code>@Component\npublic class MultipleHostsTomcatFactory {\n\n    @Value(&quot;${abc.com.key-store}&quot;)\n    String abcComKeyStore;\n\n    @Value(&quot;${xyz.com.key-store}&quot;)\n    String xyzComKeyStore;\n\n    @Value(&quot;${server.port}&quot;)\n    int serverPort;\n\n    @Value(&quot;${server.http.port:8080}&quot;)\n    private int httpPort;\n\n    @Bean\n    public ServletWebServerFactory servletContainer() throws Exception {\n        TomcatServletWebServerFactory factor = new TomcatServletWebServerFactory();\n        factor.addAdditionalTomcatConnectors(createSSLConnectorForMultipleHosts());\n        return factor;\n    }\n\n    private Connector createSSLConnectorForMultipleHosts() {\n        Connector connector = null;\n        try {\n            connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n            connector.setScheme(&quot;https&quot;);\n            connector.setSecure(true);\n            connector.setProperty(&quot;SSLEnabled&quot;, &quot;true&quot;);\n            connector.setProperty(&quot;defaultSSLHostConfigName&quot;, /*&quot;*.abc.com&quot;*/ &quot;*.hostname.com&quot;);\n            connector.setPort(8444);\n\n            // *.abc.com\n            SSLHostConfig sslHostConfig = new SSLHostConfig();\n            sslHostConfig.setHostName(&quot;*.abc.com&quot;);\n\n            SSLHostConfigCertificate sslHostConfigCertificate = new SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.EC);\n            sslHostConfigCertificate.setCertificateKeystoreFile(abcComKeyStore);\n\n            sslHostConfig.addCertificate(sslHostConfigCertificate);\n            connector.addSslHostConfig(sslHostConfig);\n\n            // *.xyz.com\n            sslHostConfig = new SSLHostConfig();\n            sslHostConfig.setHostName(&quot;*.xyz.com&quot;);\n\n            sslHostConfigCertificate = new SSLHostConfigCertificate(sslHostConfig, SSLHostConfigCertificate.Type.EC);\n            sslHostConfigCertificate.setCertificateKeystoreFile(xyzComKeyStore);\n\n            sslHostConfig.addCertificate(sslHostConfigCertificate);\n            connector.addSslHostConfig(sslHostConfig);\n        } catch (Exception e) {\n            System.out.println(&quot;Catched exception!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;);\n            e.printStackTrace();\n        }\n        return connector;\n    }\n}\n</code></pre>\n<p>This code is based on this <a href=\"https://stackoverflow.com/questions/60514176/does-spring-boot-support-server-name-indication-sni\">topic</a>.\nBut I have an error:</p>\n<pre><code>2022-01-13 16:10:21.301 ERROR 22364 --- [           main] org.apache.catalina.util.LifecycleBase   : Failed to initialize component [Connector[HTTP/1.1-8444]]\n\norg.apache.catalina.LifecycleException: Protocol handler initialization failed\n...\nCaused by: java.lang.IllegalArgumentException: Keystore was tampered with, or password was incorrect\n...\nCaused by: java.io.IOException: Keystore was tampered with, or password was incorrect\n...\nCaused by: java.security.UnrecoverableKeyException: Password verification failed\n</code></pre>\n<p>Looks like I miss somethimg.</p>\n<p>So, how can I force embedded Tomcat to enable SNI?</p>\n"},{"tags":["java","appium","saucelabs","appium-java"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642323956,"creation_date":1642323956,"answer_id":70728654,"question_id":70722245,"body_markdown":"I&#39;ve found that starting from `8.0.0-beta` Appium java-client forcibly converts capabilities to W3C format with adding `appium:` prefix to all unprefixed not defined in WebDriver W3C doc capability names.\r\n\r\n*8.0.0-beta2* is the latest available version which do this.\r\n\r\nhttps://mvnrepository.com/artifact/io.appium/java-client/8.0.0-beta2\r\n\r\n*8.0.0-beta* should also work.\r\n","title":"What&#39;s the version of Appium Java-client that will auto prefix &quot;Appium&quot; to follow W3C protocol","body":"<p>I've found that starting from <code>8.0.0-beta</code> Appium java-client forcibly converts capabilities to W3C format with adding <code>appium:</code> prefix to all unprefixed not defined in WebDriver W3C doc capability names.</p>\n<p><em>8.0.0-beta2</em> is the latest available version which do this.</p>\n<p><a href=\"https://mvnrepository.com/artifact/io.appium/java-client/8.0.0-beta2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.appium/java-client/8.0.0-beta2</a></p>\n<p><em>8.0.0-beta</em> should also work.</p>\n"}],"owner":{"account_id":13112265,"reputation":15,"user_id":9472836,"display_name":"Haresh Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70728654,"answer_count":1,"score":0,"last_activity_date":1642323956,"creation_date":1642256400,"question_id":70722245,"body_markdown":"I am trying to update my scripts to follow W3C Protocol for Appium tests.\r\n\r\nCan&#39;t find which version of Appium java-client will automatically prefix &quot;Appium&quot; keyword to the capabilities.\r\n\r\n","title":"What&#39;s the version of Appium Java-client that will auto prefix &quot;Appium&quot; to follow W3C protocol","body":"<p>I am trying to update my scripts to follow W3C Protocol for Appium tests.</p>\n<p>Can't find which version of Appium java-client will automatically prefix &quot;Appium&quot; keyword to the capabilities.</p>\n"},{"tags":["java","eclipse","selenium","appium"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642323072,"creation_date":1642323072,"answer_id":70728577,"question_id":70727233,"body_markdown":"There is an issue with selenium dependency.\r\n\r\nAppium 7.6 uses selenium version `3.141.59`, and you&#39;ve added selenium `4.1.1`, so they are not compatible.\r\n\r\n1 Try to remove selenium dependency from the pom.\r\n\r\n2 Leave only \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;7.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nfor appium java client.","title":"No class definition error with IOS driver creation","body":"<p>There is an issue with selenium dependency.</p>\n<p>Appium 7.6 uses selenium version <code>3.141.59</code>, and you've added selenium <code>4.1.1</code>, so they are not compatible.</p>\n<p>1 Try to remove selenium dependency from the pom.</p>\n<p>2 Leave only</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n    &lt;version&gt;7.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>for appium java client.</p>\n"}],"owner":{"account_id":2741391,"reputation":184,"user_id":2362869,"accept_rate":73,"display_name":"Joe C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70728577,"answer_count":1,"score":0,"last_activity_date":1642323072,"creation_date":1642304908,"question_id":70727233,"body_markdown":"\r\nI am getting a NoClassDefFound error for org.openqa.selenium.remote.JsonToWebElementConverter when trying to run some code to set up an IOSDriver for use with Appium.  So far all I am trying to do is set up capabilities and open a driver.  However the error occurs on the driver initialization line.\r\n\r\nSo far I have tried to import org.openqa.selenium.remote.JsonToWebElementConverter into the class but still get the same error.  My Eclipse is pointing to the right JDK and Java is installed properly.  I believe I have all dependencies as well.\r\n\r\nDependencies:\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;7.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.appium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;7.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n \r\nDriver I am trying to set up.\r\n\r\n    \t\ttry {\r\n\t\t\tIOSDriver driver = new IOSDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;),capabilites);\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\nResulting Error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\r\nat appiumtests.BaseIOTest.main(BaseIOTest.java:31)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\r\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n... 1 more","title":"No class definition error with IOS driver creation","body":"<p>I am getting a NoClassDefFound error for org.openqa.selenium.remote.JsonToWebElementConverter when trying to run some code to set up an IOSDriver for use with Appium.  So far all I am trying to do is set up capabilities and open a driver.  However the error occurs on the driver initialization line.</p>\n<p>So far I have tried to import org.openqa.selenium.remote.JsonToWebElementConverter into the class but still get the same error.  My Eclipse is pointing to the right JDK and Java is installed properly.  I believe I have all dependencies as well.</p>\n<p>Dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n&lt;version&gt;4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;io.appium&lt;/groupId&gt;\n&lt;artifactId&gt;java-client&lt;/artifactId&gt;\n&lt;version&gt;7.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;com.github.appium&lt;/groupId&gt;\n&lt;artifactId&gt;java-client&lt;/artifactId&gt;\n&lt;version&gt;7.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>Driver I am trying to set up.</p>\n<pre><code>        try {\n        IOSDriver driver = new IOSDriver(new URL(&quot;http://localhost:4723/wd/hub&quot;),capabilites);\n    } catch (MalformedURLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Resulting Error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n</code></pre>\n<p>at appiumtests.BaseIOTest.main(BaseIOTest.java:31)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 1 more</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1642323361,"post_id":70728467,"comment_id":125036369,"body_markdown":"Don&#39;t declare in subclass fields with same name as in superclass. This way you are creating separate fields but since you are giving them same name you are *shadowing* already existing fields. Anyway at `Log.d(TAG, &quot;BaseNft: &quot; + txHash); //Returns null` you are printing value of `txHash` declared in superclas, but in subclass you *overrode* setter to initialize *separate* `txHash` field (declared in subclass builder). So don&#39;t declare  same fields if they ware already declared in superclass. And don&#39;t override setters for those fields.","body":"Don&#39;t declare in subclass fields with same name as in superclass. This way you are creating separate fields but since you are giving them same name you are <i>shadowing</i> already existing fields. Anyway at <code>Log.d(TAG, &quot;BaseNft: &quot; + txHash); &#47;&#47;Returns null</code> you are printing value of <code>txHash</code> declared in superclas, but in subclass you <i>overrode</i> setter to initialize <i>separate</i> <code>txHash</code> field (declared in subclass builder). So don&#39;t declare  same fields if they ware already declared in superclass. And don&#39;t override setters for those fields."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1642323514,"post_id":70728467,"comment_id":125036400,"body_markdown":"code is not calling the methods from parent class, ergo the fields of parent class are not being set. (an (indirect) consequence of having two fields for same 8attribute* as already written in previous comment) A subclass already includes the fields of the parent class(es) no *need* to repeat these.","body":"code is not calling the methods from parent class, ergo the fields of parent class are not being set. (an (indirect) consequence of having two fields for same 8attribute* as already written in previous comment) A subclass already includes the fields of the parent class(es) no <i>need</i> to repeat these."},{"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"score":0,"creation_date":1642323782,"post_id":70728467,"comment_id":125036451,"body_markdown":"@Pshemo, user16320675 That fixed it. Honestly I wouldn&#39;t have figured it out by myself. Thank you.","body":"@Pshemo, user16320675 That fixed it. Honestly I wouldn&#39;t have figured it out by myself. Thank you."}],"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642322186,"creation_date":1642321819,"question_id":70728467,"body_markdown":"I&#39;m following the implementation of subclassing a builder class from this stackoverflow answer.\r\n\r\nhttps://stackoverflow.com/a/17165079/11110509\r\n\r\nI&#39;ve been staring at my code for an hour now comparing it to the one in that answer. I can&#39;t for the life of me figure out what I&#39;m doing incorrectly because the ```builder``` passed from my child class to my ```parent``` class is giving me null values.\r\n\r\nMy parent class:\r\n\r\n```\r\npublic class BaseNft {\r\n\r\n    private static final String TAG = &quot;BaseNft&quot;;\r\n\r\n    private final String itemName;\r\n    private final String itemDescription;\r\n    private final String ownerOf;\r\n    private final String txHash;\r\n    \r\n    protected BaseNft(Builder&lt;?&gt; builder) {\r\n        itemName = builder.itemName;\r\n        itemDescription = builder.itemDescription;\r\n        ownerOf = builder.ownerOf;\r\n        txHash = builder.txHash;\r\n\r\n        Log.d(TAG, &quot;BaseNft: &quot; + txHash); //Returns null\r\n    }\r\n\r\n    public static class Builder&lt;T extends Builder&lt;T&gt;&gt; {\r\n        private String itemName;\r\n        private String itemDescription;\r\n        private String ownerOf;\r\n        private String txHash;\r\n        \r\n        public T itemName(String itemName) {\r\n            this.itemName = itemName;\r\n            return (T) this;\r\n        }\r\n\r\n        public T itemDescription(String itemDescription) {\r\n            this.itemDescription = itemDescription;\r\n            return (T) this;\r\n        }\r\n\r\n        public T ownerOf(String ownerOf) {\r\n            this.ownerOf = ownerOf;\r\n            return (T) this;\r\n        }\r\n\r\n        public T txHash(String txHash) {\r\n            this.txHash = txHash;\r\n            return (T) this;\r\n        }\r\n\r\n        \r\n        public BaseNft build() {\r\n            return new BaseNft(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy child class:\r\n\r\n```\r\npublic class Card extends BaseNft {\r\n\r\n    protected Card(Builder builder) {\r\n        super(builder);\r\n    }\r\n\r\n    public static class Builder extends BaseNft.Builder&lt;Builder&gt; {\r\n        private String cardName;\r\n        private String cardDescription;\r\n        private String ownerOf;\r\n        private String txHash;\r\n\r\n        public Builder itemName(String itemName) {\r\n            this.cardName = itemName;\r\n            return this;\r\n        }\r\n\r\n        public Builder itemDescription(String itemDescription) {\r\n            this.cardDescription = itemDescription;\r\n            return this;\r\n        }\r\n\r\n        public Builder ownerOf(String ownerOf) {\r\n            this.ownerOf = ownerOf;\r\n            return this;\r\n        }\r\n\r\n        public Builder txHash(String txHash) {\r\n            this.txHash = txHash;\r\n            return this;\r\n        }\r\n\r\n        public Card build() {\r\n            return new Card(this);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\nCard card = new Card.Builder()\r\n                .itemName(&quot;name&quot;)\r\n                .itemDescription(&quot;description&quot;)\r\n                .ownerOf(&quot;owner name&quot;)\r\n                .txHash(&quot;test txhash&quot;)\r\n                .build();\r\n```\r\n\r\nI&#39;ve traced the card creation with logs and in the ```build()``` method for my child class\r\n\r\n```\r\npublic Card build() {\r\n    //successfully returns values\r\n    return new Card(this);\r\n}\r\n```\r\n\r\nit successfully returns the name, description, owner, and txhash.\r\nBut in the parent class&#39;s constructor ```BaseNft``` they return null. I can&#39;t figure out why. Could someone please help me figure out what I&#39;m doing incorrectly?\r\n\r\n","title":"Subclassing a builder class giving me null when passing the builder from child to parent class","body":"<p>I'm following the implementation of subclassing a builder class from this stackoverflow answer.</p>\n<p><a href=\"https://stackoverflow.com/a/17165079/11110509\">https://stackoverflow.com/a/17165079/11110509</a></p>\n<p>I've been staring at my code for an hour now comparing it to the one in that answer. I can't for the life of me figure out what I'm doing incorrectly because the <code>builder</code> passed from my child class to my <code>parent</code> class is giving me null values.</p>\n<p>My parent class:</p>\n<pre><code>public class BaseNft {\n\n    private static final String TAG = &quot;BaseNft&quot;;\n\n    private final String itemName;\n    private final String itemDescription;\n    private final String ownerOf;\n    private final String txHash;\n    \n    protected BaseNft(Builder&lt;?&gt; builder) {\n        itemName = builder.itemName;\n        itemDescription = builder.itemDescription;\n        ownerOf = builder.ownerOf;\n        txHash = builder.txHash;\n\n        Log.d(TAG, &quot;BaseNft: &quot; + txHash); //Returns null\n    }\n\n    public static class Builder&lt;T extends Builder&lt;T&gt;&gt; {\n        private String itemName;\n        private String itemDescription;\n        private String ownerOf;\n        private String txHash;\n        \n        public T itemName(String itemName) {\n            this.itemName = itemName;\n            return (T) this;\n        }\n\n        public T itemDescription(String itemDescription) {\n            this.itemDescription = itemDescription;\n            return (T) this;\n        }\n\n        public T ownerOf(String ownerOf) {\n            this.ownerOf = ownerOf;\n            return (T) this;\n        }\n\n        public T txHash(String txHash) {\n            this.txHash = txHash;\n            return (T) this;\n        }\n\n        \n        public BaseNft build() {\n            return new BaseNft(this);\n        }\n    }\n}\n</code></pre>\n<p>My child class:</p>\n<pre><code>public class Card extends BaseNft {\n\n    protected Card(Builder builder) {\n        super(builder);\n    }\n\n    public static class Builder extends BaseNft.Builder&lt;Builder&gt; {\n        private String cardName;\n        private String cardDescription;\n        private String ownerOf;\n        private String txHash;\n\n        public Builder itemName(String itemName) {\n            this.cardName = itemName;\n            return this;\n        }\n\n        public Builder itemDescription(String itemDescription) {\n            this.cardDescription = itemDescription;\n            return this;\n        }\n\n        public Builder ownerOf(String ownerOf) {\n            this.ownerOf = ownerOf;\n            return this;\n        }\n\n        public Builder txHash(String txHash) {\n            this.txHash = txHash;\n            return this;\n        }\n\n        public Card build() {\n            return new Card(this);\n        }\n    }\n\n}\n</code></pre>\n<pre><code>Card card = new Card.Builder()\n                .itemName(&quot;name&quot;)\n                .itemDescription(&quot;description&quot;)\n                .ownerOf(&quot;owner name&quot;)\n                .txHash(&quot;test txhash&quot;)\n                .build();\n</code></pre>\n<p>I've traced the card creation with logs and in the <code>build()</code> method for my child class</p>\n<pre><code>public Card build() {\n    //successfully returns values\n    return new Card(this);\n}\n</code></pre>\n<p>it successfully returns the name, description, owner, and txhash.\nBut in the parent class's constructor <code>BaseNft</code> they return null. I can't figure out why. Could someone please help me figure out what I'm doing incorrectly?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1642344263,"post_id":70728348,"comment_id":125040655,"body_markdown":"use spring-cloud-starter instead of spring-cloud-starter-config","body":"use spring-cloud-starter instead of spring-cloud-starter-config"},{"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"score":0,"creation_date":1642348252,"post_id":70728348,"comment_id":125041644,"body_markdown":"yes i was doing the mistake after changing to spring-cloud-starter it worked.","body":"yes i was doing the mistake after changing to spring-cloud-starter it worked."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642321957,"creation_date":1642321957,"answer_id":70728481,"question_id":70728348,"body_markdown":"You need to have the actuator enabled on your application. Then you can just call the endpoint `/actuator/refresh` of your application, to refresh the beans that need to be refreshed.\r\n\r\nThe important thing you must understand is that, the actuator must be enabled on the client application of the config server, meaning the application that connects to the config server and not the actual config server.","title":"Refresh Scope without config Server","body":"<p>You need to have the actuator enabled on your application. Then you can just call the endpoint <code>/actuator/refresh</code> of your application, to refresh the beans that need to be refreshed.</p>\n<p>The important thing you must understand is that, the actuator must be enabled on the client application of the config server, meaning the application that connects to the config server and not the actual config server.</p>\n"}],"owner":{"account_id":13507264,"reputation":283,"user_id":9744855,"display_name":"Nisarg Bhagavantanavar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642321957,"creation_date":1642320548,"question_id":70728348,"body_markdown":"i want to refresh bean when database is updated in runtime, so want to use /refresh endpoint to manually trigger it and refresh bean with new value.\r\n\r\nbut currently we are not using config server - can anyone guide how i can only make use of refresh scope \r\n\r\nI just want to make use of refresh scope without needing config server.\r\n\r\nMy bean get value from the database for example\r\n```\r\n@Configuration\r\npublic class AppConfiguration {\r\n    @Autowired\r\n    MyRepository myRepo;\r\n\r\n    @Bean\r\n    @RefreshScope\r\n    DemoWebClient getDemoWebClient() {\r\n        String currentTime = new Date().getTime() + &quot;&quot;;\r\n        return new DemoWebClient(myRepo.getTenantId());\r\n    }\r\n\r\n}\r\n```\r\n\r\ntried to use spring cloud starter\r\n- but it is trying to connect config server\r\n\r\n```\r\n2022-01-16 13:25:10.733  INFO 17884 --- [-144.54.177.213] c.c.c.ConfigServicePropertySourceLocator : Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available\r\n2022-01-16 13:25:10.733  WARN 17884 --- [-144.54.177.213] c.c.c.ConfigServicePropertySourceLocator : Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n2022-01-16 13:25:13.836  INFO 17884 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n```\r\n\r\n```\r\ntried to disable config server lookup - didn&#39;t work\r\n\r\nspring.cloud.config.enabled=false\r\nspring.cloud.config.import-check.enabled=false\r\n```\r\n\r\n\r\nbelow is my pom\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;RefreshScopeDemoApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;RefreshScopeDemoApp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Hoxton.SR8&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n","title":"Refresh Scope without config Server","body":"<p>i want to refresh bean when database is updated in runtime, so want to use /refresh endpoint to manually trigger it and refresh bean with new value.</p>\n<p>but currently we are not using config server - can anyone guide how i can only make use of refresh scope</p>\n<p>I just want to make use of refresh scope without needing config server.</p>\n<p>My bean get value from the database for example</p>\n<pre><code>@Configuration\npublic class AppConfiguration {\n    @Autowired\n    MyRepository myRepo;\n\n    @Bean\n    @RefreshScope\n    DemoWebClient getDemoWebClient() {\n        String currentTime = new Date().getTime() + &quot;&quot;;\n        return new DemoWebClient(myRepo.getTenantId());\n    }\n\n}\n</code></pre>\n<p>tried to use spring cloud starter</p>\n<ul>\n<li>but it is trying to connect config server</li>\n</ul>\n<pre><code>2022-01-16 13:25:10.733  INFO 17884 --- [-144.54.177.213] c.c.c.ConfigServicePropertySourceLocator : Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available\n2022-01-16 13:25:10.733  WARN 17884 --- [-144.54.177.213] c.c.c.ConfigServicePropertySourceLocator : Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/application/default&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n2022-01-16 13:25:13.836  INFO 17884 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n</code></pre>\n<pre><code>tried to disable config server lookup - didn't work\n\nspring.cloud.config.enabled=false\nspring.cloud.config.import-check.enabled=false\n</code></pre>\n<p>below is my pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;RefreshScopeDemoApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;RefreshScopeDemoApp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR8&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642074189,"post_id":70695866,"comment_id":124977814,"body_markdown":"Why does the API even define what it produces if it doesn&#39;t return anything (`ResponseEntity&lt;Void&gt;`)?","body":"Why does the API even define what it produces if it doesn&#39;t return anything (<code>ResponseEntity&lt;Void&gt;</code>)?"},{"owner":{"account_id":23929086,"reputation":1,"user_id":17923858,"display_name":"Nourhan"},"score":0,"creation_date":1642074993,"post_id":70695866,"comment_id":124978087,"body_markdown":"I am really don&#39;t know , this API from another team @Thomas","body":"I am really don&#39;t know , this API from another team @Thomas"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642075031,"post_id":70695866,"comment_id":124978102,"body_markdown":"What about adding `application/problem+json` to the `Accept`-header?","body":"What about adding <code>application&#47;problem+json</code> to the <code>Accept</code>-header?"},{"owner":{"account_id":23929086,"reputation":1,"user_id":17923858,"display_name":"Nourhan"},"score":0,"creation_date":1642075563,"post_id":70695866,"comment_id":124978290,"body_markdown":"@dan1st I will try","body":"@dan1st I will try"},{"owner":{"account_id":23929086,"reputation":1,"user_id":17923858,"display_name":"Nourhan"},"score":0,"creation_date":1642082206,"post_id":70695866,"comment_id":124981001,"body_markdown":"@dan1st same problem","body":"@dan1st same problem"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1642099768,"post_id":70695866,"comment_id":124988349,"body_markdown":"Why do you need the `produces = { &quot;application/problem+json&quot; }` anyways?","body":"Why do you need the <code>produces = { &quot;application&#47;problem+json&quot; }</code> anyways?"}],"owner":{"account_id":23929086,"reputation":1,"user_id":17923858,"display_name":"Nourhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642321369,"creation_date":1642073458,"question_id":70695866,"body_markdown":" I have a problem calling \r\nthis Api \r\n```\r\n@PostMapping(\r\n    value = &quot;/v1alpha/accounts/{accountId}/mailboxes/{mailboxId}:disable&quot;,\r\n    produces = { &quot;application/problem+json&quot; }\r\n)\r\ndefault ResponseEntity&lt;Void&gt; _disableMailbox(@Pattern(regexp=&quot;^[a-zA-Z]{6}$&quot;) @Size(min=6,max=6) @ApiParam(value = &quot;The unique 6 character internal id that represents the customer account.&quot;,required=true) @PathVariable(&quot;accountId&quot;) String accountId,@Pattern(regexp=&quot;^[0-9a-fA-F]{8}\\\\-[0-9a-fA-F]{4}\\\\-[0-9a-fA-F]{4}\\\\-[0-9a-fA-F]{4}\\\\-[0-9a-fA-F]{12}$&quot;) @Size(min=36,max=36) @ApiParam(value = &quot;The unique 36 character internal id that represents the mailbox.&quot;,required=true) @PathVariable(&quot;mailboxId&quot;) String mailboxId) throws Exception {\r\n    return disableMailbox(accountId, mailboxId);\r\n}\r\n```\r\n\r\nI always got :\r\nERROR : \r\n```&quot;406 Not Acceptable: [{\\&quot;type\\&quot;:\\&quot;https://developers/error-handling\\&quot;,\\&quot;title\\&quot;:\\&quot;Not Acceptable\\&quot;,\\&quot;status\\&quot;:406,\\&quot;detail\\&quot;:\\&quot;Could not find acceptable representation\\&quot;}]&quot;```\r\n \r\nI tried to change headers but it didn&#39;t work \r\n\r\nheaders \r\n```\r\n[Content-Type:&quot;application/json&quot;, Accept:&quot;application/json, text/plain, */*&quot; ]\r\n```","title":"&quot;406 Not Acceptable&quot;","body":"<p>I have a problem calling\nthis Api</p>\n<pre><code>@PostMapping(\n    value = &quot;/v1alpha/accounts/{accountId}/mailboxes/{mailboxId}:disable&quot;,\n    produces = { &quot;application/problem+json&quot; }\n)\ndefault ResponseEntity&lt;Void&gt; _disableMailbox(@Pattern(regexp=&quot;^[a-zA-Z]{6}$&quot;) @Size(min=6,max=6) @ApiParam(value = &quot;The unique 6 character internal id that represents the customer account.&quot;,required=true) @PathVariable(&quot;accountId&quot;) String accountId,@Pattern(regexp=&quot;^[0-9a-fA-F]{8}\\\\-[0-9a-fA-F]{4}\\\\-[0-9a-fA-F]{4}\\\\-[0-9a-fA-F]{4}\\\\-[0-9a-fA-F]{12}$&quot;) @Size(min=36,max=36) @ApiParam(value = &quot;The unique 36 character internal id that represents the mailbox.&quot;,required=true) @PathVariable(&quot;mailboxId&quot;) String mailboxId) throws Exception {\n    return disableMailbox(accountId, mailboxId);\n}\n</code></pre>\n<p>I always got :\nERROR :\n<code>&quot;406 Not Acceptable: [{\\&quot;type\\&quot;:\\&quot;https://developers/error-handling\\&quot;,\\&quot;title\\&quot;:\\&quot;Not Acceptable\\&quot;,\\&quot;status\\&quot;:406,\\&quot;detail\\&quot;:\\&quot;Could not find acceptable representation\\&quot;}]&quot;</code></p>\n<p>I tried to change headers but it didn't work</p>\n<p>headers</p>\n<pre><code>[Content-Type:&quot;application/json&quot;, Accept:&quot;application/json, text/plain, */*&quot; ]\n</code></pre>\n"},{"tags":["java","android","location"],"comments":[{"owner":{"account_id":1339111,"reputation":4940,"user_id":1281180,"accept_rate":21,"display_name":"blackkara"},"score":0,"creation_date":1466906501,"post_id":38034538,"comment_id":63509206,"body_markdown":"Are you sure that getLastKnownLocation() returns not null ?","body":"Are you sure that getLastKnownLocation() returns not null ?"},{"owner":{"account_id":7217384,"reputation":101,"user_id":5509299,"display_name":"Daknife"},"score":0,"creation_date":1466907408,"post_id":38034538,"comment_id":63509349,"body_markdown":"I put in a check to do a Toast and then stop if getLastKnownLocation()  returned null and it still crashed.","body":"I put in a check to do a Toast and then stop if getLastKnownLocation()  returned null and it still crashed."},{"owner":{"account_id":1339111,"reputation":4940,"user_id":1281180,"accept_rate":21,"display_name":"blackkara"},"score":0,"creation_date":1466907659,"post_id":38034538,"comment_id":63509376,"body_markdown":"So whats the crash log ?","body":"So whats the crash log ?"},{"owner":{"account_id":7217384,"reputation":101,"user_id":5509299,"display_name":"Daknife"},"score":0,"creation_date":1466908629,"post_id":38034538,"comment_id":63509508,"body_markdown":"I took the suggestion a little further and the problem seems to be that getBestProvider() is returning null. Any suggestions for an alternate way to make that call?","body":"I took the suggestion a little further and the problem seems to be that getBestProvider() is returning null. Any suggestions for an alternate way to make that call?"},{"owner":{"account_id":1339111,"reputation":4940,"user_id":1281180,"accept_rate":21,"display_name":"blackkara"},"score":0,"creation_date":1466908938,"post_id":38034538,"comment_id":63509549,"body_markdown":"Instead of getting getBestProvider, i suggest directly using gps or network providers. Or you could use fused location provider too.","body":"Instead of getting getBestProvider, i suggest directly using gps or network providers. Or you could use fused location provider too."},{"owner":{"account_id":7217384,"reputation":101,"user_id":5509299,"display_name":"Daknife"},"score":0,"creation_date":1466951471,"post_id":38034538,"comment_id":63518782,"body_markdown":"I found the solution to the problem. Marshmallow has individual permissions for each app and the permission for Locations for my app wasn&#39;t turned on.","body":"I found the solution to the problem. Marshmallow has individual permissions for each app and the permission for Locations for my app wasn&#39;t turned on."},{"owner":{"account_id":1501507,"reputation":9507,"user_id":1405983,"accept_rate":64,"display_name":"Hardik Joshi"},"score":0,"creation_date":1499450025,"post_id":38034538,"comment_id":76928930,"body_markdown":"Hello @Daknife can you share how you resolved above issue?","body":"Hello @Daknife can you share how you resolved above issue?"}],"owner":{"account_id":7217384,"reputation":101,"user_id":5509299,"display_name":"Daknife"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642319368,"creation_date":1466905732,"question_id":38034538,"body_markdown":"I have an app that has worked for a year on my Galaxy S6 and my Brother&#39;s Galaxy S4.  \r\nHe recently bought a new Galaxy S7 and the App crashes when it tries to access the location services.  \r\nI&#39;ve searched the internet diligently but I can&#39;t find any reference to why this might happen.  \r\nHe has Location Services turned on and I&#39;ve done the proper permission requests (as far as I can determine).  \r\nI&#39;ve coded a much smaller app that just accesses the location services and gets a location which works fine on my S5 but it also crashes immediately upon initial execution when he runs this barebones app also.  \r\nI&#39;ve included the code below hoping someone can help me find the problem:\r\n\r\n    public class MainActivity extends AppCompatActivity implements LocationListener {\r\n        static LocationManager locationManager;\r\n        public static double currentLat, currentLon;\r\n        public static Location location;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            Criteria criteria = new Criteria();\r\n            criteria.setAccuracy(Criteria.ACCURACY_FINE);\r\n            criteria.setSpeedRequired(true);\r\n            criteria.setAltitudeRequired(true);\r\n            criteria.setBearingRequired(false);\r\n            criteria.setCostAllowed(true);\r\n            criteria.setPowerRequirement(Criteria.POWER_LOW);\r\n            //Acquire a reference to the system Location Manager\r\n    \r\n            String provider;\r\n            locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n            provider = locationManager.getBestProvider(criteria, false);\r\n    \r\n            if (locationManager != null) {\r\n                if ( ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                        || ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                    locationManager.removeUpdates(this);\r\n                }\r\n            }\r\n    \r\n            locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1, 1, this);\r\n            location = locationManager.getLastKnownLocation(provider);\r\n    \r\n            currentLat = location.getLatitude();\r\n            currentLon = location.getLongitude();\r\n    \r\n            FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                            .setAction(&quot;Action&quot;, null).show();\r\n    \r\n                    openMapActivity();\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle action bar item clicks here. The action bar will\r\n            // automatically handle clicks on the Home/Up button, so long\r\n            // as you specify a parent activity in AndroidManifest.xml.\r\n            int id = item.getItemId();\r\n    \r\n            //noinspection SimplifiableIfStatement\r\n            if (id == R.id.action_settings) {\r\n                return true;\r\n            }\r\n    \r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n    \r\n        }\r\n    \r\n            @Override\r\n        public void onProviderDisabled(String provider) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onStatusChanged(String provider, int status, Bundle extras) {\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onProviderEnabled(String provider) {\r\n    \r\n    \r\n            if (locationManager != null) {\r\n                if ( ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                        || ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                    locationManager.removeUpdates(this);\r\n                }\r\n            }\r\n    \r\n            locationManager.removeUpdates(this);\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        public void openMapActivity(){\r\n            // if bReady is false there hasn&#39;t been a new location recorded. Use the last known location to\r\n            // place the camera on the map\r\n            Intent intent = new Intent(this, MapsActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    \r\n    }\r\n\r\n    \r\n\r\n\r\nAnd here is the Manifest\r\n\r\n    \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.daknife.locationtest&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;!--\r\n                 The API key for Google Maps-based APIs is defined as a string resource.\r\n                 (See the file &quot;res/values/google_maps_api.xml&quot;).\r\n                 Note that the API key is linked to the encryption key used to sign the APK.\r\n                 You need a different API key for each encryption key, including the release key that is used to\r\n                 sign the APK for publishing.\r\n                 You can define the keys for the debug and release targets in src/debug/ and src/release/. \r\n            --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.MapsActivity&quot;\r\n                android:label=&quot;@string/title_activity_maps&quot;&gt;&lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n","title":"Samsung Galaxy S7 Crash Getting Location","body":"<p>I have an app that has worked for a year on my Galaxy S6 and my Brother's Galaxy S4.<br>\nHe recently bought a new Galaxy S7 and the App crashes when it tries to access the location services.<br>\nI've searched the internet diligently but I can't find any reference to why this might happen.<br>\nHe has Location Services turned on and I've done the proper permission requests (as far as I can determine).<br>\nI've coded a much smaller app that just accesses the location services and gets a location which works fine on my S5 but it also crashes immediately upon initial execution when he runs this barebones app also.<br>\nI've included the code below hoping someone can help me find the problem:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements LocationListener {\n    static LocationManager locationManager;\n    public static double currentLat, currentLon;\n    public static Location location;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        Criteria criteria = new Criteria();\n        criteria.setAccuracy(Criteria.ACCURACY_FINE);\n        criteria.setSpeedRequired(true);\n        criteria.setAltitudeRequired(true);\n        criteria.setBearingRequired(false);\n        criteria.setCostAllowed(true);\n        criteria.setPowerRequirement(Criteria.POWER_LOW);\n        //Acquire a reference to the system Location Manager\n\n        String provider;\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n        provider = locationManager.getBestProvider(criteria, false);\n\n        if (locationManager != null) {\n            if ( ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    || ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                locationManager.removeUpdates(this);\n            }\n        }\n\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1, 1, this);\n        location = locationManager.getLastKnownLocation(provider);\n\n        currentLat = location.getLatitude();\n        currentLon = location.getLongitude();\n\n        FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                        .setAction(\"Action\", null).show();\n\n                openMapActivity();\n\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n\n\n    @Override\n    public void onLocationChanged(Location location) {\n\n    }\n\n        @Override\n    public void onProviderDisabled(String provider) {\n\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {\n\n    }\n\n\n    @Override\n    public void onProviderEnabled(String provider) {\n\n\n        if (locationManager != null) {\n            if ( ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    || ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                locationManager.removeUpdates(this);\n            }\n        }\n\n        locationManager.removeUpdates(this);\n\n\n    }\n\n\n    public void openMapActivity(){\n        // if bReady is false there hasn't been a new location recorded. Use the last known location to\n        // place the camera on the map\n        Intent intent = new Intent(this, MapsActivity.class);\n        startActivity(intent);\n    }\n\n}\n</code></pre>\n\n<p>And here is the Manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.daknife.locationtest\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/app_name\"\n            android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;!--\n             The API key for Google Maps-based APIs is defined as a string resource.\n             (See the file \"res/values/google_maps_api.xml\").\n             Note that the API key is linked to the encryption key used to sign the APK.\n             You need a different API key for each encryption key, including the release key that is used to\n             sign the APK for publishing.\n             You can define the keys for the debug and release targets in src/debug/ and src/release/. \n        --&gt;\n        &lt;meta-data\n            android:name=\"com.google.android.geo.API_KEY\"\n            android:value=\"@string/google_maps_key\" /&gt;\n\n        &lt;activity\n            android:name=\".MapsActivity\"\n            android:label=\"@string/title_activity_maps\"&gt;&lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","http-status-code-404","servletexception"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642168167,"post_id":70711384,"comment_id":125005551,"body_markdown":"when you deploy to a standalone tomcat, you should know the context path! (What is the name of the &quot;.war&quot; ? Why you didn&#39;t post the brwoser url? (which you issued in browser, which would be a *crucial detail* regarding this &quot;issue&quot;!?)","body":"when you deploy to a standalone tomcat, you should know the context path! (What is the name of the &quot;.war&quot; ? Why you didn&#39;t post the brwoser url? (which you issued in browser, which would be a <i>crucial detail</i> regarding this &quot;issue&quot;!?)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642168476,"post_id":70711384,"comment_id":125005676,"body_markdown":"please additionally &quot;do&quot;: https://spring.io/blog/2014/03/07/deploying-spring-boot-applications#what-about-the-java-ee-application-server respectively &quot;study&quot;: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment","body":"please additionally &quot;do&quot;: <a href=\"https://spring.io/blog/2014/03/07/deploying-spring-boot-applications#what-about-the-java-ee-application-server\" rel=\"nofollow noreferrer\">spring.io/blog/2014/03/07/&hellip;</a> respectively &quot;study&quot;: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642168622,"post_id":70711384,"comment_id":125005751,"body_markdown":"the 404 (on `/error` ..circular) seems to be a &quot;follow-up symptom&quot; ...I am missing a `WebApplicationInitializer`/`SpringBootServletInitializer`! ;)","body":"the 404 (on <code>&#47;error</code> ..circular) seems to be a &quot;follow-up symptom&quot; ...I am missing a <code>WebApplicationInitializer</code>/<code>SpringBootServletInitializer</code>! ;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642169133,"post_id":70711384,"comment_id":125005970,"body_markdown":"I &quot;studied&quot; for us! :) Actually we need only: 1. `&lt;packaging&gt;war&lt;/packaging&gt;` (or its gradle variant) 2. A(n auto-scanned) ServletInitilizer like [here](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.2&amp;packaging=war&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=war-app&amp;name=war-app&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.warapp&amp;dependencies=web) 3. Deploy &quot;myApp.war&quot; to standalone tomcat (little wait, watch logs) 4. Issue `[protocol://]&lt;server_host&gt;[:server_port]/myApp/greet` from browser/curl/postman .","body":"I &quot;studied&quot; for us! :) Actually we need only: 1. <code>&lt;packaging&gt;war&lt;&#47;packaging&gt;</code> (or its gradle variant) 2. A(n auto-scanned) ServletInitilizer like <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.2&amp;packaging=war&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=war-app&amp;name=war-app&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.warapp&amp;dependencies=web\" rel=\"nofollow noreferrer\">here</a> 3. Deploy &quot;myApp.war&quot; to standalone tomcat (little wait, watch logs) 4. Issue <code>[protocol:&#47;&#47;]&lt;server_host&gt;[:server_port]&#47;myApp&#47;greet</code> from browser/curl/postman ."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642169434,"post_id":70711384,"comment_id":125006090,"body_markdown":"note the &quot;packaging&quot; option of spring-starter! And important (to know): in embedded/default config &quot;context root&quot; is at: `http://localhost:8080/` ..in a standalone container (tomcat) it would be: `http://localhost:8080/&lt;full_name_of_war_file_without_dot&gt;/` (in maven `full_name_of_war_file_without_dot` would &quot;default to&quot; `${build.finalName}`)","body":"note the &quot;packaging&quot; option of spring-starter! And important (to know): in embedded/default config &quot;context root&quot; is at: <code>http:&#47;&#47;localhost:8080&#47;</code> ..in a standalone container (tomcat) it would be: <code>http:&#47;&#47;localhost:8080&#47;&lt;full_name_of_war_file_without_dot&gt;&#47;</code> (in maven <code>full_name_of_war_file_without_dot</code> would &quot;default to&quot; <code>${build.finalName}</code>)"},{"owner":{"account_id":2727620,"reputation":95,"user_id":2352218,"display_name":"Harsh Sengar"},"score":0,"creation_date":1642170533,"post_id":70711384,"comment_id":125006562,"body_markdown":"@xerx593 My doubt is that I am not packaging my solution to be a war or jar, I just want to have an endpoint running to which I can call and output something on browser or curl response. Please enlighten me if I sound naive. Thanks","body":"@xerx593 My doubt is that I am not packaging my solution to be a war or jar, I just want to have an endpoint running to which I can call and output something on browser or curl response. Please enlighten me if I sound naive. Thanks"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642170661,"post_id":70711384,"comment_id":125006611,"body_markdown":"[start with this](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.2&amp;packaging=war&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=war-app&amp;name=war-app&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.warapp&amp;dependencies=web) (your name, your company...)","body":"<a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.6.2&amp;packaging=war&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=war-app&amp;name=war-app&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.warapp&amp;dependencies=web\" rel=\"nofollow noreferrer\">start with this</a> (your name, your company...)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1642170732,"post_id":70711384,"comment_id":125006643,"body_markdown":"..add your controller to it (in the correct package - same or child package of SpringBootApplication).","body":"..add your controller to it (in the correct package - same or child package of SpringBootApplication)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1642170906,"post_id":70711384,"comment_id":125006709,"body_markdown":"to tun embedded: `mvn spring-boot:run`, then greeting will be at `http://localhost:8080/greet` .","body":"to tun embedded: <code>mvn spring-boot:run</code>, then greeting will be at <code>http:&#47;&#47;localhost:8080&#47;greet</code> ."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1642170986,"post_id":70711384,"comment_id":125006754,"body_markdown":"to tun standalone: 1.`mvn clean package` 2. copy war file to `$CATALINA_HOME/webapps` 3. wait/watch logs 4. `http://localhost:8080/&lt;name_of_file&gt;/greet`","body":"to tun standalone: 1.<code>mvn clean package</code> 2. copy war file to <code>$CATALINA_HOME&#47;webapps</code> 3. wait/watch logs 4. <code>http:&#47;&#47;localhost:8080&#47;&lt;name_of_file&gt;&#47;greet</code>"},{"owner":{"account_id":2727620,"reputation":95,"user_id":2352218,"display_name":"Harsh Sengar"},"score":0,"creation_date":1642173053,"post_id":70711384,"comment_id":125007620,"body_markdown":"@xerx593 So the good news is that finally Hello World is returned. I have two queries:\n\n1) Why do I have to keep the controller class in same package as SpringBootApplication ?\n2) How do I run my endpoint without Apache Tomcat ?","body":"@xerx593 So the good news is that finally Hello World is returned. I have two queries:  1) Why do I have to keep the controller class in same package as SpringBootApplication ? 2) How do I run my endpoint without Apache Tomcat ?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642173959,"post_id":70711384,"comment_id":125007958,"body_markdown":"1. https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.structuring-your-code","body":"1. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.structuring-your-code\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1642173977,"post_id":70711384,"comment_id":125007968,"body_markdown":"2. `[mvn|gradle] spring-boot:run` ;)","body":"2. <code>[mvn|gradle] spring-boot:run</code> ;)"},{"owner":{"account_id":2727620,"reputation":95,"user_id":2352218,"display_name":"Harsh Sengar"},"score":1,"creation_date":1642175059,"post_id":70711384,"comment_id":125008401,"body_markdown":"@xerx593 Thanks a lot for the help. Now I can play around more to understand Spring world.","body":"@xerx593 Thanks a lot for the help. Now I can play around more to understand Spring world."}],"answers":[{"tags":[],"owner":{"account_id":2727620,"reputation":95,"user_id":2352218,"display_name":"Harsh Sengar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642319171,"creation_date":1642175225,"answer_id":70713157,"question_id":70711384,"body_markdown":"So the solution as pointed out by xerx593 is below:\r\n\r\n 1. Make sure to select packaging as war/jar in https://start.spring.io/.\r\n 2. Import the zip file.\r\n 3. Add your controller class in same or child package of SpringBootApplication, refer this for more info https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.structuring-your-code.\r\n 4. Open terminal and change directory to working folder.\r\n 5. Run mvn spring-boot:run if using maven.\r\n 6. Hit the endpoint for example http://localhost:8080/greet or curl request.\r\n\r\nAlso I have noticed that 8080 port is listening but spring boot fails to register on it, in this case set \r\n```\r\nserver.port = port other than 8080 \r\n```\r\nin application.properties.\r\n\r\n[![8080 listening][1]][1]\r\n\r\n\r\n[![application properties file][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HnMcm.png\r\n  [2]: https://i.stack.imgur.com/bF9d2.png","title":"spring boot application running but endpoint throwing 404","body":"<p>So the solution as pointed out by xerx593 is below:</p>\n<ol>\n<li>Make sure to select packaging as war/jar in <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>.</li>\n<li>Import the zip file.</li>\n<li>Add your controller class in same or child package of SpringBootApplication, refer this for more info <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.structuring-your-code\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.structuring-your-code</a>.</li>\n<li>Open terminal and change directory to working folder.</li>\n<li>Run mvn spring-boot:run if using maven.</li>\n<li>Hit the endpoint for example http://localhost:8080/greet or curl request.</li>\n</ol>\n<p>Also I have noticed that 8080 port is listening but spring boot fails to register on it, in this case set</p>\n<pre><code>server.port = port other than 8080 \n</code></pre>\n<p>in application.properties.</p>\n<p><a href=\"https://i.stack.imgur.com/HnMcm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HnMcm.png\" alt=\"8080 listening\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bF9d2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bF9d2.png\" alt=\"application properties file\" /></a></p>\n"}],"owner":{"account_id":2727620,"reputation":95,"user_id":2352218,"display_name":"Harsh Sengar"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3296,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70713157,"answer_count":1,"score":3,"last_activity_date":1642319171,"creation_date":1642167321,"question_id":70711384,"body_markdown":"I was trying my hand at writing a sample Spring Boot application. \r\n\r\nMy initial thought was it&#39;s an easy example to follow and write but I am not able to print a simple statement upon hitting my endpoint. \r\n\r\nI don&#39;t want to use any view (HTML,JSP etc) right now as I want to learn the backend first.\r\n\r\nI have followed:\r\n\r\n- [Getting Started](https://docs.spring.io/spring-boot/docs/1.1.4.RELEASE/reference/html/getting-started-first-application.html)\r\n\r\n- [Spring Boot Guide](https://spring.io/guides/gs/spring-boot/) \r\n\r\nHowever, still stuck after a whole day of googling.\r\n\r\nSo let me reiterate the steps, I did.\r\n\r\n 1. Initialized a spring boot project from `spring.io` and downloaded `zip`.\r\n 2. Extracted the zip and imported it into Eclipse.\r\n 3. Configured a Rest Controller with an endpoint to just print a hello world statement.\r\n 4. `Tomcat 9.0.56` is present on my system.\r\n 5. Running TodoApplication as Java application or Spring boot.\r\n 6. URL I am hitting is `http://localhost:8080/greet`\r\n\r\n```\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class HelloWorldController {\r\n\t@GetMapping(&quot;/greet&quot;)\r\n\tpublic String sayHelloWorld() {\r\n\t\treturn &quot;Hello World&quot;;\r\n\t}\r\n}\r\n```\r\nSpring Boot Application:\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class TodoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TodoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n***pom*** file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.sample&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;todo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;name&gt;todo&lt;/name&gt;\r\n\t&lt;description&gt;Back-end for To DO App&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAfter navigating `greet` URL:\r\n\r\n[![URL not present error][2]][2]\r\n\r\nGot the following exception at console:\r\n\r\n[![Spring boot Circular view error][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TF6EK.png\r\n  [2]: https://i.stack.imgur.com/ZL5KT.png","title":"spring boot application running but endpoint throwing 404","body":"<p>I was trying my hand at writing a sample Spring Boot application.</p>\n<p>My initial thought was it's an easy example to follow and write but I am not able to print a simple statement upon hitting my endpoint.</p>\n<p>I don't want to use any view (HTML,JSP etc) right now as I want to learn the backend first.</p>\n<p>I have followed:</p>\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring-boot/docs/1.1.4.RELEASE/reference/html/getting-started-first-application.html\" rel=\"nofollow noreferrer\">Getting Started</a></p>\n</li>\n<li><p><a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">Spring Boot Guide</a></p>\n</li>\n</ul>\n<p>However, still stuck after a whole day of googling.</p>\n<p>So let me reiterate the steps, I did.</p>\n<ol>\n<li>Initialized a spring boot project from <code>spring.io</code> and downloaded <code>zip</code>.</li>\n<li>Extracted the zip and imported it into Eclipse.</li>\n<li>Configured a Rest Controller with an endpoint to just print a hello world statement.</li>\n<li><code>Tomcat 9.0.56</code> is present on my system.</li>\n<li>Running TodoApplication as Java application or Spring boot.</li>\n<li>URL I am hitting is <code>http://localhost:8080/greet</code></li>\n</ol>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloWorldController {\n    @GetMapping(&quot;/greet&quot;)\n    public String sayHelloWorld() {\n        return &quot;Hello World&quot;;\n    }\n}\n</code></pre>\n<p>Spring Boot Application:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TodoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TodoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><em><strong>pom</strong></em> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;todo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;todo&lt;/name&gt;\n    &lt;description&gt;Back-end for To DO App&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>After navigating <code>greet</code> URL:</p>\n<p><a href=\"https://i.stack.imgur.com/ZL5KT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZL5KT.png\" alt=\"URL not present error\" /></a></p>\n<p>Got the following exception at console:</p>\n<p><a href=\"https://i.stack.imgur.com/TF6EK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TF6EK.png\" alt=\"Spring boot Circular view error\" /></a></p>\n"},{"tags":["java","spring","macos","maven","aspectj"],"answers":[{"tags":[],"owner":{"account_id":50702,"reputation":3853,"user_id":151287,"accept_rate":54,"display_name":"iQ."},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1407583545,"creation_date":1407583545,"answer_id":25218056,"question_id":25205952,"body_markdown":"Right so after much tinkering, it seems the issue was that the environment it was being built on, had a JDK 8 installed and the aspectjweaver version was not compatible with it.\r\n\r\nTherefore two solutions:\r\n\r\n1. Install JDK7 and set that as the JAVA_HOME before building.\r\n \r\nor\r\n\r\n2. Set source/target to 1.8, set aspectjweaver to 1.8.1 version and that works.\r\n\r\nThe error message wasn&#39;t clear but it&#39;s sorted now.","title":"Two Maven Errors - &#39;Type Cannot Be Resolved&#39; + aspect weaver.1.8.0.M1 missing","body":"<p>Right so after much tinkering, it seems the issue was that the environment it was being built on, had a JDK 8 installed and the aspectjweaver version was not compatible with it.</p>\n\n<p>Therefore two solutions:</p>\n\n<ol>\n<li>Install JDK7 and set that as the JAVA_HOME before building.</li>\n</ol>\n\n<p>or</p>\n\n<ol>\n<li>Set source/target to 1.8, set aspectjweaver to 1.8.1 version and that works.</li>\n</ol>\n\n<p>The error message wasn't clear but it's sorted now.</p>\n"},{"tags":[],"owner":{"account_id":21846776,"reputation":1,"user_id":16139485,"display_name":"Aaron MAJAMBO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642318330,"creation_date":1642241908,"answer_id":70720550,"question_id":25205952,"body_markdown":"I was struggling with the same issue while building my project with maven.\r\n\r\n`[ERROR] The type java.lang.RuntimeException cannot be resolved. It is indirectly referenced from required .class files`\r\n\r\nI have Java 1.8 and Java 17 installed, running on MacOS M1, with Source+Target version set to 1.8 and `aspect weaver` complianceLevel set to 1.8\r\n\r\nI run this command to see the installed JDKs on my machine:\r\n`/usr/libexec/java_home -V` which gave the following output:\r\n\r\n`Matching Java Virtual Machines (3):`\r\n\r\n    17 (arm64) &quot;Oracle Corporation&quot; - &quot;Java SE 17&quot; /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\r\n    15.0.2 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 15&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home\r\n    1.8.0_312 (x86_64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot; /Library/Java/JavaVirtualMachines/corretto-1.8.0_312/Contents/Home`\r\n\r\nIt amounted to my environment not set up properly. I had the JAVA_HOME pointing to JDK 17 \r\n\r\n`java -version`\r\n\r\n`java version &quot;17&quot; 2021-09-14 LTS\r\nJava(TM) SE Runtime Environment (build 17+35-LTS-2724)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)`\r\n\r\nI was able to compile and build my project successfully after running this command :\r\n\r\n`unset JAVA_HOME`\r\n\r\n`export JAVA_HOME=$(/usr/libexec/java_home -v &quot;1.8.0_312&quot;)`\r\n\r\n\r\n\r\n","title":"Two Maven Errors - &#39;Type Cannot Be Resolved&#39; + aspect weaver.1.8.0.M1 missing","body":"<p>I was struggling with the same issue while building my project with maven.</p>\n<p><code>[ERROR] The type java.lang.RuntimeException cannot be resolved. It is indirectly referenced from required .class files</code></p>\n<p>I have Java 1.8 and Java 17 installed, running on MacOS M1, with Source+Target version set to 1.8 and <code>aspect weaver</code> complianceLevel set to 1.8</p>\n<p>I run this command to see the installed JDKs on my machine:\n<code>/usr/libexec/java_home -V</code> which gave the following output:</p>\n<p><code>Matching Java Virtual Machines (3):</code></p>\n<pre><code>17 (arm64) &quot;Oracle Corporation&quot; - &quot;Java SE 17&quot; /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\n15.0.2 (x86_64) &quot;AdoptOpenJDK&quot; - &quot;AdoptOpenJDK 15&quot; /Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home\n1.8.0_312 (x86_64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot; /Library/Java/JavaVirtualMachines/corretto-1.8.0_312/Contents/Home`\n</code></pre>\n<p>It amounted to my environment not set up properly. I had the JAVA_HOME pointing to JDK 17</p>\n<p><code>java -version</code></p>\n<p><code>java version &quot;17&quot; 2021-09-14 LTS Java(TM) SE Runtime Environment (build 17+35-LTS-2724) Java HotSpot(TM) 64-Bit Server VM (build 17+35-LTS-2724, mixed mode, sharing)</code></p>\n<p>I was able to compile and build my project successfully after running this command :</p>\n<p><code>unset JAVA_HOME</code></p>\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home -v &quot;1.8.0_312&quot;)</code></p>\n"}],"owner":{"account_id":50702,"reputation":3853,"user_id":151287,"accept_rate":54,"display_name":"iQ."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6894,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25218056,"answer_count":2,"score":4,"last_activity_date":1642318330,"creation_date":1407508512,"question_id":25205952,"body_markdown":"I have two errors on an existing mvm project I am trying to build and not sure how to get these resolved.\r\n\r\nFirst the **main one**:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:aspectj-maven-plugin:1.5:compile (default) on project ws: Compiler errors:\r\n    The type java.util.Comparator cannot be resolved. It is indirectly referenced from required .class files\r\n\r\nThis one is bugging me a bit, I mean this is from the main JRE so I am not sure what this error means. I am building this from the command line and not through Eclipse or other IDEs at this stage. Most answers on the web seem to be based on putting the JRE on the project build path within eclipse.\r\n\r\nI have Java 1.8 installed, running on OSX. My Java Source+Target version is 1.7.\r\n\r\nThe second is a warning, which I am not too fussed but I would like to remove it if I can:\r\n\r\n    [WARNING] The POM for org.aspectj:aspectjweaver:jar:1.8.0.M1 is missing, no dependency information available\r\n\r\nNow I believe this is coming from Spring-Aspects-4.0 which I have dependency on, I have set an explicit decency on the POM to 1.7.4 (stable).\r\n\r\nAnyway I can remove this warning, or do I need to put a dependency on the 1.8.0.M1 on my POM which I do not want to do.\r\n","title":"Two Maven Errors - &#39;Type Cannot Be Resolved&#39; + aspect weaver.1.8.0.M1 missing","body":"<p>I have two errors on an existing mvm project I am trying to build and not sure how to get these resolved.</p>\n\n<p>First the <strong>main one</strong>:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:aspectj-maven-plugin:1.5:compile (default) on project ws: Compiler errors:\nThe type java.util.Comparator cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n\n<p>This one is bugging me a bit, I mean this is from the main JRE so I am not sure what this error means. I am building this from the command line and not through Eclipse or other IDEs at this stage. Most answers on the web seem to be based on putting the JRE on the project build path within eclipse.</p>\n\n<p>I have Java 1.8 installed, running on OSX. My Java Source+Target version is 1.7.</p>\n\n<p>The second is a warning, which I am not too fussed but I would like to remove it if I can:</p>\n\n<pre><code>[WARNING] The POM for org.aspectj:aspectjweaver:jar:1.8.0.M1 is missing, no dependency information available\n</code></pre>\n\n<p>Now I believe this is coming from Spring-Aspects-4.0 which I have dependency on, I have set an explicit decency on the POM to 1.7.4 (stable).</p>\n\n<p>Anyway I can remove this warning, or do I need to put a dependency on the 1.8.0.M1 on my POM which I do not want to do.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":1571361,"reputation":7139,"user_id":1458983,"accept_rate":59,"display_name":"woemler"},"score":2,"creation_date":1434050960,"post_id":30788105,"comment_id":49629078,"body_markdown":"Try using `ROLE_ADMIN` instead of `ADMIN` in your tests.","body":"Try using <code>ROLE_ADMIN</code> instead of <code>ADMIN</code> in your tests."},{"owner":{"account_id":3457726,"reputation":1775,"user_id":2895833,"accept_rate":82,"display_name":"Xipo"},"score":0,"creation_date":1434051466,"post_id":30788105,"comment_id":49629367,"body_markdown":"I have with no luck, as of springsecurity4 its just `ADMIN`","body":"I have with no luck, as of springsecurity4 its just <code>ADMIN</code>"},{"owner":{"account_id":4167718,"reputation":381,"user_id":3416320,"display_name":"bpgriner"},"score":0,"creation_date":1478624843,"post_id":30788105,"comment_id":68229348,"body_markdown":"Possible solution: http://stackoverflow.com/questions/32904857/secauthorize-returning-true-for-both-isauthenticated-and-isanonymous-in-thy/40492335#40492335","body":"Possible solution: <a href=\"http://stackoverflow.com/questions/32904857/secauthorize-returning-true-for-both-isauthenticated-and-isanonymous-in-thy/40492335#40492335\" title=\"secauthorize returning true for both isauthenticated and isanonymous in thy\">stackoverflow.com/questions/32904857/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":532733,"reputation":14515,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434541136,"creation_date":1434541136,"answer_id":30890503,"question_id":30788105,"body_markdown":"Refer the offcial documentation. http://www.thymeleaf.org/doc/articles/springsecurity.html\r\n\r\n    &lt;div sec:authorize=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;&gt;\r\n      This content is only shown to administrators.\r\n    &lt;/div&gt;\r\n    &lt;div sec:authorize=&quot;hasRole(&#39;ROLE_USER&#39;)&quot;&gt;\r\n      This content is only shown to users.\r\n    &lt;/div&gt;\r\n\r\nCan you simply try it as below without the `${` ... `}`.\r\n\r\n    &lt;div sec:authorize=&quot;hasRole(&#39;ADMIN&#39;)&quot;&gt;IS ADMIN&lt;/div&gt;\r\n\r\nI believe you have not prefixed the roles with `ROLE_`. If so makesure to add the prefix as well like below\r\n\r\n    &lt;div sec:authorize=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;&gt;IS ADMIN&lt;/div&gt;\r\n","title":"Spring Security hasRole() not working","body":"<p>Refer the offcial documentation. <a href=\"http://www.thymeleaf.org/doc/articles/springsecurity.html\" rel=\"nofollow\">http://www.thymeleaf.org/doc/articles/springsecurity.html</a></p>\n\n<pre><code>&lt;div sec:authorize=\"hasRole('ROLE_ADMIN')\"&gt;\n  This content is only shown to administrators.\n&lt;/div&gt;\n&lt;div sec:authorize=\"hasRole('ROLE_USER')\"&gt;\n  This content is only shown to users.\n&lt;/div&gt;\n</code></pre>\n\n<p>Can you simply try it as below without the <code>${</code> ... <code>}</code>.</p>\n\n<pre><code>&lt;div sec:authorize=\"hasRole('ADMIN')\"&gt;IS ADMIN&lt;/div&gt;\n</code></pre>\n\n<p>I believe you have not prefixed the roles with <code>ROLE_</code>. If so makesure to add the prefix as well like below</p>\n\n<pre><code>&lt;div sec:authorize=\"hasRole('ROLE_ADMIN')\"&gt;IS ADMIN&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389921,"reputation":956,"user_id":749665,"accept_rate":40,"display_name":"rohtakdev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1441345237,"creation_date":1441345237,"answer_id":32390828,"question_id":30788105,"body_markdown":"I had to do something similar where i needed to verify the user role. I did below\r\n\r\n    &lt;div th:if=&quot;${ #authorization.expression(&#39;isAuthenticated()&#39;) and #strings.contains(#authentication.principal.authorities,&#39;ADMIN&#39;)}&quot;&gt;          \r\n    \t&lt;a th:href=&quot;@{/somelink}&quot;&gt;ADMIN LINK&lt;/a&gt;\r\n     &lt;/div&gt;\r\n\r\nHope it helps someone.","title":"Spring Security hasRole() not working","body":"<p>I had to do something similar where i needed to verify the user role. I did below</p>\n\n<pre><code>&lt;div th:if=\"${ #authorization.expression('isAuthenticated()') and #strings.contains(#authentication.principal.authorities,'ADMIN')}\"&gt;          \n    &lt;a th:href=\"@{/somelink}\"&gt;ADMIN LINK&lt;/a&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>Hope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":1651202,"reputation":1844,"user_id":1670134,"accept_rate":25,"display_name":"sirandy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1441661014,"creation_date":1441607507,"answer_id":32432397,"question_id":30788105,"body_markdown":"I&#39;ve recently had the same problem.\r\nWhat you need to do is:\r\n\r\n1. In your html add these statements:\r\n    \r\n\r\n        &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;   xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity4&quot;&gt;\r\n\r\n(You can change between springsecurity4 or springsecurity3 depending on what you are using).\r\n\r\n2. Be sure that you have added this resource to your libraries. I&#39;m using gradle but you can do the same with Maven.\r\n\r\n        compile &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity4:2.1.2.RELEASE&#39;\r\n        \r\n\r\n3. In your SpringWebConfiguration class or xml be sure that you are adding the dialect for thymeleaf SpringSecurity:\r\nI&#39;m using a java class for the configuration.\r\n\r\n        @Bean\r\n        public SpringTemplateEngine templateEngine() {\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver());\r\n        templateEngine.addDialect(new SpringSecurityDialect());\r\n        return templateEngine;\r\n        }\r\n\r\nBut you also can define as alexsource says:\r\nhttps://stackoverflow.com/questions/23348341/spring-security-and-thymeleaf-doesnt-work\r\n\r\nI hope this works for you!\r\nGreetings!","title":"Spring Security hasRole() not working","body":"<p>I've recently had the same problem.\nWhat you need to do is:</p>\n\n<ol>\n<li><p>In your html add these statements:</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:th=\"http://www.thymeleaf.org\"   xmlns:sec=\"http://www.thymeleaf.org/thymeleaf-extras-springsecurity4\"&gt;\n</code></pre></li>\n</ol>\n\n<p>(You can change between springsecurity4 or springsecurity3 depending on what you are using).</p>\n\n<ol start=\"2\">\n<li><p>Be sure that you have added this resource to your libraries. I'm using gradle but you can do the same with Maven.</p>\n\n<pre><code>compile 'org.thymeleaf.extras:thymeleaf-extras-springsecurity4:2.1.2.RELEASE'\n</code></pre></li>\n<li><p>In your SpringWebConfiguration class or xml be sure that you are adding the dialect for thymeleaf SpringSecurity:\nI'm using a java class for the configuration.</p>\n\n<pre><code>@Bean\npublic SpringTemplateEngine templateEngine() {\nSpringTemplateEngine templateEngine = new SpringTemplateEngine();\ntemplateEngine.setTemplateResolver(templateResolver());\ntemplateEngine.addDialect(new SpringSecurityDialect());\nreturn templateEngine;\n}\n</code></pre></li>\n</ol>\n\n<p>But you also can define as alexsource says:\n<a href=\"https://stackoverflow.com/questions/23348341/spring-security-and-thymeleaf-doesnt-work\">Spring security and Thymeleaf doesn&#39;t work</a></p>\n\n<p>I hope this works for you!\nGreetings!</p>\n"},{"tags":[],"owner":{"account_id":1488253,"reputation":2809,"user_id":1396003,"display_name":"Dmitry Stolbov"},"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1488295391,"creation_date":1448462059,"answer_id":33919202,"question_id":30788105,"body_markdown":"Try use `hasAuthority` instead `hasRole` inside HTML-tag.\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    sec:authorize=&quot;hasAuthority(&#39;ADMIN&#39;)&quot;","title":"Spring Security hasRole() not working","body":"<p>Try use <code>hasAuthority</code> instead <code>hasRole</code> inside HTML-tag.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>sec:authorize=\"hasAuthority('ADMIN')\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464819167,"creation_date":1464818823,"answer_id":37579575,"question_id":30788105,"body_markdown":"I got into the same issue, its because of `spring-security` `4.0`. Due to some reason `thymeleaf-extras-springsecurity4` is not compatible with `spring-security` 4.0 and `thymeleaf` `2.x`. \r\nSo i downgraded `spring-security` versions to `3.2.9.RELEASE` and it started working.\r\nIf you still want to use spring-security `4.0`, then may be you can try uplifting `thymeleaf-extras-springsecurity4` to `3.0.0.RELEASE` and `thymeleaf` verison to `3.0`\r\n\r\nOr If you are using spring boot app, then the situation becomes more trickier, then the only option left would be to either downgrade the `spring-security` or upgrade the spring boot version to 1.4.x (which is still in BETA)\r\n\r\nIn your specific scenario, making the below pom changes should make hasRole working\r\n\r\n    &lt;!--Spring security--&gt; \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n    \r\n        &lt;!--Thymeleaf Spring Security--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Spring Security hasRole() not working","body":"<p>I got into the same issue, its because of <code>spring-security</code> <code>4.0</code>. Due to some reason <code>thymeleaf-extras-springsecurity4</code> is not compatible with <code>spring-security</code> 4.0 and <code>thymeleaf</code> <code>2.x</code>. \nSo i downgraded <code>spring-security</code> versions to <code>3.2.9.RELEASE</code> and it started working.\nIf you still want to use spring-security <code>4.0</code>, then may be you can try uplifting <code>thymeleaf-extras-springsecurity4</code> to <code>3.0.0.RELEASE</code> and <code>thymeleaf</code> verison to <code>3.0</code></p>\n\n<p>Or If you are using spring boot app, then the situation becomes more trickier, then the only option left would be to either downgrade the <code>spring-security</code> or upgrade the spring boot version to 1.4.x (which is still in BETA)</p>\n\n<p>In your specific scenario, making the below pom changes should make hasRole working</p>\n\n<pre><code>&lt;!--Spring security--&gt; \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;version&gt;3.2.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;3.2.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;3.2.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;        \n\n    &lt;!--Thymeleaf Spring Security--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3612835,"reputation":191,"user_id":3013450,"display_name":"Jeffrey B."},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1467196413,"creation_date":1467196413,"answer_id":38097050,"question_id":30788105,"body_markdown":"I&#39;ve had the same issue upgrading from Spring Security 3.x to 4.x. Changing `hasRole()` to `hasAuthority()` did the trick for me.\r\n\r\nhttp://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#el-common-built-in","title":"Spring Security hasRole() not working","body":"<p>I've had the same issue upgrading from Spring Security 3.x to 4.x. Changing <code>hasRole()</code> to <code>hasAuthority()</code> did the trick for me.</p>\n\n<p><a href=\"http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#el-common-built-in\" rel=\"noreferrer\">http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#el-common-built-in</a></p>\n"},{"tags":[],"owner":{"account_id":8157859,"reputation":561,"user_id":6142803,"display_name":"Huy Quang"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1514868041,"creation_date":1514866784,"answer_id":48055535,"question_id":30788105,"body_markdown":"You are missing a concept:\r\n\r\n- If you use `hasRole(&#39;ADMIN&#39;)`, in your `ADMIN Enum` must be `ROLE_ADMIN` instead of `ADMIN`.\r\n- If you use `hasAuthority(&#39;ADMIN&#39;)`, your `ADMIN Enum` must be `ADMIN`.\r\n\r\nIn spring security, `hasRole()` is the same as `hasAuthority()`, but `hasRole()` function map with `Authority` without `ROLE_` prefix.\r\n\r\nYou can find the accepted answer in this post: [Difference between Role and GrantedAuthority in Spring Security][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19525380/difference-between-role-and-grantedauthority-in-spring-security","title":"Spring Security hasRole() not working","body":"<p>You are missing a concept:</p>\n\n<ul>\n<li>If you use <code>hasRole('ADMIN')</code>, in your <code>ADMIN Enum</code> must be <code>ROLE_ADMIN</code> instead of <code>ADMIN</code>.</li>\n<li>If you use <code>hasAuthority('ADMIN')</code>, your <code>ADMIN Enum</code> must be <code>ADMIN</code>.</li>\n</ul>\n\n<p>In spring security, <code>hasRole()</code> is the same as <code>hasAuthority()</code>, but <code>hasRole()</code> function map with <code>Authority</code> without <code>ROLE_</code> prefix.</p>\n\n<p>You can find the accepted answer in this post: <a href=\"https://stackoverflow.com/questions/19525380/difference-between-role-and-grantedauthority-in-spring-security\">Difference between Role and GrantedAuthority in Spring Security</a></p>\n"},{"tags":[],"owner":{"account_id":14080624,"reputation":1,"user_id":10171764,"display_name":"pperez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589904780,"creation_date":1589904780,"answer_id":61895760,"question_id":30788105,"body_markdown":"after weeks of trial and error, this worked for me:\r\n\r\nUpgrading to the latest version according to https://mvnrepository.com/\r\n \r\nSpring Boot Starter\r\nThymeleaf Extras Spring Security 5\r\nThymeleaf for Spring Boot \r\n  \r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nReally don&#180;t know wich version of the dependencies work well with other versions, but for now (May 19th 2020) it worked for me.\r\n\r\nHope it can help someone\r\n\r\n","title":"Spring Security hasRole() not working","body":"<p>after weeks of trial and error, this worked for me:</p>\n\n<p>Upgrading to the latest version according to <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a></p>\n\n<p>Spring Boot Starter\nThymeleaf Extras Spring Security 5\nThymeleaf for Spring Boot </p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Really dont know wich version of the dependencies work well with other versions, but for now (May 19th 2020) it worked for me.</p>\n\n<p>Hope it can help someone</p>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614577763,"creation_date":1614577763,"answer_id":66417239,"question_id":30788105,"body_markdown":"In Spring boot 2,\r\nYou can use either hasRole() or hasAuthority(). The difference is that, you have to user ROLE_ for hasAusthority() method. So for the ROLE_ADMIN,\r\n\r\n     @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;) == @PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;)&quot;)","title":"Spring Security hasRole() not working","body":"<p>In Spring boot 2,\nYou can use either hasRole() or hasAuthority(). The difference is that, you have to user ROLE_ for hasAusthority() method. So for the ROLE_ADMIN,</p>\n<pre><code> @PreAuthorize(&quot;hasRole('ADMIN')&quot;) == @PreAuthorize(&quot;hasAuthority('ROLE_ADMIN')&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16718791,"reputation":53,"user_id":12084235,"display_name":"Tomek Orchowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623969399,"creation_date":1623969399,"answer_id":68027276,"question_id":30788105,"body_markdown":"I had similar problem and i worked around it.\r\n\r\nI use the following entities\r\n\r\nuser entity \r\n````\r\n\r\n    @Setter\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    public class User implements UserDetails, CredentialsContainer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(nullable = false,unique = true)\r\n        private String username;\r\n    \r\n        @Column(nullable = false,unique = true)\r\n        private String email;\r\n    \r\n        private String password;\r\n    \r\n        @Builder.Default\r\n        private Boolean accountNonExpired = true;\r\n    \r\n        @Builder.Default\r\n        private Boolean accountNonLocked = true;\r\n    \r\n        @Builder.Default\r\n        private Boolean credentialsNonExpired = true;\r\n    \r\n        @Builder.Default\r\n        private Boolean enabled = true;\r\n    \r\n        @CreationTimestamp\r\n        @Column(updatable = false)\r\n        private Timestamp createdDate;\r\n    \r\n        @UpdateTimestamp\r\n        private Timestamp lastModifiedDate;\r\n    \r\n        @Singular\r\n        @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n                name = &quot;user_role&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        )\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n        @Override\r\n        public void eraseCredentials() {\r\n            this.password = null;\r\n        }\r\n    \r\n        @Override\r\n        @Transient\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            Set&lt;SimpleGrantedAuthority&gt; authorities =\r\n                    this.roles.stream().\r\n                    map(Role::getAuthorities).\r\n                    flatMap(Set::stream).\r\n                    map(authority -&gt; new SimpleGrantedAuthority(authority.getPermission())).\r\n                    collect(Collectors.toSet());\r\n    \r\n            roles.stream().map(Role::getName).map(SimpleGrantedAuthority::new).forEach(authorities::add);//WE NEED IT FOR hasRole() functionality\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return accountNonExpired;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return accountNonLocked;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return credentialsNonExpired;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n    }\r\n\r\n````\r\n\r\nrole entity \r\n````\r\n    @Setter\r\n    @Getter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    public class Role  {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @ManyToMany(mappedBy = &quot;roles&quot;)\r\n        private Set&lt;User&gt; users;\r\n    \r\n        @Singular\r\n        @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n                name = &quot;role_authority&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;authority_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        )\r\n        private Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\r\n    \r\n    \r\n    }\r\n\r\n````\r\n\r\nauthority entity\r\n````\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    public class Authority  {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        Long id;\r\n    \r\n        private String permission;\r\n    \r\n        @Singular\r\n        @ManyToMany(mappedBy = &quot;authorities&quot;)\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    \r\n    }\r\n\r\n````\r\n\r\nbootstraping\r\n````\r\n        var storeItemCreate = authorityRepository.save(Authority.builder().permission(&quot;store.item.create&quot;).build());\r\n        var storeItemRead = authorityRepository.save(Authority.builder().permission(&quot;store.item.read&quot;).build());\r\n        var storeItemUpdate = authorityRepository.save(Authority.builder().permission(&quot;store.item.update&quot;).build());\r\n        var storeItemDelete = authorityRepository.save(Authority.builder().permission(&quot;store.item.delete&quot;).build());\r\n\r\n\r\n\r\n        var admin = roleRepository.save(Role.builder().\r\n                authority(storeItemCreate).\r\n                authority(storeItemRead).\r\n                authority(storeItemUpdate).\r\n                authority(storeItemDelete).\r\n                name(&quot;ROLE_ADMIN&quot;).build());\r\n\r\n        var customer = roleRepository.save(Role.builder().\r\n            authority(storeItemRead).\r\n            name(&quot;ROLE_CUSTOMER&quot;).\r\n            build());\r\n\r\n        userRepository.save(User.builder().\r\n                role(admin).\r\n                username(&quot;admin&quot;).\r\n                password(passwordEncoder.encode(&quot;admin&quot;)).\r\n                email(&quot;admin@admin.com&quot;).\r\n                build()\r\n        );\r\n\r\n\r\n        userRepository.save(User.builder().\r\n                role(customer).\r\n                username(&quot;user&quot;).\r\n                password(passwordEncoder.encode(&quot;user&quot;)).\r\n                email(&quot;user@user.com&quot;).\r\n                build()\r\n        );\r\n````\r\n\r\nreason why for me working hasAuthority() and hasRole() is fragment from user entity in getAuthorities method\r\n````\r\n        Set&lt;SimpleGrantedAuthority&gt; authorities =\r\n                this.roles.stream().\r\n                map(Role::getAuthorities).\r\n                flatMap(Set::stream).\r\n                map(authority -&gt; new SimpleGrantedAuthority(authority.getPermission())).\r\n                collect(Collectors.toSet());\r\n\r\n        roles.stream().map(Role::getName).map(SimpleGrantedAuthority::new).forEach(authorities::add);//WE NEED IT FOR hasRole() functionality\r\n        return authorities;\r\n````\r\n\r\nwhen u have authority with name ROLE_NAMEOFROLE spring treat it like role\r\nwhen prefix don&#39;t exist spring treat it like authority.\r\n\r\nremember to have as well authority : &quot;ROLE_ADMIN&quot;\r\n\r\n**I&#39;m not sure that&#39;s the correct approach !!!**","title":"Spring Security hasRole() not working","body":"<p>I had similar problem and i worked around it.</p>\n<p>I use the following entities</p>\n<p>user entity</p>\n<pre><code>\n    @Setter\n    @Getter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Builder\n    @Entity\n    public class User implements UserDetails, CredentialsContainer {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n    \n        @Column(nullable = false,unique = true)\n        private String username;\n    \n        @Column(nullable = false,unique = true)\n        private String email;\n    \n        private String password;\n    \n        @Builder.Default\n        private Boolean accountNonExpired = true;\n    \n        @Builder.Default\n        private Boolean accountNonLocked = true;\n    \n        @Builder.Default\n        private Boolean credentialsNonExpired = true;\n    \n        @Builder.Default\n        private Boolean enabled = true;\n    \n        @CreationTimestamp\n        @Column(updatable = false)\n        private Timestamp createdDate;\n    \n        @UpdateTimestamp\n        private Timestamp lastModifiedDate;\n    \n        @Singular\n        @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n        @JoinTable(\n                name = &quot;user_role&quot;,\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;),\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;)\n        )\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    \n        @Override\n        public void eraseCredentials() {\n            this.password = null;\n        }\n    \n        @Override\n        @Transient\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n            Set&lt;SimpleGrantedAuthority&gt; authorities =\n                    this.roles.stream().\n                    map(Role::getAuthorities).\n                    flatMap(Set::stream).\n                    map(authority -&gt; new SimpleGrantedAuthority(authority.getPermission())).\n                    collect(Collectors.toSet());\n    \n            roles.stream().map(Role::getName).map(SimpleGrantedAuthority::new).forEach(authorities::add);//WE NEED IT FOR hasRole() functionality\n            return authorities;\n        }\n    \n        @Override\n        public boolean isAccountNonExpired() {\n            return accountNonExpired;\n        }\n    \n        @Override\n        public boolean isAccountNonLocked() {\n            return accountNonLocked;\n        }\n    \n        @Override\n        public boolean isCredentialsNonExpired() {\n            return credentialsNonExpired;\n        }\n    \n        @Override\n        public boolean isEnabled() {\n            return enabled;\n        }\n    }\n\n</code></pre>\n<p>role entity</p>\n<pre><code>    @Setter\n    @Getter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Builder\n    @Entity\n    public class Role  {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n    \n        private String name;\n    \n        @ManyToMany(mappedBy = &quot;roles&quot;)\n        private Set&lt;User&gt; users;\n    \n        @Singular\n        @ManyToMany(cascade = CascadeType.MERGE, fetch = FetchType.EAGER)\n        @JoinTable(\n                name = &quot;role_authority&quot;,\n                joinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;),\n                inverseJoinColumns = @JoinColumn(name = &quot;authority_id&quot;, referencedColumnName = &quot;id&quot;)\n        )\n        private Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\n    \n    \n    }\n\n</code></pre>\n<p>authority entity</p>\n<pre><code>\n    @Setter\n    @Getter\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Builder\n    @Entity\n    public class Authority  {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        Long id;\n    \n        private String permission;\n    \n        @Singular\n        @ManyToMany(mappedBy = &quot;authorities&quot;)\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    \n    \n    }\n\n</code></pre>\n<p>bootstraping</p>\n<pre><code>        var storeItemCreate = authorityRepository.save(Authority.builder().permission(&quot;store.item.create&quot;).build());\n        var storeItemRead = authorityRepository.save(Authority.builder().permission(&quot;store.item.read&quot;).build());\n        var storeItemUpdate = authorityRepository.save(Authority.builder().permission(&quot;store.item.update&quot;).build());\n        var storeItemDelete = authorityRepository.save(Authority.builder().permission(&quot;store.item.delete&quot;).build());\n\n\n\n        var admin = roleRepository.save(Role.builder().\n                authority(storeItemCreate).\n                authority(storeItemRead).\n                authority(storeItemUpdate).\n                authority(storeItemDelete).\n                name(&quot;ROLE_ADMIN&quot;).build());\n\n        var customer = roleRepository.save(Role.builder().\n            authority(storeItemRead).\n            name(&quot;ROLE_CUSTOMER&quot;).\n            build());\n\n        userRepository.save(User.builder().\n                role(admin).\n                username(&quot;admin&quot;).\n                password(passwordEncoder.encode(&quot;admin&quot;)).\n                email(&quot;admin@admin.com&quot;).\n                build()\n        );\n\n\n        userRepository.save(User.builder().\n                role(customer).\n                username(&quot;user&quot;).\n                password(passwordEncoder.encode(&quot;user&quot;)).\n                email(&quot;user@user.com&quot;).\n                build()\n        );\n</code></pre>\n<p>reason why for me working hasAuthority() and hasRole() is fragment from user entity in getAuthorities method</p>\n<pre><code>        Set&lt;SimpleGrantedAuthority&gt; authorities =\n                this.roles.stream().\n                map(Role::getAuthorities).\n                flatMap(Set::stream).\n                map(authority -&gt; new SimpleGrantedAuthority(authority.getPermission())).\n                collect(Collectors.toSet());\n\n        roles.stream().map(Role::getName).map(SimpleGrantedAuthority::new).forEach(authorities::add);//WE NEED IT FOR hasRole() functionality\n        return authorities;\n</code></pre>\n<p>when u have authority with name ROLE_NAMEOFROLE spring treat it like role\nwhen prefix don't exist spring treat it like authority.</p>\n<p>remember to have as well authority : &quot;ROLE_ADMIN&quot;</p>\n<p><strong>I'm not sure that's the correct approach !!!</strong></p>\n"},{"tags":[],"owner":{"account_id":15183812,"reputation":1,"user_id":11179047,"display_name":"Manali vidhate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626844254,"creation_date":1626844254,"answer_id":68464260,"question_id":30788105,"body_markdown":" \r\n@Component\r\npublic class LoginSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler {\r\n\r\n        @Override\r\n        public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\r\n                                            Authentication authentication) throws ServletException, IOException {\r\n            CustomUserDetails userDetails = (CustomUserDetails) authentication.getPrincipal();\r\n\r\n            String redirectURL = request.getContextPath();\r\n            if (userDetails.hasRole(&quot;ROLE_ADMIN&quot;)) {\r\n                redirectURL = &quot;admin-dashboard&quot;;\r\n            } else if (userDetails.hasRole(&quot;ROLE_EMPLOYEE&quot;)) {\r\n                redirectURL = &quot;dashboard&quot;;\r\n            } else if (userDetails.hasRole(&quot;ROLE_TRAINEE&quot;)) {\r\n                redirectURL = &quot;dashboard&quot;;\r\n            }\r\n            response.sendRedirect(redirectURL);\r\n        }\r\n\r\n    }\r\n","title":"Spring Security hasRole() not working","body":"<p>@Component\npublic class LoginSuccessHandler extends SavedRequestAwareAuthenticationSuccessHandler {</p>\n<pre><code>    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n                                        Authentication authentication) throws ServletException, IOException {\n        CustomUserDetails userDetails = (CustomUserDetails) authentication.getPrincipal();\n\n        String redirectURL = request.getContextPath();\n        if (userDetails.hasRole(&quot;ROLE_ADMIN&quot;)) {\n            redirectURL = &quot;admin-dashboard&quot;;\n        } else if (userDetails.hasRole(&quot;ROLE_EMPLOYEE&quot;)) {\n            redirectURL = &quot;dashboard&quot;;\n        } else if (userDetails.hasRole(&quot;ROLE_TRAINEE&quot;)) {\n            redirectURL = &quot;dashboard&quot;;\n        }\n        response.sendRedirect(redirectURL);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13484620,"reputation":427,"user_id":9728769,"display_name":"drac_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642315518,"creation_date":1642315518,"answer_id":70727924,"question_id":30788105,"body_markdown":"In my case, `hasRole` was not working for the endpoints of a specific controller, while it would work for other controller endpoints.\r\n\r\nI realized that this controller had `@RequestMapping` after `@RestController`.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/test/v1&quot;)\r\n    public class TestController {\r\n    }\r\n\r\nI changed the order and `hasRole` was now working:\r\n\r\n    @RequestMapping(&quot;/test/v1&quot;)\r\n    @RestController\r\n    public class TestController {\r\n    }","title":"Spring Security hasRole() not working","body":"<p>In my case, <code>hasRole</code> was not working for the endpoints of a specific controller, while it would work for other controller endpoints.</p>\n<p>I realized that this controller had <code>@RequestMapping</code> after <code>@RestController</code>.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test/v1&quot;)\npublic class TestController {\n}\n</code></pre>\n<p>I changed the order and <code>hasRole</code> was now working:</p>\n<pre><code>@RequestMapping(&quot;/test/v1&quot;)\n@RestController\npublic class TestController {\n}\n</code></pre>\n"}],"owner":{"account_id":3457726,"reputation":1775,"user_id":2895833,"accept_rate":82,"display_name":"Xipo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67673,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":33919202,"answer_count":12,"score":53,"last_activity_date":1642315518,"creation_date":1434045491,"question_id":30788105,"body_markdown":"I&#39;m facing a problem when using Spring Security &amp;&amp; Thymeleaf, specifically when trying to use the [hasRole](http://docs.spring.io/spring-security/site/docs/4.0.1.RELEASE/reference/htmlsingle/#el-common-built-in) expression. The &#39;admin&#39; user has a role &#39;ADMIN&#39; but `hasRole(&#39;ADMIN&#39;)` resolves to false anyway I try it\n\nMy html:\n\n    1.&lt;div sec:authentication=&quot;name&quot;&gt;&lt;/div&gt; &lt;!-- works fine --&gt;\n    2.&lt;div sec:authentication=&quot;principal.authorities&quot;&gt;&lt;/div&gt; &lt;!-- works fine --&gt;\n\n    3.&lt;div  sec:authorize=&quot;isAuthenticated()&quot; &gt;true&lt;/div&gt; &lt;!-- works fine --&gt;\n    4.&lt;span th:text=&quot;${#authorization.expression(&#39;isAuthenticated()&#39;)}&quot;&gt;&lt;/span&gt; &lt;!-- works fine --&gt;\n\n    5.&lt;div th:text=&quot;${#vars.role_admin}&quot;&gt;&lt;/div&gt; &lt;!--Works fine --&gt;\n    6.&lt;div  sec:authorize=&quot;${hasRole(&#39;ADMIN&#39;)}&quot; &gt; IS ADMIN &lt;/div&gt; &lt;!-- Doesnt work --&gt;\n    7.&lt;div  sec:authorize=&quot;${hasRole(#vars.role_admin)}&quot; &gt; IS ADMIN &lt;/div&gt; &lt;!-- Doesnt work --&gt;\n    8.&lt;div th:text=&quot;${#authorization.expression(&#39;hasRole(&#39;&#39;ADMIN&#39;&#39;)&#39;)} &quot;&gt;&lt;/div&gt; &lt;!-- Doesnt work --&gt;\n    9.&lt;div th:text=&quot;${#authorization.expression(&#39;hasRole(#vars.role_admin)&#39;)}&quot;&gt;&lt;/div&gt; &lt;!-- Doesnt work --&gt;\n\nresults in:\n\n    1.admin\n    2.[ADMIN]\n    3.true\n    4.true\n    5.ADMIN\n    6.&quot;prints nothing because hasRole(&#39;ADMIN&#39;) resolves to false&quot;\n    7.&quot;prints nothing because hasRole(#vars.role_admin) resolves to false&quot;\n    8.false\n    9.false\n\nI have enabled _use-expressions_ in my security.xml file\n\n    &lt;security:http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\n\nAnd also included the SpringSecurityDialect in my config\n\n    &lt;bean id=&quot;templateEngine&quot;\n          class=&quot;org.thymeleaf.spring4.SpringTemplateEngine&quot;&gt;\n        &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;  \n        &lt;property name=&quot;additionalDialects&quot;&gt;\n            &lt;set&gt;\n                &lt;bean class=&quot;org.thymeleaf.extras.springsecurity4.dialect.SpringSecurityDialect&quot; /&gt;\n            &lt;/set&gt;\n        &lt;/property&gt;      \n    &lt;/bean&gt;\n\nAll the necessary dependencies in my pom.xml file\n\n    \n\n    &lt;!--Spring security--&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;        \n        \n        &lt;!--Thymeleaf Spring Security--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n            &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\nRole.java\n\n    @Entity\n    @Table(name = &quot;roles&quot;)\n    \n        public class Role implements Serializable {\n        \n            @Id\n            @Enumerated(EnumType.STRING)\n            private RoleType name;\n            //... getters, setters\n        }\n\nRoleType\n\n    public enum RoleType {\n    \n        ADMIN \n    }\n\nAnd `User`has a Set of `Role`s \n\nWhy is `hasRole()` not working? \n\nI appreciate your help, thank you\n\n\n**Workaround**\n--------------\n\n  `th:if=&quot;${#strings.contains(#authentication.principal.authorities,&#39;ADMIN&#39;)}&quot;`","title":"Spring Security hasRole() not working","body":"<p>I'm facing a problem when using Spring Security &amp;&amp; Thymeleaf, specifically when trying to use the <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.1.RELEASE/reference/htmlsingle/#el-common-built-in\" rel=\"noreferrer\">hasRole</a> expression. The 'admin' user has a role 'ADMIN' but <code>hasRole('ADMIN')</code> resolves to false anyway I try it</p>\n<p>My html:</p>\n<pre><code>1.&lt;div sec:authentication=&quot;name&quot;&gt;&lt;/div&gt; &lt;!-- works fine --&gt;\n2.&lt;div sec:authentication=&quot;principal.authorities&quot;&gt;&lt;/div&gt; &lt;!-- works fine --&gt;\n\n3.&lt;div  sec:authorize=&quot;isAuthenticated()&quot; &gt;true&lt;/div&gt; &lt;!-- works fine --&gt;\n4.&lt;span th:text=&quot;${#authorization.expression('isAuthenticated()')}&quot;&gt;&lt;/span&gt; &lt;!-- works fine --&gt;\n\n5.&lt;div th:text=&quot;${#vars.role_admin}&quot;&gt;&lt;/div&gt; &lt;!--Works fine --&gt;\n6.&lt;div  sec:authorize=&quot;${hasRole('ADMIN')}&quot; &gt; IS ADMIN &lt;/div&gt; &lt;!-- Doesnt work --&gt;\n7.&lt;div  sec:authorize=&quot;${hasRole(#vars.role_admin)}&quot; &gt; IS ADMIN &lt;/div&gt; &lt;!-- Doesnt work --&gt;\n8.&lt;div th:text=&quot;${#authorization.expression('hasRole(''ADMIN'')')} &quot;&gt;&lt;/div&gt; &lt;!-- Doesnt work --&gt;\n9.&lt;div th:text=&quot;${#authorization.expression('hasRole(#vars.role_admin)')}&quot;&gt;&lt;/div&gt; &lt;!-- Doesnt work --&gt;\n</code></pre>\n<p>results in:</p>\n<pre><code>1.admin\n2.[ADMIN]\n3.true\n4.true\n5.ADMIN\n6.&quot;prints nothing because hasRole('ADMIN') resolves to false&quot;\n7.&quot;prints nothing because hasRole(#vars.role_admin) resolves to false&quot;\n8.false\n9.false\n</code></pre>\n<p>I have enabled <em>use-expressions</em> in my security.xml file</p>\n<pre><code>&lt;security:http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\n</code></pre>\n<p>And also included the SpringSecurityDialect in my config</p>\n<pre><code>&lt;bean id=&quot;templateEngine&quot;\n      class=&quot;org.thymeleaf.spring4.SpringTemplateEngine&quot;&gt;\n    &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;  \n    &lt;property name=&quot;additionalDialects&quot;&gt;\n        &lt;set&gt;\n            &lt;bean class=&quot;org.thymeleaf.extras.springsecurity4.dialect.SpringSecurityDialect&quot; /&gt;\n        &lt;/set&gt;\n    &lt;/property&gt;      \n&lt;/bean&gt;\n</code></pre>\n<p>All the necessary dependencies in my pom.xml file</p>\n<pre><code>&lt;!--Spring security--&gt; \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;        \n    \n    &lt;!--Thymeleaf Spring Security--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Role.java</p>\n<pre><code>@Entity\n@Table(name = &quot;roles&quot;)\n\n    public class Role implements Serializable {\n    \n        @Id\n        @Enumerated(EnumType.STRING)\n        private RoleType name;\n        //... getters, setters\n    }\n</code></pre>\n<p>RoleType</p>\n<pre><code>public enum RoleType {\n\n    ADMIN \n}\n</code></pre>\n<p>And <code>User</code>has a Set of <code>Role</code>s</p>\n<p>Why is <code>hasRole()</code> not working?</p>\n<p>I appreciate your help, thank you</p>\n<h2><strong>Workaround</strong></h2>\n<p><code>th:if=&quot;${#strings.contains(#authentication.principal.authorities,'ADMIN')}&quot;</code></p>\n"},{"tags":["java","spring-boot","exception","spring-data-jpa","operators"],"comments":[{"owner":{"account_id":2191327,"reputation":754,"user_id":1938284,"display_name":"Sreyas"},"score":0,"creation_date":1605869374,"post_id":64928025,"comment_id":114790819,"body_markdown":"Hi, See whether it is useful https://dzone.com/articles/best-practice-for-exception-handling-in-spring-boo","body":"Hi, See whether it is useful <a href=\"https://dzone.com/articles/best-practice-for-exception-handling-in-spring-boo\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"},{"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"score":0,"creation_date":1605870256,"post_id":64928025,"comment_id":114791183,"body_markdown":"Yes I have done that. I used `@ContollerAdvice`. But I just need a solution to the above code snippet?","body":"Yes I have done that. I used <code>@ContollerAdvice</code>. But I just need a solution to the above code snippet?"},{"owner":{"account_id":2191327,"reputation":754,"user_id":1938284,"display_name":"Sreyas"},"score":0,"creation_date":1605870521,"post_id":64928025,"comment_id":114791273,"body_markdown":"Have you considered Java 8 stream apis..filter.. etc.?","body":"Have you considered Java 8 stream apis..filter.. etc.?"},{"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"score":0,"creation_date":1605905534,"post_id":64928025,"comment_id":114806319,"body_markdown":"Are there anyway other than that?","body":"Are there anyway other than that?"}],"answers":[{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642315264,"creation_date":1606023251,"answer_id":64950976,"question_id":64928025,"body_markdown":"Lets make a custom ResourceAlreadyExistsException class . It will extends the RuntimeException class, and you can add as many parameters to it as you like. I&#39;ve kept it concise like this.\r\n\r\n    public class ResourceAlreadyExistsException extends RuntimeException {\r\n    \r\n        public ResourceAlreadyExistsException(String property, String value) {\r\n            super(String.format(\r\n                &quot;Resource with property %s and value %s already exists.&quot; +\r\n                &quot;Make sure to insert a unique value for %s&quot;,\r\n                property, value, property));\r\n        }\r\n    }\r\n\r\nWhenever I need to check for a unique resource, I can tell the user which specific property has what value that causes the error. Furthermore, I notify the user what action must be taken to avoid the error.\r\n\r\n\r\nSay, I chose to use error *** for my ResourceAlreadyExistsException. Still, I need to hook up this error message to the ExceptionResponseHandler. The extra method is very similar to the method that we usually create for handling all exceptions. In fact, you can easily copy-paste this method for all the exceptions you have. All you have to do, is changing the Exception class to your exception and change the HttpStatus.&lt;code&gt;.\r\n\r\n\r\n    @ExceptionHandler(ResourceAlreadyExistsException.class)\r\n    public final ResponseEntity&lt;ExceptionResponse&gt; handleResourceAlreadyExistsException(\r\n        ResourceAlreadyExistsException ex, WebRequest req) {\r\n        ExceptionResponse exceptionResponse = new ExceptionResponse(\r\n            new Date(),\r\n            ex.getMessage(),\r\n            req.getDescription(false)\r\n        );\r\n        return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.UNPROCESSABLE_ENTITY);\r\n\r\n","title":"How to throw custom exception with custom values in Java?","body":"<p>Lets make a custom ResourceAlreadyExistsException class . It will extends the RuntimeException class, and you can add as many parameters to it as you like. I've kept it concise like this.</p>\n<pre><code>public class ResourceAlreadyExistsException extends RuntimeException {\n\n    public ResourceAlreadyExistsException(String property, String value) {\n        super(String.format(\n            &quot;Resource with property %s and value %s already exists.&quot; +\n            &quot;Make sure to insert a unique value for %s&quot;,\n            property, value, property));\n    }\n}\n</code></pre>\n<p>Whenever I need to check for a unique resource, I can tell the user which specific property has what value that causes the error. Furthermore, I notify the user what action must be taken to avoid the error.</p>\n<p>Say, I chose to use error *** for my ResourceAlreadyExistsException. Still, I need to hook up this error message to the ExceptionResponseHandler. The extra method is very similar to the method that we usually create for handling all exceptions. In fact, you can easily copy-paste this method for all the exceptions you have. All you have to do, is changing the Exception class to your exception and change the HttpStatus.<code>.</p>\n<pre>@ExceptionHandler(ResourceAlreadyExistsException.class)\npublic final ResponseEntity&lt;ExceptionResponse&gt; handleResourceAlreadyExistsException(\n    ResourceAlreadyExistsException ex, WebRequest req) {\n    ExceptionResponse exceptionResponse = new ExceptionResponse(\n        new Date(),\n        ex.getMessage(),\n        req.getDescription(false)\n    );\n    return new ResponseEntity&lt;&gt;(exceptionResponse, HttpStatus.UNPROCESSABLE_ENTITY);\n</code></pre>\n"}],"owner":{"account_id":13252319,"reputation":333,"user_id":11813880,"display_name":"Abraham Arnold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64950976,"answer_count":1,"score":0,"last_activity_date":1642315264,"creation_date":1605868957,"question_id":64928025,"body_markdown":"Hello everyone I am using Spring Boot with MySQL. I have the following error when I try to find information,\r\n\r\n&gt; javax.persistence.NonUniqueResultException: query did not return a\r\n&gt; unique result: 2\r\n\r\nIn my Repository class I have the following code,\r\n\r\n&gt; Optional&lt;User&gt; findByIdOrEmail(Integer id, String email);\r\n\r\nI think the error is because `findByIdOrEmail` fetching multiple records because of the `OR` operator.\r\n\r\nSo I used a `List` to fetch the values and following is my code, and my goal is to throw an exception that is specifically showing the each duplicate values.\r\n\r\n    List&lt;User&gt; userList = userRepo.findByIdOrEmail(user.getId(), user.getEmail());\r\n\r\n    // There will be maximum of 2 records fetched by id and email and I didn&#39;t \r\n    check if each result is the users record\r\n    if (!userList.isEmpty() &amp;&amp; userList.size() &gt; 1)\r\n    \tthrow new CustomException(&quot;Duplicate Record Found&quot; +\r\n    \t\t\t&quot; id: &quot; + user.getId() + &quot; and email: &quot; + user.getEmail());\r\n    else if (!userList.isEmpty())\r\n    \tthrow new CustomException(&quot;Duplicate Record Found&quot; +\r\n    \t\t\t(userList.get(0).getId().equals(user.getId()) ? &quot;id: &quot; + user.getId() : &quot;email: &quot; + user.getEmail()));\r\n\r\nSo I was wondering if this approach is the best or are there any other best practices? Because the user should be able to update his/her record but check duplicates with existing other records. And since it is giving a list of values sometimes so I have to check them in a loop. That thing is I haven&#39;t done in the above code. So is there another best way or a simple way to do this without looping and multiple if conditions? Highly appreciate any answers. Thanks in advance.","title":"How to throw custom exception with custom values in Java?","body":"<p>Hello everyone I am using Spring Boot with MySQL. I have the following error when I try to find information,</p>\n<blockquote>\n<p>javax.persistence.NonUniqueResultException: query did not return a\nunique result: 2</p>\n</blockquote>\n<p>In my Repository class I have the following code,</p>\n<blockquote>\n<p>Optional findByIdOrEmail(Integer id, String email);</p>\n</blockquote>\n<p>I think the error is because <code>findByIdOrEmail</code> fetching multiple records because of the <code>OR</code> operator.</p>\n<p>So I used a <code>List</code> to fetch the values and following is my code, and my goal is to throw an exception that is specifically showing the each duplicate values.</p>\n<pre><code>List&lt;User&gt; userList = userRepo.findByIdOrEmail(user.getId(), user.getEmail());\n\n// There will be maximum of 2 records fetched by id and email and I didn't \ncheck if each result is the users record\nif (!userList.isEmpty() &amp;&amp; userList.size() &gt; 1)\n    throw new CustomException(&quot;Duplicate Record Found&quot; +\n            &quot; id: &quot; + user.getId() + &quot; and email: &quot; + user.getEmail());\nelse if (!userList.isEmpty())\n    throw new CustomException(&quot;Duplicate Record Found&quot; +\n            (userList.get(0).getId().equals(user.getId()) ? &quot;id: &quot; + user.getId() : &quot;email: &quot; + user.getEmail()));\n</code></pre>\n<p>So I was wondering if this approach is the best or are there any other best practices? Because the user should be able to update his/her record but check duplicates with existing other records. And since it is giving a list of values sometimes so I have to check them in a loop. That thing is I haven't done in the above code. So is there another best way or a simple way to do this without looping and multiple if conditions? Highly appreciate any answers. Thanks in advance.</p>\n"},{"tags":["java","android","floating-action-button"],"answers":[{"tags":[],"owner":{"account_id":13718274,"reputation":381,"user_id":9898912,"display_name":"PapaPete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629769743,"creation_date":1629769743,"answer_id":68900859,"question_id":68900672,"body_markdown":"Make sure `app:srcCompat` is set to your image you&#39;re trying to display.\r\n\r\nFor example: \r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/fab&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;bottom|end&quot;\r\n        android:layout_margin=&quot;@dimen/fab_margin&quot;\r\n        app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\r\n\r\nShows this `FloatingActionButton`:\r\n\r\n[![Floating Email Action Button][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3yoHv.png","title":"Floating Action Button not display the source Image in Android Studio..?","body":"<p>Make sure <code>app:srcCompat</code> is set to your image you're trying to display.</p>\n<p>For example:</p>\n<pre><code>&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n    android:id=&quot;@+id/fab&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;bottom|end&quot;\n    android:layout_margin=&quot;@dimen/fab_margin&quot;\n    app:srcCompat=&quot;@android:drawable/ic_dialog_email&quot; /&gt;\n</code></pre>\n<p>Shows this <code>FloatingActionButton</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/3yoHv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3yoHv.png\" alt=\"Floating Email Action Button\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7744954,"reputation":121,"user_id":5863105,"display_name":"peyman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632725459,"creation_date":1632725459,"answer_id":69342325,"question_id":68900672,"body_markdown":"Make sure &quot;src&quot; is set to FloatingActionButton.\r\n\r\nand use `app:tint=&quot;@null&quot;`","title":"Floating Action Button not display the source Image in Android Studio..?","body":"<p>Make sure &quot;src&quot; is set to FloatingActionButton.</p>\n<p>and use <code>app:tint=&quot;@null&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":18366341,"reputation":1,"user_id":13377288,"display_name":"Aamir Jaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642315104,"creation_date":1642315104,"answer_id":70727896,"question_id":68900672,"body_markdown":"I had same problem and I solved it by:\r\n\r\n    android:foreground=&quot;@drawable/map&quot;","title":"Floating Action Button not display the source Image in Android Studio..?","body":"<p>I had same problem and I solved it by:</p>\n<pre><code>android:foreground=&quot;@drawable/map&quot;\n</code></pre>\n"}],"owner":{"account_id":20799927,"reputation":11,"user_id":15276196,"display_name":"Manoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1642315104,"creation_date":1629767447,"question_id":68900672,"body_markdown":"Floating Action Button not display source image[This Image contain the example for the problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FrMIM.png","title":"Floating Action Button not display the source Image in Android Studio..?","body":"<p>Floating Action Button not display source image<a href=\"https://i.stack.imgur.com/FrMIM.png\" rel=\"nofollow noreferrer\">This Image contain the example for the problem</a></p>\n"},{"tags":["java","swing","filter","label","photo"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1642286271,"post_id":70725527,"comment_id":125031962,"body_markdown":"JFileChooser, ImageIO.read, BufferedImagee, 2D Graphics, ImageIO.save &lt;- these are the search terms youre going to need (sorry on mobile)","body":"JFileChooser, ImageIO.read, BufferedImagee, 2D Graphics, ImageIO.save &lt;- these are the search terms youre going to need (sorry on mobile)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1642286556,"post_id":70725527,"comment_id":125032008,"body_markdown":"Start with the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html). You don&#39;t use file explorer for this. You would use the Swing JFileChooser. You can also check out [Screen Image](https://tips4java.wordpress.com/2008/10/13/screen-image/) which allows you to create an image of any Swing component and save it to a file.","body":"Start with the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a>. You don&#39;t use file explorer for this. You would use the Swing JFileChooser. You can also check out <a href=\"https://tips4java.wordpress.com/2008/10/13/screen-image/\" rel=\"nofollow noreferrer\">Screen Image</a> which allows you to create an image of any Swing component and save it to a file."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642322571,"post_id":70725527,"comment_id":125036242,"body_markdown":"*&quot;I have no idea.&quot;* If that&#39;s the case then you&#39;re in the wrong place. This is a Q&amp;A site. It&#39;s not a help desk. Not a code generation machine. Not a place to find a tutor.","body":"<i>&quot;I have no idea.&quot;</i> If that&#39;s the case then you&#39;re in the wrong place. This is a Q&amp;A site. It&#39;s not a help desk. Not a code generation machine. Not a place to find a tutor."}],"owner":{"account_id":5109250,"reputation":38,"user_id":4096419,"accept_rate":57,"display_name":"dodo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642314666,"creation_date":1642281470,"question_id":70725527,"body_markdown":"How can I open file explorer, select a photo file, add some effects, and then save it but by opening file explorer to let me choose where to save the new photo with effect added. I have no idea. Please help me.\r\n    \r\n    public class Imagine extends JFrame {\r\n\r\n    DisplayPanel displayPanel;\r\n    JButton brightenButton, darkenButton, contrastIncButton, contrastDecButton, reverseButton, resetButton, addPhotoButton,savePhoto;\r\n\r\n    public Imagine()\r\n    {\r\n        super();\r\n        Container container = getContentPane();\r\n        displayPanel = new DisplayPanel();\r\n        container.add(displayPanel);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setLayout(new GridLayout(4, 4));\r\n        panel.setBorder(new TitledBorder(&quot;Choose option&quot;));\r\n\r\n        addPhotoButton = new JButton(&quot;Select photo&quot;);\r\n        addPhotoButton.addActionListener(new ButtonListener());\r\n\r\n        savePhoto = new JButton(&quot;Save photo&quot;);\r\n        savePhoto.addActionListener(new ButtonListener());\r\n\r\n        brightenButton = new JButton(&quot;Luminozitate +&quot;);\r\n        brightenButton.addActionListener(new ButtonListener());\r\n        darkenButton = new JButton(&quot;Luminozitate -&quot;);\r\n        darkenButton.addActionListener(new ButtonListener());\r\n        contrastIncButton = new JButton(&quot;Contrast +&quot;);\r\n        contrastIncButton.addActionListener(new ButtonListener());\r\n        contrastDecButton = new JButton(&quot;Contrast -&quot;);\r\n        contrastDecButton.addActionListener(new ButtonListener());\r\n        reverseButton = new JButton(&quot;Negative&quot;);\r\n        reverseButton.addActionListener(new ButtonListener());\r\n        resetButton = new JButton(&quot;Reset&quot;);\r\n        resetButton.addActionListener(new ButtonListener());\r\n\r\n        panel.add(addPhotoButton);\r\n        panel.add(savePhoto);\r\n        panel.add(brightenButton);\r\n        panel.add(darkenButton);\r\n        panel.add(contrastIncButton);\r\n        panel.add(contrastDecButton);\r\n        panel.add(reverseButton);\r\n        panel.add(resetButton);\r\n\r\n        container.add(BorderLayout.SOUTH, panel);\r\n\r\n        addWindowListener(new WindowEventHandler());\r\n        setSize(displayPanel.getWidth(), displayPanel.getHeight() + 25);\r\n        show();\r\n    }\r\n\r\n    class WindowEventHandler extends WindowAdapter\r\n    {\r\n        public void windowClosing(WindowEvent e)\r\n        {\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n    public static void main(String arg[])\r\n    {\r\n         new Imagine();\r\n\r\n        //select file\r\n        //ImagesLoading a = new ImagesLoading();\r\n        //a.initialize();\r\n    }\r\n\r\n    class ButtonListener implements ActionListener\r\n    {\r\n        public void actionPerformed(ActionEvent e)\r\n        {\r\n            JButton button = (JButton) e.getSource();\r\n\r\n            if (button.equals(brightenButton))\r\n            {\r\n                displayPanel.brightenLUT();\r\n                displayPanel.applyFilter();\r\n                displayPanel.repaint();\r\n            }\r\n            else\r\n                if (button.equals(darkenButton))\r\n                {\r\n                    displayPanel.darkenLUT();\r\n                    displayPanel.applyFilter();\r\n                    displayPanel.repaint();\r\n                }\r\n                else\r\n                    if (button.equals(contrastIncButton))\r\n                    {\r\n                        displayPanel.contrastIncLUT();\r\n                        displayPanel.applyFilter();\r\n                        displayPanel.repaint();\r\n                    } else\r\n                        if (button.equals(contrastDecButton))\r\n                        {\r\n                            displayPanel.contrastDecLUT();\r\n                            displayPanel.applyFilter();\r\n                            displayPanel.repaint();\r\n                        }\r\n                        else\r\n                            if (button.equals(reverseButton))\r\n                            {\r\n                                displayPanel.reverseLUT();\r\n                                displayPanel.applyFilter();\r\n                                displayPanel.repaint();\r\n                            } else\r\n                                if (button.equals(resetButton))\r\n                                {\r\n                                    displayPanel.reset();\r\n                                    displayPanel.repaint();\r\n                                }\r\n                                else\r\n                                    if (button.equals(addPhotoButton))\r\n                                    {\r\n                                        JFrame fr = new JFrame(&quot;Image loading program Using awt&quot;);\r\n                                        FileDialog fd = new FileDialog(fr, &quot;Open&quot;, FileDialog.LOAD);\r\n                                        fd.show();\r\n                                        String d = (fd.getDirectory() + fd.getFile());\r\n                                        System.out.println(d);\r\n                                    }\r\n                                    else\r\n                                    if (button.equals(savePhoto))\r\n                                    {\r\n\r\n\r\n    //\r\n                                    }\r\n        }\r\n    }\r\n    }\r\n\r\n    class DisplayPanel extends JPanel\r\n    {\r\n    Image displayImage;\r\n    BufferedImage bi;\r\n    Graphics2D big;\r\n    LookupTable lookupTable;\r\n\r\n    DisplayPanel()\r\n    {\r\n        setBackground(Color.black); // panel background color\r\n        loadImage();\r\n        setSize(displayImage.getWidth(this), displayImage.getWidth(this)); // panel\r\n        createBufferedImage();\r\n    }\r\n\r\n    public void loadImage()\r\n    {\r\n        displayImage = Toolkit.getDefaultToolkit().getImage(&quot;a.jpg&quot;);\r\n        MediaTracker mt = new MediaTracker(this);\r\n        mt.addImage(displayImage, 1);\r\n        try {\r\n            mt.waitForAll();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;exception while loading.&quot;);\r\n        }\r\n\r\n        if (displayImage.getWidth(this) == -1) {\r\n            System.out.println(&quot;no jpg file&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n    public void createBufferedImage()\r\n    {\r\n        bi = new BufferedImage(displayImage.getWidth(this), displayImage.getHeight(this), BufferedImage.TYPE_INT_ARGB);\r\n        big = bi.createGraphics();\r\n        big.drawImage(displayImage, 0, 0, this);\r\n    }\r\n\r\n    public void brightenLUT()\r\n    {\r\n        short brighten[] = new short[256];\r\n        for (int i = 0; i &lt; 256; i++) {\r\n            short pixelValue = (short) (i + 10);\r\n            if (pixelValue &gt; 255)\r\n                pixelValue = 255;\r\n            else if (pixelValue &lt; 0)\r\n                pixelValue = 0;\r\n            brighten[i] = pixelValue;\r\n        }\r\n        lookupTable = new ShortLookupTable(0, brighten);\r\n    }\r\n\r\n    public void darkenLUT()\r\n    {\r\n        short brighten[] = new short[256];\r\n        for (int i = 0; i &lt; 256; i++) {\r\n            short pixelValue = (short) (i - 10);\r\n            if (pixelValue &gt; 255)\r\n                pixelValue = 255;\r\n            else if (pixelValue &lt; 0)\r\n                pixelValue = 0;\r\n            brighten[i] = pixelValue;\r\n        }\r\n        lookupTable = new ShortLookupTable(0, brighten);\r\n    }\r\n\r\n    public void contrastIncLUT()\r\n    {\r\n        short brighten[] = new short[256];\r\n        for (int i = 0; i &lt; 256; i++) {\r\n            short pixelValue = (short) (i * 1.2);\r\n            if (pixelValue &gt; 255)\r\n                pixelValue = 255;\r\n            else if (pixelValue &lt; 0)\r\n                pixelValue = 0;\r\n            brighten[i] = pixelValue;\r\n        }\r\n        lookupTable = new ShortLookupTable(0, brighten);\r\n    }\r\n\r\n    public void contrastDecLUT()\r\n    {\r\n        short brighten[] = new short[256];\r\n        for (int i = 0; i &lt; 256; i++) {\r\n            short pixelValue = (short) (i / 1.2);\r\n            if (pixelValue &gt; 255)\r\n                pixelValue = 255;\r\n            else if (pixelValue &lt; 0)\r\n                pixelValue = 0;\r\n            brighten[i] = pixelValue;\r\n        }\r\n        lookupTable = new ShortLookupTable(0, brighten);\r\n    }\r\n\r\n    public void reverseLUT()\r\n    {\r\n        byte reverse[] = new byte[256];\r\n        for (int i = 0; i &lt; 256; i++) {\r\n            reverse[i] = (byte) (255 - i);\r\n        }\r\n        lookupTable = new ByteLookupTable(0, reverse);\r\n    }\r\n\r\n    public void reset()\r\n    {\r\n        big.setColor(Color.black);\r\n        big.clearRect(0, 0, bi.getWidth(this), bi.getHeight(this));\r\n        big.drawImage(displayImage, 0, 0, this);\r\n    }\r\n\r\n    public void applyFilter()\r\n    {\r\n        LookupOp lop = new LookupOp(lookupTable, null);\r\n        lop.filter(bi, bi);\r\n    }\r\n\r\n    public void update(Graphics g)\r\n    {\r\n        g.clearRect(0, 0, getWidth(), getHeight());\r\n        paintComponent(g);\r\n    }\r\n\r\n    public void paintComponent(Graphics g)\r\n    {\r\n        super.paintComponent(g);\r\n        Graphics2D g2D = (Graphics2D) g;\r\n        g2D.drawImage(bi, 0, 0, this);\r\n    }\r\n    }\r\n\r\nHow to save the added photo with new effects that I selected to a location that I can select from file explorer\r\nHow can I open file explorer, select a photo file, add some effects, and then save it but by opening file explorer to let me choose where to save the new photo with effect added. I have no idea. Please help me.\r\n ","title":"How can i add photo to label and save it to folder?","body":"<p>How can I open file explorer, select a photo file, add some effects, and then save it but by opening file explorer to let me choose where to save the new photo with effect added. I have no idea. Please help me.</p>\n<pre><code>public class Imagine extends JFrame {\n\nDisplayPanel displayPanel;\nJButton brightenButton, darkenButton, contrastIncButton, contrastDecButton, reverseButton, resetButton, addPhotoButton,savePhoto;\n\npublic Imagine()\n{\n    super();\n    Container container = getContentPane();\n    displayPanel = new DisplayPanel();\n    container.add(displayPanel);\n\n    JPanel panel = new JPanel();\n    panel.setLayout(new GridLayout(4, 4));\n    panel.setBorder(new TitledBorder(&quot;Choose option&quot;));\n\n    addPhotoButton = new JButton(&quot;Select photo&quot;);\n    addPhotoButton.addActionListener(new ButtonListener());\n\n    savePhoto = new JButton(&quot;Save photo&quot;);\n    savePhoto.addActionListener(new ButtonListener());\n\n    brightenButton = new JButton(&quot;Luminozitate +&quot;);\n    brightenButton.addActionListener(new ButtonListener());\n    darkenButton = new JButton(&quot;Luminozitate -&quot;);\n    darkenButton.addActionListener(new ButtonListener());\n    contrastIncButton = new JButton(&quot;Contrast +&quot;);\n    contrastIncButton.addActionListener(new ButtonListener());\n    contrastDecButton = new JButton(&quot;Contrast -&quot;);\n    contrastDecButton.addActionListener(new ButtonListener());\n    reverseButton = new JButton(&quot;Negative&quot;);\n    reverseButton.addActionListener(new ButtonListener());\n    resetButton = new JButton(&quot;Reset&quot;);\n    resetButton.addActionListener(new ButtonListener());\n\n    panel.add(addPhotoButton);\n    panel.add(savePhoto);\n    panel.add(brightenButton);\n    panel.add(darkenButton);\n    panel.add(contrastIncButton);\n    panel.add(contrastDecButton);\n    panel.add(reverseButton);\n    panel.add(resetButton);\n\n    container.add(BorderLayout.SOUTH, panel);\n\n    addWindowListener(new WindowEventHandler());\n    setSize(displayPanel.getWidth(), displayPanel.getHeight() + 25);\n    show();\n}\n\nclass WindowEventHandler extends WindowAdapter\n{\n    public void windowClosing(WindowEvent e)\n    {\n        System.exit(0);\n    }\n}\n\npublic static void main(String arg[])\n{\n     new Imagine();\n\n    //select file\n    //ImagesLoading a = new ImagesLoading();\n    //a.initialize();\n}\n\nclass ButtonListener implements ActionListener\n{\n    public void actionPerformed(ActionEvent e)\n    {\n        JButton button = (JButton) e.getSource();\n\n        if (button.equals(brightenButton))\n        {\n            displayPanel.brightenLUT();\n            displayPanel.applyFilter();\n            displayPanel.repaint();\n        }\n        else\n            if (button.equals(darkenButton))\n            {\n                displayPanel.darkenLUT();\n                displayPanel.applyFilter();\n                displayPanel.repaint();\n            }\n            else\n                if (button.equals(contrastIncButton))\n                {\n                    displayPanel.contrastIncLUT();\n                    displayPanel.applyFilter();\n                    displayPanel.repaint();\n                } else\n                    if (button.equals(contrastDecButton))\n                    {\n                        displayPanel.contrastDecLUT();\n                        displayPanel.applyFilter();\n                        displayPanel.repaint();\n                    }\n                    else\n                        if (button.equals(reverseButton))\n                        {\n                            displayPanel.reverseLUT();\n                            displayPanel.applyFilter();\n                            displayPanel.repaint();\n                        } else\n                            if (button.equals(resetButton))\n                            {\n                                displayPanel.reset();\n                                displayPanel.repaint();\n                            }\n                            else\n                                if (button.equals(addPhotoButton))\n                                {\n                                    JFrame fr = new JFrame(&quot;Image loading program Using awt&quot;);\n                                    FileDialog fd = new FileDialog(fr, &quot;Open&quot;, FileDialog.LOAD);\n                                    fd.show();\n                                    String d = (fd.getDirectory() + fd.getFile());\n                                    System.out.println(d);\n                                }\n                                else\n                                if (button.equals(savePhoto))\n                                {\n\n\n//\n                                }\n    }\n}\n}\n\nclass DisplayPanel extends JPanel\n{\nImage displayImage;\nBufferedImage bi;\nGraphics2D big;\nLookupTable lookupTable;\n\nDisplayPanel()\n{\n    setBackground(Color.black); // panel background color\n    loadImage();\n    setSize(displayImage.getWidth(this), displayImage.getWidth(this)); // panel\n    createBufferedImage();\n}\n\npublic void loadImage()\n{\n    displayImage = Toolkit.getDefaultToolkit().getImage(&quot;a.jpg&quot;);\n    MediaTracker mt = new MediaTracker(this);\n    mt.addImage(displayImage, 1);\n    try {\n        mt.waitForAll();\n    } catch (Exception e) {\n        System.out.println(&quot;exception while loading.&quot;);\n    }\n\n    if (displayImage.getWidth(this) == -1) {\n        System.out.println(&quot;no jpg file&quot;);\n        System.exit(0);\n    }\n}\n\npublic void createBufferedImage()\n{\n    bi = new BufferedImage(displayImage.getWidth(this), displayImage.getHeight(this), BufferedImage.TYPE_INT_ARGB);\n    big = bi.createGraphics();\n    big.drawImage(displayImage, 0, 0, this);\n}\n\npublic void brightenLUT()\n{\n    short brighten[] = new short[256];\n    for (int i = 0; i &lt; 256; i++) {\n        short pixelValue = (short) (i + 10);\n        if (pixelValue &gt; 255)\n            pixelValue = 255;\n        else if (pixelValue &lt; 0)\n            pixelValue = 0;\n        brighten[i] = pixelValue;\n    }\n    lookupTable = new ShortLookupTable(0, brighten);\n}\n\npublic void darkenLUT()\n{\n    short brighten[] = new short[256];\n    for (int i = 0; i &lt; 256; i++) {\n        short pixelValue = (short) (i - 10);\n        if (pixelValue &gt; 255)\n            pixelValue = 255;\n        else if (pixelValue &lt; 0)\n            pixelValue = 0;\n        brighten[i] = pixelValue;\n    }\n    lookupTable = new ShortLookupTable(0, brighten);\n}\n\npublic void contrastIncLUT()\n{\n    short brighten[] = new short[256];\n    for (int i = 0; i &lt; 256; i++) {\n        short pixelValue = (short) (i * 1.2);\n        if (pixelValue &gt; 255)\n            pixelValue = 255;\n        else if (pixelValue &lt; 0)\n            pixelValue = 0;\n        brighten[i] = pixelValue;\n    }\n    lookupTable = new ShortLookupTable(0, brighten);\n}\n\npublic void contrastDecLUT()\n{\n    short brighten[] = new short[256];\n    for (int i = 0; i &lt; 256; i++) {\n        short pixelValue = (short) (i / 1.2);\n        if (pixelValue &gt; 255)\n            pixelValue = 255;\n        else if (pixelValue &lt; 0)\n            pixelValue = 0;\n        brighten[i] = pixelValue;\n    }\n    lookupTable = new ShortLookupTable(0, brighten);\n}\n\npublic void reverseLUT()\n{\n    byte reverse[] = new byte[256];\n    for (int i = 0; i &lt; 256; i++) {\n        reverse[i] = (byte) (255 - i);\n    }\n    lookupTable = new ByteLookupTable(0, reverse);\n}\n\npublic void reset()\n{\n    big.setColor(Color.black);\n    big.clearRect(0, 0, bi.getWidth(this), bi.getHeight(this));\n    big.drawImage(displayImage, 0, 0, this);\n}\n\npublic void applyFilter()\n{\n    LookupOp lop = new LookupOp(lookupTable, null);\n    lop.filter(bi, bi);\n}\n\npublic void update(Graphics g)\n{\n    g.clearRect(0, 0, getWidth(), getHeight());\n    paintComponent(g);\n}\n\npublic void paintComponent(Graphics g)\n{\n    super.paintComponent(g);\n    Graphics2D g2D = (Graphics2D) g;\n    g2D.drawImage(bi, 0, 0, this);\n}\n}\n</code></pre>\n<p>How to save the added photo with new effects that I selected to a location that I can select from file explorer\nHow can I open file explorer, select a photo file, add some effects, and then save it but by opening file explorer to let me choose where to save the new photo with effect added. I have no idea. Please help me.</p>\n"},{"tags":["java","arrays","string","if-statement","boolean"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1642313562,"post_id":70727743,"comment_id":125035072,"body_markdown":"Format your code (search for &quot;online java formatter&quot; if you don&#39;t have an IDE to do it for you). With correct indentation you&#39;ll see that you aren&#39;t closing your curly-brace blocks correctly. As a result, you&#39;re trying to start your method `intro` in the middle of your method `main`, and defining a method immediately inside another method is now allowed.","body":"Format your code (search for &quot;online java formatter&quot; if you don&#39;t have an IDE to do it for you). With correct indentation you&#39;ll see that you aren&#39;t closing your curly-brace blocks correctly. As a result, you&#39;re trying to start your method <code>intro</code> in the middle of your method <code>main</code>, and defining a method immediately inside another method is now allowed."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642314018,"creation_date":1642313758,"answer_id":70727800,"question_id":70727743,"body_markdown":"There was compilation error. Also, it is better to format your code before submitting on stack overflow so that it is easier for others to review. \r\n\r\n2 closing curly bracket were missing. I have added them. you can try the below code .\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n      static Scanner input = new Scanner(System.in);\r\n    \r\n      public static void main(String[] args) {\r\n        intro();\r\n        int numcorrect = 0;\r\n        int answer;\r\n        System.out.println(&quot;Welcome to envoirnmental travia&quot;);\r\n        System.out.println(&quot;What should you do when you want to throw your device away&quot;);\r\n        System.out.println(&quot;1 throw it in the garbage&quot;);\r\n        System.out.println(&quot;2 recyle it&quot;);\r\n        System.out.println(&quot;3 do nothing&quot;);\r\n        answer = input.nextInt();\r\n        while (answer &lt; 2 || answer &gt; 2) {\r\n          System.out.println(&quot;Please retry&quot;);\r\n          {\r\n            if (answer == 2)\r\n              System.out.println(&quot;correct&quot;);\r\n            numcorrect += 1;\r\n          }\r\n          System.out.println(&quot;Why is it unsafe to throw electronics in the garbage&quot;);\r\n          System.out.println(&quot;1 because chemicals will get released that will harm the air and soil&quot;);\r\n          System.out.println(&quot;2 Its not bad there will be no diffrence&quot;);\r\n          System.out.println(&quot;3 Why do I care&quot;);\r\n          answer = input.nextInt();\r\n          while (answer &lt; 1 || answer &gt; 1) {\r\n            System.out.println(&quot;Please retry&quot;);\r\n            {\r\n              if (answer == 1)\r\n                System.out.println(&quot;correct&quot;);\r\n              numcorrect += 1;\r\n            }\r\n            System.out.println(&quot;Are all computers and electroninc devices bad for the envoirnment&quot;);\r\n            System.out.println(&quot;1 Yes&quot;);\r\n            System.out.println(&quot;2 kinda&quot;);\r\n            System.out.println(\r\n                &quot;3 no because some devices help the envoirnment like the envirbot which helps with ocean pollution by cleaning the ocean from any metal plastic because it detects contamination and finds the source by swimming&quot;);\r\n            answer = input.nextInt();\r\n            while (answer &lt; 3 || answer &gt; 3) {\r\n              System.out.println(&quot;Please retry&quot;);\r\n              {\r\n                if (answer == 3)\r\n                  System.out.println(&quot;correct&quot;);\r\n                numcorrect += 1;\r\n              }\r\n              int totalQuestions = 3;\r\n              double score = (100 * numcorrect) / totalQuestions;\r\n              System.out.println(&quot; You scored &quot; + score + &quot;%&quot;);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      public static void intro() {\r\n        System.out.println(&quot;Welcome to the facts about the envoirnment&quot;);\r\n        String Fact;\r\n        String answer;\r\n        boolean yn;\r\n        System.out.println(&quot;Enter a fact about the envoirnment&quot;);\r\n        Fact = input.nextLine();\r\n        System.out.println(&quot;You entered &quot; + Fact);\r\n        System.out.println(\r\n            &quot;Did you know there are aproximatly 50 miilon tons of waste every year Did you know this fact or not enter yes or no&quot;);\r\n        String[] Links = new String[8];\r\n        System.out.println(&quot;please visit these links for more info&quot;);\r\n        Links[1] = &quot;https://www.ewaste1.com/what-is-e-waste/&quot;;\r\n        System.out.println(Links[1]);\r\n        Links[2] =\r\n            &quot;https://www.toronto.ca/services-payments/recycling-organics-garbage/electronic-waste/&quot;;\r\n        System.out.println(Links[2]);\r\n        Links[3] = &quot;https://earth911.com/eco-tech/e-waste-why-you-should-recycle-electronics/&quot;;\r\n        System.out.println(Links[3]);\r\n        System.out.println(&quot;yes/no&quot;);\r\n        while (true) {\r\n          answer = input.nextLine().trim().toLowerCase();\r\n          if (answer.equals(&quot;yes&quot;)) {\r\n            System.out.println(&quot;Congrats you know this fact&quot;);\r\n            yn = true;\r\n            break;\r\n          } else if (answer.equals(&quot;no&quot;)) {\r\n            System.out.println(&quot;Sorry you didn&#39;t know this fact at least you know now&quot;);\r\n            yn = false;\r\n            break;\r\n          } else {\r\n            System.out.println(&quot;Please enter Yes or NO&quot;);\r\n            // My program represents environmental caring\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"what am i doing wrong I keep getting illegal start of experssion public static void intro(){ java replit","body":"<p>There was compilation error. Also, it is better to format your code before submitting on stack overflow so that it is easier for others to review.</p>\n<p>2 closing curly bracket were missing. I have added them. you can try the below code .</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n  static Scanner input = new Scanner(System.in);\n\n  public static void main(String[] args) {\n    intro();\n    int numcorrect = 0;\n    int answer;\n    System.out.println(&quot;Welcome to envoirnmental travia&quot;);\n    System.out.println(&quot;What should you do when you want to throw your device away&quot;);\n    System.out.println(&quot;1 throw it in the garbage&quot;);\n    System.out.println(&quot;2 recyle it&quot;);\n    System.out.println(&quot;3 do nothing&quot;);\n    answer = input.nextInt();\n    while (answer &lt; 2 || answer &gt; 2) {\n      System.out.println(&quot;Please retry&quot;);\n      {\n        if (answer == 2)\n          System.out.println(&quot;correct&quot;);\n        numcorrect += 1;\n      }\n      System.out.println(&quot;Why is it unsafe to throw electronics in the garbage&quot;);\n      System.out.println(&quot;1 because chemicals will get released that will harm the air and soil&quot;);\n      System.out.println(&quot;2 Its not bad there will be no diffrence&quot;);\n      System.out.println(&quot;3 Why do I care&quot;);\n      answer = input.nextInt();\n      while (answer &lt; 1 || answer &gt; 1) {\n        System.out.println(&quot;Please retry&quot;);\n        {\n          if (answer == 1)\n            System.out.println(&quot;correct&quot;);\n          numcorrect += 1;\n        }\n        System.out.println(&quot;Are all computers and electroninc devices bad for the envoirnment&quot;);\n        System.out.println(&quot;1 Yes&quot;);\n        System.out.println(&quot;2 kinda&quot;);\n        System.out.println(\n            &quot;3 no because some devices help the envoirnment like the envirbot which helps with ocean pollution by cleaning the ocean from any metal plastic because it detects contamination and finds the source by swimming&quot;);\n        answer = input.nextInt();\n        while (answer &lt; 3 || answer &gt; 3) {\n          System.out.println(&quot;Please retry&quot;);\n          {\n            if (answer == 3)\n              System.out.println(&quot;correct&quot;);\n            numcorrect += 1;\n          }\n          int totalQuestions = 3;\n          double score = (100 * numcorrect) / totalQuestions;\n          System.out.println(&quot; You scored &quot; + score + &quot;%&quot;);\n        }\n      }\n    }\n  }\n\n  public static void intro() {\n    System.out.println(&quot;Welcome to the facts about the envoirnment&quot;);\n    String Fact;\n    String answer;\n    boolean yn;\n    System.out.println(&quot;Enter a fact about the envoirnment&quot;);\n    Fact = input.nextLine();\n    System.out.println(&quot;You entered &quot; + Fact);\n    System.out.println(\n        &quot;Did you know there are aproximatly 50 miilon tons of waste every year Did you know this fact or not enter yes or no&quot;);\n    String[] Links = new String[8];\n    System.out.println(&quot;please visit these links for more info&quot;);\n    Links[1] = &quot;https://www.ewaste1.com/what-is-e-waste/&quot;;\n    System.out.println(Links[1]);\n    Links[2] =\n        &quot;https://www.toronto.ca/services-payments/recycling-organics-garbage/electronic-waste/&quot;;\n    System.out.println(Links[2]);\n    Links[3] = &quot;https://earth911.com/eco-tech/e-waste-why-you-should-recycle-electronics/&quot;;\n    System.out.println(Links[3]);\n    System.out.println(&quot;yes/no&quot;);\n    while (true) {\n      answer = input.nextLine().trim().toLowerCase();\n      if (answer.equals(&quot;yes&quot;)) {\n        System.out.println(&quot;Congrats you know this fact&quot;);\n        yn = true;\n        break;\n      } else if (answer.equals(&quot;no&quot;)) {\n        System.out.println(&quot;Sorry you didn't know this fact at least you know now&quot;);\n        yn = false;\n        break;\n      } else {\n        System.out.println(&quot;Please enter Yes or NO&quot;);\n        // My program represents environmental caring\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17542446"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1642516698,"accepted_answer_id":70727800,"answer_count":1,"score":0,"last_activity_date":1642314018,"creation_date":1642313024,"question_id":70727743,"body_markdown":"    import java.util.Scanner;\r\n    public class Main {\r\n        static Scanner input = new Scanner(System.in);\r\n        public static void main(String[] args) {\r\n                intro();\r\n                int numcorrect = 0;\r\n                int answer;\r\n                System.out.println(&quot;Welcome to envoirnmental travia&quot;);\r\n                System.out.println(&quot;What should you do when you want to throw your device away&quot;);\r\n                System.out.println(&quot;1 throw it in the garbage&quot;);\r\n                System.out.println(&quot;2 recyle it&quot;);\r\n                System.out.println(&quot;3 do nothing&quot;);\r\n                answer = input.nextInt();\r\n                while (answer &lt; 2 || answer &gt; 2) {\r\n                    System.out.println(&quot;Please retry&quot;); {\r\n                        if (answer == 2)\r\n                            System.out.println(&quot;correct&quot;);\r\n                        numcorrect += 1;\r\n                    }\r\n                    System.out.println(&quot;Why is it unsafe to throw electronics in the garbage&quot;);\r\n                    System.out.println(&quot;1 because chemicals will get released that will harm the air and soil&quot;);\r\n                    System.out.println(&quot;2 Its not bad there will be no diffrence&quot;);\r\n                    System.out.println(&quot;3 Why do I care&quot;);\r\n                    answer = input.nextInt();\r\n                    while (answer &lt; 1 || answer &gt; 1) {\r\n                        System.out.println(&quot;Please retry&quot;); {\r\n                            if (answer == 1)\r\n                                System.out.println(&quot;correct&quot;);\r\n                            numcorrect += 1;\r\n                        }\r\n                        System.out.println(&quot;Are all computers and electroninc devices bad for the envoirnment&quot;);\r\n                        System.out.println(&quot;1 Yes&quot;);\r\n                        System.out.println(&quot;2 kinda&quot;);\r\n                        System.out.println(&quot;3 no because some devices help the envoirnment like the envirbot which helps with ocean pollution by cleaning the ocean from any metal plastic because it detects contamination and finds the source by swimming&quot;);\r\n                        answer = input.nextInt();\r\n                        while (answer &lt; 3 || answer &gt; 3) {\r\n                            System.out.println(&quot;Please retry&quot;); {\r\n                                if (answer == 3)\r\n                                    System.out.println(&quot;correct&quot;);\r\n                                numcorrect += 1;\r\n                            }\r\n                            int totalQuestions = 3;\r\n                            double score = (100 * numcorrect) / totalQuestions;\r\n                            System.out.println(&quot; You scored &quot; + score + &quot;%&quot;);\r\n                        }\r\n                        public static void intro() {\r\n                            System.out.println(&quot;Welcome to the facts about the envoirnment&quot;);\r\n                            String Fact;\r\n                            String answer;\r\n                            boolean yn;\r\n                            System.out.println(&quot;Enter a fact about the envoirnment&quot;);\r\n                            Fact = input.nextLine();\r\n                            System.out.println(&quot;You entered &quot; + Fact);\r\n                            System.out.println(&quot;Did you know there are aproximatly 50 miilon tons of waste every year Did you know this fact or not enter yes or no&quot;);\r\n                            String[] Links = new String[8];\r\n                            System.out.println(&quot;please visit these links for more info&quot;);\r\n                            Links[1] = &quot;https://www.ewaste1.com/what-is-e-waste/&quot;;\r\n                            System.out.println(Links[1]);\r\n                            Links[2] = &quot;https://www.toronto.ca/services-payments/recycling-organics-garbage/electronic-waste/&quot;;\r\n                            System.out.println(Links[2]);\r\n                            Links[3] = &quot;https://earth911.com/eco-tech/e-waste-why-you-should-recycle-electronics/&quot;;\r\n                            System.out.println(Links[3]);\r\n                            System.out.println(&quot;yes/no&quot;);\r\n                            while (true) {\r\n                                answer = input.nextLine().trim().toLowerCase();\r\n                                if (answer.equals(&quot;yes&quot;)) {\r\n                                    System.out.println(&quot;Congrats you know this fact&quot;);\r\n                                    yn = true;\r\n                                    break;\r\n                                } else if (answer.equals(&quot;no&quot;)) {\r\n                                    System.out.println(&quot;Sorry you didn&#39;t know this fact at least you know now&quot;);\r\n                                    yn = false;\r\n                                    break;\r\n                                } else {\r\n                                    System.out.println(&quot;Please enter Yes or NO&quot;);\r\n                                    //My program represents environmental caring\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\nI keep getting error i described in title can anyone tell me why i cant figure it out everything else runs fine it is just if i do that class method it all goes wrong i just dont understand why if anyone at all can help me i would really appereciate it i tried adding extra clurly braces i have the intro() on top so that isnt a problem\r\n","title":"what am i doing wrong I keep getting illegal start of experssion public static void intro(){ java replit","body":"<pre><code>import java.util.Scanner;\npublic class Main {\n    static Scanner input = new Scanner(System.in);\n    public static void main(String[] args) {\n            intro();\n            int numcorrect = 0;\n            int answer;\n            System.out.println(&quot;Welcome to envoirnmental travia&quot;);\n            System.out.println(&quot;What should you do when you want to throw your device away&quot;);\n            System.out.println(&quot;1 throw it in the garbage&quot;);\n            System.out.println(&quot;2 recyle it&quot;);\n            System.out.println(&quot;3 do nothing&quot;);\n            answer = input.nextInt();\n            while (answer &lt; 2 || answer &gt; 2) {\n                System.out.println(&quot;Please retry&quot;); {\n                    if (answer == 2)\n                        System.out.println(&quot;correct&quot;);\n                    numcorrect += 1;\n                }\n                System.out.println(&quot;Why is it unsafe to throw electronics in the garbage&quot;);\n                System.out.println(&quot;1 because chemicals will get released that will harm the air and soil&quot;);\n                System.out.println(&quot;2 Its not bad there will be no diffrence&quot;);\n                System.out.println(&quot;3 Why do I care&quot;);\n                answer = input.nextInt();\n                while (answer &lt; 1 || answer &gt; 1) {\n                    System.out.println(&quot;Please retry&quot;); {\n                        if (answer == 1)\n                            System.out.println(&quot;correct&quot;);\n                        numcorrect += 1;\n                    }\n                    System.out.println(&quot;Are all computers and electroninc devices bad for the envoirnment&quot;);\n                    System.out.println(&quot;1 Yes&quot;);\n                    System.out.println(&quot;2 kinda&quot;);\n                    System.out.println(&quot;3 no because some devices help the envoirnment like the envirbot which helps with ocean pollution by cleaning the ocean from any metal plastic because it detects contamination and finds the source by swimming&quot;);\n                    answer = input.nextInt();\n                    while (answer &lt; 3 || answer &gt; 3) {\n                        System.out.println(&quot;Please retry&quot;); {\n                            if (answer == 3)\n                                System.out.println(&quot;correct&quot;);\n                            numcorrect += 1;\n                        }\n                        int totalQuestions = 3;\n                        double score = (100 * numcorrect) / totalQuestions;\n                        System.out.println(&quot; You scored &quot; + score + &quot;%&quot;);\n                    }\n                    public static void intro() {\n                        System.out.println(&quot;Welcome to the facts about the envoirnment&quot;);\n                        String Fact;\n                        String answer;\n                        boolean yn;\n                        System.out.println(&quot;Enter a fact about the envoirnment&quot;);\n                        Fact = input.nextLine();\n                        System.out.println(&quot;You entered &quot; + Fact);\n                        System.out.println(&quot;Did you know there are aproximatly 50 miilon tons of waste every year Did you know this fact or not enter yes or no&quot;);\n                        String[] Links = new String[8];\n                        System.out.println(&quot;please visit these links for more info&quot;);\n                        Links[1] = &quot;https://www.ewaste1.com/what-is-e-waste/&quot;;\n                        System.out.println(Links[1]);\n                        Links[2] = &quot;https://www.toronto.ca/services-payments/recycling-organics-garbage/electronic-waste/&quot;;\n                        System.out.println(Links[2]);\n                        Links[3] = &quot;https://earth911.com/eco-tech/e-waste-why-you-should-recycle-electronics/&quot;;\n                        System.out.println(Links[3]);\n                        System.out.println(&quot;yes/no&quot;);\n                        while (true) {\n                            answer = input.nextLine().trim().toLowerCase();\n                            if (answer.equals(&quot;yes&quot;)) {\n                                System.out.println(&quot;Congrats you know this fact&quot;);\n                                yn = true;\n                                break;\n                            } else if (answer.equals(&quot;no&quot;)) {\n                                System.out.println(&quot;Sorry you didn't know this fact at least you know now&quot;);\n                                yn = false;\n                                break;\n                            } else {\n                                System.out.println(&quot;Please enter Yes or NO&quot;);\n                                //My program represents environmental caring\n                            }\n                        }\n                    }\n                }\n</code></pre>\n<p>I keep getting error i described in title can anyone tell me why i cant figure it out everything else runs fine it is just if i do that class method it all goes wrong i just dont understand why if anyone at all can help me i would really appereciate it i tried adding extra clurly braces i have the intro() on top so that isnt a problem</p>\n"},{"tags":["java","android","integration","android-app-bundle","flutter-module"],"owner":{"account_id":21432878,"reputation":11,"user_id":15788886,"display_name":"AWE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642311448,"creation_date":1619671764,"question_id":67311188,"body_markdown":"I&#39;ve created an **android app** that can receive a **full screen** from a **flutter module**. now, I want to get a text from that **flutter module** not just the full screen. so does anyone has any idea?\r\n\r\nPS:I know how to send data from android to the flutter module! I just wanna **the reverse**.\r\n\r\n\r\nthanks, though","title":"how to transfer data from flutter module to android app","body":"<p>I've created an <strong>android app</strong> that can receive a <strong>full screen</strong> from a <strong>flutter module</strong>. now, I want to get a text from that <strong>flutter module</strong> not just the full screen. so does anyone has any idea?</p>\n<p>PS:I know how to send data from android to the flutter module! I just wanna <strong>the reverse</strong>.</p>\n<p>thanks, though</p>\n"},{"tags":["java","linux","processing","atom-editor"],"comments":[{"owner":{"account_id":4350065,"reputation":1339,"user_id":3550735,"display_name":"Mamrezo"},"score":0,"creation_date":1642319382,"post_id":70727562,"comment_id":125035781,"body_markdown":"You can find the path by `which` command:\n`which processing-java`","body":"You can find the path by <code>which</code> command: <code>which processing-java</code>"},{"owner":{"account_id":4350065,"reputation":1339,"user_id":3550735,"display_name":"Mamrezo"},"score":0,"creation_date":1642319530,"post_id":70727562,"comment_id":125035798,"body_markdown":"Also take a look at this answer: https://askubuntu.com/a/1167893/274623","body":"Also take a look at this answer: <a href=\"https://askubuntu.com/a/1167893/274623\">askubuntu.com/a/1167893/274623</a>"},{"owner":{"account_id":18824997,"reputation":3,"user_id":13730127,"display_name":"youssefcraft"},"score":0,"creation_date":1642325408,"post_id":70727562,"comment_id":125036700,"body_markdown":"I did `which processing-java` and I got this message `which: no processing-java in (/home/yc/.local/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/home/yc/.dotnet/tools:/var/lib/flatpak/exports/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/var/lib/snapd/snap/bin)`","body":"I did <code>which processing-java</code> and I got this message <code>which: no processing-java in (&#47;home&#47;yc&#47;.local&#47;bin:&#47;usr&#47;local&#47;bin:&#47;usr&#47;bin:&#47;bin:&#47;usr&#47;local&zwnj;&#8203;&#47;sbin:&#47;home&#47;yc&#47;.dotn&zwnj;&#8203;et&#47;tools:&#47;var&#47;lib&#47;fl&zwnj;&#8203;atpak&#47;exports&#47;bin:&#47;u&zwnj;&#8203;sr&#47;lib&#47;jvm&#47;default&#47;b&zwnj;&#8203;in:&#47;usr&#47;bin&#47;site_per&zwnj;&#8203;l:&#47;usr&#47;bin&#47;vendor_pe&zwnj;&#8203;rl:&#47;usr&#47;bin&#47;core_per&zwnj;&#8203;l:&#47;var&#47;lib&#47;snapd&#47;sna&zwnj;&#8203;p&#47;bin)</code>"},{"owner":{"account_id":4350065,"reputation":1339,"user_id":3550735,"display_name":"Mamrezo"},"score":0,"creation_date":1642328477,"post_id":70727562,"comment_id":125037284,"body_markdown":"As I mentioned in the second comment, flow the link and find the install location of the flatpack and make sure the `process` has been installed!","body":"As I mentioned in the second comment, flow the link and find the install location of the flatpack and make sure the <code>process</code> has been installed!"},{"owner":{"account_id":18824997,"reputation":3,"user_id":13730127,"display_name":"youssefcraft"},"score":0,"creation_date":1642351325,"post_id":70727562,"comment_id":125042362,"body_markdown":"First of all, that is an ubuntu forum which is different from my os.\nand second of all, the process itself is installed. What I am trying to find is a specific file called `processing-java` as I need it to run .pde files in the atom IDE but what you&#39;re saying is to make sure its installed?","body":"First of all, that is an ubuntu forum which is different from my os. and second of all, the process itself is installed. What I am trying to find is a specific file called <code>processing-java</code> as I need it to run .pde files in the atom IDE but what you&#39;re saying is to make sure its installed?"},{"owner":{"account_id":4350065,"reputation":1339,"user_id":3550735,"display_name":"Mamrezo"},"score":0,"creation_date":1642356992,"post_id":70727562,"comment_id":125043866,"body_markdown":":) Yea I see, your OS is different but not your package manager (`Flatpack`), and as the Manjaro documentation, the installation path is the same! do something run `flatpack list` to just make sure that the `process` itself has been installed!","body":":) Yea I see, your OS is different but not your package manager (<code>Flatpack</code>), and as the Manjaro documentation, the installation path is the same! do something run <code>flatpack list</code> to just make sure that the <code>process</code> itself has been installed!"},{"owner":{"account_id":18824997,"reputation":3,"user_id":13730127,"display_name":"youssefcraft"},"score":0,"creation_date":1642407920,"post_id":70727562,"comment_id":125053445,"body_markdown":"I did what you said and the process is installed. But I didn&#39;t find what I need in the folder where processing is installed.","body":"I did what you said and the process is installed. But I didn&#39;t find what I need in the folder where processing is installed."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643022170,"post_id":70727562,"comment_id":125220840,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":18824997,"reputation":3,"user_id":13730127,"display_name":"youssefcraft"},"score":0,"creation_date":1643084532,"post_id":70727562,"comment_id":125240031,"body_markdown":"I am trying to run .pde files on this editor called Atom IDE. And it&#39;s asking me for a file called processing-java. I have no idea where this file is and need help in finding it.","body":"I am trying to run .pde files on this editor called Atom IDE. And it&#39;s asking me for a file called processing-java. I have no idea where this file is and need help in finding it."}],"owner":{"account_id":18824997,"reputation":3,"user_id":13730127,"display_name":"youssefcraft"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642309914,"creation_date":1642309914,"question_id":70727562,"body_markdown":"So I am trying to run Processing 3.5.4 on Atom instead of using the official ide (because it looks ugly). And I am getting one main error when I am trying to run code on atom.\r\n\r\n \r\n\r\n&gt; Failed to spawn command `processing-java`. Make sure `processing-java` is installed and on your PATH\r\n\r\nFurthur information\r\n\r\nI am using manjaro linux 21.2.1 \r\nProcessing IDE is installed through flatpak.\r\nI have the three processing packages : processing, processing-autocomplete, processing-lanaguage.\r\nI have also tried doing `sudo ln -s /path/to/processing/processing-java /usr/local/bin/` but , as I have no idea where processing-java is, it didn&#39;t work(I have looked it up online but there is little to no information about this).","title":"Trying to run processing in atom, Getting error","body":"<p>So I am trying to run Processing 3.5.4 on Atom instead of using the official ide (because it looks ugly). And I am getting one main error when I am trying to run code on atom.</p>\n<blockquote>\n<p>Failed to spawn command <code>processing-java</code>. Make sure <code>processing-java</code> is installed and on your PATH</p>\n</blockquote>\n<p>Furthur information</p>\n<p>I am using manjaro linux 21.2.1\nProcessing IDE is installed through flatpak.\nI have the three processing packages : processing, processing-autocomplete, processing-lanaguage.\nI have also tried doing <code>sudo ln -s /path/to/processing/processing-java /usr/local/bin/</code> but , as I have no idea where processing-java is, it didn't work(I have looked it up online but there is little to no information about this).</p>\n"},{"tags":["java","swing","user-interface","label","mouselistener"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":2,"creation_date":1642226496,"post_id":70719075,"comment_id":125019821,"body_markdown":"Please provide [mre]","body":"Please provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1642227083,"post_id":70719075,"comment_id":125019890,"body_markdown":"1) Agree with @c0der on the MRE. 2) But I feel this entire approach is less than optimal. Instead of a `null` layout and moving components about, I&#39;d custom paint the panel and use a basic string to replace the label. The use of `getLocationOnScreen` also seems error-prone. I&#39;d always use the location within the component of interest. 3) *&quot;I tried to find some videos and other sources&quot;* Forget the videos, as to the &#39;other sources&#39;, I&#39;d highly recommend the [Java Docs](https://docs.oracle.com/en/java/javase/16/docs/api/index.html) &amp; the [Java Tutorial](https://docs.oracle.com/javase/tutorial/).","body":"1) Agree with @c0der on the MRE. 2) But I feel this entire approach is less than optimal. Instead of a <code>null</code> layout and moving components about, I&#39;d custom paint the panel and use a basic string to replace the label. The use of <code>getLocationOnScreen</code> also seems error-prone. I&#39;d always use the location within the component of interest. 3) <i>&quot;I tried to find some videos and other sources&quot;</i> Forget the videos, as to the &#39;other sources&#39;, I&#39;d highly recommend the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/index.html\" rel=\"nofollow noreferrer\">Java Docs</a> &amp; the <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">Java Tutorial</a>."},{"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"score":0,"creation_date":1642228102,"post_id":70719075,"comment_id":125020029,"body_markdown":"You need to use `getPoint`. It won&#39;t be at random, if you print the coordinates, you will know it would be right. You will also know that where you would like it to move to and based on that you can change your logic.","body":"You need to use <code>getPoint</code>. It won&#39;t be at random, if you print the coordinates, you will know it would be right. You will also know that where you would like it to move to and based on that you can change your logic."},{"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"score":0,"creation_date":1642228579,"post_id":70719075,"comment_id":125020093,"body_markdown":"@c0der I just made a class named Frame extending JFrame and implementing MouseListener, a label named label which I want to drag. And all the code is within the question only, just that the main method is in another class and label is available to the whole Frame class","body":"@c0der I just made a class named Frame extending JFrame and implementing MouseListener, a label named label which I want to drag. And all the code is within the question only, just that the main method is in another class and label is available to the whole Frame class"},{"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"score":0,"creation_date":1642228742,"post_id":70719075,"comment_id":125020117,"body_markdown":"@HiteshA.Bosamiya I just it and after printing the points I got, I found that e.getPoint, according to me returns the correct place of the cursor but the label is not going to that exact place","body":"@HiteshA.Bosamiya I just it and after printing the points I got, I found that e.getPoint, according to me returns the correct place of the cursor but the label is not going to that exact place"},{"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"score":0,"creation_date":1642229646,"post_id":70719075,"comment_id":125020228,"body_markdown":"@HiteshA.Bosamiya I just tried it once again. The label was on mid-right but when I clicked it, (didn&#39;t drag at all) it went to top-left. And the point that was returned was of the place the label got moved to","body":"@HiteshA.Bosamiya I just tried it once again. The label was on mid-right but when I clicked it, (didn&#39;t drag at all) it went to top-left. And the point that was returned was of the place the label got moved to"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":2,"creation_date":1642230474,"post_id":70719075,"comment_id":125020339,"body_markdown":"_I just made a class named Frame extending JFrame and implementing MouseListener_ please provide mre","body":"<i>I just made a class named Frame extending JFrame and implementing MouseListener</i> please provide mre"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1642231238,"post_id":70719075,"comment_id":125020417,"body_markdown":"*&quot;I just made a class..&quot;* So post that short (complete) code as a [mre]. Your statement reads here like *&quot;to help me, you just need to ..&quot;* which is where I stop reading, because we don&#39;t *need* to do anything. Our interest is purely academic, and there are plenty of others around here who *do* follow our advice and make it *easy* for us to help.","body":"<i>&quot;I just made a class..&quot;</i> So post that short (complete) code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Your statement reads here like <i>&quot;to help me, you just need to ..&quot;</i> which is where I stop reading, because we don&#39;t <i>need</i> to do anything. Our interest is purely academic, and there are plenty of others around here who <i>do</i> follow our advice and make it <i>easy</i> for us to help."}],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642234245,"creation_date":1642232664,"answer_id":70719672,"question_id":70719075,"body_markdown":"You can do that by using a `MouseListener` to  track when the mouse is pressed and get the coordinates of the label, alongside a `MouseMotionAdapter` to track when the mouse is moved (or dragged) to help you set the new location of the label.\r\n\r\n**Update:**\r\nTo add more info on how this works, `e.getLocationOnScreen().x` returns the X coordinate of the mouse pressed based on the computer screen, while `label.getX()` returns the X coordinate of the label based on the Java Swing container it has been added to; in this case, that is the `JFrame`. So, one has to subtract that value from the previous one to get the actual X coordinate of the label on the screen. Same applies for the Y coordinate. Once you have both coordinates, you can use the `label.setLocation()` method to change the location of the label, and hence, move the label around the screen.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class LabelDragExample extends JFrame {\r\n    \tJLabel label;\r\n    \tint x, y;\r\n    \r\n    \tpublic LabelDragExample() {\r\n    \t\tlabel = new JLabel();\r\n    \t\tlabel.setBounds(800, 200, 200, 200);\r\n    \t\tlabel.setBackground(Color.RED);\r\n    \t\tlabel.setOpaque(true);\r\n    \t\tlabel.addMouseListener(new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mousePressed(MouseEvent e) {\r\n    \t\t\t\tx = e.getLocationOnScreen().x - label.getX();\r\n    \t\t\t\ty = e.getLocationOnScreen().y - label.getY();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tlabel.addMouseMotionListener(new MouseMotionAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mouseDragged(MouseEvent e) {\r\n    \t\t\t\tlabel.setLocation(e.getLocationOnScreen().x - x, e.getLocationOnScreen().y - y);\r\n    \t\t\t\tx = e.getLocationOnScreen().x - label.getX();\r\n    \t\t\t\ty = e.getLocationOnScreen().y - label.getY();\r\n    \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tthis.setSize(1200, 700);\r\n    \t\tthis.setLayout(null);\r\n    \t\tthis.setVisible(true);\r\n\t\t    this.add(label);\r\n    \t\tthis.setLocationRelativeTo(null);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tnew LabelDragExample();\r\n    \r\n    \t}\r\n    }","title":"Moving the label in Java","body":"<p>You can do that by using a <code>MouseListener</code> to  track when the mouse is pressed and get the coordinates of the label, alongside a <code>MouseMotionAdapter</code> to track when the mouse is moved (or dragged) to help you set the new location of the label.</p>\n<p><strong>Update:</strong>\nTo add more info on how this works, <code>e.getLocationOnScreen().x</code> returns the X coordinate of the mouse pressed based on the computer screen, while <code>label.getX()</code> returns the X coordinate of the label based on the Java Swing container it has been added to; in this case, that is the <code>JFrame</code>. So, one has to subtract that value from the previous one to get the actual X coordinate of the label on the screen. Same applies for the Y coordinate. Once you have both coordinates, you can use the <code>label.setLocation()</code> method to change the location of the label, and hence, move the label around the screen.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class LabelDragExample extends JFrame {\n    JLabel label;\n    int x, y;\n\n    public LabelDragExample() {\n        label = new JLabel();\n        label.setBounds(800, 200, 200, 200);\n        label.setBackground(Color.RED);\n        label.setOpaque(true);\n        label.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                x = e.getLocationOnScreen().x - label.getX();\n                y = e.getLocationOnScreen().y - label.getY();\n            }\n        });\n        label.addMouseMotionListener(new MouseMotionAdapter() {\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                label.setLocation(e.getLocationOnScreen().x - x, e.getLocationOnScreen().y - y);\n                x = e.getLocationOnScreen().x - label.getX();\n                y = e.getLocationOnScreen().y - label.getY();\n\n            }\n        });\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setSize(1200, 700);\n        this.setLayout(null);\n        this.setVisible(true);\n        this.add(label);\n        this.setLocationRelativeTo(null);\n    }\n\n    public static void main(String[] args) {\n\n        new LabelDragExample();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642309449,"creation_date":1642309449,"answer_id":70727525,"question_id":70719075,"body_markdown":"I observed that there is some offset between mouse&#39;s (0, 0) position on container and label&#39;s (0, 0) position. In the attached code, I am setting the mouse pointer to the label&#39;s on screen position point but you will notice that it does not get exactly aligned with label&#39;s (0, 0) position. We need to adjust for this offset. Once we adjust for the offset things will be fine. You can try out the attached code:\r\n```\r\npackage com.example.temp;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\n\r\npublic class Main extends JFrame implements MouseListener {\r\n    JLabel label;\r\n    Point offset = new Point();\r\n\r\n    Main() {\r\n        addMouseListener(this);\r\n\r\n        label = new JLabel();\r\n        label.setBounds(0, 0, 200, 200);\r\n        label.setBackground(Color.RED);\r\n        label.setOpaque(true);\r\n\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        this.setSize(1200, 700);\r\n        this.setLayout(null);\r\n        this.add(label);\r\n        this.setVisible(true);\r\n        this.setLocationRelativeTo(null);\r\n        try {\r\n            Robot robot = new Robot();\r\n            Point labelOSPoint = label.getLocationOnScreen();\r\n            robot.mouseMove(labelOSPoint.x, labelOSPoint.y);\r\n        } catch (AWTException ignored) {\r\n        }\r\n        Point labelPoint = label.getLocationOnScreen();\r\n        Point containerPoint = this.getLocationOnScreen();\r\n        offset.x = labelPoint.x - containerPoint.x;\r\n        offset.y = labelPoint.y - containerPoint.y;\r\n        System.out.println(&quot;offset x = &quot; + offset.x + &quot;, y = &quot; + offset.y);\r\n        label.setText(&quot;Location: x = &quot; + label.getX() + &quot;, y = &quot; + label.getY());\r\n    }\r\n\r\n    public void mouseClicked(MouseEvent e) {\r\n    }\r\n\r\n    public void mouseEntered(MouseEvent e) {\r\n        Point mousePoint = e.getPoint();\r\n        System.out.println(&quot;mousePoint x = &quot; + mousePoint.x + &quot;, y = &quot; + mousePoint.y);\r\n    }\r\n\r\n    public void mouseExited(MouseEvent e) {\r\n    }\r\n\r\n    public void mousePressed(MouseEvent e) {\r\n    }\r\n\r\n    public void mouseReleased(MouseEvent e) {\r\n        Point mousePoint = e.getPoint();\r\n        label.setLocation(mousePoint.x - offset.x, mousePoint.y - offset.y);\r\n        label.setText(&quot;Location: x = &quot; + label.getX() + &quot;, y = &quot; + label.getY());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Main();\r\n    }\r\n}\r\n```","title":"Moving the label in Java","body":"<p>I observed that there is some offset between mouse's (0, 0) position on container and label's (0, 0) position. In the attached code, I am setting the mouse pointer to the label's on screen position point but you will notice that it does not get exactly aligned with label's (0, 0) position. We need to adjust for this offset. Once we adjust for the offset things will be fine. You can try out the attached code:</p>\n<pre><code>package com.example.temp;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\n\npublic class Main extends JFrame implements MouseListener {\n    JLabel label;\n    Point offset = new Point();\n\n    Main() {\n        addMouseListener(this);\n\n        label = new JLabel();\n        label.setBounds(0, 0, 200, 200);\n        label.setBackground(Color.RED);\n        label.setOpaque(true);\n\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setSize(1200, 700);\n        this.setLayout(null);\n        this.add(label);\n        this.setVisible(true);\n        this.setLocationRelativeTo(null);\n        try {\n            Robot robot = new Robot();\n            Point labelOSPoint = label.getLocationOnScreen();\n            robot.mouseMove(labelOSPoint.x, labelOSPoint.y);\n        } catch (AWTException ignored) {\n        }\n        Point labelPoint = label.getLocationOnScreen();\n        Point containerPoint = this.getLocationOnScreen();\n        offset.x = labelPoint.x - containerPoint.x;\n        offset.y = labelPoint.y - containerPoint.y;\n        System.out.println(&quot;offset x = &quot; + offset.x + &quot;, y = &quot; + offset.y);\n        label.setText(&quot;Location: x = &quot; + label.getX() + &quot;, y = &quot; + label.getY());\n    }\n\n    public void mouseClicked(MouseEvent e) {\n    }\n\n    public void mouseEntered(MouseEvent e) {\n        Point mousePoint = e.getPoint();\n        System.out.println(&quot;mousePoint x = &quot; + mousePoint.x + &quot;, y = &quot; + mousePoint.y);\n    }\n\n    public void mouseExited(MouseEvent e) {\n    }\n\n    public void mousePressed(MouseEvent e) {\n    }\n\n    public void mouseReleased(MouseEvent e) {\n        Point mousePoint = e.getPoint();\n        label.setLocation(mousePoint.x - offset.x, mousePoint.y - offset.y);\n        label.setText(&quot;Location: x = &quot; + label.getX() + &quot;, y = &quot; + label.getY());\n    }\n\n    public static void main(String[] args) {\n        new Main();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70719672,"answer_count":2,"score":1,"last_activity_date":1642309449,"creation_date":1642224304,"question_id":70719075,"body_markdown":"I wanted to make a label and move it on the screen. I tried to find some videos and other sources to find how to do so but couldn&#39;t understand them well, or they used things I never heard of. \r\nSo I made this code (the frame is extending JFrame and implementing MouseListener):\r\n\r\nThis is the main Class:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \t    new Frame();\r\n        }\r\n    }\r\n\r\nAnd this is the class with the code:\r\n\r\n    public class Frame extends JFrame implements MouseListener{\r\n    \r\n        JLabel label;\r\n    \r\n        Frame() {\r\n            label = new JLabel();\r\n    \r\n            label.setBounds(800, 200, 200, 200);\r\n            label.setBackground(Color.RED);\r\n            label.setOpaque(true);\r\n            label.addMouseListener(this);\r\n    \r\n            this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            this.setSize(1200, 700);\r\n            this.setLayout(null);\r\n            this.add(label);\r\n            this.setVisible(true);\r\n            this.setLocationRelativeTo(null);\r\n        }\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            Point x = e.getPoint();\r\n            label.setLocation(x);\r\n            System.out.println(x);\r\n        }\r\n\r\nWhen I try to move the label, the label moves, but not in the place I want it to. \r\nOnly sometimes, the label moves in the direction I want to, but most of the time, it moves in any random direction. Even if I just click, it moves. \r\nHowever, even if the label moves in the direction I want to, it goes to a random length in the direction.\r\n","title":"Moving the label in Java","body":"<p>I wanted to make a label and move it on the screen. I tried to find some videos and other sources to find how to do so but couldn't understand them well, or they used things I never heard of.\nSo I made this code (the frame is extending JFrame and implementing MouseListener):</p>\n<p>This is the main Class:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        new Frame();\n    }\n}\n</code></pre>\n<p>And this is the class with the code:</p>\n<pre><code>public class Frame extends JFrame implements MouseListener{\n\n    JLabel label;\n\n    Frame() {\n        label = new JLabel();\n\n        label.setBounds(800, 200, 200, 200);\n        label.setBackground(Color.RED);\n        label.setOpaque(true);\n        label.addMouseListener(this);\n\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setSize(1200, 700);\n        this.setLayout(null);\n        this.add(label);\n        this.setVisible(true);\n        this.setLocationRelativeTo(null);\n    }\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        Point x = e.getPoint();\n        label.setLocation(x);\n        System.out.println(x);\n    }\n</code></pre>\n<p>When I try to move the label, the label moves, but not in the place I want it to.\nOnly sometimes, the label moves in the direction I want to, but most of the time, it moves in any random direction. Even if I just click, it moves.\nHowever, even if the label moves in the direction I want to, it goes to a random length in the direction.</p>\n"},{"tags":["java","spring-boot","exception","classcastexception"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642189442,"creation_date":1642189442,"answer_id":70715808,"question_id":70714652,"body_markdown":"You can&#39;t cast `OutOfMemoryError` into an `Exception`.\r\n\r\nCheck the [OutOfMemoryError Doc][1], and you can see that it is not a child class of `Exception` but from `Error`.\r\n\r\nAnd as the [ Error Doc][2], states:\r\n\r\n&gt; An Error is a subclass of Throwable that indicates serious problems\r\n&gt; that a reasonable application **should not try to catch**. Most such\r\n&gt; errors are abnormal conditions. \r\n\r\nSo you should not try to catch `OutOfMemoryError` as you don&#39;t have much options available at that point to recover your application state. For sure however you CAN NOT cast a `OutOfMemoryError` into an `Exception` as this is not possible.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Error.html","title":"How to avoid catching OutOfMemoryError in java and how to resolve class java.lang.OutOfMemoryError cannot be cast to class java.lang.Exception issue","body":"<p>You can't cast <code>OutOfMemoryError</code> into an <code>Exception</code>.</p>\n<p>Check the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\" rel=\"nofollow noreferrer\">OutOfMemoryError Doc</a>, and you can see that it is not a child class of <code>Exception</code> but from <code>Error</code>.</p>\n<p>And as the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Error.html\" rel=\"nofollow noreferrer\"> Error Doc</a>, states:</p>\n<blockquote>\n<p>An Error is a subclass of Throwable that indicates serious problems\nthat a reasonable application <strong>should not try to catch</strong>. Most such\nerrors are abnormal conditions.</p>\n</blockquote>\n<p>So you should not try to catch <code>OutOfMemoryError</code> as you don't have much options available at that point to recover your application state. For sure however you CAN NOT cast a <code>OutOfMemoryError</code> into an <code>Exception</code> as this is not possible.</p>\n"},{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642191113,"creation_date":1642189973,"answer_id":70715872,"question_id":70714652,"body_markdown":"Errors are not Exceptions.\r\n\r\nAssuming that you get the `OutOfMemoryError` when calling an external service, then you could check if there was an Error before casting the cause to an Exception\r\n\r\n```java\r\n catch (ExecutionException e) {\r\n    if (e.getCause() instanceof Error) {\r\n        logger.error(&quot;Caught Error&quot;);\r\n    } else {\r\n        Exception ex = (Exception)e.getCause();\r\n        if(ex instanceof UncategorizedJmsException) {\r\n            logger.error(e.getMessage());\r\n        } else if(ex instanceof ApplicationException) {\r\n            logger.error(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to avoid catching OutOfMemoryError in java and how to resolve class java.lang.OutOfMemoryError cannot be cast to class java.lang.Exception issue","body":"<p>Errors are not Exceptions.</p>\n<p>Assuming that you get the <code>OutOfMemoryError</code> when calling an external service, then you could check if there was an Error before casting the cause to an Exception</p>\n<pre class=\"lang-java prettyprint-override\"><code> catch (ExecutionException e) {\n    if (e.getCause() instanceof Error) {\n        logger.error(&quot;Caught Error&quot;);\n    } else {\n        Exception ex = (Exception)e.getCause();\n        if(ex instanceof UncategorizedJmsException) {\n            logger.error(e.getMessage());\n        } else if(ex instanceof ApplicationException) {\n            logger.error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642309159,"creation_date":1642309159,"answer_id":70727508,"question_id":70714652,"body_markdown":"I am going to try expanding on Panagiotis Bougioukos&#39; answer a bit. \r\n\r\n&gt; *So you should not try to catch OutOfMemoryError as you don&#39;t have much options available*\r\n\r\nThis is true. This is what the architects of Java recommend. In my almost 17 years developing software using Java, I have only needed to catch `OutOfMemoryError`once. It would nice if OP include details on the nature of the error to know how to solve this part of the problem. In my case, I was working on a feature that used Apache POI to open Excel spreadsheets. The application was for an Oil and Gas company who kept DECADES worth of data on Spreadsheets. Our application was limited due to the fact that the application could only run on 32-bit due to some legacy DLLs our Java application needed to interact with on other parts of the program. Due to this limitation, I decided that instead of asking our clients to break down these spreadsheets, I would catch these errors and attempt to open the files in old Excel format, rather than on the new format. This decision worked like a charm.\r\n\r\nI am telling this story so that you can see how specific these circumstances were: new Excel with excessive data, an application with a 32-bit limitation, not wanting to bug down the clients with manual data manipulation, etc. For you, the key here is figuring out the real root cause(s) of the problem. Once you that, try to mitigate by fixing the issue outside the application. For example, maybe you are allocating not enough memory to run your code. After all, we don&#39;t know how much max memory your application needs or needed before this issue surfaced.\r\n\r\nIf you go through the list of issues and there are enough mitigating circumstances (like in my case) to justify catching the error **AND**  your plan to make this &quot;fix&quot; in the code is solid, then proceed at your own risk. As it has been said already here, an `OutOfMemoryError` is a sign that something has gone horribly wrong. So, by catching the error, if your alternate plan to proceed running your application in some degraded state is not sound, it could lead to even major issues, like losing data.\r\n\r\nHandling the error\r\n----------\r\n\r\nIn my opinion, you should not create convoluted &quot;`instanceof`&quot; interrogation on your exception object. If you need to handle specific exceptions (or errors), just handle them directly. For example, if you need to handle an out of memory error, simply do that in the try/catch\r\n\r\n    try {\r\n        // execute your process\r\n    } catch (OutOfMemoryError error) {\r\n        // execute alternate process\r\n    }\r\n\r\nThe body of the try should be as small as possible, the line of code that would result in the condition if you know it.","title":"How to avoid catching OutOfMemoryError in java and how to resolve class java.lang.OutOfMemoryError cannot be cast to class java.lang.Exception issue","body":"<p>I am going to try expanding on Panagiotis Bougioukos' answer a bit.</p>\n<blockquote>\n<p><em>So you should not try to catch OutOfMemoryError as you don't have much options available</em></p>\n</blockquote>\n<p>This is true. This is what the architects of Java recommend. In my almost 17 years developing software using Java, I have only needed to catch <code>OutOfMemoryError</code>once. It would nice if OP include details on the nature of the error to know how to solve this part of the problem. In my case, I was working on a feature that used Apache POI to open Excel spreadsheets. The application was for an Oil and Gas company who kept DECADES worth of data on Spreadsheets. Our application was limited due to the fact that the application could only run on 32-bit due to some legacy DLLs our Java application needed to interact with on other parts of the program. Due to this limitation, I decided that instead of asking our clients to break down these spreadsheets, I would catch these errors and attempt to open the files in old Excel format, rather than on the new format. This decision worked like a charm.</p>\n<p>I am telling this story so that you can see how specific these circumstances were: new Excel with excessive data, an application with a 32-bit limitation, not wanting to bug down the clients with manual data manipulation, etc. For you, the key here is figuring out the real root cause(s) of the problem. Once you that, try to mitigate by fixing the issue outside the application. For example, maybe you are allocating not enough memory to run your code. After all, we don't know how much max memory your application needs or needed before this issue surfaced.</p>\n<p>If you go through the list of issues and there are enough mitigating circumstances (like in my case) to justify catching the error <strong>AND</strong>  your plan to make this &quot;fix&quot; in the code is solid, then proceed at your own risk. As it has been said already here, an <code>OutOfMemoryError</code> is a sign that something has gone horribly wrong. So, by catching the error, if your alternate plan to proceed running your application in some degraded state is not sound, it could lead to even major issues, like losing data.</p>\n<h2>Handling the error</h2>\n<p>In my opinion, you should not create convoluted &quot;<code>instanceof</code>&quot; interrogation on your exception object. If you need to handle specific exceptions (or errors), just handle them directly. For example, if you need to handle an out of memory error, simply do that in the try/catch</p>\n<pre><code>try {\n    // execute your process\n} catch (OutOfMemoryError error) {\n    // execute alternate process\n}\n</code></pre>\n<p>The body of the try should be as small as possible, the line of code that would result in the condition if you know it.</p>\n"}],"owner":{"account_id":19441347,"reputation":137,"user_id":15522059,"display_name":"Ann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70715872,"answer_count":3,"score":1,"last_activity_date":1642309159,"creation_date":1642182592,"question_id":70714652,"body_markdown":"    for (int i = 0; i &lt;listOfProcesses.size(); i++) {\r\n        try {\r\n            Future&lt;Boolean&gt; futureResult = executorCompletionService.take();\r\n            boolean status = futureResult.get();\r\n        } catch (InterruptedException e) {\r\n            logger.error(e.getMessage());\r\n        } catch (ExecutionException e) {\r\n            logger.error(e.getMessage());\r\n            Exception ex = (Exception)e.getCause();\r\n            if(ex instanceof UncategorizedJmsException) {\r\n                logger.error(e.getMessage());\r\n            } else if(ex instanceof ApplicationException) {\r\n                logger.error(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nWhen executing certain tasks, I face OutOfMemory error. This exception is caught as ExecutionException and I get the below mentioned class cast exception.\r\n\r\n    Unexpected error occurred in scheduled task\r\n    java.lang.ClassCastException: class java.lang.OutOfMemoryError cannot be cast to class java.lang.Exception \r\n    (java.lang.OutOfMemoryError and java.lang.Exception are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nHow do I make errors to not be cast as exception? To handle other springboot exceptions, I am in need to cast as exception through this way `(Exception)e.getCause()`. How do I overcome this class cast excception? Kindly help\r\n\r\n","title":"How to avoid catching OutOfMemoryError in java and how to resolve class java.lang.OutOfMemoryError cannot be cast to class java.lang.Exception issue","body":"<pre><code>for (int i = 0; i &lt;listOfProcesses.size(); i++) {\n    try {\n        Future&lt;Boolean&gt; futureResult = executorCompletionService.take();\n        boolean status = futureResult.get();\n    } catch (InterruptedException e) {\n        logger.error(e.getMessage());\n    } catch (ExecutionException e) {\n        logger.error(e.getMessage());\n        Exception ex = (Exception)e.getCause();\n        if(ex instanceof UncategorizedJmsException) {\n            logger.error(e.getMessage());\n        } else if(ex instanceof ApplicationException) {\n            logger.error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>When executing certain tasks, I face OutOfMemory error. This exception is caught as ExecutionException and I get the below mentioned class cast exception.</p>\n<pre><code>Unexpected error occurred in scheduled task\njava.lang.ClassCastException: class java.lang.OutOfMemoryError cannot be cast to class java.lang.Exception \n(java.lang.OutOfMemoryError and java.lang.Exception are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>How do I make errors to not be cast as exception? To handle other springboot exceptions, I am in need to cast as exception through this way <code>(Exception)e.getCause()</code>. How do I overcome this class cast excception? Kindly help</p>\n"},{"tags":["java","spring","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1642184801,"post_id":70714612,"comment_id":125012286,"body_markdown":"Is your application connecting as amq client over the network to the mq server?","body":"Is your application connecting as amq client over the network to the mq server?"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1642237629,"post_id":70714612,"comment_id":125021320,"body_markdown":"I believe, if you don&#39;t tell it otherwise, the JMS client will attempt a local connection and then attempt a client connection. Given that you have said that your application runs without issue, and the error messages says this is normal for a client install, I think that is what is going on. Use a WMQ_CONNECTION_MODE or WMQ_CM_CLIENT","body":"I believe, if you don&#39;t tell it otherwise, the JMS client will attempt a local connection and then attempt a client connection. Given that you have said that your application runs without issue, and the error messages says this is normal for a client install, I think that is what is going on. Use a WMQ_CONNECTION_MODE or WMQ_CM_CLIENT"},{"owner":{"account_id":4671236,"reputation":445,"user_id":3782992,"accept_rate":0,"display_name":"sanjaykumar81"},"score":0,"creation_date":1642291379,"post_id":70714612,"comment_id":125032709,"body_markdown":"@JoshMc no, my application is not connecting mq over any network","body":"@JoshMc no, my application is not connecting mq over any network"},{"owner":{"account_id":4671236,"reputation":445,"user_id":3782992,"accept_rate":0,"display_name":"sanjaykumar81"},"score":0,"creation_date":1642291697,"post_id":70714612,"comment_id":125032750,"body_markdown":"@MoragHughson I am new to BM MQ so I am not sure what to do when you say &quot;Use a WMQ_CONNECTION_MODE or WMQ_CM_CLIENT&quot;.  Not sure if spring provide this configuration setting.","body":"@MoragHughson I am new to BM MQ so I am not sure what to do when you say &quot;Use a WMQ_CONNECTION_MODE or WMQ_CM_CLIENT&quot;.  Not sure if spring provide this configuration setting."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1642306251,"post_id":70714612,"comment_id":125034359,"body_markdown":"Please provide your spring config.","body":"Please provide your spring config."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1642392651,"post_id":70714612,"comment_id":125050260,"body_markdown":"Sorry typo on my part. I meant: use a WMQ_CONNECTION_MODE **of** WMQ_CM_CLIENT, i.e. `cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);`","body":"Sorry typo on my part. I meant: use a WMQ_CONNECTION_MODE <b>of</b> WMQ_CM_CLIENT, i.e. <code>cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);</code>"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1642393373,"post_id":70714612,"comment_id":125050337,"body_markdown":"Seems like @sanjaykumar81 is using mqallclient.jar which supports only client connections, not bindings meaning there is no mqjbnd64 library shipped. As Morag suggested you will need try with WMQ_CM_CLIENT mode. I did not understand your statement &quot;Note: The application run without issue and connect to containerized IBM MQ and listen and read msg from the queue.&quot; - Can you clarify? Are you trying state your requirement?","body":"Seems like @sanjaykumar81 is using mqallclient.jar which supports only client connections, not bindings meaning there is no mqjbnd64 library shipped. As Morag suggested you will need try with WMQ_CM_CLIENT mode. I did not understand your statement &quot;Note: The application run without issue and connect to containerized IBM MQ and listen and read msg from the queue.&quot; - Can you clarify? Are you trying state your requirement?"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":2,"creation_date":1642393533,"post_id":70714612,"comment_id":125050357,"body_markdown":"Using client mode does not really mean connection is made over a network, It means application is connecting to a queue manager over a TCP socket. You can connect to a MQ queue manager running on the same machine using client mode.","body":"Using client mode does not really mean connection is made over a network, It means application is connecting to a queue manager over a TCP socket. You can connect to a MQ queue manager running on the same machine using client mode."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":1,"creation_date":1642482760,"post_id":70714612,"comment_id":125075583,"body_markdown":"@Shashi, I read that last statement as meaning that despite seeing the reported error, the application runs fine. That would also fit with the try local then try client mode of operation which I think is the default.","body":"@Shashi, I read that last statement as meaning that despite seeing the reported error, the application runs fine. That would also fit with the try local then try client mode of operation which I think is the default."}],"owner":{"account_id":4671236,"reputation":445,"user_id":3782992,"accept_rate":0,"display_name":"sanjaykumar81"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642306899,"creation_date":1642182402,"question_id":70714612,"body_markdown":"I am trying to run a integration test in my spring boot application.\r\n\r\nTest involved sending msg to IBM MQ (Running on local m/c in a container) and the asserting the that the listener get the msg.\r\n\r\nMy test fails with the error:\r\n\r\n```\r\norg.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.msg.client.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\r\nThe Java(tm) MQI has thrown an exception describing the problem. \r\nSee the linked exception for further information.; nested exception is com.ibm.mq.jmqi.JmqiException: CC=2;RC=2495;AMQ8568: The native JNI library &#39;mqjbnd64&#39; was not found. For a client installation this is expected. [3=mqjbnd64]\r\n\r\n\tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311)\r\n\tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185)\r\n```\r\n\r\nNow I am running the IBM MQ as a container. So its not installed on my Windows. \r\nDue to this setup, as suggested in other solutions I can&#39;t set the path for the library.\r\n\r\n\r\nAny suggestion how to fix this. \r\n\r\nNote: The application run without issue and connect to containerized IBM MQ and listen and read msg from the queue.","title":"Error when trying to connect to IBM MQ in running in container in my test","body":"<p>I am trying to run a integration test in my spring boot application.</p>\n<p>Test involved sending msg to IBM MQ (Running on local m/c in a container) and the asserting the that the listener get the msg.</p>\n<p>My test fails with the error:</p>\n<pre><code>org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.msg.client.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\nThe Java(tm) MQI has thrown an exception describing the problem. \nSee the linked exception for further information.; nested exception is com.ibm.mq.jmqi.JmqiException: CC=2;RC=2495;AMQ8568: The native JNI library 'mqjbnd64' was not found. For a client installation this is expected. [3=mqjbnd64]\n\n    at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311)\n    at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:185)\n</code></pre>\n<p>Now I am running the IBM MQ as a container. So its not installed on my Windows.\nDue to this setup, as suggested in other solutions I can't set the path for the library.</p>\n<p>Any suggestion how to fix this.</p>\n<p>Note: The application run without issue and connect to containerized IBM MQ and listen and read msg from the queue.</p>\n"},{"tags":["java","android","mobile","geolocation"],"comments":[{"owner":{"account_id":13445288,"reputation":318,"user_id":9701439,"display_name":"TylerQITX"},"score":0,"creation_date":1641529003,"post_id":70616351,"comment_id":124833005,"body_markdown":"Did you add &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt; to your manifest?","body":"Did you add &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt; to your manifest?"}],"answers":[{"tags":[],"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641531283,"creation_date":1641531283,"answer_id":70616758,"question_id":70616351,"body_markdown":"When requesting `ACCESS_FINE_LOCATION` you also need to ask for `ACCESS_COARSE_LOCATION`. \r\n\r\n&gt; To handle this potential user behavior, don&#39;t request the\r\n&gt; ACCESS_FINE_LOCATION permission by itself. Instead, request both the\r\n&gt; ACCESS_FINE_LOCATION permission and the ACCESS_COARSE_LOCATION\r\n&gt; permission in a single runtime request. If you try to request only\r\n&gt; ACCESS_FINE_LOCATION, the system ignores the request if you app target Android 12 or above.\r\n&gt; Blockquote\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;manifest ... &gt;\r\n      &lt;!-- Always include this permission --&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    \r\n      &lt;!-- Include only if your app benefits from precise location access. --&gt;\r\n      &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;/manifest&gt;\r\n\r\nJava code\r\n\r\n    ActivityCompat.requestPermissions(HomePageActivity.this, \r\n                                         new String[]{Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.CAMERA},\r\n                                                              REQUEST_CODE_MULTIPLE_PERMISSION\r\n                                                      );\r\n\r\nYou can find more info on google docs - [Request location permission](https://developer.android.com/training/location/permissions#types-of-access)","title":"Why won&#39;t my app ask or allow location permissions?","body":"<p>When requesting <code>ACCESS_FINE_LOCATION</code> you also need to ask for <code>ACCESS_COARSE_LOCATION</code>.</p>\n<blockquote>\n<p>To handle this potential user behavior, don't request the\nACCESS_FINE_LOCATION permission by itself. Instead, request both the\nACCESS_FINE_LOCATION permission and the ACCESS_COARSE_LOCATION\npermission in a single runtime request. If you try to request only\nACCESS_FINE_LOCATION, the system ignores the request if you app target Android 12 or above.\nBlockquote</p>\n</blockquote>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;manifest ... &gt;\n  &lt;!-- Always include this permission --&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n\n  &lt;!-- Include only if your app benefits from precise location access. --&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Java code</p>\n<pre><code>ActivityCompat.requestPermissions(HomePageActivity.this, \n                                     new String[]{Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.CAMERA},\n                                                          REQUEST_CODE_MULTIPLE_PERMISSION\n                                                  );\n</code></pre>\n<p>You can find more info on google docs - <a href=\"https://developer.android.com/training/location/permissions#types-of-access\" rel=\"nofollow noreferrer\">Request location permission</a></p>\n"}],"owner":{"account_id":10468691,"reputation":1,"user_id":17846747,"display_name":"blackelf2121"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1642306031,"creation_date":1641526895,"question_id":70616351,"body_markdown":"I have been stuck on this issue for some time. I am trying to make my app request 2 permissions at once, as so:\r\n\r\n```java\r\nibTakePicture.setOnClickListener(new View.OnClickListener() {\r\n    //this get image and location and then display both\r\n    @Override\r\n    public void onClick(View v) {\r\n        ActivityCompat.requestPermissions(\r\n            HomePageActivity.this,\r\n            new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.CAMERA},\r\n            REQUEST_CODE_MULTIPLE_PERMISSION\r\n        );\r\n    }\r\n});\r\n```\r\n\r\nSo the idea is when the button is clicked the user is prompted to give location and camera permissions, so I can then store the location and photo somewhere. The camera functions work fine, but I am still stuck on getting the location. here is my `onRequestPermissionsResult`:\r\n\r\n```java\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n    if (grantResults.length &gt; 0) {\r\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n            getCurrentLocation();\r\n            dispatchTakePictureIntent();\r\n        } else {\r\n            Toast.makeText(\r\n                HomePageActivity.this,\r\n                &quot;Location and Camera permissions must be granted for this app to work.&quot;,\r\n                Toast.LENGTH_LONG\r\n            ).show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI am pretty sure it&#39;s just a problem with these methods, any help would be massively appreciated. \r\n\r\nI have tried other ways, such as in my previous question https://stackoverflow.com/questions/70602255/java-android-requesting-multiple-permissions-but-one-doesnt-get-requested/70602540#70602540\r\n\r\n","title":"Why won&#39;t my app ask or allow location permissions?","body":"<p>I have been stuck on this issue for some time. I am trying to make my app request 2 permissions at once, as so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ibTakePicture.setOnClickListener(new View.OnClickListener() {\n    //this get image and location and then display both\n    @Override\n    public void onClick(View v) {\n        ActivityCompat.requestPermissions(\n            HomePageActivity.this,\n            new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.CAMERA},\n            REQUEST_CODE_MULTIPLE_PERMISSION\n        );\n    }\n});\n</code></pre>\n<p>So the idea is when the button is clicked the user is prompted to give location and camera permissions, so I can then store the location and photo somewhere. The camera functions work fine, but I am still stuck on getting the location. here is my <code>onRequestPermissionsResult</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (grantResults.length &gt; 0) {\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\n            getCurrentLocation();\n            dispatchTakePictureIntent();\n        } else {\n            Toast.makeText(\n                HomePageActivity.this,\n                &quot;Location and Camera permissions must be granted for this app to work.&quot;,\n                Toast.LENGTH_LONG\n            ).show();\n        }\n    }\n}\n</code></pre>\n<p>I am pretty sure it's just a problem with these methods, any help would be massively appreciated.</p>\n<p>I have tried other ways, such as in my previous question <a href=\"https://stackoverflow.com/questions/70602255/java-android-requesting-multiple-permissions-but-one-doesnt-get-requested/70602540#70602540\">Java Android - Requesting multiple permissions but one doesn&#39;t get requested</a></p>\n"},{"tags":["java","rest-assured","filenotfoundexception"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1642304391,"post_id":70727113,"comment_id":125034156,"body_markdown":"You should be able to use this same code in a .jar file if the file is external to the .jar.  You just have to get the path right.  If the file is in the .jar, then you can&#39;t use a simple filesystem path, as there isn&#39;t such a thing to the file you want to read.  There are a number of options.  I would expect that Rest-assured would be able to read upload parts from a stream rather than having to provide a file path.  If a file path is necessary, then you could copy the file in the jar file out to a temporary file on the filesystem and then provide the path to that file to the API call.","body":"You should be able to use this same code in a .jar file if the file is external to the .jar.  You just have to get the path right.  If the file is in the .jar, then you can&#39;t use a simple filesystem path, as there isn&#39;t such a thing to the file you want to read.  There are a number of options.  I would expect that Rest-assured would be able to read upload parts from a stream rather than having to provide a file path.  If a file path is necessary, then you could copy the file in the jar file out to a temporary file on the filesystem and then provide the path to that file to the API call."},{"owner":{"account_id":13174237,"reputation":9,"user_id":9515607,"display_name":"user9515607"},"score":0,"creation_date":1642346904,"post_id":70727113,"comment_id":125041326,"body_markdown":"This answer was helpful. I put csv files out of jar file. Thank You  CryptoFool","body":"This answer was helpful. I put csv files out of jar file. Thank You  CryptoFool"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1642353386,"post_id":70727113,"comment_id":125043014,"body_markdown":"Was my answer helpful or just my comment?  If my answer was helpful, please accept and/or upvote it.","body":"Was my answer helpful or just my comment?  If my answer was helpful, please accept and/or upvote it."},{"owner":{"account_id":13174237,"reputation":9,"user_id":9515607,"display_name":"user9515607"},"score":0,"creation_date":1642413993,"post_id":70727113,"comment_id":125055556,"body_markdown":"Comment was helpful.","body":"Comment was helpful."}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642305798,"creation_date":1642305496,"answer_id":70727262,"question_id":70727113,"body_markdown":"Per the Rest-Assured Javadocs for the RequestSpecification class, found here:\r\n\r\nhttps://www.javadoc.io/static/com.jayway.restassured/rest-assured/2.9.0/com/jayway/restassured/specification/RequestSpecification.html\r\n\r\nthere are a total of 13 overloads of the `.multiPart` method.  A few of them take an InputStream.  Since you are specifying a MIME type as a parameter, you want this version I believe:\r\n\r\n    multiPart(String controlName, String fileName, InputStream stream, String mimeType)\r\n\r\nSo if you have an InputStream rather than a file path, using this version of the method should give you what you want.  Just note that in addition to the InputStream, you have to supply a file name, since an InputStream object does not have a file name associated with it like a file on disk does.\r\n\r\nIf your file is not in your .jar file but is on disk, then you should be able to use the version of the `multiPart` method that takes a file path.  You just need to supply the correct path to the file.  The best way to do this is to compute an absolute path rather than making any assumption about what the base directory is, which you have to do if you supply a relative path like in your example.\r\n","title":"Multipart upload in REST assured","body":"<p>Per the Rest-Assured Javadocs for the RequestSpecification class, found here:</p>\n<p><a href=\"https://www.javadoc.io/static/com.jayway.restassured/rest-assured/2.9.0/com/jayway/restassured/specification/RequestSpecification.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/static/com.jayway.restassured/rest-assured/2.9.0/com/jayway/restassured/specification/RequestSpecification.html</a></p>\n<p>there are a total of 13 overloads of the <code>.multiPart</code> method.  A few of them take an InputStream.  Since you are specifying a MIME type as a parameter, you want this version I believe:</p>\n<pre><code>multiPart(String controlName, String fileName, InputStream stream, String mimeType)\n</code></pre>\n<p>So if you have an InputStream rather than a file path, using this version of the method should give you what you want.  Just note that in addition to the InputStream, you have to supply a file name, since an InputStream object does not have a file name associated with it like a file on disk does.</p>\n<p>If your file is not in your .jar file but is on disk, then you should be able to use the version of the <code>multiPart</code> method that takes a file path.  You just need to supply the correct path to the file.  The best way to do this is to compute an absolute path rather than making any assumption about what the base directory is, which you have to do if you supply a relative path like in your example.</p>\n"}],"owner":{"account_id":13174237,"reputation":9,"user_id":9515607,"display_name":"user9515607"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642305798,"creation_date":1642302824,"question_id":70727113,"body_markdown":"I am trying to upload csv file using rest assured multipart upload method.\r\nIn swagger API documentation, request body is like below  for multipart csv upload. \r\n\r\n    {\r\n    &quot;file&quot;:&quot;string&quot;\r\n    }\r\n\r\nMy code is like this.\r\n\r\n    String file = &quot;src/resources/ccp/csvs/sample.csv&quot;\r\n        responsePost = given()\r\n                    .multiPart(&quot;file&quot;, new File(file), &quot;text/csv&quot; )\r\n    //                .header(&quot;Content-type&quot;, &quot;application/json&quot;)\r\n                    .and()\r\n                    .when()\r\n                    .post(url)\r\n                    .then()\r\n                    .extract().response();\r\n\r\nThis is working in IntelliJ idea without any issue. However when I package the code into a jar using maven and run it, It returns fileNotFound exception.\r\n\r\nAs I saw, the only solution is to use java file inputstream, but since swagger says to use a file, it is impossible to use input stream, isn&#39;t it?\r\n\r\nIs there another way to handle this issue?\r\n","title":"Multipart upload in REST assured","body":"<p>I am trying to upload csv file using rest assured multipart upload method.\nIn swagger API documentation, request body is like below  for multipart csv upload.</p>\n<pre><code>{\n&quot;file&quot;:&quot;string&quot;\n}\n</code></pre>\n<p>My code is like this.</p>\n<pre><code>String file = &quot;src/resources/ccp/csvs/sample.csv&quot;\n    responsePost = given()\n                .multiPart(&quot;file&quot;, new File(file), &quot;text/csv&quot; )\n//                .header(&quot;Content-type&quot;, &quot;application/json&quot;)\n                .and()\n                .when()\n                .post(url)\n                .then()\n                .extract().response();\n</code></pre>\n<p>This is working in IntelliJ idea without any issue. However when I package the code into a jar using maven and run it, It returns fileNotFound exception.</p>\n<p>As I saw, the only solution is to use java file inputstream, but since swagger says to use a file, it is impossible to use input stream, isn't it?</p>\n<p>Is there another way to handle this issue?</p>\n"},{"tags":["java","brute-force"],"comments":[{"owner":{"account_id":4858789,"reputation":749,"user_id":5744883,"accept_rate":86,"display_name":"Parnab Sanyal"},"score":1,"creation_date":1642234098,"post_id":70719780,"comment_id":125020815,"body_markdown":"This is not garbage. I can&#39;t say why you are seeing this output, but this is a certain type of encoding https://stackoverflow.com/a/3442100/5744883","body":"This is not garbage. I can&#39;t say why you are seeing this output, but this is a certain type of encoding <a href=\"https://stackoverflow.com/a/3442100/5744883\">stackoverflow.com/a/3442100/5744883</a>"},{"owner":{"account_id":4858789,"reputation":749,"user_id":5744883,"accept_rate":86,"display_name":"Parnab Sanyal"},"score":3,"creation_date":1642234415,"post_id":70719780,"comment_id":125020853,"body_markdown":"https://stackoverflow.com/a/409795/5744883. You need to use `deepToString`. as you are printing nested array. Now look at your previous output. It is saying that, each element is an array. `[` is the encoding for array.","body":"<a href=\"https://stackoverflow.com/a/409795/5744883\">stackoverflow.com/a/409795/5744883</a>. You need to use <code>deepToString</code>. as you are printing nested array. Now look at your previous output. It is saying that, each element is an array. <code>[</code> is the encoding for array."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1642234450,"post_id":70719780,"comment_id":125020859,"body_markdown":"[Java - Best way to print 2D array](https://stackoverflow.com/questions/19648240/java-best-way-to-print-2d-array)","body":"<a href=\"https://stackoverflow.com/questions/19648240/java-best-way-to-print-2d-array\">Java - Best way to print 2D array</a>"}],"answers":[{"tags":[],"owner":{"account_id":18738999,"reputation":33,"user_id":13662639,"display_name":"Justin Shi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642299401,"creation_date":1642235630,"answer_id":70719945,"question_id":70719780,"body_markdown":"Because `arr` is a two dimension array. And what you print is the address of the rows about the `arr`. (Just as *user16320675* mentioned, the address of the rows is not correct here and it should be the hashcode of the rows) In java API(https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html) where you can find that there is no `toString(int[][] a)` but `toString(int[] a)`.\r\nYour code can modify to get the value.\r\n\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n            System.out.println(Arrays.toString(arr[i]));\r\n            }\r\nBut why is not the answer in *leetcode*. Your algorithm just flip but not invert. So you should think more about the algorithm you design.","title":"Brute force technique is returning some gibberish when applied on a 2D array","body":"<p>Because <code>arr</code> is a two dimension array. And what you print is the address of the rows about the <code>arr</code>. (Just as <em>user16320675</em> mentioned, the address of the rows is not correct here and it should be the hashcode of the rows) In java API(<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html</a>) where you can find that there is no <code>toString(int[][] a)</code> but <code>toString(int[] a)</code>.\nYour code can modify to get the value.</p>\n<pre><code>        for (int i = 0; i &lt; arr.length; i++) {\n        System.out.println(Arrays.toString(arr[i]));\n        }\n</code></pre>\n<p>But why is not the answer in <em>leetcode</em>. Your algorithm just flip but not invert. So you should think more about the algorithm you design.</p>\n"},{"tags":[],"owner":{"account_id":21687449,"reputation":41,"user_id":16002662,"display_name":"K MURALI KRISHNA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642236107,"creation_date":1642235804,"answer_id":70719957,"question_id":70719780,"body_markdown":"`toString()` accepts one dimensional array as input argument and returns a string representation of it. It doesn&#39;t work for multi-dimensional arrays. Just replace `toString` with `deepToString()` for multi-dimensional array instead.\r\n\r\nLike,\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class ArrayFlipper {\r\n        public static void main(String[] args){\r\n            int[][] arr = {{1,1,0},{1,0,1},{0,0,0}};\r\n            System.out.println(Arrays.deepToString(flip(arr)));\r\n        }\r\n    \r\n        public static int[][] flip(int[][] image){\r\n            for(int i = 0 ; i &lt; image.length ; i++){\r\n                for(int j = image[i].length-1,k=0 ; j&gt;=0 &amp;&amp; k &lt; image[i].length;j--,k++){\r\n                    image[i][k] = image[i][j];\r\n                }\r\n            }\r\n            return image;\r\n        }\r\n    \r\n    }\r\nThis would return output:\r\n\r\n    [[0, 1, 0], [1, 0, 1], [0, 0, 0]]\r\n\r\nIf your code still doesn&#39;t give the intended output, think about why it&#39;s printing the current result.","title":"Brute force technique is returning some gibberish when applied on a 2D array","body":"<p><code>toString()</code> accepts one dimensional array as input argument and returns a string representation of it. It doesn't work for multi-dimensional arrays. Just replace <code>toString</code> with <code>deepToString()</code> for multi-dimensional array instead.</p>\n<p>Like,</p>\n<pre><code>import java.util.Arrays;\n\npublic class ArrayFlipper {\n    public static void main(String[] args){\n        int[][] arr = {{1,1,0},{1,0,1},{0,0,0}};\n        System.out.println(Arrays.deepToString(flip(arr)));\n    }\n\n    public static int[][] flip(int[][] image){\n        for(int i = 0 ; i &lt; image.length ; i++){\n            for(int j = image[i].length-1,k=0 ; j&gt;=0 &amp;&amp; k &lt; image[i].length;j--,k++){\n                image[i][k] = image[i][j];\n            }\n        }\n        return image;\n    }\n\n}\n</code></pre>\n<p>This would return output:</p>\n<pre><code>[[0, 1, 0], [1, 0, 1], [0, 0, 0]]\n</code></pre>\n<p>If your code still doesn't give the intended output, think about why it's printing the current result.</p>\n"}],"owner":{"account_id":22469503,"reputation":53,"user_id":16670157,"display_name":"Harsh Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1642305612,"creation_date":1642233777,"question_id":70719780,"body_markdown":"I am trying to solve a 2D array question using brute force, but when I run the code in my IDE it returns something in gibberish that I am not able to decode.\r\n\r\nQuestion: https://leetcode.com/problems/flipping-an-image/\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class flippingAnImage {\r\n    public static void main(String[] args){\r\n        int[][] arr = {{1,1,0},{1,0,1},{0,0,0}};\r\n        System.out.println(Arrays.toString(flip(arr)));\r\n    }\r\n\r\n    public static int[][] flip(int[][] image){\r\n        for(int i = 0 ; i &lt; image.length ; i++){\r\n            for(int j = image[i].length-1,k=0 ; j&gt;=0 &amp;&amp; k &lt; image[i].length;j--,k++){\r\n                image[i][k] = image[i][j];\r\n            }\r\n        }\r\n        return image;\r\n    }\r\n\r\n}\r\n```\r\nThis is what it returns:\r\n[[I@5acf9800, [I@4617c264, [I@36baf30c]\r\n\r\nAny help would be appreciated here","title":"Brute force technique is returning some gibberish when applied on a 2D array","body":"<p>I am trying to solve a 2D array question using brute force, but when I run the code in my IDE it returns something in gibberish that I am not able to decode.</p>\n<p>Question: <a href=\"https://leetcode.com/problems/flipping-an-image/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/flipping-an-image/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\n\npublic class flippingAnImage {\n    public static void main(String[] args){\n        int[][] arr = {{1,1,0},{1,0,1},{0,0,0}};\n        System.out.println(Arrays.toString(flip(arr)));\n    }\n\n    public static int[][] flip(int[][] image){\n        for(int i = 0 ; i &lt; image.length ; i++){\n            for(int j = image[i].length-1,k=0 ; j&gt;=0 &amp;&amp; k &lt; image[i].length;j--,k++){\n                image[i][k] = image[i][j];\n            }\n        }\n        return image;\n    }\n\n}\n</code></pre>\n<p>This is what it returns:\n[[I@5acf9800, [I@4617c264, [I@36baf30c]</p>\n<p>Any help would be appreciated here</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1642307410,"post_id":70727217,"comment_id":125034480,"body_markdown":"Guava waits until enough other activity on the cache (reads, writes) occurs, which triggers a maintenance cycle to amortize eviction. For a cache with modest usage this is fairly prompt, but one that is mostly idle will be delayed. For those cases you can periodically call `Cache.cleanUp()` in a scheduled thread. Guava&#39;s successor, Caffeine, allows you to specify a [Scheduler](https://github.com/ben-manes/caffeine/wiki/Cleanup) thread if you need prompt removal.","body":"Guava waits until enough other activity on the cache (reads, writes) occurs, which triggers a maintenance cycle to amortize eviction. For a cache with modest usage this is fairly prompt, but one that is mostly idle will be delayed. For those cases you can periodically call <code>Cache.cleanUp()</code> in a scheduled thread. Guava&#39;s successor, Caffeine, allows you to specify a <a href=\"https://github.com/ben-manes/caffeine/wiki/Cleanup\" rel=\"nofollow noreferrer\">Scheduler</a> thread if you need prompt removal."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1642308892,"post_id":70727217,"comment_id":125034617,"body_markdown":"That&#39;s one of those &#39;you should have written the text in the box that&#39;s a bit lower on the page, mate&#39; comments, @BenManes. All there is left to say is that Caffeine is _just_ the caching part. Which is a good thing, if that&#39;s all you&#39;re interested in!","body":"That&#39;s one of those &#39;you should have written the text in the box that&#39;s a bit lower on the page, mate&#39; comments, @BenManes. All there is left to say is that Caffeine is <i>just</i> the caching part. Which is a good thing, if that&#39;s all you&#39;re interested in!"}],"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642312848,"answer_count":0,"score":0,"last_activity_date":1642304679,"creation_date":1642304679,"question_id":70727217,"body_markdown":"I&#39;m using Guava&#39;s cache in my program. I expected Guava may use a timer thread to expire its items, but I checked the source code and it seems Guava would clear its expired items only when program tries to access its items. I&#39;m not sure if that&#39;s the way Guava&#39;s cache works.\r\n\r\nHere&#39;s my requirement. My program works with several huge objects which loaded from files. Once a huge object get in use, the object may be accessed several times in consecutive several minutes, and then the cache would not be accessed at all in a long time. I prefer the object can be cleared as soon as possible just as expireAfterAccess(10min) or clearedAfterAccess(10min).","title":"How Cache in Guava deletes its expired items, using a timer thread or checking items&#39; validity when access them","body":"<p>I'm using Guava's cache in my program. I expected Guava may use a timer thread to expire its items, but I checked the source code and it seems Guava would clear its expired items only when program tries to access its items. I'm not sure if that's the way Guava's cache works.</p>\n<p>Here's my requirement. My program works with several huge objects which loaded from files. Once a huge object get in use, the object may be accessed several times in consecutive several minutes, and then the cache would not be accessed at all in a long time. I prefer the object can be cleared as soon as possible just as expireAfterAccess(10min) or clearedAfterAccess(10min).</p>\n"},{"tags":["javascript","java","node.js","arraybuffer"],"comments":[{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1642234001,"post_id":70719784,"comment_id":125020802,"body_markdown":"`atob()` doesn&#39;t work?","body":"<code>atob()</code> doesn&#39;t work?"}],"answers":[{"tags":[],"owner":{"account_id":14931820,"reputation":1319,"user_id":10781026,"display_name":"Eduard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642304659,"creation_date":1642234495,"answer_id":70719837,"question_id":70719784,"body_markdown":"&gt; The atob() function decodes a string of data which has been encoded\r\n&gt; using Base64 encoding. [read more][1]\r\n\r\nexample:\r\n\r\n    var decodedData = atob(encodedData);\r\n\r\n\r\n&gt; The btoa() method creates a Base64-encoded ASCII string from a binary\r\n&gt; string (i.e., a String object in which each character in the string is\r\n&gt; treated as a byte of binary data). [read more][2]\r\n\r\n\r\nexample:\r\n\r\n    var encodedData = btoa(stringToEncode);\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/atob\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/API/btoa\r\n\r\n\r\nAnd if you want to convert strings into array of bytes then [`TextEncoder`](https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder) can be used:\r\n\r\n```js\r\nnew TextEncoder().encode(str)\r\n```\r\n\r\nAlternatively this function could be used:\r\n\r\n    function stringToByteArray(s){\r\n    \r\n        // Otherwise, fall back to 7-bit ASCII only\r\n        var result = new Uint8Array(s.length);\r\n        for (var i=0; i&lt;s.length; i++){\r\n            result[i] = s.charCodeAt(i);/* w ww. ja  v  a 2s . co  m*/\r\n        }\r\n        return result;\r\n    }","title":"How to achieve Base64.getDecoder().decode(nonceBase64Encoded) in JavaScript?","body":"<blockquote>\n<p>The atob() function decodes a string of data which has been encoded\nusing Base64 encoding. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/atob\" rel=\"nofollow noreferrer\">read more</a></p>\n</blockquote>\n<p>example:</p>\n<pre><code>var decodedData = atob(encodedData);\n</code></pre>\n<blockquote>\n<p>The btoa() method creates a Base64-encoded ASCII string from a binary\nstring (i.e., a String object in which each character in the string is\ntreated as a byte of binary data). <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/btoa\" rel=\"nofollow noreferrer\">read more</a></p>\n</blockquote>\n<p>example:</p>\n<pre><code>var encodedData = btoa(stringToEncode);\n</code></pre>\n<p>And if you want to convert strings into array of bytes then <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder\" rel=\"nofollow noreferrer\"><code>TextEncoder</code></a> can be used:</p>\n<pre class=\"lang-js prettyprint-override\"><code>new TextEncoder().encode(str)\n</code></pre>\n<p>Alternatively this function could be used:</p>\n<pre><code>function stringToByteArray(s){\n\n    // Otherwise, fall back to 7-bit ASCII only\n    var result = new Uint8Array(s.length);\n    for (var i=0; i&lt;s.length; i++){\n        result[i] = s.charCodeAt(i);/* w ww. ja  v  a 2s . co  m*/\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":19654516,"reputation":27,"user_id":14387459,"display_name":"Anuj Gadge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70719837,"answer_count":1,"score":1,"last_activity_date":1642304659,"creation_date":1642233803,"question_id":70719784,"body_markdown":"I have some code written in java which I want to convert to JavaScript.\r\n\r\n    String nonceBase64Encoded = &quot;+8GorZIWoF7mnZ2/M86/eA==&quot;;    \r\n    byte[] decodednoncebytes = Base64.getDecoder().decode(nonceBase64Encoded);\r\n\r\nAbout this decode():\r\n\r\n&gt; Decodes a Base64 encoded String into a newly-allocated byte arrayusing\r\n&gt; the Base64 encoding scheme. \r\n&gt; \r\n&gt; An invocation of this method has exactly the same effect as invoking\r\n&gt; decode(src.getBytes(StandardCharsets.ISO_8859_1))\r\n\r\n","title":"How to achieve Base64.getDecoder().decode(nonceBase64Encoded) in JavaScript?","body":"<p>I have some code written in java which I want to convert to JavaScript.</p>\n<pre><code>String nonceBase64Encoded = &quot;+8GorZIWoF7mnZ2/M86/eA==&quot;;    \nbyte[] decodednoncebytes = Base64.getDecoder().decode(nonceBase64Encoded);\n</code></pre>\n<p>About this decode():</p>\n<blockquote>\n<p>Decodes a Base64 encoded String into a newly-allocated byte arrayusing\nthe Base64 encoding scheme.</p>\n<p>An invocation of this method has exactly the same effect as invoking\ndecode(src.getBytes(StandardCharsets.ISO_8859_1))</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","gradle","android-studio-arctic-fox"],"comments":[{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":1,"creation_date":1633404705,"post_id":69442501,"comment_id":122744149,"body_markdown":"Post the error log also please.","body":"Post the error log also please."},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1633411783,"post_id":69442501,"comment_id":122745407,"body_markdown":"try with `implementation &#39;com.cuberto:liquid-swipe:1.0.0&#39;`","body":"try with <code>implementation &#39;com.cuberto:liquid-swipe:1.0.0&#39;</code>"},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1633411872,"post_id":69442501,"comment_id":122745438,"body_markdown":"seems like u should add `jcenter()` ( Note - It is deprecated )","body":"seems like u should add <code>jcenter()</code> ( Note - It is deprecated )"}],"owner":{"account_id":22916854,"reputation":1,"user_id":17053313,"display_name":"MaxDP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642304609,"creation_date":1633382284,"question_id":69442501,"body_markdown":"Having a problem trying to implement Liquid Swipe in Android Studio Arctic Fox\r\n\r\nalways get Failed to resolve github repo\r\n\r\ntried it with the official cuberto liquid swipe repo and with Udhayarajan liquid swipe repo\r\n\r\nbuild.gradle(project)\r\n\r\n```// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nbuild.gradle(module)\r\n\r\n ```plugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.tiles&quot;\r\n        minSdk 24\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.6.0&#39;\r\n\r\n    implementation &#39;com.github.Udhayarajan:liquid-swipe-android:1.0.1&#39;\r\n    implementation &#39;com.airbnb.android:lottie:4.1.0&#39;\r\n}","title":"Android Studio Failed to resolve: com.github.Udhayarajan:liquid-swipe-android:1.0.1","body":"<p>Having a problem trying to implement Liquid Swipe in Android Studio Arctic Fox</p>\n<p>always get Failed to resolve github repo</p>\n<p>tried it with the official cuberto liquid swipe repo and with Udhayarajan liquid swipe repo</p>\n<p>build.gradle(project)</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n\n        maven { url 'https://jitpack.io' }\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>build.gradle(module)</p>\n<pre><code>   id 'com.android.application'\n}\n\nandroid {\n   compileSdk 31\n\n   defaultConfig {\n       applicationId &quot;com.example.tiles&quot;\n       minSdk 24\n       targetSdk 31\n       versionCode 1\n       versionName &quot;1.0&quot;\n\n       testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n   }\n\n   buildTypes {\n       release {\n           minifyEnabled false\n           proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n       }\n   }\n   compileOptions {\n       sourceCompatibility JavaVersion.VERSION_1_8\n       targetCompatibility JavaVersion.VERSION_1_8\n   }\n}\n\ndependencies {\n\n   implementation 'androidx.appcompat:appcompat:1.3.1'\n   implementation 'com.google.android.material:material:1.4.0'\n   implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n   testImplementation 'junit:junit:4.13.2'\n   androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n   androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n   implementation 'androidx.core:core-ktx:1.6.0'\n\n   implementation 'com.github.Udhayarajan:liquid-swipe-android:1.0.1'\n   implementation 'com.airbnb.android:lottie:4.1.0'\n}\n</code></pre>\n"},{"tags":["java","bufferedwriter"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642303387,"post_id":70727135,"comment_id":125034035,"body_markdown":"What happens *exactly* when it crashes? What error messages, if any, do you see?","body":"What happens <i>exactly</i> when it crashes? What error messages, if any, do you see?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1642303537,"post_id":70727135,"comment_id":125034054,"body_markdown":"Myself, I wouldn&#39;t change the input Scanner&#39;s delimiter, but instead would use the input file-based Scanner object to read each line of the file, basically, `while (input.hasNextLine()) {  String line = input.nextLine(); ... }`, and then split the line received using `String[] tokens = line.split(&quot;:&quot;);`","body":"Myself, I wouldn&#39;t change the input Scanner&#39;s delimiter, but instead would use the input file-based Scanner object to read each line of the file, basically, <code>while (input.hasNextLine()) {  String line = input.nextLine(); ... }</code>, and then split the line received using <code>String[] tokens = line.split(&quot;:&quot;);</code>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1642303633,"post_id":70727135,"comment_id":125034068,"body_markdown":"@HovercraftFullOfEels That&#39;s a bit bizarre - the delimiter isn&#39;t the problem here, and using solely &#39;nextLine()&#39; in scanner is just not what it was for. That&#39;s what BufferedReader is for. Which is probably the better tool here.","body":"@HovercraftFullOfEels That&#39;s a bit bizarre - the delimiter isn&#39;t the problem here, and using solely &#39;nextLine()&#39; in scanner is just not what it was for. That&#39;s what BufferedReader is for. Which is probably the better tool here."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1642303815,"post_id":70727135,"comment_id":125034092,"body_markdown":"@rzwitserloot `while (input.hasNextLine())` and then never calling `input.nextLine()` is a *bad idea*. Don&#39;t intermingle `nextLine()` and `nextFoo()`.","body":"@rzwitserloot <code>while (input.hasNextLine())</code> and then never calling <code>input.nextLine()</code> is a <i>bad idea</i>. Don&#39;t intermingle <code>nextLine()</code> and <code>nextFoo()</code>."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642303875,"post_id":70727135,"comment_id":125034097,"body_markdown":"@rzwitserloot: I&#39;m not sure how bizarre is bizarre, but heck, it seems reasonable to grab each line, and then use another tool to process each line. It could be another Scanner that uses a delimiter based on `&quot;:&quot;`","body":"@rzwitserloot: I&#39;m not sure how bizarre is bizarre, but heck, it seems reasonable to grab each line, and then use another tool to process each line. It could be another Scanner that uses a delimiter based on <code>&quot;:&quot;</code>"},{"owner":{"account_id":20636168,"reputation":9,"user_id":15149797,"display_name":"Origon09 _"},"score":0,"creation_date":1642303937,"post_id":70727135,"comment_id":125034106,"body_markdown":"@HovercraftFullOfEels I get the following.","body":"@HovercraftFullOfEels I get the following."},{"owner":{"account_id":20636168,"reputation":9,"user_id":15149797,"display_name":"Origon09 _"},"score":0,"creation_date":1642303952,"post_id":70727135,"comment_id":125034111,"body_markdown":"@HovercraftFullOfEels Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;99\nDear&quot;\n\tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n\tat java.lang.Integer.parseInt(Integer.java:580)\n\tat java.lang.Integer.parseInt(Integer.java:615)\n\tat exam.main(exam.java:22)","body":"@HovercraftFullOfEels Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;99 Dear&quot; \tat java.lang.NumberFormatException.forInputString(NumberFormatE&zwnj;&#8203;xception.java:65) \tat java.lang.Integer.parseInt(Integer.java:580) \tat java.lang.Integer.parseInt(Integer.java:615) \tat exam.main(exam.java:22)"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1642304126,"post_id":70727135,"comment_id":125034138,"body_markdown":"@ElliottFrischObviously, when I say, don&#39;t call nextLine, I imply also not calling hasNextLine. I can&#39;t shove an entire answer in an SO comment, and I know you know what I meant. What&#39;s with the pedantic snipery on SO lately? Spend the time on writing an answer that helps OP instead perhaps.","body":"@ElliottFrischObviously, when I say, don&#39;t call nextLine, I imply also not calling hasNextLine. I can&#39;t shove an entire answer in an SO comment, and I know you know what I meant. What&#39;s with the pedantic snipery on SO lately? Spend the time on writing an answer that helps OP instead perhaps."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1642304164,"post_id":70727135,"comment_id":125034142,"body_markdown":"@rzwitserloot: whoa there fella","body":"@rzwitserloot: whoa there fella"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642304043,"creation_date":1642304043,"answer_id":70727186,"question_id":70727135,"body_markdown":"You&#39;ve told the scanner that tokens are separated by colons, and then you keep asking for &#39;what&#39;s after the next token&#39;.\r\n\r\nThe problem is, you told scanner that all input is separated by __a colon__. So, not a newline then. The scanner dutifully reports that the 5th token in this file:\r\n\r\n```\r\nlastName:firstName:Test1:Test2:Test3\r\nfoobar:baz:1:2:3\r\n```\r\n\r\nwould be: `&quot;Test3\\nfoobar&quot;`. After all, that sequence of characters in between the colons, isn&#39;t it? You see how two delimiters are involved here: A newline separates 2 records. Colons separate entries within a record. Scanner is not good at this job. So, don&#39;t use it.\r\n\r\nLet&#39;s first get rid of the obsolete File API and use the new one, then, let&#39;s fix your resource leakage by using try-with-resources, which ensures that any resource you open you definitely close (that `close()` call you wrote? It won&#39;t be called if exceptions occur, for example). Let&#39;s also fix your deplorable error handling (don&#39;t ever catch an exception, do `e.printStackTrace()`, and keep on going. That&#39;s just nasty - you have no idea what just happened and yet the code will continue? When by definition the system is now in a state you haven&#39;t thought of? Not a good idea at all). And, of course, use the right tool for job, BufferedReader: It&#39;s a simpler API than scanner that just gets you lines. Which is what you want, and we&#39;ll deal with splitting the fields within a single record out on a line-by-line basis:\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n  try (var in = Files.newBufferedReader(Paths.get(&quot;output.txt&quot;)) {\r\n    processLine(in);\r\n  }\r\n}\r\n\r\nstatic void processLine(String in) throws IOException {\r\n  String[] parts = in.split(&quot;:&quot;);\r\n  String lastName = parts[0];\r\n  String firstName = parts[1];\r\n  String test1 = Integer.parseInt(parts[2]);\r\n  String test2 = Integer.parseInt(parts[3]);\r\n  String test3 = Integer.parseInt(parts[4]);\r\n\r\n  // rest of your code goes here\r\n}\r\n```\r\n","title":"Trying to read multiple lines from a one text file then print out results to new text file java","body":"<p>You've told the scanner that tokens are separated by colons, and then you keep asking for 'what's after the next token'.</p>\n<p>The problem is, you told scanner that all input is separated by <strong>a colon</strong>. So, not a newline then. The scanner dutifully reports that the 5th token in this file:</p>\n<pre><code>lastName:firstName:Test1:Test2:Test3\nfoobar:baz:1:2:3\n</code></pre>\n<p>would be: <code>&quot;Test3\\nfoobar&quot;</code>. After all, that sequence of characters in between the colons, isn't it? You see how two delimiters are involved here: A newline separates 2 records. Colons separate entries within a record. Scanner is not good at this job. So, don't use it.</p>\n<p>Let's first get rid of the obsolete File API and use the new one, then, let's fix your resource leakage by using try-with-resources, which ensures that any resource you open you definitely close (that <code>close()</code> call you wrote? It won't be called if exceptions occur, for example). Let's also fix your deplorable error handling (don't ever catch an exception, do <code>e.printStackTrace()</code>, and keep on going. That's just nasty - you have no idea what just happened and yet the code will continue? When by definition the system is now in a state you haven't thought of? Not a good idea at all). And, of course, use the right tool for job, BufferedReader: It's a simpler API than scanner that just gets you lines. Which is what you want, and we'll deal with splitting the fields within a single record out on a line-by-line basis:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n  try (var in = Files.newBufferedReader(Paths.get(&quot;output.txt&quot;)) {\n    processLine(in);\n  }\n}\n\nstatic void processLine(String in) throws IOException {\n  String[] parts = in.split(&quot;:&quot;);\n  String lastName = parts[0];\n  String firstName = parts[1];\n  String test1 = Integer.parseInt(parts[2]);\n  String test2 = Integer.parseInt(parts[3]);\n  String test3 = Integer.parseInt(parts[4]);\n\n  // rest of your code goes here\n}\n</code></pre>\n"}],"owner":{"account_id":20636168,"reputation":9,"user_id":15149797,"display_name":"Origon09 _"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642304043,"creation_date":1642303242,"question_id":70727135,"body_markdown":"I created this program where it takes an input from one text file where students grades and names are recorded like this:\r\n\r\nlastName:firstName:Test1:Test2:Test3\r\n\r\nAfter this the program reads them and separates them by a delimiter which is &quot;:&quot;. I am stuck on how to get the program to read the next line on the original text file with names. It stops after reading the first line and crashes. Code below. \r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class exam {\r\n\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        String lastName;\r\n        String firstName;\r\n        int test1;\r\n        int test2;\r\n        int test3;\r\n        Scanner input = new Scanner(new File(&quot;output.txt&quot;));\r\n\r\n        input.useDelimiter(&quot;:&quot;);\r\n\r\n        while (input.hasNextLine()) {\r\n            lastName = input.next();\r\n            firstName = input.next();\r\n            test1 = Integer.parseInt(input.next());\r\n            test2 = Integer.parseInt(input.next());\r\n            test3 = Integer.parseInt(input.next());\r\n\r\n\r\n            //test print statements\r\n            System.out.println(firstName + &quot; &quot; + lastName);\r\n            System.out.println(test1);\r\n            System.out.println(test2);\r\n            System.out.println(test3);\r\n\r\n            //averaging student letter grade\r\n\r\n            double overallGrade = (test1 * .25) + (test2 * .30) + (test3 * .45);\r\n            String letterGrade;\r\n            System.out.println(overallGrade);\r\n\r\n            //counter for letter grade\r\n            int counterA = 0;\r\n            int counterB = 0;\r\n            int counterC = 0;\r\n            int counterD = 0;\r\n            int counterF = 0;\r\n\r\n\r\n            if (overallGrade &gt;= 90) {\r\n                letterGrade = &quot;A&quot;;\r\n                counterA++;\r\n            } else if (overallGrade &gt;= 80) {\r\n                letterGrade = &quot;B&quot;;\r\n                counterB++;\r\n            } else if (overallGrade &gt;= 70) {\r\n                letterGrade = &quot;C&quot;;\r\n                counterC++;\r\n            } else if (overallGrade &gt;= 60) {\r\n                letterGrade = &quot;D&quot;;\r\n                counterD++;\r\n            } else {\r\n                letterGrade = &quot;F&quot;;\r\n                counterF++;\r\n            }\r\n\r\n            try {\r\n                BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;filenamehere&quot;));\r\n                writer.write(lastName + &quot;:&quot; + firstName + &quot;:&quot; + test1 + &quot;:&quot; + test2 + &quot;:&quot; + test3 + &quot;:&quot; + overallGrade + &quot;:&quot; + letterGrade);\r\n                writer.write(&quot;\\nA &quot; + counterA + &quot;\\nB &quot; + counterB + &quot;\\nC &quot; + counterC + &quot;\\nD &quot; + counterD + &quot;\\nF &quot; + counterF);\r\n\r\n                writer.close();\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n            System.out.println(lastName + &quot; &quot; + firstName + &quot; &quot; + letterGrade);\r\n        }\r\n\r\n\r\n        input.close();\r\n    }\r\n}\r\n```\r\n","title":"Trying to read multiple lines from a one text file then print out results to new text file java","body":"<p>I created this program where it takes an input from one text file where students grades and names are recorded like this:</p>\n<p>lastName:firstName:Test1:Test2:Test3</p>\n<p>After this the program reads them and separates them by a delimiter which is &quot;:&quot;. I am stuck on how to get the program to read the next line on the original text file with names. It stops after reading the first line and crashes. Code below.</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class exam {\n\n\n    public static void main(String[] args) throws FileNotFoundException {\n        String lastName;\n        String firstName;\n        int test1;\n        int test2;\n        int test3;\n        Scanner input = new Scanner(new File(&quot;output.txt&quot;));\n\n        input.useDelimiter(&quot;:&quot;);\n\n        while (input.hasNextLine()) {\n            lastName = input.next();\n            firstName = input.next();\n            test1 = Integer.parseInt(input.next());\n            test2 = Integer.parseInt(input.next());\n            test3 = Integer.parseInt(input.next());\n\n\n            //test print statements\n            System.out.println(firstName + &quot; &quot; + lastName);\n            System.out.println(test1);\n            System.out.println(test2);\n            System.out.println(test3);\n\n            //averaging student letter grade\n\n            double overallGrade = (test1 * .25) + (test2 * .30) + (test3 * .45);\n            String letterGrade;\n            System.out.println(overallGrade);\n\n            //counter for letter grade\n            int counterA = 0;\n            int counterB = 0;\n            int counterC = 0;\n            int counterD = 0;\n            int counterF = 0;\n\n\n            if (overallGrade &gt;= 90) {\n                letterGrade = &quot;A&quot;;\n                counterA++;\n            } else if (overallGrade &gt;= 80) {\n                letterGrade = &quot;B&quot;;\n                counterB++;\n            } else if (overallGrade &gt;= 70) {\n                letterGrade = &quot;C&quot;;\n                counterC++;\n            } else if (overallGrade &gt;= 60) {\n                letterGrade = &quot;D&quot;;\n                counterD++;\n            } else {\n                letterGrade = &quot;F&quot;;\n                counterF++;\n            }\n\n            try {\n                BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;filenamehere&quot;));\n                writer.write(lastName + &quot;:&quot; + firstName + &quot;:&quot; + test1 + &quot;:&quot; + test2 + &quot;:&quot; + test3 + &quot;:&quot; + overallGrade + &quot;:&quot; + letterGrade);\n                writer.write(&quot;\\nA &quot; + counterA + &quot;\\nB &quot; + counterB + &quot;\\nC &quot; + counterC + &quot;\\nD &quot; + counterD + &quot;\\nF &quot; + counterF);\n\n                writer.close();\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n\n            System.out.println(lastName + &quot; &quot; + firstName + &quot; &quot; + letterGrade);\n        }\n\n\n        input.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","web-services","soap","wsdl","axis"],"answers":[{"tags":[],"owner":{"account_id":240397,"reputation":4749,"user_id":510615,"display_name":"Plamen G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1428759763,"creation_date":1428759763,"answer_id":29578541,"question_id":29575779,"body_markdown":"Good question! The stub knows what the endpoints are at the moment of its generation, but further down the road these endpoints may change, and you don&#39;t want to regenerate manually the stub all over again and redeploy it, but rather just change a configuration parameter in your application. Regenerating the stub at runtime with each service call is not a great idea either, I&#39;m sure you&#39;ll agree.\r\n\r\nHaving the ability to supply the endpoint is handy for multiple reasons: Sometimes you do not have live access to the web service at implementation time and the WSDL is used as mutual agreement between teams on both sides before the work begins. The final URL will may be known at this time. Also, you may need to test on a different environment, prior to pre-production and production - this can easily happen with a touch in the configuration, instead of having different stubs and different logic in your application for each environment.\r\n\r\nThe endpoint in the WSDL is great for web service discoverability when the service is already in production, when changes of the endpoint are not expected to happen. It eases the process of new clients consuming the web service. But even then, it is good to treat the endpoint as a variable because of the added flexibility, just in case.","title":"WSDL and AXIS ADB","body":"<p>Good question! The stub knows what the endpoints are at the moment of its generation, but further down the road these endpoints may change, and you don't want to regenerate manually the stub all over again and redeploy it, but rather just change a configuration parameter in your application. Regenerating the stub at runtime with each service call is not a great idea either, I'm sure you'll agree.</p>\n\n<p>Having the ability to supply the endpoint is handy for multiple reasons: Sometimes you do not have live access to the web service at implementation time and the WSDL is used as mutual agreement between teams on both sides before the work begins. The final URL will may be known at this time. Also, you may need to test on a different environment, prior to pre-production and production - this can easily happen with a touch in the configuration, instead of having different stubs and different logic in your application for each environment.</p>\n\n<p>The endpoint in the WSDL is great for web service discoverability when the service is already in production, when changes of the endpoint are not expected to happen. It eases the process of new clients consuming the web service. But even then, it is good to treat the endpoint as a variable because of the added flexibility, just in case.</p>\n"}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29578541,"answer_count":1,"score":1,"last_activity_date":1642303705,"creation_date":1428740943,"question_id":29575779,"body_markdown":"If I understand correctly in a `WSDL` document, we can say in simple terms that:\r\n\r\n- `portype section:` can be compared to an interface in a OO   \r\nlanguage, and describes the operation offered by the service.\r\n\r\n- `binding section:` specifies which protocols the operation can be accessed through  \r\n(e.g. SMTP, HTTP, etc.).\r\n\r\n- `services section:` indicates an endpoint for each of the bindings defined.\r\n\r\nPlease, correct me if I&#39;m saying something wrong.\r\n\r\nIf that is correct, when we create a client using AXIS ADB and Eclipse EE integrated AXIS tools, why do we also need to supply an URL as the endpoint of the service when instantiating the stub?\r\n\r\n    MultiplierImplStub stub=newMultiplierImplStub(&quot;http://localhost:8080/ProductServer/services/MultiplierImpl&quot;);\r\n\r\nShouldn&#39;t the stub, which is automatically built parsing the WSDL of the service, already know what the endpoints are?\r\n\r\nEDIT:\r\n\r\nAnd why the endpoint specified in the client does not match any of the endpoints defined in the `WSDL`?\r\n\r\n    &lt;wsdl:service name=&quot;MultiplierImpl&quot;&gt;\r\n    &lt;wsdl:port name=&quot;MultiplierImplHttpSoap11Endpoint&quot; binding=&quot;ns:MultiplierImplSoap11Binding&quot;&gt;\r\n    &lt;soap:address location=&quot;http://localhost:8080/AxisTestProjectServer/services/MultiplierImpl.MultiplierImplHttpSoap11Endpoint/&quot;/&gt;\r\n    &lt;/wsdl:port&gt;\r\n    &lt;wsdl:port name=&quot;MultiplierImplHttpSoap12Endpoint&quot; binding=&quot;ns:MultiplierImplSoap12Binding&quot;&gt;\r\n    &lt;soap12:address location=&quot;http://localhost:8080/AxisTestProjectServer/services/MultiplierImpl.MultiplierImplHttpSoap12Endpoint/&quot;/&gt;\r\n    &lt;/wsdl:port&gt;\r\n    &lt;wsdl:port name=&quot;MultiplierImplHttpEndpoint&quot; binding=&quot;ns:MultiplierImplHttpBinding&quot;&gt;\r\n    &lt;http:address location=&quot;http://localhost:8080/AxisTestProjectServer/services/MultiplierImpl.MultiplierImplHttpEndpoint/&quot;/&gt;\r\n    &lt;/wsdl:port&gt;\r\n    &lt;/wsdl:service&gt;","title":"WSDL and AXIS ADB","body":"<p>If I understand correctly in a <code>WSDL</code> document, we can say in simple terms that:</p>\n<ul>\n<li><p><code>portype section:</code> can be compared to an interface in a OO<br />\nlanguage, and describes the operation offered by the service.</p>\n</li>\n<li><p><code>binding section:</code> specifies which protocols the operation can be accessed through<br />\n(e.g. SMTP, HTTP, etc.).</p>\n</li>\n<li><p><code>services section:</code> indicates an endpoint for each of the bindings defined.</p>\n</li>\n</ul>\n<p>Please, correct me if I'm saying something wrong.</p>\n<p>If that is correct, when we create a client using AXIS ADB and Eclipse EE integrated AXIS tools, why do we also need to supply an URL as the endpoint of the service when instantiating the stub?</p>\n<pre><code>MultiplierImplStub stub=newMultiplierImplStub(&quot;http://localhost:8080/ProductServer/services/MultiplierImpl&quot;);\n</code></pre>\n<p>Shouldn't the stub, which is automatically built parsing the WSDL of the service, already know what the endpoints are?</p>\n<p>EDIT:</p>\n<p>And why the endpoint specified in the client does not match any of the endpoints defined in the <code>WSDL</code>?</p>\n<pre><code>&lt;wsdl:service name=&quot;MultiplierImpl&quot;&gt;\n&lt;wsdl:port name=&quot;MultiplierImplHttpSoap11Endpoint&quot; binding=&quot;ns:MultiplierImplSoap11Binding&quot;&gt;\n&lt;soap:address location=&quot;http://localhost:8080/AxisTestProjectServer/services/MultiplierImpl.MultiplierImplHttpSoap11Endpoint/&quot;/&gt;\n&lt;/wsdl:port&gt;\n&lt;wsdl:port name=&quot;MultiplierImplHttpSoap12Endpoint&quot; binding=&quot;ns:MultiplierImplSoap12Binding&quot;&gt;\n&lt;soap12:address location=&quot;http://localhost:8080/AxisTestProjectServer/services/MultiplierImpl.MultiplierImplHttpSoap12Endpoint/&quot;/&gt;\n&lt;/wsdl:port&gt;\n&lt;wsdl:port name=&quot;MultiplierImplHttpEndpoint&quot; binding=&quot;ns:MultiplierImplHttpBinding&quot;&gt;\n&lt;http:address location=&quot;http://localhost:8080/AxisTestProjectServer/services/MultiplierImpl.MultiplierImplHttpEndpoint/&quot;/&gt;\n&lt;/wsdl:port&gt;\n&lt;/wsdl:service&gt;\n</code></pre>\n"},{"tags":["java","windows","jar","file-extension","default-programs"],"comments":[{"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"score":0,"creation_date":1395459430,"post_id":22573064,"comment_id":34361122,"body_markdown":"Your problem is you have to files, a .jar and a .atb, and the only difference is in the file extension. windows can successfully launch the .jar file, but for the .atb  you try to open it with &quot;y&quot; and it will not launch? what exactly is &quot;y&quot;?","body":"Your problem is you have to files, a .jar and a .atb, and the only difference is in the file extension. windows can successfully launch the .jar file, but for the .atb  you try to open it with &quot;y&quot; and it will not launch? what exactly is &quot;y&quot;?"},{"owner":{"account_id":1618593,"reputation":25,"user_id":1495640,"display_name":"Ploug"},"score":0,"creation_date":1395466719,"post_id":22573064,"comment_id":34362434,"body_markdown":"y is just a program that i made. It saves and loads .atb file extensions. I know the only visual difference is the file extension, but the .jar file is an actual program that i can open by just clicking on it.\n\nIm not sure you get the actual problem but thanks for trying, but the problem is that in windows 7, it sends the path file of the .atb file to my program, as it SHOULD. But it doesnt do this in windows 8.1 for some reason. Eventhough i can open the .jar file individually, and it will startup my java program.","body":"y is just a program that i made. It saves and loads .atb file extensions. I know the only visual difference is the file extension, but the .jar file is an actual program that i can open by just clicking on it.  Im not sure you get the actual problem but thanks for trying, but the problem is that in windows 7, it sends the path file of the .atb file to my program, as it SHOULD. But it doesnt do this in windows 8.1 for some reason. Eventhough i can open the .jar file individually, and it will startup my java program."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1395474325,"post_id":22573064,"comment_id":34364015,"body_markdown":"Try running your y application as an administrator.  Windows 8 is more finicky about permissions than Windows 7.","body":"Try running your y application as an administrator.  Windows 8 is more finicky about permissions than Windows 7."},{"owner":{"account_id":1618593,"reputation":25,"user_id":1495640,"display_name":"Ploug"},"score":0,"creation_date":1395505953,"post_id":22573064,"comment_id":34373614,"body_markdown":"I did already, and also as i said i can run the y application individually (even without admin) completely fine. But when i try to open the New Text Document.atb application WITH the y application it just says the message, even when i try to do it all as admin.","body":"I did already, and also as i said i can run the y application individually (even without admin) completely fine. But when i try to open the New Text Document.atb application WITH the y application it just says the message, even when i try to do it all as admin."}],"answers":[{"tags":[],"owner":{"account_id":2879629,"reputation":23886,"user_id":2470818,"accept_rate":82,"display_name":"vallentin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1561949220,"creation_date":1395604002,"answer_id":22596177,"question_id":22573064,"body_markdown":"You can&#39;t associate file extensions to trigger a `.jar` file on Windows. The only file types you can trigger on Windows are `.exe`, `.pif`, `.com`, `.bat`, `.cmd`, so instead of triggering the `.jar` file, you can trigger a `.bat` file, which then launches the `.jar` file.\r\n\r\nCreate a `y.bat` file and place it next to your `y.jar` file and write the following code inside it:\r\n\r\n    @echo off\r\n    title y\r\n    start javaw -jar &quot;C:\\Users\\SomeUsername\\Desktop\\y.jar&quot; %1\r\n\r\nYou can change the `title` and `y.jar` path as you please, just remember that the path need to be the absolute path. Though the real keyword here is `%1`, that is the actual path, of the file you clicked.\r\n\r\n&gt; You can get the value of any parameter using a % followed by it&#39;s numerical position on the command line. The first item passed is always %1 the second item is always %2 and so on\r\n&gt; \r\n&gt; %* in a batch script refers to all the arguments (e.g. %1 %2 %3 %4 %5 ...%255)\r\n\r\nNow you can simply right-click on any `.abt` file and press &quot;Open With...&quot;, remember to check &quot;Use this app for all .abt files&quot; and then just browse for the `y.bat` and click &quot;Open&quot;. Now each time you double-click a `.abt` file it will launch your `.jar` program.\r\n\r\n---\r\n\r\n*Additionally I&#39;ve written this [post (Associate File Extension with Java Application)](https://vallentin.io/2014/11/26/associate-file-extension-with-java-application) after writing this answer.*\r\n","title":"Associate File Extension with Java Application","body":"<p>You can't associate file extensions to trigger a <code>.jar</code> file on Windows. The only file types you can trigger on Windows are <code>.exe</code>, <code>.pif</code>, <code>.com</code>, <code>.bat</code>, <code>.cmd</code>, so instead of triggering the <code>.jar</code> file, you can trigger a <code>.bat</code> file, which then launches the <code>.jar</code> file.</p>\n\n<p>Create a <code>y.bat</code> file and place it next to your <code>y.jar</code> file and write the following code inside it:</p>\n\n<pre><code>@echo off\ntitle y\nstart javaw -jar \"C:\\Users\\SomeUsername\\Desktop\\y.jar\" %1\n</code></pre>\n\n<p>You can change the <code>title</code> and <code>y.jar</code> path as you please, just remember that the path need to be the absolute path. Though the real keyword here is <code>%1</code>, that is the actual path, of the file you clicked.</p>\n\n<blockquote>\n  <p>You can get the value of any parameter using a % followed by it's numerical position on the command line. The first item passed is always %1 the second item is always %2 and so on</p>\n  \n  <p>%* in a batch script refers to all the arguments (e.g. %1 %2 %3 %4 %5 ...%255)</p>\n</blockquote>\n\n<p>Now you can simply right-click on any <code>.abt</code> file and press \"Open With...\", remember to check \"Use this app for all .abt files\" and then just browse for the <code>y.bat</code> and click \"Open\". Now each time you double-click a <code>.abt</code> file it will launch your <code>.jar</code> program.</p>\n\n<hr>\n\n<p><em>Additionally I've written this <a href=\"https://vallentin.io/2014/11/26/associate-file-extension-with-java-application\" rel=\"nofollow noreferrer\">post (Associate File Extension with Java Application)</a> after writing this answer.</em></p>\n"},{"tags":[],"owner":{"account_id":5442565,"reputation":1,"user_id":4330220,"display_name":"FunkyColorado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417810574,"creation_date":1417810574,"answer_id":27323994,"question_id":22573064,"body_markdown":"I had a silly issue with a .JAR opening. After running &quot;java -jar MyApp.jar&quot;, I came to the realization that it was not launching the gui as my preferences file was not in the same path as the .jar file.\r\n\r\nAdding a check for if(!file)then create new file... the app worked as expected and became easier to port/share.","title":"Associate File Extension with Java Application","body":"<p>I had a silly issue with a .JAR opening. After running \"java -jar MyApp.jar\", I came to the realization that it was not launching the gui as my preferences file was not in the same path as the .jar file.</p>\n\n<p>Adding a check for if(!file)then create new file... the app worked as expected and became easier to port/share.</p>\n"},{"tags":[],"owner":{"account_id":2283264,"reputation":21,"user_id":2007899,"display_name":"lampreyOne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642302611,"creation_date":1615946268,"answer_id":66665947,"question_id":22573064,"body_markdown":"You can get by without a bat file by running from the command line (with admin privileges)\r\n\r\n    assoc .xox=Xoxfile\r\n\r\n    ftype Xoxfile=C:\\Program Files\\Java\\jre1.5.0\\bin\\javaw -jar c:\\dev\\work\\y.jar %1\r\n\r\n(correcting for the path to your current jre and path to your jar).\r\n\r\nSince .txt is already a defined filetype in windows, I think you could skip the assoc command and replace Xoxfile above with\r\n\r\nftype &quot;Text Document&quot;=C:\\Program Files\\Java\\jre1.5.0\\bin\\java -jar c:\\dev\\work\\y.jar\r\n\r\nbut I&#39;ve only done this with a new custom file type.\r\n\r\n\r\nhttps://www.rgagnon.com/javadetails/java-0592.html","title":"Associate File Extension with Java Application","body":"<p>You can get by without a bat file by running from the command line (with admin privileges)</p>\n<pre><code>assoc .xox=Xoxfile\n\nftype Xoxfile=C:\\Program Files\\Java\\jre1.5.0\\bin\\javaw -jar c:\\dev\\work\\y.jar %1\n</code></pre>\n<p>(correcting for the path to your current jre and path to your jar).</p>\n<p>Since .txt is already a defined filetype in windows, I think you could skip the assoc command and replace Xoxfile above with</p>\n<p>ftype &quot;Text Document&quot;=C:\\Program Files\\Java\\jre1.5.0\\bin\\java -jar c:\\dev\\work\\y.jar</p>\n<p>but I've only done this with a new custom file type.</p>\n<p><a href=\"https://www.rgagnon.com/javadetails/java-0592.html\" rel=\"nofollow noreferrer\">https://www.rgagnon.com/javadetails/java-0592.html</a></p>\n"}],"owner":{"account_id":1618593,"reputation":25,"user_id":1495640,"display_name":"Ploug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12325,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22596177,"answer_count":3,"score":2,"last_activity_date":1642302611,"creation_date":1395458759,"question_id":22573064,"body_markdown":"![[1 file extension (.atb) and one jar file picture][1]\r\n\r\nHere is a picture of the 2 files in question, one .atb and one .jar\r\n\r\nIf i just click the jar file, it opens my program smoothly, no questions asked.\r\nIf i click the New Text Document and choose &quot;y&quot; as my default program, it says this:\r\n\r\n![picture of message][2]\r\n\r\nIf i do all this with .txt as file extension it says the same, still doesn&#39;t work. \r\n\r\nIf i do all this in Windows 7 with the same setup, it all works fine.\r\n\r\nAlso i checked my event logs when this occurs and this pops up as a keyword &quot;Audit Success&quot; with the text: &quot;An attempt was made to query the existence of a blank password for an account.&quot;\r\n\r\nDo you have any idea what might cause this?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vxFGO.png\r\n  [2]: http://i.stack.imgur.com/iNzZ4.png","title":"Associate File Extension with Java Application","body":"<p><img src=\"https://i.stack.imgur.com/vxFGO.png\" alt=\"[1 file extension (.atb) and one jar file picture\"></p>\n\n<p>Here is a picture of the 2 files in question, one .atb and one .jar</p>\n\n<p>If i just click the jar file, it opens my program smoothly, no questions asked.\nIf i click the New Text Document and choose \"y\" as my default program, it says this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/iNzZ4.png\" alt=\"picture of message\"></p>\n\n<p>If i do all this with .txt as file extension it says the same, still doesn't work. </p>\n\n<p>If i do all this in Windows 7 with the same setup, it all works fine.</p>\n\n<p>Also i checked my event logs when this occurs and this pops up as a keyword \"Audit Success\" with the text: \"An attempt was made to query the existence of a blank password for an account.\"</p>\n\n<p>Do you have any idea what might cause this?</p>\n"},{"tags":["java","spring","spring-boot","docker","reflections"],"comments":[{"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"score":0,"creation_date":1642293782,"post_id":70726567,"comment_id":125033001,"body_markdown":"It works well with `org.reflections` version `0.9.12`, but not with latest `0.10.2`.","body":"It works well with <code>org.reflections</code> version <code>0.9.12</code>, but not with latest <code>0.10.2</code>."},{"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"score":0,"creation_date":1642293952,"post_id":70726567,"comment_id":125033021,"body_markdown":"I think the reason is https://github.com/ronmamo/reflections/issues/373 - So I have to wait for the next release ... Until than, I will use `0.9.12`.","body":"I think the reason is <a href=\"https://github.com/ronmamo/reflections/issues/373\" rel=\"nofollow noreferrer\">github.com/ronmamo/reflections/issues/373</a> - So I have to wait for the next release ... Until than, I will use <code>0.9.12</code>."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1642294202,"post_id":70726567,"comment_id":125033052,"body_markdown":"Can you use the work-around given in the issue ticket you reference?","body":"Can you use the work-around given in the issue ticket you reference?"},{"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"score":0,"creation_date":1642294426,"post_id":70726567,"comment_id":125033081,"body_markdown":"@CryptoFool Sorry. I had overlooked the workaround. With that it works. Thanks for the hint. :)","body":"@CryptoFool Sorry. I had overlooked the workaround. With that it works. Thanks for the hint. :)"}],"answers":[{"tags":[],"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1642299973,"creation_date":1642294641,"answer_id":70726642,"question_id":70726567,"body_markdown":"**This answer results from the comments ...**\r\n\r\nThe problem is the following bug/issue:\r\n\r\nhttps://github.com/ronmamo/reflections/issues/373 - &#39;Reflections does not detect any classes, if base class (or package prefix) is passed as argument, and application is running as a jar&#39;\r\n\r\nBut it works (for me) with the workaround, suggested in the above mentioned issue.\r\n\r\n    Reflections reflections = new Reflections(new ConfigurationBuilder().forPackages(&quot;my.package&quot;));\r\n    Set&lt;Class&lt;? extends MyService&gt;&gt; classes = reflections.getSubTypesOf(MyService.class);","title":"org.reflection.Reflections 0.10.2 fails when running as jar (e.g. in a docker container)","body":"<p><strong>This answer results from the comments ...</strong></p>\n<p>The problem is the following bug/issue:</p>\n<p><a href=\"https://github.com/ronmamo/reflections/issues/373\" rel=\"noreferrer\">https://github.com/ronmamo/reflections/issues/373</a> - 'Reflections does not detect any classes, if base class (or package prefix) is passed as argument, and application is running as a jar'</p>\n<p>But it works (for me) with the workaround, suggested in the above mentioned issue.</p>\n<pre><code>Reflections reflections = new Reflections(new ConfigurationBuilder().forPackages(&quot;my.package&quot;));\nSet&lt;Class&lt;? extends MyService&gt;&gt; classes = reflections.getSubTypesOf(MyService.class);\n</code></pre>\n"}],"owner":{"account_id":2101627,"reputation":3199,"user_id":1869090,"accept_rate":87,"display_name":"t777"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1812,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70726642,"answer_count":1,"score":5,"last_activity_date":1642299973,"creation_date":1642293504,"question_id":70726567,"body_markdown":"I used org.reflections (latest):\r\n\r\n    new Reflections(&quot;my.package&quot;).getSubTypesOf(MyService.class);\r\n\r\nIt works well running in IntelliJ and returns all implementations of `MyService.class`.\r\n\r\nBut running in a docker container, it returns an empty `Set`.\r\n\r\n(Anything else works well in the docker-container)\r\n\r\nAny ideas? TIA!","title":"org.reflection.Reflections 0.10.2 fails when running as jar (e.g. in a docker container)","body":"<p>I used org.reflections (latest):</p>\n<pre><code>new Reflections(&quot;my.package&quot;).getSubTypesOf(MyService.class);\n</code></pre>\n<p>It works well running in IntelliJ and returns all implementations of <code>MyService.class</code>.</p>\n<p>But running in a docker container, it returns an empty <code>Set</code>.</p>\n<p>(Anything else works well in the docker-container)</p>\n<p>Any ideas? TIA!</p>\n"},{"tags":["java","dynamic-programming"],"comments":[{"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"score":0,"creation_date":1642377568,"post_id":70726237,"comment_id":125048284,"body_markdown":"I see this question has been down voted. Can anyone explain what is wrong with my question?","body":"I see this question has been down voted. Can anyone explain what is wrong with my question?"}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642289552,"creation_date":1642289552,"answer_id":70726273,"question_id":70726237,"body_markdown":"Arrays do not override the `equals()` or `hashCode()` method from `java.lang.Object`, but the `java.lang.String` class does. So, your `Map` will grow with new objects all the time until it crashes due to memory limits, even though there are already &quot;equal&quot; arrays as keys in the `Map`. But from the point of view of java, they are not &quot;equal&quot;.","title":"Long runtime/crash when using int[] as key in hashmap","body":"<p>Arrays do not override the <code>equals()</code> or <code>hashCode()</code> method from <code>java.lang.Object</code>, but the <code>java.lang.String</code> class does. So, your <code>Map</code> will grow with new objects all the time until it crashes due to memory limits, even though there are already &quot;equal&quot; arrays as keys in the <code>Map</code>. But from the point of view of java, they are not &quot;equal&quot;.</p>\n"},{"tags":[],"owner":{"account_id":1896469,"reputation":105,"user_id":1713320,"display_name":"cornnutz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642295255,"creation_date":1642295255,"answer_id":70726675,"question_id":70726237,"body_markdown":"What&#39;s more, you could use List&lt;Integer&gt; as the key of Map, then different List objects with same elements are considered equal.\r\n\r\nDeclare the map with `HashMap&lt;List&lt;Integer&gt;, Long&gt;`. Call `Arrays.stream(new int[]{1, 2, 3}).boxed().collect(Collectors.toList())` to convert an int array to a List.","title":"Long runtime/crash when using int[] as key in hashmap","body":"<p>What's more, you could use List as the key of Map, then different List objects with same elements are considered equal.</p>\n<p>Declare the map with <code>HashMap&lt;List&lt;Integer&gt;, Long&gt;</code>. Call <code>Arrays.stream(new int[]{1, 2, 3}).boxed().collect(Collectors.toList())</code> to convert an int array to a List.</p>\n"},{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642297580,"creation_date":1642297580,"answer_id":70726816,"question_id":70726237,"body_markdown":"Yet another way, which would make particularly good sense for larger arrays that take time to copy, would be to wrap each array in an object that properly implements `equals` and `hashCode`.  You could use `java.util.Arrays.equals` and `java.util.Arrays.hashCode` as the guts of the two methods.\r\n\r\nSimilarly, you could just call `java.util.Arrays.hashCode` to convert each of your arrays to a key that will properly &quot;equal&quot; another key when the two original arrays contained the same values.\r\n","title":"Long runtime/crash when using int[] as key in hashmap","body":"<p>Yet another way, which would make particularly good sense for larger arrays that take time to copy, would be to wrap each array in an object that properly implements <code>equals</code> and <code>hashCode</code>.  You could use <code>java.util.Arrays.equals</code> and <code>java.util.Arrays.hashCode</code> as the guts of the two methods.</p>\n<p>Similarly, you could just call <code>java.util.Arrays.hashCode</code> to convert each of your arrays to a key that will properly &quot;equal&quot; another key when the two original arrays contained the same values.</p>\n"}],"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70726273,"answer_count":3,"score":-1,"last_activity_date":1642297580,"creation_date":1642289119,"question_id":70726237,"body_markdown":"I am following this lesson on dynamic programming: &lt;https://youtu.be/oBt53YbR9Kk?t=2330&gt;\r\nI found that for some reason if I use a HashMap key with int[], using a large m and n value will take a very long time or crash. If I use a key that is a String instead, it works as expected.\r\n\r\n**Working Code**\r\n```\r\n    public static void main(String[] args) {\r\n        HashMap&lt;String, Long&gt; map = new HashMap&lt;&gt;();\r\n        System.out.println(gridTraveler(18, 18, map));\r\n    }\r\n\r\n    /**\r\n     * Grid Traveler problem\r\n     * */\r\n    public static Long gridTraveler(int m, int n, HashMap&lt;String, Long&gt; memo){\r\n        String key = m + &quot;,&quot; + n;\r\n        if(memo.containsKey(key)){\r\n            return memo.get(key);\r\n        }\r\n        if(m == 1 &amp;&amp; n == 1) {\r\n            return 1L;\r\n        }\r\n        if(m == 0 || n == 0){\r\n            return 0L;\r\n        }\r\n        memo.put(key, gridTraveler(m - 1, n, memo) + gridTraveler(m, n - 1, memo));\r\n        return memo.get(key);\r\n    }\r\n```\r\n\r\n**Broken Code**\r\n```\r\n    public static void main(String[] args) {\r\n        HashMap&lt;int[], Long&gt; map = new HashMap&lt;&gt;();\r\n        System.out.println(gridTraveler(18, 18, map));\r\n    }\r\n\r\n    /**\r\n     * Grid Traveler problem\r\n     * */\r\n    public static Long gridTraveler(int m, int n, HashMap&lt;int[], Long&gt; memo){\r\n        int[] key = new int[]{m,n};\r\n        if(memo.containsKey(key)){\r\n            return memo.get(key);\r\n        }\r\n        if(m == 1 &amp;&amp; n == 1) {\r\n            return 1L;\r\n        }\r\n        if(m == 0 || n == 0){\r\n            return 0L;\r\n        }\r\n        memo.put(key, gridTraveler(m - 1, n, memo) + gridTraveler(m, n - 1, memo));\r\n        return memo.get(key);\r\n    }\r\n\r\n```\r\n\r\n**Question:** Why does an int[] key cause my code to crash compared to just using a String as a key? ","title":"Long runtime/crash when using int[] as key in hashmap","body":"<p>I am following this lesson on dynamic programming: <a href=\"https://youtu.be/oBt53YbR9Kk?t=2330\" rel=\"nofollow noreferrer\">https://youtu.be/oBt53YbR9Kk?t=2330</a>\nI found that for some reason if I use a HashMap key with int[], using a large m and n value will take a very long time or crash. If I use a key that is a String instead, it works as expected.</p>\n<p><strong>Working Code</strong></p>\n<pre><code>    public static void main(String[] args) {\n        HashMap&lt;String, Long&gt; map = new HashMap&lt;&gt;();\n        System.out.println(gridTraveler(18, 18, map));\n    }\n\n    /**\n     * Grid Traveler problem\n     * */\n    public static Long gridTraveler(int m, int n, HashMap&lt;String, Long&gt; memo){\n        String key = m + &quot;,&quot; + n;\n        if(memo.containsKey(key)){\n            return memo.get(key);\n        }\n        if(m == 1 &amp;&amp; n == 1) {\n            return 1L;\n        }\n        if(m == 0 || n == 0){\n            return 0L;\n        }\n        memo.put(key, gridTraveler(m - 1, n, memo) + gridTraveler(m, n - 1, memo));\n        return memo.get(key);\n    }\n</code></pre>\n<p><strong>Broken Code</strong></p>\n<pre><code>    public static void main(String[] args) {\n        HashMap&lt;int[], Long&gt; map = new HashMap&lt;&gt;();\n        System.out.println(gridTraveler(18, 18, map));\n    }\n\n    /**\n     * Grid Traveler problem\n     * */\n    public static Long gridTraveler(int m, int n, HashMap&lt;int[], Long&gt; memo){\n        int[] key = new int[]{m,n};\n        if(memo.containsKey(key)){\n            return memo.get(key);\n        }\n        if(m == 1 &amp;&amp; n == 1) {\n            return 1L;\n        }\n        if(m == 0 || n == 0){\n            return 0L;\n        }\n        memo.put(key, gridTraveler(m - 1, n, memo) + gridTraveler(m, n - 1, memo));\n        return memo.get(key);\n    }\n\n</code></pre>\n<p><strong>Question:</strong> Why does an int[] key cause my code to crash compared to just using a String as a key?</p>\n"},{"tags":["java","eclipse","intellij-idea","jar"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1642283317,"post_id":70725692,"comment_id":125031313,"body_markdown":"You **upgraded** Java. JavaFX is no longer included in most builds of the JDK. [Liberica](https://bell-sw.com/) includes it. Also, there isn&#39;t really a JRE anymore.","body":"You <b>upgraded</b> Java. JavaFX is no longer included in most builds of the JDK. <a href=\"https://bell-sw.com/\" rel=\"nofollow noreferrer\">Liberica</a> includes it. Also, there isn&#39;t really a JRE anymore."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1642283847,"post_id":70725692,"comment_id":125031432,"body_markdown":"(1) Where is JavaFX installed? Were you previously using Java 8? (2) Is your program set up as a modular program, with a module-info file? If so, you will need to include the location of the javafx modules. I recommend using openjfx.io and consulting their documentation. Also, using Maven can help eliminate some headaches, making it easier to create a jar file that can run with the normal java -jar yourproject.jar command.","body":"(1) Where is JavaFX installed? Were you previously using Java 8? (2) Is your program set up as a modular program, with a module-info file? If so, you will need to include the location of the javafx modules. I recommend using openjfx.io and consulting their documentation. Also, using Maven can help eliminate some headaches, making it easier to create a jar file that can run with the normal java -jar yourproject.jar command."},{"owner":{"account_id":23951058,"reputation":21,"user_id":17942632,"display_name":"Sir Taz"},"score":0,"creation_date":1642285831,"post_id":70725692,"comment_id":125031875,"body_markdown":"I tried using **Liberica** but I was still unable to open my .jar files, but downgrading my jdk did work. I also want to state that this isn&#39;t my project/program but a program made to act as a tool to help me with my project. I downgraded to **Java SE Development Kit 8u241**","body":"I tried using <b>Liberica</b> but I was still unable to open my .jar files, but downgrading my jdk did work. I also want to state that this isn&#39;t my project/program but a program made to act as a tool to help me with my project. I downgraded to <b>Java SE Development Kit 8u241</b>"}],"answers":[{"tags":[],"owner":{"account_id":1896469,"reputation":105,"user_id":1713320,"display_name":"cornnutz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642295703,"creation_date":1642295703,"answer_id":70726702,"question_id":70725692,"body_markdown":"@PhilFreihofner and @ElliottFrisch are right. \r\nthe Java GUI of JavaFx is only included in Oracle JDK/JRE 8. After Java 8, programmers have to use the openjfx GUI library instead.","title":".jar files wont open","body":"<p>@PhilFreihofner and @ElliottFrisch are right.\nthe Java GUI of JavaFx is only included in Oracle JDK/JRE 8. After Java 8, programmers have to use the openjfx GUI library instead.</p>\n"}],"owner":{"account_id":23951058,"reputation":21,"user_id":17942632,"display_name":"Sir Taz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642295703,"creation_date":1642283077,"question_id":70725692,"body_markdown":"When I double click on a .jar nothing happens. I was able to open them a week ago but now nothing.\r\n\r\nThings I have tried so far:\r\n\r\n* reinstalling both JRE and JDK  \r\n* Running jarfix.exe  \r\n* creating a .bat file  \r\n\r\n**.bat file**  \r\nWhen I create a .bat file and put it in the same folder or when I try to open the .jar using CMD - as Administrator I get the same error.  \r\n\r\nThis is my .bat file:\r\n\r\n    java -jar -debug &lt;File Name&gt;.jar  \r\n    pause\r\n\r\nAnd this is my error message:\r\n\r\n(I&#39;ll provide 3 examples of 3 different .jar files)  \r\n**(1)**  \r\n\r\n    F:\\Games\\RSPS\\Tools\\Displee&gt;java -jar -debug &quot;model_editor_1.4.1.jar&quot;  \r\n    Error: Could not find or load main class etc.Main  \r\n    Caused by: java.lang.NoClassDefFoundError: javafx/application/Application  \r\n    \r\n    F:\\Games\\RSPS\\Tools\\Displee&gt;pause  \r\n    Press any key to continue . . .  \r\n\r\n**(2)**\r\n\r\n    F:\\Games\\RSPS\\Tools\\RSPSi\\RSPSi&gt;java -jar -debug Editor.jar  \r\n    Error: Could not find or load main class com.rspsi.LauncherWindow  \r\n    Caused by: java.lang.NoClassDefFoundError: javafx/application/Application  \r\n    \r\n    F:\\Games\\RSPS\\Tools\\RSPSi\\RSPSi&gt;pause  \r\n    Press any key to continue . . .    \r\n\r\n**(3)**  \r\n\r\n    F:\\Games\\RSPS\\Tools&gt;java -jar -debug bsp-3.0.4.jar  \r\n    Error: Could not find or load main class io.nshusa.App  \r\n    Caused by: java.lang.NoClassDefFoundError: javafx/application/Application  \r\n    \r\n    F:\\Games\\RSPS\\Tools&gt;pause  \r\n    Press any key to continue . . .  \r\n\r\n**CMD**  \r\nWhen I open CMD and type  \r\n\r\n    java -version \r\n\r\nI get this:\r\n\r\n    C:\\WINDOWS\\system32&gt;java -version  \r\n    java version &quot;17.0.1&quot; 2021-10-19 LTS  \r\n    Java(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)  \r\n    Java HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)  \r\n\r\nand when I type \r\n\r\n    ftype | find &quot;jarfile&quot;  \r\n\r\nI get this:\r\n\r\n    C:\\WINDOWS\\system32&gt;ftype | find &quot;jarfile&quot;  \r\n    jarfile=&quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %*  \r\n\r\nIt seems as if everything should be working properly but unfortunately it is not and I don&#39;t know where to go from here which is why I turned to all of you. I just want to remind you that  \r\n\r\n* all .jar files would open for me a week ago\r\n* no .jar files will open now\r\n* I have been using Eclipse and IntelliJ  \r\n\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rt6Si.png","title":".jar files wont open","body":"<p>When I double click on a .jar nothing happens. I was able to open them a week ago but now nothing.</p>\n<p>Things I have tried so far:</p>\n<ul>\n<li>reinstalling both JRE and JDK</li>\n<li>Running jarfix.exe</li>\n<li>creating a .bat file</li>\n</ul>\n<p><strong>.bat file</strong><br />\nWhen I create a .bat file and put it in the same folder or when I try to open the .jar using CMD - as Administrator I get the same error.</p>\n<p>This is my .bat file:</p>\n<pre><code>java -jar -debug &lt;File Name&gt;.jar  \npause\n</code></pre>\n<p>And this is my error message:</p>\n<p>(I'll provide 3 examples of 3 different .jar files)<br />\n<strong>(1)</strong></p>\n<pre><code>F:\\Games\\RSPS\\Tools\\Displee&gt;java -jar -debug &quot;model_editor_1.4.1.jar&quot;  \nError: Could not find or load main class etc.Main  \nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application  \n\nF:\\Games\\RSPS\\Tools\\Displee&gt;pause  \nPress any key to continue . . .  \n</code></pre>\n<p><strong>(2)</strong></p>\n<pre><code>F:\\Games\\RSPS\\Tools\\RSPSi\\RSPSi&gt;java -jar -debug Editor.jar  \nError: Could not find or load main class com.rspsi.LauncherWindow  \nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application  \n\nF:\\Games\\RSPS\\Tools\\RSPSi\\RSPSi&gt;pause  \nPress any key to continue . . .    \n</code></pre>\n<p><strong>(3)</strong></p>\n<pre><code>F:\\Games\\RSPS\\Tools&gt;java -jar -debug bsp-3.0.4.jar  \nError: Could not find or load main class io.nshusa.App  \nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application  \n\nF:\\Games\\RSPS\\Tools&gt;pause  \nPress any key to continue . . .  \n</code></pre>\n<p><strong>CMD</strong><br />\nWhen I open CMD and type</p>\n<pre><code>java -version \n</code></pre>\n<p>I get this:</p>\n<pre><code>C:\\WINDOWS\\system32&gt;java -version  \njava version &quot;17.0.1&quot; 2021-10-19 LTS  \nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)  \nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)  \n</code></pre>\n<p>and when I type</p>\n<pre><code>ftype | find &quot;jarfile&quot;  \n</code></pre>\n<p>I get this:</p>\n<pre><code>C:\\WINDOWS\\system32&gt;ftype | find &quot;jarfile&quot;  \njarfile=&quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\javaw.exe&quot; -jar &quot;%1&quot; %*  \n</code></pre>\n<p>It seems as if everything should be working properly but unfortunately it is not and I don't know where to go from here which is why I turned to all of you. I just want to remind you that</p>\n<ul>\n<li>all .jar files would open for me a week ago</li>\n<li>no .jar files will open now</li>\n<li>I have been using Eclipse and IntelliJ</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Rt6Si.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","javafx-2"],"answers":[{"tags":[],"owner":{"account_id":2225566,"reputation":3362,"user_id":1964435,"accept_rate":75,"display_name":"Math"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1407499157,"creation_date":1386942792,"answer_id":20568196,"question_id":17799160,"body_markdown":"You have to add a listener to the `TextArea` element to scroll to the bottom when it&#39;s value is changed:\r\n\r\n    @FXML private TextArea txa;\t\r\n\r\n    ...\r\n\r\n\ttxa.textProperty().addListener(new ChangeListener&lt;Object&gt;() {\r\n\t\t@Override\r\n\t\tpublic void changed(ObservableValue&lt;?&gt; observable, Object oldValue,\r\n\t\t\t\tObject newValue) {\r\n\t\t\ttxa.setScrollTop(Double.MAX_VALUE); //this will scroll to the bottom\r\n            //use Double.MIN_VALUE to scroll to the top\r\n\t\t}\r\n\t});\r\n\r\nBut this listener is not triggered when you use the `setText(text)` method, so if you want to trigger it after a `setText(text)` use the `appendText(text)` right after it:\r\n\r\n    txa.setText(&quot;Text into the textArea&quot;); //does not trigger the listener\r\n    txa.appendText(&quot;&quot;);  //this will trigger the listener and will scroll the\r\n                         //TextArea to the bottom\r\n\r\nThis sounds more like a bug, once the `setText()` should trigger the `changed` listener, however it doesn&#39;t. This is the workaround I use myself and hope it helps you.\r\n","title":"JavaFX TextArea and autoscroll","body":"<p>You have to add a listener to the <code>TextArea</code> element to scroll to the bottom when it's value is changed:</p>\n\n<pre><code>@FXML private TextArea txa; \n\n...\n\ntxa.textProperty().addListener(new ChangeListener&lt;Object&gt;() {\n    @Override\n    public void changed(ObservableValue&lt;?&gt; observable, Object oldValue,\n            Object newValue) {\n        txa.setScrollTop(Double.MAX_VALUE); //this will scroll to the bottom\n        //use Double.MIN_VALUE to scroll to the top\n    }\n});\n</code></pre>\n\n<p>But this listener is not triggered when you use the <code>setText(text)</code> method, so if you want to trigger it after a <code>setText(text)</code> use the <code>appendText(text)</code> right after it:</p>\n\n<pre><code>txa.setText(\"Text into the textArea\"); //does not trigger the listener\ntxa.appendText(\"\");  //this will trigger the listener and will scroll the\n                     //TextArea to the bottom\n</code></pre>\n\n<p>This sounds more like a bug, once the <code>setText()</code> should trigger the <code>changed</code> listener, however it doesn't. This is the workaround I use myself and hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":1649588,"reputation":243,"user_id":1520436,"display_name":"jamesarbrown"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1438266231,"creation_date":1420224391,"answer_id":27747004,"question_id":17799160,"body_markdown":"**txa.appendText(&quot;&quot;) will scroll to the bottom without a listener**. This becomes an issue if you want to scroll back and the text is being constantly updated. txa.setText(&quot;&quot;) puts the scroll bar back at the top and same issue applies.\r\n\r\nMy solution was to extend the TextArea class, ammend the FXML tag from textArea to LogTextArea. Where this works, it clearly causes problems in scene builder as it does not know what this component is\r\n\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.text.Font;\r\n\r\n    public class LogTextArea extends TextArea {\r\n\r\n    private boolean pausedScroll = false;\r\n    private double scrollPosition = 0;\r\n\r\n    public LogTextArea() {\r\n        super();\r\n    }\r\n\r\n    public void setMessage(String data) {\r\n        if (pausedScroll) {\r\n            scrollPosition = this.getScrollTop();\r\n            this.setText(data);\r\n            this.setScrollTop(scrollPosition);\r\n        } else {\r\n            this.setText(data);\r\n            this.setScrollTop(Double.MAX_VALUE);\r\n        }\r\n    }\r\n\r\n    public void pauseScroll(Boolean pause) {\r\n        pausedScroll = pause;\r\n    }\r\n\r\n    }","title":"JavaFX TextArea and autoscroll","body":"<p><strong>txa.appendText(\"\") will scroll to the bottom without a listener</strong>. This becomes an issue if you want to scroll back and the text is being constantly updated. txa.setText(\"\") puts the scroll bar back at the top and same issue applies.</p>\n\n<p>My solution was to extend the TextArea class, ammend the FXML tag from textArea to LogTextArea. Where this works, it clearly causes problems in scene builder as it does not know what this component is</p>\n\n<pre><code>import javafx.scene.control.TextArea;\nimport javafx.scene.text.Font;\n\npublic class LogTextArea extends TextArea {\n\nprivate boolean pausedScroll = false;\nprivate double scrollPosition = 0;\n\npublic LogTextArea() {\n    super();\n}\n\npublic void setMessage(String data) {\n    if (pausedScroll) {\n        scrollPosition = this.getScrollTop();\n        this.setText(data);\n        this.setScrollTop(scrollPosition);\n    } else {\n        this.setText(data);\n        this.setScrollTop(Double.MAX_VALUE);\n    }\n}\n\npublic void pauseScroll(Boolean pause) {\n    pausedScroll = pause;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4822600,"reputation":215,"user_id":3892898,"accept_rate":62,"display_name":"AnotherNewbplusplus"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1431707193,"creation_date":1431707193,"answer_id":30264399,"question_id":17799160,"body_markdown":"Alternative to that strange setText bug without using appendText\r\n\r\n    textArea.selectPositionCaret(textArea.getLength());\r\n    textArea.deselect(); //removes the highlighting","title":"JavaFX TextArea and autoscroll","body":"<p>Alternative to that strange setText bug without using appendText</p>\n\n<pre><code>textArea.selectPositionCaret(textArea.getLength());\ntextArea.deselect(); //removes the highlighting\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4567882,"reputation":862,"user_id":3708426,"accept_rate":75,"display_name":"Jonathan Leitschuh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456255597,"creation_date":1456255597,"answer_id":35586392,"question_id":17799160,"body_markdown":"One addendum I would add to jamesarbrown&#39;s response would be to this would be to use a boolean property instead so you can access it from within FXML.\r\nSomething like this.\r\n\r\n    import javafx.beans.property.BooleanProperty;\r\n    import javafx.beans.property.SimpleBooleanProperty;\r\n    import javafx.scene.control.TextArea;\r\n    \r\n    public class LogTextArea extends TextArea {\r\n        private final BooleanProperty pausedScrollProperty = new SimpleBooleanProperty(false);\r\n        private double scrollPosition = 0;\r\n    \r\n        public LogTextArea() {\r\n            super();\r\n        }\r\n    \r\n        public void setMessage(String data) {\r\n            if (isPausedScroll()) {\r\n                scrollPosition = this.getScrollTop();\r\n                this.setText(data);\r\n                this.setScrollTop(scrollPosition);\r\n            } else {\r\n                this.setText(data);\r\n                this.setScrollTop(Double.MAX_VALUE);\r\n            }\r\n        }\r\n    \r\n        public final BooleanProperty pausedScrollProperty() { return pausedScrollProperty; }\r\n        public final boolean isPausedScroll() { return pausedScrollProperty.getValue(); }\r\n        public final void setPausedScroll(boolean value) { pausedScrollProperty.setValue(value); }\r\n    }\r\n\r\nHowever, the problem with this answer is that if you get flooded with an unreasonably large amount of input (as can happen when retrieving a log from an IO Stream) the javaFX thread will lock up because the TextArea gets too much data.","title":"JavaFX TextArea and autoscroll","body":"<p>One addendum I would add to jamesarbrown's response would be to this would be to use a boolean property instead so you can access it from within FXML.\nSomething like this.</p>\n\n<pre><code>import javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.scene.control.TextArea;\n\npublic class LogTextArea extends TextArea {\n    private final BooleanProperty pausedScrollProperty = new SimpleBooleanProperty(false);\n    private double scrollPosition = 0;\n\n    public LogTextArea() {\n        super();\n    }\n\n    public void setMessage(String data) {\n        if (isPausedScroll()) {\n            scrollPosition = this.getScrollTop();\n            this.setText(data);\n            this.setScrollTop(scrollPosition);\n        } else {\n            this.setText(data);\n            this.setScrollTop(Double.MAX_VALUE);\n        }\n    }\n\n    public final BooleanProperty pausedScrollProperty() { return pausedScrollProperty; }\n    public final boolean isPausedScroll() { return pausedScrollProperty.getValue(); }\n    public final void setPausedScroll(boolean value) { pausedScrollProperty.setValue(value); }\n}\n</code></pre>\n\n<p>However, the problem with this answer is that if you get flooded with an unreasonably large amount of input (as can happen when retrieving a log from an IO Stream) the javaFX thread will lock up because the TextArea gets too much data.</p>\n"},{"tags":[],"owner":{"account_id":9122289,"reputation":134,"user_id":6787321,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1546105702,"creation_date":1546105702,"answer_id":53971950,"question_id":17799160,"body_markdown":"I don&#39;t have enough reputation to comment, but wanted to give some insight for future readers as to why setText doesn&#39;t appear to trigger the listener, but appendText does, as in Math&#39;s answer. \r\n\r\nI Just found this answer while encountering similar issues myself, and looked into the code. This is currently the top result for &#39;javafx textarea settext scroll&#39; in a google search.\r\n\r\nsetText does indeed trigger the listener.\r\nAccording to the javadoc on the doSet method in TextInputControl (TextArea&#39;s superclass):\r\n\r\n&gt;  \r\n         * doSet is called whenever the setText() method was called directly\r\n         * on the TextInputControl, or when the text property was bound,\r\n         * unbound, or reacted to a binding invalidation. It is *not* called\r\n         * when modifications to the content happened indirectly, such as\r\n         * through the replaceText / replaceSelection methods.\r\n\r\nInside the doSet method, a call is made to updateText(), which TextArea overrides:\r\n\r\n      @Override final void textUpdated() {\r\n            setScrollTop(0);\r\n            setScrollLeft(0);\r\n        }  \r\n\r\nSo, when you set the scroll amount in the listener as in Math&#39;s answer, the following happens:\r\n\r\n1. The TextProperty is updated\r\n2. Your listener is called, and the scroll is set\r\n3. doSet is called\r\n4. textUpdated is called\r\n5. The scroll is set back to the top-left\r\n\r\nWhen you then append &quot;&quot;,\r\n\r\n1. The TextProperty is updated\r\n2. Your listener is called, and the scroll is set\r\n\r\nThe javadoc is above is clear why this is the case - doSet is only called when using setText. \r\nIn fact, appendText calls insertText which calls replaceText - and the javadoc further states that replaceText does NOT trigger a call to doSet.\r\n\r\nThe behaviour is rather irritating, especially since these are all final methods, and not obvious at first glance - but is not a bug.\r\n\r\n","title":"JavaFX TextArea and autoscroll","body":"<p>I don't have enough reputation to comment, but wanted to give some insight for future readers as to why setText doesn't appear to trigger the listener, but appendText does, as in Math's answer. </p>\n\n<p>I Just found this answer while encountering similar issues myself, and looked into the code. This is currently the top result for 'javafx textarea settext scroll' in a google search.</p>\n\n<p>setText does indeed trigger the listener.\nAccording to the javadoc on the doSet method in TextInputControl (TextArea's superclass):</p>\n\n<blockquote>\n<pre><code>     * doSet is called whenever the setText() method was called directly\n     * on the TextInputControl, or when the text property was bound,\n     * unbound, or reacted to a binding invalidation. It is *not* called\n     * when modifications to the content happened indirectly, such as\n     * through the replaceText / replaceSelection methods.\n</code></pre>\n</blockquote>\n\n<p>Inside the doSet method, a call is made to updateText(), which TextArea overrides:</p>\n\n<pre><code>  @Override final void textUpdated() {\n        setScrollTop(0);\n        setScrollLeft(0);\n    }  \n</code></pre>\n\n<p>So, when you set the scroll amount in the listener as in Math's answer, the following happens:</p>\n\n<ol>\n<li>The TextProperty is updated</li>\n<li>Your listener is called, and the scroll is set</li>\n<li>doSet is called</li>\n<li>textUpdated is called</li>\n<li>The scroll is set back to the top-left</li>\n</ol>\n\n<p>When you then append \"\",</p>\n\n<ol>\n<li>The TextProperty is updated</li>\n<li>Your listener is called, and the scroll is set</li>\n</ol>\n\n<p>The javadoc is above is clear why this is the case - doSet is only called when using setText. \nIn fact, appendText calls insertText which calls replaceText - and the javadoc further states that replaceText does NOT trigger a call to doSet.</p>\n\n<p>The behaviour is rather irritating, especially since these are all final methods, and not obvious at first glance - but is not a bug.</p>\n"},{"tags":[],"owner":{"account_id":23952572,"reputation":1,"user_id":17943910,"display_name":"Chimp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642295692,"creation_date":1642295692,"answer_id":70726701,"question_id":17799160,"body_markdown":"As Matthew has posted the `setText` call is the problem. A easy workaround is to call `clear`, `appendText` and then `setScrollTop`. The other suggestions above did not work well for me, with enough delay it worked but was unreliable behaviour.\r\n\r\n```\r\n  textAreaListener = (observable, oldValue, newValue) -&gt; {\r\n            textArea.clear();\r\n            textArea.appendText(newValue);\r\n            textArea.setScrollTop(Double.MAX_VALUE);\r\n        };\r\n```","title":"JavaFX TextArea and autoscroll","body":"<p>As Matthew has posted the <code>setText</code> call is the problem. A easy workaround is to call <code>clear</code>, <code>appendText</code> and then <code>setScrollTop</code>. The other suggestions above did not work well for me, with enough delay it worked but was unreliable behaviour.</p>\n<pre><code>  textAreaListener = (observable, oldValue, newValue) -&gt; {\n            textArea.clear();\n            textArea.appendText(newValue);\n            textArea.setScrollTop(Double.MAX_VALUE);\n        };\n</code></pre>\n"}],"owner":{"account_id":1348984,"reputation":736,"user_id":1289162,"accept_rate":43,"display_name":"Sam Keays"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36499,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":53971950,"answer_count":6,"score":23,"last_activity_date":1642295692,"creation_date":1374535834,"question_id":17799160,"body_markdown":"I am trying to get a TextArea to autoscroll to the bottom with new text which is put in via an event handler. Each new entry is just one long string of text with each entry separated by a line break. I have tried a change handler which sets setscrolltop to Double.MIN_VALUE but to no avail. Any ideas of how this could be done?","title":"JavaFX TextArea and autoscroll","body":"<p>I am trying to get a TextArea to autoscroll to the bottom with new text which is put in via an event handler. Each new entry is just one long string of text with each entry separated by a line break. I have tried a change handler which sets setscrolltop to Double.MIN_VALUE but to no avail. Any ideas of how this could be done?</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"score":1,"creation_date":1642220088,"post_id":70718767,"comment_id":125019194,"body_markdown":"Does this answer your question? [MySQL Error: : &#39;Access denied for user &#39;root&#39;@&#39;localhost&#39;](https://stackoverflow.com/questions/41645309/mysql-error-access-denied-for-user-rootlocalhost)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41645309/mysql-error-access-denied-for-user-rootlocalhost\">MySQL Error: : &#39;Access denied for user &#39;root&#39;@&#39;localhost&#39;</a>"},{"owner":{"account_id":23945312,"reputation":1,"user_id":17937730,"display_name":"rad6"},"score":0,"creation_date":1642220694,"post_id":70718767,"comment_id":125019257,"body_markdown":"This answer didn&#39;t solve my problem","body":"This answer didn&#39;t solve my problem"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1642227320,"post_id":70718767,"comment_id":125019930,"body_markdown":"why you have to add `/user` in `url(localhost:8888/user)`","body":"why you have to add <code>&#47;user</code> in <code>url(localhost:8888&#47;user)</code>"},{"owner":{"account_id":23945312,"reputation":1,"user_id":17937730,"display_name":"rad6"},"score":0,"creation_date":1642227583,"post_id":70718767,"comment_id":125019967,"body_markdown":"I set an annotation   @GetMapping(&quot;/user&quot;)  ,Access it to get the data obtained by the database and return it in the form of json ,But don&#39;t know why it&#39;s not working .","body":"I set an annotation   @GetMapping(&quot;/user&quot;)  ,Access it to get the data obtained by the database and return it in the form of json ,But don&#39;t know why it&#39;s not working ."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1642227977,"post_id":70718767,"comment_id":125020015,"body_markdown":"why you can not add `repository` in your project","body":"why you can not add <code>repository</code> in your project"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1642228045,"post_id":70718767,"comment_id":125020020,"body_markdown":"because repository have inbuilt `findall()` method for retrive data from database without query","body":"because repository have inbuilt <code>findall()</code> method for retrive data from database without query"},{"owner":{"account_id":23945312,"reputation":1,"user_id":17937730,"display_name":"rad6"},"score":0,"creation_date":1642228822,"post_id":70718767,"comment_id":125020125,"body_markdown":"I am not very clear about this annotation, I just follow the steps of others when I try","body":"I am not very clear about this annotation, I just follow the steps of others when I try"},{"owner":{"account_id":23945312,"reputation":1,"user_id":17937730,"display_name":"rad6"},"score":0,"creation_date":1642229043,"post_id":70718767,"comment_id":125020158,"body_markdown":"I don&#39;t have a deep understanding of springboot. There are many articles on the Internet, such as Spring, Springboot, JPA, Mybatis, Mybatis plus, and the result of the same code error confuses me.","body":"I don&#39;t have a deep understanding of springboot. There are many articles on the Internet, such as Spring, Springboot, JPA, Mybatis, Mybatis plus, and the result of the same code error confuses me."}],"owner":{"account_id":23945312,"reputation":1,"user_id":17937730,"display_name":"rad6"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642335387,"answer_count":0,"score":0,"last_activity_date":1642293233,"creation_date":1642219166,"question_id":70718767,"body_markdown":"I&#39;m creating a spring boot project. Then i try to connect mysql database to that project. I got the error called &quot;HikariPool-1 - Exception during pool initialization&quot;.\r\n\r\nThis is the whole stacktrace.\r\n```\r\n2022-01-15 11:09:29.374  INFO 2748 --- [nio-8888-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n\r\n2022-01-15 11:09:30.481 ERROR 2748 --- [nio-8888-exec-3] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\r\n\r\njava.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\r\n2022-01-15 11:09:30.490 ERROR 2748 --- [nio-8888-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: \r\n\r\n### Error querying database.  Cause:org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n### The error may exist in com/example/reservation/mapper/userMapper.java (best guess)\r\n### The error may involve com.example.reservation.mapper.userMapper.findAll\r\n### The error occurred while executing a query\r\n### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)] with root cause\r\nMy is as follows,application.yml\r\n\r\njava.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n```\r\n\r\n\r\nMy is as follows,application.yml\r\n\r\n```\r\nserver:\r\n      port: 8888\r\nspring:\r\n      datasource:\r\n        url: jdbc:mysql://127.0.0.1:3306/reservation?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC\r\n        username: root\r\n        password: &quot;123456&quot;\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n```\r\n\r\nMy dependancies are,pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;reservation&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;reservation&lt;/name&gt;\r\n    &lt;description&gt;reservation project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nuser.java\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class user {\r\n    private Integer id;\r\n    private String username;\r\n    private String password;\r\n}\r\n```\r\nuserMapper.java\r\n```\r\npublic interface userMapper {\r\n    @Select(&quot;select * from user&quot;)\r\n    List&lt;user&gt; findAll();\r\n}\r\n```\r\nuserMapper.java\r\n```\r\npublic class userController {\r\n\r\n   @Resource\r\n   userMapper usermapper;       \r\n   @GetMapping()              \r\n   public String hello(){\r\n      return &quot;hello&quot;;\r\n   }\r\n   @GetMapping(&quot;/user&quot;)          \r\n   public List&lt;user&gt; getUser(){\r\n        return usermapper.findAll();\r\n   }\r\n\r\n}\r\n```\r\nReservationApplication.java\r\n```\r\n@SpringBootApplication\r\n@MapperScan(&quot;com.example.reservation.mapper&quot;)\r\npublic class ReservationApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ReservationApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nWhen I access localhost:8888 it works successfully,\r\n\r\nbut when I access localhost:8888/user it gives an error\r\n\r\nWhat happened?:(\r\n\r\n&gt;**reason** \r\n&lt;pre&gt;\r\n    I&#39;m too stupid to have two MySQL services on my computer without noticing. &lt;br/&gt;&lt;br/&gt;\r\n\r\n\r\n    One of them is installed by myself(mysql57), the other exists in the PhpStudy integrated environment(mysqla).When I found out that there are two MySQL services in Windows services, I was stunned.Usually the service I use is mysql57, but my IDE accesses the service mysqla.&lt;br/&gt;&lt;br/&gt;\r\n\r\n    When I first asked the question, the passwords for the root accounts of mysql57 and mysqla were 123456 and root respectively.When I tried many methods to no avail, I changed the password of the mysql57 root account and modified the configuration in the IDE at the same time.&lt;br/&gt;&lt;br/&gt;\r\n\r\n    Then a magical scene happened, an error that should not have appeared in the IDE: database xxx does not exist.When I changed the database configuration in the IDE to the myql table that exists in every MySQL, visiting localhost:xx/user returned a set of Josn, then I realized that the problem was in my MySQL, okay Well, this is all caused by the usual habits. \r\n    ","title":"HikariPool- Exception during pool initialization","body":"<p>I'm creating a spring boot project. Then i try to connect mysql database to that project. I got the error called &quot;HikariPool-1 - Exception during pool initialization&quot;.</p>\n<p>This is the whole stacktrace.</p>\n<pre><code>2022-01-15 11:09:29.374  INFO 2748 --- [nio-8888-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n\n2022-01-15 11:09:30.481 ERROR 2748 --- [nio-8888-exec-3] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n\n2022-01-15 11:09:30.490 ERROR 2748 --- [nio-8888-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: \n\n### Error querying database.  Cause:org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n### The error may exist in com/example/reservation/mapper/userMapper.java (best guess)\n### The error may involve com.example.reservation.mapper.userMapper.findAll\n### The error occurred while executing a query\n### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)] with root cause\nMy is as follows,application.yml\n\njava.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n</code></pre>\n<p>My is as follows,application.yml</p>\n<pre><code>server:\n      port: 8888\nspring:\n      datasource:\n        url: jdbc:mysql://127.0.0.1:3306/reservation?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC\n        username: root\n        password: &quot;123456&quot;\n        driver-class-name: com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>My dependancies are,pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;reservation&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;reservation&lt;/name&gt;\n    &lt;description&gt;reservation project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>user.java</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class user {\n    private Integer id;\n    private String username;\n    private String password;\n}\n</code></pre>\n<p>userMapper.java</p>\n<pre><code>public interface userMapper {\n    @Select(&quot;select * from user&quot;)\n    List&lt;user&gt; findAll();\n}\n</code></pre>\n<p>userMapper.java</p>\n<pre><code>public class userController {\n\n   @Resource\n   userMapper usermapper;       \n   @GetMapping()              \n   public String hello(){\n      return &quot;hello&quot;;\n   }\n   @GetMapping(&quot;/user&quot;)          \n   public List&lt;user&gt; getUser(){\n        return usermapper.findAll();\n   }\n\n}\n</code></pre>\n<p>ReservationApplication.java</p>\n<pre><code>@SpringBootApplication\n@MapperScan(&quot;com.example.reservation.mapper&quot;)\npublic class ReservationApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ReservationApplication.class, args);\n    }\n}\n</code></pre>\n<p>When I access localhost:8888 it works successfully,</p>\n<p>but when I access localhost:8888/user it gives an error</p>\n<p>What happened?:(</p>\n<blockquote>\n<p><strong>reason</strong></p>\n</blockquote>\n\n    I'm too stupid to have two MySQL services on my computer without noticing. <br/><br/>\n\n\n    One of them is installed by myself(mysql57), the other exists in the PhpStudy integrated environment(mysqla).When I found out that there are two MySQL services in Windows services, I was stunned.Usually the service I use is mysql57, but my IDE accesses the service mysqla.<br/><br/>\n\n    When I first asked the question, the passwords for the root accounts of mysql57 and mysqla were 123456 and root respectively.When I tried many methods to no avail, I changed the password of the mysql57 root account and modified the configuration in the IDE at the same time.<br/><br/>\n\n    Then a magical scene happened, an error that should not have appeared in the IDE: database xxx does not exist.When I changed the database configuration in the IDE to the myql table that exists in every MySQL, visiting localhost:xx/user returned a set of Josn, then I realized that the problem was in my MySQL, okay Well, this is all caused by the usual habits. \n    \n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":3228456,"reputation":146,"user_id":3197789,"display_name":"vautee"},"score":0,"creation_date":1642285928,"post_id":70725112,"comment_id":125031895,"body_markdown":"Have a look at https://stackoverflow.com/questions/31933821/cant-connect-to-local-mongodb-from-java/31935871 which roughly describes the same problem and possible code change to wait for a connection - since I can&#39;t see any timeouts or error messages from your output.","body":"Have a look at <a href=\"https://stackoverflow.com/questions/31933821/cant-connect-to-local-mongodb-from-java/31935871\" title=\"cant connect to local mongodb from java\">stackoverflow.com/questions/31933821/&hellip;</a> which roughly describes the same problem and possible code change to wait for a connection - since I can&#39;t see any timeouts or error messages from your output."},{"owner":{"account_id":23800664,"reputation":108,"user_id":17810926,"display_name":"Arnold Palmer"},"score":0,"creation_date":1642524085,"post_id":70725112,"comment_id":125091084,"body_markdown":"Thank you for your advice, but I have decided against MongoDB entirely. For my purposes, it is unnecessary. I used JSON.simple and I wrote a simple class to deal with a local database. Its much faster than MongoDB because its local and its running on a server that I already intended to use.","body":"Thank you for your advice, but I have decided against MongoDB entirely. For my purposes, it is unnecessary. I used JSON.simple and I wrote a simple class to deal with a local database. Its much faster than MongoDB because its local and its running on a server that I already intended to use."}],"owner":{"account_id":23800664,"reputation":108,"user_id":17810926,"display_name":"Arnold Palmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642293138,"creation_date":1642278041,"question_id":70725112,"body_markdown":"I&#39;ve used MongoDB with Python for a while now, and I&#39;ve recently tried it with Java and i  keep getting the same error. \r\n\r\nHere is my code (with username and password replaced):\r\n```\r\npublic class MongoClientConnection {\r\n    public static void main(String[] args) {\r\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://&lt;username&gt;:&lt;password&gt;@cluster0.bog1c.mongodb.net/db?w=majority&quot;);\r\n        MongoDatabase database = mongoClient.getDatabase(&quot;db&quot;);\r\n        MongoCollection&lt;Document&gt; accounts = database.getCollection(&quot;accounts&quot;);\r\n        Document doc = new Document(&quot;name&quot;, new String[]{&quot;John&quot;, &quot;Smith&quot;})\r\n            .append(&quot;age&quot;, 35)\r\n            .append(&quot;favorite_color&quot;, &quot;blue&quot;);\r\n        accounts.insertOne(doc, new SingleResultCallback&lt;Void&gt;() {\r\n            @Override\r\n            public void onResult(final Void result, final Throwable t) {\r\n                System.out.println(&quot;Inserted!&quot;);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nThis was taken directly from [this][1] tutorial.\r\n\r\nHere is the output:\r\n```\r\nJan 15, 2022 3:17:53 PM com.mongodb.diagnostics.logging.JULLogger log\r\nINFO: Cluster created with settings {hosts=[cluster0.bog1c.mongodb.net:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout=&#39;30000 ms&#39;, maxWaitQueueSize=500}\r\nJan 15, 2022 3:17:53 PM com.mongodb.diagnostics.logging.JULLogger log\r\nINFO: No server chosen by PrimaryServerSelector from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, all=[ServerDescription{address=cluster0.bog1c.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nI am able to connect to the database using Mongosh. The string given on the ```cloud.mongodb.com``` site begins with ```mongodb+srv://```, however it gives me the following error: \r\n\r\n```Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: uri needs to start with mongodb://```\r\n\r\nThat is why I am using only ```mongodb://```.\r\n\r\nI am running the code on Intellij IDEA in Windows.\r\n\r\nAny ideas for what I am doing wrong?\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/","title":"Trouble Connecting to MongoDB with Java Async Client","body":"<p>I've used MongoDB with Python for a while now, and I've recently tried it with Java and i  keep getting the same error.</p>\n<p>Here is my code (with username and password replaced):</p>\n<pre><code>public class MongoClientConnection {\n    public static void main(String[] args) {\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://&lt;username&gt;:&lt;password&gt;@cluster0.bog1c.mongodb.net/db?w=majority&quot;);\n        MongoDatabase database = mongoClient.getDatabase(&quot;db&quot;);\n        MongoCollection&lt;Document&gt; accounts = database.getCollection(&quot;accounts&quot;);\n        Document doc = new Document(&quot;name&quot;, new String[]{&quot;John&quot;, &quot;Smith&quot;})\n            .append(&quot;age&quot;, 35)\n            .append(&quot;favorite_color&quot;, &quot;blue&quot;);\n        accounts.insertOne(doc, new SingleResultCallback&lt;Void&gt;() {\n            @Override\n            public void onResult(final Void result, final Throwable t) {\n                System.out.println(&quot;Inserted!&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n<p>This was taken directly from <a href=\"https://mongodb.github.io/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/\" rel=\"nofollow noreferrer\">this</a> tutorial.</p>\n<p>Here is the output:</p>\n<pre><code>Jan 15, 2022 3:17:53 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: Cluster created with settings {hosts=[cluster0.bog1c.mongodb.net:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}\nJan 15, 2022 3:17:53 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: No server chosen by PrimaryServerSelector from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, all=[ServerDescription{address=cluster0.bog1c.mongodb.net:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\n\nProcess finished with exit code 0\n</code></pre>\n<p>I am able to connect to the database using Mongosh. The string given on the <code>cloud.mongodb.com</code> site begins with <code>mongodb+srv://</code>, however it gives me the following error:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: uri needs to start with mongodb://</code></p>\n<p>That is why I am using only <code>mongodb://</code>.</p>\n<p>I am running the code on Intellij IDEA in Windows.</p>\n<p>Any ideas for what I am doing wrong?</p>\n"},{"tags":["java","runtime","escaping","space"],"answers":[{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1238426750,"creation_date":1238425998,"answer_id":697644,"question_id":697621,"body_markdown":"Try this:\r\n\r\n    Runtime.getRuntime().exec(&quot;open /folder\\\\ name/toast.sh&quot;);\r\n\r\n&quot;\\ &quot; will just put a space in the string, but &quot;\\\\ &quot; will put a &quot;\\ &quot; in the string, which will be passed to the shell, and the shell will escape the space.\r\n\r\nIf that doesn&#39;t work, pass in the arguments as an array, one element for each argument.  That way the shell doesn&#39;t get involved and you don&#39;t need bizarre escapes.\r\n\r\n    Runtime.getRuntime().exec(new String[]{&quot;open&quot;, &quot;/folder name/toast.sh&quot;});","title":"Spaces in java execute path for OS X","body":"<p>Try this:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"open /folder\\\\ name/toast.sh\");\n</code></pre>\n\n<p>\"\\ \" will just put a space in the string, but \"\\ \" will put a \"\\ \" in the string, which will be passed to the shell, and the shell will escape the space.</p>\n\n<p>If that doesn't work, pass in the arguments as an array, one element for each argument.  That way the shell doesn't get involved and you don't need bizarre escapes.</p>\n\n<pre><code>Runtime.getRuntime().exec(new String[]{\"open\", \"/folder name/toast.sh\"});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27387,"reputation":95812,"user_id":72247,"display_name":"Jarret Hardie"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1238426567,"creation_date":1238426567,"answer_id":697672,"question_id":697621,"body_markdown":"There&#39;s a summary of this problem on [Sun&#39;s forums][1]... seems to be a pretty common issue not restricted to OS X. \r\n\r\nThe last post in the thread summarizes the proposed solution. In essence, use the form of `Runtime.exec` that takes a `String[]` array:\r\n\r\n    String[] args = new String[] { &quot;open&quot;, &quot;\\&quot;/folder name/toast.sh\\&quot;&quot; }; \r\n\r\nor (the forum suggests this will work too)\r\n\r\n    String[] args = new String[] { &quot;open&quot;, &quot;folder name/toast.sh&quot; };\r\n\r\n\r\n  [1]: http://forums.sun.com/thread.jspa?threadID=5366547&amp;tstart=1","title":"Spaces in java execute path for OS X","body":"<p>There's a summary of this problem on <a href=\"http://forums.sun.com/thread.jspa?threadID=5366547&amp;tstart=1\" rel=\"noreferrer\">Sun's forums</a>... seems to be a pretty common issue not restricted to OS X. </p>\n\n<p>The last post in the thread summarizes the proposed solution. In essence, use the form of <code>Runtime.exec</code> that takes a <code>String[]</code> array:</p>\n\n<pre><code>String[] args = new String[] { \"open\", \"\\\"/folder name/toast.sh\\\"\" }; \n</code></pre>\n\n<p>or (the forum suggests this will work too)</p>\n\n<pre><code>String[] args = new String[] { \"open\", \"folder name/toast.sh\" };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43726,"reputation":9735,"user_id":127938,"accept_rate":89,"display_name":"Paul Gregoire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260217093,"creation_date":1260217093,"answer_id":1862609,"question_id":697621,"body_markdown":"Paul&#39;s option works, but you still must escape the spaces like so:\r\n\r\n    Runtime.getRuntime().exec(new String[]{&quot;open&quot;, &quot;/folder\\\\ name/toast.sh&quot;});\r\n\r\nThe thing that sucks about using a String array is that each param and its option must be in their own element. For instance you cannot do this:\r\n\r\n    Runtime.getRuntime().exec(new String[]{&quot;executable&quot;, &quot;-r -x 1&quot;, &quot;/folder\\\\ name/somefile&quot;});\r\n\r\nBut instead must specify it like so:\r\n\r\n    Runtime.getRuntime().exec(new String[]{&quot;executable&quot;, &quot;-r&quot;, &quot;-x&quot;, &quot;1&quot;, &quot;/folder\\\\ name/somefile&quot;});\r\n\r\n\r\n","title":"Spaces in java execute path for OS X","body":"<p>Paul's option works, but you still must escape the spaces like so:</p>\n\n<pre><code>Runtime.getRuntime().exec(new String[]{\"open\", \"/folder\\\\ name/toast.sh\"});\n</code></pre>\n\n<p>The thing that sucks about using a String array is that each param and its option must be in their own element. For instance you cannot do this:</p>\n\n<pre><code>Runtime.getRuntime().exec(new String[]{\"executable\", \"-r -x 1\", \"/folder\\\\ name/somefile\"});\n</code></pre>\n\n<p>But instead must specify it like so:</p>\n\n<pre><code>Runtime.getRuntime().exec(new String[]{\"executable\", \"-r\", \"-x\", \"1\", \"/folder\\\\ name/somefile\"});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1755844,"reputation":510,"user_id":1603926,"display_name":"andude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642292151,"creation_date":1642292151,"answer_id":70726462,"question_id":697621,"body_markdown":"In Kotlin, I was able to escape white spaces using templated strings.\r\n```\r\nprivate const val chromeExec = &quot;/Applications/Google \r\nChrome.app/Contents/MacOS/Google Chrome&quot;\r\nRuntime.getRuntime().exec(arrayOf(&quot;$browserExec&quot;, url))\r\n\r\n```","title":"Spaces in java execute path for OS X","body":"<p>In Kotlin, I was able to escape white spaces using templated strings.</p>\n<pre><code>private const val chromeExec = &quot;/Applications/Google \nChrome.app/Contents/MacOS/Google Chrome&quot;\nRuntime.getRuntime().exec(arrayOf(&quot;$browserExec&quot;, url))\n\n</code></pre>\n"}],"owner":{"reputation":4453,"user_id":80544,"accept_rate":79,"display_name":"Glenn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10947,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":697672,"answer_count":4,"score":9,"last_activity_date":1642292151,"creation_date":1238425726,"question_id":697621,"body_markdown":"On OS X, I am trying to .exec something, but when a path contains a space, it doesn&#39;t work.  I&#39;ve tried surrounding the path with quotes, escaping the space, and even using \\u0020.\r\n\r\nFor example, this works:\r\n\r\n    Runtime.getRuntime().exec(&quot;open /foldername/toast.sh&quot;);\r\n\r\nBut if there&#39;s a space, none of these work:\r\n\r\n    Runtime.getRuntime().exec(&quot;open /folder name/toast.sh&quot;);\r\n\r\n    Runtime.getRuntime().exec(&quot;open \\&quot;/folder name/toast.sh\\&quot;&quot;);\r\n\r\n    Runtime.getRuntime().exec(&quot;open /folder\\\\ name/toast.sh&quot;);\r\n\r\n    Runtime.getRuntime().exec(&quot;open /folder\\u0020name/toast.sh&quot;);\r\n\r\nIdeas?\r\n\r\nEdit: Escaped backslash... still no worky.\r\n\r\n\r\n","title":"Spaces in java execute path for OS X","body":"<p>On OS X, I am trying to .exec something, but when a path contains a space, it doesn't work.  I've tried surrounding the path with quotes, escaping the space, and even using \\u0020.</p>\n\n<p>For example, this works:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"open /foldername/toast.sh\");\n</code></pre>\n\n<p>But if there's a space, none of these work:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"open /folder name/toast.sh\");\n\nRuntime.getRuntime().exec(\"open \\\"/folder name/toast.sh\\\"\");\n\nRuntime.getRuntime().exec(\"open /folder\\\\ name/toast.sh\");\n\nRuntime.getRuntime().exec(\"open /folder\\u0020name/toast.sh\");\n</code></pre>\n\n<p>Ideas?</p>\n\n<p>Edit: Escaped backslash... still no worky.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1642286325,"post_id":70725976,"comment_id":125031968,"body_markdown":"You can add a generic type to your abstract base class and use it for the `getNextElements()` method. However, how will the `getNextElements()` method be used and what types are visible/known to the caller of that method?","body":"You can add a generic type to your abstract base class and use it for the <code>getNextElements()</code> method. However, how will the <code>getNextElements()</code> method be used and what types are visible/known to the caller of that method?"},{"owner":{"account_id":12318708,"reputation":1301,"user_id":8988486,"display_name":"MrO"},"score":0,"creation_date":1642286499,"post_id":70725976,"comment_id":125032000,"body_markdown":"@Progman Yes, I was kinda hoping I wouldn&#39;t have to do that. I&#39;m reluctant to define classes like `MyConcreteClass&lt;MyConcreteClass&gt;` especially because it&#39;s more generic than I was hoping. Regarding the second part of your comment, how is that relevant ? I suppose we can assume everything is visible to the caller, for simplicity.","body":"@Progman Yes, I was kinda hoping I wouldn&#39;t have to do that. I&#39;m reluctant to define classes like <code>MyConcreteClass&lt;MyConcreteClass&gt;</code> especially because it&#39;s more generic than I was hoping. Regarding the second part of your comment, how is that relevant ? I suppose we can assume everything is visible to the caller, for simplicity."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1642286783,"post_id":70725976,"comment_id":125032049,"body_markdown":"@MrO The issue might be that you can&#39;t do this anyway as the consumer of that method might not see the method with the adjusted return type anyway. But that depends on the system you have.","body":"@MrO The issue might be that you can&#39;t do this anyway as the consumer of that method might not see the method with the adjusted return type anyway. But that depends on the system you have."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642287135,"creation_date":1642286703,"answer_id":70726028,"question_id":70725976,"body_markdown":"Just use Java generics:\r\n```java\r\npublic abstract class SomeAbstractClass&lt;T extends SomeAbstractClass&gt; {\r\n    public abstract List&lt;T&gt; getNextElements() ;\r\n}\r\n```\r\n\r\n```java\r\npublic class SomeConcreteClass extends SomeAbstractClass&lt;SomeConcreteClass&gt; {\r\n    @Override\r\n    public List&lt;SomeConcreteClass&gt; getNextElements() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nAnother possibility would be to use only generic methods as follows:\r\n```java\r\npublic abstract class SomeAbstractClass {\r\n    public abstract &lt;T extends SomeAbstractClass&gt; List&lt;T&gt; getNextElements();\r\n}\r\n```\r\n\r\n```java\r\npublic class SomeConcreteClass extends SomeAbstractClass {\r\n    @Override\r\n    public List&lt;SomeConcreteClass&gt; getNextElements() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nThe downside of this is that you now have an unchecked conversion at `List&lt;SomeConcreteClass&gt; getNextElements()` which may potentially trigger `ClassCastException` at runtime.","title":"How to make a reference to a concrete subtype in an abstract method definition","body":"<p>Just use Java generics:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class SomeAbstractClass&lt;T extends SomeAbstractClass&gt; {\n    public abstract List&lt;T&gt; getNextElements() ;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeConcreteClass extends SomeAbstractClass&lt;SomeConcreteClass&gt; {\n    @Override\n    public List&lt;SomeConcreteClass&gt; getNextElements() {\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>Another possibility would be to use only generic methods as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class SomeAbstractClass {\n    public abstract &lt;T extends SomeAbstractClass&gt; List&lt;T&gt; getNextElements();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeConcreteClass extends SomeAbstractClass {\n    @Override\n    public List&lt;SomeConcreteClass&gt; getNextElements() {\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>The downside of this is that you now have an unchecked conversion at <code>List&lt;SomeConcreteClass&gt; getNextElements()</code> which may potentially trigger <code>ClassCastException</code> at runtime.</p>\n"}],"owner":{"account_id":12318708,"reputation":1301,"user_id":8988486,"display_name":"MrO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642289087,"creation_date":1642286020,"question_id":70725976,"body_markdown":"Suppose I have the following definition:\r\n\r\n    public abstract class SomeAbstractClass {\r\n    \t\r\n    \tpublic abstract List&lt;SomeAbstractClass&gt; getNextElements() ;\r\n    }\r\n\r\nIf I build a concrete class that extends `SomeAbstractClass` named for instance `SomeConcreteClass` I would like `getNextElements` to have the following signature:\r\n\r\n    public List&lt;SomeConcreteClass&gt; getNextElements()\r\n\r\nInstead of:\r\n\r\n    public List&lt;SomeAbstractClass&gt; getNextElements()\r\n\r\nIn other words, I would want my abstract definition to have a type depending on the current concrete type. Can it be done ? If so, how ?\r\n\r\n","title":"How to make a reference to a concrete subtype in an abstract method definition","body":"<p>Suppose I have the following definition:</p>\n<pre><code>public abstract class SomeAbstractClass {\n    \n    public abstract List&lt;SomeAbstractClass&gt; getNextElements() ;\n}\n</code></pre>\n<p>If I build a concrete class that extends <code>SomeAbstractClass</code> named for instance <code>SomeConcreteClass</code> I would like <code>getNextElements</code> to have the following signature:</p>\n<pre><code>public List&lt;SomeConcreteClass&gt; getNextElements()\n</code></pre>\n<p>Instead of:</p>\n<pre><code>public List&lt;SomeAbstractClass&gt; getNextElements()\n</code></pre>\n<p>In other words, I would want my abstract definition to have a type depending on the current concrete type. Can it be done ? If so, how ?</p>\n"},{"tags":["java","option-type","jep"],"comments":[{"owner":{"account_id":7417643,"reputation":113,"user_id":5642859,"display_name":"nistel"},"score":0,"creation_date":1642275433,"post_id":70724741,"comment_id":125029538,"body_markdown":"As this got downvoted - is there something wrong with this question?","body":"As this got downvoted - is there something wrong with this question?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1642276771,"post_id":70724741,"comment_id":125029814,"body_markdown":"There might not be a JEP for the `Optional&lt;T&gt;` class, but there is the ticket [JDK-8001642](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8001642) which introduced it.","body":"There might not be a JEP for the <code>Optional&lt;T&gt;</code> class, but there is the ticket <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8001642\" rel=\"nofollow noreferrer\">JDK-8001642</a> which introduced it."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1642277048,"post_id":70724741,"comment_id":125029883,"body_markdown":"There was the [JEP 107](https://openjdk.java.net/jeps/107) with the corresponding [JSR 335](https://jcp.org/aboutJava/communityprocess/final/jsr335/index.html) that introduced `Stream` and `filter()` / `findFirst()` which (to my knowledge) led to the introduction of the `Optional` class.","body":"There was the <a href=\"https://openjdk.java.net/jeps/107\" rel=\"nofollow noreferrer\">JEP 107</a> with the corresponding <a href=\"https://jcp.org/aboutJava/communityprocess/final/jsr335/index.html\" rel=\"nofollow noreferrer\">JSR 335</a> that introduced <code>Stream</code> and <code>filter()</code> / <code>findFirst()</code> which (to my knowledge) led to the introduction of the <code>Optional</code> class."},{"owner":{"account_id":7417643,"reputation":113,"user_id":5642859,"display_name":"nistel"},"score":0,"creation_date":1642325869,"post_id":70724741,"comment_id":125036792,"body_markdown":"I don&#39;t understand why this question was closed. The reasons stated is &quot;_We dont allow questions seeking recommendations for books, tools, software libraries, and more._&quot;. However, I&#39;m not asking for a recommendation. As Wikipedia states, JEPs are part of the official process to collect proposals for the enhancements to Java. For lots of features -- for example [_lambda expressions_](https://openjdk.java.net/jeps/126) -- there is a JEP. Therefore, what&#39;s wrong with asking if there is a JEP for `Optional` as well? It&#39;s not a subjective question and not about recommendations.","body":"I don&#39;t understand why this question was closed. The reasons stated is &quot;<i>We dont allow questions seeking recommendations for books, tools, software libraries, and more.</i>&quot;. However, I&#39;m not asking for a recommendation. As Wikipedia states, JEPs are part of the official process to collect proposals for the enhancements to Java. For lots of features -- for example <a href=\"https://openjdk.java.net/jeps/126\" rel=\"nofollow noreferrer\"><i>lambda expressions</i></a> -- there is a JEP. Therefore, what&#39;s wrong with asking if there is a JEP for <code>Optional</code> as well? It&#39;s not a subjective question and not about recommendations."}],"answers":[{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642288165,"creation_date":1642275963,"answer_id":70724851,"question_id":70724741,"body_markdown":"No, there is no separate JEP for `Optional`. The history of `Optional` is the following.\r\n\r\nThe [Java Specification Request 335][1] dealt with Lambda Expressions for the Java Programming Language. Its goal was:\r\n\r\n&gt; Extend the Java language to support compact lambda expressions\r\n&gt; (closures), as well as related language and library features to enable\r\n&gt; the Java SE APIs to use lambda expressions effectively.\r\n\r\nIt was this context which lead to the inclusion of `Optional` in Java 8.\r\n\r\nMembers of the expert group for JSR-335 and strongly involved in the multiple discussions about Optional were people like Brian Goetz, Doug Lea and R&#233;mi Forax. Chiming in were known experts like Joshua Bloch, Tim Peierls and others. \r\n\r\nThe archive of the lambda-libs-spec-experts [mailing list][2] contains opinion exchange about Optional. \r\n\r\nSo, `Optional` were added as a result of JSR 335. This information was taken from [here][3]. There you can find details.\r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=335\r\n  [2]: http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/\r\n  [3]: https://nipafx.dev/design-java-optional/","title":"Is there a JEP for Optional?","body":"<p>No, there is no separate JEP for <code>Optional</code>. The history of <code>Optional</code> is the following.</p>\n<p>The <a href=\"https://jcp.org/en/jsr/detail?id=335\" rel=\"nofollow noreferrer\">Java Specification Request 335</a> dealt with Lambda Expressions for the Java Programming Language. Its goal was:</p>\n<blockquote>\n<p>Extend the Java language to support compact lambda expressions\n(closures), as well as related language and library features to enable\nthe Java SE APIs to use lambda expressions effectively.</p>\n</blockquote>\n<p>It was this context which lead to the inclusion of <code>Optional</code> in Java 8.</p>\n<p>Members of the expert group for JSR-335 and strongly involved in the multiple discussions about Optional were people like Brian Goetz, Doug Lea and Rmi Forax. Chiming in were known experts like Joshua Bloch, Tim Peierls and others.</p>\n<p>The archive of the lambda-libs-spec-experts <a href=\"http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/\" rel=\"nofollow noreferrer\">mailing list</a> contains opinion exchange about Optional.</p>\n<p>So, <code>Optional</code> were added as a result of JSR 335. This information was taken from <a href=\"https://nipafx.dev/design-java-optional/\" rel=\"nofollow noreferrer\">here</a>. There you can find details.</p>\n"}],"owner":{"account_id":7417643,"reputation":113,"user_id":5642859,"display_name":"nistel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1642298467,"accepted_answer_id":70724851,"answer_count":1,"score":-1,"last_activity_date":1642288165,"creation_date":1642275080,"question_id":70724741,"body_markdown":"I like to learn about Java&#39;s features by taking a look at the corresponding JEP. Is there a JEP for Java&#39;s [`Optional`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html)? I wasn&#39;t able to find anything searching [this][1] list for Java 8 features.\r\n\r\n\r\n  [1]: https://openjdk.java.net/projects/jdk8/features","title":"Is there a JEP for Optional?","body":"<p>I like to learn about Java's features by taking a look at the corresponding JEP. Is there a JEP for Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>? I wasn't able to find anything searching <a href=\"https://openjdk.java.net/projects/jdk8/features\" rel=\"nofollow noreferrer\">this</a> list for Java 8 features.</p>\n"},{"tags":["java","exception","annotations"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642287657,"creation_date":1642267777,"answer_id":70723750,"question_id":70723653,"body_markdown":"`instanceof` only works with literal classes, not with `Class` objects.  \r\n\r\n# `Class.isInstance`\r\n\r\nYou must call the [`isInstance`][1] method on `Class` class. Do not confuse with `instanceOf`.\r\n\r\n     class0.isInstance(rootCause)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#isInstance(java.lang.Object)","title":"Cannot find the Type of class to use with instanceOf","body":"<p><code>instanceof</code> only works with literal classes, not with <code>Class</code> objects.</p>\n<h1><code>Class.isInstance</code></h1>\n<p>You must call the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#isInstance(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>isInstance</code></a> method on <code>Class</code> class. Do not confuse with <code>instanceOf</code>.</p>\n<pre><code> class0.isInstance(rootCause)\n</code></pre>\n"}],"owner":{"account_id":5705567,"reputation":360,"user_id":4509247,"display_name":"rslj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70723750,"answer_count":1,"score":1,"last_activity_date":1642287657,"creation_date":1642266867,"question_id":70723653,"body_markdown":"I am creating an annotation where I need to match the root cause and then take action. The three classes are passed in the array as fully qualified names like javax.persistence.PersistenceException. When I use these classes in the &quot;instanceOf&quot; which accepts type of the class to match the rootCause, it does not work. I get an error &quot;class0 cannot be resolved to a type&quot;. I also tried class0.getClass() to find the Type. Any advise will be appreciated. \r\n\r\n    public boolean findRootCauseOfException(Throwable throwable, String[] value) {\r\n        Objects.requireNonNull(throwable);\r\n        Throwable rootCause = throwable;\r\n\r\n    Object class0 = null;\r\n    Object class1 = null;\r\n    Object class2 = null;\r\n    \r\n    try {\r\n\t\tclass0 = Class.forName(value[0]);\r\n\t\tclass1 = Class.forName(value[1]);\r\n\t\tclass2 = Class.forName(value[2]);\r\n\t} catch (ClassNotFoundException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n    while (rootCause != null) {\r\n    \tif (rootCause instanceof class0 \r\n    \t\t\t|| rootCause instanceof class1 \r\n    \t\t\t|| rootCause instanceof class2 ) {\r\n    \t\treturn true;\t\r\n    \t}\r\n    \trootCause = rootCause.getCause();\r\n    }\r\n    return false;\r\n}","title":"Cannot find the Type of class to use with instanceOf","body":"<p>I am creating an annotation where I need to match the root cause and then take action. The three classes are passed in the array as fully qualified names like javax.persistence.PersistenceException. When I use these classes in the &quot;instanceOf&quot; which accepts type of the class to match the rootCause, it does not work. I get an error &quot;class0 cannot be resolved to a type&quot;. I also tried class0.getClass() to find the Type. Any advise will be appreciated.</p>\n<pre><code>public boolean findRootCauseOfException(Throwable throwable, String[] value) {\n    Objects.requireNonNull(throwable);\n    Throwable rootCause = throwable;\n\nObject class0 = null;\nObject class1 = null;\nObject class2 = null;\n\ntry {\n    class0 = Class.forName(value[0]);\n    class1 = Class.forName(value[1]);\n    class2 = Class.forName(value[2]);\n} catch (ClassNotFoundException e) {\n    e.printStackTrace();\n}\nwhile (rootCause != null) {\n    if (rootCause instanceof class0 \n            || rootCause instanceof class1 \n            || rootCause instanceof class2 ) {\n        return true;    \n    }\n    rootCause = rootCause.getCause();\n}\nreturn false;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","parsing","stanford-nlp","opennlp"],"answers":[{"tags":[],"owner":{"account_id":3672748,"reputation":3884,"user_id":3059517,"accept_rate":85,"display_name":"Mark Giaconia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1387278175,"creation_date":1386732004,"answer_id":20509895,"question_id":19799428,"body_markdown":"this works for me... you have to use the overloaded show, which internally updates the StringBuffer reference passed in\r\n\r\n\r\n    public void parse(String input){\r\n    InputStream modelIn = null;\r\n    try {\r\n        modelIn = new FileInputStream(&quot;en-parser-chunking.bin&quot;);\r\n      ParserModel model = new ParserModel(modelIn);\r\n        opennlp.tools.parser.Parser parser = ParserFactory.create(model);\r\n        opennlp.tools.parser.Parse topParses[] = ParserTool.parseLine(input, parser, 1);\r\n        for (opennlp.tools.parser.Parse p : topParses){\r\n                \r\n          StringBuilder sb = new StringBuilder(input.length() * 4);\r\n          p.show(sb);\r\n          //sb now contains all the tags\r\n          System.out.println(sb);\r\n    \r\n        }\r\n    }catch (IOException e) {\r\n      e.printStackTrace();\r\n    }finally {\r\n      if (modelIn != null) {\r\n        try {\r\n          modelIn.close();\r\n        }\r\n        catch (IOException e) {\r\n        }\r\n      }\r\n    }\r\n    } \r\n\r\n\r\n\r\n\r\n   \r\n","title":"Cannot convert result of opennlp Parse","body":"<p>this works for me... you have to use the overloaded show, which internally updates the StringBuffer reference passed in</p>\n\n<pre><code>public void parse(String input){\nInputStream modelIn = null;\ntry {\n    modelIn = new FileInputStream(\"en-parser-chunking.bin\");\n  ParserModel model = new ParserModel(modelIn);\n    opennlp.tools.parser.Parser parser = ParserFactory.create(model);\n    opennlp.tools.parser.Parse topParses[] = ParserTool.parseLine(input, parser, 1);\n    for (opennlp.tools.parser.Parse p : topParses){\n\n      StringBuilder sb = new StringBuilder(input.length() * 4);\n      p.show(sb);\n      //sb now contains all the tags\n      System.out.println(sb);\n\n    }\n}catch (IOException e) {\n  e.printStackTrace();\n}finally {\n  if (modelIn != null) {\n    try {\n      modelIn.close();\n    }\n    catch (IOException e) {\n    }\n  }\n}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23952086,"reputation":1,"user_id":17943500,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642287039,"creation_date":1642287039,"answer_id":70726058,"question_id":19799428,"body_markdown":"The solution to this question fails as reported by Greg. It fails because this line reads incorrectly:\r\n\r\n\tStringBuilder sb = new StringBuilder(input.length() * 4);\r\n\r\nIn the OpenNLP toolkit the show() method in the Parse class cannot use a StringBuilder type:\r\n\r\nThe posted solution will work if the StringBuilder type is changed to a StringBuffer type:\r\n\r\n\tStringBuffer sb = new StringBuffer(input.length() * 4);\r\n\r\n\r\nSee: https://opennlp.apache.org/docs/1.9.0/apidocs/opennlp-tools/opennlp/tools/parser/Parse.html#show-java.lang.StringBuffer-\r\n\r\nshow(StringBuffer sb)\r\nAppends the specified string buffer with a string representation of this parse.","title":"Cannot convert result of opennlp Parse","body":"<p>The solution to this question fails as reported by Greg. It fails because this line reads incorrectly:</p>\n<pre><code>StringBuilder sb = new StringBuilder(input.length() * 4);\n</code></pre>\n<p>In the OpenNLP toolkit the show() method in the Parse class cannot use a StringBuilder type:</p>\n<p>The posted solution will work if the StringBuilder type is changed to a StringBuffer type:</p>\n<pre><code>StringBuffer sb = new StringBuffer(input.length() * 4);\n</code></pre>\n<p>See: <a href=\"https://opennlp.apache.org/docs/1.9.0/apidocs/opennlp-tools/opennlp/tools/parser/Parse.html#show-java.lang.StringBuffer-\" rel=\"nofollow noreferrer\">https://opennlp.apache.org/docs/1.9.0/apidocs/opennlp-tools/opennlp/tools/parser/Parse.html#show-java.lang.StringBuffer-</a></p>\n<p>show(StringBuffer sb)\nAppends the specified string buffer with a string representation of this parse.</p>\n"}],"owner":{"account_id":3426113,"reputation":754,"user_id":2871826,"accept_rate":90,"display_name":"Greg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20509895,"answer_count":2,"score":2,"last_activity_date":1642287039,"creation_date":1383687182,"question_id":19799428,"body_markdown":"Im using opennlp&#39;s Parse model to parse a line of input, my code:\r\n    \r\n\r\n    public void parse(String input){\r\n    InputStream modelIn = null;\r\n    try {\r\n        modelIn = new FileInputStream(&quot;en-parser-chunking.bin&quot;);\r\n      ParserModel model = new ParserModel(modelIn);\r\n        opennlp.tools.parser.Parser parser = ParserFactory.create(model);\r\n        opennlp.tools.parser.Parse topParses[] = ParserTool.parseLine(input, parser, 1);\r\n    for (opennlp.tools.parser.Parse p : topParses){\r\n    \t\t\tp.show();\r\n       \r\n                             }\r\n    }catch (IOException e) {\r\n      e.printStackTrace();\r\n    }finally {\r\n      if (modelIn != null) {\r\n        try {\r\n          modelIn.close();\r\n        }\r\n        catch (IOException e) {\r\n        }\r\n      }\r\n    }\r\n    \t}\r\n\r\nif my input is `this is a test line`\r\np.show displays `(TOP (S (NP (DT this)) (VP (VBZ is) (NP (DT a) (NN test) (NN line)))))`\r\nbut p.toString displays `this is a test line` \r\n\r\nhow can i make it the same as p.show?","title":"Cannot convert result of opennlp Parse","body":"<p>Im using opennlp's Parse model to parse a line of input, my code:</p>\n\n<pre><code>public void parse(String input){\nInputStream modelIn = null;\ntry {\n    modelIn = new FileInputStream(\"en-parser-chunking.bin\");\n  ParserModel model = new ParserModel(modelIn);\n    opennlp.tools.parser.Parser parser = ParserFactory.create(model);\n    opennlp.tools.parser.Parse topParses[] = ParserTool.parseLine(input, parser, 1);\nfor (opennlp.tools.parser.Parse p : topParses){\n            p.show();\n\n                         }\n}catch (IOException e) {\n  e.printStackTrace();\n}finally {\n  if (modelIn != null) {\n    try {\n      modelIn.close();\n    }\n    catch (IOException e) {\n    }\n  }\n}\n    }\n</code></pre>\n\n<p>if my input is <code>this is a test line</code>\np.show displays <code>(TOP (S (NP (DT this)) (VP (VBZ is) (NP (DT a) (NN test) (NN line)))))</code>\nbut p.toString displays <code>this is a test line</code> </p>\n\n<p>how can i make it the same as p.show?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1642278328,"post_id":70724862,"comment_id":125030170,"body_markdown":"What is your current solution and why is it too slow? What constitutes &quot;too slow&quot; or &quot;fastest&quot; for you? How many elements will be in the lists?","body":"What is your current solution and why is it too slow? What constitutes &quot;too slow&quot; or &quot;fastest&quot; for you? How many elements will be in the lists?"}],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642280133,"creation_date":1642279515,"answer_id":70725292,"question_id":70724862,"body_markdown":"You have to test all ranges aginst each other. There is no other way. Try this way, although is just one implementation, there are plenty of correct ways to implement it:\r\n\r\n```java\r\npublic boolean isThereOverlapingRanges(List&lt;CustomDateRange&gt; ranges) {\r\n    if (ranges.size() &lt;= 1) {\r\n        return false;\r\n    }\r\n    boolean overlaping = false;\r\n    for(int i = 1; i &lt; ranges.size(); i++) {\r\n        if (isDateInRange(ranges.get(0).start(), ranges.get(i)) ||\r\n            isDateInRange(ranges.get(0).end(), ranges.get(i))) {\r\n                overlaping = true;\r\n                break;\r\n        }\r\n    }\r\n   return overlaping || isThereOverlapingRanges(ranges.subList(1, ranges.size());\r\n}\r\n\r\nprivate boolean isDateInRange(DateTime date, CustomDateRange range) {\r\n    return date.after(range.start()) &amp;&amp; date.before(range.end());\r\n}\r\n```","title":"JAVA : Check if Collection of object with start and end dates are overlapping - best way","body":"<p>You have to test all ranges aginst each other. There is no other way. Try this way, although is just one implementation, there are plenty of correct ways to implement it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isThereOverlapingRanges(List&lt;CustomDateRange&gt; ranges) {\n    if (ranges.size() &lt;= 1) {\n        return false;\n    }\n    boolean overlaping = false;\n    for(int i = 1; i &lt; ranges.size(); i++) {\n        if (isDateInRange(ranges.get(0).start(), ranges.get(i)) ||\n            isDateInRange(ranges.get(0).end(), ranges.get(i))) {\n                overlaping = true;\n                break;\n        }\n    }\n   return overlaping || isThereOverlapingRanges(ranges.subList(1, ranges.size());\n}\n\nprivate boolean isDateInRange(DateTime date, CustomDateRange range) {\n    return date.after(range.start()) &amp;&amp; date.before(range.end());\n}\n</code></pre>\n"}],"owner":{"account_id":3250798,"reputation":35,"user_id":2741150,"display_name":"Racheli Amrusi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1642278288,"accepted_answer_id":70725292,"answer_count":1,"score":-4,"last_activity_date":1642286809,"creation_date":1642276023,"question_id":70724862,"body_markdown":"\r\nI&#39;ve multiple  List of Java-Datetimes with MyCustomDate  object contains  ( start DateTime and end DateTime )  **LocalDateTime with hours and seconds.**\r\n\r\nI need to write function to check if There is Overlapping dates in my list return true \\ false  - **with the best performance** \r\n \r\ncan use java8 (stream functions)\r\n\r\n\r\n","title":"JAVA : Check if Collection of object with start and end dates are overlapping - best way","body":"<p>I've multiple  List of Java-Datetimes with MyCustomDate  object contains  ( start DateTime and end DateTime )  <strong>LocalDateTime with hours and seconds.</strong></p>\n<p>I need to write function to check if There is Overlapping dates in my list return true \\ false  - <strong>with the best performance</strong></p>\n<p>can use java8 (stream functions)</p>\n"},{"tags":["java","xml","eclipse","maven","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642267504,"post_id":70723494,"comment_id":125027671,"body_markdown":"Check the project tag with this: https://maven.apache.org/pom.html","body":"Check the project tag with this: <a href=\"https://maven.apache.org/pom.html\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html</a>"},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1642267530,"post_id":70723494,"comment_id":125027677,"body_markdown":"Don&#39;t post screenshots of code.  Post the code itself as a [mcve].","body":"Don&#39;t post screenshots of code.  Post the code itself as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642267567,"post_id":70723494,"comment_id":125027685,"body_markdown":"First check your project tag and compare it with this: https://maven.apache.org/pom.html second create a package in `src/test/java/&lt;packageName&gt;/` also name the test class different like `XYZTest.java` ...","body":"First check your project tag and compare it with this: <a href=\"https://maven.apache.org/pom.html\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html</a> second create a package in <code>src&#47;test&#47;java&#47;&lt;packageName&gt;&#47;</code> also name the test class different like <code>XYZTest.java</code> ..."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1642270401,"post_id":70723494,"comment_id":125028317,"body_markdown":"The primary error message concerns the pom.xml (&quot;Non-parseable POM ... but got c (position ...)&quot;) - unfortunately neither that error message nor the pom.xml file is shown fully. The remaining error messages (about lambda expressions only supported on source level 1.8 and above and about the non-final local variable) are because the pom.xml cannot be read and therefore maven assumes a source level of 1.7 or below.","body":"The primary error message concerns the pom.xml (&quot;Non-parseable POM ... but got c (position ...)&quot;) - unfortunately neither that error message nor the pom.xml file is shown fully. The remaining error messages (about lambda expressions only supported on source level 1.8 and above and about the non-final local variable) are because the pom.xml cannot be read and therefore maven assumes a source level of 1.7 or below."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642271878,"post_id":70723494,"comment_id":125028701,"body_markdown":"What @ThomasKl&#228;ger says. The source level is assumed of 1.5 (Java 5) when not otherwise specified in the `pom.xml` (see also _Package Explorer_).","body":"What @ThomasKl&#228;ger says. The source level is assumed of 1.5 (Java 5) when not otherwise specified in the <code>pom.xml</code> (see also <i>Package Explorer</i>)."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642272080,"post_id":70723494,"comment_id":125028761,"body_markdown":"@kjhughes Without a screenshot, how would one know what is going on in this case?","body":"@kjhughes Without a screenshot, how would one know what is going on in this case?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1642272641,"post_id":70723494,"comment_id":125028905,"body_markdown":"@howlger without a screen shot the OP would / should include the complete error message (&quot;Non-parseable POM ... but got c (position ...)&quot;) and (since the error message explicitly mentions the POM) also the complete contents of the pom.xml and then we wouldn&#39;t have to deal with a truncated error message and an incomplete excerpt from the pom.xml (because most probably the erroneous part of the pom.xml is in line 24)","body":"@howlger without a screen shot the OP would / should include the complete error message (&quot;Non-parseable POM ... but got c (position ...)&quot;) and (since the error message explicitly mentions the POM) also the complete contents of the pom.xml and then we wouldn&#39;t have to deal with a truncated error message and an incomplete excerpt from the pom.xml (because most probably the erroneous part of the pom.xml is in line 24)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642276974,"post_id":70723494,"comment_id":125029865,"body_markdown":"@kjhughes The screenshot shows more than the code. Please ask for the missing things to add them additionally. You&#39;ve been around long enough to know cases where screenshots has been removed due such comments, making the question unanswerable.","body":"@kjhughes The screenshot shows more than the code. Please ask for the missing things to add them additionally. You&#39;ve been around long enough to know cases where screenshots has been removed due such comments, making the question unanswerable."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642277543,"post_id":70723494,"comment_id":125029992,"body_markdown":"@ThomasKl&#228;ger The question does not even mention an error. So with the screenshot you can ask for the missing things. The error message says there is the text `c` after `&lt;/project&gt;` (please note that the error is dirty).","body":"@ThomasKl&#228;ger The question does not even mention an error. So with the screenshot you can ask for the missing things. The error message says there is the text <code>c</code> after <code>&lt;&#47;project&gt;</code> (please note that the error is dirty)."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":1,"creation_date":1642278952,"post_id":70723494,"comment_id":125030308,"body_markdown":"@howlger:  Your advocacy for screenshots over [mcve] with code and markup posted as text is counterproductive and contrary to site recommendations and norms.  See [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/q/285551/290085)","body":"@howlger:  Your advocacy for screenshots over <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with code and markup posted as text is counterproductive and contrary to site recommendations and norms.  See <a href=\"https://meta.stackoverflow.com/q/285551/290085\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642282555,"post_id":70723494,"comment_id":125031140,"body_markdown":"@kjhughes I&#39;m not advocating one over the other. Please stick to the truth. Every bug report, question, etc. should tell how to reproduce the issue. In this case, only the screenshot gives information that the questioner did not even notice. I&#39;m able to reproduce the issue with the information given by the screenshot. I wouldn&#39;t be able to reproduce the issue without the screenshot. The screenshot here tells not only the content of the `pom.xml`, but also that there is an error, the error location, the error message, the project structure, the Eclipse version and much more.","body":"@kjhughes I&#39;m not advocating one over the other. Please stick to the truth. Every bug report, question, etc. should tell how to reproduce the issue. In this case, only the screenshot gives information that the questioner did not even notice. I&#39;m able to reproduce the issue with the information given by the screenshot. I wouldn&#39;t be able to reproduce the issue without the screenshot. The screenshot here tells not only the content of the <code>pom.xml</code>, but also that there is an error, the error location, the error message, the project structure, the Eclipse version and much more."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642284820,"creation_date":1642283961,"answer_id":70725777,"question_id":70723494,"body_markdown":"In the editor, in line 23 and in the _Problems_ view the **project build error `Non-parseable POM .../pom.xml: in epilog non whitespace content is not allowed but got c (position: END_TAG seen ...`** is shown.\r\n\r\nThe error means you have or had the character `c` after `&lt;/project&gt;` causing the `pom.xml` file become unreadable for Eclipse (non-parseable because of the invalid XML). The screenshot shows that you have already removed the character but did not save the change. So it seems you **just missed** hitting &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt; **to save** the `pom.xml` containing nothing or only whitespace after `&lt;/project&gt;`.","title":"Content is not allowed trailing in this section / lambda expression are allowed at source level 1.8 or above","body":"<p>In the editor, in line 23 and in the <em>Problems</em> view the <strong>project build error <code>Non-parseable POM .../pom.xml: in epilog non whitespace content is not allowed but got c (position: END_TAG seen ...</code></strong> is shown.</p>\n<p>The error means you have or had the character <code>c</code> after <code>&lt;/project&gt;</code> causing the <code>pom.xml</code> file become unreadable for Eclipse (non-parseable because of the invalid XML). The screenshot shows that you have already removed the character but did not save the change. So it seems you <strong>just missed</strong> hitting <kbd>Ctrl</kbd>+<kbd>S</kbd> <strong>to save</strong> the <code>pom.xml</code> containing nothing or only whitespace after <code>&lt;/project&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":22865488,"reputation":39,"user_id":17008933,"display_name":"Bendaoud Simou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642286702,"creation_date":1642286702,"answer_id":70726027,"question_id":70723494,"body_markdown":"I found somewhere that something can mess up the xml for no reason and cause a parsing problem just like i had the solution was kind of complicated for a first timer of an xml and maven dev like me , i&#39;ve deleted the project and recreated a one , with a copy past of the same pom.xml code it works ! well if it does it does . that&#39;s my solution . ","title":"Content is not allowed trailing in this section / lambda expression are allowed at source level 1.8 or above","body":"<p>I found somewhere that something can mess up the xml for no reason and cause a parsing problem just like i had the solution was kind of complicated for a first timer of an xml and maven dev like me , i've deleted the project and recreated a one , with a copy past of the same pom.xml code it works ! well if it does it does . that's my solution .</p>\n"}],"owner":{"account_id":22865488,"reputation":39,"user_id":17008933,"display_name":"Bendaoud Simou"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3691,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70726027,"answer_count":2,"score":0,"last_activity_date":1642286702,"creation_date":1642265553,"question_id":70723494,"body_markdown":"i have the next pom.xml code that i got from my university&#39;s website.And i face the problem in the next picture , i think it&#39;s all because im the pom not working properly so not including the right dependencies ( first time ever using maven and it&#39;s just a prediction) thank you in advance !  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JsSY8.jpg\r\n","title":"Content is not allowed trailing in this section / lambda expression are allowed at source level 1.8 or above","body":"<p>i have the next pom.xml code that i got from my university's website.And i face the problem in the next picture , i think it's all because im the pom not working properly so not including the right dependencies ( first time ever using maven and it's just a prediction) thank you in advance !  <a href=\"https://i.stack.imgur.com/JsSY8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JsSY8.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"score":0,"creation_date":1642274482,"post_id":70724544,"comment_id":125029319,"body_markdown":"It seems like Maven is intentionally generic about this term. Looking at https://maven.apache.org/plugins/maven-site-plugin/examples/creating-content.html, a site is a _static web site_ and the static content includes things such as HTML, CSS, and images that are served up to be viewed.","body":"It seems like Maven is intentionally generic about this term. Looking at <a href=\"https://maven.apache.org/plugins/maven-site-plugin/examples/creating-content.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-site-plugin/examples/&hellip;</a>, a site is a <i>static web site</i> and the static content includes things such as HTML, CSS, and images that are served up to be viewed."}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642285971,"creation_date":1642274274,"answer_id":70724631,"question_id":70724544,"body_markdown":"Maven&#39;s site - is a command for generating documentation for your project. Later after the build is finished you could open it in the browser and navigate to different parts of it. All sources are generated into `target` folder.\r\n\r\nFor running this command you ***have to add the site plugin*** to your pom file first. Otherwise, the build failed.\r\n\r\nThe Maven site lifecycle has two phases bound to the goals of the site plugin by default: the site phase is bound to the site goal, and the site-deploy phase is bound to the deploy goal.\r\n\r\nHere are the descriptions of those goals:\r\n\r\n- ***site***  generate a site for a single project; the generated site only shows information about the artefacts specified in the POM\r\n\r\n- ***deploy***  deploy the generated site to the URL specified in the distributionManagement element of the POM\r\n\r\nIn addition to the site and deploy, the site plugin has several other goals to customize the content of the generated files and to control the deployment process.\r\n\r\n***Useful links***:\r\n\r\n- [Apache Maven Site Plugin](https://maven.apache.org/plugins/maven-site-plugin/)\r\n- [Creating a site](https://maven.apache.org/guides/mini/guide-site.html)","title":"What is a &quot;site&quot; that is created when running the maven site command?","body":"<p>Maven's site - is a command for generating documentation for your project. Later after the build is finished you could open it in the browser and navigate to different parts of it. All sources are generated into <code>target</code> folder.</p>\n<p>For running this command you <em><strong>have to add the site plugin</strong></em> to your pom file first. Otherwise, the build failed.</p>\n<p>The Maven site lifecycle has two phases bound to the goals of the site plugin by default: the site phase is bound to the site goal, and the site-deploy phase is bound to the deploy goal.</p>\n<p>Here are the descriptions of those goals:</p>\n<ul>\n<li><p><em><strong>site</strong></em>  generate a site for a single project; the generated site only shows information about the artefacts specified in the POM</p>\n</li>\n<li><p><em><strong>deploy</strong></em>  deploy the generated site to the URL specified in the distributionManagement element of the POM</p>\n</li>\n</ul>\n<p>In addition to the site and deploy, the site plugin has several other goals to customize the content of the generated files and to control the deployment process.</p>\n<p><em><strong>Useful links</strong></em>:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/plugins/maven-site-plugin/\" rel=\"nofollow noreferrer\">Apache Maven Site Plugin</a></li>\n<li><a href=\"https://maven.apache.org/guides/mini/guide-site.html\" rel=\"nofollow noreferrer\">Creating a site</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642274972,"creation_date":1642274972,"answer_id":70724722,"question_id":70724544,"body_markdown":"It simply means that Maven can generate a website for your project and release it to the public based on the `pom.xml` &#39;s configuration. Internally, it uses [Maven Site Plugin][1] to do it.\r\n\r\nA real life example is the JUnit4 web site. Given this [pom.xml][2], it will then generate this [web site][3].\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-site-plugin/index.html\r\n  [2]: https://github.com/junit-team/junit4/blob/main/pom.xml\r\n  [3]: https://junit.org/junit4/project-info.html","title":"What is a &quot;site&quot; that is created when running the maven site command?","body":"<p>It simply means that Maven can generate a website for your project and release it to the public based on the <code>pom.xml</code> 's configuration. Internally, it uses <a href=\"https://maven.apache.org/plugins/maven-site-plugin/index.html\" rel=\"noreferrer\">Maven Site Plugin</a> to do it.</p>\n<p>A real life example is the JUnit4 web site. Given this <a href=\"https://github.com/junit-team/junit4/blob/main/pom.xml\" rel=\"noreferrer\">pom.xml</a>, it will then generate this <a href=\"https://junit.org/junit4/project-info.html\" rel=\"noreferrer\">web site</a>.</p>\n"}],"owner":{"account_id":23950984,"reputation":41,"user_id":17942569,"display_name":"thenewguy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":70724722,"answer_count":2,"score":3,"last_activity_date":1642285971,"creation_date":1642273610,"question_id":70724544,"body_markdown":"I am new to java and working in a project managed by maven. This is a basic question so I&#39;m sorry, but I like to become familiar with all the terminology. When I google the question it is answered by stating that maven creates a site. What kind of site? What specifically is meant by that?","title":"What is a &quot;site&quot; that is created when running the maven site command?","body":"<p>I am new to java and working in a project managed by maven. This is a basic question so I'm sorry, but I like to become familiar with all the terminology. When I google the question it is answered by stating that maven creates a site. What kind of site? What specifically is meant by that?</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643022093,"post_id":70725965,"comment_id":125220822,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":16755116,"reputation":61,"user_id":12111233,"display_name":"Amanullah Galib"},"score":0,"creation_date":1643127341,"post_id":70725965,"comment_id":125254698,"body_markdown":"I&#39;m just getting that error with no details. All I can do is provide the full log file.","body":"I&#39;m just getting that error with no details. All I can do is provide the full log file."}],"owner":{"account_id":16755116,"reputation":61,"user_id":12111233,"display_name":"Amanullah Galib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642285924,"creation_date":1642285924,"question_id":70725965,"body_markdown":"Getting Error:\r\n&quot;Gradle sync failed: Sync failed: reason unknown&quot; \r\nwhile trying to sync an android folder of a react-native repo in android studio.\r\n\r\nJava:\r\njava version &quot;1.8.0_311&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_311-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.311-b11, mixed mode)\r\n\r\nAndroid Gradle Plugin Version - 4.1.3\r\nGradle Version - 6.9\r\n\r\nI didn&#39;t get any specific error description. I have tried by changing the Gradle version and java version, android studio reinstall.","title":"Android Studio: &quot;Gradle sync failed: Sync failed: reason unknown&quot;","body":"<p>Getting Error:\n&quot;Gradle sync failed: Sync failed: reason unknown&quot;\nwhile trying to sync an android folder of a react-native repo in android studio.</p>\n<p>Java:\njava version &quot;1.8.0_311&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_311-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.311-b11, mixed mode)</p>\n<p>Android Gradle Plugin Version - 4.1.3\nGradle Version - 6.9</p>\n<p>I didn't get any specific error description. I have tried by changing the Gradle version and java version, android studio reinstall.</p>\n"},{"tags":["java","abstract-class"],"comments":[{"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"score":0,"creation_date":1325587190,"post_id":8710923,"comment_id":10841240,"body_markdown":"You can clarify a bit your question. Do you want your abstract class to call its abstract method from another, non-abstract method?","body":"You can clarify a bit your question. Do you want your abstract class to call its abstract method from another, non-abstract method?"}],"answers":[{"tags":[],"owner":{"account_id":1096713,"reputation":1984,"user_id":1090159,"accept_rate":83,"display_name":"Davos555"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1325865931,"creation_date":1325587118,"answer_id":8710965,"question_id":8710923,"body_markdown":"You need to first create a subclass of the abstract class. This will then contain the methods of that abstract class. You use the &quot;extends&quot; keyword.\r\n\r\nFor example:\r\n\r\n    public class MyClass extends AbstractClass \r\n    {\r\n       //class content here...\r\n    }\r\n\r\n","title":"How to call abstract class methods to another class in java","body":"<p>You need to first create a subclass of the abstract class. This will then contain the methods of that abstract class. You use the \"extends\" keyword.</p>\n\n<p>For example:</p>\n\n<pre><code>public class MyClass extends AbstractClass \n{\n   //class content here...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":371575,"reputation":13174,"user_id":720176,"accept_rate":75,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325587170,"creation_date":1325587170,"answer_id":8710971,"question_id":8710923,"body_markdown":"since abstract classes cant be instanciated in Java, You cant have member functions in this class and if you want to have one than their is a logical problem. However if you want to call the static methods, you can simply call them using class name, i.e.\r\n\r\n    YourClassName.fuctionName(parameters if any);","title":"How to call abstract class methods to another class in java","body":"<p>since abstract classes cant be instanciated in Java, You cant have member functions in this class and if you want to have one than their is a logical problem. However if you want to call the static methods, you can simply call them using class name, i.e.</p>\n\n<pre><code>YourClassName.fuctionName(parameters if any);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142844,"reputation":304,"user_id":350801,"display_name":"isioutis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325587604,"creation_date":1325587260,"answer_id":8710991,"question_id":8710923,"body_markdown":"Do you mean how to implement that method in your class ? \r\nif that is what you want to understand \r\nthen you just have to extend your class with the abstract one \r\n\r\nfor example \r\n\r\nabstract class GraphicObject {....}\r\n\r\nclass Circle extends GraphicObject { ... } \r\n\r\n\r\ntry http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html ","title":"How to call abstract class methods to another class in java","body":"<p>Do you mean how to implement that method in your class ? \nif that is what you want to understand \nthen you just have to extend your class with the abstract one </p>\n\n<p>for example </p>\n\n<p>abstract class GraphicObject {....}</p>\n\n<p>class Circle extends GraphicObject { ... } </p>\n\n<p>try <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a> </p>\n"},{"tags":[],"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1325587705,"creation_date":1325587705,"answer_id":8711091,"question_id":8710923,"body_markdown":"First of all look at you abstract class, it shall contain abstract methods and real methods. In the following sample the Foo class has an abstract method (FooMethod) and a real method (Yeee).\r\n\r\n    public abstract class Foo {\r\n    \r\n      public abstract int FooMethod(int i);\r\n    \r\n      public int Yeeee() {\r\n        for (int i = 0; i &lt; 3; i++) {\r\n           int res = FooMethod(i);\r\n           // Do whatever\r\n        }\r\n      }\r\n    }\r\n    \r\nAbstract class are not meant to be directly used, so we have to inherit from them with a concrete class. The following inherits from the abstract (implementing the abstract method)\r\n    \r\n    public class Bar extends Foo {\r\n      public int FooMethod(int i) {\r\n        // do something with i\r\n      }\r\n\r\n      public static void main (string [] args) {\r\n          Bar obj = new Bar();\r\n          obj.Yeeee();\r\n      }\r\n    }\r\n\r\nNote: when in the main you call obj.Yeee() the base class method gets invoked, but in place of the abstract FooMethod, your own new implementation is used.\r\n\r\nThis is just the tip of the iceberg with abstract classes, but roughly should point you to the right direction.\r\n\r\n\r\nPlease take a good read [here][1] is a good tutorial and should give you some initial wisdom about inheritance and abstract classes.\r\n\r\n\r\n  [1]: http://www.java-samples.com/showtutorial.php?tutorialid=288","title":"How to call abstract class methods to another class in java","body":"<p>First of all look at you abstract class, it shall contain abstract methods and real methods. In the following sample the Foo class has an abstract method (FooMethod) and a real method (Yeee).</p>\n\n<pre><code>public abstract class Foo {\n\n  public abstract int FooMethod(int i);\n\n  public int Yeeee() {\n    for (int i = 0; i &lt; 3; i++) {\n       int res = FooMethod(i);\n       // Do whatever\n    }\n  }\n}\n</code></pre>\n\n<p>Abstract class are not meant to be directly used, so we have to inherit from them with a concrete class. The following inherits from the abstract (implementing the abstract method)</p>\n\n<pre><code>public class Bar extends Foo {\n  public int FooMethod(int i) {\n    // do something with i\n  }\n\n  public static void main (string [] args) {\n      Bar obj = new Bar();\n      obj.Yeeee();\n  }\n}\n</code></pre>\n\n<p>Note: when in the main you call obj.Yeee() the base class method gets invoked, but in place of the abstract FooMethod, your own new implementation is used.</p>\n\n<p>This is just the tip of the iceberg with abstract classes, but roughly should point you to the right direction.</p>\n\n<p>Please take a good read <a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=288\" rel=\"noreferrer\">here</a> is a good tutorial and should give you some initial wisdom about inheritance and abstract classes.</p>\n"},{"tags":[],"owner":{"account_id":1064596,"reputation":5404,"user_id":1065489,"accept_rate":52,"display_name":"me_digvijay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325587806,"creation_date":1325587806,"answer_id":8711114,"question_id":8710923,"body_markdown":"For methods in abstract classes you need not to create the instance of the abstract class\r\nSo after importing the package in which the abstract class is present you can just call the method as below\r\n\r\nYourAbstractClassName.methodName(args if any);","title":"How to call abstract class methods to another class in java","body":"<p>For methods in abstract classes you need not to create the instance of the abstract class\nSo after importing the package in which the abstract class is present you can just call the method as below</p>\n\n<p>YourAbstractClassName.methodName(args if any);</p>\n"},{"tags":[],"owner":{"account_id":23951925,"reputation":1,"user_id":17943366,"display_name":"Subhasis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642284932,"creation_date":1642284932,"answer_id":70725863,"question_id":8710923,"body_markdown":"You can call the method in abstract class  by creating an \r\nobject of subclasss of the abstract class \r\nor\r\n if u want to call from the abstract class then you have to make your method static then you can call from main method like \r\nAbstract_className.methodName()","title":"How to call abstract class methods to another class in java","body":"<p>You can call the method in abstract class  by creating an\nobject of subclasss of the abstract class\nor\nif u want to call from the abstract class then you have to make your method static then you can call from main method like\nAbstract_className.methodName()</p>\n"}],"owner":{"account_id":1100806,"reputation":357,"user_id":1093242,"accept_rate":56,"display_name":"shiv1229"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98824,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":8710965,"answer_count":6,"score":8,"last_activity_date":1642284932,"creation_date":1325586938,"question_id":8710923,"body_markdown":"can anybody tell me that. how can I call abstract class method to my own class in java?\r\n\r\nthanks in advance","title":"How to call abstract class methods to another class in java","body":"<p>can anybody tell me that. how can I call abstract class method to my own class in java?</p>\n\n<p>thanks in advance</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":5712216,"reputation":105,"user_id":4513795,"accept_rate":62,"display_name":"moorker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642282966,"creation_date":1642282966,"answer_id":70725678,"question_id":70675562,"body_markdown":"(Solved) My solution: I can getting and using string via this solution.\r\n\r\n    Private String strdate;\r\n    ...\r\n    \r\n    public void getstrdate(String rdate) {\r\n\r\n        strdate = rdate;\r\n        Toast.makeText(getApplicationContext(), strdate, Toast.LENGTH_LONG).show();\r\n\r\n    }\r\n\r\n    SNTPClient.getDate(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;), new SNTPClient.Listener() {\r\n    \r\n        @Override\r\n        public void onTimeResponse(String rawDate, Date date, Exception ex) {\r\n        \r\n             getstrdate(rawDate);\r\n    \r\n        }\r\n    });","title":"How can I get string from onTimeResponse via SNTPClient?","body":"<p>(Solved) My solution: I can getting and using string via this solution.</p>\n<pre><code>Private String strdate;\n...\n\npublic void getstrdate(String rdate) {\n\n    strdate = rdate;\n    Toast.makeText(getApplicationContext(), strdate, Toast.LENGTH_LONG).show();\n\n}\n\nSNTPClient.getDate(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;), new SNTPClient.Listener() {\n\n    @Override\n    public void onTimeResponse(String rawDate, Date date, Exception ex) {\n    \n         getstrdate(rawDate);\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":5712216,"reputation":105,"user_id":4513795,"accept_rate":62,"display_name":"moorker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70725678,"answer_count":1,"score":0,"last_activity_date":1642282966,"creation_date":1641953502,"question_id":70675562,"body_markdown":"I use SNTPClient: https://github.com/aslamanver/sntp-client-android\r\n\r\nand this Toast is giving true rawDate result.\r\n\r\n    SNTPClient.getDate(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;), new SNTPClient.Listener() {\r\n    \r\n        @Override\r\n        public void onTimeResponse(String rawDate, Date date, Exception ex) {\r\n        \r\n        Toast.makeText(getApplicationContext(), rawDate, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n    });\r\n\r\nBut, this Toast is giving null result.\r\n\r\n    Private String strdate;\r\n    ...\r\n\r\n    SNTPClient.getDate(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;), new SNTPClient.Listener() {\r\n    \r\n        @Override\r\n        public void onTimeResponse(String rawDate, Date date, Exception ex) {\r\n        \r\n        strdate = rawDate;\r\n\r\n        }\r\n    });\r\n\r\n    Toast.makeText(getApplicationContext(), strdate, Toast.LENGTH_LONG).show();\r\n\r\nHow can I get string from onTimeResponse via SNTPClient?","title":"How can I get string from onTimeResponse via SNTPClient?","body":"<p>I use SNTPClient: <a href=\"https://github.com/aslamanver/sntp-client-android\" rel=\"nofollow noreferrer\">https://github.com/aslamanver/sntp-client-android</a></p>\n<p>and this Toast is giving true rawDate result.</p>\n<pre><code>SNTPClient.getDate(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;), new SNTPClient.Listener() {\n\n    @Override\n    public void onTimeResponse(String rawDate, Date date, Exception ex) {\n    \n    Toast.makeText(getApplicationContext(), rawDate, Toast.LENGTH_LONG).show();\n\n    }\n});\n</code></pre>\n<p>But, this Toast is giving null result.</p>\n<pre><code>Private String strdate;\n...\n\nSNTPClient.getDate(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;), new SNTPClient.Listener() {\n\n    @Override\n    public void onTimeResponse(String rawDate, Date date, Exception ex) {\n    \n    strdate = rawDate;\n\n    }\n});\n\nToast.makeText(getApplicationContext(), strdate, Toast.LENGTH_LONG).show();\n</code></pre>\n<p>How can I get string from onTimeResponse via SNTPClient?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1506530,"reputation":1001,"user_id":1409784,"display_name":"Nigel Savage"},"score":0,"creation_date":1642282545,"post_id":70723445,"comment_id":125031139,"body_markdown":"did you look inside the ,m2 dir and check everything is correct? That is the jar is in the correct place and all the other paths like ~/,m2/tileowner/tileowner/1.0.0/&lt;non empty jar&gt; exist ?","body":"did you look inside the ,m2 dir and check everything is correct? That is the jar is in the correct place and all the other paths like ~/,m2/tileowner/tileowner/1.0.0/&lt;non empty jar&gt; exist ?"},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1642282743,"post_id":70723445,"comment_id":125031191,"body_markdown":"No, looking now and I don&#39;t see it. Although I also don&#39;t see an unrelated library with the same package structure that I&#39;ve used just fine there either.","body":"No, looking now and I don&#39;t see it. Although I also don&#39;t see an unrelated library with the same package structure that I&#39;ve used just fine there either."},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1642283128,"post_id":70723445,"comment_id":125031273,"body_markdown":"One difference I notice is the repo URL is longer for this library than my last one. `https://repsy.io/mvn/viveleroi/tileowner/network/darkhelmet/tileowner/tileowner/1.0.0/` vs `https://repsy.io/mvn/viveleroi/oracle-api/network/darkhelmet/oracle-api/1.0.0-SNAPSHOT/` - gradle doesn&#39;t complain so idk if that would be a problem but the second address works","body":"One difference I notice is the repo URL is longer for this library than my last one. <code>https:&#47;&#47;repsy.io&#47;mvn&#47;viveleroi&#47;tileowner&#47;network&#47;darkhelmet&#47;&zwnj;&#8203;tileowner&#47;tileowner&#47;&zwnj;&#8203;1.0.0&#47;</code> vs <code>https:&#47;&#47;repsy.io&#47;mvn&#47;viveleroi&#47;oracle-api&#47;network&#47;darkhelmet&zwnj;&#8203;&#47;oracle-api&#47;1.0.0-SN&zwnj;&#8203;APSHOT&#47;</code> - gradle doesn&#39;t complain so idk if that would be a problem but the second address works"},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1642284023,"post_id":70723445,"comment_id":125031485,"body_markdown":"Ok the URL issue was because my package name on the published lib was longer than it needed to be. However even after fixing that and updating my gradle.build, the code is not available locally.","body":"Ok the URL issue was because my package name on the published lib was longer than it needed to be. However even after fixing that and updating my gradle.build, the code is not available locally."},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1642284416,"post_id":70723445,"comment_id":125031568,"body_markdown":"I don&#39;t think something missing from m2 is entirely the problem though, because another app I have uses `compileOnly &#39;network.darkhelmet:oracle-api:1.0.0-SNAPSHOT&#39;` and it compiles fine, and there&#39;s no `network` directory in the `.m2/repositories/` path. I do see that project in the external libraries list in IntelliJ though, and I don&#39;t see that with this library.","body":"I don&#39;t think something missing from m2 is entirely the problem though, because another app I have uses <code>compileOnly &#39;network.darkhelmet:oracle-api:1.0.0-SNAPSHOT&#39;</code> and it compiles fine, and there&#39;s no <code>network</code> directory in the <code>.m2&#47;repositories&#47;</code> path. I do see that project in the external libraries list in IntelliJ though, and I don&#39;t see that with this library."},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1642286043,"post_id":70723445,"comment_id":125031916,"body_markdown":"Gradle even lists my lib in the &quot;compile classpath for source set &#39;main&#39;`: `+-- network.darkhelmet:tileowner:1.0.0`","body":"Gradle even lists my lib in the &quot;compile classpath for source set &#39;main&#39;<code>: </code>+-- network.darkhelmet:tileowner:1.0.0`"},{"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"score":0,"creation_date":1642289154,"post_id":70723445,"comment_id":125032404,"body_markdown":"Ok, it definitely is related to the library publishing the `-all` shaded jar. I removed the shading and re-published and now it works.","body":"Ok, it definitely is related to the library publishing the <code>-all</code> shaded jar. I removed the shading and re-published and now it works."}],"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642282487,"creation_date":1642265150,"question_id":70723445,"body_markdown":"I published a small library of mine to a free maven hosting service, and am using that package in another project. I&#39;ve done this before without issue but something isn&#39;t working this time. \r\n\r\nGradle finds the file just fine, and downloads it I assume. I know this because any change to the URL, package name, or version, and Gradle throws the &quot;can&#39;t find the dep in any of these places&quot; error.\r\n\r\nHowever, any `import` of the packages in this JAR error, saying it can&#39;t find the package. IntelliJ, when I refresh gradle deps, also doesn&#39;t show my library in the &quot;External Libraries&quot; section.\r\n\r\nHere&#39;s my gradle.build for the project I&#39;m using the library in:\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\n\r\nrepositories {\r\n\r\n    maven { url = &#39;https://repo.repsy.io/mvn/viveleroi/tileowner&#39; }\r\n}\r\n\r\ngroup = project.property(&quot;group&quot;)\r\nversion = project.property(&quot;version&quot;)\r\n\r\ndependencies {\r\n    compileOnly &#39;network.darkhelmet.tileowner:tileowner:1.0.0&#39;\r\n}\r\n\r\ncompileJava {\r\n    options.compilerArgs += [&quot;-parameters&quot;]\r\n    options.fork = true\r\n    options.forkOptions.executable = &#39;javac&#39;\r\n}\r\n```\r\n\r\nThe test class:\r\n\r\n```\r\nimport network.darkhelmet.tileowner.TileOwner;\r\n\r\npublic class Demo {}\r\n```\r\n\r\nGradle says it&#39;s on the classpath:\r\n\r\n```\r\ncompileClasspath - Compile classpath for source set &#39;main&#39;.\r\n\\--- network.darkhelmet.tileowner:tileowner:1.0.0\r\n\r\ncompileOnly - Compile only dependencies for source set &#39;main&#39;. (n)\r\n\\--- network.darkhelmet.tileowner:tileowner:1.0.0 (n)\r\n```\r\n\r\nI&#39;ve downloaded the published jar of my library from that repository, unzipped it, and have confirmed all files are in there as expected.\r\n\r\nHere&#39;s the build.gradle of my library project:\r\n\r\n```\r\nimport org.apache.tools.ant.filters.ReplaceTokens\r\n\r\nbuildscript {\r\n    dependencies {\r\n        classpath group: &#39;com.github.rodionmoiseev.gradle.plugins&#39;, name: &#39;idea-utils&#39;, version: &#39;0.2&#39;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.0.0&quot;\r\n    id &quot;xyz.jpenilla.run-paper&quot; version &quot;1.0.6&quot;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;idea&#39;\r\napply plugin: &#39;idea-utils&#39;\r\napply plugin: &#39;checkstyle&#39;\r\n\r\nprocessResources {\r\n    filter ReplaceTokens, tokens: [\r\n        &quot;apiversion&quot;: project.property(&quot;apiversion&quot;),\r\n        &quot;version&quot;   : project.property(&quot;version&quot;)\r\n    ]\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n\r\n    maven { url = &quot;https://repo.aikar.co/content/groups/aikar/&quot; }\r\n    maven { url = &#39;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&#39; }\r\n}\r\n\r\ngroup = project.property(&quot;group&quot;)\r\nversion = project.property(&quot;version&quot;)\r\ntargetCompatibility = sourceCompatibility = JavaVersion.VERSION_17\r\n\r\ndependencies {\r\n    compileOnly &#39;org.spigotmc:spigot-api:1.18-R0.1-SNAPSHOT&#39;\r\n    implementation &#39;co.aikar:acf-bukkit:0.5.0-SNAPSHOT&#39;\r\n}\r\n\r\ncompileJava {\r\n    options.compilerArgs += [&quot;-parameters&quot;]\r\n    options.fork = true\r\n    options.forkOptions.executable = &#39;javac&#39;\r\n}\r\n\r\njar {\r\n    actions = []\r\n    dependsOn = []\r\n    dependsOn(&#39;shadowJar&#39;)\r\n}\r\n\r\nshadowJar {\r\n    relocate &#39;co.aikar.commands&#39;, &#39;network.darkhelmet.tileowner.acf&#39;\r\n    relocate &#39;co.aikar.locales&#39;, &#39;network.darkhelmet.tileowner.locales&#39;\r\n}\r\n\r\npublishing {\r\n    publications {\r\n        shadow(MavenPublication) { publication -&gt;\r\n            project.shadow.component(publication)\r\n        }\r\n    }\r\n\r\n    repositories {\r\n        maven {\r\n            name = &#39;repsy&#39;\r\n            url = &#39;https://repo.repsy.io/mvn/viveleroi/tileowner&#39;\r\n            credentials(PasswordCredentials)\r\n        }\r\n    }\r\n}\r\n```","title":"Gradle dependency downloads but packages aren&#39;t available in project","body":"<p>I published a small library of mine to a free maven hosting service, and am using that package in another project. I've done this before without issue but something isn't working this time.</p>\n<p>Gradle finds the file just fine, and downloads it I assume. I know this because any change to the URL, package name, or version, and Gradle throws the &quot;can't find the dep in any of these places&quot; error.</p>\n<p>However, any <code>import</code> of the packages in this JAR error, saying it can't find the package. IntelliJ, when I refresh gradle deps, also doesn't show my library in the &quot;External Libraries&quot; section.</p>\n<p>Here's my gradle.build for the project I'm using the library in:</p>\n<pre><code>apply plugin: 'java'\n\nrepositories {\n\n    maven { url = 'https://repo.repsy.io/mvn/viveleroi/tileowner' }\n}\n\ngroup = project.property(&quot;group&quot;)\nversion = project.property(&quot;version&quot;)\n\ndependencies {\n    compileOnly 'network.darkhelmet.tileowner:tileowner:1.0.0'\n}\n\ncompileJava {\n    options.compilerArgs += [&quot;-parameters&quot;]\n    options.fork = true\n    options.forkOptions.executable = 'javac'\n}\n</code></pre>\n<p>The test class:</p>\n<pre><code>import network.darkhelmet.tileowner.TileOwner;\n\npublic class Demo {}\n</code></pre>\n<p>Gradle says it's on the classpath:</p>\n<pre><code>compileClasspath - Compile classpath for source set 'main'.\n\\--- network.darkhelmet.tileowner:tileowner:1.0.0\n\ncompileOnly - Compile only dependencies for source set 'main'. (n)\n\\--- network.darkhelmet.tileowner:tileowner:1.0.0 (n)\n</code></pre>\n<p>I've downloaded the published jar of my library from that repository, unzipped it, and have confirmed all files are in there as expected.</p>\n<p>Here's the build.gradle of my library project:</p>\n<pre><code>import org.apache.tools.ant.filters.ReplaceTokens\n\nbuildscript {\n    dependencies {\n        classpath group: 'com.github.rodionmoiseev.gradle.plugins', name: 'idea-utils', version: '0.2'\n    }\n}\n\nplugins {\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.0.0&quot;\n    id &quot;xyz.jpenilla.run-paper&quot; version &quot;1.0.6&quot;\n    id 'maven-publish'\n}\n\napply plugin: 'java'\napply plugin: 'idea'\napply plugin: 'idea-utils'\napply plugin: 'checkstyle'\n\nprocessResources {\n    filter ReplaceTokens, tokens: [\n        &quot;apiversion&quot;: project.property(&quot;apiversion&quot;),\n        &quot;version&quot;   : project.property(&quot;version&quot;)\n    ]\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n\n    maven { url = &quot;https://repo.aikar.co/content/groups/aikar/&quot; }\n    maven { url = 'https://hub.spigotmc.org/nexus/content/repositories/snapshots/' }\n}\n\ngroup = project.property(&quot;group&quot;)\nversion = project.property(&quot;version&quot;)\ntargetCompatibility = sourceCompatibility = JavaVersion.VERSION_17\n\ndependencies {\n    compileOnly 'org.spigotmc:spigot-api:1.18-R0.1-SNAPSHOT'\n    implementation 'co.aikar:acf-bukkit:0.5.0-SNAPSHOT'\n}\n\ncompileJava {\n    options.compilerArgs += [&quot;-parameters&quot;]\n    options.fork = true\n    options.forkOptions.executable = 'javac'\n}\n\njar {\n    actions = []\n    dependsOn = []\n    dependsOn('shadowJar')\n}\n\nshadowJar {\n    relocate 'co.aikar.commands', 'network.darkhelmet.tileowner.acf'\n    relocate 'co.aikar.locales', 'network.darkhelmet.tileowner.locales'\n}\n\npublishing {\n    publications {\n        shadow(MavenPublication) { publication -&gt;\n            project.shadow.component(publication)\n        }\n    }\n\n    repositories {\n        maven {\n            name = 'repsy'\n            url = 'https://repo.repsy.io/mvn/viveleroi/tileowner'\n            credentials(PasswordCredentials)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","throw","multi-catch"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1642280403,"post_id":70725354,"comment_id":125030624,"body_markdown":"You might want to look at https://stackoverflow.com/questions/14137989/java-division-by-zero-doesnt-throw-an-arithmeticexception-why","body":"You might want to look at <a href=\"https://stackoverflow.com/questions/14137989/java-division-by-zero-doesnt-throw-an-arithmeticexception-why\" title=\"java division by zero doesnt throw an arithmeticexception why\">stackoverflow.com/questions/14137989/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23507206,"reputation":1,"user_id":17556286,"display_name":"Massimo Gaddini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642282055,"creation_date":1642282055,"answer_id":70725583,"question_id":70725354,"body_markdown":"If y is 0 then z is Double.POSITIVE_INFINITY or Double.NEGATIVE_INFINITY (depend on x sign). No Exception is thrown.\r\nIn your example, z is Double.POSITIVE_INFINITY that it is greater than 0.01, so no MyClassEx exception is thrown. ","title":"After using a explicit throw keyword ,why the other implicit throw is not working in case of multiple catch statement?","body":"<p>If y is 0 then z is Double.POSITIVE_INFINITY or Double.NEGATIVE_INFINITY (depend on x sign). No Exception is thrown.\nIn your example, z is Double.POSITIVE_INFINITY that it is greater than 0.01, so no MyClassEx exception is thrown.</p>\n"}],"owner":{"account_id":19218733,"reputation":1,"user_id":14043008,"display_name":"Debolina Halder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1642294726,"answer_count":1,"score":-1,"last_activity_date":1642282055,"creation_date":1642280181,"question_id":70725354,"body_markdown":"In this programe MyclassEx is child class of Exception(java.lang.Exception).we create user define exception.In the class contain a parameterized constructor who pass its argument to super class that is Exception class.outside this class I declare another class SimpleThrow.here i take input of two variable x,y of double type.and Z is divident of x,y.if i take y as zero it should throw the control to catch(ArithmeticException e)block.but it do not throw any of the catch block except the user defined Exception i.e,MyclassEx.How can I make all catch block active with the Myclass exception?  \r\n\r\n    import java.lang.Exception;\r\n    import java.util.*;\r\n    class MyclassEx extends Exception{\r\n        MyclassEx(String msg)\r\n        {\r\n            super(msg);\r\n            System.out.println(msg);\r\n        }\r\n    }\r\n    public class SimpleThrow\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            \r\n            try\r\n            {\r\n                double x=0,y=0,z=0;\r\n                Scanner sc=new Scanner(System.in);\r\n                System.out.print(&quot;Enter two numbers:&quot;);\r\n                x=sc.nextDouble();\r\n                y=sc.nextDouble();\r\n                z=x/y;\r\n                    \r\n                    if(z&lt;0.01)\r\n                    {\r\n                        **throw new MyclassEx(&quot;Number is too small&quot;);**\r\n                    }  \r\n            }\r\n            catch(MyclassEx e)\r\n            {\r\n                System.out.println(&quot;caught exception&quot;);\r\n                    \r\n            }\r\n            catch(ArithmeticException obj)\r\n            {\r\n                System.out.println(&quot;division not possible BY 0&quot;);\r\n            }\r\n            catch(InputMismatchException e2)\r\n            {\r\n                System.out.println(&quot;you have entered wrong key:&quot;);\r\n            }\r\n            finally\r\n            {\r\n                System.out.println(&quot;yoo&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n&gt;     D:\\debolina\\java\\Error_handling&gt;javac SimpleThrow.java\r\n&gt;     \r\n&gt;     D:\\debolina\\java\\Error_handling&gt;java SimpleThrow       \r\n&gt;     Enter two numbers:45\r\n&gt;     0\r\n&gt;     yoo\r\n\r\n","title":"After using a explicit throw keyword ,why the other implicit throw is not working in case of multiple catch statement?","body":"<p>In this programe MyclassEx is child class of Exception(java.lang.Exception).we create user define exception.In the class contain a parameterized constructor who pass its argument to super class that is Exception class.outside this class I declare another class SimpleThrow.here i take input of two variable x,y of double type.and Z is divident of x,y.if i take y as zero it should throw the control to catch(ArithmeticException e)block.but it do not throw any of the catch block except the user defined Exception i.e,MyclassEx.How can I make all catch block active with the Myclass exception?</p>\n<pre><code>import java.lang.Exception;\nimport java.util.*;\nclass MyclassEx extends Exception{\n    MyclassEx(String msg)\n    {\n        super(msg);\n        System.out.println(msg);\n    }\n}\npublic class SimpleThrow\n{\n    public static void main(String[] args)\n    {\n        \n        try\n        {\n            double x=0,y=0,z=0;\n            Scanner sc=new Scanner(System.in);\n            System.out.print(&quot;Enter two numbers:&quot;);\n            x=sc.nextDouble();\n            y=sc.nextDouble();\n            z=x/y;\n                \n                if(z&lt;0.01)\n                {\n                    **throw new MyclassEx(&quot;Number is too small&quot;);**\n                }  \n        }\n        catch(MyclassEx e)\n        {\n            System.out.println(&quot;caught exception&quot;);\n                \n        }\n        catch(ArithmeticException obj)\n        {\n            System.out.println(&quot;division not possible BY 0&quot;);\n        }\n        catch(InputMismatchException e2)\n        {\n            System.out.println(&quot;you have entered wrong key:&quot;);\n        }\n        finally\n        {\n            System.out.println(&quot;yoo&quot;);\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<pre><code>D:\\debolina\\java\\Error_handling&gt;javac SimpleThrow.java\n\nD:\\debolina\\java\\Error_handling&gt;java SimpleThrow       \nEnter two numbers:45\n0\nyoo\n</code></pre>\n</blockquote>\n"},{"tags":["java","mongodb","spring-boot","tomcat"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1642177783,"post_id":70684612,"comment_id":125009550,"body_markdown":"Do you have logback-classic-1.1.11.jar in the classpath? As a side note, version 1.1.11 is marked as vulnerable (as you can see [here](https://mvnrepository.com/artifact/ch.qos.logback/logback-classic)).","body":"Do you have logback-classic-1.1.11.jar in the classpath? As a side note, version 1.1.11 is marked as vulnerable (as you can see <a href=\"https://mvnrepository.com/artifact/ch.qos.logback/logback-classic\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":2768425,"reputation":490,"user_id":2383556,"display_name":"Josh Balcitis"},"score":0,"creation_date":1642181596,"post_id":70684612,"comment_id":125011078,"body_markdown":"@Olivier I have since removed the version number from the declaration in the pom file so the project is now using 1.2.7 by default.","body":"@Olivier I have since removed the version number from the declaration in the pom file so the project is now using 1.2.7 by default."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1642182197,"post_id":70684612,"comment_id":125011323,"body_markdown":"And do you get logback-classic-1.2.7.jar? Is it present in the `lib` directory of your webapp in Tomcat?","body":"And do you get logback-classic-1.2.7.jar? Is it present in the <code>lib</code> directory of your webapp in Tomcat?"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1642182341,"post_id":70684612,"comment_id":125011365,"body_markdown":"you have not assembled your build bundle, war, correctly. it&#39;s not issue with logging but your war building, but since you haven&#39;t provided your build script or more details about your build process we can&#39;t know what it is.","body":"you have not assembled your build bundle, war, correctly. it&#39;s not issue with logging but your war building, but since you haven&#39;t provided your build script or more details about your build process we can&#39;t know what it is."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642184407,"post_id":70684612,"comment_id":125012154,"body_markdown":"Those errors appear **after** your application has already stopped or more probably failed to start. What is the **first** error? If it is a listener error, it might be in `localhost.&lt;date&gt;.log`.","body":"Those errors appear <b>after</b> your application has already stopped or more probably failed to start. What is the <b>first</b> error? If it is a listener error, it might be in <code>localhost.&lt;date&gt;.log</code>."},{"owner":{"account_id":2768425,"reputation":490,"user_id":2383556,"display_name":"Josh Balcitis"},"score":0,"creation_date":1642196323,"post_id":70684612,"comment_id":125015776,"body_markdown":"I have updated the question with my project&#39;s pom file as well as a readout of the localhost.log file","body":"I have updated the question with my project&#39;s pom file as well as a readout of the localhost.log file"},{"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"score":0,"creation_date":1642197420,"post_id":70684612,"comment_id":125016110,"body_markdown":"There is a known bug for the issue which happens in Spring Boot 2.6.1. You can upgrade the Spring Boot to 2.6.2. I believe it should fix.","body":"There is a known bug for the issue which happens in Spring Boot 2.6.1. You can upgrade the Spring Boot to 2.6.2. I believe it should fix."},{"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"score":0,"creation_date":1642197866,"post_id":70684612,"comment_id":125016226,"body_markdown":"Arent you using MongoDb dependency in your pom? Try using spring-boot-starter-data-mongodb in pom","body":"Arent you using MongoDb dependency in your pom? Try using spring-boot-starter-data-mongodb in pom"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1642348087,"post_id":70684612,"comment_id":125041609,"body_markdown":"#1 Did you solve your problem? You have several errors. Try to **stabilize the localhost before deploy it** on a server. #2 enable verbose log with `debug=true` on spring boot application.properties. #3 How are you running the app on your localhost? #4 Are your local workspace on windows?","body":"#1 Did you solve your problem? You have several errors. Try to <b>stabilize the localhost before deploy it</b> on a server. #2 enable verbose log with <code>debug=true</code> on spring boot application.properties. #3 How are you running the app on your localhost? #4 Are your local workspace on windows?"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642256608,"creation_date":1642199927,"answer_id":70717289,"question_id":70684612,"body_markdown":"I think the main issue you are facing is related to the error presented in `localhost.log`:\r\n\r\n```\r\n14-Jan-2022 11:42:32.293 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [errorPageSecurityFilter]\r\n java.lang.AbstractMethodError\r\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:285)\r\n``` \r\n\r\nThe error has to do with the inability of Tomcat to successfully initialize [ErrorPageSecurityFilter](https://docs.spring.io/spring-boot/docs/2.6.0/api/org/springframework/boot/web/servlet/filter/ErrorPageSecurityFilter.html).\r\n\r\nThis filter tries to prevent unauthorized access to the application error page.\r\n\r\nIt was introduced in Spring Boot 2.6.0.\r\n\r\nThe filter was initially meant as a Servlet 4.0 [`HttpFilter`](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpFilter.html).\r\n\r\nAs you can see in the [history of changes of the component](https://github.com/Artur-/spring-boot/commits/29a33ebe4ada23b3b34f8421347d0c7acd5d5278/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/web/servlet/filter/ErrorPageSecurityFilter.java), that fact had been the cause of different changes in order to provide support for containers in which the Servlet 4.0 version is not supported.\r\n\r\nThese changes has been documented in different issues, mainly [this](https://github.com/spring-projects/spring-boot/pull/28902), although there are other related ones [1](https://github.com/spring-projects/spring-boot/issues/28790) [2](https://github.com/spring-projects/spring-boot/issues/29135) [3](https://github.com/spring-projects/spring-boot/issues/28854).\r\n\r\nBasically, as you can check in the aforementioned history of the component, they [first](https://github.com/Artur-/spring-boot/commit/e6b5be900ae27c4aa59bbf6db6c5f85ff0c0fc1e#diff-a12b56ffe1b71fd7fc8fc13c27f031b00797d0dd4a4df661fd064bae4cff9ffa) refactored the filter to implement `Filter` instead of extending `HttpFilter`.\r\n\r\nIn the Servlet 4 version the `Filter` interface provides default methods implementation for both [`init`](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html#init-javax.servlet.FilterConfig-) and `destroy`. To mimic this behavior and make it Servlet 3.x compatible, in a later change, [the Spring developers provided a no-op implementation of `init`](https://github.com/Artur-/spring-boot/commit/29a33ebe4ada23b3b34f8421347d0c7acd5d5278#diff-a12b56ffe1b71fd7fc8fc13c27f031b00797d0dd4a4df661fd064bae4cff9ffa) in the `ErrorPageSecurityFilter` itself.\r\n\r\nAs you can see in the change log, this last issue was fixed in [Spring Boot 2.6.2](https://github.com/spring-projects/spring-boot/releases/tag/v2.6.2).\r\n\r\nOn application startup, Tomcat finds and tries initializing the `ErrorPageSecurityFilter` filter but probably you are using [a version of Tomcat still not Servlet 4 version compliant](https://tomcat.apache.org/whichversion.html) and, according to the version of Spring Boot you are using, 2.6.1, this filter provides no `init` implementation, and that is the reason why Tomcat complains about the `AbstractMethodError`.\r\n\r\nIn order to solve the problem, please, consider update your application dependencies to Spring Boot 2.6.2.\r\n\r\nI think once updated, the different deployment related errors will go away, they seem to be caused by threading or class loading issues when Tomcat terminates abruptly the application as a consequence of the `ErrorPageSecurityFilter` related error. \r\n","title":"Having an issue with Spring-boot&#39;s built-in logger when deploying app to tomcat server","body":"<p>I think the main issue you are facing is related to the error presented in <code>localhost.log</code>:</p>\n<pre><code>14-Jan-2022 11:42:32.293 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [errorPageSecurityFilter]\n java.lang.AbstractMethodError\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:285)\n</code></pre>\n<p>The error has to do with the inability of Tomcat to successfully initialize <a href=\"https://docs.spring.io/spring-boot/docs/2.6.0/api/org/springframework/boot/web/servlet/filter/ErrorPageSecurityFilter.html\" rel=\"nofollow noreferrer\">ErrorPageSecurityFilter</a>.</p>\n<p>This filter tries to prevent unauthorized access to the application error page.</p>\n<p>It was introduced in Spring Boot 2.6.0.</p>\n<p>The filter was initially meant as a Servlet 4.0 <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpFilter.html\" rel=\"nofollow noreferrer\"><code>HttpFilter</code></a>.</p>\n<p>As you can see in the <a href=\"https://github.com/Artur-/spring-boot/commits/29a33ebe4ada23b3b34f8421347d0c7acd5d5278/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/web/servlet/filter/ErrorPageSecurityFilter.java\" rel=\"nofollow noreferrer\">history of changes of the component</a>, that fact had been the cause of different changes in order to provide support for containers in which the Servlet 4.0 version is not supported.</p>\n<p>These changes has been documented in different issues, mainly <a href=\"https://github.com/spring-projects/spring-boot/pull/28902\" rel=\"nofollow noreferrer\">this</a>, although there are other related ones <a href=\"https://github.com/spring-projects/spring-boot/issues/28790\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://github.com/spring-projects/spring-boot/issues/29135\" rel=\"nofollow noreferrer\">2</a> <a href=\"https://github.com/spring-projects/spring-boot/issues/28854\" rel=\"nofollow noreferrer\">3</a>.</p>\n<p>Basically, as you can check in the aforementioned history of the component, they <a href=\"https://github.com/Artur-/spring-boot/commit/e6b5be900ae27c4aa59bbf6db6c5f85ff0c0fc1e#diff-a12b56ffe1b71fd7fc8fc13c27f031b00797d0dd4a4df661fd064bae4cff9ffa\" rel=\"nofollow noreferrer\">first</a> refactored the filter to implement <code>Filter</code> instead of extending <code>HttpFilter</code>.</p>\n<p>In the Servlet 4 version the <code>Filter</code> interface provides default methods implementation for both <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html#init-javax.servlet.FilterConfig-\" rel=\"nofollow noreferrer\"><code>init</code></a> and <code>destroy</code>. To mimic this behavior and make it Servlet 3.x compatible, in a later change, <a href=\"https://github.com/Artur-/spring-boot/commit/29a33ebe4ada23b3b34f8421347d0c7acd5d5278#diff-a12b56ffe1b71fd7fc8fc13c27f031b00797d0dd4a4df661fd064bae4cff9ffa\" rel=\"nofollow noreferrer\">the Spring developers provided a no-op implementation of <code>init</code></a> in the <code>ErrorPageSecurityFilter</code> itself.</p>\n<p>As you can see in the change log, this last issue was fixed in <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v2.6.2\" rel=\"nofollow noreferrer\">Spring Boot 2.6.2</a>.</p>\n<p>On application startup, Tomcat finds and tries initializing the <code>ErrorPageSecurityFilter</code> filter but probably you are using <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">a version of Tomcat still not Servlet 4 version compliant</a> and, according to the version of Spring Boot you are using, 2.6.1, this filter provides no <code>init</code> implementation, and that is the reason why Tomcat complains about the <code>AbstractMethodError</code>.</p>\n<p>In order to solve the problem, please, consider update your application dependencies to Spring Boot 2.6.2.</p>\n<p>I think once updated, the different deployment related errors will go away, they seem to be caused by threading or class loading issues when Tomcat terminates abruptly the application as a consequence of the <code>ErrorPageSecurityFilter</code> related error.</p>\n"},{"tags":[],"owner":{"account_id":15053512,"reputation":811,"user_id":10864550,"display_name":"Murat Kara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642277519,"creation_date":1642277519,"answer_id":70725057,"question_id":70684612,"body_markdown":"This may be because of incompatible version of spring-data and db-driver dependency. Please check if the version of db-driver is compatible with the provided spring-data dependency.\r\n\r\nTry this version:\r\nSpringBoot 2.5.6 for MongoDB 4.4.11\r\n\r\nIf SpringBoot 2.6.1 if required try:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nfor mongo dependency.\r\n\r\n\r\n","title":"Having an issue with Spring-boot&#39;s built-in logger when deploying app to tomcat server","body":"<p>This may be because of incompatible version of spring-data and db-driver dependency. Please check if the version of db-driver is compatible with the provided spring-data dependency.</p>\n<p>Try this version:\nSpringBoot 2.5.6 for MongoDB 4.4.11</p>\n<p>If SpringBoot 2.6.1 if required try:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>for mongo dependency.</p>\n"},{"tags":[],"owner":{"account_id":9492638,"reputation":759,"user_id":7056847,"display_name":"Saxon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642281865,"creation_date":1642281865,"answer_id":70725562,"question_id":70684612,"body_markdown":"It seems this issue:\r\n\r\nhttps://gitmetadata.com/repo/spring-projects/spring-boot/issues/29135\r\n\r\nYou might force the use of tomcat 9 with the following property in your pom:\r\n\r\n    &lt;properties&gt;\r\n        &lt;tomcat.version&gt;9.0.55&lt;/tomcat.version&gt;\r\n    &lt;properties&gt;\r\n\r\nthough tomcat embedded version for spring-boot 2.6.1 should be 9.0.55","title":"Having an issue with Spring-boot&#39;s built-in logger when deploying app to tomcat server","body":"<p>It seems this issue:</p>\n<p><a href=\"https://gitmetadata.com/repo/spring-projects/spring-boot/issues/29135\" rel=\"nofollow noreferrer\">https://gitmetadata.com/repo/spring-projects/spring-boot/issues/29135</a></p>\n<p>You might force the use of tomcat 9 with the following property in your pom:</p>\n<pre><code>&lt;properties&gt;\n    &lt;tomcat.version&gt;9.0.55&lt;/tomcat.version&gt;\n&lt;properties&gt;\n</code></pre>\n<p>though tomcat embedded version for spring-boot 2.6.1 should be 9.0.55</p>\n"}],"owner":{"account_id":2768425,"reputation":490,"user_id":2383556,"display_name":"Josh Balcitis"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1726,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70717289,"answer_count":3,"score":3,"last_activity_date":1642281865,"creation_date":1642003180,"question_id":70684612,"body_markdown":"I am building a Spring Boot application with a MongoDB database and I am running into an issue when the application is deployed to the server and starts logging. I have done some digging on the internet and all the answer I am getting is that I need the following maven dependency and to do an install. I have done that and unfortunately the issue still remains. \r\n\r\nI am currently using MongoDB version 4.4.11 and Spring-boot version 2.6.1\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.myproject&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;artifactId&gt;pe&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;myproject Backend Pe&lt;/name&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.myproject&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\r\n    \t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t     \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;start-class&gt;com.myproject.mobileplatform_backend.app.Application&lt;/start-class&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;warName&gt;pe&lt;/warName&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\t&lt;!-- installs node modules --&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t&lt;executable&gt;npm&lt;/executable&gt;\r\n    \t\t\t\t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;argument&gt;install&lt;/argument&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t\t\t\t\t&lt;workingDirectory&gt;${basedir}/src/main/frontend&lt;/workingDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\r\n    \t\t\t\t\t\t&lt;!-- builds frontend --&gt;\r\n    \t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t&lt;id&gt;angular build&lt;/id&gt;\r\n    \t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t&lt;executable&gt;ng&lt;/executable&gt;\r\n    \t\t\t\t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;argument&gt;build&lt;/argument&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;argument&gt;--prod&lt;/argument&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;argument&gt;--deploy-url&lt;/argument&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;argument&gt;dist/&lt;/argument&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t\t\t\t\t&lt;workingDirectory&gt;${basedir}/src/main/frontend&lt;/workingDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t&lt;/execution&gt;\t\t\t\t\t\t\r\n    \t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nReadout from localhost.&lt;date&gt;.log:\r\n\r\n    14-Jan-2022 11:41:57.058 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext\r\n    14-Jan-2022 11:42:15.809 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log 1 Spring WebApplicationInitializer detected on classpath\r\n    14-Jan-2022 11:42:24.270 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Initializing Spring embedded WebApplicationContext\r\n    14-Jan-2022 11:42:32.293 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [errorPageSecurityFilter]\r\n     java.lang.AbstractMethodError\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:285)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:112)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4590)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5233)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:630)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1842)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    \r\n    14-Jan-2022 11:42:32.323 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext\r\n\r\nErrors when deploying to server:\r\n\r\n    Exception in thread &quot;cluster-ClusterId{value=&#39;61dde73d6257ab22798db558&#39;, description=&#39;null&#39;}-localhost:27017&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy\r\n        \tat ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\r\n        \tat ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\r\n        \tat ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\r\n        \tat ch.qos.logback.classic.Logger.info(Logger.java:595)\r\n        \tat com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:76)\r\n        \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.logStateChange(DefaultServerMonitor.java:266)\r\n        \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:164)\r\n        \tat java.lang.Thread.run(Thread.java:745)\r\n        Caused by: java.lang.ClassNotFoundException: Illegal access: this web application instance has been stopped already. Could not load [ch.qos.logback.classic.spi.ThrowableProxy]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n        \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1301)\r\n        \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1158)\r\n        \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\r\n        \t... 8 more\r\n        Caused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [ch.qos.logback.classic.spi.ThrowableProxy]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n        \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1311)\r\n        \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1299)\r\n        \t... 10 more\r\n        Exception in thread &quot;cluster-ClusterId{value=&#39;61dde7416257ab22798db559&#39;, description=&#39;null&#39;}-localhost:27017&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy\r\n        \tat ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\r\n        \tat ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\r\n        \tat ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\r\n        \tat ch.qos.logback.classic.Logger.info(Logger.java:595)\r\n        \tat com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:76)\r\n        \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.logStateChange(DefaultServerMonitor.java:266)\r\n        \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:164)\r\n        \tat java.lang.Thread.run(Thread.java:745)\r\n        Exception in thread &quot;cluster-ClusterId{value=&#39;61dde7416257ab22798db55a&#39;, description=&#39;null&#39;}-localhost:27017&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy\r\n        \tat ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\r\n        \tat ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\r\n        \tat ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\r\n        \tat ch.qos.logback.classic.Logger.info(Logger.java:595)\r\n        \tat com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:76)\r\n        \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.logStateChange(DefaultServerMonitor.java:266)\r\n        \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:164)\r\n        \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nSecond Error:\r\n\r\n    Exception in thread &quot;cluster-ClusterId{value=&#39;61e1a55b4e705712d5c92121&#39;, description=&#39;null&#39;}-localhost:27017&quot; java.lang.NoClassDefFoundError: com/mongodb/internal/connection/DecimalFormatHelper\r\n    \tat com.mongodb.connection.ServerDescription.getRoundTripFormattedInMilliseconds(ServerDescription.java:1041)\r\n    \tat com.mongodb.connection.ServerDescription.getShortDescription(ServerDescription.java:1016)\r\n    \tat com.mongodb.connection.ClusterDescription.getShortDescription(ClusterDescription.java:327)\r\n    \tat com.mongodb.internal.connection.BaseCluster.updateDescription(BaseCluster.java:245)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:125)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:116)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.access$200(SingleServerCluster.java:41)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster$DefaultServerDescriptionChangedListener.serverDescriptionChanged(SingleServerCluster.java:107)\r\n    \tat com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.updateDescription(DefaultSdamServerDescriptionManager.java:127)\r\n    \tat com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.update(DefaultSdamServerDescriptionManager.java:81)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:165)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.ClassNotFoundException: Illegal access: this web application instance has been stopped already. Could not load [com.mongodb.internal.connection.DecimalFormatHelper]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1301)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1158)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\r\n    \t... 12 more\r\n    Caused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [com.mongodb.internal.connection.DecimalFormatHelper]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1311)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1299)\r\n    \t... 14 more\r\n    Exception in thread &quot;cluster-ClusterId{value=&#39;61e1a55c4e705712d5c92122&#39;, description=&#39;null&#39;}-localhost:27017&quot; java.lang.NoClassDefFoundError: com/mongodb/internal/connection/DecimalFormatHelper\r\n    \tat com.mongodb.connection.ServerDescription.getRoundTripFormattedInMilliseconds(ServerDescription.java:1041)\r\n    \tat com.mongodb.connection.ServerDescription.getShortDescription(ServerDescription.java:1016)\r\n    \tat com.mongodb.connection.ClusterDescription.getShortDescription(ClusterDescription.java:327)\r\n    \tat com.mongodb.internal.connection.BaseCluster.updateDescription(BaseCluster.java:245)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:125)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:116)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.access$200(SingleServerCluster.java:41)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster$DefaultServerDescriptionChangedListener.serverDescriptionChanged(SingleServerCluster.java:107)\r\n    \tat com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.updateDescription(DefaultSdamServerDescriptionManager.java:127)\r\n    \tat com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.update(DefaultSdamServerDescriptionManager.java:81)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:165)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Exception in thread &quot;cluster-ClusterId{value=&#39;61e1a5544e705712d5c92120&#39;, description=&#39;null&#39;}-localhost:27017&quot; java.lang.NoClassDefFoundError: com/mongodb/internal/connection/DecimalFormatHelper\r\n    \tat com.mongodb.connection.ServerDescription.getRoundTripFormattedInMilliseconds(ServerDescription.java:1041)\r\n    \tat com.mongodb.connection.ServerDescription.getShortDescription(ServerDescription.java:1016)\r\n    \tat com.mongodb.connection.ClusterDescription.getShortDescription(ClusterDescription.java:327)\r\n    \tat com.mongodb.internal.connection.BaseCluster.updateDescription(BaseCluster.java:245)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:125)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:116)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster.access$200(SingleServerCluster.java:41)\r\n    \tat com.mongodb.internal.connection.SingleServerCluster$DefaultServerDescriptionChangedListener.serverDescriptionChanged(SingleServerCluster.java:107)\r\n    \tat com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.updateDescription(DefaultSdamServerDescriptionManager.java:127)\r\n    \tat com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.update(DefaultSdamServerDescriptionManager.java:81)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:165)\r\n    \tat java.lang.Thread.run(Thread.java:745)","title":"Having an issue with Spring-boot&#39;s built-in logger when deploying app to tomcat server","body":"<p>I am building a Spring Boot application with a MongoDB database and I am running into an issue when the application is deployed to the server and starts logging. I have done some digging on the internet and all the answer I am getting is that I need the following maven dependency and to do an install. I have done that and unfortunately the issue still remains.</p>\n<p>I am currently using MongoDB version 4.4.11 and Spring-boot version 2.6.1</p>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.myproject&lt;/groupId&gt;\n        &lt;artifactId&gt;backend&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;pe&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myproject Backend Pe&lt;/name&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.myproject&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n                 \n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;start-class&gt;com.myproject.mobileplatform_backend.app.Application&lt;/start-class&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;warName&gt;pe&lt;/warName&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.3.2&lt;/version&gt;\n                    &lt;executions&gt;\n                    \n                        &lt;!-- installs node modules --&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;npm install&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;exec&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\n                            &lt;configuration&gt;\n                                &lt;executable&gt;npm&lt;/executable&gt;\n                                &lt;arguments&gt;\n                                    &lt;argument&gt;install&lt;/argument&gt;\n                                &lt;/arguments&gt;\n                                &lt;workingDirectory&gt;${basedir}/src/main/frontend&lt;/workingDirectory&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n    \n                        &lt;!-- builds frontend --&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;angular build&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;exec&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;configuration&gt;\n                                &lt;executable&gt;ng&lt;/executable&gt;\n                                &lt;arguments&gt;\n                                    &lt;argument&gt;build&lt;/argument&gt;\n                                    &lt;argument&gt;--prod&lt;/argument&gt;\n                                    &lt;argument&gt;--deploy-url&lt;/argument&gt;\n                                    &lt;argument&gt;dist/&lt;/argument&gt;\n                                &lt;/arguments&gt;\n                                &lt;workingDirectory&gt;${basedir}/src/main/frontend&lt;/workingDirectory&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;                        \n                    &lt;/executions&gt;\n                    \n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Readout from localhost..log:</p>\n<pre><code>14-Jan-2022 11:41:57.058 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext\n14-Jan-2022 11:42:15.809 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log 1 Spring WebApplicationInitializer detected on classpath\n14-Jan-2022 11:42:24.270 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Initializing Spring embedded WebApplicationContext\n14-Jan-2022 11:42:32.293 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [errorPageSecurityFilter]\n java.lang.AbstractMethodError\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:285)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:112)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4590)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5233)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:630)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1842)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n14-Jan-2022 11:42:32.323 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext\n</code></pre>\n<p>Errors when deploying to server:</p>\n<pre><code>Exception in thread &quot;cluster-ClusterId{value='61dde73d6257ab22798db558', description='null'}-localhost:27017&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy\n        at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\n        at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\n        at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\n        at ch.qos.logback.classic.Logger.info(Logger.java:595)\n        at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:76)\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.logStateChange(DefaultServerMonitor.java:266)\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:164)\n        at java.lang.Thread.run(Thread.java:745)\n    Caused by: java.lang.ClassNotFoundException: Illegal access: this web application instance has been stopped already. Could not load [ch.qos.logback.classic.spi.ThrowableProxy]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n        at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1301)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1158)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\n        ... 8 more\n    Caused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [ch.qos.logback.classic.spi.ThrowableProxy]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n        at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1311)\n        at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1299)\n        ... 10 more\n    Exception in thread &quot;cluster-ClusterId{value='61dde7416257ab22798db559', description='null'}-localhost:27017&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy\n        at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\n        at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\n        at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\n        at ch.qos.logback.classic.Logger.info(Logger.java:595)\n        at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:76)\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.logStateChange(DefaultServerMonitor.java:266)\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:164)\n        at java.lang.Thread.run(Thread.java:745)\n    Exception in thread &quot;cluster-ClusterId{value='61dde7416257ab22798db55a', description='null'}-localhost:27017&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/spi/ThrowableProxy\n        at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\n        at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\n        at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\n        at ch.qos.logback.classic.Logger.info(Logger.java:595)\n        at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:76)\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.logStateChange(DefaultServerMonitor.java:266)\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:164)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>Second Error:</p>\n<pre><code>Exception in thread &quot;cluster-ClusterId{value='61e1a55b4e705712d5c92121', description='null'}-localhost:27017&quot; java.lang.NoClassDefFoundError: com/mongodb/internal/connection/DecimalFormatHelper\n    at com.mongodb.connection.ServerDescription.getRoundTripFormattedInMilliseconds(ServerDescription.java:1041)\n    at com.mongodb.connection.ServerDescription.getShortDescription(ServerDescription.java:1016)\n    at com.mongodb.connection.ClusterDescription.getShortDescription(ClusterDescription.java:327)\n    at com.mongodb.internal.connection.BaseCluster.updateDescription(BaseCluster.java:245)\n    at com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:125)\n    at com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:116)\n    at com.mongodb.internal.connection.SingleServerCluster.access$200(SingleServerCluster.java:41)\n    at com.mongodb.internal.connection.SingleServerCluster$DefaultServerDescriptionChangedListener.serverDescriptionChanged(SingleServerCluster.java:107)\n    at com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.updateDescription(DefaultSdamServerDescriptionManager.java:127)\n    at com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.update(DefaultSdamServerDescriptionManager.java:81)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:165)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ClassNotFoundException: Illegal access: this web application instance has been stopped already. Could not load [com.mongodb.internal.connection.DecimalFormatHelper]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1301)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1158)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\n    ... 12 more\nCaused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [com.mongodb.internal.connection.DecimalFormatHelper]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1311)\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForClassLoading(WebappClassLoaderBase.java:1299)\n    ... 14 more\nException in thread &quot;cluster-ClusterId{value='61e1a55c4e705712d5c92122', description='null'}-localhost:27017&quot; java.lang.NoClassDefFoundError: com/mongodb/internal/connection/DecimalFormatHelper\n    at com.mongodb.connection.ServerDescription.getRoundTripFormattedInMilliseconds(ServerDescription.java:1041)\n    at com.mongodb.connection.ServerDescription.getShortDescription(ServerDescription.java:1016)\n    at com.mongodb.connection.ClusterDescription.getShortDescription(ClusterDescription.java:327)\n    at com.mongodb.internal.connection.BaseCluster.updateDescription(BaseCluster.java:245)\n    at com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:125)\n    at com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:116)\n    at com.mongodb.internal.connection.SingleServerCluster.access$200(SingleServerCluster.java:41)\n    at com.mongodb.internal.connection.SingleServerCluster$DefaultServerDescriptionChangedListener.serverDescriptionChanged(SingleServerCluster.java:107)\n    at com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.updateDescription(DefaultSdamServerDescriptionManager.java:127)\n    at com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.update(DefaultSdamServerDescriptionManager.java:81)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:165)\n    at java.lang.Thread.run(Thread.java:745)\nException in thread &quot;cluster-ClusterId{value='61e1a5544e705712d5c92120', description='null'}-localhost:27017&quot; java.lang.NoClassDefFoundError: com/mongodb/internal/connection/DecimalFormatHelper\n    at com.mongodb.connection.ServerDescription.getRoundTripFormattedInMilliseconds(ServerDescription.java:1041)\n    at com.mongodb.connection.ServerDescription.getShortDescription(ServerDescription.java:1016)\n    at com.mongodb.connection.ClusterDescription.getShortDescription(ClusterDescription.java:327)\n    at com.mongodb.internal.connection.BaseCluster.updateDescription(BaseCluster.java:245)\n    at com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:125)\n    at com.mongodb.internal.connection.SingleServerCluster.publishDescription(SingleServerCluster.java:116)\n    at com.mongodb.internal.connection.SingleServerCluster.access$200(SingleServerCluster.java:41)\n    at com.mongodb.internal.connection.SingleServerCluster$DefaultServerDescriptionChangedListener.serverDescriptionChanged(SingleServerCluster.java:107)\n    at com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.updateDescription(DefaultSdamServerDescriptionManager.java:127)\n    at com.mongodb.internal.connection.DefaultSdamServerDescriptionManager.update(DefaultSdamServerDescriptionManager.java:81)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:165)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","maven","maven-versions-plugin"],"comments":[{"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"score":0,"creation_date":1642009996,"post_id":70685712,"comment_id":124961040,"body_markdown":"Feels weird. Has it not been omitted from the report for some reason? Have you also tried &quot;mvn dependency:tree -Dverbose&quot;?","body":"Feels weird. Has it not been omitted from the report for some reason? Have you also tried &quot;mvn dependency:tree -Dverbose&quot;?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642012417,"post_id":70685712,"comment_id":124961948,"body_markdown":"`versions:display-dependency-updates` will only report on direct dependencies but not on transitive dependencies. The outdates dependency is a dependency of poi...You can simple define the newer version directly to your own project which will overwrite the old one...","body":"<code>versions:display-dependency-updates</code> will only report on direct dependencies but not on transitive dependencies. The outdates dependency is a dependency of poi...You can simple define the newer version directly to your own project which will overwrite the old one..."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1642013420,"post_id":70685712,"comment_id":124962332,"body_markdown":"@khmarbaise I understand how I could fix this contrived example, but if it was a large enterprise project with many internal dependencies, those versions would be under my responsibility to manage.","body":"@khmarbaise I understand how I could fix this contrived example, but if it was a large enterprise project with many internal dependencies, those versions would be under my responsibility to manage."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1642013558,"post_id":70685712,"comment_id":124962375,"body_markdown":"@Eugenio I get the same output with ``-Dverbose``, but I don&#39;t think it&#39;s a problem with ``dependency:tree`` as it&#39;s reporting the situation correctly.","body":"@Eugenio I get the same output with <code>-Dverbose</code>, but I don&#39;t think it&#39;s a problem with <code>dependency:tree</code> as it&#39;s reporting the situation correctly."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642014455,"post_id":70685712,"comment_id":124962724,"body_markdown":"If those dependencies are under your own control you have to go and start by the transitive dependency and start there with upgrading to the most recent versions one by one... there you can use versions plugin to upgrade and continuing one by one...","body":"If those dependencies are under your own control you have to go and start by the transitive dependency and start there with upgrading to the most recent versions one by one... there you can use versions plugin to upgrade and continuing one by one..."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1642015129,"post_id":70685712,"comment_id":124962925,"body_markdown":"@khmarbaise that was the manual process I wanted to avoid.","body":"@khmarbaise that was the manual process I wanted to avoid."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642057682,"post_id":70685712,"comment_id":124971877,"body_markdown":"I wrote `use versions plugin`... you should check what I have wrote... check this: https://www.mojohaus.org/versions-maven-plugin/use-latest-versions-mojo.html","body":"I wrote <code>use versions plugin</code>... you should check what I have wrote... check this: <a href=\"https://www.mojohaus.org/versions-maven-plugin/use-latest-versions-mojo.html\" rel=\"nofollow noreferrer\">mojohaus.org/versions-maven-plugin/&hellip;</a>"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1642060082,"post_id":70685712,"comment_id":124972578,"body_markdown":"@khmarbaise does that list transitive dependencies? If so do you have an example?","body":"@khmarbaise does that list transitive dependencies? If so do you have an example?"},{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"&#252;"},"score":0,"creation_date":1642632202,"post_id":70685712,"comment_id":125126167,"body_markdown":"What is the point to know a transitive dependency has updates if the parent dependency has not been released with the latest version? e.g. if org.apache.poi:poi:jar does not uses yet the latest org.apache.logging.log4j:log4j-api:jar (e.g. 2.17.1). You can also have more recent releases like major version upgrade but not compatible with your 1st level deps.","body":"What is the point to know a transitive dependency has updates if the parent dependency has not been released with the latest version? e.g. if org.apache.poi:poi:jar does not uses yet the latest org.apache.logging.log4j:log4j-api:jar (e.g. 2.17.1). You can also have more recent releases like major version upgrade but not compatible with your 1st level deps."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1642674338,"post_id":70685712,"comment_id":125136000,"body_markdown":"@&#252; see my previous comment - https://stackoverflow.com/questions/70685712/maven-display-dependency-updates-list-transitive-dependency-versions?noredirect=1#comment124962332_70685712 - those dependencies are under my control.","body":"@&#252; see my previous comment - <a href=\"https://stackoverflow.com/questions/70685712/maven-display-dependency-updates-list-transitive-dependency-versions?noredirect=1#comment124962332_70685712\" title=\"maven display dependency updates list transitive dependency versions\">stackoverflow.com/questions/70685712/&hellip;</a> - those dependencies are under my control."}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642280895,"creation_date":1642007741,"question_id":70685712,"body_markdown":"I&#39;d like to be able to see if any of the dependencies of my project - including transitive ones - have updates available.\r\n\r\nTake the following ``pom.xml``:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;org.me&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I run goal ``versions:display-dependency-updates`` I get:\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ----------------------------&lt; org.me:test &gt;-----------------------------\r\n[INFO] Building test 0.0.1-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- versions-maven-plugin:2.8.1:display-dependency-updates (default-cli) @ test ---\r\n[INFO] No dependencies in Dependencies have newer versions.\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.939 s\r\n[INFO] Finished at: 2022-01-12T17:09:39Z\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nBut when I run ``dependency:tree``, I can now see:\r\n```\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ test ---\r\n[INFO] org.me:test:jar:0.0.1-SNAPSHOT\r\n[INFO] \\- org.apache.poi:poi:jar:5.1.0:compile\r\n[INFO]    +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO]    +- org.apache.commons:commons-collections4:jar:4.4:compile\r\n[INFO]    +- org.apache.commons:commons-math3:jar:3.6.1:compile\r\n[INFO]    +- commons-io:commons-io:jar:2.11.0:compile\r\n[INFO]    +- com.zaxxer:SparseBitSet:jar:1.2:compile\r\n[INFO]    \\- org.apache.logging.log4j:log4j-api:jar:2.14.1:compile\r\n```\r\n\r\nAnd an outdated version of ``log4j`` appears.\r\n\r\nIs there a way of doing this that&#39;s not manual?\r\n\r\n I&#39;ve also tried ``dependency-updates-report`` with the ``processDependencyManagementTransitive`` option enabled (which is the default) and the transitive dependencies aren&#39;t listed.","title":"Maven - display-dependency-updates- list transitive dependency versions","body":"<p>I'd like to be able to see if any of the dependencies of my project - including transitive ones - have updates available.</p>\n<p>Take the following <code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.me&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I run goal <code>versions:display-dependency-updates</code> I get:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------------------&lt; org.me:test &gt;-----------------------------\n[INFO] Building test 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- versions-maven-plugin:2.8.1:display-dependency-updates (default-cli) @ test ---\n[INFO] No dependencies in Dependencies have newer versions.\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.939 s\n[INFO] Finished at: 2022-01-12T17:09:39Z\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>But when I run <code>dependency:tree</code>, I can now see:</p>\n<pre><code>[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ test ---\n[INFO] org.me:test:jar:0.0.1-SNAPSHOT\n[INFO] \\- org.apache.poi:poi:jar:5.1.0:compile\n[INFO]    +- commons-codec:commons-codec:jar:1.15:compile\n[INFO]    +- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO]    +- org.apache.commons:commons-math3:jar:3.6.1:compile\n[INFO]    +- commons-io:commons-io:jar:2.11.0:compile\n[INFO]    +- com.zaxxer:SparseBitSet:jar:1.2:compile\n[INFO]    \\- org.apache.logging.log4j:log4j-api:jar:2.14.1:compile\n</code></pre>\n<p>And an outdated version of <code>log4j</code> appears.</p>\n<p>Is there a way of doing this that's not manual?</p>\n<p>I've also tried <code>dependency-updates-report</code> with the <code>processDependencyManagementTransitive</code> option enabled (which is the default) and the transitive dependencies aren't listed.</p>\n"},{"tags":["java","android","android-studio","intellij-idea","gradle"],"answers":[{"tags":[],"owner":{"account_id":4071168,"reputation":322,"user_id":3344201,"display_name":"Alex Barcel&#243;"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1448763836,"creation_date":1448763836,"answer_id":33978721,"question_id":32070665,"body_markdown":"I was able to solve this by deleting the settings.gradle file from every Gradle project that I wanted to use as dependency (clearing the contents of this file was not enough).\r\n\r\n*NOTE: As I have little knowledge of Gradle and Android Studio, I cannot provide information about why the presence of this file does not allow Android Studio to include the Gradle project as a module.*","title":"IntelliJ and Android Gradle dependencies - unable to find module","body":"<p>I was able to solve this by deleting the settings.gradle file from every Gradle project that I wanted to use as dependency (clearing the contents of this file was not enough).</p>\n\n<p><em>NOTE: As I have little knowledge of Gradle and Android Studio, I cannot provide information about why the presence of this file does not allow Android Studio to include the Gradle project as a module.</em></p>\n"},{"tags":[],"owner":{"account_id":420024,"reputation":4326,"user_id":797492,"accept_rate":40,"display_name":"Varun Bhatia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456296250,"creation_date":1456296250,"answer_id":35595080,"question_id":32070665,"body_markdown":"Right click project, Select \r\n\r\n&gt; &quot;Configure Project Subset ...&quot;\r\n\r\n and select your module, rebuild your project.","title":"IntelliJ and Android Gradle dependencies - unable to find module","body":"<p>Right click project, Select </p>\n\n<blockquote>\n  <p>\"Configure Project Subset ...\"</p>\n</blockquote>\n\n<p>and select your module, rebuild your project.</p>\n"},{"tags":[],"owner":{"account_id":1054692,"reputation":1441,"user_id":1072869,"accept_rate":73,"display_name":"Aralox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469411527,"creation_date":1469411527,"answer_id":38558685,"question_id":32070665,"body_markdown":"Add a colon (:) before the names of your modules when you add it in `settings.gradle`, e.g. for the first one, change this:\r\n\r\n    include &#39;javaGradleProject1&#39;\r\n    project(&#39;:javaGradleProject1&#39;).projectDir = new File(rootDir, &#39;../javaGradleProject1&#39;)\r\n\r\nto this:\r\n\r\n    include &#39;:javaGradleProject1&#39;\r\n    project(&#39;:javaGradleProject1&#39;).projectDir = new File(rootDir, &#39;../javaGradleProject1&#39;)\r\n\r\nNow in addition to compiling, IntelliJ / Android Studio should give you code completion.","title":"IntelliJ and Android Gradle dependencies - unable to find module","body":"<p>Add a colon (:) before the names of your modules when you add it in <code>settings.gradle</code>, e.g. for the first one, change this:</p>\n\n<pre><code>include 'javaGradleProject1'\nproject(':javaGradleProject1').projectDir = new File(rootDir, '../javaGradleProject1')\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>include ':javaGradleProject1'\nproject(':javaGradleProject1').projectDir = new File(rootDir, '../javaGradleProject1')\n</code></pre>\n\n<p>Now in addition to compiling, IntelliJ / Android Studio should give you code completion.</p>\n"},{"tags":[],"owner":{"account_id":4979156,"reputation":11,"user_id":4004673,"display_name":"Joris Oudejans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496820493,"creation_date":1496820493,"answer_id":44406201,"question_id":32070665,"body_markdown":"In my case I had to change the external module name to lowercase only.","title":"IntelliJ and Android Gradle dependencies - unable to find module","body":"<p>In my case I had to change the external module name to lowercase only.</p>\n"},{"tags":[],"owner":{"account_id":12624741,"reputation":21,"user_id":9178871,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619155854,"creation_date":1619155854,"answer_id":67224449,"question_id":32070665,"body_markdown":"Tried all the available solutions, and in last I have commented the `include &#39;:app&#39;` in settings.gradle and this resolved the issue in my case","title":"IntelliJ and Android Gradle dependencies - unable to find module","body":"<p>Tried all the available solutions, and in last I have commented the <code>include ':app'</code> in settings.gradle and this resolved the issue in my case</p>\n"},{"tags":[],"owner":{"account_id":11630802,"reputation":97,"user_id":8519058,"display_name":"Peter Akwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642280649,"creation_date":1642280649,"answer_id":70725423,"question_id":32070665,"body_markdown":"In my case non of the answers above resolved it.\r\nFinally, I went to settings.gradle file and inside the dependencyResolutionManagement block, I changed the repositoriesMode to &quot;PREFER_PROJECT&quot;\r\n\r\n    repositoriesMode.set(RepositoriesMode.PREFER_PROJECT)\r\n\r\nThat was all I did and it worked like magic, maybe such can help you too, you can try it out.","title":"IntelliJ and Android Gradle dependencies - unable to find module","body":"<p>In my case non of the answers above resolved it.\nFinally, I went to settings.gradle file and inside the dependencyResolutionManagement block, I changed the repositoriesMode to &quot;PREFER_PROJECT&quot;</p>\n<pre><code>repositoriesMode.set(RepositoriesMode.PREFER_PROJECT)\n</code></pre>\n<p>That was all I did and it worked like magic, maybe such can help you too, you can try it out.</p>\n"}],"owner":{"account_id":6776072,"reputation":151,"user_id":5217788,"display_name":"P. Grosicki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5172,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":6,"score":15,"last_activity_date":1642280649,"creation_date":1439895917,"question_id":32070665,"body_markdown":"I have following directory structure:  \r\n\r\n\r\n    D:\\PROJECT  \r\n    +---javaGradleProject1  \r\n    +---javaGradleProject2  \r\n    +---javaGradleProject3  \r\n    \\---AndroidProject  \r\n        |   build.gradle\r\n        |   settings.gradle\r\n        \\---AndroidModule\r\n                build.gradle\r\n\r\n\r\nAndroid module depends on all of java gradle projects that are at the same level in root directory as AndroidProject.\r\n\r\nIn AndroidProject/settings.gradle I have: \r\n\r\n    include &#39;:AndroidModule&#39;\r\n    \r\n    include &#39;javaGradleProject1&#39;\r\n    project(&#39;:javaGradleProject1&#39;).projectDir = new File(rootDir, &#39;../javaGradleProject1&#39;)\r\n    \r\n    include &#39;javaGradleProject2&#39;\r\n    project(&#39;:javaGradleProject2&#39;).projectDir = new File(rootDir, &#39;../javaGradleProject2&#39;)\r\n    \r\n    include &#39;javaGradleProject2&#39;\r\n    project(&#39;:javaGradleProject2&#39;).projectDir = new File(rootDir, &#39;../javaGradleProject2&#39;)\r\n\r\nAnd then in AndroidProject/AndroidModule/build.gradle I have dependencies set like this:\r\n\r\n    compile project(&#39;:javaGradleProject1&#39;)\r\n    compile project(&#39;:javaGradleProject2&#39;)\r\n    compile project(&#39;:javaGradleProject3&#39;)\r\n\r\n\r\nThis structure of dependency perfectly works and project builds when I invoke \r\n\r\n    gradle build\r\n\r\non AndroidProject/build.gradle.\r\n\r\nBut when I try to synchronize my IntelliJ with current gradle dependency settings I receive \r\n\r\n    Error: Unable to find module with Gradle path &#39;:javaGradleProject1&#39;\r\n    Error: Unable to find module with Gradle path &#39;:javaGradleProject2&#39;\r\n    Error: Unable to find module with Gradle path &#39;:javaGradleProject3&#39;\r\n\r\nand because of that my project cannot be run from Run Configurations (it does not compile at all in IDE). I was trying to add these dependencies manually by hitting F4 and module dependencies but after synchronization all of my changes are overwritten (actually, IntelliJ just removes it).\r\n\r\nIs there anything wrong in my gradle structure? \r\n\r\nI have tested it on IntelliJ IDEA 14.1.4 and Android Studio 1.3.\r\n\r\n\r\n\r\n","title":"IntelliJ and Android Gradle dependencies - unable to find module","body":"<p>I have following directory structure:  </p>\n\n<pre><code>D:\\PROJECT  \n+---javaGradleProject1  \n+---javaGradleProject2  \n+---javaGradleProject3  \n\\---AndroidProject  \n    |   build.gradle\n    |   settings.gradle\n    \\---AndroidModule\n            build.gradle\n</code></pre>\n\n<p>Android module depends on all of java gradle projects that are at the same level in root directory as AndroidProject.</p>\n\n<p>In AndroidProject/settings.gradle I have: </p>\n\n<pre><code>include ':AndroidModule'\n\ninclude 'javaGradleProject1'\nproject(':javaGradleProject1').projectDir = new File(rootDir, '../javaGradleProject1')\n\ninclude 'javaGradleProject2'\nproject(':javaGradleProject2').projectDir = new File(rootDir, '../javaGradleProject2')\n\ninclude 'javaGradleProject2'\nproject(':javaGradleProject2').projectDir = new File(rootDir, '../javaGradleProject2')\n</code></pre>\n\n<p>And then in AndroidProject/AndroidModule/build.gradle I have dependencies set like this:</p>\n\n<pre><code>compile project(':javaGradleProject1')\ncompile project(':javaGradleProject2')\ncompile project(':javaGradleProject3')\n</code></pre>\n\n<p>This structure of dependency perfectly works and project builds when I invoke </p>\n\n<pre><code>gradle build\n</code></pre>\n\n<p>on AndroidProject/build.gradle.</p>\n\n<p>But when I try to synchronize my IntelliJ with current gradle dependency settings I receive </p>\n\n<pre><code>Error: Unable to find module with Gradle path ':javaGradleProject1'\nError: Unable to find module with Gradle path ':javaGradleProject2'\nError: Unable to find module with Gradle path ':javaGradleProject3'\n</code></pre>\n\n<p>and because of that my project cannot be run from Run Configurations (it does not compile at all in IDE). I was trying to add these dependencies manually by hitting F4 and module dependencies but after synchronization all of my changes are overwritten (actually, IntelliJ just removes it).</p>\n\n<p>Is there anything wrong in my gradle structure? </p>\n\n<p>I have tested it on IntelliJ IDEA 14.1.4 and Android Studio 1.3.</p>\n"},{"tags":["java","spring","unit-testing","junit","junit4"],"comments":[{"owner":{"account_id":23870152,"reputation":3,"user_id":17871961,"display_name":"MyWon"},"score":0,"creation_date":1641976707,"post_id":70677226,"comment_id":124946209,"body_markdown":"Hi, Anyone can give at least some idea to start","body":"Hi, Anyone can give at least some idea to start"}],"answers":[{"tags":[],"owner":{"account_id":22065172,"reputation":93,"user_id":16327180,"display_name":"Angela Lopez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642280573,"creation_date":1642265354,"answer_id":70723477,"question_id":70677226,"body_markdown":"\r\nAs a general rule of thumb when designing test cases you want to consider both the expected behaviour if everything goes right and the expected behaviours for each way that things could go wrong.\r\n\r\nFor your particular problem, when everything goes right you should expect your method to compress the file given as argument, upload it and delete the file from the temp directory. \r\nYou can do so by spying on your static GcpCloudStorageUtil method. Spies are instances of a class which retain their usual behaviour unless specified and which method calls you can monitor. You can read more on the topic [here][1] and [here][2] (for static method spying).\r\n\r\nIt&#39;s hard to give a thorough answer without access to the rest of your code but I&#39;d suggest :\r\n* creating a non empty file\r\n* calling the createZip method on this file\r\n* verifying that the GcpCloudStorageUtil.uploadFileToGcsBucket method was called\r\n* verifying that the uploaded file content matches the file you created\r\n* verifying that the temp directory is now empty\r\n\r\nThere are also a number of way that things could go wrong. For instance the file given as argument might not exist. You want to write a test case which ensures that a FileNotFoundException is thrown in this case. This [article][3] covers different ways to do this using JUnit4 or JUnit5.\r\n\r\nSimilarly you could design a test case where you mock the GcpCloudStorageUtil.uploadFileToGcsBucket and force it to throw an exception then verify that the expected exception was thrown. Mocking a method means forcing it to behave a certain way (here, throw an exception). Again you can read more on the topic [here][2].\r\n\r\n**Edit** : Here is a possible test class.\r\n\r\n```java\r\n@SpringBootTest\r\npublic class ZipperTest {\r\n    MockedStatic&lt;GcpCloudStorageUtil&gt; mockGcpCloudStorageUtil;\r\n\r\n    @Before\r\n    public void init(){\r\n        mockGcpCloudStorageUtil = Mockito.mockStatic(GcpCloudStorageUtil.class);\r\n    }\r\n\r\n    @After\r\n    public void clean(){\r\n        mockGcpCloudStorageUtil.close();\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testFileIsUploadedAndDeleted() throws IOException, FxRuntimeException {\r\n        //mocks the GcpCloudStorageUtil class and ensures it behaves like it normally would\r\n        mockGcpCloudStorageUtil.when(() -&gt; GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString())).thenCallRealMethod();\r\n\r\n        Zipper zipper = new Zipper();\r\n\r\n        //creates a file\r\n        String content = &quot;My file content&quot;;\r\n        Files.write(Paths.get(&quot;example.txt&quot;),\r\n                List.of(content),\r\n                StandardCharsets.UTF_8,\r\n                StandardOpenOption.CREATE,\r\n                StandardOpenOption.APPEND);\r\n\r\n        zipper.createZip(new File(&quot;example.txt&quot;));\r\n\r\n        //verifies that the uploadFileToGcsBucket method was called once\r\n        mockGcpCloudStorageUtil.verify(()-&gt;GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString()), times(1));\r\n\r\n        //you can insert code here to verify the content of the uploaded file matches the provided file content\r\n\r\n        //verifies that the file in the temp directory has been deleted\r\n        Assert.assertFalse(Files.exists(Paths.get(System.getProperty(&quot;java.io.tmpdir&quot;)+&quot;example.txt&quot;)));\r\n\r\n    }\r\n\r\n    @Test(expected = FileNotFoundException.class)\r\n    public void testExceptionThrownWhenFileDoesNotExist() throws FxRuntimeException, IOException {\r\n        mockGcpCloudStorageUtil.when(() -&gt; GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString())).thenCallRealMethod();\r\n\r\n        Zipper zipper = new Zipper();\r\n        zipper.createZip(new File(&quot;doesnt_exist.txt&quot;));\r\n        //verifies that the uploadFileToGcsBucket method was not called\r\n        mockGcpCloudStorageUtil.verifyNoInteractions();\r\n\r\n    }\r\n\r\n    @Test(expected = FxRuntimeException.class)\r\n    public void testExceptionThrownWhenIssueGcpUpload() throws IOException, FxRuntimeException {\r\n        //this time we force the uploadFileToGcsBucket method to throw an exception\r\n        mockGcpCloudStorageUtil.when(() -&gt; GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString())).thenThrow(RuntimeException.class);\r\n\r\n        Zipper zipper = new Zipper();\r\n\r\n        //creates a file\r\n        String content = &quot;My file content&quot;;\r\n        Files.write(Paths.get(&quot;example.txt&quot;),\r\n                List.of(content),\r\n                StandardCharsets.UTF_8,\r\n                StandardOpenOption.CREATE,\r\n                StandardOpenOption.APPEND);\r\n\r\n        zipper.createZip(new File(&quot;example.txt&quot;));\r\n        mockGcpCloudStorageUtil.verify(()-&gt;GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString()), times(1));\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Spy.html\r\n  [2]: https://www.baeldung.com/mockito-mock-static-methods\r\n  [3]: https://www.baeldung.com/junit-assert-exception","title":"Testcase for creating zip file in java junit","body":"<p>As a general rule of thumb when designing test cases you want to consider both the expected behaviour if everything goes right and the expected behaviours for each way that things could go wrong.</p>\n<p>For your particular problem, when everything goes right you should expect your method to compress the file given as argument, upload it and delete the file from the temp directory.\nYou can do so by spying on your static GcpCloudStorageUtil method. Spies are instances of a class which retain their usual behaviour unless specified and which method calls you can monitor. You can read more on the topic <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Spy.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">here</a> (for static method spying).</p>\n<p>It's hard to give a thorough answer without access to the rest of your code but I'd suggest :</p>\n<ul>\n<li>creating a non empty file</li>\n<li>calling the createZip method on this file</li>\n<li>verifying that the GcpCloudStorageUtil.uploadFileToGcsBucket method was called</li>\n<li>verifying that the uploaded file content matches the file you created</li>\n<li>verifying that the temp directory is now empty</li>\n</ul>\n<p>There are also a number of way that things could go wrong. For instance the file given as argument might not exist. You want to write a test case which ensures that a FileNotFoundException is thrown in this case. This <a href=\"https://www.baeldung.com/junit-assert-exception\" rel=\"nofollow noreferrer\">article</a> covers different ways to do this using JUnit4 or JUnit5.</p>\n<p>Similarly you could design a test case where you mock the GcpCloudStorageUtil.uploadFileToGcsBucket and force it to throw an exception then verify that the expected exception was thrown. Mocking a method means forcing it to behave a certain way (here, throw an exception). Again you can read more on the topic <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Edit</strong> : Here is a possible test class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class ZipperTest {\n    MockedStatic&lt;GcpCloudStorageUtil&gt; mockGcpCloudStorageUtil;\n\n    @Before\n    public void init(){\n        mockGcpCloudStorageUtil = Mockito.mockStatic(GcpCloudStorageUtil.class);\n    }\n\n    @After\n    public void clean(){\n        mockGcpCloudStorageUtil.close();\n    }\n\n\n    @Test\n    public void testFileIsUploadedAndDeleted() throws IOException, FxRuntimeException {\n        //mocks the GcpCloudStorageUtil class and ensures it behaves like it normally would\n        mockGcpCloudStorageUtil.when(() -&gt; GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString())).thenCallRealMethod();\n\n        Zipper zipper = new Zipper();\n\n        //creates a file\n        String content = &quot;My file content&quot;;\n        Files.write(Paths.get(&quot;example.txt&quot;),\n                List.of(content),\n                StandardCharsets.UTF_8,\n                StandardOpenOption.CREATE,\n                StandardOpenOption.APPEND);\n\n        zipper.createZip(new File(&quot;example.txt&quot;));\n\n        //verifies that the uploadFileToGcsBucket method was called once\n        mockGcpCloudStorageUtil.verify(()-&gt;GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString()), times(1));\n\n        //you can insert code here to verify the content of the uploaded file matches the provided file content\n\n        //verifies that the file in the temp directory has been deleted\n        Assert.assertFalse(Files.exists(Paths.get(System.getProperty(&quot;java.io.tmpdir&quot;)+&quot;example.txt&quot;)));\n\n    }\n\n    @Test(expected = FileNotFoundException.class)\n    public void testExceptionThrownWhenFileDoesNotExist() throws FxRuntimeException, IOException {\n        mockGcpCloudStorageUtil.when(() -&gt; GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString())).thenCallRealMethod();\n\n        Zipper zipper = new Zipper();\n        zipper.createZip(new File(&quot;doesnt_exist.txt&quot;));\n        //verifies that the uploadFileToGcsBucket method was not called\n        mockGcpCloudStorageUtil.verifyNoInteractions();\n\n    }\n\n    @Test(expected = FxRuntimeException.class)\n    public void testExceptionThrownWhenIssueGcpUpload() throws IOException, FxRuntimeException {\n        //this time we force the uploadFileToGcsBucket method to throw an exception\n        mockGcpCloudStorageUtil.when(() -&gt; GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString())).thenThrow(RuntimeException.class);\n\n        Zipper zipper = new Zipper();\n\n        //creates a file\n        String content = &quot;My file content&quot;;\n        Files.write(Paths.get(&quot;example.txt&quot;),\n                List.of(content),\n                StandardCharsets.UTF_8,\n                StandardOpenOption.CREATE,\n                StandardOpenOption.APPEND);\n\n        zipper.createZip(new File(&quot;example.txt&quot;));\n        mockGcpCloudStorageUtil.verify(()-&gt;GcpCloudStorageUtil.uploadFileToGcsBucket(Mockito.any(File.class), Mockito.anyString()), times(1));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23870152,"reputation":3,"user_id":17871961,"display_name":"MyWon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70723477,"answer_count":1,"score":0,"last_activity_date":1642280573,"creation_date":1641968956,"question_id":70677226,"body_markdown":"I&#39;m written an method which is accepting a file and then after it&#39;s creating a zip file. once zip file creation is done, then it&#39;s trying to store that in GCS bucket and deleting those file from temp dir.\r\nCould anyone help me one this to write the test cases for this.\r\n\r\n    private void createZip(File file) throws IOException {\r\n        File zipFile = new File(System.getProperty(&quot;java.io.tmpdir&quot;), Constants.ZIP_FILE_NAME);\r\n\r\n        if (!file.exists()) {\r\n            logger.info(&quot;File Not Found For To Do Zip File! Please Provide A File..&quot;);\r\n            throw new FileNotFoundException(&quot;File Not Found For To Do Zip File! Please Provide A File..&quot;);\r\n        }\r\n\r\n        try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(zipFile));\r\n            FileInputStream fis = new FileInputStream(file);) {\r\n\r\n            ZipEntry zipEntry = new ZipEntry(file.getName());\r\n            zos.putNextEntry(zipEntry);\r\n\r\n            byte[] buffer = new byte[1024];\r\n            int len;\r\n            while ((len = fis.read(buffer)) &gt; 0) {\r\n                zos.write(buffer, 0, len);\r\n            }\r\n            zos.closeEntry();\r\n        }\r\n\r\n        try {\r\n            // store to GCS bucket\r\n            GcpCloudStorageUtil.uploadFileToGcsBucket(zipFile, zipFile.getName());\r\n            file.delete();\r\n            zipFile.delete();\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Exception&quot; + e);\r\n            throw new FxRuntimeException(&quot;Exception &quot; + e.getMessage());\r\n        }\r\n\r\n    }","title":"Testcase for creating zip file in java junit","body":"<p>I'm written an method which is accepting a file and then after it's creating a zip file. once zip file creation is done, then it's trying to store that in GCS bucket and deleting those file from temp dir.\nCould anyone help me one this to write the test cases for this.</p>\n<pre><code>private void createZip(File file) throws IOException {\n    File zipFile = new File(System.getProperty(&quot;java.io.tmpdir&quot;), Constants.ZIP_FILE_NAME);\n\n    if (!file.exists()) {\n        logger.info(&quot;File Not Found For To Do Zip File! Please Provide A File..&quot;);\n        throw new FileNotFoundException(&quot;File Not Found For To Do Zip File! Please Provide A File..&quot;);\n    }\n\n    try (ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(zipFile));\n        FileInputStream fis = new FileInputStream(file);) {\n\n        ZipEntry zipEntry = new ZipEntry(file.getName());\n        zos.putNextEntry(zipEntry);\n\n        byte[] buffer = new byte[1024];\n        int len;\n        while ((len = fis.read(buffer)) &gt; 0) {\n            zos.write(buffer, 0, len);\n        }\n        zos.closeEntry();\n    }\n\n    try {\n        // store to GCS bucket\n        GcpCloudStorageUtil.uploadFileToGcsBucket(zipFile, zipFile.getName());\n        file.delete();\n        zipFile.delete();\n    } catch (Exception e) {\n        logger.error(&quot;Exception&quot; + e);\n        throw new FxRuntimeException(&quot;Exception &quot; + e.getMessage());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm","stack"],"comments":[{"owner":{"account_id":2707949,"reputation":872,"user_id":2337147,"display_name":"fjf2002"},"score":0,"creation_date":1517962358,"post_id":48653946,"comment_id":84306075,"body_markdown":"Could it be that you&#39;ve mixed two very different approaches, firstly, reversing by using an intermediate stack, and secondly,reversing in-place?","body":"Could it be that you&#39;ve mixed two very different approaches, firstly, reversing by using an intermediate stack, and secondly,reversing in-place?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1517962493,"post_id":48653946,"comment_id":84306115,"body_markdown":"*and then another for-loop*","body":"<i>and then another for-loop</i>"},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":1,"creation_date":1517962611,"post_id":48653946,"comment_id":84306148,"body_markdown":"are you reversing the entire array or portions of it? why is there not another for loop when the question specifically states that a second for loop is used to place the numbers back into the array? It seems like the above code has elements from your question but it doesn&#39;t actually implement the algorithm described","body":"are you reversing the entire array or portions of it? why is there not another for loop when the question specifically states that a second for loop is used to place the numbers back into the array? It seems like the above code has elements from your question but it doesn&#39;t actually implement the algorithm described"},{"owner":{"account_id":1039514,"reputation":1970,"user_id":1045902,"accept_rate":100,"display_name":"DPM"},"score":1,"creation_date":1517962885,"post_id":48653946,"comment_id":84306220,"body_markdown":"If you are having trouble designing an algorithm, you&#39;d want to break down your problem. That &quot;and&quot; in the method is a big hint you should split it in two and attack one problem at a time. Test driven development can also be a big help. Give it a try.","body":"If you are having trouble designing an algorithm, you&#39;d want to break down your problem. That &quot;and&quot; in the method is a big hint you should split it in two and attack one problem at a time. Test driven development can also be a big help. Give it a try."},{"owner":{"account_id":4090304,"reputation":382,"user_id":3358467,"accept_rate":69,"display_name":"FuegoJohnson"},"score":0,"creation_date":1517962915,"post_id":48653946,"comment_id":84306227,"body_markdown":"I did not include the second for loop as that part isn&#39;t an issue and I did not want to take up extra space. It could be that I am confusing the instructions, but I thought I interpreted them correctly. This is why I wanted a second opinion.","body":"I did not include the second for loop as that part isn&#39;t an issue and I did not want to take up extra space. It could be that I am confusing the instructions, but I thought I interpreted them correctly. This is why I wanted a second opinion."}],"answers":[{"tags":[],"owner":{"account_id":2707949,"reputation":872,"user_id":2337147,"display_name":"fjf2002"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1517962721,"creation_date":1517962721,"answer_id":48654057,"question_id":48653946,"body_markdown":"In Pseudocode:\r\n\r\n    FOR EACH INDEX I IN ARRAY A\r\n        PUSH A[I]\r\n    NEXT\r\n\r\n    FOR EACH INDEX I IN ARRAY A\r\n        POP A[I]\r\n    NEXT\r\n\r\n","title":"Reverse the elements in an array and push the reversed elements onto a stack using a single for loop","body":"<p>In Pseudocode:</p>\n\n<pre><code>FOR EACH INDEX I IN ARRAY A\n    PUSH A[I]\nNEXT\n\nFOR EACH INDEX I IN ARRAY A\n    POP A[I]\nNEXT\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1518021624,"creation_date":1517963534,"answer_id":48654167,"question_id":48653946,"body_markdown":"The trick here is to understand how stacks work, more specifically where items end up when you add/remove them from the stack. The stack data structure is a LIFO (last in, first out) data structure, therefore the last item you add is the first item you get when you call pop(). Here is a function to do what is being described by your question using the characteristics of a stack\r\n\r\n    public static int[] reverseArrayWithStack(int[] arrayToReverse)\r\n\t{\r\n\t\tStack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; arrayToReverse.length; i++)\r\n\t\t\tstack.push(arrayToReverse[i]);\r\n\t\t\r\n\t\tfor(int j = 0; j &lt; arrayToReverse.length; j++)\r\n\t\t\tarrayToReverse[j] = stack.pop();\r\n\t\t\t\r\n\t\treturn arrayToReverse;\r\n\t}\r\n\r\nExample\r\n\r\ngiven an array of arr = {1,2,3,4,5}\r\n\r\n1st for-loop - stack = {1,2,3,4,5}, all values are pushed onto the stack\r\n\r\n2nd for-loop - start with index 0 again because when we pop from stack we will get back 5 therefore arr[0] = stack.pop() = 5, arr[1] = statck.pop() = 4, arr[2] = statck.pop() = 3 etc. This allows us to use the behavior of the stack&#39;s pop() method to place the items in reverse order starting at index 0.\r\n","title":"Reverse the elements in an array and push the reversed elements onto a stack using a single for loop","body":"<p>The trick here is to understand how stacks work, more specifically where items end up when you add/remove them from the stack. The stack data structure is a LIFO (last in, first out) data structure, therefore the last item you add is the first item you get when you call pop(). Here is a function to do what is being described by your question using the characteristics of a stack</p>\n\n<pre><code>public static int[] reverseArrayWithStack(int[] arrayToReverse)\n{\n    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n\n    for(int i = 0; i &lt; arrayToReverse.length; i++)\n        stack.push(arrayToReverse[i]);\n\n    for(int j = 0; j &lt; arrayToReverse.length; j++)\n        arrayToReverse[j] = stack.pop();\n\n    return arrayToReverse;\n}\n</code></pre>\n\n<p>Example</p>\n\n<p>given an array of arr = {1,2,3,4,5}</p>\n\n<p>1st for-loop - stack = {1,2,3,4,5}, all values are pushed onto the stack</p>\n\n<p>2nd for-loop - start with index 0 again because when we pop from stack we will get back 5 therefore arr[0] = stack.pop() = 5, arr[1] = statck.pop() = 4, arr[2] = statck.pop() = 3 etc. This allows us to use the behavior of the stack's pop() method to place the items in reverse order starting at index 0.</p>\n"},{"tags":[],"owner":{"account_id":11762080,"reputation":48,"user_id":8607808,"display_name":"Sudarshana Gurusinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517964235,"creation_date":1517964235,"answer_id":48654256,"question_id":48653946,"body_markdown":"1. Loop the array from the end and push each element to the stack. This should have the first element in the array as first element. In the meantime you could use another array and populate it within the same loop, which would be in reverse order\r\n\r\n2.In the second loop, pop elements from the stack and assign it to the array from the end. This way the array would be reversed.\r\n\r\npublic static void reverseAndPush(int[] a)\r\n{\r\n\r\n    int sizeOfArray = a.length-1;\r\n    int[] tmp = new int[sizeOfArray];\r\n    for (int i = sizeOfArray; i &lt;= 0; i--)\r\n    {\r\n        tmp[i] = a[i];\r\n        stack.push(a[i]);\r\n    }\r\n\r\n    for (int i = sizeOfArray; i &lt;= 0; i--)\r\n    {\r\n        a[i] = stack.pop();\r\n    }\r\n}","title":"Reverse the elements in an array and push the reversed elements onto a stack using a single for loop","body":"<ol>\n<li>Loop the array from the end and push each element to the stack. This should have the first element in the array as first element. In the meantime you could use another array and populate it within the same loop, which would be in reverse order</li>\n</ol>\n\n<p>2.In the second loop, pop elements from the stack and assign it to the array from the end. This way the array would be reversed.</p>\n\n<p>public static void reverseAndPush(int[] a)\n{</p>\n\n<pre><code>int sizeOfArray = a.length-1;\nint[] tmp = new int[sizeOfArray];\nfor (int i = sizeOfArray; i &lt;= 0; i--)\n{\n    tmp[i] = a[i];\n    stack.push(a[i]);\n}\n\nfor (int i = sizeOfArray; i &lt;= 0; i--)\n{\n    a[i] = stack.pop();\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":4090304,"reputation":382,"user_id":3358467,"accept_rate":69,"display_name":"FuegoJohnson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48654167,"answer_count":3,"score":0,"last_activity_date":1642280216,"creation_date":1517962020,"question_id":48653946,"body_markdown":"I&#39;ve been working on an algorithm that reverses the order of an array using a single for loop and then pushes each element of the reversed array onto the stack. I&#39;ve been having a hard time getting this to work properly, but I may be interpreting the instructions incorrectly. The instructions are as follows:\r\n\r\n&gt; Describe in pseudocode an efficient algorithm for reversing the order of the numbers in A using a single for-loop that indexes through the cells of A, to insert each element into a stack, and then another for-loop that removes the elements from the stack and puts them back into A in reverse order.\r\n\r\nI can easily reverse the order of the array, but my stack does not fill before the for loop terminates. My code: \r\n\r\n    public static void reverseAndPush(int[] a, int start, int end)\r\n    {\r\n\r\n        for (int i = 0; i &lt; end; i++)\r\n        {\r\n            int temp = a[start];\r\n            a[start] = a[end];\r\n            //only elements 5 and 4 get pushed to the stack\r\n            stack.push(a[start]);\r\n            a[end] = temp;\r\n            start++;\r\n            end--;\r\n        }\r\n    }\r\n\r\nIf I remove the stack portion, the array is reversed successfully. What changes would need to be made to make this code run successfully? I think it has something to do with my execution statement `i &lt; end` but nothing I&#39;ve tried works correctly (lots of index out of bound exceptions). The instructions say to do in pseudocode, but I wanted to actually try and write the algorithm anyway just to play around with it.\r\n\r\nEdit\r\n---\r\n\r\nFor the second for loop, I had thought of doing something like this:\r\n\r\n    for n to 1 do\r\n         stack.pop()\r\n\r\nBut this is assuming that I must push all the elements into the stack using the first for loop. I could be mistaken. ","title":"Reverse the elements in an array and push the reversed elements onto a stack using a single for loop","body":"<p>I've been working on an algorithm that reverses the order of an array using a single for loop and then pushes each element of the reversed array onto the stack. I've been having a hard time getting this to work properly, but I may be interpreting the instructions incorrectly. The instructions are as follows:</p>\n<blockquote>\n<p>Describe in pseudocode an efficient algorithm for reversing the order of the numbers in A using a single for-loop that indexes through the cells of A, to insert each element into a stack, and then another for-loop that removes the elements from the stack and puts them back into A in reverse order.</p>\n</blockquote>\n<p>I can easily reverse the order of the array, but my stack does not fill before the for loop terminates. My code:</p>\n<pre><code>public static void reverseAndPush(int[] a, int start, int end)\n{\n\n    for (int i = 0; i &lt; end; i++)\n    {\n        int temp = a[start];\n        a[start] = a[end];\n        //only elements 5 and 4 get pushed to the stack\n        stack.push(a[start]);\n        a[end] = temp;\n        start++;\n        end--;\n    }\n}\n</code></pre>\n<p>If I remove the stack portion, the array is reversed successfully. What changes would need to be made to make this code run successfully? I think it has something to do with my execution statement <code>i &lt; end</code> but nothing I've tried works correctly (lots of index out of bound exceptions). The instructions say to do in pseudocode, but I wanted to actually try and write the algorithm anyway just to play around with it.</p>\n<h2>Edit</h2>\n<p>For the second for loop, I had thought of doing something like this:</p>\n<pre><code>for n to 1 do\n     stack.pop()\n</code></pre>\n<p>But this is assuming that I must push all the elements into the stack using the first for loop. I could be mistaken.</p>\n"},{"tags":["java","memory","garbage-collection","soft-references"],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642279948,"creation_date":1642279948,"answer_id":70725327,"question_id":70725189,"body_markdown":"`Referents` (Object referenced by the `SoftReference`) are being cleared by the GC before throwing an OOO Exception.\r\n\r\nBut what is not being garbaged collected are the `SoftReference` objects themselves. They are objects too and they consume heap memory. They are all being held in memory by the list. GC only clears the object they point to, that is the `referent`.\r\n\r\nRun your JVM with `-XX:+HeapDumpOnOutOfMemoryError`. This flag will dump the heap before the OOO so you can later analyze it. You can use Eclipse Memory Analizer.\r\n\r\nYou can also try `-XX:+PrintReferenceGC` flag which will print some informati&#243;n regarding time spent during gc cycle by cleaning those kind of references.\r\n","title":"No garbage collector has time to collect SoftReference, always OutOfMemoryError","body":"<p><code>Referents</code> (Object referenced by the <code>SoftReference</code>) are being cleared by the GC before throwing an OOO Exception.</p>\n<p>But what is not being garbaged collected are the <code>SoftReference</code> objects themselves. They are objects too and they consume heap memory. They are all being held in memory by the list. GC only clears the object they point to, that is the <code>referent</code>.</p>\n<p>Run your JVM with <code>-XX:+HeapDumpOnOutOfMemoryError</code>. This flag will dump the heap before the OOO so you can later analyze it. You can use Eclipse Memory Analizer.</p>\n<p>You can also try <code>-XX:+PrintReferenceGC</code> flag which will print some informatin regarding time spent during gc cycle by cleaning those kind of references.</p>\n"}],"owner":{"account_id":18278959,"reputation":203,"user_id":13308124,"display_name":"Thomazzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70725327,"answer_count":1,"score":0,"last_activity_date":1642279948,"creation_date":1642278626,"question_id":70725189,"body_markdown":"Tried all garbage collectors, a million different combinations of settings.\r\nBut the result is always the same - OutOfMemoryError.\r\n\r\nCan anyone tell which garbage collector will be able to timely remove objects referenced by soft references\r\n\r\nExample emulator code below\r\n\r\n```\r\npackage com;\r\n\r\nimport java.lang.ref.SoftReference;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass SoftReferenceCollector {\r\n\r\n    private static class Data {\r\n        public long[] l = new long[100];\r\n    }\r\n\r\n    private List&lt;SoftReference&lt;Data&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    public void startFillCollection(int durationInSec) {\r\n        long i = 0;\r\n\r\n        long start = System.currentTimeMillis();\r\n        long end = start + durationInSec * 1000;\r\n        while (System.currentTimeMillis() &lt; end) {\r\n            list.add(new SoftReference&lt;&gt;(new Data()));\r\n            ++i;\r\n            if (i % 10000 == 0) {\r\n                sleep(1);\r\n                if (i % 1_000_000 == 0)\r\n                    sleep(1000);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void sleep(long millis) {\r\n        try {\r\n            Thread.sleep(millis);\r\n        } catch (InterruptedException ignored) {\r\n        }\r\n    }\r\n}\r\n\r\n\r\npublic class Main6 {\r\n    public static void main(String[] args) {\r\n        SoftReferenceCollector softReferenceCollector = new SoftReferenceCollector();\r\n        softReferenceCollector.startFillCollection(11240);\r\n\r\n    }\r\n}\r\n\r\n```","title":"No garbage collector has time to collect SoftReference, always OutOfMemoryError","body":"<p>Tried all garbage collectors, a million different combinations of settings.\nBut the result is always the same - OutOfMemoryError.</p>\n<p>Can anyone tell which garbage collector will be able to timely remove objects referenced by soft references</p>\n<p>Example emulator code below</p>\n<pre><code>package com;\n\nimport java.lang.ref.SoftReference;\nimport java.util.ArrayList;\nimport java.util.List;\n\nclass SoftReferenceCollector {\n\n    private static class Data {\n        public long[] l = new long[100];\n    }\n\n    private List&lt;SoftReference&lt;Data&gt;&gt; list = new ArrayList&lt;&gt;();\n\n    public void startFillCollection(int durationInSec) {\n        long i = 0;\n\n        long start = System.currentTimeMillis();\n        long end = start + durationInSec * 1000;\n        while (System.currentTimeMillis() &lt; end) {\n            list.add(new SoftReference&lt;&gt;(new Data()));\n            ++i;\n            if (i % 10000 == 0) {\n                sleep(1);\n                if (i % 1_000_000 == 0)\n                    sleep(1000);\n            }\n        }\n    }\n\n    private void sleep(long millis) {\n        try {\n            Thread.sleep(millis);\n        } catch (InterruptedException ignored) {\n        }\n    }\n}\n\n\npublic class Main6 {\n    public static void main(String[] args) {\n        SoftReferenceCollector softReferenceCollector = new SoftReferenceCollector();\n        softReferenceCollector.startFillCollection(11240);\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","graphql"],"answers":[{"tags":[],"owner":{"account_id":4470821,"reputation":61,"user_id":6776340,"display_name":"Marcelo Maico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642279743,"creation_date":1642279743,"answer_id":70725309,"question_id":70710167,"body_markdown":"I found the solution. Just mark the type with extend, that way you can add or change a type, even if it is in another lib.\r\n\r\n```\r\nextend type Query {\r\n   myCustomQueryHerer(): [String]\r\n}\r\n````\r\n\t","title":"Extends Java GraphQL schema type query in other module(jar)","body":"<p>I found the solution. Just mark the type with extend, that way you can add or change a type, even if it is in another lib.</p>\n<pre><code>extend type Query {\n   myCustomQueryHerer(): [String]\n}\n</code></pre>\n"}],"owner":{"account_id":4470821,"reputation":61,"user_id":6776340,"display_name":"Marcelo Maico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642279743,"creation_date":1642161198,"question_id":70710167,"body_markdown":"I&#39;ve a jar with GraphQL api and the schemas of this api. But i want to extends this api with a custom query. I created a \r\n\r\nmy-custom-queries.graphqls\r\n```\r\ntype Query {\r\n    myCustomQueryHerer(): [String]\r\n}\r\n```\r\n\r\nOther Module(jar dependency)\r\n```\r\ntype Query {\r\n   queryOne(): String\r\n   queryTwo(): Int \r\n}\r\n```\r\nThe schema parser(graphql-java) identify both definitions but ignore my customization, keeping only the definitions made in the jar dependency.  \r\n\r\nIs there a way to add a query in the type Query schema, extending the settings made in the api(jar)?\r\n","title":"Extends Java GraphQL schema type query in other module(jar)","body":"<p>I've a jar with GraphQL api and the schemas of this api. But i want to extends this api with a custom query. I created a</p>\n<p>my-custom-queries.graphqls</p>\n<pre><code>type Query {\n    myCustomQueryHerer(): [String]\n}\n</code></pre>\n<p>Other Module(jar dependency)</p>\n<pre><code>type Query {\n   queryOne(): String\n   queryTwo(): Int \n}\n</code></pre>\n<p>The schema parser(graphql-java) identify both definitions but ignore my customization, keeping only the definitions made in the jar dependency.</p>\n<p>Is there a way to add a query in the type Query schema, extending the settings made in the api(jar)?</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":1156433,"reputation":1407,"user_id":1136905,"accept_rate":83,"display_name":"swaechter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642278975,"creation_date":1642278975,"answer_id":70725235,"question_id":70625089,"body_markdown":"My problem was related to the Long conversion via Lucene `DateTools`. I changed my code and now get proper sorting:\r\n\r\n```java\r\nimport org.apache.lucene.document.*;\r\nimport org.apache.lucene.index.DirectoryReader;\r\nimport org.apache.lucene.index.IndexReader;\r\nimport org.apache.lucene.index.IndexWriter;\r\nimport org.apache.lucene.index.IndexWriterConfig;\r\nimport org.apache.lucene.queryparser.flexible.standard.StandardQueryParser;\r\nimport org.apache.lucene.queryparser.flexible.standard.config.PointsConfig;\r\nimport org.apache.lucene.search.*;\r\nimport org.apache.lucene.store.Directory;\r\nimport org.apache.lucene.store.RAMDirectory;\r\n\r\nimport java.text.DecimalFormat;\r\nimport java.time.Instant;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.util.*;\r\n\r\npublic class SearchDemo {\r\n\r\n    record Book(Integer id, String fileName, Instant uploadDate) {\r\n    }\r\n\r\n    private static Directory directory;\r\n\r\n    private static IndexWriter indexWriter;\r\n\r\n    public static void main(String[] arguments) {\r\n        try {\r\n            // Create the index\r\n            directory = new RAMDirectory();\r\n            indexWriter = new IndexWriter(directory, new IndexWriterConfig(new MultiFieldAnalyzer()));\r\n\r\n            // Define a few books\r\n            List&lt;Book&gt; books = Arrays.asList(\r\n                    new Book(1, &quot;Book1 - The beginning.pdf&quot;, createDateString(2000, 1, 1, 10, 0)),\r\n                    new Book(2, &quot;Start Wars 1.pdf&quot;, createDateString(1977, 5, 25, 10, 0)),\r\n                    new Book(3, &quot;Start Wars 2.pdf&quot;, createDateString(1980, 5, 21, 10, 0)),\r\n                    new Book(4, &quot;Start Wars 3.pdf&quot;, createDateString(1983, 5, 25, 10, 0)),\r\n                    new Book(5, &quot;The bible.pdf&quot;, createDateString(2020, 1, 1, 10, 0)),\r\n                    new Book(6, &quot;TheUltimateDeveloperGuide.pdf&quot;, createDateString(2021, 2, 16, 20, 0))\r\n            );\r\n\r\n            // Add the books\r\n            for (Book book : books) {\r\n                addBook(book);\r\n            }\r\n\r\n            // Search for all books\r\n            checkSearchResult(&quot;id:1&quot;, Arrays.asList(1));\r\n            checkSearchResult(&quot;id:6&quot;, Arrays.asList(6));\r\n            checkSearchResult(&quot;id:1 OR id:2&quot;, Arrays.asList(1, 2));\r\n            checkSearchResult(&quot;id:1 AND id:2&quot;, Arrays.asList());\r\n            checkSearchResult(&quot;fileName:TheUltimateDeveloperGuide.pdf&quot;, Arrays.asList(6));\r\n            checkSearchResult(&quot;id:6 AND fileName:TheUltimateDeveloperGuide.pdf&quot;, Arrays.asList(6));\r\n            checkSearchResult(&quot;uploadDate:[&quot; + toLuceneDate(createDateString(2000, 1, 1, 8, 0)) + &quot; TO &quot; + toLuceneDate(createDateString(2000, 1, 1, 12, 0)) + &quot;]&quot;, Arrays.asList(1));\r\n            checkSearchResult(&quot;uploadDate:[&quot; + toLuceneDate(createDateString(1977, 1, 1, 1, 0)) + &quot; TO &quot; + toLuceneDate(createDateString(1983, 5, 26, 1, 0)) + &quot;]&quot;, Arrays.asList(4, 3, 2));\r\n            checkSearchResult(&quot;uploadDate:[&quot; + toLuceneDate(createDateString(1930, 1, 1, 1, 1)) + &quot; TO &quot; + toLuceneDate(createDateString(2030, 1, 1, 1, 1)) + &quot;]&quot;, Arrays.asList(6, 5, 1, 4, 3, 2));\r\n            checkSearchResult(&quot;id:1 uploadDate:[&quot; + toLuceneDate(createDateString(2000, 1, 1, 8, 0)) + &quot; TO &quot; + toLuceneDate(createDateString(2000, 1, 1, 12, 0)) + &quot;]&quot;, Arrays.asList(1));\r\n        } catch (Exception exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void addBook(Book book) throws Exception {\r\n        Instant uploadDateInstant = book.uploadDate;\r\n        Long uploadDate = toLuceneDate(uploadDateInstant);\r\n\r\n        Document document = new Document();\r\n        document.add(new StringField(&quot;id&quot;, Integer.toString(book.id), Field.Store.YES));\r\n        document.add(new StringField(&quot;fileName&quot;, book.fileName, Field.Store.YES));\r\n        document.add(new LongPoint(&quot;uploadDate&quot;, uploadDate));\r\n        document.add(new StoredField(&quot;uploadDate&quot;, uploadDate.toString()));\r\n        document.add(new NumericDocValuesField(&quot;uploadDate&quot;, uploadDate));\r\n        indexWriter.addDocument(document);\r\n        indexWriter.commit();\r\n    }\r\n\r\n    private static List&lt;Book&gt; searchBooks(String searchQuery) throws Exception {\r\n        // Create the reader and search for the range 101 to 203\r\n        IndexReader indexReader = DirectoryReader.open(indexWriter);\r\n        IndexSearcher indexSearcher = new IndexSearcher(indexReader);\r\n        StandardQueryParser parser = new StandardQueryParser();\r\n        parser.setAnalyzer(indexWriter.getAnalyzer());\r\n\r\n        PointsConfig pointsConfig = new PointsConfig(new DecimalFormat(), Long.class);\r\n        Map&lt;String, PointsConfig&gt; pointsConfigMap = new HashMap&lt;&gt;();\r\n        pointsConfigMap.put(&quot;uploadDate&quot;, pointsConfig);\r\n        parser.setPointsConfigMap(pointsConfigMap);\r\n\r\n        SortField valueSort = new SortedNumericSortField(&quot;uploadDate&quot;, SortField.Type.LONG, true);\r\n        Sort sorter = new Sort(valueSort);\r\n\r\n        Query query = parser.parse(searchQuery, &quot;&quot;);\r\n        TopDocs hits = indexSearcher.search(query, 100, sorter);\r\n\r\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; hits.scoreDocs.length; i++) {\r\n            int docId = hits.scoreDocs[i].doc;\r\n            Document document = indexSearcher.doc(docId);\r\n            Integer id = Integer.parseInt(document.get(&quot;id&quot;));\r\n            String fileName = document.get(&quot;fileName&quot;);\r\n            Instant uploadDate = DateTools.stringToDate(document.get(&quot;uploadDate&quot;)).toInstant();\r\n            books.add(new Book(id, fileName, uploadDate));\r\n        }\r\n        return books;\r\n    }\r\n\r\n    private static Instant createDateString(Integer year, Integer month, Integer day, Integer hour, Integer minute) {\r\n        LocalDateTime dateTime = LocalDateTime.of(year, month, day, hour, minute);\r\n        return dateTime.atZone(ZoneId.of(&quot;Europe/Zurich&quot;)).toInstant();\r\n    }\r\n\r\n    private static Long toLuceneDate(Instant instant) {\r\n        return Long.parseLong(DateTools.dateToString(Date.from(instant), DateTools.Resolution.MINUTE));\r\n    }\r\n\r\n    public static void checkSearchResult(String queryText, List&lt;Integer&gt; expectedIds) throws Exception {\r\n        System.out.println(&quot;========== &quot; + queryText + &quot; ==========&quot;);\r\n        List&lt;Book&gt; books = searchBooks(queryText);\r\n\r\n        if (expectedIds.isEmpty()) { // Check for no result\r\n            System.out.println(&quot;EMPTY AS EXPECTED&quot;);\r\n        } else if (expectedIds.size() != books.size()) { // Check dimension\r\n            System.out.println(&quot;MISMATCH. GOT: &quot; + books);\r\n        } else { // Check values\r\n            for (int i = 0; i &lt; expectedIds.size(); i++) {\r\n                if (expectedIds.get(i).equals(books.get(i).id)) {\r\n                    System.out.println(&quot;FOUND: &quot; + books.get(i));\r\n                } else {\r\n                    System.out.println(&quot;MISSING: &quot; + books.get(i).id);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n========== id:1 ==========\r\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\r\n========== id:6 ==========\r\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\r\n========== id:1 OR id:2 ==========\r\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\r\nFOUND: Book[id=2, fileName=Start Wars 1.pdf, uploadDate=1977-05-25T09:00:00Z]\r\n========== id:1 AND id:2 ==========\r\nEMPTY AS EXPECTED\r\n========== fileName:TheUltimateDeveloperGuide.pdf ==========\r\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\r\n========== id:6 AND fileName:TheUltimateDeveloperGuide.pdf ==========\r\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\r\n========== uploadDate:[200001010700 TO 200001011100] ==========\r\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\r\n========== uploadDate:[197701010000 TO 198305252300] ==========\r\nFOUND: Book[id=4, fileName=Start Wars 3.pdf, uploadDate=1983-05-25T08:00:00Z]\r\nFOUND: Book[id=3, fileName=Start Wars 2.pdf, uploadDate=1980-05-21T09:00:00Z]\r\nFOUND: Book[id=2, fileName=Start Wars 1.pdf, uploadDate=1977-05-25T09:00:00Z]\r\n========== uploadDate:[193001010001 TO 203001010001] ==========\r\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\r\nFOUND: Book[id=5, fileName=The bible.pdf, uploadDate=2020-01-01T09:00:00Z]\r\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\r\nFOUND: Book[id=4, fileName=Start Wars 3.pdf, uploadDate=1983-05-25T08:00:00Z]\r\nFOUND: Book[id=3, fileName=Start Wars 2.pdf, uploadDate=1980-05-21T09:00:00Z]\r\nFOUND: Book[id=2, fileName=Start Wars 1.pdf, uploadDate=1977-05-25T09:00:00Z]\r\n========== id:1 uploadDate:[200001010700 TO 200001011100] ==========\r\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\r\n```","title":"How to sort a Lucene long date range by date","body":"<p>My problem was related to the Long conversion via Lucene <code>DateTools</code>. I changed my code and now get proper sorting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.lucene.document.*;\nimport org.apache.lucene.index.DirectoryReader;\nimport org.apache.lucene.index.IndexReader;\nimport org.apache.lucene.index.IndexWriter;\nimport org.apache.lucene.index.IndexWriterConfig;\nimport org.apache.lucene.queryparser.flexible.standard.StandardQueryParser;\nimport org.apache.lucene.queryparser.flexible.standard.config.PointsConfig;\nimport org.apache.lucene.search.*;\nimport org.apache.lucene.store.Directory;\nimport org.apache.lucene.store.RAMDirectory;\n\nimport java.text.DecimalFormat;\nimport java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.*;\n\npublic class SearchDemo {\n\n    record Book(Integer id, String fileName, Instant uploadDate) {\n    }\n\n    private static Directory directory;\n\n    private static IndexWriter indexWriter;\n\n    public static void main(String[] arguments) {\n        try {\n            // Create the index\n            directory = new RAMDirectory();\n            indexWriter = new IndexWriter(directory, new IndexWriterConfig(new MultiFieldAnalyzer()));\n\n            // Define a few books\n            List&lt;Book&gt; books = Arrays.asList(\n                    new Book(1, &quot;Book1 - The beginning.pdf&quot;, createDateString(2000, 1, 1, 10, 0)),\n                    new Book(2, &quot;Start Wars 1.pdf&quot;, createDateString(1977, 5, 25, 10, 0)),\n                    new Book(3, &quot;Start Wars 2.pdf&quot;, createDateString(1980, 5, 21, 10, 0)),\n                    new Book(4, &quot;Start Wars 3.pdf&quot;, createDateString(1983, 5, 25, 10, 0)),\n                    new Book(5, &quot;The bible.pdf&quot;, createDateString(2020, 1, 1, 10, 0)),\n                    new Book(6, &quot;TheUltimateDeveloperGuide.pdf&quot;, createDateString(2021, 2, 16, 20, 0))\n            );\n\n            // Add the books\n            for (Book book : books) {\n                addBook(book);\n            }\n\n            // Search for all books\n            checkSearchResult(&quot;id:1&quot;, Arrays.asList(1));\n            checkSearchResult(&quot;id:6&quot;, Arrays.asList(6));\n            checkSearchResult(&quot;id:1 OR id:2&quot;, Arrays.asList(1, 2));\n            checkSearchResult(&quot;id:1 AND id:2&quot;, Arrays.asList());\n            checkSearchResult(&quot;fileName:TheUltimateDeveloperGuide.pdf&quot;, Arrays.asList(6));\n            checkSearchResult(&quot;id:6 AND fileName:TheUltimateDeveloperGuide.pdf&quot;, Arrays.asList(6));\n            checkSearchResult(&quot;uploadDate:[&quot; + toLuceneDate(createDateString(2000, 1, 1, 8, 0)) + &quot; TO &quot; + toLuceneDate(createDateString(2000, 1, 1, 12, 0)) + &quot;]&quot;, Arrays.asList(1));\n            checkSearchResult(&quot;uploadDate:[&quot; + toLuceneDate(createDateString(1977, 1, 1, 1, 0)) + &quot; TO &quot; + toLuceneDate(createDateString(1983, 5, 26, 1, 0)) + &quot;]&quot;, Arrays.asList(4, 3, 2));\n            checkSearchResult(&quot;uploadDate:[&quot; + toLuceneDate(createDateString(1930, 1, 1, 1, 1)) + &quot; TO &quot; + toLuceneDate(createDateString(2030, 1, 1, 1, 1)) + &quot;]&quot;, Arrays.asList(6, 5, 1, 4, 3, 2));\n            checkSearchResult(&quot;id:1 uploadDate:[&quot; + toLuceneDate(createDateString(2000, 1, 1, 8, 0)) + &quot; TO &quot; + toLuceneDate(createDateString(2000, 1, 1, 12, 0)) + &quot;]&quot;, Arrays.asList(1));\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n\n    private static void addBook(Book book) throws Exception {\n        Instant uploadDateInstant = book.uploadDate;\n        Long uploadDate = toLuceneDate(uploadDateInstant);\n\n        Document document = new Document();\n        document.add(new StringField(&quot;id&quot;, Integer.toString(book.id), Field.Store.YES));\n        document.add(new StringField(&quot;fileName&quot;, book.fileName, Field.Store.YES));\n        document.add(new LongPoint(&quot;uploadDate&quot;, uploadDate));\n        document.add(new StoredField(&quot;uploadDate&quot;, uploadDate.toString()));\n        document.add(new NumericDocValuesField(&quot;uploadDate&quot;, uploadDate));\n        indexWriter.addDocument(document);\n        indexWriter.commit();\n    }\n\n    private static List&lt;Book&gt; searchBooks(String searchQuery) throws Exception {\n        // Create the reader and search for the range 101 to 203\n        IndexReader indexReader = DirectoryReader.open(indexWriter);\n        IndexSearcher indexSearcher = new IndexSearcher(indexReader);\n        StandardQueryParser parser = new StandardQueryParser();\n        parser.setAnalyzer(indexWriter.getAnalyzer());\n\n        PointsConfig pointsConfig = new PointsConfig(new DecimalFormat(), Long.class);\n        Map&lt;String, PointsConfig&gt; pointsConfigMap = new HashMap&lt;&gt;();\n        pointsConfigMap.put(&quot;uploadDate&quot;, pointsConfig);\n        parser.setPointsConfigMap(pointsConfigMap);\n\n        SortField valueSort = new SortedNumericSortField(&quot;uploadDate&quot;, SortField.Type.LONG, true);\n        Sort sorter = new Sort(valueSort);\n\n        Query query = parser.parse(searchQuery, &quot;&quot;);\n        TopDocs hits = indexSearcher.search(query, 100, sorter);\n\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; hits.scoreDocs.length; i++) {\n            int docId = hits.scoreDocs[i].doc;\n            Document document = indexSearcher.doc(docId);\n            Integer id = Integer.parseInt(document.get(&quot;id&quot;));\n            String fileName = document.get(&quot;fileName&quot;);\n            Instant uploadDate = DateTools.stringToDate(document.get(&quot;uploadDate&quot;)).toInstant();\n            books.add(new Book(id, fileName, uploadDate));\n        }\n        return books;\n    }\n\n    private static Instant createDateString(Integer year, Integer month, Integer day, Integer hour, Integer minute) {\n        LocalDateTime dateTime = LocalDateTime.of(year, month, day, hour, minute);\n        return dateTime.atZone(ZoneId.of(&quot;Europe/Zurich&quot;)).toInstant();\n    }\n\n    private static Long toLuceneDate(Instant instant) {\n        return Long.parseLong(DateTools.dateToString(Date.from(instant), DateTools.Resolution.MINUTE));\n    }\n\n    public static void checkSearchResult(String queryText, List&lt;Integer&gt; expectedIds) throws Exception {\n        System.out.println(&quot;========== &quot; + queryText + &quot; ==========&quot;);\n        List&lt;Book&gt; books = searchBooks(queryText);\n\n        if (expectedIds.isEmpty()) { // Check for no result\n            System.out.println(&quot;EMPTY AS EXPECTED&quot;);\n        } else if (expectedIds.size() != books.size()) { // Check dimension\n            System.out.println(&quot;MISMATCH. GOT: &quot; + books);\n        } else { // Check values\n            for (int i = 0; i &lt; expectedIds.size(); i++) {\n                if (expectedIds.get(i).equals(books.get(i).id)) {\n                    System.out.println(&quot;FOUND: &quot; + books.get(i));\n                } else {\n                    System.out.println(&quot;MISSING: &quot; + books.get(i).id);\n\n                }\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>========== id:1 ==========\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\n========== id:6 ==========\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\n========== id:1 OR id:2 ==========\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\nFOUND: Book[id=2, fileName=Start Wars 1.pdf, uploadDate=1977-05-25T09:00:00Z]\n========== id:1 AND id:2 ==========\nEMPTY AS EXPECTED\n========== fileName:TheUltimateDeveloperGuide.pdf ==========\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\n========== id:6 AND fileName:TheUltimateDeveloperGuide.pdf ==========\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\n========== uploadDate:[200001010700 TO 200001011100] ==========\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\n========== uploadDate:[197701010000 TO 198305252300] ==========\nFOUND: Book[id=4, fileName=Start Wars 3.pdf, uploadDate=1983-05-25T08:00:00Z]\nFOUND: Book[id=3, fileName=Start Wars 2.pdf, uploadDate=1980-05-21T09:00:00Z]\nFOUND: Book[id=2, fileName=Start Wars 1.pdf, uploadDate=1977-05-25T09:00:00Z]\n========== uploadDate:[193001010001 TO 203001010001] ==========\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\nFOUND: Book[id=5, fileName=The bible.pdf, uploadDate=2020-01-01T09:00:00Z]\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\nFOUND: Book[id=4, fileName=Start Wars 3.pdf, uploadDate=1983-05-25T08:00:00Z]\nFOUND: Book[id=3, fileName=Start Wars 2.pdf, uploadDate=1980-05-21T09:00:00Z]\nFOUND: Book[id=2, fileName=Start Wars 1.pdf, uploadDate=1977-05-25T09:00:00Z]\n========== id:1 uploadDate:[200001010700 TO 200001011100] ==========\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\n</code></pre>\n"}],"owner":{"account_id":1156433,"reputation":1407,"user_id":1136905,"accept_rate":83,"display_name":"swaechter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70725235,"answer_count":1,"score":0,"last_activity_date":1642278975,"creation_date":1641576938,"question_id":70625089,"body_markdown":"**Problem**: I want to search books by date range, but sort the result. Searching by date range works, but the documents are not sorted properly (Insertion order, see ID?):\r\n\r\n```bash\r\n========== uploadDate:[-2208988800 TO 1893456000] ==========\r\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\r\nFOUND: Book[id=2, fileName=Start Wars 1.pdf, uploadDate=1977-05-25T09:00:00Z]\r\nFOUND: Book[id=3, fileName=Start Wars 2.pdf, uploadDate=1980-05-21T09:00:00Z]\r\nFOUND: Book[id=4, fileName=Start Wars 3.pdf, uploadDate=1983-05-25T08:00:00Z]\r\nFOUND: Book[id=5, fileName=The bible.pdf, uploadDate=2020-01-01T09:00:00Z]\r\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\r\n```\r\n\r\nTo sort them by date, I changed my code to:\r\n\r\nAdd `NumericDocValuesField`:\r\n\r\n```java\r\ndocument.add(new StoredField(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\r\ndocument.add(new LongPoint(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\r\ndocument.add(new NumericDocValuesField(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\r\n```\r\n\r\nAdd a `Sort`:\r\n\r\n```java\r\n// Build the sorter to sort the documents by date\r\nSort sorter = new Sort();\r\nSortField sortField = new SortField(&quot;uploadDate&quot;, SortField.Type.LONG, true);\r\nsorter.setSort(sortField, SortField.FIELD_SCORE);\r\n\r\nQuery query = parser.parse(queryText, &quot;&quot;);\r\nTopDocs hits = indexSearcher.search(query, 100, sorter);\r\n```\r\n\r\n\r\n**Question**: What am I doing wrong? What do I need to change so the documents get sorted descending (2021 first, 20202 second, 2000 third...). Taking a look at the following question did not help: https://stackoverflow.com/questions/21963561/sorting-lucene-documents-by-date\r\n\r\nMy code:\r\n\r\n```java\r\nimport org.apache.lucene.document.*;\r\nimport org.apache.lucene.index.DirectoryReader;\r\nimport org.apache.lucene.index.IndexReader;\r\nimport org.apache.lucene.index.IndexWriter;\r\nimport org.apache.lucene.index.IndexWriterConfig;\r\nimport org.apache.lucene.queryparser.flexible.standard.StandardQueryParser;\r\nimport org.apache.lucene.queryparser.flexible.standard.config.PointsConfig;\r\nimport org.apache.lucene.search.*;\r\nimport org.apache.lucene.store.Directory;\r\nimport org.apache.lucene.store.RAMDirectory;\r\n\r\nimport java.text.DecimalFormat;\r\nimport java.time.Instant;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.util.*;\r\n\r\npublic class LuceneDocumentExample {\r\n\r\n    public static record Book(\r\n        Integer id,\r\n        String fileName,\r\n        Instant uploadDate\r\n    ) {\r\n    }\r\n\r\n    private static Directory directory;\r\n\r\n    private static IndexWriter indexWriter;\r\n\r\n    public static void main(String[] arguments) throws Exception{\r\n        // Create the index\r\n        directory = new RAMDirectory();\r\n        indexWriter = new IndexWriter(new RAMDirectory(), new IndexWriterConfig(new MultiFieldAnalyzer()));\r\n\r\n        // Define some sample books\r\n        List&lt;Book&gt; books = Arrays.asList(\r\n            new Book(1, &quot;Book1 - The beginning.pdf&quot;, createInstant(2000, 1, 1, 10, 0)),\r\n            new Book(2, &quot;Start Wars 1.pdf&quot;, createInstant(1977, 5, 25, 10, 0)),\r\n            new Book(3, &quot;Start Wars 2.pdf&quot;, createInstant(1980, 5, 21, 10, 0)),\r\n            new Book(4, &quot;Start Wars 3.pdf&quot;, createInstant(1983, 5, 25, 10, 0)),\r\n            new Book(5, &quot;The bible.pdf&quot;, createInstant(2020, 1, 1, 10, 0)),\r\n            new Book(6, &quot;TheUltimateDeveloperGuide.pdf&quot;, createInstant(2021, 2, 16, 20, 0))\r\n        );\r\n\r\n        // Add the books\r\n        for (Book book : books) {\r\n            Document document = new Document();\r\n\r\n            document.add(new StringField(&quot;id&quot;, book.id().toString(), Field.Store.YES));\r\n\r\n            document.add(new StringField(&quot;fileName&quot;, book.fileName(), Field.Store.YES));\r\n\r\n            document.add(new StoredField(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\r\n            document.add(new LongPoint(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\r\n            document.add(new NumericDocValuesField(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\r\n\r\n            indexWriter.addDocument(document);\r\n            indexWriter.commit();\r\n        }\r\n\r\n        // Run several test queries to check the functionality\r\n        checkSearchResult(&quot;id:1&quot;, Set.of(1));\r\n        checkSearchResult(&quot;id:6&quot;, Set.of(6));\r\n        checkSearchResult(&quot;id:1 OR id:2&quot;, Set.of(1, 2));\r\n        checkSearchResult(&quot;id:1 AND id:2&quot;, Set.of());\r\n        checkSearchResult(&quot;fileName:TheUltimateDeveloperGuide.pdf&quot;, Set.of(6));\r\n        checkSearchResult(&quot;id:6 fileName:TheUltimateDeveloperGuide.pdf&quot;, Set.of(6));\r\n        checkSearchResult(&quot;uploadDate:[&quot; + createInstant(2000, 1, 1, 8, 0).getEpochSecond() + &quot; TO &quot; + createInstant(2000, 1, 1, 12, 0).getEpochSecond() + &quot;]&quot;, Set.of(1));\r\n        checkSearchResult(&quot;uploadDate:[&quot; + createInstant(1977, 1, 1, 1, 0).getEpochSecond() + &quot; TO &quot; + createInstant(1983, 5, 26, 1, 0).getEpochSecond() + &quot;]&quot;, Set.of(2, 3, 4));\r\n        checkSearchResult(&quot;uploadDate:[&quot; + createInstant(1900, 1, 1, 1, 0).getEpochSecond() + &quot; TO &quot; + createInstant(2030, 1, 1, 1, 0).getEpochSecond() + &quot;]&quot;, Set.of(1, 2, 3, 4, 5, 6));\r\n        checkSearchResult(&quot;id:1 uploadDate:[&quot; + createInstant(2000, 1, 1, 8, 0).getEpochSecond() + &quot; TO &quot; + createInstant(2000, 1, 1, 12, 0).getEpochSecond() + &quot;]&quot;, Set.of(1));\r\n\r\n        // Close the index\r\n        indexWriter.close();\r\n        directory.close();\r\n    }\r\n\r\n    public static List&lt;Book&gt; searchDocuments(String queryText) {\r\n        // Create the reader\r\n        try (IndexReader indexReader = DirectoryReader.open(indexWriter)) {\r\n            IndexSearcher indexSearcher = new IndexSearcher(indexReader);\r\n\r\n            StandardQueryParser parser = new StandardQueryParser();\r\n            parser.setAnalyzer(indexWriter.getAnalyzer());\r\n\r\n            Map&lt;String, PointsConfig&gt; pointsConfigMap = new HashMap&lt;&gt;();\r\n            pointsConfigMap.put(&quot;uploadDate&quot;, new PointsConfig(new DecimalFormat(), Long.class));\r\n            parser.setPointsConfigMap(pointsConfigMap);\r\n\r\n            // Build the sorter to sort the documents by date\r\n            Sort sorter = new Sort();\r\n            SortField sortField = new SortField(&quot;uploadDate&quot;, SortField.Type.LONG, true);\r\n            sorter.setSort(sortField, SortField.FIELD_SCORE);\r\n\r\n            Query query = parser.parse(queryText, &quot;&quot;);\r\n            TopDocs hits = indexSearcher.search(query, 100, sorter);\r\n\r\n            List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; hits.scoreDocs.length; i++) {\r\n                int docId = hits.scoreDocs[i].doc;\r\n                Document document = indexSearcher.doc(docId);\r\n\r\n                Integer id = Integer.parseInt(document.get(&quot;id&quot;));\r\n                String fileName = document.get(&quot;fileName&quot;);\r\n                Instant uploadDate = Instant.ofEpochSecond(Long.parseLong(document.get(&quot;uploadDate&quot;)));\r\n\r\n                books.add(new Book(id, fileName, uploadDate));\r\n            }\r\n            return books;\r\n        } catch (Exception exception) {\r\n            throw new RuntimeException(&quot;Unable to execute query &quot; + queryText + &quot;: &quot; + exception.getMessage(), exception);\r\n        }\r\n    }\r\n\r\n    public static void checkSearchResult(String queryText, Set&lt;Integer&gt; expectedIds) {\r\n        System.out.println(&quot;========== &quot; + queryText + &quot; ==========&quot;);\r\n        List&lt;Book&gt; books = searchDocuments(queryText);\r\n        if (!expectedIds.isEmpty()) {\r\n            for (Integer expectedId : expectedIds) {\r\n                Optional&lt;Book&gt; optionalBook = books.stream().filter(book -&gt; expectedId.equals(book.id())).findAny();\r\n                if (optionalBook.isPresent()) {\r\n                    System.out.println(&quot;FOUND: &quot; + optionalBook.get());\r\n                } else {\r\n                    System.out.println(&quot;MISSING: &quot; + expectedId);\r\n                }\r\n            }\r\n        } else {\r\n            System.out.println(&quot;NONE&quot;);\r\n        }\r\n    }\r\n\r\n    private static Instant createInstant(Integer year, Integer month, Integer day, Integer hour, Integer minute) {\r\n        LocalDateTime dateTime = LocalDateTime.of(year, month, day, hour, minute);\r\n        return dateTime.atZone(ZoneId.of(&quot;Europe/Zurich&quot;)).toInstant();\r\n    }\r\n}\r\n```","title":"How to sort a Lucene long date range by date","body":"<p><strong>Problem</strong>: I want to search books by date range, but sort the result. Searching by date range works, but the documents are not sorted properly (Insertion order, see ID?):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>========== uploadDate:[-2208988800 TO 1893456000] ==========\nFOUND: Book[id=1, fileName=Book1 - The beginning.pdf, uploadDate=2000-01-01T09:00:00Z]\nFOUND: Book[id=2, fileName=Start Wars 1.pdf, uploadDate=1977-05-25T09:00:00Z]\nFOUND: Book[id=3, fileName=Start Wars 2.pdf, uploadDate=1980-05-21T09:00:00Z]\nFOUND: Book[id=4, fileName=Start Wars 3.pdf, uploadDate=1983-05-25T08:00:00Z]\nFOUND: Book[id=5, fileName=The bible.pdf, uploadDate=2020-01-01T09:00:00Z]\nFOUND: Book[id=6, fileName=TheUltimateDeveloperGuide.pdf, uploadDate=2021-02-16T19:00:00Z]\n</code></pre>\n<p>To sort them by date, I changed my code to:</p>\n<p>Add <code>NumericDocValuesField</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>document.add(new StoredField(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\ndocument.add(new LongPoint(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\ndocument.add(new NumericDocValuesField(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\n</code></pre>\n<p>Add a <code>Sort</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Build the sorter to sort the documents by date\nSort sorter = new Sort();\nSortField sortField = new SortField(&quot;uploadDate&quot;, SortField.Type.LONG, true);\nsorter.setSort(sortField, SortField.FIELD_SCORE);\n\nQuery query = parser.parse(queryText, &quot;&quot;);\nTopDocs hits = indexSearcher.search(query, 100, sorter);\n</code></pre>\n<p><strong>Question</strong>: What am I doing wrong? What do I need to change so the documents get sorted descending (2021 first, 20202 second, 2000 third...). Taking a look at the following question did not help: <a href=\"https://stackoverflow.com/questions/21963561/sorting-lucene-documents-by-date\">Sorting lucene documents by date</a></p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.lucene.document.*;\nimport org.apache.lucene.index.DirectoryReader;\nimport org.apache.lucene.index.IndexReader;\nimport org.apache.lucene.index.IndexWriter;\nimport org.apache.lucene.index.IndexWriterConfig;\nimport org.apache.lucene.queryparser.flexible.standard.StandardQueryParser;\nimport org.apache.lucene.queryparser.flexible.standard.config.PointsConfig;\nimport org.apache.lucene.search.*;\nimport org.apache.lucene.store.Directory;\nimport org.apache.lucene.store.RAMDirectory;\n\nimport java.text.DecimalFormat;\nimport java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.*;\n\npublic class LuceneDocumentExample {\n\n    public static record Book(\n        Integer id,\n        String fileName,\n        Instant uploadDate\n    ) {\n    }\n\n    private static Directory directory;\n\n    private static IndexWriter indexWriter;\n\n    public static void main(String[] arguments) throws Exception{\n        // Create the index\n        directory = new RAMDirectory();\n        indexWriter = new IndexWriter(new RAMDirectory(), new IndexWriterConfig(new MultiFieldAnalyzer()));\n\n        // Define some sample books\n        List&lt;Book&gt; books = Arrays.asList(\n            new Book(1, &quot;Book1 - The beginning.pdf&quot;, createInstant(2000, 1, 1, 10, 0)),\n            new Book(2, &quot;Start Wars 1.pdf&quot;, createInstant(1977, 5, 25, 10, 0)),\n            new Book(3, &quot;Start Wars 2.pdf&quot;, createInstant(1980, 5, 21, 10, 0)),\n            new Book(4, &quot;Start Wars 3.pdf&quot;, createInstant(1983, 5, 25, 10, 0)),\n            new Book(5, &quot;The bible.pdf&quot;, createInstant(2020, 1, 1, 10, 0)),\n            new Book(6, &quot;TheUltimateDeveloperGuide.pdf&quot;, createInstant(2021, 2, 16, 20, 0))\n        );\n\n        // Add the books\n        for (Book book : books) {\n            Document document = new Document();\n\n            document.add(new StringField(&quot;id&quot;, book.id().toString(), Field.Store.YES));\n\n            document.add(new StringField(&quot;fileName&quot;, book.fileName(), Field.Store.YES));\n\n            document.add(new StoredField(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\n            document.add(new LongPoint(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\n            document.add(new NumericDocValuesField(&quot;uploadDate&quot;, book.uploadDate().getEpochSecond()));\n\n            indexWriter.addDocument(document);\n            indexWriter.commit();\n        }\n\n        // Run several test queries to check the functionality\n        checkSearchResult(&quot;id:1&quot;, Set.of(1));\n        checkSearchResult(&quot;id:6&quot;, Set.of(6));\n        checkSearchResult(&quot;id:1 OR id:2&quot;, Set.of(1, 2));\n        checkSearchResult(&quot;id:1 AND id:2&quot;, Set.of());\n        checkSearchResult(&quot;fileName:TheUltimateDeveloperGuide.pdf&quot;, Set.of(6));\n        checkSearchResult(&quot;id:6 fileName:TheUltimateDeveloperGuide.pdf&quot;, Set.of(6));\n        checkSearchResult(&quot;uploadDate:[&quot; + createInstant(2000, 1, 1, 8, 0).getEpochSecond() + &quot; TO &quot; + createInstant(2000, 1, 1, 12, 0).getEpochSecond() + &quot;]&quot;, Set.of(1));\n        checkSearchResult(&quot;uploadDate:[&quot; + createInstant(1977, 1, 1, 1, 0).getEpochSecond() + &quot; TO &quot; + createInstant(1983, 5, 26, 1, 0).getEpochSecond() + &quot;]&quot;, Set.of(2, 3, 4));\n        checkSearchResult(&quot;uploadDate:[&quot; + createInstant(1900, 1, 1, 1, 0).getEpochSecond() + &quot; TO &quot; + createInstant(2030, 1, 1, 1, 0).getEpochSecond() + &quot;]&quot;, Set.of(1, 2, 3, 4, 5, 6));\n        checkSearchResult(&quot;id:1 uploadDate:[&quot; + createInstant(2000, 1, 1, 8, 0).getEpochSecond() + &quot; TO &quot; + createInstant(2000, 1, 1, 12, 0).getEpochSecond() + &quot;]&quot;, Set.of(1));\n\n        // Close the index\n        indexWriter.close();\n        directory.close();\n    }\n\n    public static List&lt;Book&gt; searchDocuments(String queryText) {\n        // Create the reader\n        try (IndexReader indexReader = DirectoryReader.open(indexWriter)) {\n            IndexSearcher indexSearcher = new IndexSearcher(indexReader);\n\n            StandardQueryParser parser = new StandardQueryParser();\n            parser.setAnalyzer(indexWriter.getAnalyzer());\n\n            Map&lt;String, PointsConfig&gt; pointsConfigMap = new HashMap&lt;&gt;();\n            pointsConfigMap.put(&quot;uploadDate&quot;, new PointsConfig(new DecimalFormat(), Long.class));\n            parser.setPointsConfigMap(pointsConfigMap);\n\n            // Build the sorter to sort the documents by date\n            Sort sorter = new Sort();\n            SortField sortField = new SortField(&quot;uploadDate&quot;, SortField.Type.LONG, true);\n            sorter.setSort(sortField, SortField.FIELD_SCORE);\n\n            Query query = parser.parse(queryText, &quot;&quot;);\n            TopDocs hits = indexSearcher.search(query, 100, sorter);\n\n            List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; hits.scoreDocs.length; i++) {\n                int docId = hits.scoreDocs[i].doc;\n                Document document = indexSearcher.doc(docId);\n\n                Integer id = Integer.parseInt(document.get(&quot;id&quot;));\n                String fileName = document.get(&quot;fileName&quot;);\n                Instant uploadDate = Instant.ofEpochSecond(Long.parseLong(document.get(&quot;uploadDate&quot;)));\n\n                books.add(new Book(id, fileName, uploadDate));\n            }\n            return books;\n        } catch (Exception exception) {\n            throw new RuntimeException(&quot;Unable to execute query &quot; + queryText + &quot;: &quot; + exception.getMessage(), exception);\n        }\n    }\n\n    public static void checkSearchResult(String queryText, Set&lt;Integer&gt; expectedIds) {\n        System.out.println(&quot;========== &quot; + queryText + &quot; ==========&quot;);\n        List&lt;Book&gt; books = searchDocuments(queryText);\n        if (!expectedIds.isEmpty()) {\n            for (Integer expectedId : expectedIds) {\n                Optional&lt;Book&gt; optionalBook = books.stream().filter(book -&gt; expectedId.equals(book.id())).findAny();\n                if (optionalBook.isPresent()) {\n                    System.out.println(&quot;FOUND: &quot; + optionalBook.get());\n                } else {\n                    System.out.println(&quot;MISSING: &quot; + expectedId);\n                }\n            }\n        } else {\n            System.out.println(&quot;NONE&quot;);\n        }\n    }\n\n    private static Instant createInstant(Integer year, Integer month, Integer day, Integer hour, Integer minute) {\n        LocalDateTime dateTime = LocalDateTime.of(year, month, day, hour, minute);\n        return dateTime.atZone(ZoneId.of(&quot;Europe/Zurich&quot;)).toInstant();\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","spring-boot","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642278858,"creation_date":1642278858,"answer_id":70725213,"question_id":70718511,"body_markdown":"This is due to a bug in Spring Boot that is being tracked in this issue: https://github.com/spring-projects/spring-boot/issues/28837.\r\n\r\nThe problem is specific to Oracle&#39;s JDK 17. If switch JDK is an option, you could downgrade to Oracle JDK 11. Alternatively, any version of OpenJDK (8, 11, and 17 are all supported) should also avoid the problem.","title":"BouncyCastle in SpringBoot","body":"<p>This is due to a bug in Spring Boot that is being tracked in this issue: <a href=\"https://github.com/spring-projects/spring-boot/issues/28837\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/28837</a>.</p>\n<p>The problem is specific to Oracle's JDK 17. If switch JDK is an option, you could downgrade to Oracle JDK 11. Alternatively, any version of OpenJDK (8, 11, and 17 are all supported) should also avoid the problem.</p>\n"}],"owner":{"account_id":6730405,"reputation":11,"user_id":5186963,"display_name":"Rodolfo Farias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642278858,"creation_date":1642214802,"question_id":70718511,"body_markdown":"When I run my Springboot application as a jar file, it gives me the error below.\r\nThe problem doesn&#39;t happen when I run my project with the IDE.\r\nCould you help me with a solution?\r\nthank you!.\r\n\r\n    2022-01-14 23:34:58.885  INFO 4247 --- [nio-8080-exec-2] c.o.b.h.s.internal.BouncyCastleHelper    : Instantiated provider: org.bouncycastle.jce.provider.BouncyCastleProvider\r\n    com.oracle.bmc.http.signing.internal.PEMFileRSAPrivateKeySupplier$PEMFileRSAPrivateKeySupplierException: org.bouncycastle.openssl.PEMException: exception processing key pair: JCE cannot authenticate the provider BC\r\n    \tat com.oracle.bmc.http.signing.internal.PEMFileRSAPrivateKeySupplier.&lt;init&gt;(PEMFileRSAPrivateKeySupplier.java:118)\r\n    \tat com.oracle.bmc.http.signing.internal.DefaultRequestSignerFactory.createKeySupplier(DefaultRequestSignerFactory.java:111)\r\n    \tat com.oracle.bmc.http.signing.internal.DefaultRequestSignerFactory.createRequestSigner(DefaultRequestSignerFactory.java:54)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:284)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:218)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:181)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:146)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:118)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:93)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:70)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:56)\r\n    \tat com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:45)\r\n    \r\n    ......\r\n    \r\n    \r\n    Caused by: org.bouncycastle.openssl.PEMException: exception processing key pair: JCE cannot authenticate the provider BC\r\n    \tat org.bouncycastle.openssl.PEMEncryptedKeyPair.decryptKeyPair(Unknown Source)\r\n    \tat com.oracle.bmc.http.signing.internal.PEMFileRSAPrivateKeySupplier.&lt;init&gt;(PEMFileRSAPrivateKeySupplier.java:94)\r\n    \t... 112 more\r\n    Caused by: java.lang.SecurityException: JCE cannot authenticate the provider BC\r\n    \tat java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:143)\r\n    \tat java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:248)\r\n    \tat org.bouncycastle.jcajce.util.ProviderJcaJceHelper.createSecretKeyFactory(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.PEMUtilities.crypt(Unknown Source)\r\n    \tat org.bouncycastle.openssl.jcajce.JcePEMDecryptorProviderBuilder$1$1.decrypt(Unknown Source)\r\n    \t... 114 more\r\n    Caused by: java.lang.IllegalStateException: zip file closed\r\n    \tat java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:829)\r\n    \tat java.base/java.util.zip.ZipFile.getManifestName(ZipFile.java:1055)\r\n    \tat java.base/java.util.zip.ZipFile$1.getManifestName(ZipFile.java:1098)\r\n    \tat java.base/javax.crypto.JarVerifier.verifySingleJar(JarVerifier.java:460)\r\n    \tat java.base/javax.crypto.JarVerifier.verifyJars(JarVerifier.java:316)\r\n    \tat java.base/javax.crypto.JarVerifier.verify(JarVerifier.java:259)\r\n    \tat java.base/javax.crypto.ProviderVerifier.verify(ProviderVerifier.java:129)\r\n    \tat java.base/javax.crypto.JceSecurity.verifyProvider(JceSecurity.java:189)\r\n    \tat java.base/javax.crypto.JceSecurity.getVerificationResult(JceSecurity.java:217)\r\n    \tat java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:139)\r\n    \t... 120 more\r\n\r\n","title":"BouncyCastle in SpringBoot","body":"<p>When I run my Springboot application as a jar file, it gives me the error below.\nThe problem doesn't happen when I run my project with the IDE.\nCould you help me with a solution?\nthank you!.</p>\n<pre><code>2022-01-14 23:34:58.885  INFO 4247 --- [nio-8080-exec-2] c.o.b.h.s.internal.BouncyCastleHelper    : Instantiated provider: org.bouncycastle.jce.provider.BouncyCastleProvider\ncom.oracle.bmc.http.signing.internal.PEMFileRSAPrivateKeySupplier$PEMFileRSAPrivateKeySupplierException: org.bouncycastle.openssl.PEMException: exception processing key pair: JCE cannot authenticate the provider BC\n    at com.oracle.bmc.http.signing.internal.PEMFileRSAPrivateKeySupplier.&lt;init&gt;(PEMFileRSAPrivateKeySupplier.java:118)\n    at com.oracle.bmc.http.signing.internal.DefaultRequestSignerFactory.createKeySupplier(DefaultRequestSignerFactory.java:111)\n    at com.oracle.bmc.http.signing.internal.DefaultRequestSignerFactory.createRequestSigner(DefaultRequestSignerFactory.java:54)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:284)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:218)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:181)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:146)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:118)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:93)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:70)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:56)\n    at com.oracle.bmc.objectstorage.ObjectStorageClient.&lt;init&gt;(ObjectStorageClient.java:45)\n\n......\n\n\nCaused by: org.bouncycastle.openssl.PEMException: exception processing key pair: JCE cannot authenticate the provider BC\n    at org.bouncycastle.openssl.PEMEncryptedKeyPair.decryptKeyPair(Unknown Source)\n    at com.oracle.bmc.http.signing.internal.PEMFileRSAPrivateKeySupplier.&lt;init&gt;(PEMFileRSAPrivateKeySupplier.java:94)\n    ... 112 more\nCaused by: java.lang.SecurityException: JCE cannot authenticate the provider BC\n    at java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:143)\n    at java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:248)\n    at org.bouncycastle.jcajce.util.ProviderJcaJceHelper.createSecretKeyFactory(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.getKey(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.PEMUtilities.crypt(Unknown Source)\n    at org.bouncycastle.openssl.jcajce.JcePEMDecryptorProviderBuilder$1$1.decrypt(Unknown Source)\n    ... 114 more\nCaused by: java.lang.IllegalStateException: zip file closed\n    at java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:829)\n    at java.base/java.util.zip.ZipFile.getManifestName(ZipFile.java:1055)\n    at java.base/java.util.zip.ZipFile$1.getManifestName(ZipFile.java:1098)\n    at java.base/javax.crypto.JarVerifier.verifySingleJar(JarVerifier.java:460)\n    at java.base/javax.crypto.JarVerifier.verifyJars(JarVerifier.java:316)\n    at java.base/javax.crypto.JarVerifier.verify(JarVerifier.java:259)\n    at java.base/javax.crypto.ProviderVerifier.verify(ProviderVerifier.java:129)\n    at java.base/javax.crypto.JceSecurity.verifyProvider(JceSecurity.java:189)\n    at java.base/javax.crypto.JceSecurity.getVerificationResult(JceSecurity.java:217)\n    at java.base/javax.crypto.JceSecurity.getInstance(JceSecurity.java:139)\n    ... 120 more\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1642233795,"post_id":70719754,"comment_id":125020775,"body_markdown":"Where are you seeing the questions marks? Is it a webpage, JSON response, console, what is it?","body":"Where are you seeing the questions marks? Is it a webpage, JSON response, console, what is it?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1642279015,"post_id":70719754,"comment_id":125030319,"body_markdown":"The answer may depend on the version of Java that you&#39;re using: https://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle","body":"The answer may depend on the version of Java that you&#39;re using: <a href=\"https://stackoverflow.com/questions/4659929/how-to-use-utf-8-in-resource-properties-with-resourcebundle\" title=\"how to use utf 8 in resource properties with resourcebundle\">stackoverflow.com/questions/4659929/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642278801,"creation_date":1642278801,"answer_id":70725209,"question_id":70719754,"body_markdown":"Russian characters are not part of charset `ISO-8859-1` and you have to use `UTF-8`. \r\n\r\nThe `messages.properties` file must be UTF-8 encoded because Spring doesn&#39;t convert it automatically even if you define `setDefaultEncoding(&quot;UTF-8&quot;);`. \r\n\r\nOpen your `messages.properties` file with an editor and make sure it has `UTF-8` encoding.","title":"Encoding problem, does not translate into Russian","body":"<p>Russian characters are not part of charset <code>ISO-8859-1</code> and you have to use <code>UTF-8</code>.</p>\n<p>The <code>messages.properties</code> file must be UTF-8 encoded because Spring doesn't convert it automatically even if you define <code>setDefaultEncoding(&quot;UTF-8&quot;);</code>.</p>\n<p>Open your <code>messages.properties</code> file with an editor and make sure it has <code>UTF-8</code> encoding.</p>\n"}],"owner":{"account_id":22897141,"reputation":1,"user_id":17939061,"display_name":"Meiirzhan Boribek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642278801,"creation_date":1642233481,"question_id":70719754,"body_markdown":"Configured Spring for internalization and localization, but encountered a problem in encoding. English characters are displayed normally, but instead of Russian text, question marks ???????. \r\nAnd messages_ru.properties the following problem arises from the file &quot; Unsupported characters for the charset &#39;ISO-8859-1&#39;&quot;\r\n\r\nlabel.home= \r\n\r\nlabel.about= \r\n\r\nlabel.name=\r\n\r\nlabel.price=\r\n\r\nbutton.add=\r\n\r\nConfiguration Code:\r\n\r\n\r\n    @Bean\r\n    public ReloadableResourceBundleMessageSource messageSource(){\r\n\r\n        ReloadableResourceBundleMessageSource source = new ReloadableResourceBundleMessageSource();\r\n        source.setBasename(&quot;classpath:messages&quot;);\r\n        source.setDefaultEncoding(&quot;UTF-8&quot;);\r\n        source.setFallbackToSystemLocale(true);\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    public CookieLocaleResolver localeResolver(){\r\n        CookieLocaleResolver resolver = new CookieLocaleResolver();\r\n        resolver.setDefaultLocale(new Locale(&quot;ru&quot;));\r\n        resolver.setCookieName(&quot;language&quot;);\r\n        resolver.setCookieMaxAge(3600*24*365);\r\n        return resolver;\r\n    }\r\n\r\n    @Bean\r\n    public LocaleChangeInterceptor localeInterceptor(){\r\n        LocaleChangeInterceptor interceptor = new LocaleChangeInterceptor();\r\n        interceptor.setParamName(&quot;lng&quot;);\r\n        return interceptor;\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry){\r\n        registry.addInterceptor(localeInterceptor());\r\n    }\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MrCH3.jpg","title":"Encoding problem, does not translate into Russian","body":"<p>Configured Spring for internalization and localization, but encountered a problem in encoding. English characters are displayed normally, but instead of Russian text, question marks ???????.\nAnd messages_ru.properties the following problem arises from the file &quot; Unsupported characters for the charset 'ISO-8859-1'&quot;</p>\n<p>label.home= </p>\n<p>label.about= </p>\n<p>label.name=</p>\n<p>label.price=</p>\n<p>button.add=</p>\n<p>Configuration Code:</p>\n<pre><code>@Bean\npublic ReloadableResourceBundleMessageSource messageSource(){\n\n    ReloadableResourceBundleMessageSource source = new ReloadableResourceBundleMessageSource();\n    source.setBasename(&quot;classpath:messages&quot;);\n    source.setDefaultEncoding(&quot;UTF-8&quot;);\n    source.setFallbackToSystemLocale(true);\n    return source;\n}\n\n@Bean\npublic CookieLocaleResolver localeResolver(){\n    CookieLocaleResolver resolver = new CookieLocaleResolver();\n    resolver.setDefaultLocale(new Locale(&quot;ru&quot;));\n    resolver.setCookieName(&quot;language&quot;);\n    resolver.setCookieMaxAge(3600*24*365);\n    return resolver;\n}\n\n@Bean\npublic LocaleChangeInterceptor localeInterceptor(){\n    LocaleChangeInterceptor interceptor = new LocaleChangeInterceptor();\n    interceptor.setParamName(&quot;lng&quot;);\n    return interceptor;\n}\n\n@Override\npublic void addInterceptors(InterceptorRegistry registry){\n    registry.addInterceptor(localeInterceptor());\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MrCH3.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","api","rest","spring-mvc","spring-test"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642277830,"creation_date":1642277830,"answer_id":70725088,"question_id":70724951,"body_markdown":"Because for a controller method that executes successfully and does not return `ResponseEntity` , the default response code is 200. \r\n\r\nTo configure the response code for such case , you can simply annotate `@ResponseStatus` on that controller method :\r\n\r\n``` java\r\n@PostMapping\r\n@ResponseStatus(HttpStatus.CREATED)\r\npublic Optional&lt;ADto&gt; createA(@RequestBody ADto a){\r\n        return Optional.ofNullable(a);\r\n }\r\n```","title":"POST: Exception Status expected:&lt;201&gt; but was:&lt;200&gt;","body":"<p>Because for a controller method that executes successfully and does not return <code>ResponseEntity</code> , the default response code is 200.</p>\n<p>To configure the response code for such case , you can simply annotate <code>@ResponseStatus</code> on that controller method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic Optional&lt;ADto&gt; createA(@RequestBody ADto a){\n        return Optional.ofNullable(a);\n }\n</code></pre>\n"}],"owner":{"display_name":"user17441315"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70725088,"answer_count":1,"score":1,"last_activity_date":1642277850,"creation_date":1642276683,"question_id":70724951,"body_markdown":"Technically it should be a simple task, but I can&#39;t find the error.\r\n\r\nI want to write a normal &quot;POST method&quot;, but when I tested it, it came to a problem: `enter code here Status expected:&lt;201&gt; but what:&lt;200&gt;.`\r\n\r\nMy question is, why do I get an OK and not a CREATED?\r\n\r\n**CODE:**\r\n\r\n\r\n**PostMapping in Controller**\r\n```\r\n @PostMapping\r\n    public Optional&lt;ADto&gt; createA(@RequestBody ADto a){\r\n        return Optional.ofNullable(a);\r\n    }\r\n```\r\n\r\n**Unit Test**\r\n```\r\n@Test\r\n    void verifyPostA() throws Exception {\r\n        var a = new ADto(1L, &quot;a&quot;);\r\n\r\n        var aText = objectMapper.writeValueAsString(a);\r\n\r\n        mockMvc.perform(\r\n                        MockMvcRequestBuilders.post(&quot;/as&quot;)\r\n                                .content(aText)\r\n                                .contentType(MediaType.APPLICATION_JSON)\r\n                )\r\n                .andDo(print())\r\n                .andExpect(status().isCreated())\r\n                .andExpect(jsonPath(&quot;$.id&quot;).value(&quot;1&quot;));\r\n    }\r\n```","title":"POST: Exception Status expected:&lt;201&gt; but was:&lt;200&gt;","body":"<p>Technically it should be a simple task, but I can't find the error.</p>\n<p>I want to write a normal &quot;POST method&quot;, but when I tested it, it came to a problem: <code>enter code here Status expected:&lt;201&gt; but what:&lt;200&gt;.</code></p>\n<p>My question is, why do I get an OK and not a CREATED?</p>\n<p><strong>CODE:</strong></p>\n<p><strong>PostMapping in Controller</strong></p>\n<pre><code> @PostMapping\n    public Optional&lt;ADto&gt; createA(@RequestBody ADto a){\n        return Optional.ofNullable(a);\n    }\n</code></pre>\n<p><strong>Unit Test</strong></p>\n<pre><code>@Test\n    void verifyPostA() throws Exception {\n        var a = new ADto(1L, &quot;a&quot;);\n\n        var aText = objectMapper.writeValueAsString(a);\n\n        mockMvc.perform(\n                        MockMvcRequestBuilders.post(&quot;/as&quot;)\n                                .content(aText)\n                                .contentType(MediaType.APPLICATION_JSON)\n                )\n                .andDo(print())\n                .andExpect(status().isCreated())\n                .andExpect(jsonPath(&quot;$.id&quot;).value(&quot;1&quot;));\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1642277764,"post_id":70724988,"comment_id":125030034,"body_markdown":"Your app will be in a window that is smaller than the screen in split-screen (all Android 8.0+ devices) and free-form multi-window (Chrome OS, Samsung DeX, Windows 11, etc.). On Android 12L and higher tablets, split-screen is going to be the norm. So, you need to consider revising your approach to not worry about phones versus tablets.","body":"Your app will be in a window that is smaller than the screen in split-screen (all Android 8.0+ devices) and free-form multi-window (Chrome OS, Samsung DeX, Windows 11, etc.). On Android 12L and higher tablets, split-screen is going to be the norm. So, you need to consider revising your approach to not worry about phones versus tablets."},{"owner":{"account_id":23142195,"reputation":23,"user_id":17245481,"display_name":"artom11m"},"score":0,"creation_date":1642277976,"post_id":70724988,"comment_id":125030082,"body_markdown":"@CommonsWare Thanks for reply. How, then, is it possible to definitively detect whether I am dealing with a tablet or a phone?","body":"@CommonsWare Thanks for reply. How, then, is it possible to definitively detect whether I am dealing with a tablet or a phone?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1642278697,"post_id":70724988,"comment_id":125030254,"body_markdown":"&quot;Phone&quot; and &quot;tablet&quot; are marketing labels and have little meaning in programming. Your definition of &quot;tablet&quot; (something with a screen size of 7.0&quot; or higher) and somebody else&#39;s definition of &quot;tablet&quot; (something without voice telephony capability) can be very different. My point is: stop thinking in terms of phones and tablets. Instead, focus in specific technical differences that matter.","body":"&quot;Phone&quot; and &quot;tablet&quot; are marketing labels and have little meaning in programming. Your definition of &quot;tablet&quot; (something with a screen size of 7.0&quot; or higher) and somebody else&#39;s definition of &quot;tablet&quot; (something without voice telephony capability) can be very different. My point is: stop thinking in terms of phones and tablets. Instead, focus in specific technical differences that matter."},{"owner":{"account_id":23142195,"reputation":23,"user_id":17245481,"display_name":"artom11m"},"score":0,"creation_date":1642279821,"post_id":70724988,"comment_id":125030496,"body_markdown":"@CommonsWare Okay. I have two layouts that I want to display depending on the screen size, unfortunately the matter is complicated when the user runs two app (multi screen). So how do I know if I am dealing with a small screen or over 7.0 &quot;?","body":"@CommonsWare Okay. I have two layouts that I want to display depending on the screen size, unfortunately the matter is complicated when the user runs two app (multi screen). So how do I know if I am dealing with a small screen or over 7.0 &quot;?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1642280248,"post_id":70724988,"comment_id":125030595,"body_markdown":"&quot;I have two layouts that I want to display depending on the screen size&quot; -- the screen size is irrelevant. The window size is what is relevant. In the very simple case, the window size resembles the screen size. Split-screen, freeform multi-window, foldables, etc. are cases where the window size is substantially different from the screen size. So, why are you worried about the screen size? Would you care about the screen size, rather than the window size, in a desktop OS or in a Web app?","body":"&quot;I have two layouts that I want to display depending on the screen size&quot; -- the screen size is irrelevant. The window size is what is relevant. In the very simple case, the window size resembles the screen size. Split-screen, freeform multi-window, foldables, etc. are cases where the window size is substantially different from the screen size. So, why are you worried about the screen size? Would you care about the screen size, rather than the window size, in a desktop OS or in a Web app?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1642280362,"post_id":70724988,"comment_id":125030613,"body_markdown":"Typically, we use resource sets for handling different window sizes. So, in `res/layout/foo.xml` you have a smaller version of your UI and in `res/layout-w640dp/foo.xml` you have a larger version of your UI (one suitable for windows where the current width is 640dp or wider). You just ask Android to load `R.layout.foo`, and it chooses the right version based on the window size.","body":"Typically, we use resource sets for handling different window sizes. So, in <code>res&#47;layout&#47;foo.xml</code> you have a smaller version of your UI and in <code>res&#47;layout-w640dp&#47;foo.xml</code> you have a larger version of your UI (one suitable for windows where the current width is 640dp or wider). You just ask Android to load <code>R.layout.foo</code>, and it chooses the right version based on the window size."}],"owner":{"account_id":23142195,"reputation":23,"user_id":17245481,"display_name":"artom11m"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642276952,"creation_date":1642276952,"question_id":70724988,"body_markdown":"To recognize whether I am dealing with a phone or a tablet, I use the function of checking screen width and height and converting to inches .... Below I present this function. Everything works, but when the user on the tablet opens two applications in the multi screen view (split screen) then the measurement of inches is different and it detects me as a phone ... How to prevent it\r\n\r\n```\r\npublic boolean isTablet() {\r\n\t\ttry {\r\n\t\t\t// Compute screen size\r\n\r\n\t\t\tDisplayMetrics dm =\r\n\t\t\t\t\tcontext.getResources().getDisplayMetrics();\r\n\t\t\tfloat screenWidth = dm.widthPixels / dm.xdpi;\r\n\t\t\tfloat screenHeight = dm.heightPixels / dm.ydpi;\r\n\t\t\tdouble size = Math.sqrt(Math.pow(screenWidth, 2) +\r\n\t\t\t\t\tMath.pow(screenHeight, 2));\r\n\t\t\t// Tablet devices have a screen size greater than  inches\r\n\r\n\t\t\treturn size &gt;= 7.0;\r\n\t\t} catch (Throwable t) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n```","title":"Detect tablet or phone, multi screen view problem","body":"<p>To recognize whether I am dealing with a phone or a tablet, I use the function of checking screen width and height and converting to inches .... Below I present this function. Everything works, but when the user on the tablet opens two applications in the multi screen view (split screen) then the measurement of inches is different and it detects me as a phone ... How to prevent it</p>\n<pre><code>public boolean isTablet() {\n        try {\n            // Compute screen size\n\n            DisplayMetrics dm =\n                    context.getResources().getDisplayMetrics();\n            float screenWidth = dm.widthPixels / dm.xdpi;\n            float screenHeight = dm.heightPixels / dm.ydpi;\n            double size = Math.sqrt(Math.pow(screenWidth, 2) +\n                    Math.pow(screenHeight, 2));\n            // Tablet devices have a screen size greater than  inches\n\n            return size &gt;= 7.0;\n        } catch (Throwable t) {\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-mvc","spring-3","autowired"],"comments":[{"owner":{"account_id":17915,"reputation":13985,"user_id":40581,"accept_rate":75,"display_name":"David Grant"},"score":0,"creation_date":1350055283,"post_id":12862203,"comment_id":17408544,"body_markdown":"Is `MyPojo` instantiated by Spring?","body":"Is <code>MyPojo</code> instantiated by Spring?"},{"owner":{"account_id":44661,"reputation":9356,"user_id":131194,"accept_rate":63,"display_name":"birdy"},"score":0,"creation_date":1350055386,"post_id":12862203,"comment_id":17408595,"body_markdown":"I have not done anything for `MyController` in config.xml so i didn&#39;t do it for `MyPojo` either. What should I be doing?","body":"I have not done anything for <code>MyController</code> in config.xml so i didn&#39;t do it for <code>MyPojo</code> either. What should I be doing?"},{"owner":{"account_id":17915,"reputation":13985,"user_id":40581,"accept_rate":75,"display_name":"David Grant"},"score":0,"creation_date":1350055525,"post_id":12862203,"comment_id":17408648,"body_markdown":"Can you post your Spring config?","body":"Can you post your Spring config?"},{"owner":{"account_id":44661,"reputation":9356,"user_id":131194,"accept_rate":63,"display_name":"birdy"},"score":0,"creation_date":1350055857,"post_id":12862203,"comment_id":17408799,"body_markdown":"updated with spring config added at the bottom","body":"updated with spring config added at the bottom"}],"answers":[{"tags":[],"owner":{"account_id":1748624,"reputation":2133,"user_id":1598255,"accept_rate":60,"display_name":"phury"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1350055364,"creation_date":1350055364,"answer_id":12862256,"question_id":12862203,"body_markdown":"check your context component scan in your configuration file\r\n\r\n    &lt;context:component-scan base-package=&quot;&lt;your_package&gt;&quot; /&gt;","title":"@Autowired and @Service working from controller but not from a different package","body":"<p>check your context component scan in your configuration file</p>\n\n<pre><code>&lt;context:component-scan base-package=\"&lt;your_package&gt;\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1494647,"reputation":5396,"user_id":1400897,"accept_rate":53,"display_name":"NPKR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350055934,"creation_date":1350055934,"answer_id":12862419,"question_id":12862203,"body_markdown":"Include this in applicationContext.xml file\r\n\r\n    &lt;context:annotation-config /&gt;\r\n\r\n\r\n\r\n","title":"@Autowired and @Service working from controller but not from a different package","body":"<p>Include this in applicationContext.xml file</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17915,"reputation":13985,"user_id":40581,"accept_rate":75,"display_name":"David Grant"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350056395,"creation_date":1350055964,"answer_id":12862428,"question_id":12862203,"body_markdown":"When using classpath scanning, you have to communicate to Spring which classes to manage.  This is done using the `@Service` annotation, and its relations (`@Controller`, `@Repository`, etc).\r\n\r\nIf you choose *not* to annotate your bean, you must explicitly declare it in your config, just like you did with `dataSource` and `jdbcTemplate`.\r\n\r\nAnnotating your classes means only those classes in the package are managed by Spring; which allows you to scan a package without having to manage *all* classes in that package.","title":"@Autowired and @Service working from controller but not from a different package","body":"<p>When using classpath scanning, you have to communicate to Spring which classes to manage.  This is done using the <code>@Service</code> annotation, and its relations (<code>@Controller</code>, <code>@Repository</code>, etc).</p>\n\n<p>If you choose <em>not</em> to annotate your bean, you must explicitly declare it in your config, just like you did with <code>dataSource</code> and <code>jdbcTemplate</code>.</p>\n\n<p>Annotating your classes means only those classes in the package are managed by Spring; which allows you to scan a package without having to manage <em>all</em> classes in that package.</p>\n"},{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1642276754,"creation_date":1350056860,"answer_id":12862703,"question_id":12862203,"body_markdown":"It is because your POJO class is not managed by spring container.\r\n\r\n`@Autowire` annotation will work only those objects which are managed by spring (ie created by the spring container).\r\n\r\nIn your case the service and controller object are managed by spring, but your POJO class is not managed by spring, that is why the `@Autowire` is not producing the behavior expected by you.\r\n\r\nAnother problem I noticed is, you are using the `@Service` annotation in the DAO layer when spring has the `@Repository` annotation specifically created for this purpose.\r\n\r\nAlso it is not desirable to allow spring to manage the POJO classes since normally it will be data storage elements which has to be created outside the container.\r\n","title":"@Autowired and @Service working from controller but not from a different package","body":"<p>It is because your POJO class is not managed by spring container.</p>\n<p><code>@Autowire</code> annotation will work only those objects which are managed by spring (ie created by the spring container).</p>\n<p>In your case the service and controller object are managed by spring, but your POJO class is not managed by spring, that is why the <code>@Autowire</code> is not producing the behavior expected by you.</p>\n<p>Another problem I noticed is, you are using the <code>@Service</code> annotation in the DAO layer when spring has the <code>@Repository</code> annotation specifically created for this purpose.</p>\n<p>Also it is not desirable to allow spring to manage the POJO classes since normally it will be data storage elements which has to be created outside the container.</p>\n"},{"tags":[],"owner":{"account_id":4657214,"reputation":1415,"user_id":3772478,"accept_rate":83,"display_name":"Hazim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444291783,"creation_date":1444291783,"answer_id":33010135,"question_id":12862203,"body_markdown":"You can implement this to use spring-managed beans in your POJO class.\r\n\r\nhttp://www.javacodegeeks.com/2015/03/using-spring-managed-bean-in-non-managed-object.html\r\n","title":"@Autowired and @Service working from controller but not from a different package","body":"<p>You can implement this to use spring-managed beans in your POJO class.</p>\n\n<p><a href=\"http://www.javacodegeeks.com/2015/03/using-spring-managed-bean-in-non-managed-object.html\" rel=\"nofollow\">http://www.javacodegeeks.com/2015/03/using-spring-managed-bean-in-non-managed-object.html</a></p>\n"}],"owner":{"account_id":44661,"reputation":9356,"user_id":131194,"accept_rate":63,"display_name":"birdy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34203,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":12862703,"answer_count":5,"score":10,"last_activity_date":1642276754,"creation_date":1350055156,"question_id":12862203,"body_markdown":"I need help understanding the concept behind `@Autowired` and `@Service`. I have a DAO defined with `@Service` and controller with `@Autowired` and everything seems fine, however, I use the same `@Autowired` in a different class then it does not work. \r\n\r\nExample:\r\n\r\nService\r\n\r\n    @Service\r\n    public class MyService {\r\n        private JdbcTemplate jdbcTemplate;\r\n        \r\n        @Autowired\r\n        public void setDataSource (DataSource myDataSource) {\r\n            this.jdbcTemplate = new JdbcTemplate(myDataSource);\r\n        } \r\n                 \r\n    \tpublic void testUpdate(){\r\n                jdbcTemplate.update(&quot;some query&quot;);\r\n    \t}\r\n    }\r\n\r\nController\r\n\r\n    package com.springtest.mywork.controller;\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/test.html&quot;)\r\n    public class MyController\r\n    {\r\n      @Autowired\r\n      MyService myService;\r\n      \r\n      @RequestMapping(method = RequestMethod.GET)\r\n      public String test(Model model)\r\n      {\r\n        systemsService.testUpdate();\r\n        return &quot;view/test&quot;;\r\n      }\r\n    }\r\n\r\nThe above all works fine. However, If I want to use `MyService` in a POJO then it just doesn&#39;t work. Example:\r\n\r\n    package com.springtest.mywork.pojos;\r\n    public class MyPojo {\r\n    \r\n        @Autowired\r\n        MyService myService;\r\n        \r\n        public void testFromPojo () {\r\n            myService.someDataAccessMethod(); //myService is still null\r\n        }\r\n    }\r\n\r\nSpring Config:\r\n\r\n    &lt;beans&gt;\r\n        &lt;mvc:annotation-driven /&gt;\r\n     \t&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n     \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\r\n     \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n     \t&lt;/bean&gt;\r\n        &lt;context:component-scan base-package=&quot;com.springtest.mywork&quot; /&gt;\r\n        &lt;bean id=&quot;dataSource&quot; destroy-method=&quot;close&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n            &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n            &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/mydb&quot; /&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;hello&quot; /&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;what&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean name=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.simple.SimpleJdbcTemplate&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;dataSource&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n     &lt;/beans&gt;\r\n","title":"@Autowired and @Service working from controller but not from a different package","body":"<p>I need help understanding the concept behind <code>@Autowired</code> and <code>@Service</code>. I have a DAO defined with <code>@Service</code> and controller with <code>@Autowired</code> and everything seems fine, however, I use the same <code>@Autowired</code> in a different class then it does not work. </p>\n\n<p>Example:</p>\n\n<p>Service</p>\n\n<pre><code>@Service\npublic class MyService {\n    private JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    public void setDataSource (DataSource myDataSource) {\n        this.jdbcTemplate = new JdbcTemplate(myDataSource);\n    } \n\n    public void testUpdate(){\n            jdbcTemplate.update(\"some query\");\n    }\n}\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>package com.springtest.mywork.controller;\n\n@Controller\n@RequestMapping(value = \"/test.html\")\npublic class MyController\n{\n  @Autowired\n  MyService myService;\n\n  @RequestMapping(method = RequestMethod.GET)\n  public String test(Model model)\n  {\n    systemsService.testUpdate();\n    return \"view/test\";\n  }\n}\n</code></pre>\n\n<p>The above all works fine. However, If I want to use <code>MyService</code> in a POJO then it just doesn't work. Example:</p>\n\n<pre><code>package com.springtest.mywork.pojos;\npublic class MyPojo {\n\n    @Autowired\n    MyService myService;\n\n    public void testFromPojo () {\n        myService.someDataAccessMethod(); //myService is still null\n    }\n}\n</code></pre>\n\n<p>Spring Config:</p>\n\n<pre><code>&lt;beans&gt;\n    &lt;mvc:annotation-driven /&gt;\n    &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/views/\"/&gt;\n        &lt;property name=\"suffix\" value=\".jsp\"/&gt;\n    &lt;/bean&gt;\n    &lt;context:component-scan base-package=\"com.springtest.mywork\" /&gt;\n    &lt;bean id=\"dataSource\" destroy-method=\"close\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://127.0.0.1:3306/mydb\" /&gt;\n        &lt;property name=\"username\" value=\"hello\" /&gt;\n        &lt;property name=\"password\" value=\"what\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean name=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.simple.SimpleJdbcTemplate\"&gt;\n        &lt;constructor-arg ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n &lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","xml","apache-poi","sax"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1642279474,"post_id":70724950,"comment_id":125030411,"body_markdown":"You&#39;re going to have to read up on how to use a Java profiler - this is how developers find the bottlenecks in their code. Lots of people use POI for streaming workbooks and they don&#39;t get 2 seconds per row performance.","body":"You&#39;re going to have to read up on how to use a Java profiler - this is how developers find the bottlenecks in their code. Lots of people use POI for streaming workbooks and they don&#39;t get 2 seconds per row performance."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1642279540,"post_id":70724950,"comment_id":125030432,"body_markdown":"that xlsx doesn&#39;t even sound big - you could consider using POI XSSFWorkbook which is simpler to use than the streaming APIs","body":"that xlsx doesn&#39;t even sound big - you could consider using POI XSSFWorkbook which is simpler to use than the streaming APIs"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1642289921,"post_id":70724950,"comment_id":125032507,"body_markdown":"You&#39;re right that there&#39;s something badly wrong here, unfortunately it&#39;s not apparent from the code you&#39;ve shown us what this might be. If you were to post a complete repro (something we can run ourselves to see if we get the same result) then there&#39;s some chance we could help you.","body":"You&#39;re right that there&#39;s something badly wrong here, unfortunately it&#39;s not apparent from the code you&#39;ve shown us what this might be. If you were to post a complete repro (something we can run ourselves to see if we get the same result) then there&#39;s some chance we could help you."}],"owner":{"account_id":17380796,"reputation":71,"user_id":12593071,"display_name":"ayala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642276678,"creation_date":1642276678,"question_id":70724950,"body_markdown":"I&#39;m using SAX parser and XSSFReader of apache.poi to parse .xlsx file. my sheet contains up to 650 columns and 2000 rows (file size- about 2.5 MB). my code looks like so:\r\n```java\r\npublic class MyClass {\r\n   public static void main(String path){\r\n      try {\r\n         OPCPackage pkg = OPCPachage.open(new FileInputStream(path));\r\n         XSSFReader reader = new XSSFReader(pkg);\r\n         InputStream sheetData = reader.getSheet(&quot;rId3&quot;); //the needed sheet\r\n         MyHandler handler = new MyHandler();\r\n         XMLReader parser = SAXHelper.newXMLReader();\r\n         parser.setContentHandler(handler);\r\n         parser.parse(new InputSource(sheetData));\r\n      }\r\n      catch (Exception e){\r\n         //or other catches with required exceptions\r\n      }\r\n   }\r\n}\r\n\r\nclass MyHandler extends DefaultHandler {\r\n   @Override\r\n   public void startElement (String uri, String localName, String name, Attributes attributes) {\r\n      if(&quot;row&quot;.equals(name)) {\r\n         System.out.pringln(&quot;row: &quot; + attributes.getValue(&quot;r&quot;));\r\n      }\r\n   }\r\n}\r\n```\r\nbut unfortunately I saw that it takes 2 or 3 seconds to go over one row, that means that going over the sheet takes over than 30 minutes(!!)     \r\nWell, I am sure this is not supposed to be, if it was- noboy was suggesing apache.poi eventaApi for large files, was he?\r\n\r\nI want to get to the ```&lt;mergeCell&gt;``` values at the end of the XML (after the closing ```&lt;/sheetData&gt;```, is there a better way to do it? (I was thinking of handle with the string of the xml, and simply search with some regular expression for the required values, is it possible?)\r\n\r\nSo- I have two questions:   \r\n**1.** What&#39;s wrong with my code/why it takes so long? (when I think about it- it actually sounds as normal situation, 600 cells- why not processing in few seconds?)   \r\n**2.** Is there a way to treat XML as a text file and simply search in it using regex?","title":"ContentHandler is taking a lot of time to go through 3MB XML parsed xlsx file","body":"<p>I'm using SAX parser and XSSFReader of apache.poi to parse .xlsx file. my sheet contains up to 650 columns and 2000 rows (file size- about 2.5 MB). my code looks like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n   public static void main(String path){\n      try {\n         OPCPackage pkg = OPCPachage.open(new FileInputStream(path));\n         XSSFReader reader = new XSSFReader(pkg);\n         InputStream sheetData = reader.getSheet(&quot;rId3&quot;); //the needed sheet\n         MyHandler handler = new MyHandler();\n         XMLReader parser = SAXHelper.newXMLReader();\n         parser.setContentHandler(handler);\n         parser.parse(new InputSource(sheetData));\n      }\n      catch (Exception e){\n         //or other catches with required exceptions\n      }\n   }\n}\n\nclass MyHandler extends DefaultHandler {\n   @Override\n   public void startElement (String uri, String localName, String name, Attributes attributes) {\n      if(&quot;row&quot;.equals(name)) {\n         System.out.pringln(&quot;row: &quot; + attributes.getValue(&quot;r&quot;));\n      }\n   }\n}\n</code></pre>\n<p>but unfortunately I saw that it takes 2 or 3 seconds to go over one row, that means that going over the sheet takes over than 30 minutes(!!)<br />\nWell, I am sure this is not supposed to be, if it was- noboy was suggesing apache.poi eventaApi for large files, was he?</p>\n<p>I want to get to the <code>&lt;mergeCell&gt;</code> values at the end of the XML (after the closing <code>&lt;/sheetData&gt;</code>, is there a better way to do it? (I was thinking of handle with the string of the xml, and simply search with some regular expression for the required values, is it possible?)</p>\n<p>So- I have two questions:<br />\n<strong>1.</strong> What's wrong with my code/why it takes so long? (when I think about it- it actually sounds as normal situation, 600 cells- why not processing in few seconds?)<br />\n<strong>2.</strong> Is there a way to treat XML as a text file and simply search in it using regex?</p>\n"},{"tags":["java","encryption","bouncycastle","public-key-encryption","gnupg"],"comments":[{"owner":{"account_id":446135,"reputation":20184,"user_id":838992,"display_name":"J Richard Snape"},"score":0,"creation_date":1423669991,"post_id":28444819,"comment_id":45243577,"body_markdown":"Wow - this is a lot more complicated that I thought it would be!!! One thing I can say tentatively - this is not a problem with the gpg end, because you get the same results if you send the mail with a bouncycastle generated key (I know you have struggled to do that c.f.http://tinyurl.com/p55uxd8), but I ***can*** test that and can send a message with a BC (Java) generated key that Enigmail will decrypt, but this code shows the same problem. The issue appears to be that the code finds the signature and key pair, but then the Inputstream appears to be spent. Investigations continue...","body":"Wow - this is a lot more complicated that I thought it would be!!! One thing I can say tentatively - this is not a problem with the gpg end, because you get the same results if you send the mail with a bouncycastle generated key (I know you have struggled to do that c.f.<a href=\"http://tinyurl.com/p55uxd8\" rel=\"nofollow noreferrer\">tinyurl.com/p55uxd8</a>), but I <b><i>can</i></b> test that and can send a message with a BC (Java) generated key that Enigmail will decrypt, but this code shows the same problem. The issue appears to be that the code finds the signature and key pair, but then the Inputstream appears to be spent. Investigations continue..."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1423676868,"post_id":28444819,"comment_id":45247901,"body_markdown":"These kind of questions may be better answered on the bouncy-dev mailing list, so if you don&#39;t get an answer here...","body":"These kind of questions may be better answered on the bouncy-dev mailing list, so if you don&#39;t get an answer here..."},{"owner":{"account_id":446135,"reputation":20184,"user_id":838992,"display_name":"J Richard Snape"},"score":0,"creation_date":1423742974,"post_id":28444819,"comment_id":45277064,"body_markdown":"Sure - the code at the end will work well - you need to understand that the `keyIn` in this case is the *public key of the sender* (or strictly, the public key of whichever key was used to sign the email, I think).  This is different from `keyIn` in your other code, which is the private (secret) key of the receiver. Note, though, as per my comment to the answer, you&#39;ll only get the text bit of your email - you need to recursively extract the attachments and decrypt if that&#39;s your ultimate aim...","body":"Sure - the code at the end will work well - you need to understand that the <code>keyIn</code> in this case is the <i>public key of the sender</i> (or strictly, the public key of whichever key was used to sign the email, I think).  This is different from <code>keyIn</code> in your other code, which is the private (secret) key of the receiver. Note, though, as per my comment to the answer, you&#39;ll only get the text bit of your email - you need to recursively extract the attachments and decrypt if that&#39;s your ultimate aim..."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1423766796,"post_id":28444819,"comment_id":45292513,"body_markdown":"@JRichardSnape I created a chat room and am available in it to discuss this, if you are willing.  I should be online and able to see an alert if you enter the room.  Here is the link:  http://chat.stackoverflow.com/rooms/70813/someroom","body":"@JRichardSnape I created a chat room and am available in it to discuss this, if you are willing.  I should be online and able to see an alert if you enter the room.  Here is the link:  <a href=\"http://chat.stackoverflow.com/rooms/70813/someroom\">chat.stackoverflow.com/rooms/70813/someroom</a>"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1424802384,"post_id":28444819,"comment_id":45696667,"body_markdown":"@JRichardSnape If you want to write an answer I would be happy to mark it as accepted and +1.  You solved this problem when you showed me how to send an un-signed, but encrypted message to the decryption code.  You helped me see that the reason I was getting the error was that the message was signed in addition to being encrypted.  I think that the signing issue would warrant a separate question.  But for the moment, I am exploring Outlook instead.  I will also look for 5 of your other postings that deserve +1 on their own independent, separate, merits.","body":"@JRichardSnape If you want to write an answer I would be happy to mark it as accepted and +1.  You solved this problem when you showed me how to send an un-signed, but encrypted message to the decryption code.  You helped me see that the reason I was getting the error was that the message was signed in addition to being encrypted.  I think that the signing issue would warrant a separate question.  But for the moment, I am exploring Outlook instead.  I will also look for 5 of your other postings that deserve +1 on their own independent, separate, merits."}],"answers":[{"tags":[],"owner":{"account_id":2459827,"reputation":531,"user_id":2144222,"display_name":"David Hook"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423698908,"creation_date":1423698908,"answer_id":28466911,"question_id":28444819,"body_markdown":"It just means that content has been signed and then encrypted, the routine provided does not know how to deal with it, but at least tells you that. PGP protocol presents as a series of packets some of which can be wrapped in other ones (for example compressed data can also wrap signed data or simply literal data, these can be used to generate encrypted data as well, actual content always appears in literal data).\r\n\r\nIf you look at the verifyFile method in the SignedFileProcessor in the Bouncy Castle OpenPGP examples package you will see how to handle the signature data and get to the literal data containing the actual content.\r\n\r\nI would also recommend looking at RFC 4880 so you have some idea of how the protocol works. The protocol is very loose and both GPG, BC, and the variety of products out there reflect this - that said the looseness does mean that if you try and cut and paste your way to a solution you&#39;ll end up with a disaster. It&#39;s not complicated, but understanding is required here as well.","title":"Getting BouncyCastle to decrypt a GPG-encrypted message","body":"<p>It just means that content has been signed and then encrypted, the routine provided does not know how to deal with it, but at least tells you that. PGP protocol presents as a series of packets some of which can be wrapped in other ones (for example compressed data can also wrap signed data or simply literal data, these can be used to generate encrypted data as well, actual content always appears in literal data).</p>\n\n<p>If you look at the verifyFile method in the SignedFileProcessor in the Bouncy Castle OpenPGP examples package you will see how to handle the signature data and get to the literal data containing the actual content.</p>\n\n<p>I would also recommend looking at RFC 4880 so you have some idea of how the protocol works. The protocol is very loose and both GPG, BC, and the variety of products out there reflect this - that said the looseness does mean that if you try and cut and paste your way to a solution you'll end up with a disaster. It's not complicated, but understanding is required here as well.</p>\n"},{"tags":[],"owner":{"account_id":480022,"reputation":351,"user_id":893019,"display_name":"sheckoo90"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1445264326,"creation_date":1445264326,"answer_id":33216826,"question_id":28444819,"body_markdown":"if anyone is interested to know how to encrypt and decrypt gpg files using bouncy castle openPGP library, check the below java code:\r\n\r\nThe below are the 4 methods you going to need:\r\n\r\nThe below method will read and import your secret key from .asc file:\r\n\r\n    public static PGPSecretKey readSecretKeyFromCol(InputStream in, long keyId) throws IOException, PGPException {\r\n    in = PGPUtil.getDecoderStream(in);\r\n    PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(in, new BcKeyFingerprintCalculator());\r\n\r\n    PGPSecretKey key = pgpSec.getSecretKey(keyId);\r\n\r\n    if (key == null) {\r\n        throw new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n    }\r\n    return key;\r\n    }\r\n\r\nThe below method will read and import your public key from .asc file:\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public static PGPPublicKey readPublicKeyFromCol(InputStream in) throws IOException, PGPException {\r\n        in = PGPUtil.getDecoderStream(in);\r\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in, new BcKeyFingerprintCalculator());\r\n        PGPPublicKey key = null;\r\n        Iterator rIt = pgpPub.getKeyRings();\r\n        while (key == null &amp;&amp; rIt.hasNext()) {\r\n            PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\r\n            Iterator kIt = kRing.getPublicKeys();\r\n            while (key == null &amp;&amp; kIt.hasNext()) {\r\n                PGPPublicKey k = (PGPPublicKey) kIt.next();\r\n                if (k.isEncryptionKey()) {\r\n                    key = k;\r\n                }\r\n            }\r\n        }\r\n        if (key == null) {\r\n            throw new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n        return key;\r\n    }\r\n\r\nThe below 2 methods to decrypt and encrypt gpg files:\r\n\r\n    public void decryptFile(InputStream in, InputStream secKeyIn, InputStream pubKeyIn, char[] pass) throws IOException, PGPException, InvalidCipherTextException {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        PGPPublicKey pubKey = readPublicKeyFromCol(pubKeyIn);\r\n\r\n        PGPSecretKey secKey = readSecretKeyFromCol(secKeyIn, pubKey.getKeyID());\r\n\r\n        in = PGPUtil.getDecoderStream(in);\r\n\r\n        JcaPGPObjectFactory pgpFact;\r\n\r\n\r\n        PGPObjectFactory pgpF = new PGPObjectFactory(in, new BcKeyFingerprintCalculator());\r\n\r\n        Object o = pgpF.nextObject();\r\n        PGPEncryptedDataList encList;\r\n\r\n        if (o instanceof PGPEncryptedDataList) {\r\n\r\n            encList = (PGPEncryptedDataList) o;\r\n\r\n        } else {\r\n\r\n            encList = (PGPEncryptedDataList) pgpF.nextObject();\r\n\r\n        }\r\n\r\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; itt = encList.getEncryptedDataObjects();\r\n        PGPPrivateKey sKey = null;\r\n        PGPPublicKeyEncryptedData encP = null;\r\n        while (sKey == null &amp;&amp; itt.hasNext()) {\r\n            encP = itt.next();\r\n            secKey = readSecretKeyFromCol(new FileInputStream(&quot;PrivateKey.asc&quot;), encP.getKeyID());\r\n            sKey = secKey.extractPrivateKey(new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(pass));\r\n        }\r\n        if (sKey == null) {\r\n            throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\r\n        }\r\n\r\n        InputStream clear = encP.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\r\n\r\n        pgpFact = new JcaPGPObjectFactory(clear);\r\n\r\n        PGPCompressedData c1 = (PGPCompressedData) pgpFact.nextObject();\r\n\r\n        pgpFact = new JcaPGPObjectFactory(c1.getDataStream());\r\n\r\n        PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\r\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n\r\n        InputStream inLd = ld.getDataStream();\r\n\r\n        int ch;\r\n        while ((ch = inLd.read()) &gt;= 0) {\r\n            bOut.write(ch);\r\n        }\r\n\r\n        //System.out.println(bOut.toString());\r\n\r\n        bOut.writeTo(new FileOutputStream(ld.getFileName()));\r\n        //return bOut;\r\n\r\n    }\r\n\r\n    public static void encryptFile(OutputStream out, String fileName, PGPPublicKey encKey) throws IOException, NoSuchProviderException, PGPException {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n\r\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(PGPCompressedData.ZIP);\r\n\r\n        PGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY, new File(fileName));\r\n\r\n        comData.close();\r\n\r\n        PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(new BcPGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.TRIPLE_DES).setSecureRandom(new SecureRandom()));\r\n\r\n        cPk.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(encKey));\r\n\r\n        byte[] bytes = bOut.toByteArray();\r\n\r\n        OutputStream cOut = cPk.open(out, bytes.length);\r\n\r\n        cOut.write(bytes);\r\n\r\n        cOut.close();\r\n\r\n        out.close();\r\n    }\r\n\r\nNow here is how to invoke/run the above:\r\n\r\n    try {\r\n             decryptFile(new FileInputStream(&quot;encryptedFile.gpg&quot;), new FileInputStream(&quot;PrivateKey.asc&quot;), new FileInputStream(&quot;PublicKey.asc&quot;), &quot;yourKeyPassword&quot;.toCharArray());\r\n\r\n            PGPPublicKey pubKey = readPublicKeyFromCol(new FileInputStream(&quot;PublicKey.asc&quot;));\r\n\r\n            encryptFile(new FileOutputStream(&quot;encryptedFileOutput.gpg&quot;), &quot;fileToEncrypt.txt&quot;, pubKey);\r\n\r\n\r\n\r\n\r\n        } catch (PGPException e) {\r\n            fail(&quot;exception: &quot; + e.getMessage(), e.getUnderlyingException());\r\n        }","title":"Getting BouncyCastle to decrypt a GPG-encrypted message","body":"<p>if anyone is interested to know how to encrypt and decrypt gpg files using bouncy castle openPGP library, check the below java code:</p>\n\n<p>The below are the 4 methods you going to need:</p>\n\n<p>The below method will read and import your secret key from .asc file:</p>\n\n<pre><code>public static PGPSecretKey readSecretKeyFromCol(InputStream in, long keyId) throws IOException, PGPException {\nin = PGPUtil.getDecoderStream(in);\nPGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(in, new BcKeyFingerprintCalculator());\n\nPGPSecretKey key = pgpSec.getSecretKey(keyId);\n\nif (key == null) {\n    throw new IllegalArgumentException(\"Can't find encryption key in key ring.\");\n}\nreturn key;\n}\n</code></pre>\n\n<p>The below method will read and import your public key from .asc file:</p>\n\n<pre><code>@SuppressWarnings(\"rawtypes\")\npublic static PGPPublicKey readPublicKeyFromCol(InputStream in) throws IOException, PGPException {\n    in = PGPUtil.getDecoderStream(in);\n    PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in, new BcKeyFingerprintCalculator());\n    PGPPublicKey key = null;\n    Iterator rIt = pgpPub.getKeyRings();\n    while (key == null &amp;&amp; rIt.hasNext()) {\n        PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\n        Iterator kIt = kRing.getPublicKeys();\n        while (key == null &amp;&amp; kIt.hasNext()) {\n            PGPPublicKey k = (PGPPublicKey) kIt.next();\n            if (k.isEncryptionKey()) {\n                key = k;\n            }\n        }\n    }\n    if (key == null) {\n        throw new IllegalArgumentException(\"Can't find encryption key in key ring.\");\n    }\n    return key;\n}\n</code></pre>\n\n<p>The below 2 methods to decrypt and encrypt gpg files:</p>\n\n<pre><code>public void decryptFile(InputStream in, InputStream secKeyIn, InputStream pubKeyIn, char[] pass) throws IOException, PGPException, InvalidCipherTextException {\n    Security.addProvider(new BouncyCastleProvider());\n\n    PGPPublicKey pubKey = readPublicKeyFromCol(pubKeyIn);\n\n    PGPSecretKey secKey = readSecretKeyFromCol(secKeyIn, pubKey.getKeyID());\n\n    in = PGPUtil.getDecoderStream(in);\n\n    JcaPGPObjectFactory pgpFact;\n\n\n    PGPObjectFactory pgpF = new PGPObjectFactory(in, new BcKeyFingerprintCalculator());\n\n    Object o = pgpF.nextObject();\n    PGPEncryptedDataList encList;\n\n    if (o instanceof PGPEncryptedDataList) {\n\n        encList = (PGPEncryptedDataList) o;\n\n    } else {\n\n        encList = (PGPEncryptedDataList) pgpF.nextObject();\n\n    }\n\n    Iterator&lt;PGPPublicKeyEncryptedData&gt; itt = encList.getEncryptedDataObjects();\n    PGPPrivateKey sKey = null;\n    PGPPublicKeyEncryptedData encP = null;\n    while (sKey == null &amp;&amp; itt.hasNext()) {\n        encP = itt.next();\n        secKey = readSecretKeyFromCol(new FileInputStream(\"PrivateKey.asc\"), encP.getKeyID());\n        sKey = secKey.extractPrivateKey(new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(pass));\n    }\n    if (sKey == null) {\n        throw new IllegalArgumentException(\"Secret key for message not found.\");\n    }\n\n    InputStream clear = encP.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\n\n    pgpFact = new JcaPGPObjectFactory(clear);\n\n    PGPCompressedData c1 = (PGPCompressedData) pgpFact.nextObject();\n\n    pgpFact = new JcaPGPObjectFactory(c1.getDataStream());\n\n    PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\n    ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n\n    InputStream inLd = ld.getDataStream();\n\n    int ch;\n    while ((ch = inLd.read()) &gt;= 0) {\n        bOut.write(ch);\n    }\n\n    //System.out.println(bOut.toString());\n\n    bOut.writeTo(new FileOutputStream(ld.getFileName()));\n    //return bOut;\n\n}\n\npublic static void encryptFile(OutputStream out, String fileName, PGPPublicKey encKey) throws IOException, NoSuchProviderException, PGPException {\n    Security.addProvider(new BouncyCastleProvider());\n\n    ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n\n    PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(PGPCompressedData.ZIP);\n\n    PGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY, new File(fileName));\n\n    comData.close();\n\n    PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(new BcPGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.TRIPLE_DES).setSecureRandom(new SecureRandom()));\n\n    cPk.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(encKey));\n\n    byte[] bytes = bOut.toByteArray();\n\n    OutputStream cOut = cPk.open(out, bytes.length);\n\n    cOut.write(bytes);\n\n    cOut.close();\n\n    out.close();\n}\n</code></pre>\n\n<p>Now here is how to invoke/run the above:</p>\n\n<pre><code>try {\n         decryptFile(new FileInputStream(\"encryptedFile.gpg\"), new FileInputStream(\"PrivateKey.asc\"), new FileInputStream(\"PublicKey.asc\"), \"yourKeyPassword\".toCharArray());\n\n        PGPPublicKey pubKey = readPublicKeyFromCol(new FileInputStream(\"PublicKey.asc\"));\n\n        encryptFile(new FileOutputStream(\"encryptedFileOutput.gpg\"), \"fileToEncrypt.txt\", pubKey);\n\n\n\n\n    } catch (PGPException e) {\n        fail(\"exception: \" + e.getMessage(), e.getUnderlyingException());\n    }\n</code></pre>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22334,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1642276505,"creation_date":1423616434,"question_id":28444819,"body_markdown":"**How can I get BouncyCastle to decrypt a GPG-encrypted message?**  \n  \nI have created a GPG key pair at the CentOS 7 command line using `gpg --gen-key`.  I chose RSA RSA as the encryption types, and I exported the keys using `gpg --export-secret-key -a &quot;User Name&quot; &gt; /home/username/username_private.key` and `gpg --armor --export 66677FC6 &gt; /home/username/username_pubkey.asc`\n  \nI am able to import `username_pubkey.asc` into a remote Thunderbird client of another email account and successfully send an encrypted email to username@mydomain.com.  But when my Java/BouncyCastle code running at mydomain.com tries to decrypt the GPG-encoded data, it gives the following error:  \n  \n    org.bouncycastle.openpgp.PGPException:  \n    Encrypted message contains a signed message - not literal data.\n  \nIf you look at the code below, you will see this corresponds with the line in `PGPUtils.decryptFile()` which states `else if (message instanceof  PGPOnePassSignatureList) {throw new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);`\n  \nThe original code for this came from &lt;a href=&quot;http://sloanseaman.com/wordpress/2012/05/13/revisited-pgp-encryptiondecryption-in-java/&quot;&gt;the blog entry at this link&lt;/a&gt;, though I made minor changes to get it to compile in Eclipse Luna with Java 7.  A user of the linked blog reported the same error, and the blog author replied by saying that it does not work with GPG.  **So how do I fix this to make it work with GPG?**  \n  \nThe Java decryption code starts when the GPG-encoded-file and the GPG-secret-key are passed into `Tester.testDecrypt()` as follows:  \n  \nTester.java contains:  \n  \n    public InputStream testDecrypt(String input, String output, String passphrase, String skeyfile) throws Exception {\n        PGPFileProcessor p = new PGPFileProcessor();\n        p.setInputFileName(input);//this is GPG-encoded data sent from another email address using Thunderbird\n        p.setOutputFileName(output);\n        p.setPassphrase(passphrase);\n        p.setSecretKeyFileName(skeyfile);//this is the GPG-generated key\n        return p.decrypt();//this line throws the error\n    }\n  \nPGPFileProcessor.java includes:  \n  \n    public InputStream decrypt() throws Exception {\n        FileInputStream in = new FileInputStream(inputFileName);\n        FileInputStream keyIn = new FileInputStream(secretKeyFileName);\n        FileOutputStream out = new FileOutputStream(outputFileName);\n        PGPUtils.decryptFile(in, out, keyIn, passphrase.toCharArray());//error thrown here\n        in.close();\n        out.close();\n        keyIn.close();\n        InputStream result = new FileInputStream(outputFileName);//I changed return type from boolean on 1/27/15\n        Files.deleteIfExists(Paths.get(outputFileName));//I also added this to accommodate change of return type on 1/27/15\n        return result;\n    }\n  \nPGPUtils.java includes:\n  \n    /**\n     * decrypt the passed in message stream\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static void decryptFile(InputStream in, OutputStream out, InputStream keyIn, char[] passwd)\n        throws Exception\n    {\n        Security.addProvider(new BouncyCastleProvider());\n \n        in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\n \n        //1/26/15 added Jca prefix to avoid eclipse warning, also used https://www.bouncycastle.org/docs/pgdocs1.5on/index.html\n        PGPObjectFactory pgpF = new JcaPGPObjectFactory(in);\n        PGPEncryptedDataList enc;\n \n        Object o = pgpF.nextObject();\n        //\n        // the first object might be a PGP marker packet.\n        //\n        if (o instanceof  PGPEncryptedDataList) {enc = (PGPEncryptedDataList) o;}\n        else {enc = (PGPEncryptedDataList) pgpF.nextObject();}\n \n        //\n        // find the secret key\n        //\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n \n        while (sKey == null &amp;&amp; it.hasNext()) {\n            pbe = it.next(); \n            sKey = findPrivateKey(keyIn, pbe.getKeyID(), passwd);\n        }\n \n        if (sKey == null) {throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);}\n \n        InputStream clear = pbe.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\n \n        //1/26/15 added Jca prefix to avoid eclipse warning, also used https://www.bouncycastle.org/docs/pgdocs1.5on/index.html\n        PGPObjectFactory plainFact = new JcaPGPObjectFactory(clear);\n \n        Object message = plainFact.nextObject();\n \n        if (message instanceof  PGPCompressedData) {\n            PGPCompressedData cData = (PGPCompressedData) message;\n            //1/26/15 added Jca prefix to avoid eclipse warning, also used https://www.bouncycastle.org/docs/pgdocs1.5on/index.html\n            PGPObjectFactory pgpFact = new JcaPGPObjectFactory(cData.getDataStream()); \n            message = pgpFact.nextObject();\n        }\n \n        if (message instanceof  PGPLiteralData) {\n            PGPLiteralData ld = (PGPLiteralData) message;\n \n            InputStream unc = ld.getInputStream();\n            int ch;\n \n            while ((ch = unc.read()) &gt;= 0) {out.write(ch);}\n        } else if (message instanceof  PGPOnePassSignatureList) {\n            throw new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);\n        } else {\n            throw new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\n        }\n \n        if (pbe.isIntegrityProtected()) {\n            if (!pbe.verify()) {throw new PGPException(&quot;Message failed integrity check&quot;);}\n        }\n    }\n  \n    /**\n     * Load a secret key ring collection from keyIn and find the private key corresponding to\n     * keyID if it exists.\n     *\n     * @param keyIn input stream representing a key ring collection.\n     * @param keyID keyID we want.\n     * @param pass passphrase to decrypt secret key with.\n     * @return\n     * @throws IOException\n     * @throws PGPException\n     * @throws NoSuchProviderException\n     */\n    public  static PGPPrivateKey findPrivateKey(InputStream keyIn, long keyID, char[] pass)\n        throws IOException, PGPException, NoSuchProviderException\n    {\n        //1/26/15 added Jca prefix to avoid eclipse warning, also used https://www.bouncycastle.org/docs/pgdocs1.5on/index.html\n        PGPSecretKeyRingCollection pgpSec = new JcaPGPSecretKeyRingCollection(PGPUtil.getDecoderStream(keyIn));\n        return findPrivateKey(pgpSec.getSecretKey(keyID), pass);\n\n    }\n  \n    /**\n     * Load a secret key and find the private key in it\n     * @param pgpSecKey The secret key\n     * @param pass passphrase to decrypt secret key with\n     * @return\n     * @throws PGPException\n     */\n    public static PGPPrivateKey findPrivateKey(PGPSecretKey pgpSecKey, char[] pass)\n        throws PGPException\n    {\n        if (pgpSecKey == null) return null;\n  \n        PBESecretKeyDecryptor decryptor = new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(pass);\n        return pgpSecKey.extractPrivateKey(decryptor);\n    }  \n  \nThe complete code of all three Java files can be found on a file sharing site &lt;a href=&quot;https://jumpshare.com/b/raNHtbMTuk670oD0vGhm&quot;&gt;by clicking on this link&lt;/a&gt;.  \n  \nThe complete stack trace for the error can be found &lt;a href=&quot;https://jumpshare.com/v/phjCPVQsfRSJn1JMPNQa?b=pJbVbAPNzZMp29nrTu3w&quot;&gt;by clicking on this link&lt;/a&gt;.  \n  \nFor reference, the GUI instructions for encryption by the remote Thunderbird sender are summarized in the following screen shot:  \n  \n[![][1]][1]\n&lt;!-- source: https://s14.postimg.org/atw5ifti9/Encrypt_Separate.png --&gt;  \n  \nI have read many postings and links about this.  In particular, &lt;a href=&quot;https://stackoverflow.com/questions/14993223/getting-gpg-decryption-to-work-in-java-bouncy-castle?rq=1&quot;&gt;this other SO posting looks similar&lt;/a&gt;, but is different.  My Keys use RSA RSA, but the other posting does not.  \n  \n**EDIT#1**  \n  \nAs per @DavidHook&#39;s suggestion, I have read &lt;a href=&quot;http://grepcode.com/file/repo1.maven.org/maven2/org.bouncycastle/bcpg-jdk16/1.46/org/bouncycastle/openpgp/examples/SignedFileProcessor.java&quot;&gt;SignedFileProcessor&lt;/a&gt;, and I am starting to read the much longer &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc4880&quot;&gt;RFC 4880&lt;/a&gt;.  However, I need actual working code to study in order to understand this.  Most people who find this via google searches will also need working code to illustrate the examples.  \n  \nFor reference, the `SignedFileProcessor.verifyFile()` method recommended by @DavidHook is as follows.  **How should this be customized to fix the problems in the code above?**  \n  \n    private static void verifyFile(InputStream in, InputStream keyIn) throws Exception {\n        in = PGPUtil.getDecoderStream(in);\n        PGPObjectFactory pgpFact = new PGPObjectFactory(in);\n        PGPCompressedData c1 = (PGPCompressedData)pgpFact.nextObject();\n        pgpFact = new PGPObjectFactory(c1.getDataStream());\n        PGPOnePassSignatureList p1 = (PGPOnePassSignatureList)pgpFact.nextObject();\n        PGPOnePassSignature ops = p1.get(0);\n        PGPLiteralData p2 = (PGPLiteralData)pgpFact.nextObject();\n        InputStream dIn = p2.getInputStream();\n        int ch;\n        PGPPublicKeyRingCollection  pgpRing = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(keyIn));\n        PGPPublicKey key = pgpRing.getPublicKey(ops.getKeyID());\n        FileOutputStream out = new FileOutputStream(p2.getFileName());\n        ops.initVerify(key, &quot;BC&quot;);\n        while ((ch = dIn.read()) &gt;= 0){\n            ops.update((byte)ch);\n            out.write(ch);\n        }\n        out.close();\n        PGPSignatureList p3 = (PGPSignatureList)pgpFact.nextObject();\n        if (ops.verify(p3.get(0))){System.out.println(&quot;signature verified.&quot;);}\n        else{System.out.println(&quot;signature verification failed.&quot;);}\n    }\n  \n**EDIT#2**  \n  \nThe `SignedFileProcessor.verifyFile()` method recommended by @DavidHook is almost identical to the `PGPUtils.verifyFile()` method in my code above, except that `PGPUtils.verifyFile()` makes a copy of `extractContentFile` and calls `PGPOnePassSignature.init()` instead of `PGPOnePassSignature.initVerify()`.  This may be due to a version difference.  Also, `PGPUtils.verifyFile()` returns a boolean, while `SignedFileProcessor.verifyFile()` gives SYSO for the two boolean values and returns void after the SYSO.  \n  \n**If I interpret @JRichardSnape&#39;s comments correctly, this means that the `verifyFile()` method might best be called upstream to confirm the signature of the incoming file using the sender&#39;s public key, and then, if the signature on the file is verified, using another method to decrypt the file using the recipient&#39;s private key.  Is this correct?  If so, how do I restructure the code to accomplish this?**\n\n [1]: https://i.stack.imgur.com/UEkBO.png","title":"Getting BouncyCastle to decrypt a GPG-encrypted message","body":"<p><strong>How can I get BouncyCastle to decrypt a GPG-encrypted message?</strong></p>\n<p>I have created a GPG key pair at the CentOS 7 command line using <code>gpg --gen-key</code>.  I chose RSA RSA as the encryption types, and I exported the keys using <code>gpg --export-secret-key -a &quot;User Name&quot; &gt; /home/username/username_private.key</code> and <code>gpg --armor --export 66677FC6 &gt; /home/username/username_pubkey.asc</code></p>\n<p>I am able to import <code>username_pubkey.asc</code> into a remote Thunderbird client of another email account and successfully send an encrypted email to username@mydomain.com.  But when my Java/BouncyCastle code running at mydomain.com tries to decrypt the GPG-encoded data, it gives the following error:</p>\n<pre><code>org.bouncycastle.openpgp.PGPException:  \nEncrypted message contains a signed message - not literal data.\n</code></pre>\n<p>If you look at the code below, you will see this corresponds with the line in <code>PGPUtils.decryptFile()</code> which states <code>else if (message instanceof  PGPOnePassSignatureList) {throw new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);</code></p>\n<p>The original code for this came from <a href=\"http://sloanseaman.com/wordpress/2012/05/13/revisited-pgp-encryptiondecryption-in-java/\" rel=\"nofollow noreferrer\">the blog entry at this link</a>, though I made minor changes to get it to compile in Eclipse Luna with Java 7.  A user of the linked blog reported the same error, and the blog author replied by saying that it does not work with GPG.  <strong>So how do I fix this to make it work with GPG?</strong></p>\n<p>The Java decryption code starts when the GPG-encoded-file and the GPG-secret-key are passed into <code>Tester.testDecrypt()</code> as follows:</p>\n<p>Tester.java contains:</p>\n<pre><code>public InputStream testDecrypt(String input, String output, String passphrase, String skeyfile) throws Exception {\n    PGPFileProcessor p = new PGPFileProcessor();\n    p.setInputFileName(input);//this is GPG-encoded data sent from another email address using Thunderbird\n    p.setOutputFileName(output);\n    p.setPassphrase(passphrase);\n    p.setSecretKeyFileName(skeyfile);//this is the GPG-generated key\n    return p.decrypt();//this line throws the error\n}\n</code></pre>\n<p>PGPFileProcessor.java includes:</p>\n<pre><code>public InputStream decrypt() throws Exception {\n    FileInputStream in = new FileInputStream(inputFileName);\n    FileInputStream keyIn = new FileInputStream(secretKeyFileName);\n    FileOutputStream out = new FileOutputStream(outputFileName);\n    PGPUtils.decryptFile(in, out, keyIn, passphrase.toCharArray());//error thrown here\n    in.close();\n    out.close();\n    keyIn.close();\n    InputStream result = new FileInputStream(outputFileName);//I changed return type from boolean on 1/27/15\n    Files.deleteIfExists(Paths.get(outputFileName));//I also added this to accommodate change of return type on 1/27/15\n    return result;\n}\n</code></pre>\n<p>PGPUtils.java includes:</p>\n<pre><code>/**\n * decrypt the passed in message stream\n */\n@SuppressWarnings(&quot;unchecked&quot;)\npublic static void decryptFile(InputStream in, OutputStream out, InputStream keyIn, char[] passwd)\n    throws Exception\n{\n    Security.addProvider(new BouncyCastleProvider());\n\n    in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\n\n    //1/26/15 added Jca prefix to avoid eclipse warning, also used https://www.bouncycastle.org/docs/pgdocs1.5on/index.html\n    PGPObjectFactory pgpF = new JcaPGPObjectFactory(in);\n    PGPEncryptedDataList enc;\n\n    Object o = pgpF.nextObject();\n    //\n    // the first object might be a PGP marker packet.\n    //\n    if (o instanceof  PGPEncryptedDataList) {enc = (PGPEncryptedDataList) o;}\n    else {enc = (PGPEncryptedDataList) pgpF.nextObject();}\n\n    //\n    // find the secret key\n    //\n    Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\n    PGPPrivateKey sKey = null;\n    PGPPublicKeyEncryptedData pbe = null;\n\n    while (sKey == null &amp;&amp; it.hasNext()) {\n        pbe = it.next(); \n        sKey = findPrivateKey(keyIn, pbe.getKeyID(), passwd);\n    }\n\n    if (sKey == null) {throw new IllegalArgumentException(&quot;Secret key for message not found.&quot;);}\n\n    InputStream clear = pbe.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\n\n    //1/26/15 added Jca prefix to avoid eclipse warning, also used https://www.bouncycastle.org/docs/pgdocs1.5on/index.html\n    PGPObjectFactory plainFact = new JcaPGPObjectFactory(clear);\n\n    Object message = plainFact.nextObject();\n\n    if (message instanceof  PGPCompressedData) {\n        PGPCompressedData cData = (PGPCompressedData) message;\n        //1/26/15 added Jca prefix to avoid eclipse warning, also used https://www.bouncycastle.org/docs/pgdocs1.5on/index.html\n        PGPObjectFactory pgpFact = new JcaPGPObjectFactory(cData.getDataStream()); \n        message = pgpFact.nextObject();\n    }\n\n    if (message instanceof  PGPLiteralData) {\n        PGPLiteralData ld = (PGPLiteralData) message;\n\n        InputStream unc = ld.getInputStream();\n        int ch;\n\n        while ((ch = unc.read()) &gt;= 0) {out.write(ch);}\n    } else if (message instanceof  PGPOnePassSignatureList) {\n        throw new PGPException(&quot;Encrypted message contains a signed message - not literal data.&quot;);\n    } else {\n        throw new PGPException(&quot;Message is not a simple encrypted file - type unknown.&quot;);\n    }\n\n    if (pbe.isIntegrityProtected()) {\n        if (!pbe.verify()) {throw new PGPException(&quot;Message failed integrity check&quot;);}\n    }\n}\n\n/**\n * Load a secret key ring collection from keyIn and find the private key corresponding to\n * keyID if it exists.\n *\n * @param keyIn input stream representing a key ring collection.\n * @param keyID keyID we want.\n * @param pass passphrase to decrypt secret key with.\n * @return\n * @throws IOException\n * @throws PGPException\n * @throws NoSuchProviderException\n */\npublic  static PGPPrivateKey findPrivateKey(InputStream keyIn, long keyID, char[] pass)\n    throws IOException, PGPException, NoSuchProviderException\n{\n    //1/26/15 added Jca prefix to avoid eclipse warning, also used https://www.bouncycastle.org/docs/pgdocs1.5on/index.html\n    PGPSecretKeyRingCollection pgpSec = new JcaPGPSecretKeyRingCollection(PGPUtil.getDecoderStream(keyIn));\n    return findPrivateKey(pgpSec.getSecretKey(keyID), pass);\n\n}\n\n/**\n * Load a secret key and find the private key in it\n * @param pgpSecKey The secret key\n * @param pass passphrase to decrypt secret key with\n * @return\n * @throws PGPException\n */\npublic static PGPPrivateKey findPrivateKey(PGPSecretKey pgpSecKey, char[] pass)\n    throws PGPException\n{\n    if (pgpSecKey == null) return null;\n\n    PBESecretKeyDecryptor decryptor = new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(pass);\n    return pgpSecKey.extractPrivateKey(decryptor);\n}  \n</code></pre>\n<p>The complete code of all three Java files can be found on a file sharing site <a href=\"https://jumpshare.com/b/raNHtbMTuk670oD0vGhm\" rel=\"nofollow noreferrer\">by clicking on this link</a>.</p>\n<p>The complete stack trace for the error can be found <a href=\"https://jumpshare.com/v/phjCPVQsfRSJn1JMPNQa?b=pJbVbAPNzZMp29nrTu3w\" rel=\"nofollow noreferrer\">by clicking on this link</a>.</p>\n<p>For reference, the GUI instructions for encryption by the remote Thunderbird sender are summarized in the following screen shot:</p>\n<p><a href=\"https://i.stack.imgur.com/UEkBO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UEkBO.png\" alt=\"\" /></a></p>\n  \n<p>I have read many postings and links about this.  In particular, <a href=\"https://stackoverflow.com/questions/14993223/getting-gpg-decryption-to-work-in-java-bouncy-castle?rq=1\">this other SO posting looks similar</a>, but is different.  My Keys use RSA RSA, but the other posting does not.</p>\n<p><strong>EDIT#1</strong></p>\n<p>As per @DavidHook's suggestion, I have read <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.bouncycastle/bcpg-jdk16/1.46/org/bouncycastle/openpgp/examples/SignedFileProcessor.java\" rel=\"nofollow noreferrer\">SignedFileProcessor</a>, and I am starting to read the much longer <a href=\"https://www.rfc-editor.org/rfc/rfc4880\" rel=\"nofollow noreferrer\">RFC 4880</a>.  However, I need actual working code to study in order to understand this.  Most people who find this via google searches will also need working code to illustrate the examples.</p>\n<p>For reference, the <code>SignedFileProcessor.verifyFile()</code> method recommended by @DavidHook is as follows.  <strong>How should this be customized to fix the problems in the code above?</strong></p>\n<pre><code>private static void verifyFile(InputStream in, InputStream keyIn) throws Exception {\n    in = PGPUtil.getDecoderStream(in);\n    PGPObjectFactory pgpFact = new PGPObjectFactory(in);\n    PGPCompressedData c1 = (PGPCompressedData)pgpFact.nextObject();\n    pgpFact = new PGPObjectFactory(c1.getDataStream());\n    PGPOnePassSignatureList p1 = (PGPOnePassSignatureList)pgpFact.nextObject();\n    PGPOnePassSignature ops = p1.get(0);\n    PGPLiteralData p2 = (PGPLiteralData)pgpFact.nextObject();\n    InputStream dIn = p2.getInputStream();\n    int ch;\n    PGPPublicKeyRingCollection  pgpRing = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(keyIn));\n    PGPPublicKey key = pgpRing.getPublicKey(ops.getKeyID());\n    FileOutputStream out = new FileOutputStream(p2.getFileName());\n    ops.initVerify(key, &quot;BC&quot;);\n    while ((ch = dIn.read()) &gt;= 0){\n        ops.update((byte)ch);\n        out.write(ch);\n    }\n    out.close();\n    PGPSignatureList p3 = (PGPSignatureList)pgpFact.nextObject();\n    if (ops.verify(p3.get(0))){System.out.println(&quot;signature verified.&quot;);}\n    else{System.out.println(&quot;signature verification failed.&quot;);}\n}\n</code></pre>\n<p><strong>EDIT#2</strong></p>\n<p>The <code>SignedFileProcessor.verifyFile()</code> method recommended by @DavidHook is almost identical to the <code>PGPUtils.verifyFile()</code> method in my code above, except that <code>PGPUtils.verifyFile()</code> makes a copy of <code>extractContentFile</code> and calls <code>PGPOnePassSignature.init()</code> instead of <code>PGPOnePassSignature.initVerify()</code>.  This may be due to a version difference.  Also, <code>PGPUtils.verifyFile()</code> returns a boolean, while <code>SignedFileProcessor.verifyFile()</code> gives SYSO for the two boolean values and returns void after the SYSO.</p>\n<p><strong>If I interpret @JRichardSnape's comments correctly, this means that the <code>verifyFile()</code> method might best be called upstream to confirm the signature of the incoming file using the sender's public key, and then, if the signature on the file is verified, using another method to decrypt the file using the recipient's private key.  Is this correct?  If so, how do I restructure the code to accomplish this?</strong></p>\n"},{"tags":["java","encryption","bouncycastle","pgp"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1631041703,"post_id":69090761,"comment_id":122115629,"body_markdown":"First thing that draws my attention is the closing of the streams. You should always just close the topmost stream, not close the underlying stream first. Try Googling &quot;try-with-resources&quot;.","body":"First thing that draws my attention is the closing of the streams. You should always just close the topmost stream, not close the underlying stream first. Try Googling &quot;try-with-resources&quot;."},{"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"score":0,"creation_date":1632352003,"post_id":69090761,"comment_id":122471939,"body_markdown":"I&#39;m not sure if you should input `bytes.length` as length value when opening streams. I&#39;m having good experience with 1&lt;&lt;9 as buffer size.","body":"I&#39;m not sure if you should input <code>bytes.length</code> as length value when opening streams. I&#39;m having good experience with 1&lt;&lt;9 as buffer size."}],"answers":[{"tags":[],"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632397315,"creation_date":1632397315,"answer_id":69299334,"question_id":69090761,"body_markdown":"There are some errors in your encrypt() method code:\r\n\r\nFirst and foremost, in this line your are opening the literal data stream directly on your armored output stream, while you should open it on your encryption stream:\r\n\r\n```\r\nOutputStream pOut = lData.open(aOut, PGPLiteralData.UTF8, PGPLiteralData.CONSOLE, bytes.length, new Date());\r\n// replace with\r\nOutputStream pOut = lData.open(cOut, PGPLiteralData.UTF8, PGPLiteralData.CONSOLE, bytes.length, new Date());\r\n```\r\n\r\nFurthermore you should replace the line \r\n```\r\nOutputStream cOut = encGen.open(aOut, bytes.length);\r\n// with\r\nOutputStream cOut = encGen.open(aOut, new byte[1&lt;&lt;9]);\r\n\r\n```\r\n\r\nOtherwise you will run into encoding issues.\r\nThese changes should make your code run.\r\n\r\nI however recommend using a library such as [PGPainless](https://github.com/pgpainless/pgpainless) (disclaimer: author here) which does all the low level stream wrapping and checking for you. On top of that it does proper signature verification, which most other Bouncycastle based libraries lack.","title":"Bouncy Castle Java PGP encryption &amp; decryption","body":"<p>There are some errors in your encrypt() method code:</p>\n<p>First and foremost, in this line your are opening the literal data stream directly on your armored output stream, while you should open it on your encryption stream:</p>\n<pre><code>OutputStream pOut = lData.open(aOut, PGPLiteralData.UTF8, PGPLiteralData.CONSOLE, bytes.length, new Date());\n// replace with\nOutputStream pOut = lData.open(cOut, PGPLiteralData.UTF8, PGPLiteralData.CONSOLE, bytes.length, new Date());\n</code></pre>\n<p>Furthermore you should replace the line</p>\n<pre><code>OutputStream cOut = encGen.open(aOut, bytes.length);\n// with\nOutputStream cOut = encGen.open(aOut, new byte[1&lt;&lt;9]);\n\n</code></pre>\n<p>Otherwise you will run into encoding issues.\nThese changes should make your code run.</p>\n<p>I however recommend using a library such as <a href=\"https://github.com/pgpainless/pgpainless\" rel=\"nofollow noreferrer\">PGPainless</a> (disclaimer: author here) which does all the low level stream wrapping and checking for you. On top of that it does proper signature verification, which most other Bouncycastle based libraries lack.</p>\n"},{"tags":[],"owner":{"account_id":5019670,"reputation":115,"user_id":4033469,"accept_rate":100,"display_name":"Ambrozie Beniamin Paval"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634757247,"creation_date":1634757247,"answer_id":69651816,"question_id":69090761,"body_markdown":"Here is the encryption method that eventually worked for me. \r\nIt helped debugging together with the examples provided by the **BCFipsIn100** book.\r\n\r\n    public byte[] encrypt(byte[] bytes, String publicKey) throws IOException {\r\n\r\n        try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\r\n            byte[] compressedData = compress(bytes);\r\n\r\n            PGPEncryptedDataGenerator encGen = new PGPEncryptedDataGenerator(\r\n                    new JcePGPDataEncryptorBuilder(PGPEncryptedData.CAST5)\r\n                            .setWithIntegrityPacket(true)\r\n                            .setSecureRandom(new SecureRandom())\r\n                            .setProvider(PROVIDER));\r\n\r\n            PGPPublicKey encryptionKey = readPublicKey(publicKey);\r\n            encGen.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(encryptionKey).setProvider(PROVIDER));\r\n\r\n            ArmoredOutputStream aOut = new ArmoredOutputStream(byteArrayOutputStream);\r\n            OutputStream cOut = encGen.open(aOut, compressedData.length);\r\n            cOut.write(compressedData);\r\n            cOut.close();\r\n            aOut.close();\r\n\r\n            return byteArrayOutputStream.toByteArray();\r\n        } catch (PGPException e) {\r\n            log.error(&quot;Exception encountered while encoding data.&quot;, e);\r\n        }\r\n\r\n        return new byte[0];\r\n    }\r\n\r\n    private static byte[] compress(byte[] clearData) throws IOException {\r\n        try (ByteArrayOutputStream bOut = new ByteArrayOutputStream()) {\r\n            PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(CompressionAlgorithmTags.ZIP);\r\n            OutputStream cos = comData.open(bOut);\r\n\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n            OutputStream pOut = lData.open(cos,\r\n                    PGPLiteralData.BINARY,\r\n                    PGPLiteralData.CONSOLE,\r\n                    clearData.length,\r\n                    new Date());\r\n\r\n            pOut.write(clearData);\r\n            pOut.close();\r\n\r\n            comData.close();\r\n\r\n            return bOut.toByteArray();\r\n        }\r\n    }","title":"Bouncy Castle Java PGP encryption &amp; decryption","body":"<p>Here is the encryption method that eventually worked for me.\nIt helped debugging together with the examples provided by the <strong>BCFipsIn100</strong> book.</p>\n<pre><code>public byte[] encrypt(byte[] bytes, String publicKey) throws IOException {\n\n    try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\n        byte[] compressedData = compress(bytes);\n\n        PGPEncryptedDataGenerator encGen = new PGPEncryptedDataGenerator(\n                new JcePGPDataEncryptorBuilder(PGPEncryptedData.CAST5)\n                        .setWithIntegrityPacket(true)\n                        .setSecureRandom(new SecureRandom())\n                        .setProvider(PROVIDER));\n\n        PGPPublicKey encryptionKey = readPublicKey(publicKey);\n        encGen.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(encryptionKey).setProvider(PROVIDER));\n\n        ArmoredOutputStream aOut = new ArmoredOutputStream(byteArrayOutputStream);\n        OutputStream cOut = encGen.open(aOut, compressedData.length);\n        cOut.write(compressedData);\n        cOut.close();\n        aOut.close();\n\n        return byteArrayOutputStream.toByteArray();\n    } catch (PGPException e) {\n        log.error(&quot;Exception encountered while encoding data.&quot;, e);\n    }\n\n    return new byte[0];\n}\n\nprivate static byte[] compress(byte[] clearData) throws IOException {\n    try (ByteArrayOutputStream bOut = new ByteArrayOutputStream()) {\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(CompressionAlgorithmTags.ZIP);\n        OutputStream cos = comData.open(bOut);\n\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n        OutputStream pOut = lData.open(cos,\n                PGPLiteralData.BINARY,\n                PGPLiteralData.CONSOLE,\n                clearData.length,\n                new Date());\n\n        pOut.write(clearData);\n        pOut.close();\n\n        comData.close();\n\n        return bOut.toByteArray();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5019670,"reputation":115,"user_id":4033469,"accept_rate":100,"display_name":"Ambrozie Beniamin Paval"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69651816,"answer_count":2,"score":0,"last_activity_date":1642276485,"creation_date":1631027929,"question_id":69090761,"body_markdown":"I am trying to implement PGP encryption in Java using Bouncy Castle, also using some of the examples provided by them.\r\n\r\nBut if I try and decrypt the message I just encrypted, it does not work. The keys and the decryption method seem to be ok, because I can encrypt using an external tool (link) and then successfully decrypt it here.\r\n\r\n        public static void main(String[] args) throws PGPException, IOException, NoSuchAlgorithmException, NoSuchProviderException, InvalidAlgorithmParameterException {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        byte[] msg = (&quot;Test blabla BLA&quot;).getBytes();\r\n\r\n        byte[] encData = encrypt(msg, publicKey);\r\n        System.out.println(new String(encData));\r\n\r\n        System.err.println(&quot;DECRYPTED&quot;);\r\n        System.out.println(decrypt(IOUtils.toInputStream(new String(encData), StandardCharsets.UTF_8), privateKey, passphrase));\r\n\r\n        System.err.println(&quot;DECRYPTED external&quot;);\r\n        String testEncryptedMsg = &quot;-----BEGIN PGP MESSAGE-----\\n&quot; +\r\n                &quot;Version: BCPG C# v1.6.1.0\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;hQIMA4p9BgtBOg+BARAAiLdmGZBupsSkrji1qdC/y6KACuaWytcjVg3LWudWRlH8\\n&quot; +\r\n                &quot;Ye1U0bz+HYc6mLt21RivAZ3p+lPXPzh/h0GVLW/aI2ngJracL+iEA7eam5/H3NQV\\n&quot; +\r\n                &quot;2o0CR1mjw4xOf0XwDxaLrnivdeuWniXiZyFN7Ud7lmNG+EmQ0d5ZfR7KEnTJNjSe\\n&quot; +\r\n                &quot;FpzwRffBG5lKB4CxF49jBp+Iupdv4A5JzHuDVBkypPMNhS/UEbuPOt5cfmddYVvW\\n&quot; +\r\n                &quot;gtDM3rX+ePBhg7d/mVkiDT2KM0Cr7GSrdZ8q83fF4sat3Xp8OHMq61GWriNK4gwb\\n&quot; +\r\n                &quot;ViT/vmEsY0n55TVgN5VagMZJJlEThkqWE2wpEjq4HM8pNxR4PvP5inqP5oipn8Os\\n&quot; +\r\n                &quot;Nq2a5f77BS7GB9NQ+hnaLSBsywJkZVKqygN81MeHBnNrVXFQ/Hqg24BLwk49bOuH\\n&quot; +\r\n                &quot;jTUzorudCnjj/p8/WiyR+PuESkQDLKpo1z9KGEE/rKjTqAwH/fBKJ73XpmAWwd4U\\n&quot; +\r\n                &quot;1hv/EdF+XDZv7XwxeVjSIK2inAjdNz+way1WNY3qouo7G+gjKf1gbL14q2HVPnd/\\n&quot; +\r\n                &quot;7mfiW3uWCQ7GhXlHtd1E0WeK2296TdBuSGAvLlVxI4xepsiuVw+zC4BxvAkTXB/a\\n&quot; +\r\n                &quot;HyJZhKPksHMRCt8ZxitMfhdvMNGjc4MDhv1MLqKijpagKhgrmDTiJRMb3ng6QLvJ\\n&quot; +\r\n                &quot;L2GICyuS4aIsz6XiCQvZG8ebfb0J4uogbb5HxS2fGFT+Y/VgpCnwhwj6LnLBy1Q3\\n&quot; +\r\n                &quot;=D/1d\\n&quot; +\r\n                &quot;-----END PGP MESSAGE-----\\n&quot;;\r\n        System.out.println(decrypt(IOUtils.toInputStream(testEncryptedMsg, StandardCharsets.UTF_8), privateKey, passphrase));\r\n    }\r\n\r\nI think the problem is on the encryption side, but I cannot figure out what exactly it is. Does anyone have any ideas? \r\n\r\n    public static byte[] encrypt(byte[] bytes, String publicKey) throws IOException {\r\n\r\n        ByteArrayOutputStream encOut = new ByteArrayOutputStream();\r\n\r\n        try {\r\n            PGPEncryptedDataGenerator encGen = new PGPEncryptedDataGenerator(\r\n                    new JcePGPDataEncryptorBuilder(PGPEncryptedData.AES_128)\r\n                            .setSecureRandom(new SecureRandom())\r\n                            .setWithIntegrityPacket(true)\r\n                            .setProvider(&quot;BC&quot;));\r\n\r\n            PGPPublicKey encryptionKey = readPublicKey(publicKey);\r\n            encGen.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(encryptionKey).setProvider(&quot;BC&quot;));\r\n\r\n            ArmoredOutputStream aOut = new ArmoredOutputStream(encOut);\r\n            OutputStream cOut = encGen.open(aOut, bytes.length);\r\n            // write out the literal data\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n            OutputStream pOut = lData.open(aOut, PGPLiteralData.UTF8, PGPLiteralData.CONSOLE, bytes.length, new Date());\r\n            pOut.write(bytes);\r\n            pOut.close();\r\n\r\n            // finish the encryption\r\n            cOut.close();\r\n            aOut.close();\r\n\r\n        } catch (PGPException e) {\r\n            log.error(&quot;Exception encountered while encoding data.&quot;, e);\r\n        }\r\n        return encOut.toByteArray();\r\n    }\r\n\r\n    public static String decrypt(InputStream in, String secretKey, String passphrase) throws IOException {\r\n        String content = null;\r\n\r\n        try {\r\n            in = PGPUtil.getDecoderStream(in);\r\n            JcaPGPObjectFactory pgpF = new JcaPGPObjectFactory(in);\r\n            PGPEncryptedDataList enc;\r\n\r\n            Object o = pgpF.nextObject();\r\n            // the first object might be a PGP marker packet.\r\n            if (o instanceof PGPEncryptedDataList) {\r\n                enc = (PGPEncryptedDataList) o;\r\n            } else {\r\n                enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n            }\r\n\r\n            // find the secret key\r\n            Iterator&lt;PGPEncryptedData&gt; it = enc.getEncryptedDataObjects();\r\n            PGPPrivateKey sKey = null;\r\n            PGPPublicKeyEncryptedData pbe = null;\r\n            PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(new ByteArrayInputStream(secretKey.getBytes())), new JcaKeyFingerprintCalculator());\r\n\r\n            while (sKey == null &amp;&amp; it.hasNext()) {\r\n                pbe = (PGPPublicKeyEncryptedData) it.next();\r\n                sKey = findSecretKey(pgpSec, pbe.getKeyID(), passphrase.toCharArray());\r\n            }\r\n            if (sKey == null) {\r\n                log.error(&quot;Secret key for message not found.&quot;);\r\n                throw new IllegalArgumentException(&quot;secret key for message not found.&quot;);\r\n            }\r\n\r\n            InputStream clear = pbe.getDataStream(new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;).build(sKey));\r\n            JcaPGPObjectFactory plainFact = new JcaPGPObjectFactory(clear);\r\n            Object message = plainFact.nextObject();\r\n\r\n            if (message instanceof PGPCompressedData) {\r\n                PGPCompressedData cData = (PGPCompressedData) message;\r\n                JcaPGPObjectFactory pgpFact = new JcaPGPObjectFactory(cData.getDataStream());\r\n                message = pgpFact.nextObject();\r\n            }\r\n\r\n            if (message instanceof PGPLiteralData) {\r\n                PGPLiteralData ld = (PGPLiteralData) message;\r\n                content = new String(ld.getInputStream().readAllBytes(), StandardCharsets.UTF_8);\r\n            } else if (message instanceof PGPOnePassSignatureList) {\r\n                throw new PGPException(&quot;encrypted message contains a signed message - not literal data.&quot;);\r\n            } else {\r\n                throw new PGPException(&quot;message is not a simple encrypted file - type unknown.&quot;);\r\n            }\r\n\r\n            if (pbe.isIntegrityProtected()) {\r\n                if (!pbe.verify()) {\r\n                    log.error(&quot;message failed integrity check&quot;);\r\n                } else {\r\n                    log.info(&quot;message integrity check passed&quot;);\r\n                }\r\n            } else {\r\n                log.warn(&quot;no message integrity check&quot;);\r\n            }\r\n        } catch (PGPException e) {\r\n            log.error(&quot;Exception encountered while decrypting file.&quot;, e);\r\n        }\r\n        return content;\r\n    }\r\n\r\n    private static PGPPrivateKey findSecretKey(PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass) throws PGPException {\r\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n        if (pgpSecKey == null) {\r\n            return null;\r\n        }\r\n\r\n        return pgpSecKey.extractPrivateKey(new JcePBESecretKeyDecryptorBuilder().setProvider(&quot;BC&quot;).build(pass));\r\n    }\r\n\r\n    private static PGPPublicKey readPublicKey(String publicKey) throws IOException, PGPException {\r\n        InputStream input = IOUtils.toInputStream(publicKey, StandardCharsets.UTF_8);\r\n\r\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(input), new JcaKeyFingerprintCalculator());\r\n\r\n        Iterator&lt;PGPPublicKeyRing&gt; keyRingIter = pgpPub.getKeyRings();\r\n        while (keyRingIter.hasNext()) {\r\n            PGPPublicKeyRing keyRing = keyRingIter.next();\r\n\r\n            Iterator&lt;PGPPublicKey&gt; keyIter = keyRing.getPublicKeys();\r\n            while (keyIter.hasNext()) {\r\n                PGPPublicKey key = keyIter.next();\r\n\r\n                if (key.isEncryptionKey()) {\r\n                    return key;\r\n                }\r\n            }\r\n        }\r\n\r\n        throw new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n    }","title":"Bouncy Castle Java PGP encryption &amp; decryption","body":"<p>I am trying to implement PGP encryption in Java using Bouncy Castle, also using some of the examples provided by them.</p>\n<p>But if I try and decrypt the message I just encrypted, it does not work. The keys and the decryption method seem to be ok, because I can encrypt using an external tool (link) and then successfully decrypt it here.</p>\n<pre><code>    public static void main(String[] args) throws PGPException, IOException, NoSuchAlgorithmException, NoSuchProviderException, InvalidAlgorithmParameterException {\n    Security.addProvider(new BouncyCastleProvider());\n\n    byte[] msg = (&quot;Test blabla BLA&quot;).getBytes();\n\n    byte[] encData = encrypt(msg, publicKey);\n    System.out.println(new String(encData));\n\n    System.err.println(&quot;DECRYPTED&quot;);\n    System.out.println(decrypt(IOUtils.toInputStream(new String(encData), StandardCharsets.UTF_8), privateKey, passphrase));\n\n    System.err.println(&quot;DECRYPTED external&quot;);\n    String testEncryptedMsg = &quot;-----BEGIN PGP MESSAGE-----\\n&quot; +\n            &quot;Version: BCPG C# v1.6.1.0\\n&quot; +\n            &quot;\\n&quot; +\n            &quot;hQIMA4p9BgtBOg+BARAAiLdmGZBupsSkrji1qdC/y6KACuaWytcjVg3LWudWRlH8\\n&quot; +\n            &quot;Ye1U0bz+HYc6mLt21RivAZ3p+lPXPzh/h0GVLW/aI2ngJracL+iEA7eam5/H3NQV\\n&quot; +\n            &quot;2o0CR1mjw4xOf0XwDxaLrnivdeuWniXiZyFN7Ud7lmNG+EmQ0d5ZfR7KEnTJNjSe\\n&quot; +\n            &quot;FpzwRffBG5lKB4CxF49jBp+Iupdv4A5JzHuDVBkypPMNhS/UEbuPOt5cfmddYVvW\\n&quot; +\n            &quot;gtDM3rX+ePBhg7d/mVkiDT2KM0Cr7GSrdZ8q83fF4sat3Xp8OHMq61GWriNK4gwb\\n&quot; +\n            &quot;ViT/vmEsY0n55TVgN5VagMZJJlEThkqWE2wpEjq4HM8pNxR4PvP5inqP5oipn8Os\\n&quot; +\n            &quot;Nq2a5f77BS7GB9NQ+hnaLSBsywJkZVKqygN81MeHBnNrVXFQ/Hqg24BLwk49bOuH\\n&quot; +\n            &quot;jTUzorudCnjj/p8/WiyR+PuESkQDLKpo1z9KGEE/rKjTqAwH/fBKJ73XpmAWwd4U\\n&quot; +\n            &quot;1hv/EdF+XDZv7XwxeVjSIK2inAjdNz+way1WNY3qouo7G+gjKf1gbL14q2HVPnd/\\n&quot; +\n            &quot;7mfiW3uWCQ7GhXlHtd1E0WeK2296TdBuSGAvLlVxI4xepsiuVw+zC4BxvAkTXB/a\\n&quot; +\n            &quot;HyJZhKPksHMRCt8ZxitMfhdvMNGjc4MDhv1MLqKijpagKhgrmDTiJRMb3ng6QLvJ\\n&quot; +\n            &quot;L2GICyuS4aIsz6XiCQvZG8ebfb0J4uogbb5HxS2fGFT+Y/VgpCnwhwj6LnLBy1Q3\\n&quot; +\n            &quot;=D/1d\\n&quot; +\n            &quot;-----END PGP MESSAGE-----\\n&quot;;\n    System.out.println(decrypt(IOUtils.toInputStream(testEncryptedMsg, StandardCharsets.UTF_8), privateKey, passphrase));\n}\n</code></pre>\n<p>I think the problem is on the encryption side, but I cannot figure out what exactly it is. Does anyone have any ideas?</p>\n<pre><code>public static byte[] encrypt(byte[] bytes, String publicKey) throws IOException {\n\n    ByteArrayOutputStream encOut = new ByteArrayOutputStream();\n\n    try {\n        PGPEncryptedDataGenerator encGen = new PGPEncryptedDataGenerator(\n                new JcePGPDataEncryptorBuilder(PGPEncryptedData.AES_128)\n                        .setSecureRandom(new SecureRandom())\n                        .setWithIntegrityPacket(true)\n                        .setProvider(&quot;BC&quot;));\n\n        PGPPublicKey encryptionKey = readPublicKey(publicKey);\n        encGen.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(encryptionKey).setProvider(&quot;BC&quot;));\n\n        ArmoredOutputStream aOut = new ArmoredOutputStream(encOut);\n        OutputStream cOut = encGen.open(aOut, bytes.length);\n        // write out the literal data\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n        OutputStream pOut = lData.open(aOut, PGPLiteralData.UTF8, PGPLiteralData.CONSOLE, bytes.length, new Date());\n        pOut.write(bytes);\n        pOut.close();\n\n        // finish the encryption\n        cOut.close();\n        aOut.close();\n\n    } catch (PGPException e) {\n        log.error(&quot;Exception encountered while encoding data.&quot;, e);\n    }\n    return encOut.toByteArray();\n}\n\npublic static String decrypt(InputStream in, String secretKey, String passphrase) throws IOException {\n    String content = null;\n\n    try {\n        in = PGPUtil.getDecoderStream(in);\n        JcaPGPObjectFactory pgpF = new JcaPGPObjectFactory(in);\n        PGPEncryptedDataList enc;\n\n        Object o = pgpF.nextObject();\n        // the first object might be a PGP marker packet.\n        if (o instanceof PGPEncryptedDataList) {\n            enc = (PGPEncryptedDataList) o;\n        } else {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n\n        // find the secret key\n        Iterator&lt;PGPEncryptedData&gt; it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(new ByteArrayInputStream(secretKey.getBytes())), new JcaKeyFingerprintCalculator());\n\n        while (sKey == null &amp;&amp; it.hasNext()) {\n            pbe = (PGPPublicKeyEncryptedData) it.next();\n            sKey = findSecretKey(pgpSec, pbe.getKeyID(), passphrase.toCharArray());\n        }\n        if (sKey == null) {\n            log.error(&quot;Secret key for message not found.&quot;);\n            throw new IllegalArgumentException(&quot;secret key for message not found.&quot;);\n        }\n\n        InputStream clear = pbe.getDataStream(new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;).build(sKey));\n        JcaPGPObjectFactory plainFact = new JcaPGPObjectFactory(clear);\n        Object message = plainFact.nextObject();\n\n        if (message instanceof PGPCompressedData) {\n            PGPCompressedData cData = (PGPCompressedData) message;\n            JcaPGPObjectFactory pgpFact = new JcaPGPObjectFactory(cData.getDataStream());\n            message = pgpFact.nextObject();\n        }\n\n        if (message instanceof PGPLiteralData) {\n            PGPLiteralData ld = (PGPLiteralData) message;\n            content = new String(ld.getInputStream().readAllBytes(), StandardCharsets.UTF_8);\n        } else if (message instanceof PGPOnePassSignatureList) {\n            throw new PGPException(&quot;encrypted message contains a signed message - not literal data.&quot;);\n        } else {\n            throw new PGPException(&quot;message is not a simple encrypted file - type unknown.&quot;);\n        }\n\n        if (pbe.isIntegrityProtected()) {\n            if (!pbe.verify()) {\n                log.error(&quot;message failed integrity check&quot;);\n            } else {\n                log.info(&quot;message integrity check passed&quot;);\n            }\n        } else {\n            log.warn(&quot;no message integrity check&quot;);\n        }\n    } catch (PGPException e) {\n        log.error(&quot;Exception encountered while decrypting file.&quot;, e);\n    }\n    return content;\n}\n\nprivate static PGPPrivateKey findSecretKey(PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass) throws PGPException {\n    PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n    if (pgpSecKey == null) {\n        return null;\n    }\n\n    return pgpSecKey.extractPrivateKey(new JcePBESecretKeyDecryptorBuilder().setProvider(&quot;BC&quot;).build(pass));\n}\n\nprivate static PGPPublicKey readPublicKey(String publicKey) throws IOException, PGPException {\n    InputStream input = IOUtils.toInputStream(publicKey, StandardCharsets.UTF_8);\n\n    PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(input), new JcaKeyFingerprintCalculator());\n\n    Iterator&lt;PGPPublicKeyRing&gt; keyRingIter = pgpPub.getKeyRings();\n    while (keyRingIter.hasNext()) {\n        PGPPublicKeyRing keyRing = keyRingIter.next();\n\n        Iterator&lt;PGPPublicKey&gt; keyIter = keyRing.getPublicKeys();\n        while (keyIter.hasNext()) {\n            PGPPublicKey key = keyIter.next();\n\n            if (key.isEncryptionKey()) {\n                return key;\n            }\n        }\n    }\n\n    throw new IllegalArgumentException(&quot;Can't find encryption key in key ring.&quot;);\n}\n</code></pre>\n"},{"tags":["java","bouncycastle","openpgp","elgamal"],"answers":[{"tags":[],"owner":{"account_id":141815,"reputation":33481,"user_id":349112,"display_name":"tc."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361414143,"creation_date":1361414143,"answer_id":14993632,"question_id":14993223,"body_markdown":"The first [Google](https://www.google.com/search?hl=en&amp;q=elgamal+%22error+setting+asymmetric+cipher%22&amp;meta=) result is [this](http://bouncy-castle.1462172.n4.nabble.com/Illegal-key-size-or-default-parameters-exception-td1467431.html). It looks like you are trying to decrypt ElGamal data, but you are not passing in an ElGamal key.\r\n\r\nThere are two easy possibilities:\r\n\r\n* Your keyring collection has multiple keyrings.\r\n* Your keyring has subkeys.\r\n\r\nYou&#39;ve picked DSA with ElGamal encryption, so I suspect at least the latter: Subkeys are signed by the master key; ElGamal is not a signing algorithm (I don&#39;t know if DSA and ElGamal can use the same key, but it&#39;s generally seen as a good idea to use different keys for different purposes).\r\n\r\nI think you want something like this (also, `secretKeyRing` should probably be renamed to `secretKeyRingCollection`):\r\n\r\n    PGPSecretKey secretKey = secretKeyRing.getSecretKey(publicKeyEncryptedData.getKeyID());","title":"Getting GPG Decryption To Work In Java (Bouncy Castle)","body":"<p>The first <a href=\"https://www.google.com/search?hl=en&amp;q=elgamal+%22error+setting+asymmetric+cipher%22&amp;meta=\" rel=\"nofollow\">Google</a> result is <a href=\"http://bouncy-castle.1462172.n4.nabble.com/Illegal-key-size-or-default-parameters-exception-td1467431.html\" rel=\"nofollow\">this</a>. It looks like you are trying to decrypt ElGamal data, but you are not passing in an ElGamal key.</p>\n\n<p>There are two easy possibilities:</p>\n\n<ul>\n<li>Your keyring collection has multiple keyrings.</li>\n<li>Your keyring has subkeys.</li>\n</ul>\n\n<p>You've picked DSA with ElGamal encryption, so I suspect at least the latter: Subkeys are signed by the master key; ElGamal is not a signing algorithm (I don't know if DSA and ElGamal can use the same key, but it's generally seen as a good idea to use different keys for different purposes).</p>\n\n<p>I think you want something like this (also, <code>secretKeyRing</code> should probably be renamed to <code>secretKeyRingCollection</code>):</p>\n\n<pre><code>PGPSecretKey secretKey = secretKeyRing.getSecretKey(publicKeyEncryptedData.getKeyID());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159825,"reputation":1305,"user_id":379467,"accept_rate":82,"display_name":"Craig"},"down_vote_count":5,"up_vote_count":8,"is_accepted":true,"score":3,"last_activity_date":1361456059,"creation_date":1361456059,"answer_id":15004439,"question_id":14993223,"body_markdown":"I&#39;ve decided to go with a much different approach, which is to forego the use of bouncy castle altogether and simply use a runtime process instead.  For me this solution is working and completely removes the complexity surrounding bouncy castle:\r\n\r\n    String[] gpgCommands = new String[] {\r\n            &quot;gpg&quot;,\r\n            &quot;--passphrase&quot;,\r\n            &quot;password&quot;,\r\n            &quot;--decrypt&quot;,\r\n            &quot;test-files/accounts.txt.gpg&quot;\r\n    };\r\n        \r\n    Process gpgProcess = Runtime.getRuntime().exec(gpgCommands);\r\n    BufferedReader gpgOutput = new BufferedReader(new InputStreamReader(gpgProcess.getInputStream()));\r\n    BufferedReader gpgError = new BufferedReader(new InputStreamReader(gpgProcess.getErrorStream()));\r\n\r\n\r\n\r\nAfter doing that you need to remember to drain your input stream as your process is execing or your program will probably hang depending on how much you&#39;re outputing.  See my answer in this thread (and also that of Cameron Skinner and Matthew Wilson who got me on the proper path) for a bit more context: https://stackoverflow.com/questions/4367090/calling-gnupg-in-java-via-a-runtime-process-to-encrypt-and-decrypt-files-decry/15004303#15004303\r\n","title":"Getting GPG Decryption To Work In Java (Bouncy Castle)","body":"<p>I've decided to go with a much different approach, which is to forego the use of bouncy castle altogether and simply use a runtime process instead.  For me this solution is working and completely removes the complexity surrounding bouncy castle:</p>\n\n<pre><code>String[] gpgCommands = new String[] {\n        \"gpg\",\n        \"--passphrase\",\n        \"password\",\n        \"--decrypt\",\n        \"test-files/accounts.txt.gpg\"\n};\n\nProcess gpgProcess = Runtime.getRuntime().exec(gpgCommands);\nBufferedReader gpgOutput = new BufferedReader(new InputStreamReader(gpgProcess.getInputStream()));\nBufferedReader gpgError = new BufferedReader(new InputStreamReader(gpgProcess.getErrorStream()));\n</code></pre>\n\n<p>After doing that you need to remember to drain your input stream as your process is execing or your program will probably hang depending on how much you're outputing.  See my answer in this thread (and also that of Cameron Skinner and Matthew Wilson who got me on the proper path) for a bit more context: <a href=\"https://stackoverflow.com/questions/4367090/calling-gnupg-in-java-via-a-runtime-process-to-encrypt-and-decrypt-files-decry/15004303#15004303\">Calling GnuPG in Java via a Runtime Process to encrypt and decrypt files - Decrypt always hangs</a></p>\n"},{"tags":[],"owner":{"account_id":480022,"reputation":351,"user_id":893019,"display_name":"sheckoo90"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1445262823,"creation_date":1445262823,"answer_id":33216302,"question_id":14993223,"body_markdown":"If anyone is interested to know how to encrypt and decrypt gpg files using bouncy castle openPGP library, check the below java code:\r\n\r\nThe below are the 4 methods you going to need:\r\n\r\nThe below method will read and import your secret key from .asc file:\r\n\r\n    public static PGPSecretKey readSecretKeyFromCol(InputStream in, long keyId) throws IOException, PGPException {\r\n    \tin = PGPUtil.getDecoderStream(in);\r\n    \tPGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(in, new BcKeyFingerprintCalculator());\r\n    \r\n    \tPGPSecretKey key = pgpSec.getSecretKey(keyId);\r\n    \r\n    \tif (key == null) {\r\n    \t\tthrow new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n    \t}\r\n    \treturn key;\r\n    }\r\n\r\nThe below method will read and import your public key from .asc file:\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    \tpublic static PGPPublicKey readPublicKeyFromCol(InputStream in) throws IOException, PGPException {\r\n    \t\tin = PGPUtil.getDecoderStream(in);\r\n    \t\tPGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in, new BcKeyFingerprintCalculator());\r\n    \t\tPGPPublicKey key = null;\r\n    \t\tIterator rIt = pgpPub.getKeyRings();\r\n    \t\twhile (key == null &amp;&amp; rIt.hasNext()) {\r\n    \t\t\tPGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\r\n    \t\t\tIterator kIt = kRing.getPublicKeys();\r\n    \t\t\twhile (key == null &amp;&amp; kIt.hasNext()) {\r\n    \t\t\t\tPGPPublicKey k = (PGPPublicKey) kIt.next();\r\n    \t\t\t\tif (k.isEncryptionKey()) {\r\n    \t\t\t\t\tkey = k;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (key == null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n    \t\t}\r\n    \t\treturn key;\r\n    \t}\r\n\r\n\r\nThe below 2 methods to decrypt and encrypt gpg files:\r\n\r\n    public void decryptFile(InputStream in, InputStream secKeyIn, InputStream pubKeyIn, char[] pass) throws IOException, PGPException, InvalidCipherTextException {\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \r\n    \t\tPGPPublicKey pubKey = readPublicKeyFromCol(pubKeyIn);\r\n    \r\n    \t\tPGPSecretKey secKey = readSecretKeyFromCol(secKeyIn, pubKey.getKeyID());\r\n    \r\n    \t\tin = PGPUtil.getDecoderStream(in);\r\n    \r\n    \t\tJcaPGPObjectFactory pgpFact;\r\n    \r\n    \r\n    \t\tPGPObjectFactory pgpF = new PGPObjectFactory(in, new BcKeyFingerprintCalculator());\r\n    \r\n    \t\tObject o = pgpF.nextObject();\r\n    \t\tPGPEncryptedDataList encList;\r\n    \r\n    \t\tif (o instanceof PGPEncryptedDataList) {\r\n    \r\n    \t\t\tencList = (PGPEncryptedDataList) o;\r\n    \r\n    \t\t} else {\r\n    \r\n    \t\t\tencList = (PGPEncryptedDataList) pgpF.nextObject();\r\n    \r\n    \t\t}\r\n    \r\n    \t\tIterator&lt;PGPPublicKeyEncryptedData&gt; itt = encList.getEncryptedDataObjects();\r\n    \t\tPGPPrivateKey sKey = null;\r\n    \t\tPGPPublicKeyEncryptedData encP = null;\r\n    \t\twhile (sKey == null &amp;&amp; itt.hasNext()) {\r\n    \t\t\tencP = itt.next();\r\n    \t\t\tsecKey = readSecretKeyFromCol(new FileInputStream(&quot;PrivateKey.asc&quot;), encP.getKeyID());\r\n    \t\t\tsKey = secKey.extractPrivateKey(new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(pass));\r\n    \t\t}\r\n    \t\tif (sKey == null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Secret key for message not found.&quot;);\r\n    \t\t}\r\n    \r\n    \t\tInputStream clear = encP.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\r\n    \r\n    \t\tpgpFact = new JcaPGPObjectFactory(clear);\r\n    \r\n    \t\tPGPCompressedData c1 = (PGPCompressedData) pgpFact.nextObject();\r\n    \r\n    \t\tpgpFact = new JcaPGPObjectFactory(c1.getDataStream());\r\n    \r\n    \t\tPGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\r\n    \t\tByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n    \r\n    \t\tInputStream inLd = ld.getDataStream();\r\n    \t\t\r\n    \t\tint ch;\r\n    \t\twhile ((ch = inLd.read()) &gt;= 0) {\r\n    \t\t\tbOut.write(ch);\r\n    \t\t}\r\n    \r\n    \t\t//System.out.println(bOut.toString());\r\n    \r\n    \t\tbOut.writeTo(new FileOutputStream(ld.getFileName()));\r\n    \t\t//return bOut;\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void encryptFile(OutputStream out, String fileName, PGPPublicKey encKey) throws IOException, NoSuchProviderException, PGPException {\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \r\n    \t\tByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n    \t\t\r\n    \t\tPGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(PGPCompressedData.ZIP);\r\n    \t\t\r\n    \t\tPGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY, new File(fileName));\r\n    \t\t\r\n    \t\tcomData.close();\r\n    \t\t\r\n    \t\tPGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(new BcPGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.TRIPLE_DES).setSecureRandom(new SecureRandom()));\r\n    \t\t\r\n    \t\tcPk.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(encKey));\r\n    \t\t\r\n    \t\tbyte[] bytes = bOut.toByteArray();\r\n    \t\t\r\n    \t\tOutputStream cOut = cPk.open(out, bytes.length);\r\n    \t\t\r\n    \t\tcOut.write(bytes);\r\n    \t\t\r\n    \t\tcOut.close();\r\n    \t\t\r\n    \t\tout.close();\r\n    \t}\r\n\r\n\r\n\r\nNow here is how to invoke/run the above:\r\n\r\n    try {\r\n    \t\t\t decryptFile(new FileInputStream(&quot;encryptedFile.gpg&quot;), new FileInputStream(&quot;PrivateKey.asc&quot;), new FileInputStream(&quot;PublicKey.asc&quot;), &quot;yourKeyPassword&quot;.toCharArray());\r\n    \r\n    \t\t\tPGPPublicKey pubKey = readPublicKeyFromCol(new FileInputStream(&quot;PublicKey.asc&quot;));\r\n    \r\n    \t\t\tencryptFile(new FileOutputStream(&quot;encryptedFileOutput.gpg&quot;), &quot;fileToEncrypt.txt&quot;, pubKey);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\r\n    \r\n    \t\t} catch (PGPException e) {\r\n    \t\t\tfail(&quot;exception: &quot; + e.getMessage(), e.getUnderlyingException());\r\n    \t\t}","title":"Getting GPG Decryption To Work In Java (Bouncy Castle)","body":"<p>If anyone is interested to know how to encrypt and decrypt gpg files using bouncy castle openPGP library, check the below java code:</p>\n\n<p>The below are the 4 methods you going to need:</p>\n\n<p>The below method will read and import your secret key from .asc file:</p>\n\n<pre><code>public static PGPSecretKey readSecretKeyFromCol(InputStream in, long keyId) throws IOException, PGPException {\n    in = PGPUtil.getDecoderStream(in);\n    PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(in, new BcKeyFingerprintCalculator());\n\n    PGPSecretKey key = pgpSec.getSecretKey(keyId);\n\n    if (key == null) {\n        throw new IllegalArgumentException(\"Can't find encryption key in key ring.\");\n    }\n    return key;\n}\n</code></pre>\n\n<p>The below method will read and import your public key from .asc file:</p>\n\n<pre><code>@SuppressWarnings(\"rawtypes\")\n    public static PGPPublicKey readPublicKeyFromCol(InputStream in) throws IOException, PGPException {\n        in = PGPUtil.getDecoderStream(in);\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in, new BcKeyFingerprintCalculator());\n        PGPPublicKey key = null;\n        Iterator rIt = pgpPub.getKeyRings();\n        while (key == null &amp;&amp; rIt.hasNext()) {\n            PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\n            Iterator kIt = kRing.getPublicKeys();\n            while (key == null &amp;&amp; kIt.hasNext()) {\n                PGPPublicKey k = (PGPPublicKey) kIt.next();\n                if (k.isEncryptionKey()) {\n                    key = k;\n                }\n            }\n        }\n        if (key == null) {\n            throw new IllegalArgumentException(\"Can't find encryption key in key ring.\");\n        }\n        return key;\n    }\n</code></pre>\n\n<p>The below 2 methods to decrypt and encrypt gpg files:</p>\n\n<pre><code>public void decryptFile(InputStream in, InputStream secKeyIn, InputStream pubKeyIn, char[] pass) throws IOException, PGPException, InvalidCipherTextException {\n        Security.addProvider(new BouncyCastleProvider());\n\n        PGPPublicKey pubKey = readPublicKeyFromCol(pubKeyIn);\n\n        PGPSecretKey secKey = readSecretKeyFromCol(secKeyIn, pubKey.getKeyID());\n\n        in = PGPUtil.getDecoderStream(in);\n\n        JcaPGPObjectFactory pgpFact;\n\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(in, new BcKeyFingerprintCalculator());\n\n        Object o = pgpF.nextObject();\n        PGPEncryptedDataList encList;\n\n        if (o instanceof PGPEncryptedDataList) {\n\n            encList = (PGPEncryptedDataList) o;\n\n        } else {\n\n            encList = (PGPEncryptedDataList) pgpF.nextObject();\n\n        }\n\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; itt = encList.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData encP = null;\n        while (sKey == null &amp;&amp; itt.hasNext()) {\n            encP = itt.next();\n            secKey = readSecretKeyFromCol(new FileInputStream(\"PrivateKey.asc\"), encP.getKeyID());\n            sKey = secKey.extractPrivateKey(new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(pass));\n        }\n        if (sKey == null) {\n            throw new IllegalArgumentException(\"Secret key for message not found.\");\n        }\n\n        InputStream clear = encP.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\n\n        pgpFact = new JcaPGPObjectFactory(clear);\n\n        PGPCompressedData c1 = (PGPCompressedData) pgpFact.nextObject();\n\n        pgpFact = new JcaPGPObjectFactory(c1.getDataStream());\n\n        PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n\n        InputStream inLd = ld.getDataStream();\n\n        int ch;\n        while ((ch = inLd.read()) &gt;= 0) {\n            bOut.write(ch);\n        }\n\n        //System.out.println(bOut.toString());\n\n        bOut.writeTo(new FileOutputStream(ld.getFileName()));\n        //return bOut;\n\n    }\n\n    public static void encryptFile(OutputStream out, String fileName, PGPPublicKey encKey) throws IOException, NoSuchProviderException, PGPException {\n        Security.addProvider(new BouncyCastleProvider());\n\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(PGPCompressedData.ZIP);\n\n        PGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY, new File(fileName));\n\n        comData.close();\n\n        PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(new BcPGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.TRIPLE_DES).setSecureRandom(new SecureRandom()));\n\n        cPk.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(encKey));\n\n        byte[] bytes = bOut.toByteArray();\n\n        OutputStream cOut = cPk.open(out, bytes.length);\n\n        cOut.write(bytes);\n\n        cOut.close();\n\n        out.close();\n    }\n</code></pre>\n\n<p>Now here is how to invoke/run the above:</p>\n\n<pre><code>try {\n             decryptFile(new FileInputStream(\"encryptedFile.gpg\"), new FileInputStream(\"PrivateKey.asc\"), new FileInputStream(\"PublicKey.asc\"), \"yourKeyPassword\".toCharArray());\n\n            PGPPublicKey pubKey = readPublicKeyFromCol(new FileInputStream(\"PublicKey.asc\"));\n\n            encryptFile(new FileOutputStream(\"encryptedFileOutput.gpg\"), \"fileToEncrypt.txt\", pubKey);\n\n\n\n\n        } catch (PGPException e) {\n            fail(\"exception: \" + e.getMessage(), e.getUnderlyingException());\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10228564,"reputation":570,"user_id":7550201,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486821002,"creation_date":1486821002,"answer_id":42176622,"question_id":14993223,"body_markdown":"To any one looking for an alternative solution, see https://stackoverflow.com/a/42176529/7550201\r\n\r\n    final InputStream plaintextStream = BouncyGPG\r\n               .decryptAndVerifyStream()\r\n               .withConfig(keyringConfig)\r\n               .andRequireSignatureFromAllKeys(&quot;sender@example.com&quot;)\r\n               .fromEncryptedInputStream(cipherTextStream)\r\n\r\n\r\nLong story short: Bouncycastle is programming is often a lot of [cargo cult programming][1] and I wrote a library to change that.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cargo_cult_programming","title":"Getting GPG Decryption To Work In Java (Bouncy Castle)","body":"<p>To any one looking for an alternative solution, see <a href=\"https://stackoverflow.com/a/42176529/7550201\">https://stackoverflow.com/a/42176529/7550201</a></p>\n\n<pre><code>final InputStream plaintextStream = BouncyGPG\n           .decryptAndVerifyStream()\n           .withConfig(keyringConfig)\n           .andRequireSignatureFromAllKeys(\"sender@example.com\")\n           .fromEncryptedInputStream(cipherTextStream)\n</code></pre>\n\n<p>Long story short: Bouncycastle is programming is often a lot of <a href=\"https://en.wikipedia.org/wiki/Cargo_cult_programming\" rel=\"nofollow noreferrer\">cargo cult programming</a> and I wrote a library to change that.</p>\n"},{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1592587887,"creation_date":1585928839,"answer_id":61015592,"question_id":14993223,"body_markdown":"The error message is difficult because it&#39;s not completely accurate.  Besides the illegal key size or default parameters the exception doesn&#39;t says it could be failing because of crypto permission check fails.  That means you haven&#39;t setup the JCE permissions properly.  You&#39;ll need to install the [JCE Unlimited Strength Policy][1].\r\n\r\nYou can see the debug messages by setting the system property on the jvm \r\n\r\n    java -Djava.security.debug=access ....\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-jce8-downloads.html","title":"Getting GPG Decryption To Work In Java (Bouncy Castle)","body":"<p>The error message is difficult because it's not completely accurate.  Besides the illegal key size or default parameters the exception doesn't says it could be failing because of crypto permission check fails.  That means you haven't setup the JCE permissions properly.  You'll need to install the <a href=\"https://www.oracle.com/java/technologies/javase-jce8-downloads.html\" rel=\"nofollow noreferrer\">JCE Unlimited Strength Policy</a>.</p>\n\n<p>You can see the debug messages by setting the system property on the jvm </p>\n\n<pre><code>java -Djava.security.debug=access ....\n</code></pre>\n"}],"owner":{"account_id":159825,"reputation":1305,"user_id":379467,"accept_rate":82,"display_name":"Craig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35911,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":15004439,"answer_count":5,"score":18,"last_activity_date":1642276468,"creation_date":1361410997,"question_id":14993223,"body_markdown":"let me start by saying I&#39;m extremely new to all of this.  What I am trying to do is to use gpg from within Java in order to decrypt an encrypted file.\r\n\r\nWhat I&#39;ve done successfully:\r\n\r\n- Had a colleague encrypt a file using my public key and his private key and successfully decrypted it.\r\n\r\n- Went the other way\r\n\r\n- Had another colleague try to decrypt a file that wasn&#39;t for him: fail (as expected)\r\n\r\n\r\nMy key was generated like this...\r\n\r\n(gpg --version tells me I&#39;m using 1.4.5 and I&#39;m using Bouncy Castle 1.47)\r\n\r\ngpg --gen-ley\r\n\r\nSelect option &quot;DSA and Elgamal (default)&quot;\r\n\r\nFill in the other fields and generate a key.\r\n\r\nThe file was encrypted using my public key and another&#39;s secret key.  I want to decrypt it.  I&#39;ve written the following Java code to accomplish this.  I&#39;m using several deprecated methods, but I can&#39;t figure out how to properly implement the factory methods required to use the non-deprecated versions, so if anyone has an idea on implementations of those that I should be using that would be a nice bonus.\r\n\r\n\r\n    \r\n        \r\n    \r\n\r\n        Security.addProvider(new BouncyCastleProvider());\r\n            \r\n            PGPSecretKeyRingCollection secretKeyRing = new PGPSecretKeyRingCollection(new FileInputStream(new File(&quot;test-files/secring.gpg&quot;)));\r\n            PGPSecretKeyRing pgpSecretKeyRing = (PGPSecretKeyRing) secretKeyRing.getKeyRings().next();\r\n            PGPSecretKey secretKey = pgpSecretKeyRing.getSecretKey();\r\n            PGPPrivateKey privateKey = secretKey.extractPrivateKey(&quot;mypassword&quot;.toCharArray(), &quot;BC&quot;);\r\n            \r\n            System.out.println(privateKey.getKey().getAlgorithm());\r\n            System.out.println(privateKey.getKey().getFormat());\r\n            \r\n            PGPObjectFactory pgpF = new PGPObjectFactory(\r\n        new FileInputStream(new File(&quot;test-files/test-file.txt.gpg&quot;)));\r\n            Object pgpObj = pgpF.nextObject();\r\n            PGPEncryptedDataList encryptedDataList = (PGPEncryptedDataList) pgpObj;\r\n            \r\n            Iterator objectsIterator = encryptedDataList.getEncryptedDataObjects();\r\n            \r\n            PGPPublicKeyEncryptedData publicKeyEncryptedData = (PGPPublicKeyEncryptedData) objectsIterator.next();\r\n            InputStream inputStream = publicKeyEncryptedData.getDataStream(privateKey, &quot;BC&quot;);\r\n\r\n\r\nSo when I run this code I learn that my algorithm and format are as follows for my secret key:\r\n\r\nAlgorithm: DSA\r\nFormat: PKCS#8\r\n\r\nAnd then it breaks on the last line:\r\n\r\n    Exception in thread &quot;main&quot; org.bouncycastle.openpgp.PGPException: error setting asymmetric cipher\r\n\tat org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder.decryptSessionData(Unknown Source)\r\n\tat org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder.access$000(Unknown Source)\r\n\tat org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder$2.recoverSessionData(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPPublicKeyEncryptedData.getDataStream(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPPublicKeyEncryptedData.getDataStream(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPPublicKeyEncryptedData.getDataStream(Unknown Source)\r\n\tat org.bouncycastle.openpgp.PGPPublicKeyEncryptedData.getDataStream(Unknown Source)\r\n\tat TestBouncyCastle.main(TestBouncyCastle.java:74)\r\nCaused by: java.security.InvalidKeyException: unknown key type passed to ElGamal\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.elgamal.CipherSpi.engineInit(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.asymmetric.elgamal.CipherSpi.engineInit(Unknown Source)\r\n\tat javax.crypto.Cipher.init(DashoA13*..)\r\n\tat javax.crypto.Cipher.init(DashoA13*..)\r\n\t... 8 more\r\n\r\n\r\nI&#39;m open to a lot of suggestions here, from &quot;don&#39;t use gpg, use x instead&quot; to &quot;don&#39;t use bouncy castle, use x instead&quot; to anything in between.  Thanks!","title":"Getting GPG Decryption To Work In Java (Bouncy Castle)","body":"<p>let me start by saying I'm extremely new to all of this.  What I am trying to do is to use gpg from within Java in order to decrypt an encrypted file.</p>\n\n<p>What I've done successfully:</p>\n\n<ul>\n<li><p>Had a colleague encrypt a file using my public key and his private key and successfully decrypted it.</p></li>\n<li><p>Went the other way</p></li>\n<li><p>Had another colleague try to decrypt a file that wasn't for him: fail (as expected)</p></li>\n</ul>\n\n<p>My key was generated like this...</p>\n\n<p>(gpg --version tells me I'm using 1.4.5 and I'm using Bouncy Castle 1.47)</p>\n\n<p>gpg --gen-ley</p>\n\n<p>Select option \"DSA and Elgamal (default)\"</p>\n\n<p>Fill in the other fields and generate a key.</p>\n\n<p>The file was encrypted using my public key and another's secret key.  I want to decrypt it.  I've written the following Java code to accomplish this.  I'm using several deprecated methods, but I can't figure out how to properly implement the factory methods required to use the non-deprecated versions, so if anyone has an idea on implementations of those that I should be using that would be a nice bonus.</p>\n\n<pre><code>    Security.addProvider(new BouncyCastleProvider());\n\n        PGPSecretKeyRingCollection secretKeyRing = new PGPSecretKeyRingCollection(new FileInputStream(new File(\"test-files/secring.gpg\")));\n        PGPSecretKeyRing pgpSecretKeyRing = (PGPSecretKeyRing) secretKeyRing.getKeyRings().next();\n        PGPSecretKey secretKey = pgpSecretKeyRing.getSecretKey();\n        PGPPrivateKey privateKey = secretKey.extractPrivateKey(\"mypassword\".toCharArray(), \"BC\");\n\n        System.out.println(privateKey.getKey().getAlgorithm());\n        System.out.println(privateKey.getKey().getFormat());\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(\n    new FileInputStream(new File(\"test-files/test-file.txt.gpg\")));\n        Object pgpObj = pgpF.nextObject();\n        PGPEncryptedDataList encryptedDataList = (PGPEncryptedDataList) pgpObj;\n\n        Iterator objectsIterator = encryptedDataList.getEncryptedDataObjects();\n\n        PGPPublicKeyEncryptedData publicKeyEncryptedData = (PGPPublicKeyEncryptedData) objectsIterator.next();\n        InputStream inputStream = publicKeyEncryptedData.getDataStream(privateKey, \"BC\");\n</code></pre>\n\n<p>So when I run this code I learn that my algorithm and format are as follows for my secret key:</p>\n\n<p>Algorithm: DSA\nFormat: PKCS#8</p>\n\n<p>And then it breaks on the last line:</p>\n\n<pre><code>Exception in thread \"main\" org.bouncycastle.openpgp.PGPException: error setting asymmetric cipher\nat org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder.decryptSessionData(Unknown Source)\nat org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder.access$000(Unknown Source)\nat org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder$2.recoverSessionData(Unknown Source)\nat org.bouncycastle.openpgp.PGPPublicKeyEncryptedData.getDataStream(Unknown Source)\nat org.bouncycastle.openpgp.PGPPublicKeyEncryptedData.getDataStream(Unknown Source)\nat org.bouncycastle.openpgp.PGPPublicKeyEncryptedData.getDataStream(Unknown Source)\nat org.bouncycastle.openpgp.PGPPublicKeyEncryptedData.getDataStream(Unknown Source)\nat TestBouncyCastle.main(TestBouncyCastle.java:74)\n</code></pre>\n\n<p>Caused by: java.security.InvalidKeyException: unknown key type passed to ElGamal\n    at org.bouncycastle.jcajce.provider.asymmetric.elgamal.CipherSpi.engineInit(Unknown Source)\n    at org.bouncycastle.jcajce.provider.asymmetric.elgamal.CipherSpi.engineInit(Unknown Source)\n    at javax.crypto.Cipher.init(DashoA13*..)\n    at javax.crypto.Cipher.init(DashoA13*..)\n    ... 8 more</p>\n\n<p>I'm open to a lot of suggestions here, from \"don't use gpg, use x instead\" to \"don't use bouncy castle, use x instead\" to anything in between.  Thanks!</p>\n"},{"tags":["java","encryption","bouncycastle","sign","pgp"],"comments":[{"owner":{"account_id":6521960,"reputation":172,"user_id":5045911,"display_name":"Prashant Jeet Singh"},"score":0,"creation_date":1547924726,"post_id":19173181,"comment_id":95363774,"body_markdown":"did you found any solution?","body":"did you found any solution?"}],"answers":[{"tags":[],"owner":{"account_id":3296835,"reputation":416,"user_id":2773910,"display_name":"Stephen B."},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1383459727,"creation_date":1383459727,"answer_id":19750393,"question_id":19173181,"body_markdown":"I was recently trying to do the same kind of thing and put together this method based on code I found in the Bouncycastle examples and on tutorials I found on the web. For my purposes, my code has a singleton crypto object that has a public/private key pair. In the example code, you could replace\r\n    \r\n        INSTANCE._secretKeyRingCollection.getSecretKey(pbe.getKeyID());\r\n\r\nwith your secret key. I&#39;ve tested this method with a long-lived process that did several tens of encrypt &amp; sign / decrypt &amp; verify actions and didn&#39;t get the exception you&#39;re seeing.\r\n\r\n    public static void decryptAndVerify(InputStream in, OutputStream fOut, InputStream publicKeyIn) throws IOException, SignatureException, PGPException {\r\n        in = PGPUtil.getDecoderStream(in);\r\n\r\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n        PGPEncryptedDataList enc;\r\n\r\n        Object o = pgpF.nextObject();\r\n        //\r\n        // the first object might be a PGP marker packet.\r\n        //\r\n        if (o instanceof PGPEncryptedDataList) {\r\n            enc = (PGPEncryptedDataList) o;\r\n        } else {\r\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n        }\r\n\r\n        //\r\n        // find the secret key\r\n        //\r\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\r\n        PGPPrivateKey sKey = null;\r\n        PGPPublicKeyEncryptedData pbe = null;\r\n        while (sKey == null &amp;&amp; it.hasNext()) {\r\n            pbe = it.next();\r\n            PBESecretKeyDecryptor decryptor = new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(INSTANCE._secretKeyPass.toCharArray());\r\n            PGPSecretKey psKey = INSTANCE._secretKeyRingCollection.getSecretKey(pbe.getKeyID());\r\n            if (psKey != null) {\r\n                sKey = psKey.extractPrivateKey(decryptor);\r\n            }\r\n        }\r\n        if (sKey == null) {\r\n            throw new IllegalArgumentException(&quot;Unable to find secret key to decrypt the message&quot;);\r\n        }\r\n\r\n        InputStream clear = pbe.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\r\n\r\n        PGPObjectFactory plainFact = new PGPObjectFactory(clear);\r\n\r\n        Object message;\r\n\r\n        PGPOnePassSignatureList onePassSignatureList = null;\r\n        PGPSignatureList signatureList = null;\r\n        PGPCompressedData compressedData;\r\n\r\n        message = plainFact.nextObject();\r\n        ByteArrayOutputStream actualOutput = new ByteArrayOutputStream();\r\n\r\n        while (message != null) {\r\n            __l.trace(message.toString());\r\n            if (message instanceof PGPCompressedData) {\r\n                compressedData = (PGPCompressedData) message;\r\n                plainFact = new PGPObjectFactory(compressedData.getDataStream());\r\n                message = plainFact.nextObject();\r\n            }\r\n\r\n            if (message instanceof PGPLiteralData) {\r\n                // have to read it and keep it somewhere.\r\n                Streams.pipeAll(((PGPLiteralData) message).getInputStream(), actualOutput);\r\n            } else if (message instanceof PGPOnePassSignatureList) {\r\n                onePassSignatureList = (PGPOnePassSignatureList) message;\r\n            } else if (message instanceof PGPSignatureList) {\r\n                signatureList = (PGPSignatureList) message;\r\n            } else {\r\n                throw new PGPException(&quot;message unknown message type.&quot;);\r\n            }\r\n            message = plainFact.nextObject();\r\n        }\r\n        actualOutput.close();\r\n        PGPPublicKey publicKey = null;\r\n        byte[] output = actualOutput.toByteArray();\r\n        if (onePassSignatureList == null || signatureList == null) {\r\n            throw new PGPException(&quot;Poor PGP. Signatures not found.&quot;);\r\n        } else {\r\n\r\n            for (int i = 0; i &lt; onePassSignatureList.size(); i++) {\r\n                PGPOnePassSignature ops = onePassSignatureList.get(0);\r\n                __l.trace(&quot;verifier : &quot; + ops.getKeyID());\r\n                PGPPublicKeyRingCollection pgpRing = new PGPPublicKeyRingCollection(\r\n                        PGPUtil.getDecoderStream(publicKeyIn));\r\n                publicKey = pgpRing.getPublicKey(ops.getKeyID());\r\n                if (publicKey != null) {\r\n                    ops.init(new JcaPGPContentVerifierBuilderProvider().setProvider(&quot;BC&quot;), publicKey);\r\n                    ops.update(output);\r\n                    PGPSignature signature = signatureList.get(i);\r\n                    if (ops.verify(signature)) {\r\n                        Iterator&lt;?&gt; userIds = publicKey.getUserIDs();\r\n                        while (userIds.hasNext()) {\r\n                            String userId = (String) userIds.next();\r\n                            __l.trace(String.format(&quot;Signed by {%s}&quot;, userId));\r\n                        }\r\n                        __l.trace(&quot;Signature verified&quot;);\r\n                    } else {\r\n                        throw new SignatureException(&quot;Signature verification failed&quot;);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        if (pbe.isIntegrityProtected() &amp;&amp; !pbe.verify()) {\r\n            throw new PGPException(&quot;Data is integrity protected but integrity is lost.&quot;);\r\n        } else if (publicKey == null) {\r\n            throw new SignatureException(&quot;Signature not found&quot;);\r\n        } else {\r\n            fOut.write(output);\r\n            fOut.flush();\r\n            fOut.close();\r\n        }\r\n    }","title":"Bouncycastle PGP decrypt and verify","body":"<p>I was recently trying to do the same kind of thing and put together this method based on code I found in the Bouncycastle examples and on tutorials I found on the web. For my purposes, my code has a singleton crypto object that has a public/private key pair. In the example code, you could replace</p>\n\n<pre><code>    INSTANCE._secretKeyRingCollection.getSecretKey(pbe.getKeyID());\n</code></pre>\n\n<p>with your secret key. I've tested this method with a long-lived process that did several tens of encrypt &amp; sign / decrypt &amp; verify actions and didn't get the exception you're seeing.</p>\n\n<pre><code>public static void decryptAndVerify(InputStream in, OutputStream fOut, InputStream publicKeyIn) throws IOException, SignatureException, PGPException {\n    in = PGPUtil.getDecoderStream(in);\n\n    PGPObjectFactory pgpF = new PGPObjectFactory(in);\n    PGPEncryptedDataList enc;\n\n    Object o = pgpF.nextObject();\n    //\n    // the first object might be a PGP marker packet.\n    //\n    if (o instanceof PGPEncryptedDataList) {\n        enc = (PGPEncryptedDataList) o;\n    } else {\n        enc = (PGPEncryptedDataList) pgpF.nextObject();\n    }\n\n    //\n    // find the secret key\n    //\n    Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();\n    PGPPrivateKey sKey = null;\n    PGPPublicKeyEncryptedData pbe = null;\n    while (sKey == null &amp;&amp; it.hasNext()) {\n        pbe = it.next();\n        PBESecretKeyDecryptor decryptor = new BcPBESecretKeyDecryptorBuilder(new BcPGPDigestCalculatorProvider()).build(INSTANCE._secretKeyPass.toCharArray());\n        PGPSecretKey psKey = INSTANCE._secretKeyRingCollection.getSecretKey(pbe.getKeyID());\n        if (psKey != null) {\n            sKey = psKey.extractPrivateKey(decryptor);\n        }\n    }\n    if (sKey == null) {\n        throw new IllegalArgumentException(\"Unable to find secret key to decrypt the message\");\n    }\n\n    InputStream clear = pbe.getDataStream(new BcPublicKeyDataDecryptorFactory(sKey));\n\n    PGPObjectFactory plainFact = new PGPObjectFactory(clear);\n\n    Object message;\n\n    PGPOnePassSignatureList onePassSignatureList = null;\n    PGPSignatureList signatureList = null;\n    PGPCompressedData compressedData;\n\n    message = plainFact.nextObject();\n    ByteArrayOutputStream actualOutput = new ByteArrayOutputStream();\n\n    while (message != null) {\n        __l.trace(message.toString());\n        if (message instanceof PGPCompressedData) {\n            compressedData = (PGPCompressedData) message;\n            plainFact = new PGPObjectFactory(compressedData.getDataStream());\n            message = plainFact.nextObject();\n        }\n\n        if (message instanceof PGPLiteralData) {\n            // have to read it and keep it somewhere.\n            Streams.pipeAll(((PGPLiteralData) message).getInputStream(), actualOutput);\n        } else if (message instanceof PGPOnePassSignatureList) {\n            onePassSignatureList = (PGPOnePassSignatureList) message;\n        } else if (message instanceof PGPSignatureList) {\n            signatureList = (PGPSignatureList) message;\n        } else {\n            throw new PGPException(\"message unknown message type.\");\n        }\n        message = plainFact.nextObject();\n    }\n    actualOutput.close();\n    PGPPublicKey publicKey = null;\n    byte[] output = actualOutput.toByteArray();\n    if (onePassSignatureList == null || signatureList == null) {\n        throw new PGPException(\"Poor PGP. Signatures not found.\");\n    } else {\n\n        for (int i = 0; i &lt; onePassSignatureList.size(); i++) {\n            PGPOnePassSignature ops = onePassSignatureList.get(0);\n            __l.trace(\"verifier : \" + ops.getKeyID());\n            PGPPublicKeyRingCollection pgpRing = new PGPPublicKeyRingCollection(\n                    PGPUtil.getDecoderStream(publicKeyIn));\n            publicKey = pgpRing.getPublicKey(ops.getKeyID());\n            if (publicKey != null) {\n                ops.init(new JcaPGPContentVerifierBuilderProvider().setProvider(\"BC\"), publicKey);\n                ops.update(output);\n                PGPSignature signature = signatureList.get(i);\n                if (ops.verify(signature)) {\n                    Iterator&lt;?&gt; userIds = publicKey.getUserIDs();\n                    while (userIds.hasNext()) {\n                        String userId = (String) userIds.next();\n                        __l.trace(String.format(\"Signed by {%s}\", userId));\n                    }\n                    __l.trace(\"Signature verified\");\n                } else {\n                    throw new SignatureException(\"Signature verification failed\");\n                }\n            }\n        }\n\n    }\n\n    if (pbe.isIntegrityProtected() &amp;&amp; !pbe.verify()) {\n        throw new PGPException(\"Data is integrity protected but integrity is lost.\");\n    } else if (publicKey == null) {\n        throw new SignatureException(\"Signature not found\");\n    } else {\n        fOut.write(output);\n        fOut.flush();\n        fOut.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1710454,"reputation":186,"user_id":1568638,"display_name":"Michael Kanis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472484214,"creation_date":1472484214,"answer_id":39209793,"question_id":19173181,"body_markdown":"You are calling:\r\n\r\n    encryptedDataGenerator.open(out, 4096)\r\n\r\nwhere you probably meant:\r\n\r\n    encryptedDataGenerator.open(out, new byte[4096])\r\n\r\nThe first version is giving a size to open (which is wrong), the second version is giving a byte buffer.\r\n\r\n(I know this is old, but came here because I had the same problem with some example code and so might others)","title":"Bouncycastle PGP decrypt and verify","body":"<p>You are calling:</p>\n\n<pre><code>encryptedDataGenerator.open(out, 4096)\n</code></pre>\n\n<p>where you probably meant:</p>\n\n<pre><code>encryptedDataGenerator.open(out, new byte[4096])\n</code></pre>\n\n<p>The first version is giving a size to open (which is wrong), the second version is giving a byte buffer.</p>\n\n<p>(I know this is old, but came here because I had the same problem with some example code and so might others)</p>\n"},{"tags":[],"owner":{"account_id":10228564,"reputation":570,"user_id":7550201,"display_name":"Jens"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1486820450,"creation_date":1486820450,"answer_id":42176529,"question_id":19173181,"body_markdown":"Getting Bouncy Castle to play along is not always easy. Code-snipets from Stackoverflow make it _work just so_, but they are mostly arcane pieces of code that none of the users really understand.\r\n\r\nThe problem with this is: **In a production system _copy&#39;n&#39;paste snippets_ quickly become &quot;no go&quot; and &quot;do not touch&quot; areas.**\r\n\r\nShelling out executables can have some serious  security implications, least of all is handling command line parameters (talking about filenames with spaces ... how do I know? Don&#39;t ask ...)\r\n\r\nI had all of these (and more..) problems, and after some yak shaving I wrote a library to handle PGP with Bouncycastle.\r\n\r\nDecrypting works like this:\r\n\r\n    final InputStream plaintextStream = BouncyGPG\r\n                   .decryptAndVerifyStream()\r\n                   .withConfig(keyringConfig)\r\n                   .andRequireSignatureFromAllKeys(&quot;sender@example.com&quot;)\r\n                   .fromEncryptedInputStream(cipherTextStream)\r\n\r\nThe library can be found at https://github.com/neuhalje/bouncy-gpg :\r\n\r\n    // in build.gradle add a dependency to bouncy castle and bouncy-gpg\r\n    //  ...\r\n    dependencies {\r\n        compile &#39;org.bouncycastle:bcprov-jdk15on:1.56&#39;\r\n        compile &#39;org.bouncycastle:bcpg-jdk15on:1.56&#39;\r\n        //  ...\r\n        compile &#39;name.neuhalfen.projects.crypto.bouncycastle.openpgp:bouncy-gpg:2.+&#39;\r\n\r\n","title":"Bouncycastle PGP decrypt and verify","body":"<p>Getting Bouncy Castle to play along is not always easy. Code-snipets from Stackoverflow make it <em>work just so</em>, but they are mostly arcane pieces of code that none of the users really understand.</p>\n\n<p>The problem with this is: <strong>In a production system <em>copy'n'paste snippets</em> quickly become \"no go\" and \"do not touch\" areas.</strong></p>\n\n<p>Shelling out executables can have some serious  security implications, least of all is handling command line parameters (talking about filenames with spaces ... how do I know? Don't ask ...)</p>\n\n<p>I had all of these (and more..) problems, and after some yak shaving I wrote a library to handle PGP with Bouncycastle.</p>\n\n<p>Decrypting works like this:</p>\n\n<pre><code>final InputStream plaintextStream = BouncyGPG\n               .decryptAndVerifyStream()\n               .withConfig(keyringConfig)\n               .andRequireSignatureFromAllKeys(\"sender@example.com\")\n               .fromEncryptedInputStream(cipherTextStream)\n</code></pre>\n\n<p>The library can be found at <a href=\"https://github.com/neuhalje/bouncy-gpg\" rel=\"noreferrer\">https://github.com/neuhalje/bouncy-gpg</a> :</p>\n\n<pre><code>// in build.gradle add a dependency to bouncy castle and bouncy-gpg\n//  ...\ndependencies {\n    compile 'org.bouncycastle:bcprov-jdk15on:1.56'\n    compile 'org.bouncycastle:bcpg-jdk15on:1.56'\n    //  ...\n    compile 'name.neuhalfen.projects.crypto.bouncycastle.openpgp:bouncy-gpg:2.+'\n</code></pre>\n"}],"owner":{"account_id":2133507,"reputation":283,"user_id":1893781,"accept_rate":75,"display_name":"Ramo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35807,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1642276449,"creation_date":1380860515,"question_id":19173181,"body_markdown":"I&#39;m trying to decrypt and verify a PGP message using the java BouncyCastle libraries, but am running into issues, complaining about premature ends of PartialInputStream.\r\n\r\nI know the encrypt works fine, because I can decrypt and verify messages created with the encrypt function using gpg on the command line. \r\n\r\nHere&#39;s the code:\r\n\r\n    public static void signEncryptMessage(InputStream in, OutputStream out, PGPPublicKey publicKey, PGPPrivateKey secretKey, SecureRandom rand) throws Exception {\r\n    \t\tout = new ArmoredOutputStream(out);\r\n    \r\n    \t\tPGPEncryptedDataGenerator encryptedDataGenerator = new PGPEncryptedDataGenerator(new BcPGPDataEncryptorBuilder(PGPEncryptedData.AES_256).setWithIntegrityPacket(true).setSecureRandom(rand));\r\n    \t\tencryptedDataGenerator.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(publicKey));\r\n    \r\n    \t\tOutputStream compressedOut = new PGPCompressedDataGenerator(PGPCompressedData.ZIP).open(encryptedDataGenerator.open(out, 4096), new byte[4096]);\r\n    \r\n    \t\tPGPSignatureGenerator signatureGenerator = new PGPSignatureGenerator(new BcPGPContentSignerBuilder(publicKey.getAlgorithm(), HashAlgorithmTags.SHA512));\r\n    \t\tsignatureGenerator.init(PGPSignature.BINARY_DOCUMENT, secretKey);\r\n    \t\tsignatureGenerator.generateOnePassVersion(true).encode(compressedOut);\r\n    \r\n    \t\tOutputStream finalOut = new PGPLiteralDataGenerator().open(compressedOut, PGPLiteralData.BINARY, &quot;&quot;, new Date(), new byte[4096]);\r\n    \r\n    \t\tbyte[] buf = new byte[4096];\r\n    \t\tint len;\r\n    \t\twhile ((len = in.read(buf)) &gt; 0) {\r\n    \t\t\tfinalOut.write(buf, 0, len);\r\n    \t\t\tsignatureGenerator.update(buf, 0, len);\r\n    \t\t}\r\n    \r\n    \t\tfinalOut.close();\r\n    \t\tin.close();\r\n    \t\tsignatureGenerator.generate().encode(compressedOut);\r\n    \t\tcompressedOut.close();\r\n    \t\tencryptedDataGenerator.close();\r\n    \t\tout.close();\r\n    \t}\r\n    \r\n    \tpublic static void decryptVerifyMessage(InputStream in, OutputStream out, PGPPrivateKey secretKey, PGPPublicKey publicKey) throws Exception {\r\n    \t\tin = new ArmoredInputStream(in);\r\n    \r\n    \t\tPGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n    \t\tPGPEncryptedDataList enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n    \r\n    \t\tPGPObjectFactory plainFact = new PGPObjectFactory(((PGPPublicKeyEncryptedData) enc.getEncryptedDataObjects().next()).getDataStream(new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;).build(secretKey)));\r\n    \r\n    \t\tObject message = null;\r\n    \t\t\r\n    \t\tPGPOnePassSignatureList onePassSignatureList = null;\r\n    \t\tPGPSignatureList signatureList = null;\r\n    \t\tPGPCompressedData compressedData = null;\r\n    \r\n    \t\tmessage = plainFact.nextObject();\r\n    \t\tByteArrayOutputStream actualOutput = new ByteArrayOutputStream();\r\n    \r\n    \t\twhile (message != null) {\r\n    \t\t\tSystem.out.println(message.toString());\r\n    \t\t\tif (message instanceof PGPCompressedData) {\r\n    \t\t\t\tcompressedData = (PGPCompressedData) message;\r\n    \t\t\t\tplainFact = new PGPObjectFactory(compressedData.getDataStream());\r\n    \t\t\t\tmessage = plainFact.nextObject();\r\n    \t\t\t\tSystem.out.println(message.toString());\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (message instanceof PGPLiteralData) {\r\n    \t\t\t\tStreams.pipeAll(((PGPLiteralData) message).getInputStream(), actualOutput);\r\n    \t\t\t} else if (message instanceof PGPOnePassSignatureList) {\r\n    \t\t\t\tonePassSignatureList = (PGPOnePassSignatureList) message;\r\n    \t\t\t} else if (message instanceof PGPSignatureList) {\r\n    \t\t\t\tsignatureList = (PGPSignatureList) message;\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new PGPException(&quot;message unknown message type.&quot;);\r\n    \t\t\t}\r\n    \t\t\tmessage = plainFact.nextObject();\r\n    \t\t}\r\n    \t\tactualOutput.close();\r\n    \t\tbyte[] output = actualOutput.toByteArray();\r\n    \t\tif (onePassSignatureList == null || signatureList == null) {\r\n    \t\t\tthrow new PGPException(&quot;Poor PGP. Signatures not found.&quot;);\r\n    \t\t} else {\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; onePassSignatureList.size(); i++) {\r\n    \t\t\t\tPGPOnePassSignature ops = onePassSignatureList.get(0);\r\n    \t\t\t\tSystem.out.println(&quot;verifier : &quot; + ops.getKeyID());\r\n    \t\t\t\tif (publicKey != null) {\r\n    \t\t\t\t\tops.init(new JcaPGPContentVerifierBuilderProvider().setProvider(&quot;BC&quot;), publicKey);\r\n    \t\t\t\t\tops.update(output);\r\n    \t\t\t\t\tPGPSignature signature = signatureList.get(i);\r\n    \t\t\t\t\tif (ops.verify(signature)) {\r\n    \t\t\t\t\t\tIterator&lt;?&gt; userIds = publicKey.getUserIDs();\r\n    \t\t\t\t\t\twhile (userIds.hasNext()) {\r\n    \t\t\t\t\t\t\tString userId = (String) userIds.next();\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Signed by &quot; + userId);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Signature verified&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tthrow new SignatureException(&quot;Signature verification failed&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\tout.write(output);\r\n    \t\tout.flush();\r\n    \t\tout.close();\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tSecurity.insertProviderAt(new BouncyCastleProvider(), 0);\r\n    \t\tbyte inBytes[] = &quot;The quick brown fox jumps over the lazy dog.&quot;.getBytes();\r\n    \r\n    \t\ttry {\r\n    \t\t\tSecureRandom rand = new SecureRandom();\r\n    \r\n    \t\t\tRSAKeyPairGenerator kpg = new RSAKeyPairGenerator();\r\n    \t\t\tkpg.init(new RSAKeyGenerationParameters(BigInteger.valueOf(0x10001), rand, 1024, 90));\r\n    \r\n    \t\t\tBcPGPKeyPair sender = new BcPGPKeyPair(PGPPublicKey.RSA_GENERAL, kpg.generateKeyPair(), new Date());\r\n    \t\t\tBcPGPKeyPair recip = new BcPGPKeyPair(PGPPublicKey.RSA_GENERAL, kpg.generateKeyPair(), new Date());\r\n    \r\n    \t\t\tByteArrayOutputStream sendMessage = new ByteArrayOutputStream();\r\n    \t\t\tByteArrayOutputStream recvMessage = new ByteArrayOutputStream();\r\n    \t\t\tsignEncryptMessage(new ByteArrayInputStream(inBytes), sendMessage, recip.getPublicKey(), sender.getPrivateKey(), rand);\r\n    \t\t\r\n    \t\t\tSystem.out.println(sendMessage.toString());\r\n    \r\n    \t\t\tdecryptVerifyMessage(new ByteArrayInputStream(sendMessage.toByteArray()), recvMessage, recip.getPrivateKey(), sender.getPublicKey());\r\n    \r\n    \t\t\tSystem.out.println(recvMessage.toString());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        }\r\n\r\nAfter a few runs of `message = plainFact.nextObject();` the exception is thrown: \r\n\r\n    -----BEGIN PGP MESSAGE-----\r\n    Version: BCPG v1.49\r\n    \r\n    hIwDbgERMnl/xpUBA/98O/by9Ib6/nzXiYWuwT2CYulTqzcY07iuHKB4KQc6m+H1\r\n    ZBVAx+HozgxQXQdQcBTcp+YS7Xn3tsReiH28Z9805f65tmASoqrzdf35qiVgFhfA\r\n    CbCfIq7cqC4rKut3Y8pNOs1mmhpeVNa+AqTZ1r46uyuloBTllI8OWzWoxjTcZdLP\r\n    aQHe2BQnfYk+dFgXZ2LMBMtL9mcsEqRLWIdisJQ4gppyIbQNNE7q5gV1Es63yVoM\r\n    3dpfYHxlnIZASuynSZyGorHpYMV6tWNwSRQ9Ziwaw4DwvQGyAHpb1O/tLqrfjLqN\r\n    5dj5qNY6nElT1EM94Dd4FOBzI6x6JkfuCH3/Jp8lCA/p8K7jmYu9Xvdld8BgHmRF\r\n    ymasPf1JC4xYFa9YQVnn4fK2l//2iVcVayv0On32kxD9XfkPUysYVH38glPaHb48\r\n    qWk9i/x0Y3mmCy1RVAGWqimR5DEhZPubJ+Kjk3UsB1m90Pm/6a+/ZfpAEHcxshdX\r\n    JeVBr7aQIX3PQIUl+ZPQsgAGEmo0abQVufuKfkfjX0Gh\r\n    =ApMf\r\n    -----END PGP MESSAGE-----\r\n    \r\n    org.bouncycastle.openpgp.PGPCompressedData@cd36a6d\r\n    org.bouncycastle.openpgp.PGPOnePassSignatureList@7e224235\r\n    org.bouncycastle.openpgp.PGPLiteralData@7b28e644\r\n    java.io.EOFException: premature end of stream in PartialInputStream\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream$PartialInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\r\n    \tat java.io.InputStream.read(InputStream.java:101)\r\n    \tat javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:103)\r\n    \tat javax.crypto.CipherInputStream.read(CipherInputStream.java:177)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.openpgp.PGPEncryptedData$TruncatedStream.read(Unknown Source)\r\n    \tat java.io.InputStream.read(InputStream.java:170)\r\n    \tat org.bouncycastle.util.io.TeeInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream$PartialInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.openpgp.PGPCompressedData$1.fill(Unknown Source)\r\n    \tat java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream$PartialInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\r\n    \tat org.bouncycastle.util.io.Streams.readFully(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.readFully(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.readFully(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.MPInteger.&lt;init&gt;(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.SignaturePacket.&lt;init&gt;(Unknown Source)\r\n    \tat org.bouncycastle.bcpg.BCPGInputStream.readPacket(Unknown Source)\r\n    \tat org.bouncycastle.openpgp.PGPSignature.&lt;init&gt;(Unknown Source)\r\n    \tat org.bouncycastle.openpgp.PGPObjectFactory.nextObject(Unknown Source)\r\n    \tat main.decryptVerifyMessage(main.java:113)\r\n    \tat main.main(main.java:167)\r\n\r\nAny ideas?\r\n\r\nSide note, this decryption code came from https://stackoverflow.com/questions/6827725/how-to-decrypt-a-signed-pgp-encrypted-file, slightly modified to suit: Messages will only be coming from that encryption method, and handling of the keys directly instead of key streams.\r\n\r\nCheers\r\n\r\nRamo","title":"Bouncycastle PGP decrypt and verify","body":"<p>I'm trying to decrypt and verify a PGP message using the java BouncyCastle libraries, but am running into issues, complaining about premature ends of PartialInputStream.</p>\n\n<p>I know the encrypt works fine, because I can decrypt and verify messages created with the encrypt function using gpg on the command line. </p>\n\n<p>Here's the code:</p>\n\n<pre><code>public static void signEncryptMessage(InputStream in, OutputStream out, PGPPublicKey publicKey, PGPPrivateKey secretKey, SecureRandom rand) throws Exception {\n        out = new ArmoredOutputStream(out);\n\n        PGPEncryptedDataGenerator encryptedDataGenerator = new PGPEncryptedDataGenerator(new BcPGPDataEncryptorBuilder(PGPEncryptedData.AES_256).setWithIntegrityPacket(true).setSecureRandom(rand));\n        encryptedDataGenerator.addMethod(new BcPublicKeyKeyEncryptionMethodGenerator(publicKey));\n\n        OutputStream compressedOut = new PGPCompressedDataGenerator(PGPCompressedData.ZIP).open(encryptedDataGenerator.open(out, 4096), new byte[4096]);\n\n        PGPSignatureGenerator signatureGenerator = new PGPSignatureGenerator(new BcPGPContentSignerBuilder(publicKey.getAlgorithm(), HashAlgorithmTags.SHA512));\n        signatureGenerator.init(PGPSignature.BINARY_DOCUMENT, secretKey);\n        signatureGenerator.generateOnePassVersion(true).encode(compressedOut);\n\n        OutputStream finalOut = new PGPLiteralDataGenerator().open(compressedOut, PGPLiteralData.BINARY, \"\", new Date(), new byte[4096]);\n\n        byte[] buf = new byte[4096];\n        int len;\n        while ((len = in.read(buf)) &gt; 0) {\n            finalOut.write(buf, 0, len);\n            signatureGenerator.update(buf, 0, len);\n        }\n\n        finalOut.close();\n        in.close();\n        signatureGenerator.generate().encode(compressedOut);\n        compressedOut.close();\n        encryptedDataGenerator.close();\n        out.close();\n    }\n\n    public static void decryptVerifyMessage(InputStream in, OutputStream out, PGPPrivateKey secretKey, PGPPublicKey publicKey) throws Exception {\n        in = new ArmoredInputStream(in);\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList enc = (PGPEncryptedDataList) pgpF.nextObject();\n\n        PGPObjectFactory plainFact = new PGPObjectFactory(((PGPPublicKeyEncryptedData) enc.getEncryptedDataObjects().next()).getDataStream(new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(\"BC\").build(secretKey)));\n\n        Object message = null;\n\n        PGPOnePassSignatureList onePassSignatureList = null;\n        PGPSignatureList signatureList = null;\n        PGPCompressedData compressedData = null;\n\n        message = plainFact.nextObject();\n        ByteArrayOutputStream actualOutput = new ByteArrayOutputStream();\n\n        while (message != null) {\n            System.out.println(message.toString());\n            if (message instanceof PGPCompressedData) {\n                compressedData = (PGPCompressedData) message;\n                plainFact = new PGPObjectFactory(compressedData.getDataStream());\n                message = plainFact.nextObject();\n                System.out.println(message.toString());\n            }\n\n            if (message instanceof PGPLiteralData) {\n                Streams.pipeAll(((PGPLiteralData) message).getInputStream(), actualOutput);\n            } else if (message instanceof PGPOnePassSignatureList) {\n                onePassSignatureList = (PGPOnePassSignatureList) message;\n            } else if (message instanceof PGPSignatureList) {\n                signatureList = (PGPSignatureList) message;\n            } else {\n                throw new PGPException(\"message unknown message type.\");\n            }\n            message = plainFact.nextObject();\n        }\n        actualOutput.close();\n        byte[] output = actualOutput.toByteArray();\n        if (onePassSignatureList == null || signatureList == null) {\n            throw new PGPException(\"Poor PGP. Signatures not found.\");\n        } else {\n\n            for (int i = 0; i &lt; onePassSignatureList.size(); i++) {\n                PGPOnePassSignature ops = onePassSignatureList.get(0);\n                System.out.println(\"verifier : \" + ops.getKeyID());\n                if (publicKey != null) {\n                    ops.init(new JcaPGPContentVerifierBuilderProvider().setProvider(\"BC\"), publicKey);\n                    ops.update(output);\n                    PGPSignature signature = signatureList.get(i);\n                    if (ops.verify(signature)) {\n                        Iterator&lt;?&gt; userIds = publicKey.getUserIDs();\n                        while (userIds.hasNext()) {\n                            String userId = (String) userIds.next();\n                            System.out.println(\"Signed by \" + userId);\n                        }\n                        System.out.println(\"Signature verified\");\n                    } else {\n                        throw new SignatureException(\"Signature verification failed\");\n                    }\n                }\n            }\n\n        }\n\n        out.write(output);\n        out.flush();\n        out.close();\n    }\n\n    public static void main(String args[]) {\n        Security.insertProviderAt(new BouncyCastleProvider(), 0);\n        byte inBytes[] = \"The quick brown fox jumps over the lazy dog.\".getBytes();\n\n        try {\n            SecureRandom rand = new SecureRandom();\n\n            RSAKeyPairGenerator kpg = new RSAKeyPairGenerator();\n            kpg.init(new RSAKeyGenerationParameters(BigInteger.valueOf(0x10001), rand, 1024, 90));\n\n            BcPGPKeyPair sender = new BcPGPKeyPair(PGPPublicKey.RSA_GENERAL, kpg.generateKeyPair(), new Date());\n            BcPGPKeyPair recip = new BcPGPKeyPair(PGPPublicKey.RSA_GENERAL, kpg.generateKeyPair(), new Date());\n\n            ByteArrayOutputStream sendMessage = new ByteArrayOutputStream();\n            ByteArrayOutputStream recvMessage = new ByteArrayOutputStream();\n            signEncryptMessage(new ByteArrayInputStream(inBytes), sendMessage, recip.getPublicKey(), sender.getPrivateKey(), rand);\n\n            System.out.println(sendMessage.toString());\n\n            decryptVerifyMessage(new ByteArrayInputStream(sendMessage.toByteArray()), recvMessage, recip.getPrivateKey(), sender.getPublicKey());\n\n            System.out.println(recvMessage.toString());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>After a few runs of <code>message = plainFact.nextObject();</code> the exception is thrown: </p>\n\n<pre><code>-----BEGIN PGP MESSAGE-----\nVersion: BCPG v1.49\n\nhIwDbgERMnl/xpUBA/98O/by9Ib6/nzXiYWuwT2CYulTqzcY07iuHKB4KQc6m+H1\nZBVAx+HozgxQXQdQcBTcp+YS7Xn3tsReiH28Z9805f65tmASoqrzdf35qiVgFhfA\nCbCfIq7cqC4rKut3Y8pNOs1mmhpeVNa+AqTZ1r46uyuloBTllI8OWzWoxjTcZdLP\naQHe2BQnfYk+dFgXZ2LMBMtL9mcsEqRLWIdisJQ4gppyIbQNNE7q5gV1Es63yVoM\n3dpfYHxlnIZASuynSZyGorHpYMV6tWNwSRQ9Ziwaw4DwvQGyAHpb1O/tLqrfjLqN\n5dj5qNY6nElT1EM94Dd4FOBzI6x6JkfuCH3/Jp8lCA/p8K7jmYu9Xvdld8BgHmRF\nymasPf1JC4xYFa9YQVnn4fK2l//2iVcVayv0On32kxD9XfkPUysYVH38glPaHb48\nqWk9i/x0Y3mmCy1RVAGWqimR5DEhZPubJ+Kjk3UsB1m90Pm/6a+/ZfpAEHcxshdX\nJeVBr7aQIX3PQIUl+ZPQsgAGEmo0abQVufuKfkfjX0Gh\n=ApMf\n-----END PGP MESSAGE-----\n\norg.bouncycastle.openpgp.PGPCompressedData@cd36a6d\norg.bouncycastle.openpgp.PGPOnePassSignatureList@7e224235\norg.bouncycastle.openpgp.PGPLiteralData@7b28e644\njava.io.EOFException: premature end of stream in PartialInputStream\n    at org.bouncycastle.bcpg.BCPGInputStream$PartialInputStream.read(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\n    at java.io.InputStream.read(InputStream.java:101)\n    at javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:103)\n    at javax.crypto.CipherInputStream.read(CipherInputStream.java:177)\n    at org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\n    at org.bouncycastle.openpgp.PGPEncryptedData$TruncatedStream.read(Unknown Source)\n    at java.io.InputStream.read(InputStream.java:170)\n    at org.bouncycastle.util.io.TeeInputStream.read(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream$PartialInputStream.read(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\n    at org.bouncycastle.openpgp.PGPCompressedData$1.fill(Unknown Source)\n    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\n    at org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream$PartialInputStream.read(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream.read(Unknown Source)\n    at org.bouncycastle.util.io.Streams.readFully(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream.readFully(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream.readFully(Unknown Source)\n    at org.bouncycastle.bcpg.MPInteger.&lt;init&gt;(Unknown Source)\n    at org.bouncycastle.bcpg.SignaturePacket.&lt;init&gt;(Unknown Source)\n    at org.bouncycastle.bcpg.BCPGInputStream.readPacket(Unknown Source)\n    at org.bouncycastle.openpgp.PGPSignature.&lt;init&gt;(Unknown Source)\n    at org.bouncycastle.openpgp.PGPObjectFactory.nextObject(Unknown Source)\n    at main.decryptVerifyMessage(main.java:113)\n    at main.main(main.java:167)\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>Side note, this decryption code came from <a href=\"https://stackoverflow.com/questions/6827725/how-to-decrypt-a-signed-pgp-encrypted-file\">How to decrypt a signed pgp encrypted file?</a>, slightly modified to suit: Messages will only be coming from that encryption method, and handling of the keys directly instead of key streams.</p>\n\n<p>Cheers</p>\n\n<p>Ramo</p>\n"},{"tags":["java","loops","if-statement","java.util.scanner","infinite-loop"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1642260898,"post_id":70722862,"comment_id":125026020,"body_markdown":"After `nextInt` you have to call `nextLine` to consume the dangling &quot;enter&quot; key press","body":"After <code>nextInt</code> you have to call <code>nextLine</code> to consume the dangling &quot;enter&quot; key press"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1642261050,"post_id":70722862,"comment_id":125026056,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1642262033,"post_id":70722862,"comment_id":125026355,"body_markdown":"The problem is more likely that you call `sc1.close();` which closes `System.in`, making reading further input from `System.in` impossible.","body":"The problem is more likely that you call <code>sc1.close();</code> which closes <code>System.in</code>, making reading further input from <code>System.in</code> impossible."},{"owner":{"account_id":23949467,"reputation":1,"user_id":17941313,"display_name":"IvMovchanets"},"score":0,"creation_date":1642262333,"post_id":70722862,"comment_id":125026439,"body_markdown":"@ThomasKl&#228;ger, for begin im trying this construction whith one Scanner (iniciate it before loops and close after all loops), but got the same result.","body":"@ThomasKl&#228;ger, for begin im trying this construction whith one Scanner (iniciate it before loops and close after all loops), but got the same result."},{"owner":{"account_id":23949467,"reputation":1,"user_id":17941313,"display_name":"IvMovchanets"},"score":0,"creation_date":1642262439,"post_id":70722862,"comment_id":125026471,"body_markdown":"@SilvioMayolo nope( i try few combinations - but didnt helps(","body":"@SilvioMayolo nope( i try few combinations - but didnt helps("},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1642262998,"post_id":70722862,"comment_id":125026624,"body_markdown":"This is the next problem: if `sc1.hasNextInt()` returns false the scanner has read something that is not an int. To make progress you need to skip this something in your `else` clauses by calling `sc1.next();` (before or after writing the error message).","body":"This is the next problem: if <code>sc1.hasNextInt()</code> returns false the scanner has read something that is not an int. To make progress you need to skip this something in your <code>else</code> clauses by calling <code>sc1.next();</code> (before or after writing the error message)."},{"owner":{"account_id":23949467,"reputation":1,"user_id":17941313,"display_name":"IvMovchanets"},"score":0,"creation_date":1642277339,"post_id":70722862,"comment_id":125029949,"body_markdown":"@Thomas Kl&#228;ger, thank you! 2 days  thinking about this problem, already everything works. Your mission for today ended, one happy man in Lithuania) good luck.","body":"@Thomas Kl&#228;ger, thank you! 2 days  thinking about this problem, already everything works. Your mission for today ended, one happy man in Lithuania) good luck."}],"answers":[{"tags":[],"owner":{"account_id":23949467,"reputation":1,"user_id":17941313,"display_name":"IvMovchanets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642275886,"creation_date":1642275886,"answer_id":70724842,"question_id":70722862,"body_markdown":"Thank you - @Thomas Kl&#228;ger. I change code like was at the begin (with only one Scanner, cose with 3 scanners it&#39;s didn&#39;t work) and add to all else statements reader for this &quot;ghost element which loop my code&quot;.\r\n\r\n```\r\n        boolean num1IsInt = false;\r\n        boolean num2IsInt = false;\r\n        boolean num3IsInt = false;\r\n        int scaicius1 = 0;\r\n        int scaicius2 = 0;\r\n        int scaicius3 = 0;\r\n\r\n        System.out.println(&quot;veskite 3 skaiiai, po viena after each press enter&quot;);\r\n        **Scanner sc = new Scanner(System.in);**\r\n\r\n        while (!num1IsInt) { //check first number is int\r\n            System.out.println(&quot;(1)veskyte pirmas skaicius&quot;);\r\n            if (sc.hasNextInt()) {\r\n                scaicius1 = sc.nextInt();\r\n                num1IsInt = true;\r\n            } else {\r\n                System.out.println(&quot;Not correct integer&quot;);\r\n                **sc.next();**\r\n            }\r\n        }\r\n\r\n        while (!num2IsInt) { //check second number is int\r\n            System.out.println(&quot;(2)veskyte antras skaicius&quot;);\r\n            if (sc.hasNextInt()) {\r\n                scaicius2 = sc.nextInt();\r\n                num2IsInt = true;\r\n            } else {\r\n                System.out.println(&quot;Not correct integer&quot;);\r\n                sc.next();\r\n            }\r\n        }\r\n\r\n        while (!num3IsInt) { //check third number is int\r\n            System.out.println(&quot;(3)veskyte trecias skaicius&quot;);\r\n            if (sc.hasNextInt()) {\r\n                scaicius3 = sc.nextInt();\r\n                num3IsInt = true;\r\n            } else {\r\n                System.out.println(&quot;Not correct integer&quot;);\r\n                sc.next();\r\n            }\r\n        }\r\n        sc.close();\r\n\r\n        System.out.println(&quot;First number = &quot; + scaicius1);\r\n        System.out.println(&quot;First number = &quot; + scaicius2);\r\n        System.out.println(&quot;First number = &quot; + scaicius3);","title":"Scanner method .hasNextInt() and if statement - works only 1 time. For next loop - automatically (didn&#39;t wait any input) gives false","body":"<p>Thank you - @Thomas Klger. I change code like was at the begin (with only one Scanner, cose with 3 scanners it's didn't work) and add to all else statements reader for this &quot;ghost element which loop my code&quot;.</p>\n<pre><code>        boolean num1IsInt = false;\n        boolean num2IsInt = false;\n        boolean num3IsInt = false;\n        int scaicius1 = 0;\n        int scaicius2 = 0;\n        int scaicius3 = 0;\n\n        System.out.println(&quot;veskite 3 skaiiai, po viena after each press enter&quot;);\n        **Scanner sc = new Scanner(System.in);**\n\n        while (!num1IsInt) { //check first number is int\n            System.out.println(&quot;(1)veskyte pirmas skaicius&quot;);\n            if (sc.hasNextInt()) {\n                scaicius1 = sc.nextInt();\n                num1IsInt = true;\n            } else {\n                System.out.println(&quot;Not correct integer&quot;);\n                **sc.next();**\n            }\n        }\n\n        while (!num2IsInt) { //check second number is int\n            System.out.println(&quot;(2)veskyte antras skaicius&quot;);\n            if (sc.hasNextInt()) {\n                scaicius2 = sc.nextInt();\n                num2IsInt = true;\n            } else {\n                System.out.println(&quot;Not correct integer&quot;);\n                sc.next();\n            }\n        }\n\n        while (!num3IsInt) { //check third number is int\n            System.out.println(&quot;(3)veskyte trecias skaicius&quot;);\n            if (sc.hasNextInt()) {\n                scaicius3 = sc.nextInt();\n                num3IsInt = true;\n            } else {\n                System.out.println(&quot;Not correct integer&quot;);\n                sc.next();\n            }\n        }\n        sc.close();\n\n        System.out.println(&quot;First number = &quot; + scaicius1);\n        System.out.println(&quot;First number = &quot; + scaicius2);\n        System.out.println(&quot;First number = &quot; + scaicius3);\n</code></pre>\n"}],"owner":{"account_id":23949467,"reputation":1,"user_id":17941313,"display_name":"IvMovchanets"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70724842,"answer_count":1,"score":0,"last_activity_date":1642275886,"creation_date":1642260853,"question_id":70722862,"body_markdown":"I tried to do an input check (need to take 3 numbers using Scanner).\r\nBefore that, I used a similar method (`.hasNext(int)`) in another task - everything worked fine. In this case, it doesn&#39;t work.\r\nThe first &quot;while&quot; loop works correctly, on the second loop `.hasNextInt()` returns false and loops the loop - not giving the opportunity to enter data.\r\n\r\n```     \r\nboolean num1IsInt = false;\r\nboolean num2IsInt = false;\r\nboolean num3IsInt = false;\r\nint scaicius1 = 0;\r\nint scaicius2 = 0;\r\nint scaicius3 = 0;\r\n\r\nSystem.out.println(&quot;veskite 3 skaiiai, po viena after each press enter&quot;);\r\n\r\nwhile (!num1IsInt) { //check first number is int\r\n    Scanner sc1 = new Scanner(System.in);\r\n    System.out.println(&quot;(1)veskyte pirmas skaicius&quot;);\r\n    if (sc1.hasNextInt()) {\r\n        scaicius1 = sc1.nextInt();\r\n        num1IsInt = true;\r\n    } else {\r\n        System.out.println(&quot;Not correct integer&quot;);\r\n        continue;\r\n    }\r\n    sc1.close();\r\n}\r\n\r\nwhile (!num2IsInt) { //check second number is int\r\n    Scanner sc2 = new Scanner(System.in);\r\n    System.out.println(&quot;(2)veskyte antras skaicius&quot;);\r\n    if (sc2.hasNextInt()) {\r\n        scaicius2 = sc2.nextInt();\r\n        num2IsInt = true;\r\n    } else {\r\n        System.out.println(&quot;Not correct integer&quot;);\r\n        continue;\r\n    }\r\n    sc2.close();\r\n}\r\n\r\nwhile (!num3IsInt) { //check third number is int\r\n    Scanner sc3 = new Scanner(System.in);\r\n    System.out.println(&quot;(3)veskyte trecias skaicius&quot;);\r\n    if (sc3.hasNextInt()) {\r\n        scaicius3 = sc3.nextInt();\r\n        num3IsInt = true;\r\n        sc3.close();\r\n    } else {\r\n        System.out.println(&quot;Not correct integer&quot;);\r\n\r\n        continue;\r\n    }\r\n    sc3.close();\r\n}\r\n\r\nSystem.out.println(&quot;First number = &quot; + scaicius1);\r\nSystem.out.println(&quot;First number = &quot; + scaicius2);\r\nSystem.out.println(&quot;First number = &quot; + scaicius3);\r\n```","title":"Scanner method .hasNextInt() and if statement - works only 1 time. For next loop - automatically (didn&#39;t wait any input) gives false","body":"<p>I tried to do an input check (need to take 3 numbers using Scanner).\nBefore that, I used a similar method (<code>.hasNext(int)</code>) in another task - everything worked fine. In this case, it doesn't work.\nThe first &quot;while&quot; loop works correctly, on the second loop <code>.hasNextInt()</code> returns false and loops the loop - not giving the opportunity to enter data.</p>\n<pre><code>boolean num1IsInt = false;\nboolean num2IsInt = false;\nboolean num3IsInt = false;\nint scaicius1 = 0;\nint scaicius2 = 0;\nint scaicius3 = 0;\n\nSystem.out.println(&quot;veskite 3 skaiiai, po viena after each press enter&quot;);\n\nwhile (!num1IsInt) { //check first number is int\n    Scanner sc1 = new Scanner(System.in);\n    System.out.println(&quot;(1)veskyte pirmas skaicius&quot;);\n    if (sc1.hasNextInt()) {\n        scaicius1 = sc1.nextInt();\n        num1IsInt = true;\n    } else {\n        System.out.println(&quot;Not correct integer&quot;);\n        continue;\n    }\n    sc1.close();\n}\n\nwhile (!num2IsInt) { //check second number is int\n    Scanner sc2 = new Scanner(System.in);\n    System.out.println(&quot;(2)veskyte antras skaicius&quot;);\n    if (sc2.hasNextInt()) {\n        scaicius2 = sc2.nextInt();\n        num2IsInt = true;\n    } else {\n        System.out.println(&quot;Not correct integer&quot;);\n        continue;\n    }\n    sc2.close();\n}\n\nwhile (!num3IsInt) { //check third number is int\n    Scanner sc3 = new Scanner(System.in);\n    System.out.println(&quot;(3)veskyte trecias skaicius&quot;);\n    if (sc3.hasNextInt()) {\n        scaicius3 = sc3.nextInt();\n        num3IsInt = true;\n        sc3.close();\n    } else {\n        System.out.println(&quot;Not correct integer&quot;);\n\n        continue;\n    }\n    sc3.close();\n}\n\nSystem.out.println(&quot;First number = &quot; + scaicius1);\nSystem.out.println(&quot;First number = &quot; + scaicius2);\nSystem.out.println(&quot;First number = &quot; + scaicius3);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8315,"page":1677,"page_size":100}
